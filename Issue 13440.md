# Issue 13440: Error when creating ideal from unhashable elements

Issue created by migration from https://trac.sagemath.org/ticket/13644

Original creator: saraedum

Original creation time: 2012-10-22 18:58:47

Assignee: robertwb

CC:  roed

Currently, the following does not work because some padic extension elements do not define a hash function (see #11895 for why they do not define a hash function):

```
sage: K = Qp(3)
sage: R.<a> = K[]
sage: L.<a> = K.extension(a^2-3)
sage: L.ideal(a)
TypeError: unhashable type: 'sage.rings.padics.padic_ZZ_pX_CR_element.pAdicZZpXCRElement'
```


The problem is that `has_coerce_map_from` is looking for a coercion from `a` to `L`. There is none, since `a` is not a parent. The attached patch fixes this.


---

Attachment


---

Comment by saraedum created at 2014-06-25 20:18:45

Changing status from new to needs_review.


---

Comment by saraedum created at 2014-06-25 20:18:45

Changing keywords from "" to "sd59".


---

Comment by saraedum created at 2014-06-25 20:20:10

CCed roed since this is essentially a ticket about padics.
----
New commits:


---

Comment by saraedum created at 2014-06-25 20:20:10

Changing keywords from "sd59" to "sd59 padics".


---

Comment by git created at 2014-06-28 21:52:33

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by vbraun created at 2014-09-25 13:34:59

lgtm


---

Comment by vbraun created at 2014-09-25 13:34:59

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2014-09-27 12:57:05

Resolution: fixed
