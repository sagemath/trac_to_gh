# Issue 18038: subtraction fails for cartesian products of rings

Issue created by migration from https://trac.sagemath.org/ticket/18275

Original creator: vdelecroix

Original creation time: 2015-04-22 12:27:56

CC:  nthiery


```
sage: C = GF(5).cartesian_product(GF(5))
sage: C.one() - C.one()
... BOOOOM (infinite recursion) ...
```

The reason is that there is no default implementation of `_sub_` in `ElementMethods` of `Rings` (whereas there is one in `sage.structure.element.RingElement`).


---

Comment by vdelecroix created at 2015-04-22 12:37:47

New commits:


---

Comment by vdelecroix created at 2015-04-22 12:37:47

Changing status from new to needs_review.


---

Comment by jmantysalo created at 2015-04-22 13:06:40

Seems to be OK. If you want to modify something, maybe add a phrase like "By default `a-b` is defined just as a sum of `a` and the negation of `b`."


---

Comment by jmantysalo created at 2015-04-22 13:06:40

Changing status from needs_review to positive_review.


---

Comment by vdelecroix created at 2015-04-22 13:09:56

Replying to [comment:2 jmantysalo]:
> Seems to be OK. If you want to modify something, maybe add a phrase like "By default `a-b` is defined just as a sum of `a` and the negation of `b`."

I do not especially want to modify something ;-) Actually this is what is in `sage.structure.element.RingElement`. But not all ring elements inherit from it. Hence the failure.


---

Comment by jmantysalo created at 2015-04-22 13:18:17

Yep, so the real problem behind this specific error is that there is no `.direct_product(...)` for rings (like at least groups have). But I think that (default) definition A-B := A+(-B) is always the right thing to do.


---

Comment by vbraun created at 2015-04-23 03:21:53

Resolution: fixed
