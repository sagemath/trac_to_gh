# Issue 26199: Force input of affine permutation groups to be elements of ZZ

Issue created by migration from Trac.

Original creator: tscrim

Original creation time: 2018-10-09 04:12:00

When given user input, we should also enforce that every element belongs to `ZZ`. Otherwise, this can lead to subtle problems:

```
sage: A = AffinePermutationGroup(['A',3,1])
sage: p = A([-3/1,2/1,3/1,8/1])
sage: p
Type A affine permutation with window [-3, 2, 3, 8]
sage: q
Type A affine permutation with window [5, 2, 3, 0]
sage: q = ~p
sage: q * p
Type A affine permutation with window [1, 3, 5, 7]
```

contrast with

```
sage: p = A([-3,2,3,8])
sage: q = ~p
sage: q
Type A affine permutation with window [5, 2, 3, 0]
sage: q * p
Type A affine permutation with window [1, 2, 3, 4]
```



---

Comment by tscrim created at 2018-10-09 04:52:02

Changing status from new to needs_review.


---

Comment by tscrim created at 2018-10-09 04:52:02

I also went through and brought most of the file up to our doc and PEP8 standards (I might have missed a few places).
----
New commits:


---

Comment by andrew.mathas created at 2018-10-09 05:34:56

Assuming that the patchbot is happy, this looks good to me.


---

Comment by andrew.mathas created at 2018-10-09 05:34:56

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2018-10-09 06:15:29

Thank you.


---

Comment by vbraun created at 2018-10-20 11:58:08

Resolution: fixed


---

Comment by embray created at 2018-10-28 14:52:23

This should be re-targeted for 8.5.
