# Issue 27876: List of completely split primes is incomplete

Issue created by migration from https://trac.sagemath.org/ticket/28113

Original creator: ehlen

Original creation time: 2019-07-04 11:53:19

CC:  mderickx slelievre mwest

Keywords: number fields, splitting of primes

For number fields, the method `completely_split_primes` may be incomplete.

## Example

```python
  K.<a> = QuadraticField(17)
  K.completely_split_primes(20)
  [13, 19]
```


However,

```python
  K.<a> = QuadraticField(17)
  K.ideal(2).factor()
  (Fractional ideal (-1/2*a - 3/2)) * (Fractional ideal (-1/2*a + 3/2))
```


The reason is that the factorization of the defining polynomial mod p does 
not always give the correct answer.
It does in all but finitely many cases, the exception being primes that divide
the index of ZZ[a] in the ring of integers of K.

A possible solution would be to use the function 
`K.ideal(p).factor()` and determine the length
of the splitting (at least for those finitely many primes
in case we can easily determine those primes).


---

Comment by embray created at 2019-12-30 14:48:17

Ticket retargeted after milestone closed


---

Comment by mkoeppe created at 2020-05-01 04:28:42

Moving tickets to milestone sage-9.2 based on a review of last modification date, branch status, and severity.


---

Comment by mkoeppe created at 2021-05-10 17:42:09

Moving to 9.4, as 9.3 has been released.


---

Comment by slelievre created at 2021-12-07 14:55:01

Reported again at #32982. The example there
might serve as a doctest here.


---

Comment by dimpase created at 2022-03-31 11:50:05

CC-ing the code author
