# Issue 20918: implement Muzychuk's "prolific" constructions of strongly regular graphs

archive/issues_020918.json:
```json
{
    "body": "CC:  rschrecker @videlec\n\nCurrently one of few missing SRGs from A.E.Brouwer's database of SRGs is one with parameters (378,116,34,36), due to M.Muzychuk, construction S6 from \"A generalization of Wallis-Fon-Der-Flaass construction of strongly regular graphs.\" J. Algebr. Comb. 25(2), 169\u2013187 (2007).\n\nMost of the work is already done by Rowan Schrecker, and just needs to be merged, see https://github.com/rschrecker/MuzychukProject\n\nIssue created by migration from https://trac.sagemath.org/ticket/21155\n\n",
    "created_at": "2016-08-03T12:04:14Z",
    "labels": [
        "component: graph theory"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.5",
    "title": "implement Muzychuk's \"prolific\" constructions of strongly regular graphs",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20918",
    "user": "https://github.com/dimpase"
}
```
CC:  rschrecker @videlec

Currently one of few missing SRGs from A.E.Brouwer's database of SRGs is one with parameters (378,116,34,36), due to M.Muzychuk, construction S6 from "A generalization of Wallis-Fon-Der-Flaass construction of strongly regular graphs." J. Algebr. Comb. 25(2), 169â€“187 (2007).

Most of the work is already done by Rowan Schrecker, and just needs to be merged, see https://github.com/rschrecker/MuzychukProject

Issue created by migration from https://trac.sagemath.org/ticket/21155





---

archive/issue_events_056439.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2016-08-08T16:53:39Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20918",
    "milestone": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20918#event-56439"
}
```



---

archive/issue_comments_288863.json:
```json
{
    "body": "still needs some minor cleanup and more tests --- but works already\n----\nNew commits:",
    "created_at": "2016-10-07T00:02:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20918#issuecomment-288863",
    "user": "https://github.com/dimpase"
}
```

still needs some minor cleanup and more tests --- but works already
----
New commits:



---

archive/issue_comments_288864.json:
```json
{
    "body": "I had to chase and fix a bug in `MuzychukS6Graph`, which constructed wrong graph if the input, i.e. (n,d) were Python `int` rather than Sage `ZZ` type. (Division is differently behaving if you divide two ints in Python2...)",
    "created_at": "2016-10-07T08:26:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20918#issuecomment-288864",
    "user": "https://github.com/dimpase"
}
```

I had to chase and fix a bug in `MuzychukS6Graph`, which constructed wrong graph if the input, i.e. (n,d) were Python `int` rather than Sage `ZZ` type. (Division is differently behaving if you divide two ints in Python2...)



---

archive/issue_comments_288865.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-10-07T15:44:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20918#issuecomment-288865",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_288866.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-10-07T15:48:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20918#issuecomment-288866",
    "user": "https://github.com/dimpase"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_288867.json:
```json
{
    "body": "Hello,\n\nclearly I don't understand your code, but I have simple remarks.\n\n\n```\n    for x in range(m):\n        L_i[x] = [edge for edge in L.edges(labels=False) if x in edge]\n```\n\nshould be \n\n```\n    for x in range(m):\n        L_i[x] = L.edges_incident(x, labels=False)\n```\n\n\nThen for this block\n\n```\n+    for C in ParClasses:\n+        EC = matrix(QQ, v)\n+        for i in range(v):\n+            for j in range(v):\n+                for line in C:\n+                    if i in line and j in line:\n+                        EC[i, j] = 1/k\n```\n\nWhy not using this instead. I assume that `line` is a pair.\n\n```\n+    for C in ParClasses:\n+        EC = matrix(QQ, v)\n+        for line in C:\n+            EC[i, j] = E[j, i] = 1/k\n```\n\n\n* `[i, j] = line` -> `i,j = line`",
    "created_at": "2016-10-07T19:45:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20918#issuecomment-288867",
    "user": "https://github.com/dcoudert"
}
```

Hello,

clearly I don't understand your code, but I have simple remarks.


```
    for x in range(m):
        L_i[x] = [edge for edge in L.edges(labels=False) if x in edge]
```

should be 

```
    for x in range(m):
        L_i[x] = L.edges_incident(x, labels=False)
```


Then for this block

```
+    for C in ParClasses:
+        EC = matrix(QQ, v)
+        for i in range(v):
+            for j in range(v):
+                for line in C:
+                    if i in line and j in line:
+                        EC[i, j] = 1/k
```

Why not using this instead. I assume that `line` is a pair.

```
+    for C in ParClasses:
+        EC = matrix(QQ, v)
+        for line in C:
+            EC[i, j] = E[j, i] = 1/k
```


* `[i, j] = line` -> `i,j = line`



---

archive/issue_comments_288868.json:
```json
{
    "body": "Replying to [comment:6 dcoudert]:\n> Hello,\n> \n> clearly I don't understand your code, but I have simple remarks.\n> \n> {{{\n>     for x in range(m):\n>         L_i[x] = [edge for edge in L.edges(labels=False) if x in edge]\n> }}}\n> should be \n> {{{\n>     for x in range(m):\n>         L_i[x] = L.edges_incident(x, labels=False)\n> }}}\n\nright, thanks for pointing this out.\n\n> \n> Then for this block\n> {{{\n> +    for C in ParClasses:\n> +        EC = matrix(QQ, v)\n> +        for i in range(v):\n> +            for j in range(v):\n> +                for line in C:\n> +                    if i in line and j in line:\n> +                        EC[i, j] = 1/k\n> }}}\n> Why not using this instead. I assume that `line` is a pair.\n\nno, `line` is a hyperplane in the (d-1)-dimensional affine space over GF(n), and `C` is a class of\nparallel hyperplanes.\n\n> {{{\n> +    for C in ParClasses:\n> +        EC = matrix(QQ, v)\n> +        for line in C:\n> +            EC[i, j] = E[j, i] = 1/k\n> }}}\n> \n> * `[i, j] = line` -> `i,j = line`",
    "created_at": "2016-10-09T09:20:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20918#issuecomment-288868",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:6 dcoudert]:
> Hello,
> 
> clearly I don't understand your code, but I have simple remarks.
> 
> {{{
>     for x in range(m):
>         L_i[x] = [edge for edge in L.edges(labels=False) if x in edge]
> }}}
> should be 
> {{{
>     for x in range(m):
>         L_i[x] = L.edges_incident(x, labels=False)
> }}}

right, thanks for pointing this out.

> 
> Then for this block
> {{{
> +    for C in ParClasses:
> +        EC = matrix(QQ, v)
> +        for i in range(v):
> +            for j in range(v):
> +                for line in C:
> +                    if i in line and j in line:
> +                        EC[i, j] = 1/k
> }}}
> Why not using this instead. I assume that `line` is a pair.

no, `line` is a hyperplane in the (d-1)-dimensional affine space over GF(n), and `C` is a class of
parallel hyperplanes.

> {{{
> +    for C in ParClasses:
> +        EC = matrix(QQ, v)
> +        for line in C:
> +            EC[i, j] = E[j, i] = 1/k
> }}}
> 
> * `[i, j] = line` -> `i,j = line`



---

archive/issue_comments_288869.json:
```json
{
    "body": "> no, `line` is a hyperplane in the (d-1)-dimensional affine space over GF(n), and `C` is a class of\n> parallel hyperplanes.\nOK, so you can at least do:\n\n```\nfor C in ParClasses:\n    EC = matrix(QQ, v)\n    for i in range(v):\n        for line in C:\n            if not i in line:\n                continue\n            for j in range(i+1,v):\n                if j in line:\n                    EC[i, j] = EC[j, i] = 1/k\n```\n",
    "created_at": "2016-10-09T11:44:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20918#issuecomment-288869",
    "user": "https://github.com/dcoudert"
}
```

> no, `line` is a hyperplane in the (d-1)-dimensional affine space over GF(n), and `C` is a class of
> parallel hyperplanes.
OK, so you can at least do:

```
for C in ParClasses:
    EC = matrix(QQ, v)
    for i in range(v):
        for line in C:
            if not i in line:
                continue
            for j in range(i+1,v):
                if j in line:
                    EC[i, j] = EC[j, i] = 1/k
```




---

archive/issue_comments_288870.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-10-09T18:17:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20918#issuecomment-288870",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_288871.json:
```json
{
    "body": "test, pls ignore",
    "created_at": "2016-10-14T12:36:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20918#issuecomment-288871",
    "user": "https://github.com/dimpase"
}
```

test, pls ignore



---

archive/issue_comments_288872.json:
```json
{
    "body": "Replying to [comment:10 dimpase]:\n> test, pls ignore\ntest2",
    "created_at": "2016-10-14T12:43:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20918#issuecomment-288872",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:10 dimpase]:
> test, pls ignore
test2



---

archive/issue_comments_288873.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-10-24T21:32:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20918#issuecomment-288873",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_events_056440.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2016-10-24T21:33:48Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20918",
    "milestone": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20918#event-56440"
}
```



---

archive/issue_events_056441.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2016-10-24T21:33:48Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20918",
    "milestone": "sage-7.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20918#event-56441"
}
```



---

archive/issue_comments_288874.json:
```json
{
    "body": "more doc cleanup, testing 'random' options properly (and fixing bugs on the way).",
    "created_at": "2016-10-24T21:33:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20918#issuecomment-288874",
    "user": "https://github.com/dimpase"
}
```

more doc cleanup, testing 'random' options properly (and fixing bugs on the way).



---

archive/issue_comments_288875.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2016-10-24T21:36:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20918#issuecomment-288875",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_288876.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-10-27T15:27:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20918#issuecomment-288876",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_288877.json:
```json
{
    "body": "\n```\n+    from __builtin__ import range\n```\n\nI suggest to use instead\n\n```\nfrom six.moves import range\n```\n\n(as fast as xrange)",
    "created_at": "2016-10-27T19:18:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20918#issuecomment-288877",
    "user": "https://github.com/fchapoton"
}
```


```
+    from __builtin__ import range
```

I suggest to use instead

```
from six.moves import range
```

(as fast as xrange)



---

archive/issue_comments_288878.json:
```json
{
    "body": "Replying to [comment:16 chapoton]:\n> {{{\n> +    from __builtin__ import range\n> }}}\n> I suggest to use instead\n> {{{\n> from six.moves import range\n> }}}\n> (as fast as xrange)\n\nthis `range` does not have `.pop()`, while it is used in the code.\n(and this is exactly why I added this import in the 1st place).",
    "created_at": "2016-10-27T19:44:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20918#issuecomment-288878",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:16 chapoton]:
> {{{
> +    from __builtin__ import range
> }}}
> I suggest to use instead
> {{{
> from six.moves import range
> }}}
> (as fast as xrange)

this `range` does not have `.pop()`, while it is used in the code.
(and this is exactly why I added this import in the 1st place).



---

archive/issue_comments_288879.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-11-02T12:46:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20918#issuecomment-288879",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_288880.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-11-12T21:59:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20918#issuecomment-288880",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_288881.json:
```json
{
    "body": "this one is ready for review too...",
    "created_at": "2016-11-12T22:03:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20918#issuecomment-288881",
    "user": "https://github.com/dimpase"
}
```

this one is ready for review too...



---

archive/issue_comments_288882.json:
```json
{
    "body": "\n```\n.. [Mu07] M. Muzychuk.\n```\n\nshould be\n\n```\n.. [Mu07] \\M. Muzychuk.\n```\n\nfor obscure sphinx reasons",
    "created_at": "2016-11-18T07:33:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20918#issuecomment-288882",
    "user": "https://github.com/fchapoton"
}
```


```
.. [Mu07] M. Muzychuk.
```

should be

```
.. [Mu07] \M. Muzychuk.
```

for obscure sphinx reasons



---

archive/issue_comments_288883.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-11-18T11:22:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20918#issuecomment-288883",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_288884.json:
```json
{
    "body": "Replying to [comment:21 chapoton]:\n> {{{\n> .. [Mu07] M. Muzychuk.\n> }}}\n> should be\n> {{{\n> .. [Mu07] \\M. Muzychuk.\n> }}}\n> for obscure sphinx reasons\n\nfixed  by the latest commit.",
    "created_at": "2016-11-18T11:24:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20918#issuecomment-288884",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:21 chapoton]:
> {{{
> .. [Mu07] M. Muzychuk.
> }}}
> should be
> {{{
> .. [Mu07] \M. Muzychuk.
> }}}
> for obscure sphinx reasons

fixed  by the latest commit.



---

archive/issue_comments_288885.json:
```json
{
    "body": "this should tell bots to run tests",
    "created_at": "2016-11-18T23:38:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20918#issuecomment-288885",
    "user": "https://github.com/dimpase"
}
```

this should tell bots to run tests



---

archive/issue_comments_288886.json:
```json
{
    "body": "Some possible minor improvements:\n\n1) test `assert d > 1, 'd must be at least 2'` first.\n\n2) replace \n\n```\n    L_i = [0]*m\n    for x in range(m):\n        L_i[x] = L.edges_incident(x, labels=False)\n```\n\nwith `L_i = [L.edges_incident(x, labels=False) for x in range(m)]`\n\n3) precompute `ones_v = ones/v`} and use `EC -= ones_v` to avoid computing `ones/v` for each parallel class. It is also reused later in the code\n\n4) use \n\n```\nfor i,j in itertools.combinations(line, 2):\n    EC[i,j] = EC[j,i] = 1/k\n```\n\n\n5) the block `elif Phi == 'fixed':` could be\n`Phi = {(x,line):val for x in range(m) for val,line in enumerate(L_i[x])} `\n\n6) `phi = {(x, line):ParClasses[Phi[(x, line)]] for x in range(m) for line in L_i[x]} `\n\n7) `A_i = [((v-k)/v)*ones - k*F_i[x] for x in range(m)]` or may be `A_i = [(v-k)*ones_v - k*F_i[x] for x in range(m)]`\n\n8) add seealso sections in methods `MuzychukS6Graph` and `is_muzychuk_S6`.\n\nAlso, you should add a space after each `#` to ease the readability.",
    "created_at": "2016-11-19T09:26:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20918#issuecomment-288886",
    "user": "https://github.com/dcoudert"
}
```

Some possible minor improvements:

1) test `assert d > 1, 'd must be at least 2'` first.

2) replace 

```
    L_i = [0]*m
    for x in range(m):
        L_i[x] = L.edges_incident(x, labels=False)
```

with `L_i = [L.edges_incident(x, labels=False) for x in range(m)]`

3) precompute `ones_v = ones/v`} and use `EC -= ones_v` to avoid computing `ones/v` for each parallel class. It is also reused later in the code

4) use 

```
for i,j in itertools.combinations(line, 2):
    EC[i,j] = EC[j,i] = 1/k
```


5) the block `elif Phi == 'fixed':` could be
`Phi = {(x,line):val for x in range(m) for val,line in enumerate(L_i[x])} `

6) `phi = {(x, line):ParClasses[Phi[(x, line)]] for x in range(m) for line in L_i[x]} `

7) `A_i = [((v-k)/v)*ones - k*F_i[x] for x in range(m)]` or may be `A_i = [(v-k)*ones_v - k*F_i[x] for x in range(m)]`

8) add seealso sections in methods `MuzychukS6Graph` and `is_muzychuk_S6`.

Also, you should add a space after each `#` to ease the readability.



---

archive/issue_comments_288887.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-11-19T23:27:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20918#issuecomment-288887",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_288888.json:
```json
{
    "body": "OK, implemented, I also added few more `SEEALSO` for other strongly regular graphs, but I'd rather do this completely systematically on another ticket.",
    "created_at": "2016-11-19T23:29:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20918#issuecomment-288888",
    "user": "https://github.com/dimpase"
}
```

OK, implemented, I also added few more `SEEALSO` for other strongly regular graphs, but I'd rather do this completely systematically on another ticket.



---

archive/issue_comments_288889.json:
```json
{
    "body": "Method `MuzychukS6Graph` is working correctly. You still have to improve its description. Something is missing with the last sentence `Let L be the complete graph...`.\n\nI don't understand the proposed behavior of method `is_muzychuk_S6`. \n\n```\nsage: is_muzychuk_S6(378, 116, 34, 36)\n(<function MuzychukS6Graph at 0x19dce9cf8>, 3, 3)\nsage: is_muzychuk_S6(378, 116, 34, 37)\n```\n\nWith such a name, the method should return `True` or `False`, but it returns either the generator + parameters or nothing.\nThis is apparently the standard in `strongly_regular_db.pyx` but I don't understand this choice. Why not using an extra boolean parameter `certificate` to return either a boolean or a boolean plus the generator+parameters.",
    "created_at": "2016-11-20T13:50:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20918#issuecomment-288889",
    "user": "https://github.com/dcoudert"
}
```

Method `MuzychukS6Graph` is working correctly. You still have to improve its description. Something is missing with the last sentence `Let L be the complete graph...`.

I don't understand the proposed behavior of method `is_muzychuk_S6`. 

```
sage: is_muzychuk_S6(378, 116, 34, 36)
(<function MuzychukS6Graph at 0x19dce9cf8>, 3, 3)
sage: is_muzychuk_S6(378, 116, 34, 37)
```

With such a name, the method should return `True` or `False`, but it returns either the generator + parameters or nothing.
This is apparently the standard in `strongly_regular_db.pyx` but I don't understand this choice. Why not using an extra boolean parameter `certificate` to return either a boolean or a boolean plus the generator+parameters.



---

archive/issue_comments_288890.json:
```json
{
    "body": "Replying to [comment:28 dcoudert]:\n> Method `MuzychukS6Graph` is working correctly. You still have to improve its description. Something is missing with the last sentence `Let L be the complete graph...`.\n\nI'll have a look, sure.\n\n> \n> I don't understand the proposed behavior of method `is_muzychuk_S6`. \n> {{{\n> sage: is_muzychuk_S6(378, 116, 34, 36)\n> (<function MuzychukS6Graph at 0x19dce9cf8>, 3, 3)\n> sage: is_muzychuk_S6(378, 116, 34, 37)\n> }}}\n> With such a name, the method should return `True` or `False`, but it returns either the generator + parameters or nothing.\n> This is apparently the standard in `strongly_regular_db.pyx` but I don't understand this choice.\n\nthese `is_...()` are internal functions, optimised for speed. If `is_...()` returns nothing it indicates failure.\n\n> Why not using an extra boolean parameter `certificate` to return either a boolean or a boolean plus the generator+parameters.\n\nThey were not meant for outside use. Also note that returning a generator is almost as cheap as returning a boolean, so there is really little incentive in having an extra parameter.",
    "created_at": "2016-11-20T16:33:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20918#issuecomment-288890",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:28 dcoudert]:
> Method `MuzychukS6Graph` is working correctly. You still have to improve its description. Something is missing with the last sentence `Let L be the complete graph...`.

I'll have a look, sure.

> 
> I don't understand the proposed behavior of method `is_muzychuk_S6`. 
> {{{
> sage: is_muzychuk_S6(378, 116, 34, 36)
> (<function MuzychukS6Graph at 0x19dce9cf8>, 3, 3)
> sage: is_muzychuk_S6(378, 116, 34, 37)
> }}}
> With such a name, the method should return `True` or `False`, but it returns either the generator + parameters or nothing.
> This is apparently the standard in `strongly_regular_db.pyx` but I don't understand this choice.

these `is_...()` are internal functions, optimised for speed. If `is_...()` returns nothing it indicates failure.

> Why not using an extra boolean parameter `certificate` to return either a boolean or a boolean plus the generator+parameters.

They were not meant for outside use. Also note that returning a generator is almost as cheap as returning a boolean, so there is really little incentive in having an extra parameter.



---

archive/issue_comments_288891.json:
```json
{
    "body": "> these `is_...()` are internal functions, optimised for speed. If `is_...()` returns nothing it indicates failure.\n\nif it's for internal use only, then it's ok.\n\n> They were not meant for outside use. Also note that returning a generator is almost as cheap as returning a boolean, so there is really little incentive in having an extra parameter.\n\nI agree. I didn't know that the methods are for internal use only. So no need for extra parameter.",
    "created_at": "2016-11-20T17:28:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20918#issuecomment-288891",
    "user": "https://github.com/dcoudert"
}
```

> these `is_...()` are internal functions, optimised for speed. If `is_...()` returns nothing it indicates failure.

if it's for internal use only, then it's ok.

> They were not meant for outside use. Also note that returning a generator is almost as cheap as returning a boolean, so there is really little incentive in having an extra parameter.

I agree. I didn't know that the methods are for internal use only. So no need for extra parameter.



---

archive/issue_comments_288892.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-11-21T10:11:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20918#issuecomment-288892",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_288893.json:
```json
{
    "body": "Docs corrected. I meant to do this all along, but forgot, sorry about this.",
    "created_at": "2016-11-21T10:13:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20918#issuecomment-288893",
    "user": "https://github.com/dimpase"
}
```

Docs corrected. I meant to do this all along, but forgot, sorry about this.



---

archive/issue_comments_288894.json:
```json
{
    "body": "* two of then -> two of them\n* Use 80 columns format for documentation\n* Since #21454, references should be put in master biblio file\n\nAfter that it should be ok.",
    "created_at": "2016-11-21T11:44:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20918#issuecomment-288894",
    "user": "https://github.com/dcoudert"
}
```

* two of then -> two of them
* Use 80 columns format for documentation
* Since #21454, references should be put in master biblio file

After that it should be ok.



---

archive/issue_comments_288895.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-11-21T11:58:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20918#issuecomment-288895",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_288896.json:
```json
{
    "body": "Replying to [comment:33 dcoudert]:\n> * two of then -> two of them\ndone \n> * Use 80 columns format for documentation\ndone\n> * Since #21454, references should be put in master biblio file\nnone of the files in `src/sage/graphs/` is touched by #21454.\nThis is obviously a task for another ticket, to move these references into the master.",
    "created_at": "2016-11-21T12:02:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20918#issuecomment-288896",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:33 dcoudert]:
> * two of then -> two of them
done 
> * Use 80 columns format for documentation
done
> * Since #21454, references should be put in master biblio file
none of the files in `src/sage/graphs/` is touched by #21454.
This is obviously a task for another ticket, to move these references into the master.



---

archive/issue_comments_288897.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-11-21T15:26:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20918#issuecomment-288897",
    "user": "https://github.com/dcoudert"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_288898.json:
```json
{
    "body": "For me this patch is now good to go (compile, run, doctests, doc display nicely, etc.).",
    "created_at": "2016-11-21T15:26:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20918#issuecomment-288898",
    "user": "https://github.com/dcoudert"
}
```

For me this patch is now good to go (compile, run, doctests, doc display nicely, etc.).



---

archive/issue_comments_288899.json:
```json
{
    "body": "Thanks. The next in line is #21890, if you have time...",
    "created_at": "2016-11-21T15:42:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20918#issuecomment-288899",
    "user": "https://github.com/dimpase"
}
```

Thanks. The next in line is #21890, if you have time...



---

archive/issue_events_056442.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-11-22T22:06:13Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/20918",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20918#event-56442"
}
```



---

archive/issue_comments_288900.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-11-22T22:06:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20918#issuecomment-288900",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
