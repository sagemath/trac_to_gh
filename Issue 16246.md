# Issue 16246: New Build/Packaging System

Issue created by migration from Trac.

Original creator: vbraun

Original creation time: 2014-06-15 20:37:45

Our current build/packaging system is at the limits of what one can do just with a Makefile and shell scripts. This ticket aims to implement a new system
* Git-aware: use SHA1 hashes instead of timestamps for dependency calculations
* Unified machine-readable package configuration using YAML
* Dependency handling also for optional packages
* Distinction between different types of dependencies: build time, runtime hard/soft, testing.
* Modular, allowing for easy experimentation with per-package backends
* written in pure Python without any dependencies
* doctested for Python 2.6, 2.7, 3.3, and 3.4.

The entire package configuration will be in a file `SAGE_ROOT/build/pkgs/<name>/package.yaml`, for example

```
name:
    matplotlib

category:
    standard

source:
    version:  
        1.3.1
    tarball:
        name:     matplotlib-{source.version}.tar.gz
        sha1:     f340378c43c4c3f6219ef9fd84af4ebbe18f8feb

builder:
    type:            SpkgInstallScript
    install_script:  spkg-install

depends:
    build:
        - pkgconf
        - setuptools
    hard:
        - python
        - numpy
        - freetype
        - libpng
        - gdmodule
        - dateutil
        - pyparsing
```




---

Comment by git created at 2014-06-16 00:25:12

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2014-06-16 14:17:19

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2014-06-16 15:51:43

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2014-06-16 22:20:08

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2021-09-07 08:02:58

outdated, should close


---

Comment by mkoeppe created at 2021-09-07 08:02:58

Changing status from new to needs_review.


---

Comment by mjo created at 2021-09-18 11:03:50

Changing status from needs_review to positive_review.


---

Comment by mkoeppe created at 2021-09-18 17:51:47

Resolution: invalid
