# Issue 13251: arrow2d missing 'linestyle' parameter docs

archive/issues_013251.json:
```json
{
    "body": "Assignee: jason, was\n\nFrom sage/plot/arrow.py:\n\n\n```\n@rename_keyword(color='rgbcolor')\n@options(width=2, rgbcolor=(0,0,1),zorder=2, head = 1, linestyle='solid', legend_label=None)\ndef arrow2d(tailpoint=None, headpoint=None, path=None, **options):\n...\n```\n\n\nThis works, but the docstring doesn't mention it:\n\n\n```\nINPUT:\n\n    - ``tailpoint`` - the starting point of the arrow\n\n    - ``headpoint`` - where the arrow is pointing to\n\n    - ``path`` - the list of points and control points (see bezier_path for detail) that \n      the arrow will follow from source to destination\n\n    - ``head`` - 0, 1 or 2, whether to draw the head at the start (0), end (1) or both (2)\n      of the path (using 0 will swap headpoint and tailpoint).  This is ignored\n      in 3D plotting.\n\n    - ``width`` - (default: 2) the width of the arrow shaft, in points\n\n    - ``color`` - (default: (0,0,1)) the color of the arrow (as an RGB tuple or a string)\n\n    - ``hue`` - the color of the arrow (as a number)\n\n    - ``arrowsize`` - the size of the arrowhead\n\n    - ``arrowshorten`` - the length in points to shorten the arrow (ignored if using path\n      parameter)\n\n    - ``legend_label`` - the label for this item in the legend \n\n    - ``zorder`` - the layer level to draw the arrow-- note that this is ignored in 3D\n      plotting.\n\n    EXAMPLES:\n...\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/13423\n\n",
    "created_at": "2012-09-03T00:51:01Z",
    "labels": [
        "graphics",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.6",
    "title": "arrow2d missing 'linestyle' parameter docs",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/13251",
    "user": "mjo"
}
```
Assignee: jason, was

From sage/plot/arrow.py:


```
@rename_keyword(color='rgbcolor')
@options(width=2, rgbcolor=(0,0,1),zorder=2, head = 1, linestyle='solid', legend_label=None)
def arrow2d(tailpoint=None, headpoint=None, path=None, **options):
...
```


This works, but the docstring doesn't mention it:


```
INPUT:

    - ``tailpoint`` - the starting point of the arrow

    - ``headpoint`` - where the arrow is pointing to

    - ``path`` - the list of points and control points (see bezier_path for detail) that 
      the arrow will follow from source to destination

    - ``head`` - 0, 1 or 2, whether to draw the head at the start (0), end (1) or both (2)
      of the path (using 0 will swap headpoint and tailpoint).  This is ignored
      in 3D plotting.

    - ``width`` - (default: 2) the width of the arrow shaft, in points

    - ``color`` - (default: (0,0,1)) the color of the arrow (as an RGB tuple or a string)

    - ``hue`` - the color of the arrow (as a number)

    - ``arrowsize`` - the size of the arrowhead

    - ``arrowshorten`` - the length in points to shorten the arrow (ignored if using path
      parameter)

    - ``legend_label`` - the label for this item in the legend 

    - ``zorder`` - the layer level to draw the arrow-- note that this is ignored in 3D
      plotting.

    EXAMPLES:
...
```


Issue created by migration from https://trac.sagemath.org/ticket/13423





---

archive/issue_comments_162368.json:
```json
{
    "body": "Add docs and an example for 'linestyle'",
    "created_at": "2012-09-03T01:00:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13251",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13251#issuecomment-162368",
    "user": "mjo"
}
```

Add docs and an example for 'linestyle'



---

archive/issue_comments_162369.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-09-03T01:01:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13251",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13251#issuecomment-162369",
    "user": "mjo"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_162370.json:
```json
{
    "body": "Attachment [sage-trac_13423.patch](tarball://root/attachments/some-uuid/ticket13423/sage-trac_13423.patch) by mjo created at 2012-09-03 01:01:45",
    "created_at": "2012-09-03T01:01:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13251",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13251#issuecomment-162370",
    "user": "mjo"
}
```

Attachment [sage-trac_13423.patch](tarball://root/attachments/some-uuid/ticket13423/sage-trac_13423.patch) by mjo created at 2012-09-03 01:01:45



---

archive/issue_comments_162371.json:
```json
{
    "body": "Nice find!  Could the linestyles also be represented with `:` or `--` or the like, as I *think* is the case with `line2d`?  Just curious, as we'd want to mention that.",
    "created_at": "2012-09-19T01:15:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13251",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13251#issuecomment-162371",
    "user": "kcrisman"
}
```

Nice find!  Could the linestyles also be represented with `:` or `--` or the like, as I *think* is the case with `line2d`?  Just curious, as we'd want to mention that.



---

archive/issue_comments_162372.json:
```json
{
    "body": "Replying to [comment:2 kcrisman]:\n> Nice find!  Could the linestyles also be represented with `:` or `--` or the like, as I *think* is the case with `line2d`?  Just curious, as we'd want to mention that.\n\nNope, doesn't work, although I'm at a loss as to why. Matplotlib throws \"`ValueError: Unrecognized linestyle: --`\". On the other hand, if I do,\n\n\n```\nsage: line2d([(1, 1), (3, 3)], linestyle='whatever')\n```\n\n\nIt's totally cool with it, but the plot is empty. So there's two different code paths somewhere I just haven't been able to untangle them.",
    "created_at": "2012-09-19T02:17:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13251",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13251#issuecomment-162372",
    "user": "mjo"
}
```

Replying to [comment:2 kcrisman]:
> Nice find!  Could the linestyles also be represented with `:` or `--` or the like, as I *think* is the case with `line2d`?  Just curious, as we'd want to mention that.

Nope, doesn't work, although I'm at a loss as to why. Matplotlib throws "`ValueError: Unrecognized linestyle: --`". On the other hand, if I do,


```
sage: line2d([(1, 1), (3, 3)], linestyle='whatever')
```


It's totally cool with it, but the plot is empty. So there's two different code paths somewhere I just haven't been able to untangle them.



---

archive/issue_comments_162373.json:
```json
{
    "body": "Changing keywords from \"\" to \"beginner\".",
    "created_at": "2012-12-02T17:03:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13251",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13251#issuecomment-162373",
    "user": "mjo"
}
```

Changing keywords from "" to "beginner".



---

archive/issue_comments_162374.json:
```json
{
    "body": "Replying to [comment:3 mjo]:\n> Nope, doesn't work, although I'm at a loss as to why. Matplotlib throws \"`ValueError: Unrecognized linestyle: --`\". On the other hand, if I do,\n\nThis is really bad - it crops from inconsistent \"API\" of the linestyle in `FancyArrowPatch` of matplotlib, compared to the default plot commands. I will have a go at fixing it.",
    "created_at": "2012-12-03T08:04:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13251",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13251#issuecomment-162374",
    "user": "ppurka"
}
```

Replying to [comment:3 mjo]:
> Nope, doesn't work, although I'm at a loss as to why. Matplotlib throws "`ValueError: Unrecognized linestyle: --`". On the other hand, if I do,

This is really bad - it crops from inconsistent "API" of the linestyle in `FancyArrowPatch` of matplotlib, compared to the default plot commands. I will have a go at fixing it.



---

archive/issue_comments_162375.json:
```json
{
    "body": "I have posted [a message here](http://matplotlib.1069221.n5.nabble.com/linestyle-option-for-FancyArrowPatch-and-similar-commands-td39913.html). Let's see if matplotlib is open to the change I proposed or if we need to fix it in our end.",
    "created_at": "2012-12-03T08:43:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13251",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13251#issuecomment-162375",
    "user": "ppurka"
}
```

I have posted [a message here](http://matplotlib.1069221.n5.nabble.com/linestyle-option-for-FancyArrowPatch-and-similar-commands-td39913.html). Let's see if matplotlib is open to the change I proposed or if we need to fix it in our end.



---

archive/issue_comments_162376.json:
```json
{
    "body": "Attachment [trac_13423-linestyle_options_for_arrow.patch](tarball://root/attachments/some-uuid/ticket13423/trac_13423-linestyle_options_for_arrow.patch) by ppurka created at 2012-12-11 12:07:56\n\nApply this after the above patch",
    "created_at": "2012-12-11T12:07:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13251",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13251#issuecomment-162376",
    "user": "ppurka"
}
```

Attachment [trac_13423-linestyle_options_for_arrow.patch](tarball://root/attachments/some-uuid/ticket13423/trac_13423-linestyle_options_for_arrow.patch) by ppurka created at 2012-12-11 12:07:56

Apply this after the above patch



---

archive/issue_comments_162377.json:
```json
{
    "body": "Since mpl is unresponsive to my mail, I have added a new patch to make sure that the usual linestyle options are possible to be used with the `arrow` command. Even more advanced linestyles are possible in matplotlib by passing tuples to the `linestyle` option, but that method is properly documented only in the POSTSCRIPT reference manual.\n\nI am ok with the earlier patch. If you feel that my patch is OK, then you can set this to positive review.",
    "created_at": "2012-12-11T12:13:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13251",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13251#issuecomment-162377",
    "user": "ppurka"
}
```

Since mpl is unresponsive to my mail, I have added a new patch to make sure that the usual linestyle options are possible to be used with the `arrow` command. Even more advanced linestyles are possible in matplotlib by passing tuples to the `linestyle` option, but that method is properly documented only in the POSTSCRIPT reference manual.

I am ok with the earlier patch. If you feel that my patch is OK, then you can set this to positive review.



---

archive/issue_comments_162378.json:
```json
{
    "body": "This looks fine.\n\nDo you think you should submit a pull request and/or bug report on this instead of just the email?  Maybe they have a reason for not allowing this...",
    "created_at": "2012-12-11T13:41:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13251",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13251#issuecomment-162378",
    "user": "kcrisman"
}
```

This looks fine.

Do you think you should submit a pull request and/or bug report on this instead of just the email?  Maybe they have a reason for not allowing this...



---

archive/issue_comments_162379.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-12-11T13:41:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13251",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13251#issuecomment-162379",
    "user": "kcrisman"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_162380.json:
```json
{
    "body": "See also #13819 which I encountered while reviewing this, though it had no bearing on this ticket.",
    "created_at": "2012-12-11T13:48:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13251",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13251#issuecomment-162380",
    "user": "kcrisman"
}
```

See also #13819 which I encountered while reviewing this, though it had no bearing on this ticket.



---

archive/issue_comments_162381.json:
```json
{
    "body": "Replying to [comment:8 kcrisman]:\n> This looks fine.\n> \n> Do you think you should submit a pull request and/or bug report on this instead of just the email?  Maybe they have a reason for not allowing this...\n\nMy main reason for not doing this is to first determine the reason for this inconsistency. Hence, I sent the email.\n\nI thought about putting in a pull request, but I don't know mpl well enough. There are modifications required at several places in the file I linked to in the email, and I haven't as yet checked all the documentation (across several files) that would need to be changed. To make a proper patch will require quite a bit of effort - I would rather not spend so much time on it and then find out that they are not interested in the change.",
    "created_at": "2012-12-11T14:48:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13251",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13251#issuecomment-162381",
    "user": "ppurka"
}
```

Replying to [comment:8 kcrisman]:
> This looks fine.
> 
> Do you think you should submit a pull request and/or bug report on this instead of just the email?  Maybe they have a reason for not allowing this...

My main reason for not doing this is to first determine the reason for this inconsistency. Hence, I sent the email.

I thought about putting in a pull request, but I don't know mpl well enough. There are modifications required at several places in the file I linked to in the email, and I haven't as yet checked all the documentation (across several files) that would need to be changed. To make a proper patch will require quite a bit of effort - I would rather not spend so much time on it and then find out that they are not interested in the change.



---

archive/issue_comments_162382.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2012-12-21T09:31:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13251",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13251#issuecomment-162382",
    "user": "jdemeyer"
}
```

Resolution: fixed
