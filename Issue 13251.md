# Issue 13251: arrow2d missing 'linestyle' parameter docs

Issue created by migration from https://trac.sagemath.org/ticket/13423

Original creator: mjo

Original creation time: 2012-09-03 00:51:01

Assignee: jason, was

From sage/plot/arrow.py:


```
@rename_keyword(color='rgbcolor')
@options(width=2, rgbcolor=(0,0,1),zorder=2, head = 1, linestyle='solid', legend_label=None)
def arrow2d(tailpoint=None, headpoint=None, path=None, **options):
...
```


This works, but the docstring doesn't mention it:


```
INPUT:

    - ``tailpoint`` - the starting point of the arrow

    - ``headpoint`` - where the arrow is pointing to

    - ``path`` - the list of points and control points (see bezier_path for detail) that 
      the arrow will follow from source to destination

    - ``head`` - 0, 1 or 2, whether to draw the head at the start (0), end (1) or both (2)
      of the path (using 0 will swap headpoint and tailpoint).  This is ignored
      in 3D plotting.

    - ``width`` - (default: 2) the width of the arrow shaft, in points

    - ``color`` - (default: (0,0,1)) the color of the arrow (as an RGB tuple or a string)

    - ``hue`` - the color of the arrow (as a number)

    - ``arrowsize`` - the size of the arrowhead

    - ``arrowshorten`` - the length in points to shorten the arrow (ignored if using path
      parameter)

    - ``legend_label`` - the label for this item in the legend 

    - ``zorder`` - the layer level to draw the arrow-- note that this is ignored in 3D
      plotting.

    EXAMPLES:
...
```



---

Comment by mjo created at 2012-09-03 01:00:43

Add docs and an example for 'linestyle'


---

Comment by mjo created at 2012-09-03 01:01:45

Changing status from new to needs_review.


---

Attachment


---

Comment by kcrisman created at 2012-09-19 01:15:21

Nice find!  Could the linestyles also be represented with `:` or `--` or the like, as I _think_ is the case with `line2d`?  Just curious, as we'd want to mention that.


---

Comment by mjo created at 2012-09-19 02:17:08

Replying to [comment:2 kcrisman]:
> Nice find!  Could the linestyles also be represented with `:` or `--` or the like, as I _think_ is the case with `line2d`?  Just curious, as we'd want to mention that.

Nope, doesn't work, although I'm at a loss as to why. Matplotlib throws "`ValueError: Unrecognized linestyle: --`". On the other hand, if I do,


```
sage: line2d([(1, 1), (3, 3)], linestyle='whatever')
```


It's totally cool with it, but the plot is empty. So there's two different code paths somewhere I just haven't been able to untangle them.


---

Comment by mjo created at 2012-12-02 17:03:00

Changing keywords from "" to "beginner".


---

Comment by ppurka created at 2012-12-03 08:04:04

Replying to [comment:3 mjo]:
> Nope, doesn't work, although I'm at a loss as to why. Matplotlib throws "`ValueError: Unrecognized linestyle: --`". On the other hand, if I do,

This is really bad - it crops from inconsistent "API" of the linestyle in `FancyArrowPatch` of matplotlib, compared to the default plot commands. I will have a go at fixing it.


---

Comment by ppurka created at 2012-12-03 08:43:04

I have posted [a message here](http://matplotlib.1069221.n5.nabble.com/linestyle-option-for-FancyArrowPatch-and-similar-commands-td39913.html). Let's see if matplotlib is open to the change I proposed or if we need to fix it in our end.


---

Attachment

Apply this after the above patch


---

Comment by ppurka created at 2012-12-11 12:13:03

Since mpl is unresponsive to my mail, I have added a new patch to make sure that the usual linestyle options are possible to be used with the `arrow` command. Even more advanced linestyles are possible in matplotlib by passing tuples to the `linestyle` option, but that method is properly documented only in the POSTSCRIPT reference manual.

I am ok with the earlier patch. If you feel that my patch is OK, then you can set this to positive review.


---

Comment by kcrisman created at 2012-12-11 13:41:18

This looks fine.

Do you think you should submit a pull request and/or bug report on this instead of just the email?  Maybe they have a reason for not allowing this...


---

Comment by kcrisman created at 2012-12-11 13:41:18

Changing status from needs_review to positive_review.


---

Comment by kcrisman created at 2012-12-11 13:48:27

See also #13819 which I encountered while reviewing this, though it had no bearing on this ticket.


---

Comment by ppurka created at 2012-12-11 14:48:14

Replying to [comment:8 kcrisman]:
> This looks fine.
> 
> Do you think you should submit a pull request and/or bug report on this instead of just the email?  Maybe they have a reason for not allowing this...

My main reason for not doing this is to first determine the reason for this inconsistency. Hence, I sent the email.

I thought about putting in a pull request, but I don't know mpl well enough. There are modifications required at several places in the file I linked to in the email, and I haven't as yet checked all the documentation (across several files) that would need to be changed. To make a proper patch will require quite a bit of effort - I would rather not spend so much time on it and then find out that they are not interested in the change.


---

Comment by jdemeyer created at 2012-12-21 09:31:34

Resolution: fixed
