# Issue 27717: Integral curves over finite fields: closed points

Issue created by migration from https://trac.sagemath.org/ticket/27954

Original creator: klee

Original creation time: 2019-06-08 22:57:09

This is a subticket of #27873.

Closed points are added to integral curves over finite fields.


---

Comment by git created at 2019-06-08 22:59:07

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by klee created at 2019-06-10 06:58:04

Changing status from new to needs_info.


---

Comment by embray created at 2019-06-14 14:50:27

Tickets still needing working or clarification should be moved to the next release milestone at the soonest (please feel free to revert if you think the ticket is close to being resolved).


---

Comment by klee created at 2019-06-25 07:20:12

Changing status from needs_info to needs_work.


---

Comment by embray created at 2019-12-30 14:48:17

Ticket retargeted after milestone closed


---

Comment by git created at 2020-01-13 06:14:52

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by klee created at 2020-01-13 06:17:07

Changing status from needs_work to needs_review.


---

Comment by tscrim created at 2020-01-28 00:26:48

Instead of using `__eq__`, what about using `_richcmp_`? Otherwise you will have to implement a `__ne__` method I believe.

I also have some recollection that Python3 will be better in terms of locality of variables, but maybe that is not true. To be safe (and make it easier to understand), I would change:

```diff
         if i is None:
-           for i in range(P.ngens()):
-               if not P.gen(i) in ideal:
+           for j in range(P.ngens()):
+               if not P.gen(j) in ideal:
+                   i = j
                    break
```


Beyond these minor things, looks good.


---

Comment by git created at 2020-01-28 03:39:59

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by klee created at 2020-01-28 03:51:51

Replying to [comment:10 tscrim]:
> Instead of using `__eq__`, what about using `_richcmp_`? Otherwise you will have to implement a `__ne__` method I believe.

Right. I wonder how I forgot this. Done.

> I also have some recollection that Python3 will be better in terms of locality of variables, but maybe that is not true. To be safe (and make it easier to understand), I would change:
> {{{#!diff
>          if i is None:
> -           for i in range(P.ngens()):
> -               if not P.gen(i) in ideal:
> +           for j in range(P.ngens()):
> +               if not P.gen(j) in ideal:
> +                   i = j
>                     break
> }}}

Good tip. Done.
 
> Beyond these minor things, looks good.

Thank you, Travis, for your attention. Let me know when you come to Korea :-)


---

Comment by tscrim created at 2020-01-28 15:54:31

Replying to [comment:12 klee]:
> Replying to [comment:10 tscrim]:
> > Instead of using `__eq__`, what about using `_richcmp_`? Otherwise you will have to implement a `__ne__` method I believe.
> 
> Right. I wonder how I forgot this. Done.

I have also done this before (and spent quite some time debugging because this can lead to very subtle errors).

> Thank you, Travis, for your attention.

No problem. Thank you for the changes.

> Let me know when you come to Korea :-)  

Will do. Unfortunately I might not make it in 2020, but maybe January to February, 2021.


---

Comment by tscrim created at 2020-01-28 15:54:31

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2020-01-31 23:49:49

Resolution: fixed
