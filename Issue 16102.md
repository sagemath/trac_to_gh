# Issue 16102: Improve caching for HeckeAlgebra

Issue created by migration from Trac.

Original creator: saraedum

Original creation time: 2014-05-12 20:43:44

Hecke algebras use adhoc caching which causes trouble for #11895. This ticket replaces some of the caching with `CachedRepresentation` and `cached_method`.


---

Comment by saraedum created at 2014-05-12 20:45:14

Changing status from new to needs_review.


---

Comment by pbruin created at 2014-05-22 13:43:52

Doctest failure:

```
sage -t --long src/sage/modular/hecke/module.py
**********************************************************************
File "src/sage/modular/hecke/module.py", line 1646, in sage.modular.hecke.module.HeckeModule_free_module.system_of_eigenvalues
Failed example:
    [A.system_of_eigenvalues(3) for A in S.decomposition()]
Expected:
    [[1, 1, 0], [1, -1, -alpha - 1]]
Got:
    [[1, 1, 0], [1, -1, 1/2*alpha + 1/2]]
**********************************************************************
1 item had failures:
   1 of  14 in sage.modular.hecke.module.HeckeModule_free_module.system_of_eigenvalues
    [188 tests, 1 failure, 7.24 s]
```

(The patchbot's `git` was able to merge the branch, unlike the Trac `git` plugin.)
----
Last 10 new commits:


---

Comment by pbruin created at 2014-05-22 13:43:52

Changing status from needs_review to needs_work.


---

Comment by git created at 2016-03-23 01:51:36

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by git created at 2016-03-23 02:14:21

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by saraedum created at 2016-03-23 02:29:43

New commits:


---

Comment by saraedum created at 2016-03-23 02:29:43

Changing status from needs_work to needs_review.


---

Comment by saraedum created at 2016-03-24 02:20:33

Changing keywords from "" to "days71".


---

Comment by roed created at 2016-03-24 03:39:22

I fixed a few problems, with Julian looking over my shoulder.
----
New commits:


---

Comment by roed created at 2016-03-24 03:39:22

Changing status from needs_review to positive_review.


---

Comment by pbruin created at 2016-04-12 22:09:56

Merge conflict with #12603.


---

Comment by pbruin created at 2016-04-12 22:09:56

Changing status from positive_review to needs_work.


---

Comment by aly.deines created at 2016-08-21 00:39:29

Fixed merge conflict.
----
New commits:


---

Comment by git created at 2016-08-21 02:00:19

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by aly.deines created at 2016-08-21 02:01:02

Changing status from needs_work to needs_review.


---

Comment by mderickx created at 2017-08-30 18:52:45

Merge conflict with 8.1.beta3 needs to be resolved.


---

Comment by mderickx created at 2017-08-30 18:52:45

Changing status from needs_review to needs_work.


---

Comment by saraedum created at 2017-09-06 17:06:28

Since this had positive review only merge commits were added. I guess I can set this back to positive review once the patchbot is happy.


---

Comment by saraedum created at 2017-09-06 17:06:28

Changing status from needs_work to needs_review.


---

Comment by mderickx created at 2017-09-06 17:20:25

I would say yes unless the merge conflicts were nontrivial.
----
New commits:


---

Comment by mderickx created at 2017-09-12 21:49:56

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2017-09-24 13:03:37

Resolution: fixed
