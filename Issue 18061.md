# Issue 18061: prime_range vs primes

Issue created by migration from https://trac.sagemath.org/ticket/18298

Original creator: vdelecroix

Original creation time: 2015-04-25 11:17:34

CC:  leif

There is currently a `prime_range` function in `sage.rings.fast_arith` which return a list of prime in a given range `{0, ..., n-1}` and a function `primes` in `sage.rings.arith` which return an iterator.

We should have only one entry point and the answer would better be an iterator.


---

Comment by kcrisman created at 2015-04-28 13:40:13

Make sure that it's still easy to use for newcomers - my concern is that it might be non-obvious what to do with an iterator as opposed to a list, which is very clear.  This is the sort of thing that someone with zero programming experience is most likely to use - hey, get a list of the primes less than 1000!  Maybe that's even an argument for keeping both, or maybe not.  But at any rate it should be clear what to do, plus deprecation issues.


---

Comment by vdelecroix created at 2015-04-28 13:42:47

I do care about newcomers and this is one motivation for this ticket. But currently `primes` return an iterator while `prime_powers` return a list! On the other hand, my choice was motivated by Python 3 where even `range` would return an iterator. If you feel like we should have both functions (one returning a list and one returning an iterator) please tell me.


---

Comment by kcrisman created at 2015-04-28 15:25:36

Hmm, not sure.  My personal preference would be to have default return a list, with a flag to return an iterator, but that will probably not be popular for most others.


---

Comment by cremona created at 2016-07-18 14:56:49

I found this ticket and the next one, and wonder if they are going to be worked on?

My current beef is that the docstring for primes is wrong.  The only argument with no default is "start" and it says that this is a lower bound (as the name suggests) but in fact it is an upper bound unless "stop" is also set!  ALso there is no way at present (I think) to get an open-ended iterator with only one parameter, you have to use primes(2,infinity).  You can also use Primes() as in "for p in Primes(): ..." but I have no idea how efficient that is.


---

Comment by leif created at 2016-07-18 15:45:04

I don't get what Vincent intends to do.  Merge both functions into a single one (with an even more complicated interface)?

Both have pretty different applications, and the functions' docstrings refer to each other.

\\

In the long run, we could of course implement something better...


---

Comment by leif created at 2016-07-18 16:27:55

Replying to [comment:6 leif]:
> In the long run, we could of course implement something better...

See also #9451... ;-)
