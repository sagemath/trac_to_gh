# Issue 14614: Declare PARI finite field functions (FF_*), wrap ffgen() and ffinit()

Issue created by migration from Trac.

Original creator: pbruin

Original creation time: 2013-06-25 13:25:14

Assignee: cpernet

CC:  jpflori

Keywords: pari

To access the PARI library functions related to the `t_FFELT` type for finite fields (see #12142), these functions need to be declared in `sage/libs/pari/decl.pxi`.  Also, wrappers for the functions `ffgen()` and `ffinit()` are missing.

I am attaching a patch, which will become a dependency of #12142.


---

Comment by pbruin created at 2013-06-25 13:27:23

based on 5.11.beta3


---

Comment by pbruin created at 2013-06-25 13:29:08

Changing status from new to needs_review.


---

Attachment


---

Comment by jpflori created at 2013-07-08 14:25:52

Please add some doctests.

I know this will be indirectly doctested through further tickets, but it would be nice to have some example directly in the docstrings of ffgen and ffinit.


---

Comment by jpflori created at 2013-07-08 14:25:52

Changing status from needs_review to needs_work.


---

Comment by jpflori created at 2013-07-08 14:34:05

There is also a problem with the docstring for ffinit which mentions a polynomial P.

And the doc avout the v variable is kind of obscure.
In the docstring for get_var it's mentioned it should be a string or -1.
Here it seems you suggest it can be an integer.
Indeed, the PARI ffinit functions wants a long and will treat negative input in a special way, but the point of the call to get_var is to convert the var's string to the correct integer.
So either skip the get_var call or correcte the docstring.
I think the second option is better, and is what you wanted, isn't it?


---

Comment by jpflori created at 2013-07-11 21:15:06

Reviewer patch.


---

Comment by jpflori created at 2013-07-11 21:16:18

Changing status from needs_work to positive_review.


---

Attachment

Just added simple doctests and corrected the doc, so let's consider this a reviewer patch and I give positive review to the real changes made by Peter.


---

Comment by pbruin created at 2013-07-11 22:11:00

Thanks, I realise that I was really sloppy with the docstrings...


---

Comment by jpflori created at 2013-07-11 22:11:10

Reviewer patch.


---

Attachment

Correct and better named patch.


---

Comment by jpflori created at 2013-07-12 09:45:30

For the patchbot, apply only:
* [attachment:trac14818-pari_FF_decl.patch]
* [attachment:trac_14818-reviewer.patch]


---

Comment by pbruin created at 2013-07-16 09:43:02

The patchbot doesn't seem to get it:

Apply trac14818-pari_FF_decl.patch, trac_14818-reviewer.patch


---

Comment by jdemeyer created at 2013-08-02 14:20:16

Resolution: fixed
