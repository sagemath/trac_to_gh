# Issue 21632: A framework for discrete valuations in Sage

archive/issues_021632.json:
```json
{
    "body": "Keywords: discrete valuations, valuations, p-adics, function fields, number fields, smooth projective curves, Mac Lane algorithm, Montes algorithm\n\nThis is a meta-ticket to keep track of the progress of integrating https://github.com/saraedum/sage/releases into Sage.\n\nIssue created by migration from https://trac.sagemath.org/ticket/21869\n\n",
    "created_at": "2016-11-12T22:09:06Z",
    "labels": [
        "commutative algebra",
        "minor",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.5",
    "title": "A framework for discrete valuations in Sage",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21632",
    "user": "saraedum"
}
```
Keywords: discrete valuations, valuations, p-adics, function fields, number fields, smooth projective curves, Mac Lane algorithm, Montes algorithm

This is a meta-ticket to keep track of the progress of integrating https://github.com/saraedum/sage/releases into Sage.

Issue created by migration from https://trac.sagemath.org/ticket/21869





---

archive/issue_comments_300274.json:
```json
{
    "body": "Changing keywords from \"discrete valuations, valuations, p-adics, function fields, number fields, smooth projective curves, Mac Lane algorithm, Montes algorithm\" to \"discrete valuations, valuations, p-adics, function fields, number fields, smooth projective curves, Mac Lane algorithm, Montes algorithm,sd87\".",
    "created_at": "2017-07-17T17:34:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300274",
    "user": "roed"
}
```

Changing keywords from "discrete valuations, valuations, p-adics, function fields, number fields, smooth projective curves, Mac Lane algorithm, Montes algorithm" to "discrete valuations, valuations, p-adics, function fields, number fields, smooth projective curves, Mac Lane algorithm, Montes algorithm,sd87".



---

archive/issue_comments_300275.json:
```json
{
    "body": "Last 10 new commits:",
    "created_at": "2017-07-17T17:34:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300275",
    "user": "roed"
}
```

Last 10 new commits:



---

archive/issue_comments_300276.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-19T07:24:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300276",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300277.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-19T07:26:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300277",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300278.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-07-19T07:42:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300278",
    "user": "saraedum"
}
```

New commits:



---

archive/issue_comments_300279.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-07-19T07:51:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300279",
    "user": "saraedum"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_300280.json:
```json
{
    "body": "I was reviewing gauss_valuation.py and tried reducing a polynomial using the Gauss valuation induced by the 2-adic valuation, and got an unexpected error message. I thought it would tell me that the polynomial wasn't integral, and instead it gave me a coercion error.\n\n\n```\nsage: v\nGauss valuation induced by 2-adic valuation\nsage: v.domain()\nUnivariate Polynomial Ring in y over Integer Ring\nsage: h\n1/2*y^2\nsage: v.reduce(h)\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n<ipython-input-108-4d78566b468b> in <module>()\n----> 1 v.reduce(h)\n \n/projects/da1818ed-996d-4de6-acc6-361415b7725d/user/padma_sk/mac_lane/gauss_valuation.py in reduce(self, f, check, degree_bound, coefficients, valuations)\n    360\n    361         \"\"\"\n--> 362         f = self.domain().coerce(f)\n    363\n    364         if degree_bound is not None:\n \n/usr/local/sage/src/sage/structure/parent.pyx in sage.structure.parent.Parent.coerce (/usr/local/sage/src/build/cythonized/sage/structure/parent.c:11229)()\n   1166             return False\n   1167\n-> 1168     cpdef coerce(self, x):\n   1169         \"\"\"\n   1170         Return x as an element of self, if and only if there is a canonical\n \n/usr/local/sage/src/sage/structure/parent.pyx in sage.structure.parent.Parent.coerce (/usr/local/sage/src/build/cythonized/sage/structure/parent.c:11158)()\n   1193                 except Exception:\n   1194                     _record_exception()\n-> 1195             raise TypeError(\"no canonical coercion from %s to %s\" % (parent(x), self))\n   1196         else:\n   1197             return (<map.Map>mor)._call_(x)\n \nTypeError: no canonical coercion from Univariate Polynomial Ring in y over Rational Field to Univariate Polynomial Ring in y over Integer Ring\n\n\n```\n",
    "created_at": "2017-07-19T16:50:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300280",
    "user": "padma_sk"
}
```

I was reviewing gauss_valuation.py and tried reducing a polynomial using the Gauss valuation induced by the 2-adic valuation, and got an unexpected error message. I thought it would tell me that the polynomial wasn't integral, and instead it gave me a coercion error.


```
sage: v
Gauss valuation induced by 2-adic valuation
sage: v.domain()
Univariate Polynomial Ring in y over Integer Ring
sage: h
1/2*y^2
sage: v.reduce(h)
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
<ipython-input-108-4d78566b468b> in <module>()
----> 1 v.reduce(h)
 
/projects/da1818ed-996d-4de6-acc6-361415b7725d/user/padma_sk/mac_lane/gauss_valuation.py in reduce(self, f, check, degree_bound, coefficients, valuations)
    360
    361         """
--> 362         f = self.domain().coerce(f)
    363
    364         if degree_bound is not None:
 
/usr/local/sage/src/sage/structure/parent.pyx in sage.structure.parent.Parent.coerce (/usr/local/sage/src/build/cythonized/sage/structure/parent.c:11229)()
   1166             return False
   1167
-> 1168     cpdef coerce(self, x):
   1169         """
   1170         Return x as an element of self, if and only if there is a canonical
 
/usr/local/sage/src/sage/structure/parent.pyx in sage.structure.parent.Parent.coerce (/usr/local/sage/src/build/cythonized/sage/structure/parent.c:11158)()
   1193                 except Exception:
   1194                     _record_exception()
-> 1195             raise TypeError("no canonical coercion from %s to %s" % (parent(x), self))
   1196         else:
   1197             return (<map.Map>mor)._call_(x)
 
TypeError: no canonical coercion from Univariate Polynomial Ring in y over Rational Field to Univariate Polynomial Ring in y over Integer Ring


```




---

archive/issue_comments_300281.json:
```json
{
    "body": "equivalence_unit from gauss_valuation.py isn't outputting the results shown in the example input -2 as shown in the file.\n\n\n\n```\nsage: v\nGauss valuation induced by 2-adic valuation\nsage: v.domain()\nUnivariate Polynomial Ring in y over Integer Ring\nsage: v.equivalence_unit(2)\n4\nsage: v.equivalence_unit(-2)\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n<ipython-input-128-71aadb857663> in <module>()\n----> 1 v.equivalence_unit(-Integer(2))\n \n/usr/local/sage/src/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedMethodCaller.__call__ (/usr/local/sage/src/build/cythonized/sage/misc/cachefunc.c:1079\n2)()\n   2036                 return cache[k]\n   2037         except KeyError:\n-> 2038             w = self._instance_call(*args, **kwds)\n   2039             cache[k] = w\n   2040             return w\n \n/usr/local/sage/src/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedMethodCaller._instance_call (/usr/local/sage/src/build/cythonized/sage/misc/cachefunc.\nc:10238)()\n   1912             True\n   1913         \"\"\"\n-> 1914         return self.f(self._instance, *args, **kwds)\n   1915\n   1916     cdef fix_args_kwds(self, tuple args, dict kwds):\n \n/projects/da1818ed-996d-4de6-acc6-361415b7725d/user/padma_sk/mac_lane/gauss_valuation.py in equivalence_unit(self, s, reciprocal)\n    474             return self.equivalence_reciprocal(self.equivalence_unit(-s))\n    475\n--> 476         ret = self._base_valuation.element_with_valuation(s)\n    477         return self.domain()(ret)\n    478\n \n/projects/da1818ed-996d-4de6-acc6-361415b7725d/user/padma_sk/mac_lane/valuation_space.py in element_with_valuation(self, s)\n    465             s = QQ.coerce(s)\n    466             if s not in self.value_semigroup():\n--> 467                 raise ValueError(\"s must be in the value semigroup of this valuation but %r is not in %r\"%(s, self.value_semigroup()))\n    468             if s == 0:\n    469                 return self.domain().one()\n \nValueError: s must be in the value semigroup of this valuation but -2 is not in Additive Abelian Semigroup generated by 1\n```\n",
    "created_at": "2017-07-19T19:45:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300281",
    "user": "padma_sk"
}
```

equivalence_unit from gauss_valuation.py isn't outputting the results shown in the example input -2 as shown in the file.



```
sage: v
Gauss valuation induced by 2-adic valuation
sage: v.domain()
Univariate Polynomial Ring in y over Integer Ring
sage: v.equivalence_unit(2)
4
sage: v.equivalence_unit(-2)
---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)
<ipython-input-128-71aadb857663> in <module>()
----> 1 v.equivalence_unit(-Integer(2))
 
/usr/local/sage/src/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedMethodCaller.__call__ (/usr/local/sage/src/build/cythonized/sage/misc/cachefunc.c:1079
2)()
   2036                 return cache[k]
   2037         except KeyError:
-> 2038             w = self._instance_call(*args, **kwds)
   2039             cache[k] = w
   2040             return w
 
/usr/local/sage/src/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedMethodCaller._instance_call (/usr/local/sage/src/build/cythonized/sage/misc/cachefunc.
c:10238)()
   1912             True
   1913         """
-> 1914         return self.f(self._instance, *args, **kwds)
   1915
   1916     cdef fix_args_kwds(self, tuple args, dict kwds):
 
/projects/da1818ed-996d-4de6-acc6-361415b7725d/user/padma_sk/mac_lane/gauss_valuation.py in equivalence_unit(self, s, reciprocal)
    474             return self.equivalence_reciprocal(self.equivalence_unit(-s))
    475
--> 476         ret = self._base_valuation.element_with_valuation(s)
    477         return self.domain()(ret)
    478
 
/projects/da1818ed-996d-4de6-acc6-361415b7725d/user/padma_sk/mac_lane/valuation_space.py in element_with_valuation(self, s)
    465             s = QQ.coerce(s)
    466             if s not in self.value_semigroup():
--> 467                 raise ValueError("s must be in the value semigroup of this valuation but %r is not in %r"%(s, self.value_semigroup()))
    468             if s == 0:
    469                 return self.domain().one()
 
ValueError: s must be in the value semigroup of this valuation but -2 is not in Additive Abelian Semigroup generated by 1
```




---

archive/issue_comments_300282.json:
```json
{
    "body": "Thanks for reporting this. I think this is ok. The problem here is not that the polynomial is not integral but that the polynomial is not in the domain.\n\nThis works:\n\n```\nsage: R.<x> = QQ[]\nsage: v = valuations.GaussValuation(R, QQ.valuation(2))\nsage: v.reduce(x + 1/2)\nValueError: reduction not defined for non-integral elements and x + 1/2 is not integral over Gauss valuation induced by 2-adic valuation\n```\n\n\nThis does not:\n\n```\nsage: R.<x> = ZZ[]\nsage: v = valuations.GaussValuation(R, ZZ.valuation(2))\nsage: v.reduce(x + 1/2)\nTypeError: no canonical coercion from Univariate Polynomial Ring in x over Rational Field to Univariate Polynomial Ring in x over Integer Ring\n```\n\n\nReplying to [comment:36 padma_sk]:\n> I was reviewing gauss_valuation.py and tried reducing a polynomial using the Gauss valuation induced by the 2-adic valuation, and got an unexpected error message. I thought it would tell me that the polynomial wasn't integral, and instead it gave me a coercion error.\n> \n> {{{\n> sage: v\n> Gauss valuation induced by 2-adic valuation\n> sage: v.domain()\n> Univariate Polynomial Ring in y over Integer Ring\n> sage: h\n> 1/2*y^2\n> sage: v.reduce(h)\n> ---------------------------------------------------------------------------\n> TypeError                                 Traceback (most recent call last)\n> <ipython-input-108-4d78566b468b> in <module>()\n> ----> 1 v.reduce(h)\n>  \n> /projects/da1818ed-996d-4de6-acc6-361415b7725d/user/padma_sk/mac_lane/gauss_valuation.py in reduce(self, f, check, degree_bound, coefficients, valuations)\n>     360\n>     361         \"\"\"\n> --> 362         f = self.domain().coerce(f)\n>     363\n>     364         if degree_bound is not None:\n>  \n> /usr/local/sage/src/sage/structure/parent.pyx in sage.structure.parent.Parent.coerce (/usr/local/sage/src/build/cythonized/sage/structure/parent.c:11229)()\n>    1166             return False\n>    1167\n> -> 1168     cpdef coerce(self, x):\n>    1169         \"\"\"\n>    1170         Return x as an element of self, if and only if there is a canonical\n>  \n> /usr/local/sage/src/sage/structure/parent.pyx in sage.structure.parent.Parent.coerce (/usr/local/sage/src/build/cythonized/sage/structure/parent.c:11158)()\n>    1193                 except Exception:\n>    1194                     _record_exception()\n> -> 1195             raise TypeError(\"no canonical coercion from %s to %s\" % (parent(x), self))\n>    1196         else:\n>    1197             return (<map.Map>mor)._call_(x)\n>  \n> TypeError: no canonical coercion from Univariate Polynomial Ring in y over Rational Field to Univariate Polynomial Ring in y over Integer Ring\n> \n> \n> }}}\n>",
    "created_at": "2017-07-19T20:05:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300282",
    "user": "saraedum"
}
```

Thanks for reporting this. I think this is ok. The problem here is not that the polynomial is not integral but that the polynomial is not in the domain.

This works:

```
sage: R.<x> = QQ[]
sage: v = valuations.GaussValuation(R, QQ.valuation(2))
sage: v.reduce(x + 1/2)
ValueError: reduction not defined for non-integral elements and x + 1/2 is not integral over Gauss valuation induced by 2-adic valuation
```


This does not:

```
sage: R.<x> = ZZ[]
sage: v = valuations.GaussValuation(R, ZZ.valuation(2))
sage: v.reduce(x + 1/2)
TypeError: no canonical coercion from Univariate Polynomial Ring in x over Rational Field to Univariate Polynomial Ring in x over Integer Ring
```


Replying to [comment:36 padma_sk]:
> I was reviewing gauss_valuation.py and tried reducing a polynomial using the Gauss valuation induced by the 2-adic valuation, and got an unexpected error message. I thought it would tell me that the polynomial wasn't integral, and instead it gave me a coercion error.
> 
> {{{
> sage: v
> Gauss valuation induced by 2-adic valuation
> sage: v.domain()
> Univariate Polynomial Ring in y over Integer Ring
> sage: h
> 1/2*y^2
> sage: v.reduce(h)
> ---------------------------------------------------------------------------
> TypeError                                 Traceback (most recent call last)
> <ipython-input-108-4d78566b468b> in <module>()
> ----> 1 v.reduce(h)
>  
> /projects/da1818ed-996d-4de6-acc6-361415b7725d/user/padma_sk/mac_lane/gauss_valuation.py in reduce(self, f, check, degree_bound, coefficients, valuations)
>     360
>     361         """
> --> 362         f = self.domain().coerce(f)
>     363
>     364         if degree_bound is not None:
>  
> /usr/local/sage/src/sage/structure/parent.pyx in sage.structure.parent.Parent.coerce (/usr/local/sage/src/build/cythonized/sage/structure/parent.c:11229)()
>    1166             return False
>    1167
> -> 1168     cpdef coerce(self, x):
>    1169         """
>    1170         Return x as an element of self, if and only if there is a canonical
>  
> /usr/local/sage/src/sage/structure/parent.pyx in sage.structure.parent.Parent.coerce (/usr/local/sage/src/build/cythonized/sage/structure/parent.c:11158)()
>    1193                 except Exception:
>    1194                     _record_exception()
> -> 1195             raise TypeError("no canonical coercion from %s to %s" % (parent(x), self))
>    1196         else:
>    1197             return (<map.Map>mor)._call_(x)
>  
> TypeError: no canonical coercion from Univariate Polynomial Ring in y over Rational Field to Univariate Polynomial Ring in y over Integer Ring
> 
> 
> }}}
>



---

archive/issue_comments_300283.json:
```json
{
    "body": "You are in the wrong domain in this example I think:\nThis is the error you are seeing because there is no element of valuation -2 in `ZZ[x]`.\n\n```\nsage: R.<x> = ZZ[]\nsage: v = valuations.GaussValuation(R, ZZ.valuation(2))\nsage: v.element_with_valuation(-2)\nValueError: s must be in the value semigroup of this valuation but -2 is not in Additive Abelian Semigroup generated by 1\n```\n\n\nHowever, this works in `QQ[x]`.\n\n```\nsage: sage: R.<x> = QQ[]\nsage: v = valuations.GaussValuation(R, QQ.valuation(2))\nsage: v.element_with_valuation(-2)\n1/4\n```\n\n\nDoes that make sense? (Should it be documented more explicitly?)\n\n\nReplying to [comment:37 padma_sk]:\n> equivalence_unit from gauss_valuation.py isn't outputting the results shown in the example input -2 as shown in the file.\n> \n> \n> {{{\n> sage: v\n> Gauss valuation induced by 2-adic valuation\n> sage: v.domain()\n> Univariate Polynomial Ring in y over Integer Ring\n> sage: v.equivalence_unit(2)\n> 4\n> sage: v.equivalence_unit(-2)\n> ---------------------------------------------------------------------------\n> ValueError                                Traceback (most recent call last)\n> <ipython-input-128-71aadb857663> in <module>()\n> ----> 1 v.equivalence_unit(-Integer(2))\n>  \n> /usr/local/sage/src/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedMethodCaller.__call__ (/usr/local/sage/src/build/cythonized/sage/misc/cachefunc.c:1079\n> 2)()\n>    2036                 return cache[k]\n>    2037         except KeyError:\n> -> 2038             w = self._instance_call(*args, **kwds)\n>    2039             cache[k] = w\n>    2040             return w\n>  \n> /usr/local/sage/src/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedMethodCaller._instance_call (/usr/local/sage/src/build/cythonized/sage/misc/cachefunc.\n> c:10238)()\n>    1912             True\n>    1913         \"\"\"\n> -> 1914         return self.f(self._instance, *args, **kwds)\n>    1915\n>    1916     cdef fix_args_kwds(self, tuple args, dict kwds):\n>  \n> /projects/da1818ed-996d-4de6-acc6-361415b7725d/user/padma_sk/mac_lane/gauss_valuation.py in equivalence_unit(self, s, reciprocal)\n>     474             return self.equivalence_reciprocal(self.equivalence_unit(-s))\n>     475\n> --> 476         ret = self._base_valuation.element_with_valuation(s)\n>     477         return self.domain()(ret)\n>     478\n>  \n> /projects/da1818ed-996d-4de6-acc6-361415b7725d/user/padma_sk/mac_lane/valuation_space.py in element_with_valuation(self, s)\n>     465             s = QQ.coerce(s)\n>     466             if s not in self.value_semigroup():\n> --> 467                 raise ValueError(\"s must be in the value semigroup of this valuation but %r is not in %r\"%(s, self.value_semigroup()))\n>     468             if s == 0:\n>     469                 return self.domain().one()\n>  \n> ValueError: s must be in the value semigroup of this valuation but -2 is not in Additive Abelian Semigroup generated by 1\n> }}}",
    "created_at": "2017-07-19T20:08:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300283",
    "user": "saraedum"
}
```

You are in the wrong domain in this example I think:
This is the error you are seeing because there is no element of valuation -2 in `ZZ[x]`.

```
sage: R.<x> = ZZ[]
sage: v = valuations.GaussValuation(R, ZZ.valuation(2))
sage: v.element_with_valuation(-2)
ValueError: s must be in the value semigroup of this valuation but -2 is not in Additive Abelian Semigroup generated by 1
```


However, this works in `QQ[x]`.

```
sage: sage: R.<x> = QQ[]
sage: v = valuations.GaussValuation(R, QQ.valuation(2))
sage: v.element_with_valuation(-2)
1/4
```


Does that make sense? (Should it be documented more explicitly?)


Replying to [comment:37 padma_sk]:
> equivalence_unit from gauss_valuation.py isn't outputting the results shown in the example input -2 as shown in the file.
> 
> 
> {{{
> sage: v
> Gauss valuation induced by 2-adic valuation
> sage: v.domain()
> Univariate Polynomial Ring in y over Integer Ring
> sage: v.equivalence_unit(2)
> 4
> sage: v.equivalence_unit(-2)
> ---------------------------------------------------------------------------
> ValueError                                Traceback (most recent call last)
> <ipython-input-128-71aadb857663> in <module>()
> ----> 1 v.equivalence_unit(-Integer(2))
>  
> /usr/local/sage/src/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedMethodCaller.__call__ (/usr/local/sage/src/build/cythonized/sage/misc/cachefunc.c:1079
> 2)()
>    2036                 return cache[k]
>    2037         except KeyError:
> -> 2038             w = self._instance_call(*args, **kwds)
>    2039             cache[k] = w
>    2040             return w
>  
> /usr/local/sage/src/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedMethodCaller._instance_call (/usr/local/sage/src/build/cythonized/sage/misc/cachefunc.
> c:10238)()
>    1912             True
>    1913         """
> -> 1914         return self.f(self._instance, *args, **kwds)
>    1915
>    1916     cdef fix_args_kwds(self, tuple args, dict kwds):
>  
> /projects/da1818ed-996d-4de6-acc6-361415b7725d/user/padma_sk/mac_lane/gauss_valuation.py in equivalence_unit(self, s, reciprocal)
>     474             return self.equivalence_reciprocal(self.equivalence_unit(-s))
>     475
> --> 476         ret = self._base_valuation.element_with_valuation(s)
>     477         return self.domain()(ret)
>     478
>  
> /projects/da1818ed-996d-4de6-acc6-361415b7725d/user/padma_sk/mac_lane/valuation_space.py in element_with_valuation(self, s)
>     465             s = QQ.coerce(s)
>     466             if s not in self.value_semigroup():
> --> 467                 raise ValueError("s must be in the value semigroup of this valuation but %r is not in %r"%(s, self.value_semigroup()))
>     468             if s == 0:
>     469                 return self.domain().one()
>  
> ValueError: s must be in the value semigroup of this valuation but -2 is not in Additive Abelian Semigroup generated by 1
> }}}



---

archive/issue_comments_300284.json:
```json
{
    "body": "Ran the test and found the error:\n\nsage -t src/sage/rings/function_field/function_field.py  # 7 doctests failed",
    "created_at": "2017-07-20T15:48:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300284",
    "user": "gpark"
}
```

Ran the test and found the error:

sage -t src/sage/rings/function_field/function_field.py  # 7 doctests failed



---

archive/issue_comments_300285.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-07-20T15:48:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300285",
    "user": "gpark"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_300286.json:
```json
{
    "body": "Replying to [comment:45 gpark]:\n> Ran the test and found the error:\n> \n> sage -t src/sage/rings/function_field/function_field.py  # 7 doctests failed\nDid you run the tests with all the dependencies applied? About 50 tests fail for me. That's expected (since the dependencies are not in yet.)",
    "created_at": "2017-07-20T17:25:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300286",
    "user": "saraedum"
}
```

Replying to [comment:45 gpark]:
> Ran the test and found the error:
> 
> sage -t src/sage/rings/function_field/function_field.py  # 7 doctests failed
Did you run the tests with all the dependencies applied? About 50 tests fail for me. That's expected (since the dependencies are not in yet.)



---

archive/issue_comments_300287.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-07-20T17:48:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300287",
    "user": "saraedum"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_300288.json:
```json
{
    "body": "The following errors are expected. I am working on them.\n\n```\n----------------------------------------------------------------------\nsage -t --warn-long 39.1 src/sage/rings/valuation/limit_valuation.py  # 52 doctests failed\nsage -t --warn-long 39.1 src/sage/rings/valuation/gauss_valuation.py  # 1 doctest failed\nsage -t --warn-long 39.1 src/sage/rings/valuation/valuation_space.py  # 2 doctests failed\nsage -t --warn-long 39.1 src/sage/rings/valuation/mapped_valuation.py  # 42 doctests failed\nsage -t --warn-long 39.1 src/sage/rings/valuation/valuation.py  # 9 doctests failed\nsage -t --warn-long 39.1 src/sage/rings/valuation/inductive_valuation.py  # 13 doctests failed\nsage -t --warn-long 39.1 src/sage/rings/valuation/augmented_valuation.py  # 16 doctests failed\n----------------------------------------------------------------------\n```\n",
    "created_at": "2017-07-20T18:38:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300288",
    "user": "saraedum"
}
```

The following errors are expected. I am working on them.

```
----------------------------------------------------------------------
sage -t --warn-long 39.1 src/sage/rings/valuation/limit_valuation.py  # 52 doctests failed
sage -t --warn-long 39.1 src/sage/rings/valuation/gauss_valuation.py  # 1 doctest failed
sage -t --warn-long 39.1 src/sage/rings/valuation/valuation_space.py  # 2 doctests failed
sage -t --warn-long 39.1 src/sage/rings/valuation/mapped_valuation.py  # 42 doctests failed
sage -t --warn-long 39.1 src/sage/rings/valuation/valuation.py  # 9 doctests failed
sage -t --warn-long 39.1 src/sage/rings/valuation/inductive_valuation.py  # 13 doctests failed
sage -t --warn-long 39.1 src/sage/rings/valuation/augmented_valuation.py  # 16 doctests failed
----------------------------------------------------------------------
```




---

archive/issue_comments_300289.json:
```json
{
    "body": "Sorry, I somehow reverted some changes to the ticket description. Not sure how this happened.",
    "created_at": "2017-07-20T18:51:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300289",
    "user": "saraedum"
}
```

Sorry, I somehow reverted some changes to the ticket description. Not sure how this happened.



---

archive/issue_comments_300290.json:
```json
{
    "body": "I have had a look at ``function_field_valuation``. I have already worked with the code a lot, and it is working fine, and the documentation is extensive and clear. But I have only tested the latest standalone version.",
    "created_at": "2017-07-20T20:46:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300290",
    "user": "swewers"
}
```

I have had a look at ``function_field_valuation``. I have already worked with the code a lot, and it is working fine, and the documentation is extensive and clear. But I have only tested the latest standalone version.



---

archive/issue_comments_300291.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-20T21:59:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300291",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300292.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-20T22:01:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300292",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300293.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-20T22:07:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300293",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300294.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-20T22:33:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300294",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300295.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-20T22:41:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300295",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300296.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-07-20T22:43:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300296",
    "user": "saraedum"
}
```

New commits:



---

archive/issue_comments_300297.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-20T22:54:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300297",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300298.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-20T22:56:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300298",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300299.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-07-20T22:57:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300299",
    "user": "saraedum"
}
```

New commits:



---

archive/issue_comments_300300.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-21T01:47:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300300",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300301.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-07-21T02:08:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300301",
    "user": "roed"
}
```

New commits:



---

archive/issue_comments_300302.json:
```json
{
    "body": "Oops.  Reverting.",
    "created_at": "2017-07-21T02:10:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300302",
    "user": "roed"
}
```

Oops.  Reverting.



---

archive/issue_comments_300303.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-21T02:26:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300303",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300304.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-22T06:19:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300304",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300305.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-22T06:25:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300305",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300306.json:
```json
{
    "body": "Changing type from task to enhancement.",
    "created_at": "2017-07-22T06:25:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300306",
    "user": "roed"
}
```

Changing type from task to enhancement.



---

archive/issue_comments_300307.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-07-22T06:25:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300307",
    "user": "roed"
}
```

New commits:



---

archive/issue_comments_300308.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-22T06:33:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300308",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300309.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-22T06:36:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300309",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300310.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-07-22T06:36:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300310",
    "user": "roed"
}
```

New commits:



---

archive/issue_comments_300311.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-22T06:50:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300311",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300312.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-22T06:56:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300312",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300313.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-22T06:58:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300313",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300314.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-22T06:59:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300314",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300315.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-22T07:01:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300315",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300316.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-22T07:33:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300316",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300317.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-22T07:46:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300317",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300318.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-22T07:48:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300318",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300319.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-22T07:54:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300319",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300320.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-22T07:57:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300320",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300321.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-22T08:15:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300321",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300322.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-22T16:03:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300322",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300323.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-07-22T16:43:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300323",
    "user": "saraedum"
}
```

New commits:



---

archive/issue_comments_300324.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-22T20:44:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300324",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300325.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-07-22T20:45:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300325",
    "user": "saraedum"
}
```

New commits:



---

archive/issue_comments_300326.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-22T21:06:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300326",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300327.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-07-22T21:06:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300327",
    "user": "saraedum"
}
```

New commits:



---

archive/issue_comments_300328.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-22T21:41:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300328",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300329.json:
```json
{
    "body": "New commits:\n----\nNew commits:",
    "created_at": "2017-07-22T21:42:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300329",
    "user": "saraedum"
}
```

New commits:
----
New commits:



---

archive/issue_comments_300330.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-22T21:54:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300330",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300331.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-07-22T21:54:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300331",
    "user": "saraedum"
}
```

New commits:



---

archive/issue_comments_300332.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-22T22:04:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300332",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300333.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-22T22:13:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300333",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300334.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-22T22:15:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300334",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300335.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-22T22:22:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300335",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300336.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-22T22:24:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300336",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300337.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-22T22:32:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300337",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300338.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-22T22:38:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300338",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300339.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-22T22:39:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300339",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300340.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-22T22:43:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300340",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300341.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-22T23:09:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300341",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300342.json:
```json
{
    "body": "Last 10 new commits:",
    "created_at": "2017-07-22T23:13:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300342",
    "user": "saraedum"
}
```

Last 10 new commits:



---

archive/issue_comments_300343.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-22T23:21:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300343",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300344.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-07-23T03:13:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300344",
    "user": "saraedum"
}
```

New commits:



---

archive/issue_comments_300345.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-23T03:46:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300345",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300346.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-23T03:51:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300346",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300347.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-23T03:53:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300347",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300348.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-23T03:59:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300348",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300349.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-23T04:02:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300349",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300350.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-23T04:12:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300350",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300351.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-23T04:23:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300351",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300352.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-23T04:26:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300352",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300353.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-23T04:34:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300353",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300354.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2017-07-23T04:36:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300354",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_300355.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-23T07:05:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300355",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300356.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-07-23T07:09:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300356",
    "user": "saraedum"
}
```

New commits:



---

archive/issue_comments_300357.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-23T07:40:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300357",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300358.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-07-23T07:41:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300358",
    "user": "saraedum"
}
```

New commits:



---

archive/issue_comments_300359.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-23T07:46:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300359",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300360.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-07-23T07:46:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300360",
    "user": "saraedum"
}
```

New commits:



---

archive/issue_comments_300361.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-23T08:02:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300361",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300362.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-07-23T08:02:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300362",
    "user": "saraedum"
}
```

New commits:



---

archive/issue_comments_300363.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-24T13:48:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300363",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300364.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2017-07-24T13:51:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300364",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_300365.json:
```json
{
    "body": "Last 10 new commits:",
    "created_at": "2017-07-24T13:55:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300365",
    "user": "saraedum"
}
```

Last 10 new commits:



---

archive/issue_comments_300366.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-24T13:56:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300366",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300367.json:
```json
{
    "body": "Doesn't seem \"minor\"....",
    "created_at": "2017-08-04T02:55:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300367",
    "user": "roed"
}
```

Doesn't seem "minor"....



---

archive/issue_comments_300368.json:
```json
{
    "body": "Changing priority from minor to major.",
    "created_at": "2017-08-04T02:55:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300368",
    "user": "roed"
}
```

Changing priority from minor to major.



---

archive/issue_comments_300369.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-08-04T17:15:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300369",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300370.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-08-12T15:21:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300370",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300371.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-08-21T04:52:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300371",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300372.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-08-21T10:33:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300372",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300373.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-08-31T04:16:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300373",
    "user": "mderickx"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_300374.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-09-20T16:28:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300374",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300375.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2017-09-20T16:38:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300375",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_300376.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-09-20T16:47:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300376",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300377.json:
```json
{
    "body": "David: I made a trivial change. I don't think it needs review.",
    "created_at": "2017-09-20T16:48:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300377",
    "user": "saraedum"
}
```

David: I made a trivial change. I don't think it needs review.



---

archive/issue_comments_300378.json:
```json
{
    "body": "Yeah, that change seems fine.",
    "created_at": "2017-09-20T16:51:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300378",
    "user": "roed"
}
```

Yeah, that change seems fine.



---

archive/issue_comments_300379.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-09-20T19:34:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300379",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300380.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-10-04T05:25:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300380",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300381.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-10-04T07:27:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300381",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300382.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-10-04T07:31:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300382",
    "user": "saraedum"
}
```

New commits:



---

archive/issue_comments_300383.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-10-05T05:58:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300383",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300384.json:
```json
{
    "body": "New commits:\n----\nNew commits:",
    "created_at": "2017-10-05T05:59:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300384",
    "user": "saraedum"
}
```

New commits:
----
New commits:



---

archive/issue_comments_300385.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-10-05T06:21:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300385",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300386.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-10-05T06:21:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300386",
    "user": "saraedum"
}
```

New commits:



---

archive/issue_comments_300387.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-10-05T07:17:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300387",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300388.json:
```json
{
    "body": "New commits:\n----\nNew commits:",
    "created_at": "2017-10-05T07:17:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300388",
    "user": "saraedum"
}
```

New commits:
----
New commits:



---

archive/issue_comments_300389.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-10-05T08:08:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300389",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300390.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-10-05T08:25:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300390",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300391.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-10-05T08:40:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300391",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300392.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-10-05T08:49:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300392",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300393.json:
```json
{
    "body": "New commits:\n----\nNew commits:",
    "created_at": "2017-10-05T08:55:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300393",
    "user": "saraedum"
}
```

New commits:
----
New commits:



---

archive/issue_comments_300394.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-10-05T08:55:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300394",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300395.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-10-05T11:05:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300395",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300396.json:
```json
{
    "body": "New commits:\n----\nNew commits:",
    "created_at": "2017-10-05T11:06:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300396",
    "user": "saraedum"
}
```

New commits:
----
New commits:



---

archive/issue_comments_300397.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-10-05T11:06:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300397",
    "user": "saraedum"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_300398.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-10-05T11:20:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300398",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300399.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-10-05T12:19:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300399",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300400.json:
```json
{
    "body": "New commits:\n----\nNew commits:",
    "created_at": "2017-10-05T12:20:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300400",
    "user": "saraedum"
}
```

New commits:
----
New commits:



---

archive/issue_comments_300401.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-10-05T23:54:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300401",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300402.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-10-06T00:00:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300402",
    "user": "saraedum"
}
```

New commits:



---

archive/issue_comments_300403.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-10-06T00:00:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300403",
    "user": "saraedum"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_300404.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-10-06T00:06:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300404",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300405.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-10-06T00:08:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300405",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300406.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-10-06T00:10:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300406",
    "user": "saraedum"
}
```

New commits:



---

archive/issue_comments_300407.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-10-06T01:05:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300407",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300408.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-10-06T01:05:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300408",
    "user": "saraedum"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_300409.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-10-06T01:36:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300409",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300410.json:
```json
{
    "body": "In `_test_shift` in `valuation_space.py`, you're not actually doing tests, just having lines with boolean statements.",
    "created_at": "2017-10-06T04:01:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300410",
    "user": "roed"
}
```

In `_test_shift` in `valuation_space.py`, you're not actually doing tests, just having lines with boolean statements.



---

archive/issue_comments_300411.json:
```json
{
    "body": "In `index.rst` there are some `\\QQ`s that should probably be `\\Q`s.  Have you tried building the documentation recently?  I'm surprised this didn't cause problems....\n\nIs there a place I can look at the generated documentation online?  It might be easier to catch some kinds of problems there.",
    "created_at": "2017-10-06T04:43:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300411",
    "user": "roed"
}
```

In `index.rst` there are some `\QQ`s that should probably be `\Q`s.  Have you tried building the documentation recently?  I'm surprised this didn't cause problems....

Is there a place I can look at the generated documentation online?  It might be easier to catch some kinds of problems there.



---

archive/issue_comments_300412.json:
```json
{
    "body": "In `function_field.py` there's a typo in `We create a valuation that correspond` (should be plural).",
    "created_at": "2017-10-06T05:10:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300412",
    "user": "roed"
}
```

In `function_field.py` there's a typo in `We create a valuation that correspond` (should be plural).



---

archive/issue_comments_300413.json:
```json
{
    "body": "In `padic_valuation.py` you have `self.domain()(~ZpFM(self.p(), ZZ(precision).ceil())(x))`.  This is probably better done with the `inverse_mod` method in integers, since then you don't have to construct a new parent.  Also, if precision isn't integral, won't `ZZ(precision)` fail before you can call `ceil()` on it?",
    "created_at": "2017-10-06T05:33:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300413",
    "user": "roed"
}
```

In `padic_valuation.py` you have `self.domain()(~ZpFM(self.p(), ZZ(precision).ceil())(x))`.  This is probably better done with the `inverse_mod` method in integers, since then you don't have to construct a new parent.  Also, if precision isn't integral, won't `ZZ(precision)` fail before you can call `ceil()` on it?



---

archive/issue_comments_300414.json:
```json
{
    "body": "There are a few really long lines.  I don't really mind them, but they might be worth thinking about breaking up.  For example,\n\n```\nreturn self.domain().change_ring(self.domain())([0 if valuations[i] > error else self._base_valuation.simplify(c, error=error-i*self._mu, force=force, phiadic=True) for (i,c) in enumerate(coefficients)])(self.phi())\n```\n",
    "created_at": "2017-10-06T05:36:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300414",
    "user": "roed"
}
```

There are a few really long lines.  I don't really mind them, but they might be worth thinking about breaking up.  For example,

```
return self.domain().change_ring(self.domain())([0 if valuations[i] > error else self._base_valuation.simplify(c, error=error-i*self._mu, force=force, phiadic=True) for (i,c) in enumerate(coefficients)])(self.phi())
```




---

archive/issue_comments_300415.json:
```json
{
    "body": "In the `montes_factorization` tests, why do you specify required precision be 0?  Runtime?  Feasibility of printing the result?",
    "created_at": "2017-10-06T05:46:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300415",
    "user": "roed"
}
```

In the `montes_factorization` tests, why do you specify required precision be 0?  Runtime?  Feasibility of printing the result?



---

archive/issue_comments_300416.json:
```json
{
    "body": "You should probably not delete `'reference/tensor_free_modules'` from `sage_setup/docbuild/__init__.py`.",
    "created_at": "2017-10-06T05:55:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300416",
    "user": "roed"
}
```

You should probably not delete `'reference/tensor_free_modules'` from `sage_setup/docbuild/__init__.py`.



---

archive/issue_comments_300417.json:
```json
{
    "body": "In `index.rst`, where you do say `random output (order may vary)`, why not just use `sorted`?",
    "created_at": "2017-10-06T05:56:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300417",
    "user": "roed"
}
```

In `index.rst`, where you do say `random output (order may vary)`, why not just use `sorted`?



---

archive/issue_comments_300418.json:
```json
{
    "body": "Tests pass though!  I think we're almost there.",
    "created_at": "2017-10-06T06:04:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300418",
    "user": "roed"
}
```

Tests pass though!  I think we're almost there.



---

archive/issue_comments_300419.json:
```json
{
    "body": "Replying to [comment:218 roed]:\n> In `_test_shift` in `valuation_space.py`, you're not actually doing tests, just having lines with boolean statements.\n\nYes, fixed.",
    "created_at": "2017-10-06T06:44:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300419",
    "user": "saraedum"
}
```

Replying to [comment:218 roed]:
> In `_test_shift` in `valuation_space.py`, you're not actually doing tests, just having lines with boolean statements.

Yes, fixed.



---

archive/issue_comments_300420.json:
```json
{
    "body": "Replying to [comment:219 roed]:\n> In `index.rst` there are some `\\QQ`s that should probably be `\\Q`s.  Have you tried building the documentation recently?  I'm surprised this didn't cause problems....\nIt did not seem to cause problems. But I changed it anyway.\n\n> Is there a place I can look at the generated documentation online?  It might be easier to catch some kinds of problems there.\nhttps://drugtestbots.info.tm/reference/valuations/index.html (still uploading)",
    "created_at": "2017-10-06T06:49:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300420",
    "user": "saraedum"
}
```

Replying to [comment:219 roed]:
> In `index.rst` there are some `\QQ`s that should probably be `\Q`s.  Have you tried building the documentation recently?  I'm surprised this didn't cause problems....
It did not seem to cause problems. But I changed it anyway.

> Is there a place I can look at the generated documentation online?  It might be easier to catch some kinds of problems there.
https://drugtestbots.info.tm/reference/valuations/index.html (still uploading)



---

archive/issue_comments_300421.json:
```json
{
    "body": "Replying to [comment:220 roed]:\n> In `function_field.py` there's a typo in `We create a valuation that correspond` (should be plural).\n\nOk. Fixed",
    "created_at": "2017-10-06T06:50:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300421",
    "user": "saraedum"
}
```

Replying to [comment:220 roed]:
> In `function_field.py` there's a typo in `We create a valuation that correspond` (should be plural).

Ok. Fixed



---

archive/issue_comments_300422.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-10-06T06:57:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300422",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300423.json:
```json
{
    "body": "Replying to [comment:221 roed]:\n> In `padic_valuation.py` you have `self.domain()(~ZpFM(self.p(), ZZ(precision).ceil())(x))`.  This is probably better done with the `inverse_mod` method in integers, since then you don't have to construct a new parent.  Also, if precision isn't integral, won't `ZZ(precision)` fail before you can call `ceil()` on it?\nThanks, all fixed.\n----\nNew commits:\n----\nNew commits:",
    "created_at": "2017-10-06T06:57:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300423",
    "user": "saraedum"
}
```

Replying to [comment:221 roed]:
> In `padic_valuation.py` you have `self.domain()(~ZpFM(self.p(), ZZ(precision).ceil())(x))`.  This is probably better done with the `inverse_mod` method in integers, since then you don't have to construct a new parent.  Also, if precision isn't integral, won't `ZZ(precision)` fail before you can call `ceil()` on it?
Thanks, all fixed.
----
New commits:
----
New commits:



---

archive/issue_comments_300424.json:
```json
{
    "body": "Replying to [comment:222 roed]:\n> There are a few really long lines.  I don't really mind them, but they might be worth thinking about breaking up.  For example,\n> {{{\n> return self.domain().change_ring(self.domain())([0 if valuations[i] > error else self._base_valuation.simplify(c, error=error-i*self._mu, force=force, phiadic=True) for (i,c) in enumerate(coefficients)])(self.phi())\n> }}}\n\nI tried to fix some of these.",
    "created_at": "2017-10-06T07:05:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300424",
    "user": "saraedum"
}
```

Replying to [comment:222 roed]:
> There are a few really long lines.  I don't really mind them, but they might be worth thinking about breaking up.  For example,
> {{{
> return self.domain().change_ring(self.domain())([0 if valuations[i] > error else self._base_valuation.simplify(c, error=error-i*self._mu, force=force, phiadic=True) for (i,c) in enumerate(coefficients)])(self.phi())
> }}}

I tried to fix some of these.



---

archive/issue_comments_300425.json:
```json
{
    "body": "Replying to [comment:223 roed]:\n> In the `montes_factorization` tests, why do you specify required precision be 0?  Runtime?  Feasibility of printing the result?\n\nBecause of speed. It finds an exact factorization without which takes forever (I did not wait for it to terminate) as it is very slowly improving the quality of the approximation. I added a comment.",
    "created_at": "2017-10-06T07:06:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300425",
    "user": "saraedum"
}
```

Replying to [comment:223 roed]:
> In the `montes_factorization` tests, why do you specify required precision be 0?  Runtime?  Feasibility of printing the result?

Because of speed. It finds an exact factorization without which takes forever (I did not wait for it to terminate) as it is very slowly improving the quality of the approximation. I added a comment.



---

archive/issue_comments_300426.json:
```json
{
    "body": "Replying to [comment:224 roed]:\n> You should probably not delete `'reference/tensor_free_modules'` from `sage_setup/docbuild/__init__.py`.\n\nWhy not? It used to be the last item in this list, now valuations has taken its spot.",
    "created_at": "2017-10-06T07:06:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300426",
    "user": "saraedum"
}
```

Replying to [comment:224 roed]:
> You should probably not delete `'reference/tensor_free_modules'` from `sage_setup/docbuild/__init__.py`.

Why not? It used to be the last item in this list, now valuations has taken its spot.



---

archive/issue_comments_300427.json:
```json
{
    "body": "Replying to [comment:225 roed]:\n> In `index.rst`, where you do say `random output (order may vary)`, why not just use `sorted`?\n\nBecause I want this to be a readable introduction. I think that sorting would make it much more cryptic to people who are not so fluent in python.",
    "created_at": "2017-10-06T07:07:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300427",
    "user": "saraedum"
}
```

Replying to [comment:225 roed]:
> In `index.rst`, where you do say `random output (order may vary)`, why not just use `sorted`?

Because I want this to be a readable introduction. I think that sorting would make it much more cryptic to people who are not so fluent in python.



---

archive/issue_comments_300428.json:
```json
{
    "body": "I think I addressed all your comments.",
    "created_at": "2017-10-06T07:07:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300428",
    "user": "saraedum"
}
```

I think I addressed all your comments.



---

archive/issue_comments_300429.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-10-06T07:08:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300429",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300430.json:
```json
{
    "body": "Replying to [comment:234 saraedum]:\n> Replying to [comment:224 roed]:\n> > You should probably not delete `'reference/tensor_free_modules'` from `sage_setup/docbuild/__init__.py`.\n> \n> Why not? It used to be the last item in this list, now valuations has taken its spot.\n\nI was confused; it's okay.",
    "created_at": "2017-10-06T09:00:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300430",
    "user": "roed"
}
```

Replying to [comment:234 saraedum]:
> Replying to [comment:224 roed]:
> > You should probably not delete `'reference/tensor_free_modules'` from `sage_setup/docbuild/__init__.py`.
> 
> Why not? It used to be the last item in this list, now valuations has taken its spot.

I was confused; it's okay.



---

archive/issue_comments_300431.json:
```json
{
    "body": "I just merged in the last few dependencies and changed some whitespace in `valuation_space.py`.  Looks good to me!\n----\nNew commits:",
    "created_at": "2017-10-06T09:04:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300431",
    "user": "roed"
}
```

I just merged in the last few dependencies and changed some whitespace in `valuation_space.py`.  Looks good to me!
----
New commits:



---

archive/issue_comments_300432.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-10-06T09:04:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300432",
    "user": "roed"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_300433.json:
```json
{
    "body": "Do not implement both `_cmp_` and `_richcmp_`. The second one only please.",
    "created_at": "2017-10-12T19:53:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300433",
    "user": "chapoton"
}
```

Do not implement both `_cmp_` and `_richcmp_`. The second one only please.



---

archive/issue_comments_300434.json:
```json
{
    "body": "Ok. I removed the `_cmp_` implementation.\n----\nNew commits:",
    "created_at": "2017-10-13T05:52:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300434",
    "user": "saraedum"
}
```

Ok. I removed the `_cmp_` implementation.
----
New commits:



---

archive/issue_comments_300435.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2017-10-15T21:21:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300435",
    "user": "vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_300436.json:
```json
{
    "body": "PDF docs don't build",
    "created_at": "2017-10-15T21:21:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300436",
    "user": "vbraun"
}
```

PDF docs don't build



---

archive/issue_comments_300437.json:
```json
{
    "body": "I can not build PDF docs locally (not sure why but it's not related to this ticket.) Can someone else try to fix this?",
    "created_at": "2017-10-16T06:32:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300437",
    "user": "saraedum"
}
```

I can not build PDF docs locally (not sure why but it's not related to this ticket.) Can someone else try to fix this?



---

archive/issue_comments_300438.json:
```json
{
    "body": "I'm giving it a shot.",
    "created_at": "2017-10-16T15:06:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300438",
    "user": "roed"
}
```

I'm giving it a shot.



---

archive/issue_comments_300439.json:
```json
{
    "body": "I fixed some problems, but I'm not sure that I got them all since `make doc-clean && sage -docbuild reference pdf` doesn't seem to see my changes (and still complains about the unicode <= symbol).  I'm not sure why....\n----\nNew commits:",
    "created_at": "2017-10-17T08:05:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300439",
    "user": "roed"
}
```

I fixed some problems, but I'm not sure that I got them all since `make doc-clean && sage -docbuild reference pdf` doesn't seem to see my changes (and still complains about the unicode <= symbol).  I'm not sure why....
----
New commits:



---

archive/issue_comments_300440.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-10-20T22:17:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300440",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300441.json:
```json
{
    "body": "Okay, documentation builds. Julian, can you take a look at my changes?",
    "created_at": "2017-10-20T22:18:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300441",
    "user": "roed"
}
```

Okay, documentation builds. Julian, can you take a look at my changes?



---

archive/issue_comments_300442.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-10-20T22:18:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300442",
    "user": "roed"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_300443.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-10-22T02:05:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300443",
    "user": "saraedum"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_300444.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2017-10-22T05:53:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300444",
    "user": "vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_300445.json:
```json
{
    "body": "Merge conflict",
    "created_at": "2017-10-22T05:53:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300445",
    "user": "vbraun"
}
```

Merge conflict



---

archive/issue_comments_300446.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2017-10-24T04:16:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300446",
    "user": "saraedum"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_300447.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-10-24T04:16:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300447",
    "user": "saraedum"
}
```

New commits:



---

archive/issue_comments_300448.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2017-10-27T06:55:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300448",
    "user": "vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_300449.json:
```json
{
    "body": "\n```\n[docpdf] ! Undefined control sequence.\n[docpdf] l.309 induced Gauss valuation on \\(\\Q\n[docpdf]                                      [x]\\), i.e., the valuation that assigns...\n```\n",
    "created_at": "2017-10-27T06:55:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300449",
    "user": "vbraun"
}
```


```
[docpdf] ! Undefined control sequence.
[docpdf] l.309 induced Gauss valuation on \(\Q
[docpdf]                                      [x]\), i.e., the valuation that assigns...
```




---

archive/issue_comments_300450.json:
```json
{
    "body": "Oops, I thought I had fixed that but it looks like it didn't get pushed.\n----\nNew commits:",
    "created_at": "2017-10-27T07:14:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300450",
    "user": "roed"
}
```

Oops, I thought I had fixed that but it looks like it didn't get pushed.
----
New commits:



---

archive/issue_comments_300451.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-10-27T07:14:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300451",
    "user": "roed"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_300452.json:
```json
{
    "body": "Julian, let me know if you're happy with these fixes.  I'm currently building and running `sage -docbuild reference pdf`.",
    "created_at": "2017-10-27T07:15:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300452",
    "user": "roed"
}
```

Julian, let me know if you're happy with these fixes.  I'm currently building and running `sage -docbuild reference pdf`.



---

archive/issue_comments_300453.json:
```json
{
    "body": "Looks good. Positive review if it now actually builds :)",
    "created_at": "2017-10-28T07:29:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300453",
    "user": "saraedum"
}
```

Looks good. Positive review if it now actually builds :)



---

archive/issue_comments_300454.json:
```json
{
    "body": "Yep, pdf documentation builds.",
    "created_at": "2017-10-28T16:52:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300454",
    "user": "roed"
}
```

Yep, pdf documentation builds.



---

archive/issue_comments_300455.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-10-28T16:52:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300455",
    "user": "roed"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_300456.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2017-10-29T22:40:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300456",
    "user": "vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_300457.json:
```json
{
    "body": "On some 32-bit buildbots I get\n\n```\n**********************************************************************\nFile \"src/doc/en/reference/valuations/index.rst\", line 36, in doc.en.reference.valuations.index\nFailed example:\n    w(a + 3), ww(a + 3)\nExpected:\n    (1, 0)\nGot:\n    (0, 1)\n**********************************************************************\nFile \"src/doc/en/reference/valuations/index.rst\", line 38, in doc.en.reference.valuations.index\nFailed example:\n    w(a + 5), ww(a + 5)\nExpected:\n    (0, 1)\nGot:\n    (1, 0)\n**********************************************************************\n1 item had failures:\n   2 of  54 in doc.en.reference.valuations.index\n    [53 tests, 2 failures, 0.92 s]\n```\n",
    "created_at": "2017-10-29T22:40:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300457",
    "user": "vbraun"
}
```

On some 32-bit buildbots I get

```
**********************************************************************
File "src/doc/en/reference/valuations/index.rst", line 36, in doc.en.reference.valuations.index
Failed example:
    w(a + 3), ww(a + 3)
Expected:
    (1, 0)
Got:
    (0, 1)
**********************************************************************
File "src/doc/en/reference/valuations/index.rst", line 38, in doc.en.reference.valuations.index
Failed example:
    w(a + 5), ww(a + 5)
Expected:
    (0, 1)
Got:
    (1, 0)
**********************************************************************
1 item had failures:
   2 of  54 in doc.en.reference.valuations.index
    [53 tests, 2 failures, 0.92 s]
```




---

archive/issue_comments_300458.json:
```json
{
    "body": "Is this ready for review again?\n----\nNew commits:",
    "created_at": "2017-11-01T19:33:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300458",
    "user": "roed"
}
```

Is this ready for review again?
----
New commits:



---

archive/issue_comments_300459.json:
```json
{
    "body": "Two comments on\n\n```\ntry:\n    ret = sorted(leafs, key=lambda v: str(v))\nexcept:\n    # if for some reason the valuation can not be printed, we leave them unsorted\n    ret = list(leafs)\n```\n\nYou can just use `key=str`, and you shouldn't have a bare `except` (`except Exception` is probably fine).",
    "created_at": "2017-11-01T19:41:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300459",
    "user": "roed"
}
```

Two comments on

```
try:
    ret = sorted(leafs, key=lambda v: str(v))
except:
    # if for some reason the valuation can not be printed, we leave them unsorted
    ret = list(leafs)
```

You can just use `key=str`, and you shouldn't have a bare `except` (`except Exception` is probably fine).



---

archive/issue_comments_300460.json:
```json
{
    "body": "Yes, you are right. I should actually know about both ;)\nThis is not ready for review. I can't get sage to build from develop locally at all at the moment, so I wanted to see how bad such a change is (by having it be tested by the patchbots).\n----\nNew commits:",
    "created_at": "2017-11-02T01:35:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300460",
    "user": "saraedum"
}
```

Yes, you are right. I should actually know about both ;)
This is not ready for review. I can't get sage to build from develop locally at all at the moment, so I wanted to see how bad such a change is (by having it be tested by the patchbots).
----
New commits:



---

archive/issue_comments_300461.json:
```json
{
    "body": "If you want, there's a copy in `Src/sage-roed` in the `sd88` project on `k8s`; I've added you to the project so that you can access it.  I'm running doctests there now.",
    "created_at": "2017-11-02T01:40:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300461",
    "user": "roed"
}
```

If you want, there's a copy in `Src/sage-roed` in the `sd88` project on `k8s`; I've added you to the project so that you can access it.  I'm running doctests there now.



---

archive/issue_comments_300462.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-11-10T07:02:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300462",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300463.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-11-10T07:02:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300463",
    "user": "saraedum"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_300464.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-11-10T17:07:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300464",
    "user": "roed"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_300465.json:
```json
{
    "body": "There's a doctest failure because of output ordering.  I'll try to fix it, but may not have time to do it today....",
    "created_at": "2017-11-10T17:07:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300465",
    "user": "roed"
}
```

There's a doctest failure because of output ordering.  I'll try to fix it, but may not have time to do it today....



---

archive/issue_comments_300466.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-11-13T05:33:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300466",
    "user": "saraedum"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_300467.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-11-13T11:07:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300467",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300468.json:
```json
{
    "body": "There seems to be a nondeterministic failure (it occurred on one of the three patchbot runs for this commit):\n\n```\nsage -t --long src/sage/rings/valuation/mapped_valuation.py\n**********************************************************************\nFile \"src/sage/rings/valuation/mapped_valuation.py\", line 507, in sage.rings.valuation.mapped_valuation.FiniteExtensionFromInfiniteValuation.upper_bound\nFailed example:\n    u.upper_bound(t + 2)\nExpected:\n    3\nGot:\n    2\n**********************************************************************\n1 item had failures:\n   1 of   8 in sage.rings.valuation.mapped_valuation.FiniteExtensionFromInfiniteValuation.upper_bound\n```\n\nAny ideas?",
    "created_at": "2017-11-15T18:02:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300468",
    "user": "roed"
}
```

There seems to be a nondeterministic failure (it occurred on one of the three patchbot runs for this commit):

```
sage -t --long src/sage/rings/valuation/mapped_valuation.py
**********************************************************************
File "src/sage/rings/valuation/mapped_valuation.py", line 507, in sage.rings.valuation.mapped_valuation.FiniteExtensionFromInfiniteValuation.upper_bound
Failed example:
    u.upper_bound(t + 2)
Expected:
    3
Got:
    2
**********************************************************************
1 item had failures:
   1 of   8 in sage.rings.valuation.mapped_valuation.FiniteExtensionFromInfiniteValuation.upper_bound
```

Any ideas?



---

archive/issue_comments_300469.json:
```json
{
    "body": "The upper bound is not non-deterministic itself. I don't remember really but I don't think that there is anything non-deterministic in my code.",
    "created_at": "2017-11-18T16:05:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300469",
    "user": "saraedum"
}
```

The upper bound is not non-deterministic itself. I don't remember really but I don't think that there is anything non-deterministic in my code.



---

archive/issue_comments_300470.json:
```json
{
    "body": "The upper_bound depends on the precision of the underlying approximation, so the upper_bound can change between calls. As long as the doctests run in a deterministic order, I don't see why this should happen.",
    "created_at": "2017-11-18T16:07:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300470",
    "user": "saraedum"
}
```

The upper_bound depends on the precision of the underlying approximation, so the upper_bound can change between calls. As long as the doctests run in a deterministic order, I don't see why this should happen.



---

archive/issue_comments_300471.json:
```json
{
    "body": "We now have 13 good patchbot runs and one that failed. Would it be acceptable to ignore this?",
    "created_at": "2017-12-21T13:08:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300471",
    "user": "saraedum"
}
```

We now have 13 good patchbot runs and one that failed. Would it be acceptable to ignore this?



---

archive/issue_comments_300472.json:
```json
{
    "body": "I started some patchbots on my own and `kick`ed the old results to get some more data here.",
    "created_at": "2017-12-21T13:22:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300472",
    "user": "saraedum"
}
```

I started some patchbots on my own and `kick`ed the old results to get some more data here.



---

archive/issue_comments_300473.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-12-21T14:06:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300473",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300474.json:
```json
{
    "body": "Replying to [comment:277 saraedum]:\n> We now have 13 good patchbot runs and one that failed. Would it be acceptable to ignore this?\n\nI think that's reasonable.  I'm happy with this ticket, and there are lots of patchbot runs where all tests pass.  Positive review from me.",
    "created_at": "2017-12-23T11:40:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300474",
    "user": "roed"
}
```

Replying to [comment:277 saraedum]:
> We now have 13 good patchbot runs and one that failed. Would it be acceptable to ignore this?

I think that's reasonable.  I'm happy with this ticket, and there are lots of patchbot runs where all tests pass.  Positive review from me.



---

archive/issue_comments_300475.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-12-23T11:40:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300475",
    "user": "roed"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_300476.json:
```json
{
    "body": "I'm getting a bunch of failures of the form\n\n```\nFile \"src/sage/rings/valuation/valuation_space.py\", line 506, in sage.rings.valuation.valuation_space.DiscretePseudoValuationSpace.ElementMethods.residue_ring\nFailed example:\n    GaussValuation(ZZ['x'], ZZ.valuation(2)).residue_ring()\nExpected:\n    Univariate Polynomial Ring in x over Finite Field of size 2 (using NTL)\nGot:\n    Univariate Polynomial Ring in x over Finite Field of size 2 (using GF2X)\n**********************************************************************\n1 item had failures:\n   1 of   6 in sage.rings.valuation.valuation_space.DiscretePseudoValuationSpace.ElementMethods.residue_ring\n    [201 tests, 1 failure, 0.56 s]\n```\n",
    "created_at": "2017-12-24T20:53:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300476",
    "user": "vbraun"
}
```

I'm getting a bunch of failures of the form

```
File "src/sage/rings/valuation/valuation_space.py", line 506, in sage.rings.valuation.valuation_space.DiscretePseudoValuationSpace.ElementMethods.residue_ring
Failed example:
    GaussValuation(ZZ['x'], ZZ.valuation(2)).residue_ring()
Expected:
    Univariate Polynomial Ring in x over Finite Field of size 2 (using NTL)
Got:
    Univariate Polynomial Ring in x over Finite Field of size 2 (using GF2X)
**********************************************************************
1 item had failures:
   1 of   6 in sage.rings.valuation.valuation_space.DiscretePseudoValuationSpace.ElementMethods.residue_ring
    [201 tests, 1 failure, 0.56 s]
```




---

archive/issue_comments_300477.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2017-12-24T20:53:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300477",
    "user": "vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_300478.json:
```json
{
    "body": "Ok. I'll try to reproduce this locally\u2026but I have to rebuild Sage of course\u2026",
    "created_at": "2017-12-28T17:22:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300478",
    "user": "saraedum"
}
```

Ok. I'll try to reproduce this locally…but I have to rebuild Sage of course…



---

archive/issue_comments_300479.json:
```json
{
    "body": "I don't see this problem with the latest develop merged in. Could you tell us more about the machines and base revision where this is failing?",
    "created_at": "2017-12-28T22:20:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300479",
    "user": "saraedum"
}
```

I don't see this problem with the latest develop merged in. Could you tell us more about the machines and base revision where this is failing?



---

archive/issue_comments_300480.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2017-12-28T22:20:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300480",
    "user": "saraedum"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_300481.json:
```json
{
    "body": "Try with the next beta",
    "created_at": "2017-12-30T10:41:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300481",
    "user": "vbraun"
}
```

Try with the next beta



---

archive/issue_comments_300482.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2017-12-30T10:41:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300482",
    "user": "vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_300483.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-01-05T23:52:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300483",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300484.json:
```json
{
    "body": "I fixed the trivial doctest errors.\n\nThere are also a bunch of doctest errors in the patchbots that do not seem to be related to what we are doing here. I am rebuilding sage locally and report back once I have checked locally.",
    "created_at": "2018-01-05T23:54:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300484",
    "user": "saraedum"
}
```

I fixed the trivial doctest errors.

There are also a bunch of doctest errors in the patchbots that do not seem to be related to what we are doing here. I am rebuilding sage locally and report back once I have checked locally.



---

archive/issue_comments_300485.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2018-01-06T00:06:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300485",
    "user": "saraedum"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_300486.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2018-01-10T18:26:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300486",
    "user": "git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_300487.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2018-01-10T18:26:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300487",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_300488.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-01-10T18:34:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300488",
    "user": "roed"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_300489.json:
```json
{
    "body": "Looks good to me.",
    "created_at": "2018-01-10T18:34:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300489",
    "user": "roed"
}
```

Looks good to me.



---

archive/issue_comments_300490.json:
```json
{
    "body": "\n```\n[docpdf] ! Missing $ inserted.\n[docpdf] <inserted text> \n[docpdf]                 $\n[docpdf] l.1203 relation \\sphinxcode{P.v \u2264 V.v}\n[docpdf]                                          (pointwise on the polynomial ring K...\n```\n",
    "created_at": "2018-01-13T17:25:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300490",
    "user": "vbraun"
}
```


```
[docpdf] ! Missing $ inserted.
[docpdf] <inserted text> 
[docpdf]                 $
[docpdf] l.1203 relation \sphinxcode{P.v ≤ V.v}
[docpdf]                                          (pointwise on the polynomial ring K...
```




---

archive/issue_comments_300491.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2018-01-13T17:25:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300491",
    "user": "vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_300492.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-01-14T01:45:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300492",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300493.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-01-14T01:46:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300493",
    "user": "saraedum"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_300494.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-01-16T16:40:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300494",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300495.json:
```json
{
    "body": "The changes could make some outputs gain precision. Let's see what the patchbots think\u2026",
    "created_at": "2018-01-16T17:09:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300495",
    "user": "saraedum"
}
```

The changes could make some outputs gain precision. Let's see what the patchbots think…



---

archive/issue_comments_300496.json:
```json
{
    "body": "There's an extra space in the new commit: `10*x^1 2`.",
    "created_at": "2018-01-16T17:22:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300496",
    "user": "roed"
}
```

There's an extra space in the new commit: `10*x^1 2`.



---

archive/issue_comments_300497.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-01-16T17:24:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300497",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300498.json:
```json
{
    "body": "I'm trying to build the documentation now to check the previous change.\n----\nNew commits:",
    "created_at": "2018-01-16T17:25:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300498",
    "user": "roed"
}
```

I'm trying to build the documentation now to check the previous change.
----
New commits:



---

archive/issue_comments_300499.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-01-19T14:20:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300499",
    "user": "saraedum"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_300500.json:
```json
{
    "body": "\n```\nFile \"src/sage/rings/padics/padic_valuation.py\", line 726, in sage.rings.padics.padic_valuation.pAdicValuation_base.extensions\nFailed example:\n    QQ.valuation(2).extensions(L)\nExpected:\n    Traceback (most recent call last):\n    ...\n    ValueError: The valuation [ Gauss valuation induced by 2-adic valuation, v(x) = 1/2 ] does not approximate a unique extension of 2-adic valuation with respect to x^4 + 2*x^3 + 2*x^2 + 8\nGot:\n    [[ 2-adic valuation, v(x + 2) = 3/2 ]-adic valuation,\n     [ 2-adic valuation, v(x) = 1/2 ]-adic valuation]\n```\n",
    "created_at": "2018-01-19T14:20:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300500",
    "user": "saraedum"
}
```


```
File "src/sage/rings/padics/padic_valuation.py", line 726, in sage.rings.padics.padic_valuation.pAdicValuation_base.extensions
Failed example:
    QQ.valuation(2).extensions(L)
Expected:
    Traceback (most recent call last):
    ...
    ValueError: The valuation [ Gauss valuation induced by 2-adic valuation, v(x) = 1/2 ] does not approximate a unique extension of 2-adic valuation with respect to x^4 + 2*x^3 + 2*x^2 + 8
Got:
    [[ 2-adic valuation, v(x + 2) = 3/2 ]-adic valuation,
     [ 2-adic valuation, v(x) = 1/2 ]-adic valuation]
```




---

archive/issue_comments_300501.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-01-19T14:23:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300501",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300502.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-01-19T14:24:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300502",
    "user": "saraedum"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_300503.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-01-19T14:24:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300503",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300504.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-02-08T20:37:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300504",
    "user": "roed"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_300505.json:
```json
{
    "body": "The failing builds look to be due to some unrelated giac issue, and I don't know what the failed apply is.  I'm happy with the changes and the documentation builds when I test it.  Let's set this back to positive review.",
    "created_at": "2018-02-08T20:37:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300505",
    "user": "roed"
}
```

The failing builds look to be due to some unrelated giac issue, and I don't know what the failed apply is.  I'm happy with the changes and the documentation builds when I test it.  Let's set this back to positive review.



---

archive/issue_comments_300506.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-02-09T23:48:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300506",
    "user": "vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_300507.json:
```json
{
    "body": "What's the point of these doctests?\n\n```\n        Note that this does not affect comparison of valuations which do not\n        coerce into a common parent. This is by design in Sage, see\n        :meth:`sage.structure.element.Element.__richcmp__`. When the valuations\n        do not coerce into a common parent, a rather random comparison of\n        ``id`` happens::\n\n            sage: w = valuations.TrivialValuation(GF(2))\n            sage: w <= v # random output\n            True\n            sage: v <= w # random output\n            False\n```\n\nI plan to remove them in #26934",
    "created_at": "2018-12-21T15:20:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300507",
    "user": "jdemeyer"
}
```

What's the point of these doctests?

```
        Note that this does not affect comparison of valuations which do not
        coerce into a common parent. This is by design in Sage, see
        :meth:`sage.structure.element.Element.__richcmp__`. When the valuations
        do not coerce into a common parent, a rather random comparison of
        ``id`` happens::

            sage: w = valuations.TrivialValuation(GF(2))
            sage: w <= v # random output
            True
            sage: v <= w # random output
            False
```

I plan to remove them in #26934



---

archive/issue_comments_300508.json:
```json
{
    "body": "I thought that the docstring is quite technical, so the doctest illustrates what I mean. They don't \"test\" anything, they are really part of the documentation.",
    "created_at": "2018-12-21T16:26:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300508",
    "user": "saraedum"
}
```

I thought that the docstring is quite technical, so the doctest illustrates what I mean. They don't "test" anything, they are really part of the documentation.



---

archive/issue_comments_300509.json:
```json
{
    "body": "Replying to [comment:307 saraedum]:\n> I thought that the docstring is quite technical, so the doctest illustrates what I mean.\n\nI see your point, but it's not the job of `valuation.py` to document technical details of the coercion model. I ask because I plan to change the behaviour of comparisons in #22029.",
    "created_at": "2018-12-22T15:36:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300509",
    "user": "jdemeyer"
}
```

Replying to [comment:307 saraedum]:
> I thought that the docstring is quite technical, so the doctest illustrates what I mean.

I see your point, but it's not the job of `valuation.py` to document technical details of the coercion model. I ask because I plan to change the behaviour of comparisons in #22029.



---

archive/issue_comments_300510.json:
```json
{
    "body": "It's a detail of the coercion model but here the point is just that it does not work the way you would expect it to. Comparisons are important in this context and it's therefore important to document the limitations. If it raises an error, all the better.",
    "created_at": "2018-12-22T16:08:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21632#issuecomment-300510",
    "user": "saraedum"
}
```

It's a detail of the coercion model but here the point is just that it does not work the way you would expect it to. Comparisons are important in this context and it's therefore important to document the limitations. If it raises an error, all the better.
