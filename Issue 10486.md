# Issue 10486: sage0.py interface ouputs inconsistent strings.

Issue created by migration from https://trac.sagemath.org/ticket/10539

Original creator: mderickx

Original creation time: 2010-12-31 15:35:57

Assignee: was

CC:  robertwb

As discussed in #10528 the sage0 interface doesn't always return exactly the same thing.

I get


```
mderickx@sage:/levi/scratch/robertwb/buildbot/sage-4.6$ ./sage -t devel/sage-main/sage/interfaces/sage0.py 
sage -t  "devel/sage-main/sage/interfaces/sage0.py"        
	 [9.8 s]
 
----------------------------------------------------------------------
All tests passed!
Total time for all tests: 9.8 seconds
```


while he get's


```
robertwb@sage:/levi/scratch/robertwb/buildbot/sage-4.6$ ./sage -t devel/sage-main/sage/interfaces/sage0.py 
sage -t  "devel/sage-main/sage/interfaces/sage0.py"         
**********************************************************************
File "/levi/scratch/robertwb/buildbot/sage-4.6/devel/sage-main/sage/interfaces/sage0.py", line 364:
    sage: sage0.get('x')
Expected:
    "...NameError: name 'x' is not defined"
Got:
    '------------------------------------------------------------\nTraceback (most recent call last):\n  File "<ipython console>", line 1, in <module>\nNameError: name \'x\' is not defined'
**********************************************************************
1 items had failures:
   1 of   6 in __main__.example_13
***Test Failed*** 1 failures.
For whitespace errors, see the file /home/robertwb/.sage//tmp/.doctest_sage0.py
	 [9.2 s]
 
----------------------------------------------------------------------
The following tests failed:


	sage -t  "devel/sage-main/sage/interfaces/sage0.py"
Total time for all tests: 9.2 seconds
```



---

Comment by mderickx created at 2010-12-31 15:48:46

The mercurial branch changes sometimes cause of patchbot. It would be good to rule out that explaination. Could you help with that Robert?


```
mderickx@sage:/levi/scratch/robertwb/buildbot/sage-4.6$ ./sage
----------------------------------------------------------------------
----------------------------------------------------------------------
Loading Sage library. Current Mercurial branch is: 5048
sage: sage0.get('a')
"---------------------------------------------------------------------------\nNameError                                 Traceback (most recent call last)\n\n/levi/scratch/robertwb/buildbot/sage-4.6/data/extcode/sage/<ipython console> in <module>()\n\nNameError: name 'a' is not defined"
sage: 
```



---

Comment by robertwb created at 2010-12-31 17:56:49

I'm not sure I understand your question, but an unpatched sage 4.6 always fails for me.


---

Comment by jdemeyer created at 2012-01-11 10:06:24

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2012-01-11 10:06:24

What's the point of this ticket?  It looks like it's just repeating #10528.  So proposing to close this as duplicate.


---

Comment by mderickx created at 2012-01-11 13:03:34

Changing status from needs_review to needs_work.


---

Comment by mderickx created at 2012-01-11 13:03:34

No, it's not a duplicate. At 10528 the apparent problem is solved by making the doctests less rigid. But the real problem is not fixed there. With the real problem being that the piece of code:

```
sage: sage0.clear('x')
sage: sage0.get('x')
```

Returns:

```
"...NameError: name 'x' is not defined" 
}}} in some setups and
{{{
'...NameError: name \'x\' is not defined'
}}} in other setups.


---

Comment by mderickx created at 2021-11-28 13:05:42

Changing status from needs_work to needs_review.


---

Comment by mderickx created at 2021-11-28 13:05:42

I vote to close, I don't even remember why I cared so much about this 10 years ago.


---

Comment by slelievre created at 2021-11-29 19:12:10

Changing status from needs_review to positive_review.


---

Comment by mkoeppe created at 2021-12-01 02:46:14

Resolution: invalid
