# Issue 31721: Meta-ticket: Use the SymPy assumptions facility

archive/issues_031721.json:
```json
{
    "body": "CC:  @egourgoulhon\n\nSymPy has a clean and general design for assumptions.\nhttps://docs.sympy.org/latest/modules/assumptions/index.html\n\nWe should connect to it. Based on #31926 (#24171, #31931, #31938), we should be able to express everything in it that Sage's assumptions can do, so perhaps we can replace what we have in Sage completely by SymPy.\n\nTickets:\n- #30075 Refactor assumptions (move maxima-specific things to maxima interface)\n\n\nSymptoms:\n- #27998 Solving a single equation for multiple variables doesn't work with assumptions\n- #29938 comparison with infinity does not take assumptions into account\n- #25972 solve does not obey assumptions for inequalities\n\nIssue created by migration from https://trac.sagemath.org/ticket/31958\n\n",
    "created_at": "2021-06-11T19:25:54Z",
    "labels": [
        "symbolics",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Meta-ticket: Use the SymPy assumptions facility",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31721",
    "user": "@mkoeppe"
}
```
CC:  @egourgoulhon

SymPy has a clean and general design for assumptions.
https://docs.sympy.org/latest/modules/assumptions/index.html

We should connect to it. Based on #31926 (#24171, #31931, #31938), we should be able to express everything in it that Sage's assumptions can do, so perhaps we can replace what we have in Sage completely by SymPy.

Tickets:
- #30075 Refactor assumptions (move maxima-specific things to maxima interface)


Symptoms:
- #27998 Solving a single equation for multiple variables doesn't work with assumptions
- #29938 comparison with infinity does not take assumptions into account
- #25972 solve does not obey assumptions for inequalities

Issue created by migration from https://trac.sagemath.org/ticket/31958





---

archive/issue_comments_453288.json:
```json
{
    "body": "One issue with using sympy for the implementation is that loading it would add quite a bit to the start up time:\n\n```\n$ time ./sage -c quit\n\nreal\t0m1.620s\nuser\t0m1.249s\nsys\t0m0.450s\n$ time ./sage -c \"import sympy\"\n\nreal\t0m1.980s\nuser\t0m1.570s\nsys\t0m0.514s\n```\n",
    "created_at": "2021-08-30T01:15:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31721",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31721#issuecomment-453288",
    "user": "@mkoeppe"
}
```

One issue with using sympy for the implementation is that loading it would add quite a bit to the start up time:

```
$ time ./sage -c quit

real	0m1.620s
user	0m1.249s
sys	0m0.450s
$ time ./sage -c "import sympy"

real	0m1.980s
user	0m1.570s
sys	0m0.514s
```

