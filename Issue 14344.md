# Issue 14344: coefficients method for polynomials and power series

Issue created by migration from https://trac.sagemath.org/ticket/14548

Original creator: roed

Original creation time: 2013-05-07 22:13:17

Assignee: AlexGhitza

CC:  niles

In #2081 we introduced a `coefficients` method for univariate polynomials and power series, which only returns the nonzero coefficients.


```
sage: R.<x> = QQ[]
sage: (x^2+1).coefficients()
[1, 1]
```


* The result for `x^2 + 1` should be `[1, 0, 1]`.
* We should add a method `coefficients_nonzero` for univariate and multivariable polynomials and power series that does what `coefficients` now does.
* We should deprecate the `coefficients` method on multivariate polynomials.


---

Comment by vbraun created at 2013-05-07 23:15:23

How about `nonzero_coefficients` instead of the french way.

Your desired behavior is already implemented in the `coeffs()` method. So +1 for making coefficients an alias to coeffs.

It would be nice to be able to iterate over (coefficient, exponent) without constructing a sparse dictionary (using the `dict()` method) first. Call it `iteritems()`? `monomial_iter()`?


---

Comment by roed created at 2013-05-08 08:07:38

The reason I proposed the French way is that tab completion will reveal the existence of `coefficients_nonzero`.  Hm.... maybe we could have tab completion be smart about this and c<TAB> would also return methods with exactly one underscore where the second word started with c?
`
Anyway, I agree that having an iterator over pairs would be nice.  I like `iteritems()` since I would expect `monomial_iter()` to yield monomials rather than pairs.


---

Comment by vbraun created at 2013-05-08 09:31:57

I made #14552 to collect some improvements for the tab completion. I don't like ugly method names just because that works nicer in the default tab completer.


---

Comment by niles created at 2013-05-08 13:19:24

See also #9457

p.s.  I'm in favor of index-style method names, which I believe is the same as French style.  Moreover, I am also in favor of using, for this ticket, whatever method naming style is standard, or most popular, or recommended in current Sage practice.  If there is such a style ;)


---

Comment by vbraun created at 2013-05-08 13:29:25

Thats PEP8: `lower_case_with_underscores`, not `underscores_with_case_lower`


---

Comment by niles created at 2013-05-08 13:49:09

Replying to [comment:5 vbraun]:
> Thats PEP8: `lower_case_with_underscores`, not `underscores_with_case_lower`

Reading here

http://www.python.org/dev/peps/pep-0008/

I do see `lower_case_with_underscores` as an example of a naming style, but I believe this is meant to indicate that the method names are all lower case and separated by underscores, not what order the words should go in.  It's in the "Descriptive" section anyway, not the "Prescriptive" section.  I didn't see anything about placement of adjectives; is there a different PEP for that?


---

Comment by vbraun created at 2013-05-08 14:25:12

Its not spelled out, probably because the PEP authors didn't even think about word orders that are not correct English. But if you read the PEP then its clear that this is an underlying assumption.


---

Comment by chapoton created at 2014-07-18 15:53:01

Here a git branch, touching only polynomials and not power series, and also missing the appropriate deprecations.
----
New commits:


---

Comment by rws created at 2015-01-10 16:41:07

See also #17518 and the sage-devel discussion linked there. #17518 clashes with this ticket because it implements a different solution, i.e., a `sparse` keyword. This is certainly better than changing a much used function name. Note also that with #17518 and #17438 the interface to the same functions in `SR` and `PowerSeriesRing` is unified.

I therefore propose to obsolete this ticket.


---

Comment by rws created at 2015-01-10 16:41:07

Changing status from new to needs_review.


---

Comment by mmezzarobba created at 2015-01-23 14:14:54

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2015-01-25 12:55:14

Resolution: wontfix
