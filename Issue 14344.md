# Issue 14344: coefficients method for polynomials and power series

archive/issues_014344.json:
```json
{
    "body": "Assignee: @aghitza\n\nCC:  @nilesjohnson\n\nIn #2081 we introduced a `coefficients` method for univariate polynomials and power series, which only returns the nonzero coefficients.\n\n\n```\nsage: R.<x> = QQ[]\nsage: (x^2+1).coefficients()\n[1, 1]\n```\n\n\n* The result for `x^2 + 1` should be `[1, 0, 1]`.\n* We should add a method `coefficients_nonzero` for univariate and multivariable polynomials and power series that does what `coefficients` now does.\n* We should deprecate the `coefficients` method on multivariate polynomials.\n\nIssue created by migration from https://trac.sagemath.org/ticket/14548\n\n",
    "created_at": "2013-05-07T22:13:17Z",
    "labels": [
        "component: algebra",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "coefficients method for polynomials and power series",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14344",
    "user": "https://github.com/roed314"
}
```
Assignee: @aghitza

CC:  @nilesjohnson

In #2081 we introduced a `coefficients` method for univariate polynomials and power series, which only returns the nonzero coefficients.


```
sage: R.<x> = QQ[]
sage: (x^2+1).coefficients()
[1, 1]
```


* The result for `x^2 + 1` should be `[1, 0, 1]`.
* We should add a method `coefficients_nonzero` for univariate and multivariable polynomials and power series that does what `coefficients` now does.
* We should deprecate the `coefficients` method on multivariate polynomials.

Issue created by migration from https://trac.sagemath.org/ticket/14548





---

archive/issue_comments_180939.json:
```json
{
    "body": "How about `nonzero_coefficients` instead of the french way.\n\nYour desired behavior is already implemented in the `coeffs()` method. So +1 for making coefficients an alias to coeffs.\n\nIt would be nice to be able to iterate over (coefficient, exponent) without constructing a sparse dictionary (using the `dict()` method) first. Call it `iteritems()`? `monomial_iter()`?",
    "created_at": "2013-05-07T23:15:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14344#issuecomment-180939",
    "user": "https://github.com/vbraun"
}
```

How about `nonzero_coefficients` instead of the french way.

Your desired behavior is already implemented in the `coeffs()` method. So +1 for making coefficients an alias to coeffs.

It would be nice to be able to iterate over (coefficient, exponent) without constructing a sparse dictionary (using the `dict()` method) first. Call it `iteritems()`? `monomial_iter()`?



---

archive/issue_comments_180940.json:
```json
{
    "body": "The reason I proposed the French way is that tab completion will reveal the existence of `coefficients_nonzero`.  Hm.... maybe we could have tab completion be smart about this and c<TAB> would also return methods with exactly one underscore where the second word started with c?\n`\nAnyway, I agree that having an iterator over pairs would be nice.  I like `iteritems()` since I would expect `monomial_iter()` to yield monomials rather than pairs.",
    "created_at": "2013-05-08T08:07:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14344#issuecomment-180940",
    "user": "https://github.com/roed314"
}
```

The reason I proposed the French way is that tab completion will reveal the existence of `coefficients_nonzero`.  Hm.... maybe we could have tab completion be smart about this and c<TAB> would also return methods with exactly one underscore where the second word started with c?
`
Anyway, I agree that having an iterator over pairs would be nice.  I like `iteritems()` since I would expect `monomial_iter()` to yield monomials rather than pairs.



---

archive/issue_comments_180941.json:
```json
{
    "body": "I made #14552 to collect some improvements for the tab completion. I don't like ugly method names just because that works nicer in the default tab completer.",
    "created_at": "2013-05-08T09:31:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14344#issuecomment-180941",
    "user": "https://github.com/vbraun"
}
```

I made #14552 to collect some improvements for the tab completion. I don't like ugly method names just because that works nicer in the default tab completer.



---

archive/issue_comments_180942.json:
```json
{
    "body": "See also #9457\n\np.s.  I'm in favor of index-style method names, which I believe is the same as French style.  Moreover, I am also in favor of using, for this ticket, whatever method naming style is standard, or most popular, or recommended in current Sage practice.  If there is such a style ;)",
    "created_at": "2013-05-08T13:19:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14344#issuecomment-180942",
    "user": "https://github.com/nilesjohnson"
}
```

See also #9457

p.s.  I'm in favor of index-style method names, which I believe is the same as French style.  Moreover, I am also in favor of using, for this ticket, whatever method naming style is standard, or most popular, or recommended in current Sage practice.  If there is such a style ;)



---

archive/issue_comments_180943.json:
```json
{
    "body": "Thats PEP8: `lower_case_with_underscores`, not `underscores_with_case_lower`",
    "created_at": "2013-05-08T13:29:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14344#issuecomment-180943",
    "user": "https://github.com/vbraun"
}
```

Thats PEP8: `lower_case_with_underscores`, not `underscores_with_case_lower`



---

archive/issue_comments_180944.json:
```json
{
    "body": "Replying to [comment:5 vbraun]:\n> Thats PEP8: `lower_case_with_underscores`, not `underscores_with_case_lower`\n\nReading here\n\nhttp://www.python.org/dev/peps/pep-0008/\n\nI do see `lower_case_with_underscores` as an example of a naming style, but I believe this is meant to indicate that the method names are all lower case and separated by underscores, not what order the words should go in.  It's in the \"Descriptive\" section anyway, not the \"Prescriptive\" section.  I didn't see anything about placement of adjectives; is there a different PEP for that?",
    "created_at": "2013-05-08T13:49:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14344#issuecomment-180944",
    "user": "https://github.com/nilesjohnson"
}
```

Replying to [comment:5 vbraun]:
> Thats PEP8: `lower_case_with_underscores`, not `underscores_with_case_lower`

Reading here

http://www.python.org/dev/peps/pep-0008/

I do see `lower_case_with_underscores` as an example of a naming style, but I believe this is meant to indicate that the method names are all lower case and separated by underscores, not what order the words should go in.  It's in the "Descriptive" section anyway, not the "Prescriptive" section.  I didn't see anything about placement of adjectives; is there a different PEP for that?



---

archive/issue_comments_180945.json:
```json
{
    "body": "Its not spelled out, probably because the PEP authors didn't even think about word orders that are not correct English. But if you read the PEP then its clear that this is an underlying assumption.",
    "created_at": "2013-05-08T14:25:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14344#issuecomment-180945",
    "user": "https://github.com/vbraun"
}
```

Its not spelled out, probably because the PEP authors didn't even think about word orders that are not correct English. But if you read the PEP then its clear that this is an underlying assumption.



---

archive/issue_comments_180946.json:
```json
{
    "body": "Here a git branch, touching only polynomials and not power series, and also missing the appropriate deprecations.\n----\nNew commits:",
    "created_at": "2014-07-18T15:53:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14344#issuecomment-180946",
    "user": "https://github.com/fchapoton"
}
```

Here a git branch, touching only polynomials and not power series, and also missing the appropriate deprecations.
----
New commits:



---

archive/issue_comments_180947.json:
```json
{
    "body": "See also #17518 and the sage-devel discussion linked there. #17518 clashes with this ticket because it implements a different solution, i.e., a `sparse` keyword. This is certainly better than changing a much used function name. Note also that with #17518 and #17438 the interface to the same functions in `SR` and `PowerSeriesRing` is unified.\n\nI therefore propose to obsolete this ticket.",
    "created_at": "2015-01-10T16:41:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14344#issuecomment-180947",
    "user": "https://github.com/rwst"
}
```

See also #17518 and the sage-devel discussion linked there. #17518 clashes with this ticket because it implements a different solution, i.e., a `sparse` keyword. This is certainly better than changing a much used function name. Note also that with #17518 and #17438 the interface to the same functions in `SR` and `PowerSeriesRing` is unified.

I therefore propose to obsolete this ticket.



---

archive/issue_comments_180948.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-01-10T16:41:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14344#issuecomment-180948",
    "user": "https://github.com/rwst"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_180949.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-01-23T14:14:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14344#issuecomment-180949",
    "user": "https://github.com/mezzarobba"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_180950.json:
```json
{
    "body": "Resolution: wontfix",
    "created_at": "2015-01-25T12:55:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14344#issuecomment-180950",
    "user": "https://github.com/vbraun"
}
```

Resolution: wontfix
