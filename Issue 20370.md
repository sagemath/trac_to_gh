# Issue 20370: bug in LaurentPolynomial.factor

Issue created by migration from https://trac.sagemath.org/ticket/20607

Original creator: mmarco

Original creation time: 2016-05-13 22:26:10

CC:  rws vdelecroix stumpc5 etn40ff




---

Comment by mmarco created at 2016-05-13 22:39:19

Changing type from PLEASE CHANGE to defect.


---

Comment by mmarco created at 2016-05-13 22:39:19

Changing status from new to needs_review.


---

Comment by mmarco created at 2016-05-13 22:39:19

Changing component from PLEASE CHANGE to commutative algebra.


---

Comment by mmarco created at 2016-05-13 22:39:19

Changing keywords from "" to "laurent polynomials".


---

Comment by vdelecroix created at 2016-05-14 18:10:39

Related to #20214. Wouldn't be better that the unit of the factorization actually belong to the ring?
----
New commits:


---

Comment by mmarco created at 2016-05-14 23:12:36

The unit must belong to the LaurentPolynomialRing, since there are units that don't belong to the base ring.


---

Comment by vdelecroix created at 2016-05-17 02:45:37

I am not sure if `must` is appropriate. What about actually fixing this factorization inconsistency instead of introducing these `if/else`?


---

Comment by mmarco created at 2016-05-17 08:11:25

In the case of Laurent Polynonials, the variables are units. So we cannot enforce the unit to live in the base ring. Consider, for instance, the element `2*L^2 + 2*L` in the LaurentPolynomialRing of 1 variable over the integers. Its factorization is `L * 2 * (L+1)`, where:

- `L` is the unit. It doesn't live in the base ring (which is `ZZ`)
- `2` is a factor that happens to live in the base ring, but is not a unit.
- `L + 1` is a factor that doesn't live in the base ring and is not a unit.

As you say, all these `if/else` wouldn't be necessary if the factorization of polynomials would return the unit as an element of the polynomial ring (and hence, they would have a .dict() method that would prevent this bug. My proposal for #20214 would automatically make this patch unnecessary, but it seems that my opinion is not shared by many people there.


---

Comment by vdelecroix created at 2016-06-26 07:02:50

Hi Miguel,

I made a branch at #20214 that correct automatically the bug you had. Please have a look...

Vincent


---

Comment by tscrim created at 2017-05-21 02:07:57

Is this subsumed by #20214?


---

Comment by tscrim created at 2017-05-21 02:07:57

Changing status from needs_review to needs_info.


---

Comment by vdelecroix created at 2019-01-03 09:59:16

Replying to [comment:8 tscrim]:
> Is this subsumed by #20214?

yes!


---

Comment by tscrim created at 2019-01-03 17:50:29

Changing status from needs_info to needs_review.


---

Comment by tscrim created at 2019-01-03 17:50:29

Then I propose closing this.


---

Comment by vdelecroix created at 2019-01-05 08:12:48

Changing status from needs_review to positive_review.


---

Comment by embray created at 2019-02-26 13:58:00

Presuming these are all correctly reviewed as either duplicate, invalid, or wontfix.


---

Comment by embray created at 2019-02-26 13:58:00

Resolution: invalid


---

Comment by vdelecroix created at 2020-02-09 14:46:11

Since #20214 is kept open, I took the liberty to reopen this one as #29173.
