# Issue 17499: not all fractions get converted with ex.fraction()

Issue created by migration from https://trac.sagemath.org/ticket/17736

Original creator: rws

Original creation time: 2015-02-05 16:39:11


```
sage: a = var('a')
sage: b = (1/a).fraction(QQ)
...
TypeError: unsupported operand parent(s) for '/': 'Univariate Polynomial Ring in x over Rational Field' and 'Univariate Polynomial Ring in a over Rational Field'
```

The `1` apparently gets coerced into the `x`-ring, so we need to ensure equal rings somehow.


---

Comment by rws created at 2015-02-21 17:22:05

New commits:


---

Comment by rws created at 2015-02-21 17:22:05

Changing status from new to needs_review.


---

Comment by rws created at 2015-04-20 06:17:39

Passes all patchbot tests.


---

Comment by malb created at 2015-05-26 09:05:40

Changing status from needs_review to positive_review.


---

Comment by malb created at 2015-05-26 09:05:40

Looks good to me. A potential feature request could be to allow the user to specify the ordering of variables, but perhaps that's overkill?


---

Comment by rws created at 2015-05-26 09:27:11

I'm not so familiar with algebra. Would you suggest specific orderings or is there a convention?


---

Comment by malb created at 2015-05-26 10:47:26

Hi, sorry for not being clear:

I merely meant the ordering of variable (names), where you currently call `sort()`. But as I said: it's an optional feature request which could go into a separate ticket.

Of course, arbitrary term ordering ("lex" and "deglex" etc.) could also be considered. But I'd say a user should do the conversion by hand perhaps in this case.


---

Comment by rws created at 2015-05-26 12:48:46

Replying to [comment:6 malb]:
> I merely meant the ordering of variable (names), where you currently call `sort()`. But as I said: it's an optional feature request which could go into a separate ticket.

Ah but yes, I agree. Thanks for the review.


---

Comment by vbraun created at 2015-05-26 23:34:28

Resolution: fixed
