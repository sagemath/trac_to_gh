# Issue 17499: not all fractions get converted with ex.fraction()

archive/issues_017499.json:
```json
{
    "body": "\n```\nsage: a = var('a')\nsage: b = (1/a).fraction(QQ)\n...\nTypeError: unsupported operand parent(s) for '/': 'Univariate Polynomial Ring in x over Rational Field' and 'Univariate Polynomial Ring in a over Rational Field'\n```\n\nThe `1` apparently gets coerced into the `x`-ring, so we need to ensure equal rings somehow.\n\nIssue created by migration from https://trac.sagemath.org/ticket/17736\n\n",
    "created_at": "2015-02-05T16:39:11Z",
    "labels": [
        "symbolics",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.7",
    "title": "not all fractions get converted with ex.fraction()",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17499",
    "user": "@rwst"
}
```

```
sage: a = var('a')
sage: b = (1/a).fraction(QQ)
...
TypeError: unsupported operand parent(s) for '/': 'Univariate Polynomial Ring in x over Rational Field' and 'Univariate Polynomial Ring in a over Rational Field'
```

The `1` apparently gets coerced into the `x`-ring, so we need to ensure equal rings somehow.

Issue created by migration from https://trac.sagemath.org/ticket/17736





---

archive/issue_comments_233725.json:
```json
{
    "body": "New commits:",
    "created_at": "2015-02-21T17:22:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17499",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17499#issuecomment-233725",
    "user": "@rwst"
}
```

New commits:



---

archive/issue_comments_233726.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-02-21T17:22:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17499",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17499#issuecomment-233726",
    "user": "@rwst"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_233727.json:
```json
{
    "body": "Passes all patchbot tests.",
    "created_at": "2015-04-20T06:17:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17499",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17499#issuecomment-233727",
    "user": "@rwst"
}
```

Passes all patchbot tests.



---

archive/issue_comments_233728.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-05-26T09:05:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17499",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17499#issuecomment-233728",
    "user": "@malb"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_233729.json:
```json
{
    "body": "Looks good to me. A potential feature request could be to allow the user to specify the ordering of variables, but perhaps that's overkill?",
    "created_at": "2015-05-26T09:05:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17499",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17499#issuecomment-233729",
    "user": "@malb"
}
```

Looks good to me. A potential feature request could be to allow the user to specify the ordering of variables, but perhaps that's overkill?



---

archive/issue_comments_233730.json:
```json
{
    "body": "I'm not so familiar with algebra. Would you suggest specific orderings or is there a convention?",
    "created_at": "2015-05-26T09:27:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17499",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17499#issuecomment-233730",
    "user": "@rwst"
}
```

I'm not so familiar with algebra. Would you suggest specific orderings or is there a convention?



---

archive/issue_comments_233731.json:
```json
{
    "body": "Hi, sorry for not being clear:\n\nI merely meant the ordering of variable (names), where you currently call `sort()`. But as I said: it's an optional feature request which could go into a separate ticket.\n\nOf course, arbitrary term ordering (\"lex\" and \"deglex\" etc.) could also be considered. But I'd say a user should do the conversion by hand perhaps in this case.",
    "created_at": "2015-05-26T10:47:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17499",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17499#issuecomment-233731",
    "user": "@malb"
}
```

Hi, sorry for not being clear:

I merely meant the ordering of variable (names), where you currently call `sort()`. But as I said: it's an optional feature request which could go into a separate ticket.

Of course, arbitrary term ordering ("lex" and "deglex" etc.) could also be considered. But I'd say a user should do the conversion by hand perhaps in this case.



---

archive/issue_comments_233732.json:
```json
{
    "body": "Replying to [comment:6 malb]:\n> I merely meant the ordering of variable (names), where you currently call `sort()`. But as I said: it's an optional feature request which could go into a separate ticket.\n\nAh but yes, I agree. Thanks for the review.",
    "created_at": "2015-05-26T12:48:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17499",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17499#issuecomment-233732",
    "user": "@rwst"
}
```

Replying to [comment:6 malb]:
> I merely meant the ordering of variable (names), where you currently call `sort()`. But as I said: it's an optional feature request which could go into a separate ticket.

Ah but yes, I agree. Thanks for the review.



---

archive/issue_comments_233733.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-05-26T23:34:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17499",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17499#issuecomment-233733",
    "user": "@vbraun"
}
```

Resolution: fixed
