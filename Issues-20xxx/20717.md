# Issue 20717: elliptic_curves upstream tarball contains OSX extended attribute files

archive/issues_020480.json:
```json
{
    "body": "Every file or directory in the upstream tarball for elliptic_curves contains a corresponding `._<filename>` file containing OSX-specific \"extended attributes\" for the file.  Those should be stripped out when creating the tarball.\n\nIs this just a Sage issue or a problem upstream as well?  It's not always clear to me since I'm not sure if/when we're using unmodified source tarballs.\n\nI have made a new tarball here:\n\nhttp://chapoton.perso.math.cnrs.fr/elliptic_curves-0.8.1.tar.bz2\n\n**CC:**  @JohnCremona @ohanar @haikona @jdemeyer @embray\n\n**Keywords:** upgrade\n\n**Branch/Commit:** [26fedcbc493d2d478f9d1c1609160bc00bb7fc14](https://github.com/sagemath/sagetrac-mirror/commit/26fedcbc493d2d478f9d1c1609160bc00bb7fc14)\n\n**Reviewer:** Erik Bray\n\n**Author:** Fr\u00e9d\u00e9ric Chapoton\n\nIssue created by migration from https://trac.sagemath.org/ticket/20717\n\n",
    "closed_at": "2019-04-18T19:56:55Z",
    "created_at": "2016-05-30T15:14:16Z",
    "labels": [
        "component: packages: standard",
        "critical",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.8",
    "title": "elliptic_curves upstream tarball contains OSX extended attribute files",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20717",
    "user": "https://github.com/embray"
}
```
Every file or directory in the upstream tarball for elliptic_curves contains a corresponding `._<filename>` file containing OSX-specific "extended attributes" for the file.  Those should be stripped out when creating the tarball.

Is this just a Sage issue or a problem upstream as well?  It's not always clear to me since I'm not sure if/when we're using unmodified source tarballs.

I have made a new tarball here:

http://chapoton.perso.math.cnrs.fr/elliptic_curves-0.8.1.tar.bz2

**CC:**  @JohnCremona @ohanar @haikona @jdemeyer @embray

**Keywords:** upgrade

**Branch/Commit:** [26fedcbc493d2d478f9d1c1609160bc00bb7fc14](https://github.com/sagemath/sagetrac-mirror/commit/26fedcbc493d2d478f9d1c1609160bc00bb7fc14)

**Reviewer:** Erik Bray

**Author:** Frédéric Chapoton

Issue created by migration from https://trac.sagemath.org/ticket/20717





---

archive/issue_comments_361429.json:
```json
{
    "body": "<a id='comment:1'></a>\nJohn, are these tarballs actually hosted somewhere? The `SPKG.txt` file doesn't really say how to obtain the tarballs.\n\nI couldn't easily find them on http://johncremona.github.io/ecdata/ nor https://github.com/JohnCremona/ecdata but I might be missing something.",
    "created_at": "2016-05-30T15:52:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20717#issuecomment-361429",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:1'></a>
John, are these tarballs actually hosted somewhere? The `SPKG.txt` file doesn't really say how to obtain the tarballs.

I couldn't easily find them on http://johncremona.github.io/ecdata/ nor https://github.com/JohnCremona/ecdata but I might be missing something.



---

archive/issue_comments_361430.json:
```json
{
    "body": "<a id='comment:2'></a>\nThis package has nothing to do with me despite what it says in the SPKG.txt file.\n\nI think the cremona_mini is the standard package which comes for free; again I did not create it and have never touched it.  I only touch the real one called database_cremona_ellcurve*.  The other part of it is something William put in years ago.",
    "created_at": "2016-05-30T19:00:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20717#issuecomment-361430",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:2'></a>
This package has nothing to do with me despite what it says in the SPKG.txt file.

I think the cremona_mini is the standard package which comes for free; again I did not create it and have never touched it.  I only touch the real one called database_cremona_ellcurve*.  The other part of it is something William put in years ago.



---

archive/issue_comments_361431.json:
```json
{
    "body": "<a id='comment:3'></a>\nReplying to [cremona](#comment%3A2):\n> This package has nothing to do with me despite what it says in the SPKG.txt file.\nFine. Let's fix the `SPKG.txt` file then...\n\n> I only touch the real one called database_cremona_ellcurve*.  The other part of it is something William put in years ago.\n\n\nStill, the question of [comment:1] remains: is this tarball available somewhere or is it created specifically for Sage?",
    "created_at": "2016-05-30T20:53:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20717#issuecomment-361431",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:3'></a>
Replying to [cremona](#comment%3A2):
> This package has nothing to do with me despite what it says in the SPKG.txt file.
Fine. Let's fix the `SPKG.txt` file then...

> I only touch the real one called database_cremona_ellcurve*.  The other part of it is something William put in years ago.


Still, the question of [comment:1] remains: is this tarball available somewhere or is it created specifically for Sage?



---

archive/issue_comments_361432.json:
```json
{
    "body": "<a id='comment:4'></a>\nThe people who have edited the package most recently are Simon Spicer (recent PhD with William Stein, now working at Facebook or similar), 2014, and R. Andrew Ohana who is still active.  I suggest asking the latter.",
    "created_at": "2016-05-31T08:49:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20717#issuecomment-361432",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:4'></a>
The people who have edited the package most recently are Simon Spicer (recent PhD with William Stein, now working at Facebook or similar), 2014, and R. Andrew Ohana who is still active.  I suggest asking the latter.



---

archive/issue_comments_361433.json:
```json
{
    "body": "Replying to [ticket:20717 embray]:\n> Every file or directory in the upstream tarball for elliptic_curves contains a corresponding `._<filename>` file containing OSX-specific \"extended attributes\" for the file.  Those should be stripped out when creating the tarball.\n> \n> Is this just a Sage issue or a problem upstream as well?  It's not always clear to me since I'm not sure if/when we're using unmodified source tarballs.\n\n\nWhile I've worked on many (if not all) spkgs over the years, I've never seen such garbage in *vanilla* upstream tarballs.  (Occasionally, there had been harmless leftovers like backup files from editors, or cache files from autotools which don't have to get shipped, but IIRC only in tarballs from projects closely related to Sage.)\n\nNote that in the past, the upstream sources were part of the spkgs (now so-called legacy spkgs), and even to that time, it rarely happened that Sage developers accidentally included such files when creating an spkg, and it was part of the review process to make sure that a) the upstream sources are vanilla (modulo removed files we don't need, such as large prepared documentation, redundant sources of prerequisites, or e.g. Microsoft Visual Foo project files), and b) there are no additional files (like those mentioned above, including `.DS_Store` etc.).\n\nI personally would have made *this* ticket a blocker, rather than #20842, in addition to modifications to the release, dist and/or upload scripts.",
    "created_at": "2016-06-22T13:22:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20717#issuecomment-361433",
    "user": "https://github.com/nexttime"
}
```

Replying to [ticket:20717 embray]:
> Every file or directory in the upstream tarball for elliptic_curves contains a corresponding `._<filename>` file containing OSX-specific "extended attributes" for the file.  Those should be stripped out when creating the tarball.
> 
> Is this just a Sage issue or a problem upstream as well?  It's not always clear to me since I'm not sure if/when we're using unmodified source tarballs.


While I've worked on many (if not all) spkgs over the years, I've never seen such garbage in *vanilla* upstream tarballs.  (Occasionally, there had been harmless leftovers like backup files from editors, or cache files from autotools which don't have to get shipped, but IIRC only in tarballs from projects closely related to Sage.)

Note that in the past, the upstream sources were part of the spkgs (now so-called legacy spkgs), and even to that time, it rarely happened that Sage developers accidentally included such files when creating an spkg, and it was part of the review process to make sure that a) the upstream sources are vanilla (modulo removed files we don't need, such as large prepared documentation, redundant sources of prerequisites, or e.g. Microsoft Visual Foo project files), and b) there are no additional files (like those mentioned above, including `.DS_Store` etc.).

I personally would have made *this* ticket a blocker, rather than #20842, in addition to modifications to the release, dist and/or upload scripts.



---

archive/issue_comments_361434.json:
```json
{
    "body": "<a id='comment:6'></a>\nReplying to [cremona](#comment%3A4):\n> The people who have edited the package most recently are Simon Spicer (recent PhD with William Stein, now working at Facebook or similar), 2014 and R. Andrew Ohana who is still active.  I suggest asking the latter.\n\n\nCC'ing both...",
    "created_at": "2016-06-28T14:10:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20717#issuecomment-361434",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:6'></a>
Replying to [cremona](#comment%3A4):
> The people who have edited the package most recently are Simon Spicer (recent PhD with William Stein, now working at Facebook or similar), 2014 and R. Andrew Ohana who is still active.  I suggest asking the latter.


CC'ing both...



---

archive/issue_comments_361435.json:
```json
{
    "body": "<a id='comment:7'></a>\nPing.\n\nI don't think it's minor if we have to work around that elsewhere.  (In fact, doing so introduced other regressions in `sage-uncompress-spkg`.)\n\nOn the other hand, I cannot judge how \"dangerous\" such files are on MacOS X; they don't hurt elsewhere at least (other than increasing disk usage, transfer times etc.)\n\nWhen our elliptic_curves package is fixed, we can simply bail out in the future if a tarball contains such files, which is better for reviewing anyway, since we won't ever get that trouble again.",
    "created_at": "2016-07-24T16:03:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20717#issuecomment-361435",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:7'></a>
Ping.

I don't think it's minor if we have to work around that elsewhere.  (In fact, doing so introduced other regressions in `sage-uncompress-spkg`.)

On the other hand, I cannot judge how "dangerous" such files are on MacOS X; they don't hurt elsewhere at least (other than increasing disk usage, transfer times etc.)

When our elliptic_curves package is fixed, we can simply bail out in the future if a tarball contains such files, which is better for reviewing anyway, since we won't ever get that trouble again.



---

archive/issue_comments_361436.json:
```json
{
    "body": "**Changing status** from new to needs_info.",
    "created_at": "2019-03-01T09:02:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20717#issuecomment-361436",
    "user": "https://github.com/fchapoton"
}
```

**Changing status** from new to needs_info.



---

archive/issue_comments_361437.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,7 @@\n Every file or directory in the upstream tarball for elliptic_curves contains a corresponding `._<filename>` file containing OSX-specific \"extended attributes\" for the file.  Those should be stripped out when creating the tarball.\n \n Is this just a Sage issue or a problem upstream as well?  It's not always clear to me since I'm not sure if/when we're using unmodified source tarballs.\n+\n+I have made a new tarball here:\n+\n+http://chapoton.perso.math.cnrs.fr/elliptic_curves-0.9.tar.bz2\n``````\n",
    "created_at": "2019-03-01T09:02:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20717#issuecomment-361437",
    "user": "https://github.com/fchapoton"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,7 @@
 Every file or directory in the upstream tarball for elliptic_curves contains a corresponding `._<filename>` file containing OSX-specific "extended attributes" for the file.  Those should be stripped out when creating the tarball.
 
 Is this just a Sage issue or a problem upstream as well?  It's not always clear to me since I'm not sure if/when we're using unmodified source tarballs.
+
+I have made a new tarball here:
+
+http://chapoton.perso.math.cnrs.fr/elliptic_curves-0.9.tar.bz2
``````




---

archive/issue_events_062950.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-03-01T09:02:43Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20717",
    "milestone": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20717#event-62950"
}
```



---

archive/issue_comments_361438.json:
```json
{
    "body": "<a id='comment:8'></a>\nI have made a new clean tarball..",
    "created_at": "2019-03-01T09:02:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20717#issuecomment-361438",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'></a>
I have made a new clean tarball..



---

archive/issue_comments_361439.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"upgrade\".",
    "created_at": "2019-03-01T10:17:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20717#issuecomment-361439",
    "user": "https://github.com/fchapoton"
}
```

**Changing keywords** from "" to "upgrade".



---

archive/issue_comments_361440.json:
```json
{
    "body": "**Changing status** from needs_info to needs_review.",
    "created_at": "2019-03-01T10:17:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20717#issuecomment-361440",
    "user": "https://github.com/fchapoton"
}
```

**Changing status** from needs_info to needs_review.



---

archive/issue_comments_361441.json:
```json
{
    "body": "**Commit:** [c99b79d7782d7fa3ae095cb7e36dcdf125d4499a](https://github.com/sagemath/sagetrac-mirror/commit/c99b79d7782d7fa3ae095cb7e36dcdf125d4499a)",
    "created_at": "2019-03-01T10:17:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20717#issuecomment-361441",
    "user": "https://github.com/fchapoton"
}
```

**Commit:** [c99b79d7782d7fa3ae095cb7e36dcdf125d4499a](https://github.com/sagemath/sagetrac-mirror/commit/c99b79d7782d7fa3ae095cb7e36dcdf125d4499a)



---

archive/issue_comments_361442.json:
```json
{
    "body": "<a id='comment:9'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c99b79d7782d7fa3ae095cb7e36dcdf125d4499a\">c99b79d</a></td><td><code>trac 20717 update elliptic_curves spkg</code></td></tr></table>\n",
    "created_at": "2019-03-01T10:17:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20717#issuecomment-361442",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:9'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c99b79d7782d7fa3ae095cb7e36dcdf125d4499a">c99b79d</a></td><td><code>trac 20717 update elliptic_curves spkg</code></td></tr></table>




---

archive/issue_comments_361443.json:
```json
{
    "body": "**Branch:** [u/chapoton/20717](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/20717)",
    "created_at": "2019-03-01T10:17:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20717#issuecomment-361443",
    "user": "https://github.com/fchapoton"
}
```

**Branch:** [u/chapoton/20717](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/20717)



---

archive/issue_comments_361444.json:
```json
{
    "body": "<a id='comment:10'></a>\nrather a trivial ticket, I would say",
    "created_at": "2019-03-10T10:42:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20717#issuecomment-361444",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:10'></a>
rather a trivial ticket, I would say



---

archive/issue_comments_361445.json:
```json
{
    "body": "<a id='comment:11'></a>\nCan we just call the new \"version\" 0.8.p1 or something?  The actual data files haven't changed at all.",
    "created_at": "2019-03-13T17:03:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20717#issuecomment-361445",
    "user": "https://github.com/embray"
}
```

<a id='comment:11'></a>
Can we just call the new "version" 0.8.p1 or something?  The actual data files haven't changed at all.



---

archive/issue_comments_361446.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -4,4 +4,4 @@\n \n I have made a new tarball here:\n \n-http://chapoton.perso.math.cnrs.fr/elliptic_curves-0.9.tar.bz2\n+http://chapoton.perso.math.cnrs.fr/elliptic_curves-0.8.p1.tar.bz2\n``````\n",
    "created_at": "2019-03-14T19:48:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20717#issuecomment-361446",
    "user": "https://github.com/fchapoton"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -4,4 +4,4 @@
 
 I have made a new tarball here:
 
-http://chapoton.perso.math.cnrs.fr/elliptic_curves-0.9.tar.bz2
+http://chapoton.perso.math.cnrs.fr/elliptic_curves-0.8.p1.tar.bz2
``````




---

archive/issue_events_062951.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-03-14T19:48:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20717",
    "milestone": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20717#event-62951"
}
```



---

archive/issue_events_062952.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-03-14T19:48:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20717",
    "milestone": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20717#event-62952"
}
```



---

archive/issue_comments_361447.json:
```json
{
    "body": "**Changing commit** from \"[c99b79d7782d7fa3ae095cb7e36dcdf125d4499a](https://github.com/sagemath/sagetrac-mirror/commit/c99b79d7782d7fa3ae095cb7e36dcdf125d4499a)\" to \"[c2c8550aa0862dd2a24a2ca1225db009c4735739](https://github.com/sagemath/sagetrac-mirror/commit/c2c8550aa0862dd2a24a2ca1225db009c4735739)\".",
    "created_at": "2019-03-14T19:52:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20717#issuecomment-361447",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[c99b79d7782d7fa3ae095cb7e36dcdf125d4499a](https://github.com/sagemath/sagetrac-mirror/commit/c99b79d7782d7fa3ae095cb7e36dcdf125d4499a)" to "[c2c8550aa0862dd2a24a2ca1225db009c4735739](https://github.com/sagemath/sagetrac-mirror/commit/c2c8550aa0862dd2a24a2ca1225db009c4735739)".



---

archive/issue_comments_361448.json:
```json
{
    "body": "<a id='comment:13'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1b4cccb5a54da63838e7a88a7a0c85714bd55665\">1b4cccb</a></td><td><code>Merge branch 'u/chapoton/20717' in 8.7.b7</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c2c8550aa0862dd2a24a2ca1225db009c4735739\">c2c8550</a></td><td><code>use version name 0.8.p1</code></td></tr></table>\n",
    "created_at": "2019-03-14T19:52:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20717#issuecomment-361448",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1b4cccb5a54da63838e7a88a7a0c85714bd55665">1b4cccb</a></td><td><code>Merge branch 'u/chapoton/20717' in 8.7.b7</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c2c8550aa0862dd2a24a2ca1225db009c4735739">c2c8550</a></td><td><code>use version name 0.8.p1</code></td></tr></table>




---

archive/issue_comments_361449.json:
```json
{
    "body": "<a id='comment:14'></a>\n![](https://upload.wikimedia.org/wikipedia/commons/thumb/a/a5/Emoji_u1f381.svg/128px-Emoji_u1f381.svg.png)\n\nHere it is ! Nice enough for you ?",
    "created_at": "2019-03-14T20:00:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20717#issuecomment-361449",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:14'></a>
![](https://upload.wikimedia.org/wikipedia/commons/thumb/a/a5/Emoji_u1f381.svg/128px-Emoji_u1f381.svg.png)

Here it is ! Nice enough for you ?



---

archive/issue_comments_361450.json:
```json
{
    "body": "**Author:** Fr\u00e9d\u00e9ric Chapoton",
    "created_at": "2019-03-15T15:44:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20717#issuecomment-361450",
    "user": "https://github.com/embray"
}
```

**Author:** Frédéric Chapoton



---

archive/issue_comments_361451.json:
```json
{
    "body": "<a id='comment:15'></a>\nI squashed your changes, but otherwise yes. Wouldn't want to have both versions in the history; that would get confusing.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3e95e2d59972644cabee589d062e0ea11100536d\">3e95e2d</a></td><td><code>Trac #20717: update elliptic_curves spkg</code></td></tr></table>\n",
    "created_at": "2019-03-15T15:44:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20717#issuecomment-361451",
    "user": "https://github.com/embray"
}
```

<a id='comment:15'></a>
I squashed your changes, but otherwise yes. Wouldn't want to have both versions in the history; that would get confusing.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3e95e2d59972644cabee589d062e0ea11100536d">3e95e2d</a></td><td><code>Trac #20717: update elliptic_curves spkg</code></td></tr></table>




---

archive/issue_comments_361452.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2019-03-15T15:44:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20717#issuecomment-361452",
    "user": "https://github.com/embray"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_361453.json:
```json
{
    "body": "**Changing commit** from \"[c2c8550aa0862dd2a24a2ca1225db009c4735739](https://github.com/sagemath/sagetrac-mirror/commit/c2c8550aa0862dd2a24a2ca1225db009c4735739)\" to \"[3e95e2d59972644cabee589d062e0ea11100536d](https://github.com/sagemath/sagetrac-mirror/commit/3e95e2d59972644cabee589d062e0ea11100536d)\".",
    "created_at": "2019-03-15T15:44:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20717#issuecomment-361453",
    "user": "https://github.com/embray"
}
```

**Changing commit** from "[c2c8550aa0862dd2a24a2ca1225db009c4735739](https://github.com/sagemath/sagetrac-mirror/commit/c2c8550aa0862dd2a24a2ca1225db009c4735739)" to "[3e95e2d59972644cabee589d062e0ea11100536d](https://github.com/sagemath/sagetrac-mirror/commit/3e95e2d59972644cabee589d062e0ea11100536d)".



---

archive/issue_comments_361454.json:
```json
{
    "body": "**Changing branch** from \"[u/chapoton/20717](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/20717)\" to \"[public/ticket-20717](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket-20717)\".",
    "created_at": "2019-03-15T15:44:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20717#issuecomment-361454",
    "user": "https://github.com/embray"
}
```

**Changing branch** from "[u/chapoton/20717](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/20717)" to "[public/ticket-20717](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket-20717)".



---

archive/issue_comments_361455.json:
```json
{
    "body": "**Reviewer:** Erik Bray",
    "created_at": "2019-03-15T15:44:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20717#issuecomment-361455",
    "user": "https://github.com/embray"
}
```

**Reviewer:** Erik Bray



---

archive/issue_comments_361456.json:
```json
{
    "body": "**Changing status** from positive_review to needs_work.",
    "created_at": "2019-03-15T16:15:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20717#issuecomment-361456",
    "user": "https://github.com/jdemeyer"
}
```

**Changing status** from positive_review to needs_work.



---

archive/issue_comments_361457.json:
```json
{
    "body": "<a id='comment:16'></a>\nYou really need to change the version number if you change the tarball. Adding `.p1` doesn't work since that's not considered part of the version number. The current version fails to build with\n\n```\nFound local metadata for elliptic_curves-0.8.p1\nWARNING [tarball|download:149]: Invalid checksum; ignoring cached file /usr/local/src/sage-config/upstream/elliptic_curves-0.8.tar.bz2\nAttempting to download package elliptic_curves-0.8.tar.bz2 from mirrors\nhttps://mirror.koddos.net/sagemath/spkg/upstream/elliptic_curves/elliptic_curves-0.8.tar.bz2\n[......................................................................]\n************************************************************************\nTraceback (most recent call last):\n  File \"/usr/local/src/sage-config/build/bin/../sage_bootstrap/download/cmdline.py\", line 118, in run_safe\n    run()\n  File \"/usr/local/src/sage-config/build/bin/../sage_bootstrap/download/cmdline.py\", line 100, in run\n    app.download_tarball(args.url_or_tarball, args.destination)\n  File \"/usr/local/src/sage-config/build/bin/../sage_bootstrap/download/app.py\", line 43, in download_tarball\n    tarball.download()\n  File \"/usr/local/src/sage-config/build/bin/../sage_bootstrap/tarball.py\", line 164, in download\n    raise ChecksumError('checksum does not match')\nChecksumError: checksum does not match\n************************************************************************\n************************************************************************\nError downloading elliptic_curves-0.8.tar.bz2\n************************************************************************\nPlease email sage-devel (http://groups.google.com/group/sage-devel)\nexplaining the problem and including the log file\n  /usr/local/src/sage-config/logs/pkgs/elliptic_curves-0.8.p1.log\nDescribe your computer, operating system, etc.\n************************************************************************\n```",
    "created_at": "2019-03-15T16:15:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20717#issuecomment-361457",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:16'></a>
You really need to change the version number if you change the tarball. Adding `.p1` doesn't work since that's not considered part of the version number. The current version fails to build with

```
Found local metadata for elliptic_curves-0.8.p1
WARNING [tarball|download:149]: Invalid checksum; ignoring cached file /usr/local/src/sage-config/upstream/elliptic_curves-0.8.tar.bz2
Attempting to download package elliptic_curves-0.8.tar.bz2 from mirrors
https://mirror.koddos.net/sagemath/spkg/upstream/elliptic_curves/elliptic_curves-0.8.tar.bz2
[......................................................................]
************************************************************************
Traceback (most recent call last):
  File "/usr/local/src/sage-config/build/bin/../sage_bootstrap/download/cmdline.py", line 118, in run_safe
    run()
  File "/usr/local/src/sage-config/build/bin/../sage_bootstrap/download/cmdline.py", line 100, in run
    app.download_tarball(args.url_or_tarball, args.destination)
  File "/usr/local/src/sage-config/build/bin/../sage_bootstrap/download/app.py", line 43, in download_tarball
    tarball.download()
  File "/usr/local/src/sage-config/build/bin/../sage_bootstrap/tarball.py", line 164, in download
    raise ChecksumError('checksum does not match')
ChecksumError: checksum does not match
************************************************************************
************************************************************************
Error downloading elliptic_curves-0.8.tar.bz2
************************************************************************
Please email sage-devel (http://groups.google.com/group/sage-devel)
explaining the problem and including the log file
  /usr/local/src/sage-config/logs/pkgs/elliptic_curves-0.8.p1.log
Describe your computer, operating system, etc.
************************************************************************
```



---

archive/issue_comments_361458.json:
```json
{
    "body": "<a id='comment:17'></a>\nCalling it `0.8p1` instead of `0.8.p1` would work.",
    "created_at": "2019-03-15T16:19:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20717#issuecomment-361458",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:17'></a>
Calling it `0.8p1` instead of `0.8.p1` would work.



---

archive/issue_comments_361459.json:
```json
{
    "body": "<a id='comment:18'></a>\nHow amusing.",
    "created_at": "2019-03-15T16:19:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20717#issuecomment-361459",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:18'></a>
How amusing.



---

archive/issue_comments_361460.json:
```json
{
    "body": "<a id='comment:19'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/29a858da62e738c08d838af4265556ee5e5178fd\">29a858d</a></td><td><code>Trac #20717: update elliptic_curves spkg</code></td></tr></table>\n",
    "created_at": "2019-03-16T08:27:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20717#issuecomment-361460",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/29a858da62e738c08d838af4265556ee5e5178fd">29a858d</a></td><td><code>Trac #20717: update elliptic_curves spkg</code></td></tr></table>




---

archive/issue_comments_361461.json:
```json
{
    "body": "**Changing commit** from \"[3e95e2d59972644cabee589d062e0ea11100536d](https://github.com/sagemath/sagetrac-mirror/commit/3e95e2d59972644cabee589d062e0ea11100536d)\" to \"[29a858da62e738c08d838af4265556ee5e5178fd](https://github.com/sagemath/sagetrac-mirror/commit/29a858da62e738c08d838af4265556ee5e5178fd)\".",
    "created_at": "2019-03-16T08:27:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20717#issuecomment-361461",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[3e95e2d59972644cabee589d062e0ea11100536d](https://github.com/sagemath/sagetrac-mirror/commit/3e95e2d59972644cabee589d062e0ea11100536d)" to "[29a858da62e738c08d838af4265556ee5e5178fd](https://github.com/sagemath/sagetrac-mirror/commit/29a858da62e738c08d838af4265556ee5e5178fd)".



---

archive/issue_comments_361462.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2019-03-16T08:29:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20717#issuecomment-361462",
    "user": "https://github.com/fchapoton"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_361463.json:
```json
{
    "body": "<a id='comment:20'></a>\ndone and checked.",
    "created_at": "2019-03-16T08:29:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20717#issuecomment-361463",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:20'></a>
done and checked.



---

archive/issue_comments_361464.json:
```json
{
    "body": "<a id='comment:21'></a>\nAnybody out there?",
    "created_at": "2019-03-19T10:37:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20717#issuecomment-361464",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:21'></a>
Anybody out there?



---

archive/issue_comments_361465.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -4,4 +4,4 @@\n \n I have made a new tarball here:\n \n-http://chapoton.perso.math.cnrs.fr/elliptic_curves-0.8.p1.tar.bz2\n+http://chapoton.perso.math.cnrs.fr/elliptic_curves-0.8.1.tar.bz2\n``````\n",
    "created_at": "2019-03-19T10:57:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20717#issuecomment-361465",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -4,4 +4,4 @@
 
 I have made a new tarball here:
 
-http://chapoton.perso.math.cnrs.fr/elliptic_curves-0.8.p1.tar.bz2
+http://chapoton.perso.math.cnrs.fr/elliptic_curves-0.8.1.tar.bz2
``````




---

archive/issue_comments_361466.json:
```json
{
    "body": "<a id='comment:23'></a>\nstill nobody listening ?",
    "created_at": "2019-04-01T09:01:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20717#issuecomment-361466",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:23'></a>
still nobody listening ?



---

archive/issue_comments_361467.json:
```json
{
    "body": "<a id='comment:24'></a>\nI checked out the branch (from a successful build of 8.8.beta0) and triggered (with make) a totally unnecessarily rebuild of a lot of stuff, since the commit on this ticket was based on 8.7.beta?.  So I killed that and rebased this onto 8.8.beta0 and am now building.\n\nThe tarball looks fine to me since the only diffs are the missing underscore files which were the problem in the first place.\n\nI am happy with the changes to SPKG.txt *but* the tarball is called elliptic_curves-0.8.1.tar.bz2  yet unpacks into elliptic_curves-0.9 .  Surely that is not intended?",
    "created_at": "2019-04-01T09:25:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20717#issuecomment-361467",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:24'></a>
I checked out the branch (from a successful build of 8.8.beta0) and triggered (with make) a totally unnecessarily rebuild of a lot of stuff, since the commit on this ticket was based on 8.7.beta?.  So I killed that and rebased this onto 8.8.beta0 and am now building.

The tarball looks fine to me since the only diffs are the missing underscore files which were the problem in the first place.

I am happy with the changes to SPKG.txt *but* the tarball is called elliptic_curves-0.8.1.tar.bz2  yet unpacks into elliptic_curves-0.9 .  Surely that is not intended?



---

archive/issue_comments_361468.json:
```json
{
    "body": "<a id='comment:25'></a>\nReplying to [cremona](#comment%3A24):\n> I checked out the branch (from a successful build of 8.8.beta0) and triggered (with make) a totally unnecessarily rebuild of a lot of stuff, since the commit on this ticket was based on 8.7.beta?.  So I killed that and rebased this onto 8.8.beta0 and am now building.\n> \n> The tarball looks fine to me since the only diffs are the missing underscore files which were the problem in the first place.\n> \n> I am happy with the changes to SPKG.txt *but* the tarball is called elliptic_curves-0.8.1.tar.bz2  yet unpacks into elliptic_curves-0.9 .  Surely that is not intended?\n\n\nThat's bad indeed. No time to fix that.",
    "created_at": "2019-04-01T09:31:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20717#issuecomment-361468",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:25'></a>
Replying to [cremona](#comment%3A24):
> I checked out the branch (from a successful build of 8.8.beta0) and triggered (with make) a totally unnecessarily rebuild of a lot of stuff, since the commit on this ticket was based on 8.7.beta?.  So I killed that and rebased this onto 8.8.beta0 and am now building.
> 
> The tarball looks fine to me since the only diffs are the missing underscore files which were the problem in the first place.
> 
> I am happy with the changes to SPKG.txt *but* the tarball is called elliptic_curves-0.8.1.tar.bz2  yet unpacks into elliptic_curves-0.9 .  Surely that is not intended?


That's bad indeed. No time to fix that.



---

archive/issue_comments_361469.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2019-04-01T09:31:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20717#issuecomment-361469",
    "user": "https://github.com/fchapoton"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_361470.json:
```json
{
    "body": "**Changing commit** from \"[29a858da62e738c08d838af4265556ee5e5178fd](https://github.com/sagemath/sagetrac-mirror/commit/29a858da62e738c08d838af4265556ee5e5178fd)\" to \"[26fedcbc493d2d478f9d1c1609160bc00bb7fc14](https://github.com/sagemath/sagetrac-mirror/commit/26fedcbc493d2d478f9d1c1609160bc00bb7fc14)\".",
    "created_at": "2019-04-05T14:44:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20717#issuecomment-361470",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[29a858da62e738c08d838af4265556ee5e5178fd](https://github.com/sagemath/sagetrac-mirror/commit/29a858da62e738c08d838af4265556ee5e5178fd)" to "[26fedcbc493d2d478f9d1c1609160bc00bb7fc14](https://github.com/sagemath/sagetrac-mirror/commit/26fedcbc493d2d478f9d1c1609160bc00bb7fc14)".



---

archive/issue_comments_361471.json:
```json
{
    "body": "<a id='comment:26'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/26fedcbc493d2d478f9d1c1609160bc00bb7fc14\">26fedcb</a></td><td><code>Trac #20717: update elliptic_curves spkg</code></td></tr></table>\n",
    "created_at": "2019-04-05T14:44:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20717#issuecomment-361471",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:26'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/26fedcbc493d2d478f9d1c1609160bc00bb7fc14">26fedcb</a></td><td><code>Trac #20717: update elliptic_curves spkg</code></td></tr></table>




---

archive/issue_comments_361472.json:
```json
{
    "body": "<a id='comment:27'></a>\nok, should be good now",
    "created_at": "2019-04-05T14:45:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20717#issuecomment-361472",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:27'></a>
ok, should be good now



---

archive/issue_comments_361473.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2019-04-05T14:45:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20717#issuecomment-361473",
    "user": "https://github.com/fchapoton"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_361474.json:
```json
{
    "body": "<a id='comment:28'></a>\nPlease review, someone ?",
    "created_at": "2019-04-16T09:29:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20717#issuecomment-361474",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:28'></a>
Please review, someone ?



---

archive/issue_comments_361475.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2019-04-16T10:28:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20717#issuecomment-361475",
    "user": "https://github.com/embray"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_361476.json:
```json
{
    "body": "<a id='comment:29'></a>\nLooks like it's probably fine now, thanks.",
    "created_at": "2019-04-16T10:28:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20717#issuecomment-361476",
    "user": "https://github.com/embray"
}
```

<a id='comment:29'></a>
Looks like it's probably fine now, thanks.



---

archive/issue_comments_361477.json:
```json
{
    "body": "**Changing branch** from \"[public/ticket-20717](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket-20717)\" to \"[26fedcbc493d2d478f9d1c1609160bc00bb7fc14](https://github.com/sagemath/sagetrac-mirror/commit/26fedcbc493d2d478f9d1c1609160bc00bb7fc14)\".",
    "created_at": "2019-04-18T19:56:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20717#issuecomment-361477",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[public/ticket-20717](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket-20717)" to "[26fedcbc493d2d478f9d1c1609160bc00bb7fc14](https://github.com/sagemath/sagetrac-mirror/commit/26fedcbc493d2d478f9d1c1609160bc00bb7fc14)".



---

archive/issue_events_062953.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-04-18T19:56:55Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/20717",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20717#event-62953"
}
```
