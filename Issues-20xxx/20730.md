# Issue 20730: Break up sage_setup.autogen.interpreters into a package

archive/issues_020493.json:
```json
{
    "assignees": [],
    "body": "`sage_setup.autogen.interpreters` was getting a bit long (over 4000 lines) and it was hard to understand how some of it was organized.  So I split it up into several logical modules.  This seemed to have [some support](https://groups.google.com/d/msg/sage-devel/RB4-A-p5pRI/0T8ZtGpzCwAJ).\n\nHow exactly I chose to break it up is certainly up for debate, but I thought this was fairly logical to start.  In the `__init__.py` I still import all from all submodules so that the API for the `sage_setup.autogen.interpreters` module is unchanged.\n\nI would like to get some version of this accepted soon, as I have a few tasks to work on in this module and it would be easier (though not necessary) to work on it on top of this change.\n\nDepends on #20238\n\nComponent: **fast_callable**\n\nAuthor: **Erik Bray**\n\nBranch/Commit: **[`b34d5d8`](https://github.com/sagemath/sagetrac-mirror/commit/b34d5d8fc509f6773fe3c72c3d1b0e24a358efde)**\n\nReviewer: **Jean-Pierre Flori**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/20730_\n\n",
    "closed_at": "2017-04-28T23:54:55Z",
    "created_at": "2016-05-31T10:42:55Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20fast%20callable",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.0",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Break up sage_setup.autogen.interpreters into a package",
    "type": "issue",
    "updated_at": "2017-04-28T23:54:55Z",
    "url": "https://github.com/sagemath/sage/issues/20730",
    "user": "https://github.com/embray"
}
```
`sage_setup.autogen.interpreters` was getting a bit long (over 4000 lines) and it was hard to understand how some of it was organized.  So I split it up into several logical modules.  This seemed to have [some support](https://groups.google.com/d/msg/sage-devel/RB4-A-p5pRI/0T8ZtGpzCwAJ).

How exactly I chose to break it up is certainly up for debate, but I thought this was fairly logical to start.  In the `__init__.py` I still import all from all submodules so that the API for the `sage_setup.autogen.interpreters` module is unchanged.

I would like to get some version of this accepted soon, as I have a few tasks to work on in this module and it would be easier (though not necessary) to work on it on top of this change.

Depends on #20238

Component: **fast_callable**

Author: **Erik Bray**

Branch/Commit: **[`b34d5d8`](https://github.com/sagemath/sagetrac-mirror/commit/b34d5d8fc509f6773fe3c72c3d1b0e24a358efde)**

Reviewer: **Jean-Pierre Flori**

_Issue created by migration from https://trac.sagemath.org/ticket/20730_





---

archive/issue_events_289287.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-05-31T10:42:55Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "milestone_number": null,
    "milestone_title": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20730#event-289287"
}
```



---

archive/issue_events_289288.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-05-31T10:42:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20730#event-289288"
}
```



---

archive/issue_comments_300127.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nI suggest to add `from `__future__` import absolute_import, print_function` to all those modules.",
    "created_at": "2016-05-31T10:57:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300127",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:1" align="right">comment:1</div>

I suggest to add `from `__future__` import absolute_import, print_function` to all those modules.



---

archive/issue_comments_300128.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nReplying to [@jdemeyer](#comment%3A1):\n> I suggest to add `from `__future__` import absolute_import, print_function` to all those modules.\n\nFunny, I actually did that at first but then took it out since it wasn't strictly needed.  No problem adding them back in though.",
    "created_at": "2016-05-31T12:51:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300128",
    "user": "https://github.com/embray"
}
```

<div id="comment:2" align="right">comment:2</div>

Replying to [@jdemeyer](#comment%3A1):
> I suggest to add `from `__future__` import absolute_import, print_function` to all those modules.

Funny, I actually did that at first but then took it out since it wasn't strictly needed.  No problem adding them back in though.



---

archive/issue_events_289289.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-05-31T12:53:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20730#event-289289"
}
```



---

archive/issue_comments_300129.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nNot sure what component to put this under.  There isn't one for `fast_callable`.",
    "created_at": "2016-05-31T12:53:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300129",
    "user": "https://github.com/embray"
}
```

<div id="comment:3" align="right">comment:3</div>

Not sure what component to put this under.  There isn't one for `fast_callable`.



---

archive/issue_comments_300130.json:
```json
{
    "body": "Changed commit from **[`2e76f57`](https://github.com/sagemath/sagetrac-mirror/commit/2e76f57321b6be633788af6172645b397ca3d0fd)** to **[`1a434e8`](https://github.com/sagemath/sagetrac-mirror/commit/1a434e8a269cc7eb901817ae0dbd74dd9b804cab)**",
    "created_at": "2016-05-31T12:57:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300130",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2e76f57`](https://github.com/sagemath/sagetrac-mirror/commit/2e76f57321b6be633788af6172645b397ca3d0fd)** to **[`1a434e8`](https://github.com/sagemath/sagetrac-mirror/commit/1a434e8a269cc7eb901817ae0dbd74dd9b804cab)**



---

archive/issue_comments_300131.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1a434e8a269cc7eb901817ae0dbd74dd9b804cab\"><code>1a434e8</code></a></td><td><code>Add from `__future__` import print_function, absolute_import to all (non-empty) modules for forward compatibility.</code></td></tr></table>\n",
    "created_at": "2016-05-31T12:57:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300131",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1a434e8a269cc7eb901817ae0dbd74dd9b804cab"><code>1a434e8</code></a></td><td><code>Add from `__future__` import print_function, absolute_import to all (non-empty) modules for forward compatibility.</code></td></tr></table>




---

archive/issue_comments_300132.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nNow there is ;-)",
    "created_at": "2016-06-01T00:54:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300132",
    "user": "https://github.com/videlec"
}
```

<div id="comment:5" align="right">comment:5</div>

Now there is ;-)



---

archive/issue_events_289290.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2016-06-01T00:54:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20fast%20callable",
    "label_color": "0000ff",
    "label_name": "c: fast callable",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20730#event-289290"
}
```



---

archive/issue_comments_300133.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nTrying to play with your branch I got\n\n```\n[install] [sagelib-7.3.beta2] make[3]: Entering directory '/opt/sage/src'\n[install] [sagelib-7.3.beta2] make[3]: warning: -jN forced in submake: disabling jobserver mode.\n[install] [sagelib-7.3.beta2] make[3]: *** No rule to make target 'sage_setup/autogen/interpreters.py', needed by 'sage/ext/interpreters/__init__.py'.  Stop.\n[install] [sagelib-7.3.beta2] make[3]: Leaving directory '/opt/sage/src'\n```",
    "created_at": "2016-06-01T00:57:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300133",
    "user": "https://github.com/videlec"
}
```

<div id="comment:6" align="right">comment:6</div>

Trying to play with your branch I got

```
[install] [sagelib-7.3.beta2] make[3]: Entering directory '/opt/sage/src'
[install] [sagelib-7.3.beta2] make[3]: warning: -jN forced in submake: disabling jobserver mode.
[install] [sagelib-7.3.beta2] make[3]: *** No rule to make target 'sage_setup/autogen/interpreters.py', needed by 'sage/ext/interpreters/__init__.py'.  Stop.
[install] [sagelib-7.3.beta2] make[3]: Leaving directory '/opt/sage/src'
```



---

archive/issue_comments_300134.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@videlec](#comment%3A6):\n> Trying to play with your branch I got\n> \n> ```\n> [install] [sagelib-7.3.beta2] make[3]: Entering directory '/opt/sage/src'\n> [install] [sagelib-7.3.beta2] make[3]: warning: -jN forced in submake: disabling jobserver mode.\n> [install] [sagelib-7.3.beta2] make[3]: *** No rule to make target 'sage_setup/autogen/interpreters.py', needed by 'sage/ext/interpreters/__init__.py'.  Stop.\n> [install] [sagelib-7.3.beta2] make[3]: Leaving directory '/opt/sage/src'\n> ```\n\nThanks. I don't run `make` that often for building sagelib (as opposed to just running `setup.py ` directly) so I didn't catch this.",
    "created_at": "2016-06-01T11:53:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300134",
    "user": "https://github.com/embray"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@videlec](#comment%3A6):
> Trying to play with your branch I got
> 
> ```
> [install] [sagelib-7.3.beta2] make[3]: Entering directory '/opt/sage/src'
> [install] [sagelib-7.3.beta2] make[3]: warning: -jN forced in submake: disabling jobserver mode.
> [install] [sagelib-7.3.beta2] make[3]: *** No rule to make target 'sage_setup/autogen/interpreters.py', needed by 'sage/ext/interpreters/__init__.py'.  Stop.
> [install] [sagelib-7.3.beta2] make[3]: Leaving directory '/opt/sage/src'
> ```

Thanks. I don't run `make` that often for building sagelib (as opposed to just running `setup.py ` directly) so I didn't catch this.



---

archive/issue_comments_300135.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3f0541dae4474d9afcc88103a51f1b3350071969\"><code>3f0541d</code></a></td><td><code>Change the name attributes of the interpreter implementations to class</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0becca20bfab3373f41dc5c3d528dc267a40ef26\"><code>0becca2</code></a></td><td><code>Update Makefile to more explicitly make targets for the files generated for the interpreters, as well as rebuild those targets when any of the autogen/interpreters sources change.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a7c88ed2a04f32754cf727ee2eccd61d067ed34d\"><code>a7c88ed</code></a></td><td><code>Make Makefile simpler to understand / more robust by calling a function in sage_setup.autogen.interpreters that explicitly prints the names of all interpreters.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6dbab6144024130f3edd0c29b421f9bf21347d9d\"><code>6dbab61</code></a></td><td><code>Also avoid reexpansion of the $(INTERP_SRCS) variable.</code></td></tr></table>\n",
    "created_at": "2016-06-01T14:12:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300135",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3f0541dae4474d9afcc88103a51f1b3350071969"><code>3f0541d</code></a></td><td><code>Change the name attributes of the interpreter implementations to class</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0becca20bfab3373f41dc5c3d528dc267a40ef26"><code>0becca2</code></a></td><td><code>Update Makefile to more explicitly make targets for the files generated for the interpreters, as well as rebuild those targets when any of the autogen/interpreters sources change.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a7c88ed2a04f32754cf727ee2eccd61d067ed34d"><code>a7c88ed</code></a></td><td><code>Make Makefile simpler to understand / more robust by calling a function in sage_setup.autogen.interpreters that explicitly prints the names of all interpreters.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6dbab6144024130f3edd0c29b421f9bf21347d9d"><code>6dbab61</code></a></td><td><code>Also avoid reexpansion of the $(INTERP_SRCS) variable.</code></td></tr></table>




---

archive/issue_comments_300136.json:
```json
{
    "body": "Changed commit from **[`1a434e8`](https://github.com/sagemath/sagetrac-mirror/commit/1a434e8a269cc7eb901817ae0dbd74dd9b804cab)** to **[`6dbab61`](https://github.com/sagemath/sagetrac-mirror/commit/6dbab6144024130f3edd0c29b421f9bf21347d9d)**",
    "created_at": "2016-06-01T14:12:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300136",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1a434e8`](https://github.com/sagemath/sagetrac-mirror/commit/1a434e8a269cc7eb901817ae0dbd74dd9b804cab)** to **[`6dbab61`](https://github.com/sagemath/sagetrac-mirror/commit/6dbab6144024130f3edd0c29b421f9bf21347d9d)**



---

archive/issue_comments_300137.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nThat should fix it.",
    "created_at": "2016-06-01T14:13:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300137",
    "user": "https://github.com/embray"
}
```

<div id="comment:9" align="right">comment:9</div>

That should fix it.



---

archive/issue_comments_300138.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nWhy did you make `src/Makefile` so complicated? I find it hard to understand what you're doing there.",
    "created_at": "2016-06-01T15:12:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300138",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:10" align="right">comment:10</div>

Why did you make `src/Makefile` so complicated? I find it hard to understand what you're doing there.



---

archive/issue_comments_300139.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nWhich part is hard to understand?  The most important change is that since there is not a single `interpreters.py`, if any file in the `sage.autogen.inteprreters` package is changed the interpreter sources should be regenerated.  Even that's a rough approximation :)",
    "created_at": "2016-06-02T09:07:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300139",
    "user": "https://github.com/embray"
}
```

<div id="comment:11" align="right">comment:11</div>

Which part is hard to understand?  The most important change is that since there is not a single `interpreters.py`, if any file in the `sage.autogen.inteprreters` package is changed the interpreter sources should be regenerated.  Even that's a rough approximation :)



---

archive/issue_comments_300140.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@embray](#comment%3A11):\n> if any file in the `sage.autogen.intepreters` package is changed the interpreter sources should be regenerated.\n\nThat can be done with a single wildcard like we already do for the PARI stuff:\n\n```\nsage/libs/pari/auto_gen.pxi: $(SAGE_LOCAL)/share/pari/pari.desc \\\n        sage/libs/pari/decl.pxi sage_setup/autogen/pari/*.py\n    python -c \"from sage_setup.autogen.pari import rebuild; rebuild()\"\n```",
    "created_at": "2016-06-02T09:39:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300140",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@embray](#comment%3A11):
> if any file in the `sage.autogen.intepreters` package is changed the interpreter sources should be regenerated.

That can be done with a single wildcard like we already do for the PARI stuff:

```
sage/libs/pari/auto_gen.pxi: $(SAGE_LOCAL)/share/pari/pari.desc \
        sage/libs/pari/decl.pxi sage_setup/autogen/pari/*.py
    python -c "from sage_setup.autogen.pari import rebuild; rebuild()"
```



---

archive/issue_comments_300141.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nThe current layout I came up with has a `sage_setup.autogen.interpreters.specs` subpackage, so a single wildcard would not work.\n\nI could do away with the subpackage and that's arguable.  I think it makes it easier to find the implementations for the individual interpreter specs, rather than intermingling them with support modules.",
    "created_at": "2016-06-02T13:03:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300141",
    "user": "https://github.com/embray"
}
```

<div id="comment:13" align="right">comment:13</div>

The current layout I came up with has a `sage_setup.autogen.interpreters.specs` subpackage, so a single wildcard would not work.

I could do away with the subpackage and that's arguable.  I think it makes it easier to find the implementations for the individual interpreter specs, rather than intermingling them with support modules.



---

archive/issue_comments_300142.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nOne thing I could do that would definitely simplify this a bit would be instead of the `interpreters.print_names()` function I added, the interpreters module could (and probably should) have a function that returns the names of all the files it generates.  That way this wouldn't have to be duplicated in the Makefile, and it would be made simpler.",
    "created_at": "2016-06-02T13:14:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300142",
    "user": "https://github.com/embray"
}
```

<div id="comment:14" align="right">comment:14</div>

One thing I could do that would definitely simplify this a bit would be instead of the `interpreters.print_names()` function I added, the interpreters module could (and probably should) have a function that returns the names of all the files it generates.  That way this wouldn't have to be duplicated in the Makefile, and it would be made simpler.



---

archive/issue_comments_300143.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nEven with the subdirectory you could still use wildcards...\n\nAnyway, there should be a solution which doesn't involve 20 new lines added to `src/Makefile`.",
    "created_at": "2016-06-02T13:20:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300143",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:15" align="right">comment:15</div>

Even with the subdirectory you could still use wildcards...

Anyway, there should be a solution which doesn't involve 20 new lines added to `src/Makefile`.



---

archive/issue_comments_300144.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nWell it's a difference of one `find` or two wildcard patterns.  I suppose the latter has the slight advantage of being more explicit.  I could try it and see how it looks.",
    "created_at": "2016-06-02T13:54:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300144",
    "user": "https://github.com/embray"
}
```

<div id="comment:16" align="right">comment:16</div>

Well it's a difference of one `find` or two wildcard patterns.  I suppose the latter has the slight advantage of being more explicit.  I could try it and see how it looks.



---

archive/issue_comments_300145.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/301fbe89797b718fe3ea31d9a528e5fb0fe3bcd0\"><code>301fbe8</code></a></td><td><code>Deduplicate code in anticipation of adding more generated file(s) for interpreters.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/65a05199a4422491e97934569f950cf8ae10ff39\"><code>65a0519</code></a></td><td><code>Simplify Makefile further by replacing print_names() with a list_sources() that just prints the names of all generated source files.</code></td></tr></table>\n",
    "created_at": "2016-06-13T14:29:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300145",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/301fbe89797b718fe3ea31d9a528e5fb0fe3bcd0"><code>301fbe8</code></a></td><td><code>Deduplicate code in anticipation of adding more generated file(s) for interpreters.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/65a05199a4422491e97934569f950cf8ae10ff39"><code>65a0519</code></a></td><td><code>Simplify Makefile further by replacing print_names() with a list_sources() that just prints the names of all generated source files.</code></td></tr></table>




---

archive/issue_comments_300146.json:
```json
{
    "body": "Changed commit from **[`6dbab61`](https://github.com/sagemath/sagetrac-mirror/commit/6dbab6144024130f3edd0c29b421f9bf21347d9d)** to **[`65a0519`](https://github.com/sagemath/sagetrac-mirror/commit/65a05199a4422491e97934569f950cf8ae10ff39)**",
    "created_at": "2016-06-13T14:29:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300146",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6dbab61`](https://github.com/sagemath/sagetrac-mirror/commit/6dbab6144024130f3edd0c29b421f9bf21347d9d)** to **[`65a0519`](https://github.com/sagemath/sagetrac-mirror/commit/65a05199a4422491e97934569f950cf8ae10ff39)**



---

archive/issue_comments_300147.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nSimplified the Makefile a smidge.  It's actually better this way than I had it before, because now `sage_setup.autogen.interpreters` alone is responsible for knowing the names of the files it outputs, reducing the need to keep track of that information in multiple places.",
    "created_at": "2016-06-13T14:31:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300147",
    "user": "https://github.com/embray"
}
```

<div id="comment:18" align="right">comment:18</div>

Simplified the Makefile a smidge.  It's actually better this way than I had it before, because now `sage_setup.autogen.interpreters` alone is responsible for knowing the names of the files it outputs, reducing the need to keep track of that information in multiple places.



---

archive/issue_comments_300148.json:
```json
{
    "body": "<div id=\"comment:19\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d5225c350c9b7e01708f68dddff955857a9aea5d\"><code>d5225c3</code></a></td><td><code>Simplify Makefile further by replacing print_names() with a list_sources() that just prints the names of all generated source files.</code></td></tr></table>\n",
    "created_at": "2016-08-16T11:16:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300148",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:19"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d5225c350c9b7e01708f68dddff955857a9aea5d"><code>d5225c3</code></a></td><td><code>Simplify Makefile further by replacing print_names() with a list_sources() that just prints the names of all generated source files.</code></td></tr></table>




---

archive/issue_comments_300149.json:
```json
{
    "body": "Changed commit from **[`65a0519`](https://github.com/sagemath/sagetrac-mirror/commit/65a05199a4422491e97934569f950cf8ae10ff39)** to **[`d5225c3`](https://github.com/sagemath/sagetrac-mirror/commit/d5225c350c9b7e01708f68dddff955857a9aea5d)**",
    "created_at": "2016-08-16T11:16:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300149",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`65a0519`](https://github.com/sagemath/sagetrac-mirror/commit/65a05199a4422491e97934569f950cf8ae10ff39)** to **[`d5225c3`](https://github.com/sagemath/sagetrac-mirror/commit/d5225c350c9b7e01708f68dddff955857a9aea5d)**



---

archive/issue_comments_300150.json:
```json
{
    "body": "Changed commit from **[`d5225c3`](https://github.com/sagemath/sagetrac-mirror/commit/d5225c350c9b7e01708f68dddff955857a9aea5d)** to **[`206138a`](https://github.com/sagemath/sagetrac-mirror/commit/206138aaf56066e5cac608a792590e45b82c20f3)**",
    "created_at": "2016-08-24T09:23:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300150",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d5225c3`](https://github.com/sagemath/sagetrac-mirror/commit/d5225c350c9b7e01708f68dddff955857a9aea5d)** to **[`206138a`](https://github.com/sagemath/sagetrac-mirror/commit/206138aaf56066e5cac608a792590e45b82c20f3)**



---

archive/issue_comments_300151.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/750a67dc0b20086165d87cbc83a92583f9ae9862\"><code>750a67d</code></a></td><td><code>Add all of sage_setup to in_lib so that the doctest runner will not try to load the modules individually.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7621549c99e8d44ab95cd89511ecc14728908cb1\"><code>7621549</code></a></td><td><code>Add from `__future__` import print_function, absolute_import to all (non-empty) modules for forward compatibility.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4570ef2b71f709571cf934340b5eb1186bdc3cfc\"><code>4570ef2</code></a></td><td><code>Change the name attributes of the interpreter implementations to class</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e73f68efc9babddf9e21517558424118707dc3c0\"><code>e73f68e</code></a></td><td><code>Update Makefile to more explicitly make targets for the files generated for the interpreters, as well as rebuild those targets when any of the autogen/interpreters sources change.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/22a4ef548d7a7120e304501bf2253dc54431e3a3\"><code>22a4ef5</code></a></td><td><code>Make Makefile simpler to understand / more robust by calling a function in sage_setup.autogen.interpreters that explicitly prints the names of all interpreters.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ffa16f40573a825413b9675e826bf519139bcfe9\"><code>ffa16f4</code></a></td><td><code>Also avoid reexpansion of the $(INTERP_SRCS) variable.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1d4dc46759275ce57091be664974fab8e53b02ac\"><code>1d4dc46</code></a></td><td><code>Deduplicate code in anticipation of adding more generated file(s) for interpreters.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/baa34eb41acc5bcb3cf74f10c784f622e5910d2f\"><code>baa34eb</code></a></td><td><code>Simplify Makefile further by replacing print_names() with a list_sources() that just prints the names of all generated source files.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9f9c44d27f24871eff22f2e9aac3f6400a8f50ae\"><code>9f9c44d</code></a></td><td><code>Fixes to testing sage_setup</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/206138aaf56066e5cac608a792590e45b82c20f3\"><code>206138a</code></a></td><td><code>Ensure that the value of in_lib is a bool.</code></td></tr></table>\n",
    "created_at": "2016-08-24T09:23:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300151",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/750a67dc0b20086165d87cbc83a92583f9ae9862"><code>750a67d</code></a></td><td><code>Add all of sage_setup to in_lib so that the doctest runner will not try to load the modules individually.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7621549c99e8d44ab95cd89511ecc14728908cb1"><code>7621549</code></a></td><td><code>Add from `__future__` import print_function, absolute_import to all (non-empty) modules for forward compatibility.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4570ef2b71f709571cf934340b5eb1186bdc3cfc"><code>4570ef2</code></a></td><td><code>Change the name attributes of the interpreter implementations to class</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e73f68efc9babddf9e21517558424118707dc3c0"><code>e73f68e</code></a></td><td><code>Update Makefile to more explicitly make targets for the files generated for the interpreters, as well as rebuild those targets when any of the autogen/interpreters sources change.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/22a4ef548d7a7120e304501bf2253dc54431e3a3"><code>22a4ef5</code></a></td><td><code>Make Makefile simpler to understand / more robust by calling a function in sage_setup.autogen.interpreters that explicitly prints the names of all interpreters.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ffa16f40573a825413b9675e826bf519139bcfe9"><code>ffa16f4</code></a></td><td><code>Also avoid reexpansion of the $(INTERP_SRCS) variable.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1d4dc46759275ce57091be664974fab8e53b02ac"><code>1d4dc46</code></a></td><td><code>Deduplicate code in anticipation of adding more generated file(s) for interpreters.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/baa34eb41acc5bcb3cf74f10c784f622e5910d2f"><code>baa34eb</code></a></td><td><code>Simplify Makefile further by replacing print_names() with a list_sources() that just prints the names of all generated source files.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9f9c44d27f24871eff22f2e9aac3f6400a8f50ae"><code>9f9c44d</code></a></td><td><code>Fixes to testing sage_setup</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/206138aaf56066e5cac608a792590e45b82c20f3"><code>206138a</code></a></td><td><code>Ensure that the value of in_lib is a bool.</code></td></tr></table>




---

archive/issue_comments_300152.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nRebased again (incorporating some small Python3-compat fixes that were made in the meantime) and fixed some issues that were causing some tests to fail in the sage_setup package.",
    "created_at": "2016-08-24T09:23:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300152",
    "user": "https://github.com/embray"
}
```

<div id="comment:21" align="right">comment:21</div>

Rebased again (incorporating some small Python3-compat fixes that were made in the meantime) and fixed some issues that were causing some tests to fail in the sage_setup package.



---

archive/issue_comments_300153.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nJeroen, are you going to be finishing the review of this ticket?",
    "created_at": "2016-09-09T13:40:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300153",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:22" align="right">comment:22</div>

Jeroen, are you going to be finishing the review of this ticket?



---

archive/issue_comments_300154.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nWe should have talked about this ticket this week. I know I'm repeating myself, but I still don't like what you did to `src/Makefile`.\n\nAnyway, I'll look at the rest.",
    "created_at": "2016-09-09T13:57:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300154",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:23" align="right">comment:23</div>

We should have talked about this ticket this week. I know I'm repeating myself, but I still don't like what you did to `src/Makefile`.

Anyway, I'll look at the rest.



---

archive/issue_comments_300155.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nWhat's the point of this:\n\n```\n# nodoctest -- __main__ modules are just for running the module from the\n# command line and should not be doctested\n```\n\nIt doesn't matter since the file doesn't have doctests anyway.",
    "created_at": "2016-09-09T13:58:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300155",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:24" align="right">comment:24</div>

What's the point of this:

```
# nodoctest -- __main__ modules are just for running the module from the
# command line and should not be doctested
```

It doesn't matter since the file doesn't have doctests anyway.



---

archive/issue_comments_300156.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@jdemeyer](#comment%3A24):\n> What's the point of this:\n> \n> ```\n> # nodoctest -- __main__ modules are just for running the module from the\n> # command line and should not be doctested\n> ```\n> \n> It doesn't matter since the file doesn't have doctests anyway.\n\nIf it didn't matter I wouldn't have even thought to put such a thing.  The doctest runner still imports a module to determine if there are any doctests in the module.  Since everything in a `__main__` module is is executed upon import, we don't want the doctest runner to even import it (there is no `if `__name__` == '__main__'` equivalent since it's a tautology in this case).",
    "created_at": "2016-09-09T14:56:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300156",
    "user": "https://github.com/embray"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@jdemeyer](#comment%3A24):
> What's the point of this:
> 
> ```
> # nodoctest -- __main__ modules are just for running the module from the
> # command line and should not be doctested
> ```
> 
> It doesn't matter since the file doesn't have doctests anyway.

If it didn't matter I wouldn't have even thought to put such a thing.  The doctest runner still imports a module to determine if there are any doctests in the module.  Since everything in a `__main__` module is is executed upon import, we don't want the doctest runner to even import it (there is no `if `__name__` == '__main__'` equivalent since it's a tautology in this case).



---

archive/issue_comments_300157.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nI agree with Jeroen (comment 23) that these Makefile tricks seem unnecessarily complicated.\nJust the list the few files that are there one by one in the Makefile.\n\nBy the way, #21480 puts this interpreter source generation business under control of setup.sh. So there would be an option to do these kind of things in Python, rather than in Makefile.",
    "created_at": "2016-09-16T04:04:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300157",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:26" align="right">comment:26</div>

I agree with Jeroen (comment 23) that these Makefile tricks seem unnecessarily complicated.
Just the list the few files that are there one by one in the Makefile.

By the way, #21480 puts this interpreter source generation business under control of setup.sh. So there would be an option to do these kind of things in Python, rather than in Makefile.



---

archive/issue_events_289291.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-09-18T21:17:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20730#event-289291"
}
```



---

archive/issue_events_289292.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-09-18T21:17:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20730#event-289292"
}
```



---

archive/issue_events_289293.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-09-18T21:17:32Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "milestone_number": null,
    "milestone_title": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20730#event-289293"
}
```



---

archive/issue_events_289294.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-09-18T21:17:32Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "milestone_number": null,
    "milestone_title": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20730#event-289294"
}
```



---

archive/issue_comments_300158.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nSorry but I really need to push back on this one.  Earlier I did have a version of this that listed the files manually and then later one that was a little less manual but even then Jeroen complained that it made the file \"too long\" or something.\n\nI also reject the characterization of this has Makefile \"tricks\".  These are standard features of make that have been around forever.  These objections just sound like you've never encountered a non-trivial makefile before (which I know isn't true).\n\nHonestly I would just as soon get rid of this makefile entirely, but as long as it's there I see no problem here.",
    "created_at": "2016-09-22T15:35:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300158",
    "user": "https://github.com/embray"
}
```

<div id="comment:28" align="right">comment:28</div>

Sorry but I really need to push back on this one.  Earlier I did have a version of this that listed the files manually and then later one that was a little less manual but even then Jeroen complained that it made the file "too long" or something.

I also reject the characterization of this has Makefile "tricks".  These are standard features of make that have been around forever.  These objections just sound like you've never encountered a non-trivial makefile before (which I know isn't true).

Honestly I would just as soon get rid of this makefile entirely, but as long as it's there I see no problem here.



---

archive/issue_events_289295.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-09-22T15:35:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20730#event-289295"
}
```



---

archive/issue_events_289296.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-09-22T15:35:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20730#event-289296"
}
```



---

archive/issue_comments_300159.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nIn the meantime you're holding up real work by bikeshedding over code that you arbitrarily think is \"too complicated\".",
    "created_at": "2016-09-22T15:36:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300159",
    "user": "https://github.com/embray"
}
```

<div id="comment:29" align="right">comment:29</div>

In the meantime you're holding up real work by bikeshedding over code that you arbitrarily think is "too complicated".



---

archive/issue_comments_300160.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nReplying to [@embray](#comment%3A28):\n> I also reject the characterization of this has Makefile \"tricks\".  These are standard features of make that have been around forever.  These objections just sound like you've never encountered a non-trivial makefile before (which I know isn't true).\n\nI've encountered too many.",
    "created_at": "2016-09-22T16:58:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300160",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:30" align="right">comment:30</div>

Replying to [@embray](#comment%3A28):
> I also reject the characterization of this has Makefile "tricks".  These are standard features of make that have been around forever.  These objections just sound like you've never encountered a non-trivial makefile before (which I know isn't true).

I've encountered too many.



---

archive/issue_comments_300161.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nReplying to [@embray](#comment%3A29):\n> In the meantime you're holding up real work by bikeshedding over code that you arbitrarily think is \"too complicated\".\n\nI understand but it's not just bikeshedding. It's also about readability. Every time I look at that `src/Makefile` I really have to think hard to understand what is going on. And usually, that is a bad sign.\n\nIf you convince me that all that extra complexity is really needed, then I don't mind to merge this. But at this point, I am not yet convinced.",
    "created_at": "2016-09-23T09:25:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300161",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:31" align="right">comment:31</div>

Replying to [@embray](#comment%3A29):
> In the meantime you're holding up real work by bikeshedding over code that you arbitrarily think is "too complicated".

I understand but it's not just bikeshedding. It's also about readability. Every time I look at that `src/Makefile` I really have to think hard to understand what is going on. And usually, that is a bad sign.

If you convince me that all that extra complexity is really needed, then I don't mind to merge this. But at this point, I am not yet convinced.



---

archive/issue_comments_300162.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nI find that unconvincing--have you ever looked at sage's toplevel Makefile?  *That's* confusing.  Given the other complexities of sage I do find nitpicking over the (highly subjective) \"readability\" of one makefile confusing.  Maybe you're just not used to reading makefiles that happen to make use of these features, but I have seen plenty before I don't think it's unreadable at all.\n\nIf we're going to remove this makefile eventually anyways, which we should, then just let it be.",
    "created_at": "2016-09-23T11:25:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300162",
    "user": "https://github.com/embray"
}
```

<div id="comment:32" align="right">comment:32</div>

I find that unconvincing--have you ever looked at sage's toplevel Makefile?  *That's* confusing.  Given the other complexities of sage I do find nitpicking over the (highly subjective) "readability" of one makefile confusing.  Maybe you're just not used to reading makefiles that happen to make use of these features, but I have seen plenty before I don't think it's unreadable at all.

If we're going to remove this makefile eventually anyways, which we should, then just let it be.



---

archive/issue_comments_300163.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nAnd yes, it's needed, because the previous file was actually wrong.  I already demonstrated this to you before weeks ago.  If you're going to use make to require that generated files are up to date, then you have to actually provide the names of those generated files.  Most of the time that can be provided implicitly by a pattern (e.g. `%.c => %.o`) but that's not the case here.  In part because make was really not designed for stuff like this in the first place.",
    "created_at": "2016-09-23T11:27:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300163",
    "user": "https://github.com/embray"
}
```

<div id="comment:33" align="right">comment:33</div>

And yes, it's needed, because the previous file was actually wrong.  I already demonstrated this to you before weeks ago.  If you're going to use make to require that generated files are up to date, then you have to actually provide the names of those generated files.  Most of the time that can be provided implicitly by a pattern (e.g. `%.c => %.o`) but that's not the case here.  In part because make was really not designed for stuff like this in the first place.



---

archive/issue_comments_300164.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nOn further reflection, by my own logic if my preference is to remove the makefile entirely then it doesn't matter what's in there. So if it'll help get this done I'll remove the changes changes and focus on helping the efforts to improve Sage's build.",
    "created_at": "2016-09-23T21:35:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300164",
    "user": "https://github.com/embray"
}
```

<div id="comment:34" align="right">comment:34</div>

On further reflection, by my own logic if my preference is to remove the makefile entirely then it doesn't matter what's in there. So if it'll help get this done I'll remove the changes changes and focus on helping the efforts to improve Sage's build.



---

archive/issue_comments_300165.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nOK, maybe I already I asked you this, but why run a Python command to determine `INTERP_SOURCES`? Why not a simple wildcard?\n\nEdit: never mind, this `INTERP_SOURCES` has **generated** sources.",
    "created_at": "2016-09-24T13:33:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300165",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:35" align="right">comment:35</div>

OK, maybe I already I asked you this, but why run a Python command to determine `INTERP_SOURCES`? Why not a simple wildcard?

Edit: never mind, this `INTERP_SOURCES` has **generated** sources.



---

archive/issue_comments_300166.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nReplying to [@embray](#comment%3A33):\n> And yes, it's needed, because the previous file was actually wrong.\n\nMaybe *technically* wrong but right for all practical purposes. Given that all these files are generated at the same time together, there is really nothing wrong with relying on the timestamp of just file.",
    "created_at": "2016-09-24T13:37:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300166",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:36" align="right">comment:36</div>

Replying to [@embray](#comment%3A33):
> And yes, it's needed, because the previous file was actually wrong.

Maybe *technically* wrong but right for all practical purposes. Given that all these files are generated at the same time together, there is really nothing wrong with relying on the timestamp of just file.



---

archive/issue_comments_300167.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nReplying to [@embray](#comment%3A25):\n> The doctest runner still imports a module to determine if there are any doctests in the module.\n\nSorry to say this, but that can't be right. The Sage doctester looks at the files textually to determine the doctests. If what you say is true, we would have the same problem for the docbuilder (`src/sage_setup/docbuild/__main__.py`) but we don't...\n\nFor the sake of simplicity, I would remove that `nodoctests` block.",
    "created_at": "2016-09-24T13:42:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300167",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:37" align="right">comment:37</div>

Replying to [@embray](#comment%3A25):
> The doctest runner still imports a module to determine if there are any doctests in the module.

Sorry to say this, but that can't be right. The Sage doctester looks at the files textually to determine the doctests. If what you say is true, we would have the same problem for the docbuilder (`src/sage_setup/docbuild/__main__.py`) but we don't...

For the sake of simplicity, I would remove that `nodoctests` block.



---

archive/issue_comments_300168.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nHowever the doctester determines the doctests, the fact remains that at some point it *imports* the module.  That happens here: https://github.com/sagemath/sagetrac-mirror/blob/develop/src/sage/doctest/sources.py#n670\n\nThe reason that isn't a problem for `src/sage_setup/docbuild/__main__.py` (and believe me, this had me pulling my hair out) is that it is listed in this insidious [`in_lib`](https://github.com/sagemath/sagetrac-mirror/blob/develop/src/sage/doctest/sources.py#n575) attribute.  I described more problems with this in #20729.\n\nBut if you don't believe me try removing it yourself and see.  Like I said, I wouldn't have even thought to add such a thing in the first place if I didn't have a good reason.",
    "created_at": "2016-09-26T11:46:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300168",
    "user": "https://github.com/embray"
}
```

<div id="comment:38" align="right">comment:38</div>

However the doctester determines the doctests, the fact remains that at some point it *imports* the module.  That happens here: https://github.com/sagemath/sagetrac-mirror/blob/develop/src/sage/doctest/sources.py#n670

The reason that isn't a problem for `src/sage_setup/docbuild/__main__.py` (and believe me, this had me pulling my hair out) is that it is listed in this insidious [`in_lib`](https://github.com/sagemath/sagetrac-mirror/blob/develop/src/sage/doctest/sources.py#n575) attribute.  I described more problems with this in #20729.

But if you don't believe me try removing it yourself and see.  Like I said, I wouldn't have even thought to add such a thing in the first place if I didn't have a good reason.



---

archive/issue_comments_300169.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nReplying to [@jdemeyer](#comment%3A36):\n> Replying to [@embray](#comment%3A33):\n> > And yes, it's needed, because the previous file was actually wrong.\n\n> \n> Maybe *technically* wrong but right for all practical purposes. Given that all these files are generated at the same time together, there is really nothing wrong with relying on the timestamp of just file.\n\nI encountered cases in practice where this was not reliable.  But that was months ago now and I can't recall the specifics.  Like I said, it doesn't matter. I don't care anymore since I'm going to work on getting rid of the makefile anyways.",
    "created_at": "2016-09-26T11:50:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300169",
    "user": "https://github.com/embray"
}
```

<div id="comment:39" align="right">comment:39</div>

Replying to [@jdemeyer](#comment%3A36):
> Replying to [@embray](#comment%3A33):
> > And yes, it's needed, because the previous file was actually wrong.

> 
> Maybe *technically* wrong but right for all practical purposes. Given that all these files are generated at the same time together, there is really nothing wrong with relying on the timestamp of just file.

I encountered cases in practice where this was not reliable.  But that was months ago now and I can't recall the specifics.  Like I said, it doesn't matter. I don't care anymore since I'm going to work on getting rid of the makefile anyways.



---

archive/issue_comments_300170.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nReplying to [@embray](#comment%3A38):\n> However the doctester determines the doctests, the fact remains that at some point it *imports* the module.  That happens here: https://github.com/sagemath/sagetrac-mirror/blob/develop/src/sage/doctest/sources.py#n670\n> \n> The reason that isn't a problem for `src/sage_setup/docbuild/__main__.py` (and believe me, this had me pulling my hair out) is that it is listed in this insidious [`in_lib`](https://github.com/sagemath/sagetrac-mirror/blob/develop/src/sage/doctest/sources.py#n575) attribute.  I described more problems with this in #20729.\n\nOK, I commented on that ticket. Let me know what you think.",
    "created_at": "2016-09-26T15:04:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300170",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:40" align="right">comment:40</div>

Replying to [@embray](#comment%3A38):
> However the doctester determines the doctests, the fact remains that at some point it *imports* the module.  That happens here: https://github.com/sagemath/sagetrac-mirror/blob/develop/src/sage/doctest/sources.py#n670
> 
> The reason that isn't a problem for `src/sage_setup/docbuild/__main__.py` (and believe me, this had me pulling my hair out) is that it is listed in this insidious [`in_lib`](https://github.com/sagemath/sagetrac-mirror/blob/develop/src/sage/doctest/sources.py#n575) attribute.  I described more problems with this in #20729.

OK, I commented on that ticket. Let me know what you think.



---

archive/issue_events_289297.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2017-01-09T09:03:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20730#event-289297"
}
```



---

archive/issue_events_289298.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2017-01-09T09:03:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20730#event-289298"
}
```



---

archive/issue_comments_300171.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nNeeds to be rebased again...\n\nAll the argument about the makefile is a moot point now that that makefile has been removed.",
    "created_at": "2017-03-03T13:59:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300171",
    "user": "https://github.com/embray"
}
```

<div id="comment:42" align="right">comment:42</div>

Needs to be rebased again...

All the argument about the makefile is a moot point now that that makefile has been removed.



---

archive/issue_comments_300172.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nAlso #20729 has been fixed in the mean time, so you shouldn't need to mess with the doctester anymore...",
    "created_at": "2017-03-03T14:09:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300172",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:43" align="right">comment:43</div>

Also #20729 has been fixed in the mean time, so you shouldn't need to mess with the doctester anymore...



---

archive/issue_comments_300173.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nRight, thanks for the reminder.  I'll work on this when I get back from vacation.",
    "created_at": "2017-03-03T14:18:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300173",
    "user": "https://github.com/embray"
}
```

<div id="comment:44" align="right">comment:44</div>

Right, thanks for the reminder.  I'll work on this when I get back from vacation.



---

archive/issue_comments_300174.json:
```json
{
    "body": "<div id=\"comment:45\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bede9b3ad596b1fcddaa34a7b1d50b274d7301ae\"><code>bede9b3</code></a></td><td><code>interpreters.py was quite long, so converted it to a package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/320b3c491fb1a1bb791aa888b4a2a02c118b25b1\"><code>320b3c4</code></a></td><td><code>Changed indentation on several chunks of template code that was previously broken out of the normal Python indentation flow.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c34682461b6c80ecbce447cef66df8969676a3ac\"><code>c346824</code></a></td><td><code>Fixes a newline that messed up the formtting a bit.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9eb811f093013373e6afe223e19d68f5fcafbaeb\"><code>9eb811f</code></a></td><td><code>One more whitespae fix</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/89b48bec1a665bbe5586e41765b519f1ce4c9384\"><code>89b48be</code></a></td><td><code>Add some `__main__` modules for ease of testing.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/55853a74189befbe78c8bfa6d374708fb639696b\"><code>55853a7</code></a></td><td><code>Just import everything into the top-level `__init__` to rebuild the original sage_setup.autogen.interpreters namespace.  This enures that all the tests pass.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9e5cf7546de425e11aea790b899c6193163d4f49\"><code>9e5cf75</code></a></td><td><code>Add from `__future__` import print_function, absolute_import to all (non-empty) modules for forward compatibility.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/45b2847a5e80c4e4642804107dfa3a95037e8d94\"><code>45b2847</code></a></td><td><code>Change the name attributes of the interpreter implementations to class</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/35300469c908556501b697067fdcb84ee4be0b44\"><code>3530046</code></a></td><td><code>Deduplicate code in anticipation of adding more generated file(s) for interpreters.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/04c22e9aba7758da14974d5a3ba53f09349ab628\"><code>04c22e9</code></a></td><td><code>More programmatic discovery of interpreter types rather than manually listing them</code></td></tr></table>\n",
    "created_at": "2017-04-07T12:13:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300174",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:45"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bede9b3ad596b1fcddaa34a7b1d50b274d7301ae"><code>bede9b3</code></a></td><td><code>interpreters.py was quite long, so converted it to a package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/320b3c491fb1a1bb791aa888b4a2a02c118b25b1"><code>320b3c4</code></a></td><td><code>Changed indentation on several chunks of template code that was previously broken out of the normal Python indentation flow.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c34682461b6c80ecbce447cef66df8969676a3ac"><code>c346824</code></a></td><td><code>Fixes a newline that messed up the formtting a bit.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9eb811f093013373e6afe223e19d68f5fcafbaeb"><code>9eb811f</code></a></td><td><code>One more whitespae fix</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/89b48bec1a665bbe5586e41765b519f1ce4c9384"><code>89b48be</code></a></td><td><code>Add some `__main__` modules for ease of testing.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/55853a74189befbe78c8bfa6d374708fb639696b"><code>55853a7</code></a></td><td><code>Just import everything into the top-level `__init__` to rebuild the original sage_setup.autogen.interpreters namespace.  This enures that all the tests pass.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9e5cf7546de425e11aea790b899c6193163d4f49"><code>9e5cf75</code></a></td><td><code>Add from `__future__` import print_function, absolute_import to all (non-empty) modules for forward compatibility.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/45b2847a5e80c4e4642804107dfa3a95037e8d94"><code>45b2847</code></a></td><td><code>Change the name attributes of the interpreter implementations to class</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/35300469c908556501b697067fdcb84ee4be0b44"><code>3530046</code></a></td><td><code>Deduplicate code in anticipation of adding more generated file(s) for interpreters.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/04c22e9aba7758da14974d5a3ba53f09349ab628"><code>04c22e9</code></a></td><td><code>More programmatic discovery of interpreter types rather than manually listing them</code></td></tr></table>




---

archive/issue_comments_300175.json:
```json
{
    "body": "Changed commit from **[`206138a`](https://github.com/sagemath/sagetrac-mirror/commit/206138aaf56066e5cac608a792590e45b82c20f3)** to **[`04c22e9`](https://github.com/sagemath/sagetrac-mirror/commit/04c22e9aba7758da14974d5a3ba53f09349ab628)**",
    "created_at": "2017-04-07T12:13:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300175",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`206138a`](https://github.com/sagemath/sagetrac-mirror/commit/206138aaf56066e5cac608a792590e45b82c20f3)** to **[`04c22e9`](https://github.com/sagemath/sagetrac-mirror/commit/04c22e9aba7758da14974d5a3ba53f09349ab628)**



---

archive/issue_comments_300176.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nRebased again, on top of current develop.  That made this ticket much simpler, now that it doesn't require any build system changes.\n\nThere's not much to this now other than refactoring and code reformatting--no real substantive changes.  I made sure to incorporate changes to the `interpreters` module that have been made since I last worked on this.",
    "created_at": "2017-04-07T12:16:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300176",
    "user": "https://github.com/embray"
}
```

<div id="comment:46" align="right">comment:46</div>

Rebased again, on top of current develop.  That made this ticket much simpler, now that it doesn't require any build system changes.

There's not much to this now other than refactoring and code reformatting--no real substantive changes.  I made sure to incorporate changes to the `interpreters` module that have been made since I last worked on this.



---

archive/issue_comments_300177.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nBack to needs review?",
    "created_at": "2017-04-07T15:03:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300177",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:47" align="right">comment:47</div>

Back to needs review?



---

archive/issue_events_289299.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2017-04-07T15:07:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20730#event-289299"
}
```



---

archive/issue_events_289300.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2017-04-07T15:07:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20730#event-289300"
}
```



---

archive/issue_comments_300178.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nYeah, meant to do that.",
    "created_at": "2017-04-07T15:07:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300178",
    "user": "https://github.com/embray"
}
```

<div id="comment:48" align="right">comment:48</div>

Yeah, meant to do that.



---

archive/issue_events_289301.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2017-04-11T12:42:40Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "milestone_number": null,
    "milestone_title": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20730#event-289301"
}
```



---

archive/issue_events_289302.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2017-04-11T12:42:40Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "milestone_number": null,
    "milestone_title": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20730#event-289302"
}
```



---

archive/issue_comments_300179.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nWould be nice to get this taken care of finally.",
    "created_at": "2017-04-11T12:42:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300179",
    "user": "https://github.com/embray"
}
```

<div id="comment:49" align="right">comment:49</div>

Would be nice to get this taken care of finally.



---

archive/issue_comments_300180.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nConflicts with #20238 in various ways....",
    "created_at": "2017-04-11T13:10:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300180",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:50" align="right">comment:50</div>

Conflicts with #20238 in various ways....



---

archive/issue_comments_300181.json:
```json
{
    "body": "<div id=\"comment:51\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a47bb081f3a45dde575aabd8156e391006751988\"><code>a47bb08</code></a></td><td><code>interpreters.py was quite long, so converted it to a package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4df82c86615db56f471f5510c84527b80c9d65fe\"><code>4df82c8</code></a></td><td><code>Changed indentation on several chunks of template code that was previously broken out of the normal Python indentation flow.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/721cf507b4e25f70a14b5aa6e3f496f0bf861152\"><code>721cf50</code></a></td><td><code>Fixes a newline that messed up the formtting a bit.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/45ce2f173a868403eccb5db64a27745e70550608\"><code>45ce2f1</code></a></td><td><code>One more whitespae fix</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6620390654dc1dab0fcbff980b6e3c22388005c3\"><code>6620390</code></a></td><td><code>Add some `__main__` modules for ease of testing.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/241dc1b24009f1f0bfffde5d29fc4b1ca331e162\"><code>241dc1b</code></a></td><td><code>Just import everything into the top-level `__init__` to rebuild the original sage_setup.autogen.interpreters namespace.  This enures that all the tests pass.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eb5acf9882bdaae46fc74b39dd095c986c5fe565\"><code>eb5acf9</code></a></td><td><code>Add from `__future__` import print_function, absolute_import to all (non-empty) modules for forward compatibility.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1f46f30e57afb3c9532e3a4e6ed9c9b7bfce796f\"><code>1f46f30</code></a></td><td><code>Change the name attributes of the interpreter implementations to class</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f039d8cd9a9c242b2c9f8adb88d1cfab6ff0bec6\"><code>f039d8c</code></a></td><td><code>Deduplicate code in anticipation of adding more generated file(s) for interpreters.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b34d5d8fc509f6773fe3c72c3d1b0e24a358efde\"><code>b34d5d8</code></a></td><td><code>More programmatic discovery of interpreter types rather than manually listing them</code></td></tr></table>\n",
    "created_at": "2017-04-11T13:42:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300181",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:51"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a47bb081f3a45dde575aabd8156e391006751988"><code>a47bb08</code></a></td><td><code>interpreters.py was quite long, so converted it to a package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4df82c86615db56f471f5510c84527b80c9d65fe"><code>4df82c8</code></a></td><td><code>Changed indentation on several chunks of template code that was previously broken out of the normal Python indentation flow.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/721cf507b4e25f70a14b5aa6e3f496f0bf861152"><code>721cf50</code></a></td><td><code>Fixes a newline that messed up the formtting a bit.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/45ce2f173a868403eccb5db64a27745e70550608"><code>45ce2f1</code></a></td><td><code>One more whitespae fix</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6620390654dc1dab0fcbff980b6e3c22388005c3"><code>6620390</code></a></td><td><code>Add some `__main__` modules for ease of testing.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/241dc1b24009f1f0bfffde5d29fc4b1ca331e162"><code>241dc1b</code></a></td><td><code>Just import everything into the top-level `__init__` to rebuild the original sage_setup.autogen.interpreters namespace.  This enures that all the tests pass.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eb5acf9882bdaae46fc74b39dd095c986c5fe565"><code>eb5acf9</code></a></td><td><code>Add from `__future__` import print_function, absolute_import to all (non-empty) modules for forward compatibility.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1f46f30e57afb3c9532e3a4e6ed9c9b7bfce796f"><code>1f46f30</code></a></td><td><code>Change the name attributes of the interpreter implementations to class</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f039d8cd9a9c242b2c9f8adb88d1cfab6ff0bec6"><code>f039d8c</code></a></td><td><code>Deduplicate code in anticipation of adding more generated file(s) for interpreters.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b34d5d8fc509f6773fe3c72c3d1b0e24a358efde"><code>b34d5d8</code></a></td><td><code>More programmatic discovery of interpreter types rather than manually listing them</code></td></tr></table>




---

archive/issue_comments_300182.json:
```json
{
    "body": "Changed commit from **[`04c22e9`](https://github.com/sagemath/sagetrac-mirror/commit/04c22e9aba7758da14974d5a3ba53f09349ab628)** to **[`b34d5d8`](https://github.com/sagemath/sagetrac-mirror/commit/b34d5d8fc509f6773fe3c72c3d1b0e24a358efde)**",
    "created_at": "2017-04-11T13:42:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300182",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`04c22e9`](https://github.com/sagemath/sagetrac-mirror/commit/04c22e9aba7758da14974d5a3ba53f09349ab628)** to **[`b34d5d8`](https://github.com/sagemath/sagetrac-mirror/commit/b34d5d8fc509f6773fe3c72c3d1b0e24a358efde)**



---

archive/issue_comments_300183.json:
```json
{
    "body": "Dependencies: **#20238**",
    "created_at": "2017-04-11T13:43:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300183",
    "user": "https://github.com/embray"
}
```

Dependencies: **#20238**



---

archive/issue_comments_300184.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nOnly minor conflicts.  I've rebased on your branch in #20238.",
    "created_at": "2017-04-11T13:43:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300184",
    "user": "https://github.com/embray"
}
```

<div id="comment:52" align="right">comment:52</div>

Only minor conflicts.  I've rebased on your branch in #20238.



---

archive/issue_comments_300185.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nThis looks like a good addition and will allow to close #21459 as a temporary but quick solution for Cygwin.\n\nWhat about the dependency on #20238?\nCan we make the dependency the other way around?\nOr will #20238 be finished soon?",
    "created_at": "2017-04-25T11:28:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300185",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:53" align="right">comment:53</div>

This looks like a good addition and will allow to close #21459 as a temporary but quick solution for Cygwin.

What about the dependency on #20238?
Can we make the dependency the other way around?
Or will #20238 be finished soon?



---

archive/issue_comments_300186.json:
```json
{
    "body": "Reviewer: **Jean-Pierre Flori**",
    "created_at": "2017-04-25T11:28:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300186",
    "user": "https://github.com/jpflori"
}
```

Reviewer: **Jean-Pierre Flori**



---

archive/issue_comments_300187.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nReplying to [@jpflori](#comment%3A53):\n> Or will #20238 be finished soon?\n\nIt is finished already since almost a month.",
    "created_at": "2017-04-25T12:05:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300187",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:54" align="right">comment:54</div>

Replying to [@jpflori](#comment%3A53):
> Or will #20238 be finished soon?

It is finished already since almost a month.



---

archive/issue_comments_300188.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nNow that you've given #20238 a positive review this should be fine as is.",
    "created_at": "2017-04-25T14:00:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300188",
    "user": "https://github.com/embray"
}
```

<div id="comment:55" align="right">comment:55</div>

Now that you've given #20238 a positive review this should be fine as is.



---

archive/issue_events_289303.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2017-04-27T11:51:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20730#event-289303"
}
```



---

archive/issue_events_289304.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2017-04-27T11:51:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20730#event-289304"
}
```



---

archive/issue_comments_300189.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nThe split here is a very good idea.\nThe autogenerating file was huge and a pain to parse for a human.",
    "created_at": "2017-04-27T11:51:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300189",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:56" align="right">comment:56</div>

The split here is a very good idea.
The autogenerating file was huge and a pain to parse for a human.



---

archive/issue_events_289305.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-04-28T23:54:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20730#event-289305"
}
```



---

archive/issue_events_289306.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "6cf09ab32eb55c2f2763419e28b16137124ed933",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2017-04-28T23:54:55Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20730#event-289306"
}
```



---

archive/issue_comments_300190.json:
```json
{
    "body": "Changed branch from **[u/embray/interpreters-refactor](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/interpreters-refactor)** to **[`b34d5d8`](https://github.com/sagemath/sagetrac-mirror/commit/b34d5d8fc509f6773fe3c72c3d1b0e24a358efde)**",
    "created_at": "2017-04-28T23:54:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20730#issuecomment-300190",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/embray/interpreters-refactor](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/interpreters-refactor)** to **[`b34d5d8`](https://github.com/sagemath/sagetrac-mirror/commit/b34d5d8fc509f6773fe3c72c3d1b0e24a358efde)**
