# Issue 20041: Shifted tableaux

archive/issues_019804.json:
```json
{
    "body": "Implement a class for standard shifted tableaux in SAGE. First features - enumeration, random generation, basic features.\n\nAssignee: sage-combinat\n\nCC:  sage-combinat @tscrim @darijgr @AndrewAtLarge @anneschilling @mantepse\n\nKeywords: days78\n\nReviewer: Travis Scrimshaw\n\nAuthor: Zachary Hamaker, Tobias Johnson, Andrew Mathas\n\nBranch: public/combinat/shifted_tableaux-20041\n\nStatus: needs_work\n\nCommit: 323bdfd4daabe0eff12726aff65ed5cb487ee75b\n\nIssue created by migration from https://trac.sagemath.org/ticket/20041\n\n",
    "created_at": "2016-02-11T18:37:44Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.0",
    "title": "Shifted tableaux",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20041",
    "user": "https://trac.sagemath.org/admin/accounts/users/zhamaker"
}
```
Implement a class for standard shifted tableaux in SAGE. First features - enumeration, random generation, basic features.

Assignee: sage-combinat

CC:  sage-combinat @tscrim @darijgr @AndrewAtLarge @anneschilling @mantepse

Keywords: days78

Reviewer: Travis Scrimshaw

Author: Zachary Hamaker, Tobias Johnson, Andrew Mathas

Branch: public/combinat/shifted_tableaux-20041

Status: needs_work

Commit: 323bdfd4daabe0eff12726aff65ed5cb487ee75b

Issue created by migration from https://trac.sagemath.org/ticket/20041





---

archive/issue_comments_361672.json:
```json
{
    "body": "Changing branch from \"u/zhamaker/shifted_tableau.py\" to \"u/zhamaker/shifted_tableau\"",
    "created_at": "2016-02-11T18:38:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20041#issuecomment-361672",
    "user": "https://trac.sagemath.org/admin/accounts/users/zhamaker"
}
```

Changing branch from "u/zhamaker/shifted_tableau.py" to "u/zhamaker/shifted_tableau"



---

archive/issue_comments_361673.json:
```json
{
    "body": "Changing commit from \"\" to \"e5c4a0bc28caf0e17a1a81fc3aebe52b76ea9f94\"",
    "created_at": "2016-02-11T18:39:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20041#issuecomment-361673",
    "user": "https://trac.sagemath.org/admin/accounts/users/zhamaker"
}
```

Changing commit from "" to "e5c4a0bc28caf0e17a1a81fc3aebe52b76ea9f94"



---

archive/issue_comments_361674.json:
```json
{
    "body": "Changing branch from \"u/zhamaker/shifted_tableau\" to \"u/zhamaker/shifted_tableaux\"",
    "created_at": "2016-02-11T18:39:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20041#issuecomment-361674",
    "user": "https://trac.sagemath.org/admin/accounts/users/zhamaker"
}
```

Changing branch from "u/zhamaker/shifted_tableau" to "u/zhamaker/shifted_tableaux"



---

archive/issue_comments_361675.json:
```json
{
    "body": "<a id='comment:2'></a>New commits:",
    "created_at": "2016-02-11T18:39:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20041#issuecomment-361675",
    "user": "https://trac.sagemath.org/admin/accounts/users/zhamaker"
}
```

<a id='comment:2'></a>New commits:



---

archive/issue_comments_361676.json:
```json
{
    "body": "<a id='comment:3'></a>New commits:",
    "created_at": "2016-02-12T20:27:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20041#issuecomment-361676",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:3'></a>New commits:



---

archive/issue_comments_361677.json:
```json
{
    "body": "Changing commit from \"e5c4a0bc28caf0e17a1a81fc3aebe52b76ea9f94\" to \"050f0fbc8c72aa5de399c2ac64beb455cddcc62c\"",
    "created_at": "2016-02-12T20:27:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20041#issuecomment-361677",
    "user": "https://github.com/tscrim"
}
```

Changing commit from "e5c4a0bc28caf0e17a1a81fc3aebe52b76ea9f94" to "050f0fbc8c72aa5de399c2ac64beb455cddcc62c"



---

archive/issue_comments_361678.json:
```json
{
    "body": "Changing branch from \"u/zhamaker/shifted_tableaux\" to \"public/combinat/shifted_tableaux-20041\"",
    "created_at": "2016-02-12T20:27:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20041#issuecomment-361678",
    "user": "https://github.com/tscrim"
}
```

Changing branch from "u/zhamaker/shifted_tableaux" to "public/combinat/shifted_tableaux-20041"



---

archive/issue_comments_361679.json:
```json
{
    "body": "<a id='comment:5'></a>Is anyone able to tell me what the status of this ticket is? I've recently become interested in shifted tableaux, so I'd be happy to contribute to finalising this. I have just checked and the code appears to work, after a rebase, on 7.3.beta5 and all doc-tests pass so I wondered what else needs to be done. Perhaps just the documentation?",
    "created_at": "2016-06-30T09:09:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20041#issuecomment-361679",
    "user": "https://github.com/AndrewAtLarge"
}
```

<a id='comment:5'></a>Is anyone able to tell me what the status of this ticket is? I've recently become interested in shifted tableaux, so I'd be happy to contribute to finalising this. I have just checked and the code appears to work, after a rebase, on 7.3.beta5 and all doc-tests pass so I wondered what else needs to be done. Perhaps just the documentation?



---

archive/issue_comments_361680.json:
```json
{
    "body": "<a id='comment:6'></a>Zach has told me that everything he wants is in there. So, yes, the only thing left is the documentation. Although we probably should copy over the code for `pp` from `Tableau` (well `_repr_diagram`).",
    "created_at": "2016-06-30T22:38:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20041#issuecomment-361680",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:6'></a>Zach has told me that everything he wants is in there. So, yes, the only thing left is the documentation. Although we probably should copy over the code for `pp` from `Tableau` (well `_repr_diagram`).



---

archive/issue_comments_361681.json:
```json
{
    "body": "Changing keywords from \"\" to \"days78\".",
    "created_at": "2016-07-01T06:23:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20041#issuecomment-361681",
    "user": "https://github.com/tscrim"
}
```

Changing keywords from "" to "days78".



---

archive/issue_events_054622.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-07-01T06:23:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "milestone": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20041#event-54622"
}
```



---

archive/issue_comments_361682.json:
```json
{
    "body": "Changing commit from \"050f0fbc8c72aa5de399c2ac64beb455cddcc62c\" to \"ee21f5ae05cb287d7680a17d121d588be7483f19\"",
    "created_at": "2016-07-20T16:37:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20041#issuecomment-361682",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "050f0fbc8c72aa5de399c2ac64beb455cddcc62c" to "ee21f5ae05cb287d7680a17d121d588be7483f19"



---

archive/issue_comments_361683.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-07-20T16:37:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20041#issuecomment-361683",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_361684.json:
```json
{
    "body": "<a id='comment:9'></a>I have done a fairly major make-over of this code. I have tried to make to more consistent with the rest of the tableaux code by adding options, quite a few new methods as well as some more parent classes:\n\n```sage\nShiftedTableaux_all\nShiftedTableaux_size\nShiftedTableaux_shape\n```\nI have also created a `StrictPartitions` class, with friends, in `partition.py` because the shape of shifted tableaux is always a strict partition. Currently the `StrictPartitions` class is not in the global namespace, but of course it could be.\n\nPreviously, the following worked:\n\n```sage\nsage: ShiftedTableau([[1,4,5]])\n[[1, 4, 5]]\n```\nAs `Shiftedtabelaux` returns what I would call \"standard\" shifted tableaux I thought that this was incorrect, so it now raises an error:\n\n```sage\nsage: ShiftedTableau([[1,4,5]])\nTraceback (most recent call last):\n...\nValueError: [[1, 4, 5]] is not an element of Shifted tableaux of shape [3].\n```\nLet me know if this is not what was intended.\n\nFinally, I hope this is OK but I have taken some liberties with the code such as moving some of the helper functions into the `ShiftedTableaux_size` class. Perhaps more significantly, I have renamed the main file `tableau_shifted.py` as I think this is better organisationally (I know, `k_tableau.py` does not follow this pattern). \n\nCurrently there is one failing doc text that I have not had time to sort out. I have also added more documentation, although I haven't checked it because to do this I'd need to do a `make doc-clean` and it's late...\n\nMy main motivation for doing this is that I want to implement \"shaded shifted tableaux\", but I haven't started on this yet.",
    "created_at": "2016-07-20T16:53:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20041#issuecomment-361684",
    "user": "https://github.com/AndrewAtLarge"
}
```

<a id='comment:9'></a>I have done a fairly major make-over of this code. I have tried to make to more consistent with the rest of the tableaux code by adding options, quite a few new methods as well as some more parent classes:

```sage
ShiftedTableaux_all
ShiftedTableaux_size
ShiftedTableaux_shape
```
I have also created a `StrictPartitions` class, with friends, in `partition.py` because the shape of shifted tableaux is always a strict partition. Currently the `StrictPartitions` class is not in the global namespace, but of course it could be.

Previously, the following worked:

```sage
sage: ShiftedTableau([[1,4,5]])
[[1, 4, 5]]
```
As `Shiftedtabelaux` returns what I would call "standard" shifted tableaux I thought that this was incorrect, so it now raises an error:

```sage
sage: ShiftedTableau([[1,4,5]])
Traceback (most recent call last):
...
ValueError: [[1, 4, 5]] is not an element of Shifted tableaux of shape [3].
```
Let me know if this is not what was intended.

Finally, I hope this is OK but I have taken some liberties with the code such as moving some of the helper functions into the `ShiftedTableaux_size` class. Perhaps more significantly, I have renamed the main file `tableau_shifted.py` as I think this is better organisationally (I know, `k_tableau.py` does not follow this pattern). 

Currently there is one failing doc text that I have not had time to sort out. I have also added more documentation, although I haven't checked it because to do this I'd need to do a `make doc-clean` and it's late...

My main motivation for doing this is that I want to implement "shaded shifted tableaux", but I haven't started on this yet.



---

archive/issue_comments_361685.json:
```json
{
    "body": "Changing commit from \"ee21f5ae05cb287d7680a17d121d588be7483f19\" to \"1168c5900bf8d99da90629650ea67cb68e70bcb2\"",
    "created_at": "2017-05-01T20:29:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20041#issuecomment-361685",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ee21f5ae05cb287d7680a17d121d588be7483f19" to "1168c5900bf8d99da90629650ea67cb68e70bcb2"



---

archive/issue_comments_361686.json:
```json
{
    "body": "<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-05-01T20:29:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20041#issuecomment-361686",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_361687.json:
```json
{
    "body": "<a id='comment:12'></a>Rebased. Sorry Andrew, I completely lost track of this.\n\nRelated #22921.",
    "created_at": "2017-05-01T20:31:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20041#issuecomment-361687",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:12'></a>Rebased. Sorry Andrew, I completely lost track of this.

Related #22921.



---

archive/issue_comments_361688.json:
```json
{
    "body": "Changing author from \"Zachary Hamaker, Tobias Johnson\" to \"Zachary Hamaker, Tobias Johnson, Andrew Mathas\"",
    "created_at": "2017-05-01T20:31:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20041#issuecomment-361688",
    "user": "https://github.com/tscrim"
}
```

Changing author from "Zachary Hamaker, Tobias Johnson" to "Zachary Hamaker, Tobias Johnson, Andrew Mathas"



---

archive/issue_events_054623.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-05-01T20:31:07Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "milestone": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20041#event-54623"
}
```



---

archive/issue_events_054624.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-05-01T20:31:07Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "milestone": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20041#event-54624"
}
```



---

archive/issue_comments_361689.json:
```json
{
    "body": "<a id='comment:13'></a>Replying to [tscrim](#comment%3A12):\n> Rebased. Sorry Andrew, I completely lost track of this.\n> \n> Related #22921.\n\n\nSorry, I forgot about this as well. There seems to be a recursion problem now in generating shifted tableaux - which I don't think happened earlier? I will see if I can fix this but I am swamped with teaching at the moment so it won't happen straight away.",
    "created_at": "2017-05-02T03:11:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20041#issuecomment-361689",
    "user": "https://github.com/AndrewAtLarge"
}
```

<a id='comment:13'></a>Replying to [tscrim](#comment%3A12):
> Rebased. Sorry Andrew, I completely lost track of this.
> 
> Related #22921.


Sorry, I forgot about this as well. There seems to be a recursion problem now in generating shifted tableaux - which I don't think happened earlier? I will see if I can fix this but I am swamped with teaching at the moment so it won't happen straight away.



---

archive/issue_comments_361690.json:
```json
{
    "body": "<a id='comment:14'></a>please see my patchbot's report:\n\n* use python3 syntax for print\n\n* use python3 syntax for metaclass (search in sage code to see how this must be done now)\n\nPlus many failing doctests, including an infinite recursion.",
    "created_at": "2017-05-02T09:58:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20041#issuecomment-361690",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:14'></a>please see my patchbot's report:

* use python3 syntax for print

* use python3 syntax for metaclass (search in sage code to see how this must be done now)

Plus many failing doctests, including an infinite recursion.



---

archive/issue_comments_361691.json:
```json
{
    "body": "Changing commit from \"1168c5900bf8d99da90629650ea67cb68e70bcb2\" to \"48a5451e9387514dd9133bc6e6a857fd2c3f650f\"",
    "created_at": "2017-05-03T02:56:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20041#issuecomment-361691",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "1168c5900bf8d99da90629650ea67cb68e70bcb2" to "48a5451e9387514dd9133bc6e6a857fd2c3f650f"



---

archive/issue_comments_361692.json:
```json
{
    "body": "<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-05-03T02:56:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20041#issuecomment-361692",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_361693.json:
```json
{
    "body": "<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-05-03T03:01:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20041#issuecomment-361693",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_361694.json:
```json
{
    "body": "Changing commit from \"48a5451e9387514dd9133bc6e6a857fd2c3f650f\" to \"02db562f79a1bc9f27e5d79c77ac4a68534671d8\"",
    "created_at": "2017-05-03T03:01:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20041#issuecomment-361694",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "48a5451e9387514dd9133bc6e6a857fd2c3f650f" to "02db562f79a1bc9f27e5d79c77ac4a68534671d8"



---

archive/issue_comments_361695.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-05-03T03:11:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20041#issuecomment-361695",
    "user": "https://github.com/tscrim"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_361696.json:
```json
{
    "body": "<a id='comment:17'></a>So there were a number of things that had changed in the backends that needed to be fixed here.\n\nThe first is what caused the infinite loop, which caused by `cardinality` -> `__iter__` -> `__len__` -> `cardinality`. I broke this by having a direct counting in `cardinality` using the faster iterator (which doesn't create an instance of the element class, avoiding extra overhead).\n\nThere was also some issues with how the facade parents were handled and there elements are constructed. Now `DisjointUnionEnumeratedSets` better handles facade parents, which exposed the issue. This wasn't too hard to clean up.\n\nMy other changes were some other small cleanup on the docstrings.\n\nI don't have an idea about the `sage: ShiftedTableau([This is the Trac macro *1,4,5* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#1,4,5-macro))` change from[comment:9](#comment%3A9). Anne, Zach, Darij, any objections/comments?\n\nOtherwise, I think this is ready for review, so I am setting it as such.",
    "created_at": "2017-05-03T03:11:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20041#issuecomment-361696",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:17'></a>So there were a number of things that had changed in the backends that needed to be fixed here.

The first is what caused the infinite loop, which caused by `cardinality` -> `__iter__` -> `__len__` -> `cardinality`. I broke this by having a direct counting in `cardinality` using the faster iterator (which doesn't create an instance of the element class, avoiding extra overhead).

There was also some issues with how the facade parents were handled and there elements are constructed. Now `DisjointUnionEnumeratedSets` better handles facade parents, which exposed the issue. This wasn't too hard to clean up.

My other changes were some other small cleanup on the docstrings.

I don't have an idea about the `sage: ShiftedTableau([This is the Trac macro *1,4,5* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#1,4,5-macro))` change from[comment:9](#comment%3A9). Anne, Zach, Darij, any objections/comments?

Otherwise, I think this is ready for review, so I am setting it as such.



---

archive/issue_comments_361697.json:
```json
{
    "body": "<a id='comment:18'></a>Sorry for being incommunicado for so long. I'll be back to working on this project in the near future.\n\n> I don't have an idea about the `sage: ShiftedTableau([This is the Trac macro *1,4,5* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#1,4,5-macro))` change from[comment:9](#comment%3A9). Anne, Zach, Darij, any objections/comments?\n\n\nI think we should construct a separate class for `StandardShiftedTableau` (or should it be `ShiftedStandardTableau`?). In the near term, I plan to implement the various insertion algorithms, which require semi-standard tableaux.",
    "created_at": "2017-05-03T17:40:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20041#issuecomment-361697",
    "user": "https://trac.sagemath.org/admin/accounts/users/zhamaker"
}
```

<a id='comment:18'></a>Sorry for being incommunicado for so long. I'll be back to working on this project in the near future.

> I don't have an idea about the `sage: ShiftedTableau([This is the Trac macro *1,4,5* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#1,4,5-macro))` change from[comment:9](#comment%3A9). Anne, Zach, Darij, any objections/comments?


I think we should construct a separate class for `StandardShiftedTableau` (or should it be `ShiftedStandardTableau`?). In the near term, I plan to implement the various insertion algorithms, which require semi-standard tableaux.



---

archive/issue_comments_361698.json:
```json
{
    "body": "<a id='comment:19'></a>Replying to [zhamaker](#comment%3A18):\n\n> I think we should construct a separate class for `StandardShiftedTableau` (or should it be `ShiftedStandardTableau`?). In the near term, I plan to implement the various insertion algorithms, which require semi-standard tableaux.\n\n\nIn that case, in order not to have to deprecate everything in the near future, this should be changed before the ticket is reviewed and the code is incorporated into sage. A quick fix would be to rename all of the existing classes so that they have \"Standard\" in their name. A proper fix would be to implement new base classes, following the current pattern in the file, and to have the standard versions inherit from them. I don't have time to do this at the moment, but both options should not be too hard to implement.",
    "created_at": "2017-05-04T05:22:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20041#issuecomment-361698",
    "user": "https://github.com/AndrewAtLarge"
}
```

<a id='comment:19'></a>Replying to [zhamaker](#comment%3A18):

> I think we should construct a separate class for `StandardShiftedTableau` (or should it be `ShiftedStandardTableau`?). In the near term, I plan to implement the various insertion algorithms, which require semi-standard tableaux.


In that case, in order not to have to deprecate everything in the near future, this should be changed before the ticket is reviewed and the code is incorporated into sage. A quick fix would be to rename all of the existing classes so that they have "Standard" in their name. A proper fix would be to implement new base classes, following the current pattern in the file, and to have the standard versions inherit from them. I don't have time to do this at the moment, but both options should not be too hard to implement.



---

archive/issue_comments_361699.json:
```json
{
    "body": "<a id='comment:20'></a>does not apply",
    "created_at": "2017-06-02T20:17:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20041#issuecomment-361699",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:20'></a>does not apply



---

archive/issue_comments_361700.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-06-02T20:17:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20041#issuecomment-361700",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_361701.json:
```json
{
    "body": "<a id='comment:21'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-06-03T13:47:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20041#issuecomment-361701",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_361702.json:
```json
{
    "body": "Changing commit from \"02db562f79a1bc9f27e5d79c77ac4a68534671d8\" to \"bfcb1ca0a2f8fe7f30ce917b7188b468a22b5b0d\"",
    "created_at": "2017-06-03T13:47:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20041#issuecomment-361702",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "02db562f79a1bc9f27e5d79c77ac4a68534671d8" to "bfcb1ca0a2f8fe7f30ce917b7188b468a22b5b0d"



---

archive/issue_comments_361703.json:
```json
{
    "body": "<a id='comment:22'></a>I just had a look at this - are there any outstanding issues?\n\nIt would be nice to have `ascii_art` and `unicode_art` work, see `Tableau._ascii_art_`.\n\nObservation: `StrictPartitions` is the same as `Partitions(n, max_slope=-1)`, except that `StrictPartitions` is much faster.\n\nQuestion: `ShiftedTableau` inherits from `ClonableArray`, wheras `Tableau` inherits from `ClonableList`.  Is there a reason to this?",
    "created_at": "2017-09-20T07:11:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20041#issuecomment-361703",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:22'></a>I just had a look at this - are there any outstanding issues?

It would be nice to have `ascii_art` and `unicode_art` work, see `Tableau._ascii_art_`.

Observation: `StrictPartitions` is the same as `Partitions(n, max_slope=-1)`, except that `StrictPartitions` is much faster.

Question: `ShiftedTableau` inherits from `ClonableArray`, wheras `Tableau` inherits from `ClonableList`.  Is there a reason to this?



---

archive/issue_comments_361704.json:
```json
{
    "body": "<a id='comment:24'></a>Sorry for my slow reply!\n\nReplying to [mantepse](#comment%3A22):\n> I just had a look at this - are there any outstanding issues?\n\n\nI am not currently able to compile sage due to a skylake issue, but the comments above suggest that the branch does not apply to the current sage beta. This is almost certainly due to some more recent changes to `partition.py`, so it shouldn't be hard to fix but will need to be done...\n\nSecondly, there is the question/comment above about implementing a separate classes for`ShiftedStandardTableau` and `ShiftedStandardTableau`. Currently, the shifted tableaux are really shifted *stanbdard* tableaux, so this probably should be done. zhamaker suggested doing this but no one has done it yet.\n\n> It would be nice to have `ascii_art` and `unicode_art` work, see `Tableau._ascii_art_`.\n\n\nThis is not something that I feed strongly about but, yes, it would be good to have. I made sure that the `latex` method works.\n \n> Observation: `StrictPartitions` is the same as `Partitions(n, max_slope=-1)`, except that `StrictPartitions` is much faster.\n\n\nI can't remember how `Partitions` generates this but as it is generic code it is not surprising that the code here, which from memory uses code from posets, is faster. It is possible that the code in `Partitions` could be made faster by using the same approach, but that should be done in a separate ticket, I think.\n\n> Question: `ShiftedTableau` inherits from `ClonableArray`, whereas `Tableau` inherits from `ClonableList`.  Is there a reason to this?\n\n\nProbably `ClonableList` should be used. I used `ClonableArray` because, for me, the entries of such tableaux are always integers but it is probably more sensible to allow the entries to be arbitrary objects, in which case `ClonableList` is better.",
    "created_at": "2017-10-09T13:05:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20041#issuecomment-361704",
    "user": "https://github.com/AndrewAtLarge"
}
```

<a id='comment:24'></a>Sorry for my slow reply!

Replying to [mantepse](#comment%3A22):
> I just had a look at this - are there any outstanding issues?


I am not currently able to compile sage due to a skylake issue, but the comments above suggest that the branch does not apply to the current sage beta. This is almost certainly due to some more recent changes to `partition.py`, so it shouldn't be hard to fix but will need to be done...

Secondly, there is the question/comment above about implementing a separate classes for`ShiftedStandardTableau` and `ShiftedStandardTableau`. Currently, the shifted tableaux are really shifted *stanbdard* tableaux, so this probably should be done. zhamaker suggested doing this but no one has done it yet.

> It would be nice to have `ascii_art` and `unicode_art` work, see `Tableau._ascii_art_`.


This is not something that I feed strongly about but, yes, it would be good to have. I made sure that the `latex` method works.
 
> Observation: `StrictPartitions` is the same as `Partitions(n, max_slope=-1)`, except that `StrictPartitions` is much faster.


I can't remember how `Partitions` generates this but as it is generic code it is not surprising that the code here, which from memory uses code from posets, is faster. It is possible that the code in `Partitions` could be made faster by using the same approach, but that should be done in a separate ticket, I think.

> Question: `ShiftedTableau` inherits from `ClonableArray`, whereas `Tableau` inherits from `ClonableList`.  Is there a reason to this?


Probably `ClonableList` should be used. I used `ClonableArray` because, for me, the entries of such tableaux are always integers but it is probably more sensible to allow the entries to be arbitrary objects, in which case `ClonableList` is better.



---

archive/issue_comments_361705.json:
```json
{
    "body": "<a id='comment:25'></a>Replying to [andrew.mathas](#comment%3A24):\n\n> Secondly, there is the question/comment above about implementing a separate classes for`ShiftedStandardTableau` and `ShiftedStandardTableau`. Currently, the shifted tableaux are really shifted *stanbdard* tableaux, so this probably should be done. zhamaker suggested doing this but no one has done it yet.\n\n\nI guess this ticket needs coordinization with #22921, which implements `ShiftedPrimedTableaux`.\n\n> > It would be nice to have `ascii_art` and `unicode_art` work, see `Tableau._ascii_art_`.\n\n> \n> This is not something that I feed strongly about but, yes, it would be good to have. I made sure that the `latex` method works.\n\n\nNote that the `ShiftedPrimedTableaux` class has this now.  I think it would be quite fruitful to factor out the common functionality into a separate class for \"fillings-of-tableau-like-shapes', but I'm afraid that's work.\n\n> > Question: `ShiftedTableau` inherits from `ClonableArray`, whereas `Tableau` inherits from `ClonableList`.  Is there a reason to this?\n\n> \n> Probably `\\ClobableList` should be used. I used `ClonableArray` because, for me, the entries of such tableaux are always integers but it is probably more sensible to allow the entries to be arbitrary objects, in which case `\\ClobableList` is better.\n\n\nI'm assuming that you mean `ClonableList`.  Travis argued at #22921#comment:32 that actually `Tableau` should use `ClonableArray`...",
    "created_at": "2017-10-10T18:25:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20041#issuecomment-361705",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:25'></a>Replying to [andrew.mathas](#comment%3A24):

> Secondly, there is the question/comment above about implementing a separate classes for`ShiftedStandardTableau` and `ShiftedStandardTableau`. Currently, the shifted tableaux are really shifted *stanbdard* tableaux, so this probably should be done. zhamaker suggested doing this but no one has done it yet.


I guess this ticket needs coordinization with #22921, which implements `ShiftedPrimedTableaux`.

> > It would be nice to have `ascii_art` and `unicode_art` work, see `Tableau._ascii_art_`.

> 
> This is not something that I feed strongly about but, yes, it would be good to have. I made sure that the `latex` method works.


Note that the `ShiftedPrimedTableaux` class has this now.  I think it would be quite fruitful to factor out the common functionality into a separate class for "fillings-of-tableau-like-shapes', but I'm afraid that's work.

> > Question: `ShiftedTableau` inherits from `ClonableArray`, whereas `Tableau` inherits from `ClonableList`.  Is there a reason to this?

> 
> Probably `\ClobableList` should be used. I used `ClonableArray` because, for me, the entries of such tableaux are always integers but it is probably more sensible to allow the entries to be arbitrary objects, in which case `\ClobableList` is better.


I'm assuming that you mean `ClonableList`.  Travis argued at #22921#comment:32 that actually `Tableau` should use `ClonableArray`...



---

archive/issue_comments_361706.json:
```json
{
    "body": "<a id='comment:26'></a>Any progress on this? I'd be interested in using this class if it were in Sage.",
    "created_at": "2018-03-14T02:40:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20041#issuecomment-361706",
    "user": "https://github.com/jessicapalencia"
}
```

<a id='comment:26'></a>Any progress on this? I'd be interested in using this class if it were in Sage.



---

archive/issue_comments_361707.json:
```json
{
    "body": "<a id='comment:27'></a>What needs to be done now is using the implementation in #22921 as a basis for this and seeing what common functionality should be factored out. It's been a little too long since I looked at this to saying anything intelligent at this point, and I don't currently have time to make any more progress on this unfortunately.",
    "created_at": "2018-03-14T05:34:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20041#issuecomment-361707",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:27'></a>What needs to be done now is using the implementation in #22921 as a basis for this and seeing what common functionality should be factored out. It's been a little too long since I looked at this to saying anything intelligent at this point, and I don't currently have time to make any more progress on this unfortunately.



---

archive/issue_comments_361708.json:
```json
{
    "body": "<a id='comment:28'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-03-15T20:15:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20041#issuecomment-361708",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:28'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_361709.json:
```json
{
    "body": "Changing commit from \"bfcb1ca0a2f8fe7f30ce917b7188b468a22b5b0d\" to \"62ff787a217361565e178979c0786fc177125e56\"",
    "created_at": "2018-03-15T20:15:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20041#issuecomment-361709",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "bfcb1ca0a2f8fe7f30ce917b7188b468a22b5b0d" to "62ff787a217361565e178979c0786fc177125e56"



---

archive/issue_comments_361710.json:
```json
{
    "body": "<a id='comment:29'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-03-16T06:37:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20041#issuecomment-361710",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:29'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_361711.json:
```json
{
    "body": "Changing commit from \"62ff787a217361565e178979c0786fc177125e56\" to \"323bdfd4daabe0eff12726aff65ed5cb487ee75b\"",
    "created_at": "2018-03-16T06:37:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20041#issuecomment-361711",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "62ff787a217361565e178979c0786fc177125e56" to "323bdfd4daabe0eff12726aff65ed5cb487ee75b"
