# Issue 20157: make numpy and scipy use pkg-config to find blas/lapack

archive/issues_019920.json:
```json
{
    "assignees": [],
    "body": "Since we want the choice of blas/lapack to be configurable by `.pc` files we need to have `numpy` and `scipy` obey to `pkg-config`.\n\nThis is complicated by the fact that `numpy/scipy`'s build system will look for \n 1) mkl\n 2) openblas\n 3) threaded atlas 3.10.x (tatlas.so)\n 4) single thread atlas 3.10.x (satlas.so)\n 5) threaded atlas (any versions)\n 6) single thread atlas (any versions)\n 7) accelerate on OS X\n 8) blas/lapack configuration provided by the user\n 9) blas/lapack source provided by the user\n\nIn that order from (1) to (9). Note that the user's wishes are ignored unless everything else fails. Getting `numpy/scipy` to obey the user wishes, whatever they are, means using not well documented variables to disable the auto-detections steps 1 to 6.\n\nCC:  @jdemeyer\n\nBranch/Commit: **[`af70376`](https://github.com/sagemath/sagetrac-mirror/commit/af70376a991d0770ec4a92da8155c33b7702f040)**\n\nReviewer: **Volker Braun**\n\nAuthor: **Fran\u00e7ois Bissey**\n\nComponent: **packages: standard**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/20157_\n\n",
    "closed_at": "2016-03-30T14:05:49Z",
    "created_at": "2016-03-04T01:46:46Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "make numpy and scipy use pkg-config to find blas/lapack",
    "type": "issue",
    "updated_at": "2016-03-30T14:05:49Z",
    "url": "https://github.com/sagemath/sage/issues/20157",
    "user": "https://github.com/kiwifb"
}
```
Since we want the choice of blas/lapack to be configurable by `.pc` files we need to have `numpy` and `scipy` obey to `pkg-config`.

This is complicated by the fact that `numpy/scipy`'s build system will look for 
 1) mkl
 2) openblas
 3) threaded atlas 3.10.x (tatlas.so)
 4) single thread atlas 3.10.x (satlas.so)
 5) threaded atlas (any versions)
 6) single thread atlas (any versions)
 7) accelerate on OS X
 8) blas/lapack configuration provided by the user
 9) blas/lapack source provided by the user

In that order from (1) to (9). Note that the user's wishes are ignored unless everything else fails. Getting `numpy/scipy` to obey the user wishes, whatever they are, means using not well documented variables to disable the auto-detections steps 1 to 6.

CC:  @jdemeyer

Branch/Commit: **[`af70376`](https://github.com/sagemath/sagetrac-mirror/commit/af70376a991d0770ec4a92da8155c33b7702f040)**

Reviewer: **Volker Braun**

Author: **François Bissey**

Component: **packages: standard**

_Issue created by migration from https://trac.sagemath.org/ticket/20157_





---

archive/issue_events_285968.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2016-03-04T01:46:46Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "milestone_number": null,
    "milestone_title": "sage-7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20157#event-285968"
}
```



---

archive/issue_events_285969.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2016-03-04T01:46:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20157#event-285969"
}
```



---

archive/issue_events_285970.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2016-03-04T01:46:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20157#event-285970"
}
```



---

archive/issue_comments_289651.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nActually \n\n```\nexport {ATLAS,PTATLAS,BLAS,LAPACK,OPENBLAS,MKL}=None\n```\nshuts down all detection so there is hope things can be taken done selectively.",
    "created_at": "2016-03-04T03:07:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289651",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:1" align="right">comment:1</div>

Actually 

```
export {ATLAS,PTATLAS,BLAS,LAPACK,OPENBLAS,MKL}=None
```
shuts down all detection so there is hope things can be taken done selectively.



---

archive/issue_comments_289652.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -11,4 +11,4 @@\n  8) blas/lapack configuration provided by the user\n  9) blas/lapack source provided by the user\n \n-In that order from (1) to (9). Note that the user's wishes are ignored unless everything else fails. Getting `numpy/scipy` to obey `pkg-config` may therefore require patching. \n+In that order from (1) to (9). Note that the user's wishes are ignored unless everything else fails. Getting `numpy/scipy` to obey the user wish means whatever they are means using not well documented variables to disable the auto-detections steps 1 to 6.\n``````\n",
    "created_at": "2016-03-04T03:49:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289652",
    "user": "https://github.com/kiwifb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -11,4 +11,4 @@
  8) blas/lapack configuration provided by the user
  9) blas/lapack source provided by the user
 
-In that order from (1) to (9). Note that the user's wishes are ignored unless everything else fails. Getting `numpy/scipy` to obey `pkg-config` may therefore require patching. 
+In that order from (1) to (9). Note that the user's wishes are ignored unless everything else fails. Getting `numpy/scipy` to obey the user wish means whatever they are means using not well documented variables to disable the auto-detections steps 1 to 6.
``````




---

archive/issue_comments_289653.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nSetting everything to None except for `BLAS` and `LAPACK` and then giving those some values is not enough. I have got something quite ugly.",
    "created_at": "2016-03-04T03:49:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289653",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:2" align="right">comment:2</div>

Setting everything to None except for `BLAS` and `LAPACK` and then giving those some values is not enough. I have got something quite ugly.



---

archive/issue_comments_289654.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -11,4 +11,4 @@\n  8) blas/lapack configuration provided by the user\n  9) blas/lapack source provided by the user\n \n-In that order from (1) to (9). Note that the user's wishes are ignored unless everything else fails. Getting `numpy/scipy` to obey the user wish means whatever they are means using not well documented variables to disable the auto-detections steps 1 to 6.\n+In that order from (1) to (9). Note that the user's wishes are ignored unless everything else fails. Getting `numpy/scipy` to obey the user wishes, whatever they are, means using not well documented variables to disable the auto-detections steps 1 to 6.\n``````\n",
    "created_at": "2016-03-04T03:50:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289654",
    "user": "https://github.com/kiwifb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -11,4 +11,4 @@
  8) blas/lapack configuration provided by the user
  9) blas/lapack source provided by the user
 
-In that order from (1) to (9). Note that the user's wishes are ignored unless everything else fails. Getting `numpy/scipy` to obey the user wish means whatever they are means using not well documented variables to disable the auto-detections steps 1 to 6.
+In that order from (1) to (9). Note that the user's wishes are ignored unless everything else fails. Getting `numpy/scipy` to obey the user wishes, whatever they are, means using not well documented variables to disable the auto-detections steps 1 to 6.
``````




---

archive/issue_comments_289655.json:
```json
{
    "body": "Branch: **[u/fbissey/numpy_scipy_pc](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/numpy_scipy_pc)**",
    "created_at": "2016-03-04T10:28:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289655",
    "user": "https://github.com/kiwifb"
}
```

Branch: **[u/fbissey/numpy_scipy_pc](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/numpy_scipy_pc)**



---

archive/issue_comments_289656.json:
```json
{
    "body": "Commit: **[`3237f38`](https://github.com/sagemath/sagetrac-mirror/commit/3237f3805125473f2af55541ca93ddc5147b9807)**",
    "created_at": "2016-03-04T10:28:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289656",
    "user": "https://github.com/kiwifb"
}
```

Commit: **[`3237f38`](https://github.com/sagemath/sagetrac-mirror/commit/3237f3805125473f2af55541ca93ddc5147b9807)**



---

archive/issue_comments_289657.json:
```json
{
    "body": "Author: **Fran\u00e7ois Bissey**",
    "created_at": "2016-03-04T10:28:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289657",
    "user": "https://github.com/kiwifb"
}
```

Author: **François Bissey**



---

archive/issue_comments_289658.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3237f3805125473f2af55541ca93ddc5147b9807\"><code>3237f38</code></a></td><td><code>Get numpy and scipy to use pc files</code></td></tr></table>\n",
    "created_at": "2016-03-04T10:28:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289658",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:4"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3237f3805125473f2af55541ca93ddc5147b9807"><code>3237f38</code></a></td><td><code>Get numpy and scipy to use pc files</code></td></tr></table>




---

archive/issue_events_285971.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2016-03-05T19:09:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20157#event-285971"
}
```



---

archive/issue_events_285972.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2016-03-05T19:19:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20157#event-285972"
}
```



---

archive/issue_events_285973.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2016-03-05T19:19:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20157#event-285973"
}
```



---

archive/issue_comments_289659.json:
```json
{
    "body": "Work Issues: **version bumps**",
    "created_at": "2016-03-05T19:19:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289659",
    "user": "https://github.com/kiwifb"
}
```

Work Issues: **version bumps**



---

archive/issue_events_285974.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2016-03-05T19:19:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "000080",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20157#event-285974"
}
```



---

archive/issue_comments_289660.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/158fb8db9d1a112078ece92a6b33fe84fd9e6825\"><code>158fb8d</code></a></td><td><code>Version bump to trigger rebuilds</code></td></tr></table>\n",
    "created_at": "2016-03-05T19:33:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289660",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/158fb8db9d1a112078ece92a6b33fe84fd9e6825"><code>158fb8d</code></a></td><td><code>Version bump to trigger rebuilds</code></td></tr></table>




---

archive/issue_comments_289661.json:
```json
{
    "body": "Changed commit from **[`3237f38`](https://github.com/sagemath/sagetrac-mirror/commit/3237f3805125473f2af55541ca93ddc5147b9807)** to **[`158fb8d`](https://github.com/sagemath/sagetrac-mirror/commit/158fb8db9d1a112078ece92a6b33fe84fd9e6825)**",
    "created_at": "2016-03-05T19:33:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289661",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3237f38`](https://github.com/sagemath/sagetrac-mirror/commit/3237f3805125473f2af55541ca93ddc5147b9807)** to **[`158fb8d`](https://github.com/sagemath/sagetrac-mirror/commit/158fb8db9d1a112078ece92a6b33fe84fd9e6825)**



---

archive/issue_events_285975.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2016-03-05T19:34:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20157#event-285975"
}
```



---

archive/issue_events_285976.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2016-03-05T19:34:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20157#event-285976"
}
```



---

archive/issue_comments_289662.json:
```json
{
    "body": "Changed work issues from **version bumps** to none",
    "created_at": "2016-03-05T19:34:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289662",
    "user": "https://github.com/kiwifb"
}
```

Changed work issues from **version bumps** to none



---

archive/issue_comments_289663.json:
```json
{
    "body": "Reviewer: **Volker Braun**",
    "created_at": "2016-03-05T22:53:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289663",
    "user": "https://github.com/vbraun"
}
```

Reviewer: **Volker Braun**



---

archive/issue_events_285977.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-03-05T22:53:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20157#event-285977"
}
```



---

archive/issue_events_285978.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-03-05T22:53:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20157#event-285978"
}
```



---

archive/issue_comments_289664.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nFull log: http://build.sagedev.org/release/builders/%20%20fast%20Volker%20Desktop%20%28Fedora%2022%20x86_64%29%20incremental/builds/458/steps/compile/logs/stdio\n\n```\n/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/var/tmp/sage/build/numpy-1.10.4.p1/src/numpy/distutils/system_info.py:1651: UserWarning: \n    Atlas (http://math-atlas.sourceforge.net/) libraries not found.\n    Directories to search for the libraries can be specified in the\n    numpy/distutils/site.cfg file (section [atlas]) or by setting\n    the ATLAS environment variable.\n  warnings.warn(AtlasNotFoundError.__doc__)\nblas_info:\n/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/var/tmp/sage/build/numpy-1.10.4.p1/src/numpy/distutils/system_info.py:635: UserWarning: Specified path  is invalid.\n  warnings.warn('Specified path %s is invalid.' % d)\nC compiler: cc\n\ncreating /tmp/tmpX0K4bQ/tmp\ncreating /tmp/tmpX0K4bQ/tmp/tmpX0K4bQ\ncompile options: '-c'\ncc: /tmp/tmpX0K4bQ/source.c\ncc /tmp/tmpX0K4bQ/tmp/tmpX0K4bQ/source.o -L/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib -lcblas -o /tmp/tmpX0K4bQ/a.out\n/usr/bin/ld: warning: libatlas.so.3, needed by /mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/libcblas.so, not found (try using -rpath or -rpath-link)\n```\nIt is missing the `-latlas` for some reason, though it is in the `cblas.pc`\n\n```\n$ pkg-config --libs cblas\n-L/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib -lcblas -latlas \n```",
    "created_at": "2016-03-06T10:24:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289664",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:10" align="right">comment:10</div>

Full log: http://build.sagedev.org/release/builders/%20%20fast%20Volker%20Desktop%20%28Fedora%2022%20x86_64%29%20incremental/builds/458/steps/compile/logs/stdio

```
/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/var/tmp/sage/build/numpy-1.10.4.p1/src/numpy/distutils/system_info.py:1651: UserWarning: 
    Atlas (http://math-atlas.sourceforge.net/) libraries not found.
    Directories to search for the libraries can be specified in the
    numpy/distutils/site.cfg file (section [atlas]) or by setting
    the ATLAS environment variable.
  warnings.warn(AtlasNotFoundError.__doc__)
blas_info:
/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/var/tmp/sage/build/numpy-1.10.4.p1/src/numpy/distutils/system_info.py:635: UserWarning: Specified path  is invalid.
  warnings.warn('Specified path %s is invalid.' % d)
C compiler: cc

creating /tmp/tmpX0K4bQ/tmp
creating /tmp/tmpX0K4bQ/tmp/tmpX0K4bQ
compile options: '-c'
cc: /tmp/tmpX0K4bQ/source.c
cc /tmp/tmpX0K4bQ/tmp/tmpX0K4bQ/source.o -L/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib -lcblas -o /tmp/tmpX0K4bQ/a.out
/usr/bin/ld: warning: libatlas.so.3, needed by /mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/libcblas.so, not found (try using -rpath or -rpath-link)
```
It is missing the `-latlas` for some reason, though it is in the `cblas.pc`

```
$ pkg-config --libs cblas
-L/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib -lcblas -latlas 
```



---

archive/issue_events_285979.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-03-06T10:24:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20157#event-285979"
}
```



---

archive/issue_events_285980.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-03-06T10:24:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20157#event-285980"
}
```



---

archive/issue_comments_289665.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nCan you look at the generated `site.cfg` file?",
    "created_at": "2016-03-06T10:27:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289665",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:11" align="right">comment:11</div>

Can you look at the generated `site.cfg` file?



---

archive/issue_comments_289666.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nI notice poseidon also has a problem but look slightly different.",
    "created_at": "2016-03-06T10:31:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289666",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:12" align="right">comment:12</div>

I notice poseidon also has a problem but look slightly different.



---

archive/issue_comments_289667.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\n\n```\n$ cat /mnt/disk/home/buildslave-sage/slave/sage_git/build/local/var/tmp/sage/build/numpy-1.10.4.p1/src/site.cfg\n[DEFAULT]\nlibrary_dirs = /mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib\ninclude_dirs = /mnt/disk/home/buildslave-sage/slave/sage_git/build/local/include\n[blas]\ninclude_dirs = \nlibrary_dirs = /mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib\nblas_libs = atlas,f77blas,cblas\n[lapack]\nlibrary_dirs = /mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib\nlapack_libs = lapack,f77blas,cblas,atlas\n```",
    "created_at": "2016-03-06T10:39:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289667",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:13" align="right">comment:13</div>


```
$ cat /mnt/disk/home/buildslave-sage/slave/sage_git/build/local/var/tmp/sage/build/numpy-1.10.4.p1/src/site.cfg
[DEFAULT]
library_dirs = /mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib
include_dirs = /mnt/disk/home/buildslave-sage/slave/sage_git/build/local/include
[blas]
include_dirs = 
library_dirs = /mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib
blas_libs = atlas,f77blas,cblas
[lapack]
library_dirs = /mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib
lapack_libs = lapack,f77blas,cblas,atlas
```



---

archive/issue_comments_289668.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nOK I think there may be niceties in the linker. Here I get:\n\n```\ncreating /tmp/tmpRM4d1X/tmp\ncreating /tmp/tmpRM4d1X/tmp/tmpRM4d1X\ncompile options: '-c'\ncc: /tmp/tmpRM4d1X/source.c\ncc /tmp/tmpRM4d1X/tmp/tmpRM4d1X/source.o -L/home/fbissey/sandbox/git-fork/sage/local/lib -lcblas -o /tmp/tmpRM4d1X/a.out\n  FOUND:\n    libraries = ['cblas']\n    library_dirs = ['/home/fbissey/sandbox/git-fork/sage/local/lib']\n    language = c\n    define_macros = [('HAVE_CBLAS', None)]\n\n  FOUND:\n    libraries = ['cblas']\n    library_dirs = ['/home/fbissey/sandbox/git-fork/sage/local/lib']\n    define_macros = [('NO_ATLAS_INFO', 1), ('HAVE_CBLAS', None)]\n    language = c\n```\nSo we have only `cblas` again. But my linker still resolves it from the information in the `cblas` library.\n\nI think there is a small bug (feature) in `numpy` that causes it to only use a single library. I think I now which part of the Gentoo patch deals with that,",
    "created_at": "2016-03-06T21:46:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289668",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:14" align="right">comment:14</div>

OK I think there may be niceties in the linker. Here I get:

```
creating /tmp/tmpRM4d1X/tmp
creating /tmp/tmpRM4d1X/tmp/tmpRM4d1X
compile options: '-c'
cc: /tmp/tmpRM4d1X/source.c
cc /tmp/tmpRM4d1X/tmp/tmpRM4d1X/source.o -L/home/fbissey/sandbox/git-fork/sage/local/lib -lcblas -o /tmp/tmpRM4d1X/a.out
  FOUND:
    libraries = ['cblas']
    library_dirs = ['/home/fbissey/sandbox/git-fork/sage/local/lib']
    language = c
    define_macros = [('HAVE_CBLAS', None)]

  FOUND:
    libraries = ['cblas']
    library_dirs = ['/home/fbissey/sandbox/git-fork/sage/local/lib']
    define_macros = [('NO_ATLAS_INFO', 1), ('HAVE_CBLAS', None)]
    language = c
```
So we have only `cblas` again. But my linker still resolves it from the information in the `cblas` library.

I think there is a small bug (feature) in `numpy` that causes it to only use a single library. I think I now which part of the Gentoo patch deals with that,



---

archive/issue_comments_289669.json:
```json
{
    "body": "<div id=\"comment:15\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/45487f9956a4756f095df1d7278dcaa5623cc875\"><code>45487f9</code></a></td><td><code>cosmetics in lapack_conf.py. Add a patch to system_info.py to accept more than one library in blas_info (taken from gentoo).</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dfddf074dd2ffab07030451f6c715483bb8fad25\"><code>dfddf07</code></a></td><td><code>Properly setup (by setting the variable for various BLAS/LAPACK to None) scipy will look for its BLAS/LAPACK configuration in</code></td></tr></table>\n",
    "created_at": "2016-03-06T23:17:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289669",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/45487f9956a4756f095df1d7278dcaa5623cc875"><code>45487f9</code></a></td><td><code>cosmetics in lapack_conf.py. Add a patch to system_info.py to accept more than one library in blas_info (taken from gentoo).</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dfddf074dd2ffab07030451f6c715483bb8fad25"><code>dfddf07</code></a></td><td><code>Properly setup (by setting the variable for various BLAS/LAPACK to None) scipy will look for its BLAS/LAPACK configuration in</code></td></tr></table>




---

archive/issue_comments_289670.json:
```json
{
    "body": "Changed commit from **[`158fb8d`](https://github.com/sagemath/sagetrac-mirror/commit/158fb8db9d1a112078ece92a6b33fe84fd9e6825)** to **[`dfddf07`](https://github.com/sagemath/sagetrac-mirror/commit/dfddf074dd2ffab07030451f6c715483bb8fad25)**",
    "created_at": "2016-03-06T23:17:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289670",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`158fb8d`](https://github.com/sagemath/sagetrac-mirror/commit/158fb8db9d1a112078ece92a6b33fe84fd9e6825)** to **[`dfddf07`](https://github.com/sagemath/sagetrac-mirror/commit/dfddf074dd2ffab07030451f6c715483bb8fad25)**



---

archive/issue_events_285981.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2016-03-06T23:21:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20157#event-285981"
}
```



---

archive/issue_events_285982.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2016-03-06T23:21:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20157#event-285982"
}
```



---

archive/issue_comments_289671.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nOK I added part of a patch from Gentoo that will let numpy's system_info.py take more that one library. I beautified the `lapack_conf.py` a bit. And revisited `scipy`'s case. It turns out we can dispense with `site.cfg`.",
    "created_at": "2016-03-06T23:21:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289671",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:16" align="right">comment:16</div>

OK I added part of a patch from Gentoo that will let numpy's system_info.py take more that one library. I beautified the `lapack_conf.py` a bit. And revisited `scipy`'s case. It turns out we can dispense with `site.cfg`.



---

archive/issue_comments_289672.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nposeidon is stumping me. There is not even a compilation line\n\n```\nblas_info:\n/home/kevin/sage-patchbot/local/var/tmp/sage/build/numpy-1.10.4.p1/src/numpy/distutils/system_info.py:635: UserWarning: Specified path  is invalid.\n  warnings.warn('Specified path %s is invalid.' % d)\n  libraries atlas,f77blas,cblas not found in []\n  NOT AVAILABLE\n```",
    "created_at": "2016-03-07T07:31:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289672",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:17" align="right">comment:17</div>

poseidon is stumping me. There is not even a compilation line

```
blas_info:
/home/kevin/sage-patchbot/local/var/tmp/sage/build/numpy-1.10.4.p1/src/numpy/distutils/system_info.py:635: UserWarning: Specified path  is invalid.
  warnings.warn('Specified path %s is invalid.' % d)
  libraries atlas,f77blas,cblas not found in []
  NOT AVAILABLE
```



---

archive/issue_comments_289673.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nWhile the absence of compilation output is annoying it may be due to a weakness of `pkgconfig` which can change the order of the libraries. Library order is important if your `ld` has `--as-needed` by default. We could try to pass `--no-as-needed` but it would be better if the order could be fixed from `pkgconfig`.",
    "created_at": "2016-03-07T20:25:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289673",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:18" align="right">comment:18</div>

While the absence of compilation output is annoying it may be due to a weakness of `pkgconfig` which can change the order of the libraries. Library order is important if your `ld` has `--as-needed` by default. We could try to pass `--no-as-needed` but it would be better if the order could be fixed from `pkgconfig`.



---

archive/issue_comments_289674.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nReplying to [@kiwifb](#comment:18):\n> While the absence of compilation output is annoying it may be due to a weakness of `pkgconfig` which can change the order of the libraries. Library order is important if your `ld` has `--as-needed` by default. We could try to pass `--no-as-needed` but it would be better if the order could be fixed from `pkgconfig`.\n\nThere must something else otherwise building `cvxopt` should fail on the same machine.",
    "created_at": "2016-03-07T23:39:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289674",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:19" align="right">comment:19</div>

Replying to [@kiwifb](#comment:18):
> While the absence of compilation output is annoying it may be due to a weakness of `pkgconfig` which can change the order of the libraries. Library order is important if your `ld` has `--as-needed` by default. We could try to pass `--no-as-needed` but it would be better if the order could be fixed from `pkgconfig`.

There must something else otherwise building `cvxopt` should fail on the same machine.



---

archive/issue_comments_289675.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nI don't understand, its is a strong point of pkg-config that it gets library order correct regardless of the argument order.\n\nOf course only if the pc files have the appropriate `Requires:` dependency information. E.g. right now our `lapack.pc` does this wrong, though I don't think that is the issue here.",
    "created_at": "2016-03-09T23:19:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289675",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:20" align="right">comment:20</div>

I don't understand, its is a strong point of pkg-config that it gets library order correct regardless of the argument order.

Of course only if the pc files have the appropriate `Requires:` dependency information. E.g. right now our `lapack.pc` does this wrong, though I don't think that is the issue here.



---

archive/issue_events_285983.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-03-09T23:20:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20157#event-285983"
}
```



---

archive/issue_events_285984.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-03-09T23:20:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20157#event-285984"
}
```



---

archive/issue_comments_289676.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nIn any case I'm going to run this on the build bot...",
    "created_at": "2016-03-09T23:20:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289676",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:21" align="right">comment:21</div>

In any case I'm going to run this on the build bot...



---

archive/issue_comments_289677.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nI am fairly sure that's not the issue. As for the order I am fairly sure that it is due to the fact that pkgconfig (python interface) uses sets. Because the set is not ordered, order can be be changed. For the `library` field it would have been better to use a list I think.",
    "created_at": "2016-03-09T23:22:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289677",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:22" align="right">comment:22</div>

I am fairly sure that's not the issue. As for the order I am fairly sure that it is due to the fact that pkgconfig (python interface) uses sets. Because the set is not ordered, order can be be changed. For the `library` field it would have been better to use a list I think.



---

archive/issue_comments_289678.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nPossibly, though really the order of all compiler switches potentially matters not just the libraries. So the goal should be to a) always use pc files and then b) directly use the output string from `pkgconfig.libs(...)` instead of `pkgconfig.parse`",
    "created_at": "2016-03-10T08:48:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289678",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:23" align="right">comment:23</div>

Possibly, though really the order of all compiler switches potentially matters not just the libraries. So the goal should be to a) always use pc files and then b) directly use the output string from `pkgconfig.libs(...)` instead of `pkgconfig.parse`



---

archive/issue_events_285985.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-03-10T08:50:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20157#event-285985"
}
```



---

archive/issue_events_285986.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-03-10T08:50:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20157#event-285986"
}
```



---

archive/issue_comments_289679.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nFails to build scipy on some platforms:\n* http://build.sagedev.org/release/builders/%20%20slow%20Oxford%20ARM%20%28Ubuntu%2012.10%29%20incremental/builds/529\n* http://build.sagedev.org/release/builders/%20%20slow%20AIMS%20%20%28Debian%208%2032%20bit%29%20incremental/builds/423\n* http://build.sagedev.org/release/builders/%20%20slow%20AIMS%20%20%28Debian%207%2064%20bit%29%20incremental/builds/395\nPossibly due to this:\n\n```\n/mnt/highperf/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/numpy/distutils/system_info.py:635: UserWarning: Specified path  is invalid.\n  warnings.warn('Specified path %s is invalid.' % d)\n  libraries lapack,f77blas,cblas,atlas not found in []\n  NOT AVAILABLE\n```",
    "created_at": "2016-03-10T08:50:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289679",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:24" align="right">comment:24</div>

Fails to build scipy on some platforms:
* http://build.sagedev.org/release/builders/%20%20slow%20Oxford%20ARM%20%28Ubuntu%2012.10%29%20incremental/builds/529
* http://build.sagedev.org/release/builders/%20%20slow%20AIMS%20%20%28Debian%208%2032%20bit%29%20incremental/builds/423
* http://build.sagedev.org/release/builders/%20%20slow%20AIMS%20%20%28Debian%207%2064%20bit%29%20incremental/builds/395
Possibly due to this:

```
/mnt/highperf/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/numpy/distutils/system_info.py:635: UserWarning: Specified path  is invalid.
  warnings.warn('Specified path %s is invalid.' % d)
  libraries lapack,f77blas,cblas,atlas not found in []
  NOT AVAILABLE
```



---

archive/issue_comments_289680.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nOK. I think I see a pattern now. I have to check the `system_info.py` code again. The real breaking point is\n\n```\nlibraries lapack,f77blas,cblas,atlas not found in []\n```\nthe rest before is in common with successful build. It has to be a failure in finding at `[]` instead of the given `library_dirs` why it happens some times and not some other will be interesting to untangle.",
    "created_at": "2016-03-10T09:01:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289680",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:25" align="right">comment:25</div>

OK. I think I see a pattern now. I have to check the `system_info.py` code again. The real breaking point is

```
libraries lapack,f77blas,cblas,atlas not found in []
```
the rest before is in common with successful build. It has to be a failure in finding at `[]` instead of the given `library_dirs` why it happens some times and not some other will be interesting to untangle.



---

archive/issue_comments_289681.json:
```json
{
    "body": "Changed commit from **[`dfddf07`](https://github.com/sagemath/sagetrac-mirror/commit/dfddf074dd2ffab07030451f6c715483bb8fad25)** to **[`fea3a2a`](https://github.com/sagemath/sagetrac-mirror/commit/fea3a2a429bdc015670a7b8726b7974d8d818689)**",
    "created_at": "2016-03-11T05:57:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289681",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`dfddf07`](https://github.com/sagemath/sagetrac-mirror/commit/dfddf074dd2ffab07030451f6c715483bb8fad25)** to **[`fea3a2a`](https://github.com/sagemath/sagetrac-mirror/commit/fea3a2a429bdc015670a7b8726b7974d8d818689)**



---

archive/issue_comments_289682.json:
```json
{
    "body": "<div id=\"comment:26\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7808e833c2a270292a031c456eed7b518aa311dc\"><code>7808e83</code></a></td><td><code>Small improvement and cleaning in lapack_conf.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/38007ae520f8535e512aa29082681d3300b75c47\"><code>38007ae</code></a></td><td><code>Merge branch 'develop' into numpy_scipy_pc</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fea3a2a429bdc015670a7b8726b7974d8d818689\"><code>fea3a2a</code></a></td><td><code>Not having access to a failing machine that's a bit of a stab in the dark</code></td></tr></table>\n",
    "created_at": "2016-03-11T05:57:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289682",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:26"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7808e833c2a270292a031c456eed7b518aa311dc"><code>7808e83</code></a></td><td><code>Small improvement and cleaning in lapack_conf.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/38007ae520f8535e512aa29082681d3300b75c47"><code>38007ae</code></a></td><td><code>Merge branch 'develop' into numpy_scipy_pc</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fea3a2a429bdc015670a7b8726b7974d8d818689"><code>fea3a2a</code></a></td><td><code>Not having access to a failing machine that's a bit of a stab in the dark</code></td></tr></table>




---

archive/issue_comments_289683.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nLet's see what the bots make of that.",
    "created_at": "2016-03-11T05:58:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289683",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:27" align="right">comment:27</div>

Let's see what the bots make of that.



---

archive/issue_events_285987.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2016-03-11T05:58:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20157#event-285987"
}
```



---

archive/issue_events_285988.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2016-03-11T05:58:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20157#event-285988"
}
```



---

archive/issue_comments_289684.json:
```json
{
    "body": "Changed commit from **[`fea3a2a`](https://github.com/sagemath/sagetrac-mirror/commit/fea3a2a429bdc015670a7b8726b7974d8d818689)** to **[`f9658ba`](https://github.com/sagemath/sagetrac-mirror/commit/f9658bac915660e2c8c680dd91d188fd20f06bff)**",
    "created_at": "2016-03-13T21:38:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289684",
    "user": "https://github.com/kiwifb"
}
```

Changed commit from **[`fea3a2a`](https://github.com/sagemath/sagetrac-mirror/commit/fea3a2a429bdc015670a7b8726b7974d8d818689)** to **[`f9658ba`](https://github.com/sagemath/sagetrac-mirror/commit/f9658bac915660e2c8c680dd91d188fd20f06bff)**



---

archive/issue_comments_289685.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nI tried to get a machine reproducing poseidon's problems and failed. So I am switching to a debug branch in the hope that poseidon will spit out a clue for me. Do not review this branch.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f9658bac915660e2c8c680dd91d188fd20f06bff\"><code>f9658ba</code></a></td><td><code>Add debugging info in the hope to get poseidon to spit something useful</code></td></tr></table>\n",
    "created_at": "2016-03-13T21:38:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289685",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:28" align="right">comment:28</div>

I tried to get a machine reproducing poseidon's problems and failed. So I am switching to a debug branch in the hope that poseidon will spit out a clue for me. Do not review this branch.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f9658bac915660e2c8c680dd91d188fd20f06bff"><code>f9658ba</code></a></td><td><code>Add debugging info in the hope to get poseidon to spit something useful</code></td></tr></table>




---

archive/issue_comments_289686.json:
```json
{
    "body": "Changed branch from **[u/fbissey/numpy_scipy_pc](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/numpy_scipy_pc)** to **[u/fbissey/numpy_scipy_pc_dbg](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/numpy_scipy_pc_dbg)**",
    "created_at": "2016-03-13T21:38:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289686",
    "user": "https://github.com/kiwifb"
}
```

Changed branch from **[u/fbissey/numpy_scipy_pc](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/numpy_scipy_pc)** to **[u/fbissey/numpy_scipy_pc_dbg](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/numpy_scipy_pc_dbg)**



---

archive/issue_comments_289687.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nWell it spat something useful\n\n```\n[ALL]\nlibrary_dirs = /home/kevin/sage-patchbot/local/lib\ninclude_dirs = /home/kevin/sage-patchbot/local/include\n[blas]\nlibrary_dirs = \nblas_libs    = atlas, f77blas, cblas\n[lapack]\nlibrary_dirs = \nlapack_libs  = lapack, f77blas, cblas, atlas\n```\nBack to the atlas spkg for inspection.",
    "created_at": "2016-03-13T22:00:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289687",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:29" align="right">comment:29</div>

Well it spat something useful

```
[ALL]
library_dirs = /home/kevin/sage-patchbot/local/lib
include_dirs = /home/kevin/sage-patchbot/local/include
[blas]
library_dirs = 
blas_libs    = atlas, f77blas, cblas
[lapack]
library_dirs = 
lapack_libs  = lapack, f77blas, cblas, atlas
```
Back to the atlas spkg for inspection.



---

archive/issue_comments_289688.json:
```json
{
    "body": "Changed commit from **[`f9658ba`](https://github.com/sagemath/sagetrac-mirror/commit/f9658bac915660e2c8c680dd91d188fd20f06bff)** to **[`050dff9`](https://github.com/sagemath/sagetrac-mirror/commit/050dff945cd01a314975828c1ce06fb7c81935bd)**",
    "created_at": "2016-03-13T22:13:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289688",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f9658ba`](https://github.com/sagemath/sagetrac-mirror/commit/f9658bac915660e2c8c680dd91d188fd20f06bff)** to **[`050dff9`](https://github.com/sagemath/sagetrac-mirror/commit/050dff945cd01a314975828c1ce06fb7c81935bd)**



---

archive/issue_comments_289689.json:
```json
{
    "body": "<div id=\"comment:30\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/050dff945cd01a314975828c1ce06fb7c81935bd\"><code>050dff9</code></a></td><td><code>more targeted output</code></td></tr></table>\n",
    "created_at": "2016-03-13T22:13:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289689",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:30"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/050dff945cd01a314975828c1ce06fb7c81935bd"><code>050dff9</code></a></td><td><code>more targeted output</code></td></tr></table>




---

archive/issue_comments_289690.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nStill no review please.",
    "created_at": "2016-03-13T22:13:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289690",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:31" align="right">comment:31</div>

Still no review please.



---

archive/issue_comments_289691.json:
```json
{
    "body": "Changed commit from **[`050dff9`](https://github.com/sagemath/sagetrac-mirror/commit/050dff945cd01a314975828c1ce06fb7c81935bd)** to **[`fea3a2a`](https://github.com/sagemath/sagetrac-mirror/commit/fea3a2a429bdc015670a7b8726b7974d8d818689)**",
    "created_at": "2016-03-14T20:57:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289691",
    "user": "https://github.com/kiwifb"
}
```

Changed commit from **[`050dff9`](https://github.com/sagemath/sagetrac-mirror/commit/050dff945cd01a314975828c1ce06fb7c81935bd)** to **[`fea3a2a`](https://github.com/sagemath/sagetrac-mirror/commit/fea3a2a429bdc015670a7b8726b7974d8d818689)**



---

archive/issue_comments_289692.json:
```json
{
    "body": "Dependencies: **20208**",
    "created_at": "2016-03-14T20:57:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289692",
    "user": "https://github.com/kiwifb"
}
```

Dependencies: **20208**



---

archive/issue_comments_289693.json:
```json
{
    "body": "Changed branch from **[u/fbissey/numpy_scipy_pc_dbg](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/numpy_scipy_pc_dbg)** to **[u/fbissey/numpy_scipy_pc](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/numpy_scipy_pc)**",
    "created_at": "2016-03-14T20:57:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289693",
    "user": "https://github.com/kiwifb"
}
```

Changed branch from **[u/fbissey/numpy_scipy_pc_dbg](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/numpy_scipy_pc_dbg)** to **[u/fbissey/numpy_scipy_pc](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/numpy_scipy_pc)**



---

archive/issue_comments_289694.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nRandom failures should now be solved by #20208.",
    "created_at": "2016-03-14T20:57:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289694",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:32" align="right">comment:32</div>

Random failures should now be solved by #20208.



---

archive/issue_comments_289695.json:
```json
{
    "body": "Changed dependencies from **20208** to **#20208**",
    "created_at": "2016-03-14T21:43:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289695",
    "user": "https://github.com/vbraun"
}
```

Changed dependencies from **20208** to **#20208**



---

archive/issue_events_285989.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2016-03-21T23:18:59Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "milestone_number": null,
    "milestone_title": "sage-7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20157#event-285989"
}
```



---

archive/issue_events_285990.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2016-03-21T23:18:59Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "milestone_number": null,
    "milestone_title": "sage-7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20157#event-285990"
}
```



---

archive/issue_comments_289696.json:
```json
{
    "body": "Changed commit from **[`fea3a2a`](https://github.com/sagemath/sagetrac-mirror/commit/fea3a2a429bdc015670a7b8726b7974d8d818689)** to **[`38007ae`](https://github.com/sagemath/sagetrac-mirror/commit/38007ae520f8535e512aa29082681d3300b75c47)**",
    "created_at": "2016-03-22T00:24:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289696",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`fea3a2a`](https://github.com/sagemath/sagetrac-mirror/commit/fea3a2a429bdc015670a7b8726b7974d8d818689)** to **[`38007ae`](https://github.com/sagemath/sagetrac-mirror/commit/38007ae520f8535e512aa29082681d3300b75c47)**



---

archive/issue_comments_289697.json:
```json
{
    "body": "<div id=\"comment:35\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2016-03-22T00:24:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289697",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:35"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_289698.json:
```json
{
    "body": "Changed commit from **[`38007ae`](https://github.com/sagemath/sagetrac-mirror/commit/38007ae520f8535e512aa29082681d3300b75c47)** to **[`b2c95cb`](https://github.com/sagemath/sagetrac-mirror/commit/b2c95cb2f24d369703483148b6258ad7486713f2)**",
    "created_at": "2016-03-22T01:52:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289698",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`38007ae`](https://github.com/sagemath/sagetrac-mirror/commit/38007ae520f8535e512aa29082681d3300b75c47)** to **[`b2c95cb`](https://github.com/sagemath/sagetrac-mirror/commit/b2c95cb2f24d369703483148b6258ad7486713f2)**



---

archive/issue_comments_289699.json:
```json
{
    "body": "<div id=\"comment:36\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/20e1893be906c209464abad840eaf116a3e533d5\"><code>20e1893</code></a></td><td><code>Do not strip out system libs in pkg-config</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b2c95cb2f24d369703483148b6258ad7486713f2\"><code>b2c95cb</code></a></td><td><code>Merge branch 'keep_system_libraries_in_pkgconf' into numpy_scipy_pc</code></td></tr></table>\n",
    "created_at": "2016-03-22T01:52:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289699",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:36"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/20e1893be906c209464abad840eaf116a3e533d5"><code>20e1893</code></a></td><td><code>Do not strip out system libs in pkg-config</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b2c95cb2f24d369703483148b6258ad7486713f2"><code>b2c95cb</code></a></td><td><code>Merge branch 'keep_system_libraries_in_pkgconf' into numpy_scipy_pc</code></td></tr></table>




---

archive/issue_comments_289700.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nClean up and merge #20208 so it does build on poseidon out of the box. Cross fingers.",
    "created_at": "2016-03-22T01:54:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289700",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:37" align="right">comment:37</div>

Clean up and merge #20208 so it does build on poseidon out of the box. Cross fingers.



---

archive/issue_comments_289701.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nAnd poseidon still fails because `pkgconf` hasn't been rebuild before `numpy`..... I guess I will have to wait until #20208 is in a beta.",
    "created_at": "2016-03-22T20:38:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289701",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:38" align="right">comment:38</div>

And poseidon still fails because `pkgconf` hasn't been rebuild before `numpy`..... I guess I will have to wait until #20208 is in a beta.



---

archive/issue_comments_289702.json:
```json
{
    "body": "Changed commit from **[`b2c95cb`](https://github.com/sagemath/sagetrac-mirror/commit/b2c95cb2f24d369703483148b6258ad7486713f2)** to **[`41a7bde`](https://github.com/sagemath/sagetrac-mirror/commit/41a7bdec73bb71b47d36ccccf7b073543e3fced2)**",
    "created_at": "2016-03-25T03:07:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289702",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b2c95cb`](https://github.com/sagemath/sagetrac-mirror/commit/b2c95cb2f24d369703483148b6258ad7486713f2)** to **[`41a7bde`](https://github.com/sagemath/sagetrac-mirror/commit/41a7bdec73bb71b47d36ccccf7b073543e3fced2)**



---

archive/issue_comments_289703.json:
```json
{
    "body": "<div id=\"comment:39\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/41a7bdec73bb71b47d36ccccf7b073543e3fced2\"><code>41a7bde</code></a></td><td><code>Merge branch 'develop' into numpy_scipy_pc</code></td></tr></table>\n",
    "created_at": "2016-03-25T03:07:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289703",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:39"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/41a7bdec73bb71b47d36ccccf7b073543e3fced2"><code>41a7bde</code></a></td><td><code>Merge branch 'develop' into numpy_scipy_pc</code></td></tr></table>




---

archive/issue_comments_289704.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nRebased on 7.2.beta0 which includes #20208.",
    "created_at": "2016-03-25T03:08:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289704",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:40" align="right">comment:40</div>

Rebased on 7.2.beta0 which includes #20208.



---

archive/issue_comments_289705.json:
```json
{
    "body": "Changed dependencies from **#20208** to none",
    "created_at": "2016-03-25T03:08:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289705",
    "user": "https://github.com/kiwifb"
}
```

Changed dependencies from **#20208** to none



---

archive/issue_comments_289706.json:
```json
{
    "body": "<div id=\"comment:41\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a7869d8648b3a682d283a686d6649cb8ed0ffbce\"><code>a7869d8</code></a></td><td><code>Merge branch 'develop' into numpy_scipy_pc</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/af70376a991d0770ec4a92da8155c33b7702f040\"><code>af70376</code></a></td><td><code>try another strategy to get things going on poseidon</code></td></tr></table>\n",
    "created_at": "2016-03-28T22:07:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289706",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:41"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a7869d8648b3a682d283a686d6649cb8ed0ffbce"><code>a7869d8</code></a></td><td><code>Merge branch 'develop' into numpy_scipy_pc</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/af70376a991d0770ec4a92da8155c33b7702f040"><code>af70376</code></a></td><td><code>try another strategy to get things going on poseidon</code></td></tr></table>




---

archive/issue_comments_289707.json:
```json
{
    "body": "Changed commit from **[`41a7bde`](https://github.com/sagemath/sagetrac-mirror/commit/41a7bdec73bb71b47d36ccccf7b073543e3fced2)** to **[`af70376`](https://github.com/sagemath/sagetrac-mirror/commit/af70376a991d0770ec4a92da8155c33b7702f040)**",
    "created_at": "2016-03-28T22:07:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289707",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`41a7bde`](https://github.com/sagemath/sagetrac-mirror/commit/41a7bdec73bb71b47d36ccccf7b073543e3fced2)** to **[`af70376`](https://github.com/sagemath/sagetrac-mirror/commit/af70376a991d0770ec4a92da8155c33b7702f040)**



---

archive/issue_events_285991.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2016-03-29T05:00:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20157#event-285991"
}
```



---

archive/issue_events_285992.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2016-03-29T05:00:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20157#event-285992"
}
```



---

archive/issue_comments_289708.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nFinally building on poseidon. Theory: #20208 fixes the case where there is no global `pkg-config` installed and `sage`'s `pkgconf` is used and in that case having it not strip default library directories when present in the `.pc` file. But poseidon still failed, probably because it has a global `pkg-config` command available and it happens to be `pkgconf`. Because it is provided by the system #20208 doesn't fix it.\n\nThe `lapack.conf` script is much more robust as a result of the latest commit.\n\nPutting back to positive review.",
    "created_at": "2016-03-29T05:00:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289708",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:42" align="right">comment:42</div>

Finally building on poseidon. Theory: #20208 fixes the case where there is no global `pkg-config` installed and `sage`'s `pkgconf` is used and in that case having it not strip default library directories when present in the `.pc` file. But poseidon still failed, probably because it has a global `pkg-config` command available and it happens to be `pkgconf`. Because it is provided by the system #20208 doesn't fix it.

The `lapack.conf` script is much more robust as a result of the latest commit.

Putting back to positive review.



---

archive/issue_events_285993.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-03-30T14:05:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20157#event-285993"
}
```



---

archive/issue_events_285994.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "899e822b2c2fbf9b468655204a62a8210ec37d92",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-03-30T14:05:49Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20157#event-285994"
}
```



---

archive/issue_comments_289709.json:
```json
{
    "body": "Changed branch from **[u/fbissey/numpy_scipy_pc](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/numpy_scipy_pc)** to **[`af70376`](https://github.com/sagemath/sagetrac-mirror/commit/af70376a991d0770ec4a92da8155c33b7702f040)**",
    "created_at": "2016-03-30T14:05:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20157",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20157#issuecomment-289709",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/fbissey/numpy_scipy_pc](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/numpy_scipy_pc)** to **[`af70376`](https://github.com/sagemath/sagetrac-mirror/commit/af70376a991d0770ec4a92da8155c33b7702f040)**
