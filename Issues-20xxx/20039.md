# Issue 20039: Subfield subcodes

archive/issues_019802.json:
```json
{
    "body": "This ticket proposes an implementation of subfield subcodes.\n\n  \n\nBranch/Commit: 0cd4c3d358656fdde46881d8e975d74d9e0fc5cd\n\nReviewer: Julien Lavauzelle\n\nAuthor: David Lucas\n\nDependencies: #19930, #19653, #20284\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/20039\n\n",
    "closed_at": "2016-07-19T23:13:09Z",
    "created_at": "2016-02-11T15:57:21Z",
    "labels": [
        "component: coding theory"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.3",
    "title": "Subfield subcodes",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20039",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```
This ticket proposes an implementation of subfield subcodes.

  

Branch/Commit: 0cd4c3d358656fdde46881d8e975d74d9e0fc5cd

Reviewer: Julien Lavauzelle

Author: David Lucas

Dependencies: #19930, #19653, #20284

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/20039





---

archive/issue_comments_361613.json:
```json
{
    "body": "Changing branch from \"\" to \"u/dlucas/subfield_subcode\"",
    "created_at": "2016-02-11T15:57:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20039#issuecomment-361613",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

Changing branch from "" to "u/dlucas/subfield_subcode"



---

archive/issue_comments_361614.json:
```json
{
    "body": "Changing commit from \"\" to \"6e1531d103dd2da2a3e0b77ade32b017a7d366bf\"",
    "created_at": "2016-02-11T16:01:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20039#issuecomment-361614",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "6e1531d103dd2da2a3e0b77ade32b017a7d366bf"



---

archive/issue_comments_361615.json:
```json
{
    "body": "<a id='comment:2'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                        |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------|\n|[6e1531d](http://git.sagemath.org/sage.git/commit/?id=6e1531d103dd2da2a3e0b77ade32b017a7d366bf)|`Updated to 7.1beta2 and fixed conflict`|",
    "created_at": "2016-02-11T16:01:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20039#issuecomment-361615",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                        |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------|
|[6e1531d](http://git.sagemath.org/sage.git/commit/?id=6e1531d103dd2da2a3e0b77ade32b017a7d366bf)|`Updated to 7.1beta2 and fixed conflict`|



---

archive/issue_comments_361616.json:
```json
{
    "body": "<a id='comment:3'></a>\nThis is still a WIP I push here as there's some work done which might be of any interest.\n\nIn my branch, one will find:\n\n- a class dedicated to field embeddings which, considering `Fp` a finite field (`p` prime), `Fq` (`q=p^s`) and `Fq^m`, gives a representation of elements of `Fq^m` as vectors of `Fp` over a basis of `Fq`.\n\n- an implementation of subfield subcodes\n\n## Known issues\n\n- Some names are quite bad and need to be reconsidered\n- Subfield subcode's parity check matrix computation has not been thoroughly tested\n- A decoder for subfield subcodes is not yet implemented\n- Some interesting methods could be implemented (e.g. dual code of a subfield subcode)\n- `dimension_lower_bound` seems quite useless...",
    "created_at": "2016-02-11T16:07:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20039#issuecomment-361616",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

<a id='comment:3'></a>
This is still a WIP I push here as there's some work done which might be of any interest.

In my branch, one will find:

- a class dedicated to field embeddings which, considering `Fp` a finite field (`p` prime), `Fq` (`q=p^s`) and `Fq^m`, gives a representation of elements of `Fq^m` as vectors of `Fp` over a basis of `Fq`.

- an implementation of subfield subcodes

## Known issues

- Some names are quite bad and need to be reconsidered
- Subfield subcode's parity check matrix computation has not been thoroughly tested
- A decoder for subfield subcodes is not yet implemented
- Some interesting methods could be implemented (e.g. dual code of a subfield subcode)
- `dimension_lower_bound` seems quite useless...



---

archive/issue_comments_361617.json:
```json
{
    "body": "Changing author from \"\" to \"David Lucas\"",
    "created_at": "2016-02-11T16:07:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20039#issuecomment-361617",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

Changing author from "" to "David Lucas"



---

archive/issue_comments_361618.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#19930\"",
    "created_at": "2016-02-11T16:07:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20039#issuecomment-361618",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

Changing dependencies from "" to "#19930"



---

archive/issue_comments_361619.json:
```json
{
    "body": "Changing commit from \"6e1531d103dd2da2a3e0b77ade32b017a7d366bf\" to \"296be1ed0e321e5df6f257e61fbdb1bdc1877ebf\"",
    "created_at": "2016-02-15T10:36:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20039#issuecomment-361619",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "6e1531d103dd2da2a3e0b77ade32b017a7d366bf" to "296be1ed0e321e5df6f257e61fbdb1bdc1877ebf"



---

archive/issue_comments_361620.json:
```json
{
    "body": "<a id='comment:5'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                              |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|\n|[296be1e](http://git.sagemath.org/sage.git/commit/?id=296be1ed0e321e5df6f257e61fbdb1bdc1877ebf)|`Updated to 7.1beta3 and fixed merge conflict`|",
    "created_at": "2016-02-15T10:36:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20039#issuecomment-361620",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                              |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|
|[296be1e](http://git.sagemath.org/sage.git/commit/?id=296be1ed0e321e5df6f257e61fbdb1bdc1877ebf)|`Updated to 7.1beta3 and fixed merge conflict`|



---

archive/issue_comments_361621.json:
```json
{
    "body": "<a id='comment:6'></a>\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n|                                                                                                                                          |                                                                                        |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------|\n|[ffed948](http://git.sagemath.org/sage.git/commit/?id=ffed9486f0d2e5bf3d1a86dff8dfa9a9e33ec9dc)|`Merge branch 'u/dlucas/grs_decoders' of git://trac.sagemath.org/sage into grs_decoders`|\n|[616219c](http://git.sagemath.org/sage.git/commit/?id=616219c09ebaba8ccf1b45804bd6784617109d54)|`Update to latest beta`|\n|[77f0629](http://git.sagemath.org/sage.git/commit/?id=77f06294a0005cdbbd7006e2e75281be5a1da352)|`Merged #19897`|\n|[37bb7ac](http://git.sagemath.org/sage.git/commit/?id=37bb7ac8775f51d774cc9edaeeb0ba457c7f2546)|`Updated introductory thematic tutorial with a paragraph on decoders and message spaces`|\n|[1220403](http://git.sagemath.org/sage.git/commit/?id=12204034fadec3f7fb3ac7cb8ed65a027846e1de)|`Merge branch 'develop' into grs_decoders`|\n|[4340598](http://git.sagemath.org/sage.git/commit/?id=4340598e5ae5e932abb87389764ccb6e06561c12)|`Removed deprecated import`|\n|[b840682](http://git.sagemath.org/sage.git/commit/?id=b8406820e1300efdd3ef95d8e5f326c28878a568)|`Updated to 7.1beta3 and fixed conflict`|\n|[d70d6aa](http://git.sagemath.org/sage.git/commit/?id=d70d6aa219a0472d1e254a23b6e0427f5cc7e1b2)|`Removed __ne__ methods`|\n|[1808bb1](http://git.sagemath.org/sage.git/commit/?id=1808bb1f545bf7702c9879cc606d24a572f62078)|`Some fixes to the decoder. Merged with GRS decoders branch to have fast examples`|\n|[9c5405f](http://git.sagemath.org/sage.git/commit/?id=9c5405ffb4101a832e060711e76c15fbacb03b47)|`Fixed a bug because of which it was impossible to build a PC matrix when the subfield was the prime field`|",
    "created_at": "2016-02-19T09:03:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20039#issuecomment-361621",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
|                                                                                                                                          |                                                                                        |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------|
|[ffed948](http://git.sagemath.org/sage.git/commit/?id=ffed9486f0d2e5bf3d1a86dff8dfa9a9e33ec9dc)|`Merge branch 'u/dlucas/grs_decoders' of git://trac.sagemath.org/sage into grs_decoders`|
|[616219c](http://git.sagemath.org/sage.git/commit/?id=616219c09ebaba8ccf1b45804bd6784617109d54)|`Update to latest beta`|
|[77f0629](http://git.sagemath.org/sage.git/commit/?id=77f06294a0005cdbbd7006e2e75281be5a1da352)|`Merged #19897`|
|[37bb7ac](http://git.sagemath.org/sage.git/commit/?id=37bb7ac8775f51d774cc9edaeeb0ba457c7f2546)|`Updated introductory thematic tutorial with a paragraph on decoders and message spaces`|
|[1220403](http://git.sagemath.org/sage.git/commit/?id=12204034fadec3f7fb3ac7cb8ed65a027846e1de)|`Merge branch 'develop' into grs_decoders`|
|[4340598](http://git.sagemath.org/sage.git/commit/?id=4340598e5ae5e932abb87389764ccb6e06561c12)|`Removed deprecated import`|
|[b840682](http://git.sagemath.org/sage.git/commit/?id=b8406820e1300efdd3ef95d8e5f326c28878a568)|`Updated to 7.1beta3 and fixed conflict`|
|[d70d6aa](http://git.sagemath.org/sage.git/commit/?id=d70d6aa219a0472d1e254a23b6e0427f5cc7e1b2)|`Removed __ne__ methods`|
|[1808bb1](http://git.sagemath.org/sage.git/commit/?id=1808bb1f545bf7702c9879cc606d24a572f62078)|`Some fixes to the decoder. Merged with GRS decoders branch to have fast examples`|
|[9c5405f](http://git.sagemath.org/sage.git/commit/?id=9c5405ffb4101a832e060711e76c15fbacb03b47)|`Fixed a bug because of which it was impossible to build a PC matrix when the subfield was the prime field`|



---

archive/issue_comments_361622.json:
```json
{
    "body": "Changing commit from \"296be1ed0e321e5df6f257e61fbdb1bdc1877ebf\" to \"9c5405ffb4101a832e060711e76c15fbacb03b47\"",
    "created_at": "2016-02-19T09:03:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20039#issuecomment-361622",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "296be1ed0e321e5df6f257e61fbdb1bdc1877ebf" to "9c5405ffb4101a832e060711e76c15fbacb03b47"



---

archive/issue_comments_361623.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-02-19T09:06:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20039#issuecomment-361623",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_361624.json:
```json
{
    "body": "<a id='comment:7'></a>\nI implemented a decoder for subfield subcodes, rewrote some documentation and fixed the bugs I found.\nI decided to drop the implementation of a specific `dual_code` method as it seems to quite difficult, and thus will be done in another ticket.\nThis ticket now depends on #19653, as I need better decoders than `syndrome` and `nearest_neighbor` to perform (fast) tests over the decoder implemented here. \n\nThis is now open for review.\n\nDavid",
    "created_at": "2016-02-19T09:06:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20039#issuecomment-361624",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

<a id='comment:7'></a>
I implemented a decoder for subfield subcodes, rewrote some documentation and fixed the bugs I found.
I decided to drop the implementation of a specific `dual_code` method as it seems to quite difficult, and thus will be done in another ticket.
This ticket now depends on #19653, as I need better decoders than `syndrome` and `nearest_neighbor` to perform (fast) tests over the decoder implemented here. 

This is now open for review.

David



---

archive/issue_comments_361625.json:
```json
{
    "body": "Changing dependencies from \"#19930\" to \"#19930, #19653\"",
    "created_at": "2016-02-19T09:06:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20039#issuecomment-361625",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

Changing dependencies from "#19930" to "#19930, #19653"



---

archive/issue_comments_361626.json:
```json
{
    "body": "<a id='comment:8'></a>\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n|                                                                                                                                          |                                                            |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------|\n|[fca099e](http://git.sagemath.org/sage.git/commit/?id=fca099ed40912d26eff991fc612ee793681000c5)|`Added new sanity check on the output of BW and Gao decoder`|\n|[57dbfbf](http://git.sagemath.org/sage.git/commit/?id=57dbfbf126d1b4743ae4e6346076d39a30f9835c)|`Rewrote random_element method`|\n|[7953d60](http://git.sagemath.org/sage.git/commit/?id=7953d60aa6a583aba7767a74bf43194a34383194)|`Proper sanity checks for output of decode_to_* methods`|\n|[8673ac5](http://git.sagemath.org/sage.git/commit/?id=8673ac587f4e8bece38fc7027c96eef9771c7eec)|`Optimized a bit polynomial division in Gao and BW`|\n|[e1b6b09](http://git.sagemath.org/sage.git/commit/?id=e1b6b091ee15d723378847bfb00e58d41b37d5ee)|`Merged now postive reviewed #19666 and fixed conflicts`|\n|[5093dce](http://git.sagemath.org/sage.git/commit/?id=5093dce713233b65314fc6fe2ef666fbca7e1ec9)|`Update to 7.1beta5`|\n|[f3b4b11](http://git.sagemath.org/sage.git/commit/?id=f3b4b11582fd4c2e976d2e0450d0e8699be0272e)|`Fixed typo in Guruswami-Sudan doc`|\n|[d01d4dd](http://git.sagemath.org/sage.git/commit/?id=d01d4ddd63c8f072bc7b96c73fca845a56b94a2b)|`Merge branch 'grs_decoders' into subfield_subcode`|\n|[b1941af](http://git.sagemath.org/sage.git/commit/?id=b1941af7efbb3b308f7d131d59b05b1b714b6b5d)|`Added extra arguments management to decoding_radius`|\n|[3b172ad](http://git.sagemath.org/sage.git/commit/?id=3b172ad13fd4782b80049897fa046254cecaf01c)|`Decoder now works if the original decoder is a list decoder`|",
    "created_at": "2016-03-01T13:02:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20039#issuecomment-361626",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
|                                                                                                                                          |                                                            |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------|
|[fca099e](http://git.sagemath.org/sage.git/commit/?id=fca099ed40912d26eff991fc612ee793681000c5)|`Added new sanity check on the output of BW and Gao decoder`|
|[57dbfbf](http://git.sagemath.org/sage.git/commit/?id=57dbfbf126d1b4743ae4e6346076d39a30f9835c)|`Rewrote random_element method`|
|[7953d60](http://git.sagemath.org/sage.git/commit/?id=7953d60aa6a583aba7767a74bf43194a34383194)|`Proper sanity checks for output of decode_to_* methods`|
|[8673ac5](http://git.sagemath.org/sage.git/commit/?id=8673ac587f4e8bece38fc7027c96eef9771c7eec)|`Optimized a bit polynomial division in Gao and BW`|
|[e1b6b09](http://git.sagemath.org/sage.git/commit/?id=e1b6b091ee15d723378847bfb00e58d41b37d5ee)|`Merged now postive reviewed #19666 and fixed conflicts`|
|[5093dce](http://git.sagemath.org/sage.git/commit/?id=5093dce713233b65314fc6fe2ef666fbca7e1ec9)|`Update to 7.1beta5`|
|[f3b4b11](http://git.sagemath.org/sage.git/commit/?id=f3b4b11582fd4c2e976d2e0450d0e8699be0272e)|`Fixed typo in Guruswami-Sudan doc`|
|[d01d4dd](http://git.sagemath.org/sage.git/commit/?id=d01d4ddd63c8f072bc7b96c73fca845a56b94a2b)|`Merge branch 'grs_decoders' into subfield_subcode`|
|[b1941af](http://git.sagemath.org/sage.git/commit/?id=b1941af7efbb3b308f7d131d59b05b1b714b6b5d)|`Added extra arguments management to decoding_radius`|
|[3b172ad](http://git.sagemath.org/sage.git/commit/?id=3b172ad13fd4782b80049897fa046254cecaf01c)|`Decoder now works if the original decoder is a list decoder`|



---

archive/issue_comments_361627.json:
```json
{
    "body": "Changing commit from \"9c5405ffb4101a832e060711e76c15fbacb03b47\" to \"3b172ad13fd4782b80049897fa046254cecaf01c\"",
    "created_at": "2016-03-01T13:02:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20039#issuecomment-361627",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "9c5405ffb4101a832e060711e76c15fbacb03b47" to "3b172ad13fd4782b80049897fa046254cecaf01c"



---

archive/issue_comments_361628.json:
```json
{
    "body": "<a id='comment:9'></a>\nI made a few fixes:\n\n- `decoding_radius` now properly handles extra arguments. This is useful if the original decoder is `GRSErrorErasureDecoder`, for instance.\n- The decoder now succeeds (and returns a list) when it should with an original decoder which is a list decoder.\n\nThis is still open for review.\n\nDavid",
    "created_at": "2016-03-01T13:04:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20039#issuecomment-361628",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

<a id='comment:9'></a>
I made a few fixes:

- `decoding_radius` now properly handles extra arguments. This is useful if the original decoder is `GRSErrorErasureDecoder`, for instance.
- The decoder now succeeds (and returns a list) when it should with an original decoder which is a list decoder.

This is still open for review.

David



---

archive/issue_comments_361629.json:
```json
{
    "body": "<a id='comment:10'></a>\nafter a very quick look I noticed that you swapped the order of parameters for `HammingCode`. This means you would need to deprecate the existing order, etc etc.\n\nAre you really willing to do so?",
    "created_at": "2016-03-23T15:12:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20039#issuecomment-361629",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:10'></a>
after a very quick look I noticed that you swapped the order of parameters for `HammingCode`. This means you would need to deprecate the existing order, etc etc.

Are you really willing to do so?



---

archive/issue_comments_361630.json:
```json
{
    "body": "<a id='comment:11'></a>\nHello,\n\nI did that for consistency with the new code classes I'm designing, in which the base field of the code is the first argument.\nI'd prefer to do so, as I like when all the classes of a library have the same calling conventions (if possible, of course).\n\nAnd in that case, it was actually done in #19930... Which is now closed.\nI deprecated the old convention, of course.\n\nI hope it's not a problem...\n\nBest,\n\nDavid",
    "created_at": "2016-03-23T15:51:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20039#issuecomment-361630",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

<a id='comment:11'></a>
Hello,

I did that for consistency with the new code classes I'm designing, in which the base field of the code is the first argument.
I'd prefer to do so, as I like when all the classes of a library have the same calling conventions (if possible, of course).

And in that case, it was actually done in #19930... Which is now closed.
I deprecated the old convention, of course.

I hope it's not a problem...

Best,

David



---

archive/issue_comments_361631.json:
```json
{
    "body": "<a id='comment:12'></a>\nHi David,\n\nPlease split the two items you mention into two different tickets if possible.\nThat is if you really have a nice and general class for finite fields embeddings, please give it its own ticket.\nIts use will definitely go much further than subfields codes!\nAnd hopefully I might have time to review it first.\n\nBest,\nJP",
    "created_at": "2016-03-24T14:25:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20039#issuecomment-361631",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:12'></a>
Hi David,

Please split the two items you mention into two different tickets if possible.
That is if you really have a nice and general class for finite fields embeddings, please give it its own ticket.
Its use will definitely go much further than subfields codes!
And hopefully I might have time to review it first.

Best,
JP



---

archive/issue_comments_361632.json:
```json
{
    "body": "<a id='comment:13'></a>\nHello,\n\nI opened a new ticket for my field embeddings class. See it in #20284.\n\nBest,\n\nDavid",
    "created_at": "2016-03-25T08:50:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20039#issuecomment-361632",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

<a id='comment:13'></a>
Hello,

I opened a new ticket for my field embeddings class. See it in #20284.

Best,

David



---

archive/issue_comments_361633.json:
```json
{
    "body": "Changing dependencies from \"#19930, #19653\" to \"#19930, #19653, #20284\"",
    "created_at": "2016-03-25T08:55:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20039#issuecomment-361633",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

Changing dependencies from "#19930, #19653" to "#19930, #19653, #20284"



---

archive/issue_events_054617.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/dlucas",
    "created_at": "2016-03-25T08:55:38Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20039",
    "milestone": "sage-7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20039#event-54617"
}
```



---

archive/issue_comments_361634.json:
```json
{
    "body": "Changing branch from \"u/dlucas/subfield_subcode\" to \"u/jlavauzelle/subfield_subcode\"",
    "created_at": "2016-07-05T11:47:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20039#issuecomment-361634",
    "user": "https://github.com/jlavauzelle"
}
```

Changing branch from "u/dlucas/subfield_subcode" to "u/jlavauzelle/subfield_subcode"



---

archive/issue_comments_361635.json:
```json
{
    "body": "<a id='comment:16'></a>\nHi,\n\nI merged it with the latest beta, and made it work with the new `relative_finite_field_extension.py` file. I also removed some piece of code in the list decoder, which didn't return subfield codewords. Thus it remains to fix this and to do the review.\n\nStill needs review then.\n\nBest,\n\nJulien\n\n---\nNew commits:\n|                                                                                                                                          |                                           |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|\n|[de9a59d](https://git.sagemath.org/sage.git/commit?id=de9a59d3b9d4a049afd60cd00d7c8693ac67cbfd)|`Merge branch 'develop' and fix conflicts.`|\n|[cda5303](https://git.sagemath.org/sage.git/commit?id=cda530320ce42d26989928606aeecde466538f78)|`Updated to 7.3.beta5 and fixed conflict.`|\n|[7fa76ab](https://git.sagemath.org/sage.git/commit?id=7fa76ab53d5e488096be470bb91425b03c3d18cb)|`Update to latest beta.`|\n|[6997b3a](https://git.sagemath.org/sage.git/commit?id=6997b3ad858e425854d75a0fb7f864a683f0adfe)|`Replaced field_embedding.py by relative_finite_field_extension.py.`|\n|[8bcf728](https://git.sagemath.org/sage.git/commit?id=8bcf7286f6c8f85d584fe4c3e458f00386dbfa18)|`Fixed doctests.`|\n|[2f87d14](https://git.sagemath.org/sage.git/commit?id=2f87d14f22cc6affe4aedd023898383e50549d26)|`Fixed doc typos.`|",
    "created_at": "2016-07-05T11:50:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20039#issuecomment-361635",
    "user": "https://github.com/jlavauzelle"
}
```

<a id='comment:16'></a>
Hi,

I merged it with the latest beta, and made it work with the new `relative_finite_field_extension.py` file. I also removed some piece of code in the list decoder, which didn't return subfield codewords. Thus it remains to fix this and to do the review.

Still needs review then.

Best,

Julien

---
New commits:
|                                                                                                                                          |                                           |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|
|[de9a59d](https://git.sagemath.org/sage.git/commit?id=de9a59d3b9d4a049afd60cd00d7c8693ac67cbfd)|`Merge branch 'develop' and fix conflicts.`|
|[cda5303](https://git.sagemath.org/sage.git/commit?id=cda530320ce42d26989928606aeecde466538f78)|`Updated to 7.3.beta5 and fixed conflict.`|
|[7fa76ab](https://git.sagemath.org/sage.git/commit?id=7fa76ab53d5e488096be470bb91425b03c3d18cb)|`Update to latest beta.`|
|[6997b3a](https://git.sagemath.org/sage.git/commit?id=6997b3ad858e425854d75a0fb7f864a683f0adfe)|`Replaced field_embedding.py by relative_finite_field_extension.py.`|
|[8bcf728](https://git.sagemath.org/sage.git/commit?id=8bcf7286f6c8f85d584fe4c3e458f00386dbfa18)|`Fixed doctests.`|
|[2f87d14](https://git.sagemath.org/sage.git/commit?id=2f87d14f22cc6affe4aedd023898383e50549d26)|`Fixed doc typos.`|



---

archive/issue_comments_361636.json:
```json
{
    "body": "Changing commit from \"3b172ad13fd4782b80049897fa046254cecaf01c\" to \"2f87d14f22cc6affe4aedd023898383e50549d26\"",
    "created_at": "2016-07-05T11:50:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20039#issuecomment-361636",
    "user": "https://github.com/jlavauzelle"
}
```

Changing commit from "3b172ad13fd4782b80049897fa046254cecaf01c" to "2f87d14f22cc6affe4aedd023898383e50549d26"



---

archive/issue_comments_361637.json:
```json
{
    "body": "Changing commit from \"2f87d14f22cc6affe4aedd023898383e50549d26\" to \"b4ae212952d859f3e7e01832d4b4010137527821\"",
    "created_at": "2016-07-17T13:36:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20039#issuecomment-361637",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "2f87d14f22cc6affe4aedd023898383e50549d26" to "b4ae212952d859f3e7e01832d4b4010137527821"



---

archive/issue_comments_361638.json:
```json
{
    "body": "<a id='comment:17'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                                   |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------|\n|[7bbf965](https://git.sagemath.org/sage.git/commit/?id=7bbf965cf0e3a5c6ca7fd690df3621a2044be054)|`Used the new *_degree() function from relative_finite_field_extension.py. Fixed the list decoder.`|\n|[23e184b](https://git.sagemath.org/sage.git/commit/?id=23e184baf9fc338a4e684f7f705a264cadfed7db)|`Updated to 7.3.beta8 and fixed conflicts.`|\n|[08f75f0](https://git.sagemath.org/sage.git/commit/?id=08f75f06cfb00c0036bc88f4bddd7267acae3007)|`Added subfield subcode classes into catalogs.`|\n|[1264e75](https://git.sagemath.org/sage.git/commit/?id=1264e75c969e606199bbe69a6e8ac6d748a77014)|`Fixed cast_into_relative_field() and put check=True as default value.`|\n|[73dd54e](https://git.sagemath.org/sage.git/commit/?id=73dd54e9b1862024f8367d002e17c8ff729f39ed)|`The decoder now raise a DecodingError when the output des not lie into the subfield subcode.`|\n|[4cf956e](https://git.sagemath.org/sage.git/commit/?id=4cf956e1a067a7b03b8a0589ee92b486852bdd05)|`Fixed __eq__().`|\n|[b4ae212](https://git.sagemath.org/sage.git/commit/?id=b4ae212952d859f3e7e01832d4b4010137527821)|`Add an __eq__() method.`|",
    "created_at": "2016-07-17T13:36:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20039#issuecomment-361638",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                                   |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------|
|[7bbf965](https://git.sagemath.org/sage.git/commit/?id=7bbf965cf0e3a5c6ca7fd690df3621a2044be054)|`Used the new *_degree() function from relative_finite_field_extension.py. Fixed the list decoder.`|
|[23e184b](https://git.sagemath.org/sage.git/commit/?id=23e184baf9fc338a4e684f7f705a264cadfed7db)|`Updated to 7.3.beta8 and fixed conflicts.`|
|[08f75f0](https://git.sagemath.org/sage.git/commit/?id=08f75f06cfb00c0036bc88f4bddd7267acae3007)|`Added subfield subcode classes into catalogs.`|
|[1264e75](https://git.sagemath.org/sage.git/commit/?id=1264e75c969e606199bbe69a6e8ac6d748a77014)|`Fixed cast_into_relative_field() and put check=True as default value.`|
|[73dd54e](https://git.sagemath.org/sage.git/commit/?id=73dd54e9b1862024f8367d002e17c8ff729f39ed)|`The decoder now raise a DecodingError when the output des not lie into the subfield subcode.`|
|[4cf956e](https://git.sagemath.org/sage.git/commit/?id=4cf956e1a067a7b03b8a0589ee92b486852bdd05)|`Fixed __eq__().`|
|[b4ae212](https://git.sagemath.org/sage.git/commit/?id=b4ae212952d859f3e7e01832d4b4010137527821)|`Add an __eq__() method.`|



---

archive/issue_events_054618.json:
```json
{
    "actor": "https://github.com/jlavauzelle",
    "created_at": "2016-07-17T13:37:36Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20039",
    "milestone": "sage-7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20039#event-54618"
}
```



---

archive/issue_events_054619.json:
```json
{
    "actor": "https://github.com/jlavauzelle",
    "created_at": "2016-07-17T13:37:36Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20039",
    "milestone": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20039#event-54619"
}
```



---

archive/issue_comments_361639.json:
```json
{
    "body": "<a id='comment:18'></a>\nHi David,\n\nFirst, I merged with the latest beta.\n\nI also reviewed your code. Nice piece of code, again. A few remarks:\n- I added the classes into the catalogs.\n \n- That's a great feature that you let the user choose the field embedding. But it has consequences. Especially, if you consider two subfield subcodes `C1` and `C2` of the same code, with the same subfield but with different embeddings, then `C1 == C2` does not generally hold (they are only isomorphic). So your equality test `__eq__` should check the embedding also. See the code below:\n {{{\n q = 4 ; Q = q**3 ; k = 8\n Fq = GF(q) ; FQ = GF(Q)\n pts = FQ.list()[:Q//5]\n C = codes.GeneralizedReedSolomonCode(pts, k)\n H = Hom(Fq, FQ)\n SubC1 = codes.SubfieldSubcode(C, Fq, embedding=H[0])\n SubC2 = codes.SubfieldSubcode(C, Fq, embedding=H[1])\n for c in SubC1:\n     print c in SubC2\n }}}\n   I my commits, I proposed to check the embedding instead of the field order (well, in fact, the field will be checked via the embedding).\n\n- I made the decoder raise a `DecodingError` when trying to output a non-subfield word.\n\n- I also modified `cast_into_relative_field()` method from `relative_finite_field_embedding.py` and added an `__eq__()` method.\n\nIf you agree with my changes, put it on positive review.\n\nJulien",
    "created_at": "2016-07-17T13:37:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20039#issuecomment-361639",
    "user": "https://github.com/jlavauzelle"
}
```

<a id='comment:18'></a>
Hi David,

First, I merged with the latest beta.

I also reviewed your code. Nice piece of code, again. A few remarks:
- I added the classes into the catalogs.
 
- That's a great feature that you let the user choose the field embedding. But it has consequences. Especially, if you consider two subfield subcodes `C1` and `C2` of the same code, with the same subfield but with different embeddings, then `C1 == C2` does not generally hold (they are only isomorphic). So your equality test `__eq__` should check the embedding also. See the code below:
 {{{
 q = 4 ; Q = q**3 ; k = 8
 Fq = GF(q) ; FQ = GF(Q)
 pts = FQ.list()[:Q//5]
 C = codes.GeneralizedReedSolomonCode(pts, k)
 H = Hom(Fq, FQ)
 SubC1 = codes.SubfieldSubcode(C, Fq, embedding=H[0])
 SubC2 = codes.SubfieldSubcode(C, Fq, embedding=H[1])
 for c in SubC1:
     print c in SubC2
 }}}
   I my commits, I proposed to check the embedding instead of the field order (well, in fact, the field will be checked via the embedding).

- I made the decoder raise a `DecodingError` when trying to output a non-subfield word.

- I also modified `cast_into_relative_field()` method from `relative_finite_field_embedding.py` and added an `__eq__()` method.

If you agree with my changes, put it on positive review.

Julien



---

archive/issue_comments_361640.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Julien Lavauzelle\"",
    "created_at": "2016-07-17T13:37:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20039#issuecomment-361640",
    "user": "https://github.com/jlavauzelle"
}
```

Changing reviewer from "" to "Julien Lavauzelle"



---

archive/issue_comments_361641.json:
```json
{
    "body": "Changing branch from \"u/jlavauzelle/subfield_subcode\" to \"u/dlucas/subfield_subcode\"",
    "created_at": "2016-07-18T11:06:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20039#issuecomment-361641",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

Changing branch from "u/jlavauzelle/subfield_subcode" to "u/dlucas/subfield_subcode"



---

archive/issue_comments_361642.json:
```json
{
    "body": "Changing commit from \"b4ae212952d859f3e7e01832d4b4010137527821\" to \"0cd4c3d358656fdde46881d8e975d74d9e0fc5cd\"",
    "created_at": "2016-07-18T11:09:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20039#issuecomment-361642",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

Changing commit from "b4ae212952d859f3e7e01832d4b4010137527821" to "0cd4c3d358656fdde46881d8e975d74d9e0fc5cd"



---

archive/issue_comments_361643.json:
```json
{
    "body": "<a id='comment:20'></a>\nHello,\n\nI agree with your changes, thanks for your work!\nI made a tiny tweak: since #20840, it's no longer necessary to register manually \ngeneric decoders in every single file, `AbstractLinearCode`'s constructor now does it.\nThus, I removed the lines related to registration of syndrome and nearest neighbour decoders \nin `SubfieldSubcode`'s list of known decoders.\n\nIf this is fine with you, you can set it to `positive_review`!\n\nBest,\n\nDavid\n\n---\nNew commits:\n|                                                                                                                                          |                                                                         |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------|\n|[0cd4c3d](https://git.sagemath.org/sage.git/commit?id=0cd4c3d358656fdde46881d8e975d74d9e0fc5cd)|`Removed generic decoders from registration block in subfield_subcode.py`|",
    "created_at": "2016-07-18T11:09:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20039#issuecomment-361643",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

<a id='comment:20'></a>
Hello,

I agree with your changes, thanks for your work!
I made a tiny tweak: since #20840, it's no longer necessary to register manually 
generic decoders in every single file, `AbstractLinearCode`'s constructor now does it.
Thus, I removed the lines related to registration of syndrome and nearest neighbour decoders 
in `SubfieldSubcode`'s list of known decoders.

If this is fine with you, you can set it to `positive_review`!

Best,

David

---
New commits:
|                                                                                                                                          |                                                                         |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------|
|[0cd4c3d](https://git.sagemath.org/sage.git/commit?id=0cd4c3d358656fdde46881d8e975d74d9e0fc5cd)|`Removed generic decoders from registration block in subfield_subcode.py`|



---

archive/issue_comments_361644.json:
```json
{
    "body": "<a id='comment:21'></a>\nHi,\n\nAlright, I didn't know there was such a automatic registration. Great :)\n\nPositive review then.\n\nJulien",
    "created_at": "2016-07-18T13:21:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20039#issuecomment-361644",
    "user": "https://github.com/jlavauzelle"
}
```

<a id='comment:21'></a>
Hi,

Alright, I didn't know there was such a automatic registration. Great :)

Positive review then.

Julien



---

archive/issue_comments_361645.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-07-18T13:21:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20039#issuecomment-361645",
    "user": "https://github.com/jlavauzelle"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_361646.json:
```json
{
    "body": "Changing branch from \"u/dlucas/subfield_subcode\" to \"0cd4c3d358656fdde46881d8e975d74d9e0fc5cd\"",
    "created_at": "2016-07-19T23:13:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20039#issuecomment-361646",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/dlucas/subfield_subcode" to "0cd4c3d358656fdde46881d8e975d74d9e0fc5cd"



---

archive/issue_events_054620.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-07-19T23:13:09Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/20039",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20039#event-54620"
}
```



---

archive/issue_comments_361647.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-07-19T23:13:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20039#issuecomment-361647",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
