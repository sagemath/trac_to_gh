# Issue 20564: KleshchevPartitions

archive/issues_020327.json:
```json
{
    "body": "Assignee: @AndrewAtLarge\n\nCC:  @tscrim\n\nKeywords: Kleshchev partition tuples\n\nImplement subclasses of `PartitionTuples` for Kleshchev partition tuples. These partition tuples index the simple modules for the cyclotomic Hecke algebras of type A and the crystal basis of corresponding integrable highest weight modules for the affine special linear groups.\n\n```python\nsage: KleshchevPartitions(5,[3,2,1],size=3)[:]\nsage: sorted(KleshchevPartitions(5,[3,2,1],size=3)[:])\n[([], [], [1, 1, 1]),\n ([], [], [2, 1]),\n ([], [], [3]),\n ([], [1], [1, 1]),\n ([], [1], [2]),\n ([], [1, 1], [1]),\n ([], [2], [1]),\n ([], [3], []),\n ([1], [], [1, 1]),\n ([1], [], [2]),\n ([1], [1], [1]),\n ([1], [2], []),\n ([1, 1], [1], []),\n ([2], [], [1]),\n ([2], [1], []),\n ([3], [], [])\n]\nsage: sorted(KleshchevPartitions(5,[3,2,1],3,convention=\"left regular\")[:])\n[([], [], [1, 1, 1]),\n ([], [1], [1, 1]),\n ([], [1], [2]),\n ([], [1, 1], [1]),\n ([], [1, 1, 1], []),\n ([1], [], [1, 1]),\n ([1], [1], [1]),\n ([1], [1, 1], []),\n ([1], [2], []),\n ([1, 1], [], [1]),\n ([1, 1], [1], []),\n ([1, 1, 1], [], []),\n ([2], [], [1]),\n ([2], [1], []),\n ([2, 1], [], []),\n ([3], [], [])]\n```\n\nThere is significant overlap between this patch and part of #15584, which implements the corresponding crystals so these patches should be merged. The labellings used for these sets of multipartitions in #15584 matches the `\"down\"` direction:\n\n```python\nsage: C = crystals.KleshchevPartitions(4, [3,2,1])\nsage: sorted([p for p in C.subcrystal(max_depth=3) if sum(sum(l) for l in p.value.value) == 3],\n....:        key=lambda x: [list(part) for part in x.value.value])\n[([], [], [1, 1, 1]),\n ([], [1], [1, 1]),\n ([], [1], [2]),\n ([], [1, 1], [1]),\n ([], [1, 1, 1], []),\n ([1], [], [1, 1]),\n ([1], [1], [1]),\n ([1], [1, 1], []),\n ([1], [2], []),\n ([1, 1], [], [1]),\n ([1, 1], [1], []),\n ([1, 1, 1], [], []),\n ([2], [], [1]),\n ([2], [1], []),\n ([2, 1], [], []),\n ([3], [], [])]\n```\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/20564\n\n",
    "closed_at": "2018-05-18T17:04:27Z",
    "created_at": "2016-05-06T01:36:13Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.3",
    "title": "KleshchevPartitions",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20564",
    "user": "https://github.com/AndrewAtLarge"
}
```
Assignee: @AndrewAtLarge

CC:  @tscrim

Keywords: Kleshchev partition tuples

Implement subclasses of `PartitionTuples` for Kleshchev partition tuples. These partition tuples index the simple modules for the cyclotomic Hecke algebras of type A and the crystal basis of corresponding integrable highest weight modules for the affine special linear groups.

```python
sage: KleshchevPartitions(5,[3,2,1],size=3)[:]
sage: sorted(KleshchevPartitions(5,[3,2,1],size=3)[:])
[([], [], [1, 1, 1]),
 ([], [], [2, 1]),
 ([], [], [3]),
 ([], [1], [1, 1]),
 ([], [1], [2]),
 ([], [1, 1], [1]),
 ([], [2], [1]),
 ([], [3], []),
 ([1], [], [1, 1]),
 ([1], [], [2]),
 ([1], [1], [1]),
 ([1], [2], []),
 ([1, 1], [1], []),
 ([2], [], [1]),
 ([2], [1], []),
 ([3], [], [])
]
sage: sorted(KleshchevPartitions(5,[3,2,1],3,convention="left regular")[:])
[([], [], [1, 1, 1]),
 ([], [1], [1, 1]),
 ([], [1], [2]),
 ([], [1, 1], [1]),
 ([], [1, 1, 1], []),
 ([1], [], [1, 1]),
 ([1], [1], [1]),
 ([1], [1, 1], []),
 ([1], [2], []),
 ([1, 1], [], [1]),
 ([1, 1], [1], []),
 ([1, 1, 1], [], []),
 ([2], [], [1]),
 ([2], [1], []),
 ([2, 1], [], []),
 ([3], [], [])]
```

There is significant overlap between this patch and part of #15584, which implements the corresponding crystals so these patches should be merged. The labellings used for these sets of multipartitions in #15584 matches the `"down"` direction:

```python
sage: C = crystals.KleshchevPartitions(4, [3,2,1])
sage: sorted([p for p in C.subcrystal(max_depth=3) if sum(sum(l) for l in p.value.value) == 3],
....:        key=lambda x: [list(part) for part in x.value.value])
[([], [], [1, 1, 1]),
 ([], [1], [1, 1]),
 ([], [1], [2]),
 ([], [1, 1], [1]),
 ([], [1, 1, 1], []),
 ([1], [], [1, 1]),
 ([1], [1], [1]),
 ([1], [1, 1], []),
 ([1], [2], []),
 ([1, 1], [], [1]),
 ([1, 1], [1], []),
 ([1, 1, 1], [], []),
 ([2], [], [1]),
 ([2], [1], []),
 ([2, 1], [], []),
 ([3], [], [])]
```



Issue created by migration from https://trac.sagemath.org/ticket/20564





---

archive/issue_comments_279946.json:
```json
{
    "body": "Set assignee to @AndrewAtLarge.",
    "created_at": "2016-05-06T05:10:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-279946",
    "user": "https://github.com/AndrewAtLarge"
}
```

Set assignee to @AndrewAtLarge.



---

archive/issue_comments_279947.json:
```json
{
    "body": "Changing keywords from \"\" to \"Kleshchev partition tuples\".",
    "created_at": "2016-05-06T05:10:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-279947",
    "user": "https://github.com/AndrewAtLarge"
}
```

Changing keywords from "" to "Kleshchev partition tuples".



---

archive/issue_comments_279948.json:
```json
{
    "body": "New commits:",
    "created_at": "2016-05-06T05:10:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-279948",
    "user": "https://github.com/AndrewAtLarge"
}
```

New commits:



---

archive/issue_comments_279949.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to combinatorics.",
    "created_at": "2016-05-06T05:10:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-279949",
    "user": "https://github.com/AndrewAtLarge"
}
```

Changing component from PLEASE CHANGE to combinatorics.



---

archive/issue_comments_279950.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2016-05-06T05:10:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-279950",
    "user": "https://github.com/AndrewAtLarge"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_279951.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-05-16T07:26:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-279951",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_279952.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-05-16T08:08:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-279952",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_279953.json:
```json
{
    "body": "[ This is a dud comment that appeared when I pushed to trac while I editting the ticket description. ]",
    "created_at": "2016-05-16T08:10:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-279953",
    "user": "https://github.com/AndrewAtLarge"
}
```

[ This is a dud comment that appeared when I pushed to trac while I editting the ticket description. ]



---

archive/issue_comments_279954.json:
```json
{
    "body": "There are also duplicates in the `\"down\"` iteration. For this, I think we should just use the crystal iteration from #15584, which seems to match. Do you agree?",
    "created_at": "2016-05-16T14:27:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-279954",
    "user": "https://github.com/tscrim"
}
```

There are also duplicates in the `"down"` iteration. For this, I think we should just use the crystal iteration from #15584, which seems to match. Do you agree?



---

archive/issue_comments_279955.json:
```json
{
    "body": "Also, I don't understand the comment in the `KleshchevPartitions_size.__init__`. I think the case for `e=0` is handled by `IntegerModRing` correctly:\n\n```\nsage: IntegerModRing(0)\nInteger Ring\n```\nand the multicharge would be correct. Or am I missing something elsewhere?",
    "created_at": "2016-05-16T14:35:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-279955",
    "user": "https://github.com/tscrim"
}
```

Also, I don't understand the comment in the `KleshchevPartitions_size.__init__`. I think the case for `e=0` is handled by `IntegerModRing` correctly:

```
sage: IntegerModRing(0)
Integer Ring
```
and the multicharge would be correct. Or am I missing something elsewhere?



---

archive/issue_comments_279956.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-05-16T23:16:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-279956",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_279957.json:
```json
{
    "body": "Replying to [comment:9 tscrim]:\n> There are also duplicates in the `\"down\"` iteration. For this, I think we should just use the crystal iteration from #15584, which seems to match. Do you agree?\n\n\nGreat. I noticed that I had too many tuples yesterday but didn't have time to investigate. I thought that I just needed to add the direction to the calls to the good nodes routines in order to get the labelling that you are using but, in addition, I should have changed `cell<=c` to `cell>=c`. With this fix to the code our labellings agree. I also separated the four different iterations (for up/down and level 1/higher levels) into their own methods.\n\nWith these changes in place the timing for my code are:\n\n```\nsage: %timeit KleshchevPartitions(5,[3,2,1],3)[:]\n100 loops, best of 3: 6.44 ms per loop\nsage: %timeit KleshchevPartitions(5,[3,2,1],3, direction=\"down\")[:]\n100 loops, best of 3: 6.62 ms per loop\n```\nMind you I am not sure how meaningful this is as there is probably some caching going on with `UniqueRepresentation`. Not sure how to compare with your code as I couldn't produce any timings for it (sage complained with a `TypeError`...).",
    "created_at": "2016-05-16T23:24:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-279957",
    "user": "https://github.com/AndrewAtLarge"
}
```

Replying to [comment:9 tscrim]:
> There are also duplicates in the `"down"` iteration. For this, I think we should just use the crystal iteration from #15584, which seems to match. Do you agree?


Great. I noticed that I had too many tuples yesterday but didn't have time to investigate. I thought that I just needed to add the direction to the calls to the good nodes routines in order to get the labelling that you are using but, in addition, I should have changed `cell<=c` to `cell>=c`. With this fix to the code our labellings agree. I also separated the four different iterations (for up/down and level 1/higher levels) into their own methods.

With these changes in place the timing for my code are:

```
sage: %timeit KleshchevPartitions(5,[3,2,1],3)[:]
100 loops, best of 3: 6.44 ms per loop
sage: %timeit KleshchevPartitions(5,[3,2,1],3, direction="down")[:]
100 loops, best of 3: 6.62 ms per loop
```
Mind you I am not sure how meaningful this is as there is probably some caching going on with `UniqueRepresentation`. Not sure how to compare with your code as I couldn't produce any timings for it (sage complained with a `TypeError`...).



---

archive/issue_comments_279958.json:
```json
{
    "body": "Replying to [comment:10 tscrim]:\n> Also, I don't understand the comment in the `KleshchevPartitions_size.__init__`. I think the case for `e=0` is handled by `IntegerModRing` correctly:\n> \n> ```\n> sage: IntegerModRing(0)\n> Integer Ring\n> ```\n> and the multicharge would be correct. Or am I missing something elsewhere?\n\n\nI agree. I think that this was an old and redundant comment: initially I was using lists to keep track of residues and then I changed to using a dictionary. I have deleted it.",
    "created_at": "2016-05-16T23:25:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-279958",
    "user": "https://github.com/AndrewAtLarge"
}
```

Replying to [comment:10 tscrim]:
> Also, I don't understand the comment in the `KleshchevPartitions_size.__init__`. I think the case for `e=0` is handled by `IntegerModRing` correctly:
> 
> ```
> sage: IntegerModRing(0)
> Integer Ring
> ```
> and the multicharge would be correct. Or am I missing something elsewhere?


I agree. I think that this was an old and redundant comment: initially I was using lists to keep track of residues and then I changed to using a dictionary. I have deleted it.



---

archive/issue_comments_279959.json:
```json
{
    "body": "I've done the first round of fusing the two implementations, and with your version of (co)normal/good cells, I was not getting a crystal structure. I changed things around so that they matched Kleshchev's article for the definition of (co)normal/good. Please check that you agree with them. I haven't updated the doctests yet so tests do not pass (and there's still more documentation to add/fix).\n\nI still need to define a similar crystal structure for the level 1 partition tuples. I'm debating whether to use the current setup or to have it delegate to `e`-regular partitions (and implement a parent for `e`-restricted partitions). Any preferences?\n\n---\nNew commits:",
    "created_at": "2016-05-27T13:16:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-279959",
    "user": "https://github.com/tscrim"
}
```

I've done the first round of fusing the two implementations, and with your version of (co)normal/good cells, I was not getting a crystal structure. I changed things around so that they matched Kleshchev's article for the definition of (co)normal/good. Please check that you agree with them. I haven't updated the doctests yet so tests do not pass (and there's still more documentation to add/fix).

I still need to define a similar crystal structure for the level 1 partition tuples. I'm debating whether to use the current setup or to have it delegate to `e`-regular partitions (and implement a parent for `e`-restricted partitions). Any preferences?

---
New commits:



---

archive/issue_comments_279960.json:
```json
{
    "body": "Thanks for this Travis!\n\nReplying to [comment:16 tscrim]:\n> I've done the first round of fusing the two implementations, and with your version of (co)normal/good cells, I was not getting a crystal structure. I changed things around so that they matched Kleshchev's article for the definition of (co)normal/good. Please check that you agree with them. I haven't updated the doctests yet so tests do not pass (and there's still more documentation to add/fix).\n> \n\nWas the crystal structure wrong for both the good and cogood methods? I would not be surprised if the cogood structure was wrong but I would have thought that the good nodes were right as this is what I are about more...anyway, thanks for fixing it.\n\n> I still need to define a similar crystal structure for the level 1 partition tuples. I'm debating whether to use the current setup or to have it delegate to `e`-regular partitions (and implement a parent for `e`-restricted partitions). Any preferences?\n\n\nOf course the way that I had it there was a single parent that had partitions in level one and partition tuples in higher levels. I can accept if you ant to move away from this. The good nodes methods etc also exist in level one but there is of course a much more efficient way to generate these partitions. As there is a more efficient way to generate the restricted/regular partitions it makes sense to have a separate parent for them. On the other hand, in the code that I pushed I had one parent for all levels and instead made `__iter__` depend on the level. Mathematically, it makes more sense, I think, to have one parent but the implementation differences between partitions and 1-tulpes of partitions needs to be taken into account somewhere. Given my bias I am happy for some one more objective to make this decision.\n\nThe second issue, which is probably already addressed in your changes is whether we should implement both the the \"restricted\" and \"regular\" versions. This is partly a question of taste and conveniences: the restricted variants are more commonly used in the literature for the cyclotomic Hecke algebras but the regular versions seem more common in the crystal world.",
    "created_at": "2016-05-28T01:37:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-279960",
    "user": "https://github.com/AndrewAtLarge"
}
```

Thanks for this Travis!

Replying to [comment:16 tscrim]:
> I've done the first round of fusing the two implementations, and with your version of (co)normal/good cells, I was not getting a crystal structure. I changed things around so that they matched Kleshchev's article for the definition of (co)normal/good. Please check that you agree with them. I haven't updated the doctests yet so tests do not pass (and there's still more documentation to add/fix).
> 

Was the crystal structure wrong for both the good and cogood methods? I would not be surprised if the cogood structure was wrong but I would have thought that the good nodes were right as this is what I are about more...anyway, thanks for fixing it.

> I still need to define a similar crystal structure for the level 1 partition tuples. I'm debating whether to use the current setup or to have it delegate to `e`-regular partitions (and implement a parent for `e`-restricted partitions). Any preferences?


Of course the way that I had it there was a single parent that had partitions in level one and partition tuples in higher levels. I can accept if you ant to move away from this. The good nodes methods etc also exist in level one but there is of course a much more efficient way to generate these partitions. As there is a more efficient way to generate the restricted/regular partitions it makes sense to have a separate parent for them. On the other hand, in the code that I pushed I had one parent for all levels and instead made `__iter__` depend on the level. Mathematically, it makes more sense, I think, to have one parent but the implementation differences between partitions and 1-tulpes of partitions needs to be taken into account somewhere. Given my bias I am happy for some one more objective to make this decision.

The second issue, which is probably already addressed in your changes is whether we should implement both the the "restricted" and "regular" versions. This is partly a question of taste and conveniences: the restricted variants are more commonly used in the literature for the cyclotomic Hecke algebras but the regular versions seem more common in the crystal world.



---

archive/issue_comments_279961.json:
```json
{
    "body": "Replying to [comment:17 andrew.mathas]:\n> Thanks for this Travis!\n\n\nThank you for your work.\n\n> Replying to [comment:16 tscrim]:\n> > I've done the first round of fusing the two implementations, and with your version of (co)normal/good cells, I was not getting a crystal structure. I changed things around so that they matched Kleshchev's article for the definition of (co)normal/good. Please check that you agree with them. I haven't updated the doctests yet so tests do not pass (and there's still more documentation to add/fix).\n> > \n\n> Was the crystal structure wrong for both the good and cogood methods? I would not be surprised if the cogood structure was wrong but I would have thought that the good nodes were right as this is what I are about more...anyway, thanks for fixing it.\n\nYes, they were, at least according to Kleshchev and how things were ordered, but the normal cells were computed correctly (although I had to flip one of the directions, and I did so to match Kleshchev).\n\n> > I still need to define a similar crystal structure for the level 1 partition tuples. I'm debating whether to use the current setup or to have it delegate to `e`-regular partitions (and implement a parent for `e`-restricted partitions). Any preferences?\n\n> \n> Of course the way that I had it there was a single parent that had partitions in level one and partition tuples in higher levels. I can accept if you ant to move away from this. The good nodes methods etc also exist in level one but there is of course a much more efficient way to generate these partitions. As there is a more efficient way to generate the restricted/regular partitions it makes sense to have a separate parent for them.\n\n\nWe already have a class for regular partitions, and essentially we have a class for restricted partitions (which is easy enough to \"resurrect\").\n\n> On the other hand, in the code that I pushed I had one parent for all levels and instead made `__iter__` depend on the level. Mathematically, it makes more sense, I think, to have one parent but the implementation differences between partitions and 1-tulpes of partitions needs to be taken into account somewhere. Given my bias I am happy for some one more objective to make this decision.\n\n\nI liked the fact that everything was tied to one parent called `KleshchevPartitions`, but I think it is better to utilize the separate classes for the essentially distinct behaviors and to take advantage of their specializations. However, `KleshchevPartitions` would remain the global entry point, and we can use that as an indicator class by tweaking the class inheritance. I.e., any class that implements Kleshchev partitions will be a subclass of `KleshchevPartitions` (this is a common idiom in various languages (e.g.., Java) by using what are known as interfaces).\n\n> The second issue, which is probably already addressed in your changes is whether we should implement both the the \"restricted\" and \"regular\" versions. This is partly a question of taste and conveniences: the restricted variants are more commonly used in the literature for the cyclotomic Hecke algebras but the regular versions seem more common in the crystal world.\n\n\nWe have both given by passing the `direction`. Although we will need to specify in the doc which direction corresponds to which type (I believe `up` is restricted and `down` is regular, but I'd need to double-check). There is also which way we order the partition tuples, which I believe corresponds to which tensor product convention we use. Do we also want to deal with that as well?",
    "created_at": "2016-05-28T08:01:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-279961",
    "user": "https://github.com/tscrim"
}
```

Replying to [comment:17 andrew.mathas]:
> Thanks for this Travis!


Thank you for your work.

> Replying to [comment:16 tscrim]:
> > I've done the first round of fusing the two implementations, and with your version of (co)normal/good cells, I was not getting a crystal structure. I changed things around so that they matched Kleshchev's article for the definition of (co)normal/good. Please check that you agree with them. I haven't updated the doctests yet so tests do not pass (and there's still more documentation to add/fix).
> > 

> Was the crystal structure wrong for both the good and cogood methods? I would not be surprised if the cogood structure was wrong but I would have thought that the good nodes were right as this is what I are about more...anyway, thanks for fixing it.

Yes, they were, at least according to Kleshchev and how things were ordered, but the normal cells were computed correctly (although I had to flip one of the directions, and I did so to match Kleshchev).

> > I still need to define a similar crystal structure for the level 1 partition tuples. I'm debating whether to use the current setup or to have it delegate to `e`-regular partitions (and implement a parent for `e`-restricted partitions). Any preferences?

> 
> Of course the way that I had it there was a single parent that had partitions in level one and partition tuples in higher levels. I can accept if you ant to move away from this. The good nodes methods etc also exist in level one but there is of course a much more efficient way to generate these partitions. As there is a more efficient way to generate the restricted/regular partitions it makes sense to have a separate parent for them.


We already have a class for regular partitions, and essentially we have a class for restricted partitions (which is easy enough to "resurrect").

> On the other hand, in the code that I pushed I had one parent for all levels and instead made `__iter__` depend on the level. Mathematically, it makes more sense, I think, to have one parent but the implementation differences between partitions and 1-tulpes of partitions needs to be taken into account somewhere. Given my bias I am happy for some one more objective to make this decision.


I liked the fact that everything was tied to one parent called `KleshchevPartitions`, but I think it is better to utilize the separate classes for the essentially distinct behaviors and to take advantage of their specializations. However, `KleshchevPartitions` would remain the global entry point, and we can use that as an indicator class by tweaking the class inheritance. I.e., any class that implements Kleshchev partitions will be a subclass of `KleshchevPartitions` (this is a common idiom in various languages (e.g.., Java) by using what are known as interfaces).

> The second issue, which is probably already addressed in your changes is whether we should implement both the the "restricted" and "regular" versions. This is partly a question of taste and conveniences: the restricted variants are more commonly used in the literature for the cyclotomic Hecke algebras but the regular versions seem more common in the crystal world.


We have both given by passing the `direction`. Although we will need to specify in the doc which direction corresponds to which type (I believe `up` is restricted and `down` is regular, but I'd need to double-check). There is also which way we order the partition tuples, which I believe corresponds to which tensor product convention we use. Do we also want to deal with that as well?



---

archive/issue_events_055473.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-07-15T04:37:55Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "milestone": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20564#event-55473"
}
```



---

archive/issue_comments_279962.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-07-15T23:44:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-279962",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_279963.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-07-16T04:12:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-279963",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_279964.json:
```json
{
    "body": "I've added a basic implementation of `\\ell`-restricted partitions. I've also gone through and fixed a number of other issues with the additional methods (e.g., `good_residue_sequence`). I just wanted to make sure everything looked good to you before I fixed the failing doctests. Also, do you have a good example for the Mullineux conjugate?\n\nAdditionally, I discovered that my implementation of Kleshchev partitions had the partitions ordered in reverse order (but not the rows), reflecting my usual preference to use the opposite convention of Kashiwara for tensor products. To add this, all we would need to do is basically add another input option for Kleshchev partitions, but what would we call this option? `(tensor_)convention`? Refine the `direction` to be of the form `UR`, `UL`, `DR`, `DL`?",
    "created_at": "2016-07-16T04:24:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-279964",
    "user": "https://github.com/tscrim"
}
```

I've added a basic implementation of `\ell`-restricted partitions. I've also gone through and fixed a number of other issues with the additional methods (e.g., `good_residue_sequence`). I just wanted to make sure everything looked good to you before I fixed the failing doctests. Also, do you have a good example for the Mullineux conjugate?

Additionally, I discovered that my implementation of Kleshchev partitions had the partitions ordered in reverse order (but not the rows), reflecting my usual preference to use the opposite convention of Kashiwara for tensor products. To add this, all we would need to do is basically add another input option for Kleshchev partitions, but what would we call this option? `(tensor_)convention`? Refine the `direction` to be of the form `UR`, `UL`, `DR`, `DL`?



---

archive/issue_comments_279965.json:
```json
{
    "body": "Hi Travis,\n\nThis is just to let you know that I am playing with this at the moment. I had fixed up/checked most of the failing doc-tests but then I decided that it would be better to make `direction` part of `Partitions.options` and I have not got the code working full yet. I am calling the option `simple_labelling` with values of `regular` and `restricted`. Let me know if you think that this is not a good idea. One complication is whether `KleshchevPartitions` should just use the current value of the option or whether it should be able to override it. I am favour of it just using the option because conjugation and friends give trivial maps between the different labellings so if someone needs both then there is an easy  way to do this.\n\nAndrew",
    "created_at": "2016-07-29T00:39:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-279965",
    "user": "https://github.com/AndrewAtLarge"
}
```

Hi Travis,

This is just to let you know that I am playing with this at the moment. I had fixed up/checked most of the failing doc-tests but then I decided that it would be better to make `direction` part of `Partitions.options` and I have not got the code working full yet. I am calling the option `simple_labelling` with values of `regular` and `restricted`. Let me know if you think that this is not a good idea. One complication is whether `KleshchevPartitions` should just use the current value of the option or whether it should be able to override it. I am favour of it just using the option because conjugation and friends give trivial maps between the different labellings so if someone needs both then there is an easy  way to do this.

Andrew



---

archive/issue_comments_279966.json:
```json
{
    "body": "This is a not good idea because they are completely different sets. However, since you think there is a use-case and it is easy, we should probably implement coercion (or just conversion because of the crystal structure?) maps between them.\n\nEdit - Missing an important word: 'not' :P",
    "created_at": "2016-07-29T01:48:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-279966",
    "user": "https://github.com/tscrim"
}
```

This is a not good idea because they are completely different sets. However, since you think there is a use-case and it is easy, we should probably implement coercion (or just conversion because of the crystal structure?) maps between them.

Edit - Missing an important word: 'not' :P



---

archive/issue_comments_279967.json:
```json
{
    "body": "Replying to [tscrim] (form email correspondence, but it should be on the ticket...):\n>The biggest problem I see is this:\n>\n> sage: P = KleshchevPartitions(3)  # direction = 'up' is the default IIRC\n> sage: regular_partition = P([4,4])   # I might be backwards on which is the correct direction for this, I forget offhand\n> sage: regular_partition in P\n> True\n> sage: P.options.order = 'down'  # This cannot change regular_partition...\n> sage: regular_partition in P   #  so this now fails\n> False\n>\n> Granted, I agree that I don't think anyone will really do this except by accidentally forgetting to set it beforehand, but it can cause subtle bugs (e.g., the multiplication convention for permutations option).\n\nThis possibility had occurred to me but I thought to ignore it. What do you think of having simple_labelling as an option but making it possible to over ride this when calling KleshchevPartitions and then hard-wiring the choice into the class. So I am thinking:\n\n    sage: KleshchevPartitions(3)\n    regular Kleshchev partitions with e=3\n    sage: KleshchevPartitions(3, labelling='restricted')\n    restricted Kleshchev partitions with e=3\n\nMy main aim was to get rid of the need to specify the convention in all of the (co)good, (co)normal, mullineux_map, ... methods You are likely to object to my removing the direction from these as well as with my current of the code the only way to get the previous functionality is with a kludge like:\n\n    simple_labelling = Partitions.options.simple_labelling\n    Partitions.options.simple_labelling='restricted'\n    mu.good_nodes(3)\n    Partitions.options.simple_labelling = simple_labelling\n\nI thought about giving GlobalOptions a context manager to make it possible to instead write\n\n    with Partitions.options.simple_labelling:\n\n        Partitions.options.simple_labelling='restricted'\n        mu.good_nodes(3)\n\nbut I am not sure if this is a good idea...\n\nBtw, with the default \"direction\" (simple_labelling is more meaningful I think), it used to be \"down\" but during the code revisions it seems to have changed to \"up\" in some places but not others (in particular the documentation). My preference for \"restricted Kleshchev's\" but I am not really fussed. What would you like to me to make it?",
    "created_at": "2016-07-29T05:22:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-279967",
    "user": "https://github.com/AndrewAtLarge"
}
```

Replying to [tscrim] (form email correspondence, but it should be on the ticket...):
>The biggest problem I see is this:
>
> sage: P = KleshchevPartitions(3)  # direction = 'up' is the default IIRC
> sage: regular_partition = P([4,4])   # I might be backwards on which is the correct direction for this, I forget offhand
> sage: regular_partition in P
> True
> sage: P.options.order = 'down'  # This cannot change regular_partition...
> sage: regular_partition in P   #  so this now fails
> False
>
> Granted, I agree that I don't think anyone will really do this except by accidentally forgetting to set it beforehand, but it can cause subtle bugs (e.g., the multiplication convention for permutations option).

This possibility had occurred to me but I thought to ignore it. What do you think of having simple_labelling as an option but making it possible to over ride this when calling KleshchevPartitions and then hard-wiring the choice into the class. So I am thinking:

    sage: KleshchevPartitions(3)
    regular Kleshchev partitions with e=3
    sage: KleshchevPartitions(3, labelling='restricted')
    restricted Kleshchev partitions with e=3

My main aim was to get rid of the need to specify the convention in all of the (co)good, (co)normal, mullineux_map, ... methods You are likely to object to my removing the direction from these as well as with my current of the code the only way to get the previous functionality is with a kludge like:

    simple_labelling = Partitions.options.simple_labelling
    Partitions.options.simple_labelling='restricted'
    mu.good_nodes(3)
    Partitions.options.simple_labelling = simple_labelling

I thought about giving GlobalOptions a context manager to make it possible to instead write

    with Partitions.options.simple_labelling:

        Partitions.options.simple_labelling='restricted'
        mu.good_nodes(3)

but I am not sure if this is a good idea...

Btw, with the default "direction" (simple_labelling is more meaningful I think), it used to be "down" but during the code revisions it seems to have changed to "up" in some places but not others (in particular the documentation). My preference for "restricted Kleshchev's" but I am not really fussed. What would you like to me to make it?



---

archive/issue_comments_279968.json:
```json
{
    "body": "I feel it is too easy to break things (likely in subtle ways) with a global option. I certainly can understand the reason why you want to get rid of the convention. Well, perhaps a middle ground solution would be to add it as a global option as a default for the convention, where if the convention is not specified, it would go to the global option. For example:\n\n```sage\ndef foo(self, direction=None):\n    if direction is None:\n        direction = self.parent().global_option.direction\n    return direction\n```\nThe other option would be to explicitly tie it to the parent. Oh, here's an much better idea:\n\n```sage\ndef foo(self):\n    try:\n        direction = self.parent()._direction\n    except AttributeError:\n        direction = self.parent().global_option.direction\n    return direction\n```\nThat way we wouldn't have to move the methods away from the general partition (tuples) class. We get a global option for general parents, but for parents which depend on the direction (i.e., `KleshchevPartitions`), it avoids the global option altogether and becomes an implementation detail.\n\nIMO, a context manager seems like complete overkill and likely would require extra boilerplate code.",
    "created_at": "2016-07-30T15:11:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-279968",
    "user": "https://github.com/tscrim"
}
```

I feel it is too easy to break things (likely in subtle ways) with a global option. I certainly can understand the reason why you want to get rid of the convention. Well, perhaps a middle ground solution would be to add it as a global option as a default for the convention, where if the convention is not specified, it would go to the global option. For example:

```sage
def foo(self, direction=None):
    if direction is None:
        direction = self.parent().global_option.direction
    return direction
```
The other option would be to explicitly tie it to the parent. Oh, here's an much better idea:

```sage
def foo(self):
    try:
        direction = self.parent()._direction
    except AttributeError:
        direction = self.parent().global_option.direction
    return direction
```
That way we wouldn't have to move the methods away from the general partition (tuples) class. We get a global option for general parents, but for parents which depend on the direction (i.e., `KleshchevPartitions`), it avoids the global option altogether and becomes an implementation detail.

IMO, a context manager seems like complete overkill and likely would require extra boilerplate code.



---

archive/issue_comments_279969.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-02-04T20:36:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-279969",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_279970.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-04-30T05:14:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-279970",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_279971.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-04-30T08:30:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-279971",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_279972.json:
```json
{
    "body": "`EXAMPLE::` should be `EXAMPLES::`",
    "created_at": "2018-04-30T09:52:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-279972",
    "user": "https://github.com/fchapoton"
}
```

`EXAMPLE::` should be `EXAMPLES::`



---

archive/issue_comments_279973.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-04-30T13:28:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-279973",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_279974.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-05-01T01:14:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-279974",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_279975.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-05-01T04:09:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-279975",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_279976.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-05-01T04:29:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-279976",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_279977.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-05-01T04:33:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-279977",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_279978.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-05-01T06:56:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-279978",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_279979.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-05-01T07:27:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-279979",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_279980.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-05-01T07:35:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-279980",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_279981.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-05-01T08:30:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-279981",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_279982.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-05-01T09:45:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-279982",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_279983.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-05-02T00:43:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-279983",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_279984.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-05-03T00:47:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-279984",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_279985.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-05-03T00:49:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-279985",
    "user": "https://github.com/AndrewAtLarge"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_279986.json:
```json
{
    "body": "This is pretty much ready to go.",
    "created_at": "2018-05-03T00:49:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-279986",
    "user": "https://github.com/AndrewAtLarge"
}
```

This is pretty much ready to go.



---

archive/issue_comments_279987.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-05-03T01:16:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-279987",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_279988.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-05-03T01:18:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-279988",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_events_055474.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-05-03T01:18:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "milestone": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20564#event-55474"
}
```



---

archive/issue_events_055475.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-05-03T01:18:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "milestone": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20564#event-55475"
}
```



---

archive/issue_comments_279989.json:
```json
{
    "body": "If my changes LGTY, then positive review.",
    "created_at": "2018-05-03T01:18:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-279989",
    "user": "https://github.com/tscrim"
}
```

If my changes LGTY, then positive review.



---

archive/issue_comments_279990.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2018-05-03T01:22:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-279990",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_279991.json:
```json
{
    "body": "Trivial reference conflicts with #15508.",
    "created_at": "2018-05-03T01:23:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-279991",
    "user": "https://github.com/tscrim"
}
```

Trivial reference conflicts with #15508.



---

archive/issue_comments_279992.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-05-03T23:47:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-279992",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_279993.json:
```json
{
    "body": "I just added a few mathscinet links to `index.rst` and corrected one reference. If you are happy with this please set to positive review.",
    "created_at": "2018-05-03T23:53:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-279993",
    "user": "https://github.com/AndrewAtLarge"
}
```

I just added a few mathscinet links to `index.rst` and corrected one reference. If you are happy with this please set to positive review.



---

archive/issue_comments_279994.json:
```json
{
    "body": "LGTM. Thank you.",
    "created_at": "2018-05-03T23:53:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-279994",
    "user": "https://github.com/tscrim"
}
```

LGTM. Thank you.



---

archive/issue_comments_279995.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-05-03T23:53:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-279995",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_279996.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2018-05-11T05:09:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-279996",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_279997.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2018-05-11T05:09:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-279997",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_279998.json:
```json
{
    "body": "The patchbot was complaining about startup timings so I have made `KleshchevPartitions` (and skew partitions and partition tuples) lazy imports -- which they should have been from the start.",
    "created_at": "2018-05-11T05:10:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-279998",
    "user": "https://github.com/AndrewAtLarge"
}
```

The patchbot was complaining about startup timings so I have made `KleshchevPartitions` (and skew partitions and partition tuples) lazy imports -- which they should have been from the start.



---

archive/issue_comments_279999.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-05-11T05:10:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-279999",
    "user": "https://github.com/AndrewAtLarge"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_280000.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2018-05-11T05:28:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-280000",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_280001.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2018-05-11T05:28:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-280001",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_280002.json:
```json
{
    "body": "Yes, indeed they should have. Thank you for catching. I fixed a small issue with the lazy import (you forgot `.combinat`). I made the entire crystal catalog a lazy import so the import of Kleshchev partitions was not resolved that way, but this should be done anyways. Please review/check.",
    "created_at": "2018-05-11T05:31:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-280002",
    "user": "https://github.com/tscrim"
}
```

Yes, indeed they should have. Thank you for catching. I fixed a small issue with the lazy import (you forgot `.combinat`). I made the entire crystal catalog a lazy import so the import of Kleshchev partitions was not resolved that way, but this should be done anyways. Please review/check.



---

archive/issue_comments_280003.json:
```json
{
    "body": "Oops, thanks! Looks good.",
    "created_at": "2018-05-11T05:44:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-280003",
    "user": "https://github.com/AndrewAtLarge"
}
```

Oops, thanks! Looks good.



---

archive/issue_comments_280004.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-05-11T05:44:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-280004",
    "user": "https://github.com/AndrewAtLarge"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_280005.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2018-05-12T12:00:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-280005",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_280006.json:
```json
{
    "body": "Merge conflict",
    "created_at": "2018-05-12T12:00:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-280006",
    "user": "https://github.com/vbraun"
}
```

Merge conflict



---

archive/issue_comments_280007.json:
```json
{
    "body": "I don't see a merge conflict with 8.3.beta0-develop? I guess that we need to wait for 8.3.beta1.",
    "created_at": "2018-05-12T23:44:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-280007",
    "user": "https://github.com/AndrewAtLarge"
}
```

I don't see a merge conflict with 8.3.beta0-develop? I guess that we need to wait for 8.3.beta1.



---

archive/issue_comments_280008.json:
```json
{
    "body": "It will be with the forthcoming 8.3.beta1, almost certainly a trivial conflict in the master reference file.",
    "created_at": "2018-05-13T00:06:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-280008",
    "user": "https://github.com/tscrim"
}
```

It will be with the forthcoming 8.3.beta1, almost certainly a trivial conflict in the master reference file.



---

archive/issue_comments_280009.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-05-14T21:35:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-280009",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_280010.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2018-05-14T23:10:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-280010",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_280011.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-05-18T17:04:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20564#issuecomment-280011",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_055476.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-05-18T17:04:27Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/20564",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20564#event-55476"
}
```
