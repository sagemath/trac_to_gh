# Issue 20868: Homfly doctest errors

archive/issues_020631.json:
```json
{
    "body": "I'm getting this doctest failure on at least two machines:\n\n```\nsage -t --long src/sage/libs/homfly.pyx\n**********************************************************************\nFile \"src/sage/libs/homfly.pyx\", line 93, in sage.libs.homfly.homfly_polynomial_dict\nFailed example:\n    homfly_polynomial_dict(trefoil) # optional - libhomfly\nExpected:\n    {(0, -4): -1, (0, -2): -2, (2, -2): 1}\nGot:\n    {(-4, 0): -1, (-2, 0): -2, (-2, 2): 1}\n**********************************************************************\n```\n\n**CC:**  @miguelmarco @tscrim @kcrisman\n\n**Branch/Commit:** [997ebaf88829d6b6fa65036ac242c4f2d3702c5b](https://github.com/sagemath/sagetrac-mirror/commit/997ebaf88829d6b6fa65036ac242c4f2d3702c5b)\n\n**Reviewer:** Jeroen Demeyer\n\n**Author:** Travis Scrimshaw\n\nIssue created by migration from https://trac.sagemath.org/ticket/20868\n\n",
    "closed_at": "2016-06-26T07:30:42Z",
    "created_at": "2016-06-23T08:15:45Z",
    "labels": [
        "component: packages: optional",
        "blocker",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.3",
    "title": "Homfly doctest errors",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20868",
    "user": "https://github.com/jdemeyer"
}
```
I'm getting this doctest failure on at least two machines:

```
sage -t --long src/sage/libs/homfly.pyx
**********************************************************************
File "src/sage/libs/homfly.pyx", line 93, in sage.libs.homfly.homfly_polynomial_dict
Failed example:
    homfly_polynomial_dict(trefoil) # optional - libhomfly
Expected:
    {(0, -4): -1, (0, -2): -2, (2, -2): 1}
Got:
    {(-4, 0): -1, (-2, 0): -2, (-2, 2): 1}
**********************************************************************
```

**CC:**  @miguelmarco @tscrim @kcrisman

**Branch/Commit:** [997ebaf88829d6b6fa65036ac242c4f2d3702c5b](https://github.com/sagemath/sagetrac-mirror/commit/997ebaf88829d6b6fa65036ac242c4f2d3702c5b)

**Reviewer:** Jeroen Demeyer

**Author:** Travis Scrimshaw

Issue created by migration from https://trac.sagemath.org/ticket/20868





---

archive/issue_comments_306672.json:
```json
{
    "body": "<a id='comment:1'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e227750a6f6db20d12de71ab2d6af6b3042d486d\">e227750</a></td><td><code>Mark one libhomfly test as random</code></td></tr></table>\n",
    "created_at": "2016-06-23T08:25:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20868",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20868#issuecomment-306672",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:1'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e227750a6f6db20d12de71ab2d6af6b3042d486d">e227750</a></td><td><code>Mark one libhomfly test as random</code></td></tr></table>




---

archive/issue_comments_306673.json:
```json
{
    "body": "**Branch:** [u/jdemeyer/homfly_doctest_errors](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/homfly_doctest_errors)",
    "created_at": "2016-06-23T08:25:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20868",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20868#issuecomment-306673",
    "user": "https://github.com/jdemeyer"
}
```

**Branch:** [u/jdemeyer/homfly_doctest_errors](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/homfly_doctest_errors)



---

archive/issue_comments_306674.json:
```json
{
    "body": "**Commit:** [e227750a6f6db20d12de71ab2d6af6b3042d486d](https://github.com/sagemath/sagetrac-mirror/commit/e227750a6f6db20d12de71ab2d6af6b3042d486d)",
    "created_at": "2016-06-23T08:25:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20868",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20868#issuecomment-306674",
    "user": "https://github.com/jdemeyer"
}
```

**Commit:** [e227750a6f6db20d12de71ab2d6af6b3042d486d](https://github.com/sagemath/sagetrac-mirror/commit/e227750a6f6db20d12de71ab2d6af6b3042d486d)



---

archive/issue_events_190532.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-06-23T08:27:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/20868",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20868#event-190532"
}
```



---

archive/issue_comments_306675.json:
```json
{
    "body": "**Reviewer:** Travis Scrimshaw",
    "created_at": "2016-06-23T14:06:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20868",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20868#issuecomment-306675",
    "user": "https://github.com/tscrim"
}
```

**Reviewer:** Travis Scrimshaw



---

archive/issue_events_190533.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-06-23T14:06:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/20868",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20868#event-190533"
}
```



---

archive/issue_events_190534.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-06-23T14:06:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/20868",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20868#event-190534"
}
```



---

archive/issue_comments_306676.json:
```json
{
    "body": "<a id='comment:3'></a>\nI believe this is my fault; I swapped the order of the variables and forgot to re-run this doctest with explicitly passing `optional=libhomfly,sage`. I also get this error and it is just a matter of updating the doctest.",
    "created_at": "2016-06-23T14:06:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20868",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20868#issuecomment-306676",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:3'></a>
I believe this is my fault; I swapped the order of the variables and forgot to re-run this doctest with explicitly passing `optional=libhomfly,sage`. I also get this error and it is just a matter of updating the doctest.



---

archive/issue_events_190535.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2016-06-23T17:30:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/20868",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20868#event-190535"
}
```



---

archive/issue_events_190536.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2016-06-23T17:30:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/20868",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20868#event-190536"
}
```



---

archive/issue_comments_306677.json:
```json
{
    "body": "<a id='comment:4'></a>\nWell, so hold on - is it random or not?  If it's not random, then the test should just be changed, not marked random (untested and hence broken, as they say).",
    "created_at": "2016-06-23T17:30:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20868",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20868#issuecomment-306677",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:4'></a>
Well, so hold on - is it random or not?  If it's not random, then the test should just be changed, not marked random (untested and hence broken, as they say).



---

archive/issue_comments_306678.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -12,5 +12,3 @@\n     {(-4, 0): -1, (-2, 0): -2, (-2, 2): 1}\n **********************************************************************\n ```\n-\n-I have no idea about the mathematics, I'm just running the tests to check Sage. Unless somebody comes up with a better idea, I'm just marking this test as random.\n``````\n",
    "created_at": "2016-06-23T17:33:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20868",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20868#issuecomment-306678",
    "user": "https://github.com/tscrim"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -12,5 +12,3 @@
     {(-4, 0): -1, (-2, 0): -2, (-2, 2): 1}
 **********************************************************************
 ```
-
-I have no idea about the mathematics, I'm just running the tests to check Sage. Unless somebody comes up with a better idea, I'm just marking this test as random.
``````




---

archive/issue_events_190537.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-06-23T17:33:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/20868",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20868#event-190537"
}
```



---

archive/issue_events_190538.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-06-23T17:33:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/20868",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20868#event-190538"
}
```



---

archive/issue_comments_306679.json:
```json
{
    "body": "<a id='comment:5'></a>\nIt is not random. Somehow I got it in my mind that this ticket fixed the doctest.",
    "created_at": "2016-06-23T17:33:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20868",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20868#issuecomment-306679",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:5'></a>
It is not random. Somehow I got it in my mind that this ticket fixed the doctest.



---

archive/issue_comments_306680.json:
```json
{
    "body": "**Changing author** from \"Jeroen Demeyer\" to \"\".",
    "created_at": "2016-06-23T22:14:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20868",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20868#issuecomment-306680",
    "user": "https://github.com/jdemeyer"
}
```

**Changing author** from "Jeroen Demeyer" to "".



---

archive/issue_comments_306681.json:
```json
{
    "body": "<a id='comment:6'></a>\nCan somebody of you then fix it properly please?",
    "created_at": "2016-06-23T22:14:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20868",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20868#issuecomment-306681",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:6'></a>
Can somebody of you then fix it properly please?



---

archive/issue_comments_306682.json:
```json
{
    "body": "**Changing commit** from \"[e227750a6f6db20d12de71ab2d6af6b3042d486d](https://github.com/sagemath/sagetrac-mirror/commit/e227750a6f6db20d12de71ab2d6af6b3042d486d)\" to \"\".",
    "created_at": "2016-06-23T22:14:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20868",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20868#issuecomment-306682",
    "user": "https://github.com/jdemeyer"
}
```

**Changing commit** from "[e227750a6f6db20d12de71ab2d6af6b3042d486d](https://github.com/sagemath/sagetrac-mirror/commit/e227750a6f6db20d12de71ab2d6af6b3042d486d)" to "".



---

archive/issue_comments_306683.json:
```json
{
    "body": "**Changing branch** from \"[u/jdemeyer/homfly_doctest_errors](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/homfly_doctest_errors)\" to \"\".",
    "created_at": "2016-06-23T22:14:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20868",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20868#issuecomment-306683",
    "user": "https://github.com/jdemeyer"
}
```

**Changing branch** from "[u/jdemeyer/homfly_doctest_errors](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/homfly_doctest_errors)" to "".



---

archive/issue_comments_306684.json:
```json
{
    "body": "**Branch:** [u/tscrim/homfly_doctest_errors-20868](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/homfly_doctest_errors-20868)",
    "created_at": "2016-06-24T13:54:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20868",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20868#issuecomment-306684",
    "user": "https://github.com/tscrim"
}
```

**Branch:** [u/tscrim/homfly_doctest_errors-20868](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/homfly_doctest_errors-20868)



---

archive/issue_events_190539.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-06-24T13:54:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/20868",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20868#event-190539"
}
```



---

archive/issue_events_190540.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-06-24T13:54:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/20868",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20868#event-190540"
}
```



---

archive/issue_comments_306685.json:
```json
{
    "body": "<a id='comment:7'></a>\nHere we go. Sorry for the trouble.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/997ebaf88829d6b6fa65036ac242c4f2d3702c5b\">997ebaf</a></td><td><code>Fixing doctest in homfly.pyx.</code></td></tr></table>\n",
    "created_at": "2016-06-24T13:54:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20868",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20868#issuecomment-306685",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:7'></a>
Here we go. Sorry for the trouble.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/997ebaf88829d6b6fa65036ac242c4f2d3702c5b">997ebaf</a></td><td><code>Fixing doctest in homfly.pyx.</code></td></tr></table>




---

archive/issue_comments_306686.json:
```json
{
    "body": "**Changing reviewer** from \"Travis Scrimshaw\" to \"\".",
    "created_at": "2016-06-24T13:54:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20868",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20868#issuecomment-306686",
    "user": "https://github.com/tscrim"
}
```

**Changing reviewer** from "Travis Scrimshaw" to "".



---

archive/issue_comments_306687.json:
```json
{
    "body": "**Author:** Travis Scrimshaw",
    "created_at": "2016-06-24T13:54:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20868",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20868#issuecomment-306687",
    "user": "https://github.com/tscrim"
}
```

**Author:** Travis Scrimshaw



---

archive/issue_comments_306688.json:
```json
{
    "body": "**Commit:** [997ebaf88829d6b6fa65036ac242c4f2d3702c5b](https://github.com/sagemath/sagetrac-mirror/commit/997ebaf88829d6b6fa65036ac242c4f2d3702c5b)",
    "created_at": "2016-06-24T13:54:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20868",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20868#issuecomment-306688",
    "user": "https://github.com/tscrim"
}
```

**Commit:** [997ebaf88829d6b6fa65036ac242c4f2d3702c5b](https://github.com/sagemath/sagetrac-mirror/commit/997ebaf88829d6b6fa65036ac242c4f2d3702c5b)



---

archive/issue_events_190541.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-06-24T16:09:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/20868",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20868#event-190541"
}
```



---

archive/issue_events_190542.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-06-24T16:09:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/20868",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20868#event-190542"
}
```



---

archive/issue_comments_306689.json:
```json
{
    "body": "**Reviewer:** Jeroen Demeyer",
    "created_at": "2016-06-24T16:09:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20868",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20868#issuecomment-306689",
    "user": "https://github.com/jdemeyer"
}
```

**Reviewer:** Jeroen Demeyer



---

archive/issue_events_190543.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-06-26T07:30:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/20868",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20868#event-190543"
}
```



---

archive/issue_events_190544.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-06-26T07:30:42Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/20868",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20868#event-190544"
}
```



---

archive/issue_comments_306690.json:
```json
{
    "body": "**Changing branch** from \"[u/tscrim/homfly_doctest_errors-20868](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/homfly_doctest_errors-20868)\" to \"[997ebaf88829d6b6fa65036ac242c4f2d3702c5b](https://github.com/sagemath/sagetrac-mirror/commit/997ebaf88829d6b6fa65036ac242c4f2d3702c5b)\".",
    "created_at": "2016-06-26T07:30:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20868",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20868#issuecomment-306690",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/tscrim/homfly_doctest_errors-20868](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/homfly_doctest_errors-20868)" to "[997ebaf88829d6b6fa65036ac242c4f2d3702c5b](https://github.com/sagemath/sagetrac-mirror/commit/997ebaf88829d6b6fa65036ac242c4f2d3702c5b)".
