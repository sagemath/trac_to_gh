# Issue 20154: train-tracks

archive/issues_019917.json:
```json
{
    "assignees": [],
    "body": "We propose to implement in Sage the train-tracks package developed by Thierry Coulbois:\n\nThe main feature and the main achievement of the program is to compute train-track representative for (outer) automorphisms of free groups. phi.train track() computes a train-track representative for the (outer) automorphism phi. This train-track can be either an absolute train-track or a relative train-track. The celebrated theorem of Bestvina and Feighn assures that if phi is fully irreducible (iwip), then there exists an absolute train-track representing phi.\nThe train-track(relative=False) method will terminate with either an absolute train-track or with a topological representative with a reduction: an invariant strict subgraph with non-trivial fundamental group.\nOne more feature of train-tracks (absolute or relative) is to lower the number of Nielsen paths. Setting the stable=True option will return a train-track with at most one indivisible Nielsen path (per exponential stratum if it is a relative train-track).\n\nSee also:\n\n- https://github.com/coulbois/sage-train-track\n- https://www.i2m.univ-amu.fr/perso/thierry.coulbois/train-track/\n- #31223: Add sage-train-track as an optional package\n\nCC:  @tscrim @sagetrac-tmonteil @videlec\n\nKeywords: **free-group automorphism**\n\nBranch/Commit: **[public/train-track](https://github.com/sagemath/sagetrac-mirror/tree/public/train-track) @ [`dcc540c`](https://github.com/sagemath/sagetrac-mirror/commit/dcc540c770298bac710358c72e35c9ea3961bcde)**\n\nAuthor: **Dominique Benielli, Thierry Coulbois**\n\nComponent: **group theory**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/20154_\n\n",
    "created_at": "2016-03-03T20:01:12Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20group%20theory",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/wishlist%20item",
        "https://github.com/sagemath/sage/labels/needs%20work"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "train-tracks",
    "type": "issue",
    "updated_at": "2022-02-07T00:00:44Z",
    "url": "https://github.com/sagemath/sage/issues/20154",
    "user": "https://github.com/sagetrac-dbenielli"
}
```
We propose to implement in Sage the train-tracks package developed by Thierry Coulbois:

The main feature and the main achievement of the program is to compute train-track representative for (outer) automorphisms of free groups. phi.train track() computes a train-track representative for the (outer) automorphism phi. This train-track can be either an absolute train-track or a relative train-track. The celebrated theorem of Bestvina and Feighn assures that if phi is fully irreducible (iwip), then there exists an absolute train-track representing phi.
The train-track(relative=False) method will terminate with either an absolute train-track or with a topological representative with a reduction: an invariant strict subgraph with non-trivial fundamental group.
One more feature of train-tracks (absolute or relative) is to lower the number of Nielsen paths. Setting the stable=True option will return a train-track with at most one indivisible Nielsen path (per exponential stratum if it is a relative train-track).

See also:

- https://github.com/coulbois/sage-train-track
- https://www.i2m.univ-amu.fr/perso/thierry.coulbois/train-track/
- #31223: Add sage-train-track as an optional package

CC:  @tscrim @sagetrac-tmonteil @videlec

Keywords: **free-group automorphism**

Branch/Commit: **[public/train-track](https://github.com/sagemath/sagetrac-mirror/tree/public/train-track) @ [`dcc540c`](https://github.com/sagemath/sagetrac-mirror/commit/dcc540c770298bac710358c72e35c9ea3961bcde)**

Author: **Dominique Benielli, Thierry Coulbois**

Component: **group theory**

_Issue created by migration from https://trac.sagemath.org/ticket/20154_





---

archive/issue_events_284598.json:
```json
{
    "actor": "https://github.com/sagetrac-dbenielli",
    "created_at": "2016-03-03T20:01:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "milestone_number": null,
    "milestone_title": "sage-7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20154#event-284598"
}
```



---

archive/issue_events_284599.json:
```json
{
    "actor": "https://github.com/sagetrac-dbenielli",
    "created_at": "2016-03-03T20:01:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20154#event-284599"
}
```



---

archive/issue_comments_289561.json:
```json
{
    "body": "Changed keywords from none to **free-group automorphisme**",
    "created_at": "2016-03-03T20:13:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289561",
    "user": "https://github.com/sagetrac-dbenielli"
}
```

Changed keywords from none to **free-group automorphisme**



---

archive/issue_comments_289562.json:
```json
{
    "body": "Author: **Dominique Benielli and Thierry Coulbois**",
    "created_at": "2016-03-03T20:13:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289562",
    "user": "https://github.com/sagetrac-dbenielli"
}
```

Author: **Dominique Benielli and Thierry Coulbois**



---

archive/issue_comments_289563.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,5 @@\n+We propose to implement in Sage the train-tracks package developped by Thierry Coulbois:\n \n+The main feature and the main achievement of the program is to compute train- track representative for (outer) automorphisms of free groups. phi.train track() computes a train-track representative for the (outer) automorphism phi. This train-track can be either an absolute train-track or a relative train-track. The celebrated theorem of Bestvina and Feighn [?] assures that if phi is fully irre- ducible (iwip) then there exists an absolute train-track representing phi.\n+The train-track(relative=False) method will terminate with either an absolute train-track or with a topological representative with a reduction: an invariant strict subgraph with non-trivial fundamental group.\n+One more feature of train-tracks (absolute or relative) is to lower the number of Nielsn paths. Setting the stable=True option will return a train-track with at most one indivisible Nielsen path (per exponential stratum if it is a relative train-track).\n``````\n",
    "created_at": "2016-03-03T20:13:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289563",
    "user": "https://github.com/sagetrac-dbenielli"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,5 @@
+We propose to implement in Sage the train-tracks package developped by Thierry Coulbois:
 
+The main feature and the main achievement of the program is to compute train- track representative for (outer) automorphisms of free groups. phi.train track() computes a train-track representative for the (outer) automorphism phi. This train-track can be either an absolute train-track or a relative train-track. The celebrated theorem of Bestvina and Feighn [?] assures that if phi is fully irre- ducible (iwip) then there exists an absolute train-track representing phi.
+The train-track(relative=False) method will terminate with either an absolute train-track or with a topological representative with a reduction: an invariant strict subgraph with non-trivial fundamental group.
+One more feature of train-tracks (absolute or relative) is to lower the number of Nielsn paths. Setting the stable=True option will return a train-track with at most one indivisible Nielsen path (per exponential stratum if it is a relative train-track).
``````




---

archive/issue_events_284600.json:
```json
{
    "actor": "https://github.com/sagetrac-dbenielli",
    "created_at": "2016-03-03T20:13:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "c: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20154#event-284600"
}
```



---

archive/issue_comments_289564.json:
```json
{
    "body": "Changed keywords from **free-group automorphisme** to **free-group automorphism**",
    "created_at": "2016-03-05T00:16:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289564",
    "user": "https://github.com/tscrim"
}
```

Changed keywords from **free-group automorphisme** to **free-group automorphism**



---

archive/issue_comments_289565.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nLet me know if you have any questions or if there is anything I can do to help.\n\nIn case you were unaware, you might also be interested in that Sage has an implementation of right-angled Artin groups.",
    "created_at": "2016-03-05T00:16:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289565",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:2" align="right">comment:2</div>

Let me know if you have any questions or if there is anything I can do to help.

In case you were unaware, you might also be interested in that Sage has an implementation of right-angled Artin groups.



---

archive/issue_comments_289566.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,10 @@\n-We propose to implement in Sage the train-tracks package developped by Thierry Coulbois:\n+We propose to implement in Sage the train-tracks package developed by Thierry Coulbois:\n \n-The main feature and the main achievement of the program is to compute train- track representative for (outer) automorphisms of free groups. phi.train track() computes a train-track representative for the (outer) automorphism phi. This train-track can be either an absolute train-track or a relative train-track. The celebrated theorem of Bestvina and Feighn [?] assures that if phi is fully irre- ducible (iwip) then there exists an absolute train-track representing phi.\n+The main feature and the main achievement of the program is to compute train-track representative for (outer) automorphisms of free groups. phi.train track() computes a train-track representative for the (outer) automorphism phi. This train-track can be either an absolute train-track or a relative train-track. The celebrated theorem of Bestvina and Feighn assures that if phi is fully irreducible (iwip), then there exists an absolute train-track representing phi.\n The train-track(relative=False) method will terminate with either an absolute train-track or with a topological representative with a reduction: an invariant strict subgraph with non-trivial fundamental group.\n-One more feature of train-tracks (absolute or relative) is to lower the number of Nielsn paths. Setting the stable=True option will return a train-track with at most one indivisible Nielsen path (per exponential stratum if it is a relative train-track).\n+One more feature of train-tracks (absolute or relative) is to lower the number of Nielsen paths. Setting the stable=True option will return a train-track with at most one indivisible Nielsen path (per exponential stratum if it is a relative train-track).\n+\n+See also:\n+\n+- https://github.com/coulbois/sage-train-track\n+- https://www.i2m.univ-amu.fr/~coulbois/train-track/\n``````\n",
    "created_at": "2016-03-05T00:16:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289566",
    "user": "https://github.com/tscrim"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,10 @@
-We propose to implement in Sage the train-tracks package developped by Thierry Coulbois:
+We propose to implement in Sage the train-tracks package developed by Thierry Coulbois:
 
-The main feature and the main achievement of the program is to compute train- track representative for (outer) automorphisms of free groups. phi.train track() computes a train-track representative for the (outer) automorphism phi. This train-track can be either an absolute train-track or a relative train-track. The celebrated theorem of Bestvina and Feighn [?] assures that if phi is fully irre- ducible (iwip) then there exists an absolute train-track representing phi.
+The main feature and the main achievement of the program is to compute train-track representative for (outer) automorphisms of free groups. phi.train track() computes a train-track representative for the (outer) automorphism phi. This train-track can be either an absolute train-track or a relative train-track. The celebrated theorem of Bestvina and Feighn assures that if phi is fully irreducible (iwip), then there exists an absolute train-track representing phi.
 The train-track(relative=False) method will terminate with either an absolute train-track or with a topological representative with a reduction: an invariant strict subgraph with non-trivial fundamental group.
-One more feature of train-tracks (absolute or relative) is to lower the number of Nielsn paths. Setting the stable=True option will return a train-track with at most one indivisible Nielsen path (per exponential stratum if it is a relative train-track).
+One more feature of train-tracks (absolute or relative) is to lower the number of Nielsen paths. Setting the stable=True option will return a train-track with at most one indivisible Nielsen path (per exponential stratum if it is a relative train-track).
+
+See also:
+
+- https://github.com/coulbois/sage-train-track
+- https://www.i2m.univ-amu.fr/~coulbois/train-track/
``````




---

archive/issue_comments_289567.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nI could be interested in this. Specially to add it as a functionality for Braid groups.\n\nI have taken a quick look at Coulbois code, and it seems that it was writen before we had free groups in sage (or at least, he writes his own implementation of free groups).\n\nSo my impression is that we would need to heavily adapt his code in order to fit our current infrastructure. \n\nIf you are ok with it, we can start discussing which should be the right structure to follow.",
    "created_at": "2016-04-15T06:55:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289567",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:4" align="right">comment:4</div>

I could be interested in this. Specially to add it as a functionality for Braid groups.

I have taken a quick look at Coulbois code, and it seems that it was writen before we had free groups in sage (or at least, he writes his own implementation of free groups).

So my impression is that we would need to heavily adapt his code in order to fit our current infrastructure. 

If you are ok with it, we can start discussing which should be the right structure to follow.



---

archive/issue_comments_289568.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nReplying to [@miguelmarco](#comment:4):\n> I could be interested in this. Specially to add it as a functionality for Braid groups.\n> \n> I have taken a quick look at Coulbois code, and it seems that it was writen before we had free groups in sage (or at least, he writes his own implementation of free groups).\n> \n> So my impression is that we would need to heavily adapt his code in order to fit our current infrastructure. \n> \n> If you are ok with it, we can start discussing which should be the right structure to follow.\n\nHi,\n\nThanks for your comment. We are still working on train-track adaptation for sage, format code, checked test , that takes more time that I expected were I opened the ticket ... Indeed our main issue is the FreeGroup implementation (we have already do some change comparing to the train-track code of Thierry) but we have still a reduced FreeGroup, and the compatibility  with the FreeGroup is Sage is not easy (same use functionality). \nWe of course ok to start discussing about this issue and we wish to find a light solution. The easiest  way would be to rename our FreeGroup but may be we can make something better. So we are open to any suggestion.\nDominique",
    "created_at": "2016-04-15T08:35:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289568",
    "user": "https://github.com/sagetrac-dbenielli"
}
```

<div id="comment:5" align="right">comment:5</div>

Replying to [@miguelmarco](#comment:4):
> I could be interested in this. Specially to add it as a functionality for Braid groups.
> 
> I have taken a quick look at Coulbois code, and it seems that it was writen before we had free groups in sage (or at least, he writes his own implementation of free groups).
> 
> So my impression is that we would need to heavily adapt his code in order to fit our current infrastructure. 
> 
> If you are ok with it, we can start discussing which should be the right structure to follow.

Hi,

Thanks for your comment. We are still working on train-track adaptation for sage, format code, checked test , that takes more time that I expected were I opened the ticket ... Indeed our main issue is the FreeGroup implementation (we have already do some change comparing to the train-track code of Thierry) but we have still a reduced FreeGroup, and the compatibility  with the FreeGroup is Sage is not easy (same use functionality). 
We of course ok to start discussing about this issue and we wish to find a light solution. The easiest  way would be to rename our FreeGroup but may be we can make something better. So we are open to any suggestion.
Dominique



---

archive/issue_comments_289569.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nWould it be possible to use sage's FreeGroup (maybe adding to it the functinalities that you need?)",
    "created_at": "2016-04-15T09:15:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289569",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:6" align="right">comment:6</div>

Would it be possible to use sage's FreeGroup (maybe adding to it the functinalities that you need?)



---

archive/issue_comments_289570.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nLet me change the question slightly, what functionality from a free group do you need? (Also, you won't need to rename your free group because it is in a separate module.)",
    "created_at": "2016-04-15T14:19:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289570",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:7" align="right">comment:7</div>

Let me change the question slightly, what functionality from a free group do you need? (Also, you won't need to rename your free group because it is in a separate module.)



---

archive/issue_comments_289571.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nHello the Sage community,\n\nI finally got a trac.sagemath account to reply !\n\nOf course we need to use (and adapt) the existing FreeGroup in Sage. \n\nThe main difference is my use of alphabets with inverse letters (AlphabetWithInverses in my program). There have been some discussions with Vincent Delecroix on my choices. I hope my code is not too poorly written and I can adapt easily. \n\nThe point is that my free groups are to be used as domain of WordMorphisms and as such they should have alphabets (and not only generators)... The elements should be words.\n\nMay be we could discuss that by mail with Vincent, Thierry M. and Marco ?",
    "created_at": "2016-04-27T20:49:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289571",
    "user": "https://github.com/sagetrac-coulbois"
}
```

<div id="comment:8" align="right">comment:8</div>

Hello the Sage community,

I finally got a trac.sagemath account to reply !

Of course we need to use (and adapt) the existing FreeGroup in Sage. 

The main difference is my use of alphabets with inverse letters (AlphabetWithInverses in my program). There have been some discussions with Vincent Delecroix on my choices. I hope my code is not too poorly written and I can adapt easily. 

The point is that my free groups are to be used as domain of WordMorphisms and as such they should have alphabets (and not only generators)... The elements should be words.

May be we could discuss that by mail with Vincent, Thierry M. and Marco ?



---

archive/issue_comments_289572.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nReplying to [@sagetrac-coulbois](#comment:8):\n> May be we could discuss that by mail with Vincent, Thierry M. and Marco ?\n\nI think this thread/ticket is a good place as it allows other interested people to follow and join the discussion (and does not perturb others).",
    "created_at": "2016-04-27T21:03:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289572",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:9" align="right">comment:9</div>

Replying to [@sagetrac-coulbois](#comment:8):
> May be we could discuss that by mail with Vincent, Thierry M. and Marco ?

I think this thread/ticket is a good place as it allows other interested people to follow and join the discussion (and does not perturb others).



---

archive/issue_comments_289573.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nI also would prefear the discussion to happen here. But if it becomes useful at some point, we could try some kind of live meeting (via google hangouts or other similar means)\n\nI am still trying to understand your code to see how could it fit with the existing sage classes.",
    "created_at": "2016-04-27T21:33:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289573",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:10" align="right">comment:10</div>

I also would prefear the discussion to happen here. But if it becomes useful at some point, we could try some kind of live meeting (via google hangouts or other similar means)

I am still trying to understand your code to see how could it fit with the existing sage classes.



---

archive/issue_comments_289574.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nIt is also entirely possible we will need to abstract out code from the current `FreeGroup`, `IndexedFreeGroup`, and your implementation (and from a quick look-over, that is probably what will happen).",
    "created_at": "2016-04-28T14:55:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289574",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:11" align="right">comment:11</div>

It is also entirely possible we will need to abstract out code from the current `FreeGroup`, `IndexedFreeGroup`, and your implementation (and from a quick look-over, that is probably what will happen).



---

archive/issue_comments_289575.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nYes of course we can also adapt the existing FreeGroup to my code. For that I need to know how much it is used. In particular as it seems to be only a wrapper of GAP.\n\nApparently there are two different approaches:\n\n1/ The present FreeGroup (from GAP) focuses on the fact that free groups are algebraic objects (they have generators and the elements are somehow abstract group elements)\n\n2/ Whereas my approach is closer to that of Words: free group are combinatorial objects and their elements are words on an alphabet.\n\nI don't know how much these two approaches are compatible. And how much we can merge or converge to a common approach. The differences are probably similar to that between FreeMonoid and Words.\n\nMarco can you tell us how much your FreeGroup is used, how much it is important that its elements are from a GAP wrap class (ElementLibGAP) ?",
    "created_at": "2016-04-28T20:08:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289575",
    "user": "https://github.com/sagetrac-coulbois"
}
```

<div id="comment:12" align="right">comment:12</div>

Yes of course we can also adapt the existing FreeGroup to my code. For that I need to know how much it is used. In particular as it seems to be only a wrapper of GAP.

Apparently there are two different approaches:

1/ The present FreeGroup (from GAP) focuses on the fact that free groups are algebraic objects (they have generators and the elements are somehow abstract group elements)

2/ Whereas my approach is closer to that of Words: free group are combinatorial objects and their elements are words on an alphabet.

I don't know how much these two approaches are compatible. And how much we can merge or converge to a common approach. The differences are probably similar to that between FreeMonoid and Words.

Marco can you tell us how much your FreeGroup is used, how much it is important that its elements are from a GAP wrap class (ElementLibGAP) ?



---

archive/issue_comments_289576.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nI have to run now, but a quick response. IIRC, it is used to construct the free algebra, but I believe you're right in that it is basically a wrapper of GAP. I'd have to double-check the latter.",
    "created_at": "2016-04-28T20:27:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289576",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:13" align="right">comment:13</div>

I have to run now, but a quick response. IIRC, it is used to construct the free algebra, but I believe you're right in that it is basically a wrapper of GAP. I'd have to double-check the latter.



---

archive/issue_comments_289577.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nSage's FreeGroup implementation is mostly a wrapper around GAP's. I think we should keep that since it is the basis for FinitelyPresentedGroups, and BraidGroup's which are also wrapped around GAP. \n\n\nElements of a FreeGroup are represented internally as a Tietze list, so it should be easy to translate from that representation to the one based in words and back (as long as the names of the generators is kept clear). So, instead of rewriting the implementation, I would vote for implementing that translation (which could be interesting in itself), and use that to call your code.",
    "created_at": "2016-04-28T21:02:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289577",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:14" align="right">comment:14</div>

Sage's FreeGroup implementation is mostly a wrapper around GAP's. I think we should keep that since it is the basis for FinitelyPresentedGroups, and BraidGroup's which are also wrapped around GAP. 


Elements of a FreeGroup are represented internally as a Tietze list, so it should be easy to translate from that representation to the one based in words and back (as long as the names of the generators is kept clear). So, instead of rewriting the implementation, I would vote for implementing that translation (which could be interesting in itself), and use that to call your code.



---

archive/issue_comments_289578.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nBy the way, I got an error when trying to test your code:\n\n```\nsage: from all import *\n---------------------------------------------------------------------------\nImportError                               Traceback (most recent call last)\n<ipython-input-1-9796be731807> in <module>()\n----> 1 from all import *\n\n/home/mmarco/sage-train-track/all.py in <module>()\n----> 1 from free_group import FreeGroup\n      2 from free_group_automorphism import FreeGroupMorphism, FreeGroupAutomorphism, free_group_automorphisms\n      3 from inverse_alphabet import AlphabetWithInverses\n\n/home/mmarco/sage-train-track/free_group.py in <module>()\n     13     from sage.combinat.words.words import FiniteWords_over_OrderedAlphabet as FiniteWords\n     14 \n---> 15 from inverse_alphabet import AlphabetWithInverses, AbstractAlphabetWithInverses\n     16 from free_group_word import FreeGroupWord\n     17 \n\nImportError: cannot import name AbstractAlphabetWithInverses\n```",
    "created_at": "2016-04-29T06:38:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289578",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:15" align="right">comment:15</div>

By the way, I got an error when trying to test your code:

```
sage: from all import *
---------------------------------------------------------------------------
ImportError                               Traceback (most recent call last)
<ipython-input-1-9796be731807> in <module>()
----> 1 from all import *

/home/mmarco/sage-train-track/all.py in <module>()
----> 1 from free_group import FreeGroup
      2 from free_group_automorphism import FreeGroupMorphism, FreeGroupAutomorphism, free_group_automorphisms
      3 from inverse_alphabet import AlphabetWithInverses

/home/mmarco/sage-train-track/free_group.py in <module>()
     13     from sage.combinat.words.words import FiniteWords_over_OrderedAlphabet as FiniteWords
     14 
---> 15 from inverse_alphabet import AlphabetWithInverses, AbstractAlphabetWithInverses
     16 from free_group_word import FreeGroupWord
     17 

ImportError: cannot import name AbstractAlphabetWithInverses
```



---

archive/issue_comments_289579.json:
```json
{
    "body": "Branch: **[u/dbenielli/train_tracks](https://github.com/sagemath/sagetrac-mirror/tree/u/dbenielli/train_tracks)**",
    "created_at": "2016-04-29T15:39:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289579",
    "user": "https://github.com/sagetrac-dbenielli"
}
```

Branch: **[u/dbenielli/train_tracks](https://github.com/sagemath/sagetrac-mirror/tree/u/dbenielli/train_tracks)**



---

archive/issue_comments_289580.json:
```json
{
    "body": "Commit: **[`8e7f630`](https://github.com/sagemath/sagetrac-mirror/commit/8e7f6300f59a3eca9d69233a52fc09b025cb33a2)**",
    "created_at": "2016-04-29T17:12:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289580",
    "user": "https://github.com/miguelmarco"
}
```

Commit: **[`8e7f630`](https://github.com/sagemath/sagetrac-mirror/commit/8e7f6300f59a3eca9d69233a52fc09b025cb33a2)**



---

archive/issue_comments_289581.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nDid you run the testsuite in this branch?\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8e7f6300f59a3eca9d69233a52fc09b025cb33a2\">8e7f630</a></td><td><code>first v of train track</code></td></tr></table>\n",
    "created_at": "2016-04-29T17:12:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289581",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:17" align="right">comment:17</div>

Did you run the testsuite in this branch?

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8e7f6300f59a3eca9d69233a52fc09b025cb33a2">8e7f630</a></td><td><code>first v of train track</code></td></tr></table>




---

archive/issue_comments_289582.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nYes, all tests passed\n\nsage: from sage.combinat.words.all import *\nsage: AlphabetWithInverses(2)\nAlphabet with inverses on ['a', 'b']",
    "created_at": "2016-05-02T11:41:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289582",
    "user": "https://github.com/sagetrac-dbenielli"
}
```

<div id="comment:18" align="right">comment:18</div>

Yes, all tests passed

sage: from sage.combinat.words.all import *
sage: AlphabetWithInverses(2)
Alphabet with inverses on ['a', 'b']



---

archive/issue_comments_289583.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nThis is in response to http://ask.sagemath.org/question/33238/unable-to-build-the-doc-reference-html/. There are a lot of problems with the formatting of the docstrings. Here are a few fixes as illustrations. See also http://www.sphinx-doc.org/en/stable/rest.html and http://docutils.sourceforge.net/rst.html for the basics of reStructuredText, and http://doc.sagemath.org/html/en/developer/coding_basics.html#documentation-strings for Sage-specific instructions.\n\n```diff\ndiff --git a/src/sage/combinat/words/convex_core.py b/src/sage/combinat/words/convex_core.py\nindex 0183e0f..a3c873a 100644\n--- a/src/sage/combinat/words/convex_core.py\n+++ b/src/sage/combinat/words/convex_core.py\n@@ -6,8 +6,8 @@ AUTHORS:\n \n - Thierry COULBOIS (2013-01-01) : initial version\n - Dominique BENIELLI (2016-02_15) :\n-AMU University <dominique.benielli@univ-amu.fr>,\n-Integration in SageMath\n+  AMU University <dominique.benielli@univ-amu.fr>,\n+  Integration in SageMath\n \n EXAMPLES::\n \n@@ -46,13 +46,15 @@ class ConvexCore():\n     Guirardel's convex core of two simplicial\n     trees with an action of a free group.\n \n-    Let T1 and T2 be trees with actions of the free group FN. G1=T1/FN\n-    and G2=T2/FN are MarkedGraph.\n+    Let `T_1` and `T_`2` be trees with actions of the free group `FN`. `G_1=T_1/FN`\n+    and `G_2=T_2/FN` are MarkedGraph.\n \n     A ConvexCore is a CW-complex of dimension 2. 2-cells are\n     squares. 1-cells are edges labeled by edges of G1 or G2. A square\n     is of the form\n \n+    ::\n+\n           e\n         ----->\n        |      |\n@@ -89,20 +91,20 @@ class ConvexCore():\n \n     EXAMPLES::\n \n-    sage: phi=FreeGroupAutomorphism(\"a->ab,b->ac,c->a\")\n-    sage: phi=phi*phi\n-    sage: C=ConvexCore(phi)\n-    sage: print C.slice('c',0)\n-    Looped multi-digraph on 2 vertices\n+        sage: phi=FreeGroupAutomorphism(\"a->ab,b->ac,c->a\")\n+        sage: phi=phi*phi\n+        sage: C=ConvexCore(phi)\n+        sage: print C.slice('c',0)\n+        Looped multi-digraph on 2 vertices\n \n-    sage: C.vertices()\n-    [0, 1, 2, 3]\n+        sage: C.vertices()\n+        [0, 1, 2, 3]\n \n-    sage: C.squares()\n-    [[3, 0, 2, 1, 'c', 'a']]\n+        sage: C.squares()\n+        [[3, 0, 2, 1, 'c', 'a']]\n     \n-    sage: C.twice_light_squares()\n-    [[1, 4, 0, 5, 'a', 'c']]\n+        sage: C.twice_light_squares()\n+        [[1, 4, 0, 5, 'a', 'c']]\n \n     AUTHORS:\n \n@@ -686,7 +688,7 @@ class ConvexCore():\n         - a homotopy equivalence\n \n         - that maps the root v0 of ``G0.spanning_tree()`` to the root v1 of\n-        ``G1.spanning_tree()``\n+          ``G1.spanning_tree()``\n         \n         - the image of each vertex has at least two gates.\n \n@@ -771,27 +773,27 @@ class ConvexCore():\n \n \n         - The boundary of a square is a list [e0,e1,e2,e3] of edges such that\n-        e0=(w,v,(a,0)) and e2 are edges with a positive letter\n-        a, and e1=(w,v,(b,1)) and e3 are edges with b a\n-        positive letter.\n+          e0=(w,v,(a,0)) and e2 are edges with a positive letter\n+          a, and e1=(w,v,(b,1)) and e3 are edges with b a\n+          positive letter.\n \n         - The boundary of an edge it is the list [v0,v1] of the initial vertex\n-        v0=(w,v) followed by the terminal vertex.\n+          v0=(w,v) followed by the terminal vertex.\n \n         Whereas for lists:\n \n         - squares: ``[v0,v1,v2,v3,a,b]`` where v0,v1,v2 and v3 are\n           integers standing for vertices and a,b are positive letters\n-          labeling edges of G0 and G1:\n+          labeling edges of G0 and G1::\n \n                 a\n-          v3 ------> v2\n-           ^         ^\n-           |         |\n-           |b        |b\n-           |         |\n-           |    a    |\n-          v0 ------>v1\n+           v3 ------> v2\n+            ^         ^\n+            |         |\n+            |b        |b\n+            |         |\n+            |    a    |\n+           v0 ------>v1\n \n         - edges: ``[v0,v1,(a,side)]`` where ``v0`` and ``v1`` are\n           integers standing for vertices a is a label of the tree on\n@@ -799,30 +801,30 @@ class ConvexCore():\n \n         INPUT:\n \n-        -``cell``square, an edge or a vertex. Squares are bounded\n-        by four vertices, edges by two vertices.\n+        - ``cell`` square, an edge or a vertex. Squares are bounded\n+          by four vertices, edges by two vertices.\n \n         OUTPUT:\n         The boundary of a cell is the list of vertices bounding it.\n \n         EXAMPLES::\n \n-        sage: phi = FreeGroupAutomorphism(\"a->ab,b->ac,c->a\")**2\n-        sage: C = ConvexCore(phi)\n-        sage: C.boundary((Word('C'), 0, 'c', 'a')) # boundary of a square\n-        [(word: C, 0, ('c', 0)),\n-        (word: , 0, ('a', 1)),\n-        (word: Bc, 0, ('C', 0)),\n-        (word: B, 0, ('A', 1))]\n+            sage: phi = FreeGroupAutomorphism(\"a->ab,b->ac,c->a\")**2\n+            sage: C = ConvexCore(phi)\n+            sage: C.boundary((Word('C'), 0, 'c', 'a')) # boundary of a square\n+            [(word: C, 0, ('c', 0)),\n+            (word: , 0, ('a', 1)),\n+            (word: Bc, 0, ('C', 0)),\n+            (word: B, 0, ('A', 1))]\n \n-        sage: C.boundary([3, 0, 2, 1, 'c', 'a']) # boundary of a square\n-        [[3, 0, ('c', 0)], [0, 2, ('a', 1)], [2, 1, ('C', 0)], [1, 3, ('A', 1)]]\n+            sage: C.boundary([3, 0, 2, 1, 'c', 'a']) # boundary of a square\n+            [[3, 0, ('c', 0)], [0, 2, ('a', 1)], [2, 1, ('C', 0)], [1, 3, ('A', 1)]]\n \n-        sage: C.boundary((Word('Bc'),0,('C',0))) # boundary of an edge \n-        [(word: Bc, 0), (word: B, 0)]\n+            sage: C.boundary((Word('Bc'),0,('C',0))) # boundary of an edge \n+            [(word: Bc, 0), (word: B, 0)]\n \n-        sage: C.boundary([2,1,'C']) # boundary of an edge\n-        [2, 1]\n+            sage: C.boundary([2,1,'C']) # boundary of an edge\n+            [2, 1]\n         \"\"\"\n \n         if isinstance(cell, tuple):\n```",
    "created_at": "2016-05-02T16:18:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289583",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:19" align="right">comment:19</div>

This is in response to http://ask.sagemath.org/question/33238/unable-to-build-the-doc-reference-html/. There are a lot of problems with the formatting of the docstrings. Here are a few fixes as illustrations. See also http://www.sphinx-doc.org/en/stable/rest.html and http://docutils.sourceforge.net/rst.html for the basics of reStructuredText, and http://doc.sagemath.org/html/en/developer/coding_basics.html#documentation-strings for Sage-specific instructions.

```diff
diff --git a/src/sage/combinat/words/convex_core.py b/src/sage/combinat/words/convex_core.py
index 0183e0f..a3c873a 100644
--- a/src/sage/combinat/words/convex_core.py
+++ b/src/sage/combinat/words/convex_core.py
@@ -6,8 +6,8 @@ AUTHORS:
 
 - Thierry COULBOIS (2013-01-01) : initial version
 - Dominique BENIELLI (2016-02_15) :
-AMU University <dominique.benielli@univ-amu.fr>,
-Integration in SageMath
+  AMU University <dominique.benielli@univ-amu.fr>,
+  Integration in SageMath
 
 EXAMPLES::
 
@@ -46,13 +46,15 @@ class ConvexCore():
     Guirardel's convex core of two simplicial
     trees with an action of a free group.
 
-    Let T1 and T2 be trees with actions of the free group FN. G1=T1/FN
-    and G2=T2/FN are MarkedGraph.
+    Let `T_1` and `T_`2` be trees with actions of the free group `FN`. `G_1=T_1/FN`
+    and `G_2=T_2/FN` are MarkedGraph.
 
     A ConvexCore is a CW-complex of dimension 2. 2-cells are
     squares. 1-cells are edges labeled by edges of G1 or G2. A square
     is of the form
 
+    ::
+
           e
         ----->
        |      |
@@ -89,20 +91,20 @@ class ConvexCore():
 
     EXAMPLES::
 
-    sage: phi=FreeGroupAutomorphism("a->ab,b->ac,c->a")
-    sage: phi=phi*phi
-    sage: C=ConvexCore(phi)
-    sage: print C.slice('c',0)
-    Looped multi-digraph on 2 vertices
+        sage: phi=FreeGroupAutomorphism("a->ab,b->ac,c->a")
+        sage: phi=phi*phi
+        sage: C=ConvexCore(phi)
+        sage: print C.slice('c',0)
+        Looped multi-digraph on 2 vertices
 
-    sage: C.vertices()
-    [0, 1, 2, 3]
+        sage: C.vertices()
+        [0, 1, 2, 3]
 
-    sage: C.squares()
-    [[3, 0, 2, 1, 'c', 'a']]
+        sage: C.squares()
+        [[3, 0, 2, 1, 'c', 'a']]
     
-    sage: C.twice_light_squares()
-    [[1, 4, 0, 5, 'a', 'c']]
+        sage: C.twice_light_squares()
+        [[1, 4, 0, 5, 'a', 'c']]
 
     AUTHORS:
 
@@ -686,7 +688,7 @@ class ConvexCore():
         - a homotopy equivalence
 
         - that maps the root v0 of ``G0.spanning_tree()`` to the root v1 of
-        ``G1.spanning_tree()``
+          ``G1.spanning_tree()``
         
         - the image of each vertex has at least two gates.
 
@@ -771,27 +773,27 @@ class ConvexCore():
 
 
         - The boundary of a square is a list [e0,e1,e2,e3] of edges such that
-        e0=(w,v,(a,0)) and e2 are edges with a positive letter
-        a, and e1=(w,v,(b,1)) and e3 are edges with b a
-        positive letter.
+          e0=(w,v,(a,0)) and e2 are edges with a positive letter
+          a, and e1=(w,v,(b,1)) and e3 are edges with b a
+          positive letter.
 
         - The boundary of an edge it is the list [v0,v1] of the initial vertex
-        v0=(w,v) followed by the terminal vertex.
+          v0=(w,v) followed by the terminal vertex.
 
         Whereas for lists:
 
         - squares: ``[v0,v1,v2,v3,a,b]`` where v0,v1,v2 and v3 are
           integers standing for vertices and a,b are positive letters
-          labeling edges of G0 and G1:
+          labeling edges of G0 and G1::
 
                 a
-          v3 ------> v2
-           ^         ^
-           |         |
-           |b        |b
-           |         |
-           |    a    |
-          v0 ------>v1
+           v3 ------> v2
+            ^         ^
+            |         |
+            |b        |b
+            |         |
+            |    a    |
+           v0 ------>v1
 
         - edges: ``[v0,v1,(a,side)]`` where ``v0`` and ``v1`` are
           integers standing for vertices a is a label of the tree on
@@ -799,30 +801,30 @@ class ConvexCore():
 
         INPUT:
 
-        -``cell``square, an edge or a vertex. Squares are bounded
-        by four vertices, edges by two vertices.
+        - ``cell`` square, an edge or a vertex. Squares are bounded
+          by four vertices, edges by two vertices.
 
         OUTPUT:
         The boundary of a cell is the list of vertices bounding it.
 
         EXAMPLES::
 
-        sage: phi = FreeGroupAutomorphism("a->ab,b->ac,c->a")**2
-        sage: C = ConvexCore(phi)
-        sage: C.boundary((Word('C'), 0, 'c', 'a')) # boundary of a square
-        [(word: C, 0, ('c', 0)),
-        (word: , 0, ('a', 1)),
-        (word: Bc, 0, ('C', 0)),
-        (word: B, 0, ('A', 1))]
+            sage: phi = FreeGroupAutomorphism("a->ab,b->ac,c->a")**2
+            sage: C = ConvexCore(phi)
+            sage: C.boundary((Word('C'), 0, 'c', 'a')) # boundary of a square
+            [(word: C, 0, ('c', 0)),
+            (word: , 0, ('a', 1)),
+            (word: Bc, 0, ('C', 0)),
+            (word: B, 0, ('A', 1))]
 
-        sage: C.boundary([3, 0, 2, 1, 'c', 'a']) # boundary of a square
-        [[3, 0, ('c', 0)], [0, 2, ('a', 1)], [2, 1, ('C', 0)], [1, 3, ('A', 1)]]
+            sage: C.boundary([3, 0, 2, 1, 'c', 'a']) # boundary of a square
+            [[3, 0, ('c', 0)], [0, 2, ('a', 1)], [2, 1, ('C', 0)], [1, 3, ('A', 1)]]
 
-        sage: C.boundary((Word('Bc'),0,('C',0))) # boundary of an edge 
-        [(word: Bc, 0), (word: B, 0)]
+            sage: C.boundary((Word('Bc'),0,('C',0))) # boundary of an edge 
+            [(word: Bc, 0), (word: B, 0)]
 
-        sage: C.boundary([2,1,'C']) # boundary of an edge
-        [2, 1]
+            sage: C.boundary([2,1,'C']) # boundary of an edge
+            [2, 1]
         """
 
         if isinstance(cell, tuple):
```



---

archive/issue_comments_289584.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nBuilding documentation fails.  And I get many doctest failing:\n\n\nsage -t --warn-long 47.3 src/sage/combinat/words/test_train_track.py  # 5 doctests failed\nsage -t --warn-long 47.3 src/sage/misc/sagedoc.py  # 4 doctests failed\nsage -t --warn-long 47.3 src/sage/categories/groups.py  # 2 doctests failed\nsage -t --warn-long 47.3 src/sage/categories/magmas.py  # 13 doctests failed\nsage -t --warn-long 47.3 src/sage/modules/vector_double_dense.pyx  # 1 doctest failed\nsage -t --warn-long 47.3 src/sage/modules/with_basis/representation.py  # 2 doctests failed\nsage -t --warn-long 47.3 src/sage/groups/braid.py  # 27 doctests failed\nsage -t --warn-long 47.3 src/sage/groups/libgap_wrapper.pyx  # 76 doctests failed\nsage -t --warn-long 47.3 src/sage/groups/finitely_presented.py  # 241 doctests failed\nsage -t --warn-long 47.3 src/sage/groups/group.pyx  # 2 doctests failed\nsage -t --warn-long 47.3 src/sage/groups/free_group.py  # 123 doctests failed\nsage -t --warn-long 47.3 src/sage/groups/libgap_group.py  # 11 doctests failed\nsage -t --warn-long 47.3 src/sage/groups/generic.py  # 3 doctests failed\n\n\n\nI don't think it is a good idea to override the default FreeGorup implementation. Many parts of Sage deppend on it. It would make more sense to extend it with the methods that are needed for the rest of your code.",
    "created_at": "2016-05-02T16:21:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289584",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:20" align="right">comment:20</div>

Building documentation fails.  And I get many doctest failing:


sage -t --warn-long 47.3 src/sage/combinat/words/test_train_track.py  # 5 doctests failed
sage -t --warn-long 47.3 src/sage/misc/sagedoc.py  # 4 doctests failed
sage -t --warn-long 47.3 src/sage/categories/groups.py  # 2 doctests failed
sage -t --warn-long 47.3 src/sage/categories/magmas.py  # 13 doctests failed
sage -t --warn-long 47.3 src/sage/modules/vector_double_dense.pyx  # 1 doctest failed
sage -t --warn-long 47.3 src/sage/modules/with_basis/representation.py  # 2 doctests failed
sage -t --warn-long 47.3 src/sage/groups/braid.py  # 27 doctests failed
sage -t --warn-long 47.3 src/sage/groups/libgap_wrapper.pyx  # 76 doctests failed
sage -t --warn-long 47.3 src/sage/groups/finitely_presented.py  # 241 doctests failed
sage -t --warn-long 47.3 src/sage/groups/group.pyx  # 2 doctests failed
sage -t --warn-long 47.3 src/sage/groups/free_group.py  # 123 doctests failed
sage -t --warn-long 47.3 src/sage/groups/libgap_group.py  # 11 doctests failed
sage -t --warn-long 47.3 src/sage/groups/generic.py  # 3 doctests failed



I don't think it is a good idea to override the default FreeGorup implementation. Many parts of Sage deppend on it. It would make more sense to extend it with the methods that are needed for the rest of your code.



---

archive/issue_comments_289585.json:
```json
{
    "body": "Changed author from **Dominique Benielli and Thierry Coulbois** to **Dominique Benielli, Thierry Coulbois**",
    "created_at": "2016-05-02T20:00:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289585",
    "user": "https://github.com/fchapoton"
}
```

Changed author from **Dominique Benielli and Thierry Coulbois** to **Dominique Benielli, Thierry Coulbois**



---

archive/issue_comments_289586.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nplease use python3 style of print function everywhere : `print(x)`",
    "created_at": "2016-05-03T06:09:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289586",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:22" align="right">comment:22</div>

please use python3 style of print function everywhere : `print(x)`



---

archive/issue_comments_289587.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nYes, I begin to understand, that I will need to use (and add functionalities) to the current FreeGroup.\n\nThe main difficulty is that I rely heavily on WordMorphism, in particular for parsing: \n\nFreeGroupAutomorphism(\"a->ab,b->aC,c->a\")\n\nAnd for applying or compose morphisms. These are heavily used in my program.\n\nThis suggest that I would like that my elements of FreeGroup are Word. Do you have any objection to FreeGroup also inheriting from Words ? And FreeGroupElement from Word ?\n\nI guess that it is not too complicated to add Words and Word methods to your FreeGroup and FreeGroupElement. But will that interfere with deeper GAP implementations (I am completly new to GAP)?\n\nWould that be satisfactory to Sage gurus that FreeGroup are both an algebraic object and a symbolic one ?\n\nFinally there is also a IndexedFreeGroup class which is not a wrapper of GAP, how does it fit in this discussion ?\n\n> I don't think it is a good idea to override the default FreeGorup implementation. Many parts of Sage deppend on it. It would make more sense to extend it with the methods that are needed for the rest of your code.",
    "created_at": "2016-05-03T12:10:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289587",
    "user": "https://github.com/sagetrac-coulbois"
}
```

<div id="comment:23" align="right">comment:23</div>

Yes, I begin to understand, that I will need to use (and add functionalities) to the current FreeGroup.

The main difficulty is that I rely heavily on WordMorphism, in particular for parsing: 

FreeGroupAutomorphism("a->ab,b->aC,c->a")

And for applying or compose morphisms. These are heavily used in my program.

This suggest that I would like that my elements of FreeGroup are Word. Do you have any objection to FreeGroup also inheriting from Words ? And FreeGroupElement from Word ?

I guess that it is not too complicated to add Words and Word methods to your FreeGroup and FreeGroupElement. But will that interfere with deeper GAP implementations (I am completly new to GAP)?

Would that be satisfactory to Sage gurus that FreeGroup are both an algebraic object and a symbolic one ?

Finally there is also a IndexedFreeGroup class which is not a wrapper of GAP, how does it fit in this discussion ?

> I don't think it is a good idea to override the default FreeGorup implementation. Many parts of Sage deppend on it. It would make more sense to extend it with the methods that are needed for the rest of your code.



---

archive/issue_comments_289588.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nI guess it makes sense to consider FreeGroupElements as Words, but we should be careful to make sure that the multiple inheritance doesn't break anything. We should also probably rewrite the different constructors.\n\nIn any case, we need a class for morphisms of free groups (or more general, finitely presented groups), so it might be a good opportunity to design that infrastructure.",
    "created_at": "2016-05-03T12:30:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289588",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:24" align="right">comment:24</div>

I guess it makes sense to consider FreeGroupElements as Words, but we should be careful to make sure that the multiple inheritance doesn't break anything. We should also probably rewrite the different constructors.

In any case, we need a class for morphisms of free groups (or more general, finitely presented groups), so it might be a good opportunity to design that infrastructure.



---

archive/issue_comments_289589.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@miguelmarco](#comment:24):\n> In any case, we need a class for morphisms of free groups (or more general, finitely presented groups), so it might be a good opportunity to design that infrastructure.\n\nThis is my opinion as well. Parsing of the input is an API decision and, IMO, not a good reason to use a specific implementation. Unless you are using other features of `WordMorphism` that are not (currently) available to the current group morphisms or I am misunderstanding [comment:23](#comment:23).\n\nActually, I am somewhat not in favor of using words because of the need to handle inverses in the free group. There should not really be that much of an implementation difference between the free group using words or GAP, just an API difference...at least I'd imagine there shouldn't be...",
    "created_at": "2016-05-03T20:37:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289589",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@miguelmarco](#comment:24):
> In any case, we need a class for morphisms of free groups (or more general, finitely presented groups), so it might be a good opportunity to design that infrastructure.

This is my opinion as well. Parsing of the input is an API decision and, IMO, not a good reason to use a specific implementation. Unless you are using other features of `WordMorphism` that are not (currently) available to the current group morphisms or I am misunderstanding [comment:23](#comment:23).

Actually, I am somewhat not in favor of using words because of the need to handle inverses in the free group. There should not really be that much of an implementation difference between the free group using words or GAP, just an API difference...at least I'd imagine there shouldn't be...



---

archive/issue_comments_289590.json:
```json
{
    "body": "Changed commit from **[`8e7f630`](https://github.com/sagemath/sagetrac-mirror/commit/8e7f6300f59a3eca9d69233a52fc09b025cb33a2)** to **[`2fbe7c6`](https://github.com/sagemath/sagetrac-mirror/commit/2fbe7c6745dc59fc60b8ccb1c616224b3c60a5b3)**",
    "created_at": "2016-05-04T17:03:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289590",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8e7f630`](https://github.com/sagemath/sagetrac-mirror/commit/8e7f6300f59a3eca9d69233a52fc09b025cb33a2)** to **[`2fbe7c6`](https://github.com/sagemath/sagetrac-mirror/commit/2fbe7c6745dc59fc60b8ccb1c616224b3c60a5b3)**



---

archive/issue_comments_289591.json:
```json
{
    "body": "<div id=\"comment:26\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2fbe7c6745dc59fc60b8ccb1c616224b3c60a5b3\">2fbe7c6</a></td><td><code>improvment for doc build</code></td></tr></table>\n",
    "created_at": "2016-05-04T17:03:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289591",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:26"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2fbe7c6745dc59fc60b8ccb1c616224b3c60a5b3">2fbe7c6</a></td><td><code>improvment for doc build</code></td></tr></table>




---

archive/issue_comments_289592.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nDominique finished to set-up the test and to clean-up the doc. Let's say that we have a clean version 1. I am refering to the master branch of my https://github.com/coulbois/sage-train-track repository.\n\n1/ Please try and explore this version for functionnalities. Do you find all what you need for free group automorphisms and train-tracks ?\n\n2/ Now, we need to make that compatible with the FreeGroup of sage.groups. I propose to start from the file sage.groups.free_group.py and add the methods I need. This is the purpose of the work branch in my https://github.com/coulbois/sage-train-track repository. I fear that this implies giving-up the fact that free groups elements are words. Everybody is okay with that ?\n\n(I guess I am not in the correct Sage workflow, please comment if you have a better one).",
    "created_at": "2016-05-11T19:33:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289592",
    "user": "https://github.com/sagetrac-coulbois"
}
```

<div id="comment:27" align="right">comment:27</div>

Dominique finished to set-up the test and to clean-up the doc. Let's say that we have a clean version 1. I am refering to the master branch of my https://github.com/coulbois/sage-train-track repository.

1/ Please try and explore this version for functionnalities. Do you find all what you need for free group automorphisms and train-tracks ?

2/ Now, we need to make that compatible with the FreeGroup of sage.groups. I propose to start from the file sage.groups.free_group.py and add the methods I need. This is the purpose of the work branch in my https://github.com/coulbois/sage-train-track repository. I fear that this implies giving-up the fact that free groups elements are words. Everybody is okay with that ?

(I guess I am not in the correct Sage workflow, please comment if you have a better one).



---

archive/issue_comments_289593.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nI still haven't taken a detailed looked yet (sorry), but this does look very impressive. I am looking forward to getting this project and code included into Sage.\n\nI think it would be good for you to list here exactly what functionality you're missing from free groups in Sage (and their morphisms) and/or to create a separate ticket, which would become a dependency of this ticket, that would implement these features.\n\nAlthough, you are not really loosing the interpretation of free group elements as words because you have the `Tietze()`, but it will likely require some changes to the implementations. (Sorry for a bit of repetition, but IMO, a finite word is much more naturally associated with a free monoid because of the concatenation does not involve cancellation.) The biggest possible obstruction to this that I see currently is that you are using some feature only implemented for word morphisms.\n\nMath question, does the theory of train-tracks extend to free groups on (countably) infinite generators?",
    "created_at": "2016-05-12T05:24:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289593",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:28" align="right">comment:28</div>

I still haven't taken a detailed looked yet (sorry), but this does look very impressive. I am looking forward to getting this project and code included into Sage.

I think it would be good for you to list here exactly what functionality you're missing from free groups in Sage (and their morphisms) and/or to create a separate ticket, which would become a dependency of this ticket, that would implement these features.

Although, you are not really loosing the interpretation of free group elements as words because you have the `Tietze()`, but it will likely require some changes to the implementations. (Sorry for a bit of repetition, but IMO, a finite word is much more naturally associated with a free monoid because of the concatenation does not involve cancellation.) The biggest possible obstruction to this that I see currently is that you are using some feature only implemented for word morphisms.

Math question, does the theory of train-tracks extend to free groups on (countably) infinite generators?



---

archive/issue_comments_289594.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\n> 2/ Now, we need to make that compatible with the FreeGroup of sage.groups. I propose to start from the file sage.groups.free_group.py and add the methods I need. This is the purpose of the work branch in my https://github.com/coulbois/sage-train-track repository. I fear that this implies giving-up the fact that free groups elements are words. Everybody is okay with that ?\n> \n\nI am certainly okay with that. From a quick look at your code, it sounds very natural to rewrite it on top of existing FreeGroups (for instance, you needed to add some way to concatenate word with cancelations, whereas in the framework of freegroups you have all that for free as the standard product).\n\n> (I guess I am not in the correct Sage workflow, please comment if you have a better one).\n\nIn theory, we should handle the branches in this server instead of github. But given the size of the project, and the fact that we are in a stage where we are pretty much experimenting before deciding the actual dessign, it may be ok to handle this early branches somewhere else (as long is everybody is ok about working through github). Although at some point we should move it all to trac branches.",
    "created_at": "2016-05-12T12:03:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289594",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:29" align="right">comment:29</div>

> 2/ Now, we need to make that compatible with the FreeGroup of sage.groups. I propose to start from the file sage.groups.free_group.py and add the methods I need. This is the purpose of the work branch in my https://github.com/coulbois/sage-train-track repository. I fear that this implies giving-up the fact that free groups elements are words. Everybody is okay with that ?
> 

I am certainly okay with that. From a quick look at your code, it sounds very natural to rewrite it on top of existing FreeGroups (for instance, you needed to add some way to concatenate word with cancelations, whereas in the framework of freegroups you have all that for free as the standard product).

> (I guess I am not in the correct Sage workflow, please comment if you have a better one).

In theory, we should handle the branches in this server instead of github. But given the size of the project, and the fact that we are in a stage where we are pretty much experimenting before deciding the actual dessign, it may be ok to handle this early branches somewhere else (as long is everybody is ok about working through github). Although at some point we should move it all to trac branches.



---

archive/issue_comments_289595.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nHi all,\n\nAs Thierry says previously we decided to make the compatibilyty with the sage FreeGroup through the hard way,  used it and add functionnalities. Three or more module need to be rewrited,  when we obtain a first draft version I am pushing in in the sage ticket. So there no need for you to worry about a external branche.\n\nDominique",
    "created_at": "2016-05-12T13:21:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289595",
    "user": "https://github.com/sagetrac-dbenielli"
}
```

<div id="comment:30" align="right">comment:30</div>

Hi all,

As Thierry says previously we decided to make the compatibilyty with the sage FreeGroup through the hard way,  used it and add functionnalities. Three or more module need to be rewrited,  when we obtain a first draft version I am pushing in in the sage ticket. So there no need for you to worry about a external branche.

Dominique



---

archive/issue_comments_289596.json:
```json
{
    "body": "Changed commit from **[`2fbe7c6`](https://github.com/sagemath/sagetrac-mirror/commit/2fbe7c6745dc59fc60b8ccb1c616224b3c60a5b3)** to **[`3ecdcdf`](https://github.com/sagemath/sagetrac-mirror/commit/3ecdcdfe553c1f97769d69f659977e1b6eebaabb)**",
    "created_at": "2016-05-17T11:42:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289596",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2fbe7c6`](https://github.com/sagemath/sagetrac-mirror/commit/2fbe7c6745dc59fc60b8ccb1c616224b3c60a5b3)** to **[`3ecdcdf`](https://github.com/sagemath/sagetrac-mirror/commit/3ecdcdfe553c1f97769d69f659977e1b6eebaabb)**



---

archive/issue_comments_289597.json:
```json
{
    "body": "<div id=\"comment:31\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3ecdcdfe553c1f97769d69f659977e1b6eebaabb\">3ecdcdf</a></td><td><code>rm fille</code></td></tr></table>\n",
    "created_at": "2016-05-17T11:42:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289597",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:31"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3ecdcdfe553c1f97769d69f659977e1b6eebaabb">3ecdcdf</a></td><td><code>rm fille</code></td></tr></table>




---

archive/issue_comments_289598.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nAdvice/approval needed\n\nI started using and modifying the existing FreeGroup. I refer to the work branch of my git repo (not the sage one)\n\n1/ My guess is that I can rely mainly on the Tietze() method of FreeGroupElement. I have no idea of the GAP implementation of FreeGroupElement.\n\n2/ I extended init() methods to allow more API (accepting strings for example). I added `__getitem__` and comparisons methods. Now FreeGroupElement behave loosely as words and I expect to rely on them.\n\n3/ I started to adapt the FreeGroupMorphism. I am not really willing to write a GroupMorphism (even an abstract one) class as I have no idea of what Group and GroupElement look like. I propose to use a _morph variable to store a dictionnary that map FreeGroupElement (the generators and their inverses) to FreeGroupElement (once again I have no idea of the cost, may be a dictionnary from integers to integer list together with Tietze() would be more efficient though less natural).\n\nThe doc is not yet up-to-date. \n\nI am currently working further. But please stop me if you believe my choices are stupid.",
    "created_at": "2016-05-17T14:59:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289598",
    "user": "https://github.com/sagetrac-coulbois"
}
```

<div id="comment:32" align="right">comment:32</div>

Advice/approval needed

I started using and modifying the existing FreeGroup. I refer to the work branch of my git repo (not the sage one)

1/ My guess is that I can rely mainly on the Tietze() method of FreeGroupElement. I have no idea of the GAP implementation of FreeGroupElement.

2/ I extended init() methods to allow more API (accepting strings for example). I added `__getitem__` and comparisons methods. Now FreeGroupElement behave loosely as words and I expect to rely on them.

3/ I started to adapt the FreeGroupMorphism. I am not really willing to write a GroupMorphism (even an abstract one) class as I have no idea of what Group and GroupElement look like. I propose to use a _morph variable to store a dictionnary that map FreeGroupElement (the generators and their inverses) to FreeGroupElement (once again I have no idea of the cost, may be a dictionnary from integers to integer list together with Tietze() would be more efficient though less natural).

The doc is not yet up-to-date. 

I am currently working further. But please stop me if you believe my choices are stupid.



---

archive/issue_comments_289599.json:
```json
{
    "body": "<div id=\"comment:33\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/efa12d37913aadd10e7c8cb59e9068aae64e6ff7\">efa12d3</a></td><td><code>remove all</code></td></tr></table>\n",
    "created_at": "2016-05-17T16:15:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289599",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:33"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/efa12d37913aadd10e7c8cb59e9068aae64e6ff7">efa12d3</a></td><td><code>remove all</code></td></tr></table>




---

archive/issue_comments_289600.json:
```json
{
    "body": "Changed commit from **[`3ecdcdf`](https://github.com/sagemath/sagetrac-mirror/commit/3ecdcdfe553c1f97769d69f659977e1b6eebaabb)** to **[`efa12d3`](https://github.com/sagemath/sagetrac-mirror/commit/efa12d37913aadd10e7c8cb59e9068aae64e6ff7)**",
    "created_at": "2016-05-17T16:15:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289600",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3ecdcdf`](https://github.com/sagemath/sagetrac-mirror/commit/3ecdcdfe553c1f97769d69f659977e1b6eebaabb)** to **[`efa12d3`](https://github.com/sagemath/sagetrac-mirror/commit/efa12d37913aadd10e7c8cb59e9068aae64e6ff7)**



---

archive/issue_comments_289601.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nReplying to [@sagetrac-coulbois](#comment:32):\n> 1/ My guess is that I can rely mainly on the Tietze() method of FreeGroupElement. I have no idea of the GAP implementation of FreeGroupElement.\n\nThis is the way to go because `Tietze()` pull info from its GAP data. This should also be reasonably fast.\n\n> 2/ I extended init() methods to allow more API (accepting strings for example). I added `__getitem__` and comparisons methods. Now FreeGroupElement behave loosely as words and I expect to rely on them.\n\nI am okay with the `__getitem__`. There is a default total order from the generic GAP element implementation, which the total order may or may not be good, but it is likely one of the faster ways to check for (in)equality. However, I haven't looked at your current code yet.\n\n> 3/ I started to adapt the FreeGroupMorphism. I am not really willing to write a GroupMorphism (even an abstract one) class as I have no idea of what Group and GroupElement look like. I propose to use a _morph variable to store a dictionnary that map FreeGroupElement (the generators and their inverses) to FreeGroupElement (once again I have no idea of the cost, may be a dictionnary from integers to integer list together with Tietze() would be more efficient though less natural).\n\nNo matter what, I think you would need a `FreeGroupMorphism` class for everything that you want to do. I think the *internal* storage method should depend on the application, but the *user* input should be a tuple, which is consistent with the rest of Sage and requires less validation of the input.\n\nYou will probably want to create a `FreeGroupHomset` (which you will need to add a `_hom_` method to `FreeGroup` to create this), whose elements are your `FreeGroupMorphism`, which can be constructed directly from the `hom` method. By having the morphism take a tuple as input, you shouldn't have to modify the `hom` method.\n\nA question: does your framework handle morphisms to free groups with different generator labels? If not, would it be easy to support this (and do you want to)? If also no, then don't worry about it.",
    "created_at": "2016-05-17T22:47:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289601",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:34" align="right">comment:34</div>

Replying to [@sagetrac-coulbois](#comment:32):
> 1/ My guess is that I can rely mainly on the Tietze() method of FreeGroupElement. I have no idea of the GAP implementation of FreeGroupElement.

This is the way to go because `Tietze()` pull info from its GAP data. This should also be reasonably fast.

> 2/ I extended init() methods to allow more API (accepting strings for example). I added `__getitem__` and comparisons methods. Now FreeGroupElement behave loosely as words and I expect to rely on them.

I am okay with the `__getitem__`. There is a default total order from the generic GAP element implementation, which the total order may or may not be good, but it is likely one of the faster ways to check for (in)equality. However, I haven't looked at your current code yet.

> 3/ I started to adapt the FreeGroupMorphism. I am not really willing to write a GroupMorphism (even an abstract one) class as I have no idea of what Group and GroupElement look like. I propose to use a _morph variable to store a dictionnary that map FreeGroupElement (the generators and their inverses) to FreeGroupElement (once again I have no idea of the cost, may be a dictionnary from integers to integer list together with Tietze() would be more efficient though less natural).

No matter what, I think you would need a `FreeGroupMorphism` class for everything that you want to do. I think the *internal* storage method should depend on the application, but the *user* input should be a tuple, which is consistent with the rest of Sage and requires less validation of the input.

You will probably want to create a `FreeGroupHomset` (which you will need to add a `_hom_` method to `FreeGroup` to create this), whose elements are your `FreeGroupMorphism`, which can be constructed directly from the `hom` method. By having the morphism take a tuple as input, you shouldn't have to modify the `hom` method.

A question: does your framework handle morphisms to free groups with different generator labels? If not, would it be easy to support this (and do you want to)? If also no, then don't worry about it.



---

archive/issue_comments_289602.json:
```json
{
    "body": "Changed branch from **[u/dbenielli/train_tracks](https://github.com/sagemath/sagetrac-mirror/tree/u/dbenielli/train_tracks)** to **[public/train_track](https://github.com/sagemath/sagetrac-mirror/tree/public/train_track)**",
    "created_at": "2016-06-13T17:17:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289602",
    "user": "https://github.com/sagetrac-dbenielli"
}
```

Changed branch from **[u/dbenielli/train_tracks](https://github.com/sagemath/sagetrac-mirror/tree/u/dbenielli/train_tracks)** to **[public/train_track](https://github.com/sagemath/sagetrac-mirror/tree/public/train_track)**



---

archive/issue_comments_289603.json:
```json
{
    "body": "Changed commit from **[`efa12d3`](https://github.com/sagemath/sagetrac-mirror/commit/efa12d37913aadd10e7c8cb59e9068aae64e6ff7)** to none",
    "created_at": "2016-06-13T17:17:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289603",
    "user": "https://github.com/sagetrac-dbenielli"
}
```

Changed commit from **[`efa12d3`](https://github.com/sagemath/sagetrac-mirror/commit/efa12d37913aadd10e7c8cb59e9068aae64e6ff7)** to none



---

archive/issue_events_284601.json:
```json
{
    "actor": "https://github.com/sagetrac-dbenielli",
    "created_at": "2016-06-13T17:20:26Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "milestone_number": null,
    "milestone_title": "sage-7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20154#event-284601"
}
```



---

archive/issue_events_284602.json:
```json
{
    "actor": "https://github.com/sagetrac-dbenielli",
    "created_at": "2016-06-13T17:20:26Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "milestone_number": null,
    "milestone_title": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20154#event-284602"
}
```



---

archive/issue_events_284603.json:
```json
{
    "actor": "https://github.com/sagetrac-dbenielli",
    "created_at": "2016-06-13T17:20:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "c: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20154#event-284603"
}
```



---

archive/issue_events_284604.json:
```json
{
    "actor": "https://github.com/sagetrac-dbenielli",
    "created_at": "2016-06-13T17:20:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20group%20theory",
    "label_color": "0000ff",
    "label_name": "c: group theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20154#event-284604"
}
```



---

archive/issue_comments_289604.json:
```json
{
    "body": "Commit: **[`9f9d12b`](https://github.com/sagemath/sagetrac-mirror/commit/9f9d12bb0ec6a7d5c49b1f5bbff95b0e5f28b1b8)**",
    "created_at": "2016-06-14T17:08:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289604",
    "user": "https://github.com/videlec"
}
```

Commit: **[`9f9d12b`](https://github.com/sagemath/sagetrac-mirror/commit/9f9d12bb0ec6a7d5c49b1f5bbff95b0e5f28b1b8)**



---

archive/issue_comments_289605.json:
```json
{
    "body": "Changed branch from **[public/train_track](https://github.com/sagemath/sagetrac-mirror/tree/public/train_track)** to **[public/train-track](https://github.com/sagemath/sagetrac-mirror/tree/public/train-track)**",
    "created_at": "2016-06-14T17:08:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289605",
    "user": "https://github.com/videlec"
}
```

Changed branch from **[public/train_track](https://github.com/sagemath/sagetrac-mirror/tree/public/train_track)** to **[public/train-track](https://github.com/sagemath/sagetrac-mirror/tree/public/train-track)**



---

archive/issue_comments_289606.json:
```json
{
    "body": "<div id=\"comment:37\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dce1fc01ce2a6a1be57be665b5dad140a13bed6d\">dce1fc0</a></td><td><code>initial commit for train track for free groups</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2f68ae6479e53df7839d81d7089c0d57f46d996e\">2f68ae6</a></td><td><code>print p3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8a67358f15cb5f6e8f0afbb0f827d6aeb5df777b\">8a67358</a></td><td><code>doc</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/80381b46717939fad84db5b989886d31437f9d0c\">80381b4</a></td><td><code>doc</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0e2401f886699ab8ca30ef8a512f36781258ba9b\">0e2401f</a></td><td><code>tests passed</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/02f8668cf031b464ae7f64221d9aae9070502396\">02f8668</a></td><td><code>deprecation warning for the old free_group.py file</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ea56cef1d2a5f7dca70f44e9eb60c1fbcf2f369a\">ea56cef</a></td><td><code>simpler comparisons</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9f9d12bb0ec6a7d5c49b1f5bbff95b0e5f28b1b8\">9f9d12b</a></td><td><code>remove trailing whitespaces</code></td></tr></table>\n",
    "created_at": "2016-06-14T17:08:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289606",
    "user": "https://github.com/videlec"
}
```

<div id="comment:37"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dce1fc01ce2a6a1be57be665b5dad140a13bed6d">dce1fc0</a></td><td><code>initial commit for train track for free groups</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2f68ae6479e53df7839d81d7089c0d57f46d996e">2f68ae6</a></td><td><code>print p3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8a67358f15cb5f6e8f0afbb0f827d6aeb5df777b">8a67358</a></td><td><code>doc</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/80381b46717939fad84db5b989886d31437f9d0c">80381b4</a></td><td><code>doc</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0e2401f886699ab8ca30ef8a512f36781258ba9b">0e2401f</a></td><td><code>tests passed</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/02f8668cf031b464ae7f64221d9aae9070502396">02f8668</a></td><td><code>deprecation warning for the old free_group.py file</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ea56cef1d2a5f7dca70f44e9eb60c1fbcf2f369a">ea56cef</a></td><td><code>simpler comparisons</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9f9d12bb0ec6a7d5c49b1f5bbff95b0e5f28b1b8">9f9d12b</a></td><td><code>remove trailing whitespaces</code></td></tr></table>




---

archive/issue_comments_289607.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\n(I fixed the name of the branch, it was `train-track` and not `train_track`)",
    "created_at": "2016-06-14T17:09:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289607",
    "user": "https://github.com/videlec"
}
```

<div id="comment:38" align="right">comment:38</div>

(I fixed the name of the branch, it was `train-track` and not `train_track`)



---

archive/issue_comments_289608.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nFor python3 compatibility:\n\n* please do not use the `it.next` method, but instead `next(it)`\n\n* please do not write `print (something)` but rather `print(something)` (no space after print)\n\nsee my patchbot's report for more information",
    "created_at": "2016-06-15T07:59:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289608",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:39" align="right">comment:39</div>

For python3 compatibility:

* please do not use the `it.next` method, but instead `next(it)`

* please do not write `print (something)` but rather `print(something)` (no space after print)

see my patchbot's report for more information



---

archive/issue_comments_289609.json:
```json
{
    "body": "Changed commit from **[`9f9d12b`](https://github.com/sagemath/sagetrac-mirror/commit/9f9d12bb0ec6a7d5c49b1f5bbff95b0e5f28b1b8)** to **[`020d0a2`](https://github.com/sagemath/sagetrac-mirror/commit/020d0a2b4739c15815da5209044bac01ce4661db)**",
    "created_at": "2016-06-15T09:07:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289609",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9f9d12b`](https://github.com/sagemath/sagetrac-mirror/commit/9f9d12bb0ec6a7d5c49b1f5bbff95b0e5f28b1b8)** to **[`020d0a2`](https://github.com/sagemath/sagetrac-mirror/commit/020d0a2b4739c15815da5209044bac01ce4661db)**



---

archive/issue_comments_289610.json:
```json
{
    "body": "<div id=\"comment:40\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/020d0a2b4739c15815da5209044bac01ce4661db\">020d0a2</a></td><td><code>python3 compatibility</code></td></tr></table>\n",
    "created_at": "2016-06-15T09:07:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289610",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:40"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/020d0a2b4739c15815da5209044bac01ce4661db">020d0a2</a></td><td><code>python3 compatibility</code></td></tr></table>




---

archive/issue_comments_289611.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nok - use the it.next method, but instead next(it)\nok - print(something) \n\nin commit 020d0a2\tpython3 compatibility",
    "created_at": "2016-06-15T09:12:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289611",
    "user": "https://github.com/sagetrac-dbenielli"
}
```

<div id="comment:41" align="right">comment:41</div>

ok - use the it.next method, but instead next(it)
ok - print(something) 

in commit 020d0a2	python3 compatibility



---

archive/issue_comments_289612.json:
```json
{
    "body": "<div id=\"comment:42\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/737c4e51196298e5bffbc3a79ca5a0311fd83f34\">737c4e5</a></td><td><code>doc</code></td></tr></table>\n",
    "created_at": "2016-06-15T17:34:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289612",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:42"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/737c4e51196298e5bffbc3a79ca5a0311fd83f34">737c4e5</a></td><td><code>doc</code></td></tr></table>




---

archive/issue_comments_289613.json:
```json
{
    "body": "Changed commit from **[`020d0a2`](https://github.com/sagemath/sagetrac-mirror/commit/020d0a2b4739c15815da5209044bac01ce4661db)** to **[`737c4e5`](https://github.com/sagemath/sagetrac-mirror/commit/737c4e51196298e5bffbc3a79ca5a0311fd83f34)**",
    "created_at": "2016-06-15T17:34:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289613",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`020d0a2`](https://github.com/sagemath/sagetrac-mirror/commit/020d0a2b4739c15815da5209044bac01ce4661db)** to **[`737c4e5`](https://github.com/sagemath/sagetrac-mirror/commit/737c4e51196298e5bffbc3a79ca5a0311fd83f34)**



---

archive/issue_comments_289614.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nthere remains two lines with old-style python2 print (in the doctests) see red plugin in latest patchbot report (which also gives two false positives that can be ignored)",
    "created_at": "2016-06-15T18:54:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289614",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:43" align="right">comment:43</div>

there remains two lines with old-style python2 print (in the doctests) see red plugin in latest patchbot report (which also gives two false positives that can be ignored)



---

archive/issue_comments_289615.json:
```json
{
    "body": "<div id=\"comment:44\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/25934b5c05c112eaa6c451499a798ac846ba69e0\">25934b5</a></td><td><code>last print phython3 style</code></td></tr></table>\n",
    "created_at": "2016-06-16T08:57:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289615",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:44"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/25934b5c05c112eaa6c451499a798ac846ba69e0">25934b5</a></td><td><code>last print phython3 style</code></td></tr></table>




---

archive/issue_comments_289616.json:
```json
{
    "body": "Changed commit from **[`737c4e5`](https://github.com/sagemath/sagetrac-mirror/commit/737c4e51196298e5bffbc3a79ca5a0311fd83f34)** to **[`25934b5`](https://github.com/sagemath/sagetrac-mirror/commit/25934b5c05c112eaa6c451499a798ac846ba69e0)**",
    "created_at": "2016-06-16T08:57:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289616",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`737c4e5`](https://github.com/sagemath/sagetrac-mirror/commit/737c4e51196298e5bffbc3a79ca5a0311fd83f34)** to **[`25934b5`](https://github.com/sagemath/sagetrac-mirror/commit/25934b5c05c112eaa6c451499a798ac846ba69e0)**



---

archive/issue_comments_289617.json:
```json
{
    "body": "<div id=\"comment:45\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7db874b48bed1601bbcb115e307cfbfaabb2fd38\">7db874b</a></td><td><code>constructions doc</code></td></tr></table>\n",
    "created_at": "2016-06-16T16:14:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289617",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:45"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7db874b48bed1601bbcb115e307cfbfaabb2fd38">7db874b</a></td><td><code>constructions doc</code></td></tr></table>




---

archive/issue_comments_289618.json:
```json
{
    "body": "Changed commit from **[`25934b5`](https://github.com/sagemath/sagetrac-mirror/commit/25934b5c05c112eaa6c451499a798ac846ba69e0)** to **[`7db874b`](https://github.com/sagemath/sagetrac-mirror/commit/7db874b48bed1601bbcb115e307cfbfaabb2fd38)**",
    "created_at": "2016-06-16T16:14:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289618",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`25934b5`](https://github.com/sagemath/sagetrac-mirror/commit/25934b5c05c112eaa6c451499a798ac846ba69e0)** to **[`7db874b`](https://github.com/sagemath/sagetrac-mirror/commit/7db874b48bed1601bbcb115e307cfbfaabb2fd38)**



---

archive/issue_comments_289619.json:
```json
{
    "body": "<div id=\"comment:46\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0e0d7da551b8539bbb5295d2200dae9bb9497f52\">0e0d7da</a></td><td><code>still print</code></td></tr></table>\n",
    "created_at": "2016-06-16T16:19:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289619",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:46"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0e0d7da551b8539bbb5295d2200dae9bb9497f52">0e0d7da</a></td><td><code>still print</code></td></tr></table>




---

archive/issue_comments_289620.json:
```json
{
    "body": "Changed commit from **[`7db874b`](https://github.com/sagemath/sagetrac-mirror/commit/7db874b48bed1601bbcb115e307cfbfaabb2fd38)** to **[`0e0d7da`](https://github.com/sagemath/sagetrac-mirror/commit/0e0d7da551b8539bbb5295d2200dae9bb9497f52)**",
    "created_at": "2016-06-16T16:19:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289620",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7db874b`](https://github.com/sagemath/sagetrac-mirror/commit/7db874b48bed1601bbcb115e307cfbfaabb2fd38)** to **[`0e0d7da`](https://github.com/sagemath/sagetrac-mirror/commit/0e0d7da551b8539bbb5295d2200dae9bb9497f52)**



---

archive/issue_comments_289621.json:
```json
{
    "body": "Changed commit from **[`0e0d7da`](https://github.com/sagemath/sagetrac-mirror/commit/0e0d7da551b8539bbb5295d2200dae9bb9497f52)** to **[`2d36957`](https://github.com/sagemath/sagetrac-mirror/commit/2d369575b7d45ea77cf0d1c0d3118a7cd9ddd96e)**",
    "created_at": "2016-06-17T08:47:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289621",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0e0d7da`](https://github.com/sagemath/sagetrac-mirror/commit/0e0d7da551b8539bbb5295d2200dae9bb9497f52)** to **[`2d36957`](https://github.com/sagemath/sagetrac-mirror/commit/2d369575b7d45ea77cf0d1c0d3118a7cd9ddd96e)**



---

archive/issue_comments_289622.json:
```json
{
    "body": "<div id=\"comment:47\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2d369575b7d45ea77cf0d1c0d3118a7cd9ddd96e\">2d36957</a></td><td><code>construction</code></td></tr></table>\n",
    "created_at": "2016-06-17T08:47:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289622",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:47"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2d369575b7d45ea77cf0d1c0d3118a7cd9ddd96e">2d36957</a></td><td><code>construction</code></td></tr></table>




---

archive/issue_events_284605.json:
```json
{
    "actor": "https://github.com/sagetrac-dbenielli",
    "created_at": "2016-06-17T08:57:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20154#event-284605"
}
```



---

archive/issue_comments_289623.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\ndoc does not build, and there remains old-style prints, see my patchbot's latest report",
    "created_at": "2016-06-18T17:59:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289623",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:49" align="right">comment:49</div>

doc does not build, and there remains old-style prints, see my patchbot's latest report



---

archive/issue_comments_289624.json:
```json
{
    "body": "<div id=\"comment:50\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c3902577641a8d94f6f03f861968131a5a660657\">c390257</a></td><td><code>still print</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/496bd4a46d3b257afd62e0dd8ab5ea2d91b36d89\">496bd4a</a></td><td><code>doc</code></td></tr></table>\n",
    "created_at": "2016-06-20T07:35:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289624",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:50"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c3902577641a8d94f6f03f861968131a5a660657">c390257</a></td><td><code>still print</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/496bd4a46d3b257afd62e0dd8ab5ea2d91b36d89">496bd4a</a></td><td><code>doc</code></td></tr></table>




---

archive/issue_comments_289625.json:
```json
{
    "body": "Changed commit from **[`2d36957`](https://github.com/sagemath/sagetrac-mirror/commit/2d369575b7d45ea77cf0d1c0d3118a7cd9ddd96e)** to **[`496bd4a`](https://github.com/sagemath/sagetrac-mirror/commit/496bd4a46d3b257afd62e0dd8ab5ea2d91b36d89)**",
    "created_at": "2016-06-20T07:35:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289625",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2d36957`](https://github.com/sagemath/sagetrac-mirror/commit/2d369575b7d45ea77cf0d1c0d3118a7cd9ddd96e)** to **[`496bd4a`](https://github.com/sagemath/sagetrac-mirror/commit/496bd4a46d3b257afd62e0dd8ab5ea2d91b36d89)**



---

archive/issue_comments_289626.json:
```json
{
    "body": "<div id=\"comment:51\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c3aae43ae3d9a3462592759cd2f5f34c6afb9505\">c3aae43</a></td><td><code>doc</code></td></tr></table>\n",
    "created_at": "2016-06-20T10:14:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289626",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:51"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c3aae43ae3d9a3462592759cd2f5f34c6afb9505">c3aae43</a></td><td><code>doc</code></td></tr></table>




---

archive/issue_comments_289627.json:
```json
{
    "body": "Changed commit from **[`496bd4a`](https://github.com/sagemath/sagetrac-mirror/commit/496bd4a46d3b257afd62e0dd8ab5ea2d91b36d89)** to **[`c3aae43`](https://github.com/sagemath/sagetrac-mirror/commit/c3aae43ae3d9a3462592759cd2f5f34c6afb9505)**",
    "created_at": "2016-06-20T10:14:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289627",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`496bd4a`](https://github.com/sagemath/sagetrac-mirror/commit/496bd4a46d3b257afd62e0dd8ab5ea2d91b36d89)** to **[`c3aae43`](https://github.com/sagemath/sagetrac-mirror/commit/c3aae43ae3d9a3462592759cd2f5f34c6afb9505)**



---

archive/issue_comments_289628.json:
```json
{
    "body": "<div id=\"comment:52\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/45d380b0843995b30c47ebdc054f0dd1bdb9cfda\">45d380b</a></td><td><code>doc</code></td></tr></table>\n",
    "created_at": "2016-06-20T11:23:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289628",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:52"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/45d380b0843995b30c47ebdc054f0dd1bdb9cfda">45d380b</a></td><td><code>doc</code></td></tr></table>




---

archive/issue_comments_289629.json:
```json
{
    "body": "Changed commit from **[`c3aae43`](https://github.com/sagemath/sagetrac-mirror/commit/c3aae43ae3d9a3462592759cd2f5f34c6afb9505)** to **[`45d380b`](https://github.com/sagemath/sagetrac-mirror/commit/45d380b0843995b30c47ebdc054f0dd1bdb9cfda)**",
    "created_at": "2016-06-20T11:23:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289629",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c3aae43`](https://github.com/sagemath/sagetrac-mirror/commit/c3aae43ae3d9a3462592759cd2f5f34c6afb9505)** to **[`45d380b`](https://github.com/sagemath/sagetrac-mirror/commit/45d380b0843995b30c47ebdc054f0dd1bdb9cfda)**



---

archive/issue_comments_289630.json:
```json
{
    "body": "Changed commit from **[`45d380b`](https://github.com/sagemath/sagetrac-mirror/commit/45d380b0843995b30c47ebdc054f0dd1bdb9cfda)** to **[`af88066`](https://github.com/sagemath/sagetrac-mirror/commit/af880666e78263ebd519d8c79e4cb2d46cefbeb9)**",
    "created_at": "2016-06-20T13:44:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289630",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`45d380b`](https://github.com/sagemath/sagetrac-mirror/commit/45d380b0843995b30c47ebdc054f0dd1bdb9cfda)** to **[`af88066`](https://github.com/sagemath/sagetrac-mirror/commit/af880666e78263ebd519d8c79e4cb2d46cefbeb9)**



---

archive/issue_comments_289631.json:
```json
{
    "body": "<div id=\"comment:53\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/af880666e78263ebd519d8c79e4cb2d46cefbeb9\">af88066</a></td><td><code>improve tests coverage</code></td></tr></table>\n",
    "created_at": "2016-06-20T13:44:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289631",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:53"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/af880666e78263ebd519d8c79e4cb2d46cefbeb9">af88066</a></td><td><code>improve tests coverage</code></td></tr></table>




---

archive/issue_comments_289632.json:
```json
{
    "body": "<div id=\"comment:54\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d35c1d2fcbb626332e8ad15a1fc98441edb4b0aa\">d35c1d2</a></td><td><code>tests coverage</code></td></tr></table>\n",
    "created_at": "2016-06-21T08:33:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289632",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:54"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d35c1d2fcbb626332e8ad15a1fc98441edb4b0aa">d35c1d2</a></td><td><code>tests coverage</code></td></tr></table>




---

archive/issue_comments_289633.json:
```json
{
    "body": "Changed commit from **[`af88066`](https://github.com/sagemath/sagetrac-mirror/commit/af880666e78263ebd519d8c79e4cb2d46cefbeb9)** to **[`d35c1d2`](https://github.com/sagemath/sagetrac-mirror/commit/d35c1d2fcbb626332e8ad15a1fc98441edb4b0aa)**",
    "created_at": "2016-06-21T08:33:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289633",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`af88066`](https://github.com/sagemath/sagetrac-mirror/commit/af880666e78263ebd519d8c79e4cb2d46cefbeb9)** to **[`d35c1d2`](https://github.com/sagemath/sagetrac-mirror/commit/d35c1d2fcbb626332e8ad15a1fc98441edb4b0aa)**



---

archive/issue_comments_289634.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nHello Dominique, Thierry,\n\nThere are two current problems (see the failing doctests of patchbot):\n\n- the comparison between elements of the free group changed. Before we had the following order on generators `x_0^-1`, `x_0`, `x_1^-1`, `x_1`, ... But with your branch, because you use direct comparison on the Tietze generators, it became `x_n^-1`, `x_{n-1}^-1`, ..., `x_0^-1`, `x_0`, `x_1`, ..., I think the former was preferable. What do you think?\n\n- there are a lot of failure related to the `free_group.py` being moved. You just need to change the occurrence of `sage.groups.free_group` by `sage.groups.free_groups.free_group` everywhere.",
    "created_at": "2016-06-21T20:48:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289634",
    "user": "https://github.com/videlec"
}
```

<div id="comment:55" align="right">comment:55</div>

Hello Dominique, Thierry,

There are two current problems (see the failing doctests of patchbot):

- the comparison between elements of the free group changed. Before we had the following order on generators `x_0^-1`, `x_0`, `x_1^-1`, `x_1`, ... But with your branch, because you use direct comparison on the Tietze generators, it became `x_n^-1`, `x_{n-1}^-1`, ..., `x_0^-1`, `x_0`, `x_1`, ..., I think the former was preferable. What do you think?

- there are a lot of failure related to the `free_group.py` being moved. You just need to change the occurrence of `sage.groups.free_group` by `sage.groups.free_groups.free_group` everywhere.



---

archive/issue_comments_289635.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nNo problem for the order of the generators and their inverses. However the reason for rewriting the `_cmp_` method was that I want the neutral element to be smaller than all other elements of the free group. Which was not the case with the previous version.\n\nI do not know how the previous order was implemented (deep inside GAP ?)",
    "created_at": "2016-06-22T12:47:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289635",
    "user": "https://github.com/sagetrac-coulbois"
}
```

<div id="comment:56" align="right">comment:56</div>

No problem for the order of the generators and their inverses. However the reason for rewriting the `_cmp_` method was that I want the neutral element to be smaller than all other elements of the free group. Which was not the case with the previous version.

I do not know how the previous order was implemented (deep inside GAP ?)



---

archive/issue_comments_289636.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nIn the current Sage, it calls the comparison between the (lib)GAP objects; so my understanding is GAP handles the comparison.",
    "created_at": "2016-06-22T14:56:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289636",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:57" align="right">comment:57</div>

In the current Sage, it calls the comparison between the (lib)GAP objects; so my understanding is GAP handles the comparison.



---

archive/issue_comments_289637.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">comment:58</div>\n\nHello All,\n\nMy last commits do not appear in the ticket comments:\n\n- I did my best to remove failures that appear in the patchchboot log (the make worked on my computer strange behavior?), and improve tests coverage, that seems to be a blocked point.\n\n- For the order generators in my sens the remark from Vincent was about the previous version of free_group but the train_track version because a lot of order changed with the use of free_ group generators of Gap. But maybe, I confuse and the re-writting of _cmp method also change the orther.\n\nBest regards\nDominique\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f060b61d59f90eafb283ef82fc9e1a656c2d2e9d\">f060b61</a></td><td><code>tests failures correction</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7a7da77df0eac29dc6b5783f023336cdaa44f51d\">7a7da77</a></td><td><code>tests failuures</code></td></tr></table>\n",
    "created_at": "2016-06-23T08:25:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289637",
    "user": "https://github.com/sagetrac-dbenielli"
}
```

<div id="comment:58" align="right">comment:58</div>

Hello All,

My last commits do not appear in the ticket comments:

- I did my best to remove failures that appear in the patchchboot log (the make worked on my computer strange behavior?), and improve tests coverage, that seems to be a blocked point.

- For the order generators in my sens the remark from Vincent was about the previous version of free_group but the train_track version because a lot of order changed with the use of free_ group generators of Gap. But maybe, I confuse and the re-writting of _cmp method also change the orther.

Best regards
Dominique

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f060b61d59f90eafb283ef82fc9e1a656c2d2e9d">f060b61</a></td><td><code>tests failures correction</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7a7da77df0eac29dc6b5783f023336cdaa44f51d">7a7da77</a></td><td><code>tests failuures</code></td></tr></table>




---

archive/issue_comments_289638.json:
```json
{
    "body": "Changed commit from **[`d35c1d2`](https://github.com/sagemath/sagetrac-mirror/commit/d35c1d2fcbb626332e8ad15a1fc98441edb4b0aa)** to **[`7a7da77`](https://github.com/sagemath/sagetrac-mirror/commit/7a7da77df0eac29dc6b5783f023336cdaa44f51d)**",
    "created_at": "2016-06-23T08:25:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289638",
    "user": "https://github.com/sagetrac-dbenielli"
}
```

Changed commit from **[`d35c1d2`](https://github.com/sagemath/sagetrac-mirror/commit/d35c1d2fcbb626332e8ad15a1fc98441edb4b0aa)** to **[`7a7da77`](https://github.com/sagemath/sagetrac-mirror/commit/7a7da77df0eac29dc6b5783f023336cdaa44f51d)**



---

archive/issue_comments_289639.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">comment:59</div>\n\nReplying to [@sagetrac-coulbois](#comment:56):\n> No problem for the order of the generators and their inverses. However the reason for rewriting the `_cmp_` method was that I want the neutral element to be smaller than all other elements of the free group. Which was not the case with the previous version.\n\nIt was...\n\n```\nsage: F = FreeGroup(['a','b'])\nsage: a,b = F.gens()\nsage: l = [a,b,~a,~b,a*b,~a*b,F.one()]\nsage: sorted(l)\n[1, a^-1, a, b^-1, b, a^-1*b, a*b]\nsage: F.one() < a\nTrue\nsage: a < F.one()\nFalse\n```\nWhat is wrong with the above? It is first sorted by length and then (almost) lexicographically. This is indeed different from order on lists which is straight lexicographic.\n\n> I do not know how the previous order was implemented (deep inside GAP ?)\n\n \nIt indeed used the gap comparison which seems reasonable to me.",
    "created_at": "2016-06-23T16:48:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289639",
    "user": "https://github.com/videlec"
}
```

<div id="comment:59" align="right">comment:59</div>

Replying to [@sagetrac-coulbois](#comment:56):
> No problem for the order of the generators and their inverses. However the reason for rewriting the `_cmp_` method was that I want the neutral element to be smaller than all other elements of the free group. Which was not the case with the previous version.

It was...

```
sage: F = FreeGroup(['a','b'])
sage: a,b = F.gens()
sage: l = [a,b,~a,~b,a*b,~a*b,F.one()]
sage: sorted(l)
[1, a^-1, a, b^-1, b, a^-1*b, a*b]
sage: F.one() < a
True
sage: a < F.one()
False
```
What is wrong with the above? It is first sorted by length and then (almost) lexicographically. This is indeed different from order on lists which is straight lexicographic.

> I do not know how the previous order was implemented (deep inside GAP ?)

 
It indeed used the gap comparison which seems reasonable to me.



---

archive/issue_comments_289640.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">comment:60</div>\n\nThe ticket test failled status comes from a  a problem with pathboot\nsee\nhttp://ask.sagemath.org/question/33899/doc-test-fail-in-patchboot-and-not-on-my-computer/",
    "created_at": "2016-07-21T09:22:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289640",
    "user": "https://github.com/sagetrac-dbenielli"
}
```

<div id="comment:60" align="right">comment:60</div>

The ticket test failled status comes from a  a problem with pathboot
see
http://ask.sagemath.org/question/33899/doc-test-fail-in-patchboot-and-not-on-my-computer/



---

archive/issue_comments_289641.json:
```json
{
    "body": "<div id=\"comment:61\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c9da8b062929c663c865dbccd254790be7678c7f\">c9da8b0</a></td><td><code>Merge branch 'public/train-track' in 7.3.b9</code></td></tr></table>\n",
    "created_at": "2016-07-28T12:38:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289641",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:61"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c9da8b062929c663c865dbccd254790be7678c7f">c9da8b0</a></td><td><code>Merge branch 'public/train-track' in 7.3.b9</code></td></tr></table>




---

archive/issue_comments_289642.json:
```json
{
    "body": "Changed commit from **[`7a7da77`](https://github.com/sagemath/sagetrac-mirror/commit/7a7da77df0eac29dc6b5783f023336cdaa44f51d)** to **[`c9da8b0`](https://github.com/sagemath/sagetrac-mirror/commit/c9da8b062929c663c865dbccd254790be7678c7f)**",
    "created_at": "2016-07-28T12:38:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289642",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7a7da77`](https://github.com/sagemath/sagetrac-mirror/commit/7a7da77df0eac29dc6b5783f023336cdaa44f51d)** to **[`c9da8b0`](https://github.com/sagemath/sagetrac-mirror/commit/c9da8b062929c663c865dbccd254790be7678c7f)**



---

archive/issue_comments_289643.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">comment:62</div>\n\ncoverage is not yet 100%",
    "created_at": "2016-07-28T18:21:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289643",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:62" align="right">comment:62</div>

coverage is not yet 100%



---

archive/issue_events_284606.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-07-28T18:21:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20154#event-284606"
}
```



---

archive/issue_events_284607.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-07-28T18:21:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20154#event-284607"
}
```



---

archive/issue_comments_289644.json:
```json
{
    "body": "Changed commit from **[`c9da8b0`](https://github.com/sagemath/sagetrac-mirror/commit/c9da8b062929c663c865dbccd254790be7678c7f)** to **[`857ff2c`](https://github.com/sagemath/sagetrac-mirror/commit/857ff2ccd8cc8f743dbd11c55437ae78b2c02c51)**",
    "created_at": "2016-07-29T13:34:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289644",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c9da8b0`](https://github.com/sagemath/sagetrac-mirror/commit/c9da8b062929c663c865dbccd254790be7678c7f)** to **[`857ff2c`](https://github.com/sagemath/sagetrac-mirror/commit/857ff2ccd8cc8f743dbd11c55437ae78b2c02c51)**



---

archive/issue_comments_289645.json:
```json
{
    "body": "<div id=\"comment:63\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2c332df8fb8954c4e2221081a0bb544cfa0aae49\">2c332df</a></td><td><code>test coverage</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/857ff2ccd8cc8f743dbd11c55437ae78b2c02c51\">857ff2c</a></td><td><code>Merge branch 'public/train-track' of git://trac.sagemath.org/sage into public/train-track</code></td></tr></table>\n",
    "created_at": "2016-07-29T13:34:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289645",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:63"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2c332df8fb8954c4e2221081a0bb544cfa0aae49">2c332df</a></td><td><code>test coverage</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/857ff2ccd8cc8f743dbd11c55437ae78b2c02c51">857ff2c</a></td><td><code>Merge branch 'public/train-track' of git://trac.sagemath.org/sage into public/train-track</code></td></tr></table>




---

archive/issue_comments_289646.json:
```json
{
    "body": "<div id=\"comment:64\" align=\"right\">comment:64</div>\n\nThe patchboot is now on test passed (TestsPassed 7.3.rc0 Ubuntu/14.04/x86_64/3.13.0-92-generic/librae), please review our work on train track for its intergration in sage",
    "created_at": "2016-09-01T10:02:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289646",
    "user": "https://github.com/sagetrac-dbenielli"
}
```

<div id="comment:64" align="right">comment:64</div>

The patchboot is now on test passed (TestsPassed 7.3.rc0 Ubuntu/14.04/x86_64/3.13.0-92-generic/librae), please review our work on train track for its intergration in sage



---

archive/issue_events_284608.json:
```json
{
    "actor": "https://github.com/sagetrac-dbenielli",
    "created_at": "2016-09-01T10:02:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20154#event-284608"
}
```



---

archive/issue_events_284609.json:
```json
{
    "actor": "https://github.com/sagetrac-dbenielli",
    "created_at": "2016-09-01T10:02:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20154#event-284609"
}
```



---

archive/issue_comments_289647.json:
```json
{
    "body": "<div id=\"comment:65\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8f9c87ceb239c1794029428eb01150cf372a310e\">8f9c87c</a></td><td><code>try foreign latex failure</code></td></tr></table>\n",
    "created_at": "2016-09-07T11:48:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289647",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:65"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8f9c87ceb239c1794029428eb01150cf372a310e">8f9c87c</a></td><td><code>try foreign latex failure</code></td></tr></table>




---

archive/issue_comments_289648.json:
```json
{
    "body": "Changed commit from **[`857ff2c`](https://github.com/sagemath/sagetrac-mirror/commit/857ff2ccd8cc8f743dbd11c55437ae78b2c02c51)** to **[`8f9c87c`](https://github.com/sagemath/sagetrac-mirror/commit/8f9c87ceb239c1794029428eb01150cf372a310e)**",
    "created_at": "2016-09-07T11:48:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289648",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`857ff2c`](https://github.com/sagemath/sagetrac-mirror/commit/857ff2ccd8cc8f743dbd11c55437ae78b2c02c51)** to **[`8f9c87c`](https://github.com/sagemath/sagetrac-mirror/commit/8f9c87ceb239c1794029428eb01150cf372a310e)**



---

archive/issue_comments_289649.json:
```json
{
    "body": "<div id=\"comment:66\" align=\"right\">comment:66</div>\n\nI do still plan on reviewing this, but I need some things to settle down first before I can do a large-scale code review.",
    "created_at": "2016-09-07T14:13:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289649",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:66" align="right">comment:66</div>

I do still plan on reviewing this, but I need some things to settle down first before I can do a large-scale code review.



---

archive/issue_comments_289650.json:
```json
{
    "body": "<div id=\"comment:67\" align=\"right\">comment:67</div>\n\nwhat about [comment:59]? I see no need to change `_cmp_`.",
    "created_at": "2016-09-08T20:03:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289650",
    "user": "https://github.com/videlec"
}
```

<div id="comment:67" align="right">comment:67</div>

what about [comment:59]? I see no need to change `_cmp_`.



---

archive/issue_comments_289651.json:
```json
{
    "body": "<div id=\"comment:68\" align=\"right\">comment:68</div>\n\n`reference needed` is not a valid reference ;-)",
    "created_at": "2016-09-08T20:04:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289651",
    "user": "https://github.com/videlec"
}
```

<div id="comment:68" align="right">comment:68</div>

`reference needed` is not a valid reference ;-)



---

archive/issue_comments_289652.json:
```json
{
    "body": "<div id=\"comment:69\" align=\"right\">comment:69</div>\n\nIn the documentation of almost all examples of automorphism the information is duplicated as in\n\n```\nThis is a pseudo-Anosov mapping class of the 5-punctured\nsphere. Thus this is not an iwip. However, its representative\non the rose in train-track.\n\nOUTPUT:\n\nan Automorphism of F_4 given in [BH] see also [Kapovich].\nThis is a pseudo-Anosov mapping class of the 5-punctured     <-- exact copy!\nsphere. Thus this is not an iwip. However, its representative\non the rose in train-track.\n```",
    "created_at": "2016-09-08T20:06:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289652",
    "user": "https://github.com/videlec"
}
```

<div id="comment:69" align="right">comment:69</div>

In the documentation of almost all examples of automorphism the information is duplicated as in

```
This is a pseudo-Anosov mapping class of the 5-punctured
sphere. Thus this is not an iwip. However, its representative
on the rose in train-track.

OUTPUT:

an Automorphism of F_4 given in [BH] see also [Kapovich].
This is a pseudo-Anosov mapping class of the 5-punctured     <-- exact copy!
sphere. Thus this is not an iwip. However, its representative
on the rose in train-track.
```



---

archive/issue_comments_289653.json:
```json
{
    "body": "<div id=\"comment:70\" align=\"right\">comment:70</div>\n\nReplying to [@videlec](#comment:67):\n> what about [comment:59]? I see no need to change `_cmp_`.\n\nthe rewriting of `_cmp_` order leads to some modifications outside free_group for tests, but I did  changes, so I think is ok unless if there are some  GAP reasons.",
    "created_at": "2016-09-09T08:13:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289653",
    "user": "https://github.com/sagetrac-dbenielli"
}
```

<div id="comment:70" align="right">comment:70</div>

Replying to [@videlec](#comment:67):
> what about [comment:59]? I see no need to change `_cmp_`.

the rewriting of `_cmp_` order leads to some modifications outside free_group for tests, but I did  changes, so I think is ok unless if there are some  GAP reasons.



---

archive/issue_comments_289654.json:
```json
{
    "body": "<div id=\"comment:71\" align=\"right\">comment:71</div>\n\nReplying to [@sagetrac-dbenielli](#comment:70):\n> Replying to [@videlec](#comment:67):\n> > what about [comment:59]? I see no need to change `_cmp_`.\n\n> \n> the rewriting of `_cmp_` order leads to some modifications outside free_group for tests, but I did  changes, so I think is ok unless if there are some  GAP reasons.\n\nThis is precisely my question: why is `_cmp_` changed at all?",
    "created_at": "2016-09-09T11:47:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289654",
    "user": "https://github.com/videlec"
}
```

<div id="comment:71" align="right">comment:71</div>

Replying to [@sagetrac-dbenielli](#comment:70):
> Replying to [@videlec](#comment:67):
> > what about [comment:59]? I see no need to change `_cmp_`.

> 
> the rewriting of `_cmp_` order leads to some modifications outside free_group for tests, but I did  changes, so I think is ok unless if there are some  GAP reasons.

This is precisely my question: why is `_cmp_` changed at all?



---

archive/issue_comments_289655.json:
```json
{
    "body": "Changed commit from **[`8f9c87c`](https://github.com/sagemath/sagetrac-mirror/commit/8f9c87ceb239c1794029428eb01150cf372a310e)** to **[`a13b02d`](https://github.com/sagemath/sagetrac-mirror/commit/a13b02db866233ef10c92a5670acf4176dc114b7)**",
    "created_at": "2016-10-05T13:07:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289655",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8f9c87c`](https://github.com/sagemath/sagetrac-mirror/commit/8f9c87ceb239c1794029428eb01150cf372a310e)** to **[`a13b02d`](https://github.com/sagemath/sagetrac-mirror/commit/a13b02db866233ef10c92a5670acf4176dc114b7)**



---

archive/issue_comments_289656.json:
```json
{
    "body": "<div id=\"comment:72\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a13b02db866233ef10c92a5670acf4176dc114b7\">a13b02d</a></td><td><code>remove _cmp</code></td></tr></table>\n",
    "created_at": "2016-10-05T13:07:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289656",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:72"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a13b02db866233ef10c92a5670acf4176dc114b7">a13b02d</a></td><td><code>remove _cmp</code></td></tr></table>




---

archive/issue_events_284610.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2016-10-09T12:40:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20154#event-284610"
}
```



---

archive/issue_events_284611.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2016-10-09T12:40:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20154#event-284611"
}
```



---

archive/issue_comments_289657.json:
```json
{
    "body": "<div id=\"comment:73\" align=\"right\">comment:73</div>\n\nHello,\n\nCommenting is not removing. More importantly, you have to revert all the changes you have done in previous commits related to this change of comparison order.",
    "created_at": "2016-10-09T12:40:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289657",
    "user": "https://github.com/videlec"
}
```

<div id="comment:73" align="right">comment:73</div>

Hello,

Commenting is not removing. More importantly, you have to revert all the changes you have done in previous commits related to this change of comparison order.



---

archive/issue_comments_289658.json:
```json
{
    "body": "Changed commit from **[`a13b02d`](https://github.com/sagemath/sagetrac-mirror/commit/a13b02db866233ef10c92a5670acf4176dc114b7)** to **[`cd64177`](https://github.com/sagemath/sagetrac-mirror/commit/cd641776132ac1cc90be7e49e717c0101f9042d5)**",
    "created_at": "2016-10-10T11:16:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289658",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a13b02d`](https://github.com/sagemath/sagetrac-mirror/commit/a13b02db866233ef10c92a5670acf4176dc114b7)** to **[`cd64177`](https://github.com/sagemath/sagetrac-mirror/commit/cd641776132ac1cc90be7e49e717c0101f9042d5)**



---

archive/issue_comments_289659.json:
```json
{
    "body": "<div id=\"comment:74\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cd641776132ac1cc90be7e49e717c0101f9042d5\">cd64177</a></td><td><code>remove __cmp and tests induced</code></td></tr></table>\n",
    "created_at": "2016-10-10T11:16:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289659",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:74"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cd641776132ac1cc90be7e49e717c0101f9042d5">cd64177</a></td><td><code>remove __cmp and tests induced</code></td></tr></table>




---

archive/issue_events_284612.json:
```json
{
    "actor": "https://github.com/sagetrac-coulbois",
    "created_at": "2016-10-10T11:31:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20154#event-284612"
}
```



---

archive/issue_events_284613.json:
```json
{
    "actor": "https://github.com/sagetrac-coulbois",
    "created_at": "2016-10-10T11:31:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20154#event-284613"
}
```



---

archive/issue_comments_289660.json:
```json
{
    "body": "<div id=\"comment:75\" align=\"right\">comment:75</div>\n\nWe revert to the `_cmp_` method of FreeGroupElement to that of the GAP-wrapper (meaning that we removed the `_cmp_` method from the free_groups/free_group.py file). Warning: this comparison is undocumented and it seems that it first compares the length of reduced words and then sort words of equal length in alphabetic order. In our train-track package it is mainly used while running the Nielsen-Whitehead algorithm to invert automorphisms (see FreeGroupMorphism.invert()). The order wrapped from GAP is satisfactory in this purpose.\n\nWe revert the doc-tests (that we had previously modified) from sage/groups/finitely_presented.py which use this order.\n\nAll doc-tests pass. \n\nWe now wait for other things to improve according to reviewers.",
    "created_at": "2016-10-10T11:31:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289660",
    "user": "https://github.com/sagetrac-coulbois"
}
```

<div id="comment:75" align="right">comment:75</div>

We revert to the `_cmp_` method of FreeGroupElement to that of the GAP-wrapper (meaning that we removed the `_cmp_` method from the free_groups/free_group.py file). Warning: this comparison is undocumented and it seems that it first compares the length of reduced words and then sort words of equal length in alphabetic order. In our train-track package it is mainly used while running the Nielsen-Whitehead algorithm to invert automorphisms (see FreeGroupMorphism.invert()). The order wrapped from GAP is satisfactory in this purpose.

We revert the doc-tests (that we had previously modified) from sage/groups/finitely_presented.py which use this order.

All doc-tests pass. 

We now wait for other things to improve according to reviewers.



---

archive/issue_comments_289661.json:
```json
{
    "body": "<div id=\"comment:76\" align=\"right\">comment:76</div>\n\nHi Thierry, Hi Dominique,\n\nThe behavior is certainly documented in GAP. It might be worth to also have it (and test it) inside Sage. I am looking at the other pieces of your code now.\n\nVincent",
    "created_at": "2016-10-10T15:16:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289661",
    "user": "https://github.com/videlec"
}
```

<div id="comment:76" align="right">comment:76</div>

Hi Thierry, Hi Dominique,

The behavior is certainly documented in GAP. It might be worth to also have it (and test it) inside Sage. I am looking at the other pieces of your code now.

Vincent



---

archive/issue_comments_289662.json:
```json
{
    "body": "<div id=\"comment:77\" align=\"right\">comment:77</div>\n\nDo you really need `compare_letters` ? Recall that `cmp(...)` is going to disappear in python3.",
    "created_at": "2016-10-11T19:07:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289662",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:77" align="right">comment:77</div>

Do you really need `compare_letters` ? Recall that `cmp(...)` is going to disappear in python3.



---

archive/issue_comments_289663.json:
```json
{
    "body": "<div id=\"comment:78\" align=\"right\">comment:78</div>\n\nYou mean the compare_letters in AlphabetWithInverses ?\n\nWell, we really need to be carefull on the order of the alphabet. And I don't see a way around that. We need to have alphabets where each letter comes with an inverse, we need to be able to add and remove letters. \n\nI agree that this is inspired by old versions of Words and Alphabet which now have disappeared from Sage. \n\nThe AlphabetWithInverses is now only used by our InverseGraph (and not by FreeGroup), and we want to strictly comply with Serre's definition (see Arbres, amlagames, SL2, aka Trees).",
    "created_at": "2016-10-12T16:13:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289663",
    "user": "https://github.com/sagetrac-coulbois"
}
```

<div id="comment:78" align="right">comment:78</div>

You mean the compare_letters in AlphabetWithInverses ?

Well, we really need to be carefull on the order of the alphabet. And I don't see a way around that. We need to have alphabets where each letter comes with an inverse, we need to be able to add and remove letters. 

I agree that this is inspired by old versions of Words and Alphabet which now have disappeared from Sage. 

The AlphabetWithInverses is now only used by our InverseGraph (and not by FreeGroup), and we want to strictly comply with Serre's definition (see Arbres, amlagames, SL2, aka Trees).



---

archive/issue_comments_289664.json:
```json
{
    "body": "<div id=\"comment:79\" align=\"right\">comment:79</div>\n\nthere is only one `compare_letters` in the git branch, and it seems not to be used anywhere (only appears in its own doc)\n\nsorting should now generally be done using the keyword `key=` instead of `cmp=`",
    "created_at": "2016-10-12T16:27:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289664",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:79" align="right">comment:79</div>

there is only one `compare_letters` in the git branch, and it seems not to be used anywhere (only appears in its own doc)

sorting should now generally be done using the keyword `key=` instead of `cmp=`



---

archive/issue_comments_289665.json:
```json
{
    "body": "<div id=\"comment:80\" align=\"right\">comment:80</div>\n\nThe `compare_letters` might be indirectly used in some word algorithm (though I doubt it).",
    "created_at": "2016-10-12T16:58:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289665",
    "user": "https://github.com/videlec"
}
```

<div id="comment:80" align="right">comment:80</div>

The `compare_letters` might be indirectly used in some word algorithm (though I doubt it).



---

archive/issue_comments_289666.json:
```json
{
    "body": "<div id=\"comment:81\" align=\"right\">comment:81</div>\n\nthere is no `compare_letters` anywhere else in sage\n\n(git grep \"compare_letters\")",
    "created_at": "2016-10-12T17:01:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289666",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:81" align="right">comment:81</div>

there is no `compare_letters` anywhere else in sage

(git grep "compare_letters")



---

archive/issue_comments_289667.json:
```json
{
    "body": "<div id=\"comment:82\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/653a2510c2077063e1e0824d247d5d8852792a7a\">653a251</a></td><td><code>compare_letters() removed as it is never used</code></td></tr></table>\n",
    "created_at": "2016-10-28T16:26:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289667",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:82"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/653a2510c2077063e1e0824d247d5d8852792a7a">653a251</a></td><td><code>compare_letters() removed as it is never used</code></td></tr></table>




---

archive/issue_comments_289668.json:
```json
{
    "body": "Changed commit from **[`cd64177`](https://github.com/sagemath/sagetrac-mirror/commit/cd641776132ac1cc90be7e49e717c0101f9042d5)** to **[`653a251`](https://github.com/sagemath/sagetrac-mirror/commit/653a2510c2077063e1e0824d247d5d8852792a7a)**",
    "created_at": "2016-10-28T16:26:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289668",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`cd64177`](https://github.com/sagemath/sagetrac-mirror/commit/cd641776132ac1cc90be7e49e717c0101f9042d5)** to **[`653a251`](https://github.com/sagemath/sagetrac-mirror/commit/653a2510c2077063e1e0824d247d5d8852792a7a)**



---

archive/issue_comments_289669.json:
```json
{
    "body": "<div id=\"comment:83\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ae9a96fbbbb800016ca9b0c13e7b77ced98dbab5\">ae9a96f</a></td><td><code>Minor correction in the doc of FreeGroupAutomorphism.train_track() (due to my French mother tongue, more than two meant two or more + correction in the doc of TrainTrackMap.stabilize() to be more clear that the output is the folding map (not the train-track map) + one correction for a case where that method returned False instead of the identity map</code></td></tr></table>\n",
    "created_at": "2016-11-02T17:26:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289669",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:83"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ae9a96fbbbb800016ca9b0c13e7b77ced98dbab5">ae9a96f</a></td><td><code>Minor correction in the doc of FreeGroupAutomorphism.train_track() (due to my French mother tongue, more than two meant two or more + correction in the doc of TrainTrackMap.stabilize() to be more clear that the output is the folding map (not the train-track map) + one correction for a case where that method returned False instead of the identity map</code></td></tr></table>




---

archive/issue_comments_289670.json:
```json
{
    "body": "Changed commit from **[`653a251`](https://github.com/sagemath/sagetrac-mirror/commit/653a2510c2077063e1e0824d247d5d8852792a7a)** to **[`ae9a96f`](https://github.com/sagemath/sagetrac-mirror/commit/ae9a96fbbbb800016ca9b0c13e7b77ced98dbab5)**",
    "created_at": "2016-11-02T17:26:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289670",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`653a251`](https://github.com/sagemath/sagetrac-mirror/commit/653a2510c2077063e1e0824d247d5d8852792a7a)** to **[`ae9a96f`](https://github.com/sagemath/sagetrac-mirror/commit/ae9a96fbbbb800016ca9b0c13e7b77ced98dbab5)**



---

archive/issue_comments_289671.json:
```json
{
    "body": "<div id=\"comment:84\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d92640a431ce2ef957ca16b4113eb6abf986230d\">d92640a</a></td><td><code>Merge branch 'public/train-track' in 7.5.b2</code></td></tr></table>\n",
    "created_at": "2016-11-10T21:08:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289671",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:84"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d92640a431ce2ef957ca16b4113eb6abf986230d">d92640a</a></td><td><code>Merge branch 'public/train-track' in 7.5.b2</code></td></tr></table>




---

archive/issue_comments_289672.json:
```json
{
    "body": "Changed commit from **[`ae9a96f`](https://github.com/sagemath/sagetrac-mirror/commit/ae9a96fbbbb800016ca9b0c13e7b77ced98dbab5)** to **[`d92640a`](https://github.com/sagemath/sagetrac-mirror/commit/d92640a431ce2ef957ca16b4113eb6abf986230d)**",
    "created_at": "2016-11-10T21:08:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289672",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ae9a96f`](https://github.com/sagemath/sagetrac-mirror/commit/ae9a96fbbbb800016ca9b0c13e7b77ced98dbab5)** to **[`d92640a`](https://github.com/sagemath/sagetrac-mirror/commit/d92640a431ce2ef957ca16b4113eb6abf986230d)**



---

archive/issue_comments_289673.json:
```json
{
    "body": "<div id=\"comment:85\" align=\"right\">comment:85</div>\n\ndoes not apply",
    "created_at": "2016-12-12T16:43:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289673",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:85" align="right">comment:85</div>

does not apply



---

archive/issue_events_284614.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-12-12T16:43:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20154#event-284614"
}
```



---

archive/issue_events_284615.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-12-12T16:43:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20154#event-284615"
}
```



---

archive/issue_comments_289674.json:
```json
{
    "body": "<div id=\"comment:86\" align=\"right\">comment:86</div>\n\nI sent a question to https://ask.sagemath.org/question/35988/patchboot-coverage-failure-and-review/\nbecause I do not know what to do to fix it.\n\n\nHi sage team, My ticket #20154: train-tracks in public/train-track, is in need-work status, I guess the issue comes from coverage. But I do not see the fie ext/interpreters/wrapper_cc.pyx in my distribution , and for me this file doesn't belong to the ticket (that was true previously whent the patchboot works). I have absolutly no idea how to fix it, could you please tell me what to do to fix it and succes the review.\n\nThanks Dominique\n\n========== coverage ========== git checkout patchbot/ticket_merged Already on 'patchbot/ticket_merged' Missing doctests in ext/interpreters/wrapper_cc.pyx: 0 / 2 = 0% \nFull doctests in groups/free_groups/convex_core.py: 18 / 18 = 100% \nFull doctests in groups/free_groups/free_group.py: 22 / 22 = 100% \nFull doctests in groups/free_groups/free_group_automorphism.py: 61 / 61 = 100% \nFull doctests in groups/free_groups/graph_map.py: 18 / 18 = 100% \nFull doctests in groups/free_groups/graph_self_map.py: 41 / 41 = 100% \nFull doctests in groups/free_groups/inverse_alphabet.py: 24 / 24 = 100% \nFull doctests in groups/free_groups/inverse_graph.py: 40 / 40 = 100% \nFull doctests in groups/free_groups/marked_graph.py: 16 / 16 = 100% \nFull doctests in groups/free_groups/test_train_track.py: 4 / 4 = 100% \nFull doctests in groups/free_groups/train_track_map.py: 23 / 23 = 100% \nCoverage went from 41463 / 43258 = 95.850% to 41711 / 43508 = 95.870%",
    "created_at": "2016-12-12T18:30:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289674",
    "user": "https://github.com/sagetrac-dbenielli"
}
```

<div id="comment:86" align="right">comment:86</div>

I sent a question to https://ask.sagemath.org/question/35988/patchboot-coverage-failure-and-review/
because I do not know what to do to fix it.


Hi sage team, My ticket #20154: train-tracks in public/train-track, is in need-work status, I guess the issue comes from coverage. But I do not see the fie ext/interpreters/wrapper_cc.pyx in my distribution , and for me this file doesn't belong to the ticket (that was true previously whent the patchboot works). I have absolutly no idea how to fix it, could you please tell me what to do to fix it and succes the review.

Thanks Dominique

========== coverage ========== git checkout patchbot/ticket_merged Already on 'patchbot/ticket_merged' Missing doctests in ext/interpreters/wrapper_cc.pyx: 0 / 2 = 0% 
Full doctests in groups/free_groups/convex_core.py: 18 / 18 = 100% 
Full doctests in groups/free_groups/free_group.py: 22 / 22 = 100% 
Full doctests in groups/free_groups/free_group_automorphism.py: 61 / 61 = 100% 
Full doctests in groups/free_groups/graph_map.py: 18 / 18 = 100% 
Full doctests in groups/free_groups/graph_self_map.py: 41 / 41 = 100% 
Full doctests in groups/free_groups/inverse_alphabet.py: 24 / 24 = 100% 
Full doctests in groups/free_groups/inverse_graph.py: 40 / 40 = 100% 
Full doctests in groups/free_groups/marked_graph.py: 16 / 16 = 100% 
Full doctests in groups/free_groups/test_train_track.py: 4 / 4 = 100% 
Full doctests in groups/free_groups/train_track_map.py: 23 / 23 = 100% 
Coverage went from 41463 / 43258 = 95.850% to 41711 / 43508 = 95.870%



---

archive/issue_comments_289675.json:
```json
{
    "body": "<div id=\"comment:87\" align=\"right\">comment:87</div>\n\nThis kind of patchbot report you can safely ignore. The patchbot is not perfect, and sometimes gives wrong failures. Patchbot is only here to help, not to be taken as an absolute requirement.\n\nThe problem now is that you need to rebase your branch on the latest beta, because there is a conflict (this make the branch red at top of the present page)",
    "created_at": "2016-12-12T19:06:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289675",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:87" align="right">comment:87</div>

This kind of patchbot report you can safely ignore. The patchbot is not perfect, and sometimes gives wrong failures. Patchbot is only here to help, not to be taken as an absolute requirement.

The problem now is that you need to rebase your branch on the latest beta, because there is a conflict (this make the branch red at top of the present page)



---

archive/issue_comments_289676.json:
```json
{
    "body": "<div id=\"comment:88\"></div>\n\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3bd8e1c730421c130b81911f0cb84707c92ae332\">3bd8e1c</a></td><td><code>tests failuures</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/143eb019c455f71440f511f0997f8f445cc4b47a\">143eb01</a></td><td><code>test coverage</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d53d06a72a9eb26a722cc9ea36de49ee40bc8ff1\">d53d06a</a></td><td><code>try foreign latex failure</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8551333380e24145563395535a81584d9a64d301\">8551333</a></td><td><code>remove _cmp</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6774b7fe17d1d2ad79ea952abcbc904dab7fe176\">6774b7f</a></td><td><code>remove __cmp and tests induced</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/283c70295a0e970ef77f89f61f86fb70f488aba8\">283c702</a></td><td><code>compare_letters() removed as it is never used</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fd8ddec3c768140efecea60ef3e507b423a74341\">fd8ddec</a></td><td><code>Minor correction in the doc of FreeGroupAutomorphism.train_track() (due to my French mother tongue, more than two meant two or more + correction in the doc of TrainTrackMap.stabilize() to be more clear that the output is the folding map (not the train-track map) + one correction for a case where that method returned False instead of the identity map</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c060ab17f3dd6afbcaae35a4896db76479bacb58\">c060ab1</a></td><td><code>small typo</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c4a23098ec1a71e3cc9c122d1e4ea276dee6a2f5\">c4a2309</a></td><td><code>fusion</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/48df86fc72846c91a5e1082b6cbf4d1ad1fd746b\">48df86f</a></td><td><code>merge bug</code></td></tr></table>\n",
    "created_at": "2016-12-14T08:52:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289676",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:88"></div>

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3bd8e1c730421c130b81911f0cb84707c92ae332">3bd8e1c</a></td><td><code>tests failuures</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/143eb019c455f71440f511f0997f8f445cc4b47a">143eb01</a></td><td><code>test coverage</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d53d06a72a9eb26a722cc9ea36de49ee40bc8ff1">d53d06a</a></td><td><code>try foreign latex failure</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8551333380e24145563395535a81584d9a64d301">8551333</a></td><td><code>remove _cmp</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6774b7fe17d1d2ad79ea952abcbc904dab7fe176">6774b7f</a></td><td><code>remove __cmp and tests induced</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/283c70295a0e970ef77f89f61f86fb70f488aba8">283c702</a></td><td><code>compare_letters() removed as it is never used</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fd8ddec3c768140efecea60ef3e507b423a74341">fd8ddec</a></td><td><code>Minor correction in the doc of FreeGroupAutomorphism.train_track() (due to my French mother tongue, more than two meant two or more + correction in the doc of TrainTrackMap.stabilize() to be more clear that the output is the folding map (not the train-track map) + one correction for a case where that method returned False instead of the identity map</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c060ab17f3dd6afbcaae35a4896db76479bacb58">c060ab1</a></td><td><code>small typo</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c4a23098ec1a71e3cc9c122d1e4ea276dee6a2f5">c4a2309</a></td><td><code>fusion</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/48df86fc72846c91a5e1082b6cbf4d1ad1fd746b">48df86f</a></td><td><code>merge bug</code></td></tr></table>




---

archive/issue_comments_289677.json:
```json
{
    "body": "Changed commit from **[`d92640a`](https://github.com/sagemath/sagetrac-mirror/commit/d92640a431ce2ef957ca16b4113eb6abf986230d)** to **[`48df86f`](https://github.com/sagemath/sagetrac-mirror/commit/48df86fc72846c91a5e1082b6cbf4d1ad1fd746b)**",
    "created_at": "2016-12-14T08:52:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289677",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d92640a`](https://github.com/sagemath/sagetrac-mirror/commit/d92640a431ce2ef957ca16b4113eb6abf986230d)** to **[`48df86f`](https://github.com/sagemath/sagetrac-mirror/commit/48df86fc72846c91a5e1082b6cbf4d1ad1fd746b)**



---

archive/issue_comments_289678.json:
```json
{
    "body": "Changed commit from **[`48df86f`](https://github.com/sagemath/sagetrac-mirror/commit/48df86fc72846c91a5e1082b6cbf4d1ad1fd746b)** to **[`514cff1`](https://github.com/sagemath/sagetrac-mirror/commit/514cff1e78b99abdb4300362e8828e76cc5f94ac)**",
    "created_at": "2016-12-15T10:16:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289678",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`48df86f`](https://github.com/sagemath/sagetrac-mirror/commit/48df86fc72846c91a5e1082b6cbf4d1ad1fd746b)** to **[`514cff1`](https://github.com/sagemath/sagetrac-mirror/commit/514cff1e78b99abdb4300362e8828e76cc5f94ac)**



---

archive/issue_comments_289679.json:
```json
{
    "body": "<div id=\"comment:89\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/514cff1e78b99abdb4300362e8828e76cc5f94ac\">514cff1</a></td><td><code>correction for python3</code></td></tr></table>\n",
    "created_at": "2016-12-15T10:16:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289679",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:89"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/514cff1e78b99abdb4300362e8828e76cc5f94ac">514cff1</a></td><td><code>correction for python3</code></td></tr></table>




---

archive/issue_comments_289680.json:
```json
{
    "body": "Changed commit from **[`514cff1`](https://github.com/sagemath/sagetrac-mirror/commit/514cff1e78b99abdb4300362e8828e76cc5f94ac)** to **[`d9256f7`](https://github.com/sagemath/sagetrac-mirror/commit/d9256f7d18063828a66c3a782698b5a9e389d446)**",
    "created_at": "2017-01-27T17:36:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289680",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`514cff1`](https://github.com/sagemath/sagetrac-mirror/commit/514cff1e78b99abdb4300362e8828e76cc5f94ac)** to **[`d9256f7`](https://github.com/sagemath/sagetrac-mirror/commit/d9256f7d18063828a66c3a782698b5a9e389d446)**



---

archive/issue_comments_289681.json:
```json
{
    "body": "<div id=\"comment:90\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d9256f7d18063828a66c3a782698b5a9e389d446\">d9256f7</a></td><td><code>nothing</code></td></tr></table>\n",
    "created_at": "2017-01-27T17:36:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289681",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:90"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d9256f7d18063828a66c3a782698b5a9e389d446">d9256f7</a></td><td><code>nothing</code></td></tr></table>




---

archive/issue_events_284616.json:
```json
{
    "actor": "https://github.com/sagetrac-dbenielli",
    "created_at": "2017-01-31T18:19:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20154#event-284616"
}
```



---

archive/issue_events_284617.json:
```json
{
    "actor": "https://github.com/sagetrac-dbenielli",
    "created_at": "2017-01-31T18:19:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20154#event-284617"
}
```



---

archive/issue_comments_289682.json:
```json
{
    "body": "<div id=\"comment:91\" align=\"right\">comment:91</div>\n\nI think I have corrected all python3 troubles, even though  the patchboot did  not give new result since 2016-12-14, I think it ok for review",
    "created_at": "2017-01-31T18:19:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289682",
    "user": "https://github.com/sagetrac-dbenielli"
}
```

<div id="comment:91" align="right">comment:91</div>

I think I have corrected all python3 troubles, even though  the patchboot did  not give new result since 2016-12-14, I think it ok for review



---

archive/issue_comments_289683.json:
```json
{
    "body": "<div id=\"comment:92\" align=\"right\">comment:92</div>\n\nBecause you are not yet trusted, I have to launch my personal bot manually. \n\nResult:\n\n* some failing doctests\n* some bad unicode character (maybe add uft8 declaration at top of file ?)\n* need to replace <type 'str'> by <... 'str'> for python3 compatibility\n\nsee patchbot report for more",
    "created_at": "2017-02-02T16:50:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289683",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:92" align="right">comment:92</div>

Because you are not yet trusted, I have to launch my personal bot manually. 

Result:

* some failing doctests
* some bad unicode character (maybe add uft8 declaration at top of file ?)
* need to replace <type 'str'> by <... 'str'> for python3 compatibility

see patchbot report for more



---

archive/issue_comments_289684.json:
```json
{
    "body": "Changed commit from **[`d9256f7`](https://github.com/sagemath/sagetrac-mirror/commit/d9256f7d18063828a66c3a782698b5a9e389d446)** to **[`9f3c92f`](https://github.com/sagemath/sagetrac-mirror/commit/9f3c92f786a99d2e4d38cf650d43b26327a1b472)**",
    "created_at": "2017-02-03T14:45:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289684",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d9256f7`](https://github.com/sagemath/sagetrac-mirror/commit/d9256f7d18063828a66c3a782698b5a9e389d446)** to **[`9f3c92f`](https://github.com/sagemath/sagetrac-mirror/commit/9f3c92f786a99d2e4d38cf650d43b26327a1b472)**



---

archive/issue_comments_289685.json:
```json
{
    "body": "<div id=\"comment:93\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9f3c92f786a99d2e4d38cf650d43b26327a1b472\">9f3c92f</a></td><td><code>pthshoot coorected</code></td></tr></table>\n",
    "created_at": "2017-02-03T14:45:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289685",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:93"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9f3c92f786a99d2e4d38cf650d43b26327a1b472">9f3c92f</a></td><td><code>pthshoot coorected</code></td></tr></table>




---

archive/issue_comments_289686.json:
```json
{
    "body": "<div id=\"comment:94\" align=\"right\">comment:94</div>\n\nYou should rebase this on the most recent version of Sage: I think the doctest failures are because of new code that uses free groups and imports it from its old location, leading to deprecation warnings.",
    "created_at": "2017-02-03T18:01:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289686",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:94" align="right">comment:94</div>

You should rebase this on the most recent version of Sage: I think the doctest failures are because of new code that uses free groups and imports it from its old location, leading to deprecation warnings.



---

archive/issue_comments_289687.json:
```json
{
    "body": "<div id=\"comment:95\" align=\"right\">comment:95</div>\n\nMany thanks for your help, I corrected the bad UTF8 unicode from python 2. And its seems to work with the new rebase version too.\nI cross fingers my last commit pass the  pathboot, and the ticket can pass.",
    "created_at": "2017-02-03T18:29:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289687",
    "user": "https://github.com/sagetrac-dbenielli"
}
```

<div id="comment:95" align="right">comment:95</div>

Many thanks for your help, I corrected the bad UTF8 unicode from python 2. And its seems to work with the new rebase version too.
I cross fingers my last commit pass the  pathboot, and the ticket can pass.



---

archive/issue_events_284618.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-05-01T12:06:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20154#event-284618"
}
```



---

archive/issue_events_284619.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-05-01T12:06:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20154#event-284619"
}
```



---

archive/issue_comments_289688.json:
```json
{
    "body": "<div id=\"comment:96\" align=\"right\">comment:96</div>\n\ndoes not apply",
    "created_at": "2017-05-01T12:06:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289688",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:96" align="right">comment:96</div>

does not apply



---

archive/issue_events_284620.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-05-01T12:06:25Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "milestone_number": null,
    "milestone_title": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20154#event-284620"
}
```



---

archive/issue_events_284621.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-05-01T12:06:25Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "milestone_number": null,
    "milestone_title": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20154#event-284621"
}
```



---

archive/issue_comments_289689.json:
```json
{
    "body": "<div id=\"comment:97\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0bd5e41f691f9bb4f76be9d1b6ff5c1b51567e1a\">0bd5e41</a></td><td><code>Merge branch 'public/train-track' of git://trac.sagemath.org/sage into public/train-track</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/125259102f7f65182ed3d7acda07b8fae016a2a5\">1252591</a></td><td><code>Doing some doc improvements.</code></td></tr></table>\n",
    "created_at": "2017-05-01T17:05:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289689",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:97"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0bd5e41f691f9bb4f76be9d1b6ff5c1b51567e1a">0bd5e41</a></td><td><code>Merge branch 'public/train-track' of git://trac.sagemath.org/sage into public/train-track</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/125259102f7f65182ed3d7acda07b8fae016a2a5">1252591</a></td><td><code>Doing some doc improvements.</code></td></tr></table>




---

archive/issue_comments_289690.json:
```json
{
    "body": "Changed commit from **[`9f3c92f`](https://github.com/sagemath/sagetrac-mirror/commit/9f3c92f786a99d2e4d38cf650d43b26327a1b472)** to **[`1252591`](https://github.com/sagemath/sagetrac-mirror/commit/125259102f7f65182ed3d7acda07b8fae016a2a5)**",
    "created_at": "2017-05-01T17:05:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289690",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9f3c92f`](https://github.com/sagemath/sagetrac-mirror/commit/9f3c92f786a99d2e4d38cf650d43b26327a1b472)** to **[`1252591`](https://github.com/sagemath/sagetrac-mirror/commit/125259102f7f65182ed3d7acda07b8fae016a2a5)**



---

archive/issue_comments_289691.json:
```json
{
    "body": "<div id=\"comment:98\" align=\"right\">comment:98</div>\n\nI've done the rebase to the current Sage version and did a little bit of doc cleanup and other small tweaks. It still needs a complete doc readthrough (I maybe got through 30%). There are some references that seem like they needed to be added.",
    "created_at": "2017-05-01T17:16:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289691",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:98" align="right">comment:98</div>

I've done the rebase to the current Sage version and did a little bit of doc cleanup and other small tweaks. It still needs a complete doc readthrough (I maybe got through 30%). There are some references that seem like they needed to be added.



---

archive/issue_comments_289692.json:
```json
{
    "body": "<div id=\"comment:99\" align=\"right\">comment:99</div>\n\nHi,\n\nThanks for your update for  the new version 8, Unfortunately my version obtained by  pull is not working, I do not understand what happens.\n\nOtherwise I would like  to succes the  review, and I would know what is missing, and I can do.\n\n\nThanks for help\n\nDominique\n\nPS\nerror message of doc build\n\nError building the documentation.\nTraceback (most recent call last):\n  File \"/home/dominique/projets/sage/local/lib/python2.7/runpy.py\", line 174, in _run_module_as_main\n    \"__main__\", fname, loader, pkg_name)\n  File \"/home/dominique/projets/sage/local/lib/python2.7/runpy.py\", line 72, in _run_code\n    exec code in run_globals\n  File \"/home/dominique/projets/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__main__.py\", line 2, in <module>\n    main()\n  File \"/home/dominique/projets/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py\", line 1640, in main\n    builder()\n  File \"/home/dominique/projets/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py\", line 510, in _wrapper\n    build_many(build_ref_doc, L)\n  File \"/home/dominique/projets/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py\", line 266, in build_many\n    results.append(target(arg))\n  File \"/home/dominique/projets/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py\", line 70, in build_ref_doc\n    getattr(ReferenceSubBuilder(doc, lang), format)(*args, **kwds)\n  File \"/home/dominique/projets/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py\", line 720, in _wrapper\n    getattr(DocBuilder, build_type)(self, *args, **kwds)\n  File \"/home/dominique/projets/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py\", line 104, in f\n    runsphinx()\n  File \"/home/dominique/projets/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/sphinxbuild.py\", line 215, in runsphinx\n    raise exception\nOSError: [manifolds] /home/dominique/projets/sage/src/doc/en/reference/manifolds/index.rst:4: WARNING: undefined label: tensors-on-free-modules (if the link has no caption the label must precede a section header)",
    "created_at": "2017-05-03T09:13:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289692",
    "user": "https://github.com/sagetrac-dbenielli"
}
```

<div id="comment:99" align="right">comment:99</div>

Hi,

Thanks for your update for  the new version 8, Unfortunately my version obtained by  pull is not working, I do not understand what happens.

Otherwise I would like  to succes the  review, and I would know what is missing, and I can do.


Thanks for help

Dominique

PS
error message of doc build

Error building the documentation.
Traceback (most recent call last):
  File "/home/dominique/projets/sage/local/lib/python2.7/runpy.py", line 174, in _run_module_as_main
    "__main__", fname, loader, pkg_name)
  File "/home/dominique/projets/sage/local/lib/python2.7/runpy.py", line 72, in _run_code
    exec code in run_globals
  File "/home/dominique/projets/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__main__.py", line 2, in <module>
    main()
  File "/home/dominique/projets/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py", line 1640, in main
    builder()
  File "/home/dominique/projets/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py", line 510, in _wrapper
    build_many(build_ref_doc, L)
  File "/home/dominique/projets/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py", line 266, in build_many
    results.append(target(arg))
  File "/home/dominique/projets/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py", line 70, in build_ref_doc
    getattr(ReferenceSubBuilder(doc, lang), format)(*args, **kwds)
  File "/home/dominique/projets/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py", line 720, in _wrapper
    getattr(DocBuilder, build_type)(self, *args, **kwds)
  File "/home/dominique/projets/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py", line 104, in f
    runsphinx()
  File "/home/dominique/projets/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/sphinxbuild.py", line 215, in runsphinx
    raise exception
OSError: [manifolds] /home/dominique/projets/sage/src/doc/en/reference/manifolds/index.rst:4: WARNING: undefined label: tensors-on-free-modules (if the link has no caption the label must precede a section header)



---

archive/issue_comments_289693.json:
```json
{
    "body": "<div id=\"comment:0\" align=\"right\">comment:0</div>\n\nTry running `make doc-clean && make`.\n\nOne of the most tedious things is to bring the doc formating similar to the changes I made (see also the sage dev guide). I will try to go through the code itself soon too.",
    "created_at": "2017-05-03T15:26:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289693",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:0" align="right">comment:0</div>

Try running `make doc-clean && make`.

One of the most tedious things is to bring the doc formating similar to the changes I made (see also the sage dev guide). I will try to go through the code itself soon too.



---

archive/issue_comments_289694.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/747f50449e955cc56ad13b846118556dd2c43960\">747f504</a></td><td><code>minor typos in docstring corrected</code></td></tr></table>\n",
    "created_at": "2017-06-27T09:14:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289694",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:1"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/747f50449e955cc56ad13b846118556dd2c43960">747f504</a></td><td><code>minor typos in docstring corrected</code></td></tr></table>




---

archive/issue_comments_289695.json:
```json
{
    "body": "Changed commit from **[`1252591`](https://github.com/sagemath/sagetrac-mirror/commit/125259102f7f65182ed3d7acda07b8fae016a2a5)** to **[`747f504`](https://github.com/sagemath/sagetrac-mirror/commit/747f50449e955cc56ad13b846118556dd2c43960)**",
    "created_at": "2017-06-27T09:14:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289695",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1252591`](https://github.com/sagemath/sagetrac-mirror/commit/125259102f7f65182ed3d7acda07b8fae016a2a5)** to **[`747f504`](https://github.com/sagemath/sagetrac-mirror/commit/747f50449e955cc56ad13b846118556dd2c43960)**



---

archive/issue_comments_289696.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nMany thanks you very munch for your upgrade,\n\nthe make doc-clean && make is now ok\n\nDo you think we can go back on need review status?",
    "created_at": "2017-07-10T15:46:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289696",
    "user": "https://github.com/sagetrac-dbenielli"
}
```

<div id="comment:2" align="right">comment:2</div>

Many thanks you very munch for your upgrade,

the make doc-clean && make is now ok

Do you think we can go back on need review status?



---

archive/issue_comments_289697.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nSomeone still needs to go through and standardize the docstrings to use Sage's conventions (comment:100). In addition to the changes I made, you can also use the\n[Sage conventions page](http://doc.sagemath.org/html/en/developer/coding_basics.html#documentation-strings),\nalthough the `INPUT:` items should not end in periods/full stops/`.` (unless they are really long) and you do not need an `INPUT:` block if there is no input (`self` does not count) or an `OUTPUT:` if the output is clear from the 1-line doc. I will go back to looking through the code once that is done.\n\nThis also needs a (likely trivial) rebase on the latest `develop` version.",
    "created_at": "2017-07-11T04:09:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289697",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:3" align="right">comment:3</div>

Someone still needs to go through and standardize the docstrings to use Sage's conventions (comment:100). In addition to the changes I made, you can also use the
[Sage conventions page](http://doc.sagemath.org/html/en/developer/coding_basics.html#documentation-strings),
although the `INPUT:` items should not end in periods/full stops/`.` (unless they are really long) and you do not need an `INPUT:` block if there is no input (`self` does not count) or an `OUTPUT:` if the output is clear from the 1-line doc. I will go back to looking through the code once that is done.

This also needs a (likely trivial) rebase on the latest `develop` version.



---

archive/issue_comments_289698.json:
```json
{
    "body": "Changed commit from **[`747f504`](https://github.com/sagemath/sagetrac-mirror/commit/747f50449e955cc56ad13b846118556dd2c43960)** to **[`3a4bf05`](https://github.com/sagemath/sagetrac-mirror/commit/3a4bf05c356506567cf3e84fd7a9402b6960d71a)**",
    "created_at": "2017-07-11T12:46:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289698",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`747f504`](https://github.com/sagemath/sagetrac-mirror/commit/747f50449e955cc56ad13b846118556dd2c43960)** to **[`3a4bf05`](https://github.com/sagemath/sagetrac-mirror/commit/3a4bf05c356506567cf3e84fd7a9402b6960d71a)**



---

archive/issue_comments_289699.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3a4bf05c356506567cf3e84fd7a9402b6960d71a\">3a4bf05</a></td><td><code>minor typo</code></td></tr></table>\n",
    "created_at": "2017-07-11T12:46:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289699",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3a4bf05c356506567cf3e84fd7a9402b6960d71a">3a4bf05</a></td><td><code>minor typo</code></td></tr></table>




---

archive/issue_comments_289700.json:
```json
{
    "body": "Changed commit from **[`3a4bf05`](https://github.com/sagemath/sagetrac-mirror/commit/3a4bf05c356506567cf3e84fd7a9402b6960d71a)** to **[`c1805db`](https://github.com/sagemath/sagetrac-mirror/commit/c1805dbcd2b10672344b1bb2f474f01a97500fa0)**",
    "created_at": "2017-07-12T09:45:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289700",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3a4bf05`](https://github.com/sagemath/sagetrac-mirror/commit/3a4bf05c356506567cf3e84fd7a9402b6960d71a)** to **[`c1805db`](https://github.com/sagemath/sagetrac-mirror/commit/c1805dbcd2b10672344b1bb2f474f01a97500fa0)**



---

archive/issue_comments_289701.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c1805dbcd2b10672344b1bb2f474f01a97500fa0\">c1805db</a></td><td><code>merge with develop branch</code></td></tr></table>\n",
    "created_at": "2017-07-12T09:45:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289701",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c1805dbcd2b10672344b1bb2f474f01a97500fa0">c1805db</a></td><td><code>merge with develop branch</code></td></tr></table>




---

archive/issue_comments_289702.json:
```json
{
    "body": "Changed commit from **[`c1805db`](https://github.com/sagemath/sagetrac-mirror/commit/c1805dbcd2b10672344b1bb2f474f01a97500fa0)** to **[`b81e62d`](https://github.com/sagemath/sagetrac-mirror/commit/b81e62dfbb002bf48688c259005f2875fc66727b)**",
    "created_at": "2017-07-12T11:45:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289702",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c1805db`](https://github.com/sagemath/sagetrac-mirror/commit/c1805dbcd2b10672344b1bb2f474f01a97500fa0)** to **[`b81e62d`](https://github.com/sagemath/sagetrac-mirror/commit/b81e62dfbb002bf48688c259005f2875fc66727b)**



---

archive/issue_comments_289703.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b81e62dfbb002bf48688c259005f2875fc66727b\">b81e62d</a></td><td><code>INPUT end . correction</code></td></tr></table>\n",
    "created_at": "2017-07-12T11:45:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289703",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b81e62dfbb002bf48688c259005f2875fc66727b">b81e62d</a></td><td><code>INPUT end . correction</code></td></tr></table>




---

archive/issue_comments_289704.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nHi,\n\nI done the rebase and the correction for INPUT intems end with . only where there are long.\nTell me if it is ok for a need review now\n\nThanks\nDominique",
    "created_at": "2017-07-12T11:48:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289704",
    "user": "https://github.com/sagetrac-dbenielli"
}
```

<div id="comment:7" align="right">comment:7</div>

Hi,

I done the rebase and the correction for INPUT intems end with . only where there are long.
Tell me if it is ok for a need review now

Thanks
Dominique



---

archive/issue_comments_289705.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nStill a lot of doc issues (see also [comment:19](#comment:19)):\n\n- You need to replace `$` with <code>\\`</code>.\n- What does `\\index{Nielsen path}` do? I think it will not do what you want with the build documentation.\n- Are the macros `\\CVN` and `\\FN` defined? If not, you probably want to replace them with the corresponding true Latex code (rather than add to the macro list).\n- Use `\\ZZ` instead of `\\mathbb Z`.\n- References should go in the master reference file `doc/en/reference/references/index.rst` and have more descriptive names.\n- Format like:\n\n  ```\n  def foo(self):\n      \"\"\"\n      Short description.\n\n      ...\n      \"\"\"\n  ```\n- Your ascii art square for `ConvexCore` should be `is of the form::` (with a double colon). Although having spaces here will be better than the `.`. The doc should not have any trouble getting this to look nice.\n- There are a number of variables that should be either formatted for latex (<code>\\`x\\`</code>) or code (<code>\\`\\`x\\`\\`</code>). In particular, things like <code>\\`\\`False\\`\\`</code> should be code formatted.\n- It is better to put inputs for `__init__` in the class-level docstring so it will be visible.\n\nSome code issue I noticed on a quick readthrough:\n\n- It would be good to provide some sort of deprecation warnings for all non-hidden functions/classes (i.e., not `_lexi_gen`). See the deprecation option of `lazy_import`.\n- Use new-style Python clases: `class ConvexCore(object):`. Although can the user ever see it? If so, perhaps it should inherit from `SageObject`.\n- Never check things like `if x is True:` (resp. `False:`); simply do `if x:` (resp. `if not x:`).\n- It is faster to check `if todo:` instead of `if len(todo) > 0`.\n- Instead of `__str__`, if it is a SageObject subclass, you should use `_repr_` (e.g., subclasses of `DiGraph`). Otherwise, we prefer to use `__repr__`.\n- `groups/free_groups/test_train_track.py` might be better as `tests/train_tracks.py`.",
    "created_at": "2017-07-20T23:02:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289705",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:8" align="right">comment:8</div>

Still a lot of doc issues (see also [comment:19](#comment:19)):

- You need to replace `$` with <code>\`</code>.
- What does `\index{Nielsen path}` do? I think it will not do what you want with the build documentation.
- Are the macros `\CVN` and `\FN` defined? If not, you probably want to replace them with the corresponding true Latex code (rather than add to the macro list).
- Use `\ZZ` instead of `\mathbb Z`.
- References should go in the master reference file `doc/en/reference/references/index.rst` and have more descriptive names.
- Format like:

  ```
  def foo(self):
      """
      Short description.

      ...
      """
  ```
- Your ascii art square for `ConvexCore` should be `is of the form::` (with a double colon). Although having spaces here will be better than the `.`. The doc should not have any trouble getting this to look nice.
- There are a number of variables that should be either formatted for latex (<code>\`x\`</code>) or code (<code>\`\`x\`\`</code>). In particular, things like <code>\`\`False\`\`</code> should be code formatted.
- It is better to put inputs for `__init__` in the class-level docstring so it will be visible.

Some code issue I noticed on a quick readthrough:

- It would be good to provide some sort of deprecation warnings for all non-hidden functions/classes (i.e., not `_lexi_gen`). See the deprecation option of `lazy_import`.
- Use new-style Python clases: `class ConvexCore(object):`. Although can the user ever see it? If so, perhaps it should inherit from `SageObject`.
- Never check things like `if x is True:` (resp. `False:`); simply do `if x:` (resp. `if not x:`).
- It is faster to check `if todo:` instead of `if len(todo) > 0`.
- Instead of `__str__`, if it is a SageObject subclass, you should use `_repr_` (e.g., subclasses of `DiGraph`). Otherwise, we prefer to use `__repr__`.
- `groups/free_groups/test_train_track.py` might be better as `tests/train_tracks.py`.



---

archive/issue_comments_289706.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nHowever, I will start going through the code part soon.",
    "created_at": "2017-07-20T23:03:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289706",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:9" align="right">comment:9</div>

However, I will start going through the code part soon.



---

archive/issue_comments_289707.json:
```json
{
    "body": "<div id=\"comment:0\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/573701b06cccc7e2fa3982534e86cc4e8d8a990b\">573701b</a></td><td><code>some correction from tscrim comments</code></td></tr></table>\n",
    "created_at": "2017-07-28T14:09:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289707",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:0"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/573701b06cccc7e2fa3982534e86cc4e8d8a990b">573701b</a></td><td><code>some correction from tscrim comments</code></td></tr></table>




---

archive/issue_comments_289708.json:
```json
{
    "body": "Changed commit from **[`b81e62d`](https://github.com/sagemath/sagetrac-mirror/commit/b81e62dfbb002bf48688c259005f2875fc66727b)** to **[`573701b`](https://github.com/sagemath/sagetrac-mirror/commit/573701b06cccc7e2fa3982534e86cc4e8d8a990b)**",
    "created_at": "2017-07-28T14:09:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289708",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b81e62d`](https://github.com/sagemath/sagetrac-mirror/commit/b81e62dfbb002bf48688c259005f2875fc66727b)** to **[`573701b`](https://github.com/sagemath/sagetrac-mirror/commit/573701b06cccc7e2fa3982534e86cc4e8d8a990b)**



---

archive/issue_comments_289709.json:
```json
{
    "body": "Changed commit from **[`573701b`](https://github.com/sagemath/sagetrac-mirror/commit/573701b06cccc7e2fa3982534e86cc4e8d8a990b)** to **[`dcc540c`](https://github.com/sagemath/sagetrac-mirror/commit/dcc540c770298bac710358c72e35c9ea3961bcde)**",
    "created_at": "2017-07-28T14:26:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289709",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`573701b`](https://github.com/sagemath/sagetrac-mirror/commit/573701b06cccc7e2fa3982534e86cc4e8d8a990b)** to **[`dcc540c`](https://github.com/sagemath/sagetrac-mirror/commit/dcc540c770298bac710358c72e35c9ea3961bcde)**



---

archive/issue_comments_289710.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dcc540c770298bac710358c72e35c9ea3961bcde\">dcc540c</a></td><td><code>some correction from tscrim comments</code></td></tr></table>\n",
    "created_at": "2017-07-28T14:26:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289710",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:1"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dcc540c770298bac710358c72e35c9ea3961bcde">dcc540c</a></td><td><code>some correction from tscrim comments</code></td></tr></table>




---

archive/issue_events_284622.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2022-02-07T00:00:44Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "milestone_number": null,
    "milestone_title": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20154#event-284622"
}
```



---

archive/issue_events_284623.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2022-02-07T00:00:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "label": "https://github.com/sagemath/sage/labels/wishlist%20item",
    "label_color": "e81ff9",
    "label_name": "wishlist item",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20154#event-284623"
}
```



---

archive/issue_comments_289711.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,4 +7,5 @@\n See also:\n \n - https://github.com/coulbois/sage-train-track\n-- https://www.i2m.univ-amu.fr/~coulbois/train-track/\n+- https://www.i2m.univ-amu.fr/perso/thierry.coulbois/train-track/\n+- #31223: Add sage-train-track as an optional package\n``````\n",
    "created_at": "2022-02-07T00:00:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20154#issuecomment-289711",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,4 +7,5 @@
 See also:
 
 - https://github.com/coulbois/sage-train-track
-- https://www.i2m.univ-amu.fr/~coulbois/train-track/
+- https://www.i2m.univ-amu.fr/perso/thierry.coulbois/train-track/
+- #31223: Add sage-train-track as an optional package
``````

