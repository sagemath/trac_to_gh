# Issue 20154: train-tracks

archive/issues_019917.json:
```json
{
    "body": "We propose to implement in Sage the train-tracks package developed by Thierry Coulbois:\n\nThe main feature and the main achievement of the program is to compute train-track representative for (outer) automorphisms of free groups. phi.train track() computes a train-track representative for the (outer) automorphism phi. This train-track can be either an absolute train-track or a relative train-track. The celebrated theorem of Bestvina and Feighn assures that if phi is fully irreducible (iwip), then there exists an absolute train-track representing phi.\nThe train-track(relative=False) method will terminate with either an absolute train-track or with a topological representative with a reduction: an invariant strict subgraph with non-trivial fundamental group.\nOne more feature of train-tracks (absolute or relative) is to lower the number of Nielsen paths. Setting the stable=True option will return a train-track with at most one indivisible Nielsen path (per exponential stratum if it is a relative train-track).\n\nSee also:\n\n- https://github.com/coulbois/sage-train-track\n- https://www.i2m.univ-amu.fr/perso/thierry.coulbois/train-track/\n- #31223: Add sage-train-track as an optional package\n\nCC:  @tscrim tmonteil @videlec\n\nKeywords: free-group automorphism\n\nAuthor: Dominique Benielli, Thierry Coulbois\n\nBranch: public/train-track\n\nStatus: needs_work\n\nCommit: dcc540c770298bac710358c72e35c9ea3961bcde\n\nIssue created by migration from https://trac.sagemath.org/ticket/20154\n\n",
    "created_at": "2016-03-03T20:01:12Z",
    "labels": [
        "component: group theory"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-wishlist",
    "title": "train-tracks",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20154",
    "user": "https://trac.sagemath.org/admin/accounts/users/dbenielli"
}
```
We propose to implement in Sage the train-tracks package developed by Thierry Coulbois:

The main feature and the main achievement of the program is to compute train-track representative for (outer) automorphisms of free groups. phi.train track() computes a train-track representative for the (outer) automorphism phi. This train-track can be either an absolute train-track or a relative train-track. The celebrated theorem of Bestvina and Feighn assures that if phi is fully irreducible (iwip), then there exists an absolute train-track representing phi.
The train-track(relative=False) method will terminate with either an absolute train-track or with a topological representative with a reduction: an invariant strict subgraph with non-trivial fundamental group.
One more feature of train-tracks (absolute or relative) is to lower the number of Nielsen paths. Setting the stable=True option will return a train-track with at most one indivisible Nielsen path (per exponential stratum if it is a relative train-track).

See also:

- https://github.com/coulbois/sage-train-track
- https://www.i2m.univ-amu.fr/perso/thierry.coulbois/train-track/
- #31223: Add sage-train-track as an optional package

CC:  @tscrim tmonteil @videlec

Keywords: free-group automorphism

Author: Dominique Benielli, Thierry Coulbois

Branch: public/train-track

Status: needs_work

Commit: dcc540c770298bac710358c72e35c9ea3961bcde

Issue created by migration from https://trac.sagemath.org/ticket/20154





---

archive/issue_comments_273741.json:
```json
{
    "body": "Changing keywords from \"\" to \"free-group automorphisme\".",
    "created_at": "2016-03-03T20:13:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273741",
    "user": "https://trac.sagemath.org/admin/accounts/users/dbenielli"
}
```

Changing keywords from "" to "free-group automorphisme".



---

archive/issue_comments_273742.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to combinatorics.",
    "created_at": "2016-03-03T20:13:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273742",
    "user": "https://trac.sagemath.org/admin/accounts/users/dbenielli"
}
```

Changing component from PLEASE CHANGE to combinatorics.



---

archive/issue_comments_273743.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to task.",
    "created_at": "2016-03-03T20:13:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273743",
    "user": "https://trac.sagemath.org/admin/accounts/users/dbenielli"
}
```

Changing type from PLEASE CHANGE to task.



---

archive/issue_comments_273744.json:
```json
{
    "body": "Changing keywords from \"free-group automorphisme\" to \"free-group automorphism\".",
    "created_at": "2016-03-05T00:16:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273744",
    "user": "https://github.com/tscrim"
}
```

Changing keywords from "free-group automorphisme" to "free-group automorphism".



---

archive/issue_comments_273745.json:
```json
{
    "body": "<a id='comment:2'></a>Let me know if you have any questions or if there is anything I can do to help.\n\nIn case you were unaware, you might also be interested in that Sage has an implementation of right-angled Artin groups.",
    "created_at": "2016-03-05T00:16:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273745",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:2'></a>Let me know if you have any questions or if there is anything I can do to help.

In case you were unaware, you might also be interested in that Sage has an implementation of right-angled Artin groups.



---

archive/issue_comments_273746.json:
```json
{
    "body": "<a id='comment:4'></a>I could be interested in this. Specially to add it as a functionality for Braid groups.\n\nI have taken a quick look at Coulbois code, and it seems that it was writen before we had free groups in sage (or at least, he writes his own implementation of free groups).\n\nSo my impression is that we would need to heavily adapt his code in order to fit our current infrastructure. \n\nIf you are ok with it, we can start discussing which should be the right structure to follow.",
    "created_at": "2016-04-15T06:55:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273746",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:4'></a>I could be interested in this. Specially to add it as a functionality for Braid groups.

I have taken a quick look at Coulbois code, and it seems that it was writen before we had free groups in sage (or at least, he writes his own implementation of free groups).

So my impression is that we would need to heavily adapt his code in order to fit our current infrastructure. 

If you are ok with it, we can start discussing which should be the right structure to follow.



---

archive/issue_comments_273747.json:
```json
{
    "body": "<a id='comment:5'></a>Replying to [comment:4 mmarco]:\n> I could be interested in this. Specially to add it as a functionality for Braid groups.\n> \n> I have taken a quick look at Coulbois code, and it seems that it was writen before we had free groups in sage (or at least, he writes his own implementation of free groups).\n> \n> So my impression is that we would need to heavily adapt his code in order to fit our current infrastructure. \n> \n> If you are ok with it, we can start discussing which should be the right structure to follow.\n\n\nHi,\n\nThanks for your comment. We are still working on train-track adaptation for sage, format code, checked test , that takes more time that I expected were I opened the ticket ... Indeed our main issue is the FreeGroup implementation (we have already do some change comparing to the train-track code of Thierry) but we have still a reduced FreeGroup, and the compatibility  with the FreeGroup is Sage is not easy (same use functionality). \nWe of course ok to start discussing about this issue and we wish to find a light solution. The easiest  way would be to rename our FreeGroup but may be we can make something better. So we are open to any suggestion.\nDominique",
    "created_at": "2016-04-15T08:35:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273747",
    "user": "https://trac.sagemath.org/admin/accounts/users/dbenielli"
}
```

<a id='comment:5'></a>Replying to [comment:4 mmarco]:
> I could be interested in this. Specially to add it as a functionality for Braid groups.
> 
> I have taken a quick look at Coulbois code, and it seems that it was writen before we had free groups in sage (or at least, he writes his own implementation of free groups).
> 
> So my impression is that we would need to heavily adapt his code in order to fit our current infrastructure. 
> 
> If you are ok with it, we can start discussing which should be the right structure to follow.


Hi,

Thanks for your comment. We are still working on train-track adaptation for sage, format code, checked test , that takes more time that I expected were I opened the ticket ... Indeed our main issue is the FreeGroup implementation (we have already do some change comparing to the train-track code of Thierry) but we have still a reduced FreeGroup, and the compatibility  with the FreeGroup is Sage is not easy (same use functionality). 
We of course ok to start discussing about this issue and we wish to find a light solution. The easiest  way would be to rename our FreeGroup but may be we can make something better. So we are open to any suggestion.
Dominique



---

archive/issue_comments_273748.json:
```json
{
    "body": "<a id='comment:6'></a>Would it be possible to use sage's FreeGroup (maybe adding to it the functinalities that you need?)",
    "created_at": "2016-04-15T09:15:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273748",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:6'></a>Would it be possible to use sage's FreeGroup (maybe adding to it the functinalities that you need?)



---

archive/issue_comments_273749.json:
```json
{
    "body": "<a id='comment:7'></a>Let me change the question slightly, what functionality from a free group do you need? (Also, you won't need to rename your free group because it is in a separate module.)",
    "created_at": "2016-04-15T14:19:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273749",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:7'></a>Let me change the question slightly, what functionality from a free group do you need? (Also, you won't need to rename your free group because it is in a separate module.)



---

archive/issue_comments_273750.json:
```json
{
    "body": "<a id='comment:8'></a>Hello the Sage community,\n\nI finally got a trac.sagemath account to reply !\n\nOf course we need to use (and adapt) the existing FreeGroup in Sage. \n\nThe main difference is my use of alphabets with inverse letters (AlphabetWithInverses in my program). There have been some discussions with Vincent Delecroix on my choices. I hope my code is not too poorly written and I can adapt easily. \n\nThe point is that my free groups are to be used as domain of WordMorphisms and as such they should have alphabets (and not only generators)... The elements should be words.\n\nMay be we could discuss that by mail with Vincent, Thierry M. and Marco ?",
    "created_at": "2016-04-27T20:49:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273750",
    "user": "https://trac.sagemath.org/admin/accounts/users/coulbois"
}
```

<a id='comment:8'></a>Hello the Sage community,

I finally got a trac.sagemath account to reply !

Of course we need to use (and adapt) the existing FreeGroup in Sage. 

The main difference is my use of alphabets with inverse letters (AlphabetWithInverses in my program). There have been some discussions with Vincent Delecroix on my choices. I hope my code is not too poorly written and I can adapt easily. 

The point is that my free groups are to be used as domain of WordMorphisms and as such they should have alphabets (and not only generators)... The elements should be words.

May be we could discuss that by mail with Vincent, Thierry M. and Marco ?



---

archive/issue_comments_273751.json:
```json
{
    "body": "<a id='comment:9'></a>Replying to [comment:8 coulbois]:\n> May be we could discuss that by mail with Vincent, Thierry M. and Marco ?\n\n\nI think this thread/ticket is a good place as it allows other interested people to follow and join the discussion (and does not perturb others).",
    "created_at": "2016-04-27T21:03:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273751",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:9'></a>Replying to [comment:8 coulbois]:
> May be we could discuss that by mail with Vincent, Thierry M. and Marco ?


I think this thread/ticket is a good place as it allows other interested people to follow and join the discussion (and does not perturb others).



---

archive/issue_comments_273752.json:
```json
{
    "body": "<a id='comment:10'></a>I also would prefear the discussion to happen here. But if it becomes useful at some point, we could try some kind of live meeting (via google hangouts or other similar means)\n\nI am still trying to understand your code to see how could it fit with the existing sage classes.",
    "created_at": "2016-04-27T21:33:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273752",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:10'></a>I also would prefear the discussion to happen here. But if it becomes useful at some point, we could try some kind of live meeting (via google hangouts or other similar means)

I am still trying to understand your code to see how could it fit with the existing sage classes.



---

archive/issue_comments_273753.json:
```json
{
    "body": "<a id='comment:11'></a>It is also entirely possible we will need to abstract out code from the current `FreeGroup`, `IndexedFreeGroup`, and your implementation (and from a quick look-over, that is probably what will happen).",
    "created_at": "2016-04-28T14:55:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273753",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:11'></a>It is also entirely possible we will need to abstract out code from the current `FreeGroup`, `IndexedFreeGroup`, and your implementation (and from a quick look-over, that is probably what will happen).



---

archive/issue_comments_273754.json:
```json
{
    "body": "<a id='comment:12'></a>Yes of course we can also adapt the existing FreeGroup to my code. For that I need to know how much it is used. In particular as it seems to be only a wrapper of GAP.\n\nApparently there are two different approaches:\n\n1/ The present FreeGroup (from GAP) focuses on the fact that free groups are algebraic objects (they have generators and the elements are somehow abstract group elements)\n\n2/ Whereas my approach is closer to that of Words: free group are combinatorial objects and their elements are words on an alphabet.\n\nI don't know how much these two approaches are compatible. And how much we can merge or converge to a common approach. The differences are probably similar to that between FreeMonoid and Words.\n\nMarco can you tell us how much your FreeGroup is used, how much it is important that its elements are from a GAP wrap class (ElementLibGAP) ?",
    "created_at": "2016-04-28T20:08:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273754",
    "user": "https://trac.sagemath.org/admin/accounts/users/coulbois"
}
```

<a id='comment:12'></a>Yes of course we can also adapt the existing FreeGroup to my code. For that I need to know how much it is used. In particular as it seems to be only a wrapper of GAP.

Apparently there are two different approaches:

1/ The present FreeGroup (from GAP) focuses on the fact that free groups are algebraic objects (they have generators and the elements are somehow abstract group elements)

2/ Whereas my approach is closer to that of Words: free group are combinatorial objects and their elements are words on an alphabet.

I don't know how much these two approaches are compatible. And how much we can merge or converge to a common approach. The differences are probably similar to that between FreeMonoid and Words.

Marco can you tell us how much your FreeGroup is used, how much it is important that its elements are from a GAP wrap class (ElementLibGAP) ?



---

archive/issue_comments_273755.json:
```json
{
    "body": "<a id='comment:13'></a>I have to run now, but a quick response. IIRC, it is used to construct the free algebra, but I believe you're right in that it is basically a wrapper of GAP. I'd have to double-check the latter.",
    "created_at": "2016-04-28T20:27:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273755",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:13'></a>I have to run now, but a quick response. IIRC, it is used to construct the free algebra, but I believe you're right in that it is basically a wrapper of GAP. I'd have to double-check the latter.



---

archive/issue_comments_273756.json:
```json
{
    "body": "<a id='comment:14'></a>Sage's FreeGroup implementation is mostly a wrapper around GAP's. I think we should keep that since it is the basis for FinitelyPresentedGroups, and BraidGroup's which are also wrapped around GAP. \n\n\nElements of a FreeGroup are represented internally as a Tietze list, so it should be easy to translate from that representation to the one based in words and back (as long as the names of the generators is kept clear). So, instead of rewriting the implementation, I would vote for implementing that translation (which could be interesting in itself), and use that to call your code.",
    "created_at": "2016-04-28T21:02:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273756",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:14'></a>Sage's FreeGroup implementation is mostly a wrapper around GAP's. I think we should keep that since it is the basis for FinitelyPresentedGroups, and BraidGroup's which are also wrapped around GAP. 


Elements of a FreeGroup are represented internally as a Tietze list, so it should be easy to translate from that representation to the one based in words and back (as long as the names of the generators is kept clear). So, instead of rewriting the implementation, I would vote for implementing that translation (which could be interesting in itself), and use that to call your code.



---

archive/issue_comments_273757.json:
```json
{
    "body": "<a id='comment:15'></a>By the way, I got an error when trying to test your code:\n\n```\nsage: from all import *\n---------------------------------------------------------------------------\nImportError                               Traceback (most recent call last)\n<ipython-input-1-9796be731807> in <module>()\n----> 1 from all import *\n\n/home/mmarco/sage-train-track/all.py in <module>()\n----> 1 from free_group import FreeGroup\n      2 from free_group_automorphism import FreeGroupMorphism, FreeGroupAutomorphism, free_group_automorphisms\n      3 from inverse_alphabet import AlphabetWithInverses\n\n/home/mmarco/sage-train-track/free_group.py in <module>()\n     13     from sage.combinat.words.words import FiniteWords_over_OrderedAlphabet as FiniteWords\n     14 \n---> 15 from inverse_alphabet import AlphabetWithInverses, AbstractAlphabetWithInverses\n     16 from free_group_word import FreeGroupWord\n     17 \n\nImportError: cannot import name AbstractAlphabetWithInverses\n```",
    "created_at": "2016-04-29T06:38:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273757",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:15'></a>By the way, I got an error when trying to test your code:

```
sage: from all import *
---------------------------------------------------------------------------
ImportError                               Traceback (most recent call last)
<ipython-input-1-9796be731807> in <module>()
----> 1 from all import *

/home/mmarco/sage-train-track/all.py in <module>()
----> 1 from free_group import FreeGroup
      2 from free_group_automorphism import FreeGroupMorphism, FreeGroupAutomorphism, free_group_automorphisms
      3 from inverse_alphabet import AlphabetWithInverses

/home/mmarco/sage-train-track/free_group.py in <module>()
     13     from sage.combinat.words.words import FiniteWords_over_OrderedAlphabet as FiniteWords
     14 
---> 15 from inverse_alphabet import AlphabetWithInverses, AbstractAlphabetWithInverses
     16 from free_group_word import FreeGroupWord
     17 

ImportError: cannot import name AbstractAlphabetWithInverses
```



---

archive/issue_comments_273758.json:
```json
{
    "body": "<a id='comment:17'></a>Did you run the testsuite in this branch?\n\n---\nNew commits:",
    "created_at": "2016-04-29T17:12:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273758",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:17'></a>Did you run the testsuite in this branch?

---
New commits:



---

archive/issue_comments_273759.json:
```json
{
    "body": "<a id='comment:18'></a>Yes, all tests passed\n\nsage: from sage.combinat.words.all import *\nsage: AlphabetWithInverses(2)\nAlphabet with inverses on ['a', 'b']",
    "created_at": "2016-05-02T11:41:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273759",
    "user": "https://trac.sagemath.org/admin/accounts/users/dbenielli"
}
```

<a id='comment:18'></a>Yes, all tests passed

sage: from sage.combinat.words.all import *
sage: AlphabetWithInverses(2)
Alphabet with inverses on ['a', 'b']



---

archive/issue_comments_273760.json:
```json
{
    "body": "<a id='comment:19'></a>This is in response to http://ask.sagemath.org/question/33238/unable-to-build-the-doc-reference-html/. There are a lot of problems with the formatting of the docstrings. Here are a few fixes as illustrations. See also http://www.sphinx-doc.org/en/stable/rest.html and http://docutils.sourceforge.net/rst.html for the basics of reStructuredText, and http://doc.sagemath.org/html/en/developer/coding_basics.html#documentation-strings for Sage-specific instructions.\n\n```diff\ndiff --git a/src/sage/combinat/words/convex_core.py b/src/sage/combinat/words/convex_core.py\nindex 0183e0f..a3c873a 100644\n--- a/src/sage/combinat/words/convex_core.py\n+++ b/src/sage/combinat/words/convex_core.py\n@@ -6,8 +6,8 @@ AUTHORS:\n \n - Thierry COULBOIS (2013-01-01) : initial version\n - Dominique BENIELLI (2016-02_15) :\n-AMU University <dominique.benielli@univ-amu.fr>,\n-Integration in SageMath\n+  AMU University <dominique.benielli@univ-amu.fr>,\n+  Integration in SageMath\n \n EXAMPLES::\n \n@@ -46,13 +46,15 @@ class ConvexCore():\n     Guirardel's convex core of two simplicial\n     trees with an action of a free group.\n \n-    Let T1 and T2 be trees with actions of the free group FN. G1=T1/FN\n-    and G2=T2/FN are MarkedGraph.\n+    Let `T_1` and `T_`2` be trees with actions of the free group `FN`. `G_1=T_1/FN`\n+    and `G_2=T_2/FN` are MarkedGraph.\n \n     A ConvexCore is a CW-complex of dimension 2. 2-cells are\n     squares. 1-cells are edges labeled by edges of G1 or G2. A square\n     is of the form\n \n+    ::\n+\n           e\n         ----->\n        |      |\n@@ -89,20 +91,20 @@ class ConvexCore():\n \n     EXAMPLES::\n \n-    sage: phi=FreeGroupAutomorphism(\"a->ab,b->ac,c->a\")\n-    sage: phi=phi*phi\n-    sage: C=ConvexCore(phi)\n-    sage: print C.slice('c',0)\n-    Looped multi-digraph on 2 vertices\n+        sage: phi=FreeGroupAutomorphism(\"a->ab,b->ac,c->a\")\n+        sage: phi=phi*phi\n+        sage: C=ConvexCore(phi)\n+        sage: print C.slice('c',0)\n+        Looped multi-digraph on 2 vertices\n \n-    sage: C.vertices()\n-    [0, 1, 2, 3]\n+        sage: C.vertices()\n+        [0, 1, 2, 3]\n \n-    sage: C.squares()\n-    [[3, 0, 2, 1, 'c', 'a']]\n+        sage: C.squares()\n+        [[3, 0, 2, 1, 'c', 'a']]\n     \n-    sage: C.twice_light_squares()\n-    [[1, 4, 0, 5, 'a', 'c']]\n+        sage: C.twice_light_squares()\n+        [[1, 4, 0, 5, 'a', 'c']]\n \n     AUTHORS:\n \n@@ -686,7 +688,7 @@ class ConvexCore():\n         - a homotopy equivalence\n \n         - that maps the root v0 of ``G0.spanning_tree()`` to the root v1 of\n-        ``G1.spanning_tree()``\n+          ``G1.spanning_tree()``\n         \n         - the image of each vertex has at least two gates.\n \n@@ -771,27 +773,27 @@ class ConvexCore():\n \n \n         - The boundary of a square is a list [e0,e1,e2,e3] of edges such that\n-        e0=(w,v,(a,0)) and e2 are edges with a positive letter\n-        a, and e1=(w,v,(b,1)) and e3 are edges with b a\n-        positive letter.\n+          e0=(w,v,(a,0)) and e2 are edges with a positive letter\n+          a, and e1=(w,v,(b,1)) and e3 are edges with b a\n+          positive letter.\n \n         - The boundary of an edge it is the list [v0,v1] of the initial vertex\n-        v0=(w,v) followed by the terminal vertex.\n+          v0=(w,v) followed by the terminal vertex.\n \n         Whereas for lists:\n \n         - squares: ``[v0,v1,v2,v3,a,b]`` where v0,v1,v2 and v3 are\n           integers standing for vertices and a,b are positive letters\n-          labeling edges of G0 and G1:\n+          labeling edges of G0 and G1::\n \n                 a\n-          v3 ------> v2\n-           ^         ^\n-           |         |\n-           |b        |b\n-           |         |\n-           |    a    |\n-          v0 ------>v1\n+           v3 ------> v2\n+            ^         ^\n+            |         |\n+            |b        |b\n+            |         |\n+            |    a    |\n+           v0 ------>v1\n \n         - edges: ``[v0,v1,(a,side)]`` where ``v0`` and ``v1`` are\n           integers standing for vertices a is a label of the tree on\n@@ -799,30 +801,30 @@ class ConvexCore():\n \n         INPUT:\n \n-        -``cell``square, an edge or a vertex. Squares are bounded\n-        by four vertices, edges by two vertices.\n+        - ``cell`` square, an edge or a vertex. Squares are bounded\n+          by four vertices, edges by two vertices.\n \n         OUTPUT:\n         The boundary of a cell is the list of vertices bounding it.\n \n         EXAMPLES::\n \n-        sage: phi = FreeGroupAutomorphism(\"a->ab,b->ac,c->a\")**2\n-        sage: C = ConvexCore(phi)\n-        sage: C.boundary((Word('C'), 0, 'c', 'a')) # boundary of a square\n-        [(word: C, 0, ('c', 0)),\n-        (word: , 0, ('a', 1)),\n-        (word: Bc, 0, ('C', 0)),\n-        (word: B, 0, ('A', 1))]\n+            sage: phi = FreeGroupAutomorphism(\"a->ab,b->ac,c->a\")**2\n+            sage: C = ConvexCore(phi)\n+            sage: C.boundary((Word('C'), 0, 'c', 'a')) # boundary of a square\n+            [(word: C, 0, ('c', 0)),\n+            (word: , 0, ('a', 1)),\n+            (word: Bc, 0, ('C', 0)),\n+            (word: B, 0, ('A', 1))]\n \n-        sage: C.boundary([3, 0, 2, 1, 'c', 'a']) # boundary of a square\n-        [[3, 0, ('c', 0)], [0, 2, ('a', 1)], [2, 1, ('C', 0)], [1, 3, ('A', 1)]]\n+            sage: C.boundary([3, 0, 2, 1, 'c', 'a']) # boundary of a square\n+            [[3, 0, ('c', 0)], [0, 2, ('a', 1)], [2, 1, ('C', 0)], [1, 3, ('A', 1)]]\n \n-        sage: C.boundary((Word('Bc'),0,('C',0))) # boundary of an edge \n-        [(word: Bc, 0), (word: B, 0)]\n+            sage: C.boundary((Word('Bc'),0,('C',0))) # boundary of an edge \n+            [(word: Bc, 0), (word: B, 0)]\n \n-        sage: C.boundary([2,1,'C']) # boundary of an edge\n-        [2, 1]\n+            sage: C.boundary([2,1,'C']) # boundary of an edge\n+            [2, 1]\n         \"\"\"\n \n         if isinstance(cell, tuple):\n```",
    "created_at": "2016-05-02T16:18:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273760",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:19'></a>This is in response to http://ask.sagemath.org/question/33238/unable-to-build-the-doc-reference-html/. There are a lot of problems with the formatting of the docstrings. Here are a few fixes as illustrations. See also http://www.sphinx-doc.org/en/stable/rest.html and http://docutils.sourceforge.net/rst.html for the basics of reStructuredText, and http://doc.sagemath.org/html/en/developer/coding_basics.html#documentation-strings for Sage-specific instructions.

```diff
diff --git a/src/sage/combinat/words/convex_core.py b/src/sage/combinat/words/convex_core.py
index 0183e0f..a3c873a 100644
--- a/src/sage/combinat/words/convex_core.py
+++ b/src/sage/combinat/words/convex_core.py
@@ -6,8 +6,8 @@ AUTHORS:
 
 - Thierry COULBOIS (2013-01-01) : initial version
 - Dominique BENIELLI (2016-02_15) :
-AMU University <dominique.benielli@univ-amu.fr>,
-Integration in SageMath
+  AMU University <dominique.benielli@univ-amu.fr>,
+  Integration in SageMath
 
 EXAMPLES::
 
@@ -46,13 +46,15 @@ class ConvexCore():
     Guirardel's convex core of two simplicial
     trees with an action of a free group.
 
-    Let T1 and T2 be trees with actions of the free group FN. G1=T1/FN
-    and G2=T2/FN are MarkedGraph.
+    Let `T_1` and `T_`2` be trees with actions of the free group `FN`. `G_1=T_1/FN`
+    and `G_2=T_2/FN` are MarkedGraph.
 
     A ConvexCore is a CW-complex of dimension 2. 2-cells are
     squares. 1-cells are edges labeled by edges of G1 or G2. A square
     is of the form
 
+    ::
+
           e
         ----->
        |      |
@@ -89,20 +91,20 @@ class ConvexCore():
 
     EXAMPLES::
 
-    sage: phi=FreeGroupAutomorphism("a->ab,b->ac,c->a")
-    sage: phi=phi*phi
-    sage: C=ConvexCore(phi)
-    sage: print C.slice('c',0)
-    Looped multi-digraph on 2 vertices
+        sage: phi=FreeGroupAutomorphism("a->ab,b->ac,c->a")
+        sage: phi=phi*phi
+        sage: C=ConvexCore(phi)
+        sage: print C.slice('c',0)
+        Looped multi-digraph on 2 vertices
 
-    sage: C.vertices()
-    [0, 1, 2, 3]
+        sage: C.vertices()
+        [0, 1, 2, 3]
 
-    sage: C.squares()
-    [[3, 0, 2, 1, 'c', 'a']]
+        sage: C.squares()
+        [[3, 0, 2, 1, 'c', 'a']]
     
-    sage: C.twice_light_squares()
-    [[1, 4, 0, 5, 'a', 'c']]
+        sage: C.twice_light_squares()
+        [[1, 4, 0, 5, 'a', 'c']]
 
     AUTHORS:
 
@@ -686,7 +688,7 @@ class ConvexCore():
         - a homotopy equivalence
 
         - that maps the root v0 of ``G0.spanning_tree()`` to the root v1 of
-        ``G1.spanning_tree()``
+          ``G1.spanning_tree()``
         
         - the image of each vertex has at least two gates.
 
@@ -771,27 +773,27 @@ class ConvexCore():
 
 
         - The boundary of a square is a list [e0,e1,e2,e3] of edges such that
-        e0=(w,v,(a,0)) and e2 are edges with a positive letter
-        a, and e1=(w,v,(b,1)) and e3 are edges with b a
-        positive letter.
+          e0=(w,v,(a,0)) and e2 are edges with a positive letter
+          a, and e1=(w,v,(b,1)) and e3 are edges with b a
+          positive letter.
 
         - The boundary of an edge it is the list [v0,v1] of the initial vertex
-        v0=(w,v) followed by the terminal vertex.
+          v0=(w,v) followed by the terminal vertex.
 
         Whereas for lists:
 
         - squares: ``[v0,v1,v2,v3,a,b]`` where v0,v1,v2 and v3 are
           integers standing for vertices and a,b are positive letters
-          labeling edges of G0 and G1:
+          labeling edges of G0 and G1::
 
                 a
-          v3 ------> v2
-           ^         ^
-           |         |
-           |b        |b
-           |         |
-           |    a    |
-          v0 ------>v1
+           v3 ------> v2
+            ^         ^
+            |         |
+            |b        |b
+            |         |
+            |    a    |
+           v0 ------>v1
 
         - edges: ``[v0,v1,(a,side)]`` where ``v0`` and ``v1`` are
           integers standing for vertices a is a label of the tree on
@@ -799,30 +801,30 @@ class ConvexCore():
 
         INPUT:
 
-        -``cell``square, an edge or a vertex. Squares are bounded
-        by four vertices, edges by two vertices.
+        - ``cell`` square, an edge or a vertex. Squares are bounded
+          by four vertices, edges by two vertices.
 
         OUTPUT:
         The boundary of a cell is the list of vertices bounding it.
 
         EXAMPLES::
 
-        sage: phi = FreeGroupAutomorphism("a->ab,b->ac,c->a")**2
-        sage: C = ConvexCore(phi)
-        sage: C.boundary((Word('C'), 0, 'c', 'a')) # boundary of a square
-        [(word: C, 0, ('c', 0)),
-        (word: , 0, ('a', 1)),
-        (word: Bc, 0, ('C', 0)),
-        (word: B, 0, ('A', 1))]
+            sage: phi = FreeGroupAutomorphism("a->ab,b->ac,c->a")**2
+            sage: C = ConvexCore(phi)
+            sage: C.boundary((Word('C'), 0, 'c', 'a')) # boundary of a square
+            [(word: C, 0, ('c', 0)),
+            (word: , 0, ('a', 1)),
+            (word: Bc, 0, ('C', 0)),
+            (word: B, 0, ('A', 1))]
 
-        sage: C.boundary([3, 0, 2, 1, 'c', 'a']) # boundary of a square
-        [[3, 0, ('c', 0)], [0, 2, ('a', 1)], [2, 1, ('C', 0)], [1, 3, ('A', 1)]]
+            sage: C.boundary([3, 0, 2, 1, 'c', 'a']) # boundary of a square
+            [[3, 0, ('c', 0)], [0, 2, ('a', 1)], [2, 1, ('C', 0)], [1, 3, ('A', 1)]]
 
-        sage: C.boundary((Word('Bc'),0,('C',0))) # boundary of an edge 
-        [(word: Bc, 0), (word: B, 0)]
+            sage: C.boundary((Word('Bc'),0,('C',0))) # boundary of an edge 
+            [(word: Bc, 0), (word: B, 0)]
 
-        sage: C.boundary([2,1,'C']) # boundary of an edge
-        [2, 1]
+            sage: C.boundary([2,1,'C']) # boundary of an edge
+            [2, 1]
         """
 
         if isinstance(cell, tuple):
```



---

archive/issue_comments_273761.json:
```json
{
    "body": "<a id='comment:20'></a>Building documentation fails.  And I get many doctest failing:\n\n\nsage -t --warn-long 47.3 src/sage/combinat/words/test_train_track.py  # 5 doctests failed\nsage -t --warn-long 47.3 src/sage/misc/sagedoc.py  # 4 doctests failed\nsage -t --warn-long 47.3 src/sage/categories/groups.py  # 2 doctests failed\nsage -t --warn-long 47.3 src/sage/categories/magmas.py  # 13 doctests failed\nsage -t --warn-long 47.3 src/sage/modules/vector_double_dense.pyx  # 1 doctest failed\nsage -t --warn-long 47.3 src/sage/modules/with_basis/representation.py  # 2 doctests failed\nsage -t --warn-long 47.3 src/sage/groups/braid.py  # 27 doctests failed\nsage -t --warn-long 47.3 src/sage/groups/libgap_wrapper.pyx  # 76 doctests failed\nsage -t --warn-long 47.3 src/sage/groups/finitely_presented.py  # 241 doctests failed\nsage -t --warn-long 47.3 src/sage/groups/group.pyx  # 2 doctests failed\nsage -t --warn-long 47.3 src/sage/groups/free_group.py  # 123 doctests failed\nsage -t --warn-long 47.3 src/sage/groups/libgap_group.py  # 11 doctests failed\nsage -t --warn-long 47.3 src/sage/groups/generic.py  # 3 doctests failed\n\n\n\nI don't think it is a good idea to override the default FreeGorup implementation. Many parts of Sage deppend on it. It would make more sense to extend it with the methods that are needed for the rest of your code.",
    "created_at": "2016-05-02T16:21:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273761",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:20'></a>Building documentation fails.  And I get many doctest failing:


sage -t --warn-long 47.3 src/sage/combinat/words/test_train_track.py  # 5 doctests failed
sage -t --warn-long 47.3 src/sage/misc/sagedoc.py  # 4 doctests failed
sage -t --warn-long 47.3 src/sage/categories/groups.py  # 2 doctests failed
sage -t --warn-long 47.3 src/sage/categories/magmas.py  # 13 doctests failed
sage -t --warn-long 47.3 src/sage/modules/vector_double_dense.pyx  # 1 doctest failed
sage -t --warn-long 47.3 src/sage/modules/with_basis/representation.py  # 2 doctests failed
sage -t --warn-long 47.3 src/sage/groups/braid.py  # 27 doctests failed
sage -t --warn-long 47.3 src/sage/groups/libgap_wrapper.pyx  # 76 doctests failed
sage -t --warn-long 47.3 src/sage/groups/finitely_presented.py  # 241 doctests failed
sage -t --warn-long 47.3 src/sage/groups/group.pyx  # 2 doctests failed
sage -t --warn-long 47.3 src/sage/groups/free_group.py  # 123 doctests failed
sage -t --warn-long 47.3 src/sage/groups/libgap_group.py  # 11 doctests failed
sage -t --warn-long 47.3 src/sage/groups/generic.py  # 3 doctests failed



I don't think it is a good idea to override the default FreeGorup implementation. Many parts of Sage deppend on it. It would make more sense to extend it with the methods that are needed for the rest of your code.



---

archive/issue_comments_273762.json:
```json
{
    "body": "<a id='comment:22'></a>please use python3 style of print function everywhere : `print(x)`",
    "created_at": "2016-05-03T06:09:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273762",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:22'></a>please use python3 style of print function everywhere : `print(x)`



---

archive/issue_comments_273763.json:
```json
{
    "body": "<a id='comment:23'></a>Yes, I begin to understand, that I will need to use (and add functionalities) to the current FreeGroup.\n\nThe main difficulty is that I rely heavily on WordMorphism, in particular for parsing: \n\nFreeGroupAutomorphism(\"a->ab,b->aC,c->a\")\n\nAnd for applying or compose morphisms. These are heavily used in my program.\n\nThis suggest that I would like that my elements of FreeGroup are Word. Do you have any objection to FreeGroup also inheriting from Words ? And FreeGroupElement from Word ?\n\nI guess that it is not too complicated to add Words and Word methods to your FreeGroup and FreeGroupElement. But will that interfere with deeper GAP implementations (I am completly new to GAP)?\n\nWould that be satisfactory to Sage gurus that FreeGroup are both an algebraic object and a symbolic one ?\n\nFinally there is also a IndexedFreeGroup class which is not a wrapper of GAP, how does it fit in this discussion ?\n\n> I don't think it is a good idea to override the default FreeGorup implementation. Many parts of Sage deppend on it. It would make more sense to extend it with the methods that are needed for the rest of your code.",
    "created_at": "2016-05-03T12:10:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273763",
    "user": "https://trac.sagemath.org/admin/accounts/users/coulbois"
}
```

<a id='comment:23'></a>Yes, I begin to understand, that I will need to use (and add functionalities) to the current FreeGroup.

The main difficulty is that I rely heavily on WordMorphism, in particular for parsing: 

FreeGroupAutomorphism("a->ab,b->aC,c->a")

And for applying or compose morphisms. These are heavily used in my program.

This suggest that I would like that my elements of FreeGroup are Word. Do you have any objection to FreeGroup also inheriting from Words ? And FreeGroupElement from Word ?

I guess that it is not too complicated to add Words and Word methods to your FreeGroup and FreeGroupElement. But will that interfere with deeper GAP implementations (I am completly new to GAP)?

Would that be satisfactory to Sage gurus that FreeGroup are both an algebraic object and a symbolic one ?

Finally there is also a IndexedFreeGroup class which is not a wrapper of GAP, how does it fit in this discussion ?

> I don't think it is a good idea to override the default FreeGorup implementation. Many parts of Sage deppend on it. It would make more sense to extend it with the methods that are needed for the rest of your code.



---

archive/issue_comments_273764.json:
```json
{
    "body": "<a id='comment:24'></a>I guess it makes sense to consider FreeGroupElements as Words, but we should be careful to make sure that the multiple inheritance doesn't break anything. We should also probably rewrite the different constructors.\n\nIn any case, we need a class for morphisms of free groups (or more general, finitely presented groups), so it might be a good opportunity to design that infrastructure.",
    "created_at": "2016-05-03T12:30:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273764",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:24'></a>I guess it makes sense to consider FreeGroupElements as Words, but we should be careful to make sure that the multiple inheritance doesn't break anything. We should also probably rewrite the different constructors.

In any case, we need a class for morphisms of free groups (or more general, finitely presented groups), so it might be a good opportunity to design that infrastructure.



---

archive/issue_comments_273765.json:
```json
{
    "body": "<a id='comment:25'></a>Replying to [comment:24 mmarco]:\n> In any case, we need a class for morphisms of free groups (or more general, finitely presented groups), so it might be a good opportunity to design that infrastructure.\n\n\nThis is my opinion as well. Parsing of the input is an API decision and, IMO, not a good reason to use a specific implementation. Unless you are using other features of `WordMorphism` that are not (currently) available to the current group morphisms or I am misunderstanding comment:23.\n\nActually, I am somewhat not in favor of using words because of the need to handle inverses in the free group. There should not really be that much of an implementation difference between the free group using words or GAP, just an API difference...at least I'd imagine there shouldn't be...",
    "created_at": "2016-05-03T20:37:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273765",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:25'></a>Replying to [comment:24 mmarco]:
> In any case, we need a class for morphisms of free groups (or more general, finitely presented groups), so it might be a good opportunity to design that infrastructure.


This is my opinion as well. Parsing of the input is an API decision and, IMO, not a good reason to use a specific implementation. Unless you are using other features of `WordMorphism` that are not (currently) available to the current group morphisms or I am misunderstanding comment:23.

Actually, I am somewhat not in favor of using words because of the need to handle inverses in the free group. There should not really be that much of an implementation difference between the free group using words or GAP, just an API difference...at least I'd imagine there shouldn't be...



---

archive/issue_comments_273766.json:
```json
{
    "body": "<a id='comment:26'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-05-04T17:03:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273766",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:26'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_273767.json:
```json
{
    "body": "<a id='comment:27'></a>Dominique finished to set-up the test and to clean-up the doc. Let's say that we have a clean version 1. I am refering to the master branch of my https://github.com/coulbois/sage-train-track repository.\n\n1/ Please try and explore this version for functionnalities. Do you find all what you need for free group automorphisms and train-tracks ?\n\n2/ Now, we need to make that compatible with the FreeGroup of sage.groups. I propose to start from the file sage.groups.free_group.py and add the methods I need. This is the purpose of the work branch in my https://github.com/coulbois/sage-train-track repository. I fear that this implies giving-up the fact that free groups elements are words. Everybody is okay with that ?\n\n(I guess I am not in the correct Sage workflow, please comment if you have a better one).",
    "created_at": "2016-05-11T19:33:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273767",
    "user": "https://trac.sagemath.org/admin/accounts/users/coulbois"
}
```

<a id='comment:27'></a>Dominique finished to set-up the test and to clean-up the doc. Let's say that we have a clean version 1. I am refering to the master branch of my https://github.com/coulbois/sage-train-track repository.

1/ Please try and explore this version for functionnalities. Do you find all what you need for free group automorphisms and train-tracks ?

2/ Now, we need to make that compatible with the FreeGroup of sage.groups. I propose to start from the file sage.groups.free_group.py and add the methods I need. This is the purpose of the work branch in my https://github.com/coulbois/sage-train-track repository. I fear that this implies giving-up the fact that free groups elements are words. Everybody is okay with that ?

(I guess I am not in the correct Sage workflow, please comment if you have a better one).



---

archive/issue_comments_273768.json:
```json
{
    "body": "<a id='comment:28'></a>I still haven't taken a detailed looked yet (sorry), but this does look very impressive. I am looking forward to getting this project and code included into Sage.\n\nI think it would be good for you to list here exactly what functionality you're missing from free groups in Sage (and their morphisms) and/or to create a separate ticket, which would become a dependency of this ticket, that would implement these features.\n\nAlthough, you are not really loosing the interpretation of free group elements as words because you have the `Tietze()`, but it will likely require some changes to the implementations. (Sorry for a bit of repetition, but IMO, a finite word is much more naturally associated with a free monoid because of the concatenation does not involve cancellation.) The biggest possible obstruction to this that I see currently is that you are using some feature only implemented for word morphisms.\n\nMath question, does the theory of train-tracks extend to free groups on (countably) infinite generators?",
    "created_at": "2016-05-12T05:24:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273768",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:28'></a>I still haven't taken a detailed looked yet (sorry), but this does look very impressive. I am looking forward to getting this project and code included into Sage.

I think it would be good for you to list here exactly what functionality you're missing from free groups in Sage (and their morphisms) and/or to create a separate ticket, which would become a dependency of this ticket, that would implement these features.

Although, you are not really loosing the interpretation of free group elements as words because you have the `Tietze()`, but it will likely require some changes to the implementations. (Sorry for a bit of repetition, but IMO, a finite word is much more naturally associated with a free monoid because of the concatenation does not involve cancellation.) The biggest possible obstruction to this that I see currently is that you are using some feature only implemented for word morphisms.

Math question, does the theory of train-tracks extend to free groups on (countably) infinite generators?



---

archive/issue_comments_273769.json:
```json
{
    "body": "<a id='comment:29'></a>> 2/ Now, we need to make that compatible with the FreeGroup of sage.groups. I propose to start from the file sage.groups.free_group.py and add the methods I need. This is the purpose of the work branch in my https://github.com/coulbois/sage-train-track repository. I fear that this implies giving-up the fact that free groups elements are words. Everybody is okay with that ?\n> \n\n\nI am certainly okay with that. From a quick look at your code, it sounds very natural to rewrite it on top of existing FreeGroups (for instance, you needed to add some way to concatenate word with cancelations, whereas in the framework of freegroups you have all that for free as the standard product).\n\n> (I guess I am not in the correct Sage workflow, please comment if you have a better one).\n\n\nIn theory, we should handle the branches in this server instead of github. But given the size of the project, and the fact that we are in a stage where we are pretty much experimenting before deciding the actual dessign, it may be ok to handle this early branches somewhere else (as long is everybody is ok about working through github). Although at some point we should move it all to trac branches.",
    "created_at": "2016-05-12T12:03:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273769",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:29'></a>> 2/ Now, we need to make that compatible with the FreeGroup of sage.groups. I propose to start from the file sage.groups.free_group.py and add the methods I need. This is the purpose of the work branch in my https://github.com/coulbois/sage-train-track repository. I fear that this implies giving-up the fact that free groups elements are words. Everybody is okay with that ?
> 


I am certainly okay with that. From a quick look at your code, it sounds very natural to rewrite it on top of existing FreeGroups (for instance, you needed to add some way to concatenate word with cancelations, whereas in the framework of freegroups you have all that for free as the standard product).

> (I guess I am not in the correct Sage workflow, please comment if you have a better one).


In theory, we should handle the branches in this server instead of github. But given the size of the project, and the fact that we are in a stage where we are pretty much experimenting before deciding the actual dessign, it may be ok to handle this early branches somewhere else (as long is everybody is ok about working through github). Although at some point we should move it all to trac branches.



---

archive/issue_comments_273770.json:
```json
{
    "body": "<a id='comment:30'></a>Hi all,\n\nAs Thierry says previously we decided to make the compatibilyty with the sage FreeGroup through the hard way,  used it and add functionnalities. Three or more module need to be rewrited,  when we obtain a first draft version I am pushing in in the sage ticket. So there no need for you to worry about a external branche.\n\nDominique",
    "created_at": "2016-05-12T13:21:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273770",
    "user": "https://trac.sagemath.org/admin/accounts/users/dbenielli"
}
```

<a id='comment:30'></a>Hi all,

As Thierry says previously we decided to make the compatibilyty with the sage FreeGroup through the hard way,  used it and add functionnalities. Three or more module need to be rewrited,  when we obtain a first draft version I am pushing in in the sage ticket. So there no need for you to worry about a external branche.

Dominique



---

archive/issue_comments_273771.json:
```json
{
    "body": "<a id='comment:31'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-05-17T11:42:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273771",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:31'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_273772.json:
```json
{
    "body": "<a id='comment:32'></a>Advice/approval needed\n\nI started using and modifying the existing FreeGroup. I refer to the work branch of my git repo (not the sage one)\n\n1/ My guess is that I can rely mainly on the Tietze() method of FreeGroupElement. I have no idea of the GAP implementation of FreeGroupElement.\n\n2/ I extended init() methods to allow more API (accepting strings for example). I added __getitem__ and comparisons methods. Now FreeGroupElement behave loosely as words and I expect to rely on them.\n\n3/ I started to adapt the FreeGroupMorphism. I am not really willing to write a GroupMorphism (even an abstract one) class as I have no idea of what Group and GroupElement look like. I propose to use a _morph variable to store a dictionnary that map FreeGroupElement (the generators and their inverses) to FreeGroupElement (once again I have no idea of the cost, may be a dictionnary from integers to integer list together with Tietze() would be more efficient though less natural).\n\nThe doc is not yet up-to-date. \n\nI am currently working further. But please stop me if you believe my choices are stupid.",
    "created_at": "2016-05-17T14:59:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273772",
    "user": "https://trac.sagemath.org/admin/accounts/users/coulbois"
}
```

<a id='comment:32'></a>Advice/approval needed

I started using and modifying the existing FreeGroup. I refer to the work branch of my git repo (not the sage one)

1/ My guess is that I can rely mainly on the Tietze() method of FreeGroupElement. I have no idea of the GAP implementation of FreeGroupElement.

2/ I extended init() methods to allow more API (accepting strings for example). I added __getitem__ and comparisons methods. Now FreeGroupElement behave loosely as words and I expect to rely on them.

3/ I started to adapt the FreeGroupMorphism. I am not really willing to write a GroupMorphism (even an abstract one) class as I have no idea of what Group and GroupElement look like. I propose to use a _morph variable to store a dictionnary that map FreeGroupElement (the generators and their inverses) to FreeGroupElement (once again I have no idea of the cost, may be a dictionnary from integers to integer list together with Tietze() would be more efficient though less natural).

The doc is not yet up-to-date. 

I am currently working further. But please stop me if you believe my choices are stupid.



---

archive/issue_comments_273773.json:
```json
{
    "body": "<a id='comment:33'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-05-17T16:15:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273773",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:33'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_273774.json:
```json
{
    "body": "<a id='comment:34'></a>Replying to [comment:32 coulbois]:\n> 1/ My guess is that I can rely mainly on the Tietze() method of FreeGroupElement. I have no idea of the GAP implementation of FreeGroupElement.\n\n\nThis is the way to go because `Tietze()` pull info from its GAP data. This should also be reasonably fast.\n\n> 2/ I extended init() methods to allow more API (accepting strings for example). I added __getitem__ and comparisons methods. Now FreeGroupElement behave loosely as words and I expect to rely on them.\n\n\nI am okay with the `__getitem__`. There is a default total order from the generic GAP element implementation, which the total order may or may not be good, but it is likely one of the faster ways to check for (in)equality. However, I haven't looked at your current code yet.\n\n> 3/ I started to adapt the FreeGroupMorphism. I am not really willing to write a GroupMorphism (even an abstract one) class as I have no idea of what Group and GroupElement look like. I propose to use a _morph variable to store a dictionnary that map FreeGroupElement (the generators and their inverses) to FreeGroupElement (once again I have no idea of the cost, may be a dictionnary from integers to integer list together with Tietze() would be more efficient though less natural).\n\n\nNo matter what, I think you would need a `FreeGroupMorphism` class for everything that you want to do. I think the *internal* storage method should depend on the application, but the *user* input should be a tuple, which is consistent with the rest of Sage and requires less validation of the input.\n\nYou will probably want to create a `FreeGroupHomset` (which you will need to add a `_hom_` method to `FreeGroup` to create this), whose elements are your `FreeGroupMorphism`, which can be constructed directly from the `hom` method. By having the morphism take a tuple as input, you shouldn't have to modify the `hom` method.\n\nA question: does your framework handle morphisms to free groups with different generator labels? If not, would it be easy to support this (and do you want to)? If also no, then don't worry about it.",
    "created_at": "2016-05-17T22:47:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273774",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:34'></a>Replying to [comment:32 coulbois]:
> 1/ My guess is that I can rely mainly on the Tietze() method of FreeGroupElement. I have no idea of the GAP implementation of FreeGroupElement.


This is the way to go because `Tietze()` pull info from its GAP data. This should also be reasonably fast.

> 2/ I extended init() methods to allow more API (accepting strings for example). I added __getitem__ and comparisons methods. Now FreeGroupElement behave loosely as words and I expect to rely on them.


I am okay with the `__getitem__`. There is a default total order from the generic GAP element implementation, which the total order may or may not be good, but it is likely one of the faster ways to check for (in)equality. However, I haven't looked at your current code yet.

> 3/ I started to adapt the FreeGroupMorphism. I am not really willing to write a GroupMorphism (even an abstract one) class as I have no idea of what Group and GroupElement look like. I propose to use a _morph variable to store a dictionnary that map FreeGroupElement (the generators and their inverses) to FreeGroupElement (once again I have no idea of the cost, may be a dictionnary from integers to integer list together with Tietze() would be more efficient though less natural).


No matter what, I think you would need a `FreeGroupMorphism` class for everything that you want to do. I think the *internal* storage method should depend on the application, but the *user* input should be a tuple, which is consistent with the rest of Sage and requires less validation of the input.

You will probably want to create a `FreeGroupHomset` (which you will need to add a `_hom_` method to `FreeGroup` to create this), whose elements are your `FreeGroupMorphism`, which can be constructed directly from the `hom` method. By having the morphism take a tuple as input, you shouldn't have to modify the `hom` method.

A question: does your framework handle morphisms to free groups with different generator labels? If not, would it be easy to support this (and do you want to)? If also no, then don't worry about it.



---

archive/issue_events_054797.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/dbenielli",
    "created_at": "2016-06-13T17:20:26Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "milestone": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20154#event-54797"
}
```



---

archive/issue_comments_273775.json:
```json
{
    "body": "Changing component from combinatorics to group theory.",
    "created_at": "2016-06-13T17:20:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273775",
    "user": "https://trac.sagemath.org/admin/accounts/users/dbenielli"
}
```

Changing component from combinatorics to group theory.



---

archive/issue_comments_273776.json:
```json
{
    "body": "<a id='comment:37'></a>New commits:",
    "created_at": "2016-06-14T17:08:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273776",
    "user": "https://github.com/videlec"
}
```

<a id='comment:37'></a>New commits:



---

archive/issue_comments_273777.json:
```json
{
    "body": "<a id='comment:38'></a>(I fixed the name of the branch, it was `train-track` and not `train_track`)",
    "created_at": "2016-06-14T17:09:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273777",
    "user": "https://github.com/videlec"
}
```

<a id='comment:38'></a>(I fixed the name of the branch, it was `train-track` and not `train_track`)



---

archive/issue_comments_273778.json:
```json
{
    "body": "<a id='comment:39'></a>For python3 compatibility:\n\n* please do not use the `it.next` method, but instead `next(it)`\n\n* please do not write `print (something)` but rather `print(something)` (no space after print)\n\nsee my patchbot's report for more information",
    "created_at": "2016-06-15T07:59:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273778",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:39'></a>For python3 compatibility:

* please do not use the `it.next` method, but instead `next(it)`

* please do not write `print (something)` but rather `print(something)` (no space after print)

see my patchbot's report for more information



---

archive/issue_comments_273779.json:
```json
{
    "body": "<a id='comment:40'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-06-15T09:07:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273779",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:40'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_273780.json:
```json
{
    "body": "<a id='comment:41'></a>ok - use the it.next method, but instead next(it)\nok - print(something) \n\nin commit 020d0a2\tpython3 compatibility",
    "created_at": "2016-06-15T09:12:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273780",
    "user": "https://trac.sagemath.org/admin/accounts/users/dbenielli"
}
```

<a id='comment:41'></a>ok - use the it.next method, but instead next(it)
ok - print(something) 

in commit 020d0a2	python3 compatibility



---

archive/issue_comments_273781.json:
```json
{
    "body": "<a id='comment:42'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-06-15T17:34:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273781",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:42'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_273782.json:
```json
{
    "body": "<a id='comment:43'></a>there remains two lines with old-style python2 print (in the doctests) see red plugin in latest patchbot report (which also gives two false positives that can be ignored)",
    "created_at": "2016-06-15T18:54:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273782",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:43'></a>there remains two lines with old-style python2 print (in the doctests) see red plugin in latest patchbot report (which also gives two false positives that can be ignored)



---

archive/issue_comments_273783.json:
```json
{
    "body": "<a id='comment:44'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-06-16T08:57:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273783",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:44'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_273784.json:
```json
{
    "body": "<a id='comment:45'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-06-16T16:14:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273784",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:45'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_273785.json:
```json
{
    "body": "<a id='comment:46'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-06-16T16:19:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273785",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:46'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_273786.json:
```json
{
    "body": "<a id='comment:47'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-06-17T08:47:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273786",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:47'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_273787.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-06-17T08:57:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273787",
    "user": "https://trac.sagemath.org/admin/accounts/users/dbenielli"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_273788.json:
```json
{
    "body": "<a id='comment:49'></a>doc does not build, and there remains old-style prints, see my patchbot's latest report",
    "created_at": "2016-06-18T17:59:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273788",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:49'></a>doc does not build, and there remains old-style prints, see my patchbot's latest report



---

archive/issue_comments_273789.json:
```json
{
    "body": "<a id='comment:50'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-06-20T07:35:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273789",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:50'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_273790.json:
```json
{
    "body": "<a id='comment:51'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-06-20T10:14:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273790",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:51'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_273791.json:
```json
{
    "body": "<a id='comment:52'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-06-20T11:23:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273791",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:52'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_273792.json:
```json
{
    "body": "<a id='comment:53'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-06-20T13:44:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273792",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:53'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_273793.json:
```json
{
    "body": "<a id='comment:54'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-06-21T08:33:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273793",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:54'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_273794.json:
```json
{
    "body": "<a id='comment:55'></a>Hello Dominique, Thierry,\n\nThere are two current problems (see the failing doctests of patchbot):\n\n- the comparison between elements of the free group changed. Before we had the following order on generators `x_0^-1`, `x_0`, `x_1^-1`, `x_1`, ... But with your branch, because you use direct comparison on the Tietze generators, it became `x_n^-1`, `x_{n-1}^-1`, ..., `x_0^-1`, `x_0`, `x_1`, ..., I think the former was preferable. What do you think?\n\n- there are a lot of failure related to the `free_group.py` being moved. You just need to change the occurrence of `sage.groups.free_group` by `sage.groups.free_groups.free_group` everywhere.",
    "created_at": "2016-06-21T20:48:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273794",
    "user": "https://github.com/videlec"
}
```

<a id='comment:55'></a>Hello Dominique, Thierry,

There are two current problems (see the failing doctests of patchbot):

- the comparison between elements of the free group changed. Before we had the following order on generators `x_0^-1`, `x_0`, `x_1^-1`, `x_1`, ... But with your branch, because you use direct comparison on the Tietze generators, it became `x_n^-1`, `x_{n-1}^-1`, ..., `x_0^-1`, `x_0`, `x_1`, ..., I think the former was preferable. What do you think?

- there are a lot of failure related to the `free_group.py` being moved. You just need to change the occurrence of `sage.groups.free_group` by `sage.groups.free_groups.free_group` everywhere.



---

archive/issue_comments_273795.json:
```json
{
    "body": "<a id='comment:56'></a>No problem for the order of the generators and their inverses. However the reason for rewriting the _cmp_ method was that I want the neutral element to be smaller than all other elements of the free group. Which was not the case with the previous version.\n\nI do not know how the previous order was implemented (deep inside GAP ?)",
    "created_at": "2016-06-22T12:47:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273795",
    "user": "https://trac.sagemath.org/admin/accounts/users/coulbois"
}
```

<a id='comment:56'></a>No problem for the order of the generators and their inverses. However the reason for rewriting the _cmp_ method was that I want the neutral element to be smaller than all other elements of the free group. Which was not the case with the previous version.

I do not know how the previous order was implemented (deep inside GAP ?)



---

archive/issue_comments_273796.json:
```json
{
    "body": "<a id='comment:57'></a>In the current Sage, it calls the comparison between the (lib)GAP objects; so my understanding is GAP handles the comparison.",
    "created_at": "2016-06-22T14:56:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273796",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:57'></a>In the current Sage, it calls the comparison between the (lib)GAP objects; so my understanding is GAP handles the comparison.



---

archive/issue_comments_273797.json:
```json
{
    "body": "<a id='comment:58'></a>Hello All,\n\nMy last commits do not appear in the ticket comments:\n\n- I did my best to remove failures that appear in the patchchboot log (the make worked on my computer strange behavior?), and improve tests coverage, that seems to be a blocked point.\n\n- For the order generators in my sens the remark from Vincent was about the previous version of free_group but the train_track version because a lot of order changed with the use of free_ group generators of Gap. But maybe, I confuse and the re-writting of _cmp method also change the orther.\n\nBest regards\nDominique\n\n---\nNew commits:",
    "created_at": "2016-06-23T08:25:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273797",
    "user": "https://trac.sagemath.org/admin/accounts/users/dbenielli"
}
```

<a id='comment:58'></a>Hello All,

My last commits do not appear in the ticket comments:

- I did my best to remove failures that appear in the patchchboot log (the make worked on my computer strange behavior?), and improve tests coverage, that seems to be a blocked point.

- For the order generators in my sens the remark from Vincent was about the previous version of free_group but the train_track version because a lot of order changed with the use of free_ group generators of Gap. But maybe, I confuse and the re-writting of _cmp method also change the orther.

Best regards
Dominique

---
New commits:



---

archive/issue_comments_273798.json:
```json
{
    "body": "<a id='comment:59'></a>Replying to [comment:56 coulbois]:\n> No problem for the order of the generators and their inverses. However the reason for rewriting the _cmp_ method was that I want the neutral element to be smaller than all other elements of the free group. Which was not the case with the previous version.\n\n\nIt was...\n\n```\nsage: F = FreeGroup(['a','b'])\nsage: a,b = F.gens()\nsage: l = [a,b,~a,~b,a*b,~a*b,F.one()]\nsage: sorted(l)\n[1, a^-1, a, b^-1, b, a^-1*b, a*b]\nsage: F.one() < a\nTrue\nsage: a < F.one()\nFalse\n```\nWhat is wrong with the above? It is first sorted by length and then (almost) lexicographically. This is indeed different from order on lists which is straight lexicographic.\n\n> I do not know how the previous order was implemented (deep inside GAP ?)\n\n \nIt indeed used the gap comparison which seems reasonable to me.",
    "created_at": "2016-06-23T16:48:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273798",
    "user": "https://github.com/videlec"
}
```

<a id='comment:59'></a>Replying to [comment:56 coulbois]:
> No problem for the order of the generators and their inverses. However the reason for rewriting the _cmp_ method was that I want the neutral element to be smaller than all other elements of the free group. Which was not the case with the previous version.


It was...

```
sage: F = FreeGroup(['a','b'])
sage: a,b = F.gens()
sage: l = [a,b,~a,~b,a*b,~a*b,F.one()]
sage: sorted(l)
[1, a^-1, a, b^-1, b, a^-1*b, a*b]
sage: F.one() < a
True
sage: a < F.one()
False
```
What is wrong with the above? It is first sorted by length and then (almost) lexicographically. This is indeed different from order on lists which is straight lexicographic.

> I do not know how the previous order was implemented (deep inside GAP ?)

 
It indeed used the gap comparison which seems reasonable to me.



---

archive/issue_comments_273799.json:
```json
{
    "body": "<a id='comment:60'></a>The ticket test failled status comes from a  a problem with pathboot\nsee\nhttp://ask.sagemath.org/question/33899/doc-test-fail-in-patchboot-and-not-on-my-computer/",
    "created_at": "2016-07-21T09:22:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273799",
    "user": "https://trac.sagemath.org/admin/accounts/users/dbenielli"
}
```

<a id='comment:60'></a>The ticket test failled status comes from a  a problem with pathboot
see
http://ask.sagemath.org/question/33899/doc-test-fail-in-patchboot-and-not-on-my-computer/



---

archive/issue_comments_273800.json:
```json
{
    "body": "<a id='comment:61'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-07-28T12:38:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273800",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:61'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_273801.json:
```json
{
    "body": "<a id='comment:62'></a>coverage is not yet 100%",
    "created_at": "2016-07-28T18:21:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273801",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:62'></a>coverage is not yet 100%



---

archive/issue_comments_273802.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-07-28T18:21:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273802",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_273803.json:
```json
{
    "body": "<a id='comment:63'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-07-29T13:34:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273803",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:63'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_273804.json:
```json
{
    "body": "<a id='comment:64'></a>The patchboot is now on test passed (TestsPassed 7.3.rc0 Ubuntu/14.04/x86_64/3.13.0-92-generic/librae), please review our work on train track for its intergration in sage",
    "created_at": "2016-09-01T10:02:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273804",
    "user": "https://trac.sagemath.org/admin/accounts/users/dbenielli"
}
```

<a id='comment:64'></a>The patchboot is now on test passed (TestsPassed 7.3.rc0 Ubuntu/14.04/x86_64/3.13.0-92-generic/librae), please review our work on train track for its intergration in sage



---

archive/issue_comments_273805.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-09-01T10:02:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273805",
    "user": "https://trac.sagemath.org/admin/accounts/users/dbenielli"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_273806.json:
```json
{
    "body": "<a id='comment:65'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-09-07T11:48:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273806",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:65'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_273807.json:
```json
{
    "body": "<a id='comment:66'></a>I do still plan on reviewing this, but I need some things to settle down first before I can do a large-scale code review.",
    "created_at": "2016-09-07T14:13:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273807",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:66'></a>I do still plan on reviewing this, but I need some things to settle down first before I can do a large-scale code review.



---

archive/issue_comments_273808.json:
```json
{
    "body": "<a id='comment:67'></a>what about [comment:59]? I see no need to change `_cmp_`.",
    "created_at": "2016-09-08T20:03:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273808",
    "user": "https://github.com/videlec"
}
```

<a id='comment:67'></a>what about [comment:59]? I see no need to change `_cmp_`.



---

archive/issue_comments_273809.json:
```json
{
    "body": "<a id='comment:68'></a>`reference needed` is not a valid reference ;-)",
    "created_at": "2016-09-08T20:04:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273809",
    "user": "https://github.com/videlec"
}
```

<a id='comment:68'></a>`reference needed` is not a valid reference ;-)



---

archive/issue_comments_273810.json:
```json
{
    "body": "<a id='comment:69'></a>In the documentation of almost all examples of automorphism the information is duplicated as in\n\n```\nThis is a pseudo-Anosov mapping class of the 5-punctured\nsphere. Thus this is not an iwip. However, its representative\non the rose in train-track.\n\nOUTPUT:\n\nan Automorphism of F_4 given in [BH] see also [Kapovich].\nThis is a pseudo-Anosov mapping class of the 5-punctured     <-- exact copy!\nsphere. Thus this is not an iwip. However, its representative\non the rose in train-track.\n```",
    "created_at": "2016-09-08T20:06:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273810",
    "user": "https://github.com/videlec"
}
```

<a id='comment:69'></a>In the documentation of almost all examples of automorphism the information is duplicated as in

```
This is a pseudo-Anosov mapping class of the 5-punctured
sphere. Thus this is not an iwip. However, its representative
on the rose in train-track.

OUTPUT:

an Automorphism of F_4 given in [BH] see also [Kapovich].
This is a pseudo-Anosov mapping class of the 5-punctured     <-- exact copy!
sphere. Thus this is not an iwip. However, its representative
on the rose in train-track.
```



---

archive/issue_comments_273811.json:
```json
{
    "body": "<a id='comment:70'></a>Replying to [comment:67 vdelecroix]:\n> what about [comment:59]? I see no need to change `_cmp_`.\n\n\nthe rewriting of _cmp_ order leads to some modifications outside free_group for tests, but I did  changes, so I think is ok unless if there are some  GAP reasons.",
    "created_at": "2016-09-09T08:13:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273811",
    "user": "https://trac.sagemath.org/admin/accounts/users/dbenielli"
}
```

<a id='comment:70'></a>Replying to [comment:67 vdelecroix]:
> what about [comment:59]? I see no need to change `_cmp_`.


the rewriting of _cmp_ order leads to some modifications outside free_group for tests, but I did  changes, so I think is ok unless if there are some  GAP reasons.



---

archive/issue_comments_273812.json:
```json
{
    "body": "<a id='comment:71'></a>Replying to [comment:70 dbenielli]:\n> Replying to [comment:67 vdelecroix]:\n> > what about [comment:59]? I see no need to change `_cmp_`.\n\n> \n> the rewriting of _cmp_ order leads to some modifications outside free_group for tests, but I did  changes, so I think is ok unless if there are some  GAP reasons.\n\n\nThis is precisely my question: why is `_cmp_` changed at all?",
    "created_at": "2016-09-09T11:47:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273812",
    "user": "https://github.com/videlec"
}
```

<a id='comment:71'></a>Replying to [comment:70 dbenielli]:
> Replying to [comment:67 vdelecroix]:
> > what about [comment:59]? I see no need to change `_cmp_`.

> 
> the rewriting of _cmp_ order leads to some modifications outside free_group for tests, but I did  changes, so I think is ok unless if there are some  GAP reasons.


This is precisely my question: why is `_cmp_` changed at all?



---

archive/issue_comments_273813.json:
```json
{
    "body": "<a id='comment:72'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-10-05T13:07:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273813",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:72'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_273814.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-10-09T12:40:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273814",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_273815.json:
```json
{
    "body": "<a id='comment:73'></a>Hello,\n\nCommenting is not removing. More importantly, you have to revert all the changes you have done in previous commits related to this change of comparison order.",
    "created_at": "2016-10-09T12:40:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273815",
    "user": "https://github.com/videlec"
}
```

<a id='comment:73'></a>Hello,

Commenting is not removing. More importantly, you have to revert all the changes you have done in previous commits related to this change of comparison order.



---

archive/issue_comments_273816.json:
```json
{
    "body": "<a id='comment:74'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-10-10T11:16:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273816",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:74'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_273817.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-10-10T11:31:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273817",
    "user": "https://trac.sagemath.org/admin/accounts/users/coulbois"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_273818.json:
```json
{
    "body": "<a id='comment:75'></a>We revert to the _cmp_ method of FreeGroupElement to that of the GAP-wrapper (meaning that we removed the _cmp_ method from the free_groups/free_group.py file). Warning: this comparison is undocumented and it seems that it first compares the length of reduced words and then sort words of equal length in alphabetic order. In our train-track package it is mainly used while running the Nielsen-Whitehead algorithm to invert automorphisms (see FreeGroupMorphism.invert()). The order wrapped from GAP is satisfactory in this purpose.\n\nWe revert the doc-tests (that we had previously modified) from sage/groups/finitely_presented.py which use this order.\n\nAll doc-tests pass. \n\nWe now wait for other things to improve according to reviewers.",
    "created_at": "2016-10-10T11:31:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273818",
    "user": "https://trac.sagemath.org/admin/accounts/users/coulbois"
}
```

<a id='comment:75'></a>We revert to the _cmp_ method of FreeGroupElement to that of the GAP-wrapper (meaning that we removed the _cmp_ method from the free_groups/free_group.py file). Warning: this comparison is undocumented and it seems that it first compares the length of reduced words and then sort words of equal length in alphabetic order. In our train-track package it is mainly used while running the Nielsen-Whitehead algorithm to invert automorphisms (see FreeGroupMorphism.invert()). The order wrapped from GAP is satisfactory in this purpose.

We revert the doc-tests (that we had previously modified) from sage/groups/finitely_presented.py which use this order.

All doc-tests pass. 

We now wait for other things to improve according to reviewers.



---

archive/issue_comments_273819.json:
```json
{
    "body": "<a id='comment:76'></a>Hi Thierry, Hi Dominique,\n\nThe behavior is certainly documented in GAP. It might be worth to also have it (and test it) inside Sage. I am looking at the other pieces of your code now.\n\nVincent",
    "created_at": "2016-10-10T15:16:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273819",
    "user": "https://github.com/videlec"
}
```

<a id='comment:76'></a>Hi Thierry, Hi Dominique,

The behavior is certainly documented in GAP. It might be worth to also have it (and test it) inside Sage. I am looking at the other pieces of your code now.

Vincent



---

archive/issue_comments_273820.json:
```json
{
    "body": "<a id='comment:77'></a>Do you really need `compare_letters` ? Recall that `cmp(...)` is going to disappear in python3.",
    "created_at": "2016-10-11T19:07:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273820",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:77'></a>Do you really need `compare_letters` ? Recall that `cmp(...)` is going to disappear in python3.



---

archive/issue_comments_273821.json:
```json
{
    "body": "<a id='comment:78'></a>You mean the compare_letters in AlphabetWithInverses ?\n\nWell, we really need to be carefull on the order of the alphabet. And I don't see a way around that. We need to have alphabets where each letter comes with an inverse, we need to be able to add and remove letters. \n\nI agree that this is inspired by old versions of Words and Alphabet which now have disappeared from Sage. \n\nThe AlphabetWithInverses is now only used by our InverseGraph (and not by FreeGroup), and we want to strictly comply with Serre's definition (see Arbres, amlagames, SL2, aka Trees).",
    "created_at": "2016-10-12T16:13:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273821",
    "user": "https://trac.sagemath.org/admin/accounts/users/coulbois"
}
```

<a id='comment:78'></a>You mean the compare_letters in AlphabetWithInverses ?

Well, we really need to be carefull on the order of the alphabet. And I don't see a way around that. We need to have alphabets where each letter comes with an inverse, we need to be able to add and remove letters. 

I agree that this is inspired by old versions of Words and Alphabet which now have disappeared from Sage. 

The AlphabetWithInverses is now only used by our InverseGraph (and not by FreeGroup), and we want to strictly comply with Serre's definition (see Arbres, amlagames, SL2, aka Trees).



---

archive/issue_comments_273822.json:
```json
{
    "body": "<a id='comment:79'></a>there is only one `compare_letters` in the git branch, and it seems not to be used anywhere (only appears in its own doc)\n\nsorting should now generally be done using the keyword `key=` instead of `cmp=`",
    "created_at": "2016-10-12T16:27:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273822",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:79'></a>there is only one `compare_letters` in the git branch, and it seems not to be used anywhere (only appears in its own doc)

sorting should now generally be done using the keyword `key=` instead of `cmp=`



---

archive/issue_comments_273823.json:
```json
{
    "body": "<a id='comment:80'></a>The `compare_letters` might be indirectly used in some word algorithm (though I doubt it).",
    "created_at": "2016-10-12T16:58:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273823",
    "user": "https://github.com/videlec"
}
```

<a id='comment:80'></a>The `compare_letters` might be indirectly used in some word algorithm (though I doubt it).



---

archive/issue_comments_273824.json:
```json
{
    "body": "<a id='comment:81'></a>there is no `compare_letters` anywhere else in sage\n\n(git grep \"compare_letters\")",
    "created_at": "2016-10-12T17:01:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273824",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:81'></a>there is no `compare_letters` anywhere else in sage

(git grep "compare_letters")



---

archive/issue_comments_273825.json:
```json
{
    "body": "<a id='comment:82'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-10-28T16:26:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273825",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:82'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_273826.json:
```json
{
    "body": "<a id='comment:83'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-11-02T17:26:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273826",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:83'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_273827.json:
```json
{
    "body": "<a id='comment:84'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-11-10T21:08:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273827",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:84'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_273828.json:
```json
{
    "body": "<a id='comment:85'></a>does not apply",
    "created_at": "2016-12-12T16:43:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273828",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:85'></a>does not apply



---

archive/issue_comments_273829.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-12-12T16:43:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273829",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_273830.json:
```json
{
    "body": "<a id='comment:86'></a>I sent a question to https://ask.sagemath.org/question/35988/patchboot-coverage-failure-and-review/\nbecause I do not know what to do to fix it.\n\n\nHi sage team, My ticket #20154: train-tracks in public/train-track, is in need-work status, I guess the issue comes from coverage. But I do not see the fie ext/interpreters/wrapper_cc.pyx in my distribution , and for me this file doesn't belong to the ticket (that was true previously whent the patchboot works). I have absolutly no idea how to fix it, could you please tell me what to do to fix it and succes the review.\n\nThanks Dominique\n\n========== coverage ========== git checkout patchbot/ticket_merged Already on 'patchbot/ticket_merged' Missing doctests in ext/interpreters/wrapper_cc.pyx: 0 / 2 = 0% \nFull doctests in groups/free_groups/convex_core.py: 18 / 18 = 100% \nFull doctests in groups/free_groups/free_group.py: 22 / 22 = 100% \nFull doctests in groups/free_groups/free_group_automorphism.py: 61 / 61 = 100% \nFull doctests in groups/free_groups/graph_map.py: 18 / 18 = 100% \nFull doctests in groups/free_groups/graph_self_map.py: 41 / 41 = 100% \nFull doctests in groups/free_groups/inverse_alphabet.py: 24 / 24 = 100% \nFull doctests in groups/free_groups/inverse_graph.py: 40 / 40 = 100% \nFull doctests in groups/free_groups/marked_graph.py: 16 / 16 = 100% \nFull doctests in groups/free_groups/test_train_track.py: 4 / 4 = 100% \nFull doctests in groups/free_groups/train_track_map.py: 23 / 23 = 100% \nCoverage went from 41463 / 43258 = 95.850% to 41711 / 43508 = 95.870%",
    "created_at": "2016-12-12T18:30:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273830",
    "user": "https://trac.sagemath.org/admin/accounts/users/dbenielli"
}
```

<a id='comment:86'></a>I sent a question to https://ask.sagemath.org/question/35988/patchboot-coverage-failure-and-review/
because I do not know what to do to fix it.


Hi sage team, My ticket #20154: train-tracks in public/train-track, is in need-work status, I guess the issue comes from coverage. But I do not see the fie ext/interpreters/wrapper_cc.pyx in my distribution , and for me this file doesn't belong to the ticket (that was true previously whent the patchboot works). I have absolutly no idea how to fix it, could you please tell me what to do to fix it and succes the review.

Thanks Dominique

========== coverage ========== git checkout patchbot/ticket_merged Already on 'patchbot/ticket_merged' Missing doctests in ext/interpreters/wrapper_cc.pyx: 0 / 2 = 0% 
Full doctests in groups/free_groups/convex_core.py: 18 / 18 = 100% 
Full doctests in groups/free_groups/free_group.py: 22 / 22 = 100% 
Full doctests in groups/free_groups/free_group_automorphism.py: 61 / 61 = 100% 
Full doctests in groups/free_groups/graph_map.py: 18 / 18 = 100% 
Full doctests in groups/free_groups/graph_self_map.py: 41 / 41 = 100% 
Full doctests in groups/free_groups/inverse_alphabet.py: 24 / 24 = 100% 
Full doctests in groups/free_groups/inverse_graph.py: 40 / 40 = 100% 
Full doctests in groups/free_groups/marked_graph.py: 16 / 16 = 100% 
Full doctests in groups/free_groups/test_train_track.py: 4 / 4 = 100% 
Full doctests in groups/free_groups/train_track_map.py: 23 / 23 = 100% 
Coverage went from 41463 / 43258 = 95.850% to 41711 / 43508 = 95.870%



---

archive/issue_comments_273831.json:
```json
{
    "body": "<a id='comment:87'></a>This kind of patchbot report you can safely ignore. The patchbot is not perfect, and sometimes gives wrong failures. Patchbot is only here to help, not to be taken as an absolute requirement.\n\nThe problem now is that you need to rebase your branch on the latest beta, because there is a conflict (this make the branch red at top of the present page)",
    "created_at": "2016-12-12T19:06:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273831",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:87'></a>This kind of patchbot report you can safely ignore. The patchbot is not perfect, and sometimes gives wrong failures. Patchbot is only here to help, not to be taken as an absolute requirement.

The problem now is that you need to rebase your branch on the latest beta, because there is a conflict (this make the branch red at top of the present page)



---

archive/issue_comments_273832.json:
```json
{
    "body": "<a id='comment:88'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2016-12-14T08:52:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273832",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:88'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_273833.json:
```json
{
    "body": "<a id='comment:89'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-12-15T10:16:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273833",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:89'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_273834.json:
```json
{
    "body": "<a id='comment:90'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-01-27T17:36:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273834",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:90'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_273835.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-01-31T18:19:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273835",
    "user": "https://trac.sagemath.org/admin/accounts/users/dbenielli"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_273836.json:
```json
{
    "body": "<a id='comment:91'></a>I think I have corrected all python3 troubles, even though  the patchboot did  not give new result since 2016-12-14, I think it ok for review",
    "created_at": "2017-01-31T18:19:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273836",
    "user": "https://trac.sagemath.org/admin/accounts/users/dbenielli"
}
```

<a id='comment:91'></a>I think I have corrected all python3 troubles, even though  the patchboot did  not give new result since 2016-12-14, I think it ok for review



---

archive/issue_comments_273837.json:
```json
{
    "body": "<a id='comment:92'></a>Because you are not yet trusted, I have to launch my personal bot manually. \n\nResult:\n\n* some failing doctests\n* some bad unicode character (maybe add uft8 declaration at top of file ?)\n* need to replace <type 'str'> by <... 'str'> for python3 compatibility\n\nsee patchbot report for more",
    "created_at": "2017-02-02T16:50:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273837",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:92'></a>Because you are not yet trusted, I have to launch my personal bot manually. 

Result:

* some failing doctests
* some bad unicode character (maybe add uft8 declaration at top of file ?)
* need to replace <type 'str'> by <... 'str'> for python3 compatibility

see patchbot report for more



---

archive/issue_comments_273838.json:
```json
{
    "body": "<a id='comment:93'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-02-03T14:45:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273838",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:93'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_273839.json:
```json
{
    "body": "<a id='comment:94'></a>You should rebase this on the most recent version of Sage: I think the doctest failures are because of new code that uses free groups and imports it from its old location, leading to deprecation warnings.",
    "created_at": "2017-02-03T18:01:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273839",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:94'></a>You should rebase this on the most recent version of Sage: I think the doctest failures are because of new code that uses free groups and imports it from its old location, leading to deprecation warnings.



---

archive/issue_comments_273840.json:
```json
{
    "body": "<a id='comment:95'></a>Many thanks for your help, I corrected the bad UTF8 unicode from python 2. And its seems to work with the new rebase version too.\nI cross fingers my last commit pass the  pathboot, and the ticket can pass.",
    "created_at": "2017-02-03T18:29:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273840",
    "user": "https://trac.sagemath.org/admin/accounts/users/dbenielli"
}
```

<a id='comment:95'></a>Many thanks for your help, I corrected the bad UTF8 unicode from python 2. And its seems to work with the new rebase version too.
I cross fingers my last commit pass the  pathboot, and the ticket can pass.



---

archive/issue_comments_273841.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-05-01T12:06:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273841",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_273842.json:
```json
{
    "body": "<a id='comment:96'></a>does not apply",
    "created_at": "2017-05-01T12:06:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273842",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:96'></a>does not apply



---

archive/issue_events_054798.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-05-01T12:06:25Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "milestone": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20154#event-54798"
}
```



---

archive/issue_events_054799.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-05-01T12:06:25Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "milestone": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20154#event-54799"
}
```



---

archive/issue_comments_273843.json:
```json
{
    "body": "<a id='comment:97'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-05-01T17:05:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273843",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:97'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_273844.json:
```json
{
    "body": "<a id='comment:98'></a>I've done the rebase to the current Sage version and did a little bit of doc cleanup and other small tweaks. It still needs a complete doc readthrough (I maybe got through 30%). There are some references that seem like they needed to be added.",
    "created_at": "2017-05-01T17:16:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273844",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:98'></a>I've done the rebase to the current Sage version and did a little bit of doc cleanup and other small tweaks. It still needs a complete doc readthrough (I maybe got through 30%). There are some references that seem like they needed to be added.



---

archive/issue_comments_273845.json:
```json
{
    "body": "<a id='comment:99'></a>Hi,\n\nThanks for your update for  the new version 8, Unfortunately my version obtained by  pull is not working, I do not understand what happens.\n\nOtherwise I would like  to succes the  review, and I would know what is missing, and I can do.\n\n\nThanks for help\n\nDominique\n\nPS\nerror message of doc build\n\nError building the documentation.\nTraceback (most recent call last):\n  File \"/home/dominique/projets/sage/local/lib/python2.7/runpy.py\", line 174, in _run_module_as_main\n    \"__main__\", fname, loader, pkg_name)\n  File \"/home/dominique/projets/sage/local/lib/python2.7/runpy.py\", line 72, in _run_code\n    exec code in run_globals\n  File \"/home/dominique/projets/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__main__.py\", line 2, in <module>\n    main()\n  File \"/home/dominique/projets/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py\", line 1640, in main\n    builder()\n  File \"/home/dominique/projets/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py\", line 510, in _wrapper\n    build_many(build_ref_doc, L)\n  File \"/home/dominique/projets/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py\", line 266, in build_many\n    results.append(target(arg))\n  File \"/home/dominique/projets/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py\", line 70, in build_ref_doc\n    getattr(ReferenceSubBuilder(doc, lang), format)(*args, **kwds)\n  File \"/home/dominique/projets/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py\", line 720, in _wrapper\n    getattr(DocBuilder, build_type)(self, *args, **kwds)\n  File \"/home/dominique/projets/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py\", line 104, in f\n    runsphinx()\n  File \"/home/dominique/projets/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/sphinxbuild.py\", line 215, in runsphinx\n    raise exception\nOSError: [manifolds] /home/dominique/projets/sage/src/doc/en/reference/manifolds/index.rst:4: WARNING: undefined label: tensors-on-free-modules (if the link has no caption the label must precede a section header)",
    "created_at": "2017-05-03T09:13:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273845",
    "user": "https://trac.sagemath.org/admin/accounts/users/dbenielli"
}
```

<a id='comment:99'></a>Hi,

Thanks for your update for  the new version 8, Unfortunately my version obtained by  pull is not working, I do not understand what happens.

Otherwise I would like  to succes the  review, and I would know what is missing, and I can do.


Thanks for help

Dominique

PS
error message of doc build

Error building the documentation.
Traceback (most recent call last):
  File "/home/dominique/projets/sage/local/lib/python2.7/runpy.py", line 174, in _run_module_as_main
    "__main__", fname, loader, pkg_name)
  File "/home/dominique/projets/sage/local/lib/python2.7/runpy.py", line 72, in _run_code
    exec code in run_globals
  File "/home/dominique/projets/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__main__.py", line 2, in <module>
    main()
  File "/home/dominique/projets/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py", line 1640, in main
    builder()
  File "/home/dominique/projets/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py", line 510, in _wrapper
    build_many(build_ref_doc, L)
  File "/home/dominique/projets/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py", line 266, in build_many
    results.append(target(arg))
  File "/home/dominique/projets/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py", line 70, in build_ref_doc
    getattr(ReferenceSubBuilder(doc, lang), format)(*args, **kwds)
  File "/home/dominique/projets/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py", line 720, in _wrapper
    getattr(DocBuilder, build_type)(self, *args, **kwds)
  File "/home/dominique/projets/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py", line 104, in f
    runsphinx()
  File "/home/dominique/projets/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/sphinxbuild.py", line 215, in runsphinx
    raise exception
OSError: [manifolds] /home/dominique/projets/sage/src/doc/en/reference/manifolds/index.rst:4: WARNING: undefined label: tensors-on-free-modules (if the link has no caption the label must precede a section header)



---

archive/issue_comments_273846.json:
```json
{
    "body": "<a id='comment:0'></a>Try running `make doc-clean && make`.\n\nOne of the most tedious things is to bring the doc formating similar to the changes I made (see also the sage dev guide). I will try to go through the code itself soon too.",
    "created_at": "2017-05-03T15:26:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273846",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:0'></a>Try running `make doc-clean && make`.

One of the most tedious things is to bring the doc formating similar to the changes I made (see also the sage dev guide). I will try to go through the code itself soon too.



---

archive/issue_comments_273847.json:
```json
{
    "body": "<a id='comment:1'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-06-27T09:14:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273847",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:1'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_273848.json:
```json
{
    "body": "<a id='comment:2'></a>Many thanks you very munch for your upgrade,\n\nthe make doc-clean && make is now ok\n\nDo you think we can go back on need review status?",
    "created_at": "2017-07-10T15:46:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273848",
    "user": "https://trac.sagemath.org/admin/accounts/users/dbenielli"
}
```

<a id='comment:2'></a>Many thanks you very munch for your upgrade,

the make doc-clean && make is now ok

Do you think we can go back on need review status?



---

archive/issue_comments_273849.json:
```json
{
    "body": "<a id='comment:3'></a>Someone still needs to go through and standardize the docstrings to use Sage's conventions (comment:100). In addition to the changes I made, you can also use the\n[Sage conventions page](http://doc.sagemath.org/html/en/developer/coding_basics.html#documentation-strings),\nalthough the `INPUT:` items should not end in periods/full stops/`.` (unless they are really long) and you do not need an `INPUT:` block if there is no input (`self` does not count) or an `OUTPUT:` if the output is clear from the 1-line doc. I will go back to looking through the code once that is done.\n\nThis also needs a (likely trivial) rebase on the latest `develop` version.",
    "created_at": "2017-07-11T04:09:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273849",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:3'></a>Someone still needs to go through and standardize the docstrings to use Sage's conventions (comment:100). In addition to the changes I made, you can also use the
[Sage conventions page](http://doc.sagemath.org/html/en/developer/coding_basics.html#documentation-strings),
although the `INPUT:` items should not end in periods/full stops/`.` (unless they are really long) and you do not need an `INPUT:` block if there is no input (`self` does not count) or an `OUTPUT:` if the output is clear from the 1-line doc. I will go back to looking through the code once that is done.

This also needs a (likely trivial) rebase on the latest `develop` version.



---

archive/issue_comments_273850.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-11T12:46:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273850",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_273851.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-12T09:45:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273851",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_273852.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-12T11:45:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273852",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_273853.json:
```json
{
    "body": "<a id='comment:7'></a>Hi,\n\nI done the rebase and the correction for INPUT intems end with . only where there are long.\nTell me if it is ok for a need review now\n\nThanks\nDominique",
    "created_at": "2017-07-12T11:48:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273853",
    "user": "https://trac.sagemath.org/admin/accounts/users/dbenielli"
}
```

<a id='comment:7'></a>Hi,

I done the rebase and the correction for INPUT intems end with . only where there are long.
Tell me if it is ok for a need review now

Thanks
Dominique



---

archive/issue_comments_273854.json:
```json
{
    "body": "<a id='comment:8'></a>Still a lot of doc issues (see also comment:19):\n\n- You need to replace `$` with ```.\n- What does `\\index{Nielsen path}` do? I think it will not do what you want with the build documentation.\n- Are the macros `\\CVN` and `\\FN` defined? If not, you probably want to replace them with the corresponding true Latex code (rather than add to the macro list).\n- Use `\\ZZ` instead of `\\mathbb Z`.\n- References should go in the master reference file `doc/en/reference/references/index.rst` and have more descriptive names.\n- Format like:\n  {{{\n  def foo(self):\n      \"\"\"\n      Short description.\n\n      ...\n      \"\"\"\n  }}}\n- Your ascii art square for `ConvexCore` should be `is of the form::` (with a double colon). Although having spaces here will be better than the `.`. The doc should not have any trouble getting this to look nice.\n- There are a number of variables that should be either formatted for latex (``x``) or code (```x```). In particular, things like ```False``` should be code formatted.\n- It is better to put inputs for `__init__` in the class-level docstring so it will be visible.\n\nSome code issue I noticed on a quick readthrough:\n\n- It would be good to provide some sort of deprecation warnings for all non-hidden functions/classes (i.e., not `_lexi_gen`). See the deprecation option of `lazy_import`.\n- Use new-style Python clases: `class ConvexCore(object):`. Although can the user ever see it? If so, perhaps it should inherit from `SageObject`.\n- Never check things like `if x is True:` (resp. `False:`); simply do `if x:` (resp. `if not x:`).\n- It is faster to check `if todo:` instead of `if len(todo) > 0`.\n- Instead of `__str__`, if it is a SageObject subclass, you should use `_repr_` (e.g., subclasses of `DiGraph`). Otherwise, we prefer to use `__repr__`.\n- `groups/free_groups/test_train_track.py` might be better as `tests/train_tracks.py`.",
    "created_at": "2017-07-20T23:02:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273854",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:8'></a>Still a lot of doc issues (see also comment:19):

- You need to replace `$` with ```.
- What does `\index{Nielsen path}` do? I think it will not do what you want with the build documentation.
- Are the macros `\CVN` and `\FN` defined? If not, you probably want to replace them with the corresponding true Latex code (rather than add to the macro list).
- Use `\ZZ` instead of `\mathbb Z`.
- References should go in the master reference file `doc/en/reference/references/index.rst` and have more descriptive names.
- Format like:
  {{{
  def foo(self):
      """
      Short description.

      ...
      """
  }}}
- Your ascii art square for `ConvexCore` should be `is of the form::` (with a double colon). Although having spaces here will be better than the `.`. The doc should not have any trouble getting this to look nice.
- There are a number of variables that should be either formatted for latex (``x``) or code (```x```). In particular, things like ```False``` should be code formatted.
- It is better to put inputs for `__init__` in the class-level docstring so it will be visible.

Some code issue I noticed on a quick readthrough:

- It would be good to provide some sort of deprecation warnings for all non-hidden functions/classes (i.e., not `_lexi_gen`). See the deprecation option of `lazy_import`.
- Use new-style Python clases: `class ConvexCore(object):`. Although can the user ever see it? If so, perhaps it should inherit from `SageObject`.
- Never check things like `if x is True:` (resp. `False:`); simply do `if x:` (resp. `if not x:`).
- It is faster to check `if todo:` instead of `if len(todo) > 0`.
- Instead of `__str__`, if it is a SageObject subclass, you should use `_repr_` (e.g., subclasses of `DiGraph`). Otherwise, we prefer to use `__repr__`.
- `groups/free_groups/test_train_track.py` might be better as `tests/train_tracks.py`.



---

archive/issue_comments_273855.json:
```json
{
    "body": "<a id='comment:9'></a>However, I will start going through the code part soon.",
    "created_at": "2017-07-20T23:03:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273855",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:9'></a>However, I will start going through the code part soon.



---

archive/issue_comments_273856.json:
```json
{
    "body": "<a id='comment:0'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-28T14:09:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273856",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:0'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_273857.json:
```json
{
    "body": "<a id='comment:1'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-28T14:26:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20154#issuecomment-273857",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:1'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_events_054800.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2022-02-07T00:00:44Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "milestone": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20154#event-54800"
}
```



---

archive/issue_events_054801.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2022-02-07T00:00:44Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20154",
    "milestone": "sage-wishlist",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20154#event-54801"
}
```
