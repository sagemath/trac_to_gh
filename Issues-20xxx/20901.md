# Issue 20901: Upgrade bliss package to 0.73 with Debian patches; install header files in location expected by polymake

archive/issues_020664.json:
```json
{
    "assignees": [],
    "body": "New upstream archive: http://www.tcs.hut.fi/Software/bliss/bliss-0.73.zip (we have 0.72)\n\nUpstream bliss does not have a proper build system (in particular no 'make install').\n\"spkg-install\" installs header files with generic names such as \"graph.hh\" flat into $SAGE_LOCAL/include/\n\nDebian has https://packages.debian.org/sid/math/bliss\nwhich autotoolizes the package and adjust the include file location.\nThis matches where Polymake (#20892) expects the header files.\n\nOn https://github.com/mkoeppe/bliss in branch `sage_package` I have applied the Debian patches and a few more patches for Sage. The `spkg-src` script clones from there and builds a distribution. The result is available here: \n\ntarball: https://github.com/mkoeppe/bliss/releases/download/sage_package%2F0.73%2Bdebian-1%2Bsage-2016-08-02/bliss-0.73.debian-1.sage-2016-08-02.tar.gz (rename to `bliss-0.73+debian-1+sage-2016-08-02.tar.gz`)\n\n\n\nCC:  azi @jdemeyer @videlec @kcrisman @dimpase @fchapoton stumpc5 @mo271 @vbraun\n\nBranch: **[c0c0427](https://github.com/sagemath/sagetrac-mirror/commit/c0c0427e4e4f728380b5b23d9fbbd870a0ba30fa)**\n\nUpstream: **Reported upstream. No feedback yet.**\n\nReviewer: **Dima Pasechnik**\n\nAuthor: **Matthias Koeppe**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/20901_\n\n",
    "closed_at": "2016-08-07T20:01:33Z",
    "created_at": "2016-06-28T23:54:15Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20optional",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Upgrade bliss package to 0.73 with Debian patches; install header files in location expected by polymake",
    "type": "issue",
    "updated_at": "2016-08-19T09:26:31Z",
    "url": "https://github.com/sagemath/sage/issues/20901",
    "user": "https://github.com/mkoeppe"
}
```
New upstream archive: http://www.tcs.hut.fi/Software/bliss/bliss-0.73.zip (we have 0.72)

Upstream bliss does not have a proper build system (in particular no 'make install').
"spkg-install" installs header files with generic names such as "graph.hh" flat into $SAGE_LOCAL/include/

Debian has https://packages.debian.org/sid/math/bliss
which autotoolizes the package and adjust the include file location.
This matches where Polymake (#20892) expects the header files.

On https://github.com/mkoeppe/bliss in branch `sage_package` I have applied the Debian patches and a few more patches for Sage. The `spkg-src` script clones from there and builds a distribution. The result is available here: 

tarball: https://github.com/mkoeppe/bliss/releases/download/sage_package%2F0.73%2Bdebian-1%2Bsage-2016-08-02/bliss-0.73.debian-1.sage-2016-08-02.tar.gz (rename to `bliss-0.73+debian-1+sage-2016-08-02.tar.gz`)



CC:  azi @jdemeyer @videlec @kcrisman @dimpase @fchapoton stumpc5 @mo271 @vbraun

Branch: **[c0c0427](https://github.com/sagemath/sagetrac-mirror/commit/c0c0427e4e4f728380b5b23d9fbbd870a0ba30fa)**

Upstream: **Reported upstream. No feedback yet.**

Reviewer: **Dima Pasechnik**

Author: **Matthias Koeppe**

_Issue created by migration from https://trac.sagemath.org/ticket/20901_





---

archive/issue_events_276200.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-06-28T23:54:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "milestone_number": null,
    "milestone_title": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20901#event-276200"
}
```



---

archive/issue_events_276201.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-06-28T23:54:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20optional",
    "label_color": "000080",
    "label_name": "component: packages: optional",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20901#event-276201"
}
```



---

archive/issue_events_276202.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-06-28T23:54:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20901#event-276202"
}
```



---

archive/issue_events_276203.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-06-28T23:54:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20901#event-276203"
}
```



---

archive/issue_comments_306005.json:
```json
{
    "body": "Dependencies: **#20692**",
    "created_at": "2016-07-07T05:11:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20901#issuecomment-306005",
    "user": "https://github.com/mkoeppe"
}
```

Dependencies: **#20692**



---

archive/issue_comments_306006.json:
```json
{
    "body": "Branch: **[u/mkoeppe/upgrade_bliss_package_to_0_73_with_debian_patches__install_header_files_in_location_expected_by_polymake](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/upgrade_bliss_package_to_0_73_with_debian_patches__install_header_files_in_location_expected_by_polymake)**",
    "created_at": "2016-07-15T19:46:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20901#issuecomment-306006",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/upgrade_bliss_package_to_0_73_with_debian_patches__install_header_files_in_location_expected_by_polymake](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/upgrade_bliss_package_to_0_73_with_debian_patches__install_header_files_in_location_expected_by_polymake)**



---

archive/issue_comments_306007.json:
```json
{
    "body": "Commit: **[3837a48](https://github.com/sagemath/sagetrac-mirror/commit/3837a489fff9a294566061755664e240a7a5a1ff)**",
    "created_at": "2016-07-15T19:50:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20901#issuecomment-306007",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[3837a48](https://github.com/sagemath/sagetrac-mirror/commit/3837a489fff9a294566061755664e240a7a5a1ff)**



---

archive/issue_events_276204.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-07-15T19:50:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20901#event-276204"
}
```



---

archive/issue_comments_306008.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,6 +7,7 @@\n which autotoolizes the package and adjust the include file location.\n This matches where Polymake (#20892) expects the header files.\n \n-We should really be using Debian as our upstream for this package.\n+Autotoolized package using the Debian patches is available here: \n+https://github.com/mkoeppe/bliss/releases/download/apply_debian_patches%2F0.73-1/bliss-0.73.debian-1.tar.gz\n \n \n``````\n",
    "created_at": "2016-07-15T19:50:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20901#issuecomment-306008",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,6 +7,7 @@
 which autotoolizes the package and adjust the include file location.
 This matches where Polymake (#20892) expects the header files.
 
-We should really be using Debian as our upstream for this package.
+Autotoolized package using the Debian patches is available here: 
+https://github.com/mkoeppe/bliss/releases/download/apply_debian_patches%2F0.73-1/bliss-0.73.debian-1.tar.gz
 
 
``````




---

archive/issue_comments_306009.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3837a489fff9a294566061755664e240a7a5a1ff\">3837a48</a></td><td><code>bliss: Use autotoolized package from Debian</code></td></tr></table>\n",
    "created_at": "2016-07-15T19:50:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20901#issuecomment-306009",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:4'>Comment 4:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3837a489fff9a294566061755664e240a7a5a1ff">3837a48</a></td><td><code>bliss: Use autotoolized package from Debian</code></td></tr></table>




---

archive/issue_comments_306010.json:
```json
{
    "body": "Author: **Matthias Koeppe**",
    "created_at": "2016-07-15T19:50:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20901#issuecomment-306010",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Matthias Koeppe**



---

archive/issue_comments_306011.json:
```json
{
    "body": "Changed dependencies from **#20692** to none",
    "created_at": "2016-07-15T19:50:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20901#issuecomment-306011",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#20692** to none



---

archive/issue_comments_306012.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nNeeds review. Prerequisite for polymake (#20892).",
    "created_at": "2016-07-16T12:20:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20901#issuecomment-306012",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:5'>Comment 5:</a>
Needs review. Prerequisite for polymake (#20892).



---

archive/issue_comments_306013.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nwhat are the new goodies? a shared library?",
    "created_at": "2016-07-16T14:58:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20901#issuecomment-306013",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:6'>Comment 6:</a>
what are the new goodies? a shared library?



---

archive/issue_comments_306014.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nReplying to [@dimpase](#comment%3A6):\n> what are the new goodies? a shared library?\n\nA shared library, proper include files location, and as a result works as a prerequisite for polymake.\nNew upstream version -- but upstream is silent about what has changed compared to 0.72.",
    "created_at": "2016-07-16T16:18:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20901#issuecomment-306014",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:7'>Comment 7:</a>
Replying to [@dimpase](#comment%3A6):
> what are the new goodies? a shared library?

A shared library, proper include files location, and as a result works as a prerequisite for polymake.
New upstream version -- but upstream is silent about what has changed compared to 0.72.



---

archive/issue_comments_306015.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/225755e087890955539c2ee70f838b6631f0ee57\">225755e</a></td><td><code>bliss: Add more info in SPKG.txt</code></td></tr></table>\n",
    "created_at": "2016-07-16T18:57:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20901#issuecomment-306015",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:8'>Comment 8:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/225755e087890955539c2ee70f838b6631f0ee57">225755e</a></td><td><code>bliss: Add more info in SPKG.txt</code></td></tr></table>




---

archive/issue_comments_306016.json:
```json
{
    "body": "Changed commit from **[3837a48](https://github.com/sagemath/sagetrac-mirror/commit/3837a489fff9a294566061755664e240a7a5a1ff)** to **[225755e](https://github.com/sagemath/sagetrac-mirror/commit/225755e087890955539c2ee70f838b6631f0ee57)**",
    "created_at": "2016-07-16T18:57:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20901#issuecomment-306016",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[3837a48](https://github.com/sagemath/sagetrac-mirror/commit/3837a489fff9a294566061755664e240a7a5a1ff)** to **[225755e](https://github.com/sagemath/sagetrac-mirror/commit/225755e087890955539c2ee70f838b6631f0ee57)**



---

archive/issue_comments_306017.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nThe usual way to ship packages in Sage is to start from the original unmodified sources and then apply patches (either at packaging time or at build time). Here, you are instead forking upstream for no clear reason.",
    "created_at": "2016-07-17T07:33:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20901#issuecomment-306017",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:9'>Comment 9:</a>
The usual way to ship packages in Sage is to start from the original unmodified sources and then apply patches (either at packaging time or at build time). Here, you are instead forking upstream for no clear reason.



---

archive/issue_comments_306018.json:
```json
{
    "body": "Changed commit from **[225755e](https://github.com/sagemath/sagetrac-mirror/commit/225755e087890955539c2ee70f838b6631f0ee57)** to **[4b22211](https://github.com/sagemath/sagetrac-mirror/commit/4b222118c057b1f870121951b44f6f851029ec63)**",
    "created_at": "2016-07-17T09:34:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20901#issuecomment-306018",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[225755e](https://github.com/sagemath/sagetrac-mirror/commit/225755e087890955539c2ee70f838b6631f0ee57)** to **[4b22211](https://github.com/sagemath/sagetrac-mirror/commit/4b222118c057b1f870121951b44f6f851029ec63)**



---

archive/issue_comments_306019.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4b222118c057b1f870121951b44f6f851029ec63\">4b22211</a></td><td><code>bliss: Use upstream tarball and patches</code></td></tr></table>\n",
    "created_at": "2016-07-17T09:34:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20901#issuecomment-306019",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:10'>Comment 10:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4b222118c057b1f870121951b44f6f851029ec63">4b22211</a></td><td><code>bliss: Use upstream tarball and patches</code></td></tr></table>




---

archive/issue_comments_306020.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nReplying to [@jdemeyer](#comment%3A9):\n> The usual way to ship packages in Sage is to start from the original unmodified sources and then apply patches (either at packaging time or at build time). Here, you are instead forking upstream for no clear reason.\n\nOK, I've changed it to using upstream + a patch.\nUnfortunately our patches cannot be as elegant as Debian's because we cannot rely on the availability of autotools. So my patch has to ship the whole autogenerated build system.",
    "created_at": "2016-07-17T09:37:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20901#issuecomment-306020",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:11'>Comment 11:</a>
Replying to [@jdemeyer](#comment%3A9):
> The usual way to ship packages in Sage is to start from the original unmodified sources and then apply patches (either at packaging time or at build time). Here, you are instead forking upstream for no clear reason.

OK, I've changed it to using upstream + a patch.
Unfortunately our patches cannot be as elegant as Debian's because we cannot rely on the availability of autotools. So my patch has to ship the whole autogenerated build system.



---

archive/issue_comments_306021.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,7 +7,7 @@\n which autotoolizes the package and adjust the include file location.\n This matches where Polymake (#20892) expects the header files.\n \n-Autotoolized package using the Debian patches is available here: \n+The patch in this package is generated by making a diff from the original tarball with the distribution here: \n https://github.com/mkoeppe/bliss/releases/download/apply_debian_patches%2F0.73-1/bliss-0.73.debian-1.tar.gz\n \n \n``````\n",
    "created_at": "2016-07-17T09:37:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20901#issuecomment-306021",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,7 +7,7 @@
 which autotoolizes the package and adjust the include file location.
 This matches where Polymake (#20892) expects the header files.
 
-Autotoolized package using the Debian patches is available here: 
+The patch in this package is generated by making a diff from the original tarball with the distribution here: 
 https://github.com/mkoeppe/bliss/releases/download/apply_debian_patches%2F0.73-1/bliss-0.73.debian-1.tar.gz
 
 
``````




---

archive/issue_comments_306022.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nLearn to write a `spkg-src` file like for `ecl` \nhttps://github.com/sagemath/sage/blob/master/build/pkgs/ecl/spkg-src\nor `glpk` at #20710. It will require you to produce a new tarball and host it somewhere until the ticket is merged.",
    "created_at": "2016-07-18T11:19:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20901#issuecomment-306022",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:12'>Comment 12:</a>
Learn to write a `spkg-src` file like for `ecl` 
https://github.com/sagemath/sage/blob/master/build/pkgs/ecl/spkg-src
or `glpk` at #20710. It will require you to produce a new tarball and host it somewhere until the ticket is merged.



---

archive/issue_comments_306023.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nyeah, `spkg-src` is important, as you don't want to become the only one in state to perform an update...",
    "created_at": "2016-07-20T08:47:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20901#issuecomment-306023",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:13'>Comment 13:</a>
yeah, `spkg-src` is important, as you don't want to become the only one in state to perform an update...



---

archive/issue_events_276205.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-07-26T07:11:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20901#event-276205"
}
```



---

archive/issue_events_276206.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-07-26T07:11:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20901#event-276206"
}
```



---

archive/issue_comments_306024.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nUnfortunately this update causes some tests to fail with segfault.\n\n```\nage:             sage: g3 = polytopes.hypercube(3).vertex_graph(); g3\nGraph on 8 vertices\nsage:             sage: g3.automorphism_group().cardinality()\npython(2197,0x7fff7b8f9000) malloc: *** error for object 0x1001d3fff: pointer being realloc'd was not allocated\n*** set a breakpoint in malloc_error_break to debug\n\nProgram received signal SIGABRT, Aborted.\n0x00007fff8b2cff06 in __pthread_kill () from /usr/lib/system/libsystem_kernel.dylib\n(gdb) where\n#0  0x00007fff8b2cff06 in __pthread_kill () from /usr/lib/system/libsystem_kernel.dylib\n#1  0x00007fff92ea14ec in pthread_kill () from /usr/lib/system/libsystem_pthread.dylib\n#2  0x00007fff8ec5c6e7 in abort () from /usr/lib/system/libsystem_c.dylib\n#3  0x00007fff933d879d in realloc () from /usr/lib/system/libsystem_malloc.dylib\n#4  0x0000000107284ddd in __pyx_f_4sage_3ext_6memory_sage_sig_realloc () from /Users/mkoeppe/cvs/sage/local/lib/python2.7/site-packages/sage/ext/memory.so\n#5  0x0000000106afca01 in __gmpz_realloc () from /Users/mkoeppe/cvs/sage/local/lib/libgmp.16.dylib\n#6  0x0000000106af8c0e in __gmpz_mul_si () from /Users/mkoeppe/cvs/sage/local/lib/libgmp.16.dylib\n#7  0x00000001aefad6f0 in ?? () from /Users/mkoeppe/cvs/sage/local/lib/libbliss.2.dylib\n#8  0x00000001aefaf43c in ?? () from /Users/mkoeppe/cvs/sage/local/lib/libbliss.2.dylib\n#9  0x00000001aef96e13 in __pyx_pw_4sage_6graphs_5bliss_1automorphism_group(_object*, _object*, _object*) ()\n   from /Users/mkoeppe/cvs/sage/local/lib/python2.7/site-packages/sage/graphs/bliss.so\n#10 0x00000001000e92a4 in PyEval_EvalFrameEx () from /Users/mkoeppe/cvs/sage/local/lib/libpython2.7.dylib\n#\n```\nI could use some help here.",
    "created_at": "2016-07-26T07:11:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20901#issuecomment-306024",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:14'>Comment 14:</a>
Unfortunately this update causes some tests to fail with segfault.

```
age:             sage: g3 = polytopes.hypercube(3).vertex_graph(); g3
Graph on 8 vertices
sage:             sage: g3.automorphism_group().cardinality()
python(2197,0x7fff7b8f9000) malloc: *** error for object 0x1001d3fff: pointer being realloc'd was not allocated
*** set a breakpoint in malloc_error_break to debug

Program received signal SIGABRT, Aborted.
0x00007fff8b2cff06 in __pthread_kill () from /usr/lib/system/libsystem_kernel.dylib
(gdb) where
#0  0x00007fff8b2cff06 in __pthread_kill () from /usr/lib/system/libsystem_kernel.dylib
#1  0x00007fff92ea14ec in pthread_kill () from /usr/lib/system/libsystem_pthread.dylib
#2  0x00007fff8ec5c6e7 in abort () from /usr/lib/system/libsystem_c.dylib
#3  0x00007fff933d879d in realloc () from /usr/lib/system/libsystem_malloc.dylib
#4  0x0000000107284ddd in __pyx_f_4sage_3ext_6memory_sage_sig_realloc () from /Users/mkoeppe/cvs/sage/local/lib/python2.7/site-packages/sage/ext/memory.so
#5  0x0000000106afca01 in __gmpz_realloc () from /Users/mkoeppe/cvs/sage/local/lib/libgmp.16.dylib
#6  0x0000000106af8c0e in __gmpz_mul_si () from /Users/mkoeppe/cvs/sage/local/lib/libgmp.16.dylib
#7  0x00000001aefad6f0 in ?? () from /Users/mkoeppe/cvs/sage/local/lib/libbliss.2.dylib
#8  0x00000001aefaf43c in ?? () from /Users/mkoeppe/cvs/sage/local/lib/libbliss.2.dylib
#9  0x00000001aef96e13 in __pyx_pw_4sage_6graphs_5bliss_1automorphism_group(_object*, _object*, _object*) ()
   from /Users/mkoeppe/cvs/sage/local/lib/python2.7/site-packages/sage/graphs/bliss.so
#10 0x00000001000e92a4 in PyEval_EvalFrameEx () from /Users/mkoeppe/cvs/sage/local/lib/libpython2.7.dylib
#
```
I could use some help here.



---

archive/issue_comments_306025.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nWell known problem. Disable `gmp` in `bliss` that's the culprit.",
    "created_at": "2016-07-26T07:16:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20901#issuecomment-306025",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:15'>Comment 15:</a>
Well known problem. Disable `gmp` in `bliss` that's the culprit.



---

archive/issue_comments_306026.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nReplying to [@kiwifb](#comment%3A15):\n> Well known problem. Disable `gmp` in `bliss` that's the culprit.\n\nThanks!",
    "created_at": "2016-07-26T08:05:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20901#issuecomment-306026",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:16'>Comment 16:</a>
Replying to [@kiwifb](#comment%3A15):
> Well known problem. Disable `gmp` in `bliss` that's the culprit.

Thanks!



---

archive/issue_comments_306027.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nWhy would `bliss` need `gmp`? Looks strange to me.",
    "created_at": "2016-07-26T09:40:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20901#issuecomment-306027",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:17'>Comment 17:</a>
Why would `bliss` need `gmp`? Looks strange to me.



---

archive/issue_comments_306028.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nIt's a build option, ask the author.",
    "created_at": "2016-07-26T09:44:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20901#issuecomment-306028",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:18'>Comment 18:</a>
It's a build option, ask the author.



---

archive/issue_comments_306029.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,7 +7,8 @@\n which autotoolizes the package and adjust the include file location.\n This matches where Polymake (#20892) expects the header files.\n \n-The patch in this package is generated by making a diff from the original tarball with the distribution here: \n-https://github.com/mkoeppe/bliss/releases/download/apply_debian_patches%2F0.73-1/bliss-0.73.debian-1.tar.gz\n+On https://github.com/mkoeppe/bliss in branch `sage_package` I have applied the Debian patches and a few more patches for Sage. The `spkg-src` script clones from there and builds a distribution. The result is available here: \n+\n+tarball: https://github.com/mkoeppe/bliss/releases/download/sage_package%2F0.73%2Bdebian-1%2Bsage-2016-08-02/bliss-0.73.debian-1.sage-2016-08-02.tar.gz\n \n \n``````\n",
    "created_at": "2016-08-03T06:45:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20901#issuecomment-306029",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,7 +7,8 @@
 which autotoolizes the package and adjust the include file location.
 This matches where Polymake (#20892) expects the header files.
 
-The patch in this package is generated by making a diff from the original tarball with the distribution here: 
-https://github.com/mkoeppe/bliss/releases/download/apply_debian_patches%2F0.73-1/bliss-0.73.debian-1.tar.gz
+On https://github.com/mkoeppe/bliss in branch `sage_package` I have applied the Debian patches and a few more patches for Sage. The `spkg-src` script clones from there and builds a distribution. The result is available here: 
+
+tarball: https://github.com/mkoeppe/bliss/releases/download/sage_package%2F0.73%2Bdebian-1%2Bsage-2016-08-02/bliss-0.73.debian-1.sage-2016-08-02.tar.gz
 
 
``````




---

archive/issue_comments_306030.json:
```json
{
    "body": "Changed commit from **[4b22211](https://github.com/sagemath/sagetrac-mirror/commit/4b222118c057b1f870121951b44f6f851029ec63)** to **[1d2707c](https://github.com/sagemath/sagetrac-mirror/commit/1d2707cf0db6eb015ba93d224e6760dd219a5e7d)**",
    "created_at": "2016-08-03T07:53:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20901#issuecomment-306030",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[4b22211](https://github.com/sagemath/sagetrac-mirror/commit/4b222118c057b1f870121951b44f6f851029ec63)** to **[1d2707c](https://github.com/sagemath/sagetrac-mirror/commit/1d2707cf0db6eb015ba93d224e6760dd219a5e7d)**



---

archive/issue_comments_306031.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/311109143a135feca28527e416d9f17eda92ee6e\">3111091</a></td><td><code>Merge tag '7.3.beta9' into t/20901/upgrade_bliss_package_to_0_73_with_debian_patches__install_header_files_in_location_expected_by_polymake</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1c398a3afc294e7faf69ca12fc82303870a8fdc6\">1c398a3</a></td><td><code>Merge tag '7.3.rc0' into t/20901/upgrade_bliss_package_to_0_73_with_debian_patches__install_header_files_in_location_expected_by_polymake</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1d2707cf0db6eb015ba93d224e6760dd219a5e7d\">1d2707c</a></td><td><code>Use repackaged archive instead of huge patch</code></td></tr></table>\n",
    "created_at": "2016-08-03T07:53:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20901#issuecomment-306031",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:20'>Comment 20:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/311109143a135feca28527e416d9f17eda92ee6e">3111091</a></td><td><code>Merge tag '7.3.beta9' into t/20901/upgrade_bliss_package_to_0_73_with_debian_patches__install_header_files_in_location_expected_by_polymake</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1c398a3afc294e7faf69ca12fc82303870a8fdc6">1c398a3</a></td><td><code>Merge tag '7.3.rc0' into t/20901/upgrade_bliss_package_to_0_73_with_debian_patches__install_header_files_in_location_expected_by_polymake</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1d2707cf0db6eb015ba93d224e6760dd219a5e7d">1d2707c</a></td><td><code>Use repackaged archive instead of huge patch</code></td></tr></table>




---

archive/issue_comments_306032.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nReplying to [@kiwifb](#comment%3A12):\n> Learn to write a `spkg-src` file \n\nThanks, done.\n\nReady for review.",
    "created_at": "2016-08-03T07:54:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20901#issuecomment-306032",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:21'>Comment 21:</a>
Replying to [@kiwifb](#comment%3A12):
> Learn to write a `spkg-src` file 

Thanks, done.

Ready for review.



---

archive/issue_events_276207.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-08-03T07:54:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20901#event-276207"
}
```



---

archive/issue_events_276208.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-08-03T07:54:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20901#event-276208"
}
```



---

archive/issue_comments_306033.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nthere is something funny with tarball name: if I do  sage -i bliss it looks for `bliss-0.73+debian-1+sage-2016-08-02.tar.gz`, while wget with your URL gives `bliss-0.73.debian-1.sage-2016-08-02.tar.gz`.\n\nOK, I renamed the tarball, and was able to run `sage -i bliss`, but the following make fails:\n\n```\n[sagelib-7.3.rc0] building 'sage.graphs.bliss' extension\n[sagelib-7.3.rc0] Executing 1 command (using 1 thread)\n[sagelib-7.3.rc0] [1/1] gcc -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused -fPIC -I/home/scratch/dimpase/sage/sage/local/include -I/home/scratch/dimpase/sage/sage/local/include/python2.7 -I/home/scratch/dimpase/sage/sage/local/lib/python2.7/site-packages/numpy/core/include -I/home/scratch/dimpase/sage/sage/src -I/home/scratch/dimpase/sage/sage/src/sage/ext -I/home/scratch/dimpase/sage/sage/src/build/cythonized -I/home/scratch/dimpase/sage/sage/src/build/cythonized/sage/ext -I/home/scratch/dimpase/sage/sage/local/include/python2.7 -c /home/scratch/dimpase/sage/sage/src/build/cythonized/sage/graphs/bliss.cpp -o build/temp.linux-x86_64-2.7/home/scratch/dimpase/sage/sage/src/build/cythonized/sage/graphs/bliss.o -fno-strict-aliasing\n[sagelib-7.3.rc0] /home/scratch/dimpase/sage/sage/src/build/cythonized/sage/graphs/bliss.cpp:317:20: fatal error: graph.hh: No such file or directory\n[sagelib-7.3.rc0] compilation terminated.\n[sagelib-7.3.rc0] error: command 'gcc' failed with exit status 1\n```\n\nThis is on Fedora23, Sage 7.3.rc0, with gcc version 5.3.1 20160406 (Red Hat 5.3.1-6) (GCC).",
    "created_at": "2016-08-03T08:43:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20901#issuecomment-306033",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:22'>Comment 22:</a>
there is something funny with tarball name: if I do  sage -i bliss it looks for `bliss-0.73+debian-1+sage-2016-08-02.tar.gz`, while wget with your URL gives `bliss-0.73.debian-1.sage-2016-08-02.tar.gz`.

OK, I renamed the tarball, and was able to run `sage -i bliss`, but the following make fails:

```
[sagelib-7.3.rc0] building 'sage.graphs.bliss' extension
[sagelib-7.3.rc0] Executing 1 command (using 1 thread)
[sagelib-7.3.rc0] [1/1] gcc -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused -fPIC -I/home/scratch/dimpase/sage/sage/local/include -I/home/scratch/dimpase/sage/sage/local/include/python2.7 -I/home/scratch/dimpase/sage/sage/local/lib/python2.7/site-packages/numpy/core/include -I/home/scratch/dimpase/sage/sage/src -I/home/scratch/dimpase/sage/sage/src/sage/ext -I/home/scratch/dimpase/sage/sage/src/build/cythonized -I/home/scratch/dimpase/sage/sage/src/build/cythonized/sage/ext -I/home/scratch/dimpase/sage/sage/local/include/python2.7 -c /home/scratch/dimpase/sage/sage/src/build/cythonized/sage/graphs/bliss.cpp -o build/temp.linux-x86_64-2.7/home/scratch/dimpase/sage/sage/src/build/cythonized/sage/graphs/bliss.o -fno-strict-aliasing
[sagelib-7.3.rc0] /home/scratch/dimpase/sage/sage/src/build/cythonized/sage/graphs/bliss.cpp:317:20: fatal error: graph.hh: No such file or directory
[sagelib-7.3.rc0] compilation terminated.
[sagelib-7.3.rc0] error: command 'gcc' failed with exit status 1
```

This is on Fedora23, Sage 7.3.rc0, with gcc version 5.3.1 20160406 (Red Hat 5.3.1-6) (GCC).



---

archive/issue_comments_306034.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nReplying to [@dimpase](#comment%3A22):\n> there is something funny with tarball name: if I do  sage -i bliss it looks for `bliss-0.73+debian-1+sage-2016-08-02.tar.gz`, while wget with your URL gives `bliss-0.73.debian-1.sage-2016-08-02.tar.gz`.\n\nIt's a limitation of github, it renames `+` to `.`\n\n> OK, I renamed the tarball, and was able to run `sage -i bliss`, but the following make fails:\n> \n> ```\n> [sagelib-7.3.rc0] building 'sage.graphs.bliss' extension\n> [sagelib-7.3.rc0] Executing 1 command (using 1 thread)\n> [sagelib-7.3.rc0] [1/1] gcc -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused -fPIC -I/home/scratch/dimpase/sage/sage/local/include -I/home/scratch/dimpase/sage/sage/local/include/python2.7 -I/home/scratch/dimpase/sage/sage/local/lib/python2.7/site-packages/numpy/core/include -I/home/scratch/dimpase/sage/sage/src -I/home/scratch/dimpase/sage/sage/src/sage/ext -I/home/scratch/dimpase/sage/sage/src/build/cythonized -I/home/scratch/dimpase/sage/sage/src/build/cythonized/sage/ext -I/home/scratch/dimpase/sage/sage/local/include/python2.7 -c /home/scratch/dimpase/sage/sage/src/build/cythonized/sage/graphs/bliss.cpp -o build/temp.linux-x86_64-2.7/home/scratch/dimpase/sage/sage/src/build/cythonized/sage/graphs/bliss.o -fno-strict-aliasing\n> [sagelib-7.3.rc0] /home/scratch/dimpase/sage/sage/src/build/cythonized/sage/graphs/bliss.cpp:317:20: fatal error: graph.hh: No such file or directory\n> [sagelib-7.3.rc0] compilation terminated.\n> [sagelib-7.3.rc0] error: command 'gcc' failed with exit status 1\n> ```\n> \n> This is on Fedora23, Sage 7.3.rc0, with gcc version 5.3.1 20160406 (Red Hat 5.3.1-6) (GCC).\n\nThanks for catching this. Fix coming shortly.",
    "created_at": "2016-08-03T08:49:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20901#issuecomment-306034",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:23'>Comment 23:</a>
Replying to [@dimpase](#comment%3A22):
> there is something funny with tarball name: if I do  sage -i bliss it looks for `bliss-0.73+debian-1+sage-2016-08-02.tar.gz`, while wget with your URL gives `bliss-0.73.debian-1.sage-2016-08-02.tar.gz`.

It's a limitation of github, it renames `+` to `.`

> OK, I renamed the tarball, and was able to run `sage -i bliss`, but the following make fails:
> 
> ```
> [sagelib-7.3.rc0] building 'sage.graphs.bliss' extension
> [sagelib-7.3.rc0] Executing 1 command (using 1 thread)
> [sagelib-7.3.rc0] [1/1] gcc -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused -fPIC -I/home/scratch/dimpase/sage/sage/local/include -I/home/scratch/dimpase/sage/sage/local/include/python2.7 -I/home/scratch/dimpase/sage/sage/local/lib/python2.7/site-packages/numpy/core/include -I/home/scratch/dimpase/sage/sage/src -I/home/scratch/dimpase/sage/sage/src/sage/ext -I/home/scratch/dimpase/sage/sage/src/build/cythonized -I/home/scratch/dimpase/sage/sage/src/build/cythonized/sage/ext -I/home/scratch/dimpase/sage/sage/local/include/python2.7 -c /home/scratch/dimpase/sage/sage/src/build/cythonized/sage/graphs/bliss.cpp -o build/temp.linux-x86_64-2.7/home/scratch/dimpase/sage/sage/src/build/cythonized/sage/graphs/bliss.o -fno-strict-aliasing
> [sagelib-7.3.rc0] /home/scratch/dimpase/sage/sage/src/build/cythonized/sage/graphs/bliss.cpp:317:20: fatal error: graph.hh: No such file or directory
> [sagelib-7.3.rc0] compilation terminated.
> [sagelib-7.3.rc0] error: command 'gcc' failed with exit status 1
> ```
> 
> This is on Fedora23, Sage 7.3.rc0, with gcc version 5.3.1 20160406 (Red Hat 5.3.1-6) (GCC).

Thanks for catching this. Fix coming shortly.



---

archive/issue_comments_306035.json:
```json
{
    "body": "Changed commit from **[1d2707c](https://github.com/sagemath/sagetrac-mirror/commit/1d2707cf0db6eb015ba93d224e6760dd219a5e7d)** to **[c0c0427](https://github.com/sagemath/sagetrac-mirror/commit/c0c0427e4e4f728380b5b23d9fbbd870a0ba30fa)**",
    "created_at": "2016-08-03T10:00:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20901#issuecomment-306035",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[1d2707c](https://github.com/sagemath/sagetrac-mirror/commit/1d2707cf0db6eb015ba93d224e6760dd219a5e7d)** to **[c0c0427](https://github.com/sagemath/sagetrac-mirror/commit/c0c0427e4e4f728380b5b23d9fbbd870a0ba30fa)**



---

archive/issue_comments_306036.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c0c0427e4e4f728380b5b23d9fbbd870a0ba30fa\">c0c0427</a></td><td><code>Adjust to changed bliss header file locations</code></td></tr></table>\n",
    "created_at": "2016-08-03T10:00:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20901#issuecomment-306036",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:24'>Comment 24:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c0c0427e4e4f728380b5b23d9fbbd870a0ba30fa">c0c0427</a></td><td><code>Adjust to changed bliss header file locations</code></td></tr></table>




---

archive/issue_comments_306037.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nFixed.",
    "created_at": "2016-08-03T10:01:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20901#issuecomment-306037",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:25'>Comment 25:</a>
Fixed.



---

archive/issue_comments_306038.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -9,6 +9,6 @@\n \n On https://github.com/mkoeppe/bliss in branch `sage_package` I have applied the Debian patches and a few more patches for Sage. The `spkg-src` script clones from there and builds a distribution. The result is available here: \n \n-tarball: https://github.com/mkoeppe/bliss/releases/download/sage_package%2F0.73%2Bdebian-1%2Bsage-2016-08-02/bliss-0.73.debian-1.sage-2016-08-02.tar.gz\n+tarball: https://github.com/mkoeppe/bliss/releases/download/sage_package%2F0.73%2Bdebian-1%2Bsage-2016-08-02/bliss-0.73.debian-1.sage-2016-08-02.tar.gz (rename to `bliss-0.73+debian-1+sage-2016-08-02.tar.gz`)\n \n \n``````\n",
    "created_at": "2016-08-03T10:01:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20901#issuecomment-306038",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -9,6 +9,6 @@
 
 On https://github.com/mkoeppe/bliss in branch `sage_package` I have applied the Debian patches and a few more patches for Sage. The `spkg-src` script clones from there and builds a distribution. The result is available here: 
 
-tarball: https://github.com/mkoeppe/bliss/releases/download/sage_package%2F0.73%2Bdebian-1%2Bsage-2016-08-02/bliss-0.73.debian-1.sage-2016-08-02.tar.gz
+tarball: https://github.com/mkoeppe/bliss/releases/download/sage_package%2F0.73%2Bdebian-1%2Bsage-2016-08-02/bliss-0.73.debian-1.sage-2016-08-02.tar.gz (rename to `bliss-0.73+debian-1+sage-2016-08-02.tar.gz`)
 
 
``````




---

archive/issue_comments_306039.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\nOK, this works. In order to keep the release manager happy, I suggest that you put the tarball somewhere where it can be wget'ed without renaming hassle...",
    "created_at": "2016-08-03T10:55:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20901#issuecomment-306039",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:27'>Comment 27:</a>
OK, this works. In order to keep the release manager happy, I suggest that you put the tarball somewhere where it can be wget'ed without renaming hassle...



---

archive/issue_comments_306040.json:
```json
{
    "body": "<a id='comment:28'>Comment 28:</a>\nIs this a \"positive_review\"?",
    "created_at": "2016-08-04T19:02:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20901#issuecomment-306040",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:28'>Comment 28:</a>
Is this a "positive_review"?



---

archive/issue_comments_306041.json:
```json
{
    "body": "<a id='comment:29'>Comment 29:</a>\nI trust you are able to put the tarball somewhere where the name mangling does not happen. :-)",
    "created_at": "2016-08-04T19:09:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20901#issuecomment-306041",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:29'>Comment 29:</a>
I trust you are able to put the tarball somewhere where the name mangling does not happen. :-)



---

archive/issue_comments_306042.json:
```json
{
    "body": "Reviewer: **Dima Pasechnik**",
    "created_at": "2016-08-04T19:09:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20901#issuecomment-306042",
    "user": "https://github.com/dimpase"
}
```

Reviewer: **Dima Pasechnik**



---

archive/issue_events_276209.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2016-08-04T19:09:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20901#event-276209"
}
```



---

archive/issue_events_276210.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2016-08-04T19:09:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20901#event-276210"
}
```



---

archive/issue_comments_306043.json:
```json
{
    "body": "<a id='comment:30'>Comment 30:</a>\nThanks, Dima.\n\nVolker - does the upload location of the tarball work for you?",
    "created_at": "2016-08-04T19:29:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20901#issuecomment-306043",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:30'>Comment 30:</a>
Thanks, Dima.

Volker - does the upload location of the tarball work for you?



---

archive/issue_comments_306044.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/upgrade_bliss_package_to_0_73_with_debian_patches__install_header_files_in_location_expected_by_polymake](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/upgrade_bliss_package_to_0_73_with_debian_patches__install_header_files_in_location_expected_by_polymake)** to **[c0c0427](https://github.com/sagemath/sagetrac-mirror/commit/c0c0427e4e4f728380b5b23d9fbbd870a0ba30fa)**",
    "created_at": "2016-08-07T20:01:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20901#issuecomment-306044",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mkoeppe/upgrade_bliss_package_to_0_73_with_debian_patches__install_header_files_in_location_expected_by_polymake](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/upgrade_bliss_package_to_0_73_with_debian_patches__install_header_files_in_location_expected_by_polymake)** to **[c0c0427](https://github.com/sagemath/sagetrac-mirror/commit/c0c0427e4e4f728380b5b23d9fbbd870a0ba30fa)**



---

archive/issue_events_276211.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-08-07T20:01:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20901#event-276211"
}
```



---

archive/issue_events_276212.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "e68bc3466fe9c3f90d26d3fb2dfa9f53b298fdc7",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-08-07T20:01:33Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20901#event-276212"
}
```



---

archive/issue_comments_306045.json:
```json
{
    "body": "Changed commit from **[c0c0427](https://github.com/sagemath/sagetrac-mirror/commit/c0c0427e4e4f728380b5b23d9fbbd870a0ba30fa)** to none",
    "created_at": "2016-08-10T17:49:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20901#issuecomment-306045",
    "user": "https://github.com/mkoeppe"
}
```

Changed commit from **[c0c0427](https://github.com/sagemath/sagetrac-mirror/commit/c0c0427e4e4f728380b5b23d9fbbd870a0ba30fa)** to none



---

archive/issue_comments_306046.json:
```json
{
    "body": "Upstream: **Reported upstream. No feedback yet.**",
    "created_at": "2016-08-10T17:49:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20901#issuecomment-306046",
    "user": "https://github.com/mkoeppe"
}
```

Upstream: **Reported upstream. No feedback yet.**



---

archive/issue_comments_306047.json:
```json
{
    "body": "<a id='comment:33'>Comment 33:</a>\nsome patchbots meet compilation problems:\n\n```\n[sagelib-7.4.beta1] /home/worker/sage-patchbot/src/build/cythonized/sage/graphs/bliss.cpp:317:26: fatal error: bliss/graph.hh: No such file or directory\n[sagelib-7.4.beta1]  #include \"bliss/graph.hh\"\n[sagelib-7.4.beta1]                           ^\n[sagelib-7.4.beta1] compilation terminated.\n```",
    "created_at": "2016-08-18T10:26:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20901#issuecomment-306047",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:33'>Comment 33:</a>
some patchbots meet compilation problems:

```
[sagelib-7.4.beta1] /home/worker/sage-patchbot/src/build/cythonized/sage/graphs/bliss.cpp:317:26: fatal error: bliss/graph.hh: No such file or directory
[sagelib-7.4.beta1]  #include "bliss/graph.hh"
[sagelib-7.4.beta1]                           ^
[sagelib-7.4.beta1] compilation terminated.
```



---

archive/issue_comments_306048.json:
```json
{
    "body": "<a id='comment:34'>Comment 34:</a>\nWell, the install location of this header file changed with this upgrade, so the patchbots will have to reinstall the package.",
    "created_at": "2016-08-18T16:12:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20901#issuecomment-306048",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:34'>Comment 34:</a>
Well, the install location of this header file changed with this upgrade, so the patchbots will have to reinstall the package.



---

archive/issue_comments_306049.json:
```json
{
    "body": "<a id='comment:35'>Comment 35:</a>\nI hope that #21288 will fix this.",
    "created_at": "2016-08-19T09:26:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20901#issuecomment-306049",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:35'>Comment 35:</a>
I hope that #21288 will fix this.
