# Issue 20061: Add method for finding all perfect matchings to Graph

archive/issues_019824.json:
```json
{
    "assignees": [],
    "body": "Add a method for finding all perfect matchings to `Graph` using the following algorithm:\nChoose a vertex v, then recurse through all edges incident to v, removing one edge at a time whenever an edge is added to a matching.\n\n\nCC:  @tscrim @nathanncohen\n\nKeywords: **perfect matching, graph**\n\nBranch/Commit: **[`f448279`](https://github.com/sagemath/sagetrac-mirror/commit/f448279b13a8cf559d53591451dfb6fe80e2c48d)**\n\nReviewer: **Nathann Cohen, Travis Scrimshaw**\n\nAuthor: **Emily Gunawan**\n\nComponent: **graph theory**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/20061_\n\n",
    "closed_at": "2016-03-01T00:02:30Z",
    "created_at": "2016-02-16T05:39:37Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Add method for finding all perfect matchings to Graph",
    "type": "issue",
    "updated_at": "2016-03-01T00:02:30Z",
    "url": "https://github.com/sagemath/sage/issues/20061",
    "user": "https://github.com/egunawan"
}
```
Add a method for finding all perfect matchings to `Graph` using the following algorithm:
Choose a vertex v, then recurse through all edges incident to v, removing one edge at a time whenever an edge is added to a matching.


CC:  @tscrim @nathanncohen

Keywords: **perfect matching, graph**

Branch/Commit: **[`f448279`](https://github.com/sagemath/sagetrac-mirror/commit/f448279b13a8cf559d53591451dfb6fe80e2c48d)**

Reviewer: **Nathann Cohen, Travis Scrimshaw**

Author: **Emily Gunawan**

Component: **graph theory**

_Issue created by migration from https://trac.sagemath.org/ticket/20061_





---

archive/issue_events_283360.json:
```json
{
    "actor": "https://github.com/egunawan",
    "created_at": "2016-02-16T05:39:37Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20061",
    "milestone_number": null,
    "milestone_title": "sage-7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20061#event-283360"
}
```



---

archive/issue_events_283361.json:
```json
{
    "actor": "https://github.com/egunawan",
    "created_at": "2016-02-16T05:39:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20061",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20061#event-283361"
}
```



---

archive/issue_events_283362.json:
```json
{
    "actor": "https://github.com/egunawan",
    "created_at": "2016-02-16T05:39:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20061",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20061#event-283362"
}
```



---

archive/issue_events_283363.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-02-16T15:44:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20061",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
    "label_color": "0000ff",
    "label_name": "c: graph theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20061#event-283363"
}
```



---

archive/issue_comments_287579.json:
```json
{
    "body": "Branch: **[u/egunawan/20061](https://github.com/sagemath/sagetrac-mirror/tree/u/egunawan/20061)**",
    "created_at": "2016-02-17T22:09:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20061#issuecomment-287579",
    "user": "https://github.com/egunawan"
}
```

Branch: **[u/egunawan/20061](https://github.com/sagemath/sagetrac-mirror/tree/u/egunawan/20061)**



---

archive/issue_comments_287580.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n Add a method for finding all perfect matchings to `Graph` using the following algorithm:\n Choose a vertex v, then recurse through all edges incident to v, removing one edge at a time whenever an edge is added to a matching.\n  \n-code in progress\n+u/egunawan/20061 based on Sage version to 7.1.beta3\n``````\n",
    "created_at": "2016-02-17T22:09:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20061#issuecomment-287580",
    "user": "https://github.com/egunawan"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
 Add a method for finding all perfect matchings to `Graph` using the following algorithm:
 Choose a vertex v, then recurse through all edges incident to v, removing one edge at a time whenever an edge is added to a matching.
  
-code in progress
+u/egunawan/20061 based on Sage version to 7.1.beta3
``````




---

archive/issue_comments_287581.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1bea58a4708b8e02e148e7755d772f603934743d\">1bea58a</a></td><td><code>add perfect_matchings method</code></td></tr></table>\n",
    "created_at": "2016-02-17T22:09:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20061#issuecomment-287581",
    "user": "https://github.com/egunawan"
}
```

<div id="comment:3"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1bea58a4708b8e02e148e7755d772f603934743d">1bea58a</a></td><td><code>add perfect_matchings method</code></td></tr></table>




---

archive/issue_comments_287582.json:
```json
{
    "body": "Commit: **[`1bea58a`](https://github.com/sagemath/sagetrac-mirror/commit/1bea58a4708b8e02e148e7755d772f603934743d)**",
    "created_at": "2016-02-17T22:09:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20061#issuecomment-287582",
    "user": "https://github.com/egunawan"
}
```

Commit: **[`1bea58a`](https://github.com/sagemath/sagetrac-mirror/commit/1bea58a4708b8e02e148e7755d772f603934743d)**



---

archive/issue_comments_287583.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nHello,\n\nSome remarks:\n\n- You will notice that all methods in graph.py are decorated with `doc_index`, which makes them appear in the index of functions of that file. As it is missing in your branch, I expect that your function appears in the 'uncategorized' section of this table.\n\n- The function will appear in this index of function, and the style of its description is a bit at odds with others: we usually have something like 'returns an interator over the perfect matchings of the graph'. Note that in the context of this table, 'self' does not appear anywhere.\n\n- In order to test whether a graph is empty, you can do `if G`. What you do is build the list of vertices and throw it away at every call of the function, uselessly.\n\n- You build the list a second time to pick `v`, to throw everything away except its first element. You would achieve the same with `v = next(self.vertex_iterator())`.\n\nNathann",
    "created_at": "2016-02-17T22:16:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20061#issuecomment-287583",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:4" align="right">comment:4</div>

Hello,

Some remarks:

- You will notice that all methods in graph.py are decorated with `doc_index`, which makes them appear in the index of functions of that file. As it is missing in your branch, I expect that your function appears in the 'uncategorized' section of this table.

- The function will appear in this index of function, and the style of its description is a bit at odds with others: we usually have something like 'returns an interator over the perfect matchings of the graph'. Note that in the context of this table, 'self' does not appear anywhere.

- In order to test whether a graph is empty, you can do `if G`. What you do is build the list of vertices and throw it away at every call of the function, uselessly.

- You build the list a second time to pick `v`, to throw everything away except its first element. You would achieve the same with `v = next(self.vertex_iterator())`.

Nathann



---

archive/issue_comments_287584.json:
```json
{
    "body": "Changed commit from **[`1bea58a`](https://github.com/sagemath/sagetrac-mirror/commit/1bea58a4708b8e02e148e7755d772f603934743d)** to **[`da6befd`](https://github.com/sagemath/sagetrac-mirror/commit/da6befdeec141f05f665de5e5322752c2751f2ef)**",
    "created_at": "2016-02-18T04:36:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20061#issuecomment-287584",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1bea58a`](https://github.com/sagemath/sagetrac-mirror/commit/1bea58a4708b8e02e148e7755d772f603934743d)** to **[`da6befd`](https://github.com/sagemath/sagetrac-mirror/commit/da6befdeec141f05f665de5e5322752c2751f2ef)**



---

archive/issue_comments_287585.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/da6befdeec141f05f665de5e5322752c2751f2ef\">da6befd</a></td><td><code>Add doc_index. Change is G.vertices() to if G. Change G.vertices()[0] to next(G.vertex_iterator()). Add test for empty Graph.</code></td></tr></table>\n",
    "created_at": "2016-02-18T04:36:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20061#issuecomment-287585",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/da6befdeec141f05f665de5e5322752c2751f2ef">da6befd</a></td><td><code>Add doc_index. Change is G.vertices() to if G. Change G.vertices()[0] to next(G.vertex_iterator()). Add test for empty Graph.</code></td></tr></table>




---

archive/issue_comments_287586.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nHello again,\n\n- You chose 'basic methods' for your new method but counting matchings is not basic at all. The `.matching` method, in particular, is in the 'leftovers' section.\n\n- You can write a check of your method using the `matching_polynomial` methods which counts the number of matchings. It will also give you the number of perfect matchings.\n\n- Your method probably fails on a graph like `graphs.PetersenGraph().copy(immutable=True)`.\n\n- I discussed with Travis the advantages of checking (with `.matching()`) that the graph actually contains a perfect matching before recursing. Is there a reason why you decided against it ?\n\n- If you want to, you can optionally add SEEALSO sections to/from the other matching-related methods:\n  http://doc.sagemath.org/html/en/developer/coding_basics.html#documentation-strings\n\n- Please set your ticket to `needs_review` when you are done with your changes and want somebody to look at your code.\n\nNathann",
    "created_at": "2016-02-18T09:23:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20061#issuecomment-287586",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:6" align="right">comment:6</div>

Hello again,

- You chose 'basic methods' for your new method but counting matchings is not basic at all. The `.matching` method, in particular, is in the 'leftovers' section.

- You can write a check of your method using the `matching_polynomial` methods which counts the number of matchings. It will also give you the number of perfect matchings.

- Your method probably fails on a graph like `graphs.PetersenGraph().copy(immutable=True)`.

- I discussed with Travis the advantages of checking (with `.matching()`) that the graph actually contains a perfect matching before recursing. Is there a reason why you decided against it ?

- If you want to, you can optionally add SEEALSO sections to/from the other matching-related methods:
  http://doc.sagemath.org/html/en/developer/coding_basics.html#documentation-strings

- Please set your ticket to `needs_review` when you are done with your changes and want somebody to look at your code.

Nathann



---

archive/issue_comments_287587.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nOh, and another 'optional' thing: many functions which return edges or list of edges have a `labels=True/False` optional argument to tell whether you want the edges to be pairs or triples (containing the label). This could be done here too if you want.\n\n```\nsage: g = graphs.PetersenGraph()\nsage: g.edges_incident(0,labels=False)\n[(0, 1), (0, 4), (0, 5)]\nsage: g.edges_incident(0,labels=True)\n[(0, 1, None), (0, 4, None), (0, 5, None)]\n```\n\nNathann",
    "created_at": "2016-02-18T09:24:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20061#issuecomment-287587",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:7" align="right">comment:7</div>

Oh, and another 'optional' thing: many functions which return edges or list of edges have a `labels=True/False` optional argument to tell whether you want the edges to be pairs or triples (containing the label). This could be done here too if you want.

```
sage: g = graphs.PetersenGraph()
sage: g.edges_incident(0,labels=False)
[(0, 1), (0, 4), (0, 5)]
sage: g.edges_incident(0,labels=True)
[(0, 1, None), (0, 4, None), (0, 5, None)]
```

Nathann



---

archive/issue_comments_287588.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nReplying to [@nathanncohen](#comment:6):\n> - Your method probably fails on a graph like `graphs.PetersenGraph().copy(immutable=True)`.\n\nAh, right; copying an immutable graph does nothing. Emily, you need `Gp = self.copy(immutable=False)`. Could you also add a test against immutable graphs?\n\n> - I discussed with Travis the advantages of checking (with `.matching()`) that the graph actually contains a perfect matching before recursing. Is there a reason why you decided against it ?\n\nThis is my fault; I had forgotten to mention this to her. How rare would you say it is that a graph does not have a perfect matching but each connected component has an even number of vertices?",
    "created_at": "2016-02-18T14:29:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20061#issuecomment-287588",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:8" align="right">comment:8</div>

Replying to [@nathanncohen](#comment:6):
> - Your method probably fails on a graph like `graphs.PetersenGraph().copy(immutable=True)`.

Ah, right; copying an immutable graph does nothing. Emily, you need `Gp = self.copy(immutable=False)`. Could you also add a test against immutable graphs?

> - I discussed with Travis the advantages of checking (with `.matching()`) that the graph actually contains a perfect matching before recursing. Is there a reason why you decided against it ?

This is my fault; I had forgotten to mention this to her. How rare would you say it is that a graph does not have a perfect matching but each connected component has an even number of vertices?



---

archive/issue_comments_287589.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nYo,\n\n> Ah, right; copying an immutable graph does nothing. Emily, you need `Gp = self.copy(immutable=False)`. Could you also add a test against immutable graphs?\n\n`copy(a_graph)` does what you want, though it is less explicit. Volker insisted that `copy(something)` should always be mutable, while I insisted that `copy(a_graph)` should not take 3Gig in memory if `a_graph` only takes 100Mo.\n\nLife.\n\n> This is my fault; I had forgotten to mention this to her. How rare would you say it is that a graph does not have a perfect matching but each connected component has an even number of vertices?\n\n\"Depends on the graphs\", but truth is that I don't know. Give it a try, see how bad it is, and if you really don't know this can become another optional test. Well, do the smart/responsible thing, as always.\n\nNathann",
    "created_at": "2016-02-18T14:33:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20061#issuecomment-287589",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:9" align="right">comment:9</div>

Yo,

> Ah, right; copying an immutable graph does nothing. Emily, you need `Gp = self.copy(immutable=False)`. Could you also add a test against immutable graphs?

`copy(a_graph)` does what you want, though it is less explicit. Volker insisted that `copy(something)` should always be mutable, while I insisted that `copy(a_graph)` should not take 3Gig in memory if `a_graph` only takes 100Mo.

Life.

> This is my fault; I had forgotten to mention this to her. How rare would you say it is that a graph does not have a perfect matching but each connected component has an even number of vertices?

"Depends on the graphs", but truth is that I don't know. Give it a try, see how bad it is, and if you really don't know this can become another optional test. Well, do the smart/responsible thing, as always.

Nathann



---

archive/issue_comments_287590.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nIn regards to `.matching()`, it seems like the method returns a maximum matching that is not necessary a perfect matching. For example,\n\n```\nsage: Graph([[1,2],[2,3]]).matching()\n[(2, 3, None)]\n```",
    "created_at": "2016-02-21T06:33:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20061#issuecomment-287590",
    "user": "https://github.com/egunawan"
}
```

<div id="comment:10" align="right">comment:10</div>

In regards to `.matching()`, it seems like the method returns a maximum matching that is not necessary a perfect matching. For example,

```
sage: Graph([[1,2],[2,3]]).matching()
[(2, 3, None)]
```



---

archive/issue_comments_287591.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6af9810c780dded023700f7a40aeb412c1fb43d7\">6af9810</a></td><td><code>Method is under leftovers instead of basic methods.</code></td></tr></table>\n",
    "created_at": "2016-02-21T18:01:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20061#issuecomment-287591",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6af9810c780dded023700f7a40aeb412c1fb43d7">6af9810</a></td><td><code>Method is under leftovers instead of basic methods.</code></td></tr></table>




---

archive/issue_comments_287592.json:
```json
{
    "body": "Changed commit from **[`da6befd`](https://github.com/sagemath/sagetrac-mirror/commit/da6befdeec141f05f665de5e5322752c2751f2ef)** to **[`6af9810`](https://github.com/sagemath/sagetrac-mirror/commit/6af9810c780dded023700f7a40aeb412c1fb43d7)**",
    "created_at": "2016-02-21T18:01:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20061#issuecomment-287592",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`da6befd`](https://github.com/sagemath/sagetrac-mirror/commit/da6befdeec141f05f665de5e5322752c2751f2ef)** to **[`6af9810`](https://github.com/sagemath/sagetrac-mirror/commit/6af9810c780dded023700f7a40aeb412c1fb43d7)**



---

archive/issue_comments_287593.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/37e077afe84f151ef2772d8f560bc547e76f51f5\">37e077a</a></td><td><code>Add optional parameter labels=True/False</code></td></tr></table>\n",
    "created_at": "2016-02-21T21:30:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20061#issuecomment-287593",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/37e077afe84f151ef2772d8f560bc547e76f51f5">37e077a</a></td><td><code>Add optional parameter labels=True/False</code></td></tr></table>




---

archive/issue_comments_287594.json:
```json
{
    "body": "Changed commit from **[`6af9810`](https://github.com/sagemath/sagetrac-mirror/commit/6af9810c780dded023700f7a40aeb412c1fb43d7)** to **[`37e077a`](https://github.com/sagemath/sagetrac-mirror/commit/37e077afe84f151ef2772d8f560bc547e76f51f5)**",
    "created_at": "2016-02-21T21:30:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20061#issuecomment-287594",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6af9810`](https://github.com/sagemath/sagetrac-mirror/commit/6af9810c780dded023700f7a40aeb412c1fb43d7)** to **[`37e077a`](https://github.com/sagemath/sagetrac-mirror/commit/37e077afe84f151ef2772d8f560bc547e76f51f5)**



---

archive/issue_events_283364.json:
```json
{
    "actor": "https://github.com/egunawan",
    "created_at": "2016-02-21T21:31:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20061",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20061#event-283364"
}
```



---

archive/issue_comments_287595.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nHello again,\n\nSeveral comments:\n\n- You *can* (if you prefer) exchange a '\\' character at the end of the line against parentheses, e.g.\n\n```\nsage: (1+\n....: 1)\n2\n```\n\n- Instead of `if labels` you can simplify your code by doing this:\n\n```diff\n-for e in self.edges_incident(v):\n+for e in self.edges_incident(v,labels=labels):\n```\n\n- Did you reach a decision about the subcall to `.matching()`?\n\nNathann",
    "created_at": "2016-02-22T10:05:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20061#issuecomment-287595",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:14" align="right">comment:14</div>

Hello again,

Several comments:

- You *can* (if you prefer) exchange a '\' character at the end of the line against parentheses, e.g.

```
sage: (1+
....: 1)
2
```

- Instead of `if labels` you can simplify your code by doing this:

```diff
-for e in self.edges_incident(v):
+for e in self.edges_incident(v,labels=labels):
```

- Did you reach a decision about the subcall to `.matching()`?

Nathann



---

archive/issue_events_283365.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2016-02-22T10:05:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20061",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20061#event-283365"
}
```



---

archive/issue_events_283366.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2016-02-22T10:05:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20061",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20061#event-283366"
}
```



---

archive/issue_comments_287596.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nI will make changes in regards to the first two bullet points above.\n\nIn regards to `.matching()`, it seems like the method returns a maximum matching that is not necessarily a perfect matching. For example,\n\n```\nsage: Graph([[1,2],[2,3]]).matching()\n[(2, 3, None)]\n```\nCould you comment on this?",
    "created_at": "2016-02-22T21:02:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20061#issuecomment-287596",
    "user": "https://github.com/egunawan"
}
```

<div id="comment:15" align="right">comment:15</div>

I will make changes in regards to the first two bullet points above.

In regards to `.matching()`, it seems like the method returns a maximum matching that is not necessarily a perfect matching. For example,

```
sage: Graph([[1,2],[2,3]]).matching()
[(2, 3, None)]
```
Could you comment on this?



---

archive/issue_comments_287597.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nHello,\n\n> In regards to `.matching()`, it seems like the method returns a maximum matching that is not necessarily a perfect matching. For example,\n> \n> ```\n> sage: Graph([[1,2],[2,3]]).matching()\n> [(2, 3, None)]\n> ```\n> Could you comment on this?\n\nThe `.matching()` function returns a largest matching, not necessarily perfect matching. Just test the size of the matching it returns.\n\nUnfortunately, I decided to stop contributing to Sage a couple of hours ago. I wish you good luck.\n\nRegards,\n\nNathann",
    "created_at": "2016-02-22T21:07:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20061#issuecomment-287597",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:16" align="right">comment:16</div>

Hello,

> In regards to `.matching()`, it seems like the method returns a maximum matching that is not necessarily a perfect matching. For example,
> 
> ```
> sage: Graph([[1,2],[2,3]]).matching()
> [(2, 3, None)]
> ```
> Could you comment on this?

The `.matching()` function returns a largest matching, not necessarily perfect matching. Just test the size of the matching it returns.

Unfortunately, I decided to stop contributing to Sage a couple of hours ago. I wish you good luck.

Regards,

Nathann



---

archive/issue_comments_287598.json:
```json
{
    "body": "Changed commit from **[`37e077a`](https://github.com/sagemath/sagetrac-mirror/commit/37e077afe84f151ef2772d8f560bc547e76f51f5)** to **[`caa58ca`](https://github.com/sagemath/sagetrac-mirror/commit/caa58caa43336cb6a740c78e6ec6e5807ca188ba)**",
    "created_at": "2016-02-28T22:59:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20061#issuecomment-287598",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`37e077a`](https://github.com/sagemath/sagetrac-mirror/commit/37e077afe84f151ef2772d8f560bc547e76f51f5)** to **[`caa58ca`](https://github.com/sagemath/sagetrac-mirror/commit/caa58caa43336cb6a740c78e6ec6e5807ca188ba)**



---

archive/issue_comments_287599.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/caa58caa43336cb6a740c78e6ec6e5807ca188ba\">caa58ca</a></td><td><code>exchange a '\\' character at the end of the line against parentheses. and simplify code by removing 'if labels'. we decided to not include subcall to matching() at this time.</code></td></tr></table>\n",
    "created_at": "2016-02-28T22:59:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20061#issuecomment-287599",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/caa58caa43336cb6a740c78e6ec6e5807ca188ba">caa58ca</a></td><td><code>exchange a '\' character at the end of the line against parentheses. and simplify code by removing 'if labels'. we decided to not include subcall to matching() at this time.</code></td></tr></table>




---

archive/issue_events_283367.json:
```json
{
    "actor": "https://github.com/egunawan",
    "created_at": "2016-02-28T23:01:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20061",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20061#event-283367"
}
```



---

archive/issue_events_283368.json:
```json
{
    "actor": "https://github.com/egunawan",
    "created_at": "2016-02-28T23:01:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20061",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20061#event-283368"
}
```



---

archive/issue_comments_287600.json:
```json
{
    "body": "Changed branch from **[u/egunawan/20061](https://github.com/sagemath/sagetrac-mirror/tree/u/egunawan/20061)** to **[u/tscrim/perfect_matchings-20061](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/perfect_matchings-20061)**",
    "created_at": "2016-02-28T23:56:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20061#issuecomment-287600",
    "user": "https://github.com/tscrim"
}
```

Changed branch from **[u/egunawan/20061](https://github.com/sagemath/sagetrac-mirror/tree/u/egunawan/20061)** to **[u/tscrim/perfect_matchings-20061](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/perfect_matchings-20061)**



---

archive/issue_comments_287601.json:
```json
{
    "body": "Changed commit from **[`caa58ca`](https://github.com/sagemath/sagetrac-mirror/commit/caa58caa43336cb6a740c78e6ec6e5807ca188ba)** to **[`f448279`](https://github.com/sagemath/sagetrac-mirror/commit/f448279b13a8cf559d53591451dfb6fe80e2c48d)**",
    "created_at": "2016-02-28T23:56:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20061#issuecomment-287601",
    "user": "https://github.com/tscrim"
}
```

Changed commit from **[`caa58ca`](https://github.com/sagemath/sagetrac-mirror/commit/caa58caa43336cb6a740c78e6ec6e5807ca188ba)** to **[`f448279`](https://github.com/sagemath/sagetrac-mirror/commit/f448279b13a8cf559d53591451dfb6fe80e2c48d)**



---

archive/issue_comments_287602.json:
```json
{
    "body": "Reviewer: **Nathann Cohen, Travis Scrimshaw**",
    "created_at": "2016-02-28T23:56:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20061#issuecomment-287602",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Nathann Cohen, Travis Scrimshaw**



---

archive/issue_comments_287603.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nI made a few changes and tweaks. If you're happy when them, go ahead and set a positive review. (Don't forget to add your name to the authors field.)\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6fbd0814ac46e5969ce96101a07572fb6cefbe9b\">6fbd081</a></td><td><code>Merge branch 'u/egunawan/20061' of trac.sagemath.org:sage into u/tscrim/perfect_matchings-20061</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f448279b13a8cf559d53591451dfb6fe80e2c48d\">f448279</a></td><td><code>Some additional reviewer tweaks.</code></td></tr></table>\n",
    "created_at": "2016-02-28T23:56:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20061#issuecomment-287603",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:19" align="right">comment:19</div>

I made a few changes and tweaks. If you're happy when them, go ahead and set a positive review. (Don't forget to add your name to the authors field.)

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6fbd0814ac46e5969ce96101a07572fb6cefbe9b">6fbd081</a></td><td><code>Merge branch 'u/egunawan/20061' of trac.sagemath.org:sage into u/tscrim/perfect_matchings-20061</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f448279b13a8cf559d53591451dfb6fe80e2c48d">f448279</a></td><td><code>Some additional reviewer tweaks.</code></td></tr></table>




---

archive/issue_comments_287604.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nThank you!\nWhat is the benefit of adding `return` here?\n\n```\nif not self:\n    yield []\n    return\n```",
    "created_at": "2016-02-29T06:10:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20061#issuecomment-287604",
    "user": "https://github.com/egunawan"
}
```

<div id="comment:20" align="right">comment:20</div>

Thank you!
What is the benefit of adding `return` here?

```
if not self:
    yield []
    return
```



---

archive/issue_comments_287605.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n Add a method for finding all perfect matchings to `Graph` using the following algorithm:\n Choose a vertex v, then recurse through all edges incident to v, removing one edge at a time whenever an edge is added to a matching.\n  \n-u/egunawan/20061 based on Sage version to 7.1.beta3\n+u/tscrim/perfect_matchings-20061 based on Sage version to 7.1.beta5\n``````\n",
    "created_at": "2016-02-29T06:11:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20061#issuecomment-287605",
    "user": "https://github.com/egunawan"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
 Add a method for finding all perfect matchings to `Graph` using the following algorithm:
 Choose a vertex v, then recurse through all edges incident to v, removing one edge at a time whenever an edge is added to a matching.
  
-u/egunawan/20061 based on Sage version to 7.1.beta3
+u/tscrim/perfect_matchings-20061 based on Sage version to 7.1.beta5
``````




---

archive/issue_comments_287606.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,3 @@\n Add a method for finding all perfect matchings to `Graph` using the following algorithm:\n Choose a vertex v, then recurse through all edges incident to v, removing one edge at a time whenever an edge is added to a matching.\n- \n-u/tscrim/perfect_matchings-20061 based on Sage version to 7.1.beta5\n+\n``````\n",
    "created_at": "2016-02-29T06:14:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20061#issuecomment-287606",
    "user": "https://github.com/tscrim"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,3 @@
 Add a method for finding all perfect matchings to `Graph` using the following algorithm:
 Choose a vertex v, then recurse through all edges incident to v, removing one edge at a time whenever an edge is added to a matching.
- 
-u/tscrim/perfect_matchings-20061 based on Sage version to 7.1.beta5
+
``````




---

archive/issue_comments_287607.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nThe `return` is there to signify that this should result in no more iterations. I changed it from the if/else flow you had because I think this is easier to understand code (but that is more stylistic and debatable).",
    "created_at": "2016-02-29T06:14:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20061#issuecomment-287607",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:22" align="right">comment:22</div>

The `return` is there to signify that this should result in no more iterations. I changed it from the if/else flow you had because I think this is easier to understand code (but that is more stylistic and debatable).



---

archive/issue_events_283369.json:
```json
{
    "actor": "https://github.com/egunawan",
    "created_at": "2016-02-29T06:18:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20061",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20061#event-283369"
}
```



---

archive/issue_events_283370.json:
```json
{
    "actor": "https://github.com/egunawan",
    "created_at": "2016-02-29T06:18:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20061",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20061#event-283370"
}
```



---

archive/issue_comments_287608.json:
```json
{
    "body": "Author: **Emily Gunawan**",
    "created_at": "2016-02-29T06:18:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20061#issuecomment-287608",
    "user": "https://github.com/egunawan"
}
```

Author: **Emily Gunawan**



---

archive/issue_comments_287609.json:
```json
{
    "body": "Changed branch from **[u/tscrim/perfect_matchings-20061](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/perfect_matchings-20061)** to **[`f448279`](https://github.com/sagemath/sagetrac-mirror/commit/f448279b13a8cf559d53591451dfb6fe80e2c48d)**",
    "created_at": "2016-03-01T00:02:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20061#issuecomment-287609",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/tscrim/perfect_matchings-20061](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/perfect_matchings-20061)** to **[`f448279`](https://github.com/sagemath/sagetrac-mirror/commit/f448279b13a8cf559d53591451dfb6fe80e2c48d)**



---

archive/issue_events_283371.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-03-01T00:02:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20061",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20061#event-283371"
}
```



---

archive/issue_events_283372.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "80ec73df57afc52b5226880d7eae7093242c43b5",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-03-01T00:02:30Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/20061",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20061#event-283372"
}
```
