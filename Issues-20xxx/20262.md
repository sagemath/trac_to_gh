# Issue 20262: Add point transformation matrix for projective space.

archive/issues_020025.json:
```json
{
    "body": "Given two sets of n+2 points given that no n+1 subsets are linearly dependent, find the unique transformation matrix that maps one set to the other.\n\nAssignee: rlmiller\n\nBranch/Commit: 010fa7b72b59f0eb0077bce1a7e5c78988b1b61f\n\nReviewer: Ben Hutz\n\nAuthor: Rebecca Lauren Miller\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/20262\n\n",
    "closed_at": "2016-04-09T07:44:25Z",
    "created_at": "2016-03-23T16:26:20Z",
    "labels": [
        "component: algebraic geometry",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.2",
    "title": "Add point transformation matrix for projective space.",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20262",
    "user": "https://trac.sagemath.org/admin/accounts/users/rlmiller"
}
```
Given two sets of n+2 points given that no n+1 subsets are linearly dependent, find the unique transformation matrix that maps one set to the other.

Assignee: rlmiller

Branch/Commit: 010fa7b72b59f0eb0077bce1a7e5c78988b1b61f

Reviewer: Ben Hutz

Author: Rebecca Lauren Miller

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/20262





---

archive/issue_comments_367215.json:
```json
{
    "body": "Changing branch from \"\" to \"u/rlmiller/moduli\"",
    "created_at": "2016-03-23T16:31:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20262#issuecomment-367215",
    "user": "https://trac.sagemath.org/admin/accounts/users/rlmiller"
}
```

Changing branch from "" to "u/rlmiller/moduli"



---

archive/issue_comments_367216.json:
```json
{
    "body": "Changing commit from \"\" to \"f5c19931914cb0fa8311d2c18cedafb7b4450fec\"",
    "created_at": "2016-03-31T01:58:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20262#issuecomment-367216",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "f5c19931914cb0fa8311d2c18cedafb7b4450fec"



---

archive/issue_comments_367217.json:
```json
{
    "body": "<a id='comment:2'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                         |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------|\n|[f5c1993](http://git.sagemath.org/sage.git/commit/?id=f5c19931914cb0fa8311d2c18cedafb7b4450fec)|`20262 fixed white space`|",
    "created_at": "2016-03-31T01:58:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20262#issuecomment-367217",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                         |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------|
|[f5c1993](http://git.sagemath.org/sage.git/commit/?id=f5c19931914cb0fa8311d2c18cedafb7b4450fec)|`20262 fixed white space`|



---

archive/issue_comments_367218.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-03-31T02:01:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20262#issuecomment-367218",
    "user": "https://trac.sagemath.org/admin/accounts/users/rlmiller"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_367219.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-03-31T16:48:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20262#issuecomment-367219",
    "user": "https://github.com/bhutz"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_367220.json:
```json
{
    "body": "<a id='comment:4'></a>\nA couple minor things here\n\n- need to do input checking on both the codomains of the points and the number of points entered\n\n```\nP1.<a,b,c>=ProjectiveSpace(QQ, 2)\nP.<x,y,z>=ProjectiveSpace(QQ, 2)\npoints_source=[P1([1,4,1]),P([1,2,2]),P1([3,5,1]),P1([1,-1,1])]\npoints_target=[P([5,-2,7]),P([3,-2,3]),P([6,-5,9]), P([3,6,7])]\n```\n\n```\nP1.<a,b,c>=ProjectiveSpace(QQ, 2)\npoints_source=[P1([1,4,1]),P1([1,2,2]),P1([3,5,1]),P1([13,5,-1]),P1([3,25,4])]\npoints_target=[P1([5,-2,7]),P1([3,-2,3]),P1([6,-5,9]), P1([3,6,7])]\nP1.point_transformation_matrix(points_source, points_target)\n```\n\n- for the lines\n\n```\nw = v.rational_points(bound=n)\nif len(w) == 0:\n    raise ValueError (\" no conjugation found, over the %s\" %r)\n```\n\n you should remove the bound=n, and I don't think you need the if/raise as if you pass the linearly independent check you will have a unique solution defined over the base_ring",
    "created_at": "2016-03-31T16:48:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20262#issuecomment-367220",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:4'></a>
A couple minor things here

- need to do input checking on both the codomains of the points and the number of points entered

```
P1.<a,b,c>=ProjectiveSpace(QQ, 2)
P.<x,y,z>=ProjectiveSpace(QQ, 2)
points_source=[P1([1,4,1]),P([1,2,2]),P1([3,5,1]),P1([1,-1,1])]
points_target=[P([5,-2,7]),P([3,-2,3]),P([6,-5,9]), P([3,6,7])]
```

```
P1.<a,b,c>=ProjectiveSpace(QQ, 2)
points_source=[P1([1,4,1]),P1([1,2,2]),P1([3,5,1]),P1([13,5,-1]),P1([3,25,4])]
points_target=[P1([5,-2,7]),P1([3,-2,3]),P1([6,-5,9]), P1([3,6,7])]
P1.point_transformation_matrix(points_source, points_target)
```

- for the lines

```
w = v.rational_points(bound=n)
if len(w) == 0:
    raise ValueError (" no conjugation found, over the %s" %r)
```

 you should remove the bound=n, and I don't think you need the if/raise as if you pass the linearly independent check you will have a unique solution defined over the base_ring



---

archive/issue_comments_367221.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Ben Hutz\"",
    "created_at": "2016-03-31T16:48:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20262#issuecomment-367221",
    "user": "https://github.com/bhutz"
}
```

Changing reviewer from "" to "Ben Hutz"



---

archive/issue_comments_367222.json:
```json
{
    "body": "<a id='comment:5'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                                            |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------|\n|[2d49d8b](http://git.sagemath.org/sage.git/commit/?id=2d49d8b9456f93d0a018071ada84a3d9d0630d9c)|`20262 Point transformation matrix, Added new value errors and updated code`|",
    "created_at": "2016-04-05T16:26:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20262#issuecomment-367222",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                                            |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------|
|[2d49d8b](http://git.sagemath.org/sage.git/commit/?id=2d49d8b9456f93d0a018071ada84a3d9d0630d9c)|`20262 Point transformation matrix, Added new value errors and updated code`|



---

archive/issue_comments_367223.json:
```json
{
    "body": "Changing commit from \"f5c19931914cb0fa8311d2c18cedafb7b4450fec\" to \"2d49d8b9456f93d0a018071ada84a3d9d0630d9c\"",
    "created_at": "2016-04-05T16:26:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20262#issuecomment-367223",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "f5c19931914cb0fa8311d2c18cedafb7b4450fec" to "2d49d8b9456f93d0a018071ada84a3d9d0630d9c"



---

archive/issue_comments_367224.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-04-05T16:29:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20262#issuecomment-367224",
    "user": "https://trac.sagemath.org/admin/accounts/users/rlmiller"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_367225.json:
```json
{
    "body": "<a id='comment:6'></a>\nAdded new value errors and doctests for each new value error. Edited code as suggested.",
    "created_at": "2016-04-05T16:29:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20262#issuecomment-367225",
    "user": "https://trac.sagemath.org/admin/accounts/users/rlmiller"
}
```

<a id='comment:6'></a>
Added new value errors and doctests for each new value error. Edited code as suggested.



---

archive/issue_comments_367226.json:
```json
{
    "body": "<a id='comment:7'></a>\nFunctionality looks fine, just two documentation things.\n\n- The description of the function needs improvement.\n\n- one of the examples is missing a blank line after the :: so is not formatting correctly",
    "created_at": "2016-04-06T15:40:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20262#issuecomment-367226",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:7'></a>
Functionality looks fine, just two documentation things.

- The description of the function needs improvement.

- one of the examples is missing a blank line after the :: so is not formatting correctly



---

archive/issue_comments_367227.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-04-06T15:40:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20262#issuecomment-367227",
    "user": "https://github.com/bhutz"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_367228.json:
```json
{
    "body": "<a id='comment:8'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                                        |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------|\n|[293415c](http://git.sagemath.org/sage.git/commit/?id=293415c731d3e1e7b991bdf7ee897c1ad80eb3be)|`20262 Point transformation matrix- fixed style and updated description`|",
    "created_at": "2016-04-07T14:32:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20262#issuecomment-367228",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                                        |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------|
|[293415c](http://git.sagemath.org/sage.git/commit/?id=293415c731d3e1e7b991bdf7ee897c1ad80eb3be)|`20262 Point transformation matrix- fixed style and updated description`|



---

archive/issue_comments_367229.json:
```json
{
    "body": "Changing commit from \"2d49d8b9456f93d0a018071ada84a3d9d0630d9c\" to \"293415c731d3e1e7b991bdf7ee897c1ad80eb3be\"",
    "created_at": "2016-04-07T14:32:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20262#issuecomment-367229",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "2d49d8b9456f93d0a018071ada84a3d9d0630d9c" to "293415c731d3e1e7b991bdf7ee897c1ad80eb3be"



---

archive/issue_comments_367230.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-04-07T14:33:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20262#issuecomment-367230",
    "user": "https://trac.sagemath.org/admin/accounts/users/rlmiller"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_367231.json:
```json
{
    "body": "Changing commit from \"293415c731d3e1e7b991bdf7ee897c1ad80eb3be\" to \"2c82468e33679ba6be6a72a64cde1fba7ed6e731\"",
    "created_at": "2016-04-07T23:58:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20262#issuecomment-367231",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "293415c731d3e1e7b991bdf7ee897c1ad80eb3be" to "2c82468e33679ba6be6a72a64cde1fba7ed6e731"



---

archive/issue_comments_367232.json:
```json
{
    "body": "<a id='comment:10'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                          |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------|\n|[2c82468](http://git.sagemath.org/sage.git/commit/?id=2c82468e33679ba6be6a72a64cde1fba7ed6e731)|`20262 Point Transformation Matrix -Updated documentation`|",
    "created_at": "2016-04-07T23:58:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20262#issuecomment-367232",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                          |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------|
|[2c82468](http://git.sagemath.org/sage.git/commit/?id=2c82468e33679ba6be6a72a64cde1fba7ed6e731)|`20262 Point Transformation Matrix -Updated documentation`|



---

archive/issue_comments_367233.json:
```json
{
    "body": "<a id='comment:11'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                          |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------|\n|[c74ec51](http://git.sagemath.org/sage.git/commit/?id=c74ec51fd0028aae3e4410a5de511d1c8dfcc309)|`20262 Point Transformation Matrix- Updated documentation`|",
    "created_at": "2016-04-08T00:00:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20262#issuecomment-367233",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                          |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------|
|[c74ec51](http://git.sagemath.org/sage.git/commit/?id=c74ec51fd0028aae3e4410a5de511d1c8dfcc309)|`20262 Point Transformation Matrix- Updated documentation`|



---

archive/issue_comments_367234.json:
```json
{
    "body": "Changing commit from \"2c82468e33679ba6be6a72a64cde1fba7ed6e731\" to \"c74ec51fd0028aae3e4410a5de511d1c8dfcc309\"",
    "created_at": "2016-04-08T00:00:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20262#issuecomment-367234",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "2c82468e33679ba6be6a72a64cde1fba7ed6e731" to "c74ec51fd0028aae3e4410a5de511d1c8dfcc309"



---

archive/issue_comments_367235.json:
```json
{
    "body": "<a id='comment:12'></a>\nerr..you mean no n+1 are linearly *dependent*. I'd just fix it, but I have this pulled into another branch....",
    "created_at": "2016-04-08T00:17:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20262#issuecomment-367235",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:12'></a>
err..you mean no n+1 are linearly *dependent*. I'd just fix it, but I have this pulled into another branch....



---

archive/issue_comments_367236.json:
```json
{
    "body": "<a id='comment:13'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                                |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------|\n|[010fa7b](http://git.sagemath.org/sage.git/commit/?id=010fa7b72b59f0eb0077bce1a7e5c78988b1b61f)|`20262 Point Transformation Matrix- Fixed typo in documentation`|",
    "created_at": "2016-04-08T13:47:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20262#issuecomment-367236",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                                |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------|
|[010fa7b](http://git.sagemath.org/sage.git/commit/?id=010fa7b72b59f0eb0077bce1a7e5c78988b1b61f)|`20262 Point Transformation Matrix- Fixed typo in documentation`|



---

archive/issue_comments_367237.json:
```json
{
    "body": "Changing commit from \"c74ec51fd0028aae3e4410a5de511d1c8dfcc309\" to \"010fa7b72b59f0eb0077bce1a7e5c78988b1b61f\"",
    "created_at": "2016-04-08T13:47:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20262#issuecomment-367237",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "c74ec51fd0028aae3e4410a5de511d1c8dfcc309" to "010fa7b72b59f0eb0077bce1a7e5c78988b1b61f"



---

archive/issue_comments_367238.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-04-08T15:31:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20262#issuecomment-367238",
    "user": "https://github.com/bhutz"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_055010.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-04-09T07:44:25Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/20262",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20262#event-55010"
}
```



---

archive/issue_comments_367239.json:
```json
{
    "body": "Changing branch from \"u/rlmiller/moduli\" to \"010fa7b72b59f0eb0077bce1a7e5c78988b1b61f\"",
    "created_at": "2016-04-09T07:44:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20262#issuecomment-367239",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/rlmiller/moduli" to "010fa7b72b59f0eb0077bce1a7e5c78988b1b61f"



---

archive/issue_comments_367240.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-04-09T07:44:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20262#issuecomment-367240",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
