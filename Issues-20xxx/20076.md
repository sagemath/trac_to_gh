# Issue 20076: coefficients_of_generating_function fails for log-singularity with zeta != 1

archive/issues_019839.json:
```json
{
    "body": "\n```\nsage: A.<n> = AsymptoticRing('QQ^n * n^QQ', QQ)\nsage: def f(z):\n....:     return log(1-2*z)\nsage: A.coefficients_of_generating_function(f, (1/2,), precision=5)\nTraceback (most recent call last):\n...\nTypeError: Cannot apply the substitution rules {Z: n} on -1/2*2^Z*Z^(-1) + O(2^Z*Z^(-3)) in Asymptotic Ring <(Symbolic Constants Subring)^Z * Z^(Symbolic Constants Subring) * log(Z)^(Symbolic Constants Subring)> over Symbolic Ring.\n> *previous* TypeError: Cannot substitute in -1/2*2^Z*Z^(-1) + O(2^Z*Z^(-3)) in Asymptotic Ring <(Symbolic Constants Subring)^Z * Z^(Symbolic Constants Subring) * log(Z)^(Symbolic Constants Subring)> over Symbolic Ring.\n>> *previous* TypeError: Cannot substitute in O(2^Z*Z^(-3)) in O-Term Monoid (Symbolic Constants Subring)^Z * Z^(Symbolic Constants Subring) * log(Z)^(Symbolic Constants Subring) with implicit coefficients in Symbolic Ring.\n>>> *previous* TypeError: Cannot substitute in 2^Z*Z^(-3) in Growth Group (Symbolic Constants Subring)^Z * Z^(Symbolic Constants Subring) * log(Z)^(Symbolic Constants Subring).\n>>>> *previous* TypeError: Cannot substitute in 2^Z in Growth Group (Symbolic Constants Subring)^Z.\n>>>>> *previous* TypeError: no canonical coercion from Asymptotic Ring <n^QQ * QQ^n> over Rational Field to Symbolic Constants Subring\n```\n\nCC:  @dkrenn @cheuberg\n\nBranch: [u/behackl/asy/coef-generating/zeta-neq-1](https://github.com/sagemath/sagetrac-mirror/tree/u/behackl/asy/coef-generating/zeta-neq-1)\n\nCommit: [265e9b428a6bf8e2e3a60285cf34f75e232848de](https://github.com/sagemath/sagetrac-mirror/commit/265e9b428a6bf8e2e3a60285cf34f75e232848de)\n\nStatus: new\n\nDependencies: #20053\n\nIssue created by migration from https://trac.sagemath.org/ticket/20076\n\n",
    "created_at": "2016-02-17T10:46:00Z",
    "labels": [
        "component: asymptotic expansions",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.1",
    "title": "coefficients_of_generating_function fails for log-singularity with zeta != 1",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20076",
    "user": "https://github.com/behackl"
}
```

```
sage: A.<n> = AsymptoticRing('QQ^n * n^QQ', QQ)
sage: def f(z):
....:     return log(1-2*z)
sage: A.coefficients_of_generating_function(f, (1/2,), precision=5)
Traceback (most recent call last):
...
TypeError: Cannot apply the substitution rules {Z: n} on -1/2*2^Z*Z^(-1) + O(2^Z*Z^(-3)) in Asymptotic Ring <(Symbolic Constants Subring)^Z * Z^(Symbolic Constants Subring) * log(Z)^(Symbolic Constants Subring)> over Symbolic Ring.
> *previous* TypeError: Cannot substitute in -1/2*2^Z*Z^(-1) + O(2^Z*Z^(-3)) in Asymptotic Ring <(Symbolic Constants Subring)^Z * Z^(Symbolic Constants Subring) * log(Z)^(Symbolic Constants Subring)> over Symbolic Ring.
>> *previous* TypeError: Cannot substitute in O(2^Z*Z^(-3)) in O-Term Monoid (Symbolic Constants Subring)^Z * Z^(Symbolic Constants Subring) * log(Z)^(Symbolic Constants Subring) with implicit coefficients in Symbolic Ring.
>>> *previous* TypeError: Cannot substitute in 2^Z*Z^(-3) in Growth Group (Symbolic Constants Subring)^Z * Z^(Symbolic Constants Subring) * log(Z)^(Symbolic Constants Subring).
>>>> *previous* TypeError: Cannot substitute in 2^Z in Growth Group (Symbolic Constants Subring)^Z.
>>>>> *previous* TypeError: no canonical coercion from Asymptotic Ring <n^QQ * QQ^n> over Rational Field to Symbolic Constants Subring
```

CC:  @dkrenn @cheuberg

Branch: [u/behackl/asy/coef-generating/zeta-neq-1](https://github.com/sagemath/sagetrac-mirror/tree/u/behackl/asy/coef-generating/zeta-neq-1)

Commit: [265e9b428a6bf8e2e3a60285cf34f75e232848de](https://github.com/sagemath/sagetrac-mirror/commit/265e9b428a6bf8e2e3a60285cf34f75e232848de)

Status: new

Dependencies: #20053

Issue created by migration from https://trac.sagemath.org/ticket/20076





---

archive/issue_comments_365557.json:
```json
{
    "body": "Changing branch from \"\" to \"u/behackl/asy/coef-generating/zeta-neq-1\"",
    "created_at": "2016-02-17T11:51:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20076",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20076#issuecomment-365557",
    "user": "https://github.com/behackl"
}
```

Changing branch from "" to "u/behackl/asy/coef-generating/zeta-neq-1"



---

archive/issue_comments_365558.json:
```json
{
    "body": "<a id='comment:1'></a>\nThis is just a very quick fix the behavior; the exception that might occur should be handled as well.\n\n---\nLast 10 new commits:\n|                                                                                                                                          |                           |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|\n|[0384e25](https://github.com/sagemath/sagetrac-mirror/commit/0384e25ec2afd296a50df47f9cb48fab4a42068a)|`Trac #19540: use is_one()`|\n|[3f0f855](https://github.com/sagemath/sagetrac-mirror/commit/3f0f855c98d9e9223b3ae52e8eb142dd2e4a832c)|`Trac #19540: variable_names for growth elements`|\n|[eb49c65](https://github.com/sagemath/sagetrac-mirror/commit/eb49c65c62473aadd2b4e8443b7ae605c008720c)|`Trac #19540: variable_names for terms`|\n|[5a4adf0](https://github.com/sagemath/sagetrac-mirror/commit/5a4adf02f75c502053b3b5f8b1b1474f75de5421)|`Trac #19540: variable_names for asymptotic expansions`|\n|[d9f2796](https://github.com/sagemath/sagetrac-mirror/commit/d9f2796d794e1e7c55e8fdb7cd352adf5f5ab9f5)|`Trac #19540: _factorial_ for terms`|\n|[c801853](https://github.com/sagemath/sagetrac-mirror/commit/c80185380b78ad14d8a9ac69f7e4294755bf43d3)|`Trac #19540: rewrite factorial`|\n|[139f7c8](https://github.com/sagemath/sagetrac-mirror/commit/139f7c8078f6e86549b43860eca815763f9dc160)|`Trac #19540: note on log(s).factorial()`|\n|[23948e4](https://github.com/sagemath/sagetrac-mirror/commit/23948e43b8038cfe7948fab2f5058cab8f734dbd)|`Merge branch 'u/cheuberg/asy/singularity-analysis-method' of git://trac.sagemath.org/sage into t/19540/asy/factorial`|\n|[7acc487](https://github.com/sagemath/sagetrac-mirror/commit/7acc4879e8992b286119e0ac6c0caf365032b9e5)|`Trac #20053: Merge branch #19540 to resolve merge conflict`|\n|[265e9b4](https://github.com/sagemath/sagetrac-mirror/commit/265e9b428a6bf8e2e3a60285cf34f75e232848de)|`try to use rpow if the previous substitution fails`|",
    "created_at": "2016-02-17T11:51:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20076",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20076#issuecomment-365558",
    "user": "https://github.com/behackl"
}
```

<a id='comment:1'></a>
This is just a very quick fix the behavior; the exception that might occur should be handled as well.

---
Last 10 new commits:
|                                                                                                                                          |                           |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|
|[0384e25](https://github.com/sagemath/sagetrac-mirror/commit/0384e25ec2afd296a50df47f9cb48fab4a42068a)|`Trac #19540: use is_one()`|
|[3f0f855](https://github.com/sagemath/sagetrac-mirror/commit/3f0f855c98d9e9223b3ae52e8eb142dd2e4a832c)|`Trac #19540: variable_names for growth elements`|
|[eb49c65](https://github.com/sagemath/sagetrac-mirror/commit/eb49c65c62473aadd2b4e8443b7ae605c008720c)|`Trac #19540: variable_names for terms`|
|[5a4adf0](https://github.com/sagemath/sagetrac-mirror/commit/5a4adf02f75c502053b3b5f8b1b1474f75de5421)|`Trac #19540: variable_names for asymptotic expansions`|
|[d9f2796](https://github.com/sagemath/sagetrac-mirror/commit/d9f2796d794e1e7c55e8fdb7cd352adf5f5ab9f5)|`Trac #19540: _factorial_ for terms`|
|[c801853](https://github.com/sagemath/sagetrac-mirror/commit/c80185380b78ad14d8a9ac69f7e4294755bf43d3)|`Trac #19540: rewrite factorial`|
|[139f7c8](https://github.com/sagemath/sagetrac-mirror/commit/139f7c8078f6e86549b43860eca815763f9dc160)|`Trac #19540: note on log(s).factorial()`|
|[23948e4](https://github.com/sagemath/sagetrac-mirror/commit/23948e43b8038cfe7948fab2f5058cab8f734dbd)|`Merge branch 'u/cheuberg/asy/singularity-analysis-method' of git://trac.sagemath.org/sage into t/19540/asy/factorial`|
|[7acc487](https://github.com/sagemath/sagetrac-mirror/commit/7acc4879e8992b286119e0ac6c0caf365032b9e5)|`Trac #20053: Merge branch #19540 to resolve merge conflict`|
|[265e9b4](https://github.com/sagemath/sagetrac-mirror/commit/265e9b428a6bf8e2e3a60285cf34f75e232848de)|`try to use rpow if the previous substitution fails`|



---

archive/issue_comments_365559.json:
```json
{
    "body": "Changing commit from \"\" to \"265e9b428a6bf8e2e3a60285cf34f75e232848de\"",
    "created_at": "2016-02-17T11:51:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20076",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20076#issuecomment-365559",
    "user": "https://github.com/behackl"
}
```

Changing commit from "" to "265e9b428a6bf8e2e3a60285cf34f75e232848de"



---

archive/issue_comments_365560.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#20053\"",
    "created_at": "2016-02-17T11:51:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20076",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20076#issuecomment-365560",
    "user": "https://github.com/behackl"
}
```

Changing dependencies from "" to "#20053"
