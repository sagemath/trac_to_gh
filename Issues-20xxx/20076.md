# Issue 20076: coefficients_of_generating_function fails for log-singularity with zeta != 1

archive/issues_019839.json:
```json
{
    "body": "```\nsage: A.<n> = AsymptoticRing('QQ^n * n^QQ', QQ)\nsage: def f(z):\n....:     return log(1-2*z)\nsage: A.coefficients_of_generating_function(f, (1/2,), precision=5)\nTraceback (most recent call last):\n...\nTypeError: Cannot apply the substitution rules {Z: n} on -1/2*2^Z*Z^(-1) + O(2^Z*Z^(-3)) in Asymptotic Ring <(Symbolic Constants Subring)^Z * Z^(Symbolic Constants Subring) * log(Z)^(Symbolic Constants Subring)> over Symbolic Ring.\n> *previous* TypeError: Cannot substitute in -1/2*2^Z*Z^(-1) + O(2^Z*Z^(-3)) in Asymptotic Ring <(Symbolic Constants Subring)^Z * Z^(Symbolic Constants Subring) * log(Z)^(Symbolic Constants Subring)> over Symbolic Ring.\n>> *previous* TypeError: Cannot substitute in O(2^Z*Z^(-3)) in O-Term Monoid (Symbolic Constants Subring)^Z * Z^(Symbolic Constants Subring) * log(Z)^(Symbolic Constants Subring) with implicit coefficients in Symbolic Ring.\n>>> *previous* TypeError: Cannot substitute in 2^Z*Z^(-3) in Growth Group (Symbolic Constants Subring)^Z * Z^(Symbolic Constants Subring) * log(Z)^(Symbolic Constants Subring).\n>>>> *previous* TypeError: Cannot substitute in 2^Z in Growth Group (Symbolic Constants Subring)^Z.\n>>>>> *previous* TypeError: no canonical coercion from Asymptotic Ring <n^QQ * QQ^n> over Rational Field to Symbolic Constants Subring\n```\n\nCC:  @dkrenn @cheuberg\n\nBranch: u/behackl/asy/coef-generating/zeta-neq-1\n\nStatus: new\n\nDependencies: #20053\n\nCommit: 265e9b428a6bf8e2e3a60285cf34f75e232848de\n\nIssue created by migration from https://trac.sagemath.org/ticket/20076\n\n",
    "created_at": "2016-02-17T10:46:00Z",
    "labels": [
        "component: asymptotic expansions",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.1",
    "title": "coefficients_of_generating_function fails for log-singularity with zeta != 1",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20076",
    "user": "https://github.com/behackl"
}
```
```
sage: A.<n> = AsymptoticRing('QQ^n * n^QQ', QQ)
sage: def f(z):
....:     return log(1-2*z)
sage: A.coefficients_of_generating_function(f, (1/2,), precision=5)
Traceback (most recent call last):
...
TypeError: Cannot apply the substitution rules {Z: n} on -1/2*2^Z*Z^(-1) + O(2^Z*Z^(-3)) in Asymptotic Ring <(Symbolic Constants Subring)^Z * Z^(Symbolic Constants Subring) * log(Z)^(Symbolic Constants Subring)> over Symbolic Ring.
> *previous* TypeError: Cannot substitute in -1/2*2^Z*Z^(-1) + O(2^Z*Z^(-3)) in Asymptotic Ring <(Symbolic Constants Subring)^Z * Z^(Symbolic Constants Subring) * log(Z)^(Symbolic Constants Subring)> over Symbolic Ring.
>> *previous* TypeError: Cannot substitute in O(2^Z*Z^(-3)) in O-Term Monoid (Symbolic Constants Subring)^Z * Z^(Symbolic Constants Subring) * log(Z)^(Symbolic Constants Subring) with implicit coefficients in Symbolic Ring.
>>> *previous* TypeError: Cannot substitute in 2^Z*Z^(-3) in Growth Group (Symbolic Constants Subring)^Z * Z^(Symbolic Constants Subring) * log(Z)^(Symbolic Constants Subring).
>>>> *previous* TypeError: Cannot substitute in 2^Z in Growth Group (Symbolic Constants Subring)^Z.
>>>>> *previous* TypeError: no canonical coercion from Asymptotic Ring <n^QQ * QQ^n> over Rational Field to Symbolic Constants Subring
```

CC:  @dkrenn @cheuberg

Branch: u/behackl/asy/coef-generating/zeta-neq-1

Status: new

Dependencies: #20053

Commit: 265e9b428a6bf8e2e3a60285cf34f75e232848de

Issue created by migration from https://trac.sagemath.org/ticket/20076





---

archive/issue_comments_272321.json:
```json
{
    "body": "<a id='comment:1'></a>This is just a very quick fix the behavior; the exception that might occur should be handled as well.\n\n---\nLast 10 new commits:",
    "created_at": "2016-02-17T11:51:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20076",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20076#issuecomment-272321",
    "user": "https://github.com/behackl"
}
```

<a id='comment:1'></a>This is just a very quick fix the behavior; the exception that might occur should be handled as well.

---
Last 10 new commits:
