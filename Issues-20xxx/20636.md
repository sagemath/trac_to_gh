# Issue 20636: Add pictures to contour_plot.py

archive/issues_020399.json:
```json
{
    "body": "Add pictures to the documentation using .. PLOT:: directive\n\nCC:  @paulmasson\n\nReviewer: Travis Scrimshaw, Paul Masson\n\nAuthor: Javier Honrubia Gonz\u00e1lez\n\nBranch: 74720df22ce53427b1cac059d4bb790bf3690a6a\n\nCommit: 74720df22ce53427b1cac059d4bb790bf3690a6a\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/20636\n\n",
    "closed_at": "2016-07-01T16:56:58Z",
    "created_at": "2016-05-19T20:14:53Z",
    "labels": [
        "component: documentation",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.3",
    "title": "Add pictures to contour_plot.py",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20636",
    "user": "https://trac.sagemath.org/admin/accounts/users/jhonrubia6"
}
```
Add pictures to the documentation using .. PLOT:: directive

CC:  @paulmasson

Reviewer: Travis Scrimshaw, Paul Masson

Author: Javier Honrubia Gonz√°lez

Branch: 74720df22ce53427b1cac059d4bb790bf3690a6a

Commit: 74720df22ce53427b1cac059d4bb790bf3690a6a

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/20636





---

archive/issue_comments_280891.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-05-21T17:15:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20636#issuecomment-280891",
    "user": "https://trac.sagemath.org/admin/accounts/users/jhonrubia6"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_280892.json:
```json
{
    "body": "<a id='comment:2'></a>New commits:",
    "created_at": "2016-05-21T17:15:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20636#issuecomment-280892",
    "user": "https://trac.sagemath.org/admin/accounts/users/jhonrubia6"
}
```

<a id='comment:2'></a>New commits:



---

archive/issue_comments_280893.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-05-21T17:49:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20636#issuecomment-280893",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_280894.json:
```json
{
    "body": "<a id='comment:4'></a>The commit 5e7bfbc is incorrect (it belongs to another ticket)",
    "created_at": "2016-05-21T17:54:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20636#issuecomment-280894",
    "user": "https://trac.sagemath.org/admin/accounts/users/jhonrubia6"
}
```

<a id='comment:4'></a>The commit 5e7bfbc is incorrect (it belongs to another ticket)



---

archive/issue_comments_280895.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2016-05-21T22:36:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20636#issuecomment-280895",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_280896.json:
```json
{
    "body": "<a id='comment:6'></a>Thank you for your work on adding the pictures and improving the documentation.\n\nWhile it is good to be PEP8 compliant, strictly enforcing it can make things less readable, especially for someone who it looking at the doc on the webpages. In particular, when you move one argument to a second line when it only goes over 80 characters by a little bit makes it more difficult on the user (in particular, the new user/student). For example:\n\n```diff\n+        sage: contour_plot(f, (0, pi),\n+        ....:              (0, pi)).show(axes=True) # These are equivalent\n```\n\n```diff\n-        sage: contour_plot(x**2-y**2, (x,-2, 2), (y,-2, 2),region=x-y,plot_points=300)\n+        sage: contour_plot(x**2-y**2, (x,-2, 2), (y,-2, 2), region=x - y,\n+        ....:              plot_points=300)\n```\n\n```diff\n-        sage: implicit_plot(mandel(7), (-0.3, 0.05), (-1.15, -0.9),plot_points=50)\n+        sage: implicit_plot(mandel(7), (-0.3, 0.05), (-1.15, -0.9),\n+        ....:               plot_points=50)\n```\n\n```diff\n-        sage: region_plot([x^2+y^2<1, x<y], (x,-2,2), (y,-2,2), plot_points=400)\n+        sage: region_plot([x^2+y^2<1, x<y], (x,-2,2), (y,-2,2),\n+        ....:             plot_points=400)\n```\n\n```diff\n-        sage: region_plot(lambda x,y: x^2+y^2<1 or x<y, (x,-2,2), (y,-2,2), plot_points=400)\n+        sage: region_plot(lambda x,y: x^2+y^2<1 or x<y, (x,-2,2), (y,-2,2),\n+        ....:             plot_points=400)\n```\n\n```diff\n-        sage: region_plot([y>0, x>0, x^2+y^2<1], (x,-1.1, 1.1), (y,-1.1, 1.1), plot_points = 400)\n+        sage: region_plot([y>0, x>0, x^2+y^2<1], (x,-1.1, 1.1), (y,-1.1, 1.1),\n+        ....:             plot_points = 400)\n```\n\nThis same philosophy applies to the code itself. Also, you should revert the change to the copyright header. All of these comments apply to the other plotting tickets.\n\nYour alignment is off on these changes:\n\n```diff\n-        sage: region_plot(sin(x)*sin(y) >= 1/4, (x,-10,10), (y,-10,10), incol='yellow', bordercol='black', borderstyle='dashed', plot_points=250)\n+        sage: region_plot(sin(x)*sin(y) >= 1/4, (x,-10,10), (y,-10,10),\n+        ....:            incol='yellow', bordercol='black',\n+        ....:            borderstyle='dashed', plot_points=250)\n```\n\n```diff\n-        sage: P=contour_plot(y^2 + 1 - x^3 - x, (x,-pi,pi), (y,-pi,pi), \\\n-        ...    fill=False, cmap='hsv', labels=True, label_inline_spacing=1)\n+        sage: P = contour_plot(y^2 + 1 - x^3 - x, (x, -pi, pi), (y, -pi, pi),\n+        ....:                fill=False, cmap='hsv', labels=True,\n+        ....:                label_inline_spacing=1)\n```",
    "created_at": "2016-05-29T08:09:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20636#issuecomment-280896",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:6'></a>Thank you for your work on adding the pictures and improving the documentation.

While it is good to be PEP8 compliant, strictly enforcing it can make things less readable, especially for someone who it looking at the doc on the webpages. In particular, when you move one argument to a second line when it only goes over 80 characters by a little bit makes it more difficult on the user (in particular, the new user/student). For example:

```diff
+        sage: contour_plot(f, (0, pi),
+        ....:              (0, pi)).show(axes=True) # These are equivalent
```

```diff
-        sage: contour_plot(x**2-y**2, (x,-2, 2), (y,-2, 2),region=x-y,plot_points=300)
+        sage: contour_plot(x**2-y**2, (x,-2, 2), (y,-2, 2), region=x - y,
+        ....:              plot_points=300)
```

```diff
-        sage: implicit_plot(mandel(7), (-0.3, 0.05), (-1.15, -0.9),plot_points=50)
+        sage: implicit_plot(mandel(7), (-0.3, 0.05), (-1.15, -0.9),
+        ....:               plot_points=50)
```

```diff
-        sage: region_plot([x^2+y^2<1, x<y], (x,-2,2), (y,-2,2), plot_points=400)
+        sage: region_plot([x^2+y^2<1, x<y], (x,-2,2), (y,-2,2),
+        ....:             plot_points=400)
```

```diff
-        sage: region_plot(lambda x,y: x^2+y^2<1 or x<y, (x,-2,2), (y,-2,2), plot_points=400)
+        sage: region_plot(lambda x,y: x^2+y^2<1 or x<y, (x,-2,2), (y,-2,2),
+        ....:             plot_points=400)
```

```diff
-        sage: region_plot([y>0, x>0, x^2+y^2<1], (x,-1.1, 1.1), (y,-1.1, 1.1), plot_points = 400)
+        sage: region_plot([y>0, x>0, x^2+y^2<1], (x,-1.1, 1.1), (y,-1.1, 1.1),
+        ....:             plot_points = 400)
```

This same philosophy applies to the code itself. Also, you should revert the change to the copyright header. All of these comments apply to the other plotting tickets.

Your alignment is off on these changes:

```diff
-        sage: region_plot(sin(x)*sin(y) >= 1/4, (x,-10,10), (y,-10,10), incol='yellow', bordercol='black', borderstyle='dashed', plot_points=250)
+        sage: region_plot(sin(x)*sin(y) >= 1/4, (x,-10,10), (y,-10,10),
+        ....:            incol='yellow', bordercol='black',
+        ....:            borderstyle='dashed', plot_points=250)
```

```diff
-        sage: P=contour_plot(y^2 + 1 - x^3 - x, (x,-pi,pi), (y,-pi,pi), \
-        ...    fill=False, cmap='hsv', labels=True, label_inline_spacing=1)
+        sage: P = contour_plot(y^2 + 1 - x^3 - x, (x, -pi, pi), (y, -pi, pi),
+        ....:                fill=False, cmap='hsv', labels=True,
+        ....:                label_inline_spacing=1)
```



---

archive/issue_comments_280897.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-05-30T15:39:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20636#issuecomment-280897",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_280898.json:
```json
{
    "body": "<a id='comment:8'></a>I tried to use common sense on what did you mean by 'going over 80 char by a little bit'. I maintained it where it was more readable for me now. I'm open nevertheless to undo all of them if you disagree.\nI have also corrected the indenting",
    "created_at": "2016-05-30T15:43:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20636#issuecomment-280898",
    "user": "https://trac.sagemath.org/admin/accounts/users/jhonrubia6"
}
```

<a id='comment:8'></a>I tried to use common sense on what did you mean by 'going over 80 char by a little bit'. I maintained it where it was more readable for me now. I'm open nevertheless to undo all of them if you disagree.
I have also corrected the indenting



---

archive/issue_comments_280899.json:
```json
{
    "body": "<a id='comment:9'></a>Docs build just fine and pictures look good. Same goes for #20637 and #20649.\n\nAs a minor point, shouldn't there be more consistency in white space between arguments? If major arguments are mostly separated by \"comma space\" shouldn't they all be done that way? And if most tuples don't have any interior white space, shouldn't they all match?",
    "created_at": "2016-06-24T21:20:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20636#issuecomment-280899",
    "user": "https://github.com/paulmasson"
}
```

<a id='comment:9'></a>Docs build just fine and pictures look good. Same goes for #20637 and #20649.

As a minor point, shouldn't there be more consistency in white space between arguments? If major arguments are mostly separated by "comma space" shouldn't they all be done that way? And if most tuples don't have any interior white space, shouldn't they all match?



---

archive/issue_comments_280900.json:
```json
{
    "body": "<a id='comment:11'></a>Sorry this fell off my radar. This looks good, except for this one:\n\n```diff\n-    f = [equify(g) for g in f if not (is_Expression(g) and g.operator() is operator.eq)]\n+    f = [equify(g)\n+         for g in f if not (is_Expression(g) and g.operator() is operator.eq)]\n```\nalthough I don't really care about this. `@`paulmasson I do agree that more consistency would be good (and a space between arguments of functions). I will leave it up to you if you want to have these changes in this ticket or to set it to a positive review as-in.",
    "created_at": "2016-06-25T05:02:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20636#issuecomment-280900",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:11'></a>Sorry this fell off my radar. This looks good, except for this one:

```diff
-    f = [equify(g) for g in f if not (is_Expression(g) and g.operator() is operator.eq)]
+    f = [equify(g)
+         for g in f if not (is_Expression(g) and g.operator() is operator.eq)]
```
although I don't really care about this. `@`paulmasson I do agree that more consistency would be good (and a space between arguments of functions). I will leave it up to you if you want to have these changes in this ticket or to set it to a positive review as-in.



---

archive/issue_comments_280901.json:
```json
{
    "body": "<a id='comment:12'></a>I'd prefer that the white space be made consistent from the start.\n\nJavier, have you gotten your authentication issue resolved?",
    "created_at": "2016-06-27T22:54:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20636#issuecomment-280901",
    "user": "https://github.com/paulmasson"
}
```

<a id='comment:12'></a>I'd prefer that the white space be made consistent from the start.

Javier, have you gotten your authentication issue resolved?



---

archive/issue_comments_280902.json:
```json
{
    "body": "<a id='comment:13'></a>I have my trac configuration fixed, and I would like to ask you about the spacing. What is better?\n\n```\ncmap = get_cmap([(i, i, i) for i in xsrange(0, 1, 1/contours)])\n```\nor\n\n```\ncmap = get_cmap([(i,i,i) for i in xsrange(0, 1, 1/contours)])\n```\nIf I understand you correctly since `(i,i,i)` is a tuple should be without spaces, but it triggers an error in my pep8 checker.\n(by the way, my trac config is finally fixed, thanks :-) )",
    "created_at": "2016-06-29T19:03:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20636#issuecomment-280902",
    "user": "https://trac.sagemath.org/admin/accounts/users/jhonrubia6"
}
```

<a id='comment:13'></a>I have my trac configuration fixed, and I would like to ask you about the spacing. What is better?

```
cmap = get_cmap([(i, i, i) for i in xsrange(0, 1, 1/contours)])
```
or

```
cmap = get_cmap([(i,i,i) for i in xsrange(0, 1, 1/contours)])
```
If I understand you correctly since `(i,i,i)` is a tuple should be without spaces, but it triggers an error in my pep8 checker.
(by the way, my trac config is finally fixed, thanks :-) )



---

archive/issue_comments_280903.json:
```json
{
    "body": "<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-06-29T19:38:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20636#issuecomment-280903",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_280904.json:
```json
{
    "body": "<a id='comment:15'></a>Since PEP8 is about appearance of code and not meaning, I wouldn't worry about that. For the specific example you ask, I would close the white space both in the tuple and in the xsrange.\n\nWhen I recommended have a space between arguments of functions, I should have been more specific and said that should apply to the right-hand side with many arguments. I see you changed `f(x,y)` to `f(x, y)` consistently on left-hand sides, but if it's not too much trouble I would ask you to change that back by omitting the space.\n\nYou've gotten most of the other things I saw, except there are three cases where `),plot_points` should be `), plot_points` and two cases where `),fill` should be `), fill`.\n\nAlso, the one plot with\n\n```\ncontour_plot(x^2-y^3+10*sin(x*y),\n+        ....:              (x,-4,4),\n+        ....:              (y,-4,4),\n+        ....:              plot_points=121, cmap='hsv')\n```\n\nwould look better\n\n```\ncontour_plot(x^2-y^3+10*sin(x*y), (x,-4,4), (y,-4,4),\n+        ....:              plot_points=121, cmap='hsv')\n\n```\n\nWith those changes I'll stop being so picky! Thanks for the patience.",
    "created_at": "2016-06-29T20:41:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20636#issuecomment-280904",
    "user": "https://github.com/paulmasson"
}
```

<a id='comment:15'></a>Since PEP8 is about appearance of code and not meaning, I wouldn't worry about that. For the specific example you ask, I would close the white space both in the tuple and in the xsrange.

When I recommended have a space between arguments of functions, I should have been more specific and said that should apply to the right-hand side with many arguments. I see you changed `f(x,y)` to `f(x, y)` consistently on left-hand sides, but if it's not too much trouble I would ask you to change that back by omitting the space.

You've gotten most of the other things I saw, except there are three cases where `),plot_points` should be `), plot_points` and two cases where `),fill` should be `), fill`.

Also, the one plot with

```
contour_plot(x^2-y^3+10*sin(x*y),
+        ....:              (x,-4,4),
+        ....:              (y,-4,4),
+        ....:              plot_points=121, cmap='hsv')
```

would look better

```
contour_plot(x^2-y^3+10*sin(x*y), (x,-4,4), (y,-4,4),
+        ....:              plot_points=121, cmap='hsv')

```

With those changes I'll stop being so picky! Thanks for the patience.



---

archive/issue_comments_280905.json:
```json
{
    "body": "<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-06-30T18:24:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20636#issuecomment-280905",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_280906.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-06-30T21:15:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20636#issuecomment-280906",
    "user": "https://github.com/paulmasson"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_280907.json:
```json
{
    "body": "<a id='comment:17'></a>Looks good. Thanks!",
    "created_at": "2016-06-30T21:15:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20636#issuecomment-280907",
    "user": "https://github.com/paulmasson"
}
```

<a id='comment:17'></a>Looks good. Thanks!



---

archive/issue_comments_280908.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-07-01T16:56:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20636#issuecomment-280908",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_055578.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-07-01T16:56:58Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/20636",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20636#event-55578"
}
```
