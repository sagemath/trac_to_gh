# Issue 20243: Count real roots of polynomials using Sturm sequences

archive/issues_020006.json:
```json
{
    "assignees": [],
    "body": "We should expose PARI's functionality for counting roots of polynomials in a closed interval:\n\n```\nsage: P.<x> = PolynomialRing(ZZ)\nsage: pari((x-1)*(x-2)*(x-3)).polsturm(1,2)\n2\n```\nNote that the boundary behavior has changed from PARI 2.7 (which did not include the left endpoint of the interval as a root) to 2.8 (which does do so).\n\nDepends on #20256\n\nAssignee: **@kedlaya**\n\nKeywords: **polynomials, root-counting, days71**\n\nBranch/Commit: **[e93f3b8](https://github.com/sagemath/sagetrac-mirror/commit/e93f3b8319b5a05dd6d16e1aef2c5a98acbcfd92)**\n\nReviewer: **Kevin Dilks, Fr\u00e9d\u00e9ric Chapoton**\n\nAuthor: **Kiran Kedlaya**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/20243_\n\n",
    "closed_at": "2016-05-28T12:13:32Z",
    "created_at": "2016-03-21T15:40:23Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20algebra",
        "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Count real roots of polynomials using Sturm sequences",
    "type": "issue",
    "updated_at": "2016-05-28T12:13:32Z",
    "url": "https://github.com/sagemath/sage/issues/20243",
    "user": "https://github.com/kedlaya"
}
```
We should expose PARI's functionality for counting roots of polynomials in a closed interval:

```
sage: P.<x> = PolynomialRing(ZZ)
sage: pari((x-1)*(x-2)*(x-3)).polsturm(1,2)
2
```
Note that the boundary behavior has changed from PARI 2.7 (which did not include the left endpoint of the interval as a root) to 2.8 (which does do so).

Depends on #20256

Assignee: **@kedlaya**

Keywords: **polynomials, root-counting, days71**

Branch/Commit: **[e93f3b8](https://github.com/sagemath/sagetrac-mirror/commit/e93f3b8319b5a05dd6d16e1aef2c5a98acbcfd92)**

Reviewer: **Kevin Dilks, Frédéric Chapoton**

Author: **Kiran Kedlaya**

_Issue created by migration from https://trac.sagemath.org/ticket/20243_





---

archive/issue_events_258267.json:
```json
{
    "actor": "https://github.com/kedlaya",
    "created_at": "2016-03-21T15:40:23Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "milestone_number": null,
    "milestone_title": "sage-7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20243#event-258267"
}
```



---

archive/issue_events_258268.json:
```json
{
    "actor": "https://github.com/kedlaya",
    "created_at": "2016-03-21T15:40:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20algebra",
    "label_color": "0000ff",
    "label_name": "component: algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20243#event-258268"
}
```



---

archive/issue_events_258269.json:
```json
{
    "actor": "https://github.com/kedlaya",
    "created_at": "2016-03-21T15:40:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "label": "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20243#event-258269"
}
```



---

archive/issue_events_258270.json:
```json
{
    "actor": "https://github.com/kedlaya",
    "created_at": "2016-03-21T15:40:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20243#event-258270"
}
```



---

archive/issue_comments_294021.json:
```json
{
    "body": "Branch: **[u/kedlaya/count_real_roots_of_polynomials_using_sturm_sequences](https://github.com/sagemath/sagetrac-mirror/tree/u/kedlaya/count_real_roots_of_polynomials_using_sturm_sequences)**",
    "created_at": "2016-03-22T04:39:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294021",
    "user": "https://github.com/kedlaya"
}
```

Branch: **[u/kedlaya/count_real_roots_of_polynomials_using_sturm_sequences](https://github.com/sagemath/sagetrac-mirror/tree/u/kedlaya/count_real_roots_of_polynomials_using_sturm_sequences)**



---

archive/issue_comments_294022.json:
```json
{
    "body": "Assignee: **@kedlaya**",
    "created_at": "2016-03-22T04:40:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294022",
    "user": "https://github.com/kedlaya"
}
```

Assignee: **@kedlaya**



---

archive/issue_comments_294023.json:
```json
{
    "body": "Author: **Kiran Kedlaya**",
    "created_at": "2016-03-22T04:40:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294023",
    "user": "https://github.com/kedlaya"
}
```

Author: **Kiran Kedlaya**



---

archive/issue_comments_294024.json:
```json
{
    "body": "Commit: **[9540f77](https://github.com/sagemath/sagetrac-mirror/commit/9540f77d0957c1108c03b6090817400aca0f203f)**",
    "created_at": "2016-03-22T04:40:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294024",
    "user": "https://github.com/kedlaya"
}
```

Commit: **[9540f77](https://github.com/sagemath/sagetrac-mirror/commit/9540f77d0957c1108c03b6090817400aca0f203f)**



---

archive/issue_events_258271.json:
```json
{
    "actor": "https://github.com/kedlaya",
    "created_at": "2016-03-22T04:51:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20243#event-258271"
}
```



---

archive/issue_comments_294025.json:
```json
{
    "body": "Changed keywords from **polynomials, root-counting** to **polynomials, root-counting, days71**",
    "created_at": "2016-03-22T17:53:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294025",
    "user": "https://github.com/kedlaya"
}
```

Changed keywords from **polynomials, root-counting** to **polynomials, root-counting, days71**



---

archive/issue_comments_294026.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nRunning Patchbot overnight, will play with the code tomorrow. \n\nJust looking at the source, you're probably going to want to include a check in the code to make sure your polynomial has an appropriate base field, and a test making sure this check behaves properly. Easiest way would to be to check that self.base_field() is RR/QQ/ZZ. There's a potential issue if somebody's polynomial has real coefficients, but is constructed in a complex ring. That is something I may personally do, as testing the Cyclic Sieving Phenomenon involves evaluating polynomials with nonnegative integer coefficients at complex roots of unity. But I suppose the user can just change the base ring appropriately if they want to test for real roots in that case.\n\nAlso, there should be the option of having a be -\\infty and b being +\\infty (the Maxima code for counting number of real roots in an interval allows these options, not sure about pari). My main interest in this code would checking to see if all of a polynomial's roots are real, so I would personally want a simple alias 'is_real_rooted()' that returns 'all_roots_in_interval(-Inf,Inf)'.",
    "created_at": "2016-03-23T06:52:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294026",
    "user": "https://github.com/kevindilks"
}
```

<a id='comment:5'>Comment 5:</a>
Running Patchbot overnight, will play with the code tomorrow. 

Just looking at the source, you're probably going to want to include a check in the code to make sure your polynomial has an appropriate base field, and a test making sure this check behaves properly. Easiest way would to be to check that self.base_field() is RR/QQ/ZZ. There's a potential issue if somebody's polynomial has real coefficients, but is constructed in a complex ring. That is something I may personally do, as testing the Cyclic Sieving Phenomenon involves evaluating polynomials with nonnegative integer coefficients at complex roots of unity. But I suppose the user can just change the base ring appropriately if they want to test for real roots in that case.

Also, there should be the option of having a be -\infty and b being +\infty (the Maxima code for counting number of real roots in an interval allows these options, not sure about pari). My main interest in this code would checking to see if all of a polynomial's roots are real, so I would personally want a simple alias 'is_real_rooted()' that returns 'all_roots_in_interval(-Inf,Inf)'.



---

archive/issue_comments_294027.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\n> Just looking at the source, you're probably going to want to include a check in the code to make sure your polynomial has an appropriate base field\n\nAgreed. However, it might be easier to do this check *after* converting to PARI.",
    "created_at": "2016-03-23T10:09:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294027",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:6'>Comment 6:</a>
> Just looking at the source, you're probably going to want to include a check in the code to make sure your polynomial has an appropriate base field

Agreed. However, it might be easier to do this check *after* converting to PARI.



---

archive/issue_comments_294028.json:
```json
{
    "body": "Dependencies: **#20256**",
    "created_at": "2016-03-23T10:09:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294028",
    "user": "https://github.com/jdemeyer"
}
```

Dependencies: **#20256**



---

archive/issue_events_258272.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-03-23T10:09:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20243#event-258272"
}
```



---

archive/issue_events_258273.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-03-23T10:09:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20243#event-258273"
}
```



---

archive/issue_comments_294029.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3f52ae0a26e0c8427013c29c2f2262a3d5eaea84\">3f52ae0</a></td><td><code>Allow default arguments to polsturm</code></td></tr></table>\n",
    "created_at": "2016-03-23T10:40:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294029",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:7'>Comment 7:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3f52ae0a26e0c8427013c29c2f2262a3d5eaea84">3f52ae0</a></td><td><code>Allow default arguments to polsturm</code></td></tr></table>




---

archive/issue_comments_294030.json:
```json
{
    "body": "Changed commit from **[9540f77](https://github.com/sagemath/sagetrac-mirror/commit/9540f77d0957c1108c03b6090817400aca0f203f)** to **[3f52ae0](https://github.com/sagemath/sagetrac-mirror/commit/3f52ae0a26e0c8427013c29c2f2262a3d5eaea84)**",
    "created_at": "2016-03-23T10:40:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294030",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[9540f77](https://github.com/sagemath/sagetrac-mirror/commit/9540f77d0957c1108c03b6090817400aca0f203f)** to **[3f52ae0](https://github.com/sagemath/sagetrac-mirror/commit/3f52ae0a26e0c8427013c29c2f2262a3d5eaea84)**



---

archive/issue_comments_294031.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nPARI's polsturm allows infinite arguments by omission: a first argument of None translates to -Infinity, a second argument of None translates to +Infinity. I just pushed a commit allowing these.\n\nI agree with adding an alias for all real roots, but I'm not sure what to call it. My first thought would be is_self-adjoint().\n\nI'm not sure what is the best way to check for a valid base ring. One option would be to force the coefficients into RR, but I really want this to be an exact computation on exact input. I suppose I could check for coefficients in QQ or ZZ, and in those cases pass exact coefficients, and in all other cases force the coefficients into RR. But then one should be careful not to clobber the precision of the input in case it is higher than usual.",
    "created_at": "2016-03-23T10:44:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294031",
    "user": "https://github.com/kedlaya"
}
```

<a id='comment:8'>Comment 8:</a>
PARI's polsturm allows infinite arguments by omission: a first argument of None translates to -Infinity, a second argument of None translates to +Infinity. I just pushed a commit allowing these.

I agree with adding an alias for all real roots, but I'm not sure what to call it. My first thought would be is_self-adjoint().

I'm not sure what is the best way to check for a valid base ring. One option would be to force the coefficients into RR, but I really want this to be an exact computation on exact input. I suppose I could check for coefficients in QQ or ZZ, and in those cases pass exact coefficients, and in all other cases force the coefficients into RR. But then one should be careful not to clobber the precision of the input in case it is higher than usual.



---

archive/issue_comments_294032.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nReplying to [@kedlaya](#comment%3A8):\n> PARI's polsturm allows infinite arguments by omission: a first argument of None translates to -Infinity, a second argument of None translates to +Infinity. I just pushed a commit allowing these.\n\nThat's undocumented in PARI, so I think it's a bad idea to rely on that.",
    "created_at": "2016-03-23T11:04:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294032",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:9'>Comment 9:</a>
Replying to [@kedlaya](#comment%3A8):
> PARI's polsturm allows infinite arguments by omission: a first argument of None translates to -Infinity, a second argument of None translates to +Infinity. I just pushed a commit allowing these.

That's undocumented in PARI, so I think it's a bad idea to rely on that.



---

archive/issue_comments_294033.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nReplying to [@jdemeyer](#comment%3A9):\n> Replying to [@kedlaya](#comment%3A8):\n> > PARI's polsturm allows infinite arguments by omission: a first argument of None translates to -Infinity, a second argument of None translates to +Infinity. I just pushed a commit allowing these.\n\n> \n> That's undocumented in PARI, so I think it's a bad idea to rely on that.\n\nIt's in the 2.7 documentation:\n\n```\npolsturm(pol, {a}, {b}): Number of real roots of the real squarefree polynomial pol in the interval ]a,b], using Sturm's algorithm. a (resp. b) is taken to be -infinity (resp. +infinity) if omitted.\n```\nOr have you seen the 2.8 user guide yet (which I haven't found)? There does need to be a change of text to change the interval from ]a,b] (open on the left, closed on the right) to [a,b] (closed both sides).",
    "created_at": "2016-03-23T11:40:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294033",
    "user": "https://github.com/kedlaya"
}
```

<a id='comment:10'>Comment 10:</a>
Replying to [@jdemeyer](#comment%3A9):
> Replying to [@kedlaya](#comment%3A8):
> > PARI's polsturm allows infinite arguments by omission: a first argument of None translates to -Infinity, a second argument of None translates to +Infinity. I just pushed a commit allowing these.

> 
> That's undocumented in PARI, so I think it's a bad idea to rely on that.

It's in the 2.7 documentation:

```
polsturm(pol, {a}, {b}): Number of real roots of the real squarefree polynomial pol in the interval ]a,b], using Sturm's algorithm. a (resp. b) is taken to be -infinity (resp. +infinity) if omitted.
```
Or have you seen the 2.8 user guide yet (which I haven't found)? There does need to be a change of text to change the interval from ]a,b] (open on the left, closed on the right) to [a,b] (closed both sides).



---

archive/issue_comments_294034.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nReplying to [@kedlaya](#comment%3A10):\n> Or have you seen the 2.8 user guide yet (which I haven't found)?\n\nPARI-2.7 is ancient. In PARI-2.8, the syntax has changed, you are supposed to use `polsturm(pol, [a,b])` instead.\n\nThe PARI-2.8 user guide might not be online, but you can access the documentation from Sage: run `./sage --gp` and then type `??polsturm`.\n\nI created #20257 to deprecate `pari(...).polsturm(a, b)` in Sage.",
    "created_at": "2016-03-23T12:58:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294034",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:11'>Comment 11:</a>
Replying to [@kedlaya](#comment%3A10):
> Or have you seen the 2.8 user guide yet (which I haven't found)?

PARI-2.7 is ancient. In PARI-2.8, the syntax has changed, you are supposed to use `polsturm(pol, [a,b])` instead.

The PARI-2.8 user guide might not be online, but you can access the documentation from Sage: run `./sage --gp` and then type `??polsturm`.

I created #20257 to deprecate `pari(...).polsturm(a, b)` in Sage.



---

archive/issue_comments_294035.json:
```json
{
    "body": "Changed commit from **[3f52ae0](https://github.com/sagemath/sagetrac-mirror/commit/3f52ae0a26e0c8427013c29c2f2262a3d5eaea84)** to **[a4450e7](https://github.com/sagemath/sagetrac-mirror/commit/a4450e755ba488d39261e808e8db295171c5edb0)**",
    "created_at": "2016-03-23T13:45:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294035",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[3f52ae0](https://github.com/sagemath/sagetrac-mirror/commit/3f52ae0a26e0c8427013c29c2f2262a3d5eaea84)** to **[a4450e7](https://github.com/sagemath/sagetrac-mirror/commit/a4450e755ba488d39261e808e8db295171c5edb0)**



---

archive/issue_comments_294036.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a4450e755ba488d39261e808e8db295171c5edb0\">a4450e7</a></td><td><code>Updated polsturm call syntax</code></td></tr></table>\n",
    "created_at": "2016-03-23T13:45:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294036",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:12'>Comment 12:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a4450e755ba488d39261e808e8db295171c5edb0">a4450e7</a></td><td><code>Updated polsturm call syntax</code></td></tr></table>




---

archive/issue_comments_294037.json:
```json
{
    "body": "Changed commit from **[a4450e7](https://github.com/sagemath/sagetrac-mirror/commit/a4450e755ba488d39261e808e8db295171c5edb0)** to **[8998591](https://github.com/sagemath/sagetrac-mirror/commit/8998591fa591991cfe6e03f65b13291edda0f11e)**",
    "created_at": "2016-03-23T14:30:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294037",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[a4450e7](https://github.com/sagemath/sagetrac-mirror/commit/a4450e755ba488d39261e808e8db295171c5edb0)** to **[8998591](https://github.com/sagemath/sagetrac-mirror/commit/8998591fa591991cfe6e03f65b13291edda0f11e)**



---

archive/issue_comments_294038.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8998591fa591991cfe6e03f65b13291edda0f11e\">8998591</a></td><td><code>Allow arguments to be one interval or two numbers</code></td></tr></table>\n",
    "created_at": "2016-03-23T14:30:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294038",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:13'>Comment 13:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8998591fa591991cfe6e03f65b13291edda0f11e">8998591</a></td><td><code>Allow arguments to be one interval or two numbers</code></td></tr></table>




---

archive/issue_comments_294039.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nOK, I changed the call syntax to polsturm. I also changed the call syntax for count_roots_in_interval and all_roots_in_interval: they now take a variable number of arguments, which should be either two numbers or one interval. Moreover, I allow passing either None or -Infinity as a left endpoint, and None or +Infinity as a right endpoint (converting them to the Pari infinities).\n\nI still haven't implemented an alias for all real roots (since I'm not settled on the name) or checking the argument type.",
    "created_at": "2016-03-23T14:32:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294039",
    "user": "https://github.com/kedlaya"
}
```

<a id='comment:14'>Comment 14:</a>
OK, I changed the call syntax to polsturm. I also changed the call syntax for count_roots_in_interval and all_roots_in_interval: they now take a variable number of arguments, which should be either two numbers or one interval. Moreover, I allow passing either None or -Infinity as a left endpoint, and None or +Infinity as a right endpoint (converting them to the Pari infinities).

I still haven't implemented an alias for all real roots (since I'm not settled on the name) or checking the argument type.



---

archive/issue_comments_294040.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nConversion to infinity should not happen here, but more generally in the Sage <-> PARI interface. Feel free to add a commit to #20256 to do that.",
    "created_at": "2016-03-23T14:35:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294040",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:15'>Comment 15:</a>
Conversion to infinity should not happen here, but more generally in the Sage <-> PARI interface. Feel free to add a commit to #20256 to do that.



---

archive/issue_comments_294041.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/40807652789f552f8962be80f1561af56639bf67\">4080765</a></td><td><code>Remove conversion of infinities, add has_all_real_roots</code></td></tr></table>\n",
    "created_at": "2016-03-24T10:30:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294041",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:16'>Comment 16:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/40807652789f552f8962be80f1561af56639bf67">4080765</a></td><td><code>Remove conversion of infinities, add has_all_real_roots</code></td></tr></table>




---

archive/issue_comments_294042.json:
```json
{
    "body": "Changed commit from **[8998591](https://github.com/sagemath/sagetrac-mirror/commit/8998591fa591991cfe6e03f65b13291edda0f11e)** to **[4080765](https://github.com/sagemath/sagetrac-mirror/commit/40807652789f552f8962be80f1561af56639bf67)**",
    "created_at": "2016-03-24T10:30:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294042",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[8998591](https://github.com/sagemath/sagetrac-mirror/commit/8998591fa591991cfe6e03f65b13291edda0f11e)** to **[4080765](https://github.com/sagemath/sagetrac-mirror/commit/40807652789f552f8962be80f1561af56639bf67)**



---

archive/issue_comments_294043.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/29ab5c470b79a273d7c5cd06e6b849f9d0b98a85\">29ab5c4</a></td><td><code>Remove extraneous infinity conversion</code></td></tr></table>\n",
    "created_at": "2016-03-24T10:39:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294043",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:17'>Comment 17:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/29ab5c470b79a273d7c5cd06e6b849f9d0b98a85">29ab5c4</a></td><td><code>Remove extraneous infinity conversion</code></td></tr></table>




---

archive/issue_comments_294044.json:
```json
{
    "body": "Changed commit from **[4080765](https://github.com/sagemath/sagetrac-mirror/commit/40807652789f552f8962be80f1561af56639bf67)** to **[29ab5c4](https://github.com/sagemath/sagetrac-mirror/commit/29ab5c470b79a273d7c5cd06e6b849f9d0b98a85)**",
    "created_at": "2016-03-24T10:39:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294044",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[4080765](https://github.com/sagemath/sagetrac-mirror/commit/40807652789f552f8962be80f1561af56639bf67)** to **[29ab5c4](https://github.com/sagemath/sagetrac-mirror/commit/29ab5c470b79a273d7c5cd06e6b849f9d0b98a85)**



---

archive/issue_comments_294045.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nThis commit should play nicely with #20256, but I'm still a novice with git-trac and haven't figured out how to test this yet.\n\nI added has_all_real_roots() to test for all roots in the real line. I'm open to changing that name if someone has a better idea.\n\nI still haven't implemented any sort of sanity checking on the input base ring.",
    "created_at": "2016-03-24T10:41:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294045",
    "user": "https://github.com/kedlaya"
}
```

<a id='comment:18'>Comment 18:</a>
This commit should play nicely with #20256, but I'm still a novice with git-trac and haven't figured out how to test this yet.

I added has_all_real_roots() to test for all roots in the real line. I'm open to changing that name if someone has a better idea.

I still haven't implemented any sort of sanity checking on the input base ring.



---

archive/issue_comments_294046.json:
```json
{
    "body": "Changed commit from **[29ab5c4](https://github.com/sagemath/sagetrac-mirror/commit/29ab5c470b79a273d7c5cd06e6b849f9d0b98a85)** to **[264f2b3](https://github.com/sagemath/sagetrac-mirror/commit/264f2b33a895463e71ad84739a5dc74952eb95bb)**",
    "created_at": "2016-03-24T14:29:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294046",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[29ab5c4](https://github.com/sagemath/sagetrac-mirror/commit/29ab5c470b79a273d7c5cd06e6b849f9d0b98a85)** to **[264f2b3](https://github.com/sagemath/sagetrac-mirror/commit/264f2b33a895463e71ad84739a5dc74952eb95bb)**



---

archive/issue_comments_294047.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a73d039f02f221124360733888363f6781267733\">a73d039</a></td><td><code>Fix conversion of infinity from Sage to PARI</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/27357f9c728618232f21ccc48807513319d8461b\">27357f9</a></td><td><code>Added infinity to type, gentoobj</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3832116557c63a1495e395d5eb3c9036ba701c1e\">3832116</a></td><td><code>Add doctests to gen.pyx, make suggested edits to infinity.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/264f2b33a895463e71ad84739a5dc74952eb95bb\">264f2b3</a></td><td><code>Merge branch 'u/kedlaya/implement_conversion_infinity_____pari' of git://trac.sagemath.org/sage into t/20243/count_real_roots_of_polynomials_using_sturm_sequences</code></td></tr></table>\n",
    "created_at": "2016-03-24T14:29:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294047",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:19'>Comment 19:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a73d039f02f221124360733888363f6781267733">a73d039</a></td><td><code>Fix conversion of infinity from Sage to PARI</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/27357f9c728618232f21ccc48807513319d8461b">27357f9</a></td><td><code>Added infinity to type, gentoobj</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3832116557c63a1495e395d5eb3c9036ba701c1e">3832116</a></td><td><code>Add doctests to gen.pyx, make suggested edits to infinity.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/264f2b33a895463e71ad84739a5dc74952eb95bb">264f2b3</a></td><td><code>Merge branch 'u/kedlaya/implement_conversion_infinity_____pari' of git://trac.sagemath.org/sage into t/20243/count_real_roots_of_polynomials_using_sturm_sequences</code></td></tr></table>




---

archive/issue_comments_294048.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nMerged #20256 to do the Infinity conversion.\n\nI don't know what to do about type-checking. If you have a polynomial over C but whose coefficients actually belong to R, then PARI seems to handle this correctly (I added a doctest to this effect). However, we have trouble with inexact polynomials which are (apparently) not squarefree:\n\n```\nsage: P.<x> = PolynomialRing(RR)\nsage: pol = (x-1)^2*(x-2)^2*(x-3)\nsage: pol.is_squarefree() # Should be False\nTrue\nsage: pari(pol).issquarefree # Should be 0\n1\nsage: pol.count_roots_in_interval()\n...\nPariError: domain error in polsturm: issquarefree(pol) = 0\n```\nI created ticket #20282 for this issue, in case we decide not to deal with it here (which would be my preference).",
    "created_at": "2016-03-24T15:27:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294048",
    "user": "https://github.com/kedlaya"
}
```

<a id='comment:20'>Comment 20:</a>
Merged #20256 to do the Infinity conversion.

I don't know what to do about type-checking. If you have a polynomial over C but whose coefficients actually belong to R, then PARI seems to handle this correctly (I added a doctest to this effect). However, we have trouble with inexact polynomials which are (apparently) not squarefree:

```
sage: P.<x> = PolynomialRing(RR)
sage: pol = (x-1)^2*(x-2)^2*(x-3)
sage: pol.is_squarefree() # Should be False
True
sage: pari(pol).issquarefree # Should be 0
1
sage: pol.count_roots_in_interval()
...
PariError: domain error in polsturm: issquarefree(pol) = 0
```
I created ticket #20282 for this issue, in case we decide not to deal with it here (which would be my preference).



---

archive/issue_comments_294049.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nYou don't actually need this: `a1 = pari(a)` and `b1 = pari(b)`: PARI methods will automatically convert anyway.",
    "created_at": "2016-03-24T16:00:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294049",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:21'>Comment 21:</a>
You don't actually need this: `a1 = pari(a)` and `b1 = pari(b)`: PARI methods will automatically convert anyway.



---

archive/issue_comments_294050.json:
```json
{
    "body": "Changed commit from **[264f2b3](https://github.com/sagemath/sagetrac-mirror/commit/264f2b33a895463e71ad84739a5dc74952eb95bb)** to **[dee973b](https://github.com/sagemath/sagetrac-mirror/commit/dee973be07c543e5998f30dc247c968a8244267a)**",
    "created_at": "2016-03-24T16:11:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294050",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[264f2b3](https://github.com/sagemath/sagetrac-mirror/commit/264f2b33a895463e71ad84739a5dc74952eb95bb)** to **[dee973b](https://github.com/sagemath/sagetrac-mirror/commit/dee973be07c543e5998f30dc247c968a8244267a)**



---

archive/issue_comments_294051.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dee973be07c543e5998f30dc247c968a8244267a\">dee973b</a></td><td><code>Added inexact ring doctest</code></td></tr></table>\n",
    "created_at": "2016-03-24T16:11:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294051",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:22'>Comment 22:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dee973be07c543e5998f30dc247c968a8244267a">dee973b</a></td><td><code>Added inexact ring doctest</code></td></tr></table>




---

archive/issue_comments_294052.json:
```json
{
    "body": "Changed commit from **[dee973b](https://github.com/sagemath/sagetrac-mirror/commit/dee973be07c543e5998f30dc247c968a8244267a)** to **[ac67b2e](https://github.com/sagemath/sagetrac-mirror/commit/ac67b2ec431327f8f58e9a408a50f6d98c1ef528)**",
    "created_at": "2016-03-24T16:15:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294052",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[dee973b](https://github.com/sagemath/sagetrac-mirror/commit/dee973be07c543e5998f30dc247c968a8244267a)** to **[ac67b2e](https://github.com/sagemath/sagetrac-mirror/commit/ac67b2ec431327f8f58e9a408a50f6d98c1ef528)**



---

archive/issue_comments_294053.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ac67b2ec431327f8f58e9a408a50f6d98c1ef528\">ac67b2e</a></td><td><code>Remove extraneous PARI conversion of arguments</code></td></tr></table>\n",
    "created_at": "2016-03-24T16:15:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294053",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:23'>Comment 23:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ac67b2ec431327f8f58e9a408a50f6d98c1ef528">ac67b2e</a></td><td><code>Remove extraneous PARI conversion of arguments</code></td></tr></table>




---

archive/issue_comments_294054.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nReplying to [@jdemeyer](#comment%3A21):\n> You don't actually need this: `a1 = pari(a)` and `b1 = pari(b)`: PARI methods will automatically convert anyway.\n\nChanged to `a1 = a` and `b1 = b`.",
    "created_at": "2016-03-24T16:16:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294054",
    "user": "https://github.com/kedlaya"
}
```

<a id='comment:24'>Comment 24:</a>
Replying to [@jdemeyer](#comment%3A21):
> You don't actually need this: `a1 = pari(a)` and `b1 = pari(b)`: PARI methods will automatically convert anyway.

Changed to `a1 = a` and `b1 = b`.



---

archive/issue_comments_294055.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nYou don't need `a1` or `b1` either, just use `a` and `b`. And `foo == None` should be replaced by `foo is None`.",
    "created_at": "2016-03-24T16:37:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294055",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:25'>Comment 25:</a>
You don't need `a1` or `b1` either, just use `a` and `b`. And `foo == None` should be replaced by `foo is None`.



---

archive/issue_comments_294056.json:
```json
{
    "body": "Changed commit from **[ac67b2e](https://github.com/sagemath/sagetrac-mirror/commit/ac67b2ec431327f8f58e9a408a50f6d98c1ef528)** to **[f932dd3](https://github.com/sagemath/sagetrac-mirror/commit/f932dd3fef7fcf36a8ddd2a9f07cb3f4ae69bc33)**",
    "created_at": "2016-03-24T17:35:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294056",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[ac67b2e](https://github.com/sagemath/sagetrac-mirror/commit/ac67b2ec431327f8f58e9a408a50f6d98c1ef528)** to **[f932dd3](https://github.com/sagemath/sagetrac-mirror/commit/f932dd3fef7fcf36a8ddd2a9f07cb3f4ae69bc33)**



---

archive/issue_comments_294057.json:
```json
{
    "body": "<a id='comment:26'>Comment 26:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f932dd3fef7fcf36a8ddd2a9f07cb3f4ae69bc33\">f932dd3</a></td><td><code>Fix None comparison, remove extraneous variables</code></td></tr></table>\n",
    "created_at": "2016-03-24T17:35:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294057",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:26'>Comment 26:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f932dd3fef7fcf36a8ddd2a9f07cb3f4ae69bc33">f932dd3</a></td><td><code>Fix None comparison, remove extraneous variables</code></td></tr></table>




---

archive/issue_comments_294058.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\nReplying to [@jdemeyer](#comment%3A25):\n> You don't need `a1` or `b1` either, just use `a` and `b`. And `foo == None` should be replaced by `foo is None`.\n\nChanges made.",
    "created_at": "2016-03-24T17:36:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294058",
    "user": "https://github.com/kedlaya"
}
```

<a id='comment:27'>Comment 27:</a>
Replying to [@jdemeyer](#comment%3A25):
> You don't need `a1` or `b1` either, just use `a` and `b`. And `foo == None` should be replaced by `foo is None`.

Changes made.



---

archive/issue_comments_294059.json:
```json
{
    "body": "<a id='comment:28'>Comment 28:</a>\nThe only thing that remains is to check that the coefficients are real. I see two approaches: either checking that the base_ring coerces to `RealField(2)` or checking the PARI types after conversion to PARI.",
    "created_at": "2016-03-24T18:10:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294059",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:28'>Comment 28:</a>
The only thing that remains is to check that the coefficients are real. I see two approaches: either checking that the base_ring coerces to `RealField(2)` or checking the PARI types after conversion to PARI.



---

archive/issue_comments_294060.json:
```json
{
    "body": "<a id='comment:29'>Comment 29:</a>\nI'm not sure checking the base ring is the right approach; one use case that was already suggested above is a polynomial over CC which happens to have real coefficients. One option is to attempt the coercion by calling `self.change_ring(RR)` and discarding the result (allowing a `TypeError` through if it comes up). Working on the PARI side eliminates this particular case:\n\n```\nsage: u = CC(1)\nsage: u.parent()\nComplex Field with 53 bits of precision\nsage: pari(u)\n1.00000000000000\nsage: pari(u).type()\n't_REAL'\n```\nThoughts?",
    "created_at": "2016-03-24T19:56:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294060",
    "user": "https://github.com/kedlaya"
}
```

<a id='comment:29'>Comment 29:</a>
I'm not sure checking the base ring is the right approach; one use case that was already suggested above is a polynomial over CC which happens to have real coefficients. One option is to attempt the coercion by calling `self.change_ring(RR)` and discarding the result (allowing a `TypeError` through if it comes up). Working on the PARI side eliminates this particular case:

```
sage: u = CC(1)
sage: u.parent()
Complex Field with 53 bits of precision
sage: pari(u)
1.00000000000000
sage: pari(u).type()
't_REAL'
```
Thoughts?



---

archive/issue_comments_294061.json:
```json
{
    "body": "<a id='comment:30'>Comment 30:</a>\nReplying to [@kedlaya](#comment%3A29):\n> I'm not sure checking the base ring is the right approach; one use case that was already suggested above is a polynomial over CC which happens to have real coefficients.\n\nThe Sage philosophy is usually that the base ring matters. So, if the polynomial defined over CC happens to have real coefficients, that's an accident. It doens't mean that functions expecting real input should work.",
    "created_at": "2016-03-24T21:25:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294061",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:30'>Comment 30:</a>
Replying to [@kedlaya](#comment%3A29):
> I'm not sure checking the base ring is the right approach; one use case that was already suggested above is a polynomial over CC which happens to have real coefficients.

The Sage philosophy is usually that the base ring matters. So, if the polynomial defined over CC happens to have real coefficients, that's an accident. It doens't mean that functions expecting real input should work.



---

archive/issue_comments_294062.json:
```json
{
    "body": "Changed commit from **[f932dd3](https://github.com/sagemath/sagetrac-mirror/commit/f932dd3fef7fcf36a8ddd2a9f07cb3f4ae69bc33)** to **[e0136a7](https://github.com/sagemath/sagetrac-mirror/commit/e0136a792224bd38b0219d9637686d748551a197)**",
    "created_at": "2016-03-25T12:07:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294062",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[f932dd3](https://github.com/sagemath/sagetrac-mirror/commit/f932dd3fef7fcf36a8ddd2a9f07cb3f4ae69bc33)** to **[e0136a7](https://github.com/sagemath/sagetrac-mirror/commit/e0136a792224bd38b0219d9637686d748551a197)**



---

archive/issue_comments_294063.json:
```json
{
    "body": "<a id='comment:31'>Comment 31:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3ae0de960aacea9101185b3566bc980cb147aca1\">3ae0de9</a></td><td><code>Added type check, handling for complex polynomials</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e0136a792224bd38b0219d9637686d748551a197\">e0136a7</a></td><td><code>Add documentation for real, complex conversion.</code></td></tr></table>\n",
    "created_at": "2016-03-25T12:07:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294063",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:31'>Comment 31:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3ae0de960aacea9101185b3566bc980cb147aca1">3ae0de9</a></td><td><code>Added type check, handling for complex polynomials</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e0136a792224bd38b0219d9637686d748551a197">e0136a7</a></td><td><code>Add documentation for real, complex conversion.</code></td></tr></table>




---

archive/issue_comments_294064.json:
```json
{
    "body": "<a id='comment:32'>Comment 32:</a>\nReplying to [@jdemeyer](#comment%3A30):\n> Replying to [@kedlaya](#comment%3A29):\n> > I'm not sure checking the base ring is the right approach; one use case that was already suggested above is a polynomial over CC which happens to have real coefficients.\n\n> \n> The Sage philosophy is usually that the base ring matters. So, if the polynomial defined over CC happens to have real coefficients, that's an accident. It doens't mean that functions expecting real input should work.\n\nHere is a better solution: make the function work on complex inputs! Now I first attempt a conversion to RR, and if no exception is raised I pass the (unconverted) input directly to PARI; that way, exact inputs stay exact. If that fails, I convert to CC (allowing an exception through if it occurs), and take the GCD of the polynomial with its conjugate (and strip off the leading coefficient) to get a polynomial with real coefficients and all the same real roots as before.",
    "created_at": "2016-03-25T12:09:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294064",
    "user": "https://github.com/kedlaya"
}
```

<a id='comment:32'>Comment 32:</a>
Replying to [@jdemeyer](#comment%3A30):
> Replying to [@kedlaya](#comment%3A29):
> > I'm not sure checking the base ring is the right approach; one use case that was already suggested above is a polynomial over CC which happens to have real coefficients.

> 
> The Sage philosophy is usually that the base ring matters. So, if the polynomial defined over CC happens to have real coefficients, that's an accident. It doens't mean that functions expecting real input should work.

Here is a better solution: make the function work on complex inputs! Now I first attempt a conversion to RR, and if no exception is raised I pass the (unconverted) input directly to PARI; that way, exact inputs stay exact. If that fails, I convert to CC (allowing an exception through if it occurs), and take the GCD of the polynomial with its conjugate (and strip off the leading coefficient) to get a polynomial with real coefficients and all the same real roots as before.



---

archive/issue_comments_294065.json:
```json
{
    "body": "<a id='comment:33'>Comment 33:</a>\nReplying to [@kedlaya](#comment%3A32):\n> Here is a better solution: make the function work on complex inputs! Now I first attempt a conversion to RR, and if no exception is raised I pass the (unconverted) input directly to PARI; that way, exact inputs stay exact. If that fails, I convert to CC (allowing an exception through if it occurs), and take the GCD of the polynomial with its conjugate (and strip off the leading coefficient) to get a polynomial with real coefficients and all the same real roots as before.\n\nCan you document the stuff you wrote here in the code?\n\nI don't see why you need to convert to `CC`. Just conjugate without conversion. That way, you support much more base fields, in particular `QQbar`.",
    "created_at": "2016-03-25T12:36:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294065",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:33'>Comment 33:</a>
Replying to [@kedlaya](#comment%3A32):
> Here is a better solution: make the function work on complex inputs! Now I first attempt a conversion to RR, and if no exception is raised I pass the (unconverted) input directly to PARI; that way, exact inputs stay exact. If that fails, I convert to CC (allowing an exception through if it occurs), and take the GCD of the polynomial with its conjugate (and strip off the leading coefficient) to get a polynomial with real coefficients and all the same real roots as before.

Can you document the stuff you wrote here in the code?

I don't see why you need to convert to `CC`. Just conjugate without conversion. That way, you support much more base fields, in particular `QQbar`.



---

archive/issue_comments_294066.json:
```json
{
    "body": "Changed commit from **[e0136a7](https://github.com/sagemath/sagetrac-mirror/commit/e0136a792224bd38b0219d9637686d748551a197)** to **[716f465](https://github.com/sagemath/sagetrac-mirror/commit/716f4650f5288e639823caa5ec07da14751d094c)**",
    "created_at": "2016-03-25T13:02:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294066",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[e0136a7](https://github.com/sagemath/sagetrac-mirror/commit/e0136a792224bd38b0219d9637686d748551a197)** to **[716f465](https://github.com/sagemath/sagetrac-mirror/commit/716f4650f5288e639823caa5ec07da14751d094c)**



---

archive/issue_comments_294067.json:
```json
{
    "body": "<a id='comment:34'>Comment 34:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/716f4650f5288e639823caa5ec07da14751d094c\">716f465</a></td><td><code>Remove superfluous change_ring()</code></td></tr></table>\n",
    "created_at": "2016-03-25T13:02:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294067",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:34'>Comment 34:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/716f4650f5288e639823caa5ec07da14751d094c">716f465</a></td><td><code>Remove superfluous change_ring()</code></td></tr></table>




---

archive/issue_comments_294068.json:
```json
{
    "body": "<a id='comment:35'>Comment 35:</a>\nReplying to [@jdemeyer](#comment%3A33):\n> Replying to [@kedlaya](#comment%3A32):\n> > Here is a better solution: make the function work on complex inputs! Now I first attempt a conversion to RR, and if no exception is raised I pass the (unconverted) input directly to PARI; that way, exact inputs stay exact. If that fails, I convert to CC (allowing an exception through if it occurs), and take the GCD of the polynomial with its conjugate (and strip off the leading coefficient) to get a polynomial with real coefficients and all the same real roots as before.\n\n> \n> Can you document the stuff you wrote here in the code?\n> \n> I don't see why you need to convert to `CC`. Just conjugate without conversion. That way, you support much more base fields, in particular `QQbar`.\n\nDone. I also took out the conversion to RR, since anyway Pari will return an error if it doesn't like the input.",
    "created_at": "2016-03-25T13:04:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294068",
    "user": "https://github.com/kedlaya"
}
```

<a id='comment:35'>Comment 35:</a>
Replying to [@jdemeyer](#comment%3A33):
> Replying to [@kedlaya](#comment%3A32):
> > Here is a better solution: make the function work on complex inputs! Now I first attempt a conversion to RR, and if no exception is raised I pass the (unconverted) input directly to PARI; that way, exact inputs stay exact. If that fails, I convert to CC (allowing an exception through if it occurs), and take the GCD of the polynomial with its conjugate (and strip off the leading coefficient) to get a polynomial with real coefficients and all the same real roots as before.

> 
> Can you document the stuff you wrote here in the code?
> 
> I don't see why you need to convert to `CC`. Just conjugate without conversion. That way, you support much more base fields, in particular `QQbar`.

Done. I also took out the conversion to RR, since anyway Pari will return an error if it doesn't like the input.



---

archive/issue_events_258274.json:
```json
{
    "actor": "https://github.com/kedlaya",
    "created_at": "2016-04-05T02:46:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20243#event-258274"
}
```



---

archive/issue_events_258275.json:
```json
{
    "actor": "https://github.com/kedlaya",
    "created_at": "2016-04-05T02:46:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20243#event-258275"
}
```



---

archive/issue_comments_294069.json:
```json
{
    "body": "<a id='comment:37'>Comment 37:</a>\nPatchbot doesn't like something about the way errors are raised. I think it would be a bit more straightforward to make the arguments be `(self,lower_bound=None,upper_bound=None)`, and just not allow for the option of specifying the bounds as a two-element list.\n\nIn terms of the names of functions, I think `count_roots_in_interval` would make more sense as `number_of_roots_in_interval` (that's the naming convention used for most combinatorial statistics). And `has_all_real_roots` should probably be named `is_real_rooted`. Things that return a boolean almost always start with `is_`, and calling polynomials with all real roots \"real rooted\" is prevalent, at least in the literature that I read.",
    "created_at": "2016-04-06T02:05:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294069",
    "user": "https://github.com/kevindilks"
}
```

<a id='comment:37'>Comment 37:</a>
Patchbot doesn't like something about the way errors are raised. I think it would be a bit more straightforward to make the arguments be `(self,lower_bound=None,upper_bound=None)`, and just not allow for the option of specifying the bounds as a two-element list.

In terms of the names of functions, I think `count_roots_in_interval` would make more sense as `number_of_roots_in_interval` (that's the naming convention used for most combinatorial statistics). And `has_all_real_roots` should probably be named `is_real_rooted`. Things that return a boolean almost always start with `is_`, and calling polynomials with all real roots "real rooted" is prevalent, at least in the literature that I read.



---

archive/issue_events_258276.json:
```json
{
    "actor": "https://github.com/kevindilks",
    "created_at": "2016-04-06T02:05:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20243#event-258276"
}
```



---

archive/issue_events_258277.json:
```json
{
    "actor": "https://github.com/kevindilks",
    "created_at": "2016-04-06T02:05:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20243#event-258277"
}
```



---

archive/issue_comments_294070.json:
```json
{
    "body": "Changed commit from **[716f465](https://github.com/sagemath/sagetrac-mirror/commit/716f4650f5288e639823caa5ec07da14751d094c)** to **[b4f61f4](https://github.com/sagemath/sagetrac-mirror/commit/b4f61f40d5c5e6b62a765c2abe4ee628fdfc8e4f)**",
    "created_at": "2016-04-06T02:46:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294070",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[716f465](https://github.com/sagemath/sagetrac-mirror/commit/716f4650f5288e639823caa5ec07da14751d094c)** to **[b4f61f4](https://github.com/sagemath/sagetrac-mirror/commit/b4f61f40d5c5e6b62a765c2abe4ee628fdfc8e4f)**



---

archive/issue_comments_294071.json:
```json
{
    "body": "<a id='comment:38'>Comment 38:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b4f61f40d5c5e6b62a765c2abe4ee628fdfc8e4f\">b4f61f4</a></td><td><code>Change call syntax, function names</code></td></tr></table>\n",
    "created_at": "2016-04-06T02:46:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294071",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:38'>Comment 38:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b4f61f40d5c5e6b62a765c2abe4ee628fdfc8e4f">b4f61f4</a></td><td><code>Change call syntax, function names</code></td></tr></table>




---

archive/issue_comments_294072.json:
```json
{
    "body": "Changed commit from **[b4f61f4](https://github.com/sagemath/sagetrac-mirror/commit/b4f61f40d5c5e6b62a765c2abe4ee628fdfc8e4f)** to **[81e9366](https://github.com/sagemath/sagetrac-mirror/commit/81e9366b072db5dc772f3ea9b91b54e20116504b)**",
    "created_at": "2016-04-06T02:53:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294072",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[b4f61f4](https://github.com/sagemath/sagetrac-mirror/commit/b4f61f40d5c5e6b62a765c2abe4ee628fdfc8e4f)** to **[81e9366](https://github.com/sagemath/sagetrac-mirror/commit/81e9366b072db5dc772f3ea9b91b54e20116504b)**



---

archive/issue_comments_294073.json:
```json
{
    "body": "<a id='comment:39'>Comment 39:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/81e9366b072db5dc772f3ea9b91b54e20116504b\">81e9366</a></td><td><code>Added number_of_real_roots method</code></td></tr></table>\n",
    "created_at": "2016-04-06T02:53:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294073",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:39'>Comment 39:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/81e9366b072db5dc772f3ea9b91b54e20116504b">81e9366</a></td><td><code>Added number_of_real_roots method</code></td></tr></table>




---

archive/issue_comments_294074.json:
```json
{
    "body": "<a id='comment:40'>Comment 40:</a>\nReplying to [@kevindilks](#comment%3A37):\n> Patchbot doesn't like something about the way errors are raised. I think it would be a bit more straightforward to make the arguments be `(self,lower_bound=None,upper_bound=None)`, and just not allow for the option of specifying the bounds as a two-element list.\n> \n\nSee if patchbot does better with this.\n\n> In terms of the names of functions, I think `count_roots_in_interval` would make more sense as `number_of_roots_in_interval` (that's the naming convention used for most combinatorial statistics). And `has_all_real_roots` should probably be named `is_real_rooted`. Things that return a boolean almost always start with `is_`, and calling polynomials with all real roots \"real rooted\" is prevalent, at least in the literature that I read.\n\nNot a term I had seen before. I suppose it's actually \"real-rooted\" (otherwise a \"real rooted polynomial\" would be a polynomial which is real and also \"rooted\"), but I think there is a convention to convert both spaces and hyphens into underscores in method names (as in `Matrix.is_skew_symmetric`). However, I don't have a suitable \"is\" reformulation of  `all_roots_in_interval`.\n\nBonus edit: I added `number_of_real_roots` as an alias for `number_of_roots_in_interval` with no arguments.",
    "created_at": "2016-04-06T03:00:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294074",
    "user": "https://github.com/kedlaya"
}
```

<a id='comment:40'>Comment 40:</a>
Replying to [@kevindilks](#comment%3A37):
> Patchbot doesn't like something about the way errors are raised. I think it would be a bit more straightforward to make the arguments be `(self,lower_bound=None,upper_bound=None)`, and just not allow for the option of specifying the bounds as a two-element list.
> 

See if patchbot does better with this.

> In terms of the names of functions, I think `count_roots_in_interval` would make more sense as `number_of_roots_in_interval` (that's the naming convention used for most combinatorial statistics). And `has_all_real_roots` should probably be named `is_real_rooted`. Things that return a boolean almost always start with `is_`, and calling polynomials with all real roots "real rooted" is prevalent, at least in the literature that I read.

Not a term I had seen before. I suppose it's actually "real-rooted" (otherwise a "real rooted polynomial" would be a polynomial which is real and also "rooted"), but I think there is a convention to convert both spaces and hyphens into underscores in method names (as in `Matrix.is_skew_symmetric`). However, I don't have a suitable "is" reformulation of  `all_roots_in_interval`.

Bonus edit: I added `number_of_real_roots` as an alias for `number_of_roots_in_interval` with no arguments.



---

archive/issue_comments_294075.json:
```json
{
    "body": "Reviewer: **Kevin Dilks**",
    "created_at": "2016-04-06T19:00:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294075",
    "user": "https://github.com/kevindilks"
}
```

Reviewer: **Kevin Dilks**



---

archive/issue_comments_294076.json:
```json
{
    "body": "<a id='comment:41'>Comment 41:</a>\nI am happy with this ticket now, but I'll give @jdemeyer some time to weigh in before setting positive review.",
    "created_at": "2016-04-06T19:00:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294076",
    "user": "https://github.com/kevindilks"
}
```

<a id='comment:41'>Comment 41:</a>
I am happy with this ticket now, but I'll give @jdemeyer some time to weigh in before setting positive review.



---

archive/issue_events_258278.json:
```json
{
    "actor": "https://github.com/kevindilks",
    "created_at": "2016-04-06T19:00:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20243#event-258278"
}
```



---

archive/issue_events_258279.json:
```json
{
    "actor": "https://github.com/kevindilks",
    "created_at": "2016-04-06T19:00:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20243#event-258279"
}
```



---

archive/issue_events_258280.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-05-26T19:02:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20243#event-258280"
}
```



---

archive/issue_events_258281.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-05-26T19:02:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20243#event-258281"
}
```



---

archive/issue_comments_294077.json:
```json
{
    "body": "<a id='comment:42'>Comment 42:</a>\nmissing whiteline after `TESTS::`\n\notherwise looks good to me",
    "created_at": "2016-05-26T19:02:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294077",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:42'>Comment 42:</a>
missing whiteline after `TESTS::`

otherwise looks good to me



---

archive/issue_comments_294078.json:
```json
{
    "body": "<a id='comment:43'>Comment 43:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e93f3b8319b5a05dd6d16e1aef2c5a98acbcfd92\">e93f3b8</a></td><td><code>Added missing whitespace in docstring</code></td></tr></table>\n",
    "created_at": "2016-05-26T21:06:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294078",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:43'>Comment 43:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e93f3b8319b5a05dd6d16e1aef2c5a98acbcfd92">e93f3b8</a></td><td><code>Added missing whitespace in docstring</code></td></tr></table>




---

archive/issue_comments_294079.json:
```json
{
    "body": "Changed commit from **[81e9366](https://github.com/sagemath/sagetrac-mirror/commit/81e9366b072db5dc772f3ea9b91b54e20116504b)** to **[e93f3b8](https://github.com/sagemath/sagetrac-mirror/commit/e93f3b8319b5a05dd6d16e1aef2c5a98acbcfd92)**",
    "created_at": "2016-05-26T21:06:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294079",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[81e9366](https://github.com/sagemath/sagetrac-mirror/commit/81e9366b072db5dc772f3ea9b91b54e20116504b)** to **[e93f3b8](https://github.com/sagemath/sagetrac-mirror/commit/e93f3b8319b5a05dd6d16e1aef2c5a98acbcfd92)**



---

archive/issue_events_258282.json:
```json
{
    "actor": "https://github.com/kedlaya",
    "created_at": "2016-05-26T21:07:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20243#event-258282"
}
```



---

archive/issue_events_258283.json:
```json
{
    "actor": "https://github.com/kedlaya",
    "created_at": "2016-05-26T21:07:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20243#event-258283"
}
```



---

archive/issue_comments_294080.json:
```json
{
    "body": "<a id='comment:44'>Comment 44:</a>\nReplying to [@fchapoton](#comment%3A42):\n> missing whiteline after `TESTS::`\n> \n> otherwise looks good to me\n\nFixed, thanks.",
    "created_at": "2016-05-26T21:07:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294080",
    "user": "https://github.com/kedlaya"
}
```

<a id='comment:44'>Comment 44:</a>
Replying to [@fchapoton](#comment%3A42):
> missing whiteline after `TESTS::`
> 
> otherwise looks good to me

Fixed, thanks.



---

archive/issue_events_258284.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-05-27T06:23:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20243#event-258284"
}
```



---

archive/issue_events_258285.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-05-27T06:23:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20243#event-258285"
}
```



---

archive/issue_comments_294081.json:
```json
{
    "body": "Changed reviewer from **Kevin Dilks** to **Kevin Dilks, Fr\u00e9d\u00e9ric Chapoton**",
    "created_at": "2016-05-27T06:23:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294081",
    "user": "https://github.com/fchapoton"
}
```

Changed reviewer from **Kevin Dilks** to **Kevin Dilks, Frédéric Chapoton**



---

archive/issue_comments_294082.json:
```json
{
    "body": "<a id='comment:45'>Comment 45:</a>\nok, let it be.",
    "created_at": "2016-05-27T06:23:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294082",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:45'>Comment 45:</a>
ok, let it be.



---

archive/issue_comments_294083.json:
```json
{
    "body": "Changed branch from **[u/kedlaya/count_real_roots_of_polynomials_using_sturm_sequences](https://github.com/sagemath/sagetrac-mirror/tree/u/kedlaya/count_real_roots_of_polynomials_using_sturm_sequences)** to **[e93f3b8](https://github.com/sagemath/sagetrac-mirror/commit/e93f3b8319b5a05dd6d16e1aef2c5a98acbcfd92)**",
    "created_at": "2016-05-28T12:13:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-294083",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/kedlaya/count_real_roots_of_polynomials_using_sturm_sequences](https://github.com/sagemath/sagetrac-mirror/tree/u/kedlaya/count_real_roots_of_polynomials_using_sturm_sequences)** to **[e93f3b8](https://github.com/sagemath/sagetrac-mirror/commit/e93f3b8319b5a05dd6d16e1aef2c5a98acbcfd92)**



---

archive/issue_events_258286.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-05-28T12:13:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20243#event-258286"
}
```



---

archive/issue_events_258287.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "3181cc99c62809309877f4db1f997a4e26b9ea20",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-05-28T12:13:32Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20243#event-258287"
}
```
