# Issue 20243: Count real roots of polynomials using Sturm sequences

archive/issues_020006.json:
```json
{
    "assignees": [
        "https://github.com/kedlaya"
    ],
    "body": "We should expose PARI's functionality for counting roots of polynomials in a closed interval:\n\n```\nsage: P.<x> = PolynomialRing(ZZ)\nsage: pari((x-1)*(x-2)*(x-3)).polsturm(1,2)\n2\n```\nNote that the boundary behavior has changed from PARI 2.7 (which did not include the left endpoint of the interval as a root) to 2.8 (which does do so).\n\nDepends on #20256\n\nKeywords: **polynomials, root-counting, days71**\n\nBranch/Commit: **[e93f3b8](https://github.com/sagemath/sagetrac-mirror/commit/e93f3b8319b5a05dd6d16e1aef2c5a98acbcfd92)**\n\nReviewer: **Kevin Dilks, Fr\u00e9d\u00e9ric Chapoton**\n\nAuthor: **Kiran Kedlaya**\n\nComponent: **algebra**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/20243_\n\n",
    "closed_at": "2016-05-28T12:13:32Z",
    "created_at": "2016-03-21T15:40:23Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20algebra",
        "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Count real roots of polynomials using Sturm sequences",
    "type": "issue",
    "updated_at": "2016-05-28T12:13:32Z",
    "url": "https://github.com/sagemath/sage/issues/20243",
    "user": "https://github.com/kedlaya"
}
```
We should expose PARI's functionality for counting roots of polynomials in a closed interval:

```
sage: P.<x> = PolynomialRing(ZZ)
sage: pari((x-1)*(x-2)*(x-3)).polsturm(1,2)
2
```
Note that the boundary behavior has changed from PARI 2.7 (which did not include the left endpoint of the interval as a root) to 2.8 (which does do so).

Depends on #20256

Keywords: **polynomials, root-counting, days71**

Branch/Commit: **[e93f3b8](https://github.com/sagemath/sagetrac-mirror/commit/e93f3b8319b5a05dd6d16e1aef2c5a98acbcfd92)**

Reviewer: **Kevin Dilks, Frédéric Chapoton**

Author: **Kiran Kedlaya**

Component: **algebra**

_Issue created by migration from https://trac.sagemath.org/ticket/20243_





---

archive/issue_events_285805.json:
```json
{
    "actor": "https://github.com/kedlaya",
    "created_at": "2016-03-21T15:40:23Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "milestone_number": null,
    "milestone_title": "sage-7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20243#event-285805"
}
```



---

archive/issue_events_285806.json:
```json
{
    "actor": "https://github.com/kedlaya",
    "created_at": "2016-03-21T15:40:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20algebra",
    "label_color": "0000ff",
    "label_name": "c: algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20243#event-285806"
}
```



---

archive/issue_events_285807.json:
```json
{
    "actor": "https://github.com/kedlaya",
    "created_at": "2016-03-21T15:40:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20243#event-285807"
}
```



---

archive/issue_events_285808.json:
```json
{
    "actor": "https://github.com/kedlaya",
    "created_at": "2016-03-21T15:40:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20243#event-285808"
}
```



---

archive/issue_comments_291475.json:
```json
{
    "body": "Branch: **[u/kedlaya/count_real_roots_of_polynomials_using_sturm_sequences](https://github.com/sagemath/sagetrac-mirror/tree/u/kedlaya/count_real_roots_of_polynomials_using_sturm_sequences)**",
    "created_at": "2016-03-22T04:39:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291475",
    "user": "https://github.com/kedlaya"
}
```

Branch: **[u/kedlaya/count_real_roots_of_polynomials_using_sturm_sequences](https://github.com/sagemath/sagetrac-mirror/tree/u/kedlaya/count_real_roots_of_polynomials_using_sturm_sequences)**



---

archive/issue_events_285809.json:
```json
{
    "actor": "https://github.com/kedlaya",
    "created_at": "2016-03-22T04:40:59Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "subject": "https://github.com/kedlaya",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20243#event-285809"
}
```



---

archive/issue_comments_291476.json:
```json
{
    "body": "Author: **Kiran Kedlaya**",
    "created_at": "2016-03-22T04:40:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291476",
    "user": "https://github.com/kedlaya"
}
```

Author: **Kiran Kedlaya**



---

archive/issue_comments_291477.json:
```json
{
    "body": "Commit: **[9540f77](https://github.com/sagemath/sagetrac-mirror/commit/9540f77d0957c1108c03b6090817400aca0f203f)**",
    "created_at": "2016-03-22T04:40:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291477",
    "user": "https://github.com/kedlaya"
}
```

Commit: **[9540f77](https://github.com/sagemath/sagetrac-mirror/commit/9540f77d0957c1108c03b6090817400aca0f203f)**



---

archive/issue_events_285810.json:
```json
{
    "actor": "https://github.com/kedlaya",
    "created_at": "2016-03-22T04:51:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20243#event-285810"
}
```



---

archive/issue_comments_291478.json:
```json
{
    "body": "Changed keywords from **polynomials, root-counting** to **polynomials, root-counting, days71**",
    "created_at": "2016-03-22T17:53:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291478",
    "user": "https://github.com/kedlaya"
}
```

Changed keywords from **polynomials, root-counting** to **polynomials, root-counting, days71**



---

archive/issue_comments_291479.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nRunning Patchbot overnight, will play with the code tomorrow. \n\nJust looking at the source, you're probably going to want to include a check in the code to make sure your polynomial has an appropriate base field, and a test making sure this check behaves properly. Easiest way would to be to check that self.base_field() is RR/QQ/ZZ. There's a potential issue if somebody's polynomial has real coefficients, but is constructed in a complex ring. That is something I may personally do, as testing the Cyclic Sieving Phenomenon involves evaluating polynomials with nonnegative integer coefficients at complex roots of unity. But I suppose the user can just change the base ring appropriately if they want to test for real roots in that case.\n\nAlso, there should be the option of having a be -\\infty and b being +\\infty (the Maxima code for counting number of real roots in an interval allows these options, not sure about pari). My main interest in this code would checking to see if all of a polynomial's roots are real, so I would personally want a simple alias 'is_real_rooted()' that returns 'all_roots_in_interval(-Inf,Inf)'.",
    "created_at": "2016-03-23T06:52:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291479",
    "user": "https://github.com/kevindilks"
}
```

<div id="comment:5" align="right">comment:5</div>

Running Patchbot overnight, will play with the code tomorrow. 

Just looking at the source, you're probably going to want to include a check in the code to make sure your polynomial has an appropriate base field, and a test making sure this check behaves properly. Easiest way would to be to check that self.base_field() is RR/QQ/ZZ. There's a potential issue if somebody's polynomial has real coefficients, but is constructed in a complex ring. That is something I may personally do, as testing the Cyclic Sieving Phenomenon involves evaluating polynomials with nonnegative integer coefficients at complex roots of unity. But I suppose the user can just change the base ring appropriately if they want to test for real roots in that case.

Also, there should be the option of having a be -\infty and b being +\infty (the Maxima code for counting number of real roots in an interval allows these options, not sure about pari). My main interest in this code would checking to see if all of a polynomial's roots are real, so I would personally want a simple alias 'is_real_rooted()' that returns 'all_roots_in_interval(-Inf,Inf)'.



---

archive/issue_comments_291480.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\n> Just looking at the source, you're probably going to want to include a check in the code to make sure your polynomial has an appropriate base field\n\nAgreed. However, it might be easier to do this check *after* converting to PARI.",
    "created_at": "2016-03-23T10:09:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291480",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:6" align="right">comment:6</div>

> Just looking at the source, you're probably going to want to include a check in the code to make sure your polynomial has an appropriate base field

Agreed. However, it might be easier to do this check *after* converting to PARI.



---

archive/issue_comments_291481.json:
```json
{
    "body": "Dependencies: **#20256**",
    "created_at": "2016-03-23T10:09:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291481",
    "user": "https://github.com/jdemeyer"
}
```

Dependencies: **#20256**



---

archive/issue_events_285811.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-03-23T10:09:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20243#event-285811"
}
```



---

archive/issue_events_285812.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-03-23T10:09:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20243#event-285812"
}
```



---

archive/issue_comments_291482.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3f52ae0a26e0c8427013c29c2f2262a3d5eaea84\">3f52ae0</a></td><td><code>Allow default arguments to polsturm</code></td></tr></table>\n",
    "created_at": "2016-03-23T10:40:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291482",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3f52ae0a26e0c8427013c29c2f2262a3d5eaea84">3f52ae0</a></td><td><code>Allow default arguments to polsturm</code></td></tr></table>




---

archive/issue_comments_291483.json:
```json
{
    "body": "Changed commit from **[9540f77](https://github.com/sagemath/sagetrac-mirror/commit/9540f77d0957c1108c03b6090817400aca0f203f)** to **[3f52ae0](https://github.com/sagemath/sagetrac-mirror/commit/3f52ae0a26e0c8427013c29c2f2262a3d5eaea84)**",
    "created_at": "2016-03-23T10:40:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291483",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[9540f77](https://github.com/sagemath/sagetrac-mirror/commit/9540f77d0957c1108c03b6090817400aca0f203f)** to **[3f52ae0](https://github.com/sagemath/sagetrac-mirror/commit/3f52ae0a26e0c8427013c29c2f2262a3d5eaea84)**



---

archive/issue_comments_291484.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nPARI's polsturm allows infinite arguments by omission: a first argument of None translates to -Infinity, a second argument of None translates to +Infinity. I just pushed a commit allowing these.\n\nI agree with adding an alias for all real roots, but I'm not sure what to call it. My first thought would be is_self-adjoint().\n\nI'm not sure what is the best way to check for a valid base ring. One option would be to force the coefficients into RR, but I really want this to be an exact computation on exact input. I suppose I could check for coefficients in QQ or ZZ, and in those cases pass exact coefficients, and in all other cases force the coefficients into RR. But then one should be careful not to clobber the precision of the input in case it is higher than usual.",
    "created_at": "2016-03-23T10:44:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291484",
    "user": "https://github.com/kedlaya"
}
```

<div id="comment:8" align="right">comment:8</div>

PARI's polsturm allows infinite arguments by omission: a first argument of None translates to -Infinity, a second argument of None translates to +Infinity. I just pushed a commit allowing these.

I agree with adding an alias for all real roots, but I'm not sure what to call it. My first thought would be is_self-adjoint().

I'm not sure what is the best way to check for a valid base ring. One option would be to force the coefficients into RR, but I really want this to be an exact computation on exact input. I suppose I could check for coefficients in QQ or ZZ, and in those cases pass exact coefficients, and in all other cases force the coefficients into RR. But then one should be careful not to clobber the precision of the input in case it is higher than usual.



---

archive/issue_comments_291485.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nReplying to [@kedlaya](#comment:8):\n> PARI's polsturm allows infinite arguments by omission: a first argument of None translates to -Infinity, a second argument of None translates to +Infinity. I just pushed a commit allowing these.\n\nThat's undocumented in PARI, so I think it's a bad idea to rely on that.",
    "created_at": "2016-03-23T11:04:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291485",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:9" align="right">comment:9</div>

Replying to [@kedlaya](#comment:8):
> PARI's polsturm allows infinite arguments by omission: a first argument of None translates to -Infinity, a second argument of None translates to +Infinity. I just pushed a commit allowing these.

That's undocumented in PARI, so I think it's a bad idea to rely on that.



---

archive/issue_comments_291486.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@jdemeyer](#comment:9):\n> Replying to [@kedlaya](#comment:8):\n> > PARI's polsturm allows infinite arguments by omission: a first argument of None translates to -Infinity, a second argument of None translates to +Infinity. I just pushed a commit allowing these.\n\n> \n> That's undocumented in PARI, so I think it's a bad idea to rely on that.\n\nIt's in the 2.7 documentation:\n\n```\npolsturm(pol, {a}, {b}): Number of real roots of the real squarefree polynomial pol in the interval ]a,b], using Sturm's algorithm. a (resp. b) is taken to be -infinity (resp. +infinity) if omitted.\n```\nOr have you seen the 2.8 user guide yet (which I haven't found)? There does need to be a change of text to change the interval from ]a,b] (open on the left, closed on the right) to [a,b] (closed both sides).",
    "created_at": "2016-03-23T11:40:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291486",
    "user": "https://github.com/kedlaya"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@jdemeyer](#comment:9):
> Replying to [@kedlaya](#comment:8):
> > PARI's polsturm allows infinite arguments by omission: a first argument of None translates to -Infinity, a second argument of None translates to +Infinity. I just pushed a commit allowing these.

> 
> That's undocumented in PARI, so I think it's a bad idea to rely on that.

It's in the 2.7 documentation:

```
polsturm(pol, {a}, {b}): Number of real roots of the real squarefree polynomial pol in the interval ]a,b], using Sturm's algorithm. a (resp. b) is taken to be -infinity (resp. +infinity) if omitted.
```
Or have you seen the 2.8 user guide yet (which I haven't found)? There does need to be a change of text to change the interval from ]a,b] (open on the left, closed on the right) to [a,b] (closed both sides).



---

archive/issue_comments_291487.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@kedlaya](#comment:10):\n> Or have you seen the 2.8 user guide yet (which I haven't found)?\n\nPARI-2.7 is ancient. In PARI-2.8, the syntax has changed, you are supposed to use `polsturm(pol, [a,b])` instead.\n\nThe PARI-2.8 user guide might not be online, but you can access the documentation from Sage: run `./sage --gp` and then type `??polsturm`.\n\nI created #20257 to deprecate `pari(...).polsturm(a, b)` in Sage.",
    "created_at": "2016-03-23T12:58:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291487",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@kedlaya](#comment:10):
> Or have you seen the 2.8 user guide yet (which I haven't found)?

PARI-2.7 is ancient. In PARI-2.8, the syntax has changed, you are supposed to use `polsturm(pol, [a,b])` instead.

The PARI-2.8 user guide might not be online, but you can access the documentation from Sage: run `./sage --gp` and then type `??polsturm`.

I created #20257 to deprecate `pari(...).polsturm(a, b)` in Sage.



---

archive/issue_comments_291488.json:
```json
{
    "body": "Changed commit from **[3f52ae0](https://github.com/sagemath/sagetrac-mirror/commit/3f52ae0a26e0c8427013c29c2f2262a3d5eaea84)** to **[a4450e7](https://github.com/sagemath/sagetrac-mirror/commit/a4450e755ba488d39261e808e8db295171c5edb0)**",
    "created_at": "2016-03-23T13:45:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291488",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[3f52ae0](https://github.com/sagemath/sagetrac-mirror/commit/3f52ae0a26e0c8427013c29c2f2262a3d5eaea84)** to **[a4450e7](https://github.com/sagemath/sagetrac-mirror/commit/a4450e755ba488d39261e808e8db295171c5edb0)**



---

archive/issue_comments_291489.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a4450e755ba488d39261e808e8db295171c5edb0\">a4450e7</a></td><td><code>Updated polsturm call syntax</code></td></tr></table>\n",
    "created_at": "2016-03-23T13:45:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291489",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a4450e755ba488d39261e808e8db295171c5edb0">a4450e7</a></td><td><code>Updated polsturm call syntax</code></td></tr></table>




---

archive/issue_comments_291490.json:
```json
{
    "body": "Changed commit from **[a4450e7](https://github.com/sagemath/sagetrac-mirror/commit/a4450e755ba488d39261e808e8db295171c5edb0)** to **[8998591](https://github.com/sagemath/sagetrac-mirror/commit/8998591fa591991cfe6e03f65b13291edda0f11e)**",
    "created_at": "2016-03-23T14:30:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291490",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[a4450e7](https://github.com/sagemath/sagetrac-mirror/commit/a4450e755ba488d39261e808e8db295171c5edb0)** to **[8998591](https://github.com/sagemath/sagetrac-mirror/commit/8998591fa591991cfe6e03f65b13291edda0f11e)**



---

archive/issue_comments_291491.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8998591fa591991cfe6e03f65b13291edda0f11e\">8998591</a></td><td><code>Allow arguments to be one interval or two numbers</code></td></tr></table>\n",
    "created_at": "2016-03-23T14:30:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291491",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8998591fa591991cfe6e03f65b13291edda0f11e">8998591</a></td><td><code>Allow arguments to be one interval or two numbers</code></td></tr></table>




---

archive/issue_comments_291492.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nOK, I changed the call syntax to polsturm. I also changed the call syntax for count_roots_in_interval and all_roots_in_interval: they now take a variable number of arguments, which should be either two numbers or one interval. Moreover, I allow passing either None or -Infinity as a left endpoint, and None or +Infinity as a right endpoint (converting them to the Pari infinities).\n\nI still haven't implemented an alias for all real roots (since I'm not settled on the name) or checking the argument type.",
    "created_at": "2016-03-23T14:32:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291492",
    "user": "https://github.com/kedlaya"
}
```

<div id="comment:14" align="right">comment:14</div>

OK, I changed the call syntax to polsturm. I also changed the call syntax for count_roots_in_interval and all_roots_in_interval: they now take a variable number of arguments, which should be either two numbers or one interval. Moreover, I allow passing either None or -Infinity as a left endpoint, and None or +Infinity as a right endpoint (converting them to the Pari infinities).

I still haven't implemented an alias for all real roots (since I'm not settled on the name) or checking the argument type.



---

archive/issue_comments_291493.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nConversion to infinity should not happen here, but more generally in the Sage <-> PARI interface. Feel free to add a commit to #20256 to do that.",
    "created_at": "2016-03-23T14:35:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291493",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:15" align="right">comment:15</div>

Conversion to infinity should not happen here, but more generally in the Sage <-> PARI interface. Feel free to add a commit to #20256 to do that.



---

archive/issue_comments_291494.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/40807652789f552f8962be80f1561af56639bf67\">4080765</a></td><td><code>Remove conversion of infinities, add has_all_real_roots</code></td></tr></table>\n",
    "created_at": "2016-03-24T10:30:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291494",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/40807652789f552f8962be80f1561af56639bf67">4080765</a></td><td><code>Remove conversion of infinities, add has_all_real_roots</code></td></tr></table>




---

archive/issue_comments_291495.json:
```json
{
    "body": "Changed commit from **[8998591](https://github.com/sagemath/sagetrac-mirror/commit/8998591fa591991cfe6e03f65b13291edda0f11e)** to **[4080765](https://github.com/sagemath/sagetrac-mirror/commit/40807652789f552f8962be80f1561af56639bf67)**",
    "created_at": "2016-03-24T10:30:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291495",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[8998591](https://github.com/sagemath/sagetrac-mirror/commit/8998591fa591991cfe6e03f65b13291edda0f11e)** to **[4080765](https://github.com/sagemath/sagetrac-mirror/commit/40807652789f552f8962be80f1561af56639bf67)**



---

archive/issue_comments_291496.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/29ab5c470b79a273d7c5cd06e6b849f9d0b98a85\">29ab5c4</a></td><td><code>Remove extraneous infinity conversion</code></td></tr></table>\n",
    "created_at": "2016-03-24T10:39:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291496",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/29ab5c470b79a273d7c5cd06e6b849f9d0b98a85">29ab5c4</a></td><td><code>Remove extraneous infinity conversion</code></td></tr></table>




---

archive/issue_comments_291497.json:
```json
{
    "body": "Changed commit from **[4080765](https://github.com/sagemath/sagetrac-mirror/commit/40807652789f552f8962be80f1561af56639bf67)** to **[29ab5c4](https://github.com/sagemath/sagetrac-mirror/commit/29ab5c470b79a273d7c5cd06e6b849f9d0b98a85)**",
    "created_at": "2016-03-24T10:39:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291497",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[4080765](https://github.com/sagemath/sagetrac-mirror/commit/40807652789f552f8962be80f1561af56639bf67)** to **[29ab5c4](https://github.com/sagemath/sagetrac-mirror/commit/29ab5c470b79a273d7c5cd06e6b849f9d0b98a85)**



---

archive/issue_comments_291498.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nThis commit should play nicely with #20256, but I'm still a novice with git-trac and haven't figured out how to test this yet.\n\nI added has_all_real_roots() to test for all roots in the real line. I'm open to changing that name if someone has a better idea.\n\nI still haven't implemented any sort of sanity checking on the input base ring.",
    "created_at": "2016-03-24T10:41:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291498",
    "user": "https://github.com/kedlaya"
}
```

<div id="comment:18" align="right">comment:18</div>

This commit should play nicely with #20256, but I'm still a novice with git-trac and haven't figured out how to test this yet.

I added has_all_real_roots() to test for all roots in the real line. I'm open to changing that name if someone has a better idea.

I still haven't implemented any sort of sanity checking on the input base ring.



---

archive/issue_comments_291499.json:
```json
{
    "body": "Changed commit from **[29ab5c4](https://github.com/sagemath/sagetrac-mirror/commit/29ab5c470b79a273d7c5cd06e6b849f9d0b98a85)** to **[264f2b3](https://github.com/sagemath/sagetrac-mirror/commit/264f2b33a895463e71ad84739a5dc74952eb95bb)**",
    "created_at": "2016-03-24T14:29:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291499",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[29ab5c4](https://github.com/sagemath/sagetrac-mirror/commit/29ab5c470b79a273d7c5cd06e6b849f9d0b98a85)** to **[264f2b3](https://github.com/sagemath/sagetrac-mirror/commit/264f2b33a895463e71ad84739a5dc74952eb95bb)**



---

archive/issue_comments_291500.json:
```json
{
    "body": "<div id=\"comment:19\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a73d039f02f221124360733888363f6781267733\">a73d039</a></td><td><code>Fix conversion of infinity from Sage to PARI</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/27357f9c728618232f21ccc48807513319d8461b\">27357f9</a></td><td><code>Added infinity to type, gentoobj</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3832116557c63a1495e395d5eb3c9036ba701c1e\">3832116</a></td><td><code>Add doctests to gen.pyx, make suggested edits to infinity.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/264f2b33a895463e71ad84739a5dc74952eb95bb\">264f2b3</a></td><td><code>Merge branch 'u/kedlaya/implement_conversion_infinity_____pari' of git://trac.sagemath.org/sage into t/20243/count_real_roots_of_polynomials_using_sturm_sequences</code></td></tr></table>\n",
    "created_at": "2016-03-24T14:29:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291500",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:19"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a73d039f02f221124360733888363f6781267733">a73d039</a></td><td><code>Fix conversion of infinity from Sage to PARI</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/27357f9c728618232f21ccc48807513319d8461b">27357f9</a></td><td><code>Added infinity to type, gentoobj</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3832116557c63a1495e395d5eb3c9036ba701c1e">3832116</a></td><td><code>Add doctests to gen.pyx, make suggested edits to infinity.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/264f2b33a895463e71ad84739a5dc74952eb95bb">264f2b3</a></td><td><code>Merge branch 'u/kedlaya/implement_conversion_infinity_____pari' of git://trac.sagemath.org/sage into t/20243/count_real_roots_of_polynomials_using_sturm_sequences</code></td></tr></table>




---

archive/issue_comments_291501.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nMerged #20256 to do the Infinity conversion.\n\nI don't know what to do about type-checking. If you have a polynomial over C but whose coefficients actually belong to R, then PARI seems to handle this correctly (I added a doctest to this effect). However, we have trouble with inexact polynomials which are (apparently) not squarefree:\n\n```\nsage: P.<x> = PolynomialRing(RR)\nsage: pol = (x-1)^2*(x-2)^2*(x-3)\nsage: pol.is_squarefree() # Should be False\nTrue\nsage: pari(pol).issquarefree # Should be 0\n1\nsage: pol.count_roots_in_interval()\n...\nPariError: domain error in polsturm: issquarefree(pol) = 0\n```\nI created ticket #20282 for this issue, in case we decide not to deal with it here (which would be my preference).",
    "created_at": "2016-03-24T15:27:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291501",
    "user": "https://github.com/kedlaya"
}
```

<div id="comment:20" align="right">comment:20</div>

Merged #20256 to do the Infinity conversion.

I don't know what to do about type-checking. If you have a polynomial over C but whose coefficients actually belong to R, then PARI seems to handle this correctly (I added a doctest to this effect). However, we have trouble with inexact polynomials which are (apparently) not squarefree:

```
sage: P.<x> = PolynomialRing(RR)
sage: pol = (x-1)^2*(x-2)^2*(x-3)
sage: pol.is_squarefree() # Should be False
True
sage: pari(pol).issquarefree # Should be 0
1
sage: pol.count_roots_in_interval()
...
PariError: domain error in polsturm: issquarefree(pol) = 0
```
I created ticket #20282 for this issue, in case we decide not to deal with it here (which would be my preference).



---

archive/issue_comments_291502.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nYou don't actually need this: `a1 = pari(a)` and `b1 = pari(b)`: PARI methods will automatically convert anyway.",
    "created_at": "2016-03-24T16:00:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291502",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:21" align="right">comment:21</div>

You don't actually need this: `a1 = pari(a)` and `b1 = pari(b)`: PARI methods will automatically convert anyway.



---

archive/issue_comments_291503.json:
```json
{
    "body": "Changed commit from **[264f2b3](https://github.com/sagemath/sagetrac-mirror/commit/264f2b33a895463e71ad84739a5dc74952eb95bb)** to **[dee973b](https://github.com/sagemath/sagetrac-mirror/commit/dee973be07c543e5998f30dc247c968a8244267a)**",
    "created_at": "2016-03-24T16:11:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291503",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[264f2b3](https://github.com/sagemath/sagetrac-mirror/commit/264f2b33a895463e71ad84739a5dc74952eb95bb)** to **[dee973b](https://github.com/sagemath/sagetrac-mirror/commit/dee973be07c543e5998f30dc247c968a8244267a)**



---

archive/issue_comments_291504.json:
```json
{
    "body": "<div id=\"comment:22\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dee973be07c543e5998f30dc247c968a8244267a\">dee973b</a></td><td><code>Added inexact ring doctest</code></td></tr></table>\n",
    "created_at": "2016-03-24T16:11:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291504",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:22"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dee973be07c543e5998f30dc247c968a8244267a">dee973b</a></td><td><code>Added inexact ring doctest</code></td></tr></table>




---

archive/issue_comments_291505.json:
```json
{
    "body": "Changed commit from **[dee973b](https://github.com/sagemath/sagetrac-mirror/commit/dee973be07c543e5998f30dc247c968a8244267a)** to **[ac67b2e](https://github.com/sagemath/sagetrac-mirror/commit/ac67b2ec431327f8f58e9a408a50f6d98c1ef528)**",
    "created_at": "2016-03-24T16:15:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291505",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[dee973b](https://github.com/sagemath/sagetrac-mirror/commit/dee973be07c543e5998f30dc247c968a8244267a)** to **[ac67b2e](https://github.com/sagemath/sagetrac-mirror/commit/ac67b2ec431327f8f58e9a408a50f6d98c1ef528)**



---

archive/issue_comments_291506.json:
```json
{
    "body": "<div id=\"comment:23\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ac67b2ec431327f8f58e9a408a50f6d98c1ef528\">ac67b2e</a></td><td><code>Remove extraneous PARI conversion of arguments</code></td></tr></table>\n",
    "created_at": "2016-03-24T16:15:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291506",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ac67b2ec431327f8f58e9a408a50f6d98c1ef528">ac67b2e</a></td><td><code>Remove extraneous PARI conversion of arguments</code></td></tr></table>




---

archive/issue_comments_291507.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nReplying to [@jdemeyer](#comment:21):\n> You don't actually need this: `a1 = pari(a)` and `b1 = pari(b)`: PARI methods will automatically convert anyway.\n\nChanged to `a1 = a` and `b1 = b`.",
    "created_at": "2016-03-24T16:16:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291507",
    "user": "https://github.com/kedlaya"
}
```

<div id="comment:24" align="right">comment:24</div>

Replying to [@jdemeyer](#comment:21):
> You don't actually need this: `a1 = pari(a)` and `b1 = pari(b)`: PARI methods will automatically convert anyway.

Changed to `a1 = a` and `b1 = b`.



---

archive/issue_comments_291508.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nYou don't need `a1` or `b1` either, just use `a` and `b`. And `foo == None` should be replaced by `foo is None`.",
    "created_at": "2016-03-24T16:37:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291508",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:25" align="right">comment:25</div>

You don't need `a1` or `b1` either, just use `a` and `b`. And `foo == None` should be replaced by `foo is None`.



---

archive/issue_comments_291509.json:
```json
{
    "body": "Changed commit from **[ac67b2e](https://github.com/sagemath/sagetrac-mirror/commit/ac67b2ec431327f8f58e9a408a50f6d98c1ef528)** to **[f932dd3](https://github.com/sagemath/sagetrac-mirror/commit/f932dd3fef7fcf36a8ddd2a9f07cb3f4ae69bc33)**",
    "created_at": "2016-03-24T17:35:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291509",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[ac67b2e](https://github.com/sagemath/sagetrac-mirror/commit/ac67b2ec431327f8f58e9a408a50f6d98c1ef528)** to **[f932dd3](https://github.com/sagemath/sagetrac-mirror/commit/f932dd3fef7fcf36a8ddd2a9f07cb3f4ae69bc33)**



---

archive/issue_comments_291510.json:
```json
{
    "body": "<div id=\"comment:26\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f932dd3fef7fcf36a8ddd2a9f07cb3f4ae69bc33\">f932dd3</a></td><td><code>Fix None comparison, remove extraneous variables</code></td></tr></table>\n",
    "created_at": "2016-03-24T17:35:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291510",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:26"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f932dd3fef7fcf36a8ddd2a9f07cb3f4ae69bc33">f932dd3</a></td><td><code>Fix None comparison, remove extraneous variables</code></td></tr></table>




---

archive/issue_comments_291511.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@jdemeyer](#comment:25):\n> You don't need `a1` or `b1` either, just use `a` and `b`. And `foo == None` should be replaced by `foo is None`.\n\nChanges made.",
    "created_at": "2016-03-24T17:36:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291511",
    "user": "https://github.com/kedlaya"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@jdemeyer](#comment:25):
> You don't need `a1` or `b1` either, just use `a` and `b`. And `foo == None` should be replaced by `foo is None`.

Changes made.



---

archive/issue_comments_291512.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nThe only thing that remains is to check that the coefficients are real. I see two approaches: either checking that the base_ring coerces to `RealField(2)` or checking the PARI types after conversion to PARI.",
    "created_at": "2016-03-24T18:10:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291512",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:28" align="right">comment:28</div>

The only thing that remains is to check that the coefficients are real. I see two approaches: either checking that the base_ring coerces to `RealField(2)` or checking the PARI types after conversion to PARI.



---

archive/issue_comments_291513.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nI'm not sure checking the base ring is the right approach; one use case that was already suggested above is a polynomial over CC which happens to have real coefficients. One option is to attempt the coercion by calling `self.change_ring(RR)` and discarding the result (allowing a `TypeError` through if it comes up). Working on the PARI side eliminates this particular case:\n\n```\nsage: u = CC(1)\nsage: u.parent()\nComplex Field with 53 bits of precision\nsage: pari(u)\n1.00000000000000\nsage: pari(u).type()\n't_REAL'\n```\nThoughts?",
    "created_at": "2016-03-24T19:56:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291513",
    "user": "https://github.com/kedlaya"
}
```

<div id="comment:29" align="right">comment:29</div>

I'm not sure checking the base ring is the right approach; one use case that was already suggested above is a polynomial over CC which happens to have real coefficients. One option is to attempt the coercion by calling `self.change_ring(RR)` and discarding the result (allowing a `TypeError` through if it comes up). Working on the PARI side eliminates this particular case:

```
sage: u = CC(1)
sage: u.parent()
Complex Field with 53 bits of precision
sage: pari(u)
1.00000000000000
sage: pari(u).type()
't_REAL'
```
Thoughts?



---

archive/issue_comments_291514.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nReplying to [@kedlaya](#comment:29):\n> I'm not sure checking the base ring is the right approach; one use case that was already suggested above is a polynomial over CC which happens to have real coefficients.\n\nThe Sage philosophy is usually that the base ring matters. So, if the polynomial defined over CC happens to have real coefficients, that's an accident. It doens't mean that functions expecting real input should work.",
    "created_at": "2016-03-24T21:25:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291514",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:30" align="right">comment:30</div>

Replying to [@kedlaya](#comment:29):
> I'm not sure checking the base ring is the right approach; one use case that was already suggested above is a polynomial over CC which happens to have real coefficients.

The Sage philosophy is usually that the base ring matters. So, if the polynomial defined over CC happens to have real coefficients, that's an accident. It doens't mean that functions expecting real input should work.



---

archive/issue_comments_291515.json:
```json
{
    "body": "Changed commit from **[f932dd3](https://github.com/sagemath/sagetrac-mirror/commit/f932dd3fef7fcf36a8ddd2a9f07cb3f4ae69bc33)** to **[e0136a7](https://github.com/sagemath/sagetrac-mirror/commit/e0136a792224bd38b0219d9637686d748551a197)**",
    "created_at": "2016-03-25T12:07:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291515",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[f932dd3](https://github.com/sagemath/sagetrac-mirror/commit/f932dd3fef7fcf36a8ddd2a9f07cb3f4ae69bc33)** to **[e0136a7](https://github.com/sagemath/sagetrac-mirror/commit/e0136a792224bd38b0219d9637686d748551a197)**



---

archive/issue_comments_291516.json:
```json
{
    "body": "<div id=\"comment:31\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3ae0de960aacea9101185b3566bc980cb147aca1\">3ae0de9</a></td><td><code>Added type check, handling for complex polynomials</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e0136a792224bd38b0219d9637686d748551a197\">e0136a7</a></td><td><code>Add documentation for real, complex conversion.</code></td></tr></table>\n",
    "created_at": "2016-03-25T12:07:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291516",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:31"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3ae0de960aacea9101185b3566bc980cb147aca1">3ae0de9</a></td><td><code>Added type check, handling for complex polynomials</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e0136a792224bd38b0219d9637686d748551a197">e0136a7</a></td><td><code>Add documentation for real, complex conversion.</code></td></tr></table>




---

archive/issue_comments_291517.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nReplying to [@jdemeyer](#comment:30):\n> Replying to [@kedlaya](#comment:29):\n> > I'm not sure checking the base ring is the right approach; one use case that was already suggested above is a polynomial over CC which happens to have real coefficients.\n\n> \n> The Sage philosophy is usually that the base ring matters. So, if the polynomial defined over CC happens to have real coefficients, that's an accident. It doens't mean that functions expecting real input should work.\n\nHere is a better solution: make the function work on complex inputs! Now I first attempt a conversion to RR, and if no exception is raised I pass the (unconverted) input directly to PARI; that way, exact inputs stay exact. If that fails, I convert to CC (allowing an exception through if it occurs), and take the GCD of the polynomial with its conjugate (and strip off the leading coefficient) to get a polynomial with real coefficients and all the same real roots as before.",
    "created_at": "2016-03-25T12:09:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291517",
    "user": "https://github.com/kedlaya"
}
```

<div id="comment:32" align="right">comment:32</div>

Replying to [@jdemeyer](#comment:30):
> Replying to [@kedlaya](#comment:29):
> > I'm not sure checking the base ring is the right approach; one use case that was already suggested above is a polynomial over CC which happens to have real coefficients.

> 
> The Sage philosophy is usually that the base ring matters. So, if the polynomial defined over CC happens to have real coefficients, that's an accident. It doens't mean that functions expecting real input should work.

Here is a better solution: make the function work on complex inputs! Now I first attempt a conversion to RR, and if no exception is raised I pass the (unconverted) input directly to PARI; that way, exact inputs stay exact. If that fails, I convert to CC (allowing an exception through if it occurs), and take the GCD of the polynomial with its conjugate (and strip off the leading coefficient) to get a polynomial with real coefficients and all the same real roots as before.



---

archive/issue_comments_291518.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nReplying to [@kedlaya](#comment:32):\n> Here is a better solution: make the function work on complex inputs! Now I first attempt a conversion to RR, and if no exception is raised I pass the (unconverted) input directly to PARI; that way, exact inputs stay exact. If that fails, I convert to CC (allowing an exception through if it occurs), and take the GCD of the polynomial with its conjugate (and strip off the leading coefficient) to get a polynomial with real coefficients and all the same real roots as before.\n\nCan you document the stuff you wrote here in the code?\n\nI don't see why you need to convert to `CC`. Just conjugate without conversion. That way, you support much more base fields, in particular `QQbar`.",
    "created_at": "2016-03-25T12:36:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291518",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:33" align="right">comment:33</div>

Replying to [@kedlaya](#comment:32):
> Here is a better solution: make the function work on complex inputs! Now I first attempt a conversion to RR, and if no exception is raised I pass the (unconverted) input directly to PARI; that way, exact inputs stay exact. If that fails, I convert to CC (allowing an exception through if it occurs), and take the GCD of the polynomial with its conjugate (and strip off the leading coefficient) to get a polynomial with real coefficients and all the same real roots as before.

Can you document the stuff you wrote here in the code?

I don't see why you need to convert to `CC`. Just conjugate without conversion. That way, you support much more base fields, in particular `QQbar`.



---

archive/issue_comments_291519.json:
```json
{
    "body": "Changed commit from **[e0136a7](https://github.com/sagemath/sagetrac-mirror/commit/e0136a792224bd38b0219d9637686d748551a197)** to **[716f465](https://github.com/sagemath/sagetrac-mirror/commit/716f4650f5288e639823caa5ec07da14751d094c)**",
    "created_at": "2016-03-25T13:02:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291519",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[e0136a7](https://github.com/sagemath/sagetrac-mirror/commit/e0136a792224bd38b0219d9637686d748551a197)** to **[716f465](https://github.com/sagemath/sagetrac-mirror/commit/716f4650f5288e639823caa5ec07da14751d094c)**



---

archive/issue_comments_291520.json:
```json
{
    "body": "<div id=\"comment:34\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/716f4650f5288e639823caa5ec07da14751d094c\">716f465</a></td><td><code>Remove superfluous change_ring()</code></td></tr></table>\n",
    "created_at": "2016-03-25T13:02:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291520",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:34"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/716f4650f5288e639823caa5ec07da14751d094c">716f465</a></td><td><code>Remove superfluous change_ring()</code></td></tr></table>




---

archive/issue_comments_291521.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nReplying to [@jdemeyer](#comment:33):\n> Replying to [@kedlaya](#comment:32):\n> > Here is a better solution: make the function work on complex inputs! Now I first attempt a conversion to RR, and if no exception is raised I pass the (unconverted) input directly to PARI; that way, exact inputs stay exact. If that fails, I convert to CC (allowing an exception through if it occurs), and take the GCD of the polynomial with its conjugate (and strip off the leading coefficient) to get a polynomial with real coefficients and all the same real roots as before.\n\n> \n> Can you document the stuff you wrote here in the code?\n> \n> I don't see why you need to convert to `CC`. Just conjugate without conversion. That way, you support much more base fields, in particular `QQbar`.\n\nDone. I also took out the conversion to RR, since anyway Pari will return an error if it doesn't like the input.",
    "created_at": "2016-03-25T13:04:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291521",
    "user": "https://github.com/kedlaya"
}
```

<div id="comment:35" align="right">comment:35</div>

Replying to [@jdemeyer](#comment:33):
> Replying to [@kedlaya](#comment:32):
> > Here is a better solution: make the function work on complex inputs! Now I first attempt a conversion to RR, and if no exception is raised I pass the (unconverted) input directly to PARI; that way, exact inputs stay exact. If that fails, I convert to CC (allowing an exception through if it occurs), and take the GCD of the polynomial with its conjugate (and strip off the leading coefficient) to get a polynomial with real coefficients and all the same real roots as before.

> 
> Can you document the stuff you wrote here in the code?
> 
> I don't see why you need to convert to `CC`. Just conjugate without conversion. That way, you support much more base fields, in particular `QQbar`.

Done. I also took out the conversion to RR, since anyway Pari will return an error if it doesn't like the input.



---

archive/issue_events_285813.json:
```json
{
    "actor": "https://github.com/kedlaya",
    "created_at": "2016-04-05T02:46:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20243#event-285813"
}
```



---

archive/issue_events_285814.json:
```json
{
    "actor": "https://github.com/kedlaya",
    "created_at": "2016-04-05T02:46:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20243#event-285814"
}
```



---

archive/issue_comments_291522.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nPatchbot doesn't like something about the way errors are raised. I think it would be a bit more straightforward to make the arguments be `(self,lower_bound=None,upper_bound=None)`, and just not allow for the option of specifying the bounds as a two-element list.\n\nIn terms of the names of functions, I think `count_roots_in_interval` would make more sense as `number_of_roots_in_interval` (that's the naming convention used for most combinatorial statistics). And `has_all_real_roots` should probably be named `is_real_rooted`. Things that return a boolean almost always start with `is_`, and calling polynomials with all real roots \"real rooted\" is prevalent, at least in the literature that I read.",
    "created_at": "2016-04-06T02:05:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291522",
    "user": "https://github.com/kevindilks"
}
```

<div id="comment:37" align="right">comment:37</div>

Patchbot doesn't like something about the way errors are raised. I think it would be a bit more straightforward to make the arguments be `(self,lower_bound=None,upper_bound=None)`, and just not allow for the option of specifying the bounds as a two-element list.

In terms of the names of functions, I think `count_roots_in_interval` would make more sense as `number_of_roots_in_interval` (that's the naming convention used for most combinatorial statistics). And `has_all_real_roots` should probably be named `is_real_rooted`. Things that return a boolean almost always start with `is_`, and calling polynomials with all real roots "real rooted" is prevalent, at least in the literature that I read.



---

archive/issue_events_285815.json:
```json
{
    "actor": "https://github.com/kevindilks",
    "created_at": "2016-04-06T02:05:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20243#event-285815"
}
```



---

archive/issue_events_285816.json:
```json
{
    "actor": "https://github.com/kevindilks",
    "created_at": "2016-04-06T02:05:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20243#event-285816"
}
```



---

archive/issue_comments_291523.json:
```json
{
    "body": "Changed commit from **[716f465](https://github.com/sagemath/sagetrac-mirror/commit/716f4650f5288e639823caa5ec07da14751d094c)** to **[b4f61f4](https://github.com/sagemath/sagetrac-mirror/commit/b4f61f40d5c5e6b62a765c2abe4ee628fdfc8e4f)**",
    "created_at": "2016-04-06T02:46:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291523",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[716f465](https://github.com/sagemath/sagetrac-mirror/commit/716f4650f5288e639823caa5ec07da14751d094c)** to **[b4f61f4](https://github.com/sagemath/sagetrac-mirror/commit/b4f61f40d5c5e6b62a765c2abe4ee628fdfc8e4f)**



---

archive/issue_comments_291524.json:
```json
{
    "body": "<div id=\"comment:38\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b4f61f40d5c5e6b62a765c2abe4ee628fdfc8e4f\">b4f61f4</a></td><td><code>Change call syntax, function names</code></td></tr></table>\n",
    "created_at": "2016-04-06T02:46:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291524",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:38"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b4f61f40d5c5e6b62a765c2abe4ee628fdfc8e4f">b4f61f4</a></td><td><code>Change call syntax, function names</code></td></tr></table>




---

archive/issue_comments_291525.json:
```json
{
    "body": "Changed commit from **[b4f61f4](https://github.com/sagemath/sagetrac-mirror/commit/b4f61f40d5c5e6b62a765c2abe4ee628fdfc8e4f)** to **[81e9366](https://github.com/sagemath/sagetrac-mirror/commit/81e9366b072db5dc772f3ea9b91b54e20116504b)**",
    "created_at": "2016-04-06T02:53:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291525",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[b4f61f4](https://github.com/sagemath/sagetrac-mirror/commit/b4f61f40d5c5e6b62a765c2abe4ee628fdfc8e4f)** to **[81e9366](https://github.com/sagemath/sagetrac-mirror/commit/81e9366b072db5dc772f3ea9b91b54e20116504b)**



---

archive/issue_comments_291526.json:
```json
{
    "body": "<div id=\"comment:39\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/81e9366b072db5dc772f3ea9b91b54e20116504b\">81e9366</a></td><td><code>Added number_of_real_roots method</code></td></tr></table>\n",
    "created_at": "2016-04-06T02:53:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291526",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:39"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/81e9366b072db5dc772f3ea9b91b54e20116504b">81e9366</a></td><td><code>Added number_of_real_roots method</code></td></tr></table>




---

archive/issue_comments_291527.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nReplying to [@kevindilks](#comment:37):\n> Patchbot doesn't like something about the way errors are raised. I think it would be a bit more straightforward to make the arguments be `(self,lower_bound=None,upper_bound=None)`, and just not allow for the option of specifying the bounds as a two-element list.\n> \n\nSee if patchbot does better with this.\n\n> In terms of the names of functions, I think `count_roots_in_interval` would make more sense as `number_of_roots_in_interval` (that's the naming convention used for most combinatorial statistics). And `has_all_real_roots` should probably be named `is_real_rooted`. Things that return a boolean almost always start with `is_`, and calling polynomials with all real roots \"real rooted\" is prevalent, at least in the literature that I read.\n\nNot a term I had seen before. I suppose it's actually \"real-rooted\" (otherwise a \"real rooted polynomial\" would be a polynomial which is real and also \"rooted\"), but I think there is a convention to convert both spaces and hyphens into underscores in method names (as in `Matrix.is_skew_symmetric`). However, I don't have a suitable \"is\" reformulation of  `all_roots_in_interval`.\n\nBonus edit: I added `number_of_real_roots` as an alias for `number_of_roots_in_interval` with no arguments.",
    "created_at": "2016-04-06T03:00:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291527",
    "user": "https://github.com/kedlaya"
}
```

<div id="comment:40" align="right">comment:40</div>

Replying to [@kevindilks](#comment:37):
> Patchbot doesn't like something about the way errors are raised. I think it would be a bit more straightforward to make the arguments be `(self,lower_bound=None,upper_bound=None)`, and just not allow for the option of specifying the bounds as a two-element list.
> 

See if patchbot does better with this.

> In terms of the names of functions, I think `count_roots_in_interval` would make more sense as `number_of_roots_in_interval` (that's the naming convention used for most combinatorial statistics). And `has_all_real_roots` should probably be named `is_real_rooted`. Things that return a boolean almost always start with `is_`, and calling polynomials with all real roots "real rooted" is prevalent, at least in the literature that I read.

Not a term I had seen before. I suppose it's actually "real-rooted" (otherwise a "real rooted polynomial" would be a polynomial which is real and also "rooted"), but I think there is a convention to convert both spaces and hyphens into underscores in method names (as in `Matrix.is_skew_symmetric`). However, I don't have a suitable "is" reformulation of  `all_roots_in_interval`.

Bonus edit: I added `number_of_real_roots` as an alias for `number_of_roots_in_interval` with no arguments.



---

archive/issue_comments_291528.json:
```json
{
    "body": "Reviewer: **Kevin Dilks**",
    "created_at": "2016-04-06T19:00:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291528",
    "user": "https://github.com/kevindilks"
}
```

Reviewer: **Kevin Dilks**



---

archive/issue_comments_291529.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nI am happy with this ticket now, but I'll give @jdemeyer some time to weigh in before setting positive review.",
    "created_at": "2016-04-06T19:00:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291529",
    "user": "https://github.com/kevindilks"
}
```

<div id="comment:41" align="right">comment:41</div>

I am happy with this ticket now, but I'll give @jdemeyer some time to weigh in before setting positive review.



---

archive/issue_events_285817.json:
```json
{
    "actor": "https://github.com/kevindilks",
    "created_at": "2016-04-06T19:00:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20243#event-285817"
}
```



---

archive/issue_events_285818.json:
```json
{
    "actor": "https://github.com/kevindilks",
    "created_at": "2016-04-06T19:00:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20243#event-285818"
}
```



---

archive/issue_events_285819.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-05-26T19:02:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20243#event-285819"
}
```



---

archive/issue_events_285820.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-05-26T19:02:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20243#event-285820"
}
```



---

archive/issue_comments_291530.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nmissing whiteline after `TESTS::`\n\notherwise looks good to me",
    "created_at": "2016-05-26T19:02:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291530",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:42" align="right">comment:42</div>

missing whiteline after `TESTS::`

otherwise looks good to me



---

archive/issue_comments_291531.json:
```json
{
    "body": "<div id=\"comment:43\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e93f3b8319b5a05dd6d16e1aef2c5a98acbcfd92\">e93f3b8</a></td><td><code>Added missing whitespace in docstring</code></td></tr></table>\n",
    "created_at": "2016-05-26T21:06:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291531",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:43"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e93f3b8319b5a05dd6d16e1aef2c5a98acbcfd92">e93f3b8</a></td><td><code>Added missing whitespace in docstring</code></td></tr></table>




---

archive/issue_comments_291532.json:
```json
{
    "body": "Changed commit from **[81e9366](https://github.com/sagemath/sagetrac-mirror/commit/81e9366b072db5dc772f3ea9b91b54e20116504b)** to **[e93f3b8](https://github.com/sagemath/sagetrac-mirror/commit/e93f3b8319b5a05dd6d16e1aef2c5a98acbcfd92)**",
    "created_at": "2016-05-26T21:06:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291532",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[81e9366](https://github.com/sagemath/sagetrac-mirror/commit/81e9366b072db5dc772f3ea9b91b54e20116504b)** to **[e93f3b8](https://github.com/sagemath/sagetrac-mirror/commit/e93f3b8319b5a05dd6d16e1aef2c5a98acbcfd92)**



---

archive/issue_events_285821.json:
```json
{
    "actor": "https://github.com/kedlaya",
    "created_at": "2016-05-26T21:07:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20243#event-285821"
}
```



---

archive/issue_events_285822.json:
```json
{
    "actor": "https://github.com/kedlaya",
    "created_at": "2016-05-26T21:07:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20243#event-285822"
}
```



---

archive/issue_comments_291533.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nReplying to [@fchapoton](#comment:42):\n> missing whiteline after `TESTS::`\n> \n> otherwise looks good to me\n\nFixed, thanks.",
    "created_at": "2016-05-26T21:07:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291533",
    "user": "https://github.com/kedlaya"
}
```

<div id="comment:44" align="right">comment:44</div>

Replying to [@fchapoton](#comment:42):
> missing whiteline after `TESTS::`
> 
> otherwise looks good to me

Fixed, thanks.



---

archive/issue_events_285823.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-05-27T06:23:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20243#event-285823"
}
```



---

archive/issue_events_285824.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-05-27T06:23:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20243#event-285824"
}
```



---

archive/issue_comments_291534.json:
```json
{
    "body": "Changed reviewer from **Kevin Dilks** to **Kevin Dilks, Fr\u00e9d\u00e9ric Chapoton**",
    "created_at": "2016-05-27T06:23:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291534",
    "user": "https://github.com/fchapoton"
}
```

Changed reviewer from **Kevin Dilks** to **Kevin Dilks, Frédéric Chapoton**



---

archive/issue_comments_291535.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nok, let it be.",
    "created_at": "2016-05-27T06:23:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291535",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:45" align="right">comment:45</div>

ok, let it be.



---

archive/issue_comments_291536.json:
```json
{
    "body": "Changed branch from **[u/kedlaya/count_real_roots_of_polynomials_using_sturm_sequences](https://github.com/sagemath/sagetrac-mirror/tree/u/kedlaya/count_real_roots_of_polynomials_using_sturm_sequences)** to **[e93f3b8](https://github.com/sagemath/sagetrac-mirror/commit/e93f3b8319b5a05dd6d16e1aef2c5a98acbcfd92)**",
    "created_at": "2016-05-28T12:13:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20243#issuecomment-291536",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/kedlaya/count_real_roots_of_polynomials_using_sturm_sequences](https://github.com/sagemath/sagetrac-mirror/tree/u/kedlaya/count_real_roots_of_polynomials_using_sturm_sequences)** to **[e93f3b8](https://github.com/sagemath/sagetrac-mirror/commit/e93f3b8319b5a05dd6d16e1aef2c5a98acbcfd92)**



---

archive/issue_events_285825.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-05-28T12:13:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20243#event-285825"
}
```



---

archive/issue_events_285826.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "3181cc99c62809309877f4db1f997a4e26b9ea20",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-05-28T12:13:32Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/20243",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20243#event-285826"
}
```
