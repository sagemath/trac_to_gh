# Issue 20010: Delete empty directories in $SAGE_DOC

archive/issues_019773.json:
```json
{
    "body": "In #19127, the automatic deleting of empty directories was removed, because of the mistaken assumption that it was not needed. While it's not needed in all cases, it is needed in one case:\n\nit can happen that `git checkout` leaves behind an empty directory (since it does not track directories), for example `src/doc/en/reference/manifolds`. These directories should be deleted, otherwise Sphinx complains.\n\nCC:  @hivert @mezzarobba\n\nBranch/Commit: cabdf45dcc77c8732a13cf325a1c42293d10daae\n\nReviewer: John Palmieri\n\nAuthor: Jeroen Demeyer\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/20010\n\n",
    "closed_at": "2016-02-20T11:57:42Z",
    "created_at": "2016-02-04T21:45:45Z",
    "labels": [
        "component: build",
        "blocker",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.1",
    "title": "Delete empty directories in $SAGE_DOC",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20010",
    "user": "https://github.com/jdemeyer"
}
```
In #19127, the automatic deleting of empty directories was removed, because of the mistaken assumption that it was not needed. While it's not needed in all cases, it is needed in one case:

it can happen that `git checkout` leaves behind an empty directory (since it does not track directories), for example `src/doc/en/reference/manifolds`. These directories should be deleted, otherwise Sphinx complains.

CC:  @hivert @mezzarobba

Branch/Commit: cabdf45dcc77c8732a13cf325a1c42293d10daae

Reviewer: John Palmieri

Author: Jeroen Demeyer

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/20010





---

archive/issue_comments_360896.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#19127\"",
    "created_at": "2016-02-04T22:02:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20010",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20010#issuecomment-360896",
    "user": "https://github.com/jdemeyer"
}
```

Changing dependencies from "" to "#19127"



---

archive/issue_comments_360897.json:
```json
{
    "body": "Changing author from \"\" to \"Jeroen Demeyer\"",
    "created_at": "2016-02-04T22:02:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20010",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20010#issuecomment-360897",
    "user": "https://github.com/jdemeyer"
}
```

Changing author from "" to "Jeroen Demeyer"



---

archive/issue_comments_360898.json:
```json
{
    "body": "Changing branch from \"\" to \"u/jdemeyer/delete_empty_directories_in__sage_doc\"",
    "created_at": "2016-02-05T08:52:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20010",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20010#issuecomment-360898",
    "user": "https://github.com/jdemeyer"
}
```

Changing branch from "" to "u/jdemeyer/delete_empty_directories_in__sage_doc"



---

archive/issue_comments_360899.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-02-05T10:02:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20010",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20010#issuecomment-360899",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_360900.json:
```json
{
    "body": "<a id='comment:3'></a>New commits:",
    "created_at": "2016-02-05T10:02:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20010",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20010#issuecomment-360900",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:3'></a>New commits:



---

archive/issue_comments_360901.json:
```json
{
    "body": "Changing commit from \"\" to \"cabdf45dcc77c8732a13cf325a1c42293d10daae\"",
    "created_at": "2016-02-05T10:02:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20010",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20010#issuecomment-360901",
    "user": "https://github.com/jdemeyer"
}
```

Changing commit from "" to "cabdf45dcc77c8732a13cf325a1c42293d10daae"



---

archive/issue_comments_360902.json:
```json
{
    "body": "Changing dependencies from \"#19127\" to \"\"",
    "created_at": "2016-02-19T12:53:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20010",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20010#issuecomment-360902",
    "user": "https://github.com/jdemeyer"
}
```

Changing dependencies from "#19127" to ""



---

archive/issue_comments_360903.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n In #19127, the automatic deleting of empty directories was removed, because of the mistaken assumption that it was not needed. While it's not needed in all cases, it is needed in one case:\n \n-it can happen that `git checkout` leaves behind an empty directory (since it does not track directories), for example `$SAGE_DOC/en/reference/manifolds`. These directories should be deleted, otherwise Sphinx complains.\n+it can happen that `git checkout` leaves behind an empty directory (since it does not track directories), for example `src/doc/en/reference/manifolds`. These directories should be deleted, otherwise Sphinx complains.\n``````\n",
    "created_at": "2016-02-19T12:53:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20010",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20010#issuecomment-360903",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
 In #19127, the automatic deleting of empty directories was removed, because of the mistaken assumption that it was not needed. While it's not needed in all cases, it is needed in one case:
 
-it can happen that `git checkout` leaves behind an empty directory (since it does not track directories), for example `$SAGE_DOC/en/reference/manifolds`. These directories should be deleted, otherwise Sphinx complains.
+it can happen that `git checkout` leaves behind an empty directory (since it does not track directories), for example `src/doc/en/reference/manifolds`. These directories should be deleted, otherwise Sphinx complains.
``````




---

archive/issue_comments_360904.json:
```json
{
    "body": "<a id='comment:5'></a>Looks good. With previous versions of docbuilding, there were many empty directories and so I objected to printing out the message `Deleting empty directory ...` for each one. With this version, we should usually have just a few empty directories, if any, so it's fine to print it.",
    "created_at": "2016-02-19T16:50:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20010",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20010#issuecomment-360904",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:5'></a>Looks good. With previous versions of docbuilding, there were many empty directories and so I objected to printing out the message `Deleting empty directory ...` for each one. With this version, we should usually have just a few empty directories, if any, so it's fine to print it.



---

archive/issue_comments_360905.json:
```json
{
    "body": "Changing reviewer from \"\" to \"John Palmieri\"",
    "created_at": "2016-02-19T16:50:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20010",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20010#issuecomment-360905",
    "user": "https://github.com/jhpalmieri"
}
```

Changing reviewer from "" to "John Palmieri"



---

archive/issue_comments_360906.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-02-19T16:50:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20010",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20010#issuecomment-360906",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_360907.json:
```json
{
    "body": "Changing branch from \"u/jdemeyer/delete_empty_directories_in__sage_doc\" to \"cabdf45dcc77c8732a13cf325a1c42293d10daae\"",
    "created_at": "2016-02-20T11:57:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20010",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20010#issuecomment-360907",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/jdemeyer/delete_empty_directories_in__sage_doc" to "cabdf45dcc77c8732a13cf325a1c42293d10daae"



---

archive/issue_comments_360908.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-02-20T11:57:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20010",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20010#issuecomment-360908",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_054537.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-02-20T11:57:42Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/20010",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20010#event-54537"
}
```
