# Issue 20589: Add a link to the static documentation in Jupyter interactive help (foo?)

archive/issues_020352.json:
```json
{
    "body": "CC:  @hivert @defeo @jdemeyer\n\nQuerying the documentation of an object/class/method `foo` in the Jupyter notebook opens a help window. The goal of this ticket is to include a link to the corresponding Sphinx-compiled static documentation when it exists.\n\nNotes for potential implementation:\n\nThe inventory objects obtained as side product of the Sphinx contains\nappropriate information to retrieve the relevant html file name from the\nname of `foo`:\n\n```\n...\nsage.combinat.composition.Compositions py:class 1 sage/combinat/composition.html#$ -\n...\n```\n\nAlternatively, we could just infer the html file name just from the name of the module. This may be less robust though. Also this does not allow for checking that `foo` actually has static documentation attached to it.\n\nThe anchor in the html file is again the name.\n\nRemaining question:\n- Infering robustly the base url of the static documentation\n  (are there cases where we would access documentation outside of the reference manual?)\n- How to hook in the Jupyter interactive help to insert the line?\n- Could things be generalized to work for other projects using Sphinx?\n\nBonus feature:\n- also handle objects for which we have an intersphinx inventory (e.g. Python's own doc).\n\nIssue created by migration from https://trac.sagemath.org/ticket/20589\n\n",
    "created_at": "2016-05-11T15:11:47Z",
    "labels": [
        "component: notebook"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.3",
    "title": "Add a link to the static documentation in Jupyter interactive help (foo?)",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20589",
    "user": "https://github.com/nthiery"
}
```
CC:  @hivert @defeo @jdemeyer

Querying the documentation of an object/class/method `foo` in the Jupyter notebook opens a help window. The goal of this ticket is to include a link to the corresponding Sphinx-compiled static documentation when it exists.

Notes for potential implementation:

The inventory objects obtained as side product of the Sphinx contains
appropriate information to retrieve the relevant html file name from the
name of `foo`:

```
...
sage.combinat.composition.Compositions py:class 1 sage/combinat/composition.html#$ -
...
```

Alternatively, we could just infer the html file name just from the name of the module. This may be less robust though. Also this does not allow for checking that `foo` actually has static documentation attached to it.

The anchor in the html file is again the name.

Remaining question:
- Infering robustly the base url of the static documentation
  (are there cases where we would access documentation outside of the reference manual?)
- How to hook in the Jupyter interactive help to insert the line?
- Could things be generalized to work for other projects using Sphinx?

Bonus feature:
- also handle objects for which we have an intersphinx inventory (e.g. Python's own doc).

Issue created by migration from https://trac.sagemath.org/ticket/20589





---

archive/issue_comments_280284.json:
```json
{
    "body": "I'm looking in to this. In any case, understanding the Jupyter help system better might also help with other kernels (https://github.com/OpenDreamKit/OpenDreamKit/issues/96).",
    "created_at": "2016-05-13T12:47:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20589#issuecomment-280284",
    "user": "https://github.com/jdemeyer"
}
```

I'm looking in to this. In any case, understanding the Jupyter help system better might also help with other kernels (https://github.com/OpenDreamKit/OpenDreamKit/issues/96).



---

archive/issue_comments_280285.json:
```json
{
    "body": "Possibly related to #19740?  (I.e., would this be necessary to deal with before having it as default?)",
    "created_at": "2017-03-24T22:13:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20589#issuecomment-280285",
    "user": "https://github.com/kcrisman"
}
```

Possibly related to #19740?  (I.e., would this be necessary to deal with before having it as default?)



---

archive/issue_comments_280286.json:
```json
{
    "body": "Replying to [comment:6 kcrisman]:\n> Possibly related to #19740?  (I.e., would this be necessary to deal with before having it as default?)\n\n\nAFAIK, we did not have this feature in Sage's legacy notebook. In any cases, this is nice but not critical. No need to add this as dependency.",
    "created_at": "2017-03-24T22:17:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20589#issuecomment-280286",
    "user": "https://github.com/nthiery"
}
```

Replying to [comment:6 kcrisman]:
> Possibly related to #19740?  (I.e., would this be necessary to deal with before having it as default?)


AFAIK, we did not have this feature in Sage's legacy notebook. In any cases, this is nice but not critical. No need to add this as dependency.



---

archive/issue_comments_280287.json:
```json
{
    "body": "An older, related issue is #8482.  In that case one would want to produce a doc link to the SageNB's own online doc serving.\n\nWhile I'm less concerned with this working in SageNB, that ticket does suggest that one would want a good way to customize the base URL for where to find the docs. It could also substitute in doc.sagemath.org if static docs are not available locally, which can be the case, especially in some OS distros that distribute the docs in a separate, optional package.",
    "created_at": "2018-08-10T09:56:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20589#issuecomment-280287",
    "user": "https://github.com/embray"
}
```

An older, related issue is #8482.  In that case one would want to produce a doc link to the SageNB's own online doc serving.

While I'm less concerned with this working in SageNB, that ticket does suggest that one would want a good way to customize the base URL for where to find the docs. It could also substitute in doc.sagemath.org if static docs are not available locally, which can be the case, especially in some OS distros that distribute the docs in a separate, optional package.
