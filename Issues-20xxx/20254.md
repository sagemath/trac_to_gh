# Issue 20254: Improvements on p-adic L-functions for elliptic curves

archive/issues_020017.json:
```json
{
    "body": "There are a few issues about p-adic L-function for elliptic curves. One is that the coefficient ring of supersingular series should be an p-adic Eisenstein field rather than a quotient field. \n\nCC:  @roed314\n\nKeywords: days71, p-adic L-functions\n\nBranch/Commit: f29d68508ffcaa40aadbfa1a6594633fdf388094\n\nReviewer: Julian R\u00fcth\n\nAuthor: Chris Wuthrich\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/20254\n\n",
    "closed_at": "2016-04-15T07:15:39Z",
    "created_at": "2016-03-23T09:26:48Z",
    "labels": [
        "component: elliptic curves",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.2",
    "title": "Improvements on p-adic L-functions for elliptic curves",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20254",
    "user": "https://github.com/categorie"
}
```
There are a few issues about p-adic L-function for elliptic curves. One is that the coefficient ring of supersingular series should be an p-adic Eisenstein field rather than a quotient field. 

CC:  @roed314

Keywords: days71, p-adic L-functions

Branch/Commit: f29d68508ffcaa40aadbfa1a6594633fdf388094

Reviewer: Julian RÃ¼th

Author: Chris Wuthrich

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/20254





---

archive/issue_comments_293376.json:
```json
{
    "body": "Changing keywords from \"p-adic L-functions\" to \"days71, p-adic L-functions\".",
    "created_at": "2016-03-23T17:38:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20254#issuecomment-293376",
    "user": "https://github.com/categorie"
}
```

Changing keywords from "p-adic L-functions" to "days71, p-adic L-functions".



---

archive/issue_comments_293377.json:
```json
{
    "body": "<a id='comment:3'></a>Is the coefficient ring issue resolved by #20244?  What other changes should be made for p-adic L-functions of elliptic curves?",
    "created_at": "2016-03-24T20:55:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20254#issuecomment-293377",
    "user": "https://github.com/roed314"
}
```

<a id='comment:3'></a>Is the coefficient ring issue resolved by #20244?  What other changes should be made for p-adic L-functions of elliptic curves?



---

archive/issue_comments_293378.json:
```json
{
    "body": "<a id='comment:4'></a>Oh, there is a lot to do, I discovered. \nThe #20244 will be independent as I will call extension directly rather than `root_field`.\n\nThe main issue is the normalisation for p-adic L-function involving negative modular symbols. They are used when a quadratic twist is used and that happens even for `E.sha().an_padic(p)`. I am close to resolving this.\n\nThe major outstanding issue that I will not change here is #4656 which makes some coefficients (with negative precision sometimes) disappear from the series.",
    "created_at": "2016-03-24T22:38:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20254#issuecomment-293378",
    "user": "https://github.com/categorie"
}
```

<a id='comment:4'></a>Oh, there is a lot to do, I discovered. 
The #20244 will be independent as I will call extension directly rather than `root_field`.

The main issue is the normalisation for p-adic L-function involving negative modular symbols. They are used when a quadratic twist is used and that happens even for `E.sha().an_padic(p)`. I am close to resolving this.

The major outstanding issue that I will not change here is #4656 which makes some coefficients (with negative precision sometimes) disappear from the series.



---

archive/issue_comments_293379.json:
```json
{
    "body": "<a id='comment:5'></a>New commits:",
    "created_at": "2016-03-25T00:06:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20254#issuecomment-293379",
    "user": "https://github.com/categorie"
}
```

<a id='comment:5'></a>New commits:



---

archive/issue_comments_293380.json:
```json
{
    "body": "<a id='comment:6'></a>This is ready for review.\n\nApart from cosmetic changes in documentation and code, this does the following\n\n* The negative modular symbols are now correctly normalised. `[r]^-` is the quotient of the imaginary part of `2 pi i int_oo^0 f(z)dz` by the imaginary part of the period on the imaginary axis with smallest positive imaginary part.\n\n* The output of a `series` for a supersingular p-adic L-function is now an element in the Eisenstein ring generated by the root of the Frobenius polynomial. In particular, they are printed alpha-adically.\n \n---\nNew commits:",
    "created_at": "2016-03-27T13:04:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20254#issuecomment-293380",
    "user": "https://github.com/categorie"
}
```

<a id='comment:6'></a>This is ready for review.

Apart from cosmetic changes in documentation and code, this does the following

* The negative modular symbols are now correctly normalised. `[r]^-` is the quotient of the imaginary part of `2 pi i int_oo^0 f(z)dz` by the imaginary part of the period on the imaginary axis with smallest positive imaginary part.

* The output of a `series` for a supersingular p-adic L-function is now an element in the Eisenstein ring generated by the root of the Frobenius polynomial. In particular, they are printed alpha-adically.
 
---
New commits:



---

archive/issue_comments_293381.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-03-27T13:04:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20254#issuecomment-293381",
    "user": "https://github.com/categorie"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_293382.json:
```json
{
    "body": "<a id='comment:7'></a>Some minor remarks:\n* You added a few chunks of commented out code. These should be removed I guess. If they can't then there should at least be a comment what they are about.\n* `_poly()` has no complete docstring (in particular no doctests)\n* You need to set your author in the ticket\n\nWithout understanding all the details, everything else seems alright. Feel free to set to postitive review yourself once you adressed the above.",
    "created_at": "2016-04-01T00:13:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20254#issuecomment-293382",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:7'></a>Some minor remarks:
* You added a few chunks of commented out code. These should be removed I guess. If they can't then there should at least be a comment what they are about.
* `_poly()` has no complete docstring (in particular no doctests)
* You need to set your author in the ticket

Without understanding all the details, everything else seems alright. Feel free to set to postitive review yourself once you adressed the above.



---

archive/issue_comments_293383.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-04-01T00:14:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20254#issuecomment-293383",
    "user": "https://github.com/saraedum"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_293384.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2016-04-01T14:31:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20254#issuecomment-293384",
    "user": "https://github.com/categorie"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_293385.json:
```json
{
    "body": "<a id='comment:10'></a>Thanks Julian. I tested all long again and it was fine.\n\n---\nNew commits:",
    "created_at": "2016-04-01T14:31:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20254#issuecomment-293385",
    "user": "https://github.com/categorie"
}
```

<a id='comment:10'></a>Thanks Julian. I tested all long again and it was fine.

---
New commits:



---

archive/issue_comments_293386.json:
```json
{
    "body": "<a id='comment:11'></a>\n```\n$ git fetch trac /u/wuthrich/ticket/20254\nfatal: Invalid refspec '/u/wuthrich/ticket/20254'\n```",
    "created_at": "2016-04-01T16:52:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20254#issuecomment-293386",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:11'></a>
```
$ git fetch trac /u/wuthrich/ticket/20254
fatal: Invalid refspec '/u/wuthrich/ticket/20254'
```



---

archive/issue_comments_293387.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2016-04-01T16:52:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20254#issuecomment-293387",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_293388.json:
```json
{
    "body": "<a id='comment:12'></a>\n```\ngit fetch trac u/wuthrich/ticket/20254\n```\n\nseems to work.",
    "created_at": "2016-04-01T17:01:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20254#issuecomment-293388",
    "user": "https://github.com/categorie"
}
```

<a id='comment:12'></a>
```
git fetch trac u/wuthrich/ticket/20254
```

seems to work.



---

archive/issue_comments_293389.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2016-04-01T17:02:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20254#issuecomment-293389",
    "user": "https://github.com/categorie"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_293390.json:
```json
{
    "body": "<a id='comment:14'></a>Sorry if I did something wrong.",
    "created_at": "2016-04-01T17:02:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20254#issuecomment-293390",
    "user": "https://github.com/categorie"
}
```

<a id='comment:14'></a>Sorry if I did something wrong.



---

archive/issue_comments_293391.json:
```json
{
    "body": "<a id='comment:15'></a>Thanks!",
    "created_at": "2016-04-01T20:22:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20254#issuecomment-293391",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:15'></a>Thanks!



---

archive/issue_comments_293392.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2016-04-01T22:33:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20254#issuecomment-293392",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_293393.json:
```json
{
    "body": "<a id='comment:16'></a>Doctests fail (just as in the patchbot, click on the yellow questionmark in the ticket description)",
    "created_at": "2016-04-01T22:33:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20254#issuecomment-293393",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:16'></a>Doctests fail (just as in the patchbot, click on the yellow questionmark in the ticket description)



---

archive/issue_comments_293394.json:
```json
{
    "body": "<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-01T23:31:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20254#issuecomment-293394",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_293395.json:
```json
{
    "body": "<a id='comment:18'></a>Oi, I am sorry for overlooking this one. Not my day.",
    "created_at": "2016-04-01T23:38:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20254#issuecomment-293395",
    "user": "https://github.com/categorie"
}
```

<a id='comment:18'></a>Oi, I am sorry for overlooking this one. Not my day.



---

archive/issue_comments_293396.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-04-01T23:38:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20254#issuecomment-293396",
    "user": "https://github.com/categorie"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_293397.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-04-02T01:30:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20254#issuecomment-293397",
    "user": "https://github.com/saraedum"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_293398.json:
```json
{
    "body": "<a id='comment:20'></a>Merge conflict with #14828",
    "created_at": "2016-04-02T10:01:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20254#issuecomment-293398",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:20'></a>Merge conflict with #14828



---

archive/issue_comments_293399.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2016-04-02T10:01:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20254#issuecomment-293399",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_293400.json:
```json
{
    "body": "<a id='comment:22'></a>I can't work on this for a week at least. The resolution is that the file `padic_lseries.py` should be the one in this branch.",
    "created_at": "2016-04-02T13:09:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20254#issuecomment-293400",
    "user": "https://github.com/categorie"
}
```

<a id='comment:22'></a>I can't work on this for a week at least. The resolution is that the file `padic_lseries.py` should be the one in this branch.



---

archive/issue_comments_293401.json:
```json
{
    "body": "<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-10T20:48:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20254#issuecomment-293401",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_293402.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-04-10T21:07:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20254#issuecomment-293402",
    "user": "https://github.com/categorie"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_293403.json:
```json
{
    "body": "<a id='comment:25'></a>I have changed old style doctests (\"...\") in ell_modular_symbols.py to the new style (\"....:\"). This should turn the patchbot greener.",
    "created_at": "2016-04-11T08:35:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20254#issuecomment-293403",
    "user": "https://github.com/mmasdeu"
}
```

<a id='comment:25'></a>I have changed old style doctests ("...") in ell_modular_symbols.py to the new style ("....:"). This should turn the patchbot greener.



---

archive/issue_comments_293404.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-04-13T23:17:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20254#issuecomment-293404",
    "user": "https://github.com/saraedum"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_293405.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-04-15T07:15:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20254#issuecomment-293405",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_055001.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-04-15T07:15:39Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/20254",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20254#event-55001"
}
```
