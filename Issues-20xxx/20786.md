# Issue 20786: Multithreaded option for the benchmarking tool on linear codes

archive/issues_020549.json:
```json
{
    "body": "This ticket adds support for parallel computation for benchmarks object on linear codes (introduced in #20526)  \n\nCC:  @johanrosenkilde @ClementPernet\n\nBranch: u/dlucas/multithreaded_benchmarks\n\nStatus: needs_info\n\nDependencies: #20684\n\nCommit: e6acad489bdd878b81178746a06b8fdac0ad7e08\n\nIssue created by migration from https://trac.sagemath.org/ticket/20786\n\n",
    "created_at": "2016-06-08T14:44:57Z",
    "labels": [
        "component: coding theory"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.3",
    "title": "Multithreaded option for the benchmarking tool on linear codes",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20786",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```
This ticket adds support for parallel computation for benchmarks object on linear codes (introduced in #20526)  

CC:  @johanrosenkilde @ClementPernet

Branch: u/dlucas/multithreaded_benchmarks

Status: needs_info

Dependencies: #20684

Commit: e6acad489bdd878b81178746a06b8fdac0ad7e08

Issue created by migration from https://trac.sagemath.org/ticket/20786





---

archive/issue_comments_379097.json:
```json
{
    "body": "Changing branch from \"\" to \"u/dlucas/multithreaded_benchmarks\"",
    "created_at": "2016-06-08T14:46:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20786#issuecomment-379097",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

Changing branch from "" to "u/dlucas/multithreaded_benchmarks"



---

archive/issue_comments_379098.json:
```json
{
    "body": "<a id='comment:2'></a>\nI pushed a first version of my patch.\n\nKnown issues & remarks:\n\n- Verbosity option is completely broken\n- Scheduling in `task_master` method can be improved\n- Code duplication (`_perform_experiments_for_single_id` and `_perform_parallel_experiments_for_single_id`. \n- Some names can probably be improved.\n\nI'm leaving this in `new` state for now.\n\n---\nLast 10 new commits:\n|                                                                                                                                          |                                                                              |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------|\n|[bc29f26](http://git.sagemath.org/sage.git/commit/?id=bc29f26da2877c2adf6366b7f9bae0cc463ee3f5)|`Refined experimental_data method, which now allows request for specific data`|\n|[a82a477](http://git.sagemath.org/sage.git/commit/?id=a82a477822d17b23c34ff34ddc77e45acea7a6ab)|`Fixed syntax errors in documentation`|\n|[0ab93ec](http://git.sagemath.org/sage.git/commit/?id=0ab93ecbf861c585b83bb162493afcaf5a2032c8)|`Changes and fixes to docstrings and doctests`|\n|[d2d6e26](http://git.sagemath.org/sage.git/commit/?id=d2d6e26916ea5157c8e1ae291859b10c077d94b9)|`Improved data selection in experimental_data method`|\n|[8e363dd](http://git.sagemath.org/sage.git/commit/?id=8e363dd7ecf203cc4f203ea2b985573e4d59423c)|`Switched definition of decoding error and decoding failure`|\n|[fe0b956](http://git.sagemath.org/sage.git/commit/?id=fe0b956386ad3fc684e5ae306254fb814fdc76e5)|`Merge branch 't/20601/20601_experimental' into benchmarking_tool`|\n|[272d251](http://git.sagemath.org/sage.git/commit/?id=272d2513ef8c888c215213590e46fc81a701eab6)|`Update to 7.3b1`|\n|[20523d0](http://git.sagemath.org/sage.git/commit/?id=20523d0d669c2c13c7eeccc9839aad63af5f33c5)|`Added a stop and start mechanism for benchmarks`|\n|[c2a7980](http://git.sagemath.org/sage.git/commit/?id=c2a7980375ec1c886281ae01694c71c7009f3321)|`Merge branch 'stop_and_restart_feature_for_benchmarking' into multithreaded_benchmarks`|\n|[b419d91](http://git.sagemath.org/sage.git/commit/?id=b419d910825e1904a793206798a2dadca9de9b29)|`First version: working support for parallel computation`|",
    "created_at": "2016-06-08T14:50:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20786#issuecomment-379098",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

<a id='comment:2'></a>
I pushed a first version of my patch.

Known issues & remarks:

- Verbosity option is completely broken
- Scheduling in `task_master` method can be improved
- Code duplication (`_perform_experiments_for_single_id` and `_perform_parallel_experiments_for_single_id`. 
- Some names can probably be improved.

I'm leaving this in `new` state for now.

---
Last 10 new commits:
|                                                                                                                                          |                                                                              |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------|
|[bc29f26](http://git.sagemath.org/sage.git/commit/?id=bc29f26da2877c2adf6366b7f9bae0cc463ee3f5)|`Refined experimental_data method, which now allows request for specific data`|
|[a82a477](http://git.sagemath.org/sage.git/commit/?id=a82a477822d17b23c34ff34ddc77e45acea7a6ab)|`Fixed syntax errors in documentation`|
|[0ab93ec](http://git.sagemath.org/sage.git/commit/?id=0ab93ecbf861c585b83bb162493afcaf5a2032c8)|`Changes and fixes to docstrings and doctests`|
|[d2d6e26](http://git.sagemath.org/sage.git/commit/?id=d2d6e26916ea5157c8e1ae291859b10c077d94b9)|`Improved data selection in experimental_data method`|
|[8e363dd](http://git.sagemath.org/sage.git/commit/?id=8e363dd7ecf203cc4f203ea2b985573e4d59423c)|`Switched definition of decoding error and decoding failure`|
|[fe0b956](http://git.sagemath.org/sage.git/commit/?id=fe0b956386ad3fc684e5ae306254fb814fdc76e5)|`Merge branch 't/20601/20601_experimental' into benchmarking_tool`|
|[272d251](http://git.sagemath.org/sage.git/commit/?id=272d2513ef8c888c215213590e46fc81a701eab6)|`Update to 7.3b1`|
|[20523d0](http://git.sagemath.org/sage.git/commit/?id=20523d0d669c2c13c7eeccc9839aad63af5f33c5)|`Added a stop and start mechanism for benchmarks`|
|[c2a7980](http://git.sagemath.org/sage.git/commit/?id=c2a7980375ec1c886281ae01694c71c7009f3321)|`Merge branch 'stop_and_restart_feature_for_benchmarking' into multithreaded_benchmarks`|
|[b419d91](http://git.sagemath.org/sage.git/commit/?id=b419d910825e1904a793206798a2dadca9de9b29)|`First version: working support for parallel computation`|



---

archive/issue_comments_379099.json:
```json
{
    "body": "Changing commit from \"\" to \"b419d910825e1904a793206798a2dadca9de9b29\"",
    "created_at": "2016-06-08T14:50:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20786#issuecomment-379099",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

Changing commit from "" to "b419d910825e1904a793206798a2dadca9de9b29"



---

archive/issue_comments_379100.json:
```json
{
    "body": "Changing commit from \"b419d910825e1904a793206798a2dadca9de9b29\" to \"e8340b6de21c00667ef01a5e65925417fff48bd3\"",
    "created_at": "2016-06-09T12:49:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20786#issuecomment-379100",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "b419d910825e1904a793206798a2dadca9de9b29" to "e8340b6de21c00667ef01a5e65925417fff48bd3"



---

archive/issue_comments_379101.json:
```json
{
    "body": "<a id='comment:3'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                                 |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------|\n|[471f8e6](http://git.sagemath.org/sage.git/commit/?id=471f8e6536836a6944940bf1b465aa7cfd302953)|`Changed the behaviour of verbosity option if parallel is active`|\n|[8f71eeb](http://git.sagemath.org/sage.git/commit/?id=8f71eebe1a2c137db8312d3f6bcf6f6a986fdbff)|`chunk_size is now number_of_chunks: this parameter now represents the number of tasks a run for a given benchmark will be splitted into`|\n|[e8340b6](http://git.sagemath.org/sage.git/commit/?id=e8340b6de21c00667ef01a5e65925417fff48bd3)|`Rewrote task_master method to support dynamic chunk size`|",
    "created_at": "2016-06-09T12:49:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20786#issuecomment-379101",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                                 |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------|
|[471f8e6](http://git.sagemath.org/sage.git/commit/?id=471f8e6536836a6944940bf1b465aa7cfd302953)|`Changed the behaviour of verbosity option if parallel is active`|
|[8f71eeb](http://git.sagemath.org/sage.git/commit/?id=8f71eebe1a2c137db8312d3f6bcf6f6a986fdbff)|`chunk_size is now number_of_chunks: this parameter now represents the number of tasks a run for a given benchmark will be splitted into`|
|[e8340b6](http://git.sagemath.org/sage.git/commit/?id=e8340b6de21c00667ef01a5e65925417fff48bd3)|`Rewrote task_master method to support dynamic chunk size`|



---

archive/issue_comments_379102.json:
```json
{
    "body": "<a id='comment:4'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                                                  |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------|\n|[0984627](http://git.sagemath.org/sage.git/commit/?id=0984627c668fead61cdcd6ec76a95f9e4b6ed14e)|`Fixed a bug which prevented all experiments to be run when using parallel option`|\n|[a7bf30d](http://git.sagemath.org/sage.git/commit/?id=a7bf30d3b23eb4c013957804824216029647a5ae)|`Implemented dynamic setting of chunk_size`|",
    "created_at": "2016-06-09T14:51:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20786#issuecomment-379102",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                                                  |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------|
|[0984627](http://git.sagemath.org/sage.git/commit/?id=0984627c668fead61cdcd6ec76a95f9e4b6ed14e)|`Fixed a bug which prevented all experiments to be run when using parallel option`|
|[a7bf30d](http://git.sagemath.org/sage.git/commit/?id=a7bf30d3b23eb4c013957804824216029647a5ae)|`Implemented dynamic setting of chunk_size`|



---

archive/issue_comments_379103.json:
```json
{
    "body": "Changing commit from \"e8340b6de21c00667ef01a5e65925417fff48bd3\" to \"a7bf30d3b23eb4c013957804824216029647a5ae\"",
    "created_at": "2016-06-09T14:51:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20786#issuecomment-379103",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e8340b6de21c00667ef01a5e65925417fff48bd3" to "a7bf30d3b23eb4c013957804824216029647a5ae"



---

archive/issue_comments_379104.json:
```json
{
    "body": "<a id='comment:5'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                                                               |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------|\n|[9d2b717](http://git.sagemath.org/sage.git/commit/?id=9d2b7176d1d7889dd57e889589172ddc1c8f7796)|`New strategy: each task is now sized such that it takes a fixed, predetermined amount of time`|",
    "created_at": "2016-06-10T11:45:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20786#issuecomment-379104",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                                                               |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------|
|[9d2b717](http://git.sagemath.org/sage.git/commit/?id=9d2b7176d1d7889dd57e889589172ddc1c8f7796)|`New strategy: each task is now sized such that it takes a fixed, predetermined amount of time`|



---

archive/issue_comments_379105.json:
```json
{
    "body": "Changing commit from \"a7bf30d3b23eb4c013957804824216029647a5ae\" to \"9d2b7176d1d7889dd57e889589172ddc1c8f7796\"",
    "created_at": "2016-06-10T11:45:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20786#issuecomment-379105",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a7bf30d3b23eb4c013957804824216029647a5ae" to "9d2b7176d1d7889dd57e889589172ddc1c8f7796"



---

archive/issue_comments_379106.json:
```json
{
    "body": "<a id='comment:6'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                                                                                           |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------|\n|[1dac338](http://git.sagemath.org/sage.git/commit/?id=1dac338d14c5addd59a68c2f08689316c67b725b)|`Tweaked the previous strategy so it now considers the (very slow) first run of each task to size the aforementioned tasks`|\n|[1036ee1](http://git.sagemath.org/sage.git/commit/?id=1036ee16a4ad76879c4cef5b5bfe3acf30939c2c)|`Fixed stop and restart behaviour with parallel option`|\n|[69f74dc](http://git.sagemath.org/sage.git/commit/?id=69f74dcdf9b96196b4b72a1bdab396a94921a2ba)|`Added documentation and some comments`|",
    "created_at": "2016-06-10T13:54:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20786#issuecomment-379106",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                                                                                           |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------|
|[1dac338](http://git.sagemath.org/sage.git/commit/?id=1dac338d14c5addd59a68c2f08689316c67b725b)|`Tweaked the previous strategy so it now considers the (very slow) first run of each task to size the aforementioned tasks`|
|[1036ee1](http://git.sagemath.org/sage.git/commit/?id=1036ee16a4ad76879c4cef5b5bfe3acf30939c2c)|`Fixed stop and restart behaviour with parallel option`|
|[69f74dc](http://git.sagemath.org/sage.git/commit/?id=69f74dcdf9b96196b4b72a1bdab396a94921a2ba)|`Added documentation and some comments`|



---

archive/issue_comments_379107.json:
```json
{
    "body": "Changing commit from \"9d2b7176d1d7889dd57e889589172ddc1c8f7796\" to \"69f74dcdf9b96196b4b72a1bdab396a94921a2ba\"",
    "created_at": "2016-06-10T13:54:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20786#issuecomment-379107",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "9d2b7176d1d7889dd57e889589172ddc1c8f7796" to "69f74dcdf9b96196b4b72a1bdab396a94921a2ba"



---

archive/issue_comments_379108.json:
```json
{
    "body": "Changing commit from \"69f74dcdf9b96196b4b72a1bdab396a94921a2ba\" to \"e6acad489bdd878b81178746a06b8fdac0ad7e08\"",
    "created_at": "2016-06-10T14:46:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20786#issuecomment-379108",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "69f74dcdf9b96196b4b72a1bdab396a94921a2ba" to "e6acad489bdd878b81178746a06b8fdac0ad7e08"



---

archive/issue_comments_379109.json:
```json
{
    "body": "<a id='comment:7'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                   |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------|\n|[e6acad4](http://git.sagemath.org/sage.git/commit/?id=e6acad489bdd878b81178746a06b8fdac0ad7e08)|`Fixed speed issue`|",
    "created_at": "2016-06-10T14:46:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20786#issuecomment-379109",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                   |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------|
|[e6acad4](http://git.sagemath.org/sage.git/commit/?id=e6acad489bdd878b81178746a06b8fdac0ad7e08)|`Fixed speed issue`|



---

archive/issue_comments_379110.json:
```json
{
    "body": "<a id='comment:8'></a>\nThis will probably be superseded by the [BleacherMark project](https://github.com/miguelmarco/bleachermark).",
    "created_at": "2016-09-02T12:49:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20786#issuecomment-379110",
    "user": "https://github.com/johanrosenkilde"
}
```

<a id='comment:8'></a>
This will probably be superseded by the [BleacherMark project](https://github.com/miguelmarco/bleachermark).



---

archive/issue_comments_379111.json:
```json
{
    "body": "Changing status from new to needs_info.",
    "created_at": "2016-09-02T12:49:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20786#issuecomment-379111",
    "user": "https://github.com/johanrosenkilde"
}
```

Changing status from new to needs_info.
