# Issue 20445: Iteration through finite Coxeter groups

archive/issues_020208.json:
```json
{
    "assignees": [],
    "body": "The algorithm in chevie is very different from the algorithm we currently have:\n\n```\nForEachElement:=function(W,f)local l,g;\n  if not IsFinite(W) then Error(\"only for finite Coxeter groups\");\n  elif W.nbGeneratingReflections=0 then f(W.identity);return;\n  fi;\n  l:=List([0..W.nbGeneratingReflections],i->\n        ReflectionSubgroup(W,W.reflectionsLabels{[1..i]}));\n  l:=List([1..Length(l)-1],i->ReducedRightCosetRepresentatives(l[i+1],l[i]));\n  g:=function(x,v)local y;\n    if Length(v)=0 then f(x);\n    else for y in v[1] do g(x*y,v{[2..Length(v)]});od;\n    fi;\n  end;\n  g(W.identity,l);\nend;\n```\n\nWe should also implement that algorithm (maybe even with hard-coded coset representatives in the finite case) so that we can see if this is indeed faster.\n\nThe two needed methods are\n\n```\n#############################################################################\n##\n#F  ReducedInRightCoset( <W> , <w> )  . . . . . reduced element in coset W.w\n##\n##  w is an automorphism of a parent Coxeter group of W.\n##  'ReducedInRightCoset' returns the unique element in the right\n##  coset W.w which is W-reduced.\n##\n\nAbsCoxOps.ReducedInRightCoset:=function(W,w)local i;\n  while true  do\n    i := FirstLeftDescending(W, w);\n    if i=false then return w; fi;\n    w := W.reflections[i] * w;\n  od;\nend;\n\n#############################################################################\n##\n#F  ReducedRightCosetRepresentatives( <W>, <H> )  . . . . . . . . . . . . .\n#F  . . . . . . . . . . . . . . .  distinguished right coset representatives\n##\n##  'ReducedRightCosetRepresentatives'  returns a list of reduced words in the\n##  Coxeter group <W> that are distinguished right  coset representatives for\n##  the right cosets H\\W where  H is a reflection subgroup  of W.\n##\nReducedRightCosetRepresentatives:=function(W, H)local res, totest, new;\n  totest:=Set([W.identity]);\n  res:=Set([W.identity]);\n  repeat\n    new:=Concatenation(List(totest,w->List(\n      W.reflections{W.generatingReflections},s->ReducedInRightCoset(H, w*s))));\n    UniteSet(res,totest);\n    totest:=Difference(new,res);\n  until Length(totest)=0;\n  InfoChevie2(\"#I nb. of cosets: \",Length(res),\"\\n\");\n  SortBy(res,x->CoxeterLength(W,x));\n  return res;\nend;\n```\n\nCC:  @tscrim @fchapoton @nthiery @sagetrac-vripoll\n\nBranch/Commit: **[d3ef5a8](https://github.com/sagemath/sagetrac-mirror/commit/d3ef5a848c90cd0fba80b0fe61f48d2693f9ea5b)**\n\nReviewer: **Christian Stump, Travis Scrimshaw**\n\nAuthor: **Travis Scrimshaw, Christian Stump**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/20445_\n\n",
    "closed_at": "2018-05-31T17:25:50Z",
    "created_at": "2016-04-14T10:09:16Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Iteration through finite Coxeter groups",
    "type": "issue",
    "updated_at": "2018-05-31T17:25:50Z",
    "url": "https://github.com/sagemath/sage/issues/20445",
    "user": "https://github.com/sagetrac-stumpc5"
}
```
The algorithm in chevie is very different from the algorithm we currently have:

```
ForEachElement:=function(W,f)local l,g;
  if not IsFinite(W) then Error("only for finite Coxeter groups");
  elif W.nbGeneratingReflections=0 then f(W.identity);return;
  fi;
  l:=List([0..W.nbGeneratingReflections],i->
        ReflectionSubgroup(W,W.reflectionsLabels{[1..i]}));
  l:=List([1..Length(l)-1],i->ReducedRightCosetRepresentatives(l[i+1],l[i]));
  g:=function(x,v)local y;
    if Length(v)=0 then f(x);
    else for y in v[1] do g(x*y,v{[2..Length(v)]});od;
    fi;
  end;
  g(W.identity,l);
end;
```

We should also implement that algorithm (maybe even with hard-coded coset representatives in the finite case) so that we can see if this is indeed faster.

The two needed methods are

```
#############################################################################
##
#F  ReducedInRightCoset( <W> , <w> )  . . . . . reduced element in coset W.w
##
##  w is an automorphism of a parent Coxeter group of W.
##  'ReducedInRightCoset' returns the unique element in the right
##  coset W.w which is W-reduced.
##

AbsCoxOps.ReducedInRightCoset:=function(W,w)local i;
  while true  do
    i := FirstLeftDescending(W, w);
    if i=false then return w; fi;
    w := W.reflections[i] * w;
  od;
end;

#############################################################################
##
#F  ReducedRightCosetRepresentatives( <W>, <H> )  . . . . . . . . . . . . .
#F  . . . . . . . . . . . . . . .  distinguished right coset representatives
##
##  'ReducedRightCosetRepresentatives'  returns a list of reduced words in the
##  Coxeter group <W> that are distinguished right  coset representatives for
##  the right cosets H\W where  H is a reflection subgroup  of W.
##
ReducedRightCosetRepresentatives:=function(W, H)local res, totest, new;
  totest:=Set([W.identity]);
  res:=Set([W.identity]);
  repeat
    new:=Concatenation(List(totest,w->List(
      W.reflections{W.generatingReflections},s->ReducedInRightCoset(H, w*s))));
    UniteSet(res,totest);
    totest:=Difference(new,res);
  until Length(totest)=0;
  InfoChevie2("#I nb. of cosets: ",Length(res),"\n");
  SortBy(res,x->CoxeterLength(W,x));
  return res;
end;
```

CC:  @tscrim @fchapoton @nthiery @sagetrac-vripoll

Branch/Commit: **[d3ef5a8](https://github.com/sagemath/sagetrac-mirror/commit/d3ef5a848c90cd0fba80b0fe61f48d2693f9ea5b)**

Reviewer: **Christian Stump, Travis Scrimshaw**

Author: **Travis Scrimshaw, Christian Stump**

_Issue created by migration from https://trac.sagemath.org/ticket/20445_





---

archive/issue_events_270371.json:
```json
{
    "actor": "https://github.com/sagetrac-stumpc5",
    "created_at": "2016-04-14T10:09:16Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "milestone_number": null,
    "milestone_title": "sage-7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20445#event-270371"
}
```



---

archive/issue_events_270372.json:
```json
{
    "actor": "https://github.com/sagetrac-stumpc5",
    "created_at": "2016-04-14T10:09:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "component: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20445#event-270372"
}
```



---

archive/issue_events_270373.json:
```json
{
    "actor": "https://github.com/sagetrac-stumpc5",
    "created_at": "2016-04-14T10:09:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20445#event-270373"
}
```



---

archive/issue_events_270374.json:
```json
{
    "actor": "https://github.com/sagetrac-stumpc5",
    "created_at": "2016-04-14T10:09:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20445#event-270374"
}
```



---

archive/issue_comments_297723.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -18,3 +18,47 @@\n ```\n \n We should also implement that algorithm (maybe even with hard-coded coset representatives in the finite case) so that we can see if this is indeed faster.\n+\n+The two needed methods are\n+\n+```\n+#############################################################################\n+##\n+#F  ReducedInRightCoset( <W> , <w> )  . . . . . reduced element in coset W.w\n+##\n+##  w is an automorphism of a parent Coxeter group of W.\n+##  'ReducedInRightCoset' returns the unique element in the right\n+##  coset W.w which is W-reduced.\n+##\n+\n+AbsCoxOps.ReducedInRightCoset:=function(W,w)local i;\n+  while true  do\n+    i := FirstLeftDescending(W, w);\n+    if i=false then return w; fi;\n+    w := W.reflections[i] * w;\n+  od;\n+end;\n+\n+#############################################################################\n+##\n+#F  ReducedRightCosetRepresentatives( <W>, <H> )  . . . . . . . . . . . . .\n+#F  . . . . . . . . . . . . . . .  distinguished right coset representatives\n+##\n+##  'ReducedRightCosetRepresentatives'  returns a list of reduced words in the\n+##  Coxeter group <W> that are distinguished right  coset representatives for\n+##  the right cosets H\\W where  H is a reflection subgroup  of W.\n+##\n+ReducedRightCosetRepresentatives:=function(W, H)local res, totest, new;\n+  totest:=Set([W.identity]);\n+  res:=Set([W.identity]);\n+  repeat\n+    new:=Concatenation(List(totest,w->List(\n+      W.reflections{W.generatingReflections},s->ReducedInRightCoset(H, w*s))));\n+    UniteSet(res,totest);\n+    totest:=Difference(new,res);\n+  until Length(totest)=0;\n+  InfoChevie2(\"#I nb. of cosets: \",Length(res),\"\\n\");\n+  SortBy(res,x->CoxeterLength(W,x));\n+  return res;\n+end;\n+```\n``````\n",
    "created_at": "2016-04-15T05:35:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297723",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -18,3 +18,47 @@
 ```
 
 We should also implement that algorithm (maybe even with hard-coded coset representatives in the finite case) so that we can see if this is indeed faster.
+
+The two needed methods are
+
+```
+#############################################################################
+##
+#F  ReducedInRightCoset( <W> , <w> )  . . . . . reduced element in coset W.w
+##
+##  w is an automorphism of a parent Coxeter group of W.
+##  'ReducedInRightCoset' returns the unique element in the right
+##  coset W.w which is W-reduced.
+##
+
+AbsCoxOps.ReducedInRightCoset:=function(W,w)local i;
+  while true  do
+    i := FirstLeftDescending(W, w);
+    if i=false then return w; fi;
+    w := W.reflections[i] * w;
+  od;
+end;
+
+#############################################################################
+##
+#F  ReducedRightCosetRepresentatives( <W>, <H> )  . . . . . . . . . . . . .
+#F  . . . . . . . . . . . . . . .  distinguished right coset representatives
+##
+##  'ReducedRightCosetRepresentatives'  returns a list of reduced words in the
+##  Coxeter group <W> that are distinguished right  coset representatives for
+##  the right cosets H\W where  H is a reflection subgroup  of W.
+##
+ReducedRightCosetRepresentatives:=function(W, H)local res, totest, new;
+  totest:=Set([W.identity]);
+  res:=Set([W.identity]);
+  repeat
+    new:=Concatenation(List(totest,w->List(
+      W.reflections{W.generatingReflections},s->ReducedInRightCoset(H, w*s))));
+    UniteSet(res,totest);
+    totest:=Difference(new,res);
+  until Length(totest)=0;
+  InfoChevie2("#I nb. of cosets: ",Length(res),"\n");
+  SortBy(res,x->CoxeterLength(W,x));
+  return res;
+end;
+```
``````




---

archive/issue_comments_297724.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\n\n```\n###########################################################################\n#\n# N.B. a difference with older versions of Chevie is that IsLeftDescending and\n# FirstLeftDescending  return  an  index  in  the  list  of  generators, not a\n# reflectionName,  for  efficiency.  LeftDescentSet  still  returns  names  of\n# reflections.\n#\n###########################################################################\n\n##  generic reduction of FirstLeftDescending to IsLeftDescending\n##  in practical implementations of Coxeter groups this routine can often\n##  be overriden by a more efficient one.\n\nAbsCoxOps.FirstLeftDescending:=function(W, x)local i,ILD;\n  ILD:=W.operations.IsLeftDescending; # avoid dispatching overhead\n  for i in W.generatingReflections do if ILD(W,x,i) then return i; fi; od;\n  return false;\nend;\n```",
    "created_at": "2016-04-15T05:37:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297724",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

<div id="comment:2" align="right">Comment 2</div>


```
###########################################################################
#
# N.B. a difference with older versions of Chevie is that IsLeftDescending and
# FirstLeftDescending  return  an  index  in  the  list  of  generators, not a
# reflectionName,  for  efficiency.  LeftDescentSet  still  returns  names  of
# reflections.
#
###########################################################################

##  generic reduction of FirstLeftDescending to IsLeftDescending
##  in practical implementations of Coxeter groups this routine can often
##  be overriden by a more efficient one.

AbsCoxOps.FirstLeftDescending:=function(W, x)local i,ILD;
  ILD:=W.operations.IsLeftDescending; # avoid dispatching overhead
  for i in W.generatingReflections do if ILD(W,x,i) then return i; fi; od;
  return false;
end;
```



---

archive/issue_comments_297725.json:
```json
{
    "body": "Branch: **[u/stumpc5/20445](https://github.com/sagemath/sagetrac-mirror/tree/u/stumpc5/20445)**",
    "created_at": "2016-04-15T07:00:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297725",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

Branch: **[u/stumpc5/20445](https://github.com/sagemath/sagetrac-mirror/tree/u/stumpc5/20445)**



---

archive/issue_comments_297726.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a2ef2e460df5c270630b45635e5b5dc70ffeada2\">a2ef2e4</a></td><td><code>added a few sentences to the doc</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dc0106628d58cb263866b9cd601696ea71f18e9f\">dc01066</a></td><td><code>started to add 'optional - gap3'</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fd0c9cc616a03de20a12aba530c96e73f8f60911\">fd0c9cc</a></td><td><code>added optional gap3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1537a795f6d7a86f8c3a7a79e86d4b31405de323\">1537a79</a></td><td><code>added optional gap3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/60acebc8f99a6650d64af9ee056704471cabc328\">60acebc</a></td><td><code>Merge branch 'u/stumpc5/11187' into u/stumpc5/20445</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3d5bd19b3628eccdad189d2eb6db08a89295cab0\">3d5bd19</a></td><td><code>first version of the algorithm in chevie</code></td></tr></table>\n",
    "created_at": "2016-04-15T18:56:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297726",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4" align="right">Comment 4</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a2ef2e460df5c270630b45635e5b5dc70ffeada2">a2ef2e4</a></td><td><code>added a few sentences to the doc</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dc0106628d58cb263866b9cd601696ea71f18e9f">dc01066</a></td><td><code>started to add 'optional - gap3'</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fd0c9cc616a03de20a12aba530c96e73f8f60911">fd0c9cc</a></td><td><code>added optional gap3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1537a795f6d7a86f8c3a7a79e86d4b31405de323">1537a79</a></td><td><code>added optional gap3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/60acebc8f99a6650d64af9ee056704471cabc328">60acebc</a></td><td><code>Merge branch 'u/stumpc5/11187' into u/stumpc5/20445</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3d5bd19b3628eccdad189d2eb6db08a89295cab0">3d5bd19</a></td><td><code>first version of the algorithm in chevie</code></td></tr></table>




---

archive/issue_comments_297727.json:
```json
{
    "body": "Commit: **[3d5bd19](https://github.com/sagemath/sagetrac-mirror/commit/3d5bd19b3628eccdad189d2eb6db08a89295cab0)**",
    "created_at": "2016-04-15T18:56:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297727",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[3d5bd19](https://github.com/sagemath/sagetrac-mirror/commit/3d5bd19b3628eccdad189d2eb6db08a89295cab0)**



---

archive/issue_events_270375.json:
```json
{
    "actor": "https://github.com/sagetrac-stumpc5",
    "created_at": "2016-04-15T18:56:59Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "title_is": "Iteration through finite Coxeter groups",
    "title_was": "Iteration through Coxeter groups",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20445#event-270375"
}
```



---

archive/issue_comments_297728.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nLast 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8810c41ad280c06b307f059220c03f046eafa0d7\">8810c41</a></td><td><code>fixed one doctest + work on the invariant form</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2ba374053a128ead4f7288b8b302a2752211a870\">2ba3740</a></td><td><code>fixed another doctest + a typo</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e28bbecbd3a0b08b35f8892874dcd4d7d7f61e4e\">e28bbec</a></td><td><code>edited the length function to always use the reduced word</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8f79ffab79668dd1440256fb2c78235503c61747\">8f79ffa</a></td><td><code>just playing with first methods</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a2ef2e460df5c270630b45635e5b5dc70ffeada2\">a2ef2e4</a></td><td><code>added a few sentences to the doc</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dc0106628d58cb263866b9cd601696ea71f18e9f\">dc01066</a></td><td><code>started to add 'optional - gap3'</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fd0c9cc616a03de20a12aba530c96e73f8f60911\">fd0c9cc</a></td><td><code>added optional gap3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1537a795f6d7a86f8c3a7a79e86d4b31405de323\">1537a79</a></td><td><code>added optional gap3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/60acebc8f99a6650d64af9ee056704471cabc328\">60acebc</a></td><td><code>Merge branch 'u/stumpc5/11187' into u/stumpc5/20445</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3d5bd19b3628eccdad189d2eb6db08a89295cab0\">3d5bd19</a></td><td><code>first version of the algorithm in chevie</code></td></tr></table>\n",
    "created_at": "2016-04-15T18:56:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297728",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

<div id="comment:5" align="right">Comment 5</div>

Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8810c41ad280c06b307f059220c03f046eafa0d7">8810c41</a></td><td><code>fixed one doctest + work on the invariant form</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2ba374053a128ead4f7288b8b302a2752211a870">2ba3740</a></td><td><code>fixed another doctest + a typo</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e28bbecbd3a0b08b35f8892874dcd4d7d7f61e4e">e28bbec</a></td><td><code>edited the length function to always use the reduced word</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8f79ffab79668dd1440256fb2c78235503c61747">8f79ffa</a></td><td><code>just playing with first methods</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a2ef2e460df5c270630b45635e5b5dc70ffeada2">a2ef2e4</a></td><td><code>added a few sentences to the doc</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dc0106628d58cb263866b9cd601696ea71f18e9f">dc01066</a></td><td><code>started to add 'optional - gap3'</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fd0c9cc616a03de20a12aba530c96e73f8f60911">fd0c9cc</a></td><td><code>added optional gap3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1537a795f6d7a86f8c3a7a79e86d4b31405de323">1537a79</a></td><td><code>added optional gap3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/60acebc8f99a6650d64af9ee056704471cabc328">60acebc</a></td><td><code>Merge branch 'u/stumpc5/11187' into u/stumpc5/20445</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3d5bd19b3628eccdad189d2eb6db08a89295cab0">3d5bd19</a></td><td><code>first version of the algorithm in chevie</code></td></tr></table>




---

archive/issue_comments_297729.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nTravis, I implemented a first version of the algoritm, getting all needed cosets in E7 takes 2/3 of our iteration time, but constructing the elements in the end takes about 30secs. If you find the time, I am sure you see how to speed the algorithm. The function is `parabolic_iteration`.",
    "created_at": "2016-04-15T18:58:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297729",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

<div id="comment:6" align="right">Comment 6</div>

Travis, I implemented a first version of the algoritm, getting all needed cosets in E7 takes 2/3 of our iteration time, but constructing the elements in the end takes about 30secs. If you find the time, I am sure you see how to speed the algorithm. The function is `parabolic_iteration`.



---

archive/issue_comments_297730.json:
```json
{
    "body": "Changed commit from **[3d5bd19](https://github.com/sagemath/sagetrac-mirror/commit/3d5bd19b3628eccdad189d2eb6db08a89295cab0)** to **[eb75f71](https://github.com/sagemath/sagetrac-mirror/commit/eb75f71f18ff6faf5a3d2436caa691d74bdc460d)**",
    "created_at": "2016-04-16T11:26:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297730",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[3d5bd19](https://github.com/sagemath/sagetrac-mirror/commit/3d5bd19b3628eccdad189d2eb6db08a89295cab0)** to **[eb75f71](https://github.com/sagemath/sagetrac-mirror/commit/eb75f71f18ff6faf5a3d2436caa691d74bdc460d)**



---

archive/issue_comments_297731.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a60cf31d47777353bcae92665d5e5e739fc02a29\">a60cf31</a></td><td><code>added some missing optional gap3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aaf59b1a46f49d4cbbd0c4961c1acf25242434cf\">aaf59b1</a></td><td><code>Merge branch 'u/stumpc5/11187' into u/stumpc5/20445</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eb75f71f18ff6faf5a3d2436caa691d74bdc460d\">eb75f71</a></td><td><code>turned it into an iterator to make every product only once. somhow results in infinite iteration</code></td></tr></table>\n",
    "created_at": "2016-04-16T11:26:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297731",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7" align="right">Comment 7</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a60cf31d47777353bcae92665d5e5e739fc02a29">a60cf31</a></td><td><code>added some missing optional gap3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aaf59b1a46f49d4cbbd0c4961c1acf25242434cf">aaf59b1</a></td><td><code>Merge branch 'u/stumpc5/11187' into u/stumpc5/20445</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eb75f71f18ff6faf5a3d2436caa691d74bdc460d">eb75f71</a></td><td><code>turned it into an iterator to make every product only once. somhow results in infinite iteration</code></td></tr></table>




---

archive/issue_comments_297732.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/feebf975713fcb5051f55d47cbe090de45fe5a7d\">feebf97</a></td><td><code>finalized the invariant form</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4955d68d9e4dbde2d1425afbae36e619c2d6ba14\">4955d68</a></td><td><code>added the missing optional gap3 in the cython file</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c5c43bcba449039892cecb0d18238b4bf87e8a7f\">c5c43bc</a></td><td><code>the next round of optional gap3 insertions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6d788c921693e0e4cb2f92ddc9d51b38d2489643\">6d788c9</a></td><td><code>Merge branch 'u/stumpc5/11187' into u/stumpc5/20445</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/26d89e25c84a7c569fe0cffae8ec457baf3e3e67\">26d89e2</a></td><td><code>- made the computation of reduced_coset_repesentatives really fast ~0.1sec in E8</code></td></tr></table>\n",
    "created_at": "2016-04-17T15:10:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297732",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8" align="right">Comment 8</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/feebf975713fcb5051f55d47cbe090de45fe5a7d">feebf97</a></td><td><code>finalized the invariant form</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4955d68d9e4dbde2d1425afbae36e619c2d6ba14">4955d68</a></td><td><code>added the missing optional gap3 in the cython file</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c5c43bcba449039892cecb0d18238b4bf87e8a7f">c5c43bc</a></td><td><code>the next round of optional gap3 insertions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6d788c921693e0e4cb2f92ddc9d51b38d2489643">6d788c9</a></td><td><code>Merge branch 'u/stumpc5/11187' into u/stumpc5/20445</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/26d89e25c84a7c569fe0cffae8ec457baf3e3e67">26d89e2</a></td><td><code>- made the computation of reduced_coset_repesentatives really fast ~0.1sec in E8</code></td></tr></table>




---

archive/issue_comments_297733.json:
```json
{
    "body": "Changed commit from **[eb75f71](https://github.com/sagemath/sagetrac-mirror/commit/eb75f71f18ff6faf5a3d2436caa691d74bdc460d)** to **[26d89e2](https://github.com/sagemath/sagetrac-mirror/commit/26d89e25c84a7c569fe0cffae8ec457baf3e3e67)**",
    "created_at": "2016-04-17T15:10:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297733",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[eb75f71](https://github.com/sagemath/sagetrac-mirror/commit/eb75f71f18ff6faf5a3d2436caa691d74bdc460d)** to **[26d89e2](https://github.com/sagemath/sagetrac-mirror/commit/26d89e25c84a7c569fe0cffae8ec457baf3e3e67)**



---

archive/issue_comments_297734.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e7eb93cc439710460b9be384cfb47ae63188d5c7\">e7eb93c</a></td><td><code>pushed a new version of the parabolic algorithm that is 30% faster than ours</code></td></tr></table>\n",
    "created_at": "2016-04-17T16:15:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297734",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9" align="right">Comment 9</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e7eb93cc439710460b9be384cfb47ae63188d5c7">e7eb93c</a></td><td><code>pushed a new version of the parabolic algorithm that is 30% faster than ours</code></td></tr></table>




---

archive/issue_comments_297735.json:
```json
{
    "body": "Changed commit from **[26d89e2](https://github.com/sagemath/sagetrac-mirror/commit/26d89e25c84a7c569fe0cffae8ec457baf3e3e67)** to **[e7eb93c](https://github.com/sagemath/sagetrac-mirror/commit/e7eb93cc439710460b9be384cfb47ae63188d5c7)**",
    "created_at": "2016-04-17T16:15:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297735",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[26d89e2](https://github.com/sagemath/sagetrac-mirror/commit/26d89e25c84a7c569fe0cffae8ec457baf3e3e67)** to **[e7eb93c](https://github.com/sagemath/sagetrac-mirror/commit/e7eb93cc439710460b9be384cfb47ae63188d5c7)**



---

archive/issue_comments_297736.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\n\n```\nsage: timeit(\"for w in W.iteration('depth',False): pass\",number=5)\n5 loops, best of 3: 6.33 s per loop\nsage: from sage.combinat.root_system.reflection_group_c import parabolic_iteration\nsage: timeit(\"for w in parabolic_iteration(W): pass\",number=5)    \n5 loops, best of 3: 4.28 s per loop\n```\nOkay, I can now get down quite a bit from our last weeks algorithm. Drawback is that it needs quite some memory (for E8, we have to keep E7 in memory). I provide an alternative in which order the parabolic is computed, but that doesn't seem to speed the computation.\n\n* If @tscrim looks at the code and improves it further, we might beat the 5 minutes for E8!\n* The code can also perfectly be paralellized!",
    "created_at": "2016-04-17T16:16:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297736",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

<div id="comment:10" align="right">Comment 10</div>


```
sage: timeit("for w in W.iteration('depth',False): pass",number=5)
5 loops, best of 3: 6.33 s per loop
sage: from sage.combinat.root_system.reflection_group_c import parabolic_iteration
sage: timeit("for w in parabolic_iteration(W): pass",number=5)    
5 loops, best of 3: 4.28 s per loop
```
Okay, I can now get down quite a bit from our last weeks algorithm. Drawback is that it needs quite some memory (for E8, we have to keep E7 in memory). I provide an alternative in which order the parabolic is computed, but that doesn't seem to speed the computation.

* If @tscrim looks at the code and improves it further, we might beat the 5 minutes for E8!
* The code can also perfectly be paralellized!



---

archive/issue_comments_297737.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7eebd4b5cdecf9263eff38253b16d8ca9d777a3c\">7eebd4b</a></td><td><code>minor tweak</code></td></tr></table>\n",
    "created_at": "2016-04-17T19:42:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297737",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11" align="right">Comment 11</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7eebd4b5cdecf9263eff38253b16d8ca9d777a3c">7eebd4b</a></td><td><code>minor tweak</code></td></tr></table>




---

archive/issue_comments_297738.json:
```json
{
    "body": "Changed commit from **[e7eb93c](https://github.com/sagemath/sagetrac-mirror/commit/e7eb93cc439710460b9be384cfb47ae63188d5c7)** to **[7eebd4b](https://github.com/sagemath/sagetrac-mirror/commit/7eebd4b5cdecf9263eff38253b16d8ca9d777a3c)**",
    "created_at": "2016-04-17T19:42:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297738",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[e7eb93c](https://github.com/sagemath/sagetrac-mirror/commit/e7eb93cc439710460b9be384cfb47ae63188d5c7)** to **[7eebd4b](https://github.com/sagemath/sagetrac-mirror/commit/7eebd4b5cdecf9263eff38253b16d8ca9d777a3c)**



---

archive/issue_comments_297739.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nI locally reimplemented the multiplication of `PermutationGroupElement`. This resulted in\n\n```\nsage: W = ReflectionGroup(['E',7])                                                \nsage: from sage.combinat.root_system.reflection_group_c import parabolic_iteration\nsage: timeit(\"for w in parabolic_iteration(W): pass\",number=5)                    \n5 loops, best of 3: 2.4 s per loop\n```\nIf we provide a very restricted implementation of permutations ourselves, we might get down further quite a bit. Remark: the algorithm without the multiplication and creation of new permutation group elements only takes `.5sec`, so there is a lot to improve still.",
    "created_at": "2016-04-18T13:05:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297739",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

<div id="comment:12" align="right">Comment 12</div>

I locally reimplemented the multiplication of `PermutationGroupElement`. This resulted in

```
sage: W = ReflectionGroup(['E',7])                                                
sage: from sage.combinat.root_system.reflection_group_c import parabolic_iteration
sage: timeit("for w in parabolic_iteration(W): pass",number=5)                    
5 loops, best of 3: 2.4 s per loop
```
If we provide a very restricted implementation of permutations ourselves, we might get down further quite a bit. Remark: the algorithm without the multiplication and creation of new permutation group elements only takes `.5sec`, so there is a lot to improve still.



---

archive/issue_comments_297740.json:
```json
{
    "body": "Changed commit from **[7eebd4b](https://github.com/sagemath/sagetrac-mirror/commit/7eebd4b5cdecf9263eff38253b16d8ca9d777a3c)** to **[88ec6a0](https://github.com/sagemath/sagetrac-mirror/commit/88ec6a0d7a77fe89034218fb05a328de8fbfaa37)**",
    "created_at": "2016-04-18T13:08:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297740",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[7eebd4b](https://github.com/sagemath/sagetrac-mirror/commit/7eebd4b5cdecf9263eff38253b16d8ca9d777a3c)** to **[88ec6a0](https://github.com/sagemath/sagetrac-mirror/commit/88ec6a0d7a77fe89034218fb05a328de8fbfaa37)**



---

archive/issue_comments_297741.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/88ec6a0d7a77fe89034218fb05a328de8fbfaa37\">88ec6a0</a></td><td><code>implemented a local perm grp elt multiplication</code></td></tr></table>\n",
    "created_at": "2016-04-18T13:08:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297741",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13" align="right">Comment 13</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/88ec6a0d7a77fe89034218fb05a328de8fbfaa37">88ec6a0</a></td><td><code>implemented a local perm grp elt multiplication</code></td></tr></table>




---

archive/issue_comments_297742.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nI just redid the computations and it seems to be about twice as fast as in gap3:\n\n```\nsage: W = ReflectionGroup(['E',7])\nsage: from sage.combinat.root_system.reflection_group_c import parabolic_iteration\nsage: timeit(\"for w in parabolic_iteration(W): pass\",number=5)\n5 loops, best of 3: 1.56 s per loop\nsage: timeit(\"for w in parabolic_iteration(W): pass\",number=5)\n5 loops, best of 3: 1.43 s per loop\nsage: W = ReflectionGroup(['E',8])\nsage: %time for w in parabolic_iteration(W): pass\n\nCPU times: user 9min 12s, sys: 3.81 s, total: 9min 16s\nWall time: 9min 16s\n```\nSo we are slowly approaching the 5min...",
    "created_at": "2016-04-19T20:06:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297742",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

<div id="comment:14" align="right">Comment 14</div>

I just redid the computations and it seems to be about twice as fast as in gap3:

```
sage: W = ReflectionGroup(['E',7])
sage: from sage.combinat.root_system.reflection_group_c import parabolic_iteration
sage: timeit("for w in parabolic_iteration(W): pass",number=5)
5 loops, best of 3: 1.56 s per loop
sage: timeit("for w in parabolic_iteration(W): pass",number=5)
5 loops, best of 3: 1.43 s per loop
sage: W = ReflectionGroup(['E',8])
sage: %time for w in parabolic_iteration(W): pass

CPU times: user 9min 12s, sys: 3.81 s, total: 9min 16s
Wall time: 9min 16s
```
So we are slowly approaching the 5min...



---

archive/issue_comments_297743.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\nTook 3.5Gb of RAM with this ticket, but on my laptop, this is what I got:\n\n```\nsage: W = ReflectionGroup(['E',8])\nsage: from sage.combinat.root_system.reflection_group_c import parabolic_iteration\nsage: %time for w in parabolic_iteration(W): pass\nCPU times: user 4min 23s, sys: 604 ms, total: 4min 23s\nWall time: 4min 23s\n```",
    "created_at": "2016-04-20T04:53:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297743",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:15" align="right">Comment 15</div>

Took 3.5Gb of RAM with this ticket, but on my laptop, this is what I got:

```
sage: W = ReflectionGroup(['E',8])
sage: from sage.combinat.root_system.reflection_group_c import parabolic_iteration
sage: %time for w in parabolic_iteration(W): pass
CPU times: user 4min 23s, sys: 604 ms, total: 4min 23s
Wall time: 4min 23s
```



---

archive/issue_comments_297744.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">Comment 16</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/244e6ff6b516b768c01031817dacc75c05ea889a\">244e6ff</a></td><td><code>Merge branch 'public/11187' of trac.sagemath.org:sage into public/reflection_groups-11187</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f541349eae7b8b3b6a61c57aaafd6bb8c84b3265\">f541349</a></td><td><code>Some last little beautification.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bc3c926b27ccca4371b28a4dbac0169d639ff191\">bc3c926</a></td><td><code>Merge branch 'u/stumpc5/11187' into u/stumpc5/20445</code></td></tr></table>\n",
    "created_at": "2016-04-20T07:19:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297744",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16" align="right">Comment 16</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/244e6ff6b516b768c01031817dacc75c05ea889a">244e6ff</a></td><td><code>Merge branch 'public/11187' of trac.sagemath.org:sage into public/reflection_groups-11187</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f541349eae7b8b3b6a61c57aaafd6bb8c84b3265">f541349</a></td><td><code>Some last little beautification.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bc3c926b27ccca4371b28a4dbac0169d639ff191">bc3c926</a></td><td><code>Merge branch 'u/stumpc5/11187' into u/stumpc5/20445</code></td></tr></table>




---

archive/issue_comments_297745.json:
```json
{
    "body": "Changed commit from **[88ec6a0](https://github.com/sagemath/sagetrac-mirror/commit/88ec6a0d7a77fe89034218fb05a328de8fbfaa37)** to **[bc3c926](https://github.com/sagemath/sagetrac-mirror/commit/bc3c926b27ccca4371b28a4dbac0169d639ff191)**",
    "created_at": "2016-04-20T07:19:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297745",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[88ec6a0](https://github.com/sagemath/sagetrac-mirror/commit/88ec6a0d7a77fe89034218fb05a328de8fbfaa37)** to **[bc3c926](https://github.com/sagemath/sagetrac-mirror/commit/bc3c926b27ccca4371b28a4dbac0169d639ff191)**



---

archive/issue_comments_297746.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">Comment 17</div>\n\nReplying to [@tscrim](#comment%3A15):\n    CPU times: user 4min 23s, sys: 604 ms, total: 4min 23s\n    Wall time: 4min 23s\n\nGreat, I believe you can claim to be the first person ever who iterated through E8 in less than 5 minutes! (I was expecting that since 1. your computer was about twice as fast as mine last week, and 2. you took ~8 minutes to iter through E8 in chevie, and my code is about twice as fast as the chevie code.)\n\n1. I would really like to see how to implement our own permutation group elements with only what we need. I would hope that to again result in some speedup. One question there: we have w(-\\beta) = -w(\\beta), so we would not need to record the complete permutation on all roots, but on the positive roots would be enough. That would speed several computations such as creating new elements and testing for equality), but it would have the drawback that we constantly need to work mod N (N=nr of positive roots), e.g., we would have such checks and mod's when multiplying two permutations.\n\n2. We should get your parallelization to work with this so that people can then use many cores to actually do stuff with the elements in type E8.",
    "created_at": "2016-04-20T09:25:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297746",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

<div id="comment:17" align="right">Comment 17</div>

Replying to [@tscrim](#comment%3A15):
    CPU times: user 4min 23s, sys: 604 ms, total: 4min 23s
    Wall time: 4min 23s

Great, I believe you can claim to be the first person ever who iterated through E8 in less than 5 minutes! (I was expecting that since 1. your computer was about twice as fast as mine last week, and 2. you took ~8 minutes to iter through E8 in chevie, and my code is about twice as fast as the chevie code.)

1. I would really like to see how to implement our own permutation group elements with only what we need. I would hope that to again result in some speedup. One question there: we have w(-\beta) = -w(\beta), so we would not need to record the complete permutation on all roots, but on the positive roots would be enough. That would speed several computations such as creating new elements and testing for equality), but it would have the drawback that we constantly need to work mod N (N=nr of positive roots), e.g., we would have such checks and mod's when multiplying two permutations.

2. We should get your parallelization to work with this so that people can then use many cores to actually do stuff with the elements in type E8.



---

archive/issue_comments_297747.json:
```json
{
    "body": "Changed commit from **[bc3c926](https://github.com/sagemath/sagetrac-mirror/commit/bc3c926b27ccca4371b28a4dbac0169d639ff191)** to **[e740893](https://github.com/sagemath/sagetrac-mirror/commit/e7408933724f8453cd0ec1bc3ed9c73fac403c4a)**",
    "created_at": "2016-04-21T15:23:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297747",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[bc3c926](https://github.com/sagemath/sagetrac-mirror/commit/bc3c926b27ccca4371b28a4dbac0169d639ff191)** to **[e740893](https://github.com/sagemath/sagetrac-mirror/commit/e7408933724f8453cd0ec1bc3ed9c73fac403c4a)**



---

archive/issue_comments_297748.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">Comment 18</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0db28d6c6e64818eb32fb9826ff7a41333c814d6\">0db28d6</a></td><td><code>fixed doctests that have not been run last week!</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7afc02c78f5c0aa58d5b638e20c135678a3bec7e\">7afc02c</a></td><td><code>Fixing doctests in combinat/root_system/coxeter_group.py.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/02694256c73520e7f4dd80c455cdae133be858a7\">0269425</a></td><td><code>Blanket fix bare except block.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9b0ef927c17789f2dbeea432b8316f99d138cb88\">9b0ef92</a></td><td><code>Making it an AttributeError.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/098500513498dc45b46738ef1be6f7c5abd91117\">0985005</a></td><td><code>Merge branch 'public/11187' into u/stumpc5/20445</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e7408933724f8453cd0ec1bc3ed9c73fac403c4a\">e740893</a></td><td><code>uses the local multiplication now also in the other iterator</code></td></tr></table>\n",
    "created_at": "2016-04-21T15:23:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297748",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18" align="right">Comment 18</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0db28d6c6e64818eb32fb9826ff7a41333c814d6">0db28d6</a></td><td><code>fixed doctests that have not been run last week!</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7afc02c78f5c0aa58d5b638e20c135678a3bec7e">7afc02c</a></td><td><code>Fixing doctests in combinat/root_system/coxeter_group.py.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/02694256c73520e7f4dd80c455cdae133be858a7">0269425</a></td><td><code>Blanket fix bare except block.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9b0ef927c17789f2dbeea432b8316f99d138cb88">9b0ef92</a></td><td><code>Making it an AttributeError.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/098500513498dc45b46738ef1be6f7c5abd91117">0985005</a></td><td><code>Merge branch 'public/11187' into u/stumpc5/20445</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e7408933724f8453cd0ec1bc3ed9c73fac403c4a">e740893</a></td><td><code>uses the local multiplication now also in the other iterator</code></td></tr></table>




---

archive/issue_comments_297749.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">Comment 19</div>\n\nTravis, could you also now run\n\n```\nsage: W = ReflectionGroup(['E',8])\nsage: %time for w in W.iteration(\"depth\",False): pass\n```\nIt now also uses the local multiplication, so it should also speed quite a bit. On my machine, it's only 1.5 times as slow.",
    "created_at": "2016-04-21T15:25:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297749",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

<div id="comment:19" align="right">Comment 19</div>

Travis, could you also now run

```
sage: W = ReflectionGroup(['E',8])
sage: %time for w in W.iteration("depth",False): pass
```
It now also uses the local multiplication, so it should also speed quite a bit. On my machine, it's only 1.5 times as slow.



---

archive/issue_comments_297750.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">Comment 20</div>\n\nWith doing other things on my laptop:\n\n```\nsage: W = ReflectionGroup(['E',8])\nsage: %time for w in W.iteration(\"depth\",False): pass\nCPU times: user 6min 39s, sys: 22.5 ms, total: 6min 39s\nWall time: 6min 39s\n```",
    "created_at": "2016-04-21T15:43:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297750",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:20" align="right">Comment 20</div>

With doing other things on my laptop:

```
sage: W = ReflectionGroup(['E',8])
sage: %time for w in W.iteration("depth",False): pass
CPU times: user 6min 39s, sys: 22.5 ms, total: 6min 39s
Wall time: 6min 39s
```



---

archive/issue_comments_297751.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">Comment 21</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3e25053b8c9c2095209fe2aec651781785096fa1\">3e25053</a></td><td><code>Merge branch 'public/11187' into u/stumpc5/20445</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/abfff5ffdf5e3d7a90bdaa542ecca3ba2691bffe\">abfff5f</a></td><td><code>Merge branch 'develop' into u/stumpc5/20445</code></td></tr></table>\n",
    "created_at": "2016-05-10T19:36:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297751",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21" align="right">Comment 21</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3e25053b8c9c2095209fe2aec651781785096fa1">3e25053</a></td><td><code>Merge branch 'public/11187' into u/stumpc5/20445</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/abfff5ffdf5e3d7a90bdaa542ecca3ba2691bffe">abfff5f</a></td><td><code>Merge branch 'develop' into u/stumpc5/20445</code></td></tr></table>




---

archive/issue_comments_297752.json:
```json
{
    "body": "Changed commit from **[e740893](https://github.com/sagemath/sagetrac-mirror/commit/e7408933724f8453cd0ec1bc3ed9c73fac403c4a)** to **[abfff5f](https://github.com/sagemath/sagetrac-mirror/commit/abfff5ffdf5e3d7a90bdaa542ecca3ba2691bffe)**",
    "created_at": "2016-05-10T19:36:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297752",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[e740893](https://github.com/sagemath/sagetrac-mirror/commit/e7408933724f8453cd0ec1bc3ed9c73fac403c4a)** to **[abfff5f](https://github.com/sagemath/sagetrac-mirror/commit/abfff5ffdf5e3d7a90bdaa542ecca3ba2691bffe)**



---

archive/issue_comments_297753.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">Comment 22</div>\n\n`@`Nicolas: I just now see that you (I think) accidentally edited my comment (comment 5 above from here) instead of replying three weeks ago. Could you quickly recheck?",
    "created_at": "2016-05-10T20:08:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297753",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

<div id="comment:22" align="right">Comment 22</div>

`@`Nicolas: I just now see that you (I think) accidentally edited my comment (comment 5 above from here) instead of replying three weeks ago. Could you quickly recheck?



---

archive/issue_comments_297754.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">Comment 23</div>\n\nReplying to [@sagetrac-stumpc5](#comment%3A17):\n> 1. I would really like to see how to implement our own permutation group elements with only what we need. I would hope that to again result in some speedup. One question there: we have w(-\\beta) = -w(\\beta), so we would not need to record the complete permutation on all roots, but on the positive roots would be enough. That would speed several computations such as creating new elements and testing for equality), but it would have the drawback that we constantly need to work mod N (N=nr of positive roots), e.g., we would have such checks and mod's when multiplying two permutations.\n\nThis business sounds of the same nature as what we have for affine\npermutations (in window notation). Would there be a way to use the\nsame implementation behind the scene?\n\nCheers,\n                               Nicolas",
    "created_at": "2016-05-11T07:43:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297754",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:23" align="right">Comment 23</div>

Replying to [@sagetrac-stumpc5](#comment%3A17):
> 1. I would really like to see how to implement our own permutation group elements with only what we need. I would hope that to again result in some speedup. One question there: we have w(-\beta) = -w(\beta), so we would not need to record the complete permutation on all roots, but on the positive roots would be enough. That would speed several computations such as creating new elements and testing for equality), but it would have the drawback that we constantly need to work mod N (N=nr of positive roots), e.g., we would have such checks and mod's when multiplying two permutations.

This business sounds of the same nature as what we have for affine
permutations (in window notation). Would there be a way to use the
same implementation behind the scene?

Cheers,
                               Nicolas



---

archive/issue_comments_297755.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">Comment 24</div>\n\nReplying to [@sagetrac-stumpc5](#comment%3A22):\n> `@`Nicolas: I just now see that you (I think) accidentally edited my comment (comment 5 above from here) instead of replying three weeks ago. Could you quickly recheck?\n\nOops, reverted!",
    "created_at": "2016-05-11T07:43:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297755",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:24" align="right">Comment 24</div>

Replying to [@sagetrac-stumpc5](#comment%3A22):
> `@`Nicolas: I just now see that you (I think) accidentally edited my comment (comment 5 above from here) instead of replying three weeks ago. Could you quickly recheck?

Oops, reverted!



---

archive/issue_comments_297756.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">Comment 25</div>\n\nReplying to [@nthiery](#comment%3A23):\n> Replying to [@sagetrac-stumpc5](#comment%3A17):\n> This business sounds of the same nature as what we have for affine\n> permutations (in window notation). Would there be a way to use the\n> same implementation behind the scene?\n\nAnd also with colored permutations, isn't it? The main difference is that here (and also in signed permutations) one works mod N, for colored permutations one works \"+N mod kN\", and for affine permutation one does not work mod anything.\n\nI would propose to first work out the implementation here and then see if we can use it also in the other places. I only don't see how to actually do the implementation in an optimal way, so some support of yours and/or Travis is appreciated.\n\nSome concrete questions:\n\n1. It seems that we should use the same data structure as for `PermutationGroupElement`:\n\n   ```\n       self.perm = <int *>sig_malloc(sizeof(int) * self.N)\n   ```\n   Do you agree? Can we even get anything significantly better than sticking to `PermutationGroupElement` if we do it ourselves? This also asks whether we can do better when multiplying elements, I do not see what\n\n   ```\n    cdef PermutationGroupElement prod = PermutationGroupElement.__new__(PermutationGroupElement)\n   ```\n   does or how long it takes, see the method `_new_mul_` in `reflection_group_c.pyx`.\n\n3. It seems that we are using `PermutationGroupElement` in a few places (when talking to `GAP3`}), but this might just be that we need the cycle string representation for that.",
    "created_at": "2016-05-11T08:21:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297756",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

<div id="comment:25" align="right">Comment 25</div>

Replying to [@nthiery](#comment%3A23):
> Replying to [@sagetrac-stumpc5](#comment%3A17):
> This business sounds of the same nature as what we have for affine
> permutations (in window notation). Would there be a way to use the
> same implementation behind the scene?

And also with colored permutations, isn't it? The main difference is that here (and also in signed permutations) one works mod N, for colored permutations one works "+N mod kN", and for affine permutation one does not work mod anything.

I would propose to first work out the implementation here and then see if we can use it also in the other places. I only don't see how to actually do the implementation in an optimal way, so some support of yours and/or Travis is appreciated.

Some concrete questions:

1. It seems that we should use the same data structure as for `PermutationGroupElement`:

   ```
       self.perm = <int *>sig_malloc(sizeof(int) * self.N)
   ```
   Do you agree? Can we even get anything significantly better than sticking to `PermutationGroupElement` if we do it ourselves? This also asks whether we can do better when multiplying elements, I do not see what

   ```
    cdef PermutationGroupElement prod = PermutationGroupElement.__new__(PermutationGroupElement)
   ```
   does or how long it takes, see the method `_new_mul_` in `reflection_group_c.pyx`.

3. It seems that we are using `PermutationGroupElement` in a few places (when talking to `GAP3`}), but this might just be that we need the cycle string representation for that.



---

archive/issue_comments_297757.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">Comment 26</div>\n\n@tscrim: Could you have a brief look at the `_new_mul_` in `reflection_group_c.pyx` to check whether I am missing something, or whether I could use that as a first improvement in this algorithm.\n\nI indeed plan to have this ticket only contain the improvements for now (then having plenty of options for iterating through finite Coxeter groups), postponing the work and testing for a new data structure to a new ticket.",
    "created_at": "2016-05-11T08:33:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297757",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

<div id="comment:26" align="right">Comment 26</div>

@tscrim: Could you have a brief look at the `_new_mul_` in `reflection_group_c.pyx` to check whether I am missing something, or whether I could use that as a first improvement in this algorithm.

I indeed plan to have this ticket only contain the improvements for now (then having plenty of options for iterating through finite Coxeter groups), postponing the work and testing for a new data structure to a new ticket.



---

archive/issue_comments_297758.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">Comment 27</div>\n\nReplying to [@sagetrac-stumpc5](#comment%3A25):\n> I would propose to first work out the implementation here and then see if we can use it also in the other places. I only don't see how to actually do the implementation in an optimal way, so some support of yours and/or Travis is appreciated.\n\nI'm really starting to consider that what we should do is create our own separate project where we write all of this independently (in, say, C/C++). At this stage, I'm somewhat concerned with the additional overhead that Cython could impose and the lack of complete memory control. Although I cannot commit serious time to working on this for then next two weeks (I will be in grading and math mode). Over the summer starting in June, I should be able to do so.\n\n> Some concrete questions:\n> \n> 1. It seems that we should use the same data structure as for `PermutationGroupElement`:\n> \n>    ```\n>        self.perm = <int *>sig_malloc(sizeof(int) * self.N)\n>    ```\n>    Do you agree? Can we even get anything significantly better than sticking to `PermutationGroupElement` if we do it ourselves?\n\nI think we can avoid a bit of overhead of maintaining the GAP and category information. Although it is hard to tell how much of an impact this will have on things.\n\n>    This also asks whether we can do better when multiplying elements, I do not see what\n> \n>    ```\n>     cdef PermutationGroupElement prod = PermutationGroupElement.__new__(PermutationGroupElement)\n>    ```\n>    does or how long it takes, see the method `_new_mul_` in `reflection_group_c.pyx`.\n\nThis creates a new element in memory, but it does not call the `__init__`. It is essential and done in Python kernel, so we won't get any better.\n\n> 3. It seems that we are using `PermutationGroupElement` in a few places (when talking to `GAP3`}), but this might just be that we need the cycle string representation for that.\n\nGAP4 doesn't store things as cycle strings AFAIK, and so I doubt GAP3 does either.Replying to [@sagetrac-stumpc5](#comment%3A25):\n> I would propose to first work out the implementation here and then see if we can use it also in the other places. I only don't see how to actually do the implementation in an optimal way, so some support of yours and/or Travis is appreciated.\n\nI'm really starting to consider that what we should do is create our own separate project where we write all of this independently (in, say, C/C++). At this stage, I'm somewhat concerned with the additional overhead that Cython could impose and the lack of complete memory control. Although I cannot commit serious time to working on this for then next two weeks (I will be in grading and math mode). Over the summer starting in June, I should be able to do so.\n\n> Some concrete questions:\n> \n> 1. It seems that we should use the same data structure as for `PermutationGroupElement`:\n> \n>    ```\n>        self.perm = <int *>sig_malloc(sizeof(int) * self.N)\n>    ```\n>    Do you agree? Can we even get anything significantly better than sticking to `PermutationGroupElement` if we do it ourselves?\n\nI think we can avoid a bit of overhead of maintaining the GAP and category information. Although it is hard to tell how much of an impact this will have on things.\n\n>    This also asks whether we can do better when multiplying elements, I do not see what\n> \n>    ```\n>     cdef PermutationGroupElement prod = PermutationGroupElement.__new__(PermutationGroupElement)\n>    ```\n>    does or how long it takes, see the method `_new_mul_` in `reflection_group_c.pyx`.\n\nThis creates a new element in memory, but it does not call the `__init__`. It is essential and done in Python kernel, so we won't get any better.\n\n> 3. It seems that we are using `PermutationGroupElement` in a few places (when talking to `GAP3`}), but this might just be that we need the cycle string representation for that.\n\nGAP4 doesn't store things as cycle strings AFAIK, and so I doubt GAP3 does either. We could very likely replace these calls with something better (if we are calling GAP3).",
    "created_at": "2016-05-11T14:49:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297758",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:27" align="right">Comment 27</div>

Replying to [@sagetrac-stumpc5](#comment%3A25):
> I would propose to first work out the implementation here and then see if we can use it also in the other places. I only don't see how to actually do the implementation in an optimal way, so some support of yours and/or Travis is appreciated.

I'm really starting to consider that what we should do is create our own separate project where we write all of this independently (in, say, C/C++). At this stage, I'm somewhat concerned with the additional overhead that Cython could impose and the lack of complete memory control. Although I cannot commit serious time to working on this for then next two weeks (I will be in grading and math mode). Over the summer starting in June, I should be able to do so.

> Some concrete questions:
> 
> 1. It seems that we should use the same data structure as for `PermutationGroupElement`:
> 
>    ```
>        self.perm = <int *>sig_malloc(sizeof(int) * self.N)
>    ```
>    Do you agree? Can we even get anything significantly better than sticking to `PermutationGroupElement` if we do it ourselves?

I think we can avoid a bit of overhead of maintaining the GAP and category information. Although it is hard to tell how much of an impact this will have on things.

>    This also asks whether we can do better when multiplying elements, I do not see what
> 
>    ```
>     cdef PermutationGroupElement prod = PermutationGroupElement.__new__(PermutationGroupElement)
>    ```
>    does or how long it takes, see the method `_new_mul_` in `reflection_group_c.pyx`.

This creates a new element in memory, but it does not call the `__init__`. It is essential and done in Python kernel, so we won't get any better.

> 3. It seems that we are using `PermutationGroupElement` in a few places (when talking to `GAP3`}), but this might just be that we need the cycle string representation for that.

GAP4 doesn't store things as cycle strings AFAIK, and so I doubt GAP3 does either.Replying to [@sagetrac-stumpc5](#comment%3A25):
> I would propose to first work out the implementation here and then see if we can use it also in the other places. I only don't see how to actually do the implementation in an optimal way, so some support of yours and/or Travis is appreciated.

I'm really starting to consider that what we should do is create our own separate project where we write all of this independently (in, say, C/C++). At this stage, I'm somewhat concerned with the additional overhead that Cython could impose and the lack of complete memory control. Although I cannot commit serious time to working on this for then next two weeks (I will be in grading and math mode). Over the summer starting in June, I should be able to do so.

> Some concrete questions:
> 
> 1. It seems that we should use the same data structure as for `PermutationGroupElement`:
> 
>    ```
>        self.perm = <int *>sig_malloc(sizeof(int) * self.N)
>    ```
>    Do you agree? Can we even get anything significantly better than sticking to `PermutationGroupElement` if we do it ourselves?

I think we can avoid a bit of overhead of maintaining the GAP and category information. Although it is hard to tell how much of an impact this will have on things.

>    This also asks whether we can do better when multiplying elements, I do not see what
> 
>    ```
>     cdef PermutationGroupElement prod = PermutationGroupElement.__new__(PermutationGroupElement)
>    ```
>    does or how long it takes, see the method `_new_mul_` in `reflection_group_c.pyx`.

This creates a new element in memory, but it does not call the `__init__`. It is essential and done in Python kernel, so we won't get any better.

> 3. It seems that we are using `PermutationGroupElement` in a few places (when talking to `GAP3`}), but this might just be that we need the cycle string representation for that.

GAP4 doesn't store things as cycle strings AFAIK, and so I doubt GAP3 does either. We could very likely replace these calls with something better (if we are calling GAP3).



---

archive/issue_comments_297759.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">Comment 28</div>\n\nReplying to [@tscrim](#comment%3A27):\n> Replying to [@sagetrac-stumpc5](#comment%3A25):\n> I'm really starting to consider that what we should do is create our own separate project where we write all of this independently (in, say, C/C++). At this stage, I'm somewhat concerned with the additional overhead that Cython could impose and the lack of complete memory control. Although I cannot commit serious time to working on this for then next two weeks (I will be in grading and math mode). Over the summer starting in June, I should be able to do so.\n\nLet me quickly ask: by \"create our own separate project where we write all of this independently (in, say, C/C++)\" you mean implementing this permutation group element there and then use it from our sage implementation, right?\n\nI'd be happy to follow and help with than whenever you find the time, but at first I will likely only be watching you doing it...",
    "created_at": "2016-05-12T08:52:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297759",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

<div id="comment:28" align="right">Comment 28</div>

Replying to [@tscrim](#comment%3A27):
> Replying to [@sagetrac-stumpc5](#comment%3A25):
> I'm really starting to consider that what we should do is create our own separate project where we write all of this independently (in, say, C/C++). At this stage, I'm somewhat concerned with the additional overhead that Cython could impose and the lack of complete memory control. Although I cannot commit serious time to working on this for then next two weeks (I will be in grading and math mode). Over the summer starting in June, I should be able to do so.

Let me quickly ask: by "create our own separate project where we write all of this independently (in, say, C/C++)" you mean implementing this permutation group element there and then use it from our sage implementation, right?

I'd be happy to follow and help with than whenever you find the time, but at first I will likely only be watching you doing it...



---

archive/issue_comments_297760.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">Comment 29</div>\n\nReplying to [@tscrim](#comment%3A27):\n> I'm really starting to consider that what we should do is create our own separate project where we write all of this independently (in, say, C/C++). At this stage, I'm somewhat concerned with the additional overhead that Cython could impose and the lack of complete memory control. Although I cannot commit serious time to working on this for then next two weeks (I will be in grading and math mode). Over the summer starting in June, I should be able to do so.\n\nWe can discuss this in Meudon.\n\n> I think we can avoid a bit of overhead of maintaining the GAP and category information. Although it is hard to tell how much of an impact this will have on things.\n\nFor the record: I just checked, and the data structure for permutation\ngroup elements is just a reference to the parent and a C-list of ints;\nplus a few slots which are unused by default (e.g. a reference to a\ngap element). So the only overhead is copying over the reference to\nthe parent, and a bit of extra memory allocation\n\nOf course, the parent itself has stuff about GAP and categories, but\nthat's initialized once for all, and does not influence arithmetic on\nelements.\n\nCheers,\n                             Nicolas",
    "created_at": "2016-05-16T08:50:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297760",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:29" align="right">Comment 29</div>

Replying to [@tscrim](#comment%3A27):
> I'm really starting to consider that what we should do is create our own separate project where we write all of this independently (in, say, C/C++). At this stage, I'm somewhat concerned with the additional overhead that Cython could impose and the lack of complete memory control. Although I cannot commit serious time to working on this for then next two weeks (I will be in grading and math mode). Over the summer starting in June, I should be able to do so.

We can discuss this in Meudon.

> I think we can avoid a bit of overhead of maintaining the GAP and category information. Although it is hard to tell how much of an impact this will have on things.

For the record: I just checked, and the data structure for permutation
group elements is just a reference to the parent and a C-list of ints;
plus a few slots which are unused by default (e.g. a reference to a
gap element). So the only overhead is copying over the reference to
the parent, and a bit of extra memory allocation

Of course, the parent itself has stuff about GAP and categories, but
that's initialized once for all, and does not influence arithmetic on
elements.

Cheers,
                             Nicolas



---

archive/issue_comments_297761.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">Comment 30</div>\n\nReplying to [@nthiery](#comment%3A29):\n> Replying to [@tscrim](#comment%3A27):\n> > I'm really starting to consider that what we should do is create our own separate project where we write all of this independently (in, say, C/C++). At this stage, I'm somewhat concerned with the additional overhead that Cython could impose and the lack of complete memory control. Although I cannot commit serious time to working on this for then next two weeks (I will be in grading and math mode). Over the summer starting in June, I should be able to do so.\n\n> \n> We can discuss this in Meudon.\n\nSounds good.\n\n> > I think we can avoid a bit of overhead of maintaining the GAP and category information. Although it is hard to tell how much of an impact this will have on things.\n\n> \n> For the record: I just checked, and the data structure for permutation\n> group elements is just a reference to the parent and a C-list of ints;\n> plus a few slots which are unused by default (e.g. a reference to a\n> gap element). So the only overhead is copying over the reference to\n> the parent, and a bit of extra memory allocation\n> \n> Of course, the parent itself has stuff about GAP and categories, but\n> that's initialized once for all, and does not influence arithmetic on\n> elements.\n\nI am partially worried about how much these extra copy operations cost on the E<sub>8</sub> iteration scale, as well as the inherent overhead of the generated code from Cython. Plus I like having code where we completely control the memory allocations. It might end up that we really don't see much of an improvement, but I think it is worth trying.",
    "created_at": "2016-05-16T14:01:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297761",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:30" align="right">Comment 30</div>

Replying to [@nthiery](#comment%3A29):
> Replying to [@tscrim](#comment%3A27):
> > I'm really starting to consider that what we should do is create our own separate project where we write all of this independently (in, say, C/C++). At this stage, I'm somewhat concerned with the additional overhead that Cython could impose and the lack of complete memory control. Although I cannot commit serious time to working on this for then next two weeks (I will be in grading and math mode). Over the summer starting in June, I should be able to do so.

> 
> We can discuss this in Meudon.

Sounds good.

> > I think we can avoid a bit of overhead of maintaining the GAP and category information. Although it is hard to tell how much of an impact this will have on things.

> 
> For the record: I just checked, and the data structure for permutation
> group elements is just a reference to the parent and a C-list of ints;
> plus a few slots which are unused by default (e.g. a reference to a
> gap element). So the only overhead is copying over the reference to
> the parent, and a bit of extra memory allocation
> 
> Of course, the parent itself has stuff about GAP and categories, but
> that's initialized once for all, and does not influence arithmetic on
> elements.

I am partially worried about how much these extra copy operations cost on the E<sub>8</sub> iteration scale, as well as the inherent overhead of the generated code from Cython. Plus I like having code where we completely control the memory allocations. It might end up that we really don't see much of an improvement, but I think it is worth trying.



---

archive/issue_comments_297762.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">Comment 31</div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7b8b94ba35630628fa7370388d845640545ec75e\">7b8b94b</a></td><td><code>Merge branch 'develop' into u/stumpc5/20445</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2cef8bffae86e6f79c9e95934d5229e1f75b05a7\">2cef8bf</a></td><td><code>Merge branch 'develop' into u/stumpc5/20445</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/111d92a26b5d12d7ebaf1c323275326aa24c0318\">111d92a</a></td><td><code>Merge branch 'u/stumpc5/20445' of trac.sagemath.org:sage into public/combinat/finite_coxeter_iteration-20445</code></td></tr></table>\n",
    "created_at": "2018-05-28T10:51:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297762",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:31" align="right">Comment 31</div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7b8b94ba35630628fa7370388d845640545ec75e">7b8b94b</a></td><td><code>Merge branch 'develop' into u/stumpc5/20445</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2cef8bffae86e6f79c9e95934d5229e1f75b05a7">2cef8bf</a></td><td><code>Merge branch 'develop' into u/stumpc5/20445</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/111d92a26b5d12d7ebaf1c323275326aa24c0318">111d92a</a></td><td><code>Merge branch 'u/stumpc5/20445' of trac.sagemath.org:sage into public/combinat/finite_coxeter_iteration-20445</code></td></tr></table>




---

archive/issue_comments_297763.json:
```json
{
    "body": "Changed branch from **[u/stumpc5/20445](https://github.com/sagemath/sagetrac-mirror/tree/u/stumpc5/20445)** to **[public/combinat/finite_coxeter_iteration-20445](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/finite_coxeter_iteration-20445)**",
    "created_at": "2018-05-28T10:51:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297763",
    "user": "https://github.com/tscrim"
}
```

Changed branch from **[u/stumpc5/20445](https://github.com/sagemath/sagetrac-mirror/tree/u/stumpc5/20445)** to **[public/combinat/finite_coxeter_iteration-20445](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/finite_coxeter_iteration-20445)**



---

archive/issue_comments_297764.json:
```json
{
    "body": "Changed commit from **[abfff5f](https://github.com/sagemath/sagetrac-mirror/commit/abfff5ffdf5e3d7a90bdaa542ecca3ba2691bffe)** to **[111d92a](https://github.com/sagemath/sagetrac-mirror/commit/111d92a26b5d12d7ebaf1c323275326aa24c0318)**",
    "created_at": "2018-05-28T10:51:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297764",
    "user": "https://github.com/tscrim"
}
```

Changed commit from **[abfff5f](https://github.com/sagemath/sagetrac-mirror/commit/abfff5ffdf5e3d7a90bdaa542ecca3ba2691bffe)** to **[111d92a](https://github.com/sagemath/sagetrac-mirror/commit/111d92a26b5d12d7ebaf1c323275326aa24c0318)**



---

archive/issue_events_270376.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-05-28T10:51:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "milestone_number": null,
    "milestone_title": "sage-7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20445#event-270376"
}
```



---

archive/issue_events_270377.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-05-28T10:51:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20445#event-270377"
}
```



---

archive/issue_comments_297765.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">Comment 32</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f061066b8e9338f224de6ab9770d119446744704\">f061066</a></td><td><code>Doing some cleanup and now ready for review.</code></td></tr></table>\n",
    "created_at": "2018-05-28T14:59:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297765",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:32" align="right">Comment 32</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f061066b8e9338f224de6ab9770d119446744704">f061066</a></td><td><code>Doing some cleanup and now ready for review.</code></td></tr></table>




---

archive/issue_comments_297766.json:
```json
{
    "body": "Changed commit from **[111d92a](https://github.com/sagemath/sagetrac-mirror/commit/111d92a26b5d12d7ebaf1c323275326aa24c0318)** to **[f061066](https://github.com/sagemath/sagetrac-mirror/commit/f061066b8e9338f224de6ab9770d119446744704)**",
    "created_at": "2018-05-28T14:59:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297766",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[111d92a](https://github.com/sagemath/sagetrac-mirror/commit/111d92a26b5d12d7ebaf1c323275326aa24c0318)** to **[f061066](https://github.com/sagemath/sagetrac-mirror/commit/f061066b8e9338f224de6ab9770d119446744704)**



---

archive/issue_comments_297767.json:
```json
{
    "body": "Author: **Travis Scrimshaw, Christian Stump**",
    "created_at": "2018-05-28T14:59:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297767",
    "user": "https://github.com/tscrim"
}
```

Author: **Travis Scrimshaw, Christian Stump**



---

archive/issue_comments_297768.json:
```json
{
    "body": "Reviewer: **Christian Stump, Travis Scrimshaw**",
    "created_at": "2018-05-28T14:59:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297768",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Christian Stump, Travis Scrimshaw**



---

archive/issue_events_270378.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-05-28T14:59:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20445#event-270378"
}
```



---

archive/issue_comments_297769.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">Comment 34</div>\n\nsome failing doctests, missing `optional gap3`",
    "created_at": "2018-05-28T19:09:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297769",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:34" align="right">Comment 34</div>

some failing doctests, missing `optional gap3`



---

archive/issue_comments_297770.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">Comment 35</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/06e5a466d419de10227f82c5157abf7c1d059c26\">06e5a46</a></td><td><code>Fixing doctests.</code></td></tr></table>\n",
    "created_at": "2018-05-28T20:28:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297770",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:35" align="right">Comment 35</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/06e5a466d419de10227f82c5157abf7c1d059c26">06e5a46</a></td><td><code>Fixing doctests.</code></td></tr></table>




---

archive/issue_comments_297771.json:
```json
{
    "body": "Changed commit from **[f061066](https://github.com/sagemath/sagetrac-mirror/commit/f061066b8e9338f224de6ab9770d119446744704)** to **[06e5a46](https://github.com/sagemath/sagetrac-mirror/commit/06e5a466d419de10227f82c5157abf7c1d059c26)**",
    "created_at": "2018-05-28T20:28:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297771",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[f061066](https://github.com/sagemath/sagetrac-mirror/commit/f061066b8e9338f224de6ab9770d119446744704)** to **[06e5a46](https://github.com/sagemath/sagetrac-mirror/commit/06e5a466d419de10227f82c5157abf7c1d059c26)**



---

archive/issue_comments_297772.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">Comment 36</div>\n\nFixed.",
    "created_at": "2018-05-28T20:28:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297772",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:36" align="right">Comment 36</div>

Fixed.



---

archive/issue_comments_297773.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">Comment 37</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d622df2f0c92e06ec46d8b98b1fe1423595bb8bb\">d622df2</a></td><td><code>started the discriminant of a reflection group</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3d4f036304188cf81b51293d4d9a99e0325576b8\">3d4f036</a></td><td><code>implemented the discriminant up- and downstairs</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1c82a896ebddae5989138653684f834fd4be0a8d\">1c82a89</a></td><td><code>Merge branch 'public/combinat/finite_coxeter_iteration-20445' of git://trac.sagemath.org/sage into 20445</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/348ece0da4f7c7530e1789ac6a42c696cb69b449\">348ece0</a></td><td><code>removed a few comments</code></td></tr></table>\n",
    "created_at": "2018-05-30T15:28:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297773",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:37" align="right">Comment 37</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d622df2f0c92e06ec46d8b98b1fe1423595bb8bb">d622df2</a></td><td><code>started the discriminant of a reflection group</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3d4f036304188cf81b51293d4d9a99e0325576b8">3d4f036</a></td><td><code>implemented the discriminant up- and downstairs</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1c82a896ebddae5989138653684f834fd4be0a8d">1c82a89</a></td><td><code>Merge branch 'public/combinat/finite_coxeter_iteration-20445' of git://trac.sagemath.org/sage into 20445</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/348ece0da4f7c7530e1789ac6a42c696cb69b449">348ece0</a></td><td><code>removed a few comments</code></td></tr></table>




---

archive/issue_comments_297774.json:
```json
{
    "body": "Changed commit from **[06e5a46](https://github.com/sagemath/sagetrac-mirror/commit/06e5a466d419de10227f82c5157abf7c1d059c26)** to **[348ece0](https://github.com/sagemath/sagetrac-mirror/commit/348ece0da4f7c7530e1789ac6a42c696cb69b449)**",
    "created_at": "2018-05-30T15:28:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297774",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[06e5a46](https://github.com/sagemath/sagetrac-mirror/commit/06e5a466d419de10227f82c5157abf7c1d059c26)** to **[348ece0](https://github.com/sagemath/sagetrac-mirror/commit/348ece0da4f7c7530e1789ac6a42c696cb69b449)**



---

archive/issue_comments_297775.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">Comment 38</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d3ef5a848c90cd0fba80b0fe61f48d2693f9ea5b\">d3ef5a8</a></td><td><code>removed a few comments</code></td></tr></table>\n",
    "created_at": "2018-05-30T15:36:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297775",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:38" align="right">Comment 38</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d3ef5a848c90cd0fba80b0fe61f48d2693f9ea5b">d3ef5a8</a></td><td><code>removed a few comments</code></td></tr></table>




---

archive/issue_comments_297776.json:
```json
{
    "body": "Changed commit from **[348ece0](https://github.com/sagemath/sagetrac-mirror/commit/348ece0da4f7c7530e1789ac6a42c696cb69b449)** to **[d3ef5a8](https://github.com/sagemath/sagetrac-mirror/commit/d3ef5a848c90cd0fba80b0fe61f48d2693f9ea5b)**",
    "created_at": "2018-05-30T15:36:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297776",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[348ece0](https://github.com/sagemath/sagetrac-mirror/commit/348ece0da4f7c7530e1789ac6a42c696cb69b449)** to **[d3ef5a8](https://github.com/sagemath/sagetrac-mirror/commit/d3ef5a848c90cd0fba80b0fe61f48d2693f9ea5b)**



---

archive/issue_comments_297777.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">Comment 39</div>\n\nlooked through Travis' changes...",
    "created_at": "2018-05-30T15:39:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297777",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

<div id="comment:39" align="right">Comment 39</div>

looked through Travis' changes...



---

archive/issue_events_270379.json:
```json
{
    "actor": "https://github.com/sagetrac-stumpc5",
    "created_at": "2018-05-30T15:39:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20445#event-270379"
}
```



---

archive/issue_events_270380.json:
```json
{
    "actor": "https://github.com/sagetrac-stumpc5",
    "created_at": "2018-05-30T15:39:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20445#event-270380"
}
```



---

archive/issue_comments_297778.json:
```json
{
    "body": "Changed branch from **[public/combinat/finite_coxeter_iteration-20445](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/finite_coxeter_iteration-20445)** to **[d3ef5a8](https://github.com/sagemath/sagetrac-mirror/commit/d3ef5a848c90cd0fba80b0fe61f48d2693f9ea5b)**",
    "created_at": "2018-05-31T17:25:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20445#issuecomment-297778",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/combinat/finite_coxeter_iteration-20445](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/finite_coxeter_iteration-20445)** to **[d3ef5a8](https://github.com/sagemath/sagetrac-mirror/commit/d3ef5a848c90cd0fba80b0fe61f48d2693f9ea5b)**



---

archive/issue_events_270381.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-05-31T17:25:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20445#event-270381"
}
```



---

archive/issue_events_270382.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "29f1a659422b6a5082a14c1b59a8758c9fdb252b",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-05-31T17:25:50Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/20445",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20445#event-270382"
}
```
