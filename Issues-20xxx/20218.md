# Issue 20218: Use pip to install Python dependencies

archive/issues_019981.json:
```json
{
    "assignees": [
        "https://github.com/embray"
    ],
    "body": "New tarball: https://pypi.python.org/packages/26/34/0f3a5efac31f27fabce64645f8c609de9d925fe2915304d1a40f544cff0e/appnope-0.1.0.tar.gz\n\n---\n\nWork has already been done--for example in #19187--on using `pip` for `sage -i` where appropriate.  However, a normal build of sage does not use `pip` for installing any Python spkgs; rather, they run `python setup.py install` which until recently has always been *the* way to install Python packages.\n\nI can suggest several reasons why `pip` should be used instead of this method.  To be clear--as many people think of `pip` as a tool for installing packages from the internet--this is not strictly the case.  `pip` can be used to install an already downloaded tarball, or even straight from a source tree unpacked from a tarball or checked out from VCS.  The typical way to do this is to change directories to the directory containing the `setup.py` script and running `pip install .`.  This still ultimately calls `setup.py install`, among other `setup.py` commands, but with the right incantations to perform a pip-style flat install.  Now, why is this preferable?\n\n1. Future-compatibility.  One of the goals that the Python packaging community has been working toward over the past several years has been to decouple Python package installation from build system.  Traditionally `setup.py` provided both a build program and an installation program.  At best it will still stick around as a build program, but its use for installation is being discouraged.  There is now finally a PEP (http://legacy.python.org/dev/peps/pep-0516/), still very much in draft state, specifically concerning this decoupling.  Under this new regime `pip` will not likely be the *only* software for installing Python packages, but the assumption can no longer be that there is a `setup.py` script at all.\n\n2. `pip` avoids using `easy_install`.  `easy_install` is an older installation program for Python packages that was bundled with setuptools--when a Python project uses setuptools in its `setup.py`, the `setup.py install` command invokes `easy_install` *by default*.  The behavior of `easy_install` is to install the package as an egg archive/directory.  `easy_install` has several disadvantages, of which this is just one, but there are a couple reasons that this alone is a problem:\n\n\n   a. Every .egg requires a `sys.path` entry, hence difficult to debug paths that look like this:\n\n```python\n>>> pprint(sys.path)\n['',\n '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/setuptools-18.1-py2.7.egg',\n '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/Cython-0.23.3-py2.7-linux-x86_64.egg',\n '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/MarkupSafe-0.23-py2.7-linux-x86_64.egg',\n '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/Jinja2-2.7.3-py2.7.egg',\n '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/six-1.10.0-py2.7.egg',\n '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/Pygments-2.0.2-py2.7.egg',\n '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/Sphinx-1.2.2-py2.7.egg',\n '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/zope.interface-4.1.3-py2.7-linux-x86_64.egg',\n '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/Twisted-15.5.0-py2.7-linux-x86_64.egg',\n '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/pytz-2013b0-py2.7.egg',\n '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/Babel-2.1.1-py2.7.egg',\n '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/Werkzeug-0.11.2-py2.7.egg',\n '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/speaklater-1.3-py2.7.egg',\n '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/python_openid-2.2.5-py2.7.egg',\n '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/itsdangerous-0.24-py2.7.egg',\n '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/Flask-0.10.1-py2.7.egg',\n '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/Flask_Silk-0.2-py2.7.egg',\n '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/Flask_AutoIndex-0.5-py2.7.egg',\n '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/Flask_Babel-0.9-py2.7.egg',\n '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/Flask_OpenID-1.2.5-py2.7.egg',\n '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/Flask_OldSessions-0.10-py2.7.egg',\n '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/webassets-0.11.1-py2.7.egg',\n '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/sagenb-0.11.6.1-py2.7.egg',\n '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/backports.ssl_match_hostname-3.4.0.2-py2.7.egg',\n '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/certifi-14.5.14-py2.7.egg',\n '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/tornado-4.1-py2.7-linux-x86_64.egg',\n '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/setuptools_scm-1.7.0-py2.7.egg',\n '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/path.py-7.1-py2.7.egg',\n '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/pickleshare-0.5-py2.7.egg',\n '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/simplegeneric-0.8.1-py2.7.egg',\n '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/decorator-4.0.6-py2.7.egg',\n '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/networkx-1.10-py2.7.egg',\n '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/python_dateutil-2.2-py2.7.egg',\n '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/cycler-0.9.0-py2.7.egg',\n '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/matplotlib-1.5.0-py2.7-linux-x86_64.egg',\n '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/jsonschema-2.4.0-py2.7.egg',\n '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/mistune-0.5.1-py2.7-linux-x86_64.egg',\n '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/pip-6.1.1-py2.7.egg',\n '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/pkgconfig-1.1.0-py2.7.egg',\n '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/singledispatch-3.4.0.3-py2.7.egg',\n '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/rpy2-2.7.5-py2.7-linux-x86_64.egg',\n '/home/iguananaut/src/sagemath/sage/local/lib/python',\n '/home/iguananaut/src/sagemath/sage/local/lib/python/site_packages',\n '/home/iguananaut/src/sagemath/sage/local/lib/python27.zip',\n '/home/iguananaut/src/sagemath/sage/local/lib/python2.7',\n '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/plat-linux2',\n '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/lib-tk',\n '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/lib-old',\n '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/lib-dynload',\n '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages']\n```\n     With the flat install style used by `pip`, and now more generally favored, the `sys.path`, with no eggs, would be simply:\n\n```python\n>>> pprint(sys.path)\n['',\n '/home/iguananaut/src/sagemath/sage/local/lib/python',\n '/home/iguananaut/src/sagemath/sage/local/lib/python27.zip',\n '/home/iguananaut/src/sagemath/sage/local/lib/python2.7',\n '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/plat-linux2',\n '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/lib-tk',\n '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/lib-old',\n '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/lib-dynload',\n '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages']\n```\n     which is certainly easier to read and reason about.\n\n\nb. The egg import mechanism requires writing to a common file during egg installation--easy-install.pth.  This causes problems in parallel installations, requiring patches to setuptools.  The flat install style used by pip has no such problems--there is a no single common file written to by pip during installation of packages (other than maybe the log file, which is only for debugging purposes).\n\nAs I explained in [this comment](http://trac.sagemath.org/timeline?from=2016-02-25T10%3A23%3A37-08%3A00&precision=second), when a Python package is installed with `pip`, `pip` actually slips setuptools into the installation process, whether the package uses it explicitly or not.  There are reasons for this not worth going into now.  This is no problem for the vast majority of cases.  The only exception I know of is that setuptools doesn't handle the `data_files` option well when `--prefix` is changed.  As far as I can tell this is only a problem for sage itself and possibly for sagetex, but these don't even use `setuptools` in the first place, so until we have a workaround for that it does no harm if we keep using `setup.py install` for those packages, if nothing else works.\n\nMost of the rest of the Python packages included by default in a Sage build (I haven't checked all of -optional yet) already use setuptools.  I checked the setup.py of all the rest that don't explicitly use setuptools--these include `docutils`, `mpmath`, `pexpect`, `ptyprocess`, `Pycrypto`, `pyparsing`, `pyzmq`, `scipy`, and all packages from the Jupyter team (`ip*`, `jupyter*`, `np*`, `notebook`, `traitlets`).\n\nMost of these packages are known by me (from personal experience) to work fine with pip.  Looking at the setup.py scripts of the rest of them, most of them are fairly trivial and should work fine.\n\nTL;DR, with the exceptions of sage and sagetex (pending work like #20108), as well as pip itself the `spkg-install` scripts for Python packages should change `setup.py install` commands to `pip install .`.  Their dependencies would also have to be updated to require pip to be installed first.\n\nAt the same time the \"uninstall\" commands in those scripts can be changed to use `pip uninstall`.\n\nCC:  @jdemeyer @vbraun\n\nBranch: **[`f6859c3`](https://github.com/sagemath/sagetrac-mirror/commit/f6859c31c0322c22d9ad2b6ab21b8e8c8948e16d)**\n\nUpstream: **None of the above - read trac for reasoning.**\n\nReviewer: **Jeroen Demeyer, Volker Braun**\n\nAuthor: **Erik Bray, Jeroen Demeyer**\n\nComponent: **build**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/20218_\n\n",
    "closed_at": "2016-09-01T06:44:21Z",
    "created_at": "2016-03-16T10:29:34Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20build",
        "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Use pip to install Python dependencies",
    "type": "issue",
    "updated_at": "2016-09-07T08:41:57Z",
    "url": "https://github.com/sagemath/sage/issues/20218",
    "user": "https://github.com/embray"
}
```
New tarball: https://pypi.python.org/packages/26/34/0f3a5efac31f27fabce64645f8c609de9d925fe2915304d1a40f544cff0e/appnope-0.1.0.tar.gz

---

Work has already been done--for example in #19187--on using `pip` for `sage -i` where appropriate.  However, a normal build of sage does not use `pip` for installing any Python spkgs; rather, they run `python setup.py install` which until recently has always been *the* way to install Python packages.

I can suggest several reasons why `pip` should be used instead of this method.  To be clear--as many people think of `pip` as a tool for installing packages from the internet--this is not strictly the case.  `pip` can be used to install an already downloaded tarball, or even straight from a source tree unpacked from a tarball or checked out from VCS.  The typical way to do this is to change directories to the directory containing the `setup.py` script and running `pip install .`.  This still ultimately calls `setup.py install`, among other `setup.py` commands, but with the right incantations to perform a pip-style flat install.  Now, why is this preferable?

1. Future-compatibility.  One of the goals that the Python packaging community has been working toward over the past several years has been to decouple Python package installation from build system.  Traditionally `setup.py` provided both a build program and an installation program.  At best it will still stick around as a build program, but its use for installation is being discouraged.  There is now finally a PEP (http://legacy.python.org/dev/peps/pep-0516/), still very much in draft state, specifically concerning this decoupling.  Under this new regime `pip` will not likely be the *only* software for installing Python packages, but the assumption can no longer be that there is a `setup.py` script at all.

2. `pip` avoids using `easy_install`.  `easy_install` is an older installation program for Python packages that was bundled with setuptools--when a Python project uses setuptools in its `setup.py`, the `setup.py install` command invokes `easy_install` *by default*.  The behavior of `easy_install` is to install the package as an egg archive/directory.  `easy_install` has several disadvantages, of which this is just one, but there are a couple reasons that this alone is a problem:


   a. Every .egg requires a `sys.path` entry, hence difficult to debug paths that look like this:

```python
>>> pprint(sys.path)
['',
 '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/setuptools-18.1-py2.7.egg',
 '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/Cython-0.23.3-py2.7-linux-x86_64.egg',
 '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/MarkupSafe-0.23-py2.7-linux-x86_64.egg',
 '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/Jinja2-2.7.3-py2.7.egg',
 '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/six-1.10.0-py2.7.egg',
 '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/Pygments-2.0.2-py2.7.egg',
 '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/Sphinx-1.2.2-py2.7.egg',
 '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/zope.interface-4.1.3-py2.7-linux-x86_64.egg',
 '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/Twisted-15.5.0-py2.7-linux-x86_64.egg',
 '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/pytz-2013b0-py2.7.egg',
 '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/Babel-2.1.1-py2.7.egg',
 '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/Werkzeug-0.11.2-py2.7.egg',
 '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/speaklater-1.3-py2.7.egg',
 '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/python_openid-2.2.5-py2.7.egg',
 '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/itsdangerous-0.24-py2.7.egg',
 '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/Flask-0.10.1-py2.7.egg',
 '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/Flask_Silk-0.2-py2.7.egg',
 '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/Flask_AutoIndex-0.5-py2.7.egg',
 '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/Flask_Babel-0.9-py2.7.egg',
 '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/Flask_OpenID-1.2.5-py2.7.egg',
 '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/Flask_OldSessions-0.10-py2.7.egg',
 '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/webassets-0.11.1-py2.7.egg',
 '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/sagenb-0.11.6.1-py2.7.egg',
 '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/backports.ssl_match_hostname-3.4.0.2-py2.7.egg',
 '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/certifi-14.5.14-py2.7.egg',
 '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/tornado-4.1-py2.7-linux-x86_64.egg',
 '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/setuptools_scm-1.7.0-py2.7.egg',
 '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/path.py-7.1-py2.7.egg',
 '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/pickleshare-0.5-py2.7.egg',
 '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/simplegeneric-0.8.1-py2.7.egg',
 '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/decorator-4.0.6-py2.7.egg',
 '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/networkx-1.10-py2.7.egg',
 '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/python_dateutil-2.2-py2.7.egg',
 '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/cycler-0.9.0-py2.7.egg',
 '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/matplotlib-1.5.0-py2.7-linux-x86_64.egg',
 '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/jsonschema-2.4.0-py2.7.egg',
 '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/mistune-0.5.1-py2.7-linux-x86_64.egg',
 '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/pip-6.1.1-py2.7.egg',
 '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/pkgconfig-1.1.0-py2.7.egg',
 '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/singledispatch-3.4.0.3-py2.7.egg',
 '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages/rpy2-2.7.5-py2.7-linux-x86_64.egg',
 '/home/iguananaut/src/sagemath/sage/local/lib/python',
 '/home/iguananaut/src/sagemath/sage/local/lib/python/site_packages',
 '/home/iguananaut/src/sagemath/sage/local/lib/python27.zip',
 '/home/iguananaut/src/sagemath/sage/local/lib/python2.7',
 '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/plat-linux2',
 '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/lib-tk',
 '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/lib-old',
 '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/lib-dynload',
 '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages']
```
     With the flat install style used by `pip`, and now more generally favored, the `sys.path`, with no eggs, would be simply:

```python
>>> pprint(sys.path)
['',
 '/home/iguananaut/src/sagemath/sage/local/lib/python',
 '/home/iguananaut/src/sagemath/sage/local/lib/python27.zip',
 '/home/iguananaut/src/sagemath/sage/local/lib/python2.7',
 '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/plat-linux2',
 '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/lib-tk',
 '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/lib-old',
 '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/lib-dynload',
 '/home/iguananaut/src/sagemath/sage/local/lib/python2.7/site-packages']
```
     which is certainly easier to read and reason about.


b. The egg import mechanism requires writing to a common file during egg installation--easy-install.pth.  This causes problems in parallel installations, requiring patches to setuptools.  The flat install style used by pip has no such problems--there is a no single common file written to by pip during installation of packages (other than maybe the log file, which is only for debugging purposes).

As I explained in [this comment](http://trac.sagemath.org/timeline?from=2016-02-25T10%3A23%3A37-08%3A00&precision=second), when a Python package is installed with `pip`, `pip` actually slips setuptools into the installation process, whether the package uses it explicitly or not.  There are reasons for this not worth going into now.  This is no problem for the vast majority of cases.  The only exception I know of is that setuptools doesn't handle the `data_files` option well when `--prefix` is changed.  As far as I can tell this is only a problem for sage itself and possibly for sagetex, but these don't even use `setuptools` in the first place, so until we have a workaround for that it does no harm if we keep using `setup.py install` for those packages, if nothing else works.

Most of the rest of the Python packages included by default in a Sage build (I haven't checked all of -optional yet) already use setuptools.  I checked the setup.py of all the rest that don't explicitly use setuptools--these include `docutils`, `mpmath`, `pexpect`, `ptyprocess`, `Pycrypto`, `pyparsing`, `pyzmq`, `scipy`, and all packages from the Jupyter team (`ip*`, `jupyter*`, `np*`, `notebook`, `traitlets`).

Most of these packages are known by me (from personal experience) to work fine with pip.  Looking at the setup.py scripts of the rest of them, most of them are fairly trivial and should work fine.

TL;DR, with the exceptions of sage and sagetex (pending work like #20108), as well as pip itself the `spkg-install` scripts for Python packages should change `setup.py install` commands to `pip install .`.  Their dependencies would also have to be updated to require pip to be installed first.

At the same time the "uninstall" commands in those scripts can be changed to use `pip uninstall`.

CC:  @jdemeyer @vbraun

Branch: **[`f6859c3`](https://github.com/sagemath/sagetrac-mirror/commit/f6859c31c0322c22d9ad2b6ab21b8e8c8948e16d)**

Upstream: **None of the above - read trac for reasoning.**

Reviewer: **Jeroen Demeyer, Volker Braun**

Author: **Erik Bray, Jeroen Demeyer**

Component: **build**

_Issue created by migration from https://trac.sagemath.org/ticket/20218_





---

archive/issue_events_285429.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-03-16T10:29:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build",
    "label_color": "000080",
    "label_name": "c: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285429"
}
```



---

archive/issue_events_285430.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-03-16T10:29:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285430"
}
```



---

archive/issue_events_285431.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-03-16T10:29:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285431"
}
```



---

archive/issue_events_285432.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-03-16T12:48:05Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "milestone_number": null,
    "milestone_title": "sage-7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285432"
}
```



---

archive/issue_events_285433.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-03-16T13:41:09Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "title_is": "Use pip to install Python dependencies",
    "title_was": "Use pip to install Python depedencies",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285433"
}
```



---

archive/issue_comments_290766.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nTo be clear, I'm working on a patch for this.",
    "created_at": "2016-03-16T14:12:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290766",
    "user": "https://github.com/embray"
}
```

<div id="comment:3" align="right">comment:3</div>

To be clear, I'm working on a patch for this.



---

archive/issue_events_285434.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-03-16T14:12:37Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "subject": "https://github.com/embray",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285434"
}
```



---

archive/issue_comments_290767.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nIIRC, there was an issue with using pip when python was not compiled with openssl, even for building wihthout downloading. I am not sure that it is still the case, but this particular case should be taken into account since openssl (libssl-dev) is not necessarily available on the system (and cannot be made standard Sage package because of some licensing issues).",
    "created_at": "2016-03-23T13:28:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290767",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:4" align="right">comment:4</div>

IIRC, there was an issue with using pip when python was not compiled with openssl, even for building wihthout downloading. I am not sure that it is still the case, but this particular case should be taken into account since openssl (libssl-dev) is not necessarily available on the system (and cannot be made standard Sage package because of some licensing issues).



---

archive/issue_comments_290768.json:
```json
{
    "body": "Author: **Erik Bray**",
    "created_at": "2016-03-23T14:36:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290768",
    "user": "https://github.com/jdemeyer"
}
```

Author: **Erik Bray**



---

archive/issue_comments_290769.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nIts exactly as Thierry says. Hopefully it won't be long until the announced switch of OpenSSL to a GPL-compatible license happens.",
    "created_at": "2016-04-15T21:24:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290769",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:6" align="right">comment:6</div>

Its exactly as Thierry says. Hopefully it won't be long until the announced switch of OpenSSL to a GPL-compatible license happens.



---

archive/issue_events_285435.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-04-20T11:47:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285435"
}
```



---

archive/issue_comments_290770.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nI've attached a branch containing the beginnings of this work. I've already put it through several rounds of testing locally including installing, reinstalling packages, uninstalling and reinstalling, etc.\n\nBut I'm interested to find out what happens in the patchbot.\n\nI haven't addressed the SSL issue yet but I will.  I wanted to start getting some test / review feedback on the main work in the meantime.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/93226961bf040faf37f080af04589c8d31d904a9\">9322696</a></td><td><code>Use pip to install most Python-based dependencies; see http://trac.sagemath.org/ticket/20218</code></td></tr></table>\n",
    "created_at": "2016-04-20T11:47:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290770",
    "user": "https://github.com/embray"
}
```

<div id="comment:7" align="right">comment:7</div>

I've attached a branch containing the beginnings of this work. I've already put it through several rounds of testing locally including installing, reinstalling packages, uninstalling and reinstalling, etc.

But I'm interested to find out what happens in the patchbot.

I haven't addressed the SSL issue yet but I will.  I wanted to start getting some test / review feedback on the main work in the meantime.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/93226961bf040faf37f080af04589c8d31d904a9">9322696</a></td><td><code>Use pip to install most Python-based dependencies; see http://trac.sagemath.org/ticket/20218</code></td></tr></table>




---

archive/issue_comments_290771.json:
```json
{
    "body": "Commit: **[`9322696`](https://github.com/sagemath/sagetrac-mirror/commit/93226961bf040faf37f080af04589c8d31d904a9)**",
    "created_at": "2016-04-20T11:47:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290771",
    "user": "https://github.com/embray"
}
```

Commit: **[`9322696`](https://github.com/sagemath/sagetrac-mirror/commit/93226961bf040faf37f080af04589c8d31d904a9)**



---

archive/issue_comments_290772.json:
```json
{
    "body": "Branch: **[u/embray/pip-install](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/pip-install)**",
    "created_at": "2016-04-20T11:47:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290772",
    "user": "https://github.com/embray"
}
```

Branch: **[u/embray/pip-install](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/pip-install)**



---

archive/issue_comments_290773.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nLooks like I need to rebase--that's what I get for starting a patch and then not getting around to finishing it until weeks later :)",
    "created_at": "2016-04-20T11:51:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290773",
    "user": "https://github.com/embray"
}
```

<div id="comment:8" align="right">comment:8</div>

Looks like I need to rebase--that's what I get for starting a patch and then not getting around to finishing it until weeks later :)



---

archive/issue_comments_290774.json:
```json
{
    "body": "Changed commit from **[`9322696`](https://github.com/sagemath/sagetrac-mirror/commit/93226961bf040faf37f080af04589c8d31d904a9)** to **[`7447ef2`](https://github.com/sagemath/sagetrac-mirror/commit/7447ef236941c521fb730b0baa1a760d7d4aa15d)**",
    "created_at": "2016-04-20T11:55:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290774",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9322696`](https://github.com/sagemath/sagetrac-mirror/commit/93226961bf040faf37f080af04589c8d31d904a9)** to **[`7447ef2`](https://github.com/sagemath/sagetrac-mirror/commit/7447ef236941c521fb730b0baa1a760d7d4aa15d)**



---

archive/issue_comments_290775.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7447ef236941c521fb730b0baa1a760d7d4aa15d\">7447ef2</a></td><td><code>Use pip to install most Python-based dependencies; see http://trac.sagemath.org/ticket/20218</code></td></tr></table>\n",
    "created_at": "2016-04-20T11:55:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290775",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7447ef236941c521fb730b0baa1a760d7d4aa15d">7447ef2</a></td><td><code>Use pip to install most Python-based dependencies; see http://trac.sagemath.org/ticket/20218</code></td></tr></table>




---

archive/issue_comments_290776.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nThis isn't correct:\n\n```\nSage's Python unconditionally removes . from sys.path\nwhich can break several packages' installation\n```\n\nSage's Python only removes `.` from `sys.path` if having `.` in `sys.path` might be insecure. If packages break because of this, those packages should be fixed instead of working around the security check.",
    "created_at": "2016-04-20T12:35:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290776",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:10" align="right">comment:10</div>

This isn't correct:

```
Sage's Python unconditionally removes . from sys.path
which can break several packages' installation
```

Sage's Python only removes `.` from `sys.path` if having `.` in `sys.path` might be insecure. If packages break because of this, those packages should be fixed instead of working around the security check.



---

archive/issue_comments_290777.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nIn case you think that this whole security-thing is exaggerated: I can take over the Unix account of anybody who runs the Python test-suite on a computer where I have an account. When I reported this bug to Python, they didn't really care. When I reported this to IPython (which had a similar bug), they fixed their test-suite.",
    "created_at": "2016-04-20T12:38:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290777",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:11" align="right">comment:11</div>

In case you think that this whole security-thing is exaggerated: I can take over the Unix account of anybody who runs the Python test-suite on a computer where I have an account. When I reported this bug to Python, they didn't really care. When I reported this to IPython (which had a similar bug), they fixed their test-suite.



---

archive/issue_comments_290778.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nAs someone who has actually surreptitiously taken over Unix accounts, I'm not too impressed by that particular issue. But that's beside the point--I'm not arguing with that right now.\n\nI'll have to more closely look at what that patch does, but I'll change that comment to not supply inaccurate information.  No packages are broken here though.  The reason this is needed is that pip copies files packages to a tmp dir to build them.  I'm actually surprised this hasn't come up for `sage -pip`, though it's only an issue for packages that import themselves in their `setup.py` so maybe it just coincidentally hasn't come up.",
    "created_at": "2016-04-20T13:30:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290778",
    "user": "https://github.com/embray"
}
```

<div id="comment:12" align="right">comment:12</div>

As someone who has actually surreptitiously taken over Unix accounts, I'm not too impressed by that particular issue. But that's beside the point--I'm not arguing with that right now.

I'll have to more closely look at what that patch does, but I'll change that comment to not supply inaccurate information.  No packages are broken here though.  The reason this is needed is that pip copies files packages to a tmp dir to build them.  I'm actually surprised this hasn't come up for `sage -pip`, though it's only an issue for packages that import themselves in their `setup.py` so maybe it just coincidentally hasn't come up.



---

archive/issue_comments_290779.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@embray](#comment:12):\n> The reason this is needed is that pip copies files packages to a tmp dir to build them.\n\nIt doesn't hurt if it's in a private directory inside `/tmp`, say `/tmp/my-pip-directory` where `/tmp/my-pip-directory` has reasonable permissions. So I don't fully understand the problem.",
    "created_at": "2016-04-20T13:34:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290779",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@embray](#comment:12):
> The reason this is needed is that pip copies files packages to a tmp dir to build them.

It doesn't hurt if it's in a private directory inside `/tmp`, say `/tmp/my-pip-directory` where `/tmp/my-pip-directory` has reasonable permissions. So I don't fully understand the problem.



---

archive/issue_comments_290780.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nIndeed it should be doing that.  It's not like it's putting the package directly under `/tmp`.  It belongs to me and my user-specific group.  So I'm not sure why there would be a problem and yet I am getting the warning about '.' being removed from `sys.path` and the import subsequently fails.",
    "created_at": "2016-04-21T10:55:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290780",
    "user": "https://github.com/embray"
}
```

<div id="comment:14" align="right">comment:14</div>

Indeed it should be doing that.  It's not like it's putting the package directly under `/tmp`.  It belongs to me and my user-specific group.  So I'm not sure why there would be a problem and yet I am getting the warning about '.' being removed from `sys.path` and the import subsequently fails.



---

archive/issue_comments_290781.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@embray](#comment:14):\n> Indeed it should be doing that.  It's not like it's putting the package directly under `/tmp`.  It belongs to me and my user-specific group.  So I'm not sure why there would be a problem and yet I am getting the warning about '.' being removed from `sys.path` and the import subsequently fails.\n\nWhat is the *exact* warning message?",
    "created_at": "2016-04-21T11:04:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290781",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@embray](#comment:14):
> Indeed it should be doing that.  It's not like it's putting the package directly under `/tmp`.  It belongs to me and my user-specific group.  So I'm not sure why there would be a problem and yet I am getting the warning about '.' being removed from `sys.path` and the import subsequently fails.

What is the *exact* warning message?



---

archive/issue_comments_290782.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nNevermind--I traced this to a bug in pip, combined with a possible minor defect in `sage-uncompress-spkg` (or Python's `tarfile` module depending on your perspective), along with strange packaging for pyparsing, which is the package where this came up originally.\n\n1) It's true that pip creates a temp dir (under `/tmp`, typically) in which to build a package.  This directory is created with `mkdtemp` and normally has safe permissions on it.  However, when installing a package from a source directory (a la `pip install .`), pip then deletes that temp directory, and copies the source directory using `shutil.copytree` to the same path as the just-deleted temp dir.  There are a couple problems with this:\n a) Deleting and recreating the temp dir of the same name involves a possible race condition.\n b) More importantly, while `mkdtemp` will create a directory with safe permissions, `shutil.copytree` copies the original permissions of the source files, which may be arbitrary.  Instead, pip should be copying the *contents* of the source directory *into* the directory created with `mkdtemp`.\n\n2) `sage-uncompress-spkg` just calls `TarFile.extractall()` which preserves the original permissions of all files/directories in the tar file, and doesn't provide a clear way to enable or disable this.  This is different from the GNU `tar` command which by default (for normal users) applies the user's umask to all extracted files, which is generally safer depending on the user's umask.  It would probably be best if `sage-uncompress-spkg` did this as well.\n\n3) The top-level directory in pyparsing's source package has permissions set to 777.  Of all the upstream source tarballs I have pyparsing is the *only* one like this.  All the rest have 775 or 755.  \n\nResult: pyparsing's source is extracted with permissions 777 and is then copied into a directory in `/tmp` with unrestricted access, from which pip installs it.  My previous comments aside these are all bad and all three should be addressed.",
    "created_at": "2016-04-21T13:44:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290782",
    "user": "https://github.com/embray"
}
```

<div id="comment:16" align="right">comment:16</div>

Nevermind--I traced this to a bug in pip, combined with a possible minor defect in `sage-uncompress-spkg` (or Python's `tarfile` module depending on your perspective), along with strange packaging for pyparsing, which is the package where this came up originally.

1) It's true that pip creates a temp dir (under `/tmp`, typically) in which to build a package.  This directory is created with `mkdtemp` and normally has safe permissions on it.  However, when installing a package from a source directory (a la `pip install .`), pip then deletes that temp directory, and copies the source directory using `shutil.copytree` to the same path as the just-deleted temp dir.  There are a couple problems with this:
 a) Deleting and recreating the temp dir of the same name involves a possible race condition.
 b) More importantly, while `mkdtemp` will create a directory with safe permissions, `shutil.copytree` copies the original permissions of the source files, which may be arbitrary.  Instead, pip should be copying the *contents* of the source directory *into* the directory created with `mkdtemp`.

2) `sage-uncompress-spkg` just calls `TarFile.extractall()` which preserves the original permissions of all files/directories in the tar file, and doesn't provide a clear way to enable or disable this.  This is different from the GNU `tar` command which by default (for normal users) applies the user's umask to all extracted files, which is generally safer depending on the user's umask.  It would probably be best if `sage-uncompress-spkg` did this as well.

3) The top-level directory in pyparsing's source package has permissions set to 777.  Of all the upstream source tarballs I have pyparsing is the *only* one like this.  All the rest have 775 or 755.  

Result: pyparsing's source is extracted with permissions 777 and is then copied into a directory in `/tmp` with unrestricted access, from which pip installs it.  My previous comments aside these are all bad and all three should be addressed.



---

archive/issue_comments_290783.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\n4) `python setup.py sdist` doesn't actually try to *create* a tarball with sane permissions in the first place.",
    "created_at": "2016-04-21T14:58:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290783",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:17" align="right">comment:17</div>

4) `python setup.py sdist` doesn't actually try to *create* a tarball with sane permissions in the first place.



---

archive/issue_comments_290784.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\n> python setup.py sdist doesn't actually try to create a tarball with sane permissions in the first place.\n\nAgreed.... is what I was about to write. But I tested it and `./setup.py sdist` does actually use sane permissions.  So either the maintainer of pyparsing is not using `./setup.py sdist` or is using a buggy version of Python or something.",
    "created_at": "2016-04-21T15:04:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290784",
    "user": "https://github.com/embray"
}
```

<div id="comment:18" align="right">comment:18</div>

> python setup.py sdist doesn't actually try to create a tarball with sane permissions in the first place.

Agreed.... is what I was about to write. But I tested it and `./setup.py sdist` does actually use sane permissions.  So either the maintainer of pyparsing is not using `./setup.py sdist` or is using a buggy version of Python or something.



---

archive/issue_comments_290785.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nSee #20481 for an attempt to address point 2 above, as it was the lowest-hanging fruit I think.  The issue in pip will be easy to fix too but will have to get it accepted upstream, etc, etc.",
    "created_at": "2016-04-21T15:06:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290785",
    "user": "https://github.com/embray"
}
```

<div id="comment:19" align="right">comment:19</div>

See #20481 for an attempt to address point 2 above, as it was the lowest-hanging fruit I think.  The issue in pip will be easy to fix too but will have to get it accepted upstream, etc, etc.



---

archive/issue_comments_290786.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@embray](#comment:18):\n> > python setup.py sdist doesn't actually try to create a tarball with sane permissions in the first place.\n\n> \n> Agreed.... is what I was about to write. But I tested it and `./setup.py sdist` does actually use sane permissions.\n\nI also tested it and `./setup.py sdist` did **not** use sane permissions.",
    "created_at": "2016-04-21T15:10:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290786",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@embray](#comment:18):
> > python setup.py sdist doesn't actually try to create a tarball with sane permissions in the first place.

> 
> Agreed.... is what I was about to write. But I tested it and `./setup.py sdist` does actually use sane permissions.

I also tested it and `./setup.py sdist` did **not** use sane permissions.



---

archive/issue_comments_290787.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nHuh. How did you test it?  I just ran `chmod 777` on the parent directory and all subdirectories, then ran `./setup.py sdist`.  The permissions in the resulting tarball at least had my umask applied:\n\n```\n$ umask -S\nu=rwx,g=rwx,o=rx\n```\nIt's the 'w' I'm mostly concerned about.  How are you defining \"sane\"?",
    "created_at": "2016-04-21T15:14:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290787",
    "user": "https://github.com/embray"
}
```

<div id="comment:21" align="right">comment:21</div>

Huh. How did you test it?  I just ran `chmod 777` on the parent directory and all subdirectories, then ran `./setup.py sdist`.  The permissions in the resulting tarball at least had my umask applied:

```
$ umask -S
u=rwx,g=rwx,o=rx
```
It's the 'w' I'm mostly concerned about.  How are you defining "sane"?



---

archive/issue_comments_290788.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nI made a project with the following files:\n\n`zzz.py`:\n\n```\nprint(\"zzz\")\n```\n\n`setup.py`:\n\n```\nfrom setuptools import setup   # setuptools or distutils does not matter\n\nsetup(\n    name=\"zzz\",\n    py_modules=[\"zzz\"],\n)\n```\n\nI changed the permissions of both these files to `0666` and then ran `python setup.py sdist`. The result:\n\n```\ndrwxr-xr-x jdemeyer/jdemeyer 0 2016-04-21 17:38 zzz-0.0.0/\ndrwxr-xr-x jdemeyer/jdemeyer 0 2016-04-21 17:38 zzz-0.0.0/zzz.egg-info/\n-rw-r--r-- jdemeyer/jdemeyer 1 2016-04-21 17:38 zzz-0.0.0/zzz.egg-info/dependency_links.txt\n-rw-r--r-- jdemeyer/jdemeyer 177 2016-04-21 17:38 zzz-0.0.0/zzz.egg-info/PKG-INFO\n-rw-r--r-- jdemeyer/jdemeyer 123 2016-04-21 17:38 zzz-0.0.0/zzz.egg-info/SOURCES.txt\n-rw-r--r-- jdemeyer/jdemeyer   4 2016-04-21 17:38 zzz-0.0.0/zzz.egg-info/top_level.txt\n-rw-r--r-- jdemeyer/jdemeyer 177 2016-04-21 17:38 zzz-0.0.0/PKG-INFO\n-rw-rw-rw- jdemeyer/jdemeyer 113 2016-04-21 17:36 zzz-0.0.0/setup.py\n-rw-r--r-- jdemeyer/jdemeyer  59 2016-04-21 17:38 zzz-0.0.0/setup.cfg\n-rw-rw-rw- jdemeyer/jdemeyer  13 2016-04-21 17:28 zzz-0.0.0/zzz.py\n```",
    "created_at": "2016-04-21T15:38:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290788",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:22" align="right">comment:22</div>

I made a project with the following files:

`zzz.py`:

```
print("zzz")
```

`setup.py`:

```
from setuptools import setup   # setuptools or distutils does not matter

setup(
    name="zzz",
    py_modules=["zzz"],
)
```

I changed the permissions of both these files to `0666` and then ran `python setup.py sdist`. The result:

```
drwxr-xr-x jdemeyer/jdemeyer 0 2016-04-21 17:38 zzz-0.0.0/
drwxr-xr-x jdemeyer/jdemeyer 0 2016-04-21 17:38 zzz-0.0.0/zzz.egg-info/
-rw-r--r-- jdemeyer/jdemeyer 1 2016-04-21 17:38 zzz-0.0.0/zzz.egg-info/dependency_links.txt
-rw-r--r-- jdemeyer/jdemeyer 177 2016-04-21 17:38 zzz-0.0.0/zzz.egg-info/PKG-INFO
-rw-r--r-- jdemeyer/jdemeyer 123 2016-04-21 17:38 zzz-0.0.0/zzz.egg-info/SOURCES.txt
-rw-r--r-- jdemeyer/jdemeyer   4 2016-04-21 17:38 zzz-0.0.0/zzz.egg-info/top_level.txt
-rw-r--r-- jdemeyer/jdemeyer 177 2016-04-21 17:38 zzz-0.0.0/PKG-INFO
-rw-rw-rw- jdemeyer/jdemeyer 113 2016-04-21 17:36 zzz-0.0.0/setup.py
-rw-r--r-- jdemeyer/jdemeyer  59 2016-04-21 17:38 zzz-0.0.0/setup.cfg
-rw-rw-rw- jdemeyer/jdemeyer  13 2016-04-21 17:28 zzz-0.0.0/zzz.py
```



---

archive/issue_comments_290789.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nMerge conflict.",
    "created_at": "2016-04-21T15:56:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290789",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:23" align="right">comment:23</div>

Merge conflict.



---

archive/issue_events_285436.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-04-21T15:56:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285436"
}
```



---

archive/issue_events_285437.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-04-21T15:56:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285437"
}
```



---

archive/issue_comments_290790.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nBut what about directories? I'm more concerned with what permissions it sets for directories than for files.",
    "created_at": "2016-04-22T13:17:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290790",
    "user": "https://github.com/embray"
}
```

<div id="comment:24" align="right">comment:24</div>

But what about directories? I'm more concerned with what permissions it sets for directories than for files.



---

archive/issue_comments_290791.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@embray](#comment:24):\n> But what about directories? I'm more concerned with what permissions it sets for directories than for files.\n\nI propose to use the `umask` for everything which is in the tarfile: files, directories, ...",
    "created_at": "2016-04-22T13:21:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290791",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@embray](#comment:24):
> But what about directories? I'm more concerned with what permissions it sets for directories than for files.

I propose to use the `umask` for everything which is in the tarfile: files, directories, ...



---

archive/issue_comments_290792.json:
```json
{
    "body": "<div id=\"comment:26\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/95dd93867b40cff33492190d08ebd22c7486dc88\">95dd938</a></td><td><code>Use pip to install most Python-based dependencies; see http://trac.sagemath.org/ticket/20218</code></td></tr></table>\n",
    "created_at": "2016-04-22T13:32:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290792",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:26"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/95dd93867b40cff33492190d08ebd22c7486dc88">95dd938</a></td><td><code>Use pip to install most Python-based dependencies; see http://trac.sagemath.org/ticket/20218</code></td></tr></table>




---

archive/issue_comments_290793.json:
```json
{
    "body": "Changed commit from **[`7447ef2`](https://github.com/sagemath/sagetrac-mirror/commit/7447ef236941c521fb730b0baa1a760d7d4aa15d)** to **[`95dd938`](https://github.com/sagemath/sagetrac-mirror/commit/95dd93867b40cff33492190d08ebd22c7486dc88)**",
    "created_at": "2016-04-22T13:32:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290793",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7447ef2`](https://github.com/sagemath/sagetrac-mirror/commit/7447ef236941c521fb730b0baa1a760d7d4aa15d)** to **[`95dd938`](https://github.com/sagemath/sagetrac-mirror/commit/95dd93867b40cff33492190d08ebd22c7486dc88)**



---

archive/issue_comments_290794.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nAlso note that #14840 added lots of new Python packages, which might be installed using `pip`.",
    "created_at": "2016-04-22T13:42:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290794",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:27" align="right">comment:27</div>

Also note that #14840 added lots of new Python packages, which might be installed using `pip`.



---

archive/issue_comments_290795.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nTypo: `insalled`",
    "created_at": "2016-04-22T13:43:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290795",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:28" align="right">comment:28</div>

Typo: `insalled`



---

archive/issue_comments_290796.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nAh, that explains why I had to rebase, and why pytz started showing up.  Thanks, I'll update those as well.",
    "created_at": "2016-04-22T13:49:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290796",
    "user": "https://github.com/embray"
}
```

<div id="comment:29" align="right">comment:29</div>

Ah, that explains why I had to rebase, and why pytz started showing up.  Thanks, I'll update those as well.



---

archive/issue_comments_290797.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nSomething else to potentially worry about: how is the upgrade path from non-pip-installed packages to pip-installed packages? What if a package was installed before using either distutils or setuptools and it's now re-installed using pip?",
    "created_at": "2016-04-22T13:50:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290797",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:30" align="right">comment:30</div>

Something else to potentially worry about: how is the upgrade path from non-pip-installed packages to pip-installed packages? What if a package was installed before using either distutils or setuptools and it's now re-installed using pip?



---

archive/issue_comments_290798.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\npip will uninstall them, *mostly*.  If a package was installed without pip, it can't uninstall and scripts or data files that were not installed directly under site-packages/package_name(.egg-info)? because there's no install log like there is with pip.\n\nThat's no worse, and slightly better than the current situation where some packages were uninstalled first, but most weren't, and of those that were only did `rm -rf site-packages/packagename`.  Some were clever enough to do `rm -rf site-packages/packagename*` but that could actually have unintended consequences.  The former case is no good either because it leaves `.egg-info` directories, making it appear to tools that know how to process those like the package is \"installed\".",
    "created_at": "2016-04-22T14:24:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290798",
    "user": "https://github.com/embray"
}
```

<div id="comment:31" align="right">comment:31</div>

pip will uninstall them, *mostly*.  If a package was installed without pip, it can't uninstall and scripts or data files that were not installed directly under site-packages/package_name(.egg-info)? because there's no install log like there is with pip.

That's no worse, and slightly better than the current situation where some packages were uninstalled first, but most weren't, and of those that were only did `rm -rf site-packages/packagename`.  Some were clever enough to do `rm -rf site-packages/packagename*` but that could actually have unintended consequences.  The former case is no good either because it leaves `.egg-info` directories, making it appear to tools that know how to process those like the package is "installed".



---

archive/issue_comments_290799.json:
```json
{
    "body": "<div id=\"comment:32\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d2d0d740f933468ba4d6cbfaba1488f3423d5679\">d2d0d74</a></td><td><code>Ignore directory permissions when extracting tarballs.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4fe154afb48510d212407e5a6c6b560fb91076a5\">4fe154a</a></td><td><code>Modified the custom TarFile to simply apply the user's umask to all files and directories, regardless what it may be--consistent with the default behavior of 'tar'.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1c30cbe51dd8ec2812198d34b914809b400b2efb\">1c30cbe</a></td><td><code>Use pip to install most Python-based dependencies; see http://trac.sagemath.org/ticket/20218</code></td></tr></table>\n",
    "created_at": "2016-04-27T14:18:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290799",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:32"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d2d0d740f933468ba4d6cbfaba1488f3423d5679">d2d0d74</a></td><td><code>Ignore directory permissions when extracting tarballs.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4fe154afb48510d212407e5a6c6b560fb91076a5">4fe154a</a></td><td><code>Modified the custom TarFile to simply apply the user's umask to all files and directories, regardless what it may be--consistent with the default behavior of 'tar'.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1c30cbe51dd8ec2812198d34b914809b400b2efb">1c30cbe</a></td><td><code>Use pip to install most Python-based dependencies; see http://trac.sagemath.org/ticket/20218</code></td></tr></table>




---

archive/issue_comments_290800.json:
```json
{
    "body": "Changed commit from **[`95dd938`](https://github.com/sagemath/sagetrac-mirror/commit/95dd93867b40cff33492190d08ebd22c7486dc88)** to **[`1c30cbe`](https://github.com/sagemath/sagetrac-mirror/commit/1c30cbe51dd8ec2812198d34b914809b400b2efb)**",
    "created_at": "2016-04-27T14:18:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290800",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`95dd938`](https://github.com/sagemath/sagetrac-mirror/commit/95dd93867b40cff33492190d08ebd22c7486dc88)** to **[`1c30cbe`](https://github.com/sagemath/sagetrac-mirror/commit/1c30cbe51dd8ec2812198d34b914809b400b2efb)**



---

archive/issue_comments_290801.json:
```json
{
    "body": "Dependencies: **#20481**",
    "created_at": "2016-04-27T14:20:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290801",
    "user": "https://github.com/embray"
}
```

Dependencies: **#20481**



---

archive/issue_comments_290802.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nRebased to include latest from `develop`, and to include #20481.  This allowed me to remove the `env PYTHONPATH=.` from all `pip` calls.  The only package that currently was affected by this issue was pyparsing, and #20481 effectively works around it.  There is a larger problem with pip that should be addressed, but it is no longer an immediate blocker for this issue.",
    "created_at": "2016-04-27T14:20:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290802",
    "user": "https://github.com/embray"
}
```

<div id="comment:33" align="right">comment:33</div>

Rebased to include latest from `develop`, and to include #20481.  This allowed me to remove the `env PYTHONPATH=.` from all `pip` calls.  The only package that currently was affected by this issue was pyparsing, and #20481 effectively works around it.  There is a larger problem with pip that should be addressed, but it is no longer an immediate blocker for this issue.



---

archive/issue_comments_290803.json:
```json
{
    "body": "Upstream: **Not yet reported upstream; Will do shortly.**",
    "created_at": "2016-04-27T14:20:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290803",
    "user": "https://github.com/embray"
}
```

Upstream: **Not yet reported upstream; Will do shortly.**



---

archive/issue_comments_290804.json:
```json
{
    "body": "<div id=\"comment:34\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/31b0f5f7a6803c8545b73251d3515adda9531827\">31b0f5f</a></td><td><code>This is no longer needed.</code></td></tr></table>\n",
    "created_at": "2016-04-27T14:22:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290804",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:34"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/31b0f5f7a6803c8545b73251d3515adda9531827">31b0f5f</a></td><td><code>This is no longer needed.</code></td></tr></table>




---

archive/issue_comments_290805.json:
```json
{
    "body": "Changed commit from **[`1c30cbe`](https://github.com/sagemath/sagetrac-mirror/commit/1c30cbe51dd8ec2812198d34b914809b400b2efb)** to **[`31b0f5f`](https://github.com/sagemath/sagetrac-mirror/commit/31b0f5f7a6803c8545b73251d3515adda9531827)**",
    "created_at": "2016-04-27T14:22:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290805",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1c30cbe`](https://github.com/sagemath/sagetrac-mirror/commit/1c30cbe51dd8ec2812198d34b914809b400b2efb)** to **[`31b0f5f`](https://github.com/sagemath/sagetrac-mirror/commit/31b0f5f7a6803c8545b73251d3515adda9531827)**



---

archive/issue_comments_290806.json:
```json
{
    "body": "<div id=\"comment:35\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f3b3cdf0a4dddfc5beed1de6e15d19167c86dd01\">f3b3cdf</a></td><td><code>Adds a new sage-apply-patches script.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ba037a82a2740b805f4fba54922923c562f1732e\">ba037a8</a></td><td><code>Fix accidental duplication of patch_subdir.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b17fb08f0dad3b74724851aa17e083e48e7832b6\">b17fb08</a></td><td><code>Forgot to change this to loop over the full list when I made $patches into a list.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cedf80a1e5b6923a47312636c107b620bb18a09e\">cedf80a</a></td><td><code>Mathjax doesn't have a source directory to cd into, so uses a different default patch path from most packages.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2ce575e5d8e658c1ab4c5ef1e16b96fe54902479\">2ce575e</a></td><td><code>None of these packages currently have patches to apply.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/29bd19903b16289c178e9468194318e5d1017dad\">29bd199</a></td><td><code>Add license notice.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dff74e54935912f470399344aabc78b1b9b2671b\">dff74e5</a></td><td><code>Use pip to install most Python-based dependencies; see http://trac.sagemath.org/ticket/20218</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/07accc7cc7e5555d58bc269dcf4549d022587169\">07accc7</a></td><td><code>This is no longer needed.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/60dfae1b8caf6ff2c300afb8a56068cc3b6c1ea3\">60dfae1</a></td><td><code>Adds patch to pip to allow it to be used without SSL support from Python</code></td></tr></table>\n",
    "created_at": "2016-05-27T11:52:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290806",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:35"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f3b3cdf0a4dddfc5beed1de6e15d19167c86dd01">f3b3cdf</a></td><td><code>Adds a new sage-apply-patches script.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ba037a82a2740b805f4fba54922923c562f1732e">ba037a8</a></td><td><code>Fix accidental duplication of patch_subdir.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b17fb08f0dad3b74724851aa17e083e48e7832b6">b17fb08</a></td><td><code>Forgot to change this to loop over the full list when I made $patches into a list.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cedf80a1e5b6923a47312636c107b620bb18a09e">cedf80a</a></td><td><code>Mathjax doesn't have a source directory to cd into, so uses a different default patch path from most packages.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2ce575e5d8e658c1ab4c5ef1e16b96fe54902479">2ce575e</a></td><td><code>None of these packages currently have patches to apply.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/29bd19903b16289c178e9468194318e5d1017dad">29bd199</a></td><td><code>Add license notice.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dff74e54935912f470399344aabc78b1b9b2671b">dff74e5</a></td><td><code>Use pip to install most Python-based dependencies; see http://trac.sagemath.org/ticket/20218</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/07accc7cc7e5555d58bc269dcf4549d022587169">07accc7</a></td><td><code>This is no longer needed.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/60dfae1b8caf6ff2c300afb8a56068cc3b6c1ea3">60dfae1</a></td><td><code>Adds patch to pip to allow it to be used without SSL support from Python</code></td></tr></table>




---

archive/issue_comments_290807.json:
```json
{
    "body": "Changed commit from **[`31b0f5f`](https://github.com/sagemath/sagetrac-mirror/commit/31b0f5f7a6803c8545b73251d3515adda9531827)** to **[`60dfae1`](https://github.com/sagemath/sagetrac-mirror/commit/60dfae1b8caf6ff2c300afb8a56068cc3b6c1ea3)**",
    "created_at": "2016-05-27T11:52:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290807",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`31b0f5f`](https://github.com/sagemath/sagetrac-mirror/commit/31b0f5f7a6803c8545b73251d3515adda9531827)** to **[`60dfae1`](https://github.com/sagemath/sagetrac-mirror/commit/60dfae1b8caf6ff2c300afb8a56068cc3b6c1ea3)**



---

archive/issue_comments_290808.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nI rebased this on top of my branch for #20692 (which itself is based on a recent version of develop) so that I could use it in applying a new patch to pip.  Other than that the dependency is loose, and can be extracted if #20692 is rejected for some reason or requires significant more work.\n\nI have also applied the necessary patch to `pip` so that it no longer requires SSL to work (at least for installing local packages).",
    "created_at": "2016-05-27T12:01:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290808",
    "user": "https://github.com/embray"
}
```

<div id="comment:36" align="right">comment:36</div>

I rebased this on top of my branch for #20692 (which itself is based on a recent version of develop) so that I could use it in applying a new patch to pip.  Other than that the dependency is loose, and can be extracted if #20692 is rejected for some reason or requires significant more work.

I have also applied the necessary patch to `pip` so that it no longer requires SSL to work (at least for installing local packages).



---

archive/issue_comments_290809.json:
```json
{
    "body": "Changed dependencies from **#20481** to **#20481 #20692**",
    "created_at": "2016-05-27T12:01:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290809",
    "user": "https://github.com/embray"
}
```

Changed dependencies from **#20481** to **#20481 #20692**



---

archive/issue_events_285438.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-05-27T12:01:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285438"
}
```



---

archive/issue_events_285439.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-05-27T12:01:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285439"
}
```



---

archive/issue_comments_290810.json:
```json
{
    "body": "<div id=\"comment:37\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2fe1d357600e60d3422141ba5a7fb16efb3a691b\">2fe1d35</a></td><td><code>Update some packages that were added since the start of this branch to use pip.</code></td></tr></table>\n",
    "created_at": "2016-05-27T12:12:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290810",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:37"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2fe1d357600e60d3422141ba5a7fb16efb3a691b">2fe1d35</a></td><td><code>Update some packages that were added since the start of this branch to use pip.</code></td></tr></table>




---

archive/issue_comments_290811.json:
```json
{
    "body": "Changed commit from **[`60dfae1`](https://github.com/sagemath/sagetrac-mirror/commit/60dfae1b8caf6ff2c300afb8a56068cc3b6c1ea3)** to **[`2fe1d35`](https://github.com/sagemath/sagetrac-mirror/commit/2fe1d357600e60d3422141ba5a7fb16efb3a691b)**",
    "created_at": "2016-05-27T12:12:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290811",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`60dfae1`](https://github.com/sagemath/sagetrac-mirror/commit/60dfae1b8caf6ff2c300afb8a56068cc3b6c1ea3)** to **[`2fe1d35`](https://github.com/sagemath/sagetrac-mirror/commit/2fe1d357600e60d3422141ba5a7fb16efb3a691b)**



---

archive/issue_comments_290812.json:
```json
{
    "body": "Changed upstream from **Not yet reported upstream; Will do shortly.** to **Fixed upstream, in a later stable release.**",
    "created_at": "2016-05-27T13:41:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290812",
    "user": "https://github.com/vbraun"
}
```

Changed upstream from **Not yet reported upstream; Will do shortly.** to **Fixed upstream, in a later stable release.**



---

archive/issue_comments_290813.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nThe SSL issue was already known upstream before I made this ticket.  However, there is a different issue with pip that I described [here](https://github.com/sagemath/sage/issues/20218#comment:16) and that should still be reported upstream.  I haven't gotten around to it yet, but I will.",
    "created_at": "2016-05-27T14:06:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290813",
    "user": "https://github.com/embray"
}
```

<div id="comment:39" align="right">comment:39</div>

The SSL issue was already known upstream before I made this ticket.  However, there is a different issue with pip that I described [here](https://github.com/sagemath/sage/issues/20218#comment:16) and that should still be reported upstream.  I haven't gotten around to it yet, but I will.



---

archive/issue_comments_290814.json:
```json
{
    "body": "Changed upstream from **Fixed upstream, in a later stable release.** to **None of the above - read trac for reasoning.**",
    "created_at": "2016-05-27T14:06:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290814",
    "user": "https://github.com/embray"
}
```

Changed upstream from **Fixed upstream, in a later stable release.** to **None of the above - read trac for reasoning.**



---

archive/issue_comments_290815.json:
```json
{
    "body": "Changed dependencies from **#20481 #20692** to **#20692**",
    "created_at": "2016-05-27T15:28:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290815",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#20481 #20692** to **#20692**



---

archive/issue_events_285440.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-05-27T15:28:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285440"
}
```



---

archive/issue_events_285441.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-05-27T15:28:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285441"
}
```



---

archive/issue_comments_290816.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nYou need to increase the patchlevel of `pip`, otherwise the patch will not be applied.",
    "created_at": "2016-05-27T15:28:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290816",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:40" align="right">comment:40</div>

You need to increase the patchlevel of `pip`, otherwise the patch will not be applied.



---

archive/issue_comments_290817.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nThis branch does a lot of stuff. It's not a disaster, but I would have preferred to see this as 3 tickets:\n1. Add the SSL patch to `pip`.\n2. Use `pip install` to install Python packages.\n3. Add `dependencies` to optional packages without dependency files.",
    "created_at": "2016-05-27T15:30:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290817",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:41" align="right">comment:41</div>

This branch does a lot of stuff. It's not a disaster, but I would have preferred to see this as 3 tickets:
1. Add the SSL patch to `pip`.
2. Use `pip install` to install Python packages.
3. Add `dependencies` to optional packages without dependency files.



---

archive/issue_comments_290818.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nReplying to [@jdemeyer](#comment:41):\n> This branch does a lot of stuff. It's not a disaster, but I would have preferred to see this as 3 tickets:\n> 1. Add the SSL patch to `pip`.\n> 2. Use `pip install` to install Python packages.\n> 3. Add `dependencies` to optional packages without dependency files.\n\nOkay, that's fair.  I can break this up.\n\nNot exactly clear how to break up 2 and 3 though.  If optional packages are going to be installed with pip, they *have* to have dependency files listing at least pip first.  But if I do that *before* making them installed with pip then they would have an unnecessary dependency on pip.\n\nUnless I made a separate ticket that only adds the dependency files with no pip, and then later adds the pip dependency as part of 2).  But that would be a little more annoying.",
    "created_at": "2016-05-27T16:11:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290818",
    "user": "https://github.com/embray"
}
```

<div id="comment:42" align="right">comment:42</div>

Replying to [@jdemeyer](#comment:41):
> This branch does a lot of stuff. It's not a disaster, but I would have preferred to see this as 3 tickets:
> 1. Add the SSL patch to `pip`.
> 2. Use `pip install` to install Python packages.
> 3. Add `dependencies` to optional packages without dependency files.

Okay, that's fair.  I can break this up.

Not exactly clear how to break up 2 and 3 though.  If optional packages are going to be installed with pip, they *have* to have dependency files listing at least pip first.  But if I do that *before* making them installed with pip then they would have an unnecessary dependency on pip.

Unless I made a separate ticket that only adds the dependency files with no pip, and then later adds the pip dependency as part of 2).  But that would be a little more annoying.



---

archive/issue_comments_290819.json:
```json
{
    "body": "Changed commit from **[`2fe1d35`](https://github.com/sagemath/sagetrac-mirror/commit/2fe1d357600e60d3422141ba5a7fb16efb3a691b)** to **[`a30f722`](https://github.com/sagemath/sagetrac-mirror/commit/a30f722df2a57f741222cb78b8f0f1086e7aa1e7)**",
    "created_at": "2016-05-27T16:22:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290819",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2fe1d35`](https://github.com/sagemath/sagetrac-mirror/commit/2fe1d357600e60d3422141ba5a7fb16efb3a691b)** to **[`a30f722`](https://github.com/sagemath/sagetrac-mirror/commit/a30f722df2a57f741222cb78b8f0f1086e7aa1e7)**



---

archive/issue_comments_290820.json:
```json
{
    "body": "<div id=\"comment:43\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e3ddedd985a512d4dcc0ce61f76f04bd5603e077\">e3ddedd</a></td><td><code>Some of the packages changed to use pip in 2fe1d357600e60d3422141ba5a7fb16efb3a691b needed pip added to their build deps.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a30f722df2a57f741222cb78b8f0f1086e7aa1e7\">a30f722</a></td><td><code>Bump pip package patch level</code></td></tr></table>\n",
    "created_at": "2016-05-27T16:22:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290820",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:43"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e3ddedd985a512d4dcc0ce61f76f04bd5603e077">e3ddedd</a></td><td><code>Some of the packages changed to use pip in 2fe1d357600e60d3422141ba5a7fb16efb3a691b needed pip added to their build deps.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a30f722df2a57f741222cb78b8f0f1086e7aa1e7">a30f722</a></td><td><code>Bump pip package patch level</code></td></tr></table>




---

archive/issue_comments_290821.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nOver at #20739, people are suggesting to use `--no-binary :all:`. I don't understand why, but maybe you do...",
    "created_at": "2016-06-01T20:12:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290821",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:44" align="right">comment:44</div>

Over at #20739, people are suggesting to use `--no-binary :all:`. I don't understand why, but maybe you do...



---

archive/issue_comments_290822.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nThat shouldn't be relevant here since this has nothing to do with installing packages from PyPI (or any other PyPI-like Python package index).  That's an instruction for controlling what type of package to download if there are multiple options.",
    "created_at": "2016-06-02T09:14:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290822",
    "user": "https://github.com/embray"
}
```

<div id="comment:45" align="right">comment:45</div>

That shouldn't be relevant here since this has nothing to do with installing packages from PyPI (or any other PyPI-like Python package index).  That's an instruction for controlling what type of package to download if there are multiple options.



---

archive/issue_comments_290823.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nRight, makes sense.",
    "created_at": "2016-06-02T09:40:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290823",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:46" align="right">comment:46</div>

Right, makes sense.



---

archive/issue_comments_290824.json:
```json
{
    "body": "Changed commit from **[`a30f722`](https://github.com/sagemath/sagetrac-mirror/commit/a30f722df2a57f741222cb78b8f0f1086e7aa1e7)** to **[`7082445`](https://github.com/sagemath/sagetrac-mirror/commit/708244570a2053395a1213acc862022e61e8f25a)**",
    "created_at": "2016-06-30T16:07:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290824",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a30f722`](https://github.com/sagemath/sagetrac-mirror/commit/a30f722df2a57f741222cb78b8f0f1086e7aa1e7)** to **[`7082445`](https://github.com/sagemath/sagetrac-mirror/commit/708244570a2053395a1213acc862022e61e8f25a)**



---

archive/issue_comments_290825.json:
```json
{
    "body": "<div id=\"comment:47\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2fd9cf674511704d4728edcc66edd31432955d1e\">2fd9cf6</a></td><td><code>Use pip to install most Python-based dependencies; see http://trac.sagemath.org/ticket/20218</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/985790a1453f90d4aefec0f3141b0482fa6753a4\">985790a</a></td><td><code>This is no longer needed.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0a55518ae28e58ac435d8e915907354384e70fb6\">0a55518</a></td><td><code>Update some packages that were added since the start of this branch to use pip.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/708244570a2053395a1213acc862022e61e8f25a\">7082445</a></td><td><code>Some of the packages changed to use pip in 2fe1d357600e60d3422141ba5a7fb16efb3a691b needed pip added to their build deps.</code></td></tr></table>\n",
    "created_at": "2016-06-30T16:07:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290825",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:47"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2fd9cf674511704d4728edcc66edd31432955d1e">2fd9cf6</a></td><td><code>Use pip to install most Python-based dependencies; see http://trac.sagemath.org/ticket/20218</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/985790a1453f90d4aefec0f3141b0482fa6753a4">985790a</a></td><td><code>This is no longer needed.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0a55518ae28e58ac435d8e915907354384e70fb6">0a55518</a></td><td><code>Update some packages that were added since the start of this branch to use pip.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/708244570a2053395a1213acc862022e61e8f25a">7082445</a></td><td><code>Some of the packages changed to use pip in 2fe1d357600e60d3422141ba5a7fb16efb3a691b needed pip added to their build deps.</code></td></tr></table>




---

archive/issue_events_285442.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-06-30T16:09:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285442"
}
```



---

archive/issue_events_285443.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-06-30T16:09:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285443"
}
```



---

archive/issue_comments_290826.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nRebased, and simplified to no longer depend on #20692, and also removed the patch to pip for SSL, which has been broken out to #20913.\n\nThis doesn't have a strict dependence on #20913, but #20913 should still be merged first since otherwise this patch will break the sage build on platforms with no OpenSSL support.",
    "created_at": "2016-06-30T16:09:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290826",
    "user": "https://github.com/embray"
}
```

<div id="comment:48" align="right">comment:48</div>

Rebased, and simplified to no longer depend on #20692, and also removed the patch to pip for SSL, which has been broken out to #20913.

This doesn't have a strict dependence on #20913, but #20913 should still be merged first since otherwise this patch will break the sage build on platforms with no OpenSSL support.



---

archive/issue_comments_290827.json:
```json
{
    "body": "Changed dependencies from **#20692** to **#20913**",
    "created_at": "2016-06-30T16:09:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290827",
    "user": "https://github.com/embray"
}
```

Changed dependencies from **#20692** to **#20913**



---

archive/issue_comments_290828.json:
```json
{
    "body": "<div id=\"comment:49\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/756d94a34ebfdc307c0a8f12ef3121236a69d323\">756d94a</a></td><td><code>Use pip to install most Python-based dependencies; see http://trac.sagemath.org/ticket/20218</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/70135d481f15ead7804b135220b620bf5730109c\">70135d4</a></td><td><code>This is no longer needed.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bd0e2ca16725ac2c5da4c3c36266f1418262e65d\">bd0e2ca</a></td><td><code>Update some packages that were added since the start of this branch to use pip.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f028f6fcd96f74b9836a2a88558386d4eaa3cbb9\">f028f6f</a></td><td><code>Some of the packages changed to use pip in 2fe1d357600e60d3422141ba5a7fb16efb3a691b needed pip added to their build deps.</code></td></tr></table>\n",
    "created_at": "2016-07-12T08:07:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290828",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:49"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/756d94a34ebfdc307c0a8f12ef3121236a69d323">756d94a</a></td><td><code>Use pip to install most Python-based dependencies; see http://trac.sagemath.org/ticket/20218</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/70135d481f15ead7804b135220b620bf5730109c">70135d4</a></td><td><code>This is no longer needed.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bd0e2ca16725ac2c5da4c3c36266f1418262e65d">bd0e2ca</a></td><td><code>Update some packages that were added since the start of this branch to use pip.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f028f6fcd96f74b9836a2a88558386d4eaa3cbb9">f028f6f</a></td><td><code>Some of the packages changed to use pip in 2fe1d357600e60d3422141ba5a7fb16efb3a691b needed pip added to their build deps.</code></td></tr></table>




---

archive/issue_comments_290829.json:
```json
{
    "body": "Changed commit from **[`7082445`](https://github.com/sagemath/sagetrac-mirror/commit/708244570a2053395a1213acc862022e61e8f25a)** to **[`f028f6f`](https://github.com/sagemath/sagetrac-mirror/commit/f028f6fcd96f74b9836a2a88558386d4eaa3cbb9)**",
    "created_at": "2016-07-12T08:07:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290829",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7082445`](https://github.com/sagemath/sagetrac-mirror/commit/708244570a2053395a1213acc862022e61e8f25a)** to **[`f028f6f`](https://github.com/sagemath/sagetrac-mirror/commit/f028f6fcd96f74b9836a2a88558386d4eaa3cbb9)**



---

archive/issue_comments_290830.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nRebased on recent develop branch.\n\nIt would be great to get this moving--I just a build fail on trying to install `flask_babel` (though it could have been any number of packages) because they all use setuptools, and hence running `./setup.py install` makes them use `easy_install` by default and check online for the package's dependencies even though it shouldn't have to.\n\nThis patch ensures that Python packages are installed without dependency on PyPI.",
    "created_at": "2016-07-12T08:09:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290830",
    "user": "https://github.com/embray"
}
```

<div id="comment:50" align="right">comment:50</div>

Rebased on recent develop branch.

It would be great to get this moving--I just a build fail on trying to install `flask_babel` (though it could have been any number of packages) because they all use setuptools, and hence running `./setup.py install` makes them use `easy_install` by default and check online for the package's dependencies even though it shouldn't have to.

This patch ensures that Python packages are installed without dependency on PyPI.



---

archive/issue_events_285444.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-07-15T09:12:38Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "milestone_number": null,
    "milestone_title": "sage-7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285444"
}
```



---

archive/issue_events_285445.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-07-15T09:12:38Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "milestone_number": null,
    "milestone_title": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285445"
}
```



---

archive/issue_events_285446.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-07-15T09:12:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285446"
}
```



---

archive/issue_events_285447.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-07-15T09:12:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285447"
}
```



---

archive/issue_comments_290831.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nMerge conflict.",
    "created_at": "2016-07-15T09:12:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290831",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:51" align="right">comment:51</div>

Merge conflict.



---

archive/issue_comments_290832.json:
```json
{
    "body": "Changed commit from **[`f028f6f`](https://github.com/sagemath/sagetrac-mirror/commit/f028f6fcd96f74b9836a2a88558386d4eaa3cbb9)** to **[`7880aca`](https://github.com/sagemath/sagetrac-mirror/commit/7880aca0575e38126b2e6f510c6b8202d10d768b)**",
    "created_at": "2016-07-15T09:57:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290832",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f028f6f`](https://github.com/sagemath/sagetrac-mirror/commit/f028f6fcd96f74b9836a2a88558386d4eaa3cbb9)** to **[`7880aca`](https://github.com/sagemath/sagetrac-mirror/commit/7880aca0575e38126b2e6f510c6b8202d10d768b)**



---

archive/issue_comments_290833.json:
```json
{
    "body": "<div id=\"comment:52\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/067670828f4b0ed3a87362fc4721775e9348340a\">0676708</a></td><td><code>Use pip to install most Python-based dependencies; see http://trac.sagemath.org/ticket/20218</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cadba8802746aa9c19f2ba2f80e3f7cf4915694b\">cadba88</a></td><td><code>This is no longer needed.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3e014d935a5c1c8f5aec013cec4f672ea409e70b\">3e014d9</a></td><td><code>Update some packages that were added since the start of this branch to use pip.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7880aca0575e38126b2e6f510c6b8202d10d768b\">7880aca</a></td><td><code>Some of the packages changed to use pip in 2fe1d357600e60d3422141ba5a7fb16efb3a691b needed pip added to their build deps.</code></td></tr></table>\n",
    "created_at": "2016-07-15T09:57:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290833",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:52"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/067670828f4b0ed3a87362fc4721775e9348340a">0676708</a></td><td><code>Use pip to install most Python-based dependencies; see http://trac.sagemath.org/ticket/20218</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cadba8802746aa9c19f2ba2f80e3f7cf4915694b">cadba88</a></td><td><code>This is no longer needed.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3e014d935a5c1c8f5aec013cec4f672ea409e70b">3e014d9</a></td><td><code>Update some packages that were added since the start of this branch to use pip.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7880aca0575e38126b2e6f510c6b8202d10d768b">7880aca</a></td><td><code>Some of the packages changed to use pip in 2fe1d357600e60d3422141ba5a7fb16efb3a691b needed pip added to their build deps.</code></td></tr></table>




---

archive/issue_events_285448.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-07-15T09:57:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285448"
}
```



---

archive/issue_events_285449.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-07-15T09:57:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285449"
}
```



---

archive/issue_comments_290834.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nRebased again.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/067670828f4b0ed3a87362fc4721775e9348340a\">0676708</a></td><td><code>Use pip to install most Python-based dependencies; see http://trac.sagemath.org/ticket/20218</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cadba8802746aa9c19f2ba2f80e3f7cf4915694b\">cadba88</a></td><td><code>This is no longer needed.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3e014d935a5c1c8f5aec013cec4f672ea409e70b\">3e014d9</a></td><td><code>Update some packages that were added since the start of this branch to use pip.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7880aca0575e38126b2e6f510c6b8202d10d768b\">7880aca</a></td><td><code>Some of the packages changed to use pip in 2fe1d357600e60d3422141ba5a7fb16efb3a691b needed pip added to their build deps.</code></td></tr></table>\n",
    "created_at": "2016-07-15T09:57:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290834",
    "user": "https://github.com/embray"
}
```

<div id="comment:53" align="right">comment:53</div>

Rebased again.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/067670828f4b0ed3a87362fc4721775e9348340a">0676708</a></td><td><code>Use pip to install most Python-based dependencies; see http://trac.sagemath.org/ticket/20218</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cadba8802746aa9c19f2ba2f80e3f7cf4915694b">cadba88</a></td><td><code>This is no longer needed.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3e014d935a5c1c8f5aec013cec4f672ea409e70b">3e014d9</a></td><td><code>Update some packages that were added since the start of this branch to use pip.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7880aca0575e38126b2e6f510c6b8202d10d768b">7880aca</a></td><td><code>Some of the packages changed to use pip in 2fe1d357600e60d3422141ba5a7fb16efb3a691b needed pip added to their build deps.</code></td></tr></table>




---

archive/issue_comments_290835.json:
```json
{
    "body": "Changed dependencies from **#20913** to none",
    "created_at": "2016-07-15T16:21:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290835",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#20913** to none



---

archive/issue_comments_290836.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nVolker, it would be good if you could test on the buildbot that this ticket works when building from scratch.",
    "created_at": "2016-07-15T16:23:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290836",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:55" align="right">comment:55</div>

Volker, it would be good if you could test on the buildbot that this ticket works when building from scratch.



---

archive/issue_comments_290837.json:
```json
{
    "body": "Dependencies: **#19295**",
    "created_at": "2016-07-15T16:28:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290837",
    "user": "https://github.com/jdemeyer"
}
```

Dependencies: **#19295**



---

archive/issue_events_285450.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-07-15T16:28:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285450"
}
```



---

archive/issue_events_285451.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-07-15T16:28:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285451"
}
```



---

archive/issue_comments_290838.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nSorry for the trouble again, but this conflicts with #19295. I guess you should rebase it to that ticket. Alternatively, wait for the new Sage beta release.\n\nApart from that, I see no obvious issue with this ticket. It mostly needs testing. I will try to do that in the following days.",
    "created_at": "2016-07-15T16:28:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290838",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:56" align="right">comment:56</div>

Sorry for the trouble again, but this conflicts with #19295. I guess you should rebase it to that ticket. Alternatively, wait for the new Sage beta release.

Apart from that, I see no obvious issue with this ticket. It mostly needs testing. I will try to do that in the following days.



---

archive/issue_comments_290839.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nI mean, so long as #19295 is merged I can rebase this again on develop right?",
    "created_at": "2016-07-18T09:06:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290839",
    "user": "https://github.com/embray"
}
```

<div id="comment:57" align="right">comment:57</div>

I mean, so long as #19295 is merged I can rebase this again on develop right?



---

archive/issue_comments_290840.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">comment:58</div>\n\nReplying to [@embray](#comment:57):\n> I mean, so long as #19295 is merged I can rebase this again on develop right?\n\n...when the next beta/rc release comes out which includes #19295, yes.\n\nOr you just rebase right now on the branch of #19295.",
    "created_at": "2016-07-18T15:53:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290840",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:58" align="right">comment:58</div>

Replying to [@embray](#comment:57):
> I mean, so long as #19295 is merged I can rebase this again on develop right?

...when the next beta/rc release comes out which includes #19295, yes.

Or you just rebase right now on the branch of #19295.



---

archive/issue_comments_290841.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">comment:59</div>\n\nAs far as I can tell, this ticket works fine. So the only obstruction is #19295.",
    "created_at": "2016-07-19T18:15:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290841",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:59" align="right">comment:59</div>

As far as I can tell, this ticket works fine. So the only obstruction is #19295.



---

archive/issue_comments_290842.json:
```json
{
    "body": "Reviewer: **Jeroen Demeyer**",
    "created_at": "2016-07-19T18:15:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290842",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Jeroen Demeyer**



---

archive/issue_comments_290843.json:
```json
{
    "body": "<div id=\"comment:61\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3a90e69bc5e7a6b420d59d2f49f1a3b4ced4fc8f\">3a90e69</a></td><td><code>Use pip to install most Python-based dependencies; see http://trac.sagemath.org/ticket/20218</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c028d41e2da15f8e99c1f4287c3f794f4e189e15\">c028d41</a></td><td><code>This is no longer needed.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/83061e1f731ac0a5de226d0ec61e63c78bb3c54c\">83061e1</a></td><td><code>Update some packages that were added since the start of this branch to use pip.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0c899a4e207e59e437406f71016fbffe47dbe9a3\">0c899a4</a></td><td><code>Some of the packages changed to use pip in 2fe1d357600e60d3422141ba5a7fb16efb3a691b needed pip added to their build deps.</code></td></tr></table>\n",
    "created_at": "2016-07-26T11:44:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290843",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:61"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3a90e69bc5e7a6b420d59d2f49f1a3b4ced4fc8f">3a90e69</a></td><td><code>Use pip to install most Python-based dependencies; see http://trac.sagemath.org/ticket/20218</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c028d41e2da15f8e99c1f4287c3f794f4e189e15">c028d41</a></td><td><code>This is no longer needed.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/83061e1f731ac0a5de226d0ec61e63c78bb3c54c">83061e1</a></td><td><code>Update some packages that were added since the start of this branch to use pip.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0c899a4e207e59e437406f71016fbffe47dbe9a3">0c899a4</a></td><td><code>Some of the packages changed to use pip in 2fe1d357600e60d3422141ba5a7fb16efb3a691b needed pip added to their build deps.</code></td></tr></table>




---

archive/issue_comments_290844.json:
```json
{
    "body": "Changed commit from **[`7880aca`](https://github.com/sagemath/sagetrac-mirror/commit/7880aca0575e38126b2e6f510c6b8202d10d768b)** to **[`0c899a4`](https://github.com/sagemath/sagetrac-mirror/commit/0c899a4e207e59e437406f71016fbffe47dbe9a3)**",
    "created_at": "2016-07-26T11:44:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290844",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7880aca`](https://github.com/sagemath/sagetrac-mirror/commit/7880aca0575e38126b2e6f510c6b8202d10d768b)** to **[`0c899a4`](https://github.com/sagemath/sagetrac-mirror/commit/0c899a4e207e59e437406f71016fbffe47dbe9a3)**



---

archive/issue_comments_290845.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">comment:62</div>\n\nRebased",
    "created_at": "2016-07-26T11:47:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290845",
    "user": "https://github.com/embray"
}
```

<div id="comment:62" align="right">comment:62</div>

Rebased



---

archive/issue_events_285452.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-07-26T11:47:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285452"
}
```



---

archive/issue_events_285453.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-07-26T11:47:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285453"
}
```



---

archive/issue_comments_290846.json:
```json
{
    "body": "Changed reviewer from **Jeroen Demeyer** to **Jeroen Demeyer, Volker Braun**",
    "created_at": "2016-08-04T18:39:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290846",
    "user": "https://github.com/vbraun"
}
```

Changed reviewer from **Jeroen Demeyer** to **Jeroen Demeyer, Volker Braun**



---

archive/issue_events_285454.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-08-04T18:39:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285454"
}
```



---

archive/issue_events_285455.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-08-04T18:39:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285455"
}
```



---

archive/issue_events_285456.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-08-05T08:36:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285456"
}
```



---

archive/issue_events_285457.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-08-05T08:36:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285457"
}
```



---

archive/issue_comments_290847.json:
```json
{
    "body": "<div id=\"comment:64\" align=\"right\">comment:64</div>\n\nI actually need to modify this slightly.  The `$PIP_INSTALL` variable that's set in `build/make/install` is now needed for running the `spkg-install` for all the Python packages that use it.  This means `spkg-install` can't be run directly and *must* go through the `build/make/install` script.\n\nInstead, `$PIP_INSTALL` should probably be set in `sage-env`.",
    "created_at": "2016-08-05T08:36:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290847",
    "user": "https://github.com/embray"
}
```

<div id="comment:64" align="right">comment:64</div>

I actually need to modify this slightly.  The `$PIP_INSTALL` variable that's set in `build/make/install` is now needed for running the `spkg-install` for all the Python packages that use it.  This means `spkg-install` can't be run directly and *must* go through the `build/make/install` script.

Instead, `$PIP_INSTALL` should probably be set in `sage-env`.



---

archive/issue_comments_290848.json:
```json
{
    "body": "Changed commit from **[`0c899a4`](https://github.com/sagemath/sagetrac-mirror/commit/0c899a4e207e59e437406f71016fbffe47dbe9a3)** to **[`8df4b5f`](https://github.com/sagemath/sagetrac-mirror/commit/8df4b5f444557ad9c98c8ba0bdeb5ccc08211302)**",
    "created_at": "2016-08-05T09:14:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290848",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0c899a4`](https://github.com/sagemath/sagetrac-mirror/commit/0c899a4e207e59e437406f71016fbffe47dbe9a3)** to **[`8df4b5f`](https://github.com/sagemath/sagetrac-mirror/commit/8df4b5f444557ad9c98c8ba0bdeb5ccc08211302)**



---

archive/issue_comments_290849.json:
```json
{
    "body": "<div id=\"comment:65\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8df4b5f444557ad9c98c8ba0bdeb5ccc08211302\">8df4b5f</a></td><td><code>Move PIP_INSTALL into sage-env so that it's available so long as the Sage environment is activated</code></td></tr></table>\n",
    "created_at": "2016-08-05T09:14:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290849",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:65"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8df4b5f444557ad9c98c8ba0bdeb5ccc08211302">8df4b5f</a></td><td><code>Move PIP_INSTALL into sage-env so that it's available so long as the Sage environment is activated</code></td></tr></table>




---

archive/issue_comments_290850.json:
```json
{
    "body": "<div id=\"comment:66\" align=\"right\">comment:66</div>\n\nDone. Seems to work fine.\n  \n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8df4b5f444557ad9c98c8ba0bdeb5ccc08211302\">8df4b5f</a></td><td><code>Move PIP_INSTALL into sage-env so that it's available so long as the Sage environment is activated</code></td></tr></table>\n",
    "created_at": "2016-08-05T09:14:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290850",
    "user": "https://github.com/embray"
}
```

<div id="comment:66" align="right">comment:66</div>

Done. Seems to work fine.
  
---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8df4b5f444557ad9c98c8ba0bdeb5ccc08211302">8df4b5f</a></td><td><code>Move PIP_INSTALL into sage-env so that it's available so long as the Sage environment is activated</code></td></tr></table>




---

archive/issue_events_285458.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-08-05T09:14:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285458"
}
```



---

archive/issue_events_285459.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-08-05T09:14:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285459"
}
```



---

archive/issue_events_285460.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-08-05T21:16:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285460"
}
```



---

archive/issue_events_285461.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-08-05T21:16:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285461"
}
```



---

archive/issue_events_285462.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-08-06T09:52:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285462"
}
```



---

archive/issue_events_285463.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-08-06T09:52:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285463"
}
```



---

archive/issue_comments_290851.json:
```json
{
    "body": "<div id=\"comment:68\" align=\"right\">comment:68</div>\n\nFails for me when building after \"make distclean\" with\n\n```\nsagenb-export 2.0 is already the active version in easy-install.pth\nInstalling sagenb-export script to /mnt/disk/home/release/Sage/local/bin\n\nInstalled /mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/sagenb_export-2.0-py2.7.egg\nProcessing dependencies for sagenb-export==2.0\nSearching for entrypoints\nReading https://pypi.python.org/simple/entrypoints/\n```\nThe buildbot is not allowed to download packages. \n\nThe nbconvert package lists entrypoints in `local/lib/python2.7/site-packages/nbconvert-4.2.0-py2.7.egg-info/requires.txt`, but only with this ticket. Without this ticket, the depenency is not picked up.\n\nPerhaps the easiest solution would be to package entrypoints...",
    "created_at": "2016-08-06T09:52:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290851",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:68" align="right">comment:68</div>

Fails for me when building after "make distclean" with

```
sagenb-export 2.0 is already the active version in easy-install.pth
Installing sagenb-export script to /mnt/disk/home/release/Sage/local/bin

Installed /mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/sagenb_export-2.0-py2.7.egg
Processing dependencies for sagenb-export==2.0
Searching for entrypoints
Reading https://pypi.python.org/simple/entrypoints/
```
The buildbot is not allowed to download packages. 

The nbconvert package lists entrypoints in `local/lib/python2.7/site-packages/nbconvert-4.2.0-py2.7.egg-info/requires.txt`, but only with this ticket. Without this ticket, the depenency is not picked up.

Perhaps the easiest solution would be to package entrypoints...



---

archive/issue_comments_290852.json:
```json
{
    "body": "<div id=\"comment:69\" align=\"right\">comment:69</div>\n\n`sagenb_export` isn't even a sage package in this branch.  It must have been added since I last rebased.  I mean, until the commit I just pushed it wasn't even being installed with pip so I don't know what the relation would be.\n\nExcept that whoever added `sagenb_export` as an spkg did not also add all its dependencies which unfortunately you have to do.",
    "created_at": "2016-08-08T08:06:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290852",
    "user": "https://github.com/embray"
}
```

<div id="comment:69" align="right">comment:69</div>

`sagenb_export` isn't even a sage package in this branch.  It must have been added since I last rebased.  I mean, until the commit I just pushed it wasn't even being installed with pip so I don't know what the relation would be.

Except that whoever added `sagenb_export` as an spkg did not also add all its dependencies which unfortunately you have to do.



---

archive/issue_comments_290853.json:
```json
{
    "body": "Changed commit from **[`8df4b5f`](https://github.com/sagemath/sagetrac-mirror/commit/8df4b5f444557ad9c98c8ba0bdeb5ccc08211302)** to **[`de5cc9d`](https://github.com/sagemath/sagetrac-mirror/commit/de5cc9d73614faa62e52e6204266f6a38254c18f)**",
    "created_at": "2016-08-08T08:08:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290853",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8df4b5f`](https://github.com/sagemath/sagetrac-mirror/commit/8df4b5f444557ad9c98c8ba0bdeb5ccc08211302)** to **[`de5cc9d`](https://github.com/sagemath/sagetrac-mirror/commit/de5cc9d73614faa62e52e6204266f6a38254c18f)**



---

archive/issue_comments_290854.json:
```json
{
    "body": "<div id=\"comment:70\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c2680940a7fd73a53d1f4351dfb0b933958ad28d\">c268094</a></td><td><code>Use pip to install most Python-based dependencies; see http://trac.sagemath.org/ticket/20218</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a5cfec2fcea2c168dc7860c6374b9355c01c494a\">a5cfec2</a></td><td><code>This is no longer needed.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aaf7a8c6100c014bd59db9218a3ba74a3ba84930\">aaf7a8c</a></td><td><code>Update some packages that were added since the start of this branch to use pip.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ec6ca6c685fef13178b1fc86eb516428a3cb8740\">ec6ca6c</a></td><td><code>Some of the packages changed to use pip in 2fe1d357600e60d3422141ba5a7fb16efb3a691b needed pip added to their build deps.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/820314ecb31516e7acb28b34aa54c7f5e9e56ce7\">820314e</a></td><td><code>Move PIP_INSTALL into sage-env so that it's available so long as the Sage environment is activated</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/de5cc9d73614faa62e52e6204266f6a38254c18f\">de5cc9d</a></td><td><code>pip install sagenb_exports</code></td></tr></table>\n",
    "created_at": "2016-08-08T08:08:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290854",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:70"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c2680940a7fd73a53d1f4351dfb0b933958ad28d">c268094</a></td><td><code>Use pip to install most Python-based dependencies; see http://trac.sagemath.org/ticket/20218</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a5cfec2fcea2c168dc7860c6374b9355c01c494a">a5cfec2</a></td><td><code>This is no longer needed.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aaf7a8c6100c014bd59db9218a3ba74a3ba84930">aaf7a8c</a></td><td><code>Update some packages that were added since the start of this branch to use pip.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ec6ca6c685fef13178b1fc86eb516428a3cb8740">ec6ca6c</a></td><td><code>Some of the packages changed to use pip in 2fe1d357600e60d3422141ba5a7fb16efb3a691b needed pip added to their build deps.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/820314ecb31516e7acb28b34aa54c7f5e9e56ce7">820314e</a></td><td><code>Move PIP_INSTALL into sage-env so that it's available so long as the Sage environment is activated</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/de5cc9d73614faa62e52e6204266f6a38254c18f">de5cc9d</a></td><td><code>pip install sagenb_exports</code></td></tr></table>




---

archive/issue_events_285464.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-08-16T09:08:34Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "milestone_number": null,
    "milestone_title": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285464"
}
```



---

archive/issue_events_285465.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-08-16T09:08:34Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "milestone_number": null,
    "milestone_title": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285465"
}
```



---

archive/issue_comments_290855.json:
```json
{
    "body": "Changed dependencies from **#19295** to none",
    "created_at": "2016-08-16T09:08:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290855",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#19295** to none



---

archive/issue_comments_290856.json:
```json
{
    "body": "<div id=\"comment:71\" align=\"right\">comment:71</div>\n\nThis is proving to be difficult to do all at once. Maybe this should be split up to \"provide the base functionality\" like the `PIP_INSTALL` stuff and then we can fix individual packages or batches of packages in follow-up tickets.\n\nThen a comment about the implementation: making `PIP_INSTALL` an environment variable looks strange. Maybe a small script `build/bin/pip-install` would make more sense?",
    "created_at": "2016-08-16T09:08:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290856",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:71" align="right">comment:71</div>

This is proving to be difficult to do all at once. Maybe this should be split up to "provide the base functionality" like the `PIP_INSTALL` stuff and then we can fix individual packages or batches of packages in follow-up tickets.

Then a comment about the implementation: making `PIP_INSTALL` an environment variable looks strange. Maybe a small script `build/bin/pip-install` would make more sense?



---

archive/issue_comments_290857.json:
```json
{
    "body": "<div id=\"comment:72\" align=\"right\">comment:72</div>\n\nI don't think making `PIP_INSTALL` an environment variable \"looks strange\" any more than `CC` does.\n\nHow is it proving to be too difficult?  It works for me.",
    "created_at": "2016-08-16T09:30:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290857",
    "user": "https://github.com/embray"
}
```

<div id="comment:72" align="right">comment:72</div>

I don't think making `PIP_INSTALL` an environment variable "looks strange" any more than `CC` does.

How is it proving to be too difficult?  It works for me.



---

archive/issue_comments_290858.json:
```json
{
    "body": "<div id=\"comment:73\" align=\"right\">comment:73</div>\n\nAh, looks like it needs to be rebased again.  No problem.",
    "created_at": "2016-08-16T09:30:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290858",
    "user": "https://github.com/embray"
}
```

<div id="comment:73" align="right">comment:73</div>

Ah, looks like it needs to be rebased again.  No problem.



---

archive/issue_comments_290859.json:
```json
{
    "body": "<div id=\"comment:74\" align=\"right\">comment:74</div>\n\nReplying to [@embray](#comment:72):\n> How is it proving to be too difficult?\n\nDifficult to merge in the sense that it constantly conflicts with other tickets.",
    "created_at": "2016-08-16T09:35:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290859",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:74" align="right">comment:74</div>

Replying to [@embray](#comment:72):
> How is it proving to be too difficult?

Difficult to merge in the sense that it constantly conflicts with other tickets.



---

archive/issue_comments_290860.json:
```json
{
    "body": "Changed commit from **[`de5cc9d`](https://github.com/sagemath/sagetrac-mirror/commit/de5cc9d73614faa62e52e6204266f6a38254c18f)** to **[`d7218a0`](https://github.com/sagemath/sagetrac-mirror/commit/d7218a077e4c2bffe8a8cd6a496e62313191a36b)**",
    "created_at": "2016-08-16T09:37:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290860",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`de5cc9d`](https://github.com/sagemath/sagetrac-mirror/commit/de5cc9d73614faa62e52e6204266f6a38254c18f)** to **[`d7218a0`](https://github.com/sagemath/sagetrac-mirror/commit/d7218a077e4c2bffe8a8cd6a496e62313191a36b)**



---

archive/issue_comments_290861.json:
```json
{
    "body": "<div id=\"comment:75\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6c9dffebd1e999be2ea752466085fb28ca1022c2\">6c9dffe</a></td><td><code>Use pip to install most Python-based dependencies; see http://trac.sagemath.org/ticket/20218</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/63cade457c484ab1451998ffab0be665f53c10bd\">63cade4</a></td><td><code>This is no longer needed.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a692a300c47526f4ab7987bcc109ca23e9acee20\">a692a30</a></td><td><code>Update some packages that were added since the start of this branch to use pip.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3e16e00113042fd2d0348db07310e0bfc57f815c\">3e16e00</a></td><td><code>Some of the packages changed to use pip in 2fe1d357600e60d3422141ba5a7fb16efb3a691b needed pip added to their build deps.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/332d91561b060f22f6af8539bc5440659403447a\">332d915</a></td><td><code>Move PIP_INSTALL into sage-env so that it's available so long as the Sage environment is activated</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d6121b21c29ba65f71b8804edbd621282854bcd7\">d6121b2</a></td><td><code>pip install sagenb_exports</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d7218a077e4c2bffe8a8cd6a496e62313191a36b\">d7218a0</a></td><td><code>Three new Python packages were added that should use pip for installation</code></td></tr></table>\n",
    "created_at": "2016-08-16T09:37:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290861",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:75"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6c9dffebd1e999be2ea752466085fb28ca1022c2">6c9dffe</a></td><td><code>Use pip to install most Python-based dependencies; see http://trac.sagemath.org/ticket/20218</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/63cade457c484ab1451998ffab0be665f53c10bd">63cade4</a></td><td><code>This is no longer needed.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a692a300c47526f4ab7987bcc109ca23e9acee20">a692a30</a></td><td><code>Update some packages that were added since the start of this branch to use pip.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3e16e00113042fd2d0348db07310e0bfc57f815c">3e16e00</a></td><td><code>Some of the packages changed to use pip in 2fe1d357600e60d3422141ba5a7fb16efb3a691b needed pip added to their build deps.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/332d91561b060f22f6af8539bc5440659403447a">332d915</a></td><td><code>Move PIP_INSTALL into sage-env so that it's available so long as the Sage environment is activated</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d6121b21c29ba65f71b8804edbd621282854bcd7">d6121b2</a></td><td><code>pip install sagenb_exports</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d7218a077e4c2bffe8a8cd6a496e62313191a36b">d7218a0</a></td><td><code>Three new Python packages were added that should use pip for installation</code></td></tr></table>




---

archive/issue_comments_290862.json:
```json
{
    "body": "<div id=\"comment:76\" align=\"right\">comment:76</div>\n\nAnother question that comes to mind: Where would be the best place in the documentation to document how an spkg for a Python package should be installed?  That should be updated ASAP to demonstrate using pip to install the package instead of the old-fashioned `python setup.py install`?\n\nAnyways the sooner we get this merged, and update the documentation, the less \"difficult\" this will be.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6c9dffebd1e999be2ea752466085fb28ca1022c2\">6c9dffe</a></td><td><code>Use pip to install most Python-based dependencies; see http://trac.sagemath.org/ticket/20218</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/63cade457c484ab1451998ffab0be665f53c10bd\">63cade4</a></td><td><code>This is no longer needed.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a692a300c47526f4ab7987bcc109ca23e9acee20\">a692a30</a></td><td><code>Update some packages that were added since the start of this branch to use pip.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3e16e00113042fd2d0348db07310e0bfc57f815c\">3e16e00</a></td><td><code>Some of the packages changed to use pip in 2fe1d357600e60d3422141ba5a7fb16efb3a691b needed pip added to their build deps.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/332d91561b060f22f6af8539bc5440659403447a\">332d915</a></td><td><code>Move PIP_INSTALL into sage-env so that it's available so long as the Sage environment is activated</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d6121b21c29ba65f71b8804edbd621282854bcd7\">d6121b2</a></td><td><code>pip install sagenb_exports</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d7218a077e4c2bffe8a8cd6a496e62313191a36b\">d7218a0</a></td><td><code>Three new Python packages were added that should use pip for installation</code></td></tr></table>\n",
    "created_at": "2016-08-16T09:38:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290862",
    "user": "https://github.com/embray"
}
```

<div id="comment:76" align="right">comment:76</div>

Another question that comes to mind: Where would be the best place in the documentation to document how an spkg for a Python package should be installed?  That should be updated ASAP to demonstrate using pip to install the package instead of the old-fashioned `python setup.py install`?

Anyways the sooner we get this merged, and update the documentation, the less "difficult" this will be.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6c9dffebd1e999be2ea752466085fb28ca1022c2">6c9dffe</a></td><td><code>Use pip to install most Python-based dependencies; see http://trac.sagemath.org/ticket/20218</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/63cade457c484ab1451998ffab0be665f53c10bd">63cade4</a></td><td><code>This is no longer needed.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a692a300c47526f4ab7987bcc109ca23e9acee20">a692a30</a></td><td><code>Update some packages that were added since the start of this branch to use pip.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3e16e00113042fd2d0348db07310e0bfc57f815c">3e16e00</a></td><td><code>Some of the packages changed to use pip in 2fe1d357600e60d3422141ba5a7fb16efb3a691b needed pip added to their build deps.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/332d91561b060f22f6af8539bc5440659403447a">332d915</a></td><td><code>Move PIP_INSTALL into sage-env so that it's available so long as the Sage environment is activated</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d6121b21c29ba65f71b8804edbd621282854bcd7">d6121b2</a></td><td><code>pip install sagenb_exports</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d7218a077e4c2bffe8a8cd6a496e62313191a36b">d7218a0</a></td><td><code>Three new Python packages were added that should use pip for installation</code></td></tr></table>




---

archive/issue_comments_290863.json:
```json
{
    "body": "<div id=\"comment:77\" align=\"right\">comment:77</div>\n\nJust a comment: I need this to fix the installation of `widgetsnbextension`, see #21256.",
    "created_at": "2016-08-16T10:18:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290863",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:77" align="right">comment:77</div>

Just a comment: I need this to fix the installation of `widgetsnbextension`, see #21256.



---

archive/issue_comments_290864.json:
```json
{
    "body": "<div id=\"comment:78\" align=\"right\">comment:78</div>\n\nIs this ready for review?",
    "created_at": "2016-08-16T10:19:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290864",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:78" align="right">comment:78</div>

Is this ready for review?



---

archive/issue_comments_290865.json:
```json
{
    "body": "<div id=\"comment:79\" align=\"right\">comment:79</div>\n\nReplying to [@jdemeyer](#comment:77):\n> Just a comment: I need this to fix the installation of `widgetsnbextension`, see #21256.\n\nAnd it needs the `--ignored-installed` option that you are adding here, otherwise the broken installation remains broken.",
    "created_at": "2016-08-16T10:23:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290865",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:79" align="right">comment:79</div>

Replying to [@jdemeyer](#comment:77):
> Just a comment: I need this to fix the installation of `widgetsnbextension`, see #21256.

And it needs the `--ignored-installed` option that you are adding here, otherwise the broken installation remains broken.



---

archive/issue_comments_290866.json:
```json
{
    "body": "<div id=\"comment:80\" align=\"right\">comment:80</div>\n\nI do not like the `--no-deps` flag: it used to be an error if dependencies were not installed, now you will silently have a broken installation.",
    "created_at": "2016-08-16T10:39:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290866",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:80" align="right">comment:80</div>

I do not like the `--no-deps` flag: it used to be an error if dependencies were not installed, now you will silently have a broken installation.



---

archive/issue_comments_290867.json:
```json
{
    "body": "<div id=\"comment:81\" align=\"right\">comment:81</div>\n\nI also like `--verbose`: it actually shows the output from `setup.py` instead of\n\n```\n    Running setup.py install for scipy: still running...\n    Running setup.py install for scipy: still running...\n    Running setup.py install for scipy: still running...\n    Running setup.py install for scipy: still running...\n    Running setup.py install for scipy: still running...\n    Running setup.py install for scipy: still running...\n    Running setup.py install for scipy: still running...\n    Running setup.py install for scipy: still running...\n    Running setup.py install for scipy: still running...\n    Running setup.py install for scipy: still running...\n    Running setup.py install for scipy: still running...\n    Running setup.py install for scipy: still running...\n    Running setup.py install for scipy: still running...\n    Running setup.py install for scipy: still running...\n    Running setup.py install for scipy: still running...\n    Running setup.py install for scipy: still running...\n    Running setup.py install for scipy: still running...\n    Running setup.py install for scipy: still running...\n    Running setup.py install for scipy: still running...\n    Running setup.py install for scipy: still running...\n    Running setup.py install for scipy: still running...\n    Running setup.py install for scipy: finished with status 'done'\n```",
    "created_at": "2016-08-16T11:37:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290867",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:81" align="right">comment:81</div>

I also like `--verbose`: it actually shows the output from `setup.py` instead of

```
    Running setup.py install for scipy: still running...
    Running setup.py install for scipy: still running...
    Running setup.py install for scipy: still running...
    Running setup.py install for scipy: still running...
    Running setup.py install for scipy: still running...
    Running setup.py install for scipy: still running...
    Running setup.py install for scipy: still running...
    Running setup.py install for scipy: still running...
    Running setup.py install for scipy: still running...
    Running setup.py install for scipy: still running...
    Running setup.py install for scipy: still running...
    Running setup.py install for scipy: still running...
    Running setup.py install for scipy: still running...
    Running setup.py install for scipy: still running...
    Running setup.py install for scipy: still running...
    Running setup.py install for scipy: still running...
    Running setup.py install for scipy: still running...
    Running setup.py install for scipy: still running...
    Running setup.py install for scipy: still running...
    Running setup.py install for scipy: still running...
    Running setup.py install for scipy: still running...
    Running setup.py install for scipy: finished with status 'done'
```



---

archive/issue_comments_290868.json:
```json
{
    "body": "<div id=\"comment:82\" align=\"right\">comment:82</div>\n\nReplying to [@jdemeyer](#comment:80):\n> I do not like the `--no-deps` flag: it used to be an error if dependencies were not installed, now you will silently have a broken installation.\n\nThat's a problem that Sage's package distributions should be handling.  In other words, you're asking pip and PyPI to handle dependency resolution for you.  But if Sage wants to maintain its own package distribution system it's its responsibility to handle dependency resolution correctly.",
    "created_at": "2016-08-16T11:43:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290868",
    "user": "https://github.com/embray"
}
```

<div id="comment:82" align="right">comment:82</div>

Replying to [@jdemeyer](#comment:80):
> I do not like the `--no-deps` flag: it used to be an error if dependencies were not installed, now you will silently have a broken installation.

That's a problem that Sage's package distributions should be handling.  In other words, you're asking pip and PyPI to handle dependency resolution for you.  But if Sage wants to maintain its own package distribution system it's its responsibility to handle dependency resolution correctly.



---

archive/issue_comments_290869.json:
```json
{
    "body": "Changed branch from **[u/embray/pip-install](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/pip-install)** to **[u/jdemeyer/pip-install](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/pip-install)**",
    "created_at": "2016-08-16T11:44:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290869",
    "user": "https://github.com/jdemeyer"
}
```

Changed branch from **[u/embray/pip-install](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/pip-install)** to **[u/jdemeyer/pip-install](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/pip-install)**



---

archive/issue_comments_290870.json:
```json
{
    "body": "Changed commit from **[`d7218a0`](https://github.com/sagemath/sagetrac-mirror/commit/d7218a077e4c2bffe8a8cd6a496e62313191a36b)** to **[`c728bd8`](https://github.com/sagemath/sagetrac-mirror/commit/c728bd8af325487e8d8578aa7dafe650c1b07492)**",
    "created_at": "2016-08-16T11:46:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290870",
    "user": "https://github.com/embray"
}
```

Changed commit from **[`d7218a0`](https://github.com/sagemath/sagetrac-mirror/commit/d7218a077e4c2bffe8a8cd6a496e62313191a36b)** to **[`c728bd8`](https://github.com/sagemath/sagetrac-mirror/commit/c728bd8af325487e8d8578aa7dafe650c1b07492)**



---

archive/issue_comments_290871.json:
```json
{
    "body": "<div id=\"comment:84\" align=\"right\">comment:84</div>\n\nI'm fine with adding the `--verbose` flag but -1 on removing `--no-deps`.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c728bd8af325487e8d8578aa7dafe650c1b07492\">c728bd8</a></td><td><code>Remove --no-deps and add --verbose flag to pip</code></td></tr></table>\n",
    "created_at": "2016-08-16T11:46:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290871",
    "user": "https://github.com/embray"
}
```

<div id="comment:84" align="right">comment:84</div>

I'm fine with adding the `--verbose` flag but -1 on removing `--no-deps`.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c728bd8af325487e8d8578aa7dafe650c1b07492">c728bd8</a></td><td><code>Remove --no-deps and add --verbose flag to pip</code></td></tr></table>




---

archive/issue_comments_290872.json:
```json
{
    "body": "<div id=\"comment:85\" align=\"right\">comment:85</div>\n\nReplying to [@embray](#comment:82):\n> That's a problem that Sage's package distributions should be handling.  In other words, you're asking pip and PyPI to handle dependency resolution for you.\n\nNot really. I want dependency *checking*, not dependency *resolution*.\n\nIt is completely normal for a package to check its dependencies upon installation: GNU `configure` scripts usually do this.\n\nThe flag `--no-index` does exactly that: it will not install dependencies but it will still check for dependencies.",
    "created_at": "2016-08-16T11:50:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290872",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:85" align="right">comment:85</div>

Replying to [@embray](#comment:82):
> That's a problem that Sage's package distributions should be handling.  In other words, you're asking pip and PyPI to handle dependency resolution for you.

Not really. I want dependency *checking*, not dependency *resolution*.

It is completely normal for a package to check its dependencies upon installation: GNU `configure` scripts usually do this.

The flag `--no-index` does exactly that: it will not install dependencies but it will still check for dependencies.



---

archive/issue_comments_290873.json:
```json
{
    "body": "<div id=\"comment:86\" align=\"right\">comment:86</div>\n\nOkay, as long as it isn't recursive--that is, as long as it doesn't also check the dependencies for the dependencies--you're right that `--no-index` seems to ensure that.",
    "created_at": "2016-08-16T11:52:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290873",
    "user": "https://github.com/embray"
}
```

<div id="comment:86" align="right">comment:86</div>

Okay, as long as it isn't recursive--that is, as long as it doesn't also check the dependencies for the dependencies--you're right that `--no-index` seems to ensure that.



---

archive/issue_comments_290874.json:
```json
{
    "body": "<div id=\"comment:87\" align=\"right\">comment:87</div>\n\nHmm, removing `--no-deps` breaks a lot of Jupyter stuff since they have `setup.py` containing stuff like\n\n```\nsetuptools_args = {}\ninstall_requires = setuptools_args['install_requires'] = [\n    'ipython>=4.0.0',\n    'traitlets',\n    'jupyter_client',\n    'tornado>=4.0',\n]\n\nif 'setuptools' in sys.modules:\n    setup_args.update(setuptools_args)\n```\n\nThese dependencies are not seen when installing using `python setup.py install`.",
    "created_at": "2016-08-16T11:58:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290874",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:87" align="right">comment:87</div>

Hmm, removing `--no-deps` breaks a lot of Jupyter stuff since they have `setup.py` containing stuff like

```
setuptools_args = {}
install_requires = setuptools_args['install_requires'] = [
    'ipython>=4.0.0',
    'traitlets',
    'jupyter_client',
    'tornado>=4.0',
]

if 'setuptools' in sys.modules:
    setup_args.update(setuptools_args)
```

These dependencies are not seen when installing using `python setup.py install`.



---

archive/issue_comments_290875.json:
```json
{
    "body": "<div id=\"comment:88\" align=\"right\">comment:88</div>\n\nI will try to fix those dependencies.",
    "created_at": "2016-08-16T12:00:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290875",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:88" align="right">comment:88</div>

I will try to fix those dependencies.



---

archive/issue_comments_290876.json:
```json
{
    "body": "<div id=\"comment:89\" align=\"right\">comment:89</div>\n\nHmm, `traitlets` thinks that `ipython_genutils` is not installed but in reality it is installed (and it is properly listed as dependency in Sage):\n\n```\n[traitlets-4.2.2] Processing /usr/local/src/sage-git/local/var/tmp/sage/build/traitlets-4.2.2/src\n[traitlets-4.2.2]   Running setup.py (path:/tmp/pip-TnBahx-build/setup.py) egg_info for package from file:///usr/local/src/sage-git/local/var/tmp/sage/build/traitlets-4.2.2/src\n[traitlets-4.2.2]     Running command python setup.py egg_info\n[traitlets-4.2.2]     running egg_info\n[traitlets-4.2.2]     creating pip-egg-info/traitlets.egg-info\n[traitlets-4.2.2]     writing requirements to pip-egg-info/traitlets.egg-info/requires.txt\n[traitlets-4.2.2]     writing pip-egg-info/traitlets.egg-info/PKG-INFO\n[traitlets-4.2.2]     writing top-level names to pip-egg-info/traitlets.egg-info/top_level.txt\n[traitlets-4.2.2]     writing dependency_links to pip-egg-info/traitlets.egg-info/dependency_links.txt\n[traitlets-4.2.2]     writing manifest file 'pip-egg-info/traitlets.egg-info/SOURCES.txt'\n[traitlets-4.2.2]     warning: manifest_maker: standard file '-c' not found\n[traitlets-4.2.2] \n[traitlets-4.2.2]     reading manifest file 'pip-egg-info/traitlets.egg-info/SOURCES.txt'\n[traitlets-4.2.2]     writing manifest file 'pip-egg-info/traitlets.egg-info/SOURCES.txt'\n[traitlets-4.2.2]   Source in /tmp/pip-TnBahx-build has version 4.2.2, which satisfies requirement traitlets==4.2.2 from file:///usr/local/src/sage-git/local/var/tmp/sage/build/traitlets-4.2.2/src\n[traitlets-4.2.2] Collecting ipython_genutils (from traitlets==4.2.2)\n[traitlets-4.2.2]   0 location(s) to search for versions of ipython-genutils:\n[traitlets-4.2.2]   Could not find a version that satisfies the requirement ipython_genutils (from traitlets==4.2.2) (from versions: )\n[traitlets-4.2.2] Cleaning up...\n[traitlets-4.2.2]   Removing source in /tmp/pip-TnBahx-build\n[traitlets-4.2.2] No matching distribution found for ipython_genutils (from traitlets==4.2.2)\n[traitlets-4.2.2] Exception information:\n[traitlets-4.2.2] Traceback (most recent call last):\n[traitlets-4.2.2]   File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/pip-8.1.2-py2.7.egg/pip/basecommand.py\", line 215, in main\n[traitlets-4.2.2]     status = self.run(options, args)\n[traitlets-4.2.2]   File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/pip-8.1.2-py2.7.egg/pip/commands/install.py\", line 299, in run\n[traitlets-4.2.2]     requirement_set.prepare_files(finder)\n[traitlets-4.2.2]   File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/pip-8.1.2-py2.7.egg/pip/req/req_set.py\", line 370, in prepare_files\n[traitlets-4.2.2]     ignore_dependencies=self.ignore_dependencies))\n[traitlets-4.2.2]   File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/pip-8.1.2-py2.7.egg/pip/req/req_set.py\", line 522, in _prepare_file\n[traitlets-4.2.2]     finder, self.upgrade, require_hashes)\n[traitlets-4.2.2]   File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/pip-8.1.2-py2.7.egg/pip/req/req_install.py\", line 268, in populate_link\n[traitlets-4.2.2]     self.link = finder.find_requirement(self, upgrade)\n[traitlets-4.2.2]   File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/pip-8.1.2-py2.7.egg/pip/index.py\", line 491, in find_requirement\n[traitlets-4.2.2]     'No matching distribution found for %s' % req\n[traitlets-4.2.2] DistributionNotFound: No matching distribution found for ipython_genutils (from traitlets==4.2.2)\n```",
    "created_at": "2016-08-16T12:05:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290876",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:89" align="right">comment:89</div>

Hmm, `traitlets` thinks that `ipython_genutils` is not installed but in reality it is installed (and it is properly listed as dependency in Sage):

```
[traitlets-4.2.2] Processing /usr/local/src/sage-git/local/var/tmp/sage/build/traitlets-4.2.2/src
[traitlets-4.2.2]   Running setup.py (path:/tmp/pip-TnBahx-build/setup.py) egg_info for package from file:///usr/local/src/sage-git/local/var/tmp/sage/build/traitlets-4.2.2/src
[traitlets-4.2.2]     Running command python setup.py egg_info
[traitlets-4.2.2]     running egg_info
[traitlets-4.2.2]     creating pip-egg-info/traitlets.egg-info
[traitlets-4.2.2]     writing requirements to pip-egg-info/traitlets.egg-info/requires.txt
[traitlets-4.2.2]     writing pip-egg-info/traitlets.egg-info/PKG-INFO
[traitlets-4.2.2]     writing top-level names to pip-egg-info/traitlets.egg-info/top_level.txt
[traitlets-4.2.2]     writing dependency_links to pip-egg-info/traitlets.egg-info/dependency_links.txt
[traitlets-4.2.2]     writing manifest file 'pip-egg-info/traitlets.egg-info/SOURCES.txt'
[traitlets-4.2.2]     warning: manifest_maker: standard file '-c' not found
[traitlets-4.2.2] 
[traitlets-4.2.2]     reading manifest file 'pip-egg-info/traitlets.egg-info/SOURCES.txt'
[traitlets-4.2.2]     writing manifest file 'pip-egg-info/traitlets.egg-info/SOURCES.txt'
[traitlets-4.2.2]   Source in /tmp/pip-TnBahx-build has version 4.2.2, which satisfies requirement traitlets==4.2.2 from file:///usr/local/src/sage-git/local/var/tmp/sage/build/traitlets-4.2.2/src
[traitlets-4.2.2] Collecting ipython_genutils (from traitlets==4.2.2)
[traitlets-4.2.2]   0 location(s) to search for versions of ipython-genutils:
[traitlets-4.2.2]   Could not find a version that satisfies the requirement ipython_genutils (from traitlets==4.2.2) (from versions: )
[traitlets-4.2.2] Cleaning up...
[traitlets-4.2.2]   Removing source in /tmp/pip-TnBahx-build
[traitlets-4.2.2] No matching distribution found for ipython_genutils (from traitlets==4.2.2)
[traitlets-4.2.2] Exception information:
[traitlets-4.2.2] Traceback (most recent call last):
[traitlets-4.2.2]   File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/pip-8.1.2-py2.7.egg/pip/basecommand.py", line 215, in main
[traitlets-4.2.2]     status = self.run(options, args)
[traitlets-4.2.2]   File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/pip-8.1.2-py2.7.egg/pip/commands/install.py", line 299, in run
[traitlets-4.2.2]     requirement_set.prepare_files(finder)
[traitlets-4.2.2]   File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/pip-8.1.2-py2.7.egg/pip/req/req_set.py", line 370, in prepare_files
[traitlets-4.2.2]     ignore_dependencies=self.ignore_dependencies))
[traitlets-4.2.2]   File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/pip-8.1.2-py2.7.egg/pip/req/req_set.py", line 522, in _prepare_file
[traitlets-4.2.2]     finder, self.upgrade, require_hashes)
[traitlets-4.2.2]   File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/pip-8.1.2-py2.7.egg/pip/req/req_install.py", line 268, in populate_link
[traitlets-4.2.2]     self.link = finder.find_requirement(self, upgrade)
[traitlets-4.2.2]   File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/pip-8.1.2-py2.7.egg/pip/index.py", line 491, in find_requirement
[traitlets-4.2.2]     'No matching distribution found for %s' % req
[traitlets-4.2.2] DistributionNotFound: No matching distribution found for ipython_genutils (from traitlets==4.2.2)
```



---

archive/issue_comments_290877.json:
```json
{
    "body": "<div id=\"comment:90\" align=\"right\">comment:90</div>\n\nHmm, could it be that the `--ignore-installed` option also ignores installed dependencies?",
    "created_at": "2016-08-16T12:12:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290877",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:90" align="right">comment:90</div>

Hmm, could it be that the `--ignore-installed` option also ignores installed dependencies?



---

archive/issue_comments_290878.json:
```json
{
    "body": "<div id=\"comment:91\" align=\"right\">comment:91</div>\n\nI'll look into it.",
    "created_at": "2016-08-16T12:16:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290878",
    "user": "https://github.com/embray"
}
```

<div id="comment:91" align="right">comment:91</div>

I'll look into it.



---

archive/issue_comments_290879.json:
```json
{
    "body": "<div id=\"comment:92\" align=\"right\">comment:92</div>\n\nI tried `--upgrade --force-reinstall` instead of `--ignore-installed` but that gives the same problem:\n\n```\n$ pip install --verbose --no-index --upgrade --force-reinstall .\nIgnoring indexes: https://pypi.python.org/simple\nProcessing /usr/local/src/sage-git/tmp/traitlets-4.2.2\n  Running setup.py (path:/tmp/pip-Eh8Et4-build/setup.py) egg_info for package from file:///usr/local/src/sage-git/tmp/traitlets-4.2.2\n    Running command python setup.py egg_info\n    running egg_info\n    creating pip-egg-info/traitlets.egg-info\n    writing requirements to pip-egg-info/traitlets.egg-info/requires.txt\n    writing pip-egg-info/traitlets.egg-info/PKG-INFO\n    writing top-level names to pip-egg-info/traitlets.egg-info/top_level.txt\n    writing dependency_links to pip-egg-info/traitlets.egg-info/dependency_links.txt\n    writing manifest file 'pip-egg-info/traitlets.egg-info/SOURCES.txt'\n    warning: manifest_maker: standard file '-c' not found\n\n    reading manifest file 'pip-egg-info/traitlets.egg-info/SOURCES.txt'\n    writing manifest file 'pip-egg-info/traitlets.egg-info/SOURCES.txt'\n  Source in /tmp/pip-Eh8Et4-build has version 4.2.2, which satisfies requirement traitlets==4.2.2 from file:///usr/local/src/sage-git/tmp/traitlets-4.2.2\nCollecting ipython_genutils (from traitlets==4.2.2)\n  0 location(s) to search for versions of ipython-genutils:\n  Could not find a version that satisfies the requirement ipython_genutils (from traitlets==4.2.2) (from versions: )\nCleaning up...\n  Removing source in /tmp/pip-Eh8Et4-build\nNo matching distribution found for ipython_genutils (from traitlets==4.2.2)\nException information:\nTraceback (most recent call last):\n  File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/pip-8.1.2-py2.7.egg/pip/basecommand.py\", line 215, in main\n    status = self.run(options, args)\n  File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/pip-8.1.2-py2.7.egg/pip/commands/install.py\", line 299, in run\n    requirement_set.prepare_files(finder)\n  File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/pip-8.1.2-py2.7.egg/pip/req/req_set.py\", line 370, in prepare_files\n    ignore_dependencies=self.ignore_dependencies))\n  File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/pip-8.1.2-py2.7.egg/pip/req/req_set.py\", line 522, in _prepare_file\n    finder, self.upgrade, require_hashes)\n  File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/pip-8.1.2-py2.7.egg/pip/req/req_install.py\", line 268, in populate_link\n    self.link = finder.find_requirement(self, upgrade)\n  File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/pip-8.1.2-py2.7.egg/pip/index.py\", line 491, in find_requirement\n    'No matching distribution found for %s' % req\nDistributionNotFound: No matching distribution found for ipython_genutils (from traitlets==4.2.2)\n```",
    "created_at": "2016-08-16T12:28:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290879",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:92" align="right">comment:92</div>

I tried `--upgrade --force-reinstall` instead of `--ignore-installed` but that gives the same problem:

```
$ pip install --verbose --no-index --upgrade --force-reinstall .
Ignoring indexes: https://pypi.python.org/simple
Processing /usr/local/src/sage-git/tmp/traitlets-4.2.2
  Running setup.py (path:/tmp/pip-Eh8Et4-build/setup.py) egg_info for package from file:///usr/local/src/sage-git/tmp/traitlets-4.2.2
    Running command python setup.py egg_info
    running egg_info
    creating pip-egg-info/traitlets.egg-info
    writing requirements to pip-egg-info/traitlets.egg-info/requires.txt
    writing pip-egg-info/traitlets.egg-info/PKG-INFO
    writing top-level names to pip-egg-info/traitlets.egg-info/top_level.txt
    writing dependency_links to pip-egg-info/traitlets.egg-info/dependency_links.txt
    writing manifest file 'pip-egg-info/traitlets.egg-info/SOURCES.txt'
    warning: manifest_maker: standard file '-c' not found

    reading manifest file 'pip-egg-info/traitlets.egg-info/SOURCES.txt'
    writing manifest file 'pip-egg-info/traitlets.egg-info/SOURCES.txt'
  Source in /tmp/pip-Eh8Et4-build has version 4.2.2, which satisfies requirement traitlets==4.2.2 from file:///usr/local/src/sage-git/tmp/traitlets-4.2.2
Collecting ipython_genutils (from traitlets==4.2.2)
  0 location(s) to search for versions of ipython-genutils:
  Could not find a version that satisfies the requirement ipython_genutils (from traitlets==4.2.2) (from versions: )
Cleaning up...
  Removing source in /tmp/pip-Eh8Et4-build
No matching distribution found for ipython_genutils (from traitlets==4.2.2)
Exception information:
Traceback (most recent call last):
  File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/pip-8.1.2-py2.7.egg/pip/basecommand.py", line 215, in main
    status = self.run(options, args)
  File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/pip-8.1.2-py2.7.egg/pip/commands/install.py", line 299, in run
    requirement_set.prepare_files(finder)
  File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/pip-8.1.2-py2.7.egg/pip/req/req_set.py", line 370, in prepare_files
    ignore_dependencies=self.ignore_dependencies))
  File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/pip-8.1.2-py2.7.egg/pip/req/req_set.py", line 522, in _prepare_file
    finder, self.upgrade, require_hashes)
  File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/pip-8.1.2-py2.7.egg/pip/req/req_install.py", line 268, in populate_link
    self.link = finder.find_requirement(self, upgrade)
  File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/pip-8.1.2-py2.7.egg/pip/index.py", line 491, in find_requirement
    'No matching distribution found for %s' % req
DistributionNotFound: No matching distribution found for ipython_genutils (from traitlets==4.2.2)
```



---

archive/issue_comments_290880.json:
```json
{
    "body": "<div id=\"comment:93\" align=\"right\">comment:93</div>\n\nYes, you're right.  It seems that `--ignore-installed` also ignores installed dependencies.  The fact that I also had `--no-deps` hid that.  That's disconcerting.  It looks like you can't do dependency checking the way you wanted after all, though I'll admit that's unfortunate.  You'd think it should work.  I might treat that as a defect in pip.\n\nBut I don't think it's a showstopper.  I still think it should be the responsibility of the sage packager to work this out and not blindly add new packages without making sure all its dependencies are correct too.",
    "created_at": "2016-08-16T12:35:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290880",
    "user": "https://github.com/embray"
}
```

<div id="comment:93" align="right">comment:93</div>

Yes, you're right.  It seems that `--ignore-installed` also ignores installed dependencies.  The fact that I also had `--no-deps` hid that.  That's disconcerting.  It looks like you can't do dependency checking the way you wanted after all, though I'll admit that's unfortunate.  You'd think it should work.  I might treat that as a defect in pip.

But I don't think it's a showstopper.  I still think it should be the responsibility of the sage packager to work this out and not blindly add new packages without making sure all its dependencies are correct too.



---

archive/issue_comments_290881.json:
```json
{
    "body": "<div id=\"comment:94\" align=\"right\">comment:94</div>\n\nReplying to [@embray](#comment:93):\n> I still think it should be the responsibility of the sage packager to work this out and not blindly add new packages without making sure all its dependencies are correct too.\n\nI would love this to become official Sage policy. The main culprit is mass-update tickets like #20625.",
    "created_at": "2016-08-16T12:37:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290881",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:94" align="right">comment:94</div>

Replying to [@embray](#comment:93):
> I still think it should be the responsibility of the sage packager to work this out and not blindly add new packages without making sure all its dependencies are correct too.

I would love this to become official Sage policy. The main culprit is mass-update tickets like #20625.



---

archive/issue_comments_290882.json:
```json
{
    "body": "<div id=\"comment:95\" align=\"right\">comment:95</div>\n\nA relevant ticket in pip: https://github.com/pypa/pip/issues/3261\n\nIt's mentioned there that there's also a new `pip check` command that will do a sanity-check on the system, so running that could also be policy (without necessarily requiring the check on every package install).",
    "created_at": "2016-08-16T12:41:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290882",
    "user": "https://github.com/embray"
}
```

<div id="comment:95" align="right">comment:95</div>

A relevant ticket in pip: https://github.com/pypa/pip/issues/3261

It's mentioned there that there's also a new `pip check` command that will do a sanity-check on the system, so running that could also be policy (without necessarily requiring the check on every package install).



---

archive/issue_comments_290883.json:
```json
{
    "body": "<div id=\"comment:96\" align=\"right\">comment:96</div>\n\nIt seems that `pip` is missing an option to force-reinstall a single package without recursion.",
    "created_at": "2016-08-16T12:42:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290883",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:96" align="right">comment:96</div>

It seems that `pip` is missing an option to force-reinstall a single package without recursion.



---

archive/issue_comments_290884.json:
```json
{
    "body": "Changed commit from **[`c728bd8`](https://github.com/sagemath/sagetrac-mirror/commit/c728bd8af325487e8d8578aa7dafe650c1b07492)** to **[`fd131c1`](https://github.com/sagemath/sagetrac-mirror/commit/fd131c1a550242299e367080fa1a77a5823daaed)**",
    "created_at": "2016-08-16T12:45:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290884",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c728bd8`](https://github.com/sagemath/sagetrac-mirror/commit/c728bd8af325487e8d8578aa7dafe650c1b07492)** to **[`fd131c1`](https://github.com/sagemath/sagetrac-mirror/commit/fd131c1a550242299e367080fa1a77a5823daaed)**



---

archive/issue_comments_290885.json:
```json
{
    "body": "<div id=\"comment:97\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fd131c1a550242299e367080fa1a77a5823daaed\">fd131c1</a></td><td><code>Add --verbose flag to pip</code></td></tr></table>\n",
    "created_at": "2016-08-16T12:45:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290885",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:97"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fd131c1a550242299e367080fa1a77a5823daaed">fd131c1</a></td><td><code>Add --verbose flag to pip</code></td></tr></table>




---

archive/issue_comments_290886.json:
```json
{
    "body": "<div id=\"comment:98\" align=\"right\">comment:98</div>\n\nOK, undid the removal of `--no-deps`.\n\nI would be fine with merging this now, but still thinking about future improvements.",
    "created_at": "2016-08-16T12:47:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290886",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:98" align="right">comment:98</div>

OK, undid the removal of `--no-deps`.

I would be fine with merging this now, but still thinking about future improvements.



---

archive/issue_comments_290887.json:
```json
{
    "body": "<div id=\"comment:99\" align=\"right\">comment:99</div>\n\nReplying to [@jdemeyer](#comment:96):\n> It seems that `pip` is missing an option to force-reinstall a single package without recursion.\n\n`pip install --upgrade --force --no-deps` does it.  I've used that in the past.",
    "created_at": "2016-08-16T12:50:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290887",
    "user": "https://github.com/embray"
}
```

<div id="comment:99" align="right">comment:99</div>

Replying to [@jdemeyer](#comment:96):
> It seems that `pip` is missing an option to force-reinstall a single package without recursion.

`pip install --upgrade --force --no-deps` does it.  I've used that in the past.



---

archive/issue_comments_290888.json:
```json
{
    "body": "<div id=\"comment:100\" align=\"right\">comment:100</div>\n\nReplying to [@embray](#comment:99):\n> Replying to [@jdemeyer](#comment:96):\n> > It seems that `pip` is missing an option to force-reinstall a single package without recursion.\n\n> \n> `pip install --upgrade --force --no-deps` does it.\n\n`--upgrade` does recursion:\n\n```\n  -U, --upgrade               Upgrade all specified packages to the newest available version. This process is recursive regardless of whether a dependency is already\n                              satisfied.\n```\n\nEdit: I see you added `--no-deps` but I don't want that since I do want dependency checking.",
    "created_at": "2016-08-16T12:53:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290888",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:100" align="right">comment:100</div>

Replying to [@embray](#comment:99):
> Replying to [@jdemeyer](#comment:96):
> > It seems that `pip` is missing an option to force-reinstall a single package without recursion.

> 
> `pip install --upgrade --force --no-deps` does it.

`--upgrade` does recursion:

```
  -U, --upgrade               Upgrade all specified packages to the newest available version. This process is recursive regardless of whether a dependency is already
                              satisfied.
```

Edit: I see you added `--no-deps` but I don't want that since I do want dependency checking.



---

archive/issue_comments_290889.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nWell, yes, but now we know that dependency checking in the sense that you want doesn't work anyways.",
    "created_at": "2016-08-16T13:11:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290889",
    "user": "https://github.com/embray"
}
```

<div id="comment:1" align="right">comment:1</div>

Well, yes, but now we know that dependency checking in the sense that you want doesn't work anyways.



---

archive/issue_comments_290890.json:
```json
{
    "body": "<div id=\"comment:102\" align=\"right\">comment:102</div>\n\nReplying to [@embray](#comment:101):\n> Well, yes, but now we know that dependency checking in the sense that you want doesn't work anyways.\n\nIt works by itself, but not in combination with the other options.",
    "created_at": "2016-08-16T13:19:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290890",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:102" align="right">comment:102</div>

Replying to [@embray](#comment:101):
> Well, yes, but now we know that dependency checking in the sense that you want doesn't work anyways.

It works by itself, but not in combination with the other options.



---

archive/issue_comments_290891.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nSomething like\n\n```\npip uninstall PACKAGE\npip install --no-index .\n```\nwould work and correctly check dependencies. There is just not a single command which does that.",
    "created_at": "2016-08-16T13:22:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290891",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:3" align="right">comment:3</div>

Something like

```
pip uninstall PACKAGE
pip install --no-index .
```
would work and correctly check dependencies. There is just not a single command which does that.



---

archive/issue_comments_290892.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nFor reasons that I do not understand, this breaks running Jupyter from the command line:\n\n```\n$ jupyter notebook\nTraceback (most recent call last):\n  File \"/usr/local/src/sage-git/local/bin/jupyter-notebook\", line 5, in <module>\n    from pkg_resources import load_entry_point\n  File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 2927, in <module>\n    @_call_aside\n  File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 2913, in _call_aside\n    f(*args, **kwargs)\n  File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 2940, in _initialize_master_working_set\n    working_set = WorkingSet._build_master()\n  File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 635, in _build_master\n    ws.require(__requires__)\n  File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 943, in require\n    needed = self.resolve(parse_requirements(requirements))\n  File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 829, in resolve\n    raise DistributionNotFound(req, requirers)\npkg_resources.DistributionNotFound: The 'terminado>=0.3.3' distribution was not found and is required by notebook\n```",
    "created_at": "2016-08-16T13:39:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290892",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:4" align="right">comment:4</div>

For reasons that I do not understand, this breaks running Jupyter from the command line:

```
$ jupyter notebook
Traceback (most recent call last):
  File "/usr/local/src/sage-git/local/bin/jupyter-notebook", line 5, in <module>
    from pkg_resources import load_entry_point
  File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 2927, in <module>
    @_call_aside
  File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 2913, in _call_aside
    f(*args, **kwargs)
  File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 2940, in _initialize_master_working_set
    working_set = WorkingSet._build_master()
  File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 635, in _build_master
    ws.require(__requires__)
  File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 943, in require
    needed = self.resolve(parse_requirements(requirements))
  File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 829, in resolve
    raise DistributionNotFound(req, requirers)
pkg_resources.DistributionNotFound: The 'terminado>=0.3.3' distribution was not found and is required by notebook
```



---

archive/issue_comments_290893.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nThe obvious solution is to add a `terminado` package to Sage and have `notebook` depend on it.",
    "created_at": "2016-08-16T13:47:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290893",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:5" align="right">comment:5</div>

The obvious solution is to add a `terminado` package to Sage and have `notebook` depend on it.



---

archive/issue_comments_290894.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nAlternative and simpler solution: keep using `distutils` instead of `pip` to install `notebook`.",
    "created_at": "2016-08-16T13:48:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290894",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:6" align="right">comment:6</div>

Alternative and simpler solution: keep using `distutils` instead of `pip` to install `notebook`.



---

archive/issue_comments_290895.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9b13184db417dbef7b75d28fdd821e93ae46584a\">9b13184</a></td><td><code>Install the Jupyter notebook using distutils to avoid dependency on terminado</code></td></tr></table>\n",
    "created_at": "2016-08-16T13:54:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290895",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9b13184db417dbef7b75d28fdd821e93ae46584a">9b13184</a></td><td><code>Install the Jupyter notebook using distutils to avoid dependency on terminado</code></td></tr></table>




---

archive/issue_comments_290896.json:
```json
{
    "body": "Changed commit from **[`fd131c1`](https://github.com/sagemath/sagetrac-mirror/commit/fd131c1a550242299e367080fa1a77a5823daaed)** to **[`9b13184`](https://github.com/sagemath/sagetrac-mirror/commit/9b13184db417dbef7b75d28fdd821e93ae46584a)**",
    "created_at": "2016-08-16T13:54:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290896",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`fd131c1`](https://github.com/sagemath/sagetrac-mirror/commit/fd131c1a550242299e367080fa1a77a5823daaed)** to **[`9b13184`](https://github.com/sagemath/sagetrac-mirror/commit/9b13184db417dbef7b75d28fdd821e93ae46584a)**



---

archive/issue_comments_290897.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nThis is exactly the kind of problem which can happen because of `--no-deps`: `notebook` has an unsatisfied dependency (`terminado`). This breaks stuff but might pass automated tested since actually running `jupyter` is not tested.",
    "created_at": "2016-08-16T14:02:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290897",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:8" align="right">comment:8</div>

This is exactly the kind of problem which can happen because of `--no-deps`: `notebook` has an unsatisfied dependency (`terminado`). This breaks stuff but might pass automated tested since actually running `jupyter` is not tested.



---

archive/issue_comments_290898.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nI'm not sure I'm following you.  Obviously jupyter notebook has a dependency that isn't satisfied because Sage doesn't include it.  Just forcing it to install without that dependency and leaving it broken is *not* a solution.",
    "created_at": "2016-08-16T14:10:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290898",
    "user": "https://github.com/embray"
}
```

<div id="comment:9" align="right">comment:9</div>

I'm not sure I'm following you.  Obviously jupyter notebook has a dependency that isn't satisfied because Sage doesn't include it.  Just forcing it to install without that dependency and leaving it broken is *not* a solution.



---

archive/issue_comments_290899.json:
```json
{
    "body": "<div id=\"comment:110\" align=\"right\">comment:110</div>\n\nReplying to [@embray](#comment:109):\n> Obviously jupyter notebook has a dependency that isn't satisfied because Sage doesn't include it.  Just forcing it to install without that dependency and leaving it broken is *not* a solution.\n\nI would argue that the bug is in Jupyter's requirements list: it lists a dependency which in practice is not a dependency at all, but more like an optional add-on.\n\nI just want to get on with this and this is a simple solution which is known to work.",
    "created_at": "2016-08-16T14:21:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290899",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:110" align="right">comment:110</div>

Replying to [@embray](#comment:109):
> Obviously jupyter notebook has a dependency that isn't satisfied because Sage doesn't include it.  Just forcing it to install without that dependency and leaving it broken is *not* a solution.

I would argue that the bug is in Jupyter's requirements list: it lists a dependency which in practice is not a dependency at all, but more like an optional add-on.

I just want to get on with this and this is a simple solution which is known to work.



---

archive/issue_comments_290900.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/feed1dceedc23e9662800483ee010f585a90c1ee\">feed1dc</a></td><td><code>Add a few missing dependencies</code></td></tr></table>\n",
    "created_at": "2016-08-16T14:23:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290900",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:1"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/feed1dceedc23e9662800483ee010f585a90c1ee">feed1dc</a></td><td><code>Add a few missing dependencies</code></td></tr></table>




---

archive/issue_comments_290901.json:
```json
{
    "body": "Changed commit from **[`9b13184`](https://github.com/sagemath/sagetrac-mirror/commit/9b13184db417dbef7b75d28fdd821e93ae46584a)** to **[`feed1dc`](https://github.com/sagemath/sagetrac-mirror/commit/feed1dceedc23e9662800483ee010f585a90c1ee)**",
    "created_at": "2016-08-16T14:23:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290901",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9b13184`](https://github.com/sagemath/sagetrac-mirror/commit/9b13184db417dbef7b75d28fdd821e93ae46584a)** to **[`feed1dc`](https://github.com/sagemath/sagetrac-mirror/commit/feed1dceedc23e9662800483ee010f585a90c1ee)**



---

archive/issue_comments_290902.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nThis last commit adds a few missing dependencies, exposed by #21256.",
    "created_at": "2016-08-16T14:23:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290902",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:2" align="right">comment:2</div>

This last commit adds a few missing dependencies, exposed by #21256.



---

archive/issue_comments_290903.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nTo be fair, terminado supplies the terminal interface in the Notebook, so even if as you're claiming it's optional, it is certainly nice to have.  In any case you can say it's a bug or not but if they're including it in their requirements list then I say it's a requirement unless specified otherwise.  This is definitely no solution.",
    "created_at": "2016-08-16T14:26:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290903",
    "user": "https://github.com/embray"
}
```

<div id="comment:3" align="right">comment:3</div>

To be fair, terminado supplies the terminal interface in the Notebook, so even if as you're claiming it's optional, it is certainly nice to have.  In any case you can say it's a bug or not but if they're including it in their requirements list then I say it's a requirement unless specified otherwise.  This is definitely no solution.



---

archive/issue_comments_290904.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nSo what we should then? I see two options:\n\n1. Patch `notebook/setup.py` to remove `terminado` from the dependencies.\n\n2. Add a `terminado` package to Sage as dependency of this ticket.",
    "created_at": "2016-08-16T14:47:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290904",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:4" align="right">comment:4</div>

So what we should then? I see two options:

1. Patch `notebook/setup.py` to remove `terminado` from the dependencies.

2. Add a `terminado` package to Sage as dependency of this ticket.



---

archive/issue_comments_290905.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nI suggest option 2.  As it is, for the Docker image for Sage I'm also installing terminado separately.  I don't see why it shouldn't be included.\n\nIf it helps, looking at the setup.py for notebook, it seems terminado *is* being considered a requirement on any non-Windows platform.  Probably because even though they've been careful to make it so that the notebook can work without it, not having it means missing functionality==a defect.  I don't think we should say that \"Sage includes the Jupyter notebook\" and then ship a defective product.\n\nThe reason you get this\n\n```\npkg_resources.DistributionNotFound: The 'terminado>=0.3.3' distribution was not found and is required by notebook\n```\n\nis that installing with setuptools also installs the autogenerated console script wrappers which do dependency checking when you run them, so it's right to say that it won't run without some dependency installed.",
    "created_at": "2016-08-16T15:06:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290905",
    "user": "https://github.com/embray"
}
```

<div id="comment:5" align="right">comment:5</div>

I suggest option 2.  As it is, for the Docker image for Sage I'm also installing terminado separately.  I don't see why it shouldn't be included.

If it helps, looking at the setup.py for notebook, it seems terminado *is* being considered a requirement on any non-Windows platform.  Probably because even though they've been careful to make it so that the notebook can work without it, not having it means missing functionality==a defect.  I don't think we should say that "Sage includes the Jupyter notebook" and then ship a defective product.

The reason you get this

```
pkg_resources.DistributionNotFound: The 'terminado>=0.3.3' distribution was not found and is required by notebook
```

is that installing with setuptools also installs the autogenerated console script wrappers which do dependency checking when you run them, so it's right to say that it won't run without some dependency installed.



---

archive/issue_comments_290906.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6c47f0bd4d4342a0f22a9e61cf0721430b240276\">6c47f0b</a></td><td><code>Add a few missing dependencies</code></td></tr></table>\n",
    "created_at": "2016-08-17T08:07:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290906",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6c47f0bd4d4342a0f22a9e61cf0721430b240276">6c47f0b</a></td><td><code>Add a few missing dependencies</code></td></tr></table>




---

archive/issue_comments_290907.json:
```json
{
    "body": "Changed commit from **[`feed1dc`](https://github.com/sagemath/sagetrac-mirror/commit/feed1dceedc23e9662800483ee010f585a90c1ee)** to **[`6c47f0b`](https://github.com/sagemath/sagetrac-mirror/commit/6c47f0bd4d4342a0f22a9e61cf0721430b240276)**",
    "created_at": "2016-08-17T08:07:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290907",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`feed1dc`](https://github.com/sagemath/sagetrac-mirror/commit/feed1dceedc23e9662800483ee010f585a90c1ee)** to **[`6c47f0b`](https://github.com/sagemath/sagetrac-mirror/commit/6c47f0bd4d4342a0f22a9e61cf0721430b240276)**



---

archive/issue_comments_290908.json:
```json
{
    "body": "Changed commit from **[`6c47f0b`](https://github.com/sagemath/sagetrac-mirror/commit/6c47f0bd4d4342a0f22a9e61cf0721430b240276)** to **[`829a5b4`](https://github.com/sagemath/sagetrac-mirror/commit/829a5b445e8f6b1e7eab56ae8e428f5995e4cebd)**",
    "created_at": "2016-08-17T08:16:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290908",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6c47f0b`](https://github.com/sagemath/sagetrac-mirror/commit/6c47f0bd4d4342a0f22a9e61cf0721430b240276)** to **[`829a5b4`](https://github.com/sagemath/sagetrac-mirror/commit/829a5b445e8f6b1e7eab56ae8e428f5995e4cebd)**



---

archive/issue_comments_290909.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/afc90d4e8b968e626ea54789f1e05b154b053759\">afc90d4</a></td><td><code>Add terminado as standard package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/115e77b54de0c11dd4972855f3a5fa94abfb6d4b\">115e77b</a></td><td><code>Merge remote-tracking branch 'trac/u/jdemeyer/add_a_terminado_package' into t/20218/pip-install</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/829a5b445e8f6b1e7eab56ae8e428f5995e4cebd\">829a5b4</a></td><td><code>Add a few missing dependencies</code></td></tr></table>\n",
    "created_at": "2016-08-17T08:16:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290909",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/afc90d4e8b968e626ea54789f1e05b154b053759">afc90d4</a></td><td><code>Add terminado as standard package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/115e77b54de0c11dd4972855f3a5fa94abfb6d4b">115e77b</a></td><td><code>Merge remote-tracking branch 'trac/u/jdemeyer/add_a_terminado_package' into t/20218/pip-install</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/829a5b445e8f6b1e7eab56ae8e428f5995e4cebd">829a5b4</a></td><td><code>Add a few missing dependencies</code></td></tr></table>




---

archive/issue_comments_290910.json:
```json
{
    "body": "Dependencies: **#21260**",
    "created_at": "2016-08-17T08:17:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290910",
    "user": "https://github.com/jdemeyer"
}
```

Dependencies: **#21260**



---

archive/issue_comments_290911.json:
```json
{
    "body": "Changed dependencies from **#21260** to **#21260, #21261**",
    "created_at": "2016-08-17T08:45:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290911",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#21260** to **#21260, #21261**



---

archive/issue_comments_290912.json:
```json
{
    "body": "Changed commit from **[`829a5b4`](https://github.com/sagemath/sagetrac-mirror/commit/829a5b445e8f6b1e7eab56ae8e428f5995e4cebd)** to **[`1e0a377`](https://github.com/sagemath/sagetrac-mirror/commit/1e0a377879cd1e9eea3b6651d57ac1fd9564cf95)**",
    "created_at": "2016-08-17T09:29:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290912",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`829a5b4`](https://github.com/sagemath/sagetrac-mirror/commit/829a5b445e8f6b1e7eab56ae8e428f5995e4cebd)** to **[`1e0a377`](https://github.com/sagemath/sagetrac-mirror/commit/1e0a377879cd1e9eea3b6651d57ac1fd9564cf95)**



---

archive/issue_comments_290913.json:
```json
{
    "body": "<div id=\"comment:0\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fdb403eb74130532900c41e73c54e5de8fb441d0\">fdb403e</a></td><td><code>Add entrypoints and configparser packages</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c4fc97cd760ef5260bab0a80fb1dff9ca1cbfe3a\">c4fc97c</a></td><td><code>Merge remote-tracking branches 'trac/u/jdemeyer/add_a_terminado_package' and 'trac/u/jdemeyer/add_a_entrypoints_package' into t/20218/pip-install</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1e0a377879cd1e9eea3b6651d57ac1fd9564cf95\">1e0a377</a></td><td><code>Fix installation of Jupyter packages</code></td></tr></table>\n",
    "created_at": "2016-08-17T09:29:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290913",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:0"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fdb403eb74130532900c41e73c54e5de8fb441d0">fdb403e</a></td><td><code>Add entrypoints and configparser packages</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c4fc97cd760ef5260bab0a80fb1dff9ca1cbfe3a">c4fc97c</a></td><td><code>Merge remote-tracking branches 'trac/u/jdemeyer/add_a_terminado_package' and 'trac/u/jdemeyer/add_a_entrypoints_package' into t/20218/pip-install</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1e0a377879cd1e9eea3b6651d57ac1fd9564cf95">1e0a377</a></td><td><code>Fix installation of Jupyter packages</code></td></tr></table>




---

archive/issue_comments_290914.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7054c41c14c7a619fee1ccaa79da1273e5713727\">7054c41</a></td><td><code>Fix installation of Jupyter packages</code></td></tr></table>\n",
    "created_at": "2016-08-17T09:42:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290914",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:1"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7054c41c14c7a619fee1ccaa79da1273e5713727">7054c41</a></td><td><code>Fix installation of Jupyter packages</code></td></tr></table>




---

archive/issue_comments_290915.json:
```json
{
    "body": "Changed commit from **[`1e0a377`](https://github.com/sagemath/sagetrac-mirror/commit/1e0a377879cd1e9eea3b6651d57ac1fd9564cf95)** to **[`7054c41`](https://github.com/sagemath/sagetrac-mirror/commit/7054c41c14c7a619fee1ccaa79da1273e5713727)**",
    "created_at": "2016-08-17T09:42:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290915",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1e0a377`](https://github.com/sagemath/sagetrac-mirror/commit/1e0a377879cd1e9eea3b6651d57ac1fd9564cf95)** to **[`7054c41`](https://github.com/sagemath/sagetrac-mirror/commit/7054c41c14c7a619fee1ccaa79da1273e5713727)**



---

archive/issue_events_285466.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-08-17T09:47:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285466"
}
```



---

archive/issue_events_285467.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-08-17T09:47:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285467"
}
```



---

archive/issue_comments_290916.json:
```json
{
    "body": "Changed author from **Erik Bray** to **Erik Bray, Jeroen Demeyer**",
    "created_at": "2016-08-17T09:47:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290916",
    "user": "https://github.com/jdemeyer"
}
```

Changed author from **Erik Bray** to **Erik Bray, Jeroen Demeyer**



---

archive/issue_events_285468.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-08-17T20:24:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285468"
}
```



---

archive/issue_events_285469.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-08-17T20:24:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285469"
}
```



---

archive/issue_comments_290917.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nThis is minor, but a few packages (configparser, terminado, entrypoints) still have an explicit `pip install` in their `spgk-install` instead of the `$PIP_INSTALL`.  The effect is the same, but if it's not fixed now but the idea was to have a standard way of invoking pip for all packages, and it could have surprising effects if some packages aren't getting the same arguments for pip.",
    "created_at": "2016-08-19T10:44:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290917",
    "user": "https://github.com/embray"
}
```

<div id="comment:4" align="right">comment:4</div>

This is minor, but a few packages (configparser, terminado, entrypoints) still have an explicit `pip install` in their `spgk-install` instead of the `$PIP_INSTALL`.  The effect is the same, but if it's not fixed now but the idea was to have a standard way of invoking pip for all packages, and it could have surprising effects if some packages aren't getting the same arguments for pip.



---

archive/issue_events_285470.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-08-19T10:44:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285470"
}
```



---

archive/issue_events_285471.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-08-19T10:44:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285471"
}
```



---

archive/issue_events_285472.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-08-19T11:05:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285472"
}
```



---

archive/issue_events_285473.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-08-19T11:05:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285473"
}
```



---

archive/issue_comments_290918.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nThat can be fixed in a follow-up ticket. There is no reason to hold up this ticket for that.",
    "created_at": "2016-08-19T11:05:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290918",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:5" align="right">comment:5</div>

That can be fixed in a follow-up ticket. There is no reason to hold up this ticket for that.



---

archive/issue_events_285474.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-08-19T22:45:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285474"
}
```



---

archive/issue_events_285475.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-08-19T22:45:21Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285475"
}
```



---

archive/issue_comments_290919.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/pip-install](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/pip-install)** to **[`7054c41`](https://github.com/sagemath/sagetrac-mirror/commit/7054c41c14c7a619fee1ccaa79da1273e5713727)**",
    "created_at": "2016-08-19T22:45:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290919",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jdemeyer/pip-install](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/pip-install)** to **[`7054c41`](https://github.com/sagemath/sagetrac-mirror/commit/7054c41c14c7a619fee1ccaa79da1273e5713727)**



---

archive/issue_comments_290920.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nBreaks OSX when compiling from scratch in numpy\n\n```\n[numpy-1.11.1] gcc version 4.9.3 (GCC) \n[numpy-1.11.1] ****************************************************\n[numpy-1.11.1] patching file numpy/core/function_base.py\n[numpy-1.11.1] patching file numpy/distutils/system_info.py\n[numpy-1.11.1] Hunk #1 succeeded at 1685 (offset -5 lines).\n[numpy-1.11.1] Hunk #2 succeeded at 1718 (offset -4 lines).\n[numpy-1.11.1] \n[numpy-1.11.1] Usage:   \n[numpy-1.11.1]   pip install [options] <requirement specifier> [package-index-options] ...\n[numpy-1.11.1]   pip install [options] -r <requirements file> [package-index-options] ...\n[numpy-1.11.1]   pip install [options] [-e] <vcs project url> ...\n[numpy-1.11.1]   pip install [options] [-e] <local project path> ...\n[numpy-1.11.1]   pip install [options] <archive url/path> ...\n[numpy-1.11.1] \n[numpy-1.11.1] no such option: ---global-option\n[numpy-1.11.1] \n[numpy-1.11.1] real\t0m0.519s\n[numpy-1.11.1] user\t0m0.269s\n[numpy-1.11.1] sys\t0m0.142s\n[numpy-1.11.1] ************************************************************************\n[numpy-1.11.1] Error installing package numpy-1.11.1\n```\nNote on OSX:\n\n```\nosx:build buildslave-sage$ NUMPY_FCONFIG=\"config_fc --noopt --noarch\"\nosx:build buildslave-sage$ echo $NUMPY_FCONFIG | sed -e 's/\\(\\S*\\)/--global-option \\1/g'\n--global-option c--global-option o--global-option n--global-option f--global-option i--global-option g--global-option _--global-option f--global-option c--global-option  --global-option ---global-option ---global-option n--global-option o--global-option o--global-option p--global-option t--global-option  --global-option ---global-option ---global-option n--global-option o--global-option a--global-option r--global-option c--global-option h--global-option \n```",
    "created_at": "2016-08-20T22:32:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290920",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:7" align="right">comment:7</div>

Breaks OSX when compiling from scratch in numpy

```
[numpy-1.11.1] gcc version 4.9.3 (GCC) 
[numpy-1.11.1] ****************************************************
[numpy-1.11.1] patching file numpy/core/function_base.py
[numpy-1.11.1] patching file numpy/distutils/system_info.py
[numpy-1.11.1] Hunk #1 succeeded at 1685 (offset -5 lines).
[numpy-1.11.1] Hunk #2 succeeded at 1718 (offset -4 lines).
[numpy-1.11.1] 
[numpy-1.11.1] Usage:   
[numpy-1.11.1]   pip install [options] <requirement specifier> [package-index-options] ...
[numpy-1.11.1]   pip install [options] -r <requirements file> [package-index-options] ...
[numpy-1.11.1]   pip install [options] [-e] <vcs project url> ...
[numpy-1.11.1]   pip install [options] [-e] <local project path> ...
[numpy-1.11.1]   pip install [options] <archive url/path> ...
[numpy-1.11.1] 
[numpy-1.11.1] no such option: ---global-option
[numpy-1.11.1] 
[numpy-1.11.1] real	0m0.519s
[numpy-1.11.1] user	0m0.269s
[numpy-1.11.1] sys	0m0.142s
[numpy-1.11.1] ************************************************************************
[numpy-1.11.1] Error installing package numpy-1.11.1
```
Note on OSX:

```
osx:build buildslave-sage$ NUMPY_FCONFIG="config_fc --noopt --noarch"
osx:build buildslave-sage$ echo $NUMPY_FCONFIG | sed -e 's/\(\S*\)/--global-option \1/g'
--global-option c--global-option o--global-option n--global-option f--global-option i--global-option g--global-option _--global-option f--global-option c--global-option  --global-option ---global-option ---global-option n--global-option o--global-option o--global-option p--global-option t--global-option  --global-option ---global-option ---global-option n--global-option o--global-option a--global-option r--global-option c--global-option h--global-option 
```



---

archive/issue_comments_290921.json:
```json
{
    "body": "Changed commit from **[`7054c41`](https://github.com/sagemath/sagetrac-mirror/commit/7054c41c14c7a619fee1ccaa79da1273e5713727)** to none",
    "created_at": "2016-08-20T22:32:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290921",
    "user": "https://github.com/vbraun"
}
```

Changed commit from **[`7054c41`](https://github.com/sagemath/sagetrac-mirror/commit/7054c41c14c7a619fee1ccaa79da1273e5713727)** to none



---

archive/issue_comments_290922.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nApparently on OSX that should be `sed -E` not `sed -e` :(",
    "created_at": "2016-08-22T09:39:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290922",
    "user": "https://github.com/embray"
}
```

<div id="comment:8" align="right">comment:8</div>

Apparently on OSX that should be `sed -E` not `sed -e` :(



---

archive/issue_comments_290923.json:
```json
{
    "body": "<div id=\"comment:129\" align=\"right\">comment:129</div>\n\nReplying to [@embray](#comment:128):\n> Apparently on OSX that should be `sed -E` not `sed -e` :(\n\nIn fact the `-e` doesn't really even need to be there. I'm not sure why I put it.  But on OSX it seems the `-E` is needed to interpret the command as a \"modern\" perl-style regexp.",
    "created_at": "2016-08-22T09:45:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290923",
    "user": "https://github.com/embray"
}
```

<div id="comment:129" align="right">comment:129</div>

Replying to [@embray](#comment:128):
> Apparently on OSX that should be `sed -E` not `sed -e` :(

In fact the `-e` doesn't really even need to be there. I'm not sure why I put it.  But on OSX it seems the `-E` is needed to interpret the command as a "modern" perl-style regexp.



---

archive/issue_comments_290924.json:
```json
{
    "body": "<div id=\"comment:0\" align=\"right\">comment:0</div>\n\nOr for a more portable way without invoking `sed` at all:\n\n```\n$(for opt in $NUMPY_FCONFIG; do printf ' %s %s' --global-option $opt; done)\n```",
    "created_at": "2016-08-22T09:50:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290924",
    "user": "https://github.com/embray"
}
```

<div id="comment:0" align="right">comment:0</div>

Or for a more portable way without invoking `sed` at all:

```
$(for opt in $NUMPY_FCONFIG; do printf ' %s %s' --global-option $opt; done)
```



---

archive/issue_comments_290925.json:
```json
{
    "body": "Commit: **[`7054c41`](https://github.com/sagemath/sagetrac-mirror/commit/7054c41c14c7a619fee1ccaa79da1273e5713727)**",
    "created_at": "2016-08-22T17:58:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290925",
    "user": "https://github.com/vbraun"
}
```

Commit: **[`7054c41`](https://github.com/sagemath/sagetrac-mirror/commit/7054c41c14c7a619fee1ccaa79da1273e5713727)**



---

archive/issue_comments_290926.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nI don't really care which variant long as it works ;-)\n\n---\nLast 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a692a300c47526f4ab7987bcc109ca23e9acee20\">a692a30</a></td><td><code>Update some packages that were added since the start of this branch to use pip.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3e16e00113042fd2d0348db07310e0bfc57f815c\">3e16e00</a></td><td><code>Some of the packages changed to use pip in 2fe1d357600e60d3422141ba5a7fb16efb3a691b needed pip added to their build deps.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/332d91561b060f22f6af8539bc5440659403447a\">332d915</a></td><td><code>Move PIP_INSTALL into sage-env so that it's available so long as the Sage environment is activated</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d6121b21c29ba65f71b8804edbd621282854bcd7\">d6121b2</a></td><td><code>pip install sagenb_exports</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d7218a077e4c2bffe8a8cd6a496e62313191a36b\">d7218a0</a></td><td><code>Three new Python packages were added that should use pip for installation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fd131c1a550242299e367080fa1a77a5823daaed\">fd131c1</a></td><td><code>Add --verbose flag to pip</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/afc90d4e8b968e626ea54789f1e05b154b053759\">afc90d4</a></td><td><code>Add terminado as standard package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fdb403eb74130532900c41e73c54e5de8fb441d0\">fdb403e</a></td><td><code>Add entrypoints and configparser packages</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c4fc97cd760ef5260bab0a80fb1dff9ca1cbfe3a\">c4fc97c</a></td><td><code>Merge remote-tracking branches 'trac/u/jdemeyer/add_a_terminado_package' and 'trac/u/jdemeyer/add_a_entrypoints_package' into t/20218/pip-install</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7054c41c14c7a619fee1ccaa79da1273e5713727\">7054c41</a></td><td><code>Fix installation of Jupyter packages</code></td></tr></table>\n",
    "created_at": "2016-08-22T17:58:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290926",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:1" align="right">comment:1</div>

I don't really care which variant long as it works ;-)

---
Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a692a300c47526f4ab7987bcc109ca23e9acee20">a692a30</a></td><td><code>Update some packages that were added since the start of this branch to use pip.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3e16e00113042fd2d0348db07310e0bfc57f815c">3e16e00</a></td><td><code>Some of the packages changed to use pip in 2fe1d357600e60d3422141ba5a7fb16efb3a691b needed pip added to their build deps.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/332d91561b060f22f6af8539bc5440659403447a">332d915</a></td><td><code>Move PIP_INSTALL into sage-env so that it's available so long as the Sage environment is activated</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d6121b21c29ba65f71b8804edbd621282854bcd7">d6121b2</a></td><td><code>pip install sagenb_exports</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d7218a077e4c2bffe8a8cd6a496e62313191a36b">d7218a0</a></td><td><code>Three new Python packages were added that should use pip for installation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fd131c1a550242299e367080fa1a77a5823daaed">fd131c1</a></td><td><code>Add --verbose flag to pip</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/afc90d4e8b968e626ea54789f1e05b154b053759">afc90d4</a></td><td><code>Add terminado as standard package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fdb403eb74130532900c41e73c54e5de8fb441d0">fdb403e</a></td><td><code>Add entrypoints and configparser packages</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c4fc97cd760ef5260bab0a80fb1dff9ca1cbfe3a">c4fc97c</a></td><td><code>Merge remote-tracking branches 'trac/u/jdemeyer/add_a_terminado_package' and 'trac/u/jdemeyer/add_a_entrypoints_package' into t/20218/pip-install</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7054c41c14c7a619fee1ccaa79da1273e5713727">7054c41</a></td><td><code>Fix installation of Jupyter packages</code></td></tr></table>




---

archive/issue_comments_290927.json:
```json
{
    "body": "Changed branch from **[`7054c41`](https://github.com/sagemath/sagetrac-mirror/commit/7054c41c14c7a619fee1ccaa79da1273e5713727)** to **[u/jdemeyer/pip-install](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/pip-install)**",
    "created_at": "2016-08-22T17:58:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290927",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[`7054c41`](https://github.com/sagemath/sagetrac-mirror/commit/7054c41c14c7a619fee1ccaa79da1273e5713727)** to **[u/jdemeyer/pip-install](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/pip-install)**



---

archive/issue_comments_290928.json:
```json
{
    "body": "Changed dependencies from **#21260, #21261** to none",
    "created_at": "2016-08-26T08:25:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290928",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#21260, #21261** to none



---

archive/issue_comments_290929.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nIs this ready for review?",
    "created_at": "2016-08-26T08:25:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290929",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:2" align="right">comment:2</div>

Is this ready for review?



---

archive/issue_comments_290930.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nI guess not, since no changes have been made :-)",
    "created_at": "2016-08-26T08:32:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290930",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:3" align="right">comment:3</div>

I guess not, since no changes have been made :-)



---

archive/issue_comments_290931.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/99e1494840eac3dbb10d57b4721c4ff281c47c4e\">99e1494</a></td><td><code>Revert changes to numpy</code></td></tr></table>\n",
    "created_at": "2016-08-26T08:58:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290931",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/99e1494840eac3dbb10d57b4721c4ff281c47c4e">99e1494</a></td><td><code>Revert changes to numpy</code></td></tr></table>




---

archive/issue_comments_290932.json:
```json
{
    "body": "Changed commit from **[`7054c41`](https://github.com/sagemath/sagetrac-mirror/commit/7054c41c14c7a619fee1ccaa79da1273e5713727)** to **[`99e1494`](https://github.com/sagemath/sagetrac-mirror/commit/99e1494840eac3dbb10d57b4721c4ff281c47c4e)**",
    "created_at": "2016-08-26T08:58:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290932",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7054c41`](https://github.com/sagemath/sagetrac-mirror/commit/7054c41c14c7a619fee1ccaa79da1273e5713727)** to **[`99e1494`](https://github.com/sagemath/sagetrac-mirror/commit/99e1494840eac3dbb10d57b4721c4ff281c47c4e)**



---

archive/issue_comments_290933.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f5c0b161de6ad824e7eb8752c072c0adab105a41\">f5c0b16</a></td><td><code>wcwidth depends on pip</code></td></tr></table>\n",
    "created_at": "2016-08-26T09:26:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290933",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f5c0b161de6ad824e7eb8752c072c0adab105a41">f5c0b16</a></td><td><code>wcwidth depends on pip</code></td></tr></table>




---

archive/issue_comments_290934.json:
```json
{
    "body": "Changed commit from **[`99e1494`](https://github.com/sagemath/sagetrac-mirror/commit/99e1494840eac3dbb10d57b4721c4ff281c47c4e)** to **[`f5c0b16`](https://github.com/sagemath/sagetrac-mirror/commit/f5c0b161de6ad824e7eb8752c072c0adab105a41)**",
    "created_at": "2016-08-26T09:26:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290934",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`99e1494`](https://github.com/sagemath/sagetrac-mirror/commit/99e1494840eac3dbb10d57b4721c4ff281c47c4e)** to **[`f5c0b16`](https://github.com/sagemath/sagetrac-mirror/commit/f5c0b161de6ad824e7eb8752c072c0adab105a41)**



---

archive/issue_comments_290935.json:
```json
{
    "body": "<div id=\"comment:136\" align=\"right\">comment:136</div>\n\nReplying to [@sagetrac-git](#comment:134):\n> Branch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/99e1494840eac3dbb10d57b4721c4ff281c47c4e\">99e1494</a></td><td><code>Revert changes to numpy</code></td></tr></table>\n\nI mean that's fine--what this is doing is in effect the same.  But you could have taken one of my suggestions above.  I think the for loop is most effective.  I mean I would just do it but you sort of took over this ticket",
    "created_at": "2016-08-26T09:34:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290935",
    "user": "https://github.com/embray"
}
```

<div id="comment:136" align="right">comment:136</div>

Replying to [@sagetrac-git](#comment:134):
> Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/99e1494840eac3dbb10d57b4721c4ff281c47c4e">99e1494</a></td><td><code>Revert changes to numpy</code></td></tr></table>

I mean that's fine--what this is doing is in effect the same.  But you could have taken one of my suggestions above.  I think the for loop is most effective.  I mean I would just do it but you sort of took over this ticket



---

archive/issue_comments_290936.json:
```json
{
    "body": "<div id=\"comment:137\" align=\"right\">comment:137</div>\n\nI just want this ticket to get merged. We can deal with the difficult cases (like `numpy`) later.",
    "created_at": "2016-08-26T09:43:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290936",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:137" align="right">comment:137</div>

I just want this ticket to get merged. We can deal with the difficult cases (like `numpy`) later.



---

archive/issue_events_285476.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-08-26T09:46:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285476"
}
```



---

archive/issue_comments_290937.json:
```json
{
    "body": "<div id=\"comment:138\" align=\"right\">comment:138</div>\n\nReplying to [@embray](#comment:136):\n> I mean that's fine\n\nMay I take that as positive review?",
    "created_at": "2016-08-26T09:46:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290937",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:138" align="right">comment:138</div>

Replying to [@embray](#comment:136):
> I mean that's fine

May I take that as positive review?



---

archive/issue_events_285477.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-08-26T09:46:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285477"
}
```



---

archive/issue_events_285478.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-08-26T09:46:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285478"
}
```



---

archive/issue_comments_290938.json:
```json
{
    "body": "<div id=\"comment:0\" align=\"right\">comment:0</div>\n\nYeah, yeah :)  *fingers crossed*",
    "created_at": "2016-08-26T10:16:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290938",
    "user": "https://github.com/embray"
}
```

<div id="comment:0" align="right">comment:0</div>

Yeah, yeah :)  *fingers crossed*



---

archive/issue_comments_290939.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nIPython on OSX appears to require a platform-specific package:\n\n```\nsage -t --long src/sage/tests/cmdline.py\n**********************************************************************\nFile \"src/sage/tests/cmdline.py\", line 476, in sage.tests.cmdline.test_executable\nFailed example:\n    out.find(\"5559060566555523\") >= 0\nExpected:\n    True\nGot:\n    False\n**********************************************************************\nFile \"src/sage/tests/cmdline.py\", line 478, in sage.tests.cmdline.test_executable\nFailed example:\n    err\nExpected:\n    ''\nGot:\n    'Traceback (most recent call last):\\n  File \"/Users/buildslave-sage/slave/sage_git/build/local/bin/ipython\", line 5, in <module>\\n    from pkg_resources import load_entry_point\\n  File \"/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 2927, in <module>\\n    @_call_aside\\n  File \"/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 2913, in _call_aside\\n    f(*args, **kwargs)\\n  File \"/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 2940, in _initialize_master_working_set\\n    working_set = WorkingSet._build_master()\\n  File \"/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 635, in _build_master\\n    ws.require(__requires__)\\n  File \"/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 943, in require\\n    needed = self.resolve(parse_requirements(requirements))\\n  File \"/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 829, in resolve\\n    raise DistributionNotFound(req, requirers)\\npkg_resources.DistributionNotFound: The \\'appnope\\' distribution was not found and is required by ipython\\n'\n**********************************************************************\nFile \"src/sage/tests/cmdline.py\", line 480, in sage.tests.cmdline.test_executable\nFailed example:\n    ret\nExpected:\n    0\nGot:\n    1\n**********************************************************************\n1 item had failures:\n   3 of 239 in sage.tests.cmdline.test_executable\n    [238 tests, 3 failures, 71.27 s]\n```",
    "created_at": "2016-08-27T08:32:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290939",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:1" align="right">comment:1</div>

IPython on OSX appears to require a platform-specific package:

```
sage -t --long src/sage/tests/cmdline.py
**********************************************************************
File "src/sage/tests/cmdline.py", line 476, in sage.tests.cmdline.test_executable
Failed example:
    out.find("5559060566555523") >= 0
Expected:
    True
Got:
    False
**********************************************************************
File "src/sage/tests/cmdline.py", line 478, in sage.tests.cmdline.test_executable
Failed example:
    err
Expected:
    ''
Got:
    'Traceback (most recent call last):\n  File "/Users/buildslave-sage/slave/sage_git/build/local/bin/ipython", line 5, in <module>\n    from pkg_resources import load_entry_point\n  File "/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 2927, in <module>\n    @_call_aside\n  File "/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 2913, in _call_aside\n    f(*args, **kwargs)\n  File "/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 2940, in _initialize_master_working_set\n    working_set = WorkingSet._build_master()\n  File "/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 635, in _build_master\n    ws.require(__requires__)\n  File "/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 943, in require\n    needed = self.resolve(parse_requirements(requirements))\n  File "/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 829, in resolve\n    raise DistributionNotFound(req, requirers)\npkg_resources.DistributionNotFound: The \'appnope\' distribution was not found and is required by ipython\n'
**********************************************************************
File "src/sage/tests/cmdline.py", line 480, in sage.tests.cmdline.test_executable
Failed example:
    ret
Expected:
    0
Got:
    1
**********************************************************************
1 item had failures:
   3 of 239 in sage.tests.cmdline.test_executable
    [238 tests, 3 failures, 71.27 s]
```



---

archive/issue_events_285479.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-08-27T08:32:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285479"
}
```



---

archive/issue_events_285480.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-08-27T08:32:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285480"
}
```



---

archive/issue_comments_290940.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nhttps://pypi.python.org/pypi/appnope/",
    "created_at": "2016-08-27T08:32:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290940",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:2" align="right">comment:2</div>

https://pypi.python.org/pypi/appnope/



---

archive/issue_comments_290941.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\n\n```\nosx:build buildslave-sage$ ./sage --ipython\nTraceback (most recent call last):\n  File \"/Users/buildslave-sage/slave/sage_git/build/local/bin/ipython\", line 5, in <module>\n    from pkg_resources import load_entry_point\n  File \"/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 2927, in <module>\n    @_call_aside\n  File \"/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 2913, in _call_aside\n    f(*args, **kwargs)\n  File \"/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 2940, in _initialize_master_working_set\n    working_set = WorkingSet._build_master()\n  File \"/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 635, in _build_master\n    ws.require(__requires__)\n  File \"/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 943, in require\n    needed = self.resolve(parse_requirements(requirements))\n  File \"/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 829, in resolve\n    raise DistributionNotFound(req, requirers)\npkg_resources.DistributionNotFound: The 'appnope' distribution was not found and is required by ipython\nosx:build buildslave-sage$ ./sage -pip install appnope\nCollecting appnope\n  Downloading appnope-0.1.0-py2.py3-none-any.whl\nInstalling collected packages: appnope\nSuccessfully installed appnope-0.1.0\nosx:build buildslave-sage$ ./sage --ipython\nPython 2.7.10 (default, Aug 27 2016, 01:49:52) \nType \"copyright\", \"credits\" or \"license\" for more information.\n\nIPython 5.0.0 -- An enhanced Interactive Python.\n?         -> Introduction and overview of IPython's features.\n%quickref -> Quick reference.\nhelp      -> Python's own help system.\nobject?   -> Details about 'object', use 'object??' for extra details.\n\nIn [1]: \n```",
    "created_at": "2016-08-27T08:35:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290941",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:3" align="right">comment:3</div>


```
osx:build buildslave-sage$ ./sage --ipython
Traceback (most recent call last):
  File "/Users/buildslave-sage/slave/sage_git/build/local/bin/ipython", line 5, in <module>
    from pkg_resources import load_entry_point
  File "/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 2927, in <module>
    @_call_aside
  File "/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 2913, in _call_aside
    f(*args, **kwargs)
  File "/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 2940, in _initialize_master_working_set
    working_set = WorkingSet._build_master()
  File "/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 635, in _build_master
    ws.require(__requires__)
  File "/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 943, in require
    needed = self.resolve(parse_requirements(requirements))
  File "/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 829, in resolve
    raise DistributionNotFound(req, requirers)
pkg_resources.DistributionNotFound: The 'appnope' distribution was not found and is required by ipython
osx:build buildslave-sage$ ./sage -pip install appnope
Collecting appnope
  Downloading appnope-0.1.0-py2.py3-none-any.whl
Installing collected packages: appnope
Successfully installed appnope-0.1.0
osx:build buildslave-sage$ ./sage --ipython
Python 2.7.10 (default, Aug 27 2016, 01:49:52) 
Type "copyright", "credits" or "license" for more information.

IPython 5.0.0 -- An enhanced Interactive Python.
?         -> Introduction and overview of IPython's features.
%quickref -> Quick reference.
help      -> Python's own help system.
object?   -> Details about 'object', use 'object??' for extra details.

In [1]: 
```



---

archive/issue_comments_290942.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/55f9e9d6aa4e49777418dcfe74ddaa55fb4a269a\">55f9e9d</a></td><td><code>Add appnope package</code></td></tr></table>\n",
    "created_at": "2016-08-27T12:56:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290942",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/55f9e9d6aa4e49777418dcfe74ddaa55fb4a269a">55f9e9d</a></td><td><code>Add appnope package</code></td></tr></table>




---

archive/issue_comments_290943.json:
```json
{
    "body": "Changed commit from **[`f5c0b16`](https://github.com/sagemath/sagetrac-mirror/commit/f5c0b161de6ad824e7eb8752c072c0adab105a41)** to **[`55f9e9d`](https://github.com/sagemath/sagetrac-mirror/commit/55f9e9d6aa4e49777418dcfe74ddaa55fb4a269a)**",
    "created_at": "2016-08-27T12:56:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290943",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f5c0b16`](https://github.com/sagemath/sagetrac-mirror/commit/f5c0b161de6ad824e7eb8752c072c0adab105a41)** to **[`55f9e9d`](https://github.com/sagemath/sagetrac-mirror/commit/55f9e9d6aa4e49777418dcfe74ddaa55fb4a269a)**



---

archive/issue_events_285481.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-08-27T12:57:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285481"
}
```



---

archive/issue_events_285482.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-08-27T12:57:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285482"
}
```



---

archive/issue_comments_290944.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,7 @@\n+New tarball: https://pypi.python.org/packages/26/34/0f3a5efac31f27fabce64645f8c609de9d925fe2915304d1a40f544cff0e/appnope-0.1.0.tar.gz\n+\n+---\n+\n Work has already been done--for example in #19187--on using `pip` for `sage -i` where appropriate.  However, a normal build of sage does not use `pip` for installing any Python spkgs; rather, they run `python setup.py install` which until recently has always been *the* way to install Python packages.\n \n I can suggest several reasons why `pip` should be used instead of this method.  To be clear--as many people think of `pip` as a tool for installing packages from the internet--this is not strictly the case.  `pip` can be used to install an already downloaded tarball, or even straight from a source tree unpacked from a tarball or checked out from VCS.  The typical way to do this is to change directories to the directory containing the `setup.py` script and running `pip install .`.  This still ultimately calls `setup.py install`, among other `setup.py` commands, but with the right incantations to perform a pip-style flat install.  Now, why is this preferable?\n``````\n",
    "created_at": "2016-08-27T12:57:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290944",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,7 @@
+New tarball: https://pypi.python.org/packages/26/34/0f3a5efac31f27fabce64645f8c609de9d925fe2915304d1a40f544cff0e/appnope-0.1.0.tar.gz
+
+---
+
 Work has already been done--for example in #19187--on using `pip` for `sage -i` where appropriate.  However, a normal build of sage does not use `pip` for installing any Python spkgs; rather, they run `python setup.py install` which until recently has always been *the* way to install Python packages.
 
 I can suggest several reasons why `pip` should be used instead of this method.  To be clear--as many people think of `pip` as a tool for installing packages from the internet--this is not strictly the case.  `pip` can be used to install an already downloaded tarball, or even straight from a source tree unpacked from a tarball or checked out from VCS.  The typical way to do this is to change directories to the directory containing the `setup.py` script and running `pip install .`.  This still ultimately calls `setup.py install`, among other `setup.py` commands, but with the right incantations to perform a pip-style flat install.  Now, why is this preferable?
``````




---

archive/issue_events_285483.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-08-27T14:44:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285483"
}
```



---

archive/issue_events_285484.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-08-27T14:44:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285484"
}
```



---

archive/issue_comments_290945.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\n\n```\nsage -t --long src/sage/misc/package.py\n**********************************************************************\nFile \"src/sage/misc/package.py\", line 24, in sage.misc.package\nFailed example:\n    sorted(pkgs.keys())\nExpected:\n    ['4ti2',\n     'alabaster',\n     'arb',\n     ...\n     'zlib',\n     'zn_poly',\n     'zope_interface']\nGot:\n    ['4ti2',\n     'alabaster',\n     'appnope',\n     'arb',\n```",
    "created_at": "2016-08-27T22:34:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290945",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:7" align="right">comment:7</div>


```
sage -t --long src/sage/misc/package.py
**********************************************************************
File "src/sage/misc/package.py", line 24, in sage.misc.package
Failed example:
    sorted(pkgs.keys())
Expected:
    ['4ti2',
     'alabaster',
     'arb',
     ...
     'zlib',
     'zn_poly',
     'zope_interface']
Got:
    ['4ti2',
     'alabaster',
     'appnope',
     'arb',
```



---

archive/issue_events_285485.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-08-27T22:34:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285485"
}
```



---

archive/issue_events_285486.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-08-27T22:34:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285486"
}
```



---

archive/issue_comments_290946.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nHeh. What an insidious test :)",
    "created_at": "2016-08-29T10:53:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290946",
    "user": "https://github.com/embray"
}
```

<div id="comment:8" align="right">comment:8</div>

Heh. What an insidious test :)



---

archive/issue_comments_290947.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nThat test doesn't exist in this branch... all tests pass on my machine. It must have been added recently.",
    "created_at": "2016-08-30T08:11:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290947",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:9" align="right">comment:9</div>

That test doesn't exist in this branch... all tests pass on my machine. It must have been added recently.



---

archive/issue_comments_290948.json:
```json
{
    "body": "<div id=\"comment:0\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7f365e3b0d648976056e11d3e02918aca2b525a7\">7f365e3</a></td><td><code>Merge tag '7.4.beta2' into t/20218/pip-install</code></td></tr></table>\n",
    "created_at": "2016-08-30T08:12:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290948",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:0"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7f365e3b0d648976056e11d3e02918aca2b525a7">7f365e3</a></td><td><code>Merge tag '7.4.beta2' into t/20218/pip-install</code></td></tr></table>




---

archive/issue_comments_290949.json:
```json
{
    "body": "Changed commit from **[`55f9e9d`](https://github.com/sagemath/sagetrac-mirror/commit/55f9e9d6aa4e49777418dcfe74ddaa55fb4a269a)** to **[`7f365e3`](https://github.com/sagemath/sagetrac-mirror/commit/7f365e3b0d648976056e11d3e02918aca2b525a7)**",
    "created_at": "2016-08-30T08:12:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290949",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`55f9e9d`](https://github.com/sagemath/sagetrac-mirror/commit/55f9e9d6aa4e49777418dcfe74ddaa55fb4a269a)** to **[`7f365e3`](https://github.com/sagemath/sagetrac-mirror/commit/7f365e3b0d648976056e11d3e02918aca2b525a7)**



---

archive/issue_comments_290950.json:
```json
{
    "body": "Changed commit from **[`7f365e3`](https://github.com/sagemath/sagetrac-mirror/commit/7f365e3b0d648976056e11d3e02918aca2b525a7)** to **[`f6859c3`](https://github.com/sagemath/sagetrac-mirror/commit/f6859c31c0322c22d9ad2b6ab21b8e8c8948e16d)**",
    "created_at": "2016-08-30T09:03:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290950",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7f365e3`](https://github.com/sagemath/sagetrac-mirror/commit/7f365e3b0d648976056e11d3e02918aca2b525a7)** to **[`f6859c3`](https://github.com/sagemath/sagetrac-mirror/commit/f6859c31c0322c22d9ad2b6ab21b8e8c8948e16d)**



---

archive/issue_comments_290951.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f6859c31c0322c22d9ad2b6ab21b8e8c8948e16d\">f6859c3</a></td><td><code>Mark package tests as random</code></td></tr></table>\n",
    "created_at": "2016-08-30T09:03:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290951",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:1"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f6859c31c0322c22d9ad2b6ab21b8e8c8948e16d">f6859c3</a></td><td><code>Mark package tests as random</code></td></tr></table>




---

archive/issue_comments_290952.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nThat test is only used for documentation purposes, it makes no sense to hardcode the list of packages in a test. Therefore, I mark the test `# random`.",
    "created_at": "2016-08-30T09:05:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290952",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:2" align="right">comment:2</div>

That test is only used for documentation purposes, it makes no sense to hardcode the list of packages in a test. Therefore, I mark the test `# random`.



---

archive/issue_events_285487.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-08-30T09:05:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285487"
}
```



---

archive/issue_events_285488.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-08-30T09:05:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285488"
}
```



---

archive/issue_comments_290953.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nPlease review this trivial fix...",
    "created_at": "2016-08-31T11:45:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290953",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:3" align="right">comment:3</div>

Please review this trivial fix...



---

archive/issue_events_285489.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-08-31T12:55:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285489"
}
```



---

archive/issue_events_285490.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-08-31T12:55:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285490"
}
```



---

archive/issue_events_285491.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-09-01T06:44:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285491"
}
```



---

archive/issue_events_285492.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "a052c90db74c5892e71cfa64681b65bbf34f6df3",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-09-01T06:44:21Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20218#event-285492"
}
```



---

archive/issue_comments_290954.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/pip-install](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/pip-install)** to **[`f6859c3`](https://github.com/sagemath/sagetrac-mirror/commit/f6859c31c0322c22d9ad2b6ab21b8e8c8948e16d)**",
    "created_at": "2016-09-01T06:44:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290954",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jdemeyer/pip-install](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/pip-install)** to **[`f6859c3`](https://github.com/sagemath/sagetrac-mirror/commit/f6859c31c0322c22d9ad2b6ab21b8e8c8948e16d)**



---

archive/issue_comments_290955.json:
```json
{
    "body": "<div id=\"comment:156\" align=\"right\">comment:156</div>\n\nReplying to [@embray](#comment:31):\n> pip will uninstall them, *mostly*.\n\nThis doesn't happen, leading to breakage like #21441.",
    "created_at": "2016-09-06T20:29:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290955",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:156" align="right">comment:156</div>

Replying to [@embray](#comment:31):
> pip will uninstall them, *mostly*.

This doesn't happen, leading to breakage like #21441.



---

archive/issue_comments_290956.json:
```json
{
    "body": "Changed commit from **[`f6859c3`](https://github.com/sagemath/sagetrac-mirror/commit/f6859c31c0322c22d9ad2b6ab21b8e8c8948e16d)** to none",
    "created_at": "2016-09-06T20:29:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290956",
    "user": "https://github.com/jdemeyer"
}
```

Changed commit from **[`f6859c3`](https://github.com/sagemath/sagetrac-mirror/commit/f6859c31c0322c22d9ad2b6ab21b8e8c8948e16d)** to none



---

archive/issue_comments_290957.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nIt does happen, normally.  I don't know why it didn't for you.  You might have already had 2 Cythons installed and maybe it only uninstalled one.",
    "created_at": "2016-09-07T08:41:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20218#issuecomment-290957",
    "user": "https://github.com/embray"
}
```

<div id="comment:7" align="right">comment:7</div>

It does happen, normally.  I don't know why it didn't for you.  You might have already had 2 Cythons installed and maybe it only uninstalled one.
