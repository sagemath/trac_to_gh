# Issue 20894: Sage package for Perl 5 readline library

archive/issues_020657.json:
```json
{
    "body": "This is a prerequisite for building Polymake (#20892) on Mac OS X.\n\nhttp://search.cpan.org/~hayashi/Term-ReadLine-Gnu-1.34/\n\nhttp://search.cpan.org/CPAN/authors/id/H/HA/HAYASHI/Term-ReadLine-Gnu-1.34.tar.gz\n\nCC:  @videlec @vbraun @embray @jdemeyer @dimpase @kcrisman @tscrim\n\nBranch/Commit: cfffc5e577405f996f10471273ee137d8cbd7966\n\nReviewer: Karl-Dieter Crisman, Dima Pasechnik\n\nAuthor: Matthias Koeppe\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/20894\n\n",
    "closed_at": "2016-07-09T07:46:15Z",
    "created_at": "2016-06-27T21:24:03Z",
    "labels": [
        "component: packages: experimental"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.3",
    "title": "Sage package for Perl 5 readline library",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20894",
    "user": "https://github.com/mkoeppe"
}
```
This is a prerequisite for building Polymake (#20892) on Mac OS X.

http://search.cpan.org/~hayashi/Term-ReadLine-Gnu-1.34/

http://search.cpan.org/CPAN/authors/id/H/HA/HAYASHI/Term-ReadLine-Gnu-1.34.tar.gz

CC:  @videlec @vbraun @embray @jdemeyer @dimpase @kcrisman @tscrim

Branch/Commit: cfffc5e577405f996f10471273ee137d8cbd7966

Reviewer: Karl-Dieter Crisman, Dima Pasechnik

Author: Matthias Koeppe

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/20894





---

archive/issue_comments_284912.json:
```json
{
    "body": "<a id='comment:3'></a>Not sure if this installation should be done using CPAN scripts instead.\n\n---\nNew commits:",
    "created_at": "2016-06-27T22:17:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20894#issuecomment-284912",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:3'></a>Not sure if this installation should be done using CPAN scripts instead.

---
New commits:



---

archive/issue_comments_284913.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-06-27T22:17:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20894#issuecomment-284913",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_284914.json:
```json
{
    "body": "<a id='comment:5'></a>This always was a big part of the struggle for me in getting this to work on Mac.   Hopefully it can be portable to pre-10.11 as well but at least if it is working on *some* OS X it will be a huge improvement - I regularly see papers citing polymake or latte which could be using Sage to interface better with them and other stuff.",
    "created_at": "2016-06-28T01:07:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20894#issuecomment-284914",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:5'></a>This always was a big part of the struggle for me in getting this to work on Mac.   Hopefully it can be portable to pre-10.11 as well but at least if it is working on *some* OS X it will be a huge improvement - I regularly see papers citing polymake or latte which could be using Sage to interface better with them and other stuff.



---

archive/issue_comments_284915.json:
```json
{
    "body": "<a id='comment:6'></a>There is a problem in the way we do things now with experimental packages.  Here is what I saw:\n\n```\nmake[1]: warning: -jN forced in submake: disabling jobserver mode.\nsage-logger -p 'sage-spkg  perl_term_readline_gnu-1.34' '/Users/karl.crisman/Downloads/sage/logs/pkgs/perl_term_readline_gnu-1.34.log'\n[perl_term_readline_gnu-1.34] Found local metadata for perl_term_readline_gnu-1.34\n[perl_term_readline_gnu-1.34] =========================== WARNING ===========================\n[perl_term_readline_gnu-1.34] You are about to download and install an experimental package.\n[perl_term_readline_gnu-1.34] This probably won't work at all for you! There is no guarantee\n[perl_term_readline_gnu-1.34] that it will build correctly, or behave as expected.\n[perl_term_readline_gnu-1.34] Use at your own risk!\n[perl_term_readline_gnu-1.34] ===============================================================\n<hang>\n```\nbut actually it was waiting for me to answer\n\n```\n[perl_term_readline_gnu-1.34] Are you sure you want to continue [Y/n]? \n```\nwhich the second time I did.  In the old `./sage -i` this worked okay, but somehow with the new logging system it sort of failed.  Don't know if fixing this belongs on this ticket, though.  (Jeroen, I think you've tried out more experimental packages than most - thoughts?)",
    "created_at": "2016-06-28T03:33:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20894#issuecomment-284915",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:6'></a>There is a problem in the way we do things now with experimental packages.  Here is what I saw:

```
make[1]: warning: -jN forced in submake: disabling jobserver mode.
sage-logger -p 'sage-spkg  perl_term_readline_gnu-1.34' '/Users/karl.crisman/Downloads/sage/logs/pkgs/perl_term_readline_gnu-1.34.log'
[perl_term_readline_gnu-1.34] Found local metadata for perl_term_readline_gnu-1.34
[perl_term_readline_gnu-1.34] =========================== WARNING ===========================
[perl_term_readline_gnu-1.34] You are about to download and install an experimental package.
[perl_term_readline_gnu-1.34] This probably won't work at all for you! There is no guarantee
[perl_term_readline_gnu-1.34] that it will build correctly, or behave as expected.
[perl_term_readline_gnu-1.34] Use at your own risk!
[perl_term_readline_gnu-1.34] ===============================================================
<hang>
```
but actually it was waiting for me to answer

```
[perl_term_readline_gnu-1.34] Are you sure you want to continue [Y/n]? 
```
which the second time I did.  In the old `./sage -i` this worked okay, but somehow with the new logging system it sort of failed.  Don't know if fixing this belongs on this ticket, though.  (Jeroen, I think you've tried out more experimental packages than most - thoughts?)



---

archive/issue_comments_284916.json:
```json
{
    "body": "<a id='comment:7'></a>But #20892 still does:\n\n```\n[polymake-3.0r1] Thread model: posix\n[polymake-3.0r1] gcc version 4.9.3 (GCC) \n[polymake-3.0r1] ****************************************************\n[polymake-3.0r1] checking C++ compiler ... ok (g++ is GCC 4.9.3)\n[polymake-3.0r1] checking C++ library ... ok (GNU stdlibc++ 20150626, C++ 199711)\n[polymake-3.0r1] checking fink installation ... The Fink package system is a mandatory prerequisite to build and use polymake under MacOS.\n[polymake-3.0r1] Please refer to http://www.polymake.org/doku.php/mac for details and installation instructions.\n[polymake-3.0r1] If you already have Fink installed at a non-standard location, please specify it using option --with-fink\n[polymake-3.0r1] Several configurations for MacOS platform found;\n[polymake-3.0r1] Please specify the desired one using the option Arch=<NAME>.\n[polymake-3.0r1] Makefile:32: *** CONFIGURATION ERROR.  Stop.\n[polymake-3.0r1] Several configurations for MacOS platform found;\n[polymake-3.0r1] Please specify the desired one using the option Arch=<NAME>.\n[polymake-3.0r1] Makefile:32: *** CONFIGURATION ERROR.  Stop.\n[polymake-3.0r1] \n[polymake-3.0r1] real\t0m1.003s\n[polymake-3.0r1] user\t0m0.415s\n[polymake-3.0r1] sys\t0m0.219s\n[polymake-3.0r1] ************************************************************************\n[polymake-3.0r1] Error installing package polymake-3.0r1\n[polymake-3.0r1] ************************************************************************\n```\nI see you have some special instructions at comment:17:ticket:20892 so I'll try that.",
    "created_at": "2016-06-28T03:34:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20894#issuecomment-284916",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:7'></a>But #20892 still does:

```
[polymake-3.0r1] Thread model: posix
[polymake-3.0r1] gcc version 4.9.3 (GCC) 
[polymake-3.0r1] ****************************************************
[polymake-3.0r1] checking C++ compiler ... ok (g++ is GCC 4.9.3)
[polymake-3.0r1] checking C++ library ... ok (GNU stdlibc++ 20150626, C++ 199711)
[polymake-3.0r1] checking fink installation ... The Fink package system is a mandatory prerequisite to build and use polymake under MacOS.
[polymake-3.0r1] Please refer to http://www.polymake.org/doku.php/mac for details and installation instructions.
[polymake-3.0r1] If you already have Fink installed at a non-standard location, please specify it using option --with-fink
[polymake-3.0r1] Several configurations for MacOS platform found;
[polymake-3.0r1] Please specify the desired one using the option Arch=<NAME>.
[polymake-3.0r1] Makefile:32: *** CONFIGURATION ERROR.  Stop.
[polymake-3.0r1] Several configurations for MacOS platform found;
[polymake-3.0r1] Please specify the desired one using the option Arch=<NAME>.
[polymake-3.0r1] Makefile:32: *** CONFIGURATION ERROR.  Stop.
[polymake-3.0r1] 
[polymake-3.0r1] real	0m1.003s
[polymake-3.0r1] user	0m0.415s
[polymake-3.0r1] sys	0m0.219s
[polymake-3.0r1] ************************************************************************
[polymake-3.0r1] Error installing package polymake-3.0r1
[polymake-3.0r1] ************************************************************************
```
I see you have some special instructions at comment:17:ticket:20892 so I'll try that.



---

archive/issue_comments_284917.json:
```json
{
    "body": "<a id='comment:8'></a>Apparently this is working well enough that I'd say one could give it positive review (modulo comment:6, if relevant).  But I would like to hear from Linuces.  I have to admit I was never successful in getting this to work on my older Mac but apparently the Perl part actually does here!",
    "created_at": "2016-06-28T03:45:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20894#issuecomment-284917",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:8'></a>Apparently this is working well enough that I'd say one could give it positive review (modulo comment:6, if relevant).  But I would like to hear from Linuces.  I have to admit I was never successful in getting this to work on my older Mac but apparently the Perl part actually does here!



---

archive/issue_comments_284918.json:
```json
{
    "body": "<a id='comment:9'></a>Replying to [comment:6 kcrisman]:\n> There is a problem in the way we do things now with experimental packages.  Here is what I saw:\n> \n> ```\n> <hang>\n> ```\n> but actually it was waiting for me to answer\n> \n> ```\n> [perl_term_readline_gnu-1.34] Are you sure you want to continue [Y/n]? \n> ```\n> which the second time I did.\n\n\nThis is bug #20884.",
    "created_at": "2016-06-28T03:53:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20894#issuecomment-284918",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:9'></a>Replying to [comment:6 kcrisman]:
> There is a problem in the way we do things now with experimental packages.  Here is what I saw:
> 
> ```
> <hang>
> ```
> but actually it was waiting for me to answer
> 
> ```
> [perl_term_readline_gnu-1.34] Are you sure you want to continue [Y/n]? 
> ```
> which the second time I did.


This is bug #20884.



---

archive/issue_comments_284919.json:
```json
{
    "body": "<a id='comment:11'></a>Okay, then I think all we need for positive review is someone to test this doesn't break anything.  (E.g. on Linux or Cygwin...)  Very nice!",
    "created_at": "2016-06-28T22:46:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20894#issuecomment-284919",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:11'></a>Okay, then I think all we need for positive review is someone to test this doesn't break anything.  (E.g. on Linux or Cygwin...)  Very nice!



---

archive/issue_comments_284920.json:
```json
{
    "body": "<a id='comment:12'></a>The `ARCHFLAGS='-arch x86_64'` looks weird. How does it behaves on other architectures ?",
    "created_at": "2016-06-30T09:10:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20894#issuecomment-284920",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:12'></a>The `ARCHFLAGS='-arch x86_64'` looks weird. How does it behaves on other architectures ?



---

archive/issue_comments_284921.json:
```json
{
    "body": "<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-07-01T13:30:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20894#issuecomment-284921",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_284922.json:
```json
{
    "body": "<a id='comment:14'></a>Replying to [comment:12 tmonteil]:\n> The `ARCHFLAGS='-arch x86_64'` looks weird. How does it behaves on other architectures ?\n\n\nI now do this only on Mac OS X and use `uname`.\n\nIt needs testing (\"review\") to know whether this ticket works on other architectures. I don't have access to other architectures at the moment.",
    "created_at": "2016-07-01T13:33:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20894#issuecomment-284922",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:14'></a>Replying to [comment:12 tmonteil]:
> The `ARCHFLAGS='-arch x86_64'` looks weird. How does it behaves on other architectures ?


I now do this only on Mac OS X and use `uname`.

It needs testing ("review") to know whether this ticket works on other architectures. I don't have access to other architectures at the moment.



---

archive/issue_comments_284923.json:
```json
{
    "body": "<a id='comment:15'></a>Replying to [comment:14 mkoeppe]:\n> Replying to [comment:12 tmonteil]:\n> > The `ARCHFLAGS='-arch x86_64'` looks weird. How does it behaves on other architectures ?\n\n> \n> I now do this only on Mac OS X and use `uname`.\n\n\nLooks indeed better like this. I will test on i686 soon (i am currently doing some computations there, perhaps for 3-4 more days).\n\n> It needs testing (\"review\") to know whether this ticket works on other architectures. I don't have access to other architectures at the moment.",
    "created_at": "2016-07-01T14:27:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20894#issuecomment-284923",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:15'></a>Replying to [comment:14 mkoeppe]:
> Replying to [comment:12 tmonteil]:
> > The `ARCHFLAGS='-arch x86_64'` looks weird. How does it behaves on other architectures ?

> 
> I now do this only on Mac OS X and use `uname`.


Looks indeed better like this. I will test on i686 soon (i am currently doing some computations there, perhaps for 3-4 more days).

> It needs testing ("review") to know whether this ticket works on other architectures. I don't have access to other architectures at the moment.



---

archive/issue_comments_284924.json:
```json
{
    "body": "<a id='comment:18'></a>I will do testing on i686",
    "created_at": "2016-07-07T08:09:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20894#issuecomment-284924",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:18'></a>I will do testing on i686



---

archive/issue_comments_284925.json:
```json
{
    "body": "<a id='comment:19'></a>the upstream tarball is not wgetttable - I get \"scheme missing\"... While this does not prevent testing, release manager won't be amused.",
    "created_at": "2016-07-07T08:18:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20894#issuecomment-284925",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:19'></a>the upstream tarball is not wgetttable - I get "scheme missing"... While this does not prevent testing, release manager won't be amused.



---

archive/issue_comments_284926.json:
```json
{
    "body": "<a id='comment:20'></a>On `x86_64` this installs well, but `polymake` installation fails:\n\n```\n...\n[polymake-3.0r1] checking mpfr installation ... ok\n[polymake-3.0r1] checking shared perl library ... Can't locate ExtUtils/Embed.pm in @INC (you may need to install the ExtUtils::Embed module) (@INC contains: /home/scratch/dimpase/sage/sage/local/lib/perl5/x86_64-linux-thread-multi /home/scratch/dimpase/sage/sage/local/lib/perl5 /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .).\n[polymake-3.0r1] BEGIN failed--compilation aborted.\n[polymake-3.0r1] Can't locate ExtUtils/Embed.pm in @INC (you may need to install the ExtUtils::Embed module) (@INC contains: /home/scratch/dimpase/sage/sage/local/lib/perl5/x86_64-linux-thread-multi /home/scratch/dimpase/sage/sage/local/lib/perl5 /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .).\n[polymake-3.0r1] BEGIN failed--compilation aborted.\n[polymake-3.0r1] failed\n[polymake-3.0r1] \n[polymake-3.0r1] Could not compile a test program for the libperl.so shared library.\n[polymake-3.0r1] The build error is as follows:\n[polymake-3.0r1] /tmp/polymake_10418_configure.cc:1:20: fatal error: EXTERN.h: No such file or directory\n[polymake-3.0r1] compilation terminated.\n[polymake-3.0r1] \n```",
    "created_at": "2016-07-07T08:37:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20894#issuecomment-284926",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:20'></a>On `x86_64` this installs well, but `polymake` installation fails:

```
...
[polymake-3.0r1] checking mpfr installation ... ok
[polymake-3.0r1] checking shared perl library ... Can't locate ExtUtils/Embed.pm in @INC (you may need to install the ExtUtils::Embed module) (@INC contains: /home/scratch/dimpase/sage/sage/local/lib/perl5/x86_64-linux-thread-multi /home/scratch/dimpase/sage/sage/local/lib/perl5 /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .).
[polymake-3.0r1] BEGIN failed--compilation aborted.
[polymake-3.0r1] Can't locate ExtUtils/Embed.pm in @INC (you may need to install the ExtUtils::Embed module) (@INC contains: /home/scratch/dimpase/sage/sage/local/lib/perl5/x86_64-linux-thread-multi /home/scratch/dimpase/sage/sage/local/lib/perl5 /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .).
[polymake-3.0r1] BEGIN failed--compilation aborted.
[polymake-3.0r1] failed
[polymake-3.0r1] 
[polymake-3.0r1] Could not compile a test program for the libperl.so shared library.
[polymake-3.0r1] The build error is as follows:
[polymake-3.0r1] /tmp/polymake_10418_configure.cc:1:20: fatal error: EXTERN.h: No such file or directory
[polymake-3.0r1] compilation terminated.
[polymake-3.0r1] 
```



---

archive/issue_comments_284927.json:
```json
{
    "body": "<a id='comment:21'></a>Thanks for testing. Could you try to find out which packages on your distribution need to be installed for this to work? We could add this information to the polymake package readme. However, I don't see us including all kinds of Perl prerequisites as Sage packages. I consider `libterm-readline-gnu` an exception because it's not available on OS X; fink does not have a package for it; we already have libreadline; the CPAN script fails to install it on OS X.",
    "created_at": "2016-07-07T08:44:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20894#issuecomment-284927",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:21'></a>Thanks for testing. Could you try to find out which packages on your distribution need to be installed for this to work? We could add this information to the polymake package readme. However, I don't see us including all kinds of Perl prerequisites as Sage packages. I consider `libterm-readline-gnu` an exception because it's not available on OS X; fink does not have a package for it; we already have libreadline; the CPAN script fails to install it on OS X.



---

archive/issue_comments_284928.json:
```json
{
    "body": "<a id='comment:22'></a>Do you mean that on Linux you would not need to use this package, and system-wide Perl would do?",
    "created_at": "2016-07-07T08:47:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20894#issuecomment-284928",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:22'></a>Do you mean that on Linux you would not need to use this package, and system-wide Perl would do?



---

archive/issue_comments_284929.json:
```json
{
    "body": "<a id='comment:23'></a>I think a system-wide Perl with the necessary modules would do; but given that we unconditionally install readline (it being a standard package) even on Linux (which probably also has readline, though maybe not the header files), perhaps we want to use our readline for Perl as well for consistency.",
    "created_at": "2016-07-07T08:52:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20894#issuecomment-284929",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:23'></a>I think a system-wide Perl with the necessary modules would do; but given that we unconditionally install readline (it being a standard package) even on Linux (which probably also has readline, though maybe not the header files), perhaps we want to use our readline for Perl as well for consistency.



---

archive/issue_comments_284930.json:
```json
{
    "body": "<a id='comment:24'></a>I am testing this on Fedora 23, and the missing header `EXTERN.h` is installed, it is in `/usr/lib64/perl5/CORE/`. This seems to be quite messy; [perl people recommend](https://www.centos.org/forums/viewtopic.php?t=19848) doing\n\n```\n$ perl -MConfig -e 'print \"$Config{archlib}\\n\"'\n```\nto get the path to default `perl` install. On Ubuntu I get `/usr/lib/perl/5.18`, on Fedora 23 I get `/usr/lib64/perl5`. Thus `polymake` ought to use the output of that `perl` call to construct a path to `EXTERN.h`.",
    "created_at": "2016-07-07T09:04:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20894#issuecomment-284930",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:24'></a>I am testing this on Fedora 23, and the missing header `EXTERN.h` is installed, it is in `/usr/lib64/perl5/CORE/`. This seems to be quite messy; [perl people recommend](https://www.centos.org/forums/viewtopic.php?t=19848) doing

```
$ perl -MConfig -e 'print "$Config{archlib}\n"'
```
to get the path to default `perl` install. On Ubuntu I get `/usr/lib/perl/5.18`, on Fedora 23 I get `/usr/lib64/perl5`. Thus `polymake` ought to use the output of that `perl` call to construct a path to `EXTERN.h`.



---

archive/issue_comments_284931.json:
```json
{
    "body": "<a id='comment:25'></a>This check in Polymake's configure script is in support/configure.pl lines 718-\nCould you look what's going on and/or report this failure on Fedora 23 in the polymake forum? I think this is not Sage-specific. https://forum.polymake.org/viewforum.php?f=10",
    "created_at": "2016-07-07T09:28:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20894#issuecomment-284931",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:25'></a>This check in Polymake's configure script is in support/configure.pl lines 718-
Could you look what's going on and/or report this failure on Fedora 23 in the polymake forum? I think this is not Sage-specific. https://forum.polymake.org/viewforum.php?f=10



---

archive/issue_comments_284932.json:
```json
{
    "body": "<a id='comment:26'></a>In fact, after `$ sudo yum install perl-ExtUtils-Embed` (took a while to dig up)\npolymake is building. I'll report this on polymake forum.",
    "created_at": "2016-07-07T10:19:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20894#issuecomment-284932",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:26'></a>In fact, after `$ sudo yum install perl-ExtUtils-Embed` (took a while to dig up)
polymake is building. I'll report this on polymake forum.



---

archive/issue_comments_284933.json:
```json
{
    "body": "<a id='comment:27'></a>Should this be an experimental or an optional package?",
    "created_at": "2016-07-07T21:25:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20894#issuecomment-284933",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:27'></a>Should this be an experimental or an optional package?



---

archive/issue_comments_284934.json:
```json
{
    "body": "<a id='comment:28'></a>let's start with experimental. Optional needs approval on sage-devel, as well as passing all its tests... IMHO it and polymake should go in lockstep in this.",
    "created_at": "2016-07-07T21:28:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20894#issuecomment-284934",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:28'></a>let's start with experimental. Optional needs approval on sage-devel, as well as passing all its tests... IMHO it and polymake should go in lockstep in this.



---

archive/issue_comments_284935.json:
```json
{
    "body": "<a id='comment:29'></a>OK, then I leave it as experimental.",
    "created_at": "2016-07-07T21:43:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20894#issuecomment-284935",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:29'></a>OK, then I leave it as experimental.



---

archive/issue_comments_284936.json:
```json
{
    "body": "<a id='comment:30'></a>If I understand the procedure correctly (https://trac.sagemath.org/ticket/20529#comment:15), this ticket might be ready for `positive_review` as buildbots will do further builds on other platforms.",
    "created_at": "2016-07-07T22:23:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20894#issuecomment-284936",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:30'></a>If I understand the procedure correctly (https://trac.sagemath.org/ticket/20529#comment:15), this ticket might be ready for `positive_review` as buildbots will do further builds on other platforms.



---

archive/issue_comments_284937.json:
```json
{
    "body": "<a id='comment:31'></a>looks good to me",
    "created_at": "2016-07-07T22:33:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20894#issuecomment-284937",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:31'></a>looks good to me



---

archive/issue_comments_284938.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-07-07T22:33:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20894#issuecomment-284938",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_284939.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-07-09T07:46:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20894#issuecomment-284939",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_055992.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-07-09T07:46:15Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/20894",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20894#event-55992"
}
```
