# Issue 20416: Various callers of MixedIntegerLinearProgram should accept and pass through a solver argument

archive/issues_020179.json:
```json
{
    "body": "```\nsrc/sage/combinat/designs/orthogonal_arrays.py:1446:    p = MixedIntegerLinearProgram()\nsrc/sage/combinat/designs/orthogonal_arrays_build_recursive.py:365:    p = MixedIntegerLinearProgram()\nsrc/sage/combinat/integer_vector.py:361:          p = MixedIntegerLinearProgram()\nsrc/sage/combinat/posets/posets.py:2730:            p = MixedIntegerLinearProgram(constraint_generation=True)\nsrc/sage/geometry/cone.py:4328:        p = MixedIntegerLinearProgram(maximization=False)\nsrc/sage/graphs/comparability.pyx:439:    p = MixedIntegerLinearProgram()\nsrc/sage/graphs/digraph.py:1498:            p = MixedIntegerLinearProgram(constraint_generation = True,\nsrc/sage/graphs/generic_graph.py:7137:            p = MixedIntegerLinearProgram(maximization = False,\nsrc/sage/graphs/generic_graph.py:7589:            p = MixedIntegerLinearProgram(constraint_generation = True,\nsrc/sage/matroids/matroid.pyx:7041:        MIP = MixedIntegerLinearProgram(maximization=False)\nsrc/sage/numerical/optimize.py:801:    p=MixedIntegerLinearProgram()\nsrc/sage/sat/solvers/sat_lp.py:33:        self._LP = MixedIntegerLinearProgram()\n```\n\n\nCC:  @dimpase @videlec @jdemeyer @dcoudert @jm58660\n\nKeywords: lp\n\nBranch/Commit: 4e27e2ce65b3358b0f607fb2babc8bf08c50814a\n\nReviewer: Jori M\u00e4ntysalo\n\nAuthor: David Coudert\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/20416\n\n",
    "closed_at": "2018-09-11T21:40:56Z",
    "created_at": "2016-04-11T05:21:21Z",
    "labels": [
        "component: numerical"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.4",
    "title": "Various callers of MixedIntegerLinearProgram should accept and pass through a solver argument",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20416",
    "user": "https://github.com/mkoeppe"
}
```
```
src/sage/combinat/designs/orthogonal_arrays.py:1446:    p = MixedIntegerLinearProgram()
src/sage/combinat/designs/orthogonal_arrays_build_recursive.py:365:    p = MixedIntegerLinearProgram()
src/sage/combinat/integer_vector.py:361:          p = MixedIntegerLinearProgram()
src/sage/combinat/posets/posets.py:2730:            p = MixedIntegerLinearProgram(constraint_generation=True)
src/sage/geometry/cone.py:4328:        p = MixedIntegerLinearProgram(maximization=False)
src/sage/graphs/comparability.pyx:439:    p = MixedIntegerLinearProgram()
src/sage/graphs/digraph.py:1498:            p = MixedIntegerLinearProgram(constraint_generation = True,
src/sage/graphs/generic_graph.py:7137:            p = MixedIntegerLinearProgram(maximization = False,
src/sage/graphs/generic_graph.py:7589:            p = MixedIntegerLinearProgram(constraint_generation = True,
src/sage/matroids/matroid.pyx:7041:        MIP = MixedIntegerLinearProgram(maximization=False)
src/sage/numerical/optimize.py:801:    p=MixedIntegerLinearProgram()
src/sage/sat/solvers/sat_lp.py:33:        self._LP = MixedIntegerLinearProgram()
```


CC:  @dimpase @videlec @jdemeyer @dcoudert @jm58660

Keywords: lp

Branch/Commit: 4e27e2ce65b3358b0f607fb2babc8bf08c50814a

Reviewer: Jori MÃ¤ntysalo

Author: David Coudert

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/20416





---

archive/issue_events_055266.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2018-03-13T22:26:05Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20416",
    "milestone": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20416#event-55266"
}
```



---

archive/issue_comments_296083.json:
```json
{
    "body": "<a id='comment:2'></a>It's certainly better to make different tickets to avoid conflicts since we will touch different modules. Furthermore, we can take the opportunity to improve some codes. For instance in `src/sage/numerical/optimize.py`, the `binpacking` method needs some polishing.",
    "created_at": "2018-03-14T08:46:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20416#issuecomment-296083",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:2'></a>It's certainly better to make different tickets to avoid conflicts since we will touch different modules. Furthermore, we can take the opportunity to improve some codes. For instance in `src/sage/numerical/optimize.py`, the `binpacking` method needs some polishing.



---

archive/issue_comments_296084.json:
```json
{
    "body": "<a id='comment:3'></a>#24975 treat method `binpacking` from `src/sage/numerical/optimize.py`",
    "created_at": "2018-03-14T16:44:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20416#issuecomment-296084",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:3'></a>#24975 treat method `binpacking` from `src/sage/numerical/optimize.py`



---

archive/issue_comments_296085.json:
```json
{
    "body": "<a id='comment:4'></a>#24976 for several methods in `src/sage/graphs/comparability.pyx`",
    "created_at": "2018-03-14T17:13:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20416#issuecomment-296085",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:4'></a>#24976 for several methods in `src/sage/graphs/comparability.pyx`



---

archive/issue_comments_296086.json:
```json
{
    "body": "<a id='comment:5'></a>#24977 for method `flat_cover` of `src/sage/matroids/matroid.pyx`",
    "created_at": "2018-03-14T17:43:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20416#issuecomment-296086",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:5'></a>#24977 for method `flat_cover` of `src/sage/matroids/matroid.pyx`



---

archive/issue_comments_296087.json:
```json
{
    "body": "<a id='comment:6'></a>#24978 for class `SatLP` of `src/sage/sat/solvers/sat_lp.py`.\n\nThe parameter solver was here but not used.",
    "created_at": "2018-03-14T17:59:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20416#issuecomment-296087",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:6'></a>#24978 for class `SatLP` of `src/sage/sat/solvers/sat_lp.py`.

The parameter solver was here but not used.



---

archive/issue_comments_296088.json:
```json
{
    "body": "<a id='comment:7'></a>We have added parameter `solver` to all calls to `MixedIntegerLinearProgram`. The last possible improvement is to allow to give the parameters `solver` and `verbose` to methods calling methods calling methods calling `MixedIntegerLinearProgram`. For instance, method `is_hamiltonian` calls `traveling_salesman_problem` without allowing to give the parameters.\nDo you think we should (try to) do it ? I don't know to trace calls to methods...",
    "created_at": "2018-06-27T07:09:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20416#issuecomment-296088",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:7'></a>We have added parameter `solver` to all calls to `MixedIntegerLinearProgram`. The last possible improvement is to allow to give the parameters `solver` and `verbose` to methods calling methods calling methods calling `MixedIntegerLinearProgram`. For instance, method `is_hamiltonian` calls `traveling_salesman_problem` without allowing to give the parameters.
Do you think we should (try to) do it ? I don't know to trace calls to methods...



---

archive/issue_comments_296089.json:
```json
{
    "body": "<a id='comment:8'></a>Replying to [comment:7 dcoudert]:\n> We have added parameter `solver` to all calls to `MixedIntegerLinearProgram`. The last possible improvement is to allow to give the parameters `solver` and `verbose` \n\n\n> to methods calling methods calling methods calling \n\n\nno typo here? this looks scary...\n\n>`MixedIntegerLinearProgram`. For instance, method `is_hamiltonian` calls `traveling_salesman_problem` without allowing to give the parameters.\n>   Do you think we should (try to) do it ? I don't know to trace calls to methods...\n  \none way would be to add print statements and then watch doctests failing...\n\nProbably there are some static code analysis tools to help here too, but I'm no expert in these.",
    "created_at": "2018-06-27T10:18:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20416#issuecomment-296089",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:8'></a>Replying to [comment:7 dcoudert]:
> We have added parameter `solver` to all calls to `MixedIntegerLinearProgram`. The last possible improvement is to allow to give the parameters `solver` and `verbose` 


> to methods calling methods calling methods calling 


no typo here? this looks scary...

>`MixedIntegerLinearProgram`. For instance, method `is_hamiltonian` calls `traveling_salesman_problem` without allowing to give the parameters.
>   Do you think we should (try to) do it ? I don't know to trace calls to methods...
  
one way would be to add print statements and then watch doctests failing...

Probably there are some static code analysis tools to help here too, but I'm no expert in these.



---

archive/issue_comments_296090.json:
```json
{
    "body": "<a id='comment:9'></a>I added parameter solver to many methods in `graphs/`. I have certainly missed some, but it's already an improvement. Not sure if I should do the same for other modules in this ticket. it's already a lot of modifications...\n\n---\nLast 10 new commits:",
    "created_at": "2018-06-28T14:29:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20416#issuecomment-296090",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:9'></a>I added parameter solver to many methods in `graphs/`. I have certainly missed some, but it's already an improvement. Not sure if I should do the same for other modules in this ticket. it's already a lot of modifications...

---
Last 10 new commits:



---

archive/issue_comments_296091.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-06-28T14:29:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20416#issuecomment-296091",
    "user": "https://github.com/dcoudert"
}
```

Changing status from new to needs_review.



---

archive/issue_events_055267.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2018-06-28T14:29:24Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20416",
    "milestone": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20416#event-55267"
}
```



---

archive/issue_events_055268.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2018-06-28T14:29:24Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20416",
    "milestone": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20416#event-55268"
}
```



---

archive/issue_events_055269.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-08-03T19:20:18Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20416",
    "milestone": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20416#event-55269"
}
```



---

archive/issue_events_055270.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-08-03T19:20:18Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20416",
    "milestone": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20416#event-55270"
}
```



---

archive/issue_comments_296092.json:
```json
{
    "body": "<a id='comment:10'></a>update milestone 8.3 -> 8.4",
    "created_at": "2018-08-03T19:20:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20416#issuecomment-296092",
    "user": "https://github.com/videlec"
}
```

<a id='comment:10'></a>update milestone 8.3 -> 8.4



---

archive/issue_comments_296093.json:
```json
{
    "body": "<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-08-16T10:51:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20416#issuecomment-296093",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_296094.json:
```json
{
    "body": "<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-09-09T11:41:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20416#issuecomment-296094",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_296095.json:
```json
{
    "body": "<a id='comment:13'></a>I fixed the conflicts with 8.4.beta4.",
    "created_at": "2018-09-09T11:43:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20416#issuecomment-296095",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:13'></a>I fixed the conflicts with 8.4.beta4.



---

archive/issue_comments_296096.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-09-10T06:11:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20416#issuecomment-296096",
    "user": "https://github.com/jm58660"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_296097.json:
```json
{
    "body": "<a id='comment:15'></a>Seems to be OK. Tests fail, but they are marked as `# optional - magma`, so are not related to this patch.",
    "created_at": "2018-09-10T06:11:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20416#issuecomment-296097",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:15'></a>Seems to be OK. Tests fail, but they are marked as `# optional - magma`, so are not related to this patch.



---

archive/issue_events_055271.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-09-11T21:40:56Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/20416",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20416#event-55271"
}
```



---

archive/issue_comments_296098.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-09-11T21:40:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20416#issuecomment-296098",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
