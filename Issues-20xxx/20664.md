# Issue 20664: Meta-ticket: MixedIntegerLinearProgram/MIPVariable API cleanup

archive/issues_020427.json:
```json
{
    "body": "Follow-up on #20462:\n\n- #31791 `MIPVariable`: Better names for backend variables\n\n- #31750 `MIPVariable`: Change to a subclass of `FiniteFamily`\n\n- #31749 `MixedIntegerLinearProgram`: New generator method `variables`\n\n- #20331 A `MIPVariable`'s repr should include some useful information\n\n- #20656 `MixedIntegerLinearProgram`: Remove `_variables` dictionary\n\n- #26302 `MixedIntegerLinearProgram` should provide a way to get the variables in the order they are provided to the `polyhedron` method\n\n- #7790 Setting a default max/min bound when calling `MixedIntegerLinearProgram.new_variable`\n\n- #20657: More fixes for copying a `MIP` and the `MIPVariables` created by `new_variable`\n\n- Why does a `MIPVariable` only have `set_max`, but no `get_max`? \n\n- Why does `MixedIntegerLinearProgram.set_max` delegate to a `MIPVariable` method of the same name, when  other `MixedIntegerLinearProgram` methods such as `set_integer` etc. just do everything directly, and no corresponding `MIPVariable` methods exist?\n\n- Actually these things should properly be referred to as `lower_bound` and `upper_bound` rather than `min` and `max`. Some deprecation fun to be had.\n\n- Why is there no way to query the values of the components of the `_default_mipvariable`?\n\n\n\n**CC:**  @dimpase @videlec @jdemeyer @yuan-zhou\n\n**Keywords:** lp\n\n**Status:** new\n\n**Dependencies:** #20462\n\nIssue created by migration from https://trac.sagemath.org/ticket/20664\n\n",
    "created_at": "2016-05-23T20:30:42Z",
    "labels": [
        "component: numerical",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Meta-ticket: MixedIntegerLinearProgram/MIPVariable API cleanup",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20664",
    "user": "https://github.com/mkoeppe"
}
```
Follow-up on #20462:

- #31791 `MIPVariable`: Better names for backend variables

- #31750 `MIPVariable`: Change to a subclass of `FiniteFamily`

- #31749 `MixedIntegerLinearProgram`: New generator method `variables`

- #20331 A `MIPVariable`'s repr should include some useful information

- #20656 `MixedIntegerLinearProgram`: Remove `_variables` dictionary

- #26302 `MixedIntegerLinearProgram` should provide a way to get the variables in the order they are provided to the `polyhedron` method

- #7790 Setting a default max/min bound when calling `MixedIntegerLinearProgram.new_variable`

- #20657: More fixes for copying a `MIP` and the `MIPVariables` created by `new_variable`

- Why does a `MIPVariable` only have `set_max`, but no `get_max`? 

- Why does `MixedIntegerLinearProgram.set_max` delegate to a `MIPVariable` method of the same name, when  other `MixedIntegerLinearProgram` methods such as `set_integer` etc. just do everything directly, and no corresponding `MIPVariable` methods exist?

- Actually these things should properly be referred to as `lower_bound` and `upper_bound` rather than `min` and `max`. Some deprecation fun to be had.

- Why is there no way to query the values of the components of the `_default_mipvariable`?



**CC:**  @dimpase @videlec @jdemeyer @yuan-zhou

**Keywords:** lp

**Status:** new

**Dependencies:** #20462

Issue created by migration from https://trac.sagemath.org/ticket/20664





---

archive/issue_events_062855.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/20664",
    "rename": {
        "from": "MixedIntegerLinearProgram/MIPVariable API cleanup",
        "to": "Meta-ticket: MixedIntegerLinearProgram/MIPVariable API cleanup"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20664#event-62855"
}
```



---

archive/issue_comments_360016.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,4 +1,12 @@\n Follow-up on #20462:\n+\n+- #31750 `MIPVariable`: Change to a subclass of `FiniteFamily`\n+\n+- #31749 `MixedIntegerLinearProgram`: New generator method `variables`\n+\n+- #20331 A `MIPVariable`'s repr should include some useful information\n+\n+- #20656 `MixedIntegerLinearProgram`: Remove `_variables` dictionary\n \n - Why does a `MIPVariable` only have `set_max`, but no `get_max`? \n \n``````\n",
    "created_at": "2021-04-28T17:56:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20664",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20664#issuecomment-360016",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,4 +1,12 @@
 Follow-up on #20462:
+
+- #31750 `MIPVariable`: Change to a subclass of `FiniteFamily`
+
+- #31749 `MixedIntegerLinearProgram`: New generator method `variables`
+
+- #20331 A `MIPVariable`'s repr should include some useful information
+
+- #20656 `MixedIntegerLinearProgram`: Remove `_variables` dictionary
 
 - Why does a `MIPVariable` only have `set_max`, but no `get_max`? 
 
``````




---

archive/issue_events_062856.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-28T17:56:11Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20664",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20664#event-62856"
}
```



---

archive/issue_comments_360017.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -8,6 +8,8 @@\n \n - #20656 `MixedIntegerLinearProgram`: Remove `_variables` dictionary\n \n+- #26302 `MixedIntegerLinearProgram` should provide a way to get the variables in the order they are provided to the `polyhedron` method\n+\n - Why does a `MIPVariable` only have `set_max`, but no `get_max`? \n \n - Why does `MixedIntegerLinearProgram.set_max` delegate to a `MIPVariable` method of the same name, when  other `MixedIntegerLinearProgram` methods such as `set_integer` etc. just do everything directly, and no corresponding `MIPVariable` methods exist?\n``````\n",
    "created_at": "2021-04-28T17:56:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20664",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20664#issuecomment-360017",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -8,6 +8,8 @@
 
 - #20656 `MixedIntegerLinearProgram`: Remove `_variables` dictionary
 
+- #26302 `MixedIntegerLinearProgram` should provide a way to get the variables in the order they are provided to the `polyhedron` method
+
 - Why does a `MIPVariable` only have `set_max`, but no `get_max`? 
 
 - Why does `MixedIntegerLinearProgram.set_max` delegate to a `MIPVariable` method of the same name, when  other `MixedIntegerLinearProgram` methods such as `set_integer` etc. just do everything directly, and no corresponding `MIPVariable` methods exist?
``````




---

archive/issue_comments_360018.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -10,6 +10,8 @@\n \n - #26302 `MixedIntegerLinearProgram` should provide a way to get the variables in the order they are provided to the `polyhedron` method\n \n+- #7790 Setting a default max/min bound when calling `MixedIntegerLinearProgram.new_variable`\n+\n - Why does a `MIPVariable` only have `set_max`, but no `get_max`? \n \n - Why does `MixedIntegerLinearProgram.set_max` delegate to a `MIPVariable` method of the same name, when  other `MixedIntegerLinearProgram` methods such as `set_integer` etc. just do everything directly, and no corresponding `MIPVariable` methods exist?\n``````\n",
    "created_at": "2021-04-28T18:00:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20664",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20664#issuecomment-360018",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -10,6 +10,8 @@
 
 - #26302 `MixedIntegerLinearProgram` should provide a way to get the variables in the order they are provided to the `polyhedron` method
 
+- #7790 Setting a default max/min bound when calling `MixedIntegerLinearProgram.new_variable`
+
 - Why does a `MIPVariable` only have `set_max`, but no `get_max`? 
 
 - Why does `MixedIntegerLinearProgram.set_max` delegate to a `MIPVariable` method of the same name, when  other `MixedIntegerLinearProgram` methods such as `set_integer` etc. just do everything directly, and no corresponding `MIPVariable` methods exist?
``````




---

archive/issue_comments_360019.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -12,6 +12,8 @@\n \n - #7790 Setting a default max/min bound when calling `MixedIntegerLinearProgram.new_variable`\n \n+- #20657: More fixes for copying a `MIP` and the `MIPVariables` created by `new_variable`\n+\n - Why does a `MIPVariable` only have `set_max`, but no `get_max`? \n \n - Why does `MixedIntegerLinearProgram.set_max` delegate to a `MIPVariable` method of the same name, when  other `MixedIntegerLinearProgram` methods such as `set_integer` etc. just do everything directly, and no corresponding `MIPVariable` methods exist?\n``````\n",
    "created_at": "2021-04-28T18:06:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20664",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20664#issuecomment-360019",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -12,6 +12,8 @@
 
 - #7790 Setting a default max/min bound when calling `MixedIntegerLinearProgram.new_variable`
 
+- #20657: More fixes for copying a `MIP` and the `MIPVariables` created by `new_variable`
+
 - Why does a `MIPVariable` only have `set_max`, but no `get_max`? 
 
 - Why does `MixedIntegerLinearProgram.set_max` delegate to a `MIPVariable` method of the same name, when  other `MixedIntegerLinearProgram` methods such as `set_integer` etc. just do everything directly, and no corresponding `MIPVariable` methods exist?
``````




---

archive/issue_comments_360020.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,4 +1,6 @@\n Follow-up on #20462:\n+\n+- #31791 `MIPVariable`: Better names for backend variables\n \n - #31750 `MIPVariable`: Change to a subclass of `FiniteFamily`\n \n``````\n",
    "created_at": "2021-05-09T06:48:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20664",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20664#issuecomment-360020",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,4 +1,6 @@
 Follow-up on #20462:
+
+- #31791 `MIPVariable`: Better names for backend variables
 
 - #31750 `MIPVariable`: Change to a subclass of `FiniteFamily`
 
``````




---

archive/issue_comments_360021.json:
```json
{
    "body": "<a id='comment:6'></a>\nWe may want to use `weakref` for solving the mutual ownership problem of a `MixedIntegerLinearProgram` and `MIPVariable` \n\n- weakref \u2014 Weak references \u2014 Python 3.9.4 documentation - https://docs.python.org/3/library/weakref.html\n\n- cython/weakref.pxd at master \u00b7 cython/cython - https://github.com/cython/cython/blob/master/Cython/Includes/cpython/weakref.pxd\n\n- Python's weak references, `__slots__`, and Cython - https://dev.nextthought.com/blog/2018/05/python-weakref-cython-slots.html",
    "created_at": "2021-06-02T18:49:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20664",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20664#issuecomment-360021",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:6'></a>
We may want to use `weakref` for solving the mutual ownership problem of a `MixedIntegerLinearProgram` and `MIPVariable` 

- weakref — Weak references — Python 3.9.4 documentation - https://docs.python.org/3/library/weakref.html

- cython/weakref.pxd at master · cython/cython - https://github.com/cython/cython/blob/master/Cython/Includes/cpython/weakref.pxd

- Python's weak references, `__slots__`, and Cython - https://dev.nextthought.com/blog/2018/05/python-weakref-cython-slots.html



---

archive/issue_events_062857.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T01:16:42Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20664",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20664#event-62857"
}
```



---

archive/issue_events_062858.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T01:16:42Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20664",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20664#event-62858"
}
```



---

archive/issue_events_062859.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-14T02:04:49Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20664",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20664#event-62859"
}
```



---

archive/issue_events_062860.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-14T02:04:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20664",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20664#event-62860"
}
```



---

archive/issue_events_062861.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-03-05T00:06:20Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20664",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20664#event-62861"
}
```



---

archive/issue_events_062862.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-03-05T00:06:20Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20664",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20664#event-62862"
}
```



---

archive/issue_events_062863.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20664",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20664#event-62863"
}
```



---

archive/issue_events_062864.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20664",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20664#event-62864"
}
```
