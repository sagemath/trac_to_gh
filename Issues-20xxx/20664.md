# Issue 20664: Meta-ticket: MixedIntegerLinearProgram/MIPVariable API cleanup

archive/issues_020427.json:
```json
{
    "body": "Follow-up on #20462:\n\n- #31791 `MIPVariable`: Better names for backend variables\n\n- #31750 `MIPVariable`: Change to a subclass of `FiniteFamily`\n\n- #31749 `MixedIntegerLinearProgram`: New generator method `variables`\n\n- #20331 A `MIPVariable`'s repr should include some useful information\n\n- #20656 `MixedIntegerLinearProgram`: Remove `_variables` dictionary\n\n- #26302 `MixedIntegerLinearProgram` should provide a way to get the variables in the order they are provided to the `polyhedron` method\n\n- #7790 Setting a default max/min bound when calling `MixedIntegerLinearProgram.new_variable`\n\n- #20657: More fixes for copying a `MIP` and the `MIPVariables` created by `new_variable`\n\n- Why does a `MIPVariable` only have `set_max`, but no `get_max`? \n\n- Why does `MixedIntegerLinearProgram.set_max` delegate to a `MIPVariable` method of the same name, when  other `MixedIntegerLinearProgram` methods such as `set_integer` etc. just do everything directly, and no corresponding `MIPVariable` methods exist?\n\n- Actually these things should properly be referred to as `lower_bound` and `upper_bound` rather than `min` and `max`. Some deprecation fun to be had.\n\n- Why is there no way to query the values of the components of the `_default_mipvariable`?\n\n\n\nCC:  @dimpase @videlec @jdemeyer @yuan-zhou\n\nKeywords: lp\n\nStatus: new\n\nDependencies: #20462\n\nIssue created by migration from https://trac.sagemath.org/ticket/20664\n\n",
    "created_at": "2016-05-23T20:30:42Z",
    "labels": [
        "component: numerical"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Meta-ticket: MixedIntegerLinearProgram/MIPVariable API cleanup",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20664",
    "user": "https://github.com/mkoeppe"
}
```
Follow-up on #20462:

- #31791 `MIPVariable`: Better names for backend variables

- #31750 `MIPVariable`: Change to a subclass of `FiniteFamily`

- #31749 `MixedIntegerLinearProgram`: New generator method `variables`

- #20331 A `MIPVariable`'s repr should include some useful information

- #20656 `MixedIntegerLinearProgram`: Remove `_variables` dictionary

- #26302 `MixedIntegerLinearProgram` should provide a way to get the variables in the order they are provided to the `polyhedron` method

- #7790 Setting a default max/min bound when calling `MixedIntegerLinearProgram.new_variable`

- #20657: More fixes for copying a `MIP` and the `MIPVariables` created by `new_variable`

- Why does a `MIPVariable` only have `set_max`, but no `get_max`? 

- Why does `MixedIntegerLinearProgram.set_max` delegate to a `MIPVariable` method of the same name, when  other `MixedIntegerLinearProgram` methods such as `set_integer` etc. just do everything directly, and no corresponding `MIPVariable` methods exist?

- Actually these things should properly be referred to as `lower_bound` and `upper_bound` rather than `min` and `max`. Some deprecation fun to be had.

- Why is there no way to query the values of the components of the `_default_mipvariable`?



CC:  @dimpase @videlec @jdemeyer @yuan-zhou

Keywords: lp

Status: new

Dependencies: #20462

Issue created by migration from https://trac.sagemath.org/ticket/20664





---

archive/issue_events_055619.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-28T17:56:11Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20664",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20664#event-55619"
}
```



---

archive/issue_comments_281183.json:
```json
{
    "body": "<a id='comment:6'></a>We may want to use `weakref` for solving the mutual ownership problem of a `MixedIntegerLinearProgram` and `MIPVariable` \n\n- weakref \u2014 Weak references \u2014 Python 3.9.4 documentation - https://docs.python.org/3/library/weakref.html\n\n- cython/weakref.pxd at master \u00b7 cython/cython - https://github.com/cython/cython/blob/master/Cython/Includes/cpython/weakref.pxd\n\n- Python's weak references, __slots__, and Cython - https://dev.nextthought.com/blog/2018/05/python-weakref-cython-slots.html",
    "created_at": "2021-06-02T18:49:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20664",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20664#issuecomment-281183",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:6'></a>We may want to use `weakref` for solving the mutual ownership problem of a `MixedIntegerLinearProgram` and `MIPVariable` 

- weakref — Weak references — Python 3.9.4 documentation - https://docs.python.org/3/library/weakref.html

- cython/weakref.pxd at master · cython/cython - https://github.com/cython/cython/blob/master/Cython/Includes/cpython/weakref.pxd

- Python's weak references, __slots__, and Cython - https://dev.nextthought.com/blog/2018/05/python-weakref-cython-slots.html



---

archive/issue_events_055620.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T01:16:42Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20664",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20664#event-55620"
}
```



---

archive/issue_events_055621.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T01:16:42Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20664",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20664#event-55621"
}
```



---

archive/issue_events_055622.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-14T02:04:49Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20664",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20664#event-55622"
}
```



---

archive/issue_events_055623.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-14T02:04:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20664",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20664#event-55623"
}
```



---

archive/issue_events_055624.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-03-05T00:06:20Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20664",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20664#event-55624"
}
```



---

archive/issue_events_055625.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-03-05T00:06:20Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20664",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20664#event-55625"
}
```



---

archive/issue_events_055626.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20664",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20664#event-55626"
}
```



---

archive/issue_events_055627.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20664",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20664#event-55627"
}
```
