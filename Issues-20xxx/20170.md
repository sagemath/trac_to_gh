# Issue 20170: Implement reflections for affine Weyl groups

archive/issues_019933.json:
```json
{
    "body": "The code just needs to be slightly modified in order to support affine Weyl groups since we have a method to generate all positive real roots.\n\nAssignee: sage-combinat\n\nCC:  sage-combinat @nthiery @fchapoton stumpc5 @jplab\n\nKeywords: reflections, Weyl groups\n\nBranch/Commit: 72541a38ce4d06770a7f469bea99368af79f7384\n\nReviewer: Fr\u00e9d\u00e9ric Chapoton\n\nAuthor: Travis Scrimshaw\n\nDependencies: #20027\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/20170\n\n",
    "closed_at": "2016-04-09T07:44:30Z",
    "created_at": "2016-03-05T23:18:08Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.2",
    "title": "Implement reflections for affine Weyl groups",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20170",
    "user": "https://github.com/tscrim"
}
```
The code just needs to be slightly modified in order to support affine Weyl groups since we have a method to generate all positive real roots.

Assignee: sage-combinat

CC:  sage-combinat @nthiery @fchapoton stumpc5 @jplab

Keywords: reflections, Weyl groups

Branch/Commit: 72541a38ce4d06770a7f469bea99368af79f7384

Reviewer: Frédéric Chapoton

Author: Travis Scrimshaw

Dependencies: #20027

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/20170





---

archive/issue_comments_364859.json:
```json
{
    "body": "<a id='comment:1'></a>\nNew commits:\n|                                                                                                                                          |                                       |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|\n|[90b278a](http://git.sagemath.org/sage.git/commit/?id=90b278a1f7b2ecd08c2a95d7d57a36cbbdfbeb3c)|`Reversing the family for reflections.`|\n|[8c9b809](http://git.sagemath.org/sage.git/commit/?id=8c9b809c83f6da647f4cbee69de0ce31ae5f864d)|`Making CoxeterGroup.reflections return a Family and some touchups.`|\n|[2595826](http://git.sagemath.org/sage.git/commit/?id=25958261175f453493c4da055cccfe5a1880ecb2)|`Removing caching of CoxeterGroup.positive_roots().`|\n|[7ed4c2a](http://git.sagemath.org/sage.git/commit/?id=7ed4c2ae1b5ce101b2b21169bc81a8af56e1b995)|`Merge 7.1.beta6.`|\n|[3c32075](http://git.sagemath.org/sage.git/commit/?id=3c32075db48c66b679bc142ce7ffd894d9d4b911)|`Fixing doctest failures in the thematic tutorials.`|\n|[35eb71c](http://git.sagemath.org/sage.git/commit/?id=35eb71c31040c78280579c8f92496aa94d884705)|`Fixing some documentation and adding note to WeylGroup.reflections.`|\n|[762aaf1](http://git.sagemath.org/sage.git/commit/?id=762aaf1efe5ac7bd31de83ea2757b7b219a16d7d)|`Adding support for reflections for affine Weyl groups.`|",
    "created_at": "2016-03-05T23:18:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20170#issuecomment-364859",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:1'></a>
New commits:
|                                                                                                                                          |                                       |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|
|[90b278a](http://git.sagemath.org/sage.git/commit/?id=90b278a1f7b2ecd08c2a95d7d57a36cbbdfbeb3c)|`Reversing the family for reflections.`|
|[8c9b809](http://git.sagemath.org/sage.git/commit/?id=8c9b809c83f6da647f4cbee69de0ce31ae5f864d)|`Making CoxeterGroup.reflections return a Family and some touchups.`|
|[2595826](http://git.sagemath.org/sage.git/commit/?id=25958261175f453493c4da055cccfe5a1880ecb2)|`Removing caching of CoxeterGroup.positive_roots().`|
|[7ed4c2a](http://git.sagemath.org/sage.git/commit/?id=7ed4c2ae1b5ce101b2b21169bc81a8af56e1b995)|`Merge 7.1.beta6.`|
|[3c32075](http://git.sagemath.org/sage.git/commit/?id=3c32075db48c66b679bc142ce7ffd894d9d4b911)|`Fixing doctest failures in the thematic tutorials.`|
|[35eb71c](http://git.sagemath.org/sage.git/commit/?id=35eb71c31040c78280579c8f92496aa94d884705)|`Fixing some documentation and adding note to WeylGroup.reflections.`|
|[762aaf1](http://git.sagemath.org/sage.git/commit/?id=762aaf1efe5ac7bd31de83ea2757b7b219a16d7d)|`Adding support for reflections for affine Weyl groups.`|



---

archive/issue_comments_364860.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-03-05T23:18:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20170#issuecomment-364860",
    "user": "https://github.com/tscrim"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_364861.json:
```json
{
    "body": "Changing commit from \"\" to \"762aaf1efe5ac7bd31de83ea2757b7b219a16d7d\"",
    "created_at": "2016-03-05T23:18:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20170#issuecomment-364861",
    "user": "https://github.com/tscrim"
}
```

Changing commit from "" to "762aaf1efe5ac7bd31de83ea2757b7b219a16d7d"



---

archive/issue_comments_364862.json:
```json
{
    "body": "Changing branch from \"\" to \"public/combinat/reflections_infinite_weyl_groups-20170\"",
    "created_at": "2016-03-05T23:18:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20170#issuecomment-364862",
    "user": "https://github.com/tscrim"
}
```

Changing branch from "" to "public/combinat/reflections_infinite_weyl_groups-20170"



---

archive/issue_comments_364863.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Fr\u00e9d\u00e9ric Chapoton\"",
    "created_at": "2016-03-25T18:10:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20170#issuecomment-364863",
    "user": "https://github.com/fchapoton"
}
```

Changing reviewer from "" to "Frédéric Chapoton"



---

archive/issue_comments_364864.json:
```json
{
    "body": "<a id='comment:2'></a>\nok, good to go",
    "created_at": "2016-03-25T18:10:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20170#issuecomment-364864",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:2'></a>
ok, good to go



---

archive/issue_comments_364865.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-03-25T18:10:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20170#issuecomment-364865",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_054823.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-03-25T18:12:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20170",
    "milestone": "sage-7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20170#event-54823"
}
```



---

archive/issue_comments_364866.json:
```json
{
    "body": "<a id='comment:4'></a>\nThanks.",
    "created_at": "2016-03-25T18:42:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20170#issuecomment-364866",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:4'></a>
Thanks.



---

archive/issue_comments_364867.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2016-03-26T20:06:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20170#issuecomment-364867",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_364868.json:
```json
{
    "body": "<a id='comment:5'></a>\nProbably interaction with some other ticket in beta1:\n\n```\nsage -t --long src/sage/categories/coxeter_groups.py\n**********************************************************************\nFile \"src/sage/categories/coxeter_groups.py\", line 1315, in sage.categories.coxeter_groups.CoxeterGroups.ElementMethods.absolute_covers\nFailed example:\n    w0.absolute_covers()\nExpected:\n    [\n    [0 0 0 1]  [0 0 1 0]  [0 1 0 0]  [0 1 0 0]  [0 1 0 0]\n    [1 0 0 0]  [1 0 0 0]  [0 0 1 0]  [0 0 0 1]  [1 0 0 0]\n    [0 0 1 0]  [0 1 0 0]  [1 0 0 0]  [0 0 1 0]  [0 0 0 1]\n    [0 1 0 0], [0 0 0 1], [0 0 0 1], [1 0 0 0], [0 0 1 0]\n    ]\nGot:\n    [\n    [0 0 1 0]  [0 1 0 0]  [0 0 0 1]  [0 1 0 0]  [0 1 0 0]\n    [1 0 0 0]  [1 0 0 0]  [1 0 0 0]  [0 0 1 0]  [0 0 0 1]\n    [0 1 0 0]  [0 0 0 1]  [0 0 1 0]  [1 0 0 0]  [0 0 1 0]\n    [0 0 0 1], [0 0 1 0], [0 1 0 0], [0 0 0 1], [1 0 0 0]\n    ]\n**********************************************************************\n1 item had failures:\n   1 of   6 in sage.categories.coxeter_groups.CoxeterGroups.ElementMethods.absolute_covers\n    [469 tests, 1 failure, 16.41 s]\n```",
    "created_at": "2016-03-26T20:06:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20170#issuecomment-364868",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:5'></a>
Probably interaction with some other ticket in beta1:

```
sage -t --long src/sage/categories/coxeter_groups.py
**********************************************************************
File "src/sage/categories/coxeter_groups.py", line 1315, in sage.categories.coxeter_groups.CoxeterGroups.ElementMethods.absolute_covers
Failed example:
    w0.absolute_covers()
Expected:
    [
    [0 0 0 1]  [0 0 1 0]  [0 1 0 0]  [0 1 0 0]  [0 1 0 0]
    [1 0 0 0]  [1 0 0 0]  [0 0 1 0]  [0 0 0 1]  [1 0 0 0]
    [0 0 1 0]  [0 1 0 0]  [1 0 0 0]  [0 0 1 0]  [0 0 0 1]
    [0 1 0 0], [0 0 0 1], [0 0 0 1], [1 0 0 0], [0 0 1 0]
    ]
Got:
    [
    [0 0 1 0]  [0 1 0 0]  [0 0 0 1]  [0 1 0 0]  [0 1 0 0]
    [1 0 0 0]  [1 0 0 0]  [1 0 0 0]  [0 0 1 0]  [0 0 0 1]
    [0 1 0 0]  [0 0 0 1]  [0 0 1 0]  [1 0 0 0]  [0 0 1 0]
    [0 0 0 1], [0 0 1 0], [0 1 0 0], [0 0 0 1], [1 0 0 0]
    ]
**********************************************************************
1 item had failures:
   1 of   6 in sage.categories.coxeter_groups.CoxeterGroups.ElementMethods.absolute_covers
    [469 tests, 1 failure, 16.41 s]
```



---

archive/issue_comments_364869.json:
```json
{
    "body": "Changing commit from \"762aaf1efe5ac7bd31de83ea2757b7b219a16d7d\" to \"72541a38ce4d06770a7f469bea99368af79f7384\"",
    "created_at": "2016-04-08T21:39:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20170#issuecomment-364869",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "762aaf1efe5ac7bd31de83ea2757b7b219a16d7d" to "72541a38ce4d06770a7f469bea99368af79f7384"



---

archive/issue_comments_364870.json:
```json
{
    "body": "<a id='comment:6'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                                                                                                                             |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------|\n|[cc3bf03](http://git.sagemath.org/sage.git/commit/?id=cc3bf03bc8c8ea74aff49b275c296cfbcc39e628)|`Merge branch 'public/combinat/reflections_infinite_weyl_groups-20170' of trac.sagemath.org:sage into public/combinat/reflections_infinite_weyl_groups-20170`|\n|[72541a3](http://git.sagemath.org/sage.git/commit/?id=72541a38ce4d06770a7f469bea99368af79f7384)|`Fixing trivial doctest ordering.`|",
    "created_at": "2016-04-08T21:39:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20170#issuecomment-364870",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                                                                                                                             |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------|
|[cc3bf03](http://git.sagemath.org/sage.git/commit/?id=cc3bf03bc8c8ea74aff49b275c296cfbcc39e628)|`Merge branch 'public/combinat/reflections_infinite_weyl_groups-20170' of trac.sagemath.org:sage into public/combinat/reflections_infinite_weyl_groups-20170`|
|[72541a3](http://git.sagemath.org/sage.git/commit/?id=72541a38ce4d06770a7f469bea99368af79f7384)|`Fixing trivial doctest ordering.`|



---

archive/issue_comments_364871.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2016-04-08T21:39:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20170#issuecomment-364871",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_364872.json:
```json
{
    "body": "Changing branch from \"public/combinat/reflections_infinite_weyl_groups-20170\" to \"72541a38ce4d06770a7f469bea99368af79f7384\"",
    "created_at": "2016-04-09T07:44:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20170#issuecomment-364872",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/combinat/reflections_infinite_weyl_groups-20170" to "72541a38ce4d06770a7f469bea99368af79f7384"



---

archive/issue_comments_364873.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-04-09T07:44:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20170",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20170#issuecomment-364873",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_054824.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-04-09T07:44:30Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/20170",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20170#event-54824"
}
```
