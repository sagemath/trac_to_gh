# Issue 20323: Common TestSuite for MIP backends

archive/issues_020086.json:
```json
{
    "assignees": [],
    "body": "The MIP backends should be tested using a common `TestSuite`. Right now each backend uses its own doctests, which have slightly diverged from each other, so there is nothing (other than the fact that they were the result of copy-paste from each other) that ensures consistency. (#20296 fixes several wrong doctests in `GenericBackend`, from which I tried to copy-paste, for example.)\n\n\nDepends on #20326\n\nCC:  @dimpase @nathanncohen @videlec @vbraun @nthiery\n\nKeywords: **lp**\n\nBranch/Commit: **[`7138fa0`](https://github.com/sagemath/sagetrac-mirror/commit/7138fa03a951cf62d970bf346893499fe8fd3daa)**\n\nReviewer: **Thierry Monteil, Dima Pasechnik**\n\nAuthor: **Matthias Koeppe**\n\nComponent: **numerical**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/20323_\n\n",
    "closed_at": "2016-04-15T07:15:47Z",
    "created_at": "2016-03-30T16:35:03Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20numerical",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Common TestSuite for MIP backends",
    "type": "issue",
    "updated_at": "2016-04-15T07:15:47Z",
    "url": "https://github.com/sagemath/sage/issues/20323",
    "user": "https://github.com/mkoeppe"
}
```
The MIP backends should be tested using a common `TestSuite`. Right now each backend uses its own doctests, which have slightly diverged from each other, so there is nothing (other than the fact that they were the result of copy-paste from each other) that ensures consistency. (#20296 fixes several wrong doctests in `GenericBackend`, from which I tried to copy-paste, for example.)


Depends on #20326

CC:  @dimpase @nathanncohen @videlec @vbraun @nthiery

Keywords: **lp**

Branch/Commit: **[`7138fa0`](https://github.com/sagemath/sagetrac-mirror/commit/7138fa03a951cf62d970bf346893499fe8fd3daa)**

Reviewer: **Thierry Monteil, Dima Pasechnik**

Author: **Matthias Koeppe**

Component: **numerical**

_Issue created by migration from https://trac.sagemath.org/ticket/20323_





---

archive/issue_events_286885.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-03-30T16:35:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "milestone_number": null,
    "milestone_title": "sage-7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20323#event-286885"
}
```



---

archive/issue_events_286886.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-03-30T16:35:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20numerical",
    "label_color": "0000ff",
    "label_name": "c: numerical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20323#event-286886"
}
```



---

archive/issue_events_286887.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-03-30T16:35:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20323#event-286887"
}
```



---

archive/issue_events_286888.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-03-30T16:35:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20323#event-286888"
}
```



---

archive/issue_comments_292974.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nwithin the existing framework it's easy to create a separate module, say, lp_backend_tests, and do such tests there.\nNot sure how to minimize the bloat, though, as each function should have doctests...\n\nNote that total consistency is hard to get, as each backend has its own ideas on how, say, to number and order constraints. E.g., IIRC, gurobi does automatic conversions of some particular kinds of constraints.",
    "created_at": "2016-03-31T16:47:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-292974",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:1" align="right">comment:1</div>

within the existing framework it's easy to create a separate module, say, lp_backend_tests, and do such tests there.
Not sure how to minimize the bloat, though, as each function should have doctests...

Note that total consistency is hard to get, as each backend has its own ideas on how, say, to number and order constraints. E.g., IIRC, gurobi does automatic conversions of some particular kinds of constraints.



---

archive/issue_comments_292975.json:
```json
{
    "body": "Branch: **[u/mkoeppe/common_testsuite_for_mip_backends](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/common_testsuite_for_mip_backends)**",
    "created_at": "2016-04-02T07:28:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-292975",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/common_testsuite_for_mip_backends](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/common_testsuite_for_mip_backends)**



---

archive/issue_comments_292976.json:
```json
{
    "body": "Commit: **[`f5f69bd`](https://github.com/sagemath/sagetrac-mirror/commit/f5f69bd5500538071542b3f85d53771c476b10cc)**",
    "created_at": "2016-04-02T07:31:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-292976",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[`f5f69bd`](https://github.com/sagemath/sagetrac-mirror/commit/f5f69bd5500538071542b3f85d53771c476b10cc)**



---

archive/issue_comments_292977.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nNot ready for review yet, but I'm hoping that perhaps someone familiar with the `TestSuite` mechanism could tell me whether I'm on the right track with this initial patch on this ticket.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f5f69bd5500538071542b3f85d53771c476b10cc\"><code>f5f69bd</code></a></td><td><code>Use TestSuite for testing MIP backends</code></td></tr></table>\n",
    "created_at": "2016-04-02T07:31:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-292977",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:3" align="right">comment:3</div>

Not ready for review yet, but I'm hoping that perhaps someone familiar with the `TestSuite` mechanism could tell me whether I'm on the right track with this initial patch on this ticket.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f5f69bd5500538071542b3f85d53771c476b10cc"><code>f5f69bd</code></a></td><td><code>Use TestSuite for testing MIP backends</code></td></tr></table>




---

archive/issue_comments_292978.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nIt looks like you are. Any method that starts with `_test` gets run by `TestSuite`. Although I am not really in favor of any test mutating the object in question.\n\nAlso, is there a reason why `GenericBackend` needs to inherit from `SageObject` (as opposed to just the Python `object`)? I am pretty sure this is strictly needed...",
    "created_at": "2016-04-02T14:07:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-292978",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:4" align="right">comment:4</div>

It looks like you are. Any method that starts with `_test` gets run by `TestSuite`. Although I am not really in favor of any test mutating the object in question.

Also, is there a reason why `GenericBackend` needs to inherit from `SageObject` (as opposed to just the Python `object`)? I am pretty sure this is strictly needed...



---

archive/issue_comments_292979.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nThanks for taking a look, Travis.\n\nReplying to [@tscrim](#comment:4):\n> Also, is there a reason why `GenericBackend` needs to inherit from `SageObject` (as opposed to just the Python `object`)?\n\n`SageObject` provides some of the basic testing infrastructure, such as `._test_not_implemented_methods`.\nWell, there's also `sage.misc.sage_unittest.PythonObjectWithTests`, but I can't seem to `cimport` it to make it a base class of `GenericBackend`. So I guess I'll stick with `SageObject`.",
    "created_at": "2016-04-06T03:55:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-292979",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:5" align="right">comment:5</div>

Thanks for taking a look, Travis.

Replying to [@tscrim](#comment:4):
> Also, is there a reason why `GenericBackend` needs to inherit from `SageObject` (as opposed to just the Python `object`)?

`SageObject` provides some of the basic testing infrastructure, such as `._test_not_implemented_methods`.
Well, there's also `sage.misc.sage_unittest.PythonObjectWithTests`, but I can't seem to `cimport` it to make it a base class of `GenericBackend`. So I guess I'll stick with `SageObject`.



---

archive/issue_comments_292980.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d2a8a26d52a5d9af0c34938987aa7d44670a1044\"><code>d2a8a26</code></a></td><td><code>Add comment</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/503445990bccbb61c5d94f7205f3495043f6be76\"><code>5034459</code></a></td><td><code>More _test_... functions</code></td></tr></table>\n",
    "created_at": "2016-04-06T06:47:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-292980",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d2a8a26d52a5d9af0c34938987aa7d44670a1044"><code>d2a8a26</code></a></td><td><code>Add comment</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/503445990bccbb61c5d94f7205f3495043f6be76"><code>5034459</code></a></td><td><code>More _test_... functions</code></td></tr></table>




---

archive/issue_comments_292981.json:
```json
{
    "body": "Changed commit from **[`f5f69bd`](https://github.com/sagemath/sagetrac-mirror/commit/f5f69bd5500538071542b3f85d53771c476b10cc)** to **[`5034459`](https://github.com/sagemath/sagetrac-mirror/commit/503445990bccbb61c5d94f7205f3495043f6be76)**",
    "created_at": "2016-04-06T06:47:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-292981",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f5f69bd`](https://github.com/sagemath/sagetrac-mirror/commit/f5f69bd5500538071542b3f85d53771c476b10cc)** to **[`5034459`](https://github.com/sagemath/sagetrac-mirror/commit/503445990bccbb61c5d94f7205f3495043f6be76)**



---

archive/issue_comments_292982.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2f8d672a72c4c38ec1e354b2413eb405b68d30fd\"><code>2f8d672</code></a></td><td><code>InteractiveLPBackend: Remove commented-out code</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3a264531bcb29e585739edc0bd3222e9fd321b75\"><code>3a26453</code></a></td><td><code>InteractiveLPBackend: Expand example with algebraic numbers</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b7f1ed8c7e64dad808bf92edaec7d1cb100812b5\"><code>b7f1ed8</code></a></td><td><code>get_solver: Add another doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8c1fd4ac48dac291a2cd0af8668287254977977a\"><code>8c1fd4a</code></a></td><td><code>get_solver: Fix last doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d23c57f5cc534337b9e75e01921e08fd0c1cebee\"><code>d23c57f</code></a></td><td><code>Merge branch 't/20296/mixedintegerlinearprogram__new_backend_using_interactivelpproblem' into lp_fixes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3f827ea533790619f2f8f72d1312922c741b8f1a\"><code>3f827ea</code></a></td><td><code>Use TestSuite for testing MIP backends</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ec68338e2c1f6df7707fbb9f14be84e5dee4eb1d\"><code>ec68338</code></a></td><td><code>Add comment</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1d617b7c6c8e7f35ceb9cce4d504305ea980027d\"><code>1d617b7</code></a></td><td><code>More _test_... functions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3c6a759a6f78068b878092170453865d96cab906\"><code>3c6a759</code></a></td><td><code>get_solver: Make doctest work no matter whether backends are Python or Sage objects</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/06f148210bcf75fddf6384fb6d101ffb7deae217\"><code>06f1482</code></a></td><td><code>Run testsuite with all MIP backends</code></td></tr></table>\n",
    "created_at": "2016-04-06T07:07:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-292982",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2f8d672a72c4c38ec1e354b2413eb405b68d30fd"><code>2f8d672</code></a></td><td><code>InteractiveLPBackend: Remove commented-out code</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3a264531bcb29e585739edc0bd3222e9fd321b75"><code>3a26453</code></a></td><td><code>InteractiveLPBackend: Expand example with algebraic numbers</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b7f1ed8c7e64dad808bf92edaec7d1cb100812b5"><code>b7f1ed8</code></a></td><td><code>get_solver: Add another doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8c1fd4ac48dac291a2cd0af8668287254977977a"><code>8c1fd4a</code></a></td><td><code>get_solver: Fix last doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d23c57f5cc534337b9e75e01921e08fd0c1cebee"><code>d23c57f</code></a></td><td><code>Merge branch 't/20296/mixedintegerlinearprogram__new_backend_using_interactivelpproblem' into lp_fixes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3f827ea533790619f2f8f72d1312922c741b8f1a"><code>3f827ea</code></a></td><td><code>Use TestSuite for testing MIP backends</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ec68338e2c1f6df7707fbb9f14be84e5dee4eb1d"><code>ec68338</code></a></td><td><code>Add comment</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1d617b7c6c8e7f35ceb9cce4d504305ea980027d"><code>1d617b7</code></a></td><td><code>More _test_... functions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3c6a759a6f78068b878092170453865d96cab906"><code>3c6a759</code></a></td><td><code>get_solver: Make doctest work no matter whether backends are Python or Sage objects</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/06f148210bcf75fddf6384fb6d101ffb7deae217"><code>06f1482</code></a></td><td><code>Run testsuite with all MIP backends</code></td></tr></table>




---

archive/issue_comments_292983.json:
```json
{
    "body": "Changed commit from **[`5034459`](https://github.com/sagemath/sagetrac-mirror/commit/503445990bccbb61c5d94f7205f3495043f6be76)** to **[`06f1482`](https://github.com/sagemath/sagetrac-mirror/commit/06f148210bcf75fddf6384fb6d101ffb7deae217)**",
    "created_at": "2016-04-06T07:07:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-292983",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5034459`](https://github.com/sagemath/sagetrac-mirror/commit/503445990bccbb61c5d94f7205f3495043f6be76)** to **[`06f1482`](https://github.com/sagemath/sagetrac-mirror/commit/06f148210bcf75fddf6384fb6d101ffb7deae217)**



---

archive/issue_comments_292984.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nBranch is on top of various closed/reviewed LP tickets from #20302. Will rebase on top of next 'develop' later.",
    "created_at": "2016-04-06T07:08:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-292984",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:8" align="right">comment:8</div>

Branch is on top of various closed/reviewed LP tickets from #20302. Will rebase on top of next 'develop' later.



---

archive/issue_comments_292985.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,2 @@\n- I think the backends should be tested using a common `TestSuite`. Right now each backend uses its own doctests, which have slightly diverged from each other, so there is nothing (other than the fact that they were the result of copy-paste from each other) that ensures consistency. (#20296 fixes several wrong doctests in `GenericBackend`, from which I tried to copy-paste, for example.)\n+The MIP backends should be tested using a common `TestSuite`. Right now each backend uses its own doctests, which have slightly diverged from each other, so there is nothing (other than the fact that they were the result of copy-paste from each other) that ensures consistency. (#20296 fixes several wrong doctests in `GenericBackend`, from which I tried to copy-paste, for example.)\n \n-Pointers on how to do this would be welcome.\n``````\n",
    "created_at": "2016-04-06T07:12:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-292985",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,2 @@
- I think the backends should be tested using a common `TestSuite`. Right now each backend uses its own doctests, which have slightly diverged from each other, so there is nothing (other than the fact that they were the result of copy-paste from each other) that ensures consistency. (#20296 fixes several wrong doctests in `GenericBackend`, from which I tried to copy-paste, for example.)
+The MIP backends should be tested using a common `TestSuite`. Right now each backend uses its own doctests, which have slightly diverged from each other, so there is nothing (other than the fact that they were the result of copy-paste from each other) that ensures consistency. (#20296 fixes several wrong doctests in `GenericBackend`, from which I tried to copy-paste, for example.)
 
-Pointers on how to do this would be welcome.
``````




---

archive/issue_comments_292986.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/af4bcd5c4605dcf4e5b6321335e9137174f14940\"><code>af4bcd5</code></a></td><td><code>GenericBackend._test_add_variables(): Add tests from CVXOPTBackend</code></td></tr></table>\n",
    "created_at": "2016-04-06T07:42:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-292986",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/af4bcd5c4605dcf4e5b6321335e9137174f14940"><code>af4bcd5</code></a></td><td><code>GenericBackend._test_add_variables(): Add tests from CVXOPTBackend</code></td></tr></table>




---

archive/issue_comments_292987.json:
```json
{
    "body": "Changed commit from **[`06f1482`](https://github.com/sagemath/sagetrac-mirror/commit/06f148210bcf75fddf6384fb6d101ffb7deae217)** to **[`af4bcd5`](https://github.com/sagemath/sagetrac-mirror/commit/af4bcd5c4605dcf4e5b6321335e9137174f14940)**",
    "created_at": "2016-04-06T07:42:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-292987",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`06f1482`](https://github.com/sagemath/sagetrac-mirror/commit/06f148210bcf75fddf6384fb6d101ffb7deae217)** to **[`af4bcd5`](https://github.com/sagemath/sagetrac-mirror/commit/af4bcd5c4605dcf4e5b6321335e9137174f14940)**



---

archive/issue_comments_292988.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nHi Matthias!\n\nJust had a brief look at your TestSuite usage. This sounds very sensible indeed.\n\nInheriting from PythonObjectWithTests would indeed make sense; however since it's currently a plain Python class, one can't inherit from it in a Cython class. This could be fixed though.\n\nCheers,\n                                       Nicolas",
    "created_at": "2016-04-06T15:40:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-292988",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:11" align="right">comment:11</div>

Hi Matthias!

Just had a brief look at your TestSuite usage. This sounds very sensible indeed.

Inheriting from PythonObjectWithTests would indeed make sense; however since it's currently a plain Python class, one can't inherit from it in a Cython class. This could be fixed though.

Cheers,
                                       Nicolas



---

archive/issue_comments_292989.json:
```json
{
    "body": "Changed commit from **[`af4bcd5`](https://github.com/sagemath/sagetrac-mirror/commit/af4bcd5c4605dcf4e5b6321335e9137174f14940)** to **[`65afba2`](https://github.com/sagemath/sagetrac-mirror/commit/65afba2d6bc7fdd31ea54e05845f5eb07b57fb5c)**",
    "created_at": "2016-04-08T17:11:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-292989",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`af4bcd5`](https://github.com/sagemath/sagetrac-mirror/commit/af4bcd5c4605dcf4e5b6321335e9137174f14940)** to **[`65afba2`](https://github.com/sagemath/sagetrac-mirror/commit/65afba2d6bc7fdd31ea54e05845f5eb07b57fb5c)**



---

archive/issue_comments_292990.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b3a14bb01cdd17c2762842974733218eb5e47059\"><code>b3a14bb</code></a></td><td><code>Fix #20326: GenericBackend: Fix doctest of add_linear_constraint_vector</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/690b1a55435f70abfd17bfcc752af13a7cce8e52\"><code>690b1a5</code></a></td><td><code>add_linear_constraint: Use 'optional - Nonexistent_LP_solver' test as well</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ec1b0e15e2cba7da360aa2aa97da285a3dae79e8\"><code>ec1b0e1</code></a></td><td><code>Merge branch 't/20326/genericbackend__fix_doctest_of_add_linear_constraint_vector' into t/20323/common_testsuite_for_mip_backends</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/41f9c9883014f2b5f70a4420423e10bb0f2c8edc\"><code>41f9c98</code></a></td><td><code>Add a classmethod _test_solve</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/65afba2d6bc7fdd31ea54e05845f5eb07b57fb5c\"><code>65afba2</code></a></td><td><code>GenericBackend._test_solve: Finish</code></td></tr></table>\n",
    "created_at": "2016-04-08T17:11:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-292990",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b3a14bb01cdd17c2762842974733218eb5e47059"><code>b3a14bb</code></a></td><td><code>Fix #20326: GenericBackend: Fix doctest of add_linear_constraint_vector</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/690b1a55435f70abfd17bfcc752af13a7cce8e52"><code>690b1a5</code></a></td><td><code>add_linear_constraint: Use 'optional - Nonexistent_LP_solver' test as well</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ec1b0e15e2cba7da360aa2aa97da285a3dae79e8"><code>ec1b0e1</code></a></td><td><code>Merge branch 't/20326/genericbackend__fix_doctest_of_add_linear_constraint_vector' into t/20323/common_testsuite_for_mip_backends</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/41f9c9883014f2b5f70a4420423e10bb0f2c8edc"><code>41f9c98</code></a></td><td><code>Add a classmethod _test_solve</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/65afba2d6bc7fdd31ea54e05845f5eb07b57fb5c"><code>65afba2</code></a></td><td><code>GenericBackend._test_solve: Finish</code></td></tr></table>




---

archive/issue_comments_292991.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nThere are two types of `_test_...` methods, which are illustrated by the following examples:\n\n```\n    ## This test method is written as an instance method that works\n    ## even if variables and constraints have already been added to the backend.\n    ## The test makes changes to the backend.\n    def _test_add_linear_constraints(self, **options):\n        \"\"\"\n        Run tests on the method :meth:`.add_linear_constraints`.\n\n        TESTS:\n\n        Test, with an actual working backend, that the test works even if the problem\n        is not empty at the beginning::\n\n            sage: from sage.numerical.backends.generic_backend import get_solver\n            sage: p = get_solver(solver='GLPK')\n            sage: p.add_variables(2)\n            1\n            sage: p.add_linear_constraint([[0, 17], [1, 89]], None, 42)\n            sage: p._test_add_linear_constraints()\n        \"\"\"\n        tester = self._tester(**options)\n        nrows_before = self.nrows()\n        nrows_added = 5\n        self.add_linear_constraints(nrows_added, None, 2)\n        nrows_after = self.nrows()\n        # Test correct number of rows\n        tester.assertEqual(nrows_after, nrows_before+nrows_added, \"Added the wrong number of rows\")\n        # Test contents of the new rows are correct (sparse zero)\n        for i in range(nrows_before, nrows_after):\n            tester.assertEqual(self.row(i), ([], []))\n            tester.assertEqual(self.row_bounds(i), (None, 2.0))\n\n    ## Any test methods involving calls to 'solve' are set up as class methods,\n    ## which make a fresh instance of the backend.\n    @classmethod\n    def _test_solve(cls, tester=None, **options):\n        \"\"\"\n        Trivial test for the solve method.\n\n        TEST::\n\n            sage: from sage.numerical.backends.generic_backend import GenericBackend\n            sage: p = GenericBackend()\n            sage: p._test_solve()\n            Traceback (most recent call last):\n            ...\n            NotImplementedError: ...\n        \"\"\"\n        p = cls()                         # fresh instance of the backend\n        if tester is None:\n            tester = p._tester(**options)\n        # From doctest of GenericBackend.solve:\n        tester.assertIsNone(p.add_linear_constraints(5, 0, None))\n        tester.assertIsNone(p.add_col(range(5), range(5)))\n        tester.assertEqual(p.solve(), 0)\n        tester.assertIsNone(p.objective_coefficient(0,1))\n        from sage.numerical.mip import MIPSolverException\n        #with tester.assertRaisesRegexp(MIPSolverException, \"unbounded\") as cm:  ## --- too specific\n        with tester.assertRaises(MIPSolverException) as cm:   # unbounded\n            p.solve()\n```\n\nI've translated these from existing doctests (either from `GenericBackend` or some real backend) by hand. `_test_solve` already reveals another bug in the CVXOPT backend. \nThe plan is to use #20376 to semi-automatically add new `_test` methods.",
    "created_at": "2016-04-08T17:17:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-292991",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:13" align="right">comment:13</div>

There are two types of `_test_...` methods, which are illustrated by the following examples:

```
    ## This test method is written as an instance method that works
    ## even if variables and constraints have already been added to the backend.
    ## The test makes changes to the backend.
    def _test_add_linear_constraints(self, **options):
        """
        Run tests on the method :meth:`.add_linear_constraints`.

        TESTS:

        Test, with an actual working backend, that the test works even if the problem
        is not empty at the beginning::

            sage: from sage.numerical.backends.generic_backend import get_solver
            sage: p = get_solver(solver='GLPK')
            sage: p.add_variables(2)
            1
            sage: p.add_linear_constraint([[0, 17], [1, 89]], None, 42)
            sage: p._test_add_linear_constraints()
        """
        tester = self._tester(**options)
        nrows_before = self.nrows()
        nrows_added = 5
        self.add_linear_constraints(nrows_added, None, 2)
        nrows_after = self.nrows()
        # Test correct number of rows
        tester.assertEqual(nrows_after, nrows_before+nrows_added, "Added the wrong number of rows")
        # Test contents of the new rows are correct (sparse zero)
        for i in range(nrows_before, nrows_after):
            tester.assertEqual(self.row(i), ([], []))
            tester.assertEqual(self.row_bounds(i), (None, 2.0))

    ## Any test methods involving calls to 'solve' are set up as class methods,
    ## which make a fresh instance of the backend.
    @classmethod
    def _test_solve(cls, tester=None, **options):
        """
        Trivial test for the solve method.

        TEST::

            sage: from sage.numerical.backends.generic_backend import GenericBackend
            sage: p = GenericBackend()
            sage: p._test_solve()
            Traceback (most recent call last):
            ...
            NotImplementedError: ...
        """
        p = cls()                         # fresh instance of the backend
        if tester is None:
            tester = p._tester(**options)
        # From doctest of GenericBackend.solve:
        tester.assertIsNone(p.add_linear_constraints(5, 0, None))
        tester.assertIsNone(p.add_col(range(5), range(5)))
        tester.assertEqual(p.solve(), 0)
        tester.assertIsNone(p.objective_coefficient(0,1))
        from sage.numerical.mip import MIPSolverException
        #with tester.assertRaisesRegexp(MIPSolverException, "unbounded") as cm:  ## --- too specific
        with tester.assertRaises(MIPSolverException) as cm:   # unbounded
            p.solve()
```

I've translated these from existing doctests (either from `GenericBackend` or some real backend) by hand. `_test_solve` already reveals another bug in the CVXOPT backend. 
The plan is to use #20376 to semi-automatically add new `_test` methods.



---

archive/issue_events_286889.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-04-08T17:17:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20323#event-286889"
}
```



---

archive/issue_comments_292992.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3581a14f0d0d5c44549152aae856c56cc42e124f\"><code>3581a14</code></a></td><td><code>Merge branch 't/20326/genericbackend__fix_doctest_of_add_linear_constraint_vector' into 7.2.beta3_lpfixes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3b6bbbc1329dc56cbb242667e53f83c6c1d94bae\"><code>3b6bbbc</code></a></td><td><code>Use TestSuite for testing MIP backends</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a583cf9c3b8944bc5c75929da38419a96839573a\"><code>a583cf9</code></a></td><td><code>Add comment</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b5acc348dc4c16505168114d0de98eff499c64ce\"><code>b5acc34</code></a></td><td><code>More _test_... functions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2171d750469c78b635a3539b93b425399eda7e53\"><code>2171d75</code></a></td><td><code>get_solver: Make doctest work no matter whether backends are Python or Sage objects</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e2e228cee3032a936750bb54bccae9abaa066e49\"><code>e2e228c</code></a></td><td><code>Run testsuite with all MIP backends</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/703494d30b5e95d825147bf54c28a573d6361153\"><code>703494d</code></a></td><td><code>GenericBackend._test_add_variables(): Add tests from CVXOPTBackend</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/053361a61aecbfa66c3867b8028f0e33720105a2\"><code>053361a</code></a></td><td><code>Add a classmethod _test_solve</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/407532db90231cb924b73fc87fa6e252aff33c8d\"><code>407532d</code></a></td><td><code>GenericBackend._test_solve: Finish</code></td></tr></table>\n",
    "created_at": "2016-04-08T17:25:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-292992",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3581a14f0d0d5c44549152aae856c56cc42e124f"><code>3581a14</code></a></td><td><code>Merge branch 't/20326/genericbackend__fix_doctest_of_add_linear_constraint_vector' into 7.2.beta3_lpfixes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3b6bbbc1329dc56cbb242667e53f83c6c1d94bae"><code>3b6bbbc</code></a></td><td><code>Use TestSuite for testing MIP backends</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a583cf9c3b8944bc5c75929da38419a96839573a"><code>a583cf9</code></a></td><td><code>Add comment</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b5acc348dc4c16505168114d0de98eff499c64ce"><code>b5acc34</code></a></td><td><code>More _test_... functions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2171d750469c78b635a3539b93b425399eda7e53"><code>2171d75</code></a></td><td><code>get_solver: Make doctest work no matter whether backends are Python or Sage objects</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e2e228cee3032a936750bb54bccae9abaa066e49"><code>e2e228c</code></a></td><td><code>Run testsuite with all MIP backends</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/703494d30b5e95d825147bf54c28a573d6361153"><code>703494d</code></a></td><td><code>GenericBackend._test_add_variables(): Add tests from CVXOPTBackend</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/053361a61aecbfa66c3867b8028f0e33720105a2"><code>053361a</code></a></td><td><code>Add a classmethod _test_solve</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/407532db90231cb924b73fc87fa6e252aff33c8d"><code>407532d</code></a></td><td><code>GenericBackend._test_solve: Finish</code></td></tr></table>




---

archive/issue_comments_292993.json:
```json
{
    "body": "Changed commit from **[`65afba2`](https://github.com/sagemath/sagetrac-mirror/commit/65afba2d6bc7fdd31ea54e05845f5eb07b57fb5c)** to **[`407532d`](https://github.com/sagemath/sagetrac-mirror/commit/407532db90231cb924b73fc87fa6e252aff33c8d)**",
    "created_at": "2016-04-08T17:25:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-292993",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`65afba2`](https://github.com/sagemath/sagetrac-mirror/commit/65afba2d6bc7fdd31ea54e05845f5eb07b57fb5c)** to **[`407532d`](https://github.com/sagemath/sagetrac-mirror/commit/407532db90231cb924b73fc87fa6e252aff33c8d)**



---

archive/issue_comments_292994.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nRebased on top of 7.2.beta3 + #20326.",
    "created_at": "2016-04-08T17:26:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-292994",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:15" align="right">comment:15</div>

Rebased on top of 7.2.beta3 + #20326.



---

archive/issue_comments_292995.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nNeeds review, especially regarding my use or abuse of the testing framework...",
    "created_at": "2016-04-08T17:44:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-292995",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:16" align="right">comment:16</div>

Needs review, especially regarding my use or abuse of the testing framework...



---

archive/issue_comments_292996.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nYou should not implement `_test_*` method that modifies the object. I am not sure there is any control in which order things are executed. It would be better in this case to not use the test suite. I would rather have a file tests.py that is only made of doctests.\n\nMoreover, it would make sense to also have comparison between different implementations. You can start with\n\n```\nsage: milps = []\nsage: milps.append(MixedIntegerLinearProgram(solver='cplex')  # optional - cplex\nsage: milps.append(MixedIntegerLinearProgram(solver='coin')    # optional - cbc\n```\nand then loop over the elements in milps.",
    "created_at": "2016-04-08T20:12:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-292996",
    "user": "https://github.com/videlec"
}
```

<div id="comment:17" align="right">comment:17</div>

You should not implement `_test_*` method that modifies the object. I am not sure there is any control in which order things are executed. It would be better in this case to not use the test suite. I would rather have a file tests.py that is only made of doctests.

Moreover, it would make sense to also have comparison between different implementations. You can start with

```
sage: milps = []
sage: milps.append(MixedIntegerLinearProgram(solver='cplex')  # optional - cplex
sage: milps.append(MixedIntegerLinearProgram(solver='coin')    # optional - cbc
```
and then loop over the elements in milps.



---

archive/issue_comments_292997.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nReplying to [@videlec](#comment:17):\n> You should not implement `_test_*` method that modifies the object. I am not sure there is any control in which order things are executed. \n\nAs I pointed out in the comment above `_test_add_linear_constraints` in comment 13, these instance methods are written in a way that the order does not matter.\n\nThe second example uses a class method and runs its tests on fresh instances, so it does not make modifications.\n\nIf it is policy that `_test` methods cannot modify the object, then I can rewrite all tests as class methods like in the second example.\n\nI would rather like to avoid using doctests (in fact I'm trying to replace the superficial, copy-paste-driven testing that is there now); and `TestSuite` seems like exactly the right thing to enforce the API of concrete implementations of an abstract class.",
    "created_at": "2016-04-08T21:23:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-292997",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:18" align="right">comment:18</div>

Replying to [@videlec](#comment:17):
> You should not implement `_test_*` method that modifies the object. I am not sure there is any control in which order things are executed. 

As I pointed out in the comment above `_test_add_linear_constraints` in comment 13, these instance methods are written in a way that the order does not matter.

The second example uses a class method and runs its tests on fresh instances, so it does not make modifications.

If it is policy that `_test` methods cannot modify the object, then I can rewrite all tests as class methods like in the second example.

I would rather like to avoid using doctests (in fact I'm trying to replace the superficial, copy-paste-driven testing that is there now); and `TestSuite` seems like exactly the right thing to enforce the API of concrete implementations of an abstract class.



---

archive/issue_comments_292998.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nFrom taking a quick look at what you are testing, it looks more like you should have a separate file with test functions that takes a backend, creates an instance of it, and runs the basic tests, and then have a \"master\" function which takes the backend and feeds it to each of those functions (or some small variant of this). IMO, this is a better way to do the things that you want, and it means for each (new) backend, you only have to add a test to pass it to the \"master\" function. It also has a bit of a fringe benefit of consolidating the testing of the backends.\n\nIt is possible the user will want to run `TestSuite` on a particular instance, and will be quite surprised if the object has mutated. Another valid option would be to make a copy of the instance and do the mutations to that.",
    "created_at": "2016-04-09T07:01:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-292998",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:19" align="right">comment:19</div>

From taking a quick look at what you are testing, it looks more like you should have a separate file with test functions that takes a backend, creates an instance of it, and runs the basic tests, and then have a "master" function which takes the backend and feeds it to each of those functions (or some small variant of this). IMO, this is a better way to do the things that you want, and it means for each (new) backend, you only have to add a test to pass it to the "master" function. It also has a bit of a fringe benefit of consolidating the testing of the backends.

It is possible the user will want to run `TestSuite` on a particular instance, and will be quite surprised if the object has mutated. Another valid option would be to make a copy of the instance and do the mutations to that.



---

archive/issue_comments_292999.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nOr maybe putting the _test_* methods on the backends, with each _test_method starting by creating a new instance.\n\nCheers,\n                                Nicolas",
    "created_at": "2016-04-09T20:46:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-292999",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:20" align="right">comment:20</div>

Or maybe putting the _test_* methods on the backends, with each _test_method starting by creating a new instance.

Cheers,
                                Nicolas



---

archive/issue_comments_293000.json:
```json
{
    "body": "Changed commit from **[`407532d`](https://github.com/sagemath/sagetrac-mirror/commit/407532db90231cb924b73fc87fa6e252aff33c8d)** to **[`d93b798`](https://github.com/sagemath/sagetrac-mirror/commit/d93b79857bdacc92a8a2a93155ab5f20bb0b1a8a)**",
    "created_at": "2016-04-09T22:20:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-293000",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`407532d`](https://github.com/sagemath/sagetrac-mirror/commit/407532db90231cb924b73fc87fa6e252aff33c8d)** to **[`d93b798`](https://github.com/sagemath/sagetrac-mirror/commit/d93b79857bdacc92a8a2a93155ab5f20bb0b1a8a)**



---

archive/issue_comments_293001.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d93b79857bdacc92a8a2a93155ab5f20bb0b1a8a\"><code>d93b798</code></a></td><td><code>Change from mutating instance _test methods to class methods</code></td></tr></table>\n",
    "created_at": "2016-04-09T22:20:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-293001",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d93b79857bdacc92a8a2a93155ab5f20bb0b1a8a"><code>d93b798</code></a></td><td><code>Change from mutating instance _test methods to class methods</code></td></tr></table>




---

archive/issue_comments_293002.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nReplying to [@nthiery](#comment:20):\n> Or maybe putting the _test_* methods on the backends, with each _test_method starting by creating a new instance.\n\nThanks Nicolas, Vincent, and Travis for your comments. \n\nI agree, making changes to the object may be surprising to users who are in the habit of running the testsuite on objects.\n\nI have now converted the `_test_*` methods that were previously making changes into methods that create a new instance. \n(This is in line with what Nicolas suggests.)\n\nAll `_test_*` methods are now actually marked as classmethods, so these methods don't even get access to the instance, so they can't modify it. Here's an example.\n\n```\n    @classmethod\n    def _test_add_linear_constraints(cls, tester=None, **options):\n        \"\"\"\n        Run tests on the method :meth:`.add_linear_constraints`.\n\n        TEST::\n\n            sage: from sage.numerical.backends.generic_backend import GenericBackend\n            sage: p = GenericBackend()\n            sage: p._test_add_linear_constraints()\n            Traceback (most recent call last):\n            ...\n            NotImplementedError\n        \"\"\"\n        p = cls()                         # fresh instance of the backend\n        if tester is None:\n            tester = p._tester(**options)\n        nrows_before = p.nrows()\n        nrows_added = 5\n        p.add_linear_constraints(nrows_added, None, 2)\n        nrows_after = p.nrows()\n        # Test correct number of rows\n        tester.assertEqual(nrows_after, nrows_before+nrows_added, \"Added the wrong number of rows\")\n        # Test contents of the new rows are correct (sparse zero)\n        for i in range(nrows_before, nrows_after):\n            tester.assertEqual(p.row(i), ([], []))\n            tester.assertEqual(p.row_bounds(i), (None, 2.0))\n```\n\nSome of you suggested that the tests should be in a different file; but I don't see how that would help. I would rather like to keep them as close as possible to the definitions of the methods in `GenericBackend`; after all the point of the new tests is to tighten the definition of the API of the backends. \n\nThe nice thing about having these `_test_*` methods automatically inherited by all concrete backends is that they cannot just \"forget\" running the tests for them when it would be \"convenient\" to do so.",
    "created_at": "2016-04-09T22:38:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-293002",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:22" align="right">comment:22</div>

Replying to [@nthiery](#comment:20):
> Or maybe putting the _test_* methods on the backends, with each _test_method starting by creating a new instance.

Thanks Nicolas, Vincent, and Travis for your comments. 

I agree, making changes to the object may be surprising to users who are in the habit of running the testsuite on objects.

I have now converted the `_test_*` methods that were previously making changes into methods that create a new instance. 
(This is in line with what Nicolas suggests.)

All `_test_*` methods are now actually marked as classmethods, so these methods don't even get access to the instance, so they can't modify it. Here's an example.

```
    @classmethod
    def _test_add_linear_constraints(cls, tester=None, **options):
        """
        Run tests on the method :meth:`.add_linear_constraints`.

        TEST::

            sage: from sage.numerical.backends.generic_backend import GenericBackend
            sage: p = GenericBackend()
            sage: p._test_add_linear_constraints()
            Traceback (most recent call last):
            ...
            NotImplementedError
        """
        p = cls()                         # fresh instance of the backend
        if tester is None:
            tester = p._tester(**options)
        nrows_before = p.nrows()
        nrows_added = 5
        p.add_linear_constraints(nrows_added, None, 2)
        nrows_after = p.nrows()
        # Test correct number of rows
        tester.assertEqual(nrows_after, nrows_before+nrows_added, "Added the wrong number of rows")
        # Test contents of the new rows are correct (sparse zero)
        for i in range(nrows_before, nrows_after):
            tester.assertEqual(p.row(i), ([], []))
            tester.assertEqual(p.row_bounds(i), (None, 2.0))
```

Some of you suggested that the tests should be in a different file; but I don't see how that would help. I would rather like to keep them as close as possible to the definitions of the methods in `GenericBackend`; after all the point of the new tests is to tighten the definition of the API of the backends. 

The nice thing about having these `_test_*` methods automatically inherited by all concrete backends is that they cannot just "forget" running the tests for them when it would be "convenient" to do so.



---

archive/issue_comments_293003.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nSome remarks before looking once more at the code:\n\n- It would actually be interesting for the tests to have access to the objects. They are non trivially initialized (maximization vs minimization, constraints, etc). Using them as a base (with copy) each test suite would actually run different tests.\n\n- This approach does not allow to cross check the backends (?).",
    "created_at": "2016-04-09T22:43:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-293003",
    "user": "https://github.com/videlec"
}
```

<div id="comment:23" align="right">comment:23</div>

Some remarks before looking once more at the code:

- It would actually be interesting for the tests to have access to the objects. They are non trivially initialized (maximization vs minimization, constraints, etc). Using them as a base (with copy) each test suite would actually run different tests.

- This approach does not allow to cross check the backends (?).



---

archive/issue_comments_293004.json:
```json
{
    "body": "Changed commit from **[`d93b798`](https://github.com/sagemath/sagetrac-mirror/commit/d93b79857bdacc92a8a2a93155ab5f20bb0b1a8a)** to **[`94a4ac5`](https://github.com/sagemath/sagetrac-mirror/commit/94a4ac546369b8b12d36635e2c74d7113420b144)**",
    "created_at": "2016-04-09T23:02:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-293004",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d93b798`](https://github.com/sagemath/sagetrac-mirror/commit/d93b79857bdacc92a8a2a93155ab5f20bb0b1a8a)** to **[`94a4ac5`](https://github.com/sagemath/sagetrac-mirror/commit/94a4ac546369b8b12d36635e2c74d7113420b144)**



---

archive/issue_comments_293005.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/94a4ac546369b8b12d36635e2c74d7113420b144\"><code>94a4ac5</code></a></td><td><code>New method _test_ncols_nonnegative</code></td></tr></table>\n",
    "created_at": "2016-04-09T23:02:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-293005",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/94a4ac546369b8b12d36635e2c74d7113420b144"><code>94a4ac5</code></a></td><td><code>New method _test_ncols_nonnegative</code></td></tr></table>




---

archive/issue_comments_293006.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@videlec](#comment:23):\n> Some remarks before looking once more at the code:\n> \n> - It would actually be interesting for the tests to have access to the objects. They are non trivially initialized (maximization vs minimization, constraints, etc). Using them as a base (with copy) each test suite would actually run different tests.\n\nIf one wants to write such a test, one can just remove the `@`classmethod decorator. This makes indeed sense for the various getter methods.  As an example, I have just added the following test method:\n\n```\n    def _test_ncols_nonnegative(self, **options):\n        tester = self._tester(**options)\n        p = self\n        tester.assertGreaterEqual(self.ncols(), 0)\n```\n\n> - This approach does not allow to cross check the backends (?).\n\nThe idea is that all backends are checked against the same set of tests. (In contrast to the current doctests, in which each backend decides by copy-paste what is convenient to be tested.)\nI plan to distill a good set of tests by means of #20376 from the existing doctests of the various backends.",
    "created_at": "2016-04-09T23:04:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-293006",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@videlec](#comment:23):
> Some remarks before looking once more at the code:
> 
> - It would actually be interesting for the tests to have access to the objects. They are non trivially initialized (maximization vs minimization, constraints, etc). Using them as a base (with copy) each test suite would actually run different tests.

If one wants to write such a test, one can just remove the `@`classmethod decorator. This makes indeed sense for the various getter methods.  As an example, I have just added the following test method:

```
    def _test_ncols_nonnegative(self, **options):
        tester = self._tester(**options)
        p = self
        tester.assertGreaterEqual(self.ncols(), 0)
```

> - This approach does not allow to cross check the backends (?).

The idea is that all backends are checked against the same set of tests. (In contrast to the current doctests, in which each backend decides by copy-paste what is convenient to be tested.)
I plan to distill a good set of tests by means of #20376 from the existing doctests of the various backends.



---

archive/issue_comments_293007.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nI forgot to remark, I wouldn't want to rely on `copy` so much at the moment, because the nontrivial copy methods of the backends are essentially untested (doctests there to please the patchbot), just like the rest of the API.",
    "created_at": "2016-04-09T23:10:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-293007",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:26" align="right">comment:26</div>

I forgot to remark, I wouldn't want to rely on `copy` so much at the moment, because the nontrivial copy methods of the backends are essentially untested (doctests there to please the patchbot), just like the rest of the API.



---

archive/issue_comments_293008.json:
```json
{
    "body": "Changed commit from **[`94a4ac5`](https://github.com/sagemath/sagetrac-mirror/commit/94a4ac546369b8b12d36635e2c74d7113420b144)** to **[`c4e7a83`](https://github.com/sagemath/sagetrac-mirror/commit/c4e7a839e348f0469b84bde2edcb2dfd69bc71b9)**",
    "created_at": "2016-04-10T00:54:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-293008",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`94a4ac5`](https://github.com/sagemath/sagetrac-mirror/commit/94a4ac546369b8b12d36635e2c74d7113420b144)** to **[`c4e7a83`](https://github.com/sagemath/sagetrac-mirror/commit/c4e7a839e348f0469b84bde2edcb2dfd69bc71b9)**



---

archive/issue_comments_293009.json:
```json
{
    "body": "<div id=\"comment:27\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2810de46963a972cca599fb6e0b1ed5d61f3f15d\"><code>2810de4</code></a></td><td><code>_test_copy: New</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c4e7a839e348f0469b84bde2edcb2dfd69bc71b9\"><code>c4e7a83</code></a></td><td><code>_test_copy_does_not_share_data: New</code></td></tr></table>\n",
    "created_at": "2016-04-10T00:54:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-293009",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:27"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2810de46963a972cca599fb6e0b1ed5d61f3f15d"><code>2810de4</code></a></td><td><code>_test_copy: New</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c4e7a839e348f0469b84bde2edcb2dfd69bc71b9"><code>c4e7a83</code></a></td><td><code>_test_copy_does_not_share_data: New</code></td></tr></table>




---

archive/issue_comments_293010.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nReplying to [@videlec](#comment:23):\n> - It would actually be interesting for the tests to have access to the objects. They are non trivially initialized (maximization vs minimization, constraints, etc). Using them as a base (with copy) each test suite would actually run different tests.\n\nI think now I understand better what you meant. \nIndeed, at least some instance `_test` methods -- such as the `_test` methods for `copy` that I just wrote -- would benefit from being invoked for various examples.",
    "created_at": "2016-04-10T01:02:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-293010",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:28" align="right">comment:28</div>

Replying to [@videlec](#comment:23):
> - It would actually be interesting for the tests to have access to the objects. They are non trivially initialized (maximization vs minimization, constraints, etc). Using them as a base (with copy) each test suite would actually run different tests.

I think now I understand better what you meant. 
Indeed, at least some instance `_test` methods -- such as the `_test` methods for `copy` that I just wrote -- would benefit from being invoked for various examples.



---

archive/issue_comments_293011.json:
```json
{
    "body": "<div id=\"comment:29\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/43bd851cd46e646f2bc832e35c0cd935d22b3917\"><code>43bd851</code></a></td><td><code>Test backend.copy() rather than copy(backend)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7faac98bba71be74cb75ead66e0f432a1180f0c4\"><code>7faac98</code></a></td><td><code>test_copy_some_mips: New</code></td></tr></table>\n",
    "created_at": "2016-04-10T01:39:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-293011",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:29"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/43bd851cd46e646f2bc832e35c0cd935d22b3917"><code>43bd851</code></a></td><td><code>Test backend.copy() rather than copy(backend)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7faac98bba71be74cb75ead66e0f432a1180f0c4"><code>7faac98</code></a></td><td><code>test_copy_some_mips: New</code></td></tr></table>




---

archive/issue_comments_293012.json:
```json
{
    "body": "Changed commit from **[`c4e7a83`](https://github.com/sagemath/sagetrac-mirror/commit/c4e7a839e348f0469b84bde2edcb2dfd69bc71b9)** to **[`7faac98`](https://github.com/sagemath/sagetrac-mirror/commit/7faac98bba71be74cb75ead66e0f432a1180f0c4)**",
    "created_at": "2016-04-10T01:39:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-293012",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c4e7a83`](https://github.com/sagemath/sagetrac-mirror/commit/c4e7a839e348f0469b84bde2edcb2dfd69bc71b9)** to **[`7faac98`](https://github.com/sagemath/sagetrac-mirror/commit/7faac98bba71be74cb75ead66e0f432a1180f0c4)**



---

archive/issue_comments_293013.json:
```json
{
    "body": "Changed commit from **[`7faac98`](https://github.com/sagemath/sagetrac-mirror/commit/7faac98bba71be74cb75ead66e0f432a1180f0c4)** to **[`f409806`](https://github.com/sagemath/sagetrac-mirror/commit/f40980646e129eeb501a51fd06e99eb98d83a4f3)**",
    "created_at": "2016-04-10T07:37:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-293013",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7faac98`](https://github.com/sagemath/sagetrac-mirror/commit/7faac98bba71be74cb75ead66e0f432a1180f0c4)** to **[`f409806`](https://github.com/sagemath/sagetrac-mirror/commit/f40980646e129eeb501a51fd06e99eb98d83a4f3)**



---

archive/issue_comments_293014.json:
```json
{
    "body": "<div id=\"comment:30\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a206c85dda7ea8fc4ab5db88929cbfc7cc84839e\"><code>a206c85</code></a></td><td><code>Add _test_solve_trac_18572 (autogenerated)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f40980646e129eeb501a51fd06e99eb98d83a4f3\"><code>f409806</code></a></td><td><code>_test_solve_trac_18572: Replace float integers by integers to make test suitable for PPL backend</code></td></tr></table>\n",
    "created_at": "2016-04-10T07:37:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-293014",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:30"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a206c85dda7ea8fc4ab5db88929cbfc7cc84839e"><code>a206c85</code></a></td><td><code>Add _test_solve_trac_18572 (autogenerated)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f40980646e129eeb501a51fd06e99eb98d83a4f3"><code>f409806</code></a></td><td><code>_test_solve_trac_18572: Replace float integers by integers to make test suitable for PPL backend</code></td></tr></table>




---

archive/issue_comments_293015.json:
```json
{
    "body": "Author: **Matthias Koeppe**",
    "created_at": "2016-04-11T05:33:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-293015",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Matthias Koeppe**



---

archive/issue_comments_293016.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nI recall asking how one deals with different backends producing different, albeit equivalent, outputs. E.g. some of them would even introduce extra variables for some constraints (see e.g. [here](https://github.com/sagemath/sage/issues/13148#comment:2)). Some backends assign names to constraints automatically.",
    "created_at": "2016-04-11T09:12:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-293016",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:32" align="right">comment:32</div>

I recall asking how one deals with different backends producing different, albeit equivalent, outputs. E.g. some of them would even introduce extra variables for some constraints (see e.g. [here](https://github.com/sagemath/sage/issues/13148#comment:2)). Some backends assign names to constraints automatically.



---

archive/issue_comments_293017.json:
```json
{
    "body": "Reviewer: **Thierry Monteil**",
    "created_at": "2016-04-11T14:51:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-293017",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Reviewer: **Thierry Monteil**



---

archive/issue_events_286890.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2016-04-11T14:51:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20323#event-286890"
}
```



---

archive/issue_events_286891.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2016-04-11T14:51:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20323#event-286891"
}
```



---

archive/issue_comments_293018.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nNote that currently the tests do not pass when `cbc` is installed, see the logs at http://patchbot.sagemath.org/log/20323/debian/8.3/i686/3.16.0-4-586/tmonteil-debian-jessie-32/2016-04-11%2008:33:06",
    "created_at": "2016-04-11T14:51:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-293018",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:33" align="right">comment:33</div>

Note that currently the tests do not pass when `cbc` is installed, see the logs at http://patchbot.sagemath.org/log/20323/debian/8.3/i686/3.16.0-4-586/tmonteil-debian-jessie-32/2016-04-11%2008:33:06



---

archive/issue_comments_293019.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nthis would also show errors just fine:\nhttp://patchbot.sagemath.org/log/20323/debian/8.3/i686/3.16.0-4-586/tmonteil-debian-jessie-32/2016-04-11%2008:33:06?short\n\nanyhow, it looks as if there are also errors not related to cbc. Wrong git branch?",
    "created_at": "2016-04-11T15:19:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-293019",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:34" align="right">comment:34</div>

this would also show errors just fine:
http://patchbot.sagemath.org/log/20323/debian/8.3/i686/3.16.0-4-586/tmonteil-debian-jessie-32/2016-04-11%2008:33:06?short

anyhow, it looks as if there are also errors not related to cbc. Wrong git branch?



---

archive/issue_comments_293020.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nReplying to [@dimpase](#comment:34):\n> Wrong git branch?\n\nApparently not, the indicated commit is f40980646e129eeb501a51fd06e99eb98d83a4f3",
    "created_at": "2016-04-11T15:36:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-293020",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:35" align="right">comment:35</div>

Replying to [@dimpase](#comment:34):
> Wrong git branch?

Apparently not, the indicated commit is f40980646e129eeb501a51fd06e99eb98d83a4f3



---

archive/issue_comments_293021.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nYes, lots of tests fail!\nAnd I haven't even really started adding tests.\n\nIt's the whole point of writing this test suite.",
    "created_at": "2016-04-11T15:45:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-293021",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:36" align="right">comment:36</div>

Yes, lots of tests fail!
And I haven't even really started adding tests.

It's the whole point of writing this test suite.



---

archive/issue_comments_293022.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nReplying to [@dimpase](#comment:32):\n> I recall asking how one deals with different backends producing different, albeit equivalent, outputs. E.g. some of them would even introduce extra variables for some constraints (see e.g. [here](https://github.com/sagemath/sage/issues/13148#comment:2)). Some backends assign names to constraints automatically.\n\nThanks for the pointer to that ticket. Yes, the tests need to be written in a way that they accommodate the solvers.",
    "created_at": "2016-04-11T15:46:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-293022",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:37" align="right">comment:37</div>

Replying to [@dimpase](#comment:32):
> I recall asking how one deals with different backends producing different, albeit equivalent, outputs. E.g. some of them would even introduce extra variables for some constraints (see e.g. [here](https://github.com/sagemath/sage/issues/13148#comment:2)). Some backends assign names to constraints automatically.

Thanks for the pointer to that ticket. Yes, the tests need to be written in a way that they accommodate the solvers.



---

archive/issue_comments_293023.json:
```json
{
    "body": "Changed commit from **[`f409806`](https://github.com/sagemath/sagetrac-mirror/commit/f40980646e129eeb501a51fd06e99eb98d83a4f3)** to **[`2251125`](https://github.com/sagemath/sagetrac-mirror/commit/22511250dd688bba5d98672fb89b0f779fd28e97)**",
    "created_at": "2016-04-11T19:03:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-293023",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f409806`](https://github.com/sagemath/sagetrac-mirror/commit/f40980646e129eeb501a51fd06e99eb98d83a4f3)** to **[`2251125`](https://github.com/sagemath/sagetrac-mirror/commit/22511250dd688bba5d98672fb89b0f779fd28e97)**



---

archive/issue_comments_293024.json:
```json
{
    "body": "<div id=\"comment:38\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/22511250dd688bba5d98672fb89b0f779fd28e97\"><code>2251125</code></a></td><td><code>GenericBackend: Remove failing _test methods from this ticket to make the patchbot and its friends happy</code></td></tr></table>\n",
    "created_at": "2016-04-11T19:03:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-293024",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:38"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/22511250dd688bba5d98672fb89b0f779fd28e97"><code>2251125</code></a></td><td><code>GenericBackend: Remove failing _test methods from this ticket to make the patchbot and its friends happy</code></td></tr></table>




---

archive/issue_comments_293025.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nI've split this ticket. Now the branch has only tests that pass; other tests will appear on #20424.\nReady for review.",
    "created_at": "2016-04-11T19:09:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-293025",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:39" align="right">comment:39</div>

I've split this ticket. Now the branch has only tests that pass; other tests will appear on #20424.
Ready for review.



---

archive/issue_events_286892.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-04-11T19:09:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20323#event-286892"
}
```



---

archive/issue_events_286893.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-04-11T19:09:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20323#event-286893"
}
```



---

archive/issue_comments_293026.json:
```json
{
    "body": "Dependencies: **#20326**",
    "created_at": "2016-04-11T19:09:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-293026",
    "user": "https://github.com/mkoeppe"
}
```

Dependencies: **#20326**



---

archive/issue_comments_293027.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nplease rebase over the latest beta. there is a small merge conflict:\n\n```\ndiff --cc src/sage/numerical/backends/generic_backend.pyx\nindex aef0cb0,d554470..0000000\n--- a/src/sage/numerical/backends/generic_backend.pyx\n+++ b/src/sage/numerical/backends/generic_backend.pyx\n@@@ -1330,9 -1408,7 +1414,13 @@@ cpdef GenericBackend get_solver(constra\n          sage: p.base_ring()\n          Real Double Field\n          sage: p = get_solver(base_ring=QQ); p\n++<<<<<<< HEAD\n +        <sage.numerical.backends.ppl_backend.PPLBackend object at ...>\n +        sage: p = get_solver(base_ring=ZZ); p\n +        <sage.numerical.backends.ppl_backend.PPLBackend object at ...>\n++=======\n+         <...sage.numerical.backends.ppl_backend.PPLBackend...>\n++>>>>>>> 22511250dd688bba5d98672fb89b0f779fd28e97\n          sage: p.base_ring()\n          Rational Field\n          sage: p = get_solver(base_ring=AA); p\n```",
    "created_at": "2016-04-13T19:45:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-293027",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:40" align="right">comment:40</div>

please rebase over the latest beta. there is a small merge conflict:

```
diff --cc src/sage/numerical/backends/generic_backend.pyx
index aef0cb0,d554470..0000000
--- a/src/sage/numerical/backends/generic_backend.pyx
+++ b/src/sage/numerical/backends/generic_backend.pyx
@@@ -1330,9 -1408,7 +1414,13 @@@ cpdef GenericBackend get_solver(constra
          sage: p.base_ring()
          Real Double Field
          sage: p = get_solver(base_ring=QQ); p
++<<<<<<< HEAD
 +        <sage.numerical.backends.ppl_backend.PPLBackend object at ...>
 +        sage: p = get_solver(base_ring=ZZ); p
 +        <sage.numerical.backends.ppl_backend.PPLBackend object at ...>
++=======
+         <...sage.numerical.backends.ppl_backend.PPLBackend...>
++>>>>>>> 22511250dd688bba5d98672fb89b0f779fd28e97
          sage: p.base_ring()
          Rational Field
          sage: p = get_solver(base_ring=AA); p
```



---

archive/issue_comments_293028.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\n****",
    "created_at": "2016-04-13T19:45:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-293028",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:41" align="right">comment:41</div>

****



---

archive/issue_events_286894.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2016-04-13T19:45:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20323#event-286894"
}
```



---

archive/issue_events_286895.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2016-04-13T19:45:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20323#event-286895"
}
```



---

archive/issue_comments_293029.json:
```json
{
    "body": "<div id=\"comment:42\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/052960c76172b193f95349e57c1a86fec603bd8a\"><code>052960c</code></a></td><td><code>Add comment</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e70a97bf7dc960986e4829da28c5bd6cf1959b67\"><code>e70a97b</code></a></td><td><code>More _test_... functions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0a76184c9840b107a2ff1d99299750f305b00c1e\"><code>0a76184</code></a></td><td><code>get_solver: Make doctest work no matter whether backends are Python or Sage objects</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a6f0f4de68e182324d8bab85decb3d0fb40e3b04\"><code>a6f0f4d</code></a></td><td><code>Run testsuite with all MIP backends</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0bd7a877d44ee013faa8bdb50a7622cf28251385\"><code>0bd7a87</code></a></td><td><code>GenericBackend._test_add_variables(): Add tests from CVXOPTBackend</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6b55e16fd1e781c5071143806655233f03ec91a0\"><code>6b55e16</code></a></td><td><code>Add a classmethod _test_solve</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e14afd3f81f6e72b1226636023a4b58748cd0cd1\"><code>e14afd3</code></a></td><td><code>GenericBackend._test_solve: Finish</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/48b9fe51d9eafadd50d9590f93a35645af4af176\"><code>48b9fe5</code></a></td><td><code>Change from mutating instance _test methods to class methods</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/53947298ddca760b6155994622e143e0e3afc4c2\"><code>5394729</code></a></td><td><code>New method _test_ncols_nonnegative</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7138fa03a951cf62d970bf346893499fe8fd3daa\"><code>7138fa0</code></a></td><td><code>GenericBackend: Remove failing _test methods from this ticket to make the patchbot and its friends happy</code></td></tr></table>\n",
    "created_at": "2016-04-13T22:52:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-293029",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:42"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/052960c76172b193f95349e57c1a86fec603bd8a"><code>052960c</code></a></td><td><code>Add comment</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e70a97bf7dc960986e4829da28c5bd6cf1959b67"><code>e70a97b</code></a></td><td><code>More _test_... functions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0a76184c9840b107a2ff1d99299750f305b00c1e"><code>0a76184</code></a></td><td><code>get_solver: Make doctest work no matter whether backends are Python or Sage objects</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a6f0f4de68e182324d8bab85decb3d0fb40e3b04"><code>a6f0f4d</code></a></td><td><code>Run testsuite with all MIP backends</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0bd7a877d44ee013faa8bdb50a7622cf28251385"><code>0bd7a87</code></a></td><td><code>GenericBackend._test_add_variables(): Add tests from CVXOPTBackend</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6b55e16fd1e781c5071143806655233f03ec91a0"><code>6b55e16</code></a></td><td><code>Add a classmethod _test_solve</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e14afd3f81f6e72b1226636023a4b58748cd0cd1"><code>e14afd3</code></a></td><td><code>GenericBackend._test_solve: Finish</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/48b9fe51d9eafadd50d9590f93a35645af4af176"><code>48b9fe5</code></a></td><td><code>Change from mutating instance _test methods to class methods</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/53947298ddca760b6155994622e143e0e3afc4c2"><code>5394729</code></a></td><td><code>New method _test_ncols_nonnegative</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7138fa03a951cf62d970bf346893499fe8fd3daa"><code>7138fa0</code></a></td><td><code>GenericBackend: Remove failing _test methods from this ticket to make the patchbot and its friends happy</code></td></tr></table>




---

archive/issue_comments_293030.json:
```json
{
    "body": "Changed commit from **[`2251125`](https://github.com/sagemath/sagetrac-mirror/commit/22511250dd688bba5d98672fb89b0f779fd28e97)** to **[`7138fa0`](https://github.com/sagemath/sagetrac-mirror/commit/7138fa03a951cf62d970bf346893499fe8fd3daa)**",
    "created_at": "2016-04-13T22:52:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-293030",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2251125`](https://github.com/sagemath/sagetrac-mirror/commit/22511250dd688bba5d98672fb89b0f779fd28e97)** to **[`7138fa0`](https://github.com/sagemath/sagetrac-mirror/commit/7138fa03a951cf62d970bf346893499fe8fd3daa)**



---

archive/issue_comments_293031.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nrebased on 7.2.beta4",
    "created_at": "2016-04-13T22:54:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-293031",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:43" align="right">comment:43</div>

rebased on 7.2.beta4



---

archive/issue_events_286896.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-04-13T22:54:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20323#event-286896"
}
```



---

archive/issue_events_286897.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-04-13T22:54:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20323#event-286897"
}
```



---

archive/issue_comments_293032.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nOK, good.",
    "created_at": "2016-04-14T06:12:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-293032",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:44" align="right">comment:44</div>

OK, good.



---

archive/issue_comments_293033.json:
```json
{
    "body": "Changed reviewer from **Thierry Monteil** to **Thierry Monteil, Dima Pasechnik**",
    "created_at": "2016-04-14T06:12:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-293033",
    "user": "https://github.com/dimpase"
}
```

Changed reviewer from **Thierry Monteil** to **Thierry Monteil, Dima Pasechnik**



---

archive/issue_events_286898.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2016-04-14T06:12:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20323#event-286898"
}
```



---

archive/issue_events_286899.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2016-04-14T06:12:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20323#event-286899"
}
```



---

archive/issue_events_286900.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-04-15T07:15:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20323#event-286900"
}
```



---

archive/issue_events_286901.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "c2c82d7d5c77e03f2babf20fcd15d50b1e947ff1",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-04-15T07:15:47Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20323#event-286901"
}
```



---

archive/issue_comments_293034.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/common_testsuite_for_mip_backends](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/common_testsuite_for_mip_backends)** to **[`7138fa0`](https://github.com/sagemath/sagetrac-mirror/commit/7138fa03a951cf62d970bf346893499fe8fd3daa)**",
    "created_at": "2016-04-15T07:15:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20323#issuecomment-293034",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mkoeppe/common_testsuite_for_mip_backends](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/common_testsuite_for_mip_backends)** to **[`7138fa0`](https://github.com/sagemath/sagetrac-mirror/commit/7138fa03a951cf62d970bf346893499fe8fd3daa)**
