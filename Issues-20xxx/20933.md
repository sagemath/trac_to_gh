# Issue 20933: Update MathJax and other spkgs' patches to conform to same format as other patches

archive/issues_020696.json:
```json
{
    "assignees": [],
    "body": "#20837 tried to bring all spkgs into a uniform format for patches to the upstream sources.  In particular it ensures that all patches are applied from within the root of the upstream sources.\n\nIn the process I missed a few more packages that were a bit unusual.\n\nThe following packages were patching from a different directory than `src`:\n\n* atlas\n* mathjax\n* ntl\n* singular\n\nThe following packages were copying complete files instead of using patches:\n\n* jmol\n* tachyon\n* rubiks: not in this ticket, see #21103\n\nI have updated these packages to use the new \"standard\" patch format, so this can be considered a followup to #20837.  Fixing this is needed for #20692 to be completed.\n\n\nBranch/Commit: **[`86279c4`](https://github.com/sagemath/sagetrac-mirror/commit/86279c4146a13f060f3ce05017478c499860ed59)**\n\nReviewer: **Jeroen Demeyer**\n\nAuthor: **Erik Bray**\n\nComponent: **packages: standard**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/20933_\n\n",
    "closed_at": "2016-07-28T17:44:21Z",
    "created_at": "2016-07-04T10:24:37Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Update MathJax and other spkgs' patches to conform to same format as other patches",
    "type": "issue",
    "updated_at": "2016-07-28T17:44:21Z",
    "url": "https://github.com/sagemath/sage/issues/20933",
    "user": "https://github.com/embray"
}
```
#20837 tried to bring all spkgs into a uniform format for patches to the upstream sources.  In particular it ensures that all patches are applied from within the root of the upstream sources.

In the process I missed a few more packages that were a bit unusual.

The following packages were patching from a different directory than `src`:

* atlas
* mathjax
* ntl
* singular

The following packages were copying complete files instead of using patches:

* jmol
* tachyon
* rubiks: not in this ticket, see #21103

I have updated these packages to use the new "standard" patch format, so this can be considered a followup to #20837.  Fixing this is needed for #20692 to be completed.


Branch/Commit: **[`86279c4`](https://github.com/sagemath/sagetrac-mirror/commit/86279c4146a13f060f3ce05017478c499860ed59)**

Reviewer: **Jeroen Demeyer**

Author: **Erik Bray**

Component: **packages: standard**

_Issue created by migration from https://trac.sagemath.org/ticket/20933_





---

archive/issue_events_291956.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-07-04T10:24:37Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20933",
    "milestone_number": null,
    "milestone_title": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20933#event-291956"
}
```



---

archive/issue_events_291957.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-07-04T10:24:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20933",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "0000b0",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20933#event-291957"
}
```



---

archive/issue_events_291958.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-07-04T10:24:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20933",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
    "label_color": "ffe799",
    "label_name": "p: minor / 4",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20933#event-291958"
}
```



---

archive/issue_events_291959.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-07-04T10:24:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20933",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20933#event-291959"
}
```



---

archive/issue_events_291960.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-07-04T10:24:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20933",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20933#event-291960"
}
```



---

archive/issue_comments_304122.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nFound a few other examples since pushing this branch.  Will update this to include the others as well.",
    "created_at": "2016-07-04T10:30:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20933#issuecomment-304122",
    "user": "https://github.com/embray"
}
```

<div id="comment:2" align="right">comment:2</div>

Found a few other examples since pushing this branch.  Will update this to include the others as well.



---

archive/issue_events_291961.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-07-04T10:31:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20933",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20933#event-291961"
}
```



---

archive/issue_events_291962.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-07-04T10:31:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20933",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20933#event-291962"
}
```



---

archive/issue_comments_304123.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,12 @@\n #20837 tried to bring all spkgs into a uniform format for patches to the upstream sources.  In particular it ensures that all patches are applied from within the root of the upstream sources.\n \n-In the process I missed MathJax which was slightly different from other packages.  Fixing this is needed for #20692 to be completed.\n+In the process I missed a few more packages that were a bit unusual, including:\n+\n+* mathjax\n+* jmol\n+* atlas\n+* rubiks\n+* singular\n+* tachyon\n+\n+I have updated these packages to use the new \"standard\" patch format, so this can be considered a followup to #20837.  Fixing this is needed for #20692 to be completed.\n``````\n",
    "created_at": "2016-07-05T10:55:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20933#issuecomment-304123",
    "user": "https://github.com/embray"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,12 @@
 #20837 tried to bring all spkgs into a uniform format for patches to the upstream sources.  In particular it ensures that all patches are applied from within the root of the upstream sources.
 
-In the process I missed MathJax which was slightly different from other packages.  Fixing this is needed for #20692 to be completed.
+In the process I missed a few more packages that were a bit unusual, including:
+
+* mathjax
+* jmol
+* atlas
+* rubiks
+* singular
+* tachyon
+
+I have updated these packages to use the new "standard" patch format, so this can be considered a followup to #20837.  Fixing this is needed for #20692 to be completed.
``````




---

archive/issue_comments_304124.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e79d16d957c54eb1d852815ec59b12f116337d6e\"><code>e79d16d</code></a></td><td><code>MathJax patches were no relative to the root of the upstream sources, like patches for other spkgs.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/73d01bd2d0336fadbc9b3168bdd7a6cb37a9d56c\"><code>73d01bd</code></a></td><td><code>Reworked jmol installation to be somewhat more consistent.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7bb48f780f6e857971a8876c4a6d059fc7649f78\"><code>7bb48f7</code></a></td><td><code>ntl patches were not quite conformant either, due to the layout of the ntl upstream tarball</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ca88d3cadfad245a52ffd5c5b8376924534d1535\"><code>ca88d3c</code></a></td><td><code>Reformat ATLAS patches to conform with other spkgs (the root of the ATLAS source tarball is src/, not src/ATLAS)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b48b391d89a08cb3e1fa6bd7049ee705ecea0972\"><code>b48b391</code></a></td><td><code>Clean up patching of rubiks</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/66ceeb2ea255d96c5dbb3297a8ccb905a312ecb4\"><code>66ceeb2</code></a></td><td><code>Rewrite Singular ptches to comply to the new standard format</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c6f2f64813dd1652e18f0f3af54d9728c32edd06\"><code>c6f2f64</code></a></td><td><code>Make tachyon conform to the standard patch format.</code></td></tr></table>\n",
    "created_at": "2016-07-05T10:55:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20933#issuecomment-304124",
    "user": "https://github.com/embray"
}
```

<div id="comment:4"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e79d16d957c54eb1d852815ec59b12f116337d6e"><code>e79d16d</code></a></td><td><code>MathJax patches were no relative to the root of the upstream sources, like patches for other spkgs.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/73d01bd2d0336fadbc9b3168bdd7a6cb37a9d56c"><code>73d01bd</code></a></td><td><code>Reworked jmol installation to be somewhat more consistent.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7bb48f780f6e857971a8876c4a6d059fc7649f78"><code>7bb48f7</code></a></td><td><code>ntl patches were not quite conformant either, due to the layout of the ntl upstream tarball</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ca88d3cadfad245a52ffd5c5b8376924534d1535"><code>ca88d3c</code></a></td><td><code>Reformat ATLAS patches to conform with other spkgs (the root of the ATLAS source tarball is src/, not src/ATLAS)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b48b391d89a08cb3e1fa6bd7049ee705ecea0972"><code>b48b391</code></a></td><td><code>Clean up patching of rubiks</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/66ceeb2ea255d96c5dbb3297a8ccb905a312ecb4"><code>66ceeb2</code></a></td><td><code>Rewrite Singular ptches to comply to the new standard format</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c6f2f64813dd1652e18f0f3af54d9728c32edd06"><code>c6f2f64</code></a></td><td><code>Make tachyon conform to the standard patch format.</code></td></tr></table>




---

archive/issue_events_291963.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-07-05T10:55:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20933",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20933#event-291963"
}
```



---

archive/issue_events_291964.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-07-05T10:55:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20933",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20933#event-291964"
}
```



---

archive/issue_comments_304125.json:
```json
{
    "body": "Branch: **[u/embray/patch-normalization-2](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/patch-normalization-2)**",
    "created_at": "2016-07-05T10:55:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20933#issuecomment-304125",
    "user": "https://github.com/embray"
}
```

Branch: **[u/embray/patch-normalization-2](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/patch-normalization-2)**



---

archive/issue_events_291965.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-07-05T10:55:56Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/20933",
    "title_is": "Update MathJax and other spkgs' patches to conform to same format as other patches",
    "title_was": "Update MathJax patches to conform to same format as other patches",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20933#event-291965"
}
```



---

archive/issue_comments_304126.json:
```json
{
    "body": "Commit: **[`c6f2f64`](https://github.com/sagemath/sagetrac-mirror/commit/c6f2f64813dd1652e18f0f3af54d9728c32edd06)**",
    "created_at": "2016-07-05T10:55:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20933#issuecomment-304126",
    "user": "https://github.com/embray"
}
```

Commit: **[`c6f2f64`](https://github.com/sagemath/sagetrac-mirror/commit/c6f2f64813dd1652e18f0f3af54d9728c32edd06)**



---

archive/issue_comments_304127.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nProbably people who have worked on these packages in the past should be put on the cc list. \nThey might remember from which source the patches were generated.",
    "created_at": "2016-07-07T04:54:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20933#issuecomment-304127",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:5" align="right">comment:5</div>

Probably people who have worked on these packages in the past should be put on the cc list. 
They might remember from which source the patches were generated.



---

archive/issue_comments_304128.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nI doubt they would remember off-hand, in most cases.  Some of these packages haven't been touched in years--I would't remember something like that.  In any case what does it matter?",
    "created_at": "2016-07-07T08:02:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20933#issuecomment-304128",
    "user": "https://github.com/embray"
}
```

<div id="comment:6" align="right">comment:6</div>

I doubt they would remember off-hand, in most cases.  Some of these packages haven't been touched in years--I would't remember something like that.  In any case what does it matter?



---

archive/issue_comments_304129.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nI've based #19430 on this one to get rid of strange \"patches\"",
    "created_at": "2016-07-24T22:17:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20933#issuecomment-304129",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:7" align="right">comment:7</div>

I've based #19430 on this one to get rid of strange "patches"



---

archive/issue_comments_304130.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,9 +2,10 @@\n \n In the process I missed a few more packages that were a bit unusual, including:\n \n+* atlas\n+* jmol\n * mathjax\n-* jmol\n-* atlas\n+* ntl\n * rubiks\n * singular\n * tachyon\n``````\n",
    "created_at": "2016-07-25T09:28:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20933#issuecomment-304130",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,9 +2,10 @@
 
 In the process I missed a few more packages that were a bit unusual, including:
 
+* atlas
+* jmol
 * mathjax
-* jmol
-* atlas
+* ntl
 * rubiks
 * singular
 * tachyon
``````




---

archive/issue_comments_304131.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,13 +1,18 @@\n #20837 tried to bring all spkgs into a uniform format for patches to the upstream sources.  In particular it ensures that all patches are applied from within the root of the upstream sources.\n \n-In the process I missed a few more packages that were a bit unusual, including:\n+In the process I missed a few more packages that were a bit unusual.\n+\n+The following packages were patching from a different directory than `src`:\n \n * atlas\n-* jmol\n * mathjax\n * ntl\n+* singular\n+\n+The following packages were copying complete files instead of using patches:\n+\n+* jmol\n * rubiks\n-* singular\n * tachyon\n \n I have updated these packages to use the new \"standard\" patch format, so this can be considered a followup to #20837.  Fixing this is needed for #20692 to be completed.\n``````\n",
    "created_at": "2016-07-25T09:29:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20933#issuecomment-304131",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,13 +1,18 @@
 #20837 tried to bring all spkgs into a uniform format for patches to the upstream sources.  In particular it ensures that all patches are applied from within the root of the upstream sources.
 
-In the process I missed a few more packages that were a bit unusual, including:
+In the process I missed a few more packages that were a bit unusual.
+
+The following packages were patching from a different directory than `src`:
 
 * atlas
-* jmol
 * mathjax
 * ntl
+* singular
+
+The following packages were copying complete files instead of using patches:
+
+* jmol
 * rubiks
-* singular
 * tachyon
 
 I have updated these packages to use the new "standard" patch format, so this can be considered a followup to #20837.  Fixing this is needed for #20692 to be completed.
``````




---

archive/issue_comments_304132.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nFor NTL, could you use `../patches/*.patch` instead of `\"$CUR\"/patches/*.patch` to make it even more standard?\n\nSame for Singular.",
    "created_at": "2016-07-25T09:31:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20933#issuecomment-304132",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:10" align="right">comment:10</div>

For NTL, could you use `../patches/*.patch` instead of `"$CUR"/patches/*.patch` to make it even more standard?

Same for Singular.



---

archive/issue_comments_304133.json:
```json
{
    "body": "Reviewer: **Jeroen Demeyer**",
    "created_at": "2016-07-25T09:36:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20933#issuecomment-304133",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Jeroen Demeyer**



---

archive/issue_comments_304134.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nWith Sage 7.3.beta9, a patch was added to Singular which should also be treated.",
    "created_at": "2016-07-25T10:26:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20933#issuecomment-304134",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:12" align="right">comment:12</div>

With Sage 7.3.beta9, a patch was added to Singular which should also be treated.



---

archive/issue_events_291966.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-07-25T10:26:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20933",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20933#event-291966"
}
```



---

archive/issue_events_291967.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-07-25T10:26:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20933",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20933#event-291967"
}
```



---

archive/issue_comments_304135.json:
```json
{
    "body": "Changed commit from **[`c6f2f64`](https://github.com/sagemath/sagetrac-mirror/commit/c6f2f64813dd1652e18f0f3af54d9728c32edd06)** to **[`7e13bb1`](https://github.com/sagemath/sagetrac-mirror/commit/7e13bb1600064a2773cb766f3286432fc8b29a2b)**",
    "created_at": "2016-07-26T12:15:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20933#issuecomment-304135",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c6f2f64`](https://github.com/sagemath/sagetrac-mirror/commit/c6f2f64813dd1652e18f0f3af54d9728c32edd06)** to **[`7e13bb1`](https://github.com/sagemath/sagetrac-mirror/commit/7e13bb1600064a2773cb766f3286432fc8b29a2b)**



---

archive/issue_comments_304136.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6880e3d9c7c360d7008de698f8d2e06a5c806ebd\"><code>6880e3d</code></a></td><td><code>MathJax patches were no relative to the root of the upstream sources, like patches for other spkgs.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bd671fe5b475e399800955ef3154e6168ed77cab\"><code>bd671fe</code></a></td><td><code>Reworked jmol installation to be somewhat more consistent.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ba88cbeed6a9d7bc72520f65b586002c9ce161f9\"><code>ba88cbe</code></a></td><td><code>ntl patches were not quite conformant either, due to the layout of the ntl upstream tarball</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d1a7c64cd74527f45a06cf82e966c21ef0545bf6\"><code>d1a7c64</code></a></td><td><code>Reformat ATLAS patches to conform with other spkgs (the root of the ATLAS source tarball is src/, not src/ATLAS)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6e3f4717b56ade042ec0f8c74377585e8e8319f3\"><code>6e3f471</code></a></td><td><code>Clean up patching of rubiks</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/41b7fe2efb378f9440f016464abfe6026104fc11\"><code>41b7fe2</code></a></td><td><code>Rewrite Singular patches to comply to the new standard format</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4b13b909cc7a87bb057dc8a80896c86035fefe1a\"><code>4b13b90</code></a></td><td><code>Make tachyon conform to the standard patch format.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7e13bb1600064a2773cb766f3286432fc8b29a2b\"><code>7e13bb1</code></a></td><td><code>Make NTL and singular 'more standard'</code></td></tr></table>\n",
    "created_at": "2016-07-26T12:15:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20933#issuecomment-304136",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6880e3d9c7c360d7008de698f8d2e06a5c806ebd"><code>6880e3d</code></a></td><td><code>MathJax patches were no relative to the root of the upstream sources, like patches for other spkgs.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bd671fe5b475e399800955ef3154e6168ed77cab"><code>bd671fe</code></a></td><td><code>Reworked jmol installation to be somewhat more consistent.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ba88cbeed6a9d7bc72520f65b586002c9ce161f9"><code>ba88cbe</code></a></td><td><code>ntl patches were not quite conformant either, due to the layout of the ntl upstream tarball</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d1a7c64cd74527f45a06cf82e966c21ef0545bf6"><code>d1a7c64</code></a></td><td><code>Reformat ATLAS patches to conform with other spkgs (the root of the ATLAS source tarball is src/, not src/ATLAS)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6e3f4717b56ade042ec0f8c74377585e8e8319f3"><code>6e3f471</code></a></td><td><code>Clean up patching of rubiks</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/41b7fe2efb378f9440f016464abfe6026104fc11"><code>41b7fe2</code></a></td><td><code>Rewrite Singular patches to comply to the new standard format</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4b13b909cc7a87bb057dc8a80896c86035fefe1a"><code>4b13b90</code></a></td><td><code>Make tachyon conform to the standard patch format.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7e13bb1600064a2773cb766f3286432fc8b29a2b"><code>7e13bb1</code></a></td><td><code>Make NTL and singular 'more standard'</code></td></tr></table>




---

archive/issue_comments_304137.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@jdemeyer](#comment:10):\n> For NTL, could you use `../patches/*.patch` instead of `\"$CUR\"/patches/*.patch` to make it even more standard?\n> \n> Same for Singular.\n\nDone.\n\nRebased and included fixing the new patch for Singular.",
    "created_at": "2016-07-26T12:16:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20933#issuecomment-304137",
    "user": "https://github.com/embray"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@jdemeyer](#comment:10):
> For NTL, could you use `../patches/*.patch` instead of `"$CUR"/patches/*.patch` to make it even more standard?
> 
> Same for Singular.

Done.

Rebased and included fixing the new patch for Singular.



---

archive/issue_events_291968.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-07-26T12:21:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20933",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20933#event-291968"
}
```



---

archive/issue_events_291969.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-07-26T12:21:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20933",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20933#event-291969"
}
```



---

archive/issue_comments_304138.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nFirst test: Sage builds from scratch with this branch applied.",
    "created_at": "2016-07-26T15:20:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20933#issuecomment-304138",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:16" align="right">comment:16</div>

First test: Sage builds from scratch with this branch applied.



---

archive/issue_comments_304139.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nThe four packages which just have their directories changed are fine.\n\nWith tachyon and jmol, the installed version with this branch is the same before this branch (as far as I can tell). So this is fine too.\n\nRubiks on the other hand has substantial changes, probably because of a different `Makefile`. I cannot immediately tell whether they are fine.",
    "created_at": "2016-07-27T08:12:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20933#issuecomment-304139",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:17" align="right">comment:17</div>

The four packages which just have their directories changed are fine.

With tachyon and jmol, the installed version with this branch is the same before this branch (as far as I can tell). So this is fine too.

Rubiks on the other hand has substantial changes, probably because of a different `Makefile`. I cannot immediately tell whether they are fine.



---

archive/issue_comments_304140.json:
```json
{
    "body": "Changed branch from **[u/embray/patch-normalization-2](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/patch-normalization-2)** to **[u/jdemeyer/patch-normalization-2](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/patch-normalization-2)**",
    "created_at": "2016-07-27T08:14:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20933#issuecomment-304140",
    "user": "https://github.com/jdemeyer"
}
```

Changed branch from **[u/embray/patch-normalization-2](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/patch-normalization-2)** to **[u/jdemeyer/patch-normalization-2](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/patch-normalization-2)**



---

archive/issue_comments_304141.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -12,7 +12,8 @@\n The following packages were copying complete files instead of using patches:\n \n * jmol\n-* rubiks\n * tachyon\n+* rubiks: not in this ticket, see #21103\n \n I have updated these packages to use the new \"standard\" patch format, so this can be considered a followup to #20837.  Fixing this is needed for #20692 to be completed.\n+\n``````\n",
    "created_at": "2016-07-27T08:16:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20933#issuecomment-304141",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -12,7 +12,8 @@
 The following packages were copying complete files instead of using patches:
 
 * jmol
-* rubiks
 * tachyon
+* rubiks: not in this ticket, see #21103
 
 I have updated these packages to use the new "standard" patch format, so this can be considered a followup to #20837.  Fixing this is needed for #20692 to be completed.
+
``````




---

archive/issue_comments_304142.json:
```json
{
    "body": "Changed commit from **[`7e13bb1`](https://github.com/sagemath/sagetrac-mirror/commit/7e13bb1600064a2773cb766f3286432fc8b29a2b)** to **[`86279c4`](https://github.com/sagemath/sagetrac-mirror/commit/86279c4146a13f060f3ce05017478c499860ed59)**",
    "created_at": "2016-07-27T08:16:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20933#issuecomment-304142",
    "user": "https://github.com/jdemeyer"
}
```

Changed commit from **[`7e13bb1`](https://github.com/sagemath/sagetrac-mirror/commit/7e13bb1600064a2773cb766f3286432fc8b29a2b)** to **[`86279c4`](https://github.com/sagemath/sagetrac-mirror/commit/86279c4146a13f060f3ce05017478c499860ed59)**



---

archive/issue_events_291970.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-07-27T08:16:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20933",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20933#event-291970"
}
```



---

archive/issue_events_291971.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-07-27T08:16:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20933",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20933#event-291971"
}
```



---

archive/issue_comments_304143.json:
```json
{
    "body": "<div id=\"comment:19\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/23131e7862aa7b50dad16fded9a83a93826d8b07\"><code>23131e7</code></a></td><td><code>Rewrite Singular patches to comply to the new standard format</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c863b90459a0e57eab1c2641646237e2774f246f\"><code>c863b90</code></a></td><td><code>Make tachyon conform to the standard patch format.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/86279c4146a13f060f3ce05017478c499860ed59\"><code>86279c4</code></a></td><td><code>Make NTL and singular 'more standard'</code></td></tr></table>\n",
    "created_at": "2016-07-27T08:16:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20933#issuecomment-304143",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:19"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/23131e7862aa7b50dad16fded9a83a93826d8b07"><code>23131e7</code></a></td><td><code>Rewrite Singular patches to comply to the new standard format</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c863b90459a0e57eab1c2641646237e2774f246f"><code>c863b90</code></a></td><td><code>Make tachyon conform to the standard patch format.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/86279c4146a13f060f3ce05017478c499860ed59"><code>86279c4</code></a></td><td><code>Make NTL and singular 'more standard'</code></td></tr></table>




---

archive/issue_comments_304144.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\npositive_review to everything except `rubiks`. I removed the `rubiks` commit and will move it to #21103.",
    "created_at": "2016-07-27T08:16:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20933#issuecomment-304144",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:20" align="right">comment:20</div>

positive_review to everything except `rubiks`. I removed the `rubiks` commit and will move it to #21103.



---

archive/issue_comments_304145.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/patch-normalization-2](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/patch-normalization-2)** to **[`86279c4`](https://github.com/sagemath/sagetrac-mirror/commit/86279c4146a13f060f3ce05017478c499860ed59)**",
    "created_at": "2016-07-28T17:44:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20933#issuecomment-304145",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jdemeyer/patch-normalization-2](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/patch-normalization-2)** to **[`86279c4`](https://github.com/sagemath/sagetrac-mirror/commit/86279c4146a13f060f3ce05017478c499860ed59)**



---

archive/issue_events_291972.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-07-28T17:44:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20933",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20933#event-291972"
}
```



---

archive/issue_events_291973.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "0f7611cbbe4fd1ca909ea53253cf095e33848120",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-07-28T17:44:21Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/20933",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20933#event-291973"
}
```
