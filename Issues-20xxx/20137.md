# Issue 20137: Define "gcc" as standard package

archive/issues_019900.json:
```json
{
    "body": "NOTE: This ticket is about changing the internal configure/install logic, not about changing behaviour.\n\n\"gcc\" is a special Sage package because it's currently the only package which is either installed in Sage or used from the system if it's available.\n\nIn the future, we probably want more packages like this. It makes sense to mark all these packages as \"standard\" with some logic in `configure.ac` to skip the installation of certain standard packages.\n\nI propose to define a *standard package* as a package which will always be available in Sage, either installed by Sage or taken from the system. The logic which is introduced in this ticket for gcc could be used for all those packages.\n\n**Tarball for buildbot**: http://sage.ugent.be/www/jdemeyer/sage/configure-149.tar.gz\n\n**CC:**  @etn40ff\n\n**Branch:** [12034a216056eb0abfccd9d97b362acdf040c6b0](https://github.com/sagemath/sagetrac-mirror/commit/12034a216056eb0abfccd9d97b362acdf040c6b0)\n\n**Reviewer:** Volker Braun\n\n**Author:** Jeroen Demeyer\n\nIssue created by migration from https://trac.sagemath.org/ticket/20137\n\n",
    "closed_at": "2016-03-09T17:31:09Z",
    "created_at": "2016-02-29T15:47:03Z",
    "labels": [
        "component: build",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.1",
    "title": "Define \"gcc\" as standard package",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/20137",
    "user": "https://github.com/jdemeyer"
}
```
NOTE: This ticket is about changing the internal configure/install logic, not about changing behaviour.

"gcc" is a special Sage package because it's currently the only package which is either installed in Sage or used from the system if it's available.

In the future, we probably want more packages like this. It makes sense to mark all these packages as "standard" with some logic in `configure.ac` to skip the installation of certain standard packages.

I propose to define a *standard package* as a package which will always be available in Sage, either installed by Sage or taken from the system. The logic which is introduced in this ticket for gcc could be used for all those packages.

**Tarball for buildbot**: http://sage.ugent.be/www/jdemeyer/sage/configure-149.tar.gz

**CC:**  @etn40ff

**Branch:** [12034a216056eb0abfccd9d97b362acdf040c6b0](https://github.com/sagemath/sagetrac-mirror/commit/12034a216056eb0abfccd9d97b362acdf040c6b0)

**Reviewer:** Volker Braun

**Author:** Jeroen Demeyer

Issue created by migration from https://trac.sagemath.org/ticket/20137





---

archive/issue_comments_291630.json:
```json
{
    "body": "**Branch:** [u/jdemeyer/ticket/20137](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/20137)",
    "created_at": "2016-02-29T16:04:23Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291630",
    "user": "https://github.com/jdemeyer"
}
```

**Branch:** [u/jdemeyer/ticket/20137](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/20137)



---

archive/issue_comments_291631.json:
```json
{
    "body": "**Commit:** [4c41e543881d234c1d8e76b3650fce5b3ac5dd5a](https://github.com/sagemath/sagetrac-mirror/commit/4c41e543881d234c1d8e76b3650fce5b3ac5dd5a)",
    "created_at": "2016-02-29T16:04:43Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291631",
    "user": "https://github.com/jdemeyer"
}
```

**Commit:** [4c41e543881d234c1d8e76b3650fce5b3ac5dd5a](https://github.com/sagemath/sagetrac-mirror/commit/4c41e543881d234c1d8e76b3650fce5b3ac5dd5a)



---

archive/issue_comments_291632.json:
```json
{
    "body": "<a id='comment:2'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4c41e543881d234c1d8e76b3650fce5b3ac5dd5a\">4c41e54</a></td><td><code>Define \"gcc\" as standard package</code></td></tr></table>\n",
    "created_at": "2016-02-29T16:04:43Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291632",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:2'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4c41e543881d234c1d8e76b3650fce5b3ac5dd5a">4c41e54</a></td><td><code>Define "gcc" as standard package</code></td></tr></table>




---

archive/issue_comments_291633.json:
```json
{
    "body": "**Changing commit** from \"[4c41e543881d234c1d8e76b3650fce5b3ac5dd5a](https://github.com/sagemath/sagetrac-mirror/commit/4c41e543881d234c1d8e76b3650fce5b3ac5dd5a)\" to \"[19ddf2a46b591243f95fd7af54ee8bd484d516e5](https://github.com/sagemath/sagetrac-mirror/commit/19ddf2a46b591243f95fd7af54ee8bd484d516e5)\".",
    "created_at": "2016-02-29T16:22:27Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291633",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[4c41e543881d234c1d8e76b3650fce5b3ac5dd5a](https://github.com/sagemath/sagetrac-mirror/commit/4c41e543881d234c1d8e76b3650fce5b3ac5dd5a)" to "[19ddf2a46b591243f95fd7af54ee8bd484d516e5](https://github.com/sagemath/sagetrac-mirror/commit/19ddf2a46b591243f95fd7af54ee8bd484d516e5)".



---

archive/issue_comments_291634.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/19ddf2a46b591243f95fd7af54ee8bd484d516e5\">19ddf2a</a></td><td><code>Define \"gcc\" as standard package</code></td></tr></table>\n",
    "created_at": "2016-02-29T16:22:27Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291634",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/19ddf2a46b591243f95fd7af54ee8bd484d516e5">19ddf2a</a></td><td><code>Define "gcc" as standard package</code></td></tr></table>




---

archive/issue_comments_291635.json:
```json
{
    "body": "**Dependencies:** #20140",
    "created_at": "2016-03-02T08:52:03Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291635",
    "user": "https://github.com/jdemeyer"
}
```

**Dependencies:** #20140



---

archive/issue_comments_291636.json:
```json
{
    "body": "**Changing commit** from \"[19ddf2a46b591243f95fd7af54ee8bd484d516e5](https://github.com/sagemath/sagetrac-mirror/commit/19ddf2a46b591243f95fd7af54ee8bd484d516e5)\" to \"[c94e33cfb99edd7c984d986ac90ee88a551fb46e](https://github.com/sagemath/sagetrac-mirror/commit/c94e33cfb99edd7c984d986ac90ee88a551fb46e)\".",
    "created_at": "2016-03-02T09:04:16Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291636",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[19ddf2a46b591243f95fd7af54ee8bd484d516e5](https://github.com/sagemath/sagetrac-mirror/commit/19ddf2a46b591243f95fd7af54ee8bd484d516e5)" to "[c94e33cfb99edd7c984d986ac90ee88a551fb46e](https://github.com/sagemath/sagetrac-mirror/commit/c94e33cfb99edd7c984d986ac90ee88a551fb46e)".



---

archive/issue_comments_291637.json:
```json
{
    "body": "<a id='comment:5'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/463d22a4eb4555e3180aa25446f678a79686845d\">463d22a</a></td><td><code>dependencies: use \"foo\" instead of \"$(INST)/$(FOO)\"</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/18d59bf4dda7b0521395b917e30edb5f026f524f\">18d59bf</a></td><td><code>Move third-party packages to pkg-config blas</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/de7efd23ffb7c9ed223bf769e55f585f47566d1a\">de7efd2</a></td><td><code>Fix typo: use lapack.pc not blas.pc</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f1302b23fb533a17e91f66bda951c3394eed1463\">f1302b2</a></td><td><code>Bump patchlevels</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/555b25811afe8da5d83c3ed6461e423a70f961f7\">555b258</a></td><td><code>Iml version/patchlevel fix</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d7e720f74624b5690a57d8c7eee6da3bf8557cef\">d7e720f</a></td><td><code>Merge commit '555b25811afe8da5d83c3ed6461e423a70f961f7' into t/20140/dependencies__use__foo__instead_of____inst____foo__</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c94e33cfb99edd7c984d986ac90ee88a551fb46e\">c94e33c</a></td><td><code>Define \"gcc\" as standard package</code></td></tr></table>\n",
    "created_at": "2016-03-02T09:04:16Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291637",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/463d22a4eb4555e3180aa25446f678a79686845d">463d22a</a></td><td><code>dependencies: use "foo" instead of "$(INST)/$(FOO)"</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/18d59bf4dda7b0521395b917e30edb5f026f524f">18d59bf</a></td><td><code>Move third-party packages to pkg-config blas</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/de7efd23ffb7c9ed223bf769e55f585f47566d1a">de7efd2</a></td><td><code>Fix typo: use lapack.pc not blas.pc</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f1302b23fb533a17e91f66bda951c3394eed1463">f1302b2</a></td><td><code>Bump patchlevels</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/555b25811afe8da5d83c3ed6461e423a70f961f7">555b258</a></td><td><code>Iml version/patchlevel fix</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d7e720f74624b5690a57d8c7eee6da3bf8557cef">d7e720f</a></td><td><code>Merge commit '555b25811afe8da5d83c3ed6461e423a70f961f7' into t/20140/dependencies__use__foo__instead_of____inst____foo__</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c94e33cfb99edd7c984d986ac90ee88a551fb46e">c94e33c</a></td><td><code>Define "gcc" as standard package</code></td></tr></table>




---

archive/issue_comments_291638.json:
```json
{
    "body": "**Changing dependencies** from \"#20140\" to \"\".",
    "created_at": "2016-03-04T08:53:29Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291638",
    "user": "https://github.com/jdemeyer"
}
```

**Changing dependencies** from "#20140" to "".



---

archive/issue_comments_291639.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,7 +1,7 @@\n-This ticket is about changing the internal configure/install logic, not about changing behaviour.\n+NOTE: This ticket is about changing the internal configure/install logic, not about changing behaviour.\n \n \"gcc\" is a special Sage package because it's currently the only package which is either installed in Sage or used from the system if it's available.\n \n In the future, we probably want more packages like this. It makes sense to mark all these packages as \"standard\" with some logic in `configure.ac` to skip the installation of certain standard packages.\n \n-I propose to define a *standard package* as a package which will always be available in Sage, either installed by Sage or taken from the system.\n+I propose to define a *standard package* as a package which will always be available in Sage, either installed by Sage or taken from the system. The logic which is introduced in this ticket for gcc could be used for all those packages.\n``````\n",
    "created_at": "2016-03-04T08:54:23Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291639",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,7 +1,7 @@
-This ticket is about changing the internal configure/install logic, not about changing behaviour.
+NOTE: This ticket is about changing the internal configure/install logic, not about changing behaviour.
 
 "gcc" is a special Sage package because it's currently the only package which is either installed in Sage or used from the system if it's available.
 
 In the future, we probably want more packages like this. It makes sense to mark all these packages as "standard" with some logic in `configure.ac` to skip the installation of certain standard packages.
 
-I propose to define a *standard package* as a package which will always be available in Sage, either installed by Sage or taken from the system.
+I propose to define a *standard package* as a package which will always be available in Sage, either installed by Sage or taken from the system. The logic which is introduced in this ticket for gcc could be used for all those packages.
``````




---

archive/issue_comments_291640.json:
```json
{
    "body": "<a id='comment:8'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0a1b41ff4f43a747e94cb7fe119027715b59e557\">0a1b41f</a></td><td><code>Define \"gcc\" as standard package</code></td></tr></table>\n",
    "created_at": "2016-03-04T09:13:53Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291640",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0a1b41ff4f43a747e94cb7fe119027715b59e557">0a1b41f</a></td><td><code>Define "gcc" as standard package</code></td></tr></table>




---

archive/issue_comments_291641.json:
```json
{
    "body": "**Changing commit** from \"[c94e33cfb99edd7c984d986ac90ee88a551fb46e](https://github.com/sagemath/sagetrac-mirror/commit/c94e33cfb99edd7c984d986ac90ee88a551fb46e)\" to \"[0a1b41ff4f43a747e94cb7fe119027715b59e557](https://github.com/sagemath/sagetrac-mirror/commit/0a1b41ff4f43a747e94cb7fe119027715b59e557)\".",
    "created_at": "2016-03-04T09:13:53Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291641",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[c94e33cfb99edd7c984d986ac90ee88a551fb46e](https://github.com/sagemath/sagetrac-mirror/commit/c94e33cfb99edd7c984d986ac90ee88a551fb46e)" to "[0a1b41ff4f43a747e94cb7fe119027715b59e557](https://github.com/sagemath/sagetrac-mirror/commit/0a1b41ff4f43a747e94cb7fe119027715b59e557)".



---

archive/issue_comments_291642.json:
```json
{
    "body": "**Changing commit** from \"[0a1b41ff4f43a747e94cb7fe119027715b59e557](https://github.com/sagemath/sagetrac-mirror/commit/0a1b41ff4f43a747e94cb7fe119027715b59e557)\" to \"[9de7bf098c839c65bd9ce8c1622b8b261989f3ae](https://github.com/sagemath/sagetrac-mirror/commit/9de7bf098c839c65bd9ce8c1622b8b261989f3ae)\".",
    "created_at": "2016-03-04T10:11:12Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291642",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[0a1b41ff4f43a747e94cb7fe119027715b59e557](https://github.com/sagemath/sagetrac-mirror/commit/0a1b41ff4f43a747e94cb7fe119027715b59e557)" to "[9de7bf098c839c65bd9ce8c1622b8b261989f3ae](https://github.com/sagemath/sagetrac-mirror/commit/9de7bf098c839c65bd9ce8c1622b8b261989f3ae)".



---

archive/issue_comments_291643.json:
```json
{
    "body": "<a id='comment:9'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9de7bf098c839c65bd9ce8c1622b8b261989f3ae\">9de7bf0</a></td><td><code>Define \"gcc\" as standard package</code></td></tr></table>\n",
    "created_at": "2016-03-04T10:11:12Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291643",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9de7bf098c839c65bd9ce8c1622b8b261989f3ae">9de7bf0</a></td><td><code>Define "gcc" as standard package</code></td></tr></table>




---

archive/issue_events_180788.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-03-04T10:41:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20137#event-180788"
}
```



---

archive/issue_comments_291644.json:
```json
{
    "body": "<a id='comment:11'></a>\nRegarding your `configure.ac` note, if I understand your point correctly, the DebianScience folks have added a set of autoconf rules for detecting many of Sage's packages:\n\nhttp://anonscm.debian.org/cgit/debian-science/packages/sagemath.git/tree/debian/pruner/configure.ac\n\nIt's not exhaustive or fully up to date, and may not be well-enough specified in many cases (i.e. version checks).  But it may provide a nice starting point.  I think though that if more autoconf rules are added for Sage packages they should live in the per-package directories in `build/pkgs` in order to keep things more organized.",
    "created_at": "2016-03-04T11:25:39Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291644",
    "user": "https://github.com/embray"
}
```

<a id='comment:11'></a>
Regarding your `configure.ac` note, if I understand your point correctly, the DebianScience folks have added a set of autoconf rules for detecting many of Sage's packages:

http://anonscm.debian.org/cgit/debian-science/packages/sagemath.git/tree/debian/pruner/configure.ac

It's not exhaustive or fully up to date, and may not be well-enough specified in many cases (i.e. version checks).  But it may provide a nice starting point.  I think though that if more autoconf rules are added for Sage packages they should live in the per-package directories in `build/pkgs` in order to keep things more organized.



---

archive/issue_comments_291645.json:
```json
{
    "body": "<a id='comment:12'></a>\nAs for the actual patch, it looks good to me.\n\nOne thing that might be worth considering is rather than setting `$PKG_VAR = \\$(INST)/.dummy` for skipped packages, still keep an explicit record of skipped packages in some `$(SKIPPED)/$PKG_VERSION`.  Or maybe better yet determine the version of the package that is being used from the system and write that to a file too.\n\nBut I'm not sure--for now it might be YAGNI. But one might also be able to imagine cases where it would be nice to have a record of what Sage *is* using for that package if not the one that was built as part of Sage.",
    "created_at": "2016-03-04T11:35:30Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291645",
    "user": "https://github.com/embray"
}
```

<a id='comment:12'></a>
As for the actual patch, it looks good to me.

One thing that might be worth considering is rather than setting `$PKG_VAR = \$(INST)/.dummy` for skipped packages, still keep an explicit record of skipped packages in some `$(SKIPPED)/$PKG_VERSION`.  Or maybe better yet determine the version of the package that is being used from the system and write that to a file too.

But I'm not sure--for now it might be YAGNI. But one might also be able to imagine cases where it would be nice to have a record of what Sage *is* using for that package if not the one that was built as part of Sage.



---

archive/issue_comments_291646.json:
```json
{
    "body": "<a id='comment:13'></a>\nThe following sentence in the developer guide is not understood (by me) conforming to the definition of the standard package:\n\n**standard** packages are built by default unless ``configure`` determines that they are not needed.\n\nShouldn't this be like this:\n\n**standard** packages are built by default unless ``configure`` determines that they are available from the system.\n\nor something close?",
    "created_at": "2016-03-04T14:35:57Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291646",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:13'></a>
The following sentence in the developer guide is not understood (by me) conforming to the definition of the standard package:

**standard** packages are built by default unless ``configure`` determines that they are not needed.

Shouldn't this be like this:

**standard** packages are built by default unless ``configure`` determines that they are available from the system.

or something close?



---

archive/issue_comments_291647.json:
```json
{
    "body": "**Changing commit** from \"[9de7bf098c839c65bd9ce8c1622b8b261989f3ae](https://github.com/sagemath/sagetrac-mirror/commit/9de7bf098c839c65bd9ce8c1622b8b261989f3ae)\" to \"[c101707b93dababd8697a4278f3a23542df7df26](https://github.com/sagemath/sagetrac-mirror/commit/c101707b93dababd8697a4278f3a23542df7df26)\".",
    "created_at": "2016-03-04T20:39:36Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291647",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[9de7bf098c839c65bd9ce8c1622b8b261989f3ae](https://github.com/sagemath/sagetrac-mirror/commit/9de7bf098c839c65bd9ce8c1622b8b261989f3ae)" to "[c101707b93dababd8697a4278f3a23542df7df26](https://github.com/sagemath/sagetrac-mirror/commit/c101707b93dababd8697a4278f3a23542df7df26)".



---

archive/issue_comments_291648.json:
```json
{
    "body": "<a id='comment:14'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c101707b93dababd8697a4278f3a23542df7df26\">c101707</a></td><td><code>Reformulate doc of standard packages</code></td></tr></table>\n",
    "created_at": "2016-03-04T20:39:36Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291648",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c101707b93dababd8697a4278f3a23542df7df26">c101707</a></td><td><code>Reformulate doc of standard packages</code></td></tr></table>




---

archive/issue_comments_291649.json:
```json
{
    "body": "<a id='comment:15'></a>\nReplying to [embray](#comment%3A12):\n> As for the actual patch, it looks good to me.\n\nGood enough for positive_review?\n\n> One thing that might be worth considering is rather than setting `$PKG_VAR = \\$(INST)/.dummy` for skipped packages, still keep an explicit record of skipped packages in some `$(SKIPPED)/$PKG_VERSION`.  Or maybe better yet determine the version of the package that is being used from the system and write that to a file too.\n> \n> But I'm not sure--for now it might be YAGNI.\n\nExactly, I don't really see the point. Moreover, I don't want to assume that this information is constant: it could very well be that Sage is installed and then the system is updated.",
    "created_at": "2016-03-04T20:43:00Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291649",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:15'></a>
Replying to [embray](#comment%3A12):
> As for the actual patch, it looks good to me.

Good enough for positive_review?

> One thing that might be worth considering is rather than setting `$PKG_VAR = \$(INST)/.dummy` for skipped packages, still keep an explicit record of skipped packages in some `$(SKIPPED)/$PKG_VERSION`.  Or maybe better yet determine the version of the package that is being used from the system and write that to a file too.
> 
> But I'm not sure--for now it might be YAGNI.

Exactly, I don't really see the point. Moreover, I don't want to assume that this information is constant: it could very well be that Sage is installed and then the system is updated.



---

archive/issue_events_180789.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-03-05T09:47:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20137#event-180789"
}
```



---

archive/issue_events_180790.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-03-05T09:47:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20137#event-180790"
}
```



---

archive/issue_comments_291650.json:
```json
{
    "body": "<a id='comment:16'></a>\nLGTM\n\nIt would be nice to use that mechanism for python and mpir as well and then get rid of the SAGE_INSTALL_FETCH_ONLY hack... The source tarball should contain exactly the standard packages.",
    "created_at": "2016-03-05T09:47:12Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291650",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:16'></a>
LGTM

It would be nice to use that mechanism for python and mpir as well and then get rid of the SAGE_INSTALL_FETCH_ONLY hack... The source tarball should contain exactly the standard packages.



---

archive/issue_comments_291651.json:
```json
{
    "body": "**Reviewer:** Volker Braun",
    "created_at": "2016-03-05T09:47:12Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291651",
    "user": "https://github.com/vbraun"
}
```

**Reviewer:** Volker Braun



---

archive/issue_comments_291652.json:
```json
{
    "body": "<a id='comment:17'></a>\nReplying to [vbraun](#comment%3A16):\n> It would be nice to use that mechanism for python and mpir as well and then get rid of the SAGE_INSTALL_FETCH_ONLY hack... The source tarball should contain exactly the standard packages.\n\n\nOf course...",
    "created_at": "2016-03-05T09:47:46Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291652",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:17'></a>
Replying to [vbraun](#comment%3A16):
> It would be nice to use that mechanism for python and mpir as well and then get rid of the SAGE_INSTALL_FETCH_ONLY hack... The source tarball should contain exactly the standard packages.


Of course...



---

archive/issue_events_180791.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-03-05T12:16:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20137#event-180791"
}
```



---

archive/issue_events_180792.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-03-05T12:16:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20137#event-180792"
}
```



---

archive/issue_comments_291653.json:
```json
{
    "body": "<a id='comment:18'></a>\nThere is a doctest for all standard packages:\n\n```\nsage -t --long src/sage/misc/package.py\n**********************************************************************\nFile \"src/sage/misc/package.py\", line 300, in sage.misc.package._package_lists_from_sage_output\nFailed example:\n    bool(not_installed)\nExpected:\n    False\nGot:\n    True\n**********************************************************************\n1 item had failures:\n   1 of   6 in sage.misc.package._package_lists_from_sage_output\n    [25 tests, 1 failure, 0.19 s]\n```",
    "created_at": "2016-03-05T12:16:24Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291653",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:18'></a>
There is a doctest for all standard packages:

```
sage -t --long src/sage/misc/package.py
**********************************************************************
File "src/sage/misc/package.py", line 300, in sage.misc.package._package_lists_from_sage_output
Failed example:
    bool(not_installed)
Expected:
    False
Got:
    True
**********************************************************************
1 item had failures:
   1 of   6 in sage.misc.package._package_lists_from_sage_output
    [25 tests, 1 failure, 0.19 s]
```



---

archive/issue_comments_291654.json:
```json
{
    "body": "<a id='comment:19'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0149e7ed4c9bcb8a188726a5432162aff100f48b\">0149e7e</a></td><td><code>Put back gcc in download-for-sdist rule</code></td></tr></table>\n",
    "created_at": "2016-03-05T13:33:23Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291654",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0149e7ed4c9bcb8a188726a5432162aff100f48b">0149e7e</a></td><td><code>Put back gcc in download-for-sdist rule</code></td></tr></table>




---

archive/issue_comments_291655.json:
```json
{
    "body": "**Changing commit** from \"[c101707b93dababd8697a4278f3a23542df7df26](https://github.com/sagemath/sagetrac-mirror/commit/c101707b93dababd8697a4278f3a23542df7df26)\" to \"[0149e7ed4c9bcb8a188726a5432162aff100f48b](https://github.com/sagemath/sagetrac-mirror/commit/0149e7ed4c9bcb8a188726a5432162aff100f48b)\".",
    "created_at": "2016-03-05T13:33:23Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291655",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[c101707b93dababd8697a4278f3a23542df7df26](https://github.com/sagemath/sagetrac-mirror/commit/c101707b93dababd8697a4278f3a23542df7df26)" to "[0149e7ed4c9bcb8a188726a5432162aff100f48b](https://github.com/sagemath/sagetrac-mirror/commit/0149e7ed4c9bcb8a188726a5432162aff100f48b)".



---

archive/issue_comments_291656.json:
```json
{
    "body": "**Changing commit** from \"[0149e7ed4c9bcb8a188726a5432162aff100f48b](https://github.com/sagemath/sagetrac-mirror/commit/0149e7ed4c9bcb8a188726a5432162aff100f48b)\" to \"[7938f5fbe72675146915f81aabbfbcf589eccba4](https://github.com/sagemath/sagetrac-mirror/commit/7938f5fbe72675146915f81aabbfbcf589eccba4)\".",
    "created_at": "2016-03-06T17:36:04Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291656",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[0149e7ed4c9bcb8a188726a5432162aff100f48b](https://github.com/sagemath/sagetrac-mirror/commit/0149e7ed4c9bcb8a188726a5432162aff100f48b)" to "[7938f5fbe72675146915f81aabbfbcf589eccba4](https://github.com/sagemath/sagetrac-mirror/commit/7938f5fbe72675146915f81aabbfbcf589eccba4)".



---

archive/issue_comments_291657.json:
```json
{
    "body": "<a id='comment:20'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7938f5fbe72675146915f81aabbfbcf589eccba4\">7938f5f</a></td><td><code>Do not check that all standard packages are installed</code></td></tr></table>\n",
    "created_at": "2016-03-06T17:36:04Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291657",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7938f5fbe72675146915f81aabbfbcf589eccba4">7938f5f</a></td><td><code>Do not check that all standard packages are installed</code></td></tr></table>




---

archive/issue_events_180793.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-03-06T17:38:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20137#event-180793"
}
```



---

archive/issue_events_180794.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-03-06T17:38:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20137#event-180794"
}
```



---

archive/issue_comments_291658.json:
```json
{
    "body": "<a id='comment:21'></a>\nI removed that doctest. I also added back `gcc` to the list of packages to download, since GCC may or not be part of `$(STANDARD_PACKAGES)`. The rule `download-for-sdist` should be improved, but not in this ticket.",
    "created_at": "2016-03-06T17:38:31Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291658",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:21'></a>
I removed that doctest. I also added back `gcc` to the list of packages to download, since GCC may or not be part of `$(STANDARD_PACKAGES)`. The rule `download-for-sdist` should be improved, but not in this ticket.



---

archive/issue_events_180795.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-03-06T18:41:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20137#event-180795"
}
```



---

archive/issue_events_180796.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-03-06T18:41:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20137#event-180796"
}
```



---

archive/issue_comments_291659.json:
```json
{
    "body": "**Changing branch** from \"[u/jdemeyer/ticket/20137](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/20137)\" to \"[7938f5fbe72675146915f81aabbfbcf589eccba4](https://github.com/sagemath/sagetrac-mirror/commit/7938f5fbe72675146915f81aabbfbcf589eccba4)\".",
    "created_at": "2016-03-06T23:16:51Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291659",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/jdemeyer/ticket/20137](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/20137)" to "[7938f5fbe72675146915f81aabbfbcf589eccba4](https://github.com/sagemath/sagetrac-mirror/commit/7938f5fbe72675146915f81aabbfbcf589eccba4)".



---

archive/issue_events_180797.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-03-06T23:16:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20137#event-180797"
}
```



---

archive/issue_events_180798.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-03-06T23:16:51Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20137#event-180798"
}
```



---

archive/issue_comments_291660.json:
```json
{
    "body": "<a id='comment:24'></a>\nReplying to [jdemeyer](#comment%3A15):\n> Replying to [embray](#comment%3A12):\n> > One thing that might be worth considering is rather than setting `$PKG_VAR = \\$(INST)/.dummy` for skipped packages, still keep an explicit record of skipped packages in some `$(SKIPPED)/$PKG_VERSION`.  Or maybe better yet determine the version of the package that is being used from the system and write that to a file too.\n> > \n> > But I'm not sure--for now it might be YAGNI.\n\n> Exactly, I don't really see the point. Moreover, I don't want to assume that this information is constant: it could very well be that Sage is installed and then the system is updated.\n\nI could make an argument for it. In particular for build dependencies it would be helpful for recording what packages everything was built with--as you say it's not necessarily useful information about what is currently running on the system.\n\nBut it would be easy enough to add later if a specific need arises.",
    "created_at": "2016-03-07T09:52:00Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291660",
    "user": "https://github.com/embray"
}
```

<a id='comment:24'></a>
Replying to [jdemeyer](#comment%3A15):
> Replying to [embray](#comment%3A12):
> > One thing that might be worth considering is rather than setting `$PKG_VAR = \$(INST)/.dummy` for skipped packages, still keep an explicit record of skipped packages in some `$(SKIPPED)/$PKG_VERSION`.  Or maybe better yet determine the version of the package that is being used from the system and write that to a file too.
> > 
> > But I'm not sure--for now it might be YAGNI.

> Exactly, I don't really see the point. Moreover, I don't want to assume that this information is constant: it could very well be that Sage is installed and then the system is updated.

I could make an argument for it. In particular for build dependencies it would be helpful for recording what packages everything was built with--as you say it's not necessarily useful information about what is currently running on the system.

But it would be easy enough to add later if a specific need arises.



---

archive/issue_comments_291661.json:
```json
{
    "body": "**Changing commit** from \"[7938f5fbe72675146915f81aabbfbcf589eccba4](https://github.com/sagemath/sagetrac-mirror/commit/7938f5fbe72675146915f81aabbfbcf589eccba4)\" to \"\".",
    "created_at": "2016-03-07T09:52:00Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291661",
    "user": "https://github.com/embray"
}
```

**Changing commit** from "[7938f5fbe72675146915f81aabbfbcf589eccba4](https://github.com/sagemath/sagetrac-mirror/commit/7938f5fbe72675146915f81aabbfbcf589eccba4)" to "".



---

archive/issue_comments_291662.json:
```json
{
    "body": "**Changing branch** from \"[7938f5fbe72675146915f81aabbfbcf589eccba4](https://github.com/sagemath/sagetrac-mirror/commit/7938f5fbe72675146915f81aabbfbcf589eccba4)\" to \"[u/jdemeyer/ticket/20137](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/20137)\".",
    "created_at": "2016-03-07T20:07:18Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291662",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[7938f5fbe72675146915f81aabbfbcf589eccba4](https://github.com/sagemath/sagetrac-mirror/commit/7938f5fbe72675146915f81aabbfbcf589eccba4)" to "[u/jdemeyer/ticket/20137](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/20137)".



---

archive/issue_comments_291663.json:
```json
{
    "body": "**Commit:** [7938f5fbe72675146915f81aabbfbcf589eccba4](https://github.com/sagemath/sagetrac-mirror/commit/7938f5fbe72675146915f81aabbfbcf589eccba4)",
    "created_at": "2016-03-07T20:07:18Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291663",
    "user": "https://github.com/vbraun"
}
```

**Commit:** [7938f5fbe72675146915f81aabbfbcf589eccba4](https://github.com/sagemath/sagetrac-mirror/commit/7938f5fbe72675146915f81aabbfbcf589eccba4)



---

archive/issue_comments_291664.json:
```json
{
    "body": "<a id='comment:25'></a>\nThis now unconditionally builds GCC; probably because it is in `$(STANDARD_PACKAGES)`.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9de7bf098c839c65bd9ce8c1622b8b261989f3ae\">9de7bf0</a></td><td><code>Define \"gcc\" as standard package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c101707b93dababd8697a4278f3a23542df7df26\">c101707</a></td><td><code>Reformulate doc of standard packages</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0149e7ed4c9bcb8a188726a5432162aff100f48b\">0149e7e</a></td><td><code>Put back gcc in download-for-sdist rule</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7938f5fbe72675146915f81aabbfbcf589eccba4\">7938f5f</a></td><td><code>Do not check that all standard packages are installed</code></td></tr></table>\n",
    "created_at": "2016-03-07T20:07:18Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291664",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:25'></a>
This now unconditionally builds GCC; probably because it is in `$(STANDARD_PACKAGES)`.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9de7bf098c839c65bd9ce8c1622b8b261989f3ae">9de7bf0</a></td><td><code>Define "gcc" as standard package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c101707b93dababd8697a4278f3a23542df7df26">c101707</a></td><td><code>Reformulate doc of standard packages</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0149e7ed4c9bcb8a188726a5432162aff100f48b">0149e7e</a></td><td><code>Put back gcc in download-for-sdist rule</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7938f5fbe72675146915f81aabbfbcf589eccba4">7938f5f</a></td><td><code>Do not check that all standard packages are installed</code></td></tr></table>




---

archive/issue_comments_291665.json:
```json
{
    "body": "<a id='comment:26'></a>\nReplying to [vbraun](#comment%3A25):\n> This now unconditionally builds GCC\n\n\nIn \"reality\" or only on the buildbot? ;-)",
    "created_at": "2016-03-07T20:50:06Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291665",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:26'></a>
Replying to [vbraun](#comment%3A25):
> This now unconditionally builds GCC


In "reality" or only on the buildbot? ;-)



---

archive/issue_comments_291666.json:
```json
{
    "body": "<a id='comment:27'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/12034a216056eb0abfccd9d97b362acdf040c6b0\">12034a2</a></td><td><code>Please the buildbot with a new configure tarball</code></td></tr></table>\n",
    "created_at": "2016-03-07T20:52:11Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291666",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:27'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/12034a216056eb0abfccd9d97b362acdf040c6b0">12034a2</a></td><td><code>Please the buildbot with a new configure tarball</code></td></tr></table>




---

archive/issue_comments_291667.json:
```json
{
    "body": "**Changing commit** from \"[7938f5fbe72675146915f81aabbfbcf589eccba4](https://github.com/sagemath/sagetrac-mirror/commit/7938f5fbe72675146915f81aabbfbcf589eccba4)\" to \"[12034a216056eb0abfccd9d97b362acdf040c6b0](https://github.com/sagemath/sagetrac-mirror/commit/12034a216056eb0abfccd9d97b362acdf040c6b0)\".",
    "created_at": "2016-03-07T20:52:11Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291667",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[7938f5fbe72675146915f81aabbfbcf589eccba4](https://github.com/sagemath/sagetrac-mirror/commit/7938f5fbe72675146915f81aabbfbcf589eccba4)" to "[12034a216056eb0abfccd9d97b362acdf040c6b0](https://github.com/sagemath/sagetrac-mirror/commit/12034a216056eb0abfccd9d97b362acdf040c6b0)".



---

archive/issue_comments_291668.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -5,3 +5,5 @@\n In the future, we probably want more packages like this. It makes sense to mark all these packages as \"standard\" with some logic in `configure.ac` to skip the installation of certain standard packages.\n \n I propose to define a *standard package* as a package which will always be available in Sage, either installed by Sage or taken from the system. The logic which is introduced in this ticket for gcc could be used for all those packages.\n+\n+**Tarball for buildbot**: http://sage.ugent.be/www/jdemeyer/sage/configure-149.tar.gz\n``````\n",
    "created_at": "2016-03-07T20:52:35Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291668",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -5,3 +5,5 @@
 In the future, we probably want more packages like this. It makes sense to mark all these packages as "standard" with some logic in `configure.ac` to skip the installation of certain standard packages.
 
 I propose to define a *standard package* as a package which will always be available in Sage, either installed by Sage or taken from the system. The logic which is introduced in this ticket for gcc could be used for all those packages.
+
+**Tarball for buildbot**: http://sage.ugent.be/www/jdemeyer/sage/configure-149.tar.gz
``````




---

archive/issue_events_180799.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-03-07T20:52:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20137#event-180799"
}
```



---

archive/issue_events_180800.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-03-07T20:52:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20137#event-180800"
}
```



---

archive/issue_events_180801.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-03-07T20:52:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20137#event-180801"
}
```



---

archive/issue_comments_291669.json:
```json
{
    "body": "<a id='comment:30'></a>\nStill builds gcc.\n\nThe buildbot runs \"make start\" for the record.",
    "created_at": "2016-03-08T12:54:10Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291669",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:30'></a>
Still builds gcc.

The buildbot runs "make start" for the record.



---

archive/issue_events_180802.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-03-08T12:54:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20137#event-180802"
}
```



---

archive/issue_events_180803.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-03-08T12:54:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20137#event-180803"
}
```



---

archive/issue_comments_291670.json:
```json
{
    "body": "<a id='comment:32'></a>\nReplying to [vbraun](#comment%3A30):\n> Still builds gcc.\n\n\nI cannot reproduce it. Do you have a link to the full install log?",
    "created_at": "2016-03-08T13:01:09Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291670",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:32'></a>
Replying to [vbraun](#comment%3A30):
> Still builds gcc.


I cannot reproduce it. Do you have a link to the full install log?



---

archive/issue_comments_291671.json:
```json
{
    "body": "<a id='comment:33'></a>\n* with this ticket: http://build.sagedev.org/release/builders/%20%20slow%20AIMS%20bu1510_64s02%20%28Ubuntu%2015.10%2064%20bit%29%20full/builds/32\n* without this ticket: http://build.sagedev.org/release/builders/%20%20slow%20AIMS%20bu1510_64s02%20%28Ubuntu%2015.10%2064%20bit%29%20full/builds/33",
    "created_at": "2016-03-08T16:11:40Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291671",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:33'></a>
* with this ticket: http://build.sagedev.org/release/builders/%20%20slow%20AIMS%20bu1510_64s02%20%28Ubuntu%2015.10%2064%20bit%29%20full/builds/32
* without this ticket: http://build.sagedev.org/release/builders/%20%20slow%20AIMS%20bu1510_64s02%20%28Ubuntu%2015.10%2064%20bit%29%20full/builds/33



---

archive/issue_comments_291672.json:
```json
{
    "body": "<a id='comment:34'></a>\nI will have a look on that machine.",
    "created_at": "2016-03-08T16:20:07Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291672",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:34'></a>
I will have a look on that machine.



---

archive/issue_comments_291673.json:
```json
{
    "body": "<a id='comment:35'></a>\nWhen I'm trying on the same machine, it works as it should.\n\nCan you please keep the build directory (i.e. do not do a new build on that buildbot).",
    "created_at": "2016-03-08T16:25:35Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291673",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:35'></a>
When I'm trying on the same machine, it works as it should.

Can you please keep the build directory (i.e. do not do a new build on that buildbot).



---

archive/issue_comments_291674.json:
```json
{
    "body": "<a id='comment:37'></a>\n...or maybe you already did start a new build?",
    "created_at": "2016-03-08T16:27:44Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291674",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:37'></a>
...or maybe you already did start a new build?



---

archive/issue_comments_291675.json:
```json
{
    "body": "<a id='comment:38'></a>\nCan you double-check that you really tested the correct commit of this ticket?",
    "created_at": "2016-03-08T16:28:12Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291675",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:38'></a>
Can you double-check that you really tested the correct commit of this ticket?



---

archive/issue_comments_291676.json:
```json
{
    "body": "<a id='comment:39'></a>\nPlease re-test and keep the build directory on the buildbot. I have no idea why it fails on the buildbot...",
    "created_at": "2016-03-08T16:40:56Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291676",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:39'></a>
Please re-test and keep the build directory on the buildbot. I have no idea why it fails on the buildbot...



---

archive/issue_comments_291677.json:
```json
{
    "body": "<a id='comment:40'></a>\nIf you look at the stdio of build step 2 \"git update\" it tells you\n\n```\nHEAD is now at b91dec3 Trac #20137: Define \"gcc\" as standard package\n```",
    "created_at": "2016-03-08T16:41:33Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291677",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:40'></a>
If you look at the stdio of build step 2 "git update" it tells you

```
HEAD is now at b91dec3 Trac #20137: Define "gcc" as standard package
```



---

archive/issue_comments_291678.json:
```json
{
    "body": "<a id='comment:41'></a>\nAnd I already started a new build, too late...",
    "created_at": "2016-03-08T16:42:27Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291678",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:41'></a>
And I already started a new build, too late...



---

archive/issue_comments_291679.json:
```json
{
    "body": "<a id='comment:42'></a>\nWhat is `b91dec3`? It's not a commit from my branch...",
    "created_at": "2016-03-08T16:43:41Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291679",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:42'></a>
What is `b91dec3`? It's not a commit from my branch...



---

archive/issue_comments_291680.json:
```json
{
    "body": "<a id='comment:43'></a>\nNormally, this `make` rule should have caused `bootstrap` to run, but it didn't:\n\n```\nconfigure: configure.ac src/bin/sage-version.sh m4/*.m4\n    ./bootstrap -d\n```\nDoes the buildbot somehow mess with timestamps?",
    "created_at": "2016-03-08T16:44:58Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291680",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:43'></a>
Normally, this `make` rule should have caused `bootstrap` to run, but it didn't:

```
configure: configure.ac src/bin/sage-version.sh m4/*.m4
    ./bootstrap -d
```
Does the buildbot somehow mess with timestamps?



---

archive/issue_comments_291681.json:
```json
{
    "body": "<a id='comment:44'></a>\nb91dec3 is (was) the merge commit\n\n```\n$ git log --graph --oneline b91dec3\n*   b91dec3 Trac #20137: Define \"gcc\" as standard package\n|\\  \n| * 12034a2 Please the buildbot with a new configure tarball\n| * 7938f5f Do not check that all standard packages are installed\n| * 0149e7e Put back gcc in download-for-sdist rule\n| * c101707 Reformulate doc of standard packages\n| * 9de7bf0 Define \"gcc\" as standard package\n* |   6ff2ede Trac #20106: Upgrade to MPFR 3.1.4\n|\\ \\  \n| * | 7e63f93 Upgrade MPFR to version 3.1.4\n| * | 5e534dc Remove workarounds for old GCC versions\n| |/  \n* |   e3cdc3e Trac #20172: Matroid Basis Axiom Test has a bug\n|\\ \\  \n| * | fa1a088 Minor doctest fix\n| * | d8345de Trac #20172: fixed bug in BasisExchangeMatroid.is_valid()\n```",
    "created_at": "2016-03-08T16:53:07Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291681",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:44'></a>
b91dec3 is (was) the merge commit

```
$ git log --graph --oneline b91dec3
*   b91dec3 Trac #20137: Define "gcc" as standard package
|\  
| * 12034a2 Please the buildbot with a new configure tarball
| * 7938f5f Do not check that all standard packages are installed
| * 0149e7e Put back gcc in download-for-sdist rule
| * c101707 Reformulate doc of standard packages
| * 9de7bf0 Define "gcc" as standard package
* |   6ff2ede Trac #20106: Upgrade to MPFR 3.1.4
|\ \  
| * | 7e63f93 Upgrade MPFR to version 3.1.4
| * | 5e534dc Remove workarounds for old GCC versions
| |/  
* |   e3cdc3e Trac #20172: Matroid Basis Axiom Test has a bug
|\ \  
| * | fa1a088 Minor doctest fix
| * | d8345de Trac #20172: fixed bug in BasisExchangeMatroid.is_valid()
```



---

archive/issue_comments_291682.json:
```json
{
    "body": "<a id='comment:45'></a>\nAnd the buildbot doesn't do anything special with timestamps...",
    "created_at": "2016-03-08T16:58:36Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291682",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:45'></a>
And the buildbot doesn't do anything special with timestamps...



---

archive/issue_events_180804.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-03-09T07:29:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20137#event-180804"
}
```



---

archive/issue_events_180805.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-03-09T07:29:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20137#event-180805"
}
```



---

archive/issue_comments_291683.json:
```json
{
    "body": "<a id='comment:46'></a>\nI'm setting this back to positive_review in order to test again on the buildbot. I need to see the build directory to understand what the problem is that I cannot reproduce myself.",
    "created_at": "2016-03-09T07:29:27Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291683",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:46'></a>
I'm setting this back to positive_review in order to test again on the buildbot. I need to see the build directory to understand what the problem is that I cannot reproduce myself.



---

archive/issue_events_180806.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-03-09T17:31:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20137#event-180806"
}
```



---

archive/issue_events_180807.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-03-09T17:31:09Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20137#event-180807"
}
```



---

archive/issue_comments_291684.json:
```json
{
    "body": "**Changing branch** from \"[u/jdemeyer/ticket/20137](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/20137)\" to \"[12034a216056eb0abfccd9d97b362acdf040c6b0](https://github.com/sagemath/sagetrac-mirror/commit/12034a216056eb0abfccd9d97b362acdf040c6b0)\".",
    "created_at": "2016-03-09T17:31:09Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291684",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/jdemeyer/ticket/20137](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/20137)" to "[12034a216056eb0abfccd9d97b362acdf040c6b0](https://github.com/sagemath/sagetrac-mirror/commit/12034a216056eb0abfccd9d97b362acdf040c6b0)".



---

archive/issue_comments_291685.json:
```json
{
    "body": "<a id='comment:48'></a>\n???",
    "created_at": "2016-03-09T19:16:25Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291685",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:48'></a>
???



---

archive/issue_comments_291686.json:
```json
{
    "body": "**Changing commit** from \"[12034a216056eb0abfccd9d97b362acdf040c6b0](https://github.com/sagemath/sagetrac-mirror/commit/12034a216056eb0abfccd9d97b362acdf040c6b0)\" to \"\".",
    "created_at": "2016-03-09T19:16:25Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291686",
    "user": "https://github.com/jdemeyer"
}
```

**Changing commit** from "[12034a216056eb0abfccd9d97b362acdf040c6b0](https://github.com/sagemath/sagetrac-mirror/commit/12034a216056eb0abfccd9d97b362acdf040c6b0)" to "".



---

archive/issue_comments_291687.json:
```json
{
    "body": "<a id='comment:49'></a>\nWorked this time...",
    "created_at": "2016-03-09T20:47:46Z",
    "issue": "https://github.com/sagemath/sage/issues/20137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20137#issuecomment-291687",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:49'></a>
Worked this time...
