# Issue 20668: Turn on python3 print function

archive/issues_020431.json:
```json
{
    "body": "The aim of this ticket is to use the Python 3 `print()` function everywhere in Sage: doctests, command-line, notebook.\n\n**STATUS** (2016-05) after discussions on sage-devel, this ticket is not going to be merged until a complete switch to python3 is effected.\n\nIt will be kept open to let the patchbots monitor the possible failing doctests\nthat would be triggered by enforcing python3 print syntax.\n\nCC:  @vbraun @jdemeyer @embray\n\nAuthor: Fr\u00e9d\u00e9ric Chapoton\n\nBranch: public/20668\n\nCommit: 904abca8baaa8475835699243cdce32407f9f96b\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/20668\n\n",
    "closed_at": "2018-01-16T14:23:50Z",
    "created_at": "2016-05-24T07:11:12Z",
    "labels": [
        "component: python3"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Turn on python3 print function",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20668",
    "user": "https://github.com/fchapoton"
}
```
The aim of this ticket is to use the Python 3 `print()` function everywhere in Sage: doctests, command-line, notebook.

**STATUS** (2016-05) after discussions on sage-devel, this ticket is not going to be merged until a complete switch to python3 is effected.

It will be kept open to let the patchbots monitor the possible failing doctests
that would be triggered by enforcing python3 print syntax.

CC:  @vbraun @jdemeyer @embray

Author: Frédéric Chapoton

Branch: public/20668

Commit: 904abca8baaa8475835699243cdce32407f9f96b

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/20668





---

archive/issue_comments_375790.json:
```json
{
    "body": "Changing branch from \"\" to \"public/20668\"",
    "created_at": "2016-05-24T07:13:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20668#issuecomment-375790",
    "user": "https://github.com/fchapoton"
}
```

Changing branch from "" to "public/20668"



---

archive/issue_comments_375791.json:
```json
{
    "body": "<a id='comment:1'></a>New commits:",
    "created_at": "2016-05-24T07:13:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20668#issuecomment-375791",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'></a>New commits:



---

archive/issue_comments_375792.json:
```json
{
    "body": "Changing commit from \"\" to \"904abca8baaa8475835699243cdce32407f9f96b\"",
    "created_at": "2016-05-24T07:13:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20668#issuecomment-375792",
    "user": "https://github.com/fchapoton"
}
```

Changing commit from "" to "904abca8baaa8475835699243cdce32407f9f96b"



---

archive/issue_comments_375793.json:
```json
{
    "body": "We should only do this if we also change the Sage command line to use Python 3 `print()` syntax. Doctests and the command line should be consistent.",
    "created_at": "2016-05-24T07:43:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20668#issuecomment-375793",
    "user": "https://github.com/jdemeyer"
}
```

We should only do this if we also change the Sage command line to use Python 3 `print()` syntax. Doctests and the command line should be consistent.



---

archive/issue_comments_375794.json:
```json
{
    "body": "<a id='comment:3'></a>Replying to [comment:2 jdemeyer]:\n> We should only do this if we also change the Sage command line to use Python 3 `print()` syntax. Doctests and the command line should be consistent.\n\n\nBut this is obviously the goal. Why did you change the title of the ticket ?",
    "created_at": "2016-05-24T07:44:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20668#issuecomment-375794",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:3'></a>Replying to [comment:2 jdemeyer]:
> We should only do this if we also change the Sage command line to use Python 3 `print()` syntax. Doctests and the command line should be consistent.


But this is obviously the goal. Why did you change the title of the ticket ?



---

archive/issue_comments_375795.json:
```json
{
    "body": "<a id='comment:4'></a>Replying to [comment:3 chapoton]:\n> But this is obviously the goal. Why did you change the title of the ticket ?\n\n\nI guess I misunderstood the goal of this ticket then... maybe you should clarify the title and description of what you want to achieve.",
    "created_at": "2016-05-24T07:52:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20668#issuecomment-375795",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:4'></a>Replying to [comment:3 chapoton]:
> But this is obviously the goal. Why did you change the title of the ticket ?


I guess I misunderstood the goal of this ticket then... maybe you should clarify the title and description of what you want to achieve.



---

archive/issue_comments_375796.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,10 +1,13 @@\n-By removing the del of imports in sage/all*.py\n+The aim of this ticket is to turn definitely the behaviour of print\n+in all parts of sage to the python3 behaviour.\n \n-To be done in a beta containing all the previous tickets on print.\n+This is done by removing the del of import print_function in sage/all*.py.\n \n-This will depend on an update of sagenb.\n+We have to wait for a beta release containing all the previous tickets on print.\n \n-To be postponed by another ticket cleaning the last traces of py2 print.\n+This will depend on an update of sagenb, so that all tests pass.\n+\n+This must be followed by another ticket cleaning the last traces of py2 print.\n \n Author: Fr\u00e9d\u00e9ric Chapoton\n \n``````\n",
    "created_at": "2016-05-24T07:55:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20668#issuecomment-375796",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,10 +1,13 @@
-By removing the del of imports in sage/all*.py
+The aim of this ticket is to turn definitely the behaviour of print
+in all parts of sage to the python3 behaviour.
 
-To be done in a beta containing all the previous tickets on print.
+This is done by removing the del of import print_function in sage/all*.py.
 
-This will depend on an update of sagenb.
+We have to wait for a beta release containing all the previous tickets on print.
 
-To be postponed by another ticket cleaning the last traces of py2 print.
+This will depend on an update of sagenb, so that all tests pass.
+
+This must be followed by another ticket cleaning the last traces of py2 print.
 
 Author: Frédéric Chapoton
 
``````




---

archive/issue_comments_375797.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,13 @@\n+The aim of this ticket is to turn definitely the behaviour of print\n+in all parts of sage to the python3 behaviour.\n \n+This is done by removing the del of import print_function in sage/all*.py.\n+\n+We have to wait for a beta release containing all the previous tickets on print.\n+\n+This will depend on an update of sagenb, so that all tests pass.\n+\n+This must be followed by another ticket cleaning the last traces of py2 print, in some parts of the code that are not tested anywhere.\n \n Author: Fr\u00e9d\u00e9ric Chapoton\n \n``````\n",
    "created_at": "2016-05-24T07:57:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20668#issuecomment-375797",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,13 @@
+The aim of this ticket is to turn definitely the behaviour of print
+in all parts of sage to the python3 behaviour.
 
+This is done by removing the del of import print_function in sage/all*.py.
+
+We have to wait for a beta release containing all the previous tickets on print.
+
+This will depend on an update of sagenb, so that all tests pass.
+
+This must be followed by another ticket cleaning the last traces of py2 print, in some parts of the code that are not tested anywhere.
 
 Author: Frédéric Chapoton
 
``````




---

archive/issue_comments_375798.json:
```json
{
    "body": "<a id='comment:7'></a>This is an important change which must obviously be discussed on `sage-devel` first.",
    "created_at": "2016-05-24T09:09:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20668#issuecomment-375798",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:7'></a>This is an important change which must obviously be discussed on `sage-devel` first.



---

archive/issue_comments_375799.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,6 @@\n+The aim of this ticket is to use the Python 3 `print()` function everywhere in Sage: doctests, command-line, notebook.\n \n+We have to wait for a beta release containing all the previous tickets on print, including a sagenb upgrade.\n \n Author: Fr\u00e9d\u00e9ric Chapoton\n \n``````\n",
    "created_at": "2016-05-24T09:09:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20668#issuecomment-375799",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,6 @@
+The aim of this ticket is to use the Python 3 `print()` function everywhere in Sage: doctests, command-line, notebook.
 
+We have to wait for a beta release containing all the previous tickets on print, including a sagenb upgrade.
 
 Author: Frédéric Chapoton
 
``````




---

archive/issue_comments_375800.json:
```json
{
    "body": "<a id='comment:8'></a>Replying to [comment:7 jdemeyer]:\n> This is an important change which must obviously be discussed on `sage-devel` first.\n\n\nYes, for sure.",
    "created_at": "2016-05-24T09:54:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20668#issuecomment-375800",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'></a>Replying to [comment:7 jdemeyer]:
> This is an important change which must obviously be discussed on `sage-devel` first.


Yes, for sure.



---

archive/issue_comments_375801.json:
```json
{
    "body": "<a id='comment:9'></a>I made a first sketch of wiki page here:\n\nhttps://wiki.sagemath.org/PrintFunction",
    "created_at": "2016-05-24T12:41:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20668#issuecomment-375801",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:9'></a>I made a first sketch of wiki page here:

https://wiki.sagemath.org/PrintFunction



---

archive/issue_comments_375802.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,9 @@\n+The aim of this ticket is to use the Python 3 `print()` function everywhere in Sage: doctests, command-line, notebook.\n \n+**STATUS** (2016-05) after discussions on sage-devel, this ticket is not going to be merged until a complete switch to python3 is effected.\n+\n+It will be kept open to let the patchbots monitor the possible failing doctests\n+that would be triggered by enforcing python3 print syntax.\n \n Author: Fr\u00e9d\u00e9ric Chapoton\n \n``````\n",
    "created_at": "2016-05-25T13:10:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20668#issuecomment-375802",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,9 @@
+The aim of this ticket is to use the Python 3 `print()` function everywhere in Sage: doctests, command-line, notebook.
 
+**STATUS** (2016-05) after discussions on sage-devel, this ticket is not going to be merged until a complete switch to python3 is effected.
+
+It will be kept open to let the patchbots monitor the possible failing doctests
+that would be triggered by enforcing python3 print syntax.
 
 Author: Frédéric Chapoton
 
``````




---

archive/issue_comments_375803.json:
```json
{
    "body": "<a id='comment:10'></a>I changed the description, according to the discussion here: https://groups.google.com/forum/#!topic/sage-devel/DrMJtNQid6s",
    "created_at": "2016-05-25T13:10:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20668#issuecomment-375803",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:10'></a>I changed the description, according to the discussion here: https://groups.google.com/forum/#!topic/sage-devel/DrMJtNQid6s



---

archive/issue_comments_375804.json:
```json
{
    "body": "<a id='comment:11'></a>I wonder: would it be difficult to turn on the python3 print when\nrunning the doctests of sage ? I think that this would be very useful to prevent new introductions of bad print syntax.",
    "created_at": "2016-05-29T11:24:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20668#issuecomment-375804",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:11'></a>I wonder: would it be difficult to turn on the python3 print when
running the doctests of sage ? I think that this would be very useful to prevent new introductions of bad print syntax.



---

archive/issue_events_055631.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-03-31T19:47:26Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20668",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20668#event-55631"
}
```



---

archive/issue_comments_375805.json:
```json
{
    "body": "<a id='comment:13'></a>Any reason for that change?\n\nThis still seems like a good idea to me?  At some point Sage is going to have to switch to Python 3 (Python 2 support ends 2020).  Good to start now...",
    "created_at": "2017-04-03T06:43:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20668#issuecomment-375805",
    "user": "https://github.com/embray"
}
```

<a id='comment:13'></a>Any reason for that change?

This still seems like a good idea to me?  At some point Sage is going to have to switch to Python 3 (Python 2 support ends 2020).  Good to start now...



---

archive/issue_comments_375806.json:
```json
{
    "body": "<a id='comment:14'></a>+1 million ;-)",
    "created_at": "2017-04-03T06:53:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20668#issuecomment-375806",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:14'></a>+1 million ;-)



---

archive/issue_comments_375807.json:
```json
{
    "body": "<a id='comment:15'></a>What I mean is the change to the milestone.",
    "created_at": "2017-04-03T07:10:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20668#issuecomment-375807",
    "user": "https://github.com/embray"
}
```

<a id='comment:15'></a>What I mean is the change to the milestone.



---

archive/issue_comments_375808.json:
```json
{
    "body": "<a id='comment:16'></a>Well, the switch to python3 will happen once the code is entirely compatible, and this is not for tomorrow, given that **not so many people** actively work on the problem.\n\nBesides, we are not going to force python2 users to use python3-sage. So this ticket is useful only for its branch, that allows from time to time to see that somebody has once again re-introduced a python2 print somewhere.",
    "created_at": "2017-04-03T07:18:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20668#issuecomment-375808",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:16'></a>Well, the switch to python3 will happen once the code is entirely compatible, and this is not for tomorrow, given that **not so many people** actively work on the problem.

Besides, we are not going to force python2 users to use python3-sage. So this ticket is useful only for its branch, that allows from time to time to see that somebody has once again re-introduced a python2 print somewhere.



---

archive/issue_comments_375809.json:
```json
{
    "body": "<a id='comment:17'></a>I see.\n\nI just meant it would be good to start pushing the print() function on people anyways :)",
    "created_at": "2017-04-03T07:25:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20668#issuecomment-375809",
    "user": "https://github.com/embray"
}
```

<a id='comment:17'></a>I see.

I just meant it would be good to start pushing the print() function on people anyways :)



---

archive/issue_comments_375810.json:
```json
{
    "body": "<a id='comment:18'></a>But it should be enabled for doctests; Just add the print_function import to src/sage/doctest/sources.py as virtual doctest.",
    "created_at": "2017-04-03T08:12:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20668#issuecomment-375810",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:18'></a>But it should be enabled for doctests; Just add the print_function import to src/sage/doctest/sources.py as virtual doctest.



---

archive/issue_comments_375811.json:
```json
{
    "body": "<a id='comment:19'></a>Replying to [comment:18 vbraun]:\n> But it should be enabled for doctests; Just add the print_function import to src/sage/doctest/sources.py as virtual doctest.\n\n\n+1 to doing this.",
    "created_at": "2017-04-03T14:56:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20668#issuecomment-375811",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:19'></a>Replying to [comment:18 vbraun]:
> But it should be enabled for doctests; Just add the print_function import to src/sage/doctest/sources.py as virtual doctest.


+1 to doing this.



---

archive/issue_comments_375812.json:
```json
{
    "body": "<a id='comment:20'></a>Please do that if you can, I cannot.",
    "created_at": "2017-04-03T20:44:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20668#issuecomment-375812",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:20'></a>Please do that if you can, I cannot.



---

archive/issue_comments_375813.json:
```json
{
    "body": "<a id='comment:21'></a>Replying to [comment:18 vbraun]:\n> But it should be enabled for doctests; Just add the print_function import to src/sage/doctest/sources.py as virtual doctest.\n\n\nVolker, what do you mean exactly, please ? Do we just need to add one single line \n\n```\nfrom __future__ import print_function\n```\nin the code of the file `src/sage/doctest/sources.py`\nor is there something more subtle to do ? ( I have no idea of what is a \"virtual doctest\")",
    "created_at": "2017-06-23T12:35:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20668#issuecomment-375813",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:21'></a>Replying to [comment:18 vbraun]:
> But it should be enabled for doctests; Just add the print_function import to src/sage/doctest/sources.py as virtual doctest.


Volker, what do you mean exactly, please ? Do we just need to add one single line 

```
from __future__ import print_function
```
in the code of the file `src/sage/doctest/sources.py`
or is there something more subtle to do ? ( I have no idea of what is a "virtual doctest")



---

archive/issue_comments_375814.json:
```json
{
    "body": "<a id='comment:22'></a>ping ? Please, Volker, what do you mean exactly by comment:18 ?",
    "created_at": "2017-07-25T06:34:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20668#issuecomment-375814",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:22'></a>ping ? Please, Volker, what do you mean exactly by comment:18 ?



---

archive/issue_comments_375815.json:
```json
{
    "body": "<a id='comment:23'></a>Enabling print_function in doctests is now #23551",
    "created_at": "2017-07-30T12:17:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20668#issuecomment-375815",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:23'></a>Enabling print_function in doctests is now #23551



---

archive/issue_comments_375816.json:
```json
{
    "body": "<a id='comment:24'></a>Erik, could you please close this one ?",
    "created_at": "2018-01-16T09:25:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20668#issuecomment-375816",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:24'></a>Erik, could you please close this one ?



---

archive/issue_events_055632.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-01-16T14:23:50Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/20668",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20668#event-55632"
}
```



---

archive/issue_comments_375817.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-01-16T14:23:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20668#issuecomment-375817",
    "user": "https://github.com/embray"
}
```

Resolution: fixed
