# Issue 20361: PPL backend re-solves the problem every time get_variable_value or get_objective_value is called

archive/issues_020124.json:
```json
{
    "body": "The PPL backend sets up a new PPL problem and re-solves it from scratch every time that `get_variable_value` or `get_objective_value` is called.\n\n```\nsage: p = MixedIntegerLinearProgram(solver='ppl', maximization=True)\nsage: x = p.new_variable()\nsage: p.set_objective(p.sum((i+20)*x[i] for i in range(1000)))\nsage: p.add_constraint(p.sum((i+15)*x[i] for i in range(1000)), max=20000)\nsage: x.set_max(1)\nsage: p.solve()  # takes a few seconds\n11438750/507\nsage: p.get_objective_value()  # takes a few seconds, should be instant\n11438750/507\nsage: p.get_values(x)  # takes forever, should be instant\n```\n\n**CC:**  @dimpase @videlec @jdemeyer\n\n**Keywords:** lp\n\n**Branch/Commit:** [df42b5b74f30f1fca6a7c236c933c83b434f6f3e](https://github.com/sagemath/sagetrac-mirror/commit/df42b5b74f30f1fca6a7c236c933c83b434f6f3e)\n\n**Reviewer:** Dima Pasechnik\n\n**Author:** Matthias Koeppe\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/20361\n\n",
    "closed_at": "2016-04-06T23:03:31Z",
    "created_at": "2016-04-05T19:19:51Z",
    "labels": [
        "component: numerical",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.2",
    "title": "PPL backend re-solves the problem every time get_variable_value or get_objective_value is called",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20361",
    "user": "https://github.com/mkoeppe"
}
```
The PPL backend sets up a new PPL problem and re-solves it from scratch every time that `get_variable_value` or `get_objective_value` is called.

```
sage: p = MixedIntegerLinearProgram(solver='ppl', maximization=True)
sage: x = p.new_variable()
sage: p.set_objective(p.sum((i+20)*x[i] for i in range(1000)))
sage: p.add_constraint(p.sum((i+15)*x[i] for i in range(1000)), max=20000)
sage: x.set_max(1)
sage: p.solve()  # takes a few seconds
11438750/507
sage: p.get_objective_value()  # takes a few seconds, should be instant
11438750/507
sage: p.get_values(x)  # takes forever, should be instant
```

**CC:**  @dimpase @videlec @jdemeyer

**Keywords:** lp

**Branch/Commit:** [df42b5b74f30f1fca6a7c236c933c83b434f6f3e](https://github.com/sagemath/sagetrac-mirror/commit/df42b5b74f30f1fca6a7c236c933c83b434f6f3e)

**Reviewer:** Dima Pasechnik

**Author:** Matthias Koeppe

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/20361





---

archive/issue_comments_372714.json:
```json
{
    "body": "<a id='comment:1'></a>\noh, great catch, I was always wondering why get_values is so bloody slow with ppl...",
    "created_at": "2016-04-05T19:48:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20361",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20361#issuecomment-372714",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:1'></a>
oh, great catch, I was always wondering why get_values is so bloody slow with ppl...



---

archive/issue_comments_372715.json:
```json
{
    "body": "**Branch:** [u/mkoeppe/ppl_backend_re_solves_the_problem_every_time_get_variable_value_or_get_objective_value_is_called](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/ppl_backend_re_solves_the_problem_every_time_get_variable_value_or_get_objective_value_is_called)",
    "created_at": "2016-04-05T21:48:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20361",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20361#issuecomment-372715",
    "user": "https://github.com/mkoeppe"
}
```

**Branch:** [u/mkoeppe/ppl_backend_re_solves_the_problem_every_time_get_variable_value_or_get_objective_value_is_called](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/ppl_backend_re_solves_the_problem_every_time_get_variable_value_or_get_objective_value_is_called)



---

archive/issue_comments_372716.json:
```json
{
    "body": "**Commit:** [df42b5b74f30f1fca6a7c236c933c83b434f6f3e](https://github.com/sagemath/sagetrac-mirror/commit/df42b5b74f30f1fca6a7c236c933c83b434f6f3e)",
    "created_at": "2016-04-05T21:49:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20361",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20361#issuecomment-372716",
    "user": "https://github.com/mkoeppe"
}
```

**Commit:** [df42b5b74f30f1fca6a7c236c933c83b434f6f3e](https://github.com/sagemath/sagetrac-mirror/commit/df42b5b74f30f1fca6a7c236c933c83b434f6f3e)



---

archive/issue_comments_372717.json:
```json
{
    "body": "<a id='comment:3'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/df42b5b74f30f1fca6a7c236c933c83b434f6f3e\">df42b5b</a></td><td><code>Fix for #20361: PPL backend re-solves the problem every time get_variable_value or get_objective_value is called</code></td></tr></table>\n",
    "created_at": "2016-04-05T21:49:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20361",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20361#issuecomment-372717",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:3'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/df42b5b74f30f1fca6a7c236c933c83b434f6f3e">df42b5b</a></td><td><code>Fix for #20361: PPL backend re-solves the problem every time get_variable_value or get_objective_value is called</code></td></tr></table>




---

archive/issue_comments_372718.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2016-04-05T21:49:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20361",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20361#issuecomment-372718",
    "user": "https://github.com/mkoeppe"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_372719.json:
```json
{
    "body": "**Author:** Matthias Koeppe",
    "created_at": "2016-04-05T22:07:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20361",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20361#issuecomment-372719",
    "user": "https://github.com/dimpase"
}
```

**Author:** Matthias Koeppe



---

archive/issue_comments_372720.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2016-04-05T22:07:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20361",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20361#issuecomment-372720",
    "user": "https://github.com/dimpase"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_372721.json:
```json
{
    "body": "<a id='comment:4'></a>\nGreat!",
    "created_at": "2016-04-05T22:07:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20361",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20361#issuecomment-372721",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:4'></a>
Great!



---

archive/issue_comments_372722.json:
```json
{
    "body": "**Reviewer:** Dima Pasechnik",
    "created_at": "2016-04-05T22:07:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20361",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20361#issuecomment-372722",
    "user": "https://github.com/dimpase"
}
```

**Reviewer:** Dima Pasechnik



---

archive/issue_comments_372723.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2016-04-06T23:03:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20361",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20361#issuecomment-372723",
    "user": "https://github.com/vbraun"
}
```

**Resolution:** fixed



---

archive/issue_events_062762.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-04-06T23:03:31Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/20361",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20361#event-62762"
}
```



---

archive/issue_comments_372724.json:
```json
{
    "body": "**Changing branch** from \"[u/mkoeppe/ppl_backend_re_solves_the_problem_every_time_get_variable_value_or_get_objective_value_is_called](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/ppl_backend_re_solves_the_problem_every_time_get_variable_value_or_get_objective_value_is_called)\" to \"[df42b5b74f30f1fca6a7c236c933c83b434f6f3e](https://github.com/sagemath/sagetrac-mirror/commit/df42b5b74f30f1fca6a7c236c933c83b434f6f3e)\".",
    "created_at": "2016-04-06T23:03:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20361",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20361#issuecomment-372724",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/mkoeppe/ppl_backend_re_solves_the_problem_every_time_get_variable_value_or_get_objective_value_is_called](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/ppl_backend_re_solves_the_problem_every_time_get_variable_value_or_get_objective_value_is_called)" to "[df42b5b74f30f1fca6a7c236c933c83b434f6f3e](https://github.com/sagemath/sagetrac-mirror/commit/df42b5b74f30f1fca6a7c236c933c83b434f6f3e)".
