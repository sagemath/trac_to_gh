# Issue 20278: Compute fundamental domain for symmetry groups of polyhedra

archive/issues_020041.json:
```json
{
    "body": "Given a finite affine matrix group fixing a polyhedron (the restricted automorphism group by default), compute a fundamental domain for that group action.\n\nCC:  @tscrim\n\nAuthor: Jeroen Demeyer\n\nBranch: u/mkoeppe/ticket/20278\n\nStatus: new\n\nCommit: 9e2c9274b6cf5d2c9479dd505027816a156affcf\n\nIssue created by migration from https://trac.sagemath.org/ticket/20278\n\n",
    "created_at": "2016-03-24T11:12:00Z",
    "labels": [
        "component: geometry"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.4",
    "title": "Compute fundamental domain for symmetry groups of polyhedra",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20278",
    "user": "https://github.com/jdemeyer"
}
```
Given a finite affine matrix group fixing a polyhedron (the restricted automorphism group by default), compute a fundamental domain for that group action.

CC:  @tscrim

Author: Jeroen Demeyer

Branch: u/mkoeppe/ticket/20278

Status: new

Commit: 9e2c9274b6cf5d2c9479dd505027816a156affcf

Issue created by migration from https://trac.sagemath.org/ticket/20278





---

archive/issue_comments_367525.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-\n+Given a finite affine matrix group fixing a polyhedron (the restricted automorphism group by default), compute a fundamental domain for that group action.\n``````\n",
    "created_at": "2016-03-24T11:13:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20278#issuecomment-367525",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-
+Given a finite affine matrix group fixing a polyhedron (the restricted automorphism group by default), compute a fundamental domain for that group action.
``````




---

archive/issue_comments_367526.json:
```json
{
    "body": "Changing dependencies from \"#20259\" to \"#20259, #20277\"",
    "created_at": "2016-03-24T11:14:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20278#issuecomment-367526",
    "user": "https://github.com/jdemeyer"
}
```

Changing dependencies from "#20259" to "#20259, #20277"



---

archive/issue_comments_367527.json:
```json
{
    "body": "Changing branch from \"\" to \"u/jdemeyer/ticket/20278\"",
    "created_at": "2016-03-24T13:03:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20278#issuecomment-367527",
    "user": "https://github.com/jdemeyer"
}
```

Changing branch from "" to "u/jdemeyer/ticket/20278"



---

archive/issue_comments_367528.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2016-03-29T07:59:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20278#issuecomment-367528",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_367529.json:
```json
{
    "body": "Changing commit from \"\" to \"19baadb857b7f6ab9cc82d62a378e2c59a93d20c\"",
    "created_at": "2016-03-29T07:59:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20278#issuecomment-367529",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "19baadb857b7f6ab9cc82d62a378e2c59a93d20c"



---

archive/issue_comments_367530.json:
```json
{
    "body": "Changing commit from \"19baadb857b7f6ab9cc82d62a378e2c59a93d20c\" to \"9d6c0947be69294b10a6fca6d3c33e1009e32e90\"",
    "created_at": "2016-03-29T08:02:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20278#issuecomment-367530",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "19baadb857b7f6ab9cc82d62a378e2c59a93d20c" to "9d6c0947be69294b10a6fca6d3c33e1009e32e90"



---

archive/issue_comments_367531.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2016-03-29T08:02:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20278#issuecomment-367531",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_367532.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2016-03-29T16:52:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20278#issuecomment-367532",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_367533.json:
```json
{
    "body": "Changing commit from \"9d6c0947be69294b10a6fca6d3c33e1009e32e90\" to \"3b9ece840c6284e009e58b95e899951a212a0a4e\"",
    "created_at": "2016-03-29T16:52:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20278#issuecomment-367533",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "9d6c0947be69294b10a6fca6d3c33e1009e32e90" to "3b9ece840c6284e009e58b95e899951a212a0a4e"



---

archive/issue_comments_367534.json:
```json
{
    "body": "Changing commit from \"3b9ece840c6284e009e58b95e899951a212a0a4e\" to \"1297c9656631fd0ed6c8d748d4a21f025ce5481b\"",
    "created_at": "2016-03-31T11:57:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20278#issuecomment-367534",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "3b9ece840c6284e009e58b95e899951a212a0a4e" to "1297c9656631fd0ed6c8d748d4a21f025ce5481b"



---

archive/issue_comments_367535.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2016-03-31T11:57:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20278#issuecomment-367535",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_367536.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2016-03-31T12:15:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20278#issuecomment-367536",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_367537.json:
```json
{
    "body": "Changing commit from \"1297c9656631fd0ed6c8d748d4a21f025ce5481b\" to \"7555e5215da9dddc84161a6c578000e7a9edda06\"",
    "created_at": "2016-03-31T12:15:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20278#issuecomment-367537",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "1297c9656631fd0ed6c8d748d4a21f025ce5481b" to "7555e5215da9dddc84161a6c578000e7a9edda06"



---

archive/issue_comments_367538.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2016-03-31T12:58:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20278#issuecomment-367538",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_367539.json:
```json
{
    "body": "Changing commit from \"7555e5215da9dddc84161a6c578000e7a9edda06\" to \"6f0649ee7b309482c93537fac614bcc7bb5937e9\"",
    "created_at": "2016-03-31T12:58:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20278#issuecomment-367539",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "7555e5215da9dddc84161a6c578000e7a9edda06" to "6f0649ee7b309482c93537fac614bcc7bb5937e9"



---

archive/issue_comments_367540.json:
```json
{
    "body": "<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2016-03-31T14:30:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20278#issuecomment-367540",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_367541.json:
```json
{
    "body": "Changing commit from \"6f0649ee7b309482c93537fac614bcc7bb5937e9\" to \"b1576d6e10ecfdfc439a6b2d67e121e31ba26fdf\"",
    "created_at": "2016-03-31T14:30:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20278#issuecomment-367541",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "6f0649ee7b309482c93537fac614bcc7bb5937e9" to "b1576d6e10ecfdfc439a6b2d67e121e31ba26fdf"



---

archive/issue_comments_367542.json:
```json
{
    "body": "<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2016-04-02T13:16:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20278#issuecomment-367542",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_367543.json:
```json
{
    "body": "Changing commit from \"b1576d6e10ecfdfc439a6b2d67e121e31ba26fdf\" to \"80a3a4ed78969d5f773b99e0fa4cc8d31d46db9b\"",
    "created_at": "2016-04-02T13:16:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20278#issuecomment-367543",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "b1576d6e10ecfdfc439a6b2d67e121e31ba26fdf" to "80a3a4ed78969d5f773b99e0fa4cc8d31d46db9b"



---

archive/issue_comments_367544.json:
```json
{
    "body": "Changing dependencies from \"#20259, #20277\" to \"#20259\"",
    "created_at": "2016-04-02T13:16:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20278#issuecomment-367544",
    "user": "https://github.com/jdemeyer"
}
```

Changing dependencies from "#20259, #20277" to "#20259"



---

archive/issue_comments_367545.json:
```json
{
    "body": "Changing commit from \"80a3a4ed78969d5f773b99e0fa4cc8d31d46db9b\" to \"f6465af80306123ddbf32d69a6dbf8ecf4674ff7\"",
    "created_at": "2016-04-13T09:58:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20278#issuecomment-367545",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "80a3a4ed78969d5f773b99e0fa4cc8d31d46db9b" to "f6465af80306123ddbf32d69a6dbf8ecf4674ff7"



---

archive/issue_comments_367546.json:
```json
{
    "body": "<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2016-04-13T09:58:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20278#issuecomment-367546",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_367547.json:
```json
{
    "body": "<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2016-05-09T09:42:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20278#issuecomment-367547",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_367548.json:
```json
{
    "body": "Changing commit from \"f6465af80306123ddbf32d69a6dbf8ecf4674ff7\" to \"10934f2b2a0ccbae1da31dc7f6b2e3e89e1fa5aa\"",
    "created_at": "2016-05-09T09:42:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20278#issuecomment-367548",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "f6465af80306123ddbf32d69a6dbf8ecf4674ff7" to "10934f2b2a0ccbae1da31dc7f6b2e3e89e1fa5aa"



---

archive/issue_comments_367549.json:
```json
{
    "body": "Changing dependencies from \"#20259\" to \"\"",
    "created_at": "2016-05-09T09:42:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20278#issuecomment-367549",
    "user": "https://github.com/jdemeyer"
}
```

Changing dependencies from "#20259" to ""



---

archive/issue_comments_367550.json:
```json
{
    "body": "<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2016-05-30T08:17:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20278#issuecomment-367550",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_367551.json:
```json
{
    "body": "Changing commit from \"10934f2b2a0ccbae1da31dc7f6b2e3e89e1fa5aa\" to \"990f3f72b835628c632654ee8ca9e12b3596b5c6\"",
    "created_at": "2016-05-30T08:17:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20278#issuecomment-367551",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "10934f2b2a0ccbae1da31dc7f6b2e3e89e1fa5aa" to "990f3f72b835628c632654ee8ca9e12b3596b5c6"



---

archive/issue_comments_367552.json:
```json
{
    "body": "Changing branch from \"u/jdemeyer/ticket/20278\" to \"u/mkoeppe/ticket/20278\"",
    "created_at": "2016-08-12T01:10:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20278#issuecomment-367552",
    "user": "https://github.com/mkoeppe"
}
```

Changing branch from "u/jdemeyer/ticket/20278" to "u/mkoeppe/ticket/20278"



---

archive/issue_comments_367553.json:
```json
{
    "body": "Changing commit from \"990f3f72b835628c632654ee8ca9e12b3596b5c6\" to \"9e2c9274b6cf5d2c9479dd505027816a156affcf\"",
    "created_at": "2016-08-12T01:15:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20278#issuecomment-367553",
    "user": "https://github.com/mkoeppe"
}
```

Changing commit from "990f3f72b835628c632654ee8ca9e12b3596b5c6" to "9e2c9274b6cf5d2c9479dd505027816a156affcf"



---

archive/issue_comments_367554.json:
```json
{
    "body": "<a id='comment:18'></a>There should be better error handling when the user passes a group that is not finite. By wishful thinking, I thought I could do:\n\n```\nsage: P = Polyhedron(lines=[(1,0), (0,1)])\nsage: T2 = MatrixGroup(matrix(QQ,[[1, 0, 1], [0, 1, 0], [0, 0, 1]]), [[1, 0, 0], [0, 1, 1], [0, 0, 1]])\nsage: P.fundamental_domain(T2)\n```\nbut it gives an unhelpful error:\n\n```\nAttributeError                            Traceback (most recent call last)\n<ipython-input-6-3e2d754d11ba> in <module>()\n----> 1 P.fundamental_domain(T2)\n\n/Users/mkoeppe/cvs/sage/local/lib/python2.7/site-packages/sage/geometry/polyhedron/base.pyc in fundamental_domain(self, group)\n   4882             from sage.groups.affine_gps.affine_group import AffineGroup\n   4883             AGL = AffineGroup(self.ambient_dim(), self.base_ring().fraction_field())\n-> 4884             G = [AGL(g).matrix() for g in group]\n   4885 \n   4886         # We need to find a good \"center\" point for the fundamental\n\n/Users/mkoeppe/cvs/sage/local/lib/python2.7/site-packages/sage/groups/matrix_gps/matrix_group.pyc in __iter__(self)\n    612         if not self.is_finite():\n    613             # use implementation from category framework\n--> 614             for g in super(Group, self).__iter__():\n    615                 yield g\n    616             return\n\nAttributeError: 'super' object has no attribute '__iter__'\n```\n\n---\nNew commits:",
    "created_at": "2016-08-12T01:15:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20278#issuecomment-367554",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:18'></a>There should be better error handling when the user passes a group that is not finite. By wishful thinking, I thought I could do:

```
sage: P = Polyhedron(lines=[(1,0), (0,1)])
sage: T2 = MatrixGroup(matrix(QQ,[[1, 0, 1], [0, 1, 0], [0, 0, 1]]), [[1, 0, 0], [0, 1, 1], [0, 0, 1]])
sage: P.fundamental_domain(T2)
```
but it gives an unhelpful error:

```
AttributeError                            Traceback (most recent call last)
<ipython-input-6-3e2d754d11ba> in <module>()
----> 1 P.fundamental_domain(T2)

/Users/mkoeppe/cvs/sage/local/lib/python2.7/site-packages/sage/geometry/polyhedron/base.pyc in fundamental_domain(self, group)
   4882             from sage.groups.affine_gps.affine_group import AffineGroup
   4883             AGL = AffineGroup(self.ambient_dim(), self.base_ring().fraction_field())
-> 4884             G = [AGL(g).matrix() for g in group]
   4885 
   4886         # We need to find a good "center" point for the fundamental

/Users/mkoeppe/cvs/sage/local/lib/python2.7/site-packages/sage/groups/matrix_gps/matrix_group.pyc in __iter__(self)
    612         if not self.is_finite():
    613             # use implementation from category framework
--> 614             for g in super(Group, self).__iter__():
    615                 yield g
    616             return

AttributeError: 'super' object has no attribute '__iter__'
```

---
New commits:



---

archive/issue_events_055036.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-08-12T01:15:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20278",
    "milestone": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20278#event-55036"
}
```



---

archive/issue_comments_367555.json:
```json
{
    "body": "<a id='comment:20'></a>See also #21228.",
    "created_at": "2016-08-12T01:54:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20278#issuecomment-367555",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:20'></a>See also #21228.
