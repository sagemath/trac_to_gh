# Issue 20025: is_prime_power fails on powers of 30011

archive/issues_019788.json:
```json
{
    "body": "Playing with finite fields on Sage 6.10 or 7.0:\n\n```\nGF(30011**(19*3), name='z')\n...\nValueError: the order of a finite field must be a prime power\n```\nApparently `is_prime_power` returns `False` for that cardinality.\n\nPARI bug report:\nhttp://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=1782\n\n**Tarball**: http://sage.ugent.be/www/jdemeyer/sage/pari-2.8-2341-g61b65cc.tar.gz\n\nCC:  @videlec\n\nBranch/Commit: 9c5d20c2e9a44f8503bca15dc64f04453929a552\n\nUpstream: Fixed upstream, but not in a stable release.\n\nReviewer: Jean-Pierre Flori\n\nAuthor: Jeroen Demeyer\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/20025\n\n",
    "closed_at": "2016-02-11T12:22:08Z",
    "created_at": "2016-02-08T16:25:13Z",
    "labels": [
        "component: basic arithmetic",
        "critical",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.1",
    "title": "is_prime_power fails on powers of 30011",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20025",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```
Playing with finite fields on Sage 6.10 or 7.0:

```
GF(30011**(19*3), name='z')
...
ValueError: the order of a finite field must be a prime power
```
Apparently `is_prime_power` returns `False` for that cardinality.

PARI bug report:
http://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=1782

**Tarball**: http://sage.ugent.be/www/jdemeyer/sage/pari-2.8-2341-g61b65cc.tar.gz

CC:  @videlec

Branch/Commit: 9c5d20c2e9a44f8503bca15dc64f04453929a552

Upstream: Fixed upstream, but not in a stable release.

Reviewer: Jean-Pierre Flori

Author: Jeroen Demeyer

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/20025





---

archive/issue_comments_361186.json:
```json
{
    "body": "<a id='comment:1'></a>`:-P`\n\n```\nsage: print [i for i in range(1,100) if not is_prime_power(30011**i)]\n[22, 26, 33, 34, 38, 39, 44, 46, 51, 52, 55, 57, 58, 62, 65, 66, 68, 69, 74, 76, 77, 78, 82, 85, 86, 87, 88, 91, 92, 93, 94, 95, 99]\n```",
    "created_at": "2016-02-08T16:35:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20025#issuecomment-361186",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:1'></a>`:-P`

```
sage: print [i for i in range(1,100) if not is_prime_power(30011**i)]
[22, 26, 33, 34, 38, 39, 44, 46, 51, 52, 55, 57, 58, 62, 65, 66, 68, 69, 74, 76, 77, 78, 82, 85, 86, 87, 88, 91, 92, 93, 94, 95, 99]
```



---

archive/issue_comments_361187.json:
```json
{
    "body": "<a id='comment:2'></a>Thanks, I was building the latest beta to see if the PARI update changed anything (though I could not say at this point if PARI is involved).\nIt seems its not the case.",
    "created_at": "2016-02-08T16:36:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20025#issuecomment-361187",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:2'></a>Thanks, I was building the latest beta to see if the PARI update changed anything (though I could not say at this point if PARI is involved).
It seems its not the case.



---

archive/issue_comments_361188.json:
```json
{
    "body": "<a id='comment:3'></a>Funny\n\n```\nsage: set([p for i in range(1,100) for p in primes(200000) if not is_prime_power(p**i)])\n{30011}\n```",
    "created_at": "2016-02-08T16:39:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20025#issuecomment-361188",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:3'></a>Funny

```
sage: set([p for i in range(1,100) for p in primes(200000) if not is_prime_power(p**i)])
{30011}
```



---

archive/issue_comments_361189.json:
```json
{
    "body": "<a id='comment:4'></a>So it is an issue in the PARI versions we ship (at least the one in 7.0):\n\n```\n? isprimepower(30011^(17*3))\nOddPwrs: examining 758-bit integer\nOddPwrs: examining 252-bit integer\n\nOddPwrs: not a power\nZ_isanypower: now k=3, x=252-bit\n\nOddPwrs: [17] passed modular checks\n%1 = 0\n```",
    "created_at": "2016-02-08T16:48:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20025#issuecomment-361189",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:4'></a>So it is an issue in the PARI versions we ship (at least the one in 7.0):

```
? isprimepower(30011^(17*3))
OddPwrs: examining 758-bit integer
OddPwrs: examining 252-bit integer

OddPwrs: not a power
Z_isanypower: now k=3, x=252-bit

OddPwrs: [17] passed modular checks
%1 = 0
```



---

archive/issue_comments_361190.json:
```json
{
    "body": "<a id='comment:5'></a>I attempted to send a bug report upstream.\nIf it appears on their bugtracker, I'll report here.",
    "created_at": "2016-02-08T16:57:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20025#issuecomment-361190",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:5'></a>I attempted to send a bug report upstream.
If it appears on their bugtracker, I'll report here.



---

archive/issue_comments_361191.json:
```json
{
    "body": "Changing upstream from \"N/A\" to \"Reported upstream. No feedback yet.\"",
    "created_at": "2016-02-08T17:04:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20025#issuecomment-361191",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing upstream from "N/A" to "Reported upstream. No feedback yet."



---

archive/issue_comments_361192.json:
```json
{
    "body": "<a id='comment:6'></a>http://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=1782",
    "created_at": "2016-02-08T17:04:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20025#issuecomment-361192",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:6'></a>http://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=1782



---

archive/issue_comments_361193.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,6 +7,9 @@\n ```\n Apparently `is_prime_power` returns `False` for that cardinality.\n \n+PARI bug report:\n+http://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=1782\n+\n Comment: 1\n \n Summary: is_prime_power fails on some inputs\n``````\n",
    "created_at": "2016-02-08T17:04:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20025#issuecomment-361193",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,6 +7,9 @@
 ```
 Apparently `is_prime_power` returns `False` for that cardinality.
 
+PARI bug report:
+http://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=1782
+
 Comment: 1
 
 Summary: is_prime_power fails on some inputs
``````




---

archive/issue_comments_361194.json:
```json
{
    "body": "<a id='comment:8'></a>I tried all primes up to 10<sup>6</sup> and still only 30011 fails.",
    "created_at": "2016-02-08T21:51:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20025#issuecomment-361194",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:8'></a>I tried all primes up to 10<sup>6</sup> and still only 30011 fails.



---

archive/issue_comments_361195.json:
```json
{
    "body": "Changing upstream from \"Reported upstream. No feedback yet.\" to \"Fixed upstream, but not in a stable release.\"",
    "created_at": "2016-02-09T09:00:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20025#issuecomment-361195",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing upstream from "Reported upstream. No feedback yet." to "Fixed upstream, but not in a stable release."



---

archive/issue_comments_361196.json:
```json
{
    "body": "<a id='comment:9'></a>Fixed in master according to Karim, though he did not push the commit yet :)",
    "created_at": "2016-02-09T09:00:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20025#issuecomment-361196",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:9'></a>Fixed in master according to Karim, though he did not push the commit yet :)



---

archive/issue_comments_361197.json:
```json
{
    "body": "<a id='comment:10'></a>Let's me know when it's fixed in PARI master, then I can make a package.",
    "created_at": "2016-02-09T09:04:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20025#issuecomment-361197",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:10'></a>Let's me know when it's fixed in PARI master, then I can make a package.



---

archive/issue_comments_361198.json:
```json
{
    "body": "<a id='comment:11'></a>Done:\n* http://pari.math.u-bordeaux.fr/cgi-bin/gitweb.cgi?p=pari.git;a=commit;h=61b65cc7e4fc3ce51a2daed4d48e3c675e8417e8",
    "created_at": "2016-02-09T13:41:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20025#issuecomment-361198",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:11'></a>Done:
* http://pari.math.u-bordeaux.fr/cgi-bin/gitweb.cgi?p=pari.git;a=commit;h=61b65cc7e4fc3ce51a2daed4d48e3c675e8417e8



---

archive/issue_comments_361199.json:
```json
{
    "body": "Changing author from \"\" to \"Jeroen Demeyer\"",
    "created_at": "2016-02-09T14:53:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20025#issuecomment-361199",
    "user": "https://github.com/jdemeyer"
}
```

Changing author from "" to "Jeroen Demeyer"



---

archive/issue_comments_361200.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,16 @@\n+Playing with finite fields on Sage 6.10 or 7.0:\n \n+```\n+GF(30011**(19*3), name='z')\n+...\n+ValueError: the order of a finite field must be a prime power\n+```\n+Apparently `is_prime_power` returns `False` for that cardinality.\n+\n+PARI bug report:\n+http://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=1782\n+\n+**Tarball**: http://sage.ugent.be/www/jdemeyer/sage/pari-2.8-2341-g61b65cc.tar.gz\n \n Comment: 1\n \n``````\n",
    "created_at": "2016-02-09T14:54:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20025#issuecomment-361200",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,16 @@
+Playing with finite fields on Sage 6.10 or 7.0:
 
+```
+GF(30011**(19*3), name='z')
+...
+ValueError: the order of a finite field must be a prime power
+```
+Apparently `is_prime_power` returns `False` for that cardinality.
+
+PARI bug report:
+http://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=1782
+
+**Tarball**: http://sage.ugent.be/www/jdemeyer/sage/pari-2.8-2341-g61b65cc.tar.gz
 
 Comment: 1
 
``````




---

archive/issue_comments_361201.json:
```json
{
    "body": "Changing branch from \"\" to \"u/jdemeyer/is_prime_power_fails_on_some_inputs\"",
    "created_at": "2016-02-09T15:52:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20025#issuecomment-361201",
    "user": "https://github.com/jdemeyer"
}
```

Changing branch from "" to "u/jdemeyer/is_prime_power_fails_on_some_inputs"



---

archive/issue_comments_361202.json:
```json
{
    "body": "Changing commit from \"\" to \"ddf018bf6ade9ddc4bd2fcf0e0345e2ff8a783ec\"",
    "created_at": "2016-02-09T15:55:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20025#issuecomment-361202",
    "user": "https://github.com/jdemeyer"
}
```

Changing commit from "" to "ddf018bf6ade9ddc4bd2fcf0e0345e2ff8a783ec"



---

archive/issue_comments_361203.json:
```json
{
    "body": "<a id='comment:15'></a>I did not yet run full doctests, but otherwise this seems to work.\n\n---\nNew commits:",
    "created_at": "2016-02-09T15:55:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20025#issuecomment-361203",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:15'></a>I did not yet run full doctests, but otherwise this seems to work.

---
New commits:



---

archive/issue_comments_361204.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-02-09T15:55:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20025#issuecomment-361204",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_361205.json:
```json
{
    "body": "Changing commit from \"ddf018bf6ade9ddc4bd2fcf0e0345e2ff8a783ec\" to \"9c5d20c2e9a44f8503bca15dc64f04453929a552\"",
    "created_at": "2016-02-10T07:53:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20025#issuecomment-361205",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ddf018bf6ade9ddc4bd2fcf0e0345e2ff8a783ec" to "9c5d20c2e9a44f8503bca15dc64f04453929a552"



---

archive/issue_comments_361206.json:
```json
{
    "body": "<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-02-10T07:53:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20025#issuecomment-361206",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_361207.json:
```json
{
    "body": "<a id='comment:17'></a>Doctests pass now.",
    "created_at": "2016-02-10T08:00:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20025#issuecomment-361207",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:17'></a>Doctests pass now.



---

archive/issue_comments_361208.json:
```json
{
    "body": "<a id='comment:18'></a>Thanks, looks ok.",
    "created_at": "2016-02-10T13:19:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20025#issuecomment-361208",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:18'></a>Thanks, looks ok.



---

archive/issue_comments_361209.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Jean-Pierre Flori\"",
    "created_at": "2016-02-10T13:19:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20025#issuecomment-361209",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing reviewer from "" to "Jean-Pierre Flori"



---

archive/issue_comments_361210.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-02-10T13:19:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20025#issuecomment-361210",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_361211.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-02-11T12:22:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20025#issuecomment-361211",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_361212.json:
```json
{
    "body": "Changing branch from \"u/jdemeyer/is_prime_power_fails_on_some_inputs\" to \"9c5d20c2e9a44f8503bca15dc64f04453929a552\"",
    "created_at": "2016-02-11T12:22:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20025#issuecomment-361212",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/jdemeyer/is_prime_power_fails_on_some_inputs" to "9c5d20c2e9a44f8503bca15dc64f04453929a552"



---

archive/issue_events_054582.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-02-11T12:22:08Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/20025",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20025#event-54582"
}
```
