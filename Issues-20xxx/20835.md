# Issue 20835: Systematic encoder for linear codes

archive/issues_020598.json:
```json
{
    "body": "This ticket introduces a generic systematic encoder for linear codes.\n\nCC:  @johanrosenkilde @ClementPernet\n\nBranch/Commit: 3a2f5ac5569301cf07f765a872dca882cbb05c32\n\nReviewer: Johan Rosenkilde\n\nAuthor: David Lucas\n\nDependencies: #20840\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/20835\n\n",
    "closed_at": "2016-08-07T20:01:35Z",
    "created_at": "2016-06-16T13:34:15Z",
    "labels": [
        "component: coding theory"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.3",
    "title": "Systematic encoder for linear codes",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20835",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```
This ticket introduces a generic systematic encoder for linear codes.

CC:  @johanrosenkilde @ClementPernet

Branch/Commit: 3a2f5ac5569301cf07f765a872dca882cbb05c32

Reviewer: Johan Rosenkilde

Author: David Lucas

Dependencies: #20840

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/20835





---

archive/issue_comments_284093.json:
```json
{
    "body": "<a id='comment:2'></a>I pushed the code, this ticket is now open for review.\n\n---\nNew commits:",
    "created_at": "2016-06-16T13:35:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20835#issuecomment-284093",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

<a id='comment:2'></a>I pushed the code, this ticket is now open for review.

---
New commits:



---

archive/issue_comments_284094.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-06-16T13:35:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20835#issuecomment-284094",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_284095.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-06-17T12:53:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20835#issuecomment-284095",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_284096.json:
```json
{
    "body": "<a id='comment:4'></a>I made some changes to this ticket:\n\n- I simplified the output message of `_repr_` and `_latex_`. I also noticed other encoders in `linear_code.py` were outputting `Encoder blah for the Code blah`, while Sage convention is to write `Encoder blah for Code blah`. I fixed this as well.\n\n- I renamed `rank_profile_column_indices` into `systematic_positions`, and utterly simplified its implementation.\n\n- I also added details on the encoding, and what we call \"systematic form\" to the class docstring.\n\nThis is still open for review.",
    "created_at": "2016-06-17T12:57:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20835#issuecomment-284096",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

<a id='comment:4'></a>I made some changes to this ticket:

- I simplified the output message of `_repr_` and `_latex_`. I also noticed other encoders in `linear_code.py` were outputting `Encoder blah for the Code blah`, while Sage convention is to write `Encoder blah for Code blah`. I fixed this as well.

- I renamed `rank_profile_column_indices` into `systematic_positions`, and utterly simplified its implementation.

- I also added details on the encoding, and what we call "systematic form" to the class docstring.

This is still open for review.



---

archive/issue_comments_284097.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-06-17T13:29:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20835#issuecomment-284097",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_284098.json:
```json
{
    "body": "<a id='comment:6'></a>As this ticket introduces a new generic encoder, I merged in #20840 and made the appropriate changes.\nIt now depends on #20840 and is still open for review (and I'm done pushing changes now `;)`)\n\nDavid",
    "created_at": "2016-06-17T13:31:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20835#issuecomment-284098",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

<a id='comment:6'></a>As this ticket introduces a new generic encoder, I merged in #20840 and made the appropriate changes.
It now depends on #20840 and is still open for review (and I'm done pushing changes now `;)`)

David



---

archive/issue_comments_284099.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-06-29T11:29:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20835#issuecomment-284099",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_284100.json:
```json
{
    "body": "<a id='comment:8'></a>As `LinearCodeParityCheckEncoder` and `LinearCodeSystematicEncoder` were actually doing the same thing, I modified the latter so it now uses a parity check matrix when computing a generator matrix if it is the default encoder. I also deprecated the former.\nI also merged in latest version of #20840 and fixed conflicts.\n\nThis is open for review.\n\nDavid",
    "created_at": "2016-06-29T11:31:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20835#issuecomment-284100",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

<a id='comment:8'></a>As `LinearCodeParityCheckEncoder` and `LinearCodeSystematicEncoder` were actually doing the same thing, I modified the latter so it now uses a parity check matrix when computing a generator matrix if it is the default encoder. I also deprecated the former.
I also merged in latest version of #20840 and fixed conflicts.

This is open for review.

David



---

archive/issue_comments_284101.json:
```json
{
    "body": "<a id='comment:9'></a>In `AbstractLinearCode.generator_matrix_systematic`, shouldn't the method call `AbstractLinearCode.encoder` in order to use a possible cached systematic encoder?\n\nAlso, perhaps this ticket is as good a place as any to rename that method into `systematic_generator_matrix` and deprecate the old name.\n\nBest,\nJohan",
    "created_at": "2016-08-02T13:56:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20835#issuecomment-284101",
    "user": "https://github.com/johanrosenkilde"
}
```

<a id='comment:9'></a>In `AbstractLinearCode.generator_matrix_systematic`, shouldn't the method call `AbstractLinearCode.encoder` in order to use a possible cached systematic encoder?

Also, perhaps this ticket is as good a place as any to rename that method into `systematic_generator_matrix` and deprecate the old name.

Best,
Johan



---

archive/issue_comments_284102.json:
```json
{
    "body": "<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-08-03T07:34:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20835#issuecomment-284102",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_284103.json:
```json
{
    "body": "<a id='comment:11'></a>Hello,\n\nI made the requested changes.\n\nDavid",
    "created_at": "2016-08-03T07:35:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20835#issuecomment-284103",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

<a id='comment:11'></a>Hello,

I made the requested changes.

David



---

archive/issue_comments_284104.json:
```json
{
    "body": "<a id='comment:13'></a>Good job with the patch. I made a few improvements to the doc. I also added a\ncheck to avoid infinite recursion in case the user made a class with the systematic encoder as default encoder but forgot to override parity check matrix.\n\nIf you can accept my changes, please set the ticket to positive review.\nBest,\nJohan\n\n---\nNew commits:",
    "created_at": "2016-08-03T13:24:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20835#issuecomment-284104",
    "user": "https://github.com/johanrosenkilde"
}
```

<a id='comment:13'></a>Good job with the patch. I made a few improvements to the doc. I also added a
check to avoid infinite recursion in case the user made a class with the systematic encoder as default encoder but forgot to override parity check matrix.

If you can accept my changes, please set the ticket to positive review.
Best,
Johan

---
New commits:



---

archive/issue_comments_284105.json:
```json
{
    "body": "<a id='comment:14'></a>Tests pass, documentation compiles and I accept your changes, I set this ticket to positive review.\n\nDavid",
    "created_at": "2016-08-03T13:32:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20835#issuecomment-284105",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

<a id='comment:14'></a>Tests pass, documentation compiles and I accept your changes, I set this ticket to positive review.

David



---

archive/issue_comments_284106.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-08-03T13:32:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20835#issuecomment-284106",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_055870.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-08-07T20:01:35Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/20835",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20835#event-55870"
}
```



---

archive/issue_comments_284107.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-08-07T20:01:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20835#issuecomment-284107",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
