# Issue 20946: update giac spkg

archive/issues_020709.json:
```json
{
    "body": "Update the spkg to upstream 1.2.2-95\n\nThe giac tarball built from spkg-src to put in upstream/ is there:\n\nhttp://webusers.imj-prg.fr/~frederic.han/xcas/sage/giac-1.2.2.95.tar.bz2\n\nSwitch to .bz2 as wished in #18826\n\nadd --disable-ao in spkg-install to avoid libao dependency.\nremove the --disable-gmpxx in spkg-install. The built seems not broken anymore.\n\nupdtate giacpy to 0.6 doctest fix + change of name to giacpy_sage.\nThe tarball to put in upstream is:\nhttp://webusers.imj-prg.fr/~frederic.han/xcas/giacpy/sage/giacpy_sage-0.6.tar.gz\n\nThe modifications about giacpy are there:\nhttps://gitlab.math.univ-paris-diderot.fr/han/giacpy-sage\n\n\nThe 1.2.2.85 version of giac should fix a race condition in icas that could appear during the test suite.\n\n**Keywords:** giac\n\n**Branch/Commit:** [c709c1ee6a931eb906284a038e52acd4b200fcc4](https://github.com/sagemath/sagetrac-mirror/commit/c709c1ee6a931eb906284a038e52acd4b200fcc4)\n\n**Reviewer:** Ralf Stephan\n\n**Author:** Frederic Han\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/20946\n\n",
    "closed_at": "2016-10-21T07:03:41Z",
    "created_at": "2016-07-05T19:02:00Z",
    "labels": [
        "component: packages: optional"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.5",
    "title": "update giac spkg",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20946",
    "user": "https://github.com/frederichan-IMJPRG"
}
```
Update the spkg to upstream 1.2.2-95

The giac tarball built from spkg-src to put in upstream/ is there:

http://webusers.imj-prg.fr/~frederic.han/xcas/sage/giac-1.2.2.95.tar.bz2

Switch to .bz2 as wished in #18826

add --disable-ao in spkg-install to avoid libao dependency.
remove the --disable-gmpxx in spkg-install. The built seems not broken anymore.

updtate giacpy to 0.6 doctest fix + change of name to giacpy_sage.
The tarball to put in upstream is:
http://webusers.imj-prg.fr/~frederic.han/xcas/giacpy/sage/giacpy_sage-0.6.tar.gz

The modifications about giacpy are there:
https://gitlab.math.univ-paris-diderot.fr/han/giacpy-sage


The 1.2.2.85 version of giac should fix a race condition in icas that could appear during the test suite.

**Keywords:** giac

**Branch/Commit:** [c709c1ee6a931eb906284a038e52acd4b200fcc4](https://github.com/sagemath/sagetrac-mirror/commit/c709c1ee6a931eb906284a038e52acd4b200fcc4)

**Reviewer:** Ralf Stephan

**Author:** Frederic Han

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/20946





---

archive/issue_comments_385705.json:
```json
{
    "body": "<a id='comment:1'></a>\nYou're not (yet?) listed [here](https://trac.sagemath.org/wiki#AccountNamesMappedtoRealNames), so hopefully I've not misspelled your name.",
    "created_at": "2016-07-05T20:32:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385705",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:1'></a>
You're not (yet?) listed [here](https://trac.sagemath.org/wiki#AccountNamesMappedtoRealNames), so hopefully I've not misspelled your name.



---

archive/issue_comments_385706.json:
```json
{
    "body": "**Author:** Han Frederic",
    "created_at": "2016-07-05T20:32:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385706",
    "user": "https://github.com/nexttime"
}
```

**Author:** Han Frederic



---

archive/issue_comments_385707.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2016-07-05T20:32:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385707",
    "user": "https://github.com/nexttime"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_385708.json:
```json
{
    "body": "<a id='comment:2'></a>\nReplying to [leif](#comment%3A1):\n> You're not (yet?) listed [here](https://trac.sagemath.org/wiki#AccountNamesMappedtoRealNames), so hopefully I've not misspelled your name.\n\nits done.\n\nI need to test more. Ex:\n\n```\nFailed example:\n[giacpy-0.5.6]     f=1/(5+cos(4*x));f.int(x)\n[giacpy-0.5.6] Expected:\n[giacpy-0.5.6]     1/2/(2*sqrt(6))*(atan(2*tan(4*x/2)/sqrt(6))+pi*floor(4*x/2/pi+1/2))\n[giacpy-0.5.6] Got:\n[giacpy-0.5.6]     1/2/(2*sqrt(6))*(atan((-sqrt(6)*sin(4*x)+2*sin(4*x))/(sqrt(6)*cos(4*x)+sqrt(6)-2*cos(4*x)+2))+4*x/2)\n```",
    "created_at": "2016-07-06T07:31:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385708",
    "user": "https://github.com/frederichan-IMJPRG"
}
```

<a id='comment:2'></a>
Replying to [leif](#comment%3A1):
> You're not (yet?) listed [here](https://trac.sagemath.org/wiki#AccountNamesMappedtoRealNames), so hopefully I've not misspelled your name.

its done.

I need to test more. Ex:

```
Failed example:
[giacpy-0.5.6]     f=1/(5+cos(4*x));f.int(x)
[giacpy-0.5.6] Expected:
[giacpy-0.5.6]     1/2/(2*sqrt(6))*(atan(2*tan(4*x/2)/sqrt(6))+pi*floor(4*x/2/pi+1/2))
[giacpy-0.5.6] Got:
[giacpy-0.5.6]     1/2/(2*sqrt(6))*(atan((-sqrt(6)*sin(4*x)+2*sin(4*x))/(sqrt(6)*cos(4*x)+sqrt(6)-2*cos(4*x)+2))+4*x/2)
```



---

archive/issue_comments_385709.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2016-07-06T07:32:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385709",
    "user": "https://github.com/frederichan-IMJPRG"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_385710.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/600e7a669a2ce8d828dc6f2ea02af7587f80b951\">600e7a6</a></td><td><code>update to giacpy 0.6. start to change the name from giacpy to giacpy_sage</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/adae5f7068a43a03ced5602303a919b9a35c4bae\">adae5f7</a></td><td><code>fixes changes of name for giacpy in src/sage/libs/giac.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/88c2d0a0227bb9d58e079d67810cae3b659938de\">88c2d0a</a></td><td><code>update SPKG.txt</code></td></tr></table>\n",
    "created_at": "2016-07-06T10:10:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385710",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/600e7a669a2ce8d828dc6f2ea02af7587f80b951">600e7a6</a></td><td><code>update to giacpy 0.6. start to change the name from giacpy to giacpy_sage</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/adae5f7068a43a03ced5602303a919b9a35c4bae">adae5f7</a></td><td><code>fixes changes of name for giacpy in src/sage/libs/giac.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/88c2d0a0227bb9d58e079d67810cae3b659938de">88c2d0a</a></td><td><code>update SPKG.txt</code></td></tr></table>




---

archive/issue_comments_385711.json:
```json
{
    "body": "**Commit:** [88c2d0a0227bb9d58e079d67810cae3b659938de](https://github.com/sagemath/sagetrac-mirror/commit/88c2d0a0227bb9d58e079d67810cae3b659938de)",
    "created_at": "2016-07-06T10:10:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385711",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Commit:** [88c2d0a0227bb9d58e079d67810cae3b659938de](https://github.com/sagemath/sagetrac-mirror/commit/88c2d0a0227bb9d58e079d67810cae3b659938de)



---

archive/issue_comments_385712.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -8,3 +8,11 @@\n \n add --disable-ao in spkg-install to avoid libao dependency.\n remove the --disable-gmpxx in spkg-install. The built seems not broken anymore.\n+\n+updtate giacpy to 0.6 doctest fix + change of name to giacpy_sage.\n+The tarball to put in upstream is:\n+http://webusers.imj-prg.fr/~frederic.han/xcas/giacpy/sage/giacpy-0.6.tar.gz\n+\n+The modifications about giacpy are there:\n+https://gitlab.math.univ-paris-diderot.fr/han/giacpy-sage\n+\n``````\n",
    "created_at": "2016-07-06T10:17:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385712",
    "user": "https://github.com/frederichan-IMJPRG"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -8,3 +8,11 @@
 
 add --disable-ao in spkg-install to avoid libao dependency.
 remove the --disable-gmpxx in spkg-install. The built seems not broken anymore.
+
+updtate giacpy to 0.6 doctest fix + change of name to giacpy_sage.
+The tarball to put in upstream is:
+http://webusers.imj-prg.fr/~frederic.han/xcas/giacpy/sage/giacpy-0.6.tar.gz
+
+The modifications about giacpy are there:
+https://gitlab.math.univ-paris-diderot.fr/han/giacpy-sage
+
``````




---

archive/issue_comments_385713.json:
```json
{
    "body": "**Changing commit** from \"[88c2d0a0227bb9d58e079d67810cae3b659938de](https://github.com/sagemath/sagetrac-mirror/commit/88c2d0a0227bb9d58e079d67810cae3b659938de)\" to \"[c660391efb842671620f062bc6acae741dab1db3](https://github.com/sagemath/sagetrac-mirror/commit/c660391efb842671620f062bc6acae741dab1db3)\".",
    "created_at": "2016-07-06T12:54:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385713",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[88c2d0a0227bb9d58e079d67810cae3b659938de](https://github.com/sagemath/sagetrac-mirror/commit/88c2d0a0227bb9d58e079d67810cae3b659938de)" to "[c660391efb842671620f062bc6acae741dab1db3](https://github.com/sagemath/sagetrac-mirror/commit/c660391efb842671620f062bc6acae741dab1db3)".



---

archive/issue_comments_385714.json:
```json
{
    "body": "<a id='comment:6'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c660391efb842671620f062bc6acae741dab1db3\">c660391</a></td><td><code>change the name of the spkg giacpy to giacpy_sage</code></td></tr></table>\n",
    "created_at": "2016-07-06T12:54:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385714",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c660391efb842671620f062bc6acae741dab1db3">c660391</a></td><td><code>change the name of the spkg giacpy to giacpy_sage</code></td></tr></table>




---

archive/issue_comments_385715.json:
```json
{
    "body": "<a id='comment:7'></a>\nComment 2 is not a problem. This change was done on purpose in giac, both answer are correct. giacpy-0.6 doctests can deal with both answers.\n\nI am waiting a bit more because I have found a bug in 1.2.2.67 \nhttp://xcas.e.ujf-grenoble.fr/XCAS/viewtopic.php?f=3&t=1731",
    "created_at": "2016-07-07T11:25:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385715",
    "user": "https://github.com/frederichan-IMJPRG"
}
```

<a id='comment:7'></a>
Comment 2 is not a problem. This change was done on purpose in giac, both answer are correct. giacpy-0.6 doctests can deal with both answers.

I am waiting a bit more because I have found a bug in 1.2.2.67 
http://xcas.e.ujf-grenoble.fr/XCAS/viewtopic.php?f=3&t=1731



---

archive/issue_comments_385716.json:
```json
{
    "body": "<a id='comment:8'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eb2591b22c809a5aea4fbed08aadfb110ca31e11\">eb2591b</a></td><td><code>update to giac-1.2.2-69</code></td></tr></table>\n",
    "created_at": "2016-07-07T11:58:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385716",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eb2591b22c809a5aea4fbed08aadfb110ca31e11">eb2591b</a></td><td><code>update to giac-1.2.2-69</code></td></tr></table>




---

archive/issue_comments_385717.json:
```json
{
    "body": "**Changing commit** from \"[c660391efb842671620f062bc6acae741dab1db3](https://github.com/sagemath/sagetrac-mirror/commit/c660391efb842671620f062bc6acae741dab1db3)\" to \"[eb2591b22c809a5aea4fbed08aadfb110ca31e11](https://github.com/sagemath/sagetrac-mirror/commit/eb2591b22c809a5aea4fbed08aadfb110ca31e11)\".",
    "created_at": "2016-07-07T11:58:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385717",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[c660391efb842671620f062bc6acae741dab1db3](https://github.com/sagemath/sagetrac-mirror/commit/c660391efb842671620f062bc6acae741dab1db3)" to "[eb2591b22c809a5aea4fbed08aadfb110ca31e11](https://github.com/sagemath/sagetrac-mirror/commit/eb2591b22c809a5aea4fbed08aadfb110ca31e11)".



---

archive/issue_comments_385718.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,8 +1,8 @@\n-Update the spkg to upstream 1.2.2-67\n+Update the spkg to upstream 1.2.2-69\n \n The giac tarball built from spkg-src to put in upstream/ is there:\n \n-http://webusers.imj-prg.fr/~frederic.han/xcas/sage/giac-1.2.2.67.tar.bz2\n+http://webusers.imj-prg.fr/~frederic.han/xcas/sage/giac-1.2.2.69.tar.bz2\n \n Switch to .bz2 as wished in #18826\n \n``````\n",
    "created_at": "2016-07-07T12:00:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385718",
    "user": "https://github.com/frederichan-IMJPRG"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,8 +1,8 @@
-Update the spkg to upstream 1.2.2-67
+Update the spkg to upstream 1.2.2-69
 
 The giac tarball built from spkg-src to put in upstream/ is there:
 
-http://webusers.imj-prg.fr/~frederic.han/xcas/sage/giac-1.2.2.67.tar.bz2
+http://webusers.imj-prg.fr/~frederic.han/xcas/sage/giac-1.2.2.69.tar.bz2
 
 Switch to .bz2 as wished in #18826
 
``````




---

archive/issue_comments_385719.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2016-07-07T12:47:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385719",
    "user": "https://github.com/frederichan-IMJPRG"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_385720.json:
```json
{
    "body": "<a id='comment:11'></a>\nDarn, I have to update my ebuild for Gentoo. Since we have a `spkg-src` already should i fix it to get `lapack` in sage like I did in sage-on-gentoo or should we wait a bit?\nI would also prefer if the tarball and the folder in which giacpy_sage unfold were matching the new package name.",
    "created_at": "2016-07-07T21:56:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385720",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:11'></a>
Darn, I have to update my ebuild for Gentoo. Since we have a `spkg-src` already should i fix it to get `lapack` in sage like I did in sage-on-gentoo or should we wait a bit?
I would also prefer if the tarball and the folder in which giacpy_sage unfold were matching the new package name.



---

archive/issue_comments_385721.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -11,7 +11,7 @@\n \n updtate giacpy to 0.6 doctest fix + change of name to giacpy_sage.\n The tarball to put in upstream is:\n-http://webusers.imj-prg.fr/~frederic.han/xcas/giacpy/sage/giacpy-0.6.tar.gz\n+http://webusers.imj-prg.fr/~frederic.han/xcas/giacpy/sage/giacpy_sage-0.6.tar.gz\n \n The modifications about giacpy are there:\n https://gitlab.math.univ-paris-diderot.fr/han/giacpy-sage\n``````\n",
    "created_at": "2016-07-08T05:38:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385721",
    "user": "https://github.com/frederichan-IMJPRG"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -11,7 +11,7 @@
 
 updtate giacpy to 0.6 doctest fix + change of name to giacpy_sage.
 The tarball to put in upstream is:
-http://webusers.imj-prg.fr/~frederic.han/xcas/giacpy/sage/giacpy-0.6.tar.gz
+http://webusers.imj-prg.fr/~frederic.han/xcas/giacpy/sage/giacpy_sage-0.6.tar.gz
 
 The modifications about giacpy are there:
 https://gitlab.math.univ-paris-diderot.fr/han/giacpy-sage
``````




---

archive/issue_comments_385722.json:
```json
{
    "body": "<a id='comment:13'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ddfde459fae8fdce2bfaca37c269edb0f480e5f7\">ddfde45</a></td><td><code>change the tarball name of giacpy to giacpy_sage</code></td></tr></table>\n",
    "created_at": "2016-07-08T05:40:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385722",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ddfde459fae8fdce2bfaca37c269edb0f480e5f7">ddfde45</a></td><td><code>change the tarball name of giacpy to giacpy_sage</code></td></tr></table>




---

archive/issue_comments_385723.json:
```json
{
    "body": "**Changing commit** from \"[eb2591b22c809a5aea4fbed08aadfb110ca31e11](https://github.com/sagemath/sagetrac-mirror/commit/eb2591b22c809a5aea4fbed08aadfb110ca31e11)\" to \"[ddfde459fae8fdce2bfaca37c269edb0f480e5f7](https://github.com/sagemath/sagetrac-mirror/commit/ddfde459fae8fdce2bfaca37c269edb0f480e5f7)\".",
    "created_at": "2016-07-08T05:40:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385723",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[eb2591b22c809a5aea4fbed08aadfb110ca31e11](https://github.com/sagemath/sagetrac-mirror/commit/eb2591b22c809a5aea4fbed08aadfb110ca31e11)" to "[ddfde459fae8fdce2bfaca37c269edb0f480e5f7](https://github.com/sagemath/sagetrac-mirror/commit/ddfde459fae8fdce2bfaca37c269edb0f480e5f7)".



---

archive/issue_comments_385724.json:
```json
{
    "body": "<a id='comment:14'></a>\nReplying to [fbissey](#comment%3A11):\n> Darn, I have to update my ebuild for Gentoo. Since we have a `spkg-src` already should i fix it to get `lapack` in sage like I did in sage-on-gentoo or should we wait a bit?\n\nFeel free to modify as you want, I have put it on a public branch for this. I have no news from parisse about a lapack change except the discussion on sage-devel.\n> I would also prefer if the tarball and the folder in which giacpy_sage unfold were matching the new package name.\n\nshould be done now",
    "created_at": "2016-07-08T06:02:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385724",
    "user": "https://github.com/frederichan-IMJPRG"
}
```

<a id='comment:14'></a>
Replying to [fbissey](#comment%3A11):
> Darn, I have to update my ebuild for Gentoo. Since we have a `spkg-src` already should i fix it to get `lapack` in sage like I did in sage-on-gentoo or should we wait a bit?

Feel free to modify as you want, I have put it on a public branch for this. I have no news from parisse about a lapack change except the discussion on sage-devel.
> I would also prefer if the tarball and the folder in which giacpy_sage unfold were matching the new package name.

should be done now



---

archive/issue_comments_385725.json:
```json
{
    "body": "<a id='comment:15'></a>\nReplying to [frederichan](#comment%3A14):\n> Replying to [fbissey](#comment%3A11):\n> > Darn, I have to update my ebuild for Gentoo. Since we have a `spkg-src` already should i fix it to get `lapack` in sage like I did in sage-on-gentoo or should we wait a bit?\n\n> Feel free to modify as you want, I have put it on a public branch for this. I have no news from parisse about a lapack change except the discussion on sage-devel.\n\nYes I can do a simple thing that will work in sage as it works on gentoo since we have .pc files for blas/lapack. Probably won't work for parisse.\n\n> > I would also prefer if the tarball and the folder in which giacpy_sage unfold were matching the new package name.\n\n> should be done now\n\nThank you.",
    "created_at": "2016-07-08T08:46:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385725",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:15'></a>
Replying to [frederichan](#comment%3A14):
> Replying to [fbissey](#comment%3A11):
> > Darn, I have to update my ebuild for Gentoo. Since we have a `spkg-src` already should i fix it to get `lapack` in sage like I did in sage-on-gentoo or should we wait a bit?

> Feel free to modify as you want, I have put it on a public branch for this. I have no news from parisse about a lapack change except the discussion on sage-devel.

Yes I can do a simple thing that will work in sage as it works on gentoo since we have .pc files for blas/lapack. Probably won't work for parisse.

> > I would also prefer if the tarball and the folder in which giacpy_sage unfold were matching the new package name.

> should be done now

Thank you.



---

archive/issue_comments_385726.json:
```json
{
    "body": "<a id='comment:16'></a>\nHum I am unwilling to touch the `spkg-src` while I don't completely understand it. I would regenerate `Makefile.in` and co and probably wreak havoc in the current setup. Better ship it as it is now. If we really want lapack support we'll work it out later. \n\nActually the current configuration will work on OS X I think and it is ok not to disable it as the runtime involved comes with the OS.\n\nWhat is the last bit of `spkg-inst` supposed to do?\n\n```\n# create the script_subdirectory for the pexpect giac interface by running a trivial instruction\nsage -c \"giac(1)\"\nif [ $? -ne 0 ]; then\n    echo >&2 \"Error running the pexpect interface of giac\"\n    exit 1\nfi\n```\nWhere is the directory supposed to be created? I cannot see anything new when I run `./sage -p giac` with this branch. I was, possibly, expecting something in `local/share/sage/ext` but found nothing there.\nRunning `./sage -c \"giac(1)\"` manually afterwards didn't have an impact either.",
    "created_at": "2016-07-11T00:55:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385726",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:16'></a>
Hum I am unwilling to touch the `spkg-src` while I don't completely understand it. I would regenerate `Makefile.in` and co and probably wreak havoc in the current setup. Better ship it as it is now. If we really want lapack support we'll work it out later. 

Actually the current configuration will work on OS X I think and it is ok not to disable it as the runtime involved comes with the OS.

What is the last bit of `spkg-inst` supposed to do?

```
# create the script_subdirectory for the pexpect giac interface by running a trivial instruction
sage -c "giac(1)"
if [ $? -ne 0 ]; then
    echo >&2 "Error running the pexpect interface of giac"
    exit 1
fi
```
Where is the directory supposed to be created? I cannot see anything new when I run `./sage -p giac` with this branch. I was, possibly, expecting something in `local/share/sage/ext` but found nothing there.
Running `./sage -c "giac(1)"` manually afterwards didn't have an impact either.



---

archive/issue_comments_385727.json:
```json
{
    "body": "<a id='comment:17'></a>\nReplying to [fbissey](#comment%3A16):\n> Hum I am unwilling to touch the `spkg-src` while I don't completely understand it. I would regenerate `Makefile.in` and co and probably wreak havoc in the current setup. Better ship it as it is now. If we really want lapack support we'll work it out later. \n> \n> Actually the current configuration will work on OS X I think and it is ok not to disable it as the runtime involved comes with the OS.\n> \n> What is the last bit of `spkg-inst` supposed to do?\n> \n> ```\n> # create the script_subdirectory for the pexpect giac interface by running a trivial instruction\n> sage -c \"giac(1)\"\n> if [ $? -ne 0 ]; then\n>     echo >&2 \"Error running the pexpect interface of giac\"\n>     exit 1\n> fi\n> ```\n> Where is the directory supposed to be created? I cannot see anything new when I run `./sage -p giac` with this branch. I was, possibly, expecting something in `local/share/sage/ext` but found nothing there.\n> Running `./sage -c \"giac(1)\"` manually afterwards didn't have an impact either.\n\n\nIndeed It looks obsolete. may by since #17044. Moreover I think that it is the only dependency of SAGE_RUNTIMES cf #19672 comment 6 and jeroen answer. I am trying to remove both.",
    "created_at": "2016-07-11T09:20:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385727",
    "user": "https://github.com/frederichan-IMJPRG"
}
```

<a id='comment:17'></a>
Replying to [fbissey](#comment%3A16):
> Hum I am unwilling to touch the `spkg-src` while I don't completely understand it. I would regenerate `Makefile.in` and co and probably wreak havoc in the current setup. Better ship it as it is now. If we really want lapack support we'll work it out later. 
> 
> Actually the current configuration will work on OS X I think and it is ok not to disable it as the runtime involved comes with the OS.
> 
> What is the last bit of `spkg-inst` supposed to do?
> 
> ```
> # create the script_subdirectory for the pexpect giac interface by running a trivial instruction
> sage -c "giac(1)"
> if [ $? -ne 0 ]; then
>     echo >&2 "Error running the pexpect interface of giac"
>     exit 1
> fi
> ```
> Where is the directory supposed to be created? I cannot see anything new when I run `./sage -p giac` with this branch. I was, possibly, expecting something in `local/share/sage/ext` but found nothing there.
> Running `./sage -c "giac(1)"` manually afterwards didn't have an impact either.


Indeed It looks obsolete. may by since #17044. Moreover I think that it is the only dependency of SAGE_RUNTIMES cf #19672 comment 6 and jeroen answer. I am trying to remove both.



---

archive/issue_comments_385728.json:
```json
{
    "body": "**Changing commit** from \"[ddfde459fae8fdce2bfaca37c269edb0f480e5f7](https://github.com/sagemath/sagetrac-mirror/commit/ddfde459fae8fdce2bfaca37c269edb0f480e5f7)\" to \"[95c7d7cb1453cea41216cafccf62885e476399ab](https://github.com/sagemath/sagetrac-mirror/commit/95c7d7cb1453cea41216cafccf62885e476399ab)\".",
    "created_at": "2016-07-11T11:33:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385728",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[ddfde459fae8fdce2bfaca37c269edb0f480e5f7](https://github.com/sagemath/sagetrac-mirror/commit/ddfde459fae8fdce2bfaca37c269edb0f480e5f7)" to "[95c7d7cb1453cea41216cafccf62885e476399ab](https://github.com/sagemath/sagetrac-mirror/commit/95c7d7cb1453cea41216cafccf62885e476399ab)".



---

archive/issue_comments_385729.json:
```json
{
    "body": "<a id='comment:18'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/912a9ce969989289eae1addbe1a7938557b5d2d9\">912a9ce</a></td><td><code>Merge branch 'develop' of git://trac.sagemath.org/sage into giacupdate</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/82bbbb40a211a2a6be40489f0cb88159a4ca2ef7\">82bbbb4</a></td><td><code>Remove built of script_subdirectory for the pexpect interface. (Obsolete since #17044)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/95c7d7cb1453cea41216cafccf62885e476399ab\">95c7d7c</a></td><td><code>remove SAGE_RUNTIME dependencies because only sage -c \"giac(1)\" in spkg_install needed it. (Cf #19672)</code></td></tr></table>\n",
    "created_at": "2016-07-11T11:33:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385729",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/912a9ce969989289eae1addbe1a7938557b5d2d9">912a9ce</a></td><td><code>Merge branch 'develop' of git://trac.sagemath.org/sage into giacupdate</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/82bbbb40a211a2a6be40489f0cb88159a4ca2ef7">82bbbb4</a></td><td><code>Remove built of script_subdirectory for the pexpect interface. (Obsolete since #17044)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/95c7d7cb1453cea41216cafccf62885e476399ab">95c7d7c</a></td><td><code>remove SAGE_RUNTIME dependencies because only sage -c "giac(1)" in spkg_install needed it. (Cf #19672)</code></td></tr></table>




---

archive/issue_comments_385730.json:
```json
{
    "body": "**Changing commit** from \"[95c7d7cb1453cea41216cafccf62885e476399ab](https://github.com/sagemath/sagetrac-mirror/commit/95c7d7cb1453cea41216cafccf62885e476399ab)\" to \"[7a407a526acbe448c4fd62f1e1931775b939d478](https://github.com/sagemath/sagetrac-mirror/commit/7a407a526acbe448c4fd62f1e1931775b939d478)\".",
    "created_at": "2016-07-11T12:21:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385730",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[95c7d7cb1453cea41216cafccf62885e476399ab](https://github.com/sagemath/sagetrac-mirror/commit/95c7d7cb1453cea41216cafccf62885e476399ab)" to "[7a407a526acbe448c4fd62f1e1931775b939d478](https://github.com/sagemath/sagetrac-mirror/commit/7a407a526acbe448c4fd62f1e1931775b939d478)".



---

archive/issue_comments_385731.json:
```json
{
    "body": "<a id='comment:19'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7a407a526acbe448c4fd62f1e1931775b939d478\">7a407a5</a></td><td><code>add SAGERUNTIME  in giacpy_sage dependencies</code></td></tr></table>\n",
    "created_at": "2016-07-11T12:21:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385731",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7a407a526acbe448c4fd62f1e1931775b939d478">7a407a5</a></td><td><code>add SAGERUNTIME  in giacpy_sage dependencies</code></td></tr></table>




---

archive/issue_comments_385732.json:
```json
{
    "body": "**Changing author** from \"Han Frederic\" to \"Frederic Han\".",
    "created_at": "2016-07-12T08:14:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385732",
    "user": "https://github.com/fchapoton"
}
```

**Changing author** from "Han Frederic" to "Frederic Han".



---

archive/issue_comments_385733.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2016-09-14T10:02:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385733",
    "user": "https://github.com/jdemeyer"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_385734.json:
```json
{
    "body": "<a id='comment:21'></a>\nThe branch no longer applies.",
    "created_at": "2016-09-14T10:02:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385734",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:21'></a>
The branch no longer applies.



---

archive/issue_comments_385735.json:
```json
{
    "body": "**Changing commit** from \"[7a407a526acbe448c4fd62f1e1931775b939d478](https://github.com/sagemath/sagetrac-mirror/commit/7a407a526acbe448c4fd62f1e1931775b939d478)\" to \"[d2ae1dd1b095cdb20db5c35708190431537c92c1](https://github.com/sagemath/sagetrac-mirror/commit/d2ae1dd1b095cdb20db5c35708190431537c92c1)\".",
    "created_at": "2016-09-14T13:55:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385735",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[7a407a526acbe448c4fd62f1e1931775b939d478](https://github.com/sagemath/sagetrac-mirror/commit/7a407a526acbe448c4fd62f1e1931775b939d478)" to "[d2ae1dd1b095cdb20db5c35708190431537c92c1](https://github.com/sagemath/sagetrac-mirror/commit/d2ae1dd1b095cdb20db5c35708190431537c92c1)".



---

archive/issue_comments_385736.json:
```json
{
    "body": "<a id='comment:22'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2805398682f9e5651e494160e63262db12671b74\">2805398</a></td><td><code>Merge branch 'develop' into public/giacupdate</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d2ae1dd1b095cdb20db5c35708190431537c92c1\">d2ae1dd</a></td><td><code>update giac to 1.2.2.81. adapt the cSolve patch</code></td></tr></table>\n",
    "created_at": "2016-09-14T13:55:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385736",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2805398682f9e5651e494160e63262db12671b74">2805398</a></td><td><code>Merge branch 'develop' into public/giacupdate</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d2ae1dd1b095cdb20db5c35708190431537c92c1">d2ae1dd</a></td><td><code>update giac to 1.2.2.81. adapt the cSolve patch</code></td></tr></table>




---

archive/issue_comments_385737.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,8 +1,8 @@\n-Update the spkg to upstream 1.2.2-69\n+Update the spkg to upstream 1.2.2-81\n \n The giac tarball built from spkg-src to put in upstream/ is there:\n \n-http://webusers.imj-prg.fr/~frederic.han/xcas/sage/giac-1.2.2.69.tar.bz2\n+http://webusers.imj-prg.fr/~frederic.han/xcas/sage/giac-1.2.2.81.tar.bz2\n \n Switch to .bz2 as wished in #18826\n \n``````\n",
    "created_at": "2016-09-14T13:57:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385737",
    "user": "https://github.com/frederichan-IMJPRG"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,8 +1,8 @@
-Update the spkg to upstream 1.2.2-69
+Update the spkg to upstream 1.2.2-81
 
 The giac tarball built from spkg-src to put in upstream/ is there:
 
-http://webusers.imj-prg.fr/~frederic.han/xcas/sage/giac-1.2.2.69.tar.bz2
+http://webusers.imj-prg.fr/~frederic.han/xcas/sage/giac-1.2.2.81.tar.bz2
 
 Switch to .bz2 as wished in #18826
 
``````




---

archive/issue_comments_385738.json:
```json
{
    "body": "**Changing commit** from \"[d2ae1dd1b095cdb20db5c35708190431537c92c1](https://github.com/sagemath/sagetrac-mirror/commit/d2ae1dd1b095cdb20db5c35708190431537c92c1)\" to \"[baa4eeb49aa7afb3a8bda950dd85108e2d963554](https://github.com/sagemath/sagetrac-mirror/commit/baa4eeb49aa7afb3a8bda950dd85108e2d963554)\".",
    "created_at": "2016-09-22T18:34:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385738",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[d2ae1dd1b095cdb20db5c35708190431537c92c1](https://github.com/sagemath/sagetrac-mirror/commit/d2ae1dd1b095cdb20db5c35708190431537c92c1)" to "[baa4eeb49aa7afb3a8bda950dd85108e2d963554](https://github.com/sagemath/sagetrac-mirror/commit/baa4eeb49aa7afb3a8bda950dd85108e2d963554)".



---

archive/issue_comments_385739.json:
```json
{
    "body": "<a id='comment:24'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/baa4eeb49aa7afb3a8bda950dd85108e2d963554\">baa4eeb</a></td><td><code>update to giac-1.2.2.85. This version fix a race condition with icas and jordan that could appear with the test suite</code></td></tr></table>\n",
    "created_at": "2016-09-22T18:34:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385739",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/baa4eeb49aa7afb3a8bda950dd85108e2d963554">baa4eeb</a></td><td><code>update to giac-1.2.2.85. This version fix a race condition with icas and jordan that could appear with the test suite</code></td></tr></table>




---

archive/issue_comments_385740.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,8 +1,8 @@\n-Update the spkg to upstream 1.2.2-81\n+Update the spkg to upstream 1.2.2-85\n \n The giac tarball built from spkg-src to put in upstream/ is there:\n \n-http://webusers.imj-prg.fr/~frederic.han/xcas/sage/giac-1.2.2.81.tar.bz2\n+http://webusers.imj-prg.fr/~frederic.han/xcas/sage/giac-1.2.2.85.tar.bz2\n \n Switch to .bz2 as wished in #18826\n \n@@ -16,3 +16,5 @@\n The modifications about giacpy are there:\n https://gitlab.math.univ-paris-diderot.fr/han/giacpy-sage\n \n+\n+The 1.2.2.85 version of giac should fix a race condition in icas that could appear during the test suite.\n``````\n",
    "created_at": "2016-09-22T18:45:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385740",
    "user": "https://github.com/frederichan-IMJPRG"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,8 +1,8 @@
-Update the spkg to upstream 1.2.2-81
+Update the spkg to upstream 1.2.2-85
 
 The giac tarball built from spkg-src to put in upstream/ is there:
 
-http://webusers.imj-prg.fr/~frederic.han/xcas/sage/giac-1.2.2.81.tar.bz2
+http://webusers.imj-prg.fr/~frederic.han/xcas/sage/giac-1.2.2.85.tar.bz2
 
 Switch to .bz2 as wished in #18826
 
@@ -16,3 +16,5 @@
 The modifications about giacpy are there:
 https://gitlab.math.univ-paris-diderot.fr/han/giacpy-sage
 
+
+The 1.2.2.85 version of giac should fix a race condition in icas that could appear during the test suite.
``````




---

archive/issue_comments_385741.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2016-09-22T18:45:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385741",
    "user": "https://github.com/frederichan-IMJPRG"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_385742.json:
```json
{
    "body": "<a id='comment:27'></a>\nPasses `make ptestlong` with `optional=atlas,ccache,giac,git_trac,mpir,python2,sage` on a system where the old version was installed. I don't think there is something amiss in the package updates. Anyway it's an optional package and an improvement so I'll set positive.",
    "created_at": "2016-09-29T14:34:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385742",
    "user": "https://github.com/rwst"
}
```

<a id='comment:27'></a>
Passes `make ptestlong` with `optional=atlas,ccache,giac,git_trac,mpir,python2,sage` on a system where the old version was installed. I don't think there is something amiss in the package updates. Anyway it's an optional package and an improvement so I'll set positive.



---

archive/issue_comments_385743.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2016-09-29T14:34:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385743",
    "user": "https://github.com/rwst"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_385744.json:
```json
{
    "body": "**Reviewer:** Ralf Stephan",
    "created_at": "2016-09-29T14:34:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385744",
    "user": "https://github.com/rwst"
}
```

**Reviewer:** Ralf Stephan



---

archive/issue_comments_385745.json:
```json
{
    "body": "**Changing status** from positive_review to needs_work.",
    "created_at": "2016-09-30T11:28:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385745",
    "user": "https://github.com/jdemeyer"
}
```

**Changing status** from positive_review to needs_work.



---

archive/issue_comments_385746.json:
```json
{
    "body": "<a id='comment:28'></a>\nThis conflicts with blocker ticket #21441, please rebase on top of that.",
    "created_at": "2016-09-30T11:28:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385746",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:28'></a>
This conflicts with blocker ticket #21441, please rebase on top of that.



---

archive/issue_comments_385747.json:
```json
{
    "body": "**Dependencies:** #21441",
    "created_at": "2016-09-30T11:32:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385747",
    "user": "https://github.com/jdemeyer"
}
```

**Dependencies:** #21441



---

archive/issue_comments_385748.json:
```json
{
    "body": "<a id='comment:30'></a>\n**Branch pushed to git repo; I updated commit sha1.** **Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bb613fda31af74c9f5f6dff8331002b725dd0c37\">bb613fd</a></td><td><code>update SPKG.txt</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0bf00dc85dfec3d280d810af052d9d7e87f563dc\">0bf00dc</a></td><td><code>change the name of the spkg giacpy to giacpy_sage</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a6418e4197310c27ff037daf669eef499b22810b\">a6418e4</a></td><td><code>update to giac-1.2.2-69</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d601e2ba7a9f1c7cab90ce5790466bf935f6d861\">d601e2b</a></td><td><code>change the tarball name of giacpy to giacpy_sage</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6dcce70c2cf9a11ac5109127281e22fcce52ea86\">6dcce70</a></td><td><code>Remove built of script_subdirectory for the pexpect interface. (Obsolete since #17044)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f081cec25cbcd4c79bb1c4e276baa1b650135948\">f081cec</a></td><td><code>remove SAGE_RUNTIME dependencies because only sage -c \"giac(1)\" in spkg_install needed it. (Cf #19672)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eb182978551f88bfdafab99082b79f25afc3b302\">eb18297</a></td><td><code>add SAGERUNTIME  in giacpy_sage dependencies</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1c01bc71a45f3d83f6a3b437aa4702ac20486778\">1c01bc7</a></td><td><code>update giac to 1.2.2.81. adapt the cSolve patch</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d80f7a8990559a091e0d7f9acce76b17601e1a1a\">d80f7a8</a></td><td><code>update to giac-1.2.2.85. This version fix a race condition with icas and jordan that could appear with the test suite</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a12a3ac420483b0a1d607e76985f743ed94a5bd0\">a12a3ac</a></td><td><code>Merge branch 'public/giacupdate' of git://trac.sagemath.org/sage into giacupdate</code></td></tr></table>\n",
    "created_at": "2016-10-01T07:33:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385748",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:30'></a>
**Branch pushed to git repo; I updated commit sha1.** **Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bb613fda31af74c9f5f6dff8331002b725dd0c37">bb613fd</a></td><td><code>update SPKG.txt</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0bf00dc85dfec3d280d810af052d9d7e87f563dc">0bf00dc</a></td><td><code>change the name of the spkg giacpy to giacpy_sage</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a6418e4197310c27ff037daf669eef499b22810b">a6418e4</a></td><td><code>update to giac-1.2.2-69</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d601e2ba7a9f1c7cab90ce5790466bf935f6d861">d601e2b</a></td><td><code>change the tarball name of giacpy to giacpy_sage</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6dcce70c2cf9a11ac5109127281e22fcce52ea86">6dcce70</a></td><td><code>Remove built of script_subdirectory for the pexpect interface. (Obsolete since #17044)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f081cec25cbcd4c79bb1c4e276baa1b650135948">f081cec</a></td><td><code>remove SAGE_RUNTIME dependencies because only sage -c "giac(1)" in spkg_install needed it. (Cf #19672)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eb182978551f88bfdafab99082b79f25afc3b302">eb18297</a></td><td><code>add SAGERUNTIME  in giacpy_sage dependencies</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1c01bc71a45f3d83f6a3b437aa4702ac20486778">1c01bc7</a></td><td><code>update giac to 1.2.2.81. adapt the cSolve patch</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d80f7a8990559a091e0d7f9acce76b17601e1a1a">d80f7a8</a></td><td><code>update to giac-1.2.2.85. This version fix a race condition with icas and jordan that could appear with the test suite</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a12a3ac420483b0a1d607e76985f743ed94a5bd0">a12a3ac</a></td><td><code>Merge branch 'public/giacupdate' of git://trac.sagemath.org/sage into giacupdate</code></td></tr></table>




---

archive/issue_comments_385749.json:
```json
{
    "body": "**Changing commit** from \"[baa4eeb49aa7afb3a8bda950dd85108e2d963554](https://github.com/sagemath/sagetrac-mirror/commit/baa4eeb49aa7afb3a8bda950dd85108e2d963554)\" to \"[a12a3ac420483b0a1d607e76985f743ed94a5bd0](https://github.com/sagemath/sagetrac-mirror/commit/a12a3ac420483b0a1d607e76985f743ed94a5bd0)\".",
    "created_at": "2016-10-01T07:33:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385749",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[baa4eeb49aa7afb3a8bda950dd85108e2d963554](https://github.com/sagemath/sagetrac-mirror/commit/baa4eeb49aa7afb3a8bda950dd85108e2d963554)" to "[a12a3ac420483b0a1d607e76985f743ed94a5bd0](https://github.com/sagemath/sagetrac-mirror/commit/a12a3ac420483b0a1d607e76985f743ed94a5bd0)".



---

archive/issue_comments_385750.json:
```json
{
    "body": "<a id='comment:31'></a>\nSo I have rebased on u/jdemeyer/sage-pip-install",
    "created_at": "2016-10-01T22:57:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385750",
    "user": "https://github.com/frederichan-IMJPRG"
}
```

<a id='comment:31'></a>
So I have rebased on u/jdemeyer/sage-pip-install



---

archive/issue_comments_385751.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2016-10-01T22:57:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385751",
    "user": "https://github.com/frederichan-IMJPRG"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_385752.json:
```json
{
    "body": "**Changing commit** from \"[a12a3ac420483b0a1d607e76985f743ed94a5bd0](https://github.com/sagemath/sagetrac-mirror/commit/a12a3ac420483b0a1d607e76985f743ed94a5bd0)\" to \"[c709c1ee6a931eb906284a038e52acd4b200fcc4](https://github.com/sagemath/sagetrac-mirror/commit/c709c1ee6a931eb906284a038e52acd4b200fcc4)\".",
    "created_at": "2016-10-19T14:04:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385752",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[a12a3ac420483b0a1d607e76985f743ed94a5bd0](https://github.com/sagemath/sagetrac-mirror/commit/a12a3ac420483b0a1d607e76985f743ed94a5bd0)" to "[c709c1ee6a931eb906284a038e52acd4b200fcc4](https://github.com/sagemath/sagetrac-mirror/commit/c709c1ee6a931eb906284a038e52acd4b200fcc4)".



---

archive/issue_comments_385753.json:
```json
{
    "body": "<a id='comment:32'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2c125a8f9fdd02fe311e54a87269f44a0a3f4ca1\">2c125a8</a></td><td><code>Merge branch 'master' of git://trac.sagemath.org/sage into giacupdatev2</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c709c1ee6a931eb906284a038e52acd4b200fcc4\">c709c1e</a></td><td><code>update to giac 1.2.2-95. bugfix version. Ex: (-1)^(2/7)</code></td></tr></table>\n",
    "created_at": "2016-10-19T14:04:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385753",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:32'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2c125a8f9fdd02fe311e54a87269f44a0a3f4ca1">2c125a8</a></td><td><code>Merge branch 'master' of git://trac.sagemath.org/sage into giacupdatev2</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c709c1ee6a931eb906284a038e52acd4b200fcc4">c709c1e</a></td><td><code>update to giac 1.2.2-95. bugfix version. Ex: (-1)^(2/7)</code></td></tr></table>




---

archive/issue_comments_385754.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,8 +1,8 @@\n-Update the spkg to upstream 1.2.2-85\n+Update the spkg to upstream 1.2.2-95\n \n The giac tarball built from spkg-src to put in upstream/ is there:\n \n-http://webusers.imj-prg.fr/~frederic.han/xcas/sage/giac-1.2.2.85.tar.bz2\n+http://webusers.imj-prg.fr/~frederic.han/xcas/sage/giac-1.2.2.95.tar.bz2\n \n Switch to .bz2 as wished in #18826\n \n``````\n",
    "created_at": "2016-10-19T14:09:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385754",
    "user": "https://github.com/frederichan-IMJPRG"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,8 +1,8 @@
-Update the spkg to upstream 1.2.2-85
+Update the spkg to upstream 1.2.2-95
 
 The giac tarball built from spkg-src to put in upstream/ is there:
 
-http://webusers.imj-prg.fr/~frederic.han/xcas/sage/giac-1.2.2.85.tar.bz2
+http://webusers.imj-prg.fr/~frederic.han/xcas/sage/giac-1.2.2.95.tar.bz2
 
 Switch to .bz2 as wished in #18826
 
``````




---

archive/issue_events_063760.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2016-10-20T06:32:05Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "milestone": "sage-7.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20946#event-63760"
}
```



---

archive/issue_comments_385755.json:
```json
{
    "body": "**Changing dependencies** from \"#21441\" to \"\".",
    "created_at": "2016-10-20T06:32:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385755",
    "user": "https://github.com/kiwifb"
}
```

**Changing dependencies** from "#21441" to "".



---

archive/issue_comments_385756.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2016-10-20T06:32:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385756",
    "user": "https://github.com/kiwifb"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_385757.json:
```json
{
    "body": "<a id='comment:34'></a>\nI am not sure why this is not back to positive review. Let's try again.",
    "created_at": "2016-10-20T06:32:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385757",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:34'></a>
I am not sure why this is not back to positive review. Let's try again.



---

archive/issue_comments_385758.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2016-10-21T07:03:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385758",
    "user": "https://github.com/vbraun"
}
```

**Resolution:** fixed



---

archive/issue_events_063761.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-10-21T07:03:41Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20946#event-63761"
}
```



---

archive/issue_comments_385759.json:
```json
{
    "body": "**Changing branch** from \"[public/giacupdate](https://github.com/sagemath/sagetrac-mirror/tree/public/giacupdate)\" to \"[c709c1ee6a931eb906284a038e52acd4b200fcc4](https://github.com/sagemath/sagetrac-mirror/commit/c709c1ee6a931eb906284a038e52acd4b200fcc4)\".",
    "created_at": "2016-10-21T07:03:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20946#issuecomment-385759",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[public/giacupdate](https://github.com/sagemath/sagetrac-mirror/tree/public/giacupdate)" to "[c709c1ee6a931eb906284a038e52acd4b200fcc4](https://github.com/sagemath/sagetrac-mirror/commit/c709c1ee6a931eb906284a038e52acd4b200fcc4)".
