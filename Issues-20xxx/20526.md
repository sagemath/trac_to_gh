# Issue 20526: A benchmarking tool for linear codes

archive/issues_020289.json:
```json
{
    "assignees": [],
    "body": "This ticket proposes a tool to easily run experiments on linear codes (encoding, decoding...), gather data and process it.\n\nCC:  @johanrosenkilde @ClementPernet\n\nComponent: **coding theory**\n\nBranch/Commit: **[u/dlucas/benchmarking_tool](https://github.com/sagemath/sagetrac-mirror/tree/u/dlucas/benchmarking_tool) @ [`fe0b956`](https://github.com/sagemath/sagetrac-mirror/commit/fe0b956386ad3fc684e5ae306254fb814fdc76e5)**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/20526_\n\n",
    "created_at": "2016-05-01T07:38:36Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20coding%20theory",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/needs%20info"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "A benchmarking tool for linear codes",
    "type": "issue",
    "updated_at": "2022-12-29T01:36:35Z",
    "url": "https://github.com/sagemath/sage/issues/20526",
    "user": "https://github.com/sagetrac-dlucas"
}
```
This ticket proposes a tool to easily run experiments on linear codes (encoding, decoding...), gather data and process it.

CC:  @johanrosenkilde @ClementPernet

Component: **coding theory**

Branch/Commit: **[u/dlucas/benchmarking_tool](https://github.com/sagemath/sagetrac-mirror/tree/u/dlucas/benchmarking_tool) @ [`fe0b956`](https://github.com/sagemath/sagetrac-mirror/commit/fe0b956386ad3fc684e5ae306254fb814fdc76e5)**

_Issue created by migration from https://trac.sagemath.org/ticket/20526_





---

archive/issue_events_286693.json:
```json
{
    "actor": "https://github.com/sagetrac-dlucas",
    "created_at": "2016-05-01T07:38:36Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20526",
    "milestone_number": null,
    "milestone_title": "sage-7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20526#event-286693"
}
```



---

archive/issue_events_286694.json:
```json
{
    "actor": "https://github.com/sagetrac-dlucas",
    "created_at": "2016-05-01T07:38:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20526",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20coding%20theory",
    "label_color": "0000ff",
    "label_name": "c: coding theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20526#event-286694"
}
```



---

archive/issue_events_286695.json:
```json
{
    "actor": "https://github.com/sagetrac-dlucas",
    "created_at": "2016-05-01T07:38:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20526",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20526#event-286695"
}
```



---

archive/issue_events_286696.json:
```json
{
    "actor": "https://github.com/sagetrac-dlucas",
    "created_at": "2016-05-01T07:38:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20526",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20526#event-286696"
}
```



---

archive/issue_comments_296478.json:
```json
{
    "body": "Branch: **[u/dlucas/benchmarking_tool](https://github.com/sagemath/sagetrac-mirror/tree/u/dlucas/benchmarking_tool)**",
    "created_at": "2016-05-01T07:39:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20526#issuecomment-296478",
    "user": "https://github.com/sagetrac-dlucas"
}
```

Branch: **[u/dlucas/benchmarking_tool](https://github.com/sagemath/sagetrac-mirror/tree/u/dlucas/benchmarking_tool)**



---

archive/issue_comments_296479.json:
```json
{
    "body": "Commit: **[`5e18f8c`](https://github.com/sagemath/sagetrac-mirror/commit/5e18f8cc7ad80ea3fb65bbd311127633898378b6)**",
    "created_at": "2016-05-01T07:40:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20526#issuecomment-296479",
    "user": "https://github.com/sagetrac-dlucas"
}
```

Commit: **[`5e18f8c`](https://github.com/sagemath/sagetrac-mirror/commit/5e18f8cc7ad80ea3fb65bbd311127633898378b6)**



---

archive/issue_comments_296480.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nI pushed the first version. Some minor issues still exist, I'll fix these in the next few days.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cd86b18b4e328f1dbe1ab7f0289899243ebf4f39\"><code>cd86b18</code></a></td><td><code>First version of a benchmarking tool for linear codes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5e18f8cc7ad80ea3fb65bbd311127633898378b6\"><code>5e18f8c</code></a></td><td><code>Added ticket number to experimental flag</code></td></tr></table>\n",
    "created_at": "2016-05-01T07:40:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20526#issuecomment-296480",
    "user": "https://github.com/sagetrac-dlucas"
}
```

<div id="comment:2" align="right">comment:2</div>

I pushed the first version. Some minor issues still exist, I'll fix these in the next few days.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cd86b18b4e328f1dbe1ab7f0289899243ebf4f39"><code>cd86b18</code></a></td><td><code>First version of a benchmarking tool for linear codes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5e18f8cc7ad80ea3fb65bbd311127633898378b6"><code>5e18f8c</code></a></td><td><code>Added ticket number to experimental flag</code></td></tr></table>




---

archive/issue_comments_296481.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8726309399d3e77214b98c66f2a093bba925d574\"><code>8726309</code></a></td><td><code>Changed how empty benchmarks are managed in __add__. Tweaks wrt. experimental_data</code></td></tr></table>\n",
    "created_at": "2016-05-03T11:15:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20526#issuecomment-296481",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8726309399d3e77214b98c66f2a093bba925d574"><code>8726309</code></a></td><td><code>Changed how empty benchmarks are managed in __add__. Tweaks wrt. experimental_data</code></td></tr></table>




---

archive/issue_comments_296482.json:
```json
{
    "body": "Changed commit from **[`5e18f8c`](https://github.com/sagemath/sagetrac-mirror/commit/5e18f8cc7ad80ea3fb65bbd311127633898378b6)** to **[`8726309`](https://github.com/sagemath/sagetrac-mirror/commit/8726309399d3e77214b98c66f2a093bba925d574)**",
    "created_at": "2016-05-03T11:15:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20526#issuecomment-296482",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5e18f8c`](https://github.com/sagemath/sagetrac-mirror/commit/5e18f8cc7ad80ea3fb65bbd311127633898378b6)** to **[`8726309`](https://github.com/sagemath/sagetrac-mirror/commit/8726309399d3e77214b98c66f2a093bba925d574)**



---

archive/issue_comments_296483.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nHello,\n\nI made some changes:\n\n- I removed the code, the encoder, the decoder and the channel from the dictionary `experimental_data`, as this never changes through the tests for a given benchmark.\n- I strengthened how empty benchmarks are managed in addition. Consider `B1` and `B2` two benchmarks. If:\n    - `B1` and `B2` are empty, an exception is returned,\n    - `B1` or `B2` are empty, the empty benchmark is ignored.\n\nThis is still under new state as there's some remaining bugs (e.g. \"experimental\" warning is called everytime a Benchmark is constructed, even inside the same session).",
    "created_at": "2016-05-03T11:20:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20526#issuecomment-296483",
    "user": "https://github.com/sagetrac-dlucas"
}
```

<div id="comment:4" align="right">comment:4</div>

Hello,

I made some changes:

- I removed the code, the encoder, the decoder and the channel from the dictionary `experimental_data`, as this never changes through the tests for a given benchmark.
- I strengthened how empty benchmarks are managed in addition. Consider `B1` and `B2` two benchmarks. If:
    - `B1` and `B2` are empty, an exception is returned,
    - `B1` or `B2` are empty, the empty benchmark is ignored.

This is still under new state as there's some remaining bugs (e.g. "experimental" warning is called everytime a Benchmark is constructed, even inside the same session).



---

archive/issue_comments_296484.json:
```json
{
    "body": "Changed commit from **[`8726309`](https://github.com/sagemath/sagetrac-mirror/commit/8726309399d3e77214b98c66f2a093bba925d574)** to **[`0ab93ec`](https://github.com/sagemath/sagetrac-mirror/commit/0ab93ecbf861c585b83bb162493afcaf5a2032c8)**",
    "created_at": "2016-05-11T13:03:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20526#issuecomment-296484",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8726309`](https://github.com/sagemath/sagetrac-mirror/commit/8726309399d3e77214b98c66f2a093bba925d574)** to **[`0ab93ec`](https://github.com/sagemath/sagetrac-mirror/commit/0ab93ecbf861c585b83bb162493afcaf5a2032c8)**



---

archive/issue_comments_296485.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5dafb07777ad22b8807aaf6f1ecc277afd2b78ec\"><code>5dafb07</code></a></td><td><code>Removed encoder from constructor's input and made related adjustments in doc and methods</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/18732e1e950541d126d15a67e0c3e78b188bb7eb\"><code>18732e1</code></a></td><td><code>Adding two empty benchmarks now returns an empty benchmark</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/536ed610eb3a0b5f51f86735e3415dcd565c7f89\"><code>536ed61</code></a></td><td><code>Added an extra message to `_repr_` in case of an empty benchmark, enchanced docstring for _repr_</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/503091953e4e61ace8422ba5cdef4b0267327c9b\"><code>5030919</code></a></td><td><code>Updated to 7.2rc1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/32dd3d364ab998d9720b391bc6529b02613600e0\"><code>32dd3d3</code></a></td><td><code>no_tests is now a class argument, added related getter</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0dfdbf043652ec590023b1e50ab884f7e223df90\"><code>0dfdbf0</code></a></td><td><code>Replaced exception by a return statement in run() on empty benchmarks</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7212b335152c9eb350a7fa9d96bb3c033130dadf\"><code>7212b33</code></a></td><td><code>Added a distinction between decoding_error and decoding_failure, refined decoding_success_rate accordingly</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bc29f26da2877c2adf6366b7f9bae0cc463ee3f5\"><code>bc29f26</code></a></td><td><code>Refined experimental_data method, which now allows request for specific data</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a82a477822d17b23c34ff34ddc77e45acea7a6ab\"><code>a82a477</code></a></td><td><code>Fixed syntax errors in documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0ab93ecbf861c585b83bb162493afcaf5a2032c8\"><code>0ab93ec</code></a></td><td><code>Changes and fixes to docstrings and doctests</code></td></tr></table>\n",
    "created_at": "2016-05-11T13:03:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20526#issuecomment-296485",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5dafb07777ad22b8807aaf6f1ecc277afd2b78ec"><code>5dafb07</code></a></td><td><code>Removed encoder from constructor's input and made related adjustments in doc and methods</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/18732e1e950541d126d15a67e0c3e78b188bb7eb"><code>18732e1</code></a></td><td><code>Adding two empty benchmarks now returns an empty benchmark</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/536ed610eb3a0b5f51f86735e3415dcd565c7f89"><code>536ed61</code></a></td><td><code>Added an extra message to `_repr_` in case of an empty benchmark, enchanced docstring for _repr_</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/503091953e4e61ace8422ba5cdef4b0267327c9b"><code>5030919</code></a></td><td><code>Updated to 7.2rc1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/32dd3d364ab998d9720b391bc6529b02613600e0"><code>32dd3d3</code></a></td><td><code>no_tests is now a class argument, added related getter</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0dfdbf043652ec590023b1e50ab884f7e223df90"><code>0dfdbf0</code></a></td><td><code>Replaced exception by a return statement in run() on empty benchmarks</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7212b335152c9eb350a7fa9d96bb3c033130dadf"><code>7212b33</code></a></td><td><code>Added a distinction between decoding_error and decoding_failure, refined decoding_success_rate accordingly</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bc29f26da2877c2adf6366b7f9bae0cc463ee3f5"><code>bc29f26</code></a></td><td><code>Refined experimental_data method, which now allows request for specific data</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a82a477822d17b23c34ff34ddc77e45acea7a6ab"><code>a82a477</code></a></td><td><code>Fixed syntax errors in documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0ab93ecbf861c585b83bb162493afcaf5a2032c8"><code>0ab93ec</code></a></td><td><code>Changes and fixes to docstrings and doctests</code></td></tr></table>




---

archive/issue_comments_296486.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nHello,\n\nHere's a change log for this ticket:\n\n- I removed `encoder` from this class. One cannot pass an encoder to a benchmark anymore, and all related methods have been deleted. Instead, I replaced the old call `Benchmark(E, D, Chan)` by `Benchmark(C, D, Chan)`. \n\n- Adding two empty benchmarks now returns an empty benchmark and no longer an exception.\n\n- I added better messages in case one tries to manipulate an empty benchmark: for instance. calling `Benchmark.run()` now returns a proper message which explains that nothing will be done.\n\n- I refined the notion of \"success rate\". It now considers decoding errors (when the decoder fails at returning anything) and decoding failures (when the decoder returns a codeword which is not the expected one). I also enhanced `decoding_success_rate`, which now allows the user to select between success rate wrt. failures or errors.\n\n- I globally improved the documentation.\n\nOne problem remains: the experimental warning triggered by the decorator `@experimental` activates every time one creates a benchmark, which is annoying and also breaks all my doctests.\nThis is quite weird as the [documentation for this decorator](http://doc.sagemath.org/html/en/reference/misc/sage/misc/superseded.html#sage.misc.superseded.experimental) says it will only be triggered once/session.\nStill investigating on this...\n\nDavid",
    "created_at": "2016-05-11T13:13:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20526#issuecomment-296486",
    "user": "https://github.com/sagetrac-dlucas"
}
```

<div id="comment:7" align="right">comment:7</div>

Hello,

Here's a change log for this ticket:

- I removed `encoder` from this class. One cannot pass an encoder to a benchmark anymore, and all related methods have been deleted. Instead, I replaced the old call `Benchmark(E, D, Chan)` by `Benchmark(C, D, Chan)`. 

- Adding two empty benchmarks now returns an empty benchmark and no longer an exception.

- I added better messages in case one tries to manipulate an empty benchmark: for instance. calling `Benchmark.run()` now returns a proper message which explains that nothing will be done.

- I refined the notion of "success rate". It now considers decoding errors (when the decoder fails at returning anything) and decoding failures (when the decoder returns a codeword which is not the expected one). I also enhanced `decoding_success_rate`, which now allows the user to select between success rate wrt. failures or errors.

- I globally improved the documentation.

One problem remains: the experimental warning triggered by the decorator `@experimental` activates every time one creates a benchmark, which is annoying and also breaks all my doctests.
This is quite weird as the [documentation for this decorator](http://doc.sagemath.org/html/en/reference/misc/sage/misc/superseded.html#sage.misc.superseded.experimental) says it will only be triggered once/session.
Still investigating on this...

David



---

archive/issue_comments_296487.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nSounds good! Quick remark (didn't check the code yet): In \"A Course In Error-Correcting Codes\" by Justesen and H\u00f8holdt then \"decoding error\" is defined as the decoder returning a codeword which was not the intended, and \"decoding failure\" is defined as the decoder not returning the wanted codeword (i.e. either returning nothing or returning a wrong one).\n\nThat is, `P(failure) >= P(error) and P(failure) - P(error) = P(not returning anything)`.\n\nPerhaps this implementation should reflect this (non-universally adopted) convention.",
    "created_at": "2016-05-11T16:09:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20526#issuecomment-296487",
    "user": "https://github.com/johanrosenkilde"
}
```

<div id="comment:8" align="right">comment:8</div>

Sounds good! Quick remark (didn't check the code yet): In "A Course In Error-Correcting Codes" by Justesen and Høholdt then "decoding error" is defined as the decoder returning a codeword which was not the intended, and "decoding failure" is defined as the decoder not returning the wanted codeword (i.e. either returning nothing or returning a wrong one).

That is, `P(failure) >= P(error) and P(failure) - P(error) = P(not returning anything)`.

Perhaps this implementation should reflect this (non-universally adopted) convention.



---

archive/issue_comments_296488.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d2d6e26916ea5157c8e1ae291859b10c077d94b9\"><code>d2d6e26</code></a></td><td><code>Improved data selection in experimental_data method</code></td></tr></table>\n",
    "created_at": "2016-05-12T08:05:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20526#issuecomment-296488",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d2d6e26916ea5157c8e1ae291859b10c077d94b9"><code>d2d6e26</code></a></td><td><code>Improved data selection in experimental_data method</code></td></tr></table>




---

archive/issue_comments_296489.json:
```json
{
    "body": "Changed commit from **[`0ab93ec`](https://github.com/sagemath/sagetrac-mirror/commit/0ab93ecbf861c585b83bb162493afcaf5a2032c8)** to **[`d2d6e26`](https://github.com/sagemath/sagetrac-mirror/commit/d2d6e26916ea5157c8e1ae291859b10c077d94b9)**",
    "created_at": "2016-05-12T08:05:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20526#issuecomment-296489",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0ab93ec`](https://github.com/sagemath/sagetrac-mirror/commit/0ab93ecbf861c585b83bb162493afcaf5a2032c8)** to **[`d2d6e26`](https://github.com/sagemath/sagetrac-mirror/commit/d2d6e26916ea5157c8e1ae291859b10c077d94b9)**



---

archive/issue_comments_296490.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8e363dd7ecf203cc4f203ea2b985573e4d59423c\"><code>8e363dd</code></a></td><td><code>Switched definition of decoding error and decoding failure</code></td></tr></table>\n",
    "created_at": "2016-05-12T08:09:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20526#issuecomment-296490",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8e363dd7ecf203cc4f203ea2b985573e4d59423c"><code>8e363dd</code></a></td><td><code>Switched definition of decoding error and decoding failure</code></td></tr></table>




---

archive/issue_comments_296491.json:
```json
{
    "body": "Changed commit from **[`d2d6e26`](https://github.com/sagemath/sagetrac-mirror/commit/d2d6e26916ea5157c8e1ae291859b10c077d94b9)** to **[`8e363dd`](https://github.com/sagemath/sagetrac-mirror/commit/8e363dd7ecf203cc4f203ea2b985573e4d59423c)**",
    "created_at": "2016-05-12T08:09:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20526#issuecomment-296491",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d2d6e26`](https://github.com/sagemath/sagetrac-mirror/commit/d2d6e26916ea5157c8e1ae291859b10c077d94b9)** to **[`8e363dd`](https://github.com/sagemath/sagetrac-mirror/commit/8e363dd7ecf203cc4f203ea2b985573e4d59423c)**



---

archive/issue_comments_296492.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nHello,\n\n> Sounds good! Quick remark (didn't check the code yet): In \"A Course In Error-Correcting Codes\" by Justesen and H\u00f8holdt then \"decoding error\" is defined as the decoder returning a codeword which was not the intended, and \"decoding failure\" is defined as the decoder not returning the wanted codeword (i.e. either returning nothing or returning a wrong one).\n\nOops, I wanted to do that, but confused the definition of decoding error and decoding failure. Fixed now.\nBTW, the exception thrown when something wrong occurs during decoding is called `DecodingError`... Which is actually a bit confusing. But it follows the template to name exceptions.\n\nDavid",
    "created_at": "2016-05-12T08:16:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20526#issuecomment-296492",
    "user": "https://github.com/sagetrac-dlucas"
}
```

<div id="comment:11" align="right">comment:11</div>

Hello,

> Sounds good! Quick remark (didn't check the code yet): In "A Course In Error-Correcting Codes" by Justesen and Høholdt then "decoding error" is defined as the decoder returning a codeword which was not the intended, and "decoding failure" is defined as the decoder not returning the wanted codeword (i.e. either returning nothing or returning a wrong one).

Oops, I wanted to do that, but confused the definition of decoding error and decoding failure. Fixed now.
BTW, the exception thrown when something wrong occurs during decoding is called `DecodingError`... Which is actually a bit confusing. But it follows the template to name exceptions.

David



---

archive/issue_comments_296493.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\n> BTW, the exception thrown when something wrong occurs during decoding is called `DecodingError`... Which is actually a bit confusing. But it follows the template to name exceptions.\n\nHmm, probably that's the reason I called that exception `DecodingFailedError` in Codinglib :-)",
    "created_at": "2016-05-12T08:48:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20526#issuecomment-296493",
    "user": "https://github.com/johanrosenkilde"
}
```

<div id="comment:12" align="right">comment:12</div>

> BTW, the exception thrown when something wrong occurs during decoding is called `DecodingError`... Which is actually a bit confusing. But it follows the template to name exceptions.

Hmm, probably that's the reason I called that exception `DecodingFailedError` in Codinglib :-)



---

archive/issue_comments_296494.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\n> Hmm, probably that's the reason I called that exception DecodingFailedError in Codinglib :-)\n\nYes, that's much better! Do you think changing its name is worth the deprecation warning?",
    "created_at": "2016-05-12T09:03:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20526#issuecomment-296494",
    "user": "https://github.com/sagetrac-dlucas"
}
```

<div id="comment:13" align="right">comment:13</div>

> Hmm, probably that's the reason I called that exception DecodingFailedError in Codinglib :-)

Yes, that's much better! Do you think changing its name is worth the deprecation warning?



---

archive/issue_comments_296495.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nI've looked at the problem with the `@`experimental warning. The problem seems simply to be that (almost all) warnings in Sage currently issue a message *every* time the offending code is being run. Try `LinearCode.decode` for an example.\n\nSo why doesn't `AsymptoticRing` and friends behave like this with the `@`experimental warning? It's because all the classes inherit from `UniqueRepresentation`, so if multiple instantiations are called with the same arguments, the `__init__` is actually only called once. This is why their `TESTS` block at the module top level turns off the `FutureWarning` in all the individual doc-tests later on.\n\nI've asked about this on sage-devel: https://groups.google.com/forum/#!topic/sage-devel/RxMNjVWBeI0\n\nBtw: how did I find out about this? I took the file `growth_groups.py` in `sage.rings.asymptotic_ring`, copied it and reduced it to a minimal working class that behaved well. Then I tried to remove code lines from it one-by-one until I found the line that made the doc-tests work. This turned out to be inheriting from `UniqueRepresentation`.\n\nBest,\nJohan",
    "created_at": "2016-05-12T10:50:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20526#issuecomment-296495",
    "user": "https://github.com/johanrosenkilde"
}
```

<div id="comment:14" align="right">comment:14</div>

I've looked at the problem with the `@`experimental warning. The problem seems simply to be that (almost all) warnings in Sage currently issue a message *every* time the offending code is being run. Try `LinearCode.decode` for an example.

So why doesn't `AsymptoticRing` and friends behave like this with the `@`experimental warning? It's because all the classes inherit from `UniqueRepresentation`, so if multiple instantiations are called with the same arguments, the `__init__` is actually only called once. This is why their `TESTS` block at the module top level turns off the `FutureWarning` in all the individual doc-tests later on.

I've asked about this on sage-devel: https://groups.google.com/forum/#!topic/sage-devel/RxMNjVWBeI0

Btw: how did I find out about this? I took the file `growth_groups.py` in `sage.rings.asymptotic_ring`, copied it and reduced it to a minimal working class that behaved well. Then I tried to remove code lines from it one-by-one until I found the line that made the doc-tests work. This turned out to be inheriting from `UniqueRepresentation`.

Best,
Johan



---

archive/issue_comments_296496.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@sagetrac-dlucas](#comment%3A13):\n> > Hmm, probably that's the reason I called that exception DecodingFailedError in Codinglib :-)\n\n> \n> Yes, that's much better! Do you think changing its name is worth the deprecation warning?\n\nHmm, how would you even deprecate this? Issue a deprecation warning only when the error is thrown?\n\nBut, thinking more about it, this name is also no good: the exception is used by a decoding algorithm when it realises that something went wrong, e.g. the polynomial division in Berlekamp-Welch doesn't go well. But this is exactly a case of `DecodingFailure\\DecodingError` where `\\` indicates set difference; that is, it is a decoding failure that is surely not a decoding error (since no codeword is returned).\n\nJustesen and H\u00f8holdt do not give a name to this event, but we need such a name for the decoding exception.\n\n`DecodingException`? `DecodeAbortError`? `DecodingAborted`?",
    "created_at": "2016-05-12T11:00:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20526#issuecomment-296496",
    "user": "https://github.com/johanrosenkilde"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@sagetrac-dlucas](#comment%3A13):
> > Hmm, probably that's the reason I called that exception DecodingFailedError in Codinglib :-)

> 
> Yes, that's much better! Do you think changing its name is worth the deprecation warning?

Hmm, how would you even deprecate this? Issue a deprecation warning only when the error is thrown?

But, thinking more about it, this name is also no good: the exception is used by a decoding algorithm when it realises that something went wrong, e.g. the polynomial division in Berlekamp-Welch doesn't go well. But this is exactly a case of `DecodingFailure\DecodingError` where `\` indicates set difference; that is, it is a decoding failure that is surely not a decoding error (since no codeword is returned).

Justesen and Høholdt do not give a name to this event, but we need such a name for the decoding exception.

`DecodingException`? `DecodeAbortError`? `DecodingAborted`?



---

archive/issue_comments_296497.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nIf you rebase on top of #20601 then all doc-tests pass now and the `@experimental` problem is gone.",
    "created_at": "2016-05-13T08:18:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20526#issuecomment-296497",
    "user": "https://github.com/johanrosenkilde"
}
```

<div id="comment:16" align="right">comment:16</div>

If you rebase on top of #20601 then all doc-tests pass now and the `@experimental` problem is gone.



---

archive/issue_comments_296498.json:
```json
{
    "body": "Changed commit from **[`8e363dd`](https://github.com/sagemath/sagetrac-mirror/commit/8e363dd7ecf203cc4f203ea2b985573e4d59423c)** to **[`fe0b956`](https://github.com/sagemath/sagetrac-mirror/commit/fe0b956386ad3fc684e5ae306254fb814fdc76e5)**",
    "created_at": "2016-05-13T11:56:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20526#issuecomment-296498",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8e363dd`](https://github.com/sagemath/sagetrac-mirror/commit/8e363dd7ecf203cc4f203ea2b985573e4d59423c)** to **[`fe0b956`](https://github.com/sagemath/sagetrac-mirror/commit/fe0b956386ad3fc684e5ae306254fb814fdc76e5)**



---

archive/issue_comments_296499.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f967f59b5e9bb76aa6dd96fda7c578f7a64808d0\"><code>f967f59</code></a></td><td><code>Make @experimental warnings issue only once</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5c288220006c7d1edd93594b0b20ac6dbedfe6eb\"><code>5c28822</code></a></td><td><code>Added a test that in doc-tests demonstrates the behaviour</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d14bdd40b8aeb1091b67a1c10ae6da2a54d2ecbb\"><code>d14bdd4</code></a></td><td><code>Sphinx link for 20601 and __experimental_self_test</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fe0b956386ad3fc684e5ae306254fb814fdc76e5\"><code>fe0b956</code></a></td><td><code>Merge branch 't/20601/20601_experimental' into benchmarking_tool</code></td></tr></table>\n",
    "created_at": "2016-05-13T11:56:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20526#issuecomment-296499",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f967f59b5e9bb76aa6dd96fda7c578f7a64808d0"><code>f967f59</code></a></td><td><code>Make @experimental warnings issue only once</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5c288220006c7d1edd93594b0b20ac6dbedfe6eb"><code>5c28822</code></a></td><td><code>Added a test that in doc-tests demonstrates the behaviour</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d14bdd40b8aeb1091b67a1c10ae6da2a54d2ecbb"><code>d14bdd4</code></a></td><td><code>Sphinx link for 20601 and __experimental_self_test</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fe0b956386ad3fc684e5ae306254fb814fdc76e5"><code>fe0b956</code></a></td><td><code>Merge branch 't/20601/20601_experimental' into benchmarking_tool</code></td></tr></table>




---

archive/issue_events_286697.json:
```json
{
    "actor": "https://github.com/sagetrac-dlucas",
    "created_at": "2016-05-13T11:57:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20526",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20526#event-286697"
}
```



---

archive/issue_comments_296500.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nHello,\n\n> If you rebase on top of #20601 then all doc-tests pass now and the `@`experimental problem is gone.\n\nThanks, it works fine!\n\nThis ticket is now open for review.",
    "created_at": "2016-05-13T11:57:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20526#issuecomment-296500",
    "user": "https://github.com/sagetrac-dlucas"
}
```

<div id="comment:18" align="right">comment:18</div>

Hello,

> If you rebase on top of #20601 then all doc-tests pass now and the `@`experimental problem is gone.

Thanks, it works fine!

This ticket is now open for review.



---

archive/issue_events_286698.json:
```json
{
    "actor": "https://github.com/sagetrac-dlucas",
    "created_at": "2016-05-13T11:57:21Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/20526",
    "milestone_number": null,
    "milestone_title": "sage-7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20526#event-286698"
}
```



---

archive/issue_events_286699.json:
```json
{
    "actor": "https://github.com/sagetrac-dlucas",
    "created_at": "2016-05-13T11:57:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20526",
    "milestone_number": null,
    "milestone_title": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20526#event-286699"
}
```



---

archive/issue_events_286700.json:
```json
{
    "actor": "https://github.com/johanrosenkilde",
    "created_at": "2016-09-02T12:49:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20526",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20526#event-286700"
}
```



---

archive/issue_events_286701.json:
```json
{
    "actor": "https://github.com/johanrosenkilde",
    "created_at": "2016-09-02T12:49:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20526",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20526#event-286701"
}
```



---

archive/issue_comments_296501.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nThis will probably be superseded by the [BleacherMark project](https://github.com/miguelmarco/bleachermark).",
    "created_at": "2016-09-02T12:49:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20526#issuecomment-296501",
    "user": "https://github.com/johanrosenkilde"
}
```

<div id="comment:19" align="right">comment:19</div>

This will probably be superseded by the [BleacherMark project](https://github.com/miguelmarco/bleachermark).



---

archive/issue_events_286702.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-12-29T01:36:35Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/20526",
    "milestone_number": null,
    "milestone_title": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20526#event-286702"
}
```
