# Issue 20978: polygon3d view in jmol broken

archive/issues_020741.json:
```json
{
    "assignees": [],
    "body": "\n```\npolygon3d([[0,0,0], [1,2,3], [3,0,0]]).show(viewer='jmol') \n```\ndoes not show anything.  See [this ask.sagemath question](http://ask.sagemath.org/question/34054/polygon3d-doesnt-work/).\n\nEDIT: Issue previously reported as #19274. Description from that ticket:\n\nThomas Fernique reported the following bug by private email: from the console, some flat polygons in three-space lead to an empty picture with jmol (java version), for example:\n\n```\nsage: polygon([(0, 0, 0), (1, 0, 0), (1, 0, 1), (0, 0, 1)])\n```\n\nHowever, this is correctly displayed with jsmol (javascript version) from the notebook.\n\nI can reproduce this bug on Sage 6.8, Debian GNU/Linux jessie 64 bit, openjdk-7-jre.\n\nStill present in Sage 9.6.beta5, and still after upgrading to 14.32.35 (#30316).\n\n\nDepends on #30316\n\nCC:  @paulmasson @novoselt @mkoeppe\n\nKeywords: **jmol threejs**\n\nComponent: **graphics**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/20978_\n\n",
    "created_at": "2016-07-07T22:18:50Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20graphics",
        "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/needs%20info"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "polygon3d view in jmol broken",
    "type": "issue",
    "updated_at": "2022-09-19T18:58:47Z",
    "url": "https://github.com/sagemath/sage/issues/20978",
    "user": "https://github.com/kcrisman"
}
```

```
polygon3d([[0,0,0], [1,2,3], [3,0,0]]).show(viewer='jmol') 
```
does not show anything.  See [this ask.sagemath question](http://ask.sagemath.org/question/34054/polygon3d-doesnt-work/).

EDIT: Issue previously reported as #19274. Description from that ticket:

Thomas Fernique reported the following bug by private email: from the console, some flat polygons in three-space lead to an empty picture with jmol (java version), for example:

```
sage: polygon([(0, 0, 0), (1, 0, 0), (1, 0, 1), (0, 0, 1)])
```

However, this is correctly displayed with jsmol (javascript version) from the notebook.

I can reproduce this bug on Sage 6.8, Debian GNU/Linux jessie 64 bit, openjdk-7-jre.

Still present in Sage 9.6.beta5, and still after upgrading to 14.32.35 (#30316).


Depends on #30316

CC:  @paulmasson @novoselt @mkoeppe

Keywords: **jmol threejs**

Component: **graphics**

_Issue created by migration from https://trac.sagemath.org/ticket/20978_





---

archive/issue_events_295098.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2016-07-07T22:18:50Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "milestone_number": null,
    "milestone_title": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-295098"
}
```



---

archive/issue_events_295099.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2016-07-07T22:18:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20graphics",
    "label_color": "0000ff",
    "label_name": "c: graphics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-295099"
}
```



---

archive/issue_events_295100.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2016-07-07T22:18:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "label": "https://github.com/sagemath/sage/labels/p%3A%202%20%E2%80%93%20critical",
    "label_color": "ff7700",
    "label_name": "p: 2 \u2013 critical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-295100"
}
```



---

archive/issue_events_295101.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2016-07-07T22:18:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-295101"
}
```



---

archive/issue_comments_304843.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nWhen I add an `arrow3d` (for example), then it displays properly:\n\n```\nsage: polygon3d([[0,0,1],[0,1,0],[1,0,0]]) + arrow3d([0,0,0],[1,1,1])\nsage: p2.plot() + arrow3d([0,0,0],[1,1,1])\n```\nIt seems like it is just ignoring the polygon3d when it is the only object:\n\n```\nsage: p = polygon3d([[0,0,1],[0,1,0],[1,0,0]]) + arrow3d([0,0,0],[1,1,1])\nsage: rp = p.default_render_params()\nsage: rp.output_archive = None\nsage: p.jmol_repr(rp)\n['pmesh obj_1 \"/home/travis/.sage/temp/apricot/5573/tmp_pU6Ppq-obj_1.pmesh\"\\ncolor pmesh  [0,0,255]']\n<type 'sage.plot.plot3d.index_face_set.IndexFaceSet'>\n\nsage: p = polygon3d([[0,0,1],[0,1,0],[1,0,0]]) + arrow3d([0,0,0],[1,1,1])\nsage: p.jmol_repr(rp)\n[['pmesh obj_2 \"/home/travis/.sage/temp/apricot/5573/tmp_pU6Ppq-obj_2.pmesh\"\\ncolor pmesh  [0,0,255]'],\n [[['\\ndraw line_3 width 0.02 {0.0 0.0 0.0} {0.896076951546 0.896076951546 0.896076951546}\\ncolor $line_3  [102,102,255]\\n'],\n   [['pmesh obj_4 \"/home/travis/.sage/temp/apricot/5573/tmp_pU6Ppq-obj_4.pmesh\"\\ncolor pmesh  [102,102,255]']]]]]\nsage: type(p)\n<class 'sage.plot.plot3d.base.Graphics3dGroup'>\n\nsage: p = arrow3d([0,0,0],[1,1,1])\nsage: p.plot()    # This works fine\nLaunched jmol viewer for Graphics3d Object\nsage: p.jmol_repr(rp)\n[[['\\ndraw line_5 width 0.02 {0.0 0.0 0.0} {0.896076951546 0.896076951546 0.896076951546}\\ncolor $line_5  [102,102,255]\\n'],\n  [['pmesh obj_6 \"/home/travis/.sage/temp/apricot/5573/tmp_pU6Ppq-obj_6.pmesh\"\\ncolor pmesh  [102,102,255]']]]]\nsage: type(p)\n<class 'sage.plot.plot3d.base.TransformGroup'>\n```\n\nA somewhat strange thing is that the graphics group `jmol_repr` calls the `jmol_repr` of the polygon. Perhaps someone has an idea about this (and knows how to read the jmol input).",
    "created_at": "2016-07-08T04:18:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20978#issuecomment-304843",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:2" align="right">comment:2</div>

When I add an `arrow3d` (for example), then it displays properly:

```
sage: polygon3d([[0,0,1],[0,1,0],[1,0,0]]) + arrow3d([0,0,0],[1,1,1])
sage: p2.plot() + arrow3d([0,0,0],[1,1,1])
```
It seems like it is just ignoring the polygon3d when it is the only object:

```
sage: p = polygon3d([[0,0,1],[0,1,0],[1,0,0]]) + arrow3d([0,0,0],[1,1,1])
sage: rp = p.default_render_params()
sage: rp.output_archive = None
sage: p.jmol_repr(rp)
['pmesh obj_1 "/home/travis/.sage/temp/apricot/5573/tmp_pU6Ppq-obj_1.pmesh"\ncolor pmesh  [0,0,255]']
<type 'sage.plot.plot3d.index_face_set.IndexFaceSet'>

sage: p = polygon3d([[0,0,1],[0,1,0],[1,0,0]]) + arrow3d([0,0,0],[1,1,1])
sage: p.jmol_repr(rp)
[['pmesh obj_2 "/home/travis/.sage/temp/apricot/5573/tmp_pU6Ppq-obj_2.pmesh"\ncolor pmesh  [0,0,255]'],
 [[['\ndraw line_3 width 0.02 {0.0 0.0 0.0} {0.896076951546 0.896076951546 0.896076951546}\ncolor $line_3  [102,102,255]\n'],
   [['pmesh obj_4 "/home/travis/.sage/temp/apricot/5573/tmp_pU6Ppq-obj_4.pmesh"\ncolor pmesh  [102,102,255]']]]]]
sage: type(p)
<class 'sage.plot.plot3d.base.Graphics3dGroup'>

sage: p = arrow3d([0,0,0],[1,1,1])
sage: p.plot()    # This works fine
Launched jmol viewer for Graphics3d Object
sage: p.jmol_repr(rp)
[[['\ndraw line_5 width 0.02 {0.0 0.0 0.0} {0.896076951546 0.896076951546 0.896076951546}\ncolor $line_5  [102,102,255]\n'],
  [['pmesh obj_6 "/home/travis/.sage/temp/apricot/5573/tmp_pU6Ppq-obj_6.pmesh"\ncolor pmesh  [102,102,255]']]]]
sage: type(p)
<class 'sage.plot.plot3d.base.TransformGroup'>
```

A somewhat strange thing is that the graphics group `jmol_repr` calls the `jmol_repr` of the polygon. Perhaps someone has an idea about this (and knows how to read the jmol input).



---

archive/issue_comments_304844.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nWorks for me with sage 7.3.beta6 on Ubuntu 15.10 for both sage notebook and jupyter notebook (a blue triangle is displayed in the jmol output). Does *not* work from the sage console (only the bounding box is displayed).",
    "created_at": "2016-07-08T11:35:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20978#issuecomment-304844",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:3" align="right">comment:3</div>

Works for me with sage 7.3.beta6 on Ubuntu 15.10 for both sage notebook and jupyter notebook (a blue triangle is displayed in the jmol output). Does *not* work from the sage console (only the bounding box is displayed).



---

archive/issue_comments_304845.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nReplying to [@egourgoulhon](#comment:3):\n> Works for me with sage 7.3.beta6 on Ubuntu 15.10 for both sage notebook and jupyter notebook (a blue triangle is displayed in the jmol output). Does *not* work from the sage console (only the bounding box is displayed). \n\nAddendum: in the sage notebook, the triangle is displayed only after one has clicked on the figure.",
    "created_at": "2016-07-08T11:48:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20978#issuecomment-304845",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:4" align="right">comment:4</div>

Replying to [@egourgoulhon](#comment:3):
> Works for me with sage 7.3.beta6 on Ubuntu 15.10 for both sage notebook and jupyter notebook (a blue triangle is displayed in the jmol output). Does *not* work from the sage console (only the bounding box is displayed). 

Addendum: in the sage notebook, the triangle is displayed only after one has clicked on the figure.



---

archive/issue_comments_304846.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nI don't think this is a Sage problem. If you look at the temporary files under the hidden `User/.sage` directory that are passed to the Jmol viewer, the `pmesh` files for the polygons are there and included every time in the `SCRIPT` file in `scene.spt.zip`. The data for the polygons is exactly the same whether or not the arrow is included.\n\nAs a test, run this at the command line:\n\n```\np=polygon([(0,0,0),(1,0,0),(1,1,0)])\nfor n in range(1,10):\n     p+=polygon([(n,0,0),(n+1,0,0),(n+1,n+1,0)])\n     p\n```\n\nWhen I run it the polygons don't being to appear until there are six of them, and don't appear reliably for higher numbers.\n\nI think this is a Jmol display problem.",
    "created_at": "2016-07-11T20:59:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20978#issuecomment-304846",
    "user": "https://github.com/paulmasson"
}
```

<div id="comment:5" align="right">comment:5</div>

I don't think this is a Sage problem. If you look at the temporary files under the hidden `User/.sage` directory that are passed to the Jmol viewer, the `pmesh` files for the polygons are there and included every time in the `SCRIPT` file in `scene.spt.zip`. The data for the polygons is exactly the same whether or not the arrow is included.

As a test, run this at the command line:

```
p=polygon([(0,0,0),(1,0,0),(1,1,0)])
for n in range(1,10):
     p+=polygon([(n,0,0),(n+1,0,0),(n+1,n+1,0)])
     p
```

When I run it the polygons don't being to appear until there are six of them, and don't appear reliably for higher numbers.

I think this is a Jmol display problem.



---

archive/issue_comments_304847.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nHmmm...perhaps it is time to revive the discussion of moving to a different 3d viewing platform? At least we should probably tell upstream.",
    "created_at": "2016-07-12T14:58:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20978#issuecomment-304847",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:6" align="right">comment:6</div>

Hmmm...perhaps it is time to revive the discussion of moving to a different 3d viewing platform? At least we should probably tell upstream.



---

archive/issue_comments_304848.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,3 +3,15 @@\n polygon3d([[0,0,0], [1,2,3], [3,0,0]]) \n ```\n does not show anything.  See [this ask.sagemath question](http://ask.sagemath.org/question/34054/polygon3d-doesnt-work/).\n+\n+EDIT: Issue previously reported as #19274. Description from that ticket:\n+\n+Thomas Fernique reported the following bug by private email: from the console, some flat polygons in three-space lead to an empty picture with jmol (java version), for example:\n+\n+```\n+sage: polygon([(0, 0, 0), (1, 0, 0), (1, 0, 1), (0, 0, 1)])\n+```\n+\n+However, this is correctly displayed with jsmol (javascript version) from the notebook.\n+\n+I can reproduce this bug on Sage 6.8, Debian GNU/Linux jessie 64 bit, openjdk-7-jre.\n``````\n",
    "created_at": "2016-07-17T20:24:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20978#issuecomment-304848",
    "user": "https://github.com/paulmasson"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,3 +3,15 @@
 polygon3d([[0,0,0], [1,2,3], [3,0,0]]) 
 ```
 does not show anything.  See [this ask.sagemath question](http://ask.sagemath.org/question/34054/polygon3d-doesnt-work/).
+
+EDIT: Issue previously reported as #19274. Description from that ticket:
+
+Thomas Fernique reported the following bug by private email: from the console, some flat polygons in three-space lead to an empty picture with jmol (java version), for example:
+
+```
+sage: polygon([(0, 0, 0), (1, 0, 0), (1, 0, 1), (0, 0, 1)])
+```
+
+However, this is correctly displayed with jsmol (javascript version) from the notebook.
+
+I can reproduce this bug on Sage 6.8, Debian GNU/Linux jessie 64 bit, openjdk-7-jre.
``````




---

archive/issue_comments_304849.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nOn #12402 I've written some basic Three.js support for `Graphics3d` objects that can handle examples here that fail in Jmol. If there is interest in having an option other than Jmol, feedback on #12402 would be appreciated.",
    "created_at": "2016-09-30T00:10:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20978#issuecomment-304849",
    "user": "https://github.com/paulmasson"
}
```

<div id="comment:9" align="right">comment:9</div>

On #12402 I've written some basic Three.js support for `Graphics3d` objects that can handle examples here that fail in Jmol. If there is interest in having an option other than Jmol, feedback on #12402 would be appreciated.



---

archive/issue_comments_304850.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nIs this usable with sage running in a terminal? Note that the failure documented in this ticket is about the Java version of Jmol, which is the one that is used in this situation.",
    "created_at": "2016-09-30T05:47:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20978#issuecomment-304850",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:10" align="right">comment:10</div>

Is this usable with sage running in a terminal? Note that the failure documented in this ticket is about the Java version of Jmol, which is the one that is used in this situation.



---

archive/issue_comments_304851.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@mkoeppe](#comment:10):\n> Is this usable with sage running in a terminal?\n\nYup! That's the entire point: an HTML file is generated at the command line and saved in a temporary file like other plots. It can then be displayed immediately in a browser, or embedded in an iframe for future application in notebooks or the cell server.",
    "created_at": "2016-09-30T19:52:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20978#issuecomment-304851",
    "user": "https://github.com/paulmasson"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@mkoeppe](#comment:10):
> Is this usable with sage running in a terminal?

Yup! That's the entire point: an HTML file is generated at the command line and saved in a temporary file like other plots. It can then be displayed immediately in a browser, or embedded in an iframe for future application in notebooks or the cell server.



---

archive/issue_events_295102.json:
```json
{
    "actor": "https://github.com/paulmasson",
    "created_at": "2019-10-08T20:27:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-295102"
}
```



---

archive/issue_comments_304852.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nSince Three.js will be the default viewer in Sage 9.0 this ticket can be closed.",
    "created_at": "2019-10-08T20:27:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20978#issuecomment-304852",
    "user": "https://github.com/paulmasson"
}
```

<div id="comment:12" align="right">comment:12</div>

Since Three.js will be the default viewer in Sage 9.0 this ticket can be closed.



---

archive/issue_events_295103.json:
```json
{
    "actor": "https://github.com/paulmasson",
    "created_at": "2019-10-08T20:27:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "milestone_number": null,
    "milestone_title": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-295103"
}
```



---

archive/issue_events_295104.json:
```json
{
    "actor": "https://github.com/paulmasson",
    "created_at": "2019-10-08T20:27:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "label": "https://github.com/sagemath/sage/labels/p%3A%202%20%E2%80%93%20critical",
    "label_color": "ff7700",
    "label_name": "p: 2 \u2013 critical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-295104"
}
```



---

archive/issue_events_295105.json:
```json
{
    "actor": "https://github.com/paulmasson",
    "created_at": "2019-10-08T20:27:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "a6a6a6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-295105"
}
```



---

archive/issue_comments_304853.json:
```json
{
    "body": "Changed keywords from none to **jmol threejs**",
    "created_at": "2019-10-08T20:27:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20978#issuecomment-304853",
    "user": "https://github.com/paulmasson"
}
```

Changed keywords from none to **jmol threejs**



---

archive/issue_events_295106.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2019-10-08T21:08:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-295106"
}
```



---

archive/issue_events_295107.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2019-10-08T21:08:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-295107"
}
```



---

archive/issue_comments_304854.json:
```json
{
    "body": "Reviewer: **Eric Gourgoulhon**",
    "created_at": "2019-10-08T21:08:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20978#issuecomment-304854",
    "user": "https://github.com/egourgoulhon"
}
```

Reviewer: **Eric Gourgoulhon**



---

archive/issue_comments_304855.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@paulmasson](#comment:12):\n> Since Three.js will be the default viewer in Sage 9.0 this ticket can be closed.\n\nYes indeed.",
    "created_at": "2019-10-08T21:08:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20978#issuecomment-304855",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@paulmasson](#comment:12):
> Since Three.js will be the default viewer in Sage 9.0 this ticket can be closed.

Yes indeed.



---

archive/issue_comments_304856.json:
```json
{
    "body": "Changed reviewer from **Eric Gourgoulhon** to none",
    "created_at": "2019-10-08T21:09:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20978#issuecomment-304856",
    "user": "https://github.com/kcrisman"
}
```

Changed reviewer from **Eric Gourgoulhon** to none



---

archive/issue_events_295108.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2019-10-08T21:09:02Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "milestone_number": null,
    "milestone_title": "sage-9.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-295108"
}
```



---

archive/issue_events_295109.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2019-10-08T21:09:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-295109"
}
```



---

archive/issue_events_295110.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2019-10-08T21:09:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-295110"
}
```



---

archive/issue_comments_304857.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nJust because the default changes doesn't mean this is fixed, and some people may still be using Jmol from command line or whatever.    But we can certainly modify the ticket.",
    "created_at": "2019-10-08T21:09:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20978#issuecomment-304857",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:14" align="right">comment:14</div>

Just because the default changes doesn't mean this is fixed, and some people may still be using Jmol from command line or whatever.    But we can certainly modify the ticket.



---

archive/issue_events_295111.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2019-10-08T21:09:41Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "title_is": "polygon3d view in jmol broken",
    "title_was": "polygon3d view broken",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-295111"
}
```



---

archive/issue_comments_304858.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@kcrisman](#comment:14):\n> Just because the default changes doesn't mean this is fixed, and some people may still be using Jmol from command line or whatever.    \n\nYes you are right of course, I've been too fast here.",
    "created_at": "2019-10-08T21:14:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20978#issuecomment-304858",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@kcrisman](#comment:14):
> Just because the default changes doesn't mean this is fixed, and some people may still be using Jmol from command line or whatever.    

Yes you are right of course, I've been too fast here.



---

archive/issue_comments_304859.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nFor the record, the issue is still there in Sage 9.0.beta0, even after the update of Jmol in #25026.",
    "created_at": "2019-10-08T21:18:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20978#issuecomment-304859",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:17" align="right">comment:17</div>

For the record, the issue is still there in Sage 9.0.beta0, even after the update of Jmol in #25026.



---

archive/issue_comments_304860.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nReplying to [@kcrisman](#comment:14):\n> Just because the default changes doesn't mean this is fixed, and some people may still be using Jmol from command line or whatever.    But we can certainly modify the ticket.\n\nAs I pointed out three years ago, this is not a Sage problem and won\u2019t get fixed here. Are you keeping the ticket open monitor upstream activity? Otherwise it should be closed.",
    "created_at": "2019-10-08T22:29:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20978#issuecomment-304860",
    "user": "https://github.com/paulmasson"
}
```

<div id="comment:18" align="right">comment:18</div>

Replying to [@kcrisman](#comment:14):
> Just because the default changes doesn't mean this is fixed, and some people may still be using Jmol from command line or whatever.    But we can certainly modify the ticket.

As I pointed out three years ago, this is not a Sage problem and won’t get fixed here. Are you keeping the ticket open monitor upstream activity? Otherwise it should be closed.



---

archive/issue_comments_304861.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nWe have tons of tickets here that monitor upstream activity, because they impact Sage usability in various contexts.   I notice that \"Report Upstream\" is currently N/A, though, so maybe that should be changed and possibly worked on.  I often do this with Maxima bugs but I don't know what the current Jmol upstream reporting process is.",
    "created_at": "2019-10-09T12:19:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20978#issuecomment-304861",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:19" align="right">comment:19</div>

We have tons of tickets here that monitor upstream activity, because they impact Sage usability in various contexts.   I notice that "Report Upstream" is currently N/A, though, so maybe that should be changed and possibly worked on.  I often do this with Maxima bugs but I don't know what the current Jmol upstream reporting process is.



---

archive/issue_events_295112.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2020-01-06T14:10:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "milestone_number": null,
    "milestone_title": "sage-9.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-295112"
}
```



---

archive/issue_events_295113.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2020-01-06T14:10:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-295113"
}
```



---

archive/issue_comments_304862.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nTicket retargeted after milestone closed",
    "created_at": "2020-01-06T14:10:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20978#issuecomment-304862",
    "user": "https://github.com/embray"
}
```

<div id="comment:20" align="right">comment:20</div>

Ticket retargeted after milestone closed



---

archive/issue_events_295114.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-01T04:28:42Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-295114"
}
```



---

archive/issue_events_295115.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-01T04:28:42Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-295115"
}
```



---

archive/issue_comments_304863.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nMoving tickets to milestone sage-9.2 based on a review of last modification date, branch status, and severity.",
    "created_at": "2020-05-01T04:28:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20978#issuecomment-304863",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:21" align="right">comment:21</div>

Moving tickets to milestone sage-9.2 based on a review of last modification date, branch status, and severity.



---

archive/issue_events_295116.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-295116"
}
```



---

archive/issue_events_295117.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-295117"
}
```



---

archive/issue_comments_304864.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nMoving this ticket to 9.4, as it seems unlikely that it will be merged in 9.3, which is in the release candidate stage",
    "created_at": "2021-04-02T20:21:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20978#issuecomment-304864",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:23" align="right">comment:23</div>

Moving this ticket to 9.4, as it seems unlikely that it will be merged in 9.3, which is in the release candidate stage



---

archive/issue_events_295118.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-02T20:21:54Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-295118"
}
```



---

archive/issue_events_295119.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-02T20:21:54Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-295119"
}
```



---

archive/issue_comments_304865.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nSetting a new milestone for this ticket based on a cursory review.",
    "created_at": "2021-07-19T00:44:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20978#issuecomment-304865",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:24" align="right">comment:24</div>

Setting a new milestone for this ticket based on a cursory review.



---

archive/issue_events_295120.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-295120"
}
```



---

archive/issue_events_295121.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-295121"
}
```



---

archive/issue_events_295122.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:53:12Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-295122"
}
```



---

archive/issue_events_295123.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:53:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-295123"
}
```



---

archive/issue_comments_304866.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nStalled in `needs_review` or `needs_info`; likely won't make it into Sage 9.5.",
    "created_at": "2021-12-18T19:53:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20978#issuecomment-304866",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:25" align="right">comment:25</div>

Stalled in `needs_review` or `needs_info`; likely won't make it into Sage 9.5.



---

archive/issue_comments_304867.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n \n ```\n-polygon3d([[0,0,0], [1,2,3], [3,0,0]]) \n+polygon3d([[0,0,0], [1,2,3], [3,0,0]]).show(viewer='jmol') \n ```\n does not show anything.  See [this ask.sagemath question](http://ask.sagemath.org/question/34054/polygon3d-doesnt-work/).\n \n@@ -15,3 +15,5 @@\n However, this is correctly displayed with jsmol (javascript version) from the notebook.\n \n I can reproduce this bug on Sage 6.8, Debian GNU/Linux jessie 64 bit, openjdk-7-jre.\n+\n+Still present in Sage 9.6.beta5\n``````\n",
    "created_at": "2022-03-15T19:36:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20978#issuecomment-304867",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,6 @@
 
 ```
-polygon3d([[0,0,0], [1,2,3], [3,0,0]]) 
+polygon3d([[0,0,0], [1,2,3], [3,0,0]]).show(viewer='jmol') 
 ```
 does not show anything.  See [this ask.sagemath question](http://ask.sagemath.org/question/34054/polygon3d-doesnt-work/).
 
@@ -15,3 +15,5 @@
 However, this is correctly displayed with jsmol (javascript version) from the notebook.
 
 I can reproduce this bug on Sage 6.8, Debian GNU/Linux jessie 64 bit, openjdk-7-jre.
+
+Still present in Sage 9.6.beta5
``````




---

archive/issue_comments_304868.json:
```json
{
    "body": "Dependencies: **#30316**",
    "created_at": "2022-03-15T19:37:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20978#issuecomment-304868",
    "user": "https://github.com/mkoeppe"
}
```

Dependencies: **#30316**



---

archive/issue_comments_304869.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -16,4 +16,5 @@\n \n I can reproduce this bug on Sage 6.8, Debian GNU/Linux jessie 64 bit, openjdk-7-jre.\n \n-Still present in Sage 9.6.beta5\n+Still present in Sage 9.6.beta5, and still after upgrading to 14.32.35 (#30316).\n+\n``````\n",
    "created_at": "2022-03-15T20:41:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20978#issuecomment-304869",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -16,4 +16,5 @@
 
 I can reproduce this bug on Sage 6.8, Debian GNU/Linux jessie 64 bit, openjdk-7-jre.
 
-Still present in Sage 9.6.beta5
+Still present in Sage 9.6.beta5, and still after upgrading to 14.32.35 (#30316).
+
``````




---

archive/issue_events_295124.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-11T17:19:39Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-295124"
}
```



---

archive/issue_events_295125.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-11T17:19:39Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-295125"
}
```



---

archive/issue_events_295126.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-295126"
}
```



---

archive/issue_events_295127.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-295127"
}
```
