# Issue 20978: polygon3d view in jmol broken

archive/issues_020741.json:
```json
{
    "assignees": [],
    "body": "\n```\npolygon3d([[0,0,0], [1,2,3], [3,0,0]]).show(viewer='jmol') \n```\ndoes not show anything.  See [this ask.sagemath question](http://ask.sagemath.org/question/34054/polygon3d-doesnt-work/).\n\nEDIT: Issue previously reported as #19274. Description from that ticket:\n\nThomas Fernique reported the following bug by private email: from the console, some flat polygons in three-space lead to an empty picture with jmol (java version), for example:\n\n```\nsage: polygon([(0, 0, 0), (1, 0, 0), (1, 0, 1), (0, 0, 1)])\n```\n\nHowever, this is correctly displayed with jsmol (javascript version) from the notebook.\n\nI can reproduce this bug on Sage 6.8, Debian GNU/Linux jessie 64 bit, openjdk-7-jre.\n\nStill present in Sage 9.6.beta5, and still after upgrading to 14.32.35 (#30316).\n\n\nDepends on #30316\n\nCC:  @paulmasson @novoselt @mkoeppe\n\nKeywords: **jmol threejs**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/20978_\n\n",
    "created_at": "2016-07-07T22:18:50Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20graphics",
        "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/needs%20info"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "polygon3d view in jmol broken",
    "type": "issue",
    "updated_at": "2022-09-19T18:58:47Z",
    "url": "https://github.com/sagemath/sage/issues/20978",
    "user": "https://github.com/kcrisman"
}
```

```
polygon3d([[0,0,0], [1,2,3], [3,0,0]]).show(viewer='jmol') 
```
does not show anything.  See [this ask.sagemath question](http://ask.sagemath.org/question/34054/polygon3d-doesnt-work/).

EDIT: Issue previously reported as #19274. Description from that ticket:

Thomas Fernique reported the following bug by private email: from the console, some flat polygons in three-space lead to an empty picture with jmol (java version), for example:

```
sage: polygon([(0, 0, 0), (1, 0, 0), (1, 0, 1), (0, 0, 1)])
```

However, this is correctly displayed with jsmol (javascript version) from the notebook.

I can reproduce this bug on Sage 6.8, Debian GNU/Linux jessie 64 bit, openjdk-7-jre.

Still present in Sage 9.6.beta5, and still after upgrading to 14.32.35 (#30316).


Depends on #30316

CC:  @paulmasson @novoselt @mkoeppe

Keywords: **jmol threejs**

_Issue created by migration from https://trac.sagemath.org/ticket/20978_





---

archive/issue_events_267197.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2016-07-07T22:18:50Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-267197"
}
```



---

archive/issue_events_267198.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2016-07-07T22:18:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20graphics",
    "label_color": "0000ff",
    "label_name": "component: graphics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-267198"
}
```



---

archive/issue_events_267199.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2016-07-07T22:18:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "label": "https://github.com/sagemath/sage/labels/p2%20%E2%80%93%20critical",
    "label_color": "ff7700",
    "label_name": "p2 \u2013 critical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-267199"
}
```



---

archive/issue_events_267200.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2016-07-07T22:18:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-267200"
}
```



---

archive/issue_comments_307401.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nWhen I add an `arrow3d` (for example), then it displays properly:\n\n```\nsage: polygon3d([[0,0,1],[0,1,0],[1,0,0]]) + arrow3d([0,0,0],[1,1,1])\nsage: p2.plot() + arrow3d([0,0,0],[1,1,1])\n```\nIt seems like it is just ignoring the polygon3d when it is the only object:\n\n```\nsage: p = polygon3d([[0,0,1],[0,1,0],[1,0,0]]) + arrow3d([0,0,0],[1,1,1])\nsage: rp = p.default_render_params()\nsage: rp.output_archive = None\nsage: p.jmol_repr(rp)\n['pmesh obj_1 \"/home/travis/.sage/temp/apricot/5573/tmp_pU6Ppq-obj_1.pmesh\"\\ncolor pmesh  [0,0,255]']\n<type 'sage.plot.plot3d.index_face_set.IndexFaceSet'>\n\nsage: p = polygon3d([[0,0,1],[0,1,0],[1,0,0]]) + arrow3d([0,0,0],[1,1,1])\nsage: p.jmol_repr(rp)\n[['pmesh obj_2 \"/home/travis/.sage/temp/apricot/5573/tmp_pU6Ppq-obj_2.pmesh\"\\ncolor pmesh  [0,0,255]'],\n [[['\\ndraw line_3 width 0.02 {0.0 0.0 0.0} {0.896076951546 0.896076951546 0.896076951546}\\ncolor $line_3  [102,102,255]\\n'],\n   [['pmesh obj_4 \"/home/travis/.sage/temp/apricot/5573/tmp_pU6Ppq-obj_4.pmesh\"\\ncolor pmesh  [102,102,255]']]]]]\nsage: type(p)\n<class 'sage.plot.plot3d.base.Graphics3dGroup'>\n\nsage: p = arrow3d([0,0,0],[1,1,1])\nsage: p.plot()    # This works fine\nLaunched jmol viewer for Graphics3d Object\nsage: p.jmol_repr(rp)\n[[['\\ndraw line_5 width 0.02 {0.0 0.0 0.0} {0.896076951546 0.896076951546 0.896076951546}\\ncolor $line_5  [102,102,255]\\n'],\n  [['pmesh obj_6 \"/home/travis/.sage/temp/apricot/5573/tmp_pU6Ppq-obj_6.pmesh\"\\ncolor pmesh  [102,102,255]']]]]\nsage: type(p)\n<class 'sage.plot.plot3d.base.TransformGroup'>\n```\n\nA somewhat strange thing is that the graphics group `jmol_repr` calls the `jmol_repr` of the polygon. Perhaps someone has an idea about this (and knows how to read the jmol input).",
    "created_at": "2016-07-08T04:18:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20978#issuecomment-307401",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:2'>Comment 2:</a>
When I add an `arrow3d` (for example), then it displays properly:

```
sage: polygon3d([[0,0,1],[0,1,0],[1,0,0]]) + arrow3d([0,0,0],[1,1,1])
sage: p2.plot() + arrow3d([0,0,0],[1,1,1])
```
It seems like it is just ignoring the polygon3d when it is the only object:

```
sage: p = polygon3d([[0,0,1],[0,1,0],[1,0,0]]) + arrow3d([0,0,0],[1,1,1])
sage: rp = p.default_render_params()
sage: rp.output_archive = None
sage: p.jmol_repr(rp)
['pmesh obj_1 "/home/travis/.sage/temp/apricot/5573/tmp_pU6Ppq-obj_1.pmesh"\ncolor pmesh  [0,0,255]']
<type 'sage.plot.plot3d.index_face_set.IndexFaceSet'>

sage: p = polygon3d([[0,0,1],[0,1,0],[1,0,0]]) + arrow3d([0,0,0],[1,1,1])
sage: p.jmol_repr(rp)
[['pmesh obj_2 "/home/travis/.sage/temp/apricot/5573/tmp_pU6Ppq-obj_2.pmesh"\ncolor pmesh  [0,0,255]'],
 [[['\ndraw line_3 width 0.02 {0.0 0.0 0.0} {0.896076951546 0.896076951546 0.896076951546}\ncolor $line_3  [102,102,255]\n'],
   [['pmesh obj_4 "/home/travis/.sage/temp/apricot/5573/tmp_pU6Ppq-obj_4.pmesh"\ncolor pmesh  [102,102,255]']]]]]
sage: type(p)
<class 'sage.plot.plot3d.base.Graphics3dGroup'>

sage: p = arrow3d([0,0,0],[1,1,1])
sage: p.plot()    # This works fine
Launched jmol viewer for Graphics3d Object
sage: p.jmol_repr(rp)
[[['\ndraw line_5 width 0.02 {0.0 0.0 0.0} {0.896076951546 0.896076951546 0.896076951546}\ncolor $line_5  [102,102,255]\n'],
  [['pmesh obj_6 "/home/travis/.sage/temp/apricot/5573/tmp_pU6Ppq-obj_6.pmesh"\ncolor pmesh  [102,102,255]']]]]
sage: type(p)
<class 'sage.plot.plot3d.base.TransformGroup'>
```

A somewhat strange thing is that the graphics group `jmol_repr` calls the `jmol_repr` of the polygon. Perhaps someone has an idea about this (and knows how to read the jmol input).



---

archive/issue_comments_307402.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nWorks for me with sage 7.3.beta6 on Ubuntu 15.10 for both sage notebook and jupyter notebook (a blue triangle is displayed in the jmol output). Does *not* work from the sage console (only the bounding box is displayed).",
    "created_at": "2016-07-08T11:35:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20978#issuecomment-307402",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:3'>Comment 3:</a>
Works for me with sage 7.3.beta6 on Ubuntu 15.10 for both sage notebook and jupyter notebook (a blue triangle is displayed in the jmol output). Does *not* work from the sage console (only the bounding box is displayed).



---

archive/issue_comments_307403.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nReplying to [@egourgoulhon](#comment%3A3):\n> Works for me with sage 7.3.beta6 on Ubuntu 15.10 for both sage notebook and jupyter notebook (a blue triangle is displayed in the jmol output). Does *not* work from the sage console (only the bounding box is displayed). \n\nAddendum: in the sage notebook, the triangle is displayed only after one has clicked on the figure.",
    "created_at": "2016-07-08T11:48:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20978#issuecomment-307403",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:4'>Comment 4:</a>
Replying to [@egourgoulhon](#comment%3A3):
> Works for me with sage 7.3.beta6 on Ubuntu 15.10 for both sage notebook and jupyter notebook (a blue triangle is displayed in the jmol output). Does *not* work from the sage console (only the bounding box is displayed). 

Addendum: in the sage notebook, the triangle is displayed only after one has clicked on the figure.



---

archive/issue_comments_307404.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nI don't think this is a Sage problem. If you look at the temporary files under the hidden `User/.sage` directory that are passed to the Jmol viewer, the `pmesh` files for the polygons are there and included every time in the `SCRIPT` file in `scene.spt.zip`. The data for the polygons is exactly the same whether or not the arrow is included.\n\nAs a test, run this at the command line:\n\n```\np=polygon([(0,0,0),(1,0,0),(1,1,0)])\nfor n in range(1,10):\n     p+=polygon([(n,0,0),(n+1,0,0),(n+1,n+1,0)])\n     p\n```\n\nWhen I run it the polygons don't being to appear until there are six of them, and don't appear reliably for higher numbers.\n\nI think this is a Jmol display problem.",
    "created_at": "2016-07-11T20:59:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20978#issuecomment-307404",
    "user": "https://github.com/paulmasson"
}
```

<a id='comment:5'>Comment 5:</a>
I don't think this is a Sage problem. If you look at the temporary files under the hidden `User/.sage` directory that are passed to the Jmol viewer, the `pmesh` files for the polygons are there and included every time in the `SCRIPT` file in `scene.spt.zip`. The data for the polygons is exactly the same whether or not the arrow is included.

As a test, run this at the command line:

```
p=polygon([(0,0,0),(1,0,0),(1,1,0)])
for n in range(1,10):
     p+=polygon([(n,0,0),(n+1,0,0),(n+1,n+1,0)])
     p
```

When I run it the polygons don't being to appear until there are six of them, and don't appear reliably for higher numbers.

I think this is a Jmol display problem.



---

archive/issue_comments_307405.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nHmmm...perhaps it is time to revive the discussion of moving to a different 3d viewing platform? At least we should probably tell upstream.",
    "created_at": "2016-07-12T14:58:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20978#issuecomment-307405",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:6'>Comment 6:</a>
Hmmm...perhaps it is time to revive the discussion of moving to a different 3d viewing platform? At least we should probably tell upstream.



---

archive/issue_comments_307406.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,3 +3,15 @@\n polygon3d([[0,0,0], [1,2,3], [3,0,0]]) \n ```\n does not show anything.  See [this ask.sagemath question](http://ask.sagemath.org/question/34054/polygon3d-doesnt-work/).\n+\n+EDIT: Issue previously reported as #19274. Description from that ticket:\n+\n+Thomas Fernique reported the following bug by private email: from the console, some flat polygons in three-space lead to an empty picture with jmol (java version), for example:\n+\n+```\n+sage: polygon([(0, 0, 0), (1, 0, 0), (1, 0, 1), (0, 0, 1)])\n+```\n+\n+However, this is correctly displayed with jsmol (javascript version) from the notebook.\n+\n+I can reproduce this bug on Sage 6.8, Debian GNU/Linux jessie 64 bit, openjdk-7-jre.\n``````\n",
    "created_at": "2016-07-17T20:24:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20978#issuecomment-307406",
    "user": "https://github.com/paulmasson"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,3 +3,15 @@
 polygon3d([[0,0,0], [1,2,3], [3,0,0]]) 
 ```
 does not show anything.  See [this ask.sagemath question](http://ask.sagemath.org/question/34054/polygon3d-doesnt-work/).
+
+EDIT: Issue previously reported as #19274. Description from that ticket:
+
+Thomas Fernique reported the following bug by private email: from the console, some flat polygons in three-space lead to an empty picture with jmol (java version), for example:
+
+```
+sage: polygon([(0, 0, 0), (1, 0, 0), (1, 0, 1), (0, 0, 1)])
+```
+
+However, this is correctly displayed with jsmol (javascript version) from the notebook.
+
+I can reproduce this bug on Sage 6.8, Debian GNU/Linux jessie 64 bit, openjdk-7-jre.
``````




---

archive/issue_comments_307407.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nOn #12402 I've written some basic Three.js support for `Graphics3d` objects that can handle examples here that fail in Jmol. If there is interest in having an option other than Jmol, feedback on #12402 would be appreciated.",
    "created_at": "2016-09-30T00:10:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20978#issuecomment-307407",
    "user": "https://github.com/paulmasson"
}
```

<a id='comment:9'>Comment 9:</a>
On #12402 I've written some basic Three.js support for `Graphics3d` objects that can handle examples here that fail in Jmol. If there is interest in having an option other than Jmol, feedback on #12402 would be appreciated.



---

archive/issue_comments_307408.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nIs this usable with sage running in a terminal? Note that the failure documented in this ticket is about the Java version of Jmol, which is the one that is used in this situation.",
    "created_at": "2016-09-30T05:47:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20978#issuecomment-307408",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:10'>Comment 10:</a>
Is this usable with sage running in a terminal? Note that the failure documented in this ticket is about the Java version of Jmol, which is the one that is used in this situation.



---

archive/issue_comments_307409.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nReplying to [@mkoeppe](#comment%3A10):\n> Is this usable with sage running in a terminal?\n\nYup! That's the entire point: an HTML file is generated at the command line and saved in a temporary file like other plots. It can then be displayed immediately in a browser, or embedded in an iframe for future application in notebooks or the cell server.",
    "created_at": "2016-09-30T19:52:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20978#issuecomment-307409",
    "user": "https://github.com/paulmasson"
}
```

<a id='comment:11'>Comment 11:</a>
Replying to [@mkoeppe](#comment%3A10):
> Is this usable with sage running in a terminal?

Yup! That's the entire point: an HTML file is generated at the command line and saved in a temporary file like other plots. It can then be displayed immediately in a browser, or embedded in an iframe for future application in notebooks or the cell server.



---

archive/issue_events_267201.json:
```json
{
    "actor": "https://github.com/paulmasson",
    "created_at": "2019-10-08T20:27:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-267201"
}
```



---

archive/issue_comments_307410.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nSince Three.js will be the default viewer in Sage 9.0 this ticket can be closed.",
    "created_at": "2019-10-08T20:27:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20978#issuecomment-307410",
    "user": "https://github.com/paulmasson"
}
```

<a id='comment:12'>Comment 12:</a>
Since Three.js will be the default viewer in Sage 9.0 this ticket can be closed.



---

archive/issue_events_267202.json:
```json
{
    "actor": "https://github.com/paulmasson",
    "created_at": "2019-10-08T20:27:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "milestone_number": null,
    "milestone_title": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-267202"
}
```



---

archive/issue_events_267203.json:
```json
{
    "actor": "https://github.com/paulmasson",
    "created_at": "2019-10-08T20:27:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "label": "https://github.com/sagemath/sage/labels/p2%20%E2%80%93%20critical",
    "label_color": "ff7700",
    "label_name": "p2 \u2013 critical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-267203"
}
```



---

archive/issue_events_267204.json:
```json
{
    "actor": "https://github.com/paulmasson",
    "created_at": "2019-10-08T20:27:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "a6a6a6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-267204"
}
```



---

archive/issue_comments_307411.json:
```json
{
    "body": "Changed keywords from **** to **jmol threejs**",
    "created_at": "2019-10-08T20:27:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20978#issuecomment-307411",
    "user": "https://github.com/paulmasson"
}
```

Changed keywords from **** to **jmol threejs**



---

archive/issue_events_267205.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2019-10-08T21:08:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-267205"
}
```



---

archive/issue_events_267206.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2019-10-08T21:08:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-267206"
}
```



---

archive/issue_comments_307412.json:
```json
{
    "body": "Reviewer: **Eric Gourgoulhon**",
    "created_at": "2019-10-08T21:08:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20978#issuecomment-307412",
    "user": "https://github.com/egourgoulhon"
}
```

Reviewer: **Eric Gourgoulhon**



---

archive/issue_comments_307413.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nReplying to [@paulmasson](#comment%3A12):\n> Since Three.js will be the default viewer in Sage 9.0 this ticket can be closed.\n\nYes indeed.",
    "created_at": "2019-10-08T21:08:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20978#issuecomment-307413",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:13'>Comment 13:</a>
Replying to [@paulmasson](#comment%3A12):
> Since Three.js will be the default viewer in Sage 9.0 this ticket can be closed.

Yes indeed.



---

archive/issue_comments_307414.json:
```json
{
    "body": "Changed reviewer from **Eric Gourgoulhon** to none",
    "created_at": "2019-10-08T21:09:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20978#issuecomment-307414",
    "user": "https://github.com/kcrisman"
}
```

Changed reviewer from **Eric Gourgoulhon** to none



---

archive/issue_events_267207.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2019-10-08T21:09:02Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "milestone_number": null,
    "milestone_title": "sage-9.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-267207"
}
```



---

archive/issue_events_267208.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2019-10-08T21:09:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-267208"
}
```



---

archive/issue_events_267209.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2019-10-08T21:09:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-267209"
}
```



---

archive/issue_comments_307415.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nJust because the default changes doesn't mean this is fixed, and some people may still be using Jmol from command line or whatever.    But we can certainly modify the ticket.",
    "created_at": "2019-10-08T21:09:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20978#issuecomment-307415",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:14'>Comment 14:</a>
Just because the default changes doesn't mean this is fixed, and some people may still be using Jmol from command line or whatever.    But we can certainly modify the ticket.



---

archive/issue_events_267210.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2019-10-08T21:09:41Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "title_is": "polygon3d view in jmol broken",
    "title_was": "polygon3d view broken",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-267210"
}
```



---

archive/issue_comments_307416.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nReplying to [@kcrisman](#comment%3A14):\n> Just because the default changes doesn't mean this is fixed, and some people may still be using Jmol from command line or whatever.    \n\nYes you are right of course, I've been too fast here.",
    "created_at": "2019-10-08T21:14:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20978#issuecomment-307416",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:16'>Comment 16:</a>
Replying to [@kcrisman](#comment%3A14):
> Just because the default changes doesn't mean this is fixed, and some people may still be using Jmol from command line or whatever.    

Yes you are right of course, I've been too fast here.



---

archive/issue_comments_307417.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nFor the record, the issue is still there in Sage 9.0.beta0, even after the update of Jmol in #25026.",
    "created_at": "2019-10-08T21:18:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20978#issuecomment-307417",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:17'>Comment 17:</a>
For the record, the issue is still there in Sage 9.0.beta0, even after the update of Jmol in #25026.



---

archive/issue_comments_307418.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nReplying to [@kcrisman](#comment%3A14):\n> Just because the default changes doesn't mean this is fixed, and some people may still be using Jmol from command line or whatever.    But we can certainly modify the ticket.\n\nAs I pointed out three years ago, this is not a Sage problem and won\u2019t get fixed here. Are you keeping the ticket open monitor upstream activity? Otherwise it should be closed.",
    "created_at": "2019-10-08T22:29:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20978#issuecomment-307418",
    "user": "https://github.com/paulmasson"
}
```

<a id='comment:18'>Comment 18:</a>
Replying to [@kcrisman](#comment%3A14):
> Just because the default changes doesn't mean this is fixed, and some people may still be using Jmol from command line or whatever.    But we can certainly modify the ticket.

As I pointed out three years ago, this is not a Sage problem and won’t get fixed here. Are you keeping the ticket open monitor upstream activity? Otherwise it should be closed.



---

archive/issue_comments_307419.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nWe have tons of tickets here that monitor upstream activity, because they impact Sage usability in various contexts.   I notice that \"Report Upstream\" is currently N/A, though, so maybe that should be changed and possibly worked on.  I often do this with Maxima bugs but I don't know what the current Jmol upstream reporting process is.",
    "created_at": "2019-10-09T12:19:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20978#issuecomment-307419",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:19'>Comment 19:</a>
We have tons of tickets here that monitor upstream activity, because they impact Sage usability in various contexts.   I notice that "Report Upstream" is currently N/A, though, so maybe that should be changed and possibly worked on.  I often do this with Maxima bugs but I don't know what the current Jmol upstream reporting process is.



---

archive/issue_events_267211.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2020-01-06T14:10:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "milestone_number": null,
    "milestone_title": "sage-9.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-267211"
}
```



---

archive/issue_events_267212.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2020-01-06T14:10:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-267212"
}
```



---

archive/issue_comments_307420.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nTicket retargeted after milestone closed",
    "created_at": "2020-01-06T14:10:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20978#issuecomment-307420",
    "user": "https://github.com/embray"
}
```

<a id='comment:20'>Comment 20:</a>
Ticket retargeted after milestone closed



---

archive/issue_events_267213.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-01T04:28:42Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-267213"
}
```



---

archive/issue_events_267214.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-01T04:28:42Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-267214"
}
```



---

archive/issue_comments_307421.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nMoving tickets to milestone sage-9.2 based on a review of last modification date, branch status, and severity.",
    "created_at": "2020-05-01T04:28:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20978#issuecomment-307421",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:21'>Comment 21:</a>
Moving tickets to milestone sage-9.2 based on a review of last modification date, branch status, and severity.



---

archive/issue_events_267215.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-267215"
}
```



---

archive/issue_events_267216.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-267216"
}
```



---

archive/issue_comments_307422.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nMoving this ticket to 9.4, as it seems unlikely that it will be merged in 9.3, which is in the release candidate stage",
    "created_at": "2021-04-02T20:21:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20978#issuecomment-307422",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:23'>Comment 23:</a>
Moving this ticket to 9.4, as it seems unlikely that it will be merged in 9.3, which is in the release candidate stage



---

archive/issue_events_267217.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-02T20:21:54Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-267217"
}
```



---

archive/issue_events_267218.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-02T20:21:54Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-267218"
}
```



---

archive/issue_comments_307423.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nSetting a new milestone for this ticket based on a cursory review.",
    "created_at": "2021-07-19T00:44:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20978#issuecomment-307423",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:24'>Comment 24:</a>
Setting a new milestone for this ticket based on a cursory review.



---

archive/issue_events_267219.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-267219"
}
```



---

archive/issue_events_267220.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-267220"
}
```



---

archive/issue_events_267221.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:53:12Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-267221"
}
```



---

archive/issue_events_267222.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:53:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-267222"
}
```



---

archive/issue_comments_307424.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nStalled in `needs_review` or `needs_info`; likely won't make it into Sage 9.5.",
    "created_at": "2021-12-18T19:53:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20978#issuecomment-307424",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:25'>Comment 25:</a>
Stalled in `needs_review` or `needs_info`; likely won't make it into Sage 9.5.



---

archive/issue_comments_307425.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n \n ```\n-polygon3d([[0,0,0], [1,2,3], [3,0,0]]) \n+polygon3d([[0,0,0], [1,2,3], [3,0,0]]).show(viewer='jmol') \n ```\n does not show anything.  See [this ask.sagemath question](http://ask.sagemath.org/question/34054/polygon3d-doesnt-work/).\n \n@@ -15,3 +15,5 @@\n However, this is correctly displayed with jsmol (javascript version) from the notebook.\n \n I can reproduce this bug on Sage 6.8, Debian GNU/Linux jessie 64 bit, openjdk-7-jre.\n+\n+Still present in Sage 9.6.beta5\n``````\n",
    "created_at": "2022-03-15T19:36:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20978#issuecomment-307425",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,6 @@
 
 ```
-polygon3d([[0,0,0], [1,2,3], [3,0,0]]) 
+polygon3d([[0,0,0], [1,2,3], [3,0,0]]).show(viewer='jmol') 
 ```
 does not show anything.  See [this ask.sagemath question](http://ask.sagemath.org/question/34054/polygon3d-doesnt-work/).
 
@@ -15,3 +15,5 @@
 However, this is correctly displayed with jsmol (javascript version) from the notebook.
 
 I can reproduce this bug on Sage 6.8, Debian GNU/Linux jessie 64 bit, openjdk-7-jre.
+
+Still present in Sage 9.6.beta5
``````




---

archive/issue_comments_307426.json:
```json
{
    "body": "Dependencies: **#30316**",
    "created_at": "2022-03-15T19:37:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20978#issuecomment-307426",
    "user": "https://github.com/mkoeppe"
}
```

Dependencies: **#30316**



---

archive/issue_comments_307427.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -16,4 +16,5 @@\n \n I can reproduce this bug on Sage 6.8, Debian GNU/Linux jessie 64 bit, openjdk-7-jre.\n \n-Still present in Sage 9.6.beta5\n+Still present in Sage 9.6.beta5, and still after upgrading to 14.32.35 (#30316).\n+\n``````\n",
    "created_at": "2022-03-15T20:41:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20978#issuecomment-307427",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -16,4 +16,5 @@
 
 I can reproduce this bug on Sage 6.8, Debian GNU/Linux jessie 64 bit, openjdk-7-jre.
 
-Still present in Sage 9.6.beta5
+Still present in Sage 9.6.beta5, and still after upgrading to 14.32.35 (#30316).
+
``````




---

archive/issue_events_267223.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-11T17:19:39Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-267223"
}
```



---

archive/issue_events_267224.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-11T17:19:39Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-267224"
}
```



---

archive/issue_events_267225.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-267225"
}
```



---

archive/issue_events_267226.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20978",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20978#event-267226"
}
```
