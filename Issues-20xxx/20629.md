# Issue 20629: some absolute imports in the rings folder

archive/issues_020392.json:
```json
{
    "assignees": [],
    "body": "convert some of the files in the rings folder to absolute import.\n\na small step towards py3\n\nThis involved untangling (partly) the import-hell in the rings folder.\n\n**CC:**  @jdemeyer @embray @tscrim\n\n**Keywords:** days74\n\n**Branch:** [5be6969acc605b0149c8770361eb52bbfbf62a93](https://github.com/sagemath/sagetrac-mirror/commit/5be6969acc605b0149c8770361eb52bbfbf62a93)\n\n**Reviewer:** Jeroen Demeyer, Travis Scrimshaw\n\n**Author:** Fr\u00e9d\u00e9ric Chapoton\n\nIssue created by migration from https://trac.sagemath.org/ticket/20629\n\n",
    "closed_at": "2016-06-26T07:30:39Z",
    "created_at": "2016-05-19T13:08:46Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20python3",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "some absolute imports in the rings folder",
    "type": "issue",
    "updated_at": "2016-06-27T08:53:31Z",
    "url": "https://github.com/sagemath/sage/issues/20629",
    "user": "https://github.com/fchapoton"
}
```
convert some of the files in the rings folder to absolute import.

a small step towards py3

This involved untangling (partly) the import-hell in the rings folder.

**CC:**  @jdemeyer @embray @tscrim

**Keywords:** days74

**Branch:** [5be6969acc605b0149c8770361eb52bbfbf62a93](https://github.com/sagemath/sagetrac-mirror/commit/5be6969acc605b0149c8770361eb52bbfbf62a93)

**Reviewer:** Jeroen Demeyer, Travis Scrimshaw

**Author:** Frédéric Chapoton

Issue created by migration from https://trac.sagemath.org/ticket/20629





---

archive/issue_events_251149.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-05-19T13:08:46Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "milestone_number": null,
    "milestone_title": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20629#event-251149"
}
```



---

archive/issue_events_251150.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-05-19T13:08:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20python3",
    "label_color": "08517b",
    "label_name": "component: python3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20629#event-251150"
}
```



---

archive/issue_events_251151.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-05-19T13:08:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "008080",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20629#event-251151"
}
```



---

archive/issue_comments_300807.json:
```json
{
    "body": "**Branch:** [public/20629](https://github.com/sagemath/sagetrac-mirror/tree/public/20629)",
    "created_at": "2016-05-19T13:09:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-300807",
    "user": "https://github.com/fchapoton"
}
```

**Branch:** [public/20629](https://github.com/sagemath/sagetrac-mirror/tree/public/20629)



---

archive/issue_comments_300808.json:
```json
{
    "body": "**Commit:** [0eb3d94d4a3d621a52785397ad567d1a9ef9632c](https://github.com/sagemath/sagetrac-mirror/commit/0eb3d94d4a3d621a52785397ad567d1a9ef9632c)",
    "created_at": "2016-05-19T13:09:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-300808",
    "user": "https://github.com/fchapoton"
}
```

**Commit:** [0eb3d94d4a3d621a52785397ad567d1a9ef9632c](https://github.com/sagemath/sagetrac-mirror/commit/0eb3d94d4a3d621a52785397ad567d1a9ef9632c)



---

archive/issue_comments_300809.json:
```json
{
    "body": "<a id='comment:1'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0eb3d94d4a3d621a52785397ad567d1a9ef9632c\">0eb3d94</a></td><td><code>absolute import in the rings folder</code></td></tr></table>\n",
    "created_at": "2016-05-19T13:09:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-300809",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0eb3d94d4a3d621a52785397ad567d1a9ef9632c">0eb3d94</a></td><td><code>absolute import in the rings folder</code></td></tr></table>




---

archive/issue_events_251152.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-05-19T13:09:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20629#event-251152"
}
```



---

archive/issue_comments_300810.json:
```json
{
    "body": "<a id='comment:2'></a>\nDo we really need this in `src/sage/rings/asymptotic/__init__.py` and `src/sage/rings/semirings/__init__.py`, why aren't these files just empty?\n\n```\nfrom __future__ import absolute_import\n\nfrom . import all\n```",
    "created_at": "2016-05-19T13:27:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-300810",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:2'></a>
Do we really need this in `src/sage/rings/asymptotic/__init__.py` and `src/sage/rings/semirings/__init__.py`, why aren't these files just empty?

```
from __future__ import absolute_import

from . import all
```



---

archive/issue_comments_300811.json:
```json
{
    "body": "**Changing commit** from \"[0eb3d94d4a3d621a52785397ad567d1a9ef9632c](https://github.com/sagemath/sagetrac-mirror/commit/0eb3d94d4a3d621a52785397ad567d1a9ef9632c)\" to \"[1b5b55f65cfcabb5a890b60e88bb79318969b255](https://github.com/sagemath/sagetrac-mirror/commit/1b5b55f65cfcabb5a890b60e88bb79318969b255)\".",
    "created_at": "2016-05-19T13:28:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-300811",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[0eb3d94d4a3d621a52785397ad567d1a9ef9632c](https://github.com/sagemath/sagetrac-mirror/commit/0eb3d94d4a3d621a52785397ad567d1a9ef9632c)" to "[1b5b55f65cfcabb5a890b60e88bb79318969b255](https://github.com/sagemath/sagetrac-mirror/commit/1b5b55f65cfcabb5a890b60e88bb79318969b255)".



---

archive/issue_comments_300812.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1b5b55f65cfcabb5a890b60e88bb79318969b255\">1b5b55f</a></td><td><code>empty two `__init__` files</code></td></tr></table>\n",
    "created_at": "2016-05-19T13:28:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-300812",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:3'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1b5b55f65cfcabb5a890b60e88bb79318969b255">1b5b55f</a></td><td><code>empty two `__init__` files</code></td></tr></table>




---

archive/issue_comments_300813.json:
```json
{
    "body": "<a id='comment:4'></a>\nStyle issue: better use\n\n```\nfrom .padic_base_leaves import (pAdicRingCappedRelative,\n        pAdicRingCappedAbsolute, pAdicRingFixedMod,\n        pAdicFieldCappedRelative)\n```\ninstead of\n\n```\nfrom .padic_base_leaves import pAdicRingCappedRelative, \\\n                               pAdicRingCappedAbsolute, \\\n                               pAdicRingFixedMod, \\\n                               pAdicFieldCappedRelative\n```",
    "created_at": "2016-05-19T13:29:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-300813",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:4'></a>
Style issue: better use

```
from .padic_base_leaves import (pAdicRingCappedRelative,
        pAdicRingCappedAbsolute, pAdicRingFixedMod,
        pAdicFieldCappedRelative)
```
instead of

```
from .padic_base_leaves import pAdicRingCappedRelative, \
                               pAdicRingCappedAbsolute, \
                               pAdicRingFixedMod, \
                               pAdicFieldCappedRelative
```



---

archive/issue_comments_300814.json:
```json
{
    "body": "<a id='comment:5'></a>\nQuestion: why do you only consider Python (`.py`) files and not Cython (`.pyx`)? I'm NOT saying that you should do this in this ticket, just asking why...",
    "created_at": "2016-05-19T13:31:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-300814",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:5'></a>
Question: why do you only consider Python (`.py`) files and not Cython (`.pyx`)? I'm NOT saying that you should do this in this ticket, just asking why...



---

archive/issue_comments_300815.json:
```json
{
    "body": "<a id='comment:6'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c4a62970b04a17435e0e10b145b13d4f7160a575\">c4a6297</a></td><td><code>trac 20629 style change</code></td></tr></table>\n",
    "created_at": "2016-05-19T13:31:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-300815",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:6'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c4a62970b04a17435e0e10b145b13d4f7160a575">c4a6297</a></td><td><code>trac 20629 style change</code></td></tr></table>




---

archive/issue_comments_300816.json:
```json
{
    "body": "**Changing commit** from \"[1b5b55f65cfcabb5a890b60e88bb79318969b255](https://github.com/sagemath/sagetrac-mirror/commit/1b5b55f65cfcabb5a890b60e88bb79318969b255)\" to \"[c4a62970b04a17435e0e10b145b13d4f7160a575](https://github.com/sagemath/sagetrac-mirror/commit/c4a62970b04a17435e0e10b145b13d4f7160a575)\".",
    "created_at": "2016-05-19T13:31:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-300816",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[1b5b55f65cfcabb5a890b60e88bb79318969b255](https://github.com/sagemath/sagetrac-mirror/commit/1b5b55f65cfcabb5a890b60e88bb79318969b255)" to "[c4a62970b04a17435e0e10b145b13d4f7160a575](https://github.com/sagemath/sagetrac-mirror/commit/c4a62970b04a17435e0e10b145b13d4f7160a575)".



---

archive/issue_comments_300817.json:
```json
{
    "body": "<a id='comment:7'></a>\nReplying to [@jdemeyer](#comment%3A5):\n> Question: why do you only consider Python (`.py`) files and not Cython (`.pyx`)? I'm NOT saying that you should do this in this ticket, just asking why...\n\noh, I just made a grep restricted to py files. Anyway, this is only a very partial change.",
    "created_at": "2016-05-19T13:32:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-300817",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:7'></a>
Replying to [@jdemeyer](#comment%3A5):
> Question: why do you only consider Python (`.py`) files and not Cython (`.pyx`)? I'm NOT saying that you should do this in this ticket, just asking why...

oh, I just made a grep restricted to py files. Anyway, this is only a very partial change.



---

archive/issue_comments_300818.json:
```json
{
    "body": "<a id='comment:8'></a>\npositive_review if this passes buildbot testing",
    "created_at": "2016-05-19T13:43:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-300818",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:8'></a>
positive_review if this passes buildbot testing



---

archive/issue_comments_300819.json:
```json
{
    "body": "**Reviewer:** Jeroen Demeyer",
    "created_at": "2016-05-19T13:43:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-300819",
    "user": "https://github.com/jdemeyer"
}
```

**Reviewer:** Jeroen Demeyer



---

archive/issue_comments_300820.json:
```json
{
    "body": "<a id='comment:9'></a>\nHum, it seems that there is a problem with the **correct** python3 syntax\n\n```\nfrom . import rational\n```\nwhen the module `rational` is a cython module.\n\nIs there some cython expert in the neighborhood ?",
    "created_at": "2016-05-19T17:21:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-300820",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:9'></a>
Hum, it seems that there is a problem with the **correct** python3 syntax

```
from . import rational
```
when the module `rational` is a cython module.

Is there some cython expert in the neighborhood ?



---

archive/issue_comments_300821.json:
```json
{
    "body": "<a id='comment:10'></a>\nI don't know if it's really a Cython problem.",
    "created_at": "2016-05-19T18:03:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-300821",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:10'></a>
I don't know if it's really a Cython problem.



---

archive/issue_comments_300822.json:
```json
{
    "body": "<a id='comment:11'></a>\nmaybe a circular dependency ?",
    "created_at": "2016-05-19T18:39:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-300822",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:11'></a>
maybe a circular dependency ?



---

archive/issue_events_251153.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-05-20T15:32:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20629#event-251153"
}
```



---

archive/issue_events_251154.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-05-20T15:32:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20629#event-251154"
}
```



---

archive/issue_comments_300823.json:
```json
{
    "body": "<a id='comment:12'></a>\nIt seems that this involves some kind of circular import hell.",
    "created_at": "2016-05-20T15:32:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-300823",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:12'></a>
It seems that this involves some kind of circular import hell.



---

archive/issue_comments_300824.json:
```json
{
    "body": "<a id='comment:13'></a>\nProbably, although it's not clear why something would fail as relative import but not as normal import...",
    "created_at": "2016-05-20T16:34:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-300824",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:13'></a>
Probably, although it's not clear why something would fail as relative import but not as normal import...



---

archive/issue_comments_300825.json:
```json
{
    "body": "<a id='comment:14'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b299e4efcb455409d291b8801ab7b7622a3e169d\">b299e4e</a></td><td><code>Merge branch 'public/20629' into 7.3.b0</code></td></tr></table>\n",
    "created_at": "2016-05-24T18:35:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-300825",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:14'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b299e4efcb455409d291b8801ab7b7622a3e169d">b299e4e</a></td><td><code>Merge branch 'public/20629' into 7.3.b0</code></td></tr></table>




---

archive/issue_comments_300826.json:
```json
{
    "body": "**Changing commit** from \"[c4a62970b04a17435e0e10b145b13d4f7160a575](https://github.com/sagemath/sagetrac-mirror/commit/c4a62970b04a17435e0e10b145b13d4f7160a575)\" to \"[b299e4efcb455409d291b8801ab7b7622a3e169d](https://github.com/sagemath/sagetrac-mirror/commit/b299e4efcb455409d291b8801ab7b7622a3e169d)\".",
    "created_at": "2016-05-24T18:35:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-300826",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[c4a62970b04a17435e0e10b145b13d4f7160a575](https://github.com/sagemath/sagetrac-mirror/commit/c4a62970b04a17435e0e10b145b13d4f7160a575)" to "[b299e4efcb455409d291b8801ab7b7622a3e169d](https://github.com/sagemath/sagetrac-mirror/commit/b299e4efcb455409d291b8801ab7b7622a3e169d)".



---

archive/issue_comments_300827.json:
```json
{
    "body": "<a id='comment:15'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/daf689d02e7b14baa04503fe4ed68f825cbb58ec\">daf689d</a></td><td><code>trac 20629 somewhat untangling the import hell in rings</code></td></tr></table>\n",
    "created_at": "2016-05-24T19:20:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-300827",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:15'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/daf689d02e7b14baa04503fe4ed68f825cbb58ec">daf689d</a></td><td><code>trac 20629 somewhat untangling the import hell in rings</code></td></tr></table>




---

archive/issue_comments_300828.json:
```json
{
    "body": "**Changing commit** from \"[b299e4efcb455409d291b8801ab7b7622a3e169d](https://github.com/sagemath/sagetrac-mirror/commit/b299e4efcb455409d291b8801ab7b7622a3e169d)\" to \"[daf689d02e7b14baa04503fe4ed68f825cbb58ec](https://github.com/sagemath/sagetrac-mirror/commit/daf689d02e7b14baa04503fe4ed68f825cbb58ec)\".",
    "created_at": "2016-05-24T19:20:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-300828",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[b299e4efcb455409d291b8801ab7b7622a3e169d](https://github.com/sagemath/sagetrac-mirror/commit/b299e4efcb455409d291b8801ab7b7622a3e169d)" to "[daf689d02e7b14baa04503fe4ed68f825cbb58ec](https://github.com/sagemath/sagetrac-mirror/commit/daf689d02e7b14baa04503fe4ed68f825cbb58ec)".



---

archive/issue_comments_300829.json:
```json
{
    "body": "<a id='comment:16'></a>\nAfter a long battling against the import hell in the rings folder, I think I have now a working branch.\n\nReview, please !",
    "created_at": "2016-05-24T19:26:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-300829",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:16'></a>
After a long battling against the import hell in the rings folder, I think I have now a working branch.

Review, please !



---

archive/issue_events_251155.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-05-24T19:26:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20629#event-251155"
}
```



---

archive/issue_events_251156.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-05-24T19:26:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20629#event-251156"
}
```



---

archive/issue_comments_300830.json:
```json
{
    "body": "**Changing commit** from \"[daf689d02e7b14baa04503fe4ed68f825cbb58ec](https://github.com/sagemath/sagetrac-mirror/commit/daf689d02e7b14baa04503fe4ed68f825cbb58ec)\" to \"[4766d78f2a0fd676da1e5da4acdc8bc5d1a02bac](https://github.com/sagemath/sagetrac-mirror/commit/4766d78f2a0fd676da1e5da4acdc8bc5d1a02bac)\".",
    "created_at": "2016-05-25T06:20:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-300830",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[daf689d02e7b14baa04503fe4ed68f825cbb58ec](https://github.com/sagemath/sagetrac-mirror/commit/daf689d02e7b14baa04503fe4ed68f825cbb58ec)" to "[4766d78f2a0fd676da1e5da4acdc8bc5d1a02bac](https://github.com/sagemath/sagetrac-mirror/commit/4766d78f2a0fd676da1e5da4acdc8bc5d1a02bac)".



---

archive/issue_comments_300831.json:
```json
{
    "body": "<a id='comment:17'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4766d78f2a0fd676da1e5da4acdc8bc5d1a02bac\">4766d78</a></td><td><code>trac 20629 again forgot a change</code></td></tr></table>\n",
    "created_at": "2016-05-25T06:20:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-300831",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:17'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4766d78f2a0fd676da1e5da4acdc8bc5d1a02bac">4766d78</a></td><td><code>trac 20629 again forgot a change</code></td></tr></table>




---

archive/issue_comments_300832.json:
```json
{
    "body": "<a id='comment:18'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/838ad285dc6581a219472968827176278e68faed\">838ad28</a></td><td><code>trac 20629 two more changes again</code></td></tr></table>\n",
    "created_at": "2016-05-25T09:23:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-300832",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:18'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/838ad285dc6581a219472968827176278e68faed">838ad28</a></td><td><code>trac 20629 two more changes again</code></td></tr></table>




---

archive/issue_comments_300833.json:
```json
{
    "body": "**Changing commit** from \"[4766d78f2a0fd676da1e5da4acdc8bc5d1a02bac](https://github.com/sagemath/sagetrac-mirror/commit/4766d78f2a0fd676da1e5da4acdc8bc5d1a02bac)\" to \"[838ad285dc6581a219472968827176278e68faed](https://github.com/sagemath/sagetrac-mirror/commit/838ad285dc6581a219472968827176278e68faed)\".",
    "created_at": "2016-05-25T09:23:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-300833",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[4766d78f2a0fd676da1e5da4acdc8bc5d1a02bac](https://github.com/sagemath/sagetrac-mirror/commit/4766d78f2a0fd676da1e5da4acdc8bc5d1a02bac)" to "[838ad285dc6581a219472968827176278e68faed](https://github.com/sagemath/sagetrac-mirror/commit/838ad285dc6581a219472968827176278e68faed)".



---

archive/issue_comments_300834.json:
```json
{
    "body": "<a id='comment:19'></a>\nok, let me put this in `needs_works`, as there is still some failing doctests. This is a tricky ticket.",
    "created_at": "2016-05-25T10:03:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-300834",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:19'></a>
ok, let me put this in `needs_works`, as there is still some failing doctests. This is a tricky ticket.



---

archive/issue_events_251157.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-05-25T10:03:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20629#event-251157"
}
```



---

archive/issue_events_251158.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-05-25T10:03:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20629#event-251158"
}
```



---

archive/issue_comments_300835.json:
```json
{
    "body": "<a id='comment:20'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1c92b40267abe3993d6b154d5333aea37c724d53\">1c92b40</a></td><td><code>Merge branch 'public/20629' into 7.3.b1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8b7bf78e5eb5ea5bfa757ba21e13d7d38d2f0e3c\">8b7bf78</a></td><td><code>trac 20629 other import corrections</code></td></tr></table>\n",
    "created_at": "2016-05-25T13:53:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-300835",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:20'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1c92b40267abe3993d6b154d5333aea37c724d53">1c92b40</a></td><td><code>Merge branch 'public/20629' into 7.3.b1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8b7bf78e5eb5ea5bfa757ba21e13d7d38d2f0e3c">8b7bf78</a></td><td><code>trac 20629 other import corrections</code></td></tr></table>




---

archive/issue_comments_300836.json:
```json
{
    "body": "**Changing commit** from \"[838ad285dc6581a219472968827176278e68faed](https://github.com/sagemath/sagetrac-mirror/commit/838ad285dc6581a219472968827176278e68faed)\" to \"[8b7bf78e5eb5ea5bfa757ba21e13d7d38d2f0e3c](https://github.com/sagemath/sagetrac-mirror/commit/8b7bf78e5eb5ea5bfa757ba21e13d7d38d2f0e3c)\".",
    "created_at": "2016-05-25T13:53:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-300836",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[838ad285dc6581a219472968827176278e68faed](https://github.com/sagemath/sagetrac-mirror/commit/838ad285dc6581a219472968827176278e68faed)" to "[8b7bf78e5eb5ea5bfa757ba21e13d7d38d2f0e3c](https://github.com/sagemath/sagetrac-mirror/commit/8b7bf78e5eb5ea5bfa757ba21e13d7d38d2f0e3c)".



---

archive/issue_comments_300837.json:
```json
{
    "body": "**Changing commit** from \"[8b7bf78e5eb5ea5bfa757ba21e13d7d38d2f0e3c](https://github.com/sagemath/sagetrac-mirror/commit/8b7bf78e5eb5ea5bfa757ba21e13d7d38d2f0e3c)\" to \"[b67f3d48a4fcbdb4e9a54385189e7d4334d88d0e](https://github.com/sagemath/sagetrac-mirror/commit/b67f3d48a4fcbdb4e9a54385189e7d4334d88d0e)\".",
    "created_at": "2016-05-25T18:20:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-300837",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[8b7bf78e5eb5ea5bfa757ba21e13d7d38d2f0e3c](https://github.com/sagemath/sagetrac-mirror/commit/8b7bf78e5eb5ea5bfa757ba21e13d7d38d2f0e3c)" to "[b67f3d48a4fcbdb4e9a54385189e7d4334d88d0e](https://github.com/sagemath/sagetrac-mirror/commit/b67f3d48a4fcbdb4e9a54385189e7d4334d88d0e)".



---

archive/issue_comments_300838.json:
```json
{
    "body": "<a id='comment:21'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b67f3d48a4fcbdb4e9a54385189e7d4334d88d0e\">b67f3d4</a></td><td><code>trac 20629 other missing dots in imports</code></td></tr></table>\n",
    "created_at": "2016-05-25T18:20:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-300838",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:21'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b67f3d48a4fcbdb4e9a54385189e7d4334d88d0e">b67f3d4</a></td><td><code>trac 20629 other missing dots in imports</code></td></tr></table>




---

archive/issue_comments_300839.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n convert some of the files in the rings folder to absolute import.\n \n a small step towards py3\n+\n+This involved untangling (partly) the import-hell in the rings folder.\n``````\n",
    "created_at": "2016-05-26T06:13:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-300839",
    "user": "https://github.com/fchapoton"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
 convert some of the files in the rings folder to absolute import.
 
 a small step towards py3
+
+This involved untangling (partly) the import-hell in the rings folder.
``````




---

archive/issue_events_251159.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-05-26T06:13:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20629#event-251159"
}
```



---

archive/issue_events_251160.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-05-26T06:13:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20629#event-251160"
}
```



---

archive/issue_comments_300840.json:
```json
{
    "body": "<a id='comment:22'></a>\nhurray ! bot is green ! Please review",
    "created_at": "2016-05-26T06:13:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-300840",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:22'></a>
hurray ! bot is green ! Please review



---

archive/issue_comments_300841.json:
```json
{
    "body": "<a id='comment:23'></a>\nOne of the reasons why you might have started to see the import hell is that you imported a few things directly from the modules, rather than importing the entire module. In order to do the former, Python needs to evaluate the module at the moment you call the `from foo import bar`, whereas the latter is done when first calling `foo.bar` (not at `import foo`). This is why the \"Pythonic\" way is to `import foo` and then do `foo.bar`, but IMO, it just means we have to do more reading and/or work for maintenance.",
    "created_at": "2016-05-26T06:24:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-300841",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:23'></a>
One of the reasons why you might have started to see the import hell is that you imported a few things directly from the modules, rather than importing the entire module. In order to do the former, Python needs to evaluate the module at the moment you call the `from foo import bar`, whereas the latter is done when first calling `foo.bar` (not at `import foo`). This is why the "Pythonic" way is to `import foo` and then do `foo.bar`, but IMO, it just means we have to do more reading and/or work for maintenance.



---

archive/issue_comments_300842.json:
```json
{
    "body": "<a id='comment:24'></a>\nHmm, not sure I understand your conclusion. Did I do something \"wrong\" ? Should we try to use `import foo` as much as possible, or the contrary ?\n\nI just started wanting to convert to python3-compatible imports, and then had to resolve\na whole lot of circular imports. I did that by moving some imports inside functions, instead\nof being on top of the files.",
    "created_at": "2016-05-26T06:33:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-300842",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:24'></a>
Hmm, not sure I understand your conclusion. Did I do something "wrong" ? Should we try to use `import foo` as much as possible, or the contrary ?

I just started wanting to convert to python3-compatible imports, and then had to resolve
a whole lot of circular imports. I did that by moving some imports inside functions, instead
of being on top of the files.



---

archive/issue_comments_300843.json:
```json
{
    "body": "<a id='comment:25'></a>\nReplying to [@fchapoton](#comment%3A24):\n> Hmm, not sure I understand your conclusion. Did I do something \"wrong\" ? Should we try to use `import foo` as much as possible, or the contrary ?\n\nWell...there's my diagnosis of what might have caused the problem, and the \"pythonic\" treatment. However, I disagree with it being the best way to fix things.\n\n> I just started wanting to convert to python3-compatible imports, and then had to resolve\n> a whole lot of circular imports. I did that by moving some imports inside functions, instead\n> of being on top of the files.\n\nI think you did the right thing. Moreover, this is in agreement with what we normally do in Sage. Does that clarify things?",
    "created_at": "2016-05-26T07:05:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-300843",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:25'></a>
Replying to [@fchapoton](#comment%3A24):
> Hmm, not sure I understand your conclusion. Did I do something "wrong" ? Should we try to use `import foo` as much as possible, or the contrary ?

Well...there's my diagnosis of what might have caused the problem, and the "pythonic" treatment. However, I disagree with it being the best way to fix things.

> I just started wanting to convert to python3-compatible imports, and then had to resolve
> a whole lot of circular imports. I did that by moving some imports inside functions, instead
> of being on top of the files.

I think you did the right thing. Moreover, this is in agreement with what we normally do in Sage. Does that clarify things?



---

archive/issue_comments_300844.json:
```json
{
    "body": "<a id='comment:26'></a>\nping ?",
    "created_at": "2016-05-28T19:28:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-300844",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:26'></a>
ping ?



---

archive/issue_comments_300845.json:
```json
{
    "body": "<a id='comment:27'></a>\n**ping** ?",
    "created_at": "2016-06-01T08:04:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-300845",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:27'></a>
**ping** ?



---

archive/issue_events_251161.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-06-01T13:20:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20629#event-251161"
}
```



---

archive/issue_events_251162.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-06-01T13:20:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20629#event-251162"
}
```



---

archive/issue_comments_300846.json:
```json
{
    "body": "**Changing reviewer** from \"Jeroen Demeyer\" to \"Jeroen Demeyer, Travis Scrimshaw\".",
    "created_at": "2016-06-01T13:20:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-300846",
    "user": "https://github.com/tscrim"
}
```

**Changing reviewer** from "Jeroen Demeyer" to "Jeroen Demeyer, Travis Scrimshaw".



---

archive/issue_comments_300847.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"days74\".",
    "created_at": "2016-06-01T13:20:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-300847",
    "user": "https://github.com/tscrim"
}
```

**Changing keywords** from "" to "days74".



---

archive/issue_comments_300848.json:
```json
{
    "body": "<a id='comment:29'></a>\nSage doesn't start with patch\n\n```\n\n/home/release/Sage/local/lib/python2.7/site-packages/sage/rings/rational_field.py in <module>()\n     41     True\n     42 \n     43 AUTHORS:\n     44 \n     45 - Niles Johnson (2010-08): :trac:`3893`: ``random_element()`` should pass on\n     46   ``*args`` and ``**kwds``.\n     47 \n     48 - Travis Scrimshaw (2012-10-18): Added additional docstrings for full coverage.\n     49   Removed duplicates of ``discriminant()`` and ``signature()``.\n     50 \n     51 \"\"\"\n     52 from __future__ import print_function, absolute_import\n     53 \n     54 from .rational import Rational\n     55 from .integer import Integer\n---> 56 from . import infinity\n        global infinity = undefined\n     57 ZZ = None\n     58 \n     59 from sage.structure.parent_gens import ParentWithGens\n     60 import sage.rings.number_field.number_field_base as number_field_base\n     61 from sage.misc.fast_methods import Singleton\n     62 \n     63 class RationalField(Singleton, number_field_base.NumberField):\n     64     r\"\"\"\n     65     The class ``RationalField`` represents the field `\\QQ` of rational numbers.\n     66 \n     67     EXAMPLES::\n     68 \n     69         sage: a = long(901824309821093821093812093810928309183091832091)\n     70         sage: b = QQ(a); b\n     71         901824309821093821093812093810928309183091832091\n\nImportError: cannot import name infinity\n```",
    "created_at": "2016-06-01T21:56:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-300848",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:29'></a>
Sage doesn't start with patch

```

/home/release/Sage/local/lib/python2.7/site-packages/sage/rings/rational_field.py in <module>()
     41     True
     42 
     43 AUTHORS:
     44 
     45 - Niles Johnson (2010-08): :trac:`3893`: ``random_element()`` should pass on
     46   ``*args`` and ``**kwds``.
     47 
     48 - Travis Scrimshaw (2012-10-18): Added additional docstrings for full coverage.
     49   Removed duplicates of ``discriminant()`` and ``signature()``.
     50 
     51 """
     52 from __future__ import print_function, absolute_import
     53 
     54 from .rational import Rational
     55 from .integer import Integer
---> 56 from . import infinity
        global infinity = undefined
     57 ZZ = None
     58 
     59 from sage.structure.parent_gens import ParentWithGens
     60 import sage.rings.number_field.number_field_base as number_field_base
     61 from sage.misc.fast_methods import Singleton
     62 
     63 class RationalField(Singleton, number_field_base.NumberField):
     64     r"""
     65     The class ``RationalField`` represents the field `\QQ` of rational numbers.
     66 
     67     EXAMPLES::
     68 
     69         sage: a = long(901824309821093821093812093810928309183091832091)
     70         sage: b = QQ(a); b
     71         901824309821093821093812093810928309183091832091

ImportError: cannot import name infinity
```



---

archive/issue_events_251163.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-06-01T21:56:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20629#event-251163"
}
```



---

archive/issue_events_251164.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-06-01T21:56:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20629#event-251164"
}
```



---

archive/issue_comments_300849.json:
```json
{
    "body": "<a id='comment:30'></a>\nI do not see this. And two bots were green. Maybe a conflict with another ticket ?",
    "created_at": "2016-06-02T06:52:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-300849",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:30'></a>
I do not see this. And two bots were green. Maybe a conflict with another ticket ?



---

archive/issue_comments_300850.json:
```json
{
    "body": "<a id='comment:31'></a>\nI moved the working part of this branch to #20785. That reduces the problematic part, which can then be investigated more easily.",
    "created_at": "2016-06-08T13:58:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-300850",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:31'></a>
I moved the working part of this branch to #20785. That reduces the problematic part, which can then be investigated more easily.



---

archive/issue_comments_300851.json:
```json
{
    "body": "<a id='comment:32'></a>\nI suggest to wait until #20785 is merged and then look at this again.",
    "created_at": "2016-06-08T15:28:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-300851",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:32'></a>
I suggest to wait until #20785 is merged and then look at this again.



---

archive/issue_comments_300852.json:
```json
{
    "body": "**Changing commit** from \"[b67f3d48a4fcbdb4e9a54385189e7d4334d88d0e](https://github.com/sagemath/sagetrac-mirror/commit/b67f3d48a4fcbdb4e9a54385189e7d4334d88d0e)\" to \"[8297f2391097fa7f1d39915a0ed9ad1b74e078da](https://github.com/sagemath/sagetrac-mirror/commit/8297f2391097fa7f1d39915a0ed9ad1b74e078da)\".",
    "created_at": "2016-06-13T20:16:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-300852",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[b67f3d48a4fcbdb4e9a54385189e7d4334d88d0e](https://github.com/sagemath/sagetrac-mirror/commit/b67f3d48a4fcbdb4e9a54385189e7d4334d88d0e)" to "[8297f2391097fa7f1d39915a0ed9ad1b74e078da](https://github.com/sagemath/sagetrac-mirror/commit/8297f2391097fa7f1d39915a0ed9ad1b74e078da)".



---

archive/issue_comments_300853.json:
```json
{
    "body": "<a id='comment:33'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2880ac8a418915e4fb312174510eff484af3fd02\">2880ac8</a></td><td><code>Merge branch 'public/20629' into 7.3.b4</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8297f2391097fa7f1d39915a0ed9ad1b74e078da\">8297f23</a></td><td><code>remove double import</code></td></tr></table>\n",
    "created_at": "2016-06-13T20:16:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-300853",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:33'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2880ac8a418915e4fb312174510eff484af3fd02">2880ac8</a></td><td><code>Merge branch 'public/20629' into 7.3.b4</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8297f2391097fa7f1d39915a0ed9ad1b74e078da">8297f23</a></td><td><code>remove double import</code></td></tr></table>




---

archive/issue_comments_300854.json:
```json
{
    "body": "<a id='comment:34'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5be6969acc605b0149c8770361eb52bbfbf62a93\">5be6969</a></td><td><code>trac 20629 fixing import of infinity in rational_field</code></td></tr></table>\n",
    "created_at": "2016-06-21T15:50:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-300854",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:34'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5be6969acc605b0149c8770361eb52bbfbf62a93">5be6969</a></td><td><code>trac 20629 fixing import of infinity in rational_field</code></td></tr></table>




---

archive/issue_comments_300855.json:
```json
{
    "body": "**Changing commit** from \"[8297f2391097fa7f1d39915a0ed9ad1b74e078da](https://github.com/sagemath/sagetrac-mirror/commit/8297f2391097fa7f1d39915a0ed9ad1b74e078da)\" to \"[5be6969acc605b0149c8770361eb52bbfbf62a93](https://github.com/sagemath/sagetrac-mirror/commit/5be6969acc605b0149c8770361eb52bbfbf62a93)\".",
    "created_at": "2016-06-21T15:50:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-300855",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[8297f2391097fa7f1d39915a0ed9ad1b74e078da](https://github.com/sagemath/sagetrac-mirror/commit/8297f2391097fa7f1d39915a0ed9ad1b74e078da)" to "[5be6969acc605b0149c8770361eb52bbfbf62a93](https://github.com/sagemath/sagetrac-mirror/commit/5be6969acc605b0149c8770361eb52bbfbf62a93)".



---

archive/issue_events_251165.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-06-21T15:51:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20629#event-251165"
}
```



---

archive/issue_events_251166.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-06-21T15:51:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20629#event-251166"
}
```



---

archive/issue_comments_300856.json:
```json
{
    "body": "<a id='comment:36'></a>\nbot is green ! **ping** ?",
    "created_at": "2016-06-24T16:18:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-300856",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:36'></a>
bot is green ! **ping** ?



---

archive/issue_events_251167.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-06-24T16:53:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20629#event-251167"
}
```



---

archive/issue_events_251168.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-06-24T16:53:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20629#event-251168"
}
```



---

archive/issue_comments_300857.json:
```json
{
    "body": "**Changing branch** from \"[public/20629](https://github.com/sagemath/sagetrac-mirror/tree/public/20629)\" to \"[5be6969acc605b0149c8770361eb52bbfbf62a93](https://github.com/sagemath/sagetrac-mirror/commit/5be6969acc605b0149c8770361eb52bbfbf62a93)\".",
    "created_at": "2016-06-26T07:30:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-300857",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[public/20629](https://github.com/sagemath/sagetrac-mirror/tree/public/20629)" to "[5be6969acc605b0149c8770361eb52bbfbf62a93](https://github.com/sagemath/sagetrac-mirror/commit/5be6969acc605b0149c8770361eb52bbfbf62a93)".



---

archive/issue_events_251169.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-06-26T07:30:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20629#event-251169"
}
```



---

archive/issue_events_251170.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "e0bf148e2a32c5f3054732ab3087df12f1f75791",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-06-26T07:30:39Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20629#event-251170"
}
```



---

archive/issue_comments_300858.json:
```json
{
    "body": "**Changing commit** from \"[5be6969acc605b0149c8770361eb52bbfbf62a93](https://github.com/sagemath/sagetrac-mirror/commit/5be6969acc605b0149c8770361eb52bbfbf62a93)\" to \"\".",
    "created_at": "2016-06-27T08:53:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-300858",
    "user": "https://github.com/embray"
}
```

**Changing commit** from "[5be6969acc605b0149c8770361eb52bbfbf62a93](https://github.com/sagemath/sagetrac-mirror/commit/5be6969acc605b0149c8770361eb52bbfbf62a93)" to "".



---

archive/issue_comments_300859.json:
```json
{
    "body": "<a id='comment:39'></a>\nHah, wish I had seen this ticket earlier.  I hit this the other day and thought it was just me.  Thanks!",
    "created_at": "2016-06-27T08:53:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-300859",
    "user": "https://github.com/embray"
}
```

<a id='comment:39'></a>
Hah, wish I had seen this ticket earlier.  I hit this the other day and thought it was just me.  Thanks!
