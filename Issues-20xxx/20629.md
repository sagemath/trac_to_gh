# Issue 20629: some absolute imports in the rings folder

archive/issues_020392.json:
```json
{
    "assignees": [],
    "body": "convert some of the files in the rings folder to absolute import.\n\na small step towards py3\n\nThis involved untangling (partly) the import-hell in the rings folder.\n\nCC:  @jdemeyer @embray @tscrim\n\nComponent: **python3**\n\nKeywords: **days74**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton**\n\nBranch: **[`5be6969`](https://github.com/sagemath/sagetrac-mirror/commit/5be6969acc605b0149c8770361eb52bbfbf62a93)**\n\nReviewer: **Jeroen Demeyer, Travis Scrimshaw**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/20629_\n\n",
    "closed_at": "2016-06-26T07:30:39Z",
    "created_at": "2016-05-19T13:08:46Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20python3",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "some absolute imports in the rings folder",
    "type": "issue",
    "updated_at": "2016-06-27T08:53:31Z",
    "url": "https://github.com/sagemath/sage/issues/20629",
    "user": "https://github.com/fchapoton"
}
```
convert some of the files in the rings folder to absolute import.

a small step towards py3

This involved untangling (partly) the import-hell in the rings folder.

CC:  @jdemeyer @embray @tscrim

Component: **python3**

Keywords: **days74**

Author: **Frédéric Chapoton**

Branch: **[`5be6969`](https://github.com/sagemath/sagetrac-mirror/commit/5be6969acc605b0149c8770361eb52bbfbf62a93)**

Reviewer: **Jeroen Demeyer, Travis Scrimshaw**

_Issue created by migration from https://trac.sagemath.org/ticket/20629_





---

archive/issue_events_287970.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-05-19T13:08:46Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "milestone_number": null,
    "milestone_title": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20629#event-287970"
}
```



---

archive/issue_events_287971.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-05-19T13:08:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20python3",
    "label_color": "0000b0",
    "label_name": "c: python3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20629#event-287971"
}
```



---

archive/issue_events_287972.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-05-19T13:08:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20629#event-287972"
}
```



---

archive/issue_events_287973.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-05-19T13:08:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20629#event-287973"
}
```



---

archive/issue_comments_298244.json:
```json
{
    "body": "Branch: **[public/20629](https://github.com/sagemath/sagetrac-mirror/tree/public/20629)**",
    "created_at": "2016-05-19T13:09:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-298244",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[public/20629](https://github.com/sagemath/sagetrac-mirror/tree/public/20629)**



---

archive/issue_comments_298245.json:
```json
{
    "body": "Commit: **[`0eb3d94`](https://github.com/sagemath/sagetrac-mirror/commit/0eb3d94d4a3d621a52785397ad567d1a9ef9632c)**",
    "created_at": "2016-05-19T13:09:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-298245",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[`0eb3d94`](https://github.com/sagemath/sagetrac-mirror/commit/0eb3d94d4a3d621a52785397ad567d1a9ef9632c)**



---

archive/issue_comments_298246.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0eb3d94d4a3d621a52785397ad567d1a9ef9632c\"><code>0eb3d94</code></a></td><td><code>absolute import in the rings folder</code></td></tr></table>\n",
    "created_at": "2016-05-19T13:09:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-298246",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:1"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0eb3d94d4a3d621a52785397ad567d1a9ef9632c"><code>0eb3d94</code></a></td><td><code>absolute import in the rings folder</code></td></tr></table>




---

archive/issue_events_287974.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-05-19T13:09:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20629#event-287974"
}
```



---

archive/issue_comments_298247.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nDo we really need this in `src/sage/rings/asymptotic/__init__.py` and `src/sage/rings/semirings/__init__.py`, why aren't these files just empty?\n\n```\nfrom __future__ import absolute_import\n\nfrom . import all\n```",
    "created_at": "2016-05-19T13:27:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-298247",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:2" align="right">comment:2</div>

Do we really need this in `src/sage/rings/asymptotic/__init__.py` and `src/sage/rings/semirings/__init__.py`, why aren't these files just empty?

```
from __future__ import absolute_import

from . import all
```



---

archive/issue_comments_298248.json:
```json
{
    "body": "Changed commit from **[`0eb3d94`](https://github.com/sagemath/sagetrac-mirror/commit/0eb3d94d4a3d621a52785397ad567d1a9ef9632c)** to **[`1b5b55f`](https://github.com/sagemath/sagetrac-mirror/commit/1b5b55f65cfcabb5a890b60e88bb79318969b255)**",
    "created_at": "2016-05-19T13:28:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-298248",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0eb3d94`](https://github.com/sagemath/sagetrac-mirror/commit/0eb3d94d4a3d621a52785397ad567d1a9ef9632c)** to **[`1b5b55f`](https://github.com/sagemath/sagetrac-mirror/commit/1b5b55f65cfcabb5a890b60e88bb79318969b255)**



---

archive/issue_comments_298249.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1b5b55f65cfcabb5a890b60e88bb79318969b255\"><code>1b5b55f</code></a></td><td><code>empty two `__init__` files</code></td></tr></table>\n",
    "created_at": "2016-05-19T13:28:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-298249",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1b5b55f65cfcabb5a890b60e88bb79318969b255"><code>1b5b55f</code></a></td><td><code>empty two `__init__` files</code></td></tr></table>




---

archive/issue_comments_298250.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nStyle issue: better use\n\n```\nfrom .padic_base_leaves import (pAdicRingCappedRelative,\n        pAdicRingCappedAbsolute, pAdicRingFixedMod,\n        pAdicFieldCappedRelative)\n```\ninstead of\n\n```\nfrom .padic_base_leaves import pAdicRingCappedRelative, \\\n                               pAdicRingCappedAbsolute, \\\n                               pAdicRingFixedMod, \\\n                               pAdicFieldCappedRelative\n```",
    "created_at": "2016-05-19T13:29:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-298250",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:4" align="right">comment:4</div>

Style issue: better use

```
from .padic_base_leaves import (pAdicRingCappedRelative,
        pAdicRingCappedAbsolute, pAdicRingFixedMod,
        pAdicFieldCappedRelative)
```
instead of

```
from .padic_base_leaves import pAdicRingCappedRelative, \
                               pAdicRingCappedAbsolute, \
                               pAdicRingFixedMod, \
                               pAdicFieldCappedRelative
```



---

archive/issue_comments_298251.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nQuestion: why do you only consider Python (`.py`) files and not Cython (`.pyx`)? I'm NOT saying that you should do this in this ticket, just asking why...",
    "created_at": "2016-05-19T13:31:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-298251",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:5" align="right">comment:5</div>

Question: why do you only consider Python (`.py`) files and not Cython (`.pyx`)? I'm NOT saying that you should do this in this ticket, just asking why...



---

archive/issue_comments_298252.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c4a62970b04a17435e0e10b145b13d4f7160a575\"><code>c4a6297</code></a></td><td><code>trac 20629 style change</code></td></tr></table>\n",
    "created_at": "2016-05-19T13:31:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-298252",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c4a62970b04a17435e0e10b145b13d4f7160a575"><code>c4a6297</code></a></td><td><code>trac 20629 style change</code></td></tr></table>




---

archive/issue_comments_298253.json:
```json
{
    "body": "Changed commit from **[`1b5b55f`](https://github.com/sagemath/sagetrac-mirror/commit/1b5b55f65cfcabb5a890b60e88bb79318969b255)** to **[`c4a6297`](https://github.com/sagemath/sagetrac-mirror/commit/c4a62970b04a17435e0e10b145b13d4f7160a575)**",
    "created_at": "2016-05-19T13:31:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-298253",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1b5b55f`](https://github.com/sagemath/sagetrac-mirror/commit/1b5b55f65cfcabb5a890b60e88bb79318969b255)** to **[`c4a6297`](https://github.com/sagemath/sagetrac-mirror/commit/c4a62970b04a17435e0e10b145b13d4f7160a575)**



---

archive/issue_comments_298254.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@jdemeyer](#comment%3A5):\n> Question: why do you only consider Python (`.py`) files and not Cython (`.pyx`)? I'm NOT saying that you should do this in this ticket, just asking why...\n\noh, I just made a grep restricted to py files. Anyway, this is only a very partial change.",
    "created_at": "2016-05-19T13:32:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-298254",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@jdemeyer](#comment%3A5):
> Question: why do you only consider Python (`.py`) files and not Cython (`.pyx`)? I'm NOT saying that you should do this in this ticket, just asking why...

oh, I just made a grep restricted to py files. Anyway, this is only a very partial change.



---

archive/issue_comments_298255.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\npositive_review if this passes buildbot testing",
    "created_at": "2016-05-19T13:43:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-298255",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:8" align="right">comment:8</div>

positive_review if this passes buildbot testing



---

archive/issue_comments_298256.json:
```json
{
    "body": "Reviewer: **Jeroen Demeyer**",
    "created_at": "2016-05-19T13:43:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-298256",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Jeroen Demeyer**



---

archive/issue_comments_298257.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nHum, it seems that there is a problem with the **correct** python3 syntax\n\n```\nfrom . import rational\n```\nwhen the module `rational` is a cython module.\n\nIs there some cython expert in the neighborhood ?",
    "created_at": "2016-05-19T17:21:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-298257",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:9" align="right">comment:9</div>

Hum, it seems that there is a problem with the **correct** python3 syntax

```
from . import rational
```
when the module `rational` is a cython module.

Is there some cython expert in the neighborhood ?



---

archive/issue_comments_298258.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nI don't know if it's really a Cython problem.",
    "created_at": "2016-05-19T18:03:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-298258",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:10" align="right">comment:10</div>

I don't know if it's really a Cython problem.



---

archive/issue_comments_298259.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nmaybe a circular dependency ?",
    "created_at": "2016-05-19T18:39:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-298259",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:11" align="right">comment:11</div>

maybe a circular dependency ?



---

archive/issue_events_287975.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-05-20T15:32:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20629#event-287975"
}
```



---

archive/issue_events_287976.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-05-20T15:32:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20629#event-287976"
}
```



---

archive/issue_comments_298260.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nIt seems that this involves some kind of circular import hell.",
    "created_at": "2016-05-20T15:32:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-298260",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:12" align="right">comment:12</div>

It seems that this involves some kind of circular import hell.



---

archive/issue_comments_298261.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nProbably, although it's not clear why something would fail as relative import but not as normal import...",
    "created_at": "2016-05-20T16:34:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-298261",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:13" align="right">comment:13</div>

Probably, although it's not clear why something would fail as relative import but not as normal import...



---

archive/issue_comments_298262.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b299e4efcb455409d291b8801ab7b7622a3e169d\"><code>b299e4e</code></a></td><td><code>Merge branch 'public/20629' into 7.3.b0</code></td></tr></table>\n",
    "created_at": "2016-05-24T18:35:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-298262",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b299e4efcb455409d291b8801ab7b7622a3e169d"><code>b299e4e</code></a></td><td><code>Merge branch 'public/20629' into 7.3.b0</code></td></tr></table>




---

archive/issue_comments_298263.json:
```json
{
    "body": "Changed commit from **[`c4a6297`](https://github.com/sagemath/sagetrac-mirror/commit/c4a62970b04a17435e0e10b145b13d4f7160a575)** to **[`b299e4e`](https://github.com/sagemath/sagetrac-mirror/commit/b299e4efcb455409d291b8801ab7b7622a3e169d)**",
    "created_at": "2016-05-24T18:35:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-298263",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c4a6297`](https://github.com/sagemath/sagetrac-mirror/commit/c4a62970b04a17435e0e10b145b13d4f7160a575)** to **[`b299e4e`](https://github.com/sagemath/sagetrac-mirror/commit/b299e4efcb455409d291b8801ab7b7622a3e169d)**



---

archive/issue_comments_298264.json:
```json
{
    "body": "<div id=\"comment:15\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/daf689d02e7b14baa04503fe4ed68f825cbb58ec\"><code>daf689d</code></a></td><td><code>trac 20629 somewhat untangling the import hell in rings</code></td></tr></table>\n",
    "created_at": "2016-05-24T19:20:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-298264",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/daf689d02e7b14baa04503fe4ed68f825cbb58ec"><code>daf689d</code></a></td><td><code>trac 20629 somewhat untangling the import hell in rings</code></td></tr></table>




---

archive/issue_comments_298265.json:
```json
{
    "body": "Changed commit from **[`b299e4e`](https://github.com/sagemath/sagetrac-mirror/commit/b299e4efcb455409d291b8801ab7b7622a3e169d)** to **[`daf689d`](https://github.com/sagemath/sagetrac-mirror/commit/daf689d02e7b14baa04503fe4ed68f825cbb58ec)**",
    "created_at": "2016-05-24T19:20:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-298265",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b299e4e`](https://github.com/sagemath/sagetrac-mirror/commit/b299e4efcb455409d291b8801ab7b7622a3e169d)** to **[`daf689d`](https://github.com/sagemath/sagetrac-mirror/commit/daf689d02e7b14baa04503fe4ed68f825cbb58ec)**



---

archive/issue_comments_298266.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nAfter a long battling against the import hell in the rings folder, I think I have now a working branch.\n\nReview, please !",
    "created_at": "2016-05-24T19:26:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-298266",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:16" align="right">comment:16</div>

After a long battling against the import hell in the rings folder, I think I have now a working branch.

Review, please !



---

archive/issue_events_287977.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-05-24T19:26:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20629#event-287977"
}
```



---

archive/issue_events_287978.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-05-24T19:26:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20629#event-287978"
}
```



---

archive/issue_comments_298267.json:
```json
{
    "body": "Changed commit from **[`daf689d`](https://github.com/sagemath/sagetrac-mirror/commit/daf689d02e7b14baa04503fe4ed68f825cbb58ec)** to **[`4766d78`](https://github.com/sagemath/sagetrac-mirror/commit/4766d78f2a0fd676da1e5da4acdc8bc5d1a02bac)**",
    "created_at": "2016-05-25T06:20:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-298267",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`daf689d`](https://github.com/sagemath/sagetrac-mirror/commit/daf689d02e7b14baa04503fe4ed68f825cbb58ec)** to **[`4766d78`](https://github.com/sagemath/sagetrac-mirror/commit/4766d78f2a0fd676da1e5da4acdc8bc5d1a02bac)**



---

archive/issue_comments_298268.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4766d78f2a0fd676da1e5da4acdc8bc5d1a02bac\"><code>4766d78</code></a></td><td><code>trac 20629 again forgot a change</code></td></tr></table>\n",
    "created_at": "2016-05-25T06:20:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-298268",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4766d78f2a0fd676da1e5da4acdc8bc5d1a02bac"><code>4766d78</code></a></td><td><code>trac 20629 again forgot a change</code></td></tr></table>




---

archive/issue_comments_298269.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/838ad285dc6581a219472968827176278e68faed\"><code>838ad28</code></a></td><td><code>trac 20629 two more changes again</code></td></tr></table>\n",
    "created_at": "2016-05-25T09:23:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-298269",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/838ad285dc6581a219472968827176278e68faed"><code>838ad28</code></a></td><td><code>trac 20629 two more changes again</code></td></tr></table>




---

archive/issue_comments_298270.json:
```json
{
    "body": "Changed commit from **[`4766d78`](https://github.com/sagemath/sagetrac-mirror/commit/4766d78f2a0fd676da1e5da4acdc8bc5d1a02bac)** to **[`838ad28`](https://github.com/sagemath/sagetrac-mirror/commit/838ad285dc6581a219472968827176278e68faed)**",
    "created_at": "2016-05-25T09:23:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-298270",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4766d78`](https://github.com/sagemath/sagetrac-mirror/commit/4766d78f2a0fd676da1e5da4acdc8bc5d1a02bac)** to **[`838ad28`](https://github.com/sagemath/sagetrac-mirror/commit/838ad285dc6581a219472968827176278e68faed)**



---

archive/issue_comments_298271.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nok, let me put this in `needs_works`, as there is still some failing doctests. This is a tricky ticket.",
    "created_at": "2016-05-25T10:03:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-298271",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:19" align="right">comment:19</div>

ok, let me put this in `needs_works`, as there is still some failing doctests. This is a tricky ticket.



---

archive/issue_events_287979.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-05-25T10:03:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20629#event-287979"
}
```



---

archive/issue_events_287980.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-05-25T10:03:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20629#event-287980"
}
```



---

archive/issue_comments_298272.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1c92b40267abe3993d6b154d5333aea37c724d53\"><code>1c92b40</code></a></td><td><code>Merge branch 'public/20629' into 7.3.b1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8b7bf78e5eb5ea5bfa757ba21e13d7d38d2f0e3c\"><code>8b7bf78</code></a></td><td><code>trac 20629 other import corrections</code></td></tr></table>\n",
    "created_at": "2016-05-25T13:53:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-298272",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1c92b40267abe3993d6b154d5333aea37c724d53"><code>1c92b40</code></a></td><td><code>Merge branch 'public/20629' into 7.3.b1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8b7bf78e5eb5ea5bfa757ba21e13d7d38d2f0e3c"><code>8b7bf78</code></a></td><td><code>trac 20629 other import corrections</code></td></tr></table>




---

archive/issue_comments_298273.json:
```json
{
    "body": "Changed commit from **[`838ad28`](https://github.com/sagemath/sagetrac-mirror/commit/838ad285dc6581a219472968827176278e68faed)** to **[`8b7bf78`](https://github.com/sagemath/sagetrac-mirror/commit/8b7bf78e5eb5ea5bfa757ba21e13d7d38d2f0e3c)**",
    "created_at": "2016-05-25T13:53:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-298273",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`838ad28`](https://github.com/sagemath/sagetrac-mirror/commit/838ad285dc6581a219472968827176278e68faed)** to **[`8b7bf78`](https://github.com/sagemath/sagetrac-mirror/commit/8b7bf78e5eb5ea5bfa757ba21e13d7d38d2f0e3c)**



---

archive/issue_comments_298274.json:
```json
{
    "body": "Changed commit from **[`8b7bf78`](https://github.com/sagemath/sagetrac-mirror/commit/8b7bf78e5eb5ea5bfa757ba21e13d7d38d2f0e3c)** to **[`b67f3d4`](https://github.com/sagemath/sagetrac-mirror/commit/b67f3d48a4fcbdb4e9a54385189e7d4334d88d0e)**",
    "created_at": "2016-05-25T18:20:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-298274",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8b7bf78`](https://github.com/sagemath/sagetrac-mirror/commit/8b7bf78e5eb5ea5bfa757ba21e13d7d38d2f0e3c)** to **[`b67f3d4`](https://github.com/sagemath/sagetrac-mirror/commit/b67f3d48a4fcbdb4e9a54385189e7d4334d88d0e)**



---

archive/issue_comments_298275.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b67f3d48a4fcbdb4e9a54385189e7d4334d88d0e\"><code>b67f3d4</code></a></td><td><code>trac 20629 other missing dots in imports</code></td></tr></table>\n",
    "created_at": "2016-05-25T18:20:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-298275",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b67f3d48a4fcbdb4e9a54385189e7d4334d88d0e"><code>b67f3d4</code></a></td><td><code>trac 20629 other missing dots in imports</code></td></tr></table>




---

archive/issue_comments_298276.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n convert some of the files in the rings folder to absolute import.\n \n a small step towards py3\n+\n+This involved untangling (partly) the import-hell in the rings folder.\n``````\n",
    "created_at": "2016-05-26T06:13:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-298276",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
 convert some of the files in the rings folder to absolute import.
 
 a small step towards py3
+
+This involved untangling (partly) the import-hell in the rings folder.
``````




---

archive/issue_events_287981.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-05-26T06:13:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20629#event-287981"
}
```



---

archive/issue_events_287982.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-05-26T06:13:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20629#event-287982"
}
```



---

archive/issue_comments_298277.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nhurray ! bot is green ! Please review",
    "created_at": "2016-05-26T06:13:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-298277",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:22" align="right">comment:22</div>

hurray ! bot is green ! Please review



---

archive/issue_comments_298278.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nOne of the reasons why you might have started to see the import hell is that you imported a few things directly from the modules, rather than importing the entire module. In order to do the former, Python needs to evaluate the module at the moment you call the `from foo import bar`, whereas the latter is done when first calling `foo.bar` (not at `import foo`). This is why the \"Pythonic\" way is to `import foo` and then do `foo.bar`, but IMO, it just means we have to do more reading and/or work for maintenance.",
    "created_at": "2016-05-26T06:24:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-298278",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:23" align="right">comment:23</div>

One of the reasons why you might have started to see the import hell is that you imported a few things directly from the modules, rather than importing the entire module. In order to do the former, Python needs to evaluate the module at the moment you call the `from foo import bar`, whereas the latter is done when first calling `foo.bar` (not at `import foo`). This is why the "Pythonic" way is to `import foo` and then do `foo.bar`, but IMO, it just means we have to do more reading and/or work for maintenance.



---

archive/issue_comments_298279.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nHmm, not sure I understand your conclusion. Did I do something \"wrong\" ? Should we try to use `import foo` as much as possible, or the contrary ?\n\nI just started wanting to convert to python3-compatible imports, and then had to resolve\na whole lot of circular imports. I did that by moving some imports inside functions, instead\nof being on top of the files.",
    "created_at": "2016-05-26T06:33:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-298279",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:24" align="right">comment:24</div>

Hmm, not sure I understand your conclusion. Did I do something "wrong" ? Should we try to use `import foo` as much as possible, or the contrary ?

I just started wanting to convert to python3-compatible imports, and then had to resolve
a whole lot of circular imports. I did that by moving some imports inside functions, instead
of being on top of the files.



---

archive/issue_comments_298280.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@fchapoton](#comment%3A24):\n> Hmm, not sure I understand your conclusion. Did I do something \"wrong\" ? Should we try to use `import foo` as much as possible, or the contrary ?\n\nWell...there's my diagnosis of what might have caused the problem, and the \"pythonic\" treatment. However, I disagree with it being the best way to fix things.\n\n> I just started wanting to convert to python3-compatible imports, and then had to resolve\n> a whole lot of circular imports. I did that by moving some imports inside functions, instead\n> of being on top of the files.\n\nI think you did the right thing. Moreover, this is in agreement with what we normally do in Sage. Does that clarify things?",
    "created_at": "2016-05-26T07:05:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-298280",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@fchapoton](#comment%3A24):
> Hmm, not sure I understand your conclusion. Did I do something "wrong" ? Should we try to use `import foo` as much as possible, or the contrary ?

Well...there's my diagnosis of what might have caused the problem, and the "pythonic" treatment. However, I disagree with it being the best way to fix things.

> I just started wanting to convert to python3-compatible imports, and then had to resolve
> a whole lot of circular imports. I did that by moving some imports inside functions, instead
> of being on top of the files.

I think you did the right thing. Moreover, this is in agreement with what we normally do in Sage. Does that clarify things?



---

archive/issue_comments_298281.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nping ?",
    "created_at": "2016-05-28T19:28:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-298281",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:26" align="right">comment:26</div>

ping ?



---

archive/issue_comments_298282.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\n**ping** ?",
    "created_at": "2016-06-01T08:04:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-298282",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:27" align="right">comment:27</div>

**ping** ?



---

archive/issue_events_287983.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-06-01T13:20:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20629#event-287983"
}
```



---

archive/issue_events_287984.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-06-01T13:20:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20629#event-287984"
}
```



---

archive/issue_comments_298283.json:
```json
{
    "body": "Changed reviewer from **Jeroen Demeyer** to **Jeroen Demeyer, Travis Scrimshaw**",
    "created_at": "2016-06-01T13:20:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-298283",
    "user": "https://github.com/tscrim"
}
```

Changed reviewer from **Jeroen Demeyer** to **Jeroen Demeyer, Travis Scrimshaw**



---

archive/issue_comments_298284.json:
```json
{
    "body": "Changed keywords from none to **days74**",
    "created_at": "2016-06-01T13:20:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-298284",
    "user": "https://github.com/tscrim"
}
```

Changed keywords from none to **days74**



---

archive/issue_comments_298285.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nSage doesn't start with patch\n\n```\n\n/home/release/Sage/local/lib/python2.7/site-packages/sage/rings/rational_field.py in <module>()\n     41     True\n     42 \n     43 AUTHORS:\n     44 \n     45 - Niles Johnson (2010-08): :trac:`3893`: ``random_element()`` should pass on\n     46   ``*args`` and ``**kwds``.\n     47 \n     48 - Travis Scrimshaw (2012-10-18): Added additional docstrings for full coverage.\n     49   Removed duplicates of ``discriminant()`` and ``signature()``.\n     50 \n     51 \"\"\"\n     52 from __future__ import print_function, absolute_import\n     53 \n     54 from .rational import Rational\n     55 from .integer import Integer\n---> 56 from . import infinity\n        global infinity = undefined\n     57 ZZ = None\n     58 \n     59 from sage.structure.parent_gens import ParentWithGens\n     60 import sage.rings.number_field.number_field_base as number_field_base\n     61 from sage.misc.fast_methods import Singleton\n     62 \n     63 class RationalField(Singleton, number_field_base.NumberField):\n     64     r\"\"\"\n     65     The class ``RationalField`` represents the field `\\QQ` of rational numbers.\n     66 \n     67     EXAMPLES::\n     68 \n     69         sage: a = long(901824309821093821093812093810928309183091832091)\n     70         sage: b = QQ(a); b\n     71         901824309821093821093812093810928309183091832091\n\nImportError: cannot import name infinity\n```",
    "created_at": "2016-06-01T21:56:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-298285",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:29" align="right">comment:29</div>

Sage doesn't start with patch

```

/home/release/Sage/local/lib/python2.7/site-packages/sage/rings/rational_field.py in <module>()
     41     True
     42 
     43 AUTHORS:
     44 
     45 - Niles Johnson (2010-08): :trac:`3893`: ``random_element()`` should pass on
     46   ``*args`` and ``**kwds``.
     47 
     48 - Travis Scrimshaw (2012-10-18): Added additional docstrings for full coverage.
     49   Removed duplicates of ``discriminant()`` and ``signature()``.
     50 
     51 """
     52 from __future__ import print_function, absolute_import
     53 
     54 from .rational import Rational
     55 from .integer import Integer
---> 56 from . import infinity
        global infinity = undefined
     57 ZZ = None
     58 
     59 from sage.structure.parent_gens import ParentWithGens
     60 import sage.rings.number_field.number_field_base as number_field_base
     61 from sage.misc.fast_methods import Singleton
     62 
     63 class RationalField(Singleton, number_field_base.NumberField):
     64     r"""
     65     The class ``RationalField`` represents the field `\QQ` of rational numbers.
     66 
     67     EXAMPLES::
     68 
     69         sage: a = long(901824309821093821093812093810928309183091832091)
     70         sage: b = QQ(a); b
     71         901824309821093821093812093810928309183091832091

ImportError: cannot import name infinity
```



---

archive/issue_events_287985.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-06-01T21:56:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20629#event-287985"
}
```



---

archive/issue_events_287986.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-06-01T21:56:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20629#event-287986"
}
```



---

archive/issue_comments_298286.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nI do not see this. And two bots were green. Maybe a conflict with another ticket ?",
    "created_at": "2016-06-02T06:52:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-298286",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:30" align="right">comment:30</div>

I do not see this. And two bots were green. Maybe a conflict with another ticket ?



---

archive/issue_comments_298287.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nI moved the working part of this branch to #20785. That reduces the problematic part, which can then be investigated more easily.",
    "created_at": "2016-06-08T13:58:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-298287",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:31" align="right">comment:31</div>

I moved the working part of this branch to #20785. That reduces the problematic part, which can then be investigated more easily.



---

archive/issue_comments_298288.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nI suggest to wait until #20785 is merged and then look at this again.",
    "created_at": "2016-06-08T15:28:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-298288",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:32" align="right">comment:32</div>

I suggest to wait until #20785 is merged and then look at this again.



---

archive/issue_comments_298289.json:
```json
{
    "body": "Changed commit from **[`b67f3d4`](https://github.com/sagemath/sagetrac-mirror/commit/b67f3d48a4fcbdb4e9a54385189e7d4334d88d0e)** to **[`8297f23`](https://github.com/sagemath/sagetrac-mirror/commit/8297f2391097fa7f1d39915a0ed9ad1b74e078da)**",
    "created_at": "2016-06-13T20:16:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-298289",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b67f3d4`](https://github.com/sagemath/sagetrac-mirror/commit/b67f3d48a4fcbdb4e9a54385189e7d4334d88d0e)** to **[`8297f23`](https://github.com/sagemath/sagetrac-mirror/commit/8297f2391097fa7f1d39915a0ed9ad1b74e078da)**



---

archive/issue_comments_298290.json:
```json
{
    "body": "<div id=\"comment:33\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2880ac8a418915e4fb312174510eff484af3fd02\"><code>2880ac8</code></a></td><td><code>Merge branch 'public/20629' into 7.3.b4</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8297f2391097fa7f1d39915a0ed9ad1b74e078da\"><code>8297f23</code></a></td><td><code>remove double import</code></td></tr></table>\n",
    "created_at": "2016-06-13T20:16:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-298290",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:33"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2880ac8a418915e4fb312174510eff484af3fd02"><code>2880ac8</code></a></td><td><code>Merge branch 'public/20629' into 7.3.b4</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8297f2391097fa7f1d39915a0ed9ad1b74e078da"><code>8297f23</code></a></td><td><code>remove double import</code></td></tr></table>




---

archive/issue_comments_298291.json:
```json
{
    "body": "<div id=\"comment:34\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5be6969acc605b0149c8770361eb52bbfbf62a93\"><code>5be6969</code></a></td><td><code>trac 20629 fixing import of infinity in rational_field</code></td></tr></table>\n",
    "created_at": "2016-06-21T15:50:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-298291",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:34"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5be6969acc605b0149c8770361eb52bbfbf62a93"><code>5be6969</code></a></td><td><code>trac 20629 fixing import of infinity in rational_field</code></td></tr></table>




---

archive/issue_comments_298292.json:
```json
{
    "body": "Changed commit from **[`8297f23`](https://github.com/sagemath/sagetrac-mirror/commit/8297f2391097fa7f1d39915a0ed9ad1b74e078da)** to **[`5be6969`](https://github.com/sagemath/sagetrac-mirror/commit/5be6969acc605b0149c8770361eb52bbfbf62a93)**",
    "created_at": "2016-06-21T15:50:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-298292",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8297f23`](https://github.com/sagemath/sagetrac-mirror/commit/8297f2391097fa7f1d39915a0ed9ad1b74e078da)** to **[`5be6969`](https://github.com/sagemath/sagetrac-mirror/commit/5be6969acc605b0149c8770361eb52bbfbf62a93)**



---

archive/issue_events_287987.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-06-21T15:51:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20629#event-287987"
}
```



---

archive/issue_events_287988.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-06-21T15:51:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20629#event-287988"
}
```



---

archive/issue_comments_298293.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nbot is green ! **ping** ?",
    "created_at": "2016-06-24T16:18:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-298293",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:36" align="right">comment:36</div>

bot is green ! **ping** ?



---

archive/issue_events_287989.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-06-24T16:53:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20629#event-287989"
}
```



---

archive/issue_events_287990.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-06-24T16:53:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20629#event-287990"
}
```



---

archive/issue_comments_298294.json:
```json
{
    "body": "Changed branch from **[public/20629](https://github.com/sagemath/sagetrac-mirror/tree/public/20629)** to **[`5be6969`](https://github.com/sagemath/sagetrac-mirror/commit/5be6969acc605b0149c8770361eb52bbfbf62a93)**",
    "created_at": "2016-06-26T07:30:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-298294",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/20629](https://github.com/sagemath/sagetrac-mirror/tree/public/20629)** to **[`5be6969`](https://github.com/sagemath/sagetrac-mirror/commit/5be6969acc605b0149c8770361eb52bbfbf62a93)**



---

archive/issue_events_287991.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-06-26T07:30:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20629#event-287991"
}
```



---

archive/issue_events_287992.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "e0bf148e2a32c5f3054732ab3087df12f1f75791",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-06-26T07:30:39Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20629#event-287992"
}
```



---

archive/issue_comments_298295.json:
```json
{
    "body": "Changed commit from **[`5be6969`](https://github.com/sagemath/sagetrac-mirror/commit/5be6969acc605b0149c8770361eb52bbfbf62a93)** to none",
    "created_at": "2016-06-27T08:53:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-298295",
    "user": "https://github.com/embray"
}
```

Changed commit from **[`5be6969`](https://github.com/sagemath/sagetrac-mirror/commit/5be6969acc605b0149c8770361eb52bbfbf62a93)** to none



---

archive/issue_comments_298296.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nHah, wish I had seen this ticket earlier.  I hit this the other day and thought it was just me.  Thanks!",
    "created_at": "2016-06-27T08:53:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20629#issuecomment-298296",
    "user": "https://github.com/embray"
}
```

<div id="comment:39" align="right">comment:39</div>

Hah, wish I had seen this ticket earlier.  I hit this the other day and thought it was just me.  Thanks!
