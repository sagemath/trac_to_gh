# Issue 20102: test fixed series expansion of powers of functions at poles

archive/issues_019865.json:
```json
{
    "body": "Currently we have the following behavior:\n\n```\nsage: (gamma(x)^2).series(x==0, 2)\nTraceback (most recent call last):\n...\nValueError: psi_eval(): simple pole\nsage: (zeta(x)^2).series(x==1, 2)\n(Infinity) + (Infinity)*(x - 1) + Order((x - 1)^2)\nsage: (tan(x)^2).series(x==pi/2, 2)\n(Infinity) + (Infinity)*(-1/2*pi + x) + Order(1/4*(pi - 2*x)^2)\n```\n\nThis is fixed in the current development version of pynac, see https://github.com/pynac/pynac/issues/135. This ticket shall add corresponding doctests.\n\nCC:  @rwst\n\nKeywords: pynac\n\nBranch/Commit: 4dfd49067811920fca03b0d9c799672332324766\n\nReviewer: Ralf Stephan, Fr\u00e9d\u00e9ric Chapoton\n\nAuthor: Benjamin Hackl\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/20102\n\n",
    "closed_at": "2019-06-27T20:13:50Z",
    "created_at": "2016-02-23T22:03:51Z",
    "labels": [
        "component: symbolics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.9",
    "title": "test fixed series expansion of powers of functions at poles",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20102",
    "user": "https://github.com/behackl"
}
```
Currently we have the following behavior:

```
sage: (gamma(x)^2).series(x==0, 2)
Traceback (most recent call last):
...
ValueError: psi_eval(): simple pole
sage: (zeta(x)^2).series(x==1, 2)
(Infinity) + (Infinity)*(x - 1) + Order((x - 1)^2)
sage: (tan(x)^2).series(x==pi/2, 2)
(Infinity) + (Infinity)*(-1/2*pi + x) + Order(1/4*(pi - 2*x)^2)
```

This is fixed in the current development version of pynac, see https://github.com/pynac/pynac/issues/135. This ticket shall add corresponding doctests.

CC:  @rwst

Keywords: pynac

Branch/Commit: 4dfd49067811920fca03b0d9c799672332324766

Reviewer: Ralf Stephan, Frédéric Chapoton

Author: Benjamin Hackl

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/20102





---

archive/issue_comments_358168.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -11,4 +11,4 @@\n (Infinity) + (Infinity)*(-1/2*pi + x) + Order(1/4*(pi - 2*x)^2)\n ```\n \n-This is fixed in the current development version of pynac. This ticket shall add corresponding doctests.\n+This is fixed in the current development version of pynac, see https://github.com/pynac/pynac/issues/135. This ticket shall add corresponding doctests.\n``````\n",
    "created_at": "2016-02-24T06:24:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20102#issuecomment-358168",
    "user": "https://github.com/behackl"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -11,4 +11,4 @@
 (Infinity) + (Infinity)*(-1/2*pi + x) + Order(1/4*(pi - 2*x)^2)
 ```
 
-This is fixed in the current development version of pynac. This ticket shall add corresponding doctests.
+This is fixed in the current development version of pynac, see https://github.com/pynac/pynac/issues/135. This ticket shall add corresponding doctests.
``````




---

archive/issue_comments_358169.json:
```json
{
    "body": "Changing dependencies from \"pynac-0.6.3\" to \"#20134\"",
    "created_at": "2016-03-03T21:42:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20102#issuecomment-358169",
    "user": "https://github.com/behackl"
}
```

Changing dependencies from "pynac-0.6.3" to "#20134"



---

archive/issue_comments_358170.json:
```json
{
    "body": "<a id='comment:3'></a>\nNew commits:\n|                                                                                                                                          |                            |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|\n|[9db23de](https://github.com/sagemath/sagetrac-mirror/commit/9db23dea0bd39693ad444cd164fd8842ef98b50a)|`package version / checksum`|\n|[7785109](https://github.com/sagemath/sagetrac-mirror/commit/7785109f7a21e04e3759a144dfbc2bc18dd611aa)|`coth/acoth BuiltinFunction --> GinacFunction and fixes`|\n|[2fab819](https://github.com/sagemath/sagetrac-mirror/commit/2fab819852116989ae3676d1a4ff61ecd4adc9b9)|`doctest fixes`|\n|[b82b737](https://github.com/sagemath/sagetrac-mirror/commit/b82b737e1fa8153734201b5a48d81c9b940a1611)|`doctest series expansion of powers of functions at poles`|",
    "created_at": "2016-03-03T22:34:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20102#issuecomment-358170",
    "user": "https://github.com/behackl"
}
```

<a id='comment:3'></a>
New commits:
|                                                                                                                                          |                            |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|
|[9db23de](https://github.com/sagemath/sagetrac-mirror/commit/9db23dea0bd39693ad444cd164fd8842ef98b50a)|`package version / checksum`|
|[7785109](https://github.com/sagemath/sagetrac-mirror/commit/7785109f7a21e04e3759a144dfbc2bc18dd611aa)|`coth/acoth BuiltinFunction --> GinacFunction and fixes`|
|[2fab819](https://github.com/sagemath/sagetrac-mirror/commit/2fab819852116989ae3676d1a4ff61ecd4adc9b9)|`doctest fixes`|
|[b82b737](https://github.com/sagemath/sagetrac-mirror/commit/b82b737e1fa8153734201b5a48d81c9b940a1611)|`doctest series expansion of powers of functions at poles`|



---

archive/issue_comments_358171.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-03-03T22:34:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20102#issuecomment-358171",
    "user": "https://github.com/behackl"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_358172.json:
```json
{
    "body": "Changing commit from \"\" to \"b82b737e1fa8153734201b5a48d81c9b940a1611\"",
    "created_at": "2016-03-03T22:34:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20102#issuecomment-358172",
    "user": "https://github.com/behackl"
}
```

Changing commit from "" to "b82b737e1fa8153734201b5a48d81c9b940a1611"



---

archive/issue_comments_358173.json:
```json
{
    "body": "Changing branch from \"\" to \"u/behackl/symbolic/series-power-doctests\"",
    "created_at": "2016-03-03T22:34:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20102#issuecomment-358173",
    "user": "https://github.com/behackl"
}
```

Changing branch from "" to "u/behackl/symbolic/series-power-doctests"



---

archive/issue_comments_358174.json:
```json
{
    "body": "Changing author from \"\" to \"Benjamin Hackl\"",
    "created_at": "2016-03-03T22:34:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20102#issuecomment-358174",
    "user": "https://github.com/behackl"
}
```

Changing author from "" to "Benjamin Hackl"



---

archive/issue_comments_358175.json:
```json
{
    "body": "<a id='comment:4'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                           |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------|\n|[17ffb8d](https://github.com/sagemath/sagetrac-mirror/commit/17ffb8d733522d5ddecf7937b87e760560617d72)|`Merge tag '7.1.beta6' into symbolic/series-power-doctests`|",
    "created_at": "2016-03-03T22:39:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20102#issuecomment-358175",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                           |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------|
|[17ffb8d](https://github.com/sagemath/sagetrac-mirror/commit/17ffb8d733522d5ddecf7937b87e760560617d72)|`Merge tag '7.1.beta6' into symbolic/series-power-doctests`|



---

archive/issue_comments_358176.json:
```json
{
    "body": "Changing commit from \"b82b737e1fa8153734201b5a48d81c9b940a1611\" to \"17ffb8d733522d5ddecf7937b87e760560617d72\"",
    "created_at": "2016-03-03T22:39:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20102#issuecomment-358176",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "b82b737e1fa8153734201b5a48d81c9b940a1611" to "17ffb8d733522d5ddecf7937b87e760560617d72"



---

archive/issue_comments_358177.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Ralf Stephan\"",
    "created_at": "2016-03-04T06:41:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20102#issuecomment-358177",
    "user": "https://github.com/rwst"
}
```

Changing reviewer from "" to "Ralf Stephan"



---

archive/issue_comments_358178.json:
```json
{
    "body": "<a id='comment:5'></a>\nCan be set to positive as soon as the dependency is reviewed.",
    "created_at": "2016-03-04T06:41:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20102#issuecomment-358178",
    "user": "https://github.com/rwst"
}
```

<a id='comment:5'></a>
Can be set to positive as soon as the dependency is reviewed.



---

archive/issue_comments_358179.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-04-17T08:06:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20102#issuecomment-358179",
    "user": "https://github.com/rwst"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_358180.json:
```json
{
    "body": "<a id='comment:6'></a>\nThere are some merge conflicts.",
    "created_at": "2016-04-17T08:06:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20102#issuecomment-358180",
    "user": "https://github.com/rwst"
}
```

<a id='comment:6'></a>
There are some merge conflicts.



---

archive/issue_comments_358181.json:
```json
{
    "body": "<a id='comment:7'></a>\nWell, this took quite some time: I just saw that I never finished the work on this ticket, but I'd like to have these series expansions documented and tested.\n\nHere is a new branch adding these particular doctests.\n\n---\nNew commits:\n|                                                                                                                                          |                                             |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------|\n|[4c41520](https://github.com/sagemath/sagetrac-mirror/commit/4c415205bbea3d7f4f232c37711369488e011aed)|`document series expansion of gamma function`|\n|[4dfd490](https://github.com/sagemath/sagetrac-mirror/commit/4dfd49067811920fca03b0d9c799672332324766)|`test series expansion of powers of zeta`|",
    "created_at": "2019-04-29T16:12:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20102#issuecomment-358181",
    "user": "https://github.com/behackl"
}
```

<a id='comment:7'></a>
Well, this took quite some time: I just saw that I never finished the work on this ticket, but I'd like to have these series expansions documented and tested.

Here is a new branch adding these particular doctests.

---
New commits:
|                                                                                                                                          |                                             |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------|
|[4c41520](https://github.com/sagemath/sagetrac-mirror/commit/4c415205bbea3d7f4f232c37711369488e011aed)|`document series expansion of gamma function`|
|[4dfd490](https://github.com/sagemath/sagetrac-mirror/commit/4dfd49067811920fca03b0d9c799672332324766)|`test series expansion of powers of zeta`|



---

archive/issue_comments_358182.json:
```json
{
    "body": "Changing commit from \"17ffb8d733522d5ddecf7937b87e760560617d72\" to \"4dfd49067811920fca03b0d9c799672332324766\"",
    "created_at": "2019-04-29T16:12:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20102#issuecomment-358182",
    "user": "https://github.com/behackl"
}
```

Changing commit from "17ffb8d733522d5ddecf7937b87e760560617d72" to "4dfd49067811920fca03b0d9c799672332324766"



---

archive/issue_events_070030.json:
```json
{
    "actor": "https://github.com/behackl",
    "created_at": "2019-04-29T16:12:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20102",
    "milestone": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20102#event-70030"
}
```



---

archive/issue_comments_358183.json:
```json
{
    "body": "Changing branch from \"u/behackl/symbolic/series-power-doctests\" to \"u/behackl/zeta-gamma-series-documentation\"",
    "created_at": "2019-04-29T16:12:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20102#issuecomment-358183",
    "user": "https://github.com/behackl"
}
```

Changing branch from "u/behackl/symbolic/series-power-doctests" to "u/behackl/zeta-gamma-series-documentation"



---

archive/issue_comments_358184.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-04-29T16:12:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20102#issuecomment-358184",
    "user": "https://github.com/behackl"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_358185.json:
```json
{
    "body": "Changing reviewer from \"Ralf Stephan\" to \"Ralf Stephan, Fr\u00e9d\u00e9ric Chapoton\"",
    "created_at": "2019-06-08T05:58:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20102#issuecomment-358185",
    "user": "https://github.com/fchapoton"
}
```

Changing reviewer from "Ralf Stephan" to "Ralf Stephan, Frédéric Chapoton"



---

archive/issue_comments_358186.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-06-08T05:58:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20102#issuecomment-358186",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_358187.json:
```json
{
    "body": "Changing dependencies from \"#20134\" to \"\"",
    "created_at": "2019-06-08T05:58:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20102#issuecomment-358187",
    "user": "https://github.com/fchapoton"
}
```

Changing dependencies from "#20134" to ""



---

archive/issue_comments_358188.json:
```json
{
    "body": "<a id='comment:8'></a>\nok, let it be",
    "created_at": "2019-06-08T05:58:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20102#issuecomment-358188",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'></a>
ok, let it be



---

archive/issue_comments_358189.json:
```json
{
    "body": "Changing branch from \"u/behackl/zeta-gamma-series-documentation\" to \"4dfd49067811920fca03b0d9c799672332324766\"",
    "created_at": "2019-06-27T20:13:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20102#issuecomment-358189",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/behackl/zeta-gamma-series-documentation" to "4dfd49067811920fca03b0d9c799672332324766"



---

archive/issue_events_070031.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-06-27T20:13:50Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/20102",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20102#event-70031"
}
```



---

archive/issue_comments_358190.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-06-27T20:13:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20102#issuecomment-358190",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_070032.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-07-03T11:34:48Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20102",
    "milestone": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20102#event-70032"
}
```



---

archive/issue_events_070033.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-07-03T11:34:48Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20102",
    "milestone": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20102#event-70033"
}
```



---

archive/issue_comments_358191.json:
```json
{
    "body": "<a id='comment:10'></a>\nNot in Sage 8.8.  Let's please to try keep tickets' milestones related to the release in which we actually intend to include them, and in particular the release in which they were *actually* included, especially when closing tickets.",
    "created_at": "2019-07-03T11:34:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20102#issuecomment-358191",
    "user": "https://github.com/embray"
}
```

<a id='comment:10'></a>
Not in Sage 8.8.  Let's please to try keep tickets' milestones related to the release in which we actually intend to include them, and in particular the release in which they were *actually* included, especially when closing tickets.
