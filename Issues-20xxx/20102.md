# Issue 20102: test fixed series expansion of powers of functions at poles

archive/issues_019865.json:
```json
{
    "body": "Currently we have the following behavior:\n\n```\nsage: (gamma(x)^2).series(x==0, 2)\nTraceback (most recent call last):\n...\nValueError: psi_eval(): simple pole\nsage: (zeta(x)^2).series(x==1, 2)\n(Infinity) + (Infinity)*(x - 1) + Order((x - 1)^2)\nsage: (tan(x)^2).series(x==pi/2, 2)\n(Infinity) + (Infinity)*(-1/2*pi + x) + Order(1/4*(pi - 2*x)^2)\n```\n\nThis is fixed in the current development version of pynac, see https://github.com/pynac/pynac/issues/135. This ticket shall add corresponding doctests.\n\nCC:  @rwst\n\nKeywords: pynac\n\nBranch/Commit: 4dfd49067811920fca03b0d9c799672332324766\n\nReviewer: Ralf Stephan, Fr\u00e9d\u00e9ric Chapoton\n\nAuthor: Benjamin Hackl\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/20102\n\n",
    "closed_at": "2019-06-27T20:13:50Z",
    "created_at": "2016-02-23T22:03:51Z",
    "labels": [
        "component: symbolics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.9",
    "title": "test fixed series expansion of powers of functions at poles",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20102",
    "user": "https://github.com/behackl"
}
```
Currently we have the following behavior:

```
sage: (gamma(x)^2).series(x==0, 2)
Traceback (most recent call last):
...
ValueError: psi_eval(): simple pole
sage: (zeta(x)^2).series(x==1, 2)
(Infinity) + (Infinity)*(x - 1) + Order((x - 1)^2)
sage: (tan(x)^2).series(x==pi/2, 2)
(Infinity) + (Infinity)*(-1/2*pi + x) + Order(1/4*(pi - 2*x)^2)
```

This is fixed in the current development version of pynac, see https://github.com/pynac/pynac/issues/135. This ticket shall add corresponding doctests.

CC:  @rwst

Keywords: pynac

Branch/Commit: 4dfd49067811920fca03b0d9c799672332324766

Reviewer: Ralf Stephan, Frédéric Chapoton

Author: Benjamin Hackl

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/20102





---

archive/issue_comments_290585.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -11,7 +11,7 @@\n (Infinity) + (Infinity)*(-1/2*pi + x) + Order(1/4*(pi - 2*x)^2)\n ```\n \n-This is fixed in the current development version of pynac. This ticket shall add corresponding doctests.\n+This is fixed in the current development version of pynac, see https://github.com/pynac/pynac/issues/135. This ticket shall add corresponding doctests.\n \n Dependencies: pynac-0.6.3\n \n``````\n",
    "created_at": "2016-02-24T06:24:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20102#issuecomment-290585",
    "user": "https://github.com/behackl"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -11,7 +11,7 @@
 (Infinity) + (Infinity)*(-1/2*pi + x) + Order(1/4*(pi - 2*x)^2)
 ```
 
-This is fixed in the current development version of pynac. This ticket shall add corresponding doctests.
+This is fixed in the current development version of pynac, see https://github.com/pynac/pynac/issues/135. This ticket shall add corresponding doctests.
 
 Dependencies: pynac-0.6.3
 
``````




---

archive/issue_comments_290586.json:
```json
{
    "body": "<a id='comment:3'></a>New commits:",
    "created_at": "2016-03-03T22:34:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20102#issuecomment-290586",
    "user": "https://github.com/behackl"
}
```

<a id='comment:3'></a>New commits:



---

archive/issue_comments_290587.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-03-03T22:34:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20102#issuecomment-290587",
    "user": "https://github.com/behackl"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_290588.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-03-03T22:39:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20102#issuecomment-290588",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_290589.json:
```json
{
    "body": "<a id='comment:5'></a>Can be set to positive as soon as the dependency is reviewed.",
    "created_at": "2016-03-04T06:41:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20102#issuecomment-290589",
    "user": "https://github.com/rwst"
}
```

<a id='comment:5'></a>Can be set to positive as soon as the dependency is reviewed.



---

archive/issue_comments_290590.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-04-17T08:06:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20102#issuecomment-290590",
    "user": "https://github.com/rwst"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_290591.json:
```json
{
    "body": "<a id='comment:6'></a>There are some merge conflicts.",
    "created_at": "2016-04-17T08:06:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20102#issuecomment-290591",
    "user": "https://github.com/rwst"
}
```

<a id='comment:6'></a>There are some merge conflicts.



---

archive/issue_comments_290592.json:
```json
{
    "body": "<a id='comment:7'></a>Well, this took quite some time: I just saw that I never finished the work on this ticket, but I'd like to have these series expansions documented and tested.\n\nHere is a new branch adding these particular doctests.\n\n---\nNew commits:",
    "created_at": "2019-04-29T16:12:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20102#issuecomment-290592",
    "user": "https://github.com/behackl"
}
```

<a id='comment:7'></a>Well, this took quite some time: I just saw that I never finished the work on this ticket, but I'd like to have these series expansions documented and tested.

Here is a new branch adding these particular doctests.

---
New commits:



---

archive/issue_events_054719.json:
```json
{
    "actor": "https://github.com/behackl",
    "created_at": "2019-04-29T16:12:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20102",
    "milestone": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20102#event-54719"
}
```



---

archive/issue_comments_290593.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-04-29T16:12:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20102#issuecomment-290593",
    "user": "https://github.com/behackl"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_290594.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-06-08T05:58:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20102#issuecomment-290594",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_290595.json:
```json
{
    "body": "<a id='comment:8'></a>ok, let it be",
    "created_at": "2019-06-08T05:58:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20102#issuecomment-290595",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'></a>ok, let it be



---

archive/issue_events_054720.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-06-27T20:13:50Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/20102",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20102#event-54720"
}
```



---

archive/issue_comments_290596.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-06-27T20:13:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20102#issuecomment-290596",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_054721.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-07-03T11:34:48Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20102",
    "milestone": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20102#event-54721"
}
```



---

archive/issue_events_054722.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-07-03T11:34:48Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20102",
    "milestone": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20102#event-54722"
}
```



---

archive/issue_comments_290597.json:
```json
{
    "body": "<a id='comment:10'></a>Not in Sage 8.8.  Let's please to try keep tickets' milestones related to the release in which we actually intend to include them, and in particular the release in which they were *actually* included, especially when closing tickets.",
    "created_at": "2019-07-03T11:34:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20102#issuecomment-290597",
    "user": "https://github.com/embray"
}
```

<a id='comment:10'></a>Not in Sage 8.8.  Let's please to try keep tickets' milestones related to the release in which we actually intend to include them, and in particular the release in which they were *actually* included, especially when closing tickets.
