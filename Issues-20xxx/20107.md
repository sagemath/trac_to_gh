# Issue 20107: Add experimental gap3_jm package

archive/issues_019870.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nWe have been trying to have an optional GAP3 package for a while now. Instead of the official GAP3, we instead use a forked package [gap3_jm](https://webusers.imj-prg.fr/~jean.michel/gap3/) which has regularly been updated.\n\nPreviously, this was made a Sage package (#8906) but it contained binaries, so it was removed again (#19164).\n\nI removed all binaries, and prepared a new tarball at \u200bhttp://downloads.findstat.org/gap3-jm5-2015-02-01.tar.gz .\n\nCC:  @saliola @tscrim @sagetrac-jmichel @simon-king-jena\n\nComponent: **packages: experimental**\n\nKeywords: **gap3, experimental package**\n\nAuthor: **Christian Stump**\n\nBranch: **[`a0d0e18`](https://github.com/sagemath/sagetrac-mirror/commit/a0d0e1814a40bccbdaa2914496d684ebf5cf63e2)**\n\nReviewer: **Jeroen Demeyer, Dima Pasechnik**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/20107_\n\n",
    "closed_at": "2016-04-04T21:32:53Z",
    "created_at": "2016-02-24T10:34:27Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20experimental",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Add experimental gap3_jm package",
    "type": "issue",
    "updated_at": "2016-10-18T14:50:47Z",
    "url": "https://github.com/sagemath/sage/issues/20107",
    "user": "https://github.com/stumpc5"
}
```
<div id="comment:0"></div>

We have been trying to have an optional GAP3 package for a while now. Instead of the official GAP3, we instead use a forked package [gap3_jm](https://webusers.imj-prg.fr/~jean.michel/gap3/) which has regularly been updated.

Previously, this was made a Sage package (#8906) but it contained binaries, so it was removed again (#19164).

I removed all binaries, and prepared a new tarball at ​http://downloads.findstat.org/gap3-jm5-2015-02-01.tar.gz .

CC:  @saliola @tscrim @sagetrac-jmichel @simon-king-jena

Component: **packages: experimental**

Keywords: **gap3, experimental package**

Author: **Christian Stump**

Branch: **[`a0d0e18`](https://github.com/sagemath/sagetrac-mirror/commit/a0d0e1814a40bccbdaa2914496d684ebf5cf63e2)**

Reviewer: **Jeroen Demeyer, Dima Pasechnik**

_Issue created by migration from https://trac.sagemath.org/ticket/20107_





---

archive/issue_events_281471.json:
```json
{
    "actor": "https://github.com/stumpc5",
    "created_at": "2016-02-24T10:34:27Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "milestone_number": null,
    "milestone_title": "sage-7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20107#event-281471"
}
```



---

archive/issue_events_281472.json:
```json
{
    "actor": "https://github.com/stumpc5",
    "created_at": "2016-02-24T10:34:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20optional",
    "label_color": "0000b0",
    "label_name": "c: packages: optional",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20107#event-281472"
}
```



---

archive/issue_events_281473.json:
```json
{
    "actor": "https://github.com/stumpc5",
    "created_at": "2016-02-24T10:34:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20107#event-281473"
}
```



---

archive/issue_events_281474.json:
```json
{
    "actor": "https://github.com/stumpc5",
    "created_at": "2016-02-24T10:34:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20107#event-281474"
}
```



---

archive/issue_comments_288415.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nHow do I actually find all binaries? Such as\n\n```\ngap3_test$ grep -r -m 1 \"^\"  . | grep \"^Binary file\"\nBinary file ./pkg/monoid/doc/manual.dvi matches\nBinary file ./pkg/anusq/bin/Sq matches\nBinary file ./pkg/anusq/doc/sq94.dvi matches\nBinary file ./pkg/anusq/doc/sqn92.dvi matches\nBinary file ./pkg/nq/bin/nq matches\nBinary file ./pkg/cryst/doc/paper.dvi matches\nBinary file ./pkg/meataxe/tests/m11.2 matches\nBinary file ./pkg/meataxe/tests/Mat9 matches\nBinary file ./pkg/meataxe/tests/a2 matches\nBinary file ./pkg/meataxe/tests/a1 matches\nBinary file ./pkg/meataxe/tests/Mat256 matches\nBinary file ./pkg/meataxe/tests/Perm2 matches\nBinary file ./pkg/meataxe/tests/Mat25 matches\nBinary file ./pkg/meataxe/tests/Mat125 matches\nBinary file ./pkg/meataxe/tests/ac.2 matches\nBinary file ./pkg/meataxe/tests/Mat67 matches\nBinary file ./pkg/meataxe/tests/Perm1 matches\nBinary file ./pkg/meataxe/tests/Mat5 matches\nBinary file ./pkg/meataxe/tests/C0.2 matches\nBinary file ./pkg/meataxe/tests/C0.1 matches\nBinary file ./pkg/meataxe/tests/Mat2 matches\nBinary file ./pkg/meataxe/tests/ac.1 matches\nBinary file ./pkg/meataxe/tests/m11.1 matches\nBinary file ./pkg/sisyphos/bin/sis-i586-unknown-linux matches\nBinary file ./pkg/sisyphos/doc/sisman.0.8.3.dvi matches\nBinary file ./pkg/ve/examples/meout.pb matches\nBinary file ./pkg/ve/bin/qme matches\nBinary file ./pkg/ve/bin/me matches\nBinary file ./pkg/ve/docs/nme.dvi matches\nBinary file ./pkg/arep/bin/leonin matches\nBinary file ./pkg/arep/bin/desauto matches\nBinary file ./pkg/arep/bin/leonout matches\nBinary file ./pkg/arep/src/leon/doc/manual.dvi matches\nBinary file ./manual.pdf matches\nBinary file ./bin/gapdjg.exe matches\nBinary file ./bin/gap.mac matches\nBinary file ./bin/gap.x86linux64 matches\nBinary file ./bin/gapcyg.exe matches\nBinary file ./bin/gap.macx86 matches\nBinary file ./bin/gap.x86linux matches\nBinary file ./bin/gapdjg.pif matches\nBinary file ./bin/cygwin1.dll matches\n```\nAre any of these okay to keep, such as the dvi files?",
    "created_at": "2016-02-24T10:59:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288415",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:1" align="right">comment:1</div>

How do I actually find all binaries? Such as

```
gap3_test$ grep -r -m 1 "^"  . | grep "^Binary file"
Binary file ./pkg/monoid/doc/manual.dvi matches
Binary file ./pkg/anusq/bin/Sq matches
Binary file ./pkg/anusq/doc/sq94.dvi matches
Binary file ./pkg/anusq/doc/sqn92.dvi matches
Binary file ./pkg/nq/bin/nq matches
Binary file ./pkg/cryst/doc/paper.dvi matches
Binary file ./pkg/meataxe/tests/m11.2 matches
Binary file ./pkg/meataxe/tests/Mat9 matches
Binary file ./pkg/meataxe/tests/a2 matches
Binary file ./pkg/meataxe/tests/a1 matches
Binary file ./pkg/meataxe/tests/Mat256 matches
Binary file ./pkg/meataxe/tests/Perm2 matches
Binary file ./pkg/meataxe/tests/Mat25 matches
Binary file ./pkg/meataxe/tests/Mat125 matches
Binary file ./pkg/meataxe/tests/ac.2 matches
Binary file ./pkg/meataxe/tests/Mat67 matches
Binary file ./pkg/meataxe/tests/Perm1 matches
Binary file ./pkg/meataxe/tests/Mat5 matches
Binary file ./pkg/meataxe/tests/C0.2 matches
Binary file ./pkg/meataxe/tests/C0.1 matches
Binary file ./pkg/meataxe/tests/Mat2 matches
Binary file ./pkg/meataxe/tests/ac.1 matches
Binary file ./pkg/meataxe/tests/m11.1 matches
Binary file ./pkg/sisyphos/bin/sis-i586-unknown-linux matches
Binary file ./pkg/sisyphos/doc/sisman.0.8.3.dvi matches
Binary file ./pkg/ve/examples/meout.pb matches
Binary file ./pkg/ve/bin/qme matches
Binary file ./pkg/ve/bin/me matches
Binary file ./pkg/ve/docs/nme.dvi matches
Binary file ./pkg/arep/bin/leonin matches
Binary file ./pkg/arep/bin/desauto matches
Binary file ./pkg/arep/bin/leonout matches
Binary file ./pkg/arep/src/leon/doc/manual.dvi matches
Binary file ./manual.pdf matches
Binary file ./bin/gapdjg.exe matches
Binary file ./bin/gap.mac matches
Binary file ./bin/gap.x86linux64 matches
Binary file ./bin/gapcyg.exe matches
Binary file ./bin/gap.macx86 matches
Binary file ./bin/gap.x86linux matches
Binary file ./bin/gapdjg.pif matches
Binary file ./bin/cygwin1.dll matches
```
Are any of these okay to keep, such as the dvi files?



---

archive/issue_comments_288416.json:
```json
{
    "body": "Replying to [@stumpc5](https://github.com/sagemath/sage/issues/20107#comment:0):\n> * Download GAP3 from https://webusers.imj-prg.fr/~jean.michel/gap3/\n\nI think this is the problem: it doesn't seem to be the \"official\" GAP3 package, just some random repackaging of GAP3.",
    "created_at": "2016-02-25T10:32:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288416",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [@stumpc5](https://github.com/sagemath/sage/issues/20107#comment:0):
> * Download GAP3 from https://webusers.imj-prg.fr/~jean.michel/gap3/

I think this is the problem: it doesn't seem to be the "official" GAP3 package, just some random repackaging of GAP3.



---

archive/issue_comments_288417.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nReplying to [@jdemeyer](#comment%3A2):\n> I think this is the problem: it doesn't seem to be the \"official\" GAP3 package, just some random repackaging of GAP3.\n\nThe development of GAP3 has stopped a long time ago. But there are several GAP3 packages that have never been ported to GAP4, and which are still developed.\n\nFrom that webpage:\n\n```\nTo help people who are just interested in GAP3 because they need a package\nwhich has not been ported to GAP4, I have prepared an easy-to install\nminimal GAP3 distribution containing an up-to-date versions of the packages.\n```\n\nSo this is the only place where we can find up-to-date versions of the GAP3 package *chevie* to work with unitary reflection groups and their representation theory.\n\nI fail to see what might be wrong with adding support for those packages using that \"random repackaging\" since I and several others need them.\n\nI install the packages myself and then use them from within Sage, but since several things inside Sage are about to depend on that package - see #11187, #11010, #10819 - I think it is worth providing the option for others to automatically install that version of GAP3 with the newest *chevie* package.",
    "created_at": "2016-02-25T11:08:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288417",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:3" align="right">comment:3</div>

Replying to [@jdemeyer](#comment%3A2):
> I think this is the problem: it doesn't seem to be the "official" GAP3 package, just some random repackaging of GAP3.

The development of GAP3 has stopped a long time ago. But there are several GAP3 packages that have never been ported to GAP4, and which are still developed.

From that webpage:

```
To help people who are just interested in GAP3 because they need a package
which has not been ported to GAP4, I have prepared an easy-to install
minimal GAP3 distribution containing an up-to-date versions of the packages.
```

So this is the only place where we can find up-to-date versions of the GAP3 package *chevie* to work with unitary reflection groups and their representation theory.

I fail to see what might be wrong with adding support for those packages using that "random repackaging" since I and several others need them.

I install the packages myself and then use them from within Sage, but since several things inside Sage are about to depend on that package - see #11187, #11010, #10819 - I think it is worth providing the option for others to automatically install that version of GAP3 with the newest *chevie* package.



---

archive/issue_comments_288418.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nReplying to [@stumpc5](#comment%3A3):\n> Replying to [@jdemeyer](#comment%3A2):\n> > I think this is the problem: it doesn't seem to be the \"official\" GAP3 package, just some random repackaging of GAP3.\n> \n> \n> The development of GAP3 has stopped a long time ago. But there are several GAP3 packages that have never been ported to GAP4, and which are still developed.\n> \n> From that webpage:\n> \n> ```\n> To help people who are just interested in GAP3 because they need a package\n> which has not been ported to GAP4, I have prepared an easy-to install\n> minimal GAP3 distribution containing an up-to-date versions of the packages.\n> ```\n\nAll the above doesn't explain why you use the repackaged version and not the official GAP 3 release from [http://www.gap-system.org/Gap3/Download3/download.html](http://www.gap-system.org/Gap3/Download3/download.html)\n\n> So this is the only place where we can find up-to-date versions of the GAP3 package *chevie* to work with unitary reflection groups and their representation theory.\n\nNo, the official `gap3r4p4` release also contains chevie.\n\n> I fail to see what might be wrong with adding support for those packages using that \"random repackaging\" since I and several others need them.\n\nBecause the repackaging seems to made in a messy way, see #19164.",
    "created_at": "2016-02-25T13:03:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288418",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:4" align="right">comment:4</div>

Replying to [@stumpc5](#comment%3A3):
> Replying to [@jdemeyer](#comment%3A2):
> > I think this is the problem: it doesn't seem to be the "official" GAP3 package, just some random repackaging of GAP3.
> 
> 
> The development of GAP3 has stopped a long time ago. But there are several GAP3 packages that have never been ported to GAP4, and which are still developed.
> 
> From that webpage:
> 
> ```
> To help people who are just interested in GAP3 because they need a package
> which has not been ported to GAP4, I have prepared an easy-to install
> minimal GAP3 distribution containing an up-to-date versions of the packages.
> ```

All the above doesn't explain why you use the repackaged version and not the official GAP 3 release from [http://www.gap-system.org/Gap3/Download3/download.html](http://www.gap-system.org/Gap3/Download3/download.html)

> So this is the only place where we can find up-to-date versions of the GAP3 package *chevie* to work with unitary reflection groups and their representation theory.

No, the official `gap3r4p4` release also contains chevie.

> I fail to see what might be wrong with adding support for those packages using that "random repackaging" since I and several others need them.

Because the repackaging seems to made in a messy way, see #19164.



---

archive/issue_comments_288419.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nFrank L\u00fcbeck's page [How to get CHEVIE](http://www.math.rwth-aachen.de/~CHEVIE/how-get.html) also says to download the official GAP3 release and doesn't talk about the \"repackaged\" version.",
    "created_at": "2016-02-25T13:07:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288419",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:5" align="right">comment:5</div>

Frank Lübeck's page [How to get CHEVIE](http://www.math.rwth-aachen.de/~CHEVIE/how-get.html) also says to download the official GAP3 release and doesn't talk about the "repackaged" version.



---

archive/issue_comments_288420.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nReplying to [@jdemeyer](#comment%3A5):\n> Frank L\u00fcbeck's page [How to get CHEVIE](http://www.math.rwth-aachen.de/~CHEVIE/how-get.html) also says to download the official GAP3 release and doesn't talk about the \"repackaged\" version.\n\nNeither this nor the above is up-to-date. Afaik, Jean Michel is the only person still actively developing *chevie* and his website is the only place where these new versions can be found. E.g., I found a small bug in chevie last month (so years after the release of `gap3r4p4`) through my Sage usage -- Jean fixed it within a few hours and posted the new version on his website.\n\nUsing any other version of gap3 and chevie will result in running into old mistakes that will slow down my understanding of research problems I compute!",
    "created_at": "2016-02-25T13:14:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288420",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:6" align="right">comment:6</div>

Replying to [@jdemeyer](#comment%3A5):
> Frank Lübeck's page [How to get CHEVIE](http://www.math.rwth-aachen.de/~CHEVIE/how-get.html) also says to download the official GAP3 release and doesn't talk about the "repackaged" version.

Neither this nor the above is up-to-date. Afaik, Jean Michel is the only person still actively developing *chevie* and his website is the only place where these new versions can be found. E.g., I found a small bug in chevie last month (so years after the release of `gap3r4p4`) through my Sage usage -- Jean fixed it within a few hours and posted the new version on his website.

Using any other version of gap3 and chevie will result in running into old mistakes that will slow down my understanding of research problems I compute!



---

archive/issue_comments_288421.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\n> Jean fixed it within a few hours and posted the new version on his website.\n\nWith \"new version\", I guess you mean a new version of the repackaged GAP3?\n\nIt should be possible to just get the up-to-date chevie sources without all the extra clutter.",
    "created_at": "2016-02-25T16:48:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288421",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:7" align="right">comment:7</div>

> Jean fixed it within a few hours and posted the new version on his website.

With "new version", I guess you mean a new version of the repackaged GAP3?

It should be possible to just get the up-to-date chevie sources without all the extra clutter.



---

archive/issue_comments_288422.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nFrom my email discussion with Jean Michel:\n\n```\n>> These  days I sometimes change files in other places than Chevie, so indeed\n>> each  time I change something one must take the whole distribution (however\n>> I  almost  never  change  the  C  sources).\n\n> Is the stuff that you change in other places needed for chevie to run?\n\nWell,  yes. There were  patches to the  library loaded when loading Chevie.\nSince  I maintain the whole distribution, I  decided it makes more sense to\n*do*  these  patches  to  the  library  once  and  for  all (this could fix\nundiscovered  bugs in other  packages). So the  correct behaviour of Chevie\ndepends on having my version of gap3/lib.\n```\n\n@jdemeyer, what do you think how to proceed from here?",
    "created_at": "2016-02-26T13:21:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288422",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:8" align="right">comment:8</div>

From my email discussion with Jean Michel:

```
>> These  days I sometimes change files in other places than Chevie, so indeed
>> each  time I change something one must take the whole distribution (however
>> I  almost  never  change  the  C  sources).

> Is the stuff that you change in other places needed for chevie to run?

Well,  yes. There were  patches to the  library loaded when loading Chevie.
Since  I maintain the whole distribution, I  decided it makes more sense to
*do*  these  patches  to  the  library  once  and  for  all (this could fix
undiscovered  bugs in other  packages). So the  correct behaviour of Chevie
depends on having my version of gap3/lib.
```

@jdemeyer, what do you think how to proceed from here?



---

archive/issue_comments_288423.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nFirst of all, thanks for the clarifications!\n\nI think that somebody (either Jean Michel himself or somebody on this Sage ticket) needs to package a source-only repackaged GAP3.\n\nFurther questions to be asked to Jean Michel:\n\n1. Could he state more clearly on his website that his version is not just a repackaged GAP3, it's really a fork of GAP3 with additional fixes which are not in GAP3 proper.\n\n2. Can he provide a clean source-only repackaged GAP3?\n\n3. If no to the previous question: is he willing to host such a source-only repackaged GAP3 on his website, if it is created by some Sage contributor?",
    "created_at": "2016-02-26T13:30:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288423",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:9" align="right">comment:9</div>

First of all, thanks for the clarifications!

I think that somebody (either Jean Michel himself or somebody on this Sage ticket) needs to package a source-only repackaged GAP3.

Further questions to be asked to Jean Michel:

1. Could he state more clearly on his website that his version is not just a repackaged GAP3, it's really a fork of GAP3 with additional fixes which are not in GAP3 proper.

2. Can he provide a clean source-only repackaged GAP3?

3. If no to the previous question: is he willing to host such a source-only repackaged GAP3 on his website, if it is created by some Sage contributor?



---

archive/issue_comments_288424.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,7 +2,8 @@\n \n We now know how to make the package work for linux, but osx seems to be a problem.\n \n-* Download GAP3 from https://webusers.imj-prg.fr/~jean.michel/gap3/ (make sure with Jean Michel that this version is up-to-date)\n+* Download gap3_jm from https://webusers.imj-prg.fr/~jean.michel/gap3/ (make sure with Jean Michel that this version is up-to-date)\n+\n * Get rid of the binaries in\n \n ```\n@@ -21,4 +22,4 @@\n pkg/ve/bin/qme\n ```\n   (Jean sent me that list, needs to be checked.)\n-* Write the code to compile GAP3 from source and put it into the right place.\n+* Write the code to compile gap3_jm from source and put it into the right place.\n``````\n",
    "created_at": "2016-02-26T13:39:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288424",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,7 +2,8 @@
 
 We now know how to make the package work for linux, but osx seems to be a problem.
 
-* Download GAP3 from https://webusers.imj-prg.fr/~jean.michel/gap3/ (make sure with Jean Michel that this version is up-to-date)
+* Download gap3_jm from https://webusers.imj-prg.fr/~jean.michel/gap3/ (make sure with Jean Michel that this version is up-to-date)
+
 * Get rid of the binaries in
 
 ```
@@ -21,4 +22,4 @@
 pkg/ve/bin/qme
 ```
   (Jean sent me that list, needs to be checked.)
-* Write the code to compile GAP3 from source and put it into the right place.
+* Write the code to compile gap3_jm from source and put it into the right place.
``````




---

archive/issue_events_281475.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-02-26T13:39:19Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "title_is": "Add optional gap3_jm package",
    "title_was": "Add again optional GAP3 package",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20107#event-281475"
}
```



---

archive/issue_comments_288425.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@jdemeyer](#comment%3A9):\n> I think that somebody (either Jean Michel himself or somebody on this Sage ticket) needs to package a source-only repackaged GAP3.\n\nI don't understand how this differs from my initial suggestion on this ticket.",
    "created_at": "2016-02-26T13:41:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288425",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@jdemeyer](#comment%3A9):
> I think that somebody (either Jean Michel himself or somebody on this Sage ticket) needs to package a source-only repackaged GAP3.

I don't understand how this differs from my initial suggestion on this ticket.



---

archive/issue_comments_288426.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@stumpc5](#comment%3A11):\n> I don't understand how this differs from my initial suggestion on this ticket.\n\nIt does not differ. It's just that the situation has been clarified, making sure that your initial suggestion is the right thing to do.",
    "created_at": "2016-02-26T13:42:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288426",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@stumpc5](#comment%3A11):
> I don't understand how this differs from my initial suggestion on this ticket.

It does not differ. It's just that the situation has been clarified, making sure that your initial suggestion is the right thing to do.



---

archive/issue_comments_288427.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,8 +1,8 @@\n-We have been trying to have an optional GAP3 package for a while now. Franco then made one (#8906) but it contained binaries, so it was removed again (#19164).\n+We have been trying to have an optional GAP3 package for a while now. Instead of the official GAP3, we instead use a forked package [gap3_jm](https://webusers.imj-prg.fr/~jean.michel/gap3/) which has regularly been updated.\n+\n+Previously, this was made a Sage package (#8906) but it contained binaries, so it was removed again (#19164).\n \n We now know how to make the package work for linux, but osx seems to be a problem.\n-\n-* Download gap3_jm from https://webusers.imj-prg.fr/~jean.michel/gap3/ (make sure with Jean Michel that this version is up-to-date)\n \n * Get rid of the binaries in\n \n``````\n",
    "created_at": "2016-02-26T13:43:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288427",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,8 +1,8 @@
-We have been trying to have an optional GAP3 package for a while now. Franco then made one (#8906) but it contained binaries, so it was removed again (#19164).
+We have been trying to have an optional GAP3 package for a while now. Instead of the official GAP3, we instead use a forked package [gap3_jm](https://webusers.imj-prg.fr/~jean.michel/gap3/) which has regularly been updated.
+
+Previously, this was made a Sage package (#8906) but it contained binaries, so it was removed again (#19164).
 
 We now know how to make the package work for linux, but osx seems to be a problem.
-
-* Download gap3_jm from https://webusers.imj-prg.fr/~jean.michel/gap3/ (make sure with Jean Michel that this version is up-to-date)
 
 * Get rid of the binaries in
 
``````




---

archive/issue_comments_288428.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nDear Christian,\nI cannot post directly on sage-trac so I reply to you.\n\nFurther questions to be asked to Jean Michel:\n\n> 1.  Could he state  more clearly on  his website that  his version is not\n> just  a repackaged GAP3, it's really a fork of GAP3 with additional fixes\n> which are not in GAP3 proper.\n\nOK,  I will try to be clear on my webpages. The fact is I do not distribute\na  complete GAP3 distribution (all packages,  all libraries) to save space.\nPerhaps I should distribute a complete distribution and this would obsolete\nthe St Andrews distribution -- it would go from 15MB to 70MB.\n\n> 2. Can he provide a clean source-only repackaged GAP3?\n\nI  could  try  if  I  understand  exactly  what this means. But this should\ncertainly  not be the  default distribution since  my distribution contains\nMac  and Windows executables (and executables  for some packages which have\nexecutables  separate from the gap3 executable). We thus have to agree to a\nname  for this  for-Sage distribution  which I  will keep separate from the\ndefault distribution.\n\n> 3.  If no to the previous question: is  he willing to host such a source-\n> only  repackaged  GAP3  on  his  website,  if  it is created by some Sage\n> contributor?\n\nYes.",
    "created_at": "2016-02-26T13:45:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288428",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:14" align="right">comment:14</div>

Dear Christian,
I cannot post directly on sage-trac so I reply to you.

Further questions to be asked to Jean Michel:

> 1.  Could he state  more clearly on  his website that  his version is not
> just  a repackaged GAP3, it's really a fork of GAP3 with additional fixes
> which are not in GAP3 proper.

OK,  I will try to be clear on my webpages. The fact is I do not distribute
a  complete GAP3 distribution (all packages,  all libraries) to save space.
Perhaps I should distribute a complete distribution and this would obsolete
the St Andrews distribution -- it would go from 15MB to 70MB.

> 2. Can he provide a clean source-only repackaged GAP3?

I  could  try  if  I  understand  exactly  what this means. But this should
certainly  not be the  default distribution since  my distribution contains
Mac  and Windows executables (and executables  for some packages which have
executables  separate from the gap3 executable). We thus have to agree to a
name  for this  for-Sage distribution  which I  will keep separate from the
default distribution.

> 3.  If no to the previous question: is  he willing to host such a source-
> only  repackaged  GAP3  on  his  website,  if  it is created by some Sage
> contributor?

Yes.



---

archive/issue_comments_288429.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,9 +2,9 @@\n \n Previously, this was made a Sage package (#8906) but it contained binaries, so it was removed again (#19164).\n \n-We now know how to make the package work for linux, but osx seems to be a problem.\n+So we have to change this package from a binary package to a source package. This involves adding a build system.\n \n-* Get rid of the binaries in\n+The package `gap3_jm` contains binaries in\n \n ```\n bin\n@@ -22,4 +22,3 @@\n pkg/ve/bin/qme\n ```\n   (Jean sent me that list, needs to be checked.)\n-* Write the code to compile gap3_jm from source and put it into the right place.\n``````\n",
    "created_at": "2016-02-26T13:45:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288429",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,9 +2,9 @@
 
 Previously, this was made a Sage package (#8906) but it contained binaries, so it was removed again (#19164).
 
-We now know how to make the package work for linux, but osx seems to be a problem.
+So we have to change this package from a binary package to a source package. This involves adding a build system.
 
-* Get rid of the binaries in
+The package `gap3_jm` contains binaries in
 
 ```
 bin
@@ -22,4 +22,3 @@
 pkg/ve/bin/qme
 ```
   (Jean sent me that list, needs to be checked.)
-* Write the code to compile gap3_jm from source and put it into the right place.
``````




---

archive/issue_comments_288430.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@stumpc5](#comment%3A14):\n> I  could  try  if  I  understand  exactly  what this means.\n\nIt means: delete all binaries (i.e. system-specific) from the package. Make sure that the package has a build system such that it can be built/installed in a standard Unix environment.\n\n> We thus have to agree to a name for this for-Sage distribution which I will keep separate from the default distribution.\n\nWell, I wouldn't call it a \"for-Sage distribution\". Call it a \"source distribution\". The actual filename doesn't matter much, most likely we will rename it for Sage anyway.",
    "created_at": "2016-02-26T14:06:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288430",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@stumpc5](#comment%3A14):
> I  could  try  if  I  understand  exactly  what this means.

It means: delete all binaries (i.e. system-specific) from the package. Make sure that the package has a build system such that it can be built/installed in a standard Unix environment.

> We thus have to agree to a name for this for-Sage distribution which I will keep separate from the default distribution.

Well, I wouldn't call it a "for-Sage distribution". Call it a "source distribution". The actual filename doesn't matter much, most likely we will rename it for Sage anyway.



---

archive/issue_comments_288431.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@jdemeyer](#comment%3A16):\n> It means: delete all binaries (i.e. system-specific) from the package. Make sure that the package has a build system such that it can be built/installed in a standard Unix environment.\n\nI will try to do that.",
    "created_at": "2016-02-26T15:20:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288431",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@jdemeyer](#comment%3A16):
> It means: delete all binaries (i.e. system-specific) from the package. Make sure that the package has a build system such that it can be built/installed in a standard Unix environment.

I will try to do that.



---

archive/issue_comments_288432.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nAlso (this is mostly a comment for Jean Michel): ideally the binary distribution would be made from the source distribution, not the other way around.",
    "created_at": "2016-02-27T10:00:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288432",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:18" align="right">comment:18</div>

Also (this is mostly a comment for Jean Michel): ideally the binary distribution would be made from the source distribution, not the other way around.



---

archive/issue_comments_288433.json:
```json
{
    "body": "Branch: **[u/stumpc5/20107](https://github.com/sagemath/sagetrac-mirror/tree/u/stumpc5/20107)**",
    "created_at": "2016-03-09T11:06:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288433",
    "user": "https://github.com/stumpc5"
}
```

Branch: **[u/stumpc5/20107](https://github.com/sagemath/sagetrac-mirror/tree/u/stumpc5/20107)**



---

archive/issue_comments_288434.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nI prepared a first version by\n\n1. taking the tarball from 2016-02-01 from Jean Michel's website\n2. deleting all binaries that were listed using `grep -r -m 1 \"^\"  . | grep \"Binary file\"`\n3. putting the result into a new tarball with the name `gap3-jm5-2015-02-01.tar.gz`, this can be downloaded at https://drive.google.com/file/d/0B1POEh8bhq1fLXdfTEZkZjVLOGs/view?usp=sharing\n4. preparing an optional package using this upstream tarball. This was basically a blind trip through the documentation for creating packages + looking at the old optional package patch #8906.\n\n@jdemeyer and @tscrim: I would very much appreciate if you could have a look!\n\nIf the linked tarball is okay, I would discuss with Jean Michel whether he could provide such a source distribution directly on his website.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5483a58699784651d5fd47a633a68aed04f71cf1\"><code>5483a58</code></a></td><td><code>first working version, wandering in the darkness though</code></td></tr></table>\n",
    "created_at": "2016-03-09T11:16:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288434",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:20" align="right">comment:20</div>

I prepared a first version by

1. taking the tarball from 2016-02-01 from Jean Michel's website
2. deleting all binaries that were listed using `grep -r -m 1 "^"  . | grep "Binary file"`
3. putting the result into a new tarball with the name `gap3-jm5-2015-02-01.tar.gz`, this can be downloaded at https://drive.google.com/file/d/0B1POEh8bhq1fLXdfTEZkZjVLOGs/view?usp=sharing
4. preparing an optional package using this upstream tarball. This was basically a blind trip through the documentation for creating packages + looking at the old optional package patch #8906.

@jdemeyer and @tscrim: I would very much appreciate if you could have a look!

If the linked tarball is okay, I would discuss with Jean Michel whether he could provide such a source distribution directly on his website.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5483a58699784651d5fd47a633a68aed04f71cf1"><code>5483a58</code></a></td><td><code>first working version, wandering in the darkness though</code></td></tr></table>




---

archive/issue_comments_288435.json:
```json
{
    "body": "Commit: **[`5483a58`](https://github.com/sagemath/sagetrac-mirror/commit/5483a58699784651d5fd47a633a68aed04f71cf1)**",
    "created_at": "2016-03-09T11:16:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288435",
    "user": "https://github.com/stumpc5"
}
```

Commit: **[`5483a58`](https://github.com/sagemath/sagetrac-mirror/commit/5483a58699784651d5fd47a633a68aed04f71cf1)**



---

archive/issue_comments_288436.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,23 +2,4 @@\n \n Previously, this was made a Sage package (#8906) but it contained binaries, so it was removed again (#19164).\n \n-So we have to change this package from a binary package to a source package. This involves adding a build system.\n-\n-The package `gap3_jm` contains binaries in\n-\n-```\n-bin\n-pkg/anusq/bin/Sq\n-pkg/arep/bin/desauto\n-pkg/arep/bin/leonin\n-pkg/arep/bin/leonout\n-pkg/meataxe/tests/a1\n-pkg/meataxe/tests/a2\n-pkg/meataxe/tests/Perm1\n-pkg/meataxe/tests/Perm2\n-pkg/nq/bin/nq\n-pkg/sisyphos/bin/sis-i586-unknown-linux\n-pkg/ve/bin/me\n-pkg/ve/bin/qme\n-```\n-  (Jean sent me that list, needs to be checked.)\n+I removed all binaries, and prepared a new tarball at \u200b`https://drive.google.com/file/d/0B1POEh8bhq1fLXdfTEZkZjVLOGs/view?usp=sharing`.\n``````\n",
    "created_at": "2016-03-09T11:18:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288436",
    "user": "https://github.com/stumpc5"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,23 +2,4 @@
 
 Previously, this was made a Sage package (#8906) but it contained binaries, so it was removed again (#19164).
 
-So we have to change this package from a binary package to a source package. This involves adding a build system.
-
-The package `gap3_jm` contains binaries in
-
-```
-bin
-pkg/anusq/bin/Sq
-pkg/arep/bin/desauto
-pkg/arep/bin/leonin
-pkg/arep/bin/leonout
-pkg/meataxe/tests/a1
-pkg/meataxe/tests/a2
-pkg/meataxe/tests/Perm1
-pkg/meataxe/tests/Perm2
-pkg/nq/bin/nq
-pkg/sisyphos/bin/sis-i586-unknown-linux
-pkg/ve/bin/me
-pkg/ve/bin/qme
-```
-  (Jean sent me that list, needs to be checked.)
+I removed all binaries, and prepared a new tarball at ​`https://drive.google.com/file/d/0B1POEh8bhq1fLXdfTEZkZjVLOGs/view?usp=sharing`.
``````




---

archive/issue_comments_288437.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,4 +2,4 @@\n \n Previously, this was made a Sage package (#8906) but it contained binaries, so it was removed again (#19164).\n \n-I removed all binaries, and prepared a new tarball at \u200b`https://drive.google.com/file/d/0B1POEh8bhq1fLXdfTEZkZjVLOGs/view?usp=sharing`.\n+I removed all binaries, and prepared a new tarball at \u200bhttps://drive.google.com/file/d/0B1POEh8bhq1fLXdfTEZkZjVLOGs/view?usp=sharing.\n``````\n",
    "created_at": "2016-03-09T11:19:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288437",
    "user": "https://github.com/stumpc5"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,4 +2,4 @@
 
 Previously, this was made a Sage package (#8906) but it contained binaries, so it was removed again (#19164).
 
-I removed all binaries, and prepared a new tarball at ​`https://drive.google.com/file/d/0B1POEh8bhq1fLXdfTEZkZjVLOGs/view?usp=sharing`.
+I removed all binaries, and prepared a new tarball at ​https://drive.google.com/file/d/0B1POEh8bhq1fLXdfTEZkZjVLOGs/view?usp=sharing.
``````




---

archive/issue_comments_288438.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nThis is far from an exhaustive list:\n\n```diff\n+if [[ $UNAME == 'Linux' ]]; then\n+    if [[ $(uname -m) == 'x86_64' ]]; then\n+        MAKE_COMMAND='x86linux-gcc64'\n+    else\n+        MAKE_COMMAND='x86linux-gcc'\n+    fi;\n+elif [[ $UNAME == 'Darwin' ]]; then\n+        MAKE_COMMAND='macosx-gcc'\n+fi\n```\n\nIs gap3 only supported on those architectures? In that case, it will need to be an experimental package.",
    "created_at": "2016-03-10T08:03:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288438",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:23" align="right">comment:23</div>

This is far from an exhaustive list:

```diff
+if [[ $UNAME == 'Linux' ]]; then
+    if [[ $(uname -m) == 'x86_64' ]]; then
+        MAKE_COMMAND='x86linux-gcc64'
+    else
+        MAKE_COMMAND='x86linux-gcc'
+    fi;
+elif [[ $UNAME == 'Darwin' ]]; then
+        MAKE_COMMAND='macosx-gcc'
+fi
```

Is gap3 only supported on those architectures? In that case, it will need to be an experimental package.



---

archive/issue_comments_288439.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nYou should check for errors in `spkg-install`.",
    "created_at": "2016-03-10T08:04:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288439",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:24" align="right">comment:24</div>

You should check for errors in `spkg-install`.



---

archive/issue_comments_288440.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@jdemeyer](#comment%3A23):\n> This is far from an exhaustive list:\n\nI get\n\n```\ngap3_source/src$ make\nusage: 'make <target>' where target is one of\n'x86linux-gcc64'   for x86linux with gcc\n'x86linux-gcc'     for x86linux with gcc in 32bit mode\n'macosx-gcc'       for mac os x with gcc\n'x86bsd-gcc'       for x86BSD with gcc\n'sun-sparc-solaris-gcc' for SUN under Solaris with GNU cc\n'sun-sparc-solaris-cc'  for SUN under Solaris with cc\n'bsd'\t\t       for others under Berkeley UNIX with cc\n\t\n\t  additional C compiler and linker flags can be passed with\n\t  'make <target> COPTS=<compiler-opts> LOPTS=<linker-opts>',\n\t  i.e., 'make x86linux-gcc COPTS=-g LOPTS=-g for debug'\n```\nand the GAP3 download page (http://www.gap-system.org/Gap3/Download3/download.html) does not say anything about other hardware.\n\nCan you tell me how to extend that `if ... elif ... fi` statement to also support these other options -- and if that is enough for the package to be `optional` rather than `experimental`?\n\nMany thanks!",
    "created_at": "2016-03-10T08:31:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288440",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@jdemeyer](#comment%3A23):
> This is far from an exhaustive list:

I get

```
gap3_source/src$ make
usage: 'make <target>' where target is one of
'x86linux-gcc64'   for x86linux with gcc
'x86linux-gcc'     for x86linux with gcc in 32bit mode
'macosx-gcc'       for mac os x with gcc
'x86bsd-gcc'       for x86BSD with gcc
'sun-sparc-solaris-gcc' for SUN under Solaris with GNU cc
'sun-sparc-solaris-cc'  for SUN under Solaris with cc
'bsd'		       for others under Berkeley UNIX with cc
	
	  additional C compiler and linker flags can be passed with
	  'make <target> COPTS=<compiler-opts> LOPTS=<linker-opts>',
	  i.e., 'make x86linux-gcc COPTS=-g LOPTS=-g for debug'
```
and the GAP3 download page (http://www.gap-system.org/Gap3/Download3/download.html) does not say anything about other hardware.

Can you tell me how to extend that `if ... elif ... fi` statement to also support these other options -- and if that is enough for the package to be `optional` rather than `experimental`?

Many thanks!



---

archive/issue_comments_288441.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nPersonally, I think it is better to have a look at the `Makefile` in gap3_jm and see why it so platform-dependent. Because there is very likely no fundamental reason why the platform should be given explicitly.",
    "created_at": "2016-03-10T08:35:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288441",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:26" align="right">comment:26</div>

Personally, I think it is better to have a look at the `Makefile` in gap3_jm and see why it so platform-dependent. Because there is very likely no fundamental reason why the platform should be given explicitly.



---

archive/issue_comments_288442.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nThe critical part of the `Makefile` is\n\n```\nx86linux-gcc:\n\t@$(MAKE) system.o   CC=gcc  CFLAGS=\"$(COPTS) -m32 -O2 -DSYS_IS_USG -DSYS_HAS_TIME_PROTO -DSYS_HAS_SIGNAL_PROTO -DSYS_HAS_IOCTL_PROTO\"\n\t@$(MAKE) gap CC=gcc CFLAGS=\"$(COPTS) -m32 -O \" SYS_FILE=system.o LOPTS=\"$(LOPTS) -m32 -static\"\n\tstrip gap\n\tmv gap ../bin/gap.x86linux\n\nx86linux-gccd:\n\t@$(MAKE) system.o   CC=gcc  CFLAGS=\"-g -m32 -O2 -DSYS_IS_USG -DSYS_HAS_TIME_PROTO -DSYS_HAS_SIGNAL_PROTO -DSYS_HAS_IOCTL_PROTO\"\n\t@$(MAKE) gap CC=gcc CFLAGS=\"-g -m32 -O \" SYS_FILE=system.o LOPTS=\"-g -m32 -static\"\n\nx86linux-gcc64:\n\t@$(MAKE) system.o   CC=gcc  CFLAGS=\"$(COPTS) -O -DSYS_IS_64_BIT -DSYS_IS_USG -DSYS_HAS_TIME_PROTO -DSYS_HAS_SIGNAL_PROTO -DSYS_HAS_IOCTL_PROTO\"\n\t@$(MAKE) gap CC=gcc CFLAGS=\"$(COPTS) -O -DSYS_IS_64_BIT \" SYS_FILE=system.o LOPTS=\"$(LOPTS) -static\"\n\tstrip gap\n\tmv gap ../bin/gap.x86linux64\n\nx86-dos-djgpp:\n\t@$(MAKE) system.o   CC=gcc  CFLAGS=\"$(COPTS) -DSYS_IS_MSDOS_DJGPP -DSYS_HAS_MISC_PROTO\"\n\t@$(MAKE) gapdjg.exe CC=gcc  CFLAGS=\"$(COPTS) -O1\"  SYS_FILE=system.o  LOPTS=\"$(LOPTS)\"\n\nx86-dos-djgppcross:\n\t@$(MAKE) system.o   CC=dos-gcc\tCFLAGS=\"$(COPTS) -DSYS_IS_MSDOS_DJGPP -DSYS_HAS_MISC_PROTO\"\n\t@$(MAKE) gapdjg.exe CC=dos-gcc\tCFLAGS=\"$(COPTS) -O1\"  SYS_FILE=system.o  LOPTS=\"$(LOPTS)\"\n\n# sbrk doesn't work in macosx so we need to use vm_allocate\nmacosx-gcc:\n\t@$(MAKE) system.o   CC=gcc  CFLAGS=\"$(COPTS) -m32 -DSYS_IS_MACOSX -DARCH_INCLUDE -DSYS_HAS_IOCTL_PROTO\"\n\t@$(MAKE) gap\t    CC=gcc  CFLAGS=\"$(COPTS) -m32 -O2\"  SYS_FILE=system.o  LOPTS=\"$(LOPTS) -m32\"\n\n# sbrk doesn't work in macosx so we need to use vm_allocate\n# This is using Frank Luebeck's optimized compile....but it doesn't\n# change the GAPstones for the files in ../tst\nmacosx-gcc-686-optimized:\n\t@$(MAKE) system.o   CC=gcc  CFLAGS=\"$(COPTS) -m32 -fomit-frame-pointer -pipe -fno-strength-reduce -march=i686 -falign-loops=2 -falign-jumps=2 -falign-functions=2 -DCPU=686 -g -O2 -DSYS_IS_MACOSX -DARCH_INCLUDE -DSYS_HAS_IOCTL_PROTO\"\n\t@$(MAKE) gap\t    CC=gcc  CFLAGS=\"$(COPTS) -m32 -fomit-frame-pointer -pipe -fno-strength-reduce -march=i686 -falign-loops=2 -falign-jumps=2 -falign-functions=2 -DCPU=686 -g -O3\"  SYS_FILE=system.o  LOPTS=\"$(LOPTS) -m32\"\n\nsun-sparc-solaris-cc:\n\t@$(MAKE) system.o   CC=cc  CFLAGS=\"$(COPTS) -O -DSYS_IS_USG -DSYS_HAS_TIME_PROTO -DSOLARIS2\"\n\t@echo \"Don't worry about 'out of range' and 'overflow' warnings\"\n\t@echo \"(29 in total)\"\n\t@$(MAKE) gap\t    CC=cc  CFLAGS=\"$(COPTS) -O2\"  SYS_FILE=system.o  LOPTS=\"$(LOPTS)\"\n\nsun-sparc-solaris-gcc2:\t\t\t\t\t\t   \n\t@$(MAKE) system.o   CC=gcc  CFLAGS=\"$(COPTS)  -O6 -DSYS_IS_USG -DSYS_HAS_TIME_PROTO -DSOLARIS2\"\t\t\t\t\t\t       \n\t@$(MAKE) gap\t    CC=gcc  CFLAGS=\"$(COPTS)  -O6\"  SYS_FILE=system.o LOPTS=\"$(LOPTS)\"\t\t\t\t\t\t\t\t     \n\n# 'sys/times.h' claims 'times' returns 'clock_t' (how shall it return -1?)\nsun-sparc-sunos-gcc:\n\t@$(MAKE) system.o   CC=gcc  CFLAGS=\"$(COPTS) -DSYS_IS_USG -DSYS_HAS_TIME_PROTO -DSYS_HAS_SIGNAL_PROTO\"\n\t@$(MAKE) gap\t    CC=gcc  CFLAGS=\"$(COPTS) -O2\"  SYS_FILE=system.o  LOPTS=\"$(LOPTS)\"\n\n# 'sys/times.h' claims 'times' returns 'clock_t' (how shall it return -1?)\nsun-sparc-sunos-cc:\n\t@$(MAKE) system.o   CFLAGS=\"$(COPTS) -DSYS_IS_USG -DSYS_HAS_TIME_PROTO\"\n\t@$(MAKE) gap\t    CFLAGS=\"$(COPTS) -O\"  SYS_FILE=system.o  LOPTS=\"$(LOPTS)\"\n\nbsd:\n\t@$(MAKE) system.o   CC=$(CC)  CFLAGS=\"$(COPTS) -DSYS_IS_BSD\"\n\t@$(MAKE) gap\t    CC=$(CC)  CFLAGS=\"$(COPTS) -O\"  SYS_FILE=system.o  LOPTS=\"$(LOPTS)\"\n```\nI have no idea what of that is necessary and what can be simplified... Do you know?",
    "created_at": "2016-03-10T08:43:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288442",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:27" align="right">comment:27</div>

The critical part of the `Makefile` is

```
x86linux-gcc:
	@$(MAKE) system.o   CC=gcc  CFLAGS="$(COPTS) -m32 -O2 -DSYS_IS_USG -DSYS_HAS_TIME_PROTO -DSYS_HAS_SIGNAL_PROTO -DSYS_HAS_IOCTL_PROTO"
	@$(MAKE) gap CC=gcc CFLAGS="$(COPTS) -m32 -O " SYS_FILE=system.o LOPTS="$(LOPTS) -m32 -static"
	strip gap
	mv gap ../bin/gap.x86linux

x86linux-gccd:
	@$(MAKE) system.o   CC=gcc  CFLAGS="-g -m32 -O2 -DSYS_IS_USG -DSYS_HAS_TIME_PROTO -DSYS_HAS_SIGNAL_PROTO -DSYS_HAS_IOCTL_PROTO"
	@$(MAKE) gap CC=gcc CFLAGS="-g -m32 -O " SYS_FILE=system.o LOPTS="-g -m32 -static"

x86linux-gcc64:
	@$(MAKE) system.o   CC=gcc  CFLAGS="$(COPTS) -O -DSYS_IS_64_BIT -DSYS_IS_USG -DSYS_HAS_TIME_PROTO -DSYS_HAS_SIGNAL_PROTO -DSYS_HAS_IOCTL_PROTO"
	@$(MAKE) gap CC=gcc CFLAGS="$(COPTS) -O -DSYS_IS_64_BIT " SYS_FILE=system.o LOPTS="$(LOPTS) -static"
	strip gap
	mv gap ../bin/gap.x86linux64

x86-dos-djgpp:
	@$(MAKE) system.o   CC=gcc  CFLAGS="$(COPTS) -DSYS_IS_MSDOS_DJGPP -DSYS_HAS_MISC_PROTO"
	@$(MAKE) gapdjg.exe CC=gcc  CFLAGS="$(COPTS) -O1"  SYS_FILE=system.o  LOPTS="$(LOPTS)"

x86-dos-djgppcross:
	@$(MAKE) system.o   CC=dos-gcc	CFLAGS="$(COPTS) -DSYS_IS_MSDOS_DJGPP -DSYS_HAS_MISC_PROTO"
	@$(MAKE) gapdjg.exe CC=dos-gcc	CFLAGS="$(COPTS) -O1"  SYS_FILE=system.o  LOPTS="$(LOPTS)"

# sbrk doesn't work in macosx so we need to use vm_allocate
macosx-gcc:
	@$(MAKE) system.o   CC=gcc  CFLAGS="$(COPTS) -m32 -DSYS_IS_MACOSX -DARCH_INCLUDE -DSYS_HAS_IOCTL_PROTO"
	@$(MAKE) gap	    CC=gcc  CFLAGS="$(COPTS) -m32 -O2"  SYS_FILE=system.o  LOPTS="$(LOPTS) -m32"

# sbrk doesn't work in macosx so we need to use vm_allocate
# This is using Frank Luebeck's optimized compile....but it doesn't
# change the GAPstones for the files in ../tst
macosx-gcc-686-optimized:
	@$(MAKE) system.o   CC=gcc  CFLAGS="$(COPTS) -m32 -fomit-frame-pointer -pipe -fno-strength-reduce -march=i686 -falign-loops=2 -falign-jumps=2 -falign-functions=2 -DCPU=686 -g -O2 -DSYS_IS_MACOSX -DARCH_INCLUDE -DSYS_HAS_IOCTL_PROTO"
	@$(MAKE) gap	    CC=gcc  CFLAGS="$(COPTS) -m32 -fomit-frame-pointer -pipe -fno-strength-reduce -march=i686 -falign-loops=2 -falign-jumps=2 -falign-functions=2 -DCPU=686 -g -O3"  SYS_FILE=system.o  LOPTS="$(LOPTS) -m32"

sun-sparc-solaris-cc:
	@$(MAKE) system.o   CC=cc  CFLAGS="$(COPTS) -O -DSYS_IS_USG -DSYS_HAS_TIME_PROTO -DSOLARIS2"
	@echo "Don't worry about 'out of range' and 'overflow' warnings"
	@echo "(29 in total)"
	@$(MAKE) gap	    CC=cc  CFLAGS="$(COPTS) -O2"  SYS_FILE=system.o  LOPTS="$(LOPTS)"

sun-sparc-solaris-gcc2:						   
	@$(MAKE) system.o   CC=gcc  CFLAGS="$(COPTS)  -O6 -DSYS_IS_USG -DSYS_HAS_TIME_PROTO -DSOLARIS2"						       
	@$(MAKE) gap	    CC=gcc  CFLAGS="$(COPTS)  -O6"  SYS_FILE=system.o LOPTS="$(LOPTS)"								     

# 'sys/times.h' claims 'times' returns 'clock_t' (how shall it return -1?)
sun-sparc-sunos-gcc:
	@$(MAKE) system.o   CC=gcc  CFLAGS="$(COPTS) -DSYS_IS_USG -DSYS_HAS_TIME_PROTO -DSYS_HAS_SIGNAL_PROTO"
	@$(MAKE) gap	    CC=gcc  CFLAGS="$(COPTS) -O2"  SYS_FILE=system.o  LOPTS="$(LOPTS)"

# 'sys/times.h' claims 'times' returns 'clock_t' (how shall it return -1?)
sun-sparc-sunos-cc:
	@$(MAKE) system.o   CFLAGS="$(COPTS) -DSYS_IS_USG -DSYS_HAS_TIME_PROTO"
	@$(MAKE) gap	    CFLAGS="$(COPTS) -O"  SYS_FILE=system.o  LOPTS="$(LOPTS)"

bsd:
	@$(MAKE) system.o   CC=$(CC)  CFLAGS="$(COPTS) -DSYS_IS_BSD"
	@$(MAKE) gap	    CC=$(CC)  CFLAGS="$(COPTS) -O"  SYS_FILE=system.o  LOPTS="$(LOPTS)"
```
I have no idea what of that is necessary and what can be simplified... Do you know?



---

archive/issue_comments_288443.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nDoes this `Makefile` come from `gap` upstream or from `gap3_jm`?\n\nTo start with, I would remove these: `mv gap ../bin/gap.x86linux`. Then at least the name of the executable won't be system-dependent.\n\nSecond, are the `x86linux-gcc` and `x86linux-gcc64` rules really `x86`-specific? At first sight, this doesn't seem to be the case: I think it is just 32-bit Linux and 64-bit Linux.",
    "created_at": "2016-03-10T13:10:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288443",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:28" align="right">comment:28</div>

Does this `Makefile` come from `gap` upstream or from `gap3_jm`?

To start with, I would remove these: `mv gap ../bin/gap.x86linux`. Then at least the name of the executable won't be system-dependent.

Second, are the `x86linux-gcc` and `x86linux-gcc64` rules really `x86`-specific? At first sight, this doesn't seem to be the case: I think it is just 32-bit Linux and 64-bit Linux.



---

archive/issue_comments_288444.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nThis `Makefile` comes from `gap3_jm`, the `Makefile` in the last official version is this + even more options.\n\n> To start with, I would remove these: mv gap ../bin/gap.x86linux. Then at least the name of the executable won't be system-dependent.\n\nOkay, no problem.\n\n> Second, are the x86linux-gcc and x86linux-gcc64 rules really x86-specific? At first sight, this doesn't seem to be the case: I think it is just 32-bit Linux and 64-bit Linux.\n\nIs there a way to find that out? I compiled `GAP3` for the first time ever to get this optional package.",
    "created_at": "2016-03-10T13:21:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288444",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:29" align="right">comment:29</div>

This `Makefile` comes from `gap3_jm`, the `Makefile` in the last official version is this + even more options.

> To start with, I would remove these: mv gap ../bin/gap.x86linux. Then at least the name of the executable won't be system-dependent.

Okay, no problem.

> Second, are the x86linux-gcc and x86linux-gcc64 rules really x86-specific? At first sight, this doesn't seem to be the case: I think it is just 32-bit Linux and 64-bit Linux.

Is there a way to find that out? I compiled `GAP3` for the first time ever to get this optional package.



---

archive/issue_comments_288445.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nReplying to [@stumpc5](#comment%3A29):\n> Is there a way to find that out?\n\nAssume that it works like I said and we'll see if it breaks.",
    "created_at": "2016-03-10T13:24:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288445",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:30" align="right">comment:30</div>

Replying to [@stumpc5](#comment%3A29):
> Is there a way to find that out?

Assume that it works like I said and we'll see if it breaks.



---

archive/issue_comments_288446.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nI wanted to modify the `Makefile` accordingly, but it didn't work along the lines\n\n```\nARCH = $(shell getconf LONG_BIT)\nUNAME_S = $(shell uname -s)\n\nifeq ($(UNAME_S),Linux)\n    ifeq ($(ARCH),32)\n        # do foo\n    endif\n    ifeq ($(ARCH),64)\n        # do bar\n    endif\nendif\nifeq ($(UNAME_S),Darwin)\n    # do foobar\nendif\n\nunknown:\n    ...\n```\nbut I got many different type of errors that I wasn't able to resolve. Some were caused by tabs vs. spaces, others by the recursive calling of the makefile. Could you help me getting it correct?",
    "created_at": "2016-03-11T08:57:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288446",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:31" align="right">comment:31</div>

I wanted to modify the `Makefile` accordingly, but it didn't work along the lines

```
ARCH = $(shell getconf LONG_BIT)
UNAME_S = $(shell uname -s)

ifeq ($(UNAME_S),Linux)
    ifeq ($(ARCH),32)
        # do foo
    endif
    ifeq ($(ARCH),64)
        # do bar
    endif
endif
ifeq ($(UNAME_S),Darwin)
    # do foobar
endif

unknown:
    ...
```
but I got many different type of errors that I wasn't able to resolve. Some were caused by tabs vs. spaces, others by the recursive calling of the makefile. Could you help me getting it correct?



---

archive/issue_comments_288447.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nReplying to [@stumpc5](#comment%3A31):\n> I wanted to modify the `Makefile` accordingly, but it didn't work along the lines\n\nOkay, I think I got it now, I had to further mess with tabs vs spaces... I am going to upload a new version soon.",
    "created_at": "2016-03-11T10:24:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288447",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:32" align="right">comment:32</div>

Replying to [@stumpc5](#comment%3A31):
> I wanted to modify the `Makefile` accordingly, but it didn't work along the lines

Okay, I think I got it now, I had to further mess with tabs vs spaces... I am going to upload a new version soon.



---

archive/issue_comments_288448.json:
```json
{
    "body": "Changed commit from **[`5483a58`](https://github.com/sagemath/sagetrac-mirror/commit/5483a58699784651d5fd47a633a68aed04f71cf1)** to **[`ce54879`](https://github.com/sagemath/sagetrac-mirror/commit/ce54879a7a3f27a0edc620bee9706ce876d01bbe)**",
    "created_at": "2016-03-11T10:43:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288448",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5483a58`](https://github.com/sagemath/sagetrac-mirror/commit/5483a58699784651d5fd47a633a68aed04f71cf1)** to **[`ce54879`](https://github.com/sagemath/sagetrac-mirror/commit/ce54879a7a3f27a0edc620bee9706ce876d01bbe)**



---

archive/issue_comments_288449.json:
```json
{
    "body": "<div id=\"comment:33\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ce54879a7a3f27a0edc620bee9706ce876d01bbe\"><code>ce54879</code></a></td><td><code>modified the makefile to autodetect the system Linux/Darwin and 32/64 bit</code></td></tr></table>\n",
    "created_at": "2016-03-11T10:43:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288449",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:33"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ce54879a7a3f27a0edc620bee9706ce876d01bbe"><code>ce54879</code></a></td><td><code>modified the makefile to autodetect the system Linux/Darwin and 32/64 bit</code></td></tr></table>




---

archive/issue_comments_288450.json:
```json
{
    "body": "<div id=\"comment:34\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2ae234f35b813e8e11e453957a6b207d159b73fa\"><code>2ae234f</code></a></td><td><code>added explanation in the header of the makefile patch</code></td></tr></table>\n",
    "created_at": "2016-03-11T10:46:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288450",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:34"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2ae234f35b813e8e11e453957a6b207d159b73fa"><code>2ae234f</code></a></td><td><code>added explanation in the header of the makefile patch</code></td></tr></table>




---

archive/issue_comments_288451.json:
```json
{
    "body": "Changed commit from **[`ce54879`](https://github.com/sagemath/sagetrac-mirror/commit/ce54879a7a3f27a0edc620bee9706ce876d01bbe)** to **[`2ae234f`](https://github.com/sagemath/sagetrac-mirror/commit/2ae234f35b813e8e11e453957a6b207d159b73fa)**",
    "created_at": "2016-03-11T10:46:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288451",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ce54879`](https://github.com/sagemath/sagetrac-mirror/commit/ce54879a7a3f27a0edc620bee9706ce876d01bbe)** to **[`2ae234f`](https://github.com/sagemath/sagetrac-mirror/commit/2ae234f35b813e8e11e453957a6b207d159b73fa)**



---

archive/issue_comments_288452.json:
```json
{
    "body": "<div id=\"comment:35\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/696eaeb9ec9c4d7688dd38c1719e53e2c4713722\"><code>696eaeb</code></a></td><td><code>added description of the patches to SPKG.txt</code></td></tr></table>\n",
    "created_at": "2016-03-11T10:50:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288452",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:35"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/696eaeb9ec9c4d7688dd38c1719e53e2c4713722"><code>696eaeb</code></a></td><td><code>added description of the patches to SPKG.txt</code></td></tr></table>




---

archive/issue_comments_288453.json:
```json
{
    "body": "Changed commit from **[`2ae234f`](https://github.com/sagemath/sagetrac-mirror/commit/2ae234f35b813e8e11e453957a6b207d159b73fa)** to **[`696eaeb`](https://github.com/sagemath/sagetrac-mirror/commit/696eaeb9ec9c4d7688dd38c1719e53e2c4713722)**",
    "created_at": "2016-03-11T10:50:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288453",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2ae234f`](https://github.com/sagemath/sagetrac-mirror/commit/2ae234f35b813e8e11e453957a6b207d159b73fa)** to **[`696eaeb`](https://github.com/sagemath/sagetrac-mirror/commit/696eaeb9ec9c4d7688dd38c1719e53e2c4713722)**



---

archive/issue_events_281476.json:
```json
{
    "actor": "https://github.com/stumpc5",
    "created_at": "2016-03-11T10:51:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20107#event-281476"
}
```



---

archive/issue_comments_288454.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nI took care of the two suggestions by Jeroen and now think it is ready for review -- many thanks!",
    "created_at": "2016-03-11T10:51:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288454",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:36" align="right">comment:36</div>

I took care of the two suggestions by Jeroen and now think it is ready for review -- many thanks!



---

archive/issue_events_281477.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-03-11T11:02:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20107#event-281477"
}
```



---

archive/issue_events_281478.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-03-11T11:02:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20107#event-281478"
}
```



---

archive/issue_comments_288455.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\n`spkg-check` doesn't actually do anything...\n\nDoes GAP3 have a testsuite?",
    "created_at": "2016-03-11T11:02:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288455",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:37" align="right">comment:37</div>

`spkg-check` doesn't actually do anything...

Does GAP3 have a testsuite?



---

archive/issue_comments_288456.json:
```json
{
    "body": "Changed commit from **[`696eaeb`](https://github.com/sagemath/sagetrac-mirror/commit/696eaeb9ec9c4d7688dd38c1719e53e2c4713722)** to **[`8e0e38a`](https://github.com/sagemath/sagetrac-mirror/commit/8e0e38ab80d45c0d55675b6860e4adcd31458884)**",
    "created_at": "2016-03-11T11:07:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288456",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`696eaeb`](https://github.com/sagemath/sagetrac-mirror/commit/696eaeb9ec9c4d7688dd38c1719e53e2c4713722)** to **[`8e0e38a`](https://github.com/sagemath/sagetrac-mirror/commit/8e0e38ab80d45c0d55675b6860e4adcd31458884)**



---

archive/issue_comments_288457.json:
```json
{
    "body": "<div id=\"comment:38\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8e0e38ab80d45c0d55675b6860e4adcd31458884\"><code>8e0e38a</code></a></td><td><code>added the memory for gap3 depending on 32/64 bit systems</code></td></tr></table>\n",
    "created_at": "2016-03-11T11:07:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288457",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:38"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8e0e38ab80d45c0d55675b6860e4adcd31458884"><code>8e0e38a</code></a></td><td><code>added the memory for gap3 depending on 32/64 bit systems</code></td></tr></table>




---

archive/issue_comments_288458.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nI installed it once on OSX, then I decided to redo it with SAGE_CHECK=yes, and got\n\n```\n###########################################################\n#  Building complete, you can run GAP3 from './../bin/gap3'\n###########################################################\nInstalling (copying) files...\ncp: symlink: me: File exists\ncp: symlink: qme: File exists\nError installing (copying) gap3 files.\n```\n\nThis comes from copying executables of ve package, `me` and `qme` somewhere; probably by the ve installation script.\n\nyou need to use the corresponding flag, `-f`, to avoid this trouble.",
    "created_at": "2016-03-16T23:41:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288458",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:39" align="right">comment:39</div>

I installed it once on OSX, then I decided to redo it with SAGE_CHECK=yes, and got

```
###########################################################
#  Building complete, you can run GAP3 from './../bin/gap3'
###########################################################
Installing (copying) files...
cp: symlink: me: File exists
cp: symlink: qme: File exists
Error installing (copying) gap3 files.
```

This comes from copying executables of ve package, `me` and `qme` somewhere; probably by the ve installation script.

you need to use the corresponding flag, `-f`, to avoid this trouble.



---

archive/issue_comments_288459.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nIt would also be great if you host the tarball on a \"real\" server. Some browsers would automatically untar this file, and this is no good. So I had to get the tarball on a Linux machine, and copy it to the OSX machine for testing (oh the joy of this...)\n\nAnd the release manager will be very, very unhappy, too, without a wget-able link for the tarball.",
    "created_at": "2016-03-16T23:47:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288459",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:40" align="right">comment:40</div>

It would also be great if you host the tarball on a "real" server. Some browsers would automatically untar this file, and this is no good. So I had to get the tarball on a Linux machine, and copy it to the OSX machine for testing (oh the joy of this...)

And the release manager will be very, very unhappy, too, without a wget-able link for the tarball.



---

archive/issue_comments_288460.json:
```json
{
    "body": "<div id=\"comment:41\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/83d890688c11805d2c65797760d3b3f3e7eb13d3\"><code>83d8906</code></a></td><td><code>added -r option to the cp command</code></td></tr></table>\n",
    "created_at": "2016-03-17T10:44:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288460",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:41"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/83d890688c11805d2c65797760d3b3f3e7eb13d3"><code>83d8906</code></a></td><td><code>added -r option to the cp command</code></td></tr></table>




---

archive/issue_comments_288461.json:
```json
{
    "body": "Changed commit from **[`8e0e38a`](https://github.com/sagemath/sagetrac-mirror/commit/8e0e38ab80d45c0d55675b6860e4adcd31458884)** to **[`83d8906`](https://github.com/sagemath/sagetrac-mirror/commit/83d890688c11805d2c65797760d3b3f3e7eb13d3)**",
    "created_at": "2016-03-17T10:44:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288461",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8e0e38a`](https://github.com/sagemath/sagetrac-mirror/commit/8e0e38ab80d45c0d55675b6860e4adcd31458884)** to **[`83d8906`](https://github.com/sagemath/sagetrac-mirror/commit/83d890688c11805d2c65797760d3b3f3e7eb13d3)**



---

archive/issue_comments_288462.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,4 +2,4 @@\n \n Previously, this was made a Sage package (#8906) but it contained binaries, so it was removed again (#19164).\n \n-I removed all binaries, and prepared a new tarball at \u200bhttps://drive.google.com/file/d/0B1POEh8bhq1fLXdfTEZkZjVLOGs/view?usp=sharing.\n+I removed all binaries, and prepared a new tarball at \u200bhttp://downloads.findstat.org/gap3-jm5-2015-02-01.tar.gz .\n``````\n",
    "created_at": "2016-03-17T10:52:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288462",
    "user": "https://github.com/stumpc5"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,4 +2,4 @@
 
 Previously, this was made a Sage package (#8906) but it contained binaries, so it was removed again (#19164).
 
-I removed all binaries, and prepared a new tarball at ​https://drive.google.com/file/d/0B1POEh8bhq1fLXdfTEZkZjVLOGs/view?usp=sharing.
+I removed all binaries, and prepared a new tarball at ​http://downloads.findstat.org/gap3-jm5-2015-02-01.tar.gz .
``````




---

archive/issue_events_281479.json:
```json
{
    "actor": "https://github.com/stumpc5",
    "created_at": "2016-03-17T10:52:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20107#event-281479"
}
```



---

archive/issue_events_281480.json:
```json
{
    "actor": "https://github.com/stumpc5",
    "created_at": "2016-03-17T10:52:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20107#event-281480"
}
```



---

archive/issue_comments_288463.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nReplying to [@dimpase](#comment%3A40):\n\nThanks for the testing!\n\n> I installed it once on OSX, then I decided to redo it with SAGE_CHECK=yes\n\nI was not able to reproduce the error, but I added the `-f` flag to the `cp` command. Does that solve the issue?\n\n> And the release manager will be very, very unhappy, too, without a wget-able link for the tarball.\n\nthat's very true, I changed the download accordingly.",
    "created_at": "2016-03-17T10:54:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288463",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:43" align="right">comment:43</div>

Replying to [@dimpase](#comment%3A40):

Thanks for the testing!

> I installed it once on OSX, then I decided to redo it with SAGE_CHECK=yes

I was not able to reproduce the error, but I added the `-f` flag to the `cp` command. Does that solve the issue?

> And the release manager will be very, very unhappy, too, without a wget-able link for the tarball.

that's very true, I changed the download accordingly.



---

archive/issue_comments_288464.json:
```json
{
    "body": "Work Issues: **spkg-check**",
    "created_at": "2016-03-17T11:00:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288464",
    "user": "https://github.com/jdemeyer"
}
```

Work Issues: **spkg-check**



---

archive/issue_events_281481.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-03-17T11:00:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20107#event-281481"
}
```



---

archive/issue_events_281482.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-03-17T11:00:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20107#event-281482"
}
```



---

archive/issue_comments_288465.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nReplying to [@jdemeyer](#comment%3A44):\n\nI only copied the skpg-check from the first version of the gap3 package. What should I change there -- or can I even remove it?",
    "created_at": "2016-03-17T11:12:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288465",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:45" align="right">comment:45</div>

Replying to [@jdemeyer](#comment%3A44):

I only copied the skpg-check from the first version of the gap3 package. What should I change there -- or can I even remove it?



---

archive/issue_comments_288466.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nDoes GAP3 have a testsuite?",
    "created_at": "2016-03-17T11:18:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288466",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:46" align="right">comment:46</div>

Does GAP3 have a testsuite?



---

archive/issue_comments_288467.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nI am not sure, but I don't think so.",
    "created_at": "2016-03-17T11:20:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288467",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:47" align="right">comment:47</div>

I am not sure, but I don't think so.



---

archive/issue_comments_288468.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nIf not, then remove `spkg-check`.",
    "created_at": "2016-03-17T12:49:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288468",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:48" align="right">comment:48</div>

If not, then remove `spkg-check`.



---

archive/issue_comments_288469.json:
```json
{
    "body": "<div id=\"comment:49\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/138dcacda0ad661cc38eb04818ee9cd3a67fd2aa\"><code>138dcac</code></a></td><td><code>removed spkg-check</code></td></tr></table>\n",
    "created_at": "2016-03-17T13:45:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288469",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:49"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/138dcacda0ad661cc38eb04818ee9cd3a67fd2aa"><code>138dcac</code></a></td><td><code>removed spkg-check</code></td></tr></table>




---

archive/issue_comments_288470.json:
```json
{
    "body": "Changed commit from **[`83d8906`](https://github.com/sagemath/sagetrac-mirror/commit/83d890688c11805d2c65797760d3b3f3e7eb13d3)** to **[`138dcac`](https://github.com/sagemath/sagetrac-mirror/commit/138dcacda0ad661cc38eb04818ee9cd3a67fd2aa)**",
    "created_at": "2016-03-17T13:45:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288470",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`83d8906`](https://github.com/sagemath/sagetrac-mirror/commit/83d890688c11805d2c65797760d3b3f3e7eb13d3)** to **[`138dcac`](https://github.com/sagemath/sagetrac-mirror/commit/138dcacda0ad661cc38eb04818ee9cd3a67fd2aa)**



---

archive/issue_comments_288471.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\ndone.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/138dcacda0ad661cc38eb04818ee9cd3a67fd2aa\"><code>138dcac</code></a></td><td><code>removed spkg-check</code></td></tr></table>\n",
    "created_at": "2016-03-17T13:45:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288471",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:50" align="right">comment:50</div>

done.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/138dcacda0ad661cc38eb04818ee9cd3a67fd2aa"><code>138dcac</code></a></td><td><code>removed spkg-check</code></td></tr></table>




---

archive/issue_comments_288472.json:
```json
{
    "body": "Changed work issues from **spkg-check** to none",
    "created_at": "2016-03-17T13:45:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288472",
    "user": "https://github.com/stumpc5"
}
```

Changed work issues from **spkg-check** to none



---

archive/issue_events_281483.json:
```json
{
    "actor": "https://github.com/stumpc5",
    "created_at": "2016-03-17T13:45:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20107#event-281483"
}
```



---

archive/issue_events_281484.json:
```json
{
    "actor": "https://github.com/stumpc5",
    "created_at": "2016-03-17T13:45:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20107#event-281484"
}
```



---

archive/issue_events_281485.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2016-03-17T22:21:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20107#event-281485"
}
```



---

archive/issue_events_281486.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2016-03-17T22:21:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20107#event-281486"
}
```



---

archive/issue_comments_288473.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nthere is some weirdness with installation of GAP packages. There are packages that need to be compiled, e.g. ve.\nAlso, there  some weird dangling symlinks in ve/bin:\n\n```\n...pkg/ve/bin$ ls -l\ntotal 48\nlrwxr-xr-x  1 dima  admin    2 Mar  9 08:38 me.exe -> me\n-rw-r--r--  1 dima  admin  115 Aug  3  2014 me.sgl\n-rw-r--r--  1 dima  admin  804 Aug  3  2014 me.sh\nlrwxr-xr-x  1 dima  admin    3 Mar  9 08:38 qme.exe -> qme\n-rw-r--r--  1 dima  admin  773 Aug  3  2014 qme.sh\n-rw-r--r--  1 dima  admin  773 Aug  3  2014 zme.sh\n```\nwhen I see \"building complete\" message, only the main GAP system was built, but no packages. Then I see\n\n```\nmv gap ../bin/gap3\n###########################################################\n#  Building complete, you can run GAP3 from './../bin/gap3'\n###########################################################\nInstalling (copying) files...\ncp: pkg/ve/bin/me.exe: No such file or directory\ncp: pkg/ve/bin/qme.exe: No such file or directory\nError installing (copying) gap3 files.\n```\n\n\n\nI also notice that gcc is called with option -m32 on the 64-bit OSX 10.11:\n\n```\n...\ngcc -m32 -O2   -c -o coding.o coding.c\ngcc -m32 -o gap gap.o system.o gasman.o scanner.o idents.o read.o eval.o integer.o rational.o cyclotom.o unknown.o finfield.o polynom.o permutat.o word.o costab.o tietze.o agcollec.o aggroup.o pcpresen.o list.o plist.o set.o vector.o vecffe.o range.o blister.o string.o record.o statemen.o function.o coding.o\nld: warning: ignoring file /Volumes/Sage/sage/local/lib/libgcc_ext.10.5.dylib, missing required architecture i386 in file /Volumes/Sage/sage/local/lib/libgcc_ext.10.5.dylib (1 slices)\n```\nand this looks wrong.",
    "created_at": "2016-03-17T22:21:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288473",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:51" align="right">comment:51</div>

there is some weirdness with installation of GAP packages. There are packages that need to be compiled, e.g. ve.
Also, there  some weird dangling symlinks in ve/bin:

```
...pkg/ve/bin$ ls -l
total 48
lrwxr-xr-x  1 dima  admin    2 Mar  9 08:38 me.exe -> me
-rw-r--r--  1 dima  admin  115 Aug  3  2014 me.sgl
-rw-r--r--  1 dima  admin  804 Aug  3  2014 me.sh
lrwxr-xr-x  1 dima  admin    3 Mar  9 08:38 qme.exe -> qme
-rw-r--r--  1 dima  admin  773 Aug  3  2014 qme.sh
-rw-r--r--  1 dima  admin  773 Aug  3  2014 zme.sh
```
when I see "building complete" message, only the main GAP system was built, but no packages. Then I see

```
mv gap ../bin/gap3
###########################################################
#  Building complete, you can run GAP3 from './../bin/gap3'
###########################################################
Installing (copying) files...
cp: pkg/ve/bin/me.exe: No such file or directory
cp: pkg/ve/bin/qme.exe: No such file or directory
Error installing (copying) gap3 files.
```



I also notice that gcc is called with option -m32 on the 64-bit OSX 10.11:

```
...
gcc -m32 -O2   -c -o coding.o coding.c
gcc -m32 -o gap gap.o system.o gasman.o scanner.o idents.o read.o eval.o integer.o rational.o cyclotom.o unknown.o finfield.o polynom.o permutat.o word.o costab.o tietze.o agcollec.o aggroup.o pcpresen.o list.o plist.o set.o vector.o vecffe.o range.o blister.o string.o record.o statemen.o function.o coding.o
ld: warning: ignoring file /Volumes/Sage/sage/local/lib/libgcc_ext.10.5.dylib, missing required architecture i386 in file /Volumes/Sage/sage/local/lib/libgcc_ext.10.5.dylib (1 slices)
```
and this looks wrong.



---

archive/issue_comments_288474.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nI think it is best to never use `-m32` or `-m64` options and use the GCC default. That is how most other packages are compiled and that seems to work fine.",
    "created_at": "2016-03-18T08:36:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288474",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:52" align="right">comment:52</div>

I think it is best to never use `-m32` or `-m64` options and use the GCC default. That is how most other packages are compiled and that seems to work fine.



---

archive/issue_comments_288475.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nReplying to [@jdemeyer](#comment%3A52):\n> I think it is best to never use `-m32` or `-m64` options and use the GCC default. That is how most other packages are compiled and that seems to work fine.\n\nthat makefile is 20+ years old, with minor tweaks only, you know...\n\nAnd as I already said, it does not build packages. (Even on GAP4 it is not the case). Each package that needs something compiled has its own makefile, and one needs to run make in each of the corresponding subdirectories in pkg/.",
    "created_at": "2016-03-18T10:45:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288475",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:53" align="right">comment:53</div>

Replying to [@jdemeyer](#comment%3A52):
> I think it is best to never use `-m32` or `-m64` options and use the GCC default. That is how most other packages are compiled and that seems to work fine.

that makefile is 20+ years old, with minor tweaks only, you know...

And as I already said, it does not build packages. (Even on GAP4 it is not the case). Each package that needs something compiled has its own makefile, and one needs to run make in each of the corresponding subdirectories in pkg/.



---

archive/issue_comments_288476.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nReplying to [@dimpase](#comment%3A53):\n> Replying to [@jdemeyer](#comment%3A52):\n> > I think it is best to never use `-m32` or `-m64` options and use the GCC default. That is how most other packages are compiled and that seems to work fine.\n> \n> \n> that makefile is 20+ years old, with minor tweaks only, you know...\n\nThat doesn't really matter. It's trivial to just remove `-m32` and `-m64` everywhere.",
    "created_at": "2016-03-18T11:10:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288476",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:54" align="right">comment:54</div>

Replying to [@dimpase](#comment%3A53):
> Replying to [@jdemeyer](#comment%3A52):
> > I think it is best to never use `-m32` or `-m64` options and use the GCC default. That is how most other packages are compiled and that seems to work fine.
> 
> 
> that makefile is 20+ years old, with minor tweaks only, you know...

That doesn't really matter. It's trivial to just remove `-m32` and `-m64` everywhere.



---

archive/issue_comments_288477.json:
```json
{
    "body": "Changed commit from **[`138dcac`](https://github.com/sagemath/sagetrac-mirror/commit/138dcacda0ad661cc38eb04818ee9cd3a67fd2aa)** to **[`6b1b7fb`](https://github.com/sagemath/sagetrac-mirror/commit/6b1b7fbbaf0ac71060ef8820ed0482e14c61437c)**",
    "created_at": "2016-03-19T07:19:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288477",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`138dcac`](https://github.com/sagemath/sagetrac-mirror/commit/138dcacda0ad661cc38eb04818ee9cd3a67fd2aa)** to **[`6b1b7fb`](https://github.com/sagemath/sagetrac-mirror/commit/6b1b7fbbaf0ac71060ef8820ed0482e14c61437c)**



---

archive/issue_comments_288478.json:
```json
{
    "body": "<div id=\"comment:55\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6b1b7fbbaf0ac71060ef8820ed0482e14c61437c\"><code>6b1b7fb</code></a></td><td><code>removed the -m32 options from the make</code></td></tr></table>\n",
    "created_at": "2016-03-19T07:19:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288478",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:55"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6b1b7fbbaf0ac71060ef8820ed0482e14c61437c"><code>6b1b7fb</code></a></td><td><code>removed the -m32 options from the make</code></td></tr></table>




---

archive/issue_comments_288479.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nto [jdemeyer](#comment%3A54):\n> That doesn't really matter. It's trivial to just remove `-m32` and `-m64` everywhere.\n\nI updated the `Makefile` and removed all `-m32` options. The two `make`s for linux are now\n\n```\n@$(MAKE) system.o   CC=gcc  CFLAGS=\"$(COPTS) -O -DSYS_IS_64_BIT -DSYS_IS_USG -DSYS_HAS_TIME_PROTO -DSYS_HAS_SIGNAL_PROTO -DSYS_HAS_IOCTL_PROTO\"\n@$(MAKE) gap CC=gcc CFLAGS=\"$(COPTS) -O -DSYS_IS_64_BIT \" SYS_FILE=system.o LOPTS=\"$(LOPTS) -static\"\n```\nvs\n\n```\n@$(MAKE) system.o   CC=gcc  CFLAGS=\"$(COPTS) -O2 -DSYS_IS_USG -DSYS_HAS_TIME_PROTO -DSYS_HAS_SIGNAL_PROTO -DSYS_HAS_IOCTL_PROTO\"\n@$(MAKE) gap CC=gcc CFLAGS=\"$(COPTS) -O \" SYS_FILE=system.o LOPTS=\"$(LOPTS) -static\"\n```\n\nDo you know if I can also remove the `-O -DSYS_IS_64_BIT` vs `-O2` option to completely get rid of the distinction between 32 and 64 bit versions ?",
    "created_at": "2016-03-19T07:22:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288479",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:56" align="right">comment:56</div>

to [jdemeyer](#comment%3A54):
> That doesn't really matter. It's trivial to just remove `-m32` and `-m64` everywhere.

I updated the `Makefile` and removed all `-m32` options. The two `make`s for linux are now

```
@$(MAKE) system.o   CC=gcc  CFLAGS="$(COPTS) -O -DSYS_IS_64_BIT -DSYS_IS_USG -DSYS_HAS_TIME_PROTO -DSYS_HAS_SIGNAL_PROTO -DSYS_HAS_IOCTL_PROTO"
@$(MAKE) gap CC=gcc CFLAGS="$(COPTS) -O -DSYS_IS_64_BIT " SYS_FILE=system.o LOPTS="$(LOPTS) -static"
```
vs

```
@$(MAKE) system.o   CC=gcc  CFLAGS="$(COPTS) -O2 -DSYS_IS_USG -DSYS_HAS_TIME_PROTO -DSYS_HAS_SIGNAL_PROTO -DSYS_HAS_IOCTL_PROTO"
@$(MAKE) gap CC=gcc CFLAGS="$(COPTS) -O " SYS_FILE=system.o LOPTS="$(LOPTS) -static"
```

Do you know if I can also remove the `-O -DSYS_IS_64_BIT` vs `-O2` option to completely get rid of the distinction between 32 and 64 bit versions ?



---

archive/issue_comments_288480.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nReplying to [@dimpase](#comment%3A51):\n> there is some weirdness with installation of GAP packages. There are packages that need to be compiled, e.g. ve.\n> Also, there  some weird dangling symlinks in ve/bin:\n\nJean Michel wrote about deleting the binaries of the packages:\n\n```\nYou can get rid of all of them since they are little-used packages, or the\nbinaries provide additionnal functionality and are not essential.\n```\nSo I decided to not touch that part -- if the functionality is wanted at some point, we can still try to figure how to handle them properly...",
    "created_at": "2016-03-19T07:26:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288480",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:57" align="right">comment:57</div>

Replying to [@dimpase](#comment%3A51):
> there is some weirdness with installation of GAP packages. There are packages that need to be compiled, e.g. ve.
> Also, there  some weird dangling symlinks in ve/bin:

Jean Michel wrote about deleting the binaries of the packages:

```
You can get rid of all of them since they are little-used packages, or the
binaries provide additionnal functionality and are not essential.
```
So I decided to not touch that part -- if the functionality is wanted at some point, we can still try to figure how to handle them properly...



---

archive/issue_comments_288481.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">comment:58</div>\n\nReplying to [@stumpc5](#comment%3A56):\n>  to [jdemeyer](#comment%3A54):\n> > That doesn't really matter. It's trivial to just remove `-m32` and `-m64` everywhere.\n> \n> \n> I updated the `Makefile` and removed all `-m32` options. The two `make`s for linux are now\n> \n> ```\n> @$(MAKE) system.o   CC=gcc  CFLAGS=\"$(COPTS) -O -DSYS_IS_64_BIT -DSYS_IS_USG -DSYS_HAS_TIME_PROTO -DSYS_HAS_SIGNAL_PROTO -DSYS_HAS_IOCTL_PROTO\"\n> @$(MAKE) gap CC=gcc CFLAGS=\"$(COPTS) -O -DSYS_IS_64_BIT \" SYS_FILE=system.o LOPTS=\"$(LOPTS) -static\"\n> ```\n> vs\n> \n> ```\n> @$(MAKE) system.o   CC=gcc  CFLAGS=\"$(COPTS) -O2 -DSYS_IS_USG -DSYS_HAS_TIME_PROTO -DSYS_HAS_SIGNAL_PROTO -DSYS_HAS_IOCTL_PROTO\"\n> @$(MAKE) gap CC=gcc CFLAGS=\"$(COPTS) -O \" SYS_FILE=system.o LOPTS=\"$(LOPTS) -static\"\n> ```\n> \n> Do you know if I can also remove the `-O -DSYS_IS_64_BIT` vs `-O2` option to completely get rid of the distinction between 32 and 64 bit versions ?\n\nwhile `-O2` is almost harmless (OK, the resulting executable might get slower), `SYS_IS_64_BIT` and other `SYS_` variables are poor man's way to pass system parameters to the source code; if you just blindly remove them, you might easily get broken code, as the default might be, say, 32-bit, and this will break low-level stuff that is not platform-independent in this sense. (Have a look at the source, some of these variables are used very heavily). \n\nA proper way to handle these flags is to figure out their values in spkg-install; you can certainly find tests for system being 32- or 64-bit in other spkg-install scripts.\n\nSome other `SYS_` things are clearly obsolete, on the other hand, i.e. they specify whether or not system has a feature certainly present on any system supported by Sage...",
    "created_at": "2016-03-19T08:13:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288481",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:58" align="right">comment:58</div>

Replying to [@stumpc5](#comment%3A56):
>  to [jdemeyer](#comment%3A54):
> > That doesn't really matter. It's trivial to just remove `-m32` and `-m64` everywhere.
> 
> 
> I updated the `Makefile` and removed all `-m32` options. The two `make`s for linux are now
> 
> ```
> @$(MAKE) system.o   CC=gcc  CFLAGS="$(COPTS) -O -DSYS_IS_64_BIT -DSYS_IS_USG -DSYS_HAS_TIME_PROTO -DSYS_HAS_SIGNAL_PROTO -DSYS_HAS_IOCTL_PROTO"
> @$(MAKE) gap CC=gcc CFLAGS="$(COPTS) -O -DSYS_IS_64_BIT " SYS_FILE=system.o LOPTS="$(LOPTS) -static"
> ```
> vs
> 
> ```
> @$(MAKE) system.o   CC=gcc  CFLAGS="$(COPTS) -O2 -DSYS_IS_USG -DSYS_HAS_TIME_PROTO -DSYS_HAS_SIGNAL_PROTO -DSYS_HAS_IOCTL_PROTO"
> @$(MAKE) gap CC=gcc CFLAGS="$(COPTS) -O " SYS_FILE=system.o LOPTS="$(LOPTS) -static"
> ```
> 
> Do you know if I can also remove the `-O -DSYS_IS_64_BIT` vs `-O2` option to completely get rid of the distinction between 32 and 64 bit versions ?

while `-O2` is almost harmless (OK, the resulting executable might get slower), `SYS_IS_64_BIT` and other `SYS_` variables are poor man's way to pass system parameters to the source code; if you just blindly remove them, you might easily get broken code, as the default might be, say, 32-bit, and this will break low-level stuff that is not platform-independent in this sense. (Have a look at the source, some of these variables are used very heavily). 

A proper way to handle these flags is to figure out their values in spkg-install; you can certainly find tests for system being 32- or 64-bit in other spkg-install scripts.

Some other `SYS_` things are clearly obsolete, on the other hand, i.e. they specify whether or not system has a feature certainly present on any system supported by Sage...



---

archive/issue_comments_288482.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">comment:59</div>\n\nReplying to [@dimpase](#comment%3A58):\n> A proper way to handle these flags is to figure out their values in spkg-install; you can certainly find tests for system being 32- or 64-bit in other spkg-install scripts.\n> \n> Some other `SYS_` things are clearly obsolete, on the other hand, i.e. they specify whether or not system has a feature certainly present on any system supported by Sage...\n\nOkay, I would then rather leave things as they are. Moving the testing to `spkg-install` might be cleaner, but the `Makefile` is designed to call itself and I would prefer not to mess with it even more.",
    "created_at": "2016-03-19T08:25:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288482",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:59" align="right">comment:59</div>

Replying to [@dimpase](#comment%3A58):
> A proper way to handle these flags is to figure out their values in spkg-install; you can certainly find tests for system being 32- or 64-bit in other spkg-install scripts.
> 
> Some other `SYS_` things are clearly obsolete, on the other hand, i.e. they specify whether or not system has a feature certainly present on any system supported by Sage...

Okay, I would then rather leave things as they are. Moving the testing to `spkg-install` might be cleaner, but the `Makefile` is designed to call itself and I would prefer not to mess with it even more.



---

archive/issue_comments_288483.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">comment:60</div>\n\nReplying to [@stumpc5](#comment%3A57):\n> Replying to [@dimpase](#comment%3A51):\n> > there is some weirdness with installation of GAP packages. There are packages that need to be compiled, e.g. ve.\n> > Also, there  some weird dangling symlinks in ve/bin:\n> \n> \n> Jean Michel wrote about deleting the binaries of the packages:\n> \n> ```\n> You can get rid of all of them since they are little-used packages, or the\n> binaries provide additionnal functionality and are not essential.\n> ```\n> So I decided to not touch that part -- if the functionality is wanted at some point, we can still try to figure how to handle them properly...\n\nwell, \"handle them properly\" is not straightforward. Actually, I did port ve and anusq to modern world systems; I do use them in my research; the main issue was the reliance on an very old obsolete version of GMP. See\nhttp://github.com/gap-packages/ve and https://github.com/dimpase/anusq\n\nAnd Simon King has a lot of experience with meataxe - maybe he can tell you how to deal with it.\n\n(anusq, meataxe, and ve are all useless without their binary components).",
    "created_at": "2016-03-19T08:31:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288483",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:60" align="right">comment:60</div>

Replying to [@stumpc5](#comment%3A57):
> Replying to [@dimpase](#comment%3A51):
> > there is some weirdness with installation of GAP packages. There are packages that need to be compiled, e.g. ve.
> > Also, there  some weird dangling symlinks in ve/bin:
> 
> 
> Jean Michel wrote about deleting the binaries of the packages:
> 
> ```
> You can get rid of all of them since they are little-used packages, or the
> binaries provide additionnal functionality and are not essential.
> ```
> So I decided to not touch that part -- if the functionality is wanted at some point, we can still try to figure how to handle them properly...

well, "handle them properly" is not straightforward. Actually, I did port ve and anusq to modern world systems; I do use them in my research; the main issue was the reliance on an very old obsolete version of GMP. See
http://github.com/gap-packages/ve and https://github.com/dimpase/anusq

And Simon King has a lot of experience with meataxe - maybe he can tell you how to deal with it.

(anusq, meataxe, and ve are all useless without their binary components).



---

archive/issue_comments_288484.json:
```json
{
    "body": "<div id=\"comment:61\" align=\"right\">comment:61</div>\n\nReplying to [@dimpase](#comment%3A60):\n> And Simon King has a lot of experience with meataxe - maybe he can tell you how to deal with it.\n\nMy only experience is to provide an optional meataxe package for Sage. It does install libmtx.a and meataxe.h and the meataxe binaries. I don't know if that's enough for GAP to pick it up. Also note that I currently try to upgrade the optional meataxe package to fix some build issues --- see #20136.",
    "created_at": "2016-03-19T12:25:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288484",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:61" align="right">comment:61</div>

Replying to [@dimpase](#comment%3A60):
> And Simon King has a lot of experience with meataxe - maybe he can tell you how to deal with it.

My only experience is to provide an optional meataxe package for Sage. It does install libmtx.a and meataxe.h and the meataxe binaries. I don't know if that's enough for GAP to pick it up. Also note that I currently try to upgrade the optional meataxe package to fix some build issues --- see #20136.



---

archive/issue_comments_288485.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">comment:62</div>\n\nReplying to [@simon-king-jena](#comment%3A61):\n> Replying to [@dimpase](#comment%3A60):\n> > And Simon King has a lot of experience with meataxe - maybe he can tell you how to deal with it.\n> \n> \n> My only experience is to provide an optional meataxe package for Sage. It does install libmtx.a and meataxe.h and the meataxe binaries. I don't know if that's enough for GAP to pick it up. Also note that I currently try to upgrade the optional meataxe package to fix some build issues --- see #20136.\n\nthey ship meataxe version 2.2.3. How far from this your meataxe is?\nIn principle, GAP3 meataxe needs executables, that's all.",
    "created_at": "2016-03-19T14:58:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288485",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:62" align="right">comment:62</div>

Replying to [@simon-king-jena](#comment%3A61):
> Replying to [@dimpase](#comment%3A60):
> > And Simon King has a lot of experience with meataxe - maybe he can tell you how to deal with it.
> 
> 
> My only experience is to provide an optional meataxe package for Sage. It does install libmtx.a and meataxe.h and the meataxe binaries. I don't know if that's enough for GAP to pick it up. Also note that I currently try to upgrade the optional meataxe package to fix some build issues --- see #20136.

they ship meataxe version 2.2.3. How far from this your meataxe is?
In principle, GAP3 meataxe needs executables, that's all.



---

archive/issue_comments_288486.json:
```json
{
    "body": "<div id=\"comment:63\" align=\"right\">comment:63</div>\n\nReplying to [@dimpase](#comment%3A62):\n> they ship meataxe version 2.2.3. How far from this your meataxe is?\n\nNow that's ironic.\n\nIn my good old-style group cohomology spkg, I used meataxe-2.2.4, which is identical with version 2.2.3 except for its licence, which is about a decade old.\n\nBut old-style spkgs got broken on purpose, hence, I now try to create a new style cohomology spkg, and while I am at it I try to use a more recent version of meataxe. The current release (which is several years old) is version 2.4.24, and the current snapshot (which also includes one of my patches) is 2.5.0. \n\n> In principle, GAP3 meataxe needs executables, that's all.\n\nWhat is the difference between 2.2.4 and 2.4.24? Well, the good news is that the executables kept their names, and the storage format has not changed. Hence, if GAP3 merely needs the executables then using the new meataxe should be fine.\n\nThe bad news --- for me! --- is that basically all function names and all type names have changed, the offset of counting matrix rows and columns has changed (in 2.2.4 it started counting with 1, now it starts with 0), and occasionally the semantics of the functions has changed as well. That's why creating a group cohomology package based on the new meataxe is a pain in the neck: I need to rebase someone else's C code, which thus is even more difficult than rebasing my own code.\n\nSigh.",
    "created_at": "2016-03-19T20:49:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288486",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:63" align="right">comment:63</div>

Replying to [@dimpase](#comment%3A62):
> they ship meataxe version 2.2.3. How far from this your meataxe is?

Now that's ironic.

In my good old-style group cohomology spkg, I used meataxe-2.2.4, which is identical with version 2.2.3 except for its licence, which is about a decade old.

But old-style spkgs got broken on purpose, hence, I now try to create a new style cohomology spkg, and while I am at it I try to use a more recent version of meataxe. The current release (which is several years old) is version 2.4.24, and the current snapshot (which also includes one of my patches) is 2.5.0. 

> In principle, GAP3 meataxe needs executables, that's all.

What is the difference between 2.2.4 and 2.4.24? Well, the good news is that the executables kept their names, and the storage format has not changed. Hence, if GAP3 merely needs the executables then using the new meataxe should be fine.

The bad news --- for me! --- is that basically all function names and all type names have changed, the offset of counting matrix rows and columns has changed (in 2.2.4 it started counting with 1, now it starts with 0), and occasionally the semantics of the functions has changed as well. That's why creating a group cohomology package based on the new meataxe is a pain in the neck: I need to rebase someone else's C code, which thus is even more difficult than rebasing my own code.

Sigh.



---

archive/issue_comments_288487.json:
```json
{
    "body": "<div id=\"comment:64\" align=\"right\">comment:64</div>\n\nThe tarball should extract to its own top-level directory, instead of having many top-level directories like `doc` and `src`.\n\nAnd the strangest thing: the tarball even contains a broken copy of itself!",
    "created_at": "2016-03-21T11:28:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288487",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:64" align="right">comment:64</div>

The tarball should extract to its own top-level directory, instead of having many top-level directories like `doc` and `src`.

And the strangest thing: the tarball even contains a broken copy of itself!



---

archive/issue_comments_288488.json:
```json
{
    "body": "<div id=\"comment:65\" align=\"right\">comment:65</div>\n\nThe current tarball still contains binaries: `src/*.o` and `bin/gap.x86linux64` and `bin/gap3`.",
    "created_at": "2016-03-21T11:31:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288488",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:65" align="right">comment:65</div>

The current tarball still contains binaries: `src/*.o` and `bin/gap.x86linux64` and `bin/gap3`.



---

archive/issue_comments_288489.json:
```json
{
    "body": "<div id=\"comment:66\" align=\"right\">comment:66</div>\n\nThis should go the description, it is not an !Update/Build Instruction:\n\n```\n== Special Update/Build Instructions ==\n\nThis is a minimal GAP3 distribution containing packages that have\nno equivalent in GAP4.\n```",
    "created_at": "2016-03-21T11:36:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288489",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:66" align="right">comment:66</div>

This should go the description, it is not an !Update/Build Instruction:

```
== Special Update/Build Instructions ==

This is a minimal GAP3 distribution containing packages that have
no equivalent in GAP4.
```



---

archive/issue_comments_288490.json:
```json
{
    "body": "<div id=\"comment:67\" align=\"right\">comment:67</div>\n\nYou really need to document how you obtained the tarball. Ideally, it would just be a semi-official tarball from Jean Michel.",
    "created_at": "2016-03-21T11:37:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288490",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:67" align="right">comment:67</div>

You really need to document how you obtained the tarball. Ideally, it would just be a semi-official tarball from Jean Michel.



---

archive/issue_comments_288491.json:
```json
{
    "body": "<div id=\"comment:68\" align=\"right\">comment:68</div>\n\nYou need to check for errors in `spkg-install`.",
    "created_at": "2016-03-21T12:15:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288491",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:68" align="right">comment:68</div>

You need to check for errors in `spkg-install`.



---

archive/issue_comments_288492.json:
```json
{
    "body": "Changed commit from **[`6b1b7fb`](https://github.com/sagemath/sagetrac-mirror/commit/6b1b7fbbaf0ac71060ef8820ed0482e14c61437c)** to **[`af253f7`](https://github.com/sagemath/sagetrac-mirror/commit/af253f74be7e3a1091eceb512a44bcb7656d1f26)**",
    "created_at": "2016-03-23T20:42:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288492",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6b1b7fb`](https://github.com/sagemath/sagetrac-mirror/commit/6b1b7fbbaf0ac71060ef8820ed0482e14c61437c)** to **[`af253f7`](https://github.com/sagemath/sagetrac-mirror/commit/af253f74be7e3a1091eceb512a44bcb7656d1f26)**



---

archive/issue_comments_288493.json:
```json
{
    "body": "<div id=\"comment:69\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/af253f74be7e3a1091eceb512a44bcb7656d1f26\"><code>af253f7</code></a></td><td><code>taking the requests of jdemeyer from 16/03/21 into account</code></td></tr></table>\n",
    "created_at": "2016-03-23T20:42:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288493",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:69"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/af253f74be7e3a1091eceb512a44bcb7656d1f26"><code>af253f7</code></a></td><td><code>taking the requests of jdemeyer from 16/03/21 into account</code></td></tr></table>




---

archive/issue_comments_288494.json:
```json
{
    "body": "<div id=\"comment:70\" align=\"right\">comment:70</div>\n\nReplying to [@jdemeyer](#comment%3A68):\n> The current tarball still contains binaries: src/*.o and bin/gap.x86linux64 and bin/gap3. \n> And the strangest thing: the tarball even contains a broken copy of itself\n\nI accidentally `tar`'ed the wrong folder when updating the tarball, so it was completely corrupted. I hope it is now the correct one without binaries or broken copies of itself...\n\n> You need to check for errors in `spkg-install`.\n\nIf you mean that the package didn't install, this was due to my wrong tarball. Otherwise, I don't know what you mean here.\n\n> The tarball should extract to its own top-level directory, instead of having many top-level directories like doc and src.\n\nDone.\n\n> This should go the description, it is not an !Update/Build Instruction:\n\nDone.",
    "created_at": "2016-03-24T05:31:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288494",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:70" align="right">comment:70</div>

Replying to [@jdemeyer](#comment%3A68):
> The current tarball still contains binaries: src/*.o and bin/gap.x86linux64 and bin/gap3. 
> And the strangest thing: the tarball even contains a broken copy of itself

I accidentally `tar`'ed the wrong folder when updating the tarball, so it was completely corrupted. I hope it is now the correct one without binaries or broken copies of itself...

> You need to check for errors in `spkg-install`.

If you mean that the package didn't install, this was due to my wrong tarball. Otherwise, I don't know what you mean here.

> The tarball should extract to its own top-level directory, instead of having many top-level directories like doc and src.

Done.

> This should go the description, it is not an !Update/Build Instruction:

Done.



---

archive/issue_comments_288495.json:
```json
{
    "body": "<div id=\"comment:71\" align=\"right\">comment:71</div>\n\nReplying to [@jdemeyer](#comment%3A67):\n> You really need to document how you obtained the tarball. Ideally, it would just be a semi-official tarball from Jean Michel.\n\nI have added it to the documentation. I used `grep -r -m 1 \"^\"  . | grep \"^Binary file\"` to identify all binaries and then deleted them. This is the only difference to Jean Michel's tarball. At some point, it might be good to have this version semi-official from Jean.",
    "created_at": "2016-03-24T05:32:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288495",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:71" align="right">comment:71</div>

Replying to [@jdemeyer](#comment%3A67):
> You really need to document how you obtained the tarball. Ideally, it would just be a semi-official tarball from Jean Michel.

I have added it to the documentation. I used `grep -r -m 1 "^"  . | grep "^Binary file"` to identify all binaries and then deleted them. This is the only difference to Jean Michel's tarball. At some point, it might be good to have this version semi-official from Jean.



---

archive/issue_comments_288496.json:
```json
{
    "body": "<div id=\"comment:72\" align=\"right\">comment:72</div>\n\nReplying to [@stumpc5](#comment%3A70): \n> > You need to check for errors in `spkg-install`.\n> \n> \n> If you mean that the package didn't install, this was due to my wrong tarball. Otherwise, I don't know what you mean here.\n\nFor example:\n\n```\nif [ \"x$SAGE_CHECK\" = xyes ]; then\n    $MAKE check\nelse\n    $MAKE install\nfi\n\nif [ $? -ne 0 ]; then\n    echo >&2 \"Error installing Foo.\"\n    exit 1\nfi\n```\n\nThe check for errors is in the last \"if\"-clause. Without that text, the install script would report a successful installation of the package, even if building or testing it gave an error.",
    "created_at": "2016-03-24T06:26:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288496",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:72" align="right">comment:72</div>

Replying to [@stumpc5](#comment%3A70): 
> > You need to check for errors in `spkg-install`.
> 
> 
> If you mean that the package didn't install, this was due to my wrong tarball. Otherwise, I don't know what you mean here.

For example:

```
if [ "x$SAGE_CHECK" = xyes ]; then
    $MAKE check
else
    $MAKE install
fi

if [ $? -ne 0 ]; then
    echo >&2 "Error installing Foo."
    exit 1
fi
```

The check for errors is in the last "if"-clause. Without that text, the install script would report a successful installation of the package, even if building or testing it gave an error.



---

archive/issue_comments_288497.json:
```json
{
    "body": "<div id=\"comment:73\" align=\"right\">comment:73</div>\n\nPS: That's my guess what is meant by \"check for errors\", I didn't look up what your spkg-install looks like.",
    "created_at": "2016-03-24T06:27:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288497",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:73" align="right">comment:73</div>

PS: That's my guess what is meant by "check for errors", I didn't look up what your spkg-install looks like.



---

archive/issue_comments_288498.json:
```json
{
    "body": "<div id=\"comment:74\" align=\"right\">comment:74</div>\n\nYes, you need to ensure that, if `$MAKE` fails, then `spkg-install` exits with an error message. Usually this is done by something like\n\n```\n$MAKE\nif [ $? -ne 0 ]; then\n    echo >&2 \"Error installing Foo.\"\n    exit 1\nfi\n```",
    "created_at": "2016-03-24T08:17:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288498",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:74" align="right">comment:74</div>

Yes, you need to ensure that, if `$MAKE` fails, then `spkg-install` exits with an error message. Usually this is done by something like

```
$MAKE
if [ $? -ne 0 ]; then
    echo >&2 "Error installing Foo."
    exit 1
fi
```



---

archive/issue_comments_288499.json:
```json
{
    "body": "<div id=\"comment:75\" align=\"right\">comment:75</div>\n\nReplying to [@stumpc5](#comment%3A70):\n> I accidentally `tar`'ed the wrong folder when updating the tarball, so it was completely corrupted.\n\nThis is why it's a good idea to script such tarball changes, then mistakes like this cannot happen. Usually this is done by a `spkg-src` script. For a good example, see `build/pkgs/ecl/spkg-src` after applying #13044.\n\nI'm not saying that such a `spkg-src` is *required* for an optional package but it's at least *recommended*.",
    "created_at": "2016-03-24T08:21:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288499",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:75" align="right">comment:75</div>

Replying to [@stumpc5](#comment%3A70):
> I accidentally `tar`'ed the wrong folder when updating the tarball, so it was completely corrupted.

This is why it's a good idea to script such tarball changes, then mistakes like this cannot happen. Usually this is done by a `spkg-src` script. For a good example, see `build/pkgs/ecl/spkg-src` after applying #13044.

I'm not saying that such a `spkg-src` is *required* for an optional package but it's at least *recommended*.



---

archive/issue_comments_288500.json:
```json
{
    "body": "<div id=\"comment:76\" align=\"right\">comment:76</div>\n\nReplying to [@stumpc5](#comment%3A71):\n> Replying to [@jdemeyer](#comment%3A67):\n> > You really need to document how you obtained the tarball. Ideally, it would just be a semi-official tarball from Jean Michel.\n> \n> \n> I have added it to the documentation.\n\nGood, but put this in the `Special Update/Build Instructions` block in `SPKG.txt`.",
    "created_at": "2016-03-24T08:22:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288500",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:76" align="right">comment:76</div>

Replying to [@stumpc5](#comment%3A71):
> Replying to [@jdemeyer](#comment%3A67):
> > You really need to document how you obtained the tarball. Ideally, it would just be a semi-official tarball from Jean Michel.
> 
> 
> I have added it to the documentation.

Good, but put this in the `Special Update/Build Instructions` block in `SPKG.txt`.



---

archive/issue_comments_288501.json:
```json
{
    "body": "<div id=\"comment:77\" align=\"right\">comment:77</div>\n\nThe tarball looks good now.",
    "created_at": "2016-03-24T09:36:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288501",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:77" align="right">comment:77</div>

The tarball looks good now.



---

archive/issue_comments_288502.json:
```json
{
    "body": "Changed commit from **[`af253f7`](https://github.com/sagemath/sagetrac-mirror/commit/af253f74be7e3a1091eceb512a44bcb7656d1f26)** to **[`e4b56e6`](https://github.com/sagemath/sagetrac-mirror/commit/e4b56e62a07e9c84bb1f66803a904ee6068d1ff7)**",
    "created_at": "2016-03-24T09:41:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288502",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`af253f7`](https://github.com/sagemath/sagetrac-mirror/commit/af253f74be7e3a1091eceb512a44bcb7656d1f26)** to **[`e4b56e6`](https://github.com/sagemath/sagetrac-mirror/commit/e4b56e62a07e9c84bb1f66803a904ee6068d1ff7)**



---

archive/issue_comments_288503.json:
```json
{
    "body": "<div id=\"comment:78\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cd1743c9fa8cd5ff6d27dc345caab7600764074c\"><code>cd1743c</code></a></td><td><code>checking for errors during make</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2f8338270423dd8d74bfb8641a8d60071e0a8446\"><code>2f83382</code></a></td><td><code>added the decription of the tarball to the 'Special Update' section</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e4b56e62a07e9c84bb1f66803a904ee6068d1ff7\"><code>e4b56e6</code></a></td><td><code>preparing a spkg-src file</code></td></tr></table>\n",
    "created_at": "2016-03-24T09:41:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288503",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:78"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cd1743c9fa8cd5ff6d27dc345caab7600764074c"><code>cd1743c</code></a></td><td><code>checking for errors during make</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2f8338270423dd8d74bfb8641a8d60071e0a8446"><code>2f83382</code></a></td><td><code>added the decription of the tarball to the 'Special Update' section</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e4b56e62a07e9c84bb1f66803a904ee6068d1ff7"><code>e4b56e6</code></a></td><td><code>preparing a spkg-src file</code></td></tr></table>




---

archive/issue_comments_288504.json:
```json
{
    "body": "<div id=\"comment:79\" align=\"right\">comment:79</div>\n\nI think the `spkg-src` file is now working, but I still have two issues:\n\n* I get a different checksum, even though I do not see what I did differently than before.\n* The command `grep -r -m 1 \"^\"  . | grep \"^Binary file\" | xargs rm` is not very clean because of the error\n\n```\nrm: cannot remove \u2018Binary\u2019: No such file or directory\nrm: cannot remove \u2018file\u2019: No such file or directory\nrm: cannot remove \u2018matches\u2019: No such file or directory\n```\n  Do you know how to do that better?\n\nThanks!",
    "created_at": "2016-03-24T09:53:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288504",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:79" align="right">comment:79</div>

I think the `spkg-src` file is now working, but I still have two issues:

* I get a different checksum, even though I do not see what I did differently than before.
* The command `grep -r -m 1 "^"  . | grep "^Binary file" | xargs rm` is not very clean because of the error

```
rm: cannot remove ‘Binary’: No such file or directory
rm: cannot remove ‘file’: No such file or directory
rm: cannot remove ‘matches’: No such file or directory
```
  Do you know how to do that better?

Thanks!



---

archive/issue_comments_288505.json:
```json
{
    "body": "<div id=\"comment:80\" align=\"right\">comment:80</div>\n\nReplying to [@stumpc5](#comment%3A79):\n> I think the `spkg-src` file is now working, but I still have two issues:\n> \n> * I get a different checksum, even though I do not see what I did differently than before.\n\nMost likely different timestamps.",
    "created_at": "2016-03-24T10:03:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288505",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:80" align="right">comment:80</div>

Replying to [@stumpc5](#comment%3A79):
> I think the `spkg-src` file is now working, but I still have two issues:
> 
> * I get a different checksum, even though I do not see what I did differently than before.

Most likely different timestamps.



---

archive/issue_comments_288506.json:
```json
{
    "body": "<div id=\"comment:81\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8257ea76a13d43f687fe99ef612bb7382632a248\"><code>8257ea7</code></a></td><td><code>updated the checksum for the auto-generated tarball</code></td></tr></table>\n",
    "created_at": "2016-03-24T10:17:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288506",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:81"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8257ea76a13d43f687fe99ef612bb7382632a248"><code>8257ea7</code></a></td><td><code>updated the checksum for the auto-generated tarball</code></td></tr></table>




---

archive/issue_comments_288507.json:
```json
{
    "body": "Changed commit from **[`e4b56e6`](https://github.com/sagemath/sagetrac-mirror/commit/e4b56e62a07e9c84bb1f66803a904ee6068d1ff7)** to **[`8257ea7`](https://github.com/sagemath/sagetrac-mirror/commit/8257ea76a13d43f687fe99ef612bb7382632a248)**",
    "created_at": "2016-03-24T10:17:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288507",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e4b56e6`](https://github.com/sagemath/sagetrac-mirror/commit/e4b56e62a07e9c84bb1f66803a904ee6068d1ff7)** to **[`8257ea7`](https://github.com/sagemath/sagetrac-mirror/commit/8257ea76a13d43f687fe99ef612bb7382632a248)**



---

archive/issue_comments_288508.json:
```json
{
    "body": "<div id=\"comment:82\" align=\"right\">comment:82</div>\n\nOkay, the two tarballs contain the same files of the same sizes, so I expect `spkg-src` to actually do what it should. I uploaded the auto-generated tarball and updated the checksum.",
    "created_at": "2016-03-24T10:18:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288508",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:82" align="right">comment:82</div>

Okay, the two tarballs contain the same files of the same sizes, so I expect `spkg-src` to actually do what it should. I uploaded the auto-generated tarball and updated the checksum.



---

archive/issue_events_281487.json:
```json
{
    "actor": "https://github.com/stumpc5",
    "created_at": "2016-03-24T10:18:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20107#event-281487"
}
```



---

archive/issue_events_281488.json:
```json
{
    "actor": "https://github.com/stumpc5",
    "created_at": "2016-03-24T10:18:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20107#event-281488"
}
```



---

archive/issue_comments_288509.json:
```json
{
    "body": "<div id=\"comment:84\" align=\"right\">comment:84</div>\n\nI now have\n\n```\npatching file gap3/src/Makefile\nHunk #1 succeeded at 48 (offset 2 lines).\nHunk #2 succeeded at 108 (offset 2 lines).\n```\nthat I need to fix.",
    "created_at": "2016-03-24T10:24:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288509",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:84" align="right">comment:84</div>

I now have

```
patching file gap3/src/Makefile
Hunk #1 succeeded at 48 (offset 2 lines).
Hunk #2 succeeded at 108 (offset 2 lines).
```
that I need to fix.



---

archive/issue_comments_288510.json:
```json
{
    "body": "Changed commit from **[`8257ea7`](https://github.com/sagemath/sagetrac-mirror/commit/8257ea76a13d43f687fe99ef612bb7382632a248)** to **[`aabc629`](https://github.com/sagemath/sagetrac-mirror/commit/aabc629ba8391b05a2423fe450d588ccaaf7dc5c)**",
    "created_at": "2016-03-24T10:40:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288510",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8257ea7`](https://github.com/sagemath/sagetrac-mirror/commit/8257ea76a13d43f687fe99ef612bb7382632a248)** to **[`aabc629`](https://github.com/sagemath/sagetrac-mirror/commit/aabc629ba8391b05a2423fe450d588ccaaf7dc5c)**



---

archive/issue_comments_288511.json:
```json
{
    "body": "<div id=\"comment:85\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aabc629ba8391b05a2423fe450d588ccaaf7dc5c\"><code>aabc629</code></a></td><td><code>updated makefile patch fixing two hunks</code></td></tr></table>\n",
    "created_at": "2016-03-24T10:40:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288511",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:85"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aabc629ba8391b05a2423fe450d588ccaaf7dc5c"><code>aabc629</code></a></td><td><code>updated makefile patch fixing two hunks</code></td></tr></table>




---

archive/issue_comments_288512.json:
```json
{
    "body": "<div id=\"comment:86\" align=\"right\">comment:86</div>\n\nThe tarball is gone (404: Not Found)\n\nAlso don't forget your author name.",
    "created_at": "2016-03-25T09:17:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288512",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:86" align="right">comment:86</div>

The tarball is gone (404: Not Found)

Also don't forget your author name.



---

archive/issue_events_281489.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-03-25T09:17:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20107#event-281489"
}
```



---

archive/issue_events_281490.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-03-25T09:17:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20107#event-281490"
}
```



---

archive/issue_comments_288513.json:
```json
{
    "body": "Author: **Christian Stump**",
    "created_at": "2016-03-25T11:13:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288513",
    "user": "https://github.com/stumpc5"
}
```

Author: **Christian Stump**



---

archive/issue_comments_288514.json:
```json
{
    "body": "Changed keywords from none to **gap3, optional package**",
    "created_at": "2016-03-25T11:13:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288514",
    "user": "https://github.com/stumpc5"
}
```

Changed keywords from none to **gap3, optional package**



---

archive/issue_comments_288515.json:
```json
{
    "body": "<div id=\"comment:88\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/50aac0ea3726079c240e2fb7ccc7bca6e2713132\"><code>50aac0e</code></a></td><td><code>fixed one more spot where the folder structure of gap3 changed</code></td></tr></table>\n",
    "created_at": "2016-03-25T11:14:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288515",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:88"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/50aac0ea3726079c240e2fb7ccc7bca6e2713132"><code>50aac0e</code></a></td><td><code>fixed one more spot where the folder structure of gap3 changed</code></td></tr></table>




---

archive/issue_comments_288516.json:
```json
{
    "body": "Changed commit from **[`aabc629`](https://github.com/sagemath/sagetrac-mirror/commit/aabc629ba8391b05a2423fe450d588ccaaf7dc5c)** to **[`50aac0e`](https://github.com/sagemath/sagetrac-mirror/commit/50aac0ea3726079c240e2fb7ccc7bca6e2713132)**",
    "created_at": "2016-03-25T11:14:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288516",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`aabc629`](https://github.com/sagemath/sagetrac-mirror/commit/aabc629ba8391b05a2423fe450d588ccaaf7dc5c)** to **[`50aac0e`](https://github.com/sagemath/sagetrac-mirror/commit/50aac0ea3726079c240e2fb7ccc7bca6e2713132)**



---

archive/issue_events_281491.json:
```json
{
    "actor": "https://github.com/stumpc5",
    "created_at": "2016-03-25T11:16:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20107#event-281491"
}
```



---

archive/issue_events_281492.json:
```json
{
    "actor": "https://github.com/stumpc5",
    "created_at": "2016-03-25T11:16:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20107#event-281492"
}
```



---

archive/issue_comments_288517.json:
```json
{
    "body": "<div id=\"comment:89\" align=\"right\">comment:89</div>\n\nI had to fix one more issue (I missed to update the gap3 folder structure in `gap.sh`). I also updated the tarball with several changes in Jean Michel's original tarball from the past few days.\n\nI hope I have not forgot to update anything else, and mark it again as `needs review` -- thanks!",
    "created_at": "2016-03-25T11:16:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288517",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:89" align="right">comment:89</div>

I had to fix one more issue (I missed to update the gap3 folder structure in `gap.sh`). I also updated the tarball with several changes in Jean Michel's original tarball from the past few days.

I hope I have not forgot to update anything else, and mark it again as `needs review` -- thanks!



---

archive/issue_comments_288518.json:
```json
{
    "body": "<div id=\"comment:90\" align=\"right\">comment:90</div>\n\nAsking the question about how to properly delete the binary files at http://stackoverflow.com/questions/36221028",
    "created_at": "2016-03-25T13:39:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288518",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:90" align="right">comment:90</div>

Asking the question about how to properly delete the binary files at http://stackoverflow.com/questions/36221028



---

archive/issue_events_281493.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-03-25T13:41:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20107#event-281493"
}
```



---

archive/issue_events_281494.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-03-25T13:41:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20107#event-281494"
}
```



---

archive/issue_comments_288519.json:
```json
{
    "body": "<div id=\"comment:91\" align=\"right\">comment:91</div>\n\n\n```\nsage -t src/sage/interfaces/gap3.py\n**********************************************************************\nFile \"src/sage/interfaces/gap3.py\", line 400, in sage.interfaces.gap3.Gap3._execute_line\nFailed example:\n    f([1,2,3])                                   #optional - gap3\nExpected:\n    Traceback (most recent call last):\n    ...\n    RuntimeError: Gap3 produced error output\n    Error, List Element: <position> must be a positive integer at\n    return L[0] ... in\n    ... called from\n    main loop\n    brk> quit;\n    ...\nGot:\n    <BLANKLINE>\n    Traceback (most recent call last):\n      File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.interfaces.gap3.Gap3._execute_line[3]>\", line 1, in <module>\n        f([Integer(1),Integer(2),Integer(3)])                                   #optional - gap3\n      File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/interfaces/interface.py\", line 805, in __call__\n        return getattr(P, self.name())(*args)\n      File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/interfaces/interface.py\", line 607, in __call__\n        return self._parent.function_call(self._name, list(args), kwds)\n      File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/interfaces/gap.py\", line 921, in function_call\n        res = self.eval(marker+cmd)\n      File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/interfaces/gap.py\", line 573, in eval\n        result = Expect.eval(self, input_line, **kwds)\n      File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/interfaces/expect.py\", line 1239, in eval\n        for L in code.split('\\n') if L != ''])\n      File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/interfaces/gap.py\", line 771, in _eval_line\n        raise RuntimeError(message)\n    RuntimeError: Gap3 produced error output\n    Error, Function: <function> must be a function\n    <BLANKLINE>\n       executing __SAGE_LAST__:=\"__SAGE_LAST__\";;x(sage0);;\n**********************************************************************\nFile \"src/sage/interfaces/gap3.py\", line 447, in sage.interfaces.gap3.Gap3.help\nFailed example:\n    m                                        #optional - gap3\nExpected:\n    [ [ 1, 2, 3 ], [ 4, 5, 6 ] ]\nGot:\n    <BLANKLINE>\n**********************************************************************\nFile \"src/sage/interfaces/gap3.py\", line 449, in sage.interfaces.gap3.Gap3.help\nFailed example:\n    m.Print()                                #optional - gap3\nExpected:\n    [ [ 1, 2, 3 ], [ 4, 5, 6 ] ]\nGot:\n    \"__SAGE_LAST__\"\n**********************************************************************\nFile \"src/sage/interfaces/gap3.py\", line 453, in sage.interfaces.gap3.Gap3.help\nFailed example:\n    m                                        #optional - gap3\nExpected:\n    [ [ 1, 2, 3 ], [ 4, 5, 6 ] ]\nGot:\n    <BLANKLINE>\n**********************************************************************\nFile \"src/sage/interfaces/gap3.py\", line 455, in sage.interfaces.gap3.Gap3.help\nFailed example:\n    m.Print()                                #optional - gap3\nExpected:\n    [ [ 1, 2, 3 ], [ 4, 5, 6 ] ]\nGot:\n    \"__SAGE_LAST__\"\n**********************************************************************\n```",
    "created_at": "2016-03-25T13:41:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288519",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:91" align="right">comment:91</div>


```
sage -t src/sage/interfaces/gap3.py
**********************************************************************
File "src/sage/interfaces/gap3.py", line 400, in sage.interfaces.gap3.Gap3._execute_line
Failed example:
    f([1,2,3])                                   #optional - gap3
Expected:
    Traceback (most recent call last):
    ...
    RuntimeError: Gap3 produced error output
    Error, List Element: <position> must be a positive integer at
    return L[0] ... in
    ... called from
    main loop
    brk> quit;
    ...
Got:
    <BLANKLINE>
    Traceback (most recent call last):
      File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.interfaces.gap3.Gap3._execute_line[3]>", line 1, in <module>
        f([Integer(1),Integer(2),Integer(3)])                                   #optional - gap3
      File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/interfaces/interface.py", line 805, in __call__
        return getattr(P, self.name())(*args)
      File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/interfaces/interface.py", line 607, in __call__
        return self._parent.function_call(self._name, list(args), kwds)
      File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/interfaces/gap.py", line 921, in function_call
        res = self.eval(marker+cmd)
      File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/interfaces/gap.py", line 573, in eval
        result = Expect.eval(self, input_line, **kwds)
      File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/interfaces/expect.py", line 1239, in eval
        for L in code.split('\n') if L != ''])
      File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/interfaces/gap.py", line 771, in _eval_line
        raise RuntimeError(message)
    RuntimeError: Gap3 produced error output
    Error, Function: <function> must be a function
    <BLANKLINE>
       executing __SAGE_LAST__:="__SAGE_LAST__";;x(sage0);;
**********************************************************************
File "src/sage/interfaces/gap3.py", line 447, in sage.interfaces.gap3.Gap3.help
Failed example:
    m                                        #optional - gap3
Expected:
    [ [ 1, 2, 3 ], [ 4, 5, 6 ] ]
Got:
    <BLANKLINE>
**********************************************************************
File "src/sage/interfaces/gap3.py", line 449, in sage.interfaces.gap3.Gap3.help
Failed example:
    m.Print()                                #optional - gap3
Expected:
    [ [ 1, 2, 3 ], [ 4, 5, 6 ] ]
Got:
    "__SAGE_LAST__"
**********************************************************************
File "src/sage/interfaces/gap3.py", line 453, in sage.interfaces.gap3.Gap3.help
Failed example:
    m                                        #optional - gap3
Expected:
    [ [ 1, 2, 3 ], [ 4, 5, 6 ] ]
Got:
    <BLANKLINE>
**********************************************************************
File "src/sage/interfaces/gap3.py", line 455, in sage.interfaces.gap3.Gap3.help
Failed example:
    m.Print()                                #optional - gap3
Expected:
    [ [ 1, 2, 3 ], [ 4, 5, 6 ] ]
Got:
    "__SAGE_LAST__"
**********************************************************************
```



---

archive/issue_comments_288520.json:
```json
{
    "body": "<div id=\"comment:92\" align=\"right\">comment:92</div>\n\nGiven that this package contains chevie, I guess you should replace\n\n```\n# optional - chevie\n```\nby\n\n```\n# optional - gap3\n```",
    "created_at": "2016-03-25T13:43:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288520",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:92" align="right">comment:92</div>

Given that this package contains chevie, I guess you should replace

```
# optional - chevie
```
by

```
# optional - gap3
```



---

archive/issue_comments_288521.json:
```json
{
    "body": "<div id=\"comment:93\" align=\"right\">comment:93</div>\n\nThere seems to be several problems with the `GAP3` interface, partially described in #18971:\n\n```\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 SageMath Version 7.1.beta6, Release Date: 2016-03-03               \u2502\n\u2502 Type \"notebook()\" for the browser-based notebook interface.        \u2502\n\u2502 Type \"help()\" for help.                                            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503 Warning: this is a prerelease version, and it may be unstable.     \u2503\n\u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251b\nsage:  \nsage: gap3\nGap3\nsage: gap3.execute(\"1+1\")\n''\nsage: gap3.execute(\"1+1\")\n'2'\nsage: \nsage: gap3.execute(\"1+1\")\n'2'\nsage: gap3\nGap3\nsage: gap3.eval('VERSION')[1:-1]\n''\nsage: gap3.eval('VERSION')[1:-1]\n'lib: jm 12Mar2016, src: jm 28Feb2015, sys: usg gcc 64'\nsage: gap3.execute(\"1+1\")\n'\"lib: jm 12Mar2016, src: jm 28Feb2015, sys: usg gcc 64\"'\nsage: gap3.execute(\"1+1\")\n'2'\n```",
    "created_at": "2016-03-25T13:52:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288521",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:93" align="right">comment:93</div>

There seems to be several problems with the `GAP3` interface, partially described in #18971:

```
┌────────────────────────────────────────────────────────────────────┐
│ SageMath Version 7.1.beta6, Release Date: 2016-03-03               │
│ Type "notebook()" for the browser-based notebook interface.        │
│ Type "help()" for help.                                            │
└────────────────────────────────────────────────────────────────────┘
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃ Warning: this is a prerelease version, and it may be unstable.     ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
sage:  
sage: gap3
Gap3
sage: gap3.execute("1+1")
''
sage: gap3.execute("1+1")
'2'
sage: 
sage: gap3.execute("1+1")
'2'
sage: gap3
Gap3
sage: gap3.eval('VERSION')[1:-1]
''
sage: gap3.eval('VERSION')[1:-1]
'lib: jm 12Mar2016, src: jm 28Feb2015, sys: usg gcc 64'
sage: gap3.execute("1+1")
'"lib: jm 12Mar2016, src: jm 28Feb2015, sys: usg gcc 64"'
sage: gap3.execute("1+1")
'2'
```



---

archive/issue_comments_288522.json:
```json
{
    "body": "<div id=\"comment:94\" align=\"right\">comment:94</div>\n\nReplying to [@jdemeyer](#comment%3A91):\n> \n> ```\n> sage -t src/sage/interfaces/gap3.py\n> ```\n\nThese doctests actually also did not work before either: I installed gap3 myself and made it start on the command-line using the command `gap3`. I then did\n\n```\n$ sage -t src/sage/interfaces/gap3.py \ntoo few successful tests, not using stored timings\nRunning doctests with ID 2016-03-25-15-51-57-0530368e.\nGit branch: findstat/main\nUsing --optional=dot2tex,mpir,python2,sage,scons\nDoctesting 1 file.\nsage -t src/sage/interfaces/gap3.py\n    [12 tests, 6.03 s]\n----------------------------------------------------------------------\nAll tests passed!\n----------------------------------------------------------------------\nTotal time for all tests: 6.2 seconds\n    cpu time: 0.2 seconds\n    cumulative wall time: 6.0 seconds\n```\nand then\n\n```\n$ sage -t --optional=dot2tex,mpir,python2,sage,scons,gap3,chevie src/sage/interfaces/gap3.py \ntoo few successful tests, not using stored timings\nRunning doctests with ID 2016-03-25-15-52-25-c372d3dc.\nGit branch: findstat/main\nUsing --optional=chevie,dot2tex,gap3,mpir,python2,sage,scons\nDoctesting 1 file.\nsage -t src/sage/interfaces/gap3.py\n**********************************************************************\nFile \"src/sage/interfaces/gap3.py\", line 174, in sage.interfaces.gap3\nFailed example:\n    gap3.RequirePackage('\"chevie\"')             #optional - gap3 chevie\nExpected:\n    W...  to  the  CHEVIE  package, ...\nGot:\n    <BLANKLINE>\n**********************************************************************\nFile \"src/sage/interfaces/gap3.py\", line 397, in sage.interfaces.gap3.Gap3._execute_line\nFailed example:\n    f([1,2,3])                                   #optional - gap3\nExpected:\n    Traceback (most recent call last):\n    ...\n    RuntimeError: Gap3 produced error output\n    Error, List Element: <position> must be a positive integer at\n    return L[0] ... in\n    ... called from\n    main loop\n    brk> quit;\n    ...\nGot:\n    <BLANKLINE>\n    Traceback (most recent call last):\n      File \"/home/stumpc5/progs/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/stumpc5/progs/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.interfaces.gap3.Gap3._execute_line[3]>\", line 1, in <module>\n        f([Integer(1),Integer(2),Integer(3)])                                   #optional - gap3\n      File \"/home/stumpc5/progs/sage/local/lib/python2.7/site-packages/sage/interfaces/interface.py\", line 805, in __call__\n        return getattr(P, self.name())(*args)\n      File \"/home/stumpc5/progs/sage/local/lib/python2.7/site-packages/sage/interfaces/interface.py\", line 607, in __call__\n        return self._parent.function_call(self._name, list(args), kwds)\n      File \"/home/stumpc5/progs/sage/local/lib/python2.7/site-packages/sage/interfaces/gap.py\", line 894, in function_call\n        ['%s=%s'%(key,value.name()) for key, value in kwds.items()])))\n      File \"/home/stumpc5/progs/sage/local/lib/python2.7/site-packages/sage/interfaces/gap.py\", line 569, in eval\n        result = Expect.eval(self, input_line, **kwds)\n      File \"/home/stumpc5/progs/sage/local/lib/python2.7/site-packages/sage/interfaces/expect.py\", line 1244, in eval\n        for L in code.split('\\n') if L != ''])\n      File \"/home/stumpc5/progs/sage/local/lib/python2.7/site-packages/sage/interfaces/gap.py\", line 767, in _eval_line\n        raise RuntimeError(message)\n    RuntimeError: Gap3 produced error output\n    Error, Function: <function> must be a function\n    <BLANKLINE>\n       executing x(sage0);\n**********************************************************************\nFile \"src/sage/interfaces/gap3.py\", line 444, in sage.interfaces.gap3.Gap3.help\nFailed example:\n    m                                        #optional - gap3\nExpected:\n    [ [ 1, 2, 3 ], [ 4, 5, 6 ] ]\nGot:\n    <BLANKLINE>\n**********************************************************************\nFile \"src/sage/interfaces/gap3.py\", line 446, in sage.interfaces.gap3.Gap3.help\nFailed example:\n    m.Print()                                #optional - gap3\nExpected:\n    [ [ 1, 2, 3 ], [ 4, 5, 6 ] ]\nGot:\n    \"__SAGE_LAST__\"\n**********************************************************************\nFile \"src/sage/interfaces/gap3.py\", line 450, in sage.interfaces.gap3.Gap3.help\nFailed example:\n    m                                        #optional - gap3\nExpected:\n    [ [ 1, 2, 3 ], [ 4, 5, 6 ] ]\nGot:\n    <BLANKLINE>\n**********************************************************************\nFile \"src/sage/interfaces/gap3.py\", line 452, in sage.interfaces.gap3.Gap3.help\nFailed example:\n    m.Print()                                #optional - gap3\nExpected:\n    [ [ 1, 2, 3 ], [ 4, 5, 6 ] ]\nGot:\n    \"__SAGE_LAST__\"\n**********************************************************************\n3 items had failures:\n   1 of  34 in sage.interfaces.gap3\n   1 of   5 in sage.interfaces.gap3.Gap3._execute_line\n   4 of  10 in sage.interfaces.gap3.Gap3.help\n    [107 tests, 6 failures, 4.20 s]\n----------------------------------------------------------------------\nsage -t src/sage/interfaces/gap3.py  # 6 doctests failed\n----------------------------------------------------------------------\nTotal time for all tests: 4.4 seconds\n    cpu time: 0.8 seconds\n    cumulative wall time: 4.2 seconds\n```",
    "created_at": "2016-03-25T14:56:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288522",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:94" align="right">comment:94</div>

Replying to [@jdemeyer](#comment%3A91):
> 
> ```
> sage -t src/sage/interfaces/gap3.py
> ```

These doctests actually also did not work before either: I installed gap3 myself and made it start on the command-line using the command `gap3`. I then did

```
$ sage -t src/sage/interfaces/gap3.py 
too few successful tests, not using stored timings
Running doctests with ID 2016-03-25-15-51-57-0530368e.
Git branch: findstat/main
Using --optional=dot2tex,mpir,python2,sage,scons
Doctesting 1 file.
sage -t src/sage/interfaces/gap3.py
    [12 tests, 6.03 s]
----------------------------------------------------------------------
All tests passed!
----------------------------------------------------------------------
Total time for all tests: 6.2 seconds
    cpu time: 0.2 seconds
    cumulative wall time: 6.0 seconds
```
and then

```
$ sage -t --optional=dot2tex,mpir,python2,sage,scons,gap3,chevie src/sage/interfaces/gap3.py 
too few successful tests, not using stored timings
Running doctests with ID 2016-03-25-15-52-25-c372d3dc.
Git branch: findstat/main
Using --optional=chevie,dot2tex,gap3,mpir,python2,sage,scons
Doctesting 1 file.
sage -t src/sage/interfaces/gap3.py
**********************************************************************
File "src/sage/interfaces/gap3.py", line 174, in sage.interfaces.gap3
Failed example:
    gap3.RequirePackage('"chevie"')             #optional - gap3 chevie
Expected:
    W...  to  the  CHEVIE  package, ...
Got:
    <BLANKLINE>
**********************************************************************
File "src/sage/interfaces/gap3.py", line 397, in sage.interfaces.gap3.Gap3._execute_line
Failed example:
    f([1,2,3])                                   #optional - gap3
Expected:
    Traceback (most recent call last):
    ...
    RuntimeError: Gap3 produced error output
    Error, List Element: <position> must be a positive integer at
    return L[0] ... in
    ... called from
    main loop
    brk> quit;
    ...
Got:
    <BLANKLINE>
    Traceback (most recent call last):
      File "/home/stumpc5/progs/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/stumpc5/progs/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.interfaces.gap3.Gap3._execute_line[3]>", line 1, in <module>
        f([Integer(1),Integer(2),Integer(3)])                                   #optional - gap3
      File "/home/stumpc5/progs/sage/local/lib/python2.7/site-packages/sage/interfaces/interface.py", line 805, in __call__
        return getattr(P, self.name())(*args)
      File "/home/stumpc5/progs/sage/local/lib/python2.7/site-packages/sage/interfaces/interface.py", line 607, in __call__
        return self._parent.function_call(self._name, list(args), kwds)
      File "/home/stumpc5/progs/sage/local/lib/python2.7/site-packages/sage/interfaces/gap.py", line 894, in function_call
        ['%s=%s'%(key,value.name()) for key, value in kwds.items()])))
      File "/home/stumpc5/progs/sage/local/lib/python2.7/site-packages/sage/interfaces/gap.py", line 569, in eval
        result = Expect.eval(self, input_line, **kwds)
      File "/home/stumpc5/progs/sage/local/lib/python2.7/site-packages/sage/interfaces/expect.py", line 1244, in eval
        for L in code.split('\n') if L != ''])
      File "/home/stumpc5/progs/sage/local/lib/python2.7/site-packages/sage/interfaces/gap.py", line 767, in _eval_line
        raise RuntimeError(message)
    RuntimeError: Gap3 produced error output
    Error, Function: <function> must be a function
    <BLANKLINE>
       executing x(sage0);
**********************************************************************
File "src/sage/interfaces/gap3.py", line 444, in sage.interfaces.gap3.Gap3.help
Failed example:
    m                                        #optional - gap3
Expected:
    [ [ 1, 2, 3 ], [ 4, 5, 6 ] ]
Got:
    <BLANKLINE>
**********************************************************************
File "src/sage/interfaces/gap3.py", line 446, in sage.interfaces.gap3.Gap3.help
Failed example:
    m.Print()                                #optional - gap3
Expected:
    [ [ 1, 2, 3 ], [ 4, 5, 6 ] ]
Got:
    "__SAGE_LAST__"
**********************************************************************
File "src/sage/interfaces/gap3.py", line 450, in sage.interfaces.gap3.Gap3.help
Failed example:
    m                                        #optional - gap3
Expected:
    [ [ 1, 2, 3 ], [ 4, 5, 6 ] ]
Got:
    <BLANKLINE>
**********************************************************************
File "src/sage/interfaces/gap3.py", line 452, in sage.interfaces.gap3.Gap3.help
Failed example:
    m.Print()                                #optional - gap3
Expected:
    [ [ 1, 2, 3 ], [ 4, 5, 6 ] ]
Got:
    "__SAGE_LAST__"
**********************************************************************
3 items had failures:
   1 of  34 in sage.interfaces.gap3
   1 of   5 in sage.interfaces.gap3.Gap3._execute_line
   4 of  10 in sage.interfaces.gap3.Gap3.help
    [107 tests, 6 failures, 4.20 s]
----------------------------------------------------------------------
sage -t src/sage/interfaces/gap3.py  # 6 doctests failed
----------------------------------------------------------------------
Total time for all tests: 4.4 seconds
    cpu time: 0.8 seconds
    cumulative wall time: 4.2 seconds
```



---

archive/issue_comments_288523.json:
```json
{
    "body": "<div id=\"comment:95\" align=\"right\">comment:95</div>\n\nIt might or might not be related to #18971, but I currently do not know how to fix the issues (except that I could just copy the not correct output into the doctest).",
    "created_at": "2016-03-25T14:56:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288523",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:95" align="right">comment:95</div>

It might or might not be related to #18971, but I currently do not know how to fix the issues (except that I could just copy the not correct output into the doctest).



---

archive/issue_comments_288524.json:
```json
{
    "body": "<div id=\"comment:96\" align=\"right\">comment:96</div>\n\nAlternatively, you could make gap3 an experimental package now and move it to optional in #18971.\n\nOne detail I just saw: `spkg-src` still mentions ECL :-)\n\nAnd don't forget to fix the optional tags referring to chevie.",
    "created_at": "2016-03-25T15:25:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288524",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:96" align="right">comment:96</div>

Alternatively, you could make gap3 an experimental package now and move it to optional in #18971.

One detail I just saw: `spkg-src` still mentions ECL :-)

And don't forget to fix the optional tags referring to chevie.



---

archive/issue_comments_288525.json:
```json
{
    "body": "<div id=\"comment:97\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/82464a1a203613e9d30b8402e01704aa34c0cee0\"><code>82464a1</code></a></td><td><code>fixed ecl typo in spkg-src</code></td></tr></table>\n",
    "created_at": "2016-03-25T15:54:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288525",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:97"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/82464a1a203613e9d30b8402e01704aa34c0cee0"><code>82464a1</code></a></td><td><code>fixed ecl typo in spkg-src</code></td></tr></table>




---

archive/issue_comments_288526.json:
```json
{
    "body": "Changed commit from **[`50aac0e`](https://github.com/sagemath/sagetrac-mirror/commit/50aac0ea3726079c240e2fb7ccc7bca6e2713132)** to **[`82464a1`](https://github.com/sagemath/sagetrac-mirror/commit/82464a1a203613e9d30b8402e01704aa34c0cee0)**",
    "created_at": "2016-03-25T15:54:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288526",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`50aac0e`](https://github.com/sagemath/sagetrac-mirror/commit/50aac0ea3726079c240e2fb7ccc7bca6e2713132)** to **[`82464a1`](https://github.com/sagemath/sagetrac-mirror/commit/82464a1a203613e9d30b8402e01704aa34c0cee0)**



---

archive/issue_comments_288527.json:
```json
{
    "body": "<div id=\"comment:98\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0cba2e8aa6ed523082ddea2bc313b241a2eeebad\"><code>0cba2e8</code></a></td><td><code>fixed typo in package description, started work on the gap3 interface file</code></td></tr></table>\n",
    "created_at": "2016-03-25T16:18:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288527",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:98"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0cba2e8aa6ed523082ddea2bc313b241a2eeebad"><code>0cba2e8</code></a></td><td><code>fixed typo in package description, started work on the gap3 interface file</code></td></tr></table>




---

archive/issue_comments_288528.json:
```json
{
    "body": "Changed commit from **[`82464a1`](https://github.com/sagemath/sagetrac-mirror/commit/82464a1a203613e9d30b8402e01704aa34c0cee0)** to **[`0cba2e8`](https://github.com/sagemath/sagetrac-mirror/commit/0cba2e8aa6ed523082ddea2bc313b241a2eeebad)**",
    "created_at": "2016-03-25T16:18:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288528",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`82464a1`](https://github.com/sagemath/sagetrac-mirror/commit/82464a1a203613e9d30b8402e01704aa34c0cee0)** to **[`0cba2e8`](https://github.com/sagemath/sagetrac-mirror/commit/0cba2e8aa6ed523082ddea2bc313b241a2eeebad)**



---

archive/issue_comments_288529.json:
```json
{
    "body": "<div id=\"comment:99\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cac3206b8362e0441184755ad97d5e61df034c52\"><code>cac3206</code></a></td><td><code>improved spkg-src</code></td></tr></table>\n",
    "created_at": "2016-03-25T16:28:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288529",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:99"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cac3206b8362e0441184755ad97d5e61df034c52"><code>cac3206</code></a></td><td><code>improved spkg-src</code></td></tr></table>




---

archive/issue_comments_288530.json:
```json
{
    "body": "Changed commit from **[`0cba2e8`](https://github.com/sagemath/sagetrac-mirror/commit/0cba2e8aa6ed523082ddea2bc313b241a2eeebad)** to **[`cac3206`](https://github.com/sagemath/sagetrac-mirror/commit/cac3206b8362e0441184755ad97d5e61df034c52)**",
    "created_at": "2016-03-25T16:28:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288530",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0cba2e8`](https://github.com/sagemath/sagetrac-mirror/commit/0cba2e8aa6ed523082ddea2bc313b241a2eeebad)** to **[`cac3206`](https://github.com/sagemath/sagetrac-mirror/commit/cac3206b8362e0441184755ad97d5e61df034c52)**



---

archive/issue_comments_288531.json:
```json
{
    "body": "<div id=\"comment:100\" align=\"right\">comment:100</div>\n\nReplying to [@jdemeyer](#comment%3A96):\n> Alternatively, you could make gap3 an experimental package now and move it to optional in #18971.\n\nI would `_really_` like to get this as an optional package before we have a week meeting here in Berlin to work on (and hopefully finalize!) #11187 in two weeks from now.",
    "created_at": "2016-03-25T16:30:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288531",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:100" align="right">comment:100</div>

Replying to [@jdemeyer](#comment%3A96):
> Alternatively, you could make gap3 an experimental package now and move it to optional in #18971.

I would `_really_` like to get this as an optional package before we have a week meeting here in Berlin to work on (and hopefully finalize!) #11187 in two weeks from now.



---

archive/issue_comments_288532.json:
```json
{
    "body": "<div id=\"comment:101\" align=\"right\">comment:101</div>\n\nOne issue, one ticket.\n\nLet's keep the \"adding a gap3 package\" and \"fixing the gap3 interface\" separate tickets.",
    "created_at": "2016-03-25T16:41:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288532",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:101" align="right">comment:101</div>

One issue, one ticket.

Let's keep the "adding a gap3 package" and "fixing the gap3 interface" separate tickets.



---

archive/issue_comments_288533.json:
```json
{
    "body": "<div id=\"comment:102\" align=\"right\">comment:102</div>\n\nThat being said, if you find a reviewer who is willing to review your two-tickets-in-one branch (not me), it doesn't really matter.",
    "created_at": "2016-03-25T16:43:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288533",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:102" align="right">comment:102</div>

That being said, if you find a reviewer who is willing to review your two-tickets-in-one branch (not me), it doesn't really matter.



---

archive/issue_comments_288534.json:
```json
{
    "body": "<div id=\"comment:103\" align=\"right\">comment:103</div>\n\nthere are too many question marks now that need to be resolved before it can move on to become an optional package. Besides, the differences in functionality are very minor.",
    "created_at": "2016-03-25T16:45:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288534",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:103" align="right">comment:103</div>

there are too many question marks now that need to be resolved before it can move on to become an optional package. Besides, the differences in functionality are very minor.



---

archive/issue_comments_288535.json:
```json
{
    "body": "<div id=\"comment:104\" align=\"right\">comment:104</div>\n\nIMvHO it is better to invest time into porting chevie to GAP4 than into this...",
    "created_at": "2016-03-25T16:48:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288535",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:104" align="right">comment:104</div>

IMvHO it is better to invest time into porting chevie to GAP4 than into this...



---

archive/issue_comments_288536.json:
```json
{
    "body": "Changed commit from **[`cac3206`](https://github.com/sagemath/sagetrac-mirror/commit/cac3206b8362e0441184755ad97d5e61df034c52)** to **[`181a352`](https://github.com/sagemath/sagetrac-mirror/commit/181a35212146e78f38d9600e4e8e568485764485)**",
    "created_at": "2016-03-25T17:01:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288536",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`cac3206`](https://github.com/sagemath/sagetrac-mirror/commit/cac3206b8362e0441184755ad97d5e61df034c52)** to **[`181a352`](https://github.com/sagemath/sagetrac-mirror/commit/181a35212146e78f38d9600e4e8e568485764485)**



---

archive/issue_comments_288537.json:
```json
{
    "body": "<div id=\"comment:105\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/181a35212146e78f38d9600e4e8e568485764485\"><code>181a352</code></a></td><td><code>undoing one thing in spkg-src</code></td></tr></table>\n",
    "created_at": "2016-03-25T17:01:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288537",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:105"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/181a35212146e78f38d9600e4e8e568485764485"><code>181a352</code></a></td><td><code>undoing one thing in spkg-src</code></td></tr></table>




---

archive/issue_comments_288538.json:
```json
{
    "body": "<div id=\"comment:106\" align=\"right\">comment:106</div>\n\nReplying to [@jdemeyer](#comment%3A102):\n> That being said, if you find a reviewer who is willing to review your two-tickets-in-one branch (not me), it doesn't really matter.\n\nI didn't start doing anything concerning the other ticket in this branch, did I?",
    "created_at": "2016-03-25T17:04:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288538",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:106" align="right">comment:106</div>

Replying to [@jdemeyer](#comment%3A102):
> That being said, if you find a reviewer who is willing to review your two-tickets-in-one branch (not me), it doesn't really matter.

I didn't start doing anything concerning the other ticket in this branch, did I?



---

archive/issue_comments_288539.json:
```json
{
    "body": "<div id=\"comment:107\" align=\"right\">comment:107</div>\n\nReplying to [@dimpase](#comment%3A104):\n> IMvHO it is better to invest time into porting chevie to GAP4 than into this...\n\nJean Michel clearly has a meaning about that, after not doing it in 20 years...",
    "created_at": "2016-03-25T17:05:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288539",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:107" align="right">comment:107</div>

Replying to [@dimpase](#comment%3A104):
> IMvHO it is better to invest time into porting chevie to GAP4 than into this...

Jean Michel clearly has a meaning about that, after not doing it in 20 years...



---

archive/issue_events_281495.json:
```json
{
    "actor": "https://github.com/stumpc5",
    "created_at": "2016-03-25T17:06:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20optional",
    "label_color": "0000b0",
    "label_name": "c: packages: optional",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20107#event-281495"
}
```



---

archive/issue_events_281496.json:
```json
{
    "actor": "https://github.com/stumpc5",
    "created_at": "2016-03-25T17:06:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20experimental",
    "label_color": "0000b0",
    "label_name": "c: packages: experimental",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20107#event-281496"
}
```



---

archive/issue_comments_288540.json:
```json
{
    "body": "<div id=\"comment:109\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ec01e305ae9dd29b90234183ad7b309172646ea6\"><code>ec01e30</code></a></td><td><code>moved to experimental package</code></td></tr></table>\n",
    "created_at": "2016-03-25T17:07:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288540",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:109"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ec01e305ae9dd29b90234183ad7b309172646ea6"><code>ec01e30</code></a></td><td><code>moved to experimental package</code></td></tr></table>




---

archive/issue_comments_288541.json:
```json
{
    "body": "Changed commit from **[`181a352`](https://github.com/sagemath/sagetrac-mirror/commit/181a35212146e78f38d9600e4e8e568485764485)** to **[`ec01e30`](https://github.com/sagemath/sagetrac-mirror/commit/ec01e305ae9dd29b90234183ad7b309172646ea6)**",
    "created_at": "2016-03-25T17:07:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288541",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`181a352`](https://github.com/sagemath/sagetrac-mirror/commit/181a35212146e78f38d9600e4e8e568485764485)** to **[`ec01e30`](https://github.com/sagemath/sagetrac-mirror/commit/ec01e305ae9dd29b90234183ad7b309172646ea6)**



---

archive/issue_comments_288542.json:
```json
{
    "body": "<div id=\"comment:110\" align=\"right\">comment:110</div>\n\nReplying to [@dimpase](#comment%3A103):\n> there are too many question marks now that need to be resolved before it can move on to become an optional package.\n\nJust so I understand it: is it correct that for a package to be optional one needs all doctests with the optional package flag to pass? And in this specific case, the optional doctests in `interfaces/gap3.py` do not pass (for whatever reason) so this cannot be an optional package for now?",
    "created_at": "2016-03-25T17:10:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288542",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:110" align="right">comment:110</div>

Replying to [@dimpase](#comment%3A103):
> there are too many question marks now that need to be resolved before it can move on to become an optional package.

Just so I understand it: is it correct that for a package to be optional one needs all doctests with the optional package flag to pass? And in this specific case, the optional doctests in `interfaces/gap3.py` do not pass (for whatever reason) so this cannot be an optional package for now?



---

archive/issue_comments_288543.json:
```json
{
    "body": "<div id=\"comment:111\" align=\"right\">comment:111</div>\n\nReplying to [@stumpc5](#comment%3A110):\n> Replying to [@dimpase](#comment%3A103):\n> > there are too many question marks now that need to be resolved before it can move on to become an optional package.\n> \n> \n> Just so I understand it: is it correct that for a package to be optional one needs all doctests with the optional package flag to pass? And in this specific case, the optional doctests in `interfaces/gap3.py` do not pass (for whatever reason) so this cannot be an optional package for now?\n\nindeed it is a necessary condition. And of course removing tests won't fly, one really needs to dig up the real reasons for them to fail; all that \"GAP3 does not do a thing on the 1st call\".",
    "created_at": "2016-03-25T17:16:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288543",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:111" align="right">comment:111</div>

Replying to [@stumpc5](#comment%3A110):
> Replying to [@dimpase](#comment%3A103):
> > there are too many question marks now that need to be resolved before it can move on to become an optional package.
> 
> 
> Just so I understand it: is it correct that for a package to be optional one needs all doctests with the optional package flag to pass? And in this specific case, the optional doctests in `interfaces/gap3.py` do not pass (for whatever reason) so this cannot be an optional package for now?

indeed it is a necessary condition. And of course removing tests won't fly, one really needs to dig up the real reasons for them to fail; all that "GAP3 does not do a thing on the 1st call".



---

archive/issue_comments_288544.json:
```json
{
    "body": "<div id=\"comment:112\" align=\"right\">comment:112</div>\n\nReplying to [@stumpc5](#comment%3A107):\n> Replying to [@dimpase](#comment%3A104):\n> > IMvHO it is better to invest time into porting chevie to GAP4 than into this...\n> \n> \n> Jean Michel clearly has a meaning about that, after not doing it in 20 years...\n\nI asked for a new password, so I can reply myself.\nI examined several times over the past 15 years a possible port of Chevie to GAP4.\nMy conclusions:\n-it would be as much work as rewriting everything completely, thus it would take several months of my life.\n-I do not see any benefit for me doing that, and I do not see, if I rewrite everything, why GAP4 would be the best target. Maybe sage would be a better target.\n-On the other hand, I would benefit from an optional gap3 package in sage, would it be only to use the nice notebook interface to pepare my presentations about chevie. I would do it myself if I knew more about what is needed, and I thank Christian Stump for doing it. I will help him as I can.",
    "created_at": "2016-03-25T17:18:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288544",
    "user": "https://github.com/sagetrac-jmichel"
}
```

<div id="comment:112" align="right">comment:112</div>

Replying to [@stumpc5](#comment%3A107):
> Replying to [@dimpase](#comment%3A104):
> > IMvHO it is better to invest time into porting chevie to GAP4 than into this...
> 
> 
> Jean Michel clearly has a meaning about that, after not doing it in 20 years...

I asked for a new password, so I can reply myself.
I examined several times over the past 15 years a possible port of Chevie to GAP4.
My conclusions:
-it would be as much work as rewriting everything completely, thus it would take several months of my life.
-I do not see any benefit for me doing that, and I do not see, if I rewrite everything, why GAP4 would be the best target. Maybe sage would be a better target.
-On the other hand, I would benefit from an optional gap3 package in sage, would it be only to use the nice notebook interface to pepare my presentations about chevie. I would do it myself if I knew more about what is needed, and I thank Christian Stump for doing it. I will help him as I can.



---

archive/issue_comments_288545.json:
```json
{
    "body": "<div id=\"comment:113\" align=\"right\">comment:113</div>\n\nReplying to [@sagetrac-jmichel](#comment%3A112):\n> Replying to [@stumpc5](#comment%3A107):\n> > Replying to [@dimpase](#comment%3A104):\n> > > IMvHO it is better to invest time into porting chevie to GAP4 than into this...\n> > \n> > \n> > Jean Michel clearly has a meaning about that, after not doing it in 20 years...\n> \n> \n> I asked for a new password, so I can reply myself.\n> I examined several times over the past 15 years a possible port of Chevie to GAP4.\n> My conclusions:\n> -it would be as much work as rewriting everything completely,\n\nReally? What are the crucial features you miss in GAP4 that are used in Chevie?\n\nI use GAP (and hack a bit on it, too) for some 23 years, and I saw transitions of packages like GRAPE from GAP3 to GAP4 without too much pain. You don't need to make use of new GAP4 features, good old records are still there.\n\nI (half)ported ve and anusq to GAP4, it was certainly not very trivial, but quite doable and quick. (they are now useful in GAP4, although not as \"proper\" packages, but as collections of functions).",
    "created_at": "2016-03-25T17:43:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288545",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:113" align="right">comment:113</div>

Replying to [@sagetrac-jmichel](#comment%3A112):
> Replying to [@stumpc5](#comment%3A107):
> > Replying to [@dimpase](#comment%3A104):
> > > IMvHO it is better to invest time into porting chevie to GAP4 than into this...
> > 
> > 
> > Jean Michel clearly has a meaning about that, after not doing it in 20 years...
> 
> 
> I asked for a new password, so I can reply myself.
> I examined several times over the past 15 years a possible port of Chevie to GAP4.
> My conclusions:
> -it would be as much work as rewriting everything completely,

Really? What are the crucial features you miss in GAP4 that are used in Chevie?

I use GAP (and hack a bit on it, too) for some 23 years, and I saw transitions of packages like GRAPE from GAP3 to GAP4 without too much pain. You don't need to make use of new GAP4 features, good old records are still there.

I (half)ported ve and anusq to GAP4, it was certainly not very trivial, but quite doable and quick. (they are now useful in GAP4, although not as "proper" packages, but as collections of functions).



---

archive/issue_comments_288546.json:
```json
{
    "body": "<div id=\"comment:114\" align=\"right\">comment:114</div>\n\nReplying to [@dimpase](#comment%3A113):\n> Replying to [@sagetrac-jmichel](#comment%3A112):\n> > Replying to [@stumpc5](#comment%3A107):\n> > > Replying to [@dimpase](#comment%3A104):\n> > > > IMvHO it is better to invest time into porting chevie to GAP4 than into this...\n> > > \n> > > \n> > > Jean Michel clearly has a meaning about that, after not doing it in 20 years...\n> > \n> > \n> > I asked for a new password, so I can reply myself.\n> > I examined several times over the past 15 years a possible port of Chevie to GAP4.\n> > My conclusions:\n> > -it would be as much work as rewriting everything completely,\n> \n> \n> Really? What are the crucial features you miss in GAP4 that are used in Chevie?\n> \n> I use GAP (and hack a bit on it, too) for some 23 years, and I saw transitions of packages like GRAPE from GAP3 to GAP4 without too much pain. You don't need to make use of new GAP4 features, good old records are still there.\n\nFirst, I should tell you that I looked at the problem of porting chevie with Frank Luebeck, and he agrees with my conclusions. This is not the place/time to give a detailed answer, but roughly:\nchevie contains about a hundred different types of mathematical objects, which in gap3 are just records with a certain .operations fields, and methods are just functions which dispatch based\non various features, and then call the appropriate component field of the .operations record. The way a new type of objects or a method is constructed in GAP4 is completely different. The worst of it is that any effort (which has been done by various people) to port any substantial part of chevie (a few hundred lines) to gap4 almost always produce longer and uglier code. \n \n> I (half)ported ve and anusq to GAP4, it was certainly not very trivial, but quite doable and quick.\n\nI wanted to thank you for your modifications to the makefile in ve (It seems you did not change anything else?). It also seems that you changed a few lines in one gap function in anusq to translate it to gap4. I am sorry to say that this is completely trivial compared to rewriting the several hundred thousand lines of chevie.",
    "created_at": "2016-03-25T17:58:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288546",
    "user": "https://github.com/sagetrac-jmichel"
}
```

<div id="comment:114" align="right">comment:114</div>

Replying to [@dimpase](#comment%3A113):
> Replying to [@sagetrac-jmichel](#comment%3A112):
> > Replying to [@stumpc5](#comment%3A107):
> > > Replying to [@dimpase](#comment%3A104):
> > > > IMvHO it is better to invest time into porting chevie to GAP4 than into this...
> > > 
> > > 
> > > Jean Michel clearly has a meaning about that, after not doing it in 20 years...
> > 
> > 
> > I asked for a new password, so I can reply myself.
> > I examined several times over the past 15 years a possible port of Chevie to GAP4.
> > My conclusions:
> > -it would be as much work as rewriting everything completely,
> 
> 
> Really? What are the crucial features you miss in GAP4 that are used in Chevie?
> 
> I use GAP (and hack a bit on it, too) for some 23 years, and I saw transitions of packages like GRAPE from GAP3 to GAP4 without too much pain. You don't need to make use of new GAP4 features, good old records are still there.

First, I should tell you that I looked at the problem of porting chevie with Frank Luebeck, and he agrees with my conclusions. This is not the place/time to give a detailed answer, but roughly:
chevie contains about a hundred different types of mathematical objects, which in gap3 are just records with a certain .operations fields, and methods are just functions which dispatch based
on various features, and then call the appropriate component field of the .operations record. The way a new type of objects or a method is constructed in GAP4 is completely different. The worst of it is that any effort (which has been done by various people) to port any substantial part of chevie (a few hundred lines) to gap4 almost always produce longer and uglier code. 
 
> I (half)ported ve and anusq to GAP4, it was certainly not very trivial, but quite doable and quick.

I wanted to thank you for your modifications to the makefile in ve (It seems you did not change anything else?). It also seems that you changed a few lines in one gap function in anusq to translate it to gap4. I am sorry to say that this is completely trivial compared to rewriting the several hundred thousand lines of chevie.



---

archive/issue_comments_288547.json:
```json
{
    "body": "<div id=\"comment:115\" align=\"right\">comment:115</div>\n\nReplying to [@sagetrac-jmichel](#comment%3A114):\n> Replying to [@dimpase](#comment%3A113):\n> > Replying to [@sagetrac-jmichel](#comment%3A112):\n> > > Replying to [@stumpc5](#comment%3A107):\n> > > > Replying to [@dimpase](#comment%3A104):\n> > > > > IMvHO it is better to invest time into porting chevie to GAP4 than into this...\n> > > > \n> > > > \n> > > > Jean Michel clearly has a meaning about that, after not doing it in 20 years...\n> > > \n> > > \n> > > I asked for a new password, so I can reply myself.\n> > > I examined several times over the past 15 years a possible port of Chevie to GAP4.\n> > > My conclusions:\n> > > -it would be as much work as rewriting everything completely,\n> > \n> > \n> > Really? What are the crucial features you miss in GAP4 that are used in Chevie?\n> > \n> > I use GAP (and hack a bit on it, too) for some 23 years, and I saw transitions of packages like GRAPE from GAP3 to GAP4 without too much pain. You don't need to make use of new GAP4 features, good old records are still there.\n> \n> \n> First, I should tell you that I looked at the problem of porting chevie with Frank Luebeck, and he agrees with my conclusions. This is not the place/time to give a detailed answer, but roughly:\n> chevie contains about a hundred different types of mathematical objects, which in gap3 are just records with a certain .operations fields, and methods are just functions which dispatch based\n> on various features, and then call the appropriate component field of the .operations record. The way a new type of objects or a method is constructed in GAP4 is completely different. \n\nBut you don't need this new type of objects!\n\n>The worst of it is that any effort (which has been done by various people) to port any substantial part of chevie (a few hundred lines) to gap4 almost always produce longer and uglier code. \n>  \n> > I (half)ported ve and anusq to GAP4, it was certainly not very trivial, but quite doable and quick.\n> \n> I wanted to thank you for your modifications to the makefile in ve (It seems you did not change anything else?). It also seems that you changed a few lines in one gap function in anusq to translate it to gap4. I am sorry to say that this is completely trivial compared to rewriting the several hundred thousand lines of chevie.  \n\nWow, I really appreciate the way you talk about my work :-)\nIf you cared to look at the diff of my changes to ve you could have seen the changes done in full glory, OK? \nhttps://github.com/gap-packages/ve/commits/master\n(the are mostly about switching to modern GMP, if you must know)\n\nWhereas your GAP3 code would just work in GAP4, with very minimal and trivial changes.",
    "created_at": "2016-03-25T18:35:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288547",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:115" align="right">comment:115</div>

Replying to [@sagetrac-jmichel](#comment%3A114):
> Replying to [@dimpase](#comment%3A113):
> > Replying to [@sagetrac-jmichel](#comment%3A112):
> > > Replying to [@stumpc5](#comment%3A107):
> > > > Replying to [@dimpase](#comment%3A104):
> > > > > IMvHO it is better to invest time into porting chevie to GAP4 than into this...
> > > > 
> > > > 
> > > > Jean Michel clearly has a meaning about that, after not doing it in 20 years...
> > > 
> > > 
> > > I asked for a new password, so I can reply myself.
> > > I examined several times over the past 15 years a possible port of Chevie to GAP4.
> > > My conclusions:
> > > -it would be as much work as rewriting everything completely,
> > 
> > 
> > Really? What are the crucial features you miss in GAP4 that are used in Chevie?
> > 
> > I use GAP (and hack a bit on it, too) for some 23 years, and I saw transitions of packages like GRAPE from GAP3 to GAP4 without too much pain. You don't need to make use of new GAP4 features, good old records are still there.
> 
> 
> First, I should tell you that I looked at the problem of porting chevie with Frank Luebeck, and he agrees with my conclusions. This is not the place/time to give a detailed answer, but roughly:
> chevie contains about a hundred different types of mathematical objects, which in gap3 are just records with a certain .operations fields, and methods are just functions which dispatch based
> on various features, and then call the appropriate component field of the .operations record. The way a new type of objects or a method is constructed in GAP4 is completely different. 

But you don't need this new type of objects!

>The worst of it is that any effort (which has been done by various people) to port any substantial part of chevie (a few hundred lines) to gap4 almost always produce longer and uglier code. 
>  
> > I (half)ported ve and anusq to GAP4, it was certainly not very trivial, but quite doable and quick.
> 
> I wanted to thank you for your modifications to the makefile in ve (It seems you did not change anything else?). It also seems that you changed a few lines in one gap function in anusq to translate it to gap4. I am sorry to say that this is completely trivial compared to rewriting the several hundred thousand lines of chevie.  

Wow, I really appreciate the way you talk about my work :-)
If you cared to look at the diff of my changes to ve you could have seen the changes done in full glory, OK? 
https://github.com/gap-packages/ve/commits/master
(the are mostly about switching to modern GMP, if you must know)

Whereas your GAP3 code would just work in GAP4, with very minimal and trivial changes.



---

archive/issue_comments_288548.json:
```json
{
    "body": "<div id=\"comment:116\" align=\"right\">comment:116</div>\n\n> Wow, I really appreciate the way you talk about my work :-)\n> If you cared to look at the diff of my changes to ve you could have seen the changes done in full glory, OK? \n> https://github.com/gap-packages/ve/commits/master\n\nSorry. I went to https://github.com/gap-packages/ve and used the option \"download zip\"\nand did not see that many changes. Either you changes are quite old (several years ago) and I already got them without noticing, or I did something wrong. Anyway, please stick to technical points.\n\n> Whereas your GAP3 code would just work in GAP4, with very minimal and trivial changes.\n\nNo. But if you think otherwise, just do some non-trivial example and show me.",
    "created_at": "2016-03-25T19:12:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288548",
    "user": "https://github.com/sagetrac-jmichel"
}
```

<div id="comment:116" align="right">comment:116</div>

> Wow, I really appreciate the way you talk about my work :-)
> If you cared to look at the diff of my changes to ve you could have seen the changes done in full glory, OK? 
> https://github.com/gap-packages/ve/commits/master

Sorry. I went to https://github.com/gap-packages/ve and used the option "download zip"
and did not see that many changes. Either you changes are quite old (several years ago) and I already got them without noticing, or I did something wrong. Anyway, please stick to technical points.

> Whereas your GAP3 code would just work in GAP4, with very minimal and trivial changes.

No. But if you think otherwise, just do some non-trivial example and show me.



---

archive/issue_comments_288549.json:
```json
{
    "body": "<div id=\"comment:117\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6e599cf4dfb0696fa238f0f77e447b54452bf73b\"><code>6e599cf</code></a></td><td><code>renamed optional package to experimental package in interfaces/gap3.py</code></td></tr></table>\n",
    "created_at": "2016-03-26T07:50:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288549",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:117"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6e599cf4dfb0696fa238f0f77e447b54452bf73b"><code>6e599cf</code></a></td><td><code>renamed optional package to experimental package in interfaces/gap3.py</code></td></tr></table>




---

archive/issue_comments_288550.json:
```json
{
    "body": "Changed commit from **[`ec01e30`](https://github.com/sagemath/sagetrac-mirror/commit/ec01e305ae9dd29b90234183ad7b309172646ea6)** to **[`6e599cf`](https://github.com/sagemath/sagetrac-mirror/commit/6e599cf4dfb0696fa238f0f77e447b54452bf73b)**",
    "created_at": "2016-03-26T07:50:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288550",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ec01e30`](https://github.com/sagemath/sagetrac-mirror/commit/ec01e305ae9dd29b90234183ad7b309172646ea6)** to **[`6e599cf`](https://github.com/sagemath/sagetrac-mirror/commit/6e599cf4dfb0696fa238f0f77e447b54452bf73b)**



---

archive/issue_comments_288551.json:
```json
{
    "body": "Changed keywords from **gap3, optional package** to **gap3, experimental package**",
    "created_at": "2016-03-26T08:00:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288551",
    "user": "https://github.com/stumpc5"
}
```

Changed keywords from **gap3, optional package** to **gap3, experimental package**



---

archive/issue_events_281497.json:
```json
{
    "actor": "https://github.com/stumpc5",
    "created_at": "2016-03-26T08:00:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20107#event-281497"
}
```



---

archive/issue_events_281498.json:
```json
{
    "actor": "https://github.com/stumpc5",
    "created_at": "2016-03-26T08:00:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20107#event-281498"
}
```



---

archive/issue_events_281499.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-03-26T12:39:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20107#event-281499"
}
```



---

archive/issue_events_281500.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-03-26T12:39:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20107#event-281500"
}
```



---

archive/issue_comments_288552.json:
```json
{
    "body": "<div id=\"comment:119\" align=\"right\">comment:119</div>\n\n1. [comment:92]\n\n2. In the documentation, use `:trac:`20107` instead of `#20107`.",
    "created_at": "2016-03-26T12:39:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288552",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:119" align="right">comment:119</div>

1. [comment:92]

2. In the documentation, use `:trac:`20107` instead of `#20107`.



---

archive/issue_comments_288553.json:
```json
{
    "body": "Changed commit from **[`6e599cf`](https://github.com/sagemath/sagetrac-mirror/commit/6e599cf4dfb0696fa238f0f77e447b54452bf73b)** to **[`38dbd60`](https://github.com/sagemath/sagetrac-mirror/commit/38dbd60fd7ed001373f87835cb1984e555fd3611)**",
    "created_at": "2016-03-26T14:02:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288553",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6e599cf`](https://github.com/sagemath/sagetrac-mirror/commit/6e599cf4dfb0696fa238f0f77e447b54452bf73b)** to **[`38dbd60`](https://github.com/sagemath/sagetrac-mirror/commit/38dbd60fd7ed001373f87835cb1984e555fd3611)**



---

archive/issue_comments_288554.json:
```json
{
    "body": "<div id=\"comment:120\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1583f990133ddb7f71ca46876a73653d832b8a2d\"><code>1583f99</code></a></td><td><code>replaced #20107 by :trac:20107</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/38dbd60fd7ed001373f87835cb1984e555fd3611\"><code>38dbd60</code></a></td><td><code>replaced optional chevie by optional gap3 in combinat/root_system/coxeter_group.py</code></td></tr></table>\n",
    "created_at": "2016-03-26T14:02:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288554",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:120"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1583f990133ddb7f71ca46876a73653d832b8a2d"><code>1583f99</code></a></td><td><code>replaced #20107 by :trac:20107</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/38dbd60fd7ed001373f87835cb1984e555fd3611"><code>38dbd60</code></a></td><td><code>replaced optional chevie by optional gap3 in combinat/root_system/coxeter_group.py</code></td></tr></table>




---

archive/issue_comments_288555.json:
```json
{
    "body": "<div id=\"comment:121\" align=\"right\">comment:121</div>\n\nReplying to [@jdemeyer](#comment%3A119):\n> 1. [comment:92]\n\nI didn't realize you want me to do this also in ` combinat/root_system/coxeter_group.py`. Done now...\n\n> 2. In the documentation, use `:trac:`20107` instead of `#20107`.\n\nFixed.",
    "created_at": "2016-03-26T14:03:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288555",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:121" align="right">comment:121</div>

Replying to [@jdemeyer](#comment%3A119):
> 1. [comment:92]

I didn't realize you want me to do this also in ` combinat/root_system/coxeter_group.py`. Done now...

> 2. In the documentation, use `:trac:`20107` instead of `#20107`.

Fixed.



---

archive/issue_events_281501.json:
```json
{
    "actor": "https://github.com/stumpc5",
    "created_at": "2016-03-26T14:03:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20107#event-281501"
}
```



---

archive/issue_events_281502.json:
```json
{
    "actor": "https://github.com/stumpc5",
    "created_at": "2016-03-26T14:03:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20107#event-281502"
}
```



---

archive/issue_comments_288556.json:
```json
{
    "body": "<div id=\"comment:122\" align=\"right\">comment:122</div>\n\nJust to quickly recheck: is there anything else I should prepare to get this ticket a positive review?",
    "created_at": "2016-03-30T11:42:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288556",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:122" align="right">comment:122</div>

Just to quickly recheck: is there anything else I should prepare to get this ticket a positive review?



---

archive/issue_events_281503.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2016-03-30T13:51:32Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "milestone_number": null,
    "milestone_title": "sage-7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20107#event-281503"
}
```



---

archive/issue_events_281504.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2016-03-30T13:51:32Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "milestone_number": null,
    "milestone_title": "sage-7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20107#event-281504"
}
```



---

archive/issue_comments_288557.json:
```json
{
    "body": "<div id=\"comment:123\" align=\"right\">comment:123</div>\n\nAbout packages that need to be built:\nthese ones which are pretty useless without this ought to be just removed.",
    "created_at": "2016-03-30T13:51:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288557",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:123" align="right">comment:123</div>

About packages that need to be built:
these ones which are pretty useless without this ought to be just removed.



---

archive/issue_comments_288558.json:
```json
{
    "body": "<div id=\"comment:124\" align=\"right\">comment:124</div>\n\nstill does not install on OSX:\n\n```\n###########################################################\n#  Building complete, you can run GAP3 from './../bin/gap3'\n###########################################################\nInstalling (copying) files...\ncp: gap3/pkg/ve/bin/me.exe: No such file or directory\ncp: gap3/pkg/ve/bin/qme.exe: No such file or directory\nError installing (copying) gap3 files.\n\nreal\t0m18.661s\nuser\t0m26.515s\nsys\t0m2.467s\n************************************************************************\nError installing package gap3-jm5-2015-02-01\n```",
    "created_at": "2016-03-30T13:58:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288558",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:124" align="right">comment:124</div>

still does not install on OSX:

```
###########################################################
#  Building complete, you can run GAP3 from './../bin/gap3'
###########################################################
Installing (copying) files...
cp: gap3/pkg/ve/bin/me.exe: No such file or directory
cp: gap3/pkg/ve/bin/qme.exe: No such file or directory
Error installing (copying) gap3 files.

real	0m18.661s
user	0m26.515s
sys	0m2.467s
************************************************************************
Error installing package gap3-jm5-2015-02-01
```



---

archive/issue_comments_288559.json:
```json
{
    "body": "<div id=\"comment:125\" align=\"right\">comment:125</div>\n\nReplying to [@sagetrac-jmichel](#comment%3A116):\n> \n>  \n> > Wow, I really appreciate the way you talk about my work :-)\n> > If you cared to look at the diff of my changes to ve you could have seen the changes done in full glory, OK? \n> > https://github.com/gap-packages/ve/commits/master\n> \n> \n> Sorry. I went to https://github.com/gap-packages/ve and used the option \"download zip\"\n> and did not see that many changes. Either you changes are quite old (several years ago) and I already got them without noticing, or I did something wrong. Anyway, please stick to technical points.\n> \n> > Whereas your GAP3 code would just work in GAP4, with very minimal and trivial changes.\n> \n> \n> No. But if you think otherwise, just do some non-trivial example and show me.\n\nEarlier releases of GAP4 had GAP3 compatibility modes (a choice of various options).\nDid you try any of these?",
    "created_at": "2016-03-30T14:02:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288559",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:125" align="right">comment:125</div>

Replying to [@sagetrac-jmichel](#comment%3A116):
> 
>  
> > Wow, I really appreciate the way you talk about my work :-)
> > If you cared to look at the diff of my changes to ve you could have seen the changes done in full glory, OK? 
> > https://github.com/gap-packages/ve/commits/master
> 
> 
> Sorry. I went to https://github.com/gap-packages/ve and used the option "download zip"
> and did not see that many changes. Either you changes are quite old (several years ago) and I already got them without noticing, or I did something wrong. Anyway, please stick to technical points.
> 
> > Whereas your GAP3 code would just work in GAP4, with very minimal and trivial changes.
> 
> 
> No. But if you think otherwise, just do some non-trivial example and show me.

Earlier releases of GAP4 had GAP3 compatibility modes (a choice of various options).
Did you try any of these?



---

archive/issue_comments_288560.json:
```json
{
    "body": "<div id=\"comment:126\" align=\"right\">comment:126</div>\n\nReplying to [@dimpase](#comment%3A123):\n> About packages that need to be built:\n> these ones which are pretty useless without this ought to be just removed.\n\nJean, it is okay to comment out the lines\n\n```\n#RequirePackage(\"anusq\");\n#RequirePackage(\"arep\");\n#RequirePackage(\"meataxe\");\n#RequirePackage(\"nq\");\n#RequirePackage(\"sisyphos\");\n#RequirePackage(\"ve\");\n```\nin `init.g` and delete those folders in `gap3/pkg`, without getting into any trouble for `chevie`?\n\nOtherwise, I could also try to build those packages that needs compilation, but already `meataxe` failed on a first try.",
    "created_at": "2016-03-30T14:36:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288560",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:126" align="right">comment:126</div>

Replying to [@dimpase](#comment%3A123):
> About packages that need to be built:
> these ones which are pretty useless without this ought to be just removed.

Jean, it is okay to comment out the lines

```
#RequirePackage("anusq");
#RequirePackage("arep");
#RequirePackage("meataxe");
#RequirePackage("nq");
#RequirePackage("sisyphos");
#RequirePackage("ve");
```
in `init.g` and delete those folders in `gap3/pkg`, without getting into any trouble for `chevie`?

Otherwise, I could also try to build those packages that needs compilation, but already `meataxe` failed on a first try.



---

archive/issue_comments_288561.json:
```json
{
    "body": "<div id=\"comment:127\" align=\"right\">comment:127</div>\n\n> Jean, it is okay to comment out the lines\n> \n> ```\n> #RequirePackage(\"anusq\");\n> #RequirePackage(\"arep\");\n> #RequirePackage(\"meataxe\");\n> #RequirePackage(\"nq\");\n> #RequirePackage(\"sisyphos\");\n> #RequirePackage(\"ve\");\n> ```\n> in `init.g` and delete those folders in `gap3/pkg}}, without getting into any trouble for {{{chevie`?\n> \n> Otherwise, I could also try to build those packages that needs compilation, but already `meataxe` failed on a first try.\n\nYou can comment out all of them but arep.g\nThe function MovedPointsPerm defined in arep/lib/tools.g is used in various places including chevie. \n\nGenerally speaking, arep has some functionality which does not need its binaries. You could delete the subdirectories bin and src of arep if you keep the rest.\n\nIn the version I am preparing (complete gap3 distribution), I will make sure all included packages can be compiled\nand work on x86 64bits at least.",
    "created_at": "2016-03-30T14:54:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288561",
    "user": "https://github.com/sagetrac-jmichel"
}
```

<div id="comment:127" align="right">comment:127</div>

> Jean, it is okay to comment out the lines
> 
> ```
> #RequirePackage("anusq");
> #RequirePackage("arep");
> #RequirePackage("meataxe");
> #RequirePackage("nq");
> #RequirePackage("sisyphos");
> #RequirePackage("ve");
> ```
> in `init.g` and delete those folders in `gap3/pkg}}, without getting into any trouble for {{{chevie`?
> 
> Otherwise, I could also try to build those packages that needs compilation, but already `meataxe` failed on a first try.

You can comment out all of them but arep.g
The function MovedPointsPerm defined in arep/lib/tools.g is used in various places including chevie. 

Generally speaking, arep has some functionality which does not need its binaries. You could delete the subdirectories bin and src of arep if you keep the rest.

In the version I am preparing (complete gap3 distribution), I will make sure all included packages can be compiled
and work on x86 64bits at least.



---

archive/issue_comments_288562.json:
```json
{
    "body": "<div id=\"comment:128\" align=\"right\">comment:128</div>\n\n> Earlier releases of GAP4 had GAP3 compatibility modes (a choice of various options).\n> Did you try any of these?\n\nOf course. They do not deal at all with the operations records which is the crux of the matter.",
    "created_at": "2016-03-30T14:58:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288562",
    "user": "https://github.com/sagetrac-jmichel"
}
```

<div id="comment:128" align="right">comment:128</div>

> Earlier releases of GAP4 had GAP3 compatibility modes (a choice of various options).
> Did you try any of these?

Of course. They do not deal at all with the operations records which is the crux of the matter.



---

archive/issue_comments_288563.json:
```json
{
    "body": "Changed commit from **[`38dbd60`](https://github.com/sagemath/sagetrac-mirror/commit/38dbd60fd7ed001373f87835cb1984e555fd3611)** to **[`7696a2c`](https://github.com/sagemath/sagetrac-mirror/commit/7696a2c230b60911e5a71e4790fc0428df63b7b1)**",
    "created_at": "2016-03-30T16:08:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288563",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`38dbd60`](https://github.com/sagemath/sagetrac-mirror/commit/38dbd60fd7ed001373f87835cb1984e555fd3611)** to **[`7696a2c`](https://github.com/sagemath/sagetrac-mirror/commit/7696a2c230b60911e5a71e4790fc0428df63b7b1)**



---

archive/issue_comments_288564.json:
```json
{
    "body": "<div id=\"comment:129\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d4f3a1d116cd5ba48968bd9e9437bcf537bc6206\"><code>d4f3a1d</code></a></td><td><code>updated the spkg-src to delete gap3 packages that need compilation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7696a2c230b60911e5a71e4790fc0428df63b7b1\"><code>7696a2c</code></a></td><td><code>added patch for init.g and fixed typo in patch for gap.sh</code></td></tr></table>\n",
    "created_at": "2016-03-30T16:08:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288564",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:129"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d4f3a1d116cd5ba48968bd9e9437bcf537bc6206"><code>d4f3a1d</code></a></td><td><code>updated the spkg-src to delete gap3 packages that need compilation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7696a2c230b60911e5a71e4790fc0428df63b7b1"><code>7696a2c</code></a></td><td><code>added patch for init.g and fixed typo in patch for gap.sh</code></td></tr></table>




---

archive/issue_comments_288565.json:
```json
{
    "body": "<div id=\"comment:130\" align=\"right\">comment:130</div>\n\nDima, thanks for checking!\n\nI deleted all packages that need compilation. This solved your request on this behalf.\n\nI would appreciate if you could retry to build it on OSX (don't forget to download the new tarball first); at least the two broken symlinks\n\n```\ncp: gap3/pkg/ve/bin/me.exe: No such file or directory\ncp: gap3/pkg/ve/bin/qme.exe: No such file or directory\n```\nare now gone together with the complete package.",
    "created_at": "2016-03-30T16:14:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288565",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:130" align="right">comment:130</div>

Dima, thanks for checking!

I deleted all packages that need compilation. This solved your request on this behalf.

I would appreciate if you could retry to build it on OSX (don't forget to download the new tarball first); at least the two broken symlinks

```
cp: gap3/pkg/ve/bin/me.exe: No such file or directory
cp: gap3/pkg/ve/bin/qme.exe: No such file or directory
```
are now gone together with the complete package.



---

archive/issue_comments_288566.json:
```json
{
    "body": "Changed commit from **[`7696a2c`](https://github.com/sagemath/sagetrac-mirror/commit/7696a2c230b60911e5a71e4790fc0428df63b7b1)** to **[`3d123df`](https://github.com/sagemath/sagetrac-mirror/commit/3d123df061d778a1666f6d2055fc3960b65b8c93)**",
    "created_at": "2016-04-02T15:57:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288566",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7696a2c`](https://github.com/sagemath/sagetrac-mirror/commit/7696a2c230b60911e5a71e4790fc0428df63b7b1)** to **[`3d123df`](https://github.com/sagemath/sagetrac-mirror/commit/3d123df061d778a1666f6d2055fc3960b65b8c93)**



---

archive/issue_comments_288567.json:
```json
{
    "body": "<div id=\"comment:131\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3d123df061d778a1666f6d2055fc3960b65b8c93\"><code>3d123df</code></a></td><td><code>merged 20107 to the newest develop</code></td></tr></table>\n",
    "created_at": "2016-04-02T15:57:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288567",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:131"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3d123df061d778a1666f6d2055fc3960b65b8c93"><code>3d123df</code></a></td><td><code>merged 20107 to the newest develop</code></td></tr></table>




---

archive/issue_comments_288568.json:
```json
{
    "body": "<div id=\"comment:132\" align=\"right\">comment:132</div>\n\nit does not fly on OSX:\n\n```\nsage: gap3_console()\n             ########            Lehrstuhl D fuer Mathematik, RWTH Aachen\n           ###    ####             #######            #########          \n          ##         ##           #      ##          ## #     ##         \n         ##          #           #       ##             #      ##        \n        ##                       ##       #             #      ##        \n        ##           #           ##      ##             ##    ##         \n        ####        ##            #########             #######          \n         #####     ###                                  #                \n           ######### #  Version 3 Release 4.4 18 Apr 97 #                \n                     #                                  #                \n                    ##  Alice Niemeyer, Werner Nickel,  Martin Schoenert \n                   ###  Johannes Meier, Alex Wegner,    Thomas Bischops  \n                  ## #  Frank Celler,   Juergen Mnich,  Udo Polis        \n                 ##  #  Thomas Breuer,  Goetz Pfeiffer, Hans U. Besche   \n                ##   #  Volkmar Felsch, Heiko Theissen, Alexander Hulpke \n               ##    #  Ansgar Kaup,    Akos Seress,    Erzsebet Horvath \n              ##     #  Bettina Eick                                     \n              ###   ##  \n               ######   For help enter: ?<return>                        \n lib: jm 12Mar2016, src: jm 28Feb2015, sys: macosx gcc\n gap3-jm5 final 21Mar2016 -- see webusers.imj-prg.fr/~jmichel/gap3\n Minimal distribution -- loading the following packages:\n--- Loading package arep --------- version 1.0, 16Mar1998--------------------\n(C) Sebastian Egner, Markus Pueschel -- Abstract REPresentations\n--- Loading package autag -------- version Jan1997---------------------------\nGasman: last bag of type integer (> 2^28) and size       16 has overwritten the free bag.\nsage: \n```",
    "created_at": "2016-04-02T20:05:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288568",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:132" align="right">comment:132</div>

it does not fly on OSX:

```
sage: gap3_console()
             ########            Lehrstuhl D fuer Mathematik, RWTH Aachen
           ###    ####             #######            #########          
          ##         ##           #      ##          ## #     ##         
         ##          #           #       ##             #      ##        
        ##                       ##       #             #      ##        
        ##           #           ##      ##             ##    ##         
        ####        ##            #########             #######          
         #####     ###                                  #                
           ######### #  Version 3 Release 4.4 18 Apr 97 #                
                     #                                  #                
                    ##  Alice Niemeyer, Werner Nickel,  Martin Schoenert 
                   ###  Johannes Meier, Alex Wegner,    Thomas Bischops  
                  ## #  Frank Celler,   Juergen Mnich,  Udo Polis        
                 ##  #  Thomas Breuer,  Goetz Pfeiffer, Hans U. Besche   
                ##   #  Volkmar Felsch, Heiko Theissen, Alexander Hulpke 
               ##    #  Ansgar Kaup,    Akos Seress,    Erzsebet Horvath 
              ##     #  Bettina Eick                                     
              ###   ##  
               ######   For help enter: ?<return>                        
 lib: jm 12Mar2016, src: jm 28Feb2015, sys: macosx gcc
 gap3-jm5 final 21Mar2016 -- see webusers.imj-prg.fr/~jmichel/gap3
 Minimal distribution -- loading the following packages:
--- Loading package arep --------- version 1.0, 16Mar1998--------------------
(C) Sebastian Egner, Markus Pueschel -- Abstract REPresentations
--- Loading package autag -------- version Jan1997---------------------------
Gasman: last bag of type integer (> 2^28) and size       16 has overwritten the free bag.
sage: 
```



---

archive/issue_comments_288569.json:
```json
{
    "body": "Changed branch from **[u/stumpc5/20107](https://github.com/sagemath/sagetrac-mirror/tree/u/stumpc5/20107)** to **[public/20107](https://github.com/sagemath/sagetrac-mirror/tree/public/20107)**",
    "created_at": "2016-04-02T23:16:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288569",
    "user": "https://github.com/dimpase"
}
```

Changed branch from **[u/stumpc5/20107](https://github.com/sagemath/sagetrac-mirror/tree/u/stumpc5/20107)** to **[public/20107](https://github.com/sagemath/sagetrac-mirror/tree/public/20107)**



---

archive/issue_comments_288570.json:
```json
{
    "body": "<div id=\"comment:133\" align=\"right\">comment:133</div>\n\nThe reason for this must be that the flag  `-DSYS_IS_64_BIT` is not passed during compilation on OSX. Indeed, `gap3_makefile.patch` has no `ifeq ($(ARCH),64/32)` block for `Darwin`. Fixed in this branch.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f5cdde23ee7c44b2a15cd1b6c2511dfe1ad55843\"><code>f5cdde2</code></a></td><td><code>correct options for OSX make targets</code></td></tr></table>\n",
    "created_at": "2016-04-02T23:16:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288570",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:133" align="right">comment:133</div>

The reason for this must be that the flag  `-DSYS_IS_64_BIT` is not passed during compilation on OSX. Indeed, `gap3_makefile.patch` has no `ifeq ($(ARCH),64/32)` block for `Darwin`. Fixed in this branch.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f5cdde23ee7c44b2a15cd1b6c2511dfe1ad55843"><code>f5cdde2</code></a></td><td><code>correct options for OSX make targets</code></td></tr></table>




---

archive/issue_comments_288571.json:
```json
{
    "body": "Changed commit from **[`3d123df`](https://github.com/sagemath/sagetrac-mirror/commit/3d123df061d778a1666f6d2055fc3960b65b8c93)** to **[`f5cdde2`](https://github.com/sagemath/sagetrac-mirror/commit/f5cdde23ee7c44b2a15cd1b6c2511dfe1ad55843)**",
    "created_at": "2016-04-02T23:16:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288571",
    "user": "https://github.com/dimpase"
}
```

Changed commit from **[`3d123df`](https://github.com/sagemath/sagetrac-mirror/commit/3d123df061d778a1666f6d2055fc3960b65b8c93)** to **[`f5cdde2`](https://github.com/sagemath/sagetrac-mirror/commit/f5cdde23ee7c44b2a15cd1b6c2511dfe1ad55843)**



---

archive/issue_comments_288572.json:
```json
{
    "body": "<div id=\"comment:134\" align=\"right\">comment:134</div>\n\nalso, is this meant to fail:\n\n```\n$ sage -tp --optional=ccache,gap_packages,mpir,python2,gap3,sage src/sage/combinat/root_system/coxeter_group.py \ntoo few successful tests, not using stored timings\nRunning doctests with ID 2016-04-03-00-22-03-2f808575.\nGit branch: g3\nUsing --optional=ccache,gap3,gap_packages,mpir,python2,sage\nDoctesting 1 file using 4 threads.\nsage -t src/sage/combinat/root_system/coxeter_group.py\n**********************************************************************\nFile \"src/sage/combinat/root_system/coxeter_group.py\", line 226, in sage.combinat.root_system.coxeter_group.CoxeterGroupAsPermutationGroup._element_class\nFailed example:\n    W._element_class() is W.element_class                      # optional - gap3\nException raised:\n    Traceback (most recent call last):\n      File \"/home/dima/software/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/dima/software/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.combinat.root_system.coxeter_group.CoxeterGroupAsPermutationGroup._element_class[1]>\", line 1, in <module>\n        W._element_class() is W.element_class                      # optional - gap3\n      File \"sage/structure/parent.pyx\", line 854, in sage.structure.parent.Parent.__getattr__ (build/cythonized/sage/structure/parent.c:7994)\n        attr = getattr_from_other_class(self, self._category.parent_class, name)\n      File \"sage/structure/misc.pyx\", line 253, in sage.structure.misc.getattr_from_other_class (build/cythonized/sage/structure/misc.c:1666)\n        raise dummy_attribute_error\n    AttributeError: 'CoxeterMatrixGroup_with_category' object has no attribute '_element_class'\n**********************************************************************\n1 item had failures:\n   1 of   3 in sage.combinat.root_system.coxeter_group.CoxeterGroupAsPermutationGroup._element_class\n    [53 tests, 1 failure, 3.95 s]\n----------------------------------------------------------------------\nsage -t src/sage/combinat/root_system/coxeter_group.py  # 1 doctest failed\n----------------------------------------------------------------------\nTotal time for all tests: 13.2 seconds\n    cpu time: 0.8 seconds\n    cumulative wall time: 3.9 seconds\n```",
    "created_at": "2016-04-02T23:23:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288572",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:134" align="right">comment:134</div>

also, is this meant to fail:

```
$ sage -tp --optional=ccache,gap_packages,mpir,python2,gap3,sage src/sage/combinat/root_system/coxeter_group.py 
too few successful tests, not using stored timings
Running doctests with ID 2016-04-03-00-22-03-2f808575.
Git branch: g3
Using --optional=ccache,gap3,gap_packages,mpir,python2,sage
Doctesting 1 file using 4 threads.
sage -t src/sage/combinat/root_system/coxeter_group.py
**********************************************************************
File "src/sage/combinat/root_system/coxeter_group.py", line 226, in sage.combinat.root_system.coxeter_group.CoxeterGroupAsPermutationGroup._element_class
Failed example:
    W._element_class() is W.element_class                      # optional - gap3
Exception raised:
    Traceback (most recent call last):
      File "/home/dima/software/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/dima/software/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.combinat.root_system.coxeter_group.CoxeterGroupAsPermutationGroup._element_class[1]>", line 1, in <module>
        W._element_class() is W.element_class                      # optional - gap3
      File "sage/structure/parent.pyx", line 854, in sage.structure.parent.Parent.__getattr__ (build/cythonized/sage/structure/parent.c:7994)
        attr = getattr_from_other_class(self, self._category.parent_class, name)
      File "sage/structure/misc.pyx", line 253, in sage.structure.misc.getattr_from_other_class (build/cythonized/sage/structure/misc.c:1666)
        raise dummy_attribute_error
    AttributeError: 'CoxeterMatrixGroup_with_category' object has no attribute '_element_class'
**********************************************************************
1 item had failures:
   1 of   3 in sage.combinat.root_system.coxeter_group.CoxeterGroupAsPermutationGroup._element_class
    [53 tests, 1 failure, 3.95 s]
----------------------------------------------------------------------
sage -t src/sage/combinat/root_system/coxeter_group.py  # 1 doctest failed
----------------------------------------------------------------------
Total time for all tests: 13.2 seconds
    cpu time: 0.8 seconds
    cumulative wall time: 3.9 seconds
```



---

archive/issue_comments_288573.json:
```json
{
    "body": "<div id=\"comment:135\" align=\"right\">comment:135</div>\n\nReplying to [@dimpase](#comment%3A134):\n\nThanks for rechecking and for fixing the make target for osx!\n\n```\n----------------------------------------------------------------------\nsage -t src/sage/combinat/root_system/coxeter_group.py  # 1 doctest failed\n----------------------------------------------------------------------\n```\nI doubt this worked before, I only replaced `# optional - chevie` by `# optional - gap3`. It has been there since 2013:\n\n```\n$ git blame -L220,+10 src/sage/combinat/root_system/coxeter_group.py\ndb0cda35 (Anne Schilling 2013-01-22 15:31:57 -0800 220)         A temporary workaround for compatibility with Sage's\ndb0cda35 (Anne Schilling 2013-01-22 15:31:57 -0800 221)         permutation groups\ndb0cda35 (Anne Schilling 2013-01-22 15:31:57 -0800 222) \ndb0cda35 (Anne Schilling 2013-01-22 15:31:57 -0800 223)         TESTS::\ndb0cda35 (Anne Schilling 2013-01-22 15:31:57 -0800 224) \n1452e665 (Jeroen Demeyer 2013-03-02 13:53:59 +0100 225)             sage: W = CoxeterGroup([\"H\",3])                                  # optional - chevi\n1452e665 (Jeroen Demeyer 2013-03-02 13:53:59 +0100 226)             sage: W._element_class() is W.element_class                      # optional - chevi\ndb0cda35 (Anne Schilling 2013-01-22 15:31:57 -0800 227)             True\ndb0cda35 (Anne Schilling 2013-01-22 15:31:57 -0800 228)         \"\"\"\ndb0cda35 (Anne Schilling 2013-01-22 15:31:57 -0800 229)         return self.element_class\n```\nGetting this properly working will be part of our *finally-get-reflection-groups-smoothly-in-sage-days next week*.",
    "created_at": "2016-04-03T07:57:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288573",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:135" align="right">comment:135</div>

Replying to [@dimpase](#comment%3A134):

Thanks for rechecking and for fixing the make target for osx!

```
----------------------------------------------------------------------
sage -t src/sage/combinat/root_system/coxeter_group.py  # 1 doctest failed
----------------------------------------------------------------------
```
I doubt this worked before, I only replaced `# optional - chevie` by `# optional - gap3`. It has been there since 2013:

```
$ git blame -L220,+10 src/sage/combinat/root_system/coxeter_group.py
db0cda35 (Anne Schilling 2013-01-22 15:31:57 -0800 220)         A temporary workaround for compatibility with Sage's
db0cda35 (Anne Schilling 2013-01-22 15:31:57 -0800 221)         permutation groups
db0cda35 (Anne Schilling 2013-01-22 15:31:57 -0800 222) 
db0cda35 (Anne Schilling 2013-01-22 15:31:57 -0800 223)         TESTS::
db0cda35 (Anne Schilling 2013-01-22 15:31:57 -0800 224) 
1452e665 (Jeroen Demeyer 2013-03-02 13:53:59 +0100 225)             sage: W = CoxeterGroup(["H",3])                                  # optional - chevi
1452e665 (Jeroen Demeyer 2013-03-02 13:53:59 +0100 226)             sage: W._element_class() is W.element_class                      # optional - chevi
db0cda35 (Anne Schilling 2013-01-22 15:31:57 -0800 227)             True
db0cda35 (Anne Schilling 2013-01-22 15:31:57 -0800 228)         """
db0cda35 (Anne Schilling 2013-01-22 15:31:57 -0800 229)         return self.element_class
```
Getting this properly working will be part of our *finally-get-reflection-groups-smoothly-in-sage-days next week*.



---

archive/issue_comments_288574.json:
```json
{
    "body": "Changed commit from **[`f5cdde2`](https://github.com/sagemath/sagetrac-mirror/commit/f5cdde23ee7c44b2a15cd1b6c2511dfe1ad55843)** to **[`a0d0e18`](https://github.com/sagemath/sagetrac-mirror/commit/a0d0e1814a40bccbdaa2914496d684ebf5cf63e2)**",
    "created_at": "2016-04-03T14:29:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288574",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f5cdde2`](https://github.com/sagemath/sagetrac-mirror/commit/f5cdde23ee7c44b2a15cd1b6c2511dfe1ad55843)** to **[`a0d0e18`](https://github.com/sagemath/sagetrac-mirror/commit/a0d0e1814a40bccbdaa2914496d684ebf5cf63e2)**



---

archive/issue_comments_288575.json:
```json
{
    "body": "<div id=\"comment:136\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a0d0e1814a40bccbdaa2914496d684ebf5cf63e2\"><code>a0d0e18</code></a></td><td><code>3 trivial doctest fixes</code></td></tr></table>\n",
    "created_at": "2016-04-03T14:29:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288575",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:136"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a0d0e1814a40bccbdaa2914496d684ebf5cf63e2"><code>a0d0e18</code></a></td><td><code>3 trivial doctest fixes</code></td></tr></table>




---

archive/issue_comments_288576.json:
```json
{
    "body": "Reviewer: **Jeroen Demeyer, Dima Pasechnik**",
    "created_at": "2016-04-03T14:32:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288576",
    "user": "https://github.com/dimpase"
}
```

Reviewer: **Jeroen Demeyer, Dima Pasechnik**



---

archive/issue_events_281505.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2016-04-03T14:32:28Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "title_is": "Add experimental gap3_jm package",
    "title_was": "Add optional gap3_jm package",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20107#event-281505"
}
```



---

archive/issue_events_281506.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2016-04-03T14:32:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20107#event-281506"
}
```



---

archive/issue_events_281507.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2016-04-03T14:32:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20107#event-281507"
}
```



---

archive/issue_comments_288577.json:
```json
{
    "body": "<div id=\"comment:138\" align=\"right\">comment:138</div>\n\nMany thanks to both of you for your reviewing work on this ticket!",
    "created_at": "2016-04-04T07:14:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288577",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:138" align="right">comment:138</div>

Many thanks to both of you for your reviewing work on this ticket!



---

archive/issue_comments_288578.json:
```json
{
    "body": "<div id=\"comment:139\" align=\"right\">comment:139</div>\n\nReplying to [@stumpc5](#comment%3A135):\n> I doubt this worked before, I only replaced `# optional - chevie` by `# optional - gap3`.\n\nExactly. This ticket is not about fixing all doctests, just about adding the package.",
    "created_at": "2016-04-04T11:09:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288578",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:139" align="right">comment:139</div>

Replying to [@stumpc5](#comment%3A135):
> I doubt this worked before, I only replaced `# optional - chevie` by `# optional - gap3`.

Exactly. This ticket is not about fixing all doctests, just about adding the package.



---

archive/issue_comments_288579.json:
```json
{
    "body": "Changed branch from **[public/20107](https://github.com/sagemath/sagetrac-mirror/tree/public/20107)** to **[`a0d0e18`](https://github.com/sagemath/sagetrac-mirror/commit/a0d0e1814a40bccbdaa2914496d684ebf5cf63e2)**",
    "created_at": "2016-04-04T21:32:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288579",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/20107](https://github.com/sagemath/sagetrac-mirror/tree/public/20107)** to **[`a0d0e18`](https://github.com/sagemath/sagetrac-mirror/commit/a0d0e1814a40bccbdaa2914496d684ebf5cf63e2)**



---

archive/issue_events_281508.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-04-04T21:32:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20107#event-281508"
}
```



---

archive/issue_events_281509.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "3d040e8507fec0e607d49a9336a218f2c278adc2",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-04-04T21:32:53Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20107#event-281509"
}
```



---

archive/issue_comments_288580.json:
```json
{
    "body": "Changed commit from **[`a0d0e18`](https://github.com/sagemath/sagetrac-mirror/commit/a0d0e1814a40bccbdaa2914496d684ebf5cf63e2)** to none",
    "created_at": "2016-10-18T14:50:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288580",
    "user": "https://github.com/jdemeyer"
}
```

Changed commit from **[`a0d0e18`](https://github.com/sagemath/sagetrac-mirror/commit/a0d0e1814a40bccbdaa2914496d684ebf5cf63e2)** to none



---

archive/issue_comments_288581.json:
```json
{
    "body": "<div id=\"comment:141\" align=\"right\">comment:141</div>\n\n`gap3` is currently broken: #21722",
    "created_at": "2016-10-18T14:50:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20107",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20107#issuecomment-288581",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:141" align="right">comment:141</div>

`gap3` is currently broken: #21722
