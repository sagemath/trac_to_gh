# Issue 20009: string monoid class one not defined

archive/issues_019772.json:
```json
{
    "body": "From [this ask.sagemath question](http://ask.sagemath.org/question/32438/string-monoid-class-should-define-one/):\n\n```\nsage: BinaryStrings().one()\n\nTypeError: Argument x (= 1) is of the wrong type.\n```\n\nBranch/Commit: e319260ec07497b3b3d3276be16131edb3b50ece\n\nReviewer: Karl-Dieter Crisman, Thierry Monteil\n\nAuthor: Karan Desai\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/20009\n\n",
    "closed_at": "2016-02-13T23:56:09Z",
    "created_at": "2016-02-04T13:46:08Z",
    "labels": [
        "component: algebra"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.1",
    "title": "string monoid class one not defined",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20009",
    "user": "https://github.com/kcrisman"
}
```
From [this ask.sagemath question](http://ask.sagemath.org/question/32438/string-monoid-class-should-define-one/):

```
sage: BinaryStrings().one()

TypeError: Argument x (= 1) is of the wrong type.
```

Branch/Commit: e319260ec07497b3b3d3276be16131edb3b50ece

Reviewer: Karl-Dieter Crisman, Thierry Monteil

Author: Karan Desai

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/20009





---

archive/issue_comments_289100.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-02-04T16:07:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20009#issuecomment-289100",
    "user": "https://github.com/karandesai-96"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_289101.json:
```json
{
    "body": "<a id='comment:3'></a>Hi `@`kcrisman\nDoes my commit serve the purpose ?",
    "created_at": "2016-02-04T16:10:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20009#issuecomment-289101",
    "user": "https://github.com/karandesai-96"
}
```

<a id='comment:3'></a>Hi `@`kcrisman
Does my commit serve the purpose ?



---

archive/issue_comments_289102.json:
```json
{
    "body": "<a id='comment:5'></a>Looks good to me, but I'm not an expert in such things so I'll let those who are give the final review.  I will say that you need a docstring and examples...\n\n---\nNew commits:",
    "created_at": "2016-02-04T16:52:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20009#issuecomment-289102",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:5'></a>Looks good to me, but I'm not an expert in such things so I'll let those who are give the final review.  I will say that you need a docstring and examples...

---
New commits:



---

archive/issue_comments_289103.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-02-04T22:22:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20009#issuecomment-289103",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_289104.json:
```json
{
    "body": "<a id='comment:6'></a>`BinaryStrings().one()` should be an element of `BinaryStrings()`, not a Python string. Indeed, you want to be able to write things like:\n\n```\nsage: b = BinaryStrings()\nsage: b.one() * b(\"101\") == b(\"101\")\nTrue\n```",
    "created_at": "2016-02-04T22:22:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20009#issuecomment-289104",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:6'></a>`BinaryStrings().one()` should be an element of `BinaryStrings()`, not a Python string. Indeed, you want to be able to write things like:

```
sage: b = BinaryStrings()
sage: b.one() * b("101") == b("101")
True
```



---

archive/issue_comments_289105.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-02-05T02:35:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20009#issuecomment-289105",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_289106.json:
```json
{
    "body": "<a id='comment:8'></a>This should do the work.\n\n```\nself._identity_element = StringMonoidElement(self, [int(1)])\n```\nThis makes it a\u00a0StringMonoidElement, and not a python string.",
    "created_at": "2016-02-05T02:38:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20009#issuecomment-289106",
    "user": "https://github.com/karandesai-96"
}
```

<a id='comment:8'></a>This should do the work.

```
self._identity_element = StringMonoidElement(self, [int(1)])
```
This makes it aÂ StringMonoidElement, and not a python string.



---

archive/issue_comments_289107.json:
```json
{
    "body": "<a id='comment:9'></a>This does not work. As such it returns the second element of the alphabet, as an element of the string monoid:\n\n```\nsage: b = BinaryStrings()\nsage: b.one()\n1\nsage: b.one() * b('001')\n1001\n\nsage: b = AlphabeticStrings()\nsage: b.one()\nB\n```\n\n\nWhat we are looking here is the neutral element for the multiplication, which you can get as `StringMonoidElement(self, '')`.\n\nYou still need to add some doctests.\n\nAlso, why creating a `_identity_element` attribute while it is used only once, why not directly define the identity element in the `one` method ?",
    "created_at": "2016-02-05T18:35:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20009#issuecomment-289107",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:9'></a>This does not work. As such it returns the second element of the alphabet, as an element of the string monoid:

```
sage: b = BinaryStrings()
sage: b.one()
1
sage: b.one() * b('001')
1001

sage: b = AlphabeticStrings()
sage: b.one()
B
```


What we are looking here is the neutral element for the multiplication, which you can get as `StringMonoidElement(self, '')`.

You still need to add some doctests.

Also, why creating a `_identity_element` attribute while it is used only once, why not directly define the identity element in the `one` method ?



---

archive/issue_comments_289108.json:
```json
{
    "body": "<a id='comment:10'></a>The identity element might be required somewhere else, so I thought let it be declared as a member of the class, though for now I'll move it locally.\n\nOh, I didn't think about this happening ! I will fix it in a commit quickly.",
    "created_at": "2016-02-05T18:38:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20009#issuecomment-289108",
    "user": "https://github.com/karandesai-96"
}
```

<a id='comment:10'></a>The identity element might be required somewhere else, so I thought let it be declared as a member of the class, though for now I'll move it locally.

Oh, I didn't think about this happening ! I will fix it in a commit quickly.



---

archive/issue_comments_289109.json:
```json
{
    "body": "<a id='comment:11'></a>Replying to [comment:10 karandesai-96]:\n> The identity element might be required somewhere else, so I thought let it be declared as a member of the class, though for now I'll move it locally.\n\n\nLet me suggest not doing things unless you actually need it, since this make some noise in the source code. Also, since no other monoid has such an attribute, it is likely that if someone once needs something like that, she will create an attribute with another name higher in the hierarchy, and the information will be stored twice. I guess that if someone needs the identity element, she will just call self.one() since it is the standard notation for monoids within Sage.",
    "created_at": "2016-02-05T18:43:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20009#issuecomment-289109",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:11'></a>Replying to [comment:10 karandesai-96]:
> The identity element might be required somewhere else, so I thought let it be declared as a member of the class, though for now I'll move it locally.


Let me suggest not doing things unless you actually need it, since this make some noise in the source code. Also, since no other monoid has such an attribute, it is likely that if someone once needs something like that, she will create an attribute with another name higher in the hierarchy, and the information will be stored twice. I guess that if someone needs the identity element, she will just call self.one() since it is the standard notation for monoids within Sage.



---

archive/issue_comments_289110.json:
```json
{
    "body": "<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-02-05T18:48:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20009#issuecomment-289110",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_289111.json:
```json
{
    "body": "<a id='comment:13'></a>Replying to [comment:11 tmonteil]:\nYes, you are correct, I now understand why creating it within one() itself is better.\n\nAlso, I am new to development for Sage, I want to ask you whether you build Sage completely again to review my code ? Building Sage takes a lot of time on my laptop, how did you manage to test my code ?\n\n> Let me suggest not doing things unless you actually need it, since this make some noise in the source code. Also, since no other monoid has such an attribute, it is likely that if someone once needs something like that, she will create an attribute with another name higher in the hierarchy, and the information will be stored twice. I guess that if someone needs the identity element, she will just call self.one() since it is the standard notation for monoids within Sage.",
    "created_at": "2016-02-05T18:53:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20009#issuecomment-289111",
    "user": "https://github.com/karandesai-96"
}
```

<a id='comment:13'></a>Replying to [comment:11 tmonteil]:
Yes, you are correct, I now understand why creating it within one() itself is better.

Also, I am new to development for Sage, I want to ask you whether you build Sage completely again to review my code ? Building Sage takes a lot of time on my laptop, how did you manage to test my code ?

> Let me suggest not doing things unless you actually need it, since this make some noise in the source code. Also, since no other monoid has such an attribute, it is likely that if someone once needs something like that, she will create an attribute with another name higher in the hierarchy, and the information will be stored twice. I guess that if someone needs the identity element, she will just call self.one() since it is the standard notation for monoids within Sage.



---

archive/issue_comments_289112.json:
```json
{
    "body": "<a id='comment:14'></a>Replying to [comment:13 karandesai-96]:\n> Also, I am new to development for Sage, I want to ask you whether you build Sage completely again to review my code ? Building Sage takes a lot of time on my laptop, how did you manage to test my code ?\n\n\nSince your branch is based on `develop.7.1.beta1` which i compiled already, Sage only had to compile a few files when i type `make` after applying your branch.",
    "created_at": "2016-02-05T20:46:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20009#issuecomment-289112",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:14'></a>Replying to [comment:13 karandesai-96]:
> Also, I am new to development for Sage, I want to ask you whether you build Sage completely again to review my code ? Building Sage takes a lot of time on my laptop, how did you manage to test my code ?


Since your branch is based on `develop.7.1.beta1` which i compiled already, Sage only had to compile a few files when i type `make` after applying your branch.



---

archive/issue_comments_289113.json:
```json
{
    "body": "<a id='comment:15'></a>Hi,\n\nDoes this ticket need further work ?",
    "created_at": "2016-02-06T02:56:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20009#issuecomment-289113",
    "user": "https://github.com/karandesai-96"
}
```

<a id='comment:15'></a>Hi,

Does this ticket need further work ?



---

archive/issue_comments_289114.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-02-06T16:35:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20009#issuecomment-289114",
    "user": "https://github.com/karandesai-96"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_289115.json:
```json
{
    "body": "<a id='comment:17'></a>`@`tmonteil `@`kcrisman A gentle reminder. Is the current work fit to be merged ? This ticket will go stale and sit here as is for long if not reviewed... :/\n\nPlease direct me to further needed work if any, I will do it quickly.",
    "created_at": "2016-02-10T18:04:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20009#issuecomment-289115",
    "user": "https://github.com/karandesai-96"
}
```

<a id='comment:17'></a>`@`tmonteil `@`kcrisman A gentle reminder. Is the current work fit to be merged ? This ticket will go stale and sit here as is for long if not reviewed... :/

Please direct me to further needed work if any, I will do it quickly.



---

archive/issue_comments_289116.json:
```json
{
    "body": "<a id='comment:18'></a>It looks much better now.\n\nPerhaps could you just replace the current description `Create an identity StringMonoid Element`, by the more common `Return the identity element of ``self```.",
    "created_at": "2016-02-12T01:18:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20009#issuecomment-289116",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:18'></a>It looks much better now.

Perhaps could you just replace the current description `Create an identity StringMonoid Element`, by the more common `Return the identity element of ``self```.



---

archive/issue_comments_289117.json:
```json
{
    "body": "<a id='comment:19'></a>Replying to [comment:18 tmonteil]:\n\n> Perhaps could you just replace the current description `Create an identity StringMonoid Element`, by the more common `Return the identity element of ``self```.\n\n\nOh yes, this is better. I will push my __tentatively__ final commit here. :-)",
    "created_at": "2016-02-12T04:05:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20009#issuecomment-289117",
    "user": "https://github.com/karandesai-96"
}
```

<a id='comment:19'></a>Replying to [comment:18 tmonteil]:

> Perhaps could you just replace the current description `Create an identity StringMonoid Element`, by the more common `Return the identity element of ``self```.


Oh yes, this is better. I will push my __tentatively__ final commit here. :-)



---

archive/issue_comments_289118.json:
```json
{
    "body": "<a id='comment:20'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-02-12T16:08:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20009#issuecomment-289118",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_289119.json:
```json
{
    "body": "<a id='comment:22'></a>I added a missing dot, apart from that it is good to go!\n\n---\nNew commits:",
    "created_at": "2016-02-12T22:22:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20009#issuecomment-289119",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:22'></a>I added a missing dot, apart from that it is good to go!

---
New commits:



---

archive/issue_comments_289120.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-02-12T22:22:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20009#issuecomment-289120",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_054536.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-02-13T23:56:09Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/20009",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20009#event-54536"
}
```



---

archive/issue_comments_289121.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-02-13T23:56:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20009#issuecomment-289121",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
