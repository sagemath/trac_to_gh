# Issue 20179: add a free_variables() method?

archive/issues_019942.json:
```json
{
    "body": "It can be useful to query the free variables in an expression.  SR's `variables()` and `arguments()` return all variables in an expression, whether free or bound.  For example:\n\n```\nsage: var('y')\ny\nsage: function('f')\nf\nsage: e = limit( f(x,y), x=0 )\nsage: e\nlimit(f(x, y), x, 0)\nsage: e.variables()\n(x, y)\n```\n\nI would like to have a `free_variables()` method that returns only `y` in this case.  Is there a recommended way to get this information from an expression?\n\nCC:  @EmmanuelCharpentier\n\nBranch/Commit: 5b93a067769f0a49267a010401366de43c0cfdb0\n\nReviewer: Travis Scrimshaw\n\nAuthor: Ralf Stephan\n\nDependencies: #22844, #23134\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/20179\n\n",
    "closed_at": "2017-06-22T07:24:44Z",
    "created_at": "2016-03-08T20:24:47Z",
    "labels": [
        "component: symbolics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.0",
    "title": "add a free_variables() method?",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20179",
    "user": "https://trac.sagemath.org/admin/accounts/users/wonder"
}
```
It can be useful to query the free variables in an expression.  SR's `variables()` and `arguments()` return all variables in an expression, whether free or bound.  For example:

```
sage: var('y')
y
sage: function('f')
f
sage: e = limit( f(x,y), x=0 )
sage: e
limit(f(x, y), x, 0)
sage: e.variables()
(x, y)
```

I would like to have a `free_variables()` method that returns only `y` in this case.  Is there a recommended way to get this information from an expression?

CC:  @EmmanuelCharpentier

Branch/Commit: 5b93a067769f0a49267a010401366de43c0cfdb0

Reviewer: Travis Scrimshaw

Author: Ralf Stephan

Dependencies: #22844, #23134

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/20179





---

archive/issue_comments_360074.json:
```json
{
    "body": "<a id='comment:1'></a>\nThese are practically all variables, minus the one(s) the limit is over?",
    "created_at": "2016-03-28T08:04:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20179#issuecomment-360074",
    "user": "https://github.com/rwst"
}
```

<a id='comment:1'></a>
These are practically all variables, minus the one(s) the limit is over?



---

archive/issue_comments_360075.json:
```json
{
    "body": "<a id='comment:2'></a>\nThe free variables in an expression are all its variables excluding any that are bound, for example, in limits, sums, products, or integrals.\n\nSee for example https://en.wikipedia.org/wiki/Free_variables_and_bound_variables for a definition.",
    "created_at": "2016-03-28T15:52:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20179#issuecomment-360075",
    "user": "https://trac.sagemath.org/admin/accounts/users/wonder"
}
```

<a id='comment:2'></a>
The free variables in an expression are all its variables excluding any that are bound, for example, in limits, sums, products, or integrals.

See for example https://en.wikipedia.org/wiki/Free_variables_and_bound_variables for a definition.



---

archive/issue_comments_360076.json:
```json
{
    "body": "<a id='comment:3'></a>\nImplemented in pynac git master. Will be in the upcoming Pynac-0.7.6.",
    "created_at": "2017-02-23T15:27:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20179#issuecomment-360076",
    "user": "https://github.com/rwst"
}
```

<a id='comment:3'></a>
Implemented in pynac git master. Will be in the upcoming Pynac-0.7.6.



---

archive/issue_comments_360077.json:
```json
{
    "body": "Changing branch from \"\" to \"u/rws/add_a_free_variables___method_\"",
    "created_at": "2017-04-20T13:40:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20179#issuecomment-360077",
    "user": "https://github.com/rwst"
}
```

Changing branch from "" to "u/rws/add_a_free_variables___method_"



---

archive/issue_comments_360078.json:
```json
{
    "body": "<a id='comment:5'></a>\nThis is not ready for review because it doesn't work as expected but at least the interface is there now.\n\n---\nNew commits:\n|                                                                                                                                          |                             |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------|\n|[3c848da](https://github.com/sagemath/sagetrac-mirror/commit/3c848dafc67f073a295a382e2760b00ef8175ddb)|`22838: pkg version/checksum`|\n|[d89e6d0](https://github.com/sagemath/sagetrac-mirror/commit/d89e6d0df966cf85542f32ae133905c1f55f853c)|`22838: remove unnecessary patch`|\n|[4a30119](https://github.com/sagemath/sagetrac-mirror/commit/4a30119162c83386ec77dfbc5cb7995ac66ae7d4)|`22838: interface change`|\n|[7d3fd60](https://github.com/sagemath/sagetrac-mirror/commit/7d3fd60de71caff0ab8b2d9ec365a95312388944)|`22838: doctest adaptation to ticket 10070`|\n|[5b93a06](https://github.com/sagemath/sagetrac-mirror/commit/5b93a067769f0a49267a010401366de43c0cfdb0)|`20179: interface to Pynac's ex::free_symbols()`|",
    "created_at": "2017-04-20T13:42:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20179#issuecomment-360078",
    "user": "https://github.com/rwst"
}
```

<a id='comment:5'></a>
This is not ready for review because it doesn't work as expected but at least the interface is there now.

---
New commits:
|                                                                                                                                          |                             |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------|
|[3c848da](https://github.com/sagemath/sagetrac-mirror/commit/3c848dafc67f073a295a382e2760b00ef8175ddb)|`22838: pkg version/checksum`|
|[d89e6d0](https://github.com/sagemath/sagetrac-mirror/commit/d89e6d0df966cf85542f32ae133905c1f55f853c)|`22838: remove unnecessary patch`|
|[4a30119](https://github.com/sagemath/sagetrac-mirror/commit/4a30119162c83386ec77dfbc5cb7995ac66ae7d4)|`22838: interface change`|
|[7d3fd60](https://github.com/sagemath/sagetrac-mirror/commit/7d3fd60de71caff0ab8b2d9ec365a95312388944)|`22838: doctest adaptation to ticket 10070`|
|[5b93a06](https://github.com/sagemath/sagetrac-mirror/commit/5b93a067769f0a49267a010401366de43c0cfdb0)|`20179: interface to Pynac's ex::free_symbols()`|



---

archive/issue_comments_360079.json:
```json
{
    "body": "Changing commit from \"\" to \"5b93a067769f0a49267a010401366de43c0cfdb0\"",
    "created_at": "2017-04-20T13:42:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20179#issuecomment-360079",
    "user": "https://github.com/rwst"
}
```

Changing commit from "" to "5b93a067769f0a49267a010401366de43c0cfdb0"



---

archive/issue_comments_360080.json:
```json
{
    "body": "Changing author from \"\" to \"Ralf Stephan\"",
    "created_at": "2017-04-20T13:42:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20179#issuecomment-360080",
    "user": "https://github.com/rwst"
}
```

Changing author from "" to "Ralf Stephan"



---

archive/issue_events_070170.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-04-20T13:42:24Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20179",
    "milestone": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20179#event-70170"
}
```



---

archive/issue_comments_360081.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#22844\"",
    "created_at": "2017-04-20T15:29:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20179#issuecomment-360081",
    "user": "https://github.com/rwst"
}
```

Changing dependencies from "" to "#22844"



---

archive/issue_comments_360082.json:
```json
{
    "body": "Changing dependencies from \"#22844\" to \"#22844, pynac-0.7.8\"",
    "created_at": "2017-05-25T13:19:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20179#issuecomment-360082",
    "user": "https://github.com/rwst"
}
```

Changing dependencies from "#22844" to "#22844, pynac-0.7.8"



---

archive/issue_comments_360083.json:
```json
{
    "body": "<a id='comment:8'></a>\nThe problems seem resolved, now that there is a symbolic limit, and code in Pynac master that recognizes it and its bound symbols.",
    "created_at": "2017-05-25T13:19:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20179#issuecomment-360083",
    "user": "https://github.com/rwst"
}
```

<a id='comment:8'></a>
The problems seem resolved, now that there is a symbolic limit, and code in Pynac master that recognizes it and its bound symbols.



---

archive/issue_comments_360084.json:
```json
{
    "body": "Changing dependencies from \"#22844, pynac-0.7.8\" to \"#22844, #23134\"",
    "created_at": "2017-06-03T08:44:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20179#issuecomment-360084",
    "user": "https://github.com/rwst"
}
```

Changing dependencies from "#22844, pynac-0.7.8" to "#22844, #23134"



---

archive/issue_comments_360085.json:
```json
{
    "body": "<a id='comment:10'></a>\nIs this ready for review? If so, then you can set it to positive review on my behalf.",
    "created_at": "2017-06-03T14:41:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20179#issuecomment-360085",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:10'></a>
Is this ready for review? If so, then you can set it to positive review on my behalf.



---

archive/issue_comments_360086.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Travis Scrimshaw\"",
    "created_at": "2017-06-03T14:41:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20179#issuecomment-360086",
    "user": "https://github.com/tscrim"
}
```

Changing reviewer from "" to "Travis Scrimshaw"



---

archive/issue_comments_360087.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-06-04T06:27:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20179#issuecomment-360087",
    "user": "https://github.com/rwst"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_360088.json:
```json
{
    "body": "<a id='comment:11'></a>\nYes, I usually wait until the merge of the Pynac upgrade because not all reviewers want to go through the hassle of manual Pynac install. Thanks.",
    "created_at": "2017-06-04T06:27:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20179#issuecomment-360088",
    "user": "https://github.com/rwst"
}
```

<a id='comment:11'></a>
Yes, I usually wait until the merge of the Pynac upgrade because not all reviewers want to go through the hassle of manual Pynac install. Thanks.



---

archive/issue_comments_360089.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-06-04T06:27:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20179#issuecomment-360089",
    "user": "https://github.com/rwst"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_360090.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-06-22T07:24:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20179#issuecomment-360090",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_360091.json:
```json
{
    "body": "Changing branch from \"u/rws/add_a_free_variables___method_\" to \"5b93a067769f0a49267a010401366de43c0cfdb0\"",
    "created_at": "2017-06-22T07:24:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20179#issuecomment-360091",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/rws/add_a_free_variables___method_" to "5b93a067769f0a49267a010401366de43c0cfdb0"



---

archive/issue_events_070171.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-06-22T07:24:44Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/20179",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20179#event-70171"
}
```
