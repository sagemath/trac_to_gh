# Issue 20155: Graph Generators: Add Turan Graph

archive/issues_019918.json:
```json
{
    "assignees": [],
    "body": "Turan graphs are a well known family of graphs but have not been added to Sage (although they are in some other computer algebra systems). This patch would add support for Turan Graphs in the sage/graphs/families.py code.\n\nBranch/Commit: **[`68b3763`](https://github.com/sagemath/sagetrac-mirror/commit/68b37637adf8c667274b23ec8a53297c2bf253dc)**\n\nReviewer: **David Coudert**\n\nAuthor: **Marco Cognetta**\n\nComponent: **graph theory**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/20155_\n\n",
    "closed_at": "2016-03-10T21:25:04Z",
    "created_at": "2016-03-03T22:29:53Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
        "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Graph Generators: Add Turan Graph",
    "type": "issue",
    "updated_at": "2016-03-10T21:25:04Z",
    "url": "https://github.com/sagemath/sage/issues/20155",
    "user": "https://github.com/sagetrac-mcognetta"
}
```
Turan graphs are a well known family of graphs but have not been added to Sage (although they are in some other computer algebra systems). This patch would add support for Turan Graphs in the sage/graphs/families.py code.

Branch/Commit: **[`68b3763`](https://github.com/sagemath/sagetrac-mirror/commit/68b37637adf8c667274b23ec8a53297c2bf253dc)**

Reviewer: **David Coudert**

Author: **Marco Cognetta**

Component: **graph theory**

_Issue created by migration from https://trac.sagemath.org/ticket/20155_





---

archive/issue_events_285946.json:
```json
{
    "actor": "https://github.com/sagetrac-mcognetta",
    "created_at": "2016-03-03T22:29:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20155",
    "milestone_number": null,
    "milestone_title": "sage-7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20155#event-285946"
}
```



---

archive/issue_events_285947.json:
```json
{
    "actor": "https://github.com/sagetrac-mcognetta",
    "created_at": "2016-03-03T22:29:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20155",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
    "label_color": "eeeeee",
    "label_name": "c: graph theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20155#event-285947"
}
```



---

archive/issue_events_285948.json:
```json
{
    "actor": "https://github.com/sagetrac-mcognetta",
    "created_at": "2016-03-03T22:29:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20155",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20155#event-285948"
}
```



---

archive/issue_events_285949.json:
```json
{
    "actor": "https://github.com/sagetrac-mcognetta",
    "created_at": "2016-03-03T22:29:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20155",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20155#event-285949"
}
```



---

archive/issue_events_285950.json:
```json
{
    "actor": "https://github.com/sagetrac-mcognetta",
    "created_at": "2016-03-03T22:29:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20155",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
    "label_color": "eeeeee",
    "label_name": "c: graph theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20155#event-285950"
}
```



---

archive/issue_comments_289628.json:
```json
{
    "body": "Branch: **[u/mcognetta/graph_generators__add_turan_graph](https://github.com/sagemath/sagetrac-mirror/tree/u/mcognetta/graph_generators__add_turan_graph)**",
    "created_at": "2016-03-04T03:11:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20155",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20155#issuecomment-289628",
    "user": "https://github.com/sagetrac-mcognetta"
}
```

Branch: **[u/mcognetta/graph_generators__add_turan_graph](https://github.com/sagemath/sagetrac-mirror/tree/u/mcognetta/graph_generators__add_turan_graph)**



---

archive/issue_comments_289629.json:
```json
{
    "body": "Author: **Marco Cognetta**",
    "created_at": "2016-03-04T03:16:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20155",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20155#issuecomment-289629",
    "user": "https://github.com/sagetrac-mcognetta"
}
```

Author: **Marco Cognetta**



---

archive/issue_comments_289630.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/718ad7841a15352bc482f904ce8be89ff198086b\"><code>718ad78</code></a></td><td><code>Added TuranGraph</code></td></tr></table>\n",
    "created_at": "2016-03-04T03:16:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20155",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20155#issuecomment-289630",
    "user": "https://github.com/sagetrac-mcognetta"
}
```

<div id="comment:2"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/718ad7841a15352bc482f904ce8be89ff198086b"><code>718ad78</code></a></td><td><code>Added TuranGraph</code></td></tr></table>




---

archive/issue_comments_289631.json:
```json
{
    "body": "Commit: **[`718ad78`](https://github.com/sagemath/sagetrac-mirror/commit/718ad7841a15352bc482f904ce8be89ff198086b)**",
    "created_at": "2016-03-04T03:16:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20155",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20155#issuecomment-289631",
    "user": "https://github.com/sagetrac-mcognetta"
}
```

Commit: **[`718ad78`](https://github.com/sagemath/sagetrac-mirror/commit/718ad7841a15352bc482f904ce8be89ff198086b)**



---

archive/issue_events_285951.json:
```json
{
    "actor": "https://github.com/sagetrac-mcognetta",
    "created_at": "2016-03-04T03:16:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20155",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20155#event-285951"
}
```



---

archive/issue_comments_289632.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nHello,\n\nIf the method for assigning positions to vertices is also valid for multipartite complete graphs, you could instead add it to the `CompleteMultipartiteGraph` method and then just call this method with appropriate parameters. This would thus improve both methods. Your method could thus be reduced to:\n\n```\nif n < r:\n   raise ValueError('n should be at least r')\nif n < 1:\n   raise ValueError('n should be at least 1')\nif r < 1:\n   raise ValueError('r should be at least 1')\n\nname = \"Turan Graph with n: {}, r: {}\".format(n,r)\n\nif r == 1:\n   g = Graph(name=name)\n   g.add_vertices(range(n))\n   return g\n\nif r == 2:\n   g = graphs.CompleteBipartiteGraph(floor(n/2),ceil(n/2))\n   g.name(name)\n   return g\n\nsizes = [ceil(n/r) for i in range(n%r)]\nsizes += [floor(n/r) for i in range(r-(n%r))]\ng = graphs.CompleteMultipartiteGraph(sizes)\ng.name(name)\nreturn g\n```\nI'm not sure the case `r==2` is actually needed. \n\nAlso, I don't understand the need for method `calculate_positions` since it is called only once. You could simply add the code in the method.\n\nI think there is no need for importing `math`. You should try calling `floor` and `ceil` directly.\n\nThere are several typos in the method descriptions: `wih`, `properity`, etc.\n\nYou must add some `TESTS` to ilustrate the errors when calling the method with wrong parameters.\n\nThanks for your first patch.\n\nDavid.",
    "created_at": "2016-03-04T07:50:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20155",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20155#issuecomment-289632",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:3" align="right">comment:3</div>

Hello,

If the method for assigning positions to vertices is also valid for multipartite complete graphs, you could instead add it to the `CompleteMultipartiteGraph` method and then just call this method with appropriate parameters. This would thus improve both methods. Your method could thus be reduced to:

```
if n < r:
   raise ValueError('n should be at least r')
if n < 1:
   raise ValueError('n should be at least 1')
if r < 1:
   raise ValueError('r should be at least 1')

name = "Turan Graph with n: {}, r: {}".format(n,r)

if r == 1:
   g = Graph(name=name)
   g.add_vertices(range(n))
   return g

if r == 2:
   g = graphs.CompleteBipartiteGraph(floor(n/2),ceil(n/2))
   g.name(name)
   return g

sizes = [ceil(n/r) for i in range(n%r)]
sizes += [floor(n/r) for i in range(r-(n%r))]
g = graphs.CompleteMultipartiteGraph(sizes)
g.name(name)
return g
```
I'm not sure the case `r==2` is actually needed. 

Also, I don't understand the need for method `calculate_positions` since it is called only once. You could simply add the code in the method.

I think there is no need for importing `math`. You should try calling `floor` and `ceil` directly.

There are several typos in the method descriptions: `wih`, `properity`, etc.

You must add some `TESTS` to ilustrate the errors when calling the method with wrong parameters.

Thanks for your first patch.

David.



---

archive/issue_comments_289633.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nIt might actually be safer to use something like that (without calls to ceil, floor):\n\n```\nsage: n,r=20,3\nsage: [n//r]*(r-n%r)+[n//r+1]*(n%r)\n[6, 7, 7]\n```",
    "created_at": "2016-03-04T12:33:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20155",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20155#issuecomment-289633",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:4" align="right">comment:4</div>

It might actually be safer to use something like that (without calls to ceil, floor):

```
sage: n,r=20,3
sage: [n//r]*(r-n%r)+[n//r+1]*(n%r)
[6, 7, 7]
```



---

archive/issue_comments_289634.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nReplying to [@dcoudert](#comment:3):\n> Hello,\n> \n> If the method for assigning positions to vertices is also valid for multipartite complete graphs, you could instead add it to the `CompleteMultipartiteGraph` method and then just call this method with appropriate parameters. This would thus improve both methods. Your method could thus be reduced to:\n> \n> ```\n> if n < r:\n>    raise ValueError('n should be at least r')\n> if n < 1:\n>    raise ValueError('n should be at least 1')\n> if r < 1:\n>    raise ValueError('r should be at least 1')\n> \n> name = \"Turan Graph with n: {}, r: {}\".format(n,r)\n> \n> if r == 1:\n>    g = Graph(name=name)\n>    g.add_vertices(range(n))\n>    return g\n> \n> if r == 2:\n>    g = graphs.CompleteBipartiteGraph(floor(n/2),ceil(n/2))\n>    g.name(name)\n>    return g\n> \n> sizes = [ceil(n/r) for i in range(n%r)]\n> sizes += [floor(n/r) for i in range(r-(n%r))]\n> g = graphs.CompleteMultipartiteGraph(sizes)\n> g.name(name)\n> return g\n> ```\n> I'm not sure the case `r==2` is actually needed. \n> \n> Also, I don't understand the need for method `calculate_positions` since it is called only once. You could simply add the code in the method.\n> \n> I think there is no need for importing `math`. You should try calling `floor` and `ceil` directly.\n> \n> There are several typos in the method descriptions: `wih`, `properity`, etc.\n> \n> You must add some `TESTS` to ilustrate the errors when calling the method with wrong parameters.\n> \n> Thanks for your first patch.\n> \n> David.\n\n\nYes, I think that I will end up doing this. I wrote the code before really thinking about just using the CompleteMultipartiteGraph code.\n\n\nI originally tried to just use ceil() and floor() but I got an error that I couldn't fix.\n\nI will edit this patch and reupload it.\n\nThanks.",
    "created_at": "2016-03-04T16:25:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20155",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20155#issuecomment-289634",
    "user": "https://github.com/sagetrac-mcognetta"
}
```

<div id="comment:5" align="right">comment:5</div>

Replying to [@dcoudert](#comment:3):
> Hello,
> 
> If the method for assigning positions to vertices is also valid for multipartite complete graphs, you could instead add it to the `CompleteMultipartiteGraph` method and then just call this method with appropriate parameters. This would thus improve both methods. Your method could thus be reduced to:
> 
> ```
> if n < r:
>    raise ValueError('n should be at least r')
> if n < 1:
>    raise ValueError('n should be at least 1')
> if r < 1:
>    raise ValueError('r should be at least 1')
> 
> name = "Turan Graph with n: {}, r: {}".format(n,r)
> 
> if r == 1:
>    g = Graph(name=name)
>    g.add_vertices(range(n))
>    return g
> 
> if r == 2:
>    g = graphs.CompleteBipartiteGraph(floor(n/2),ceil(n/2))
>    g.name(name)
>    return g
> 
> sizes = [ceil(n/r) for i in range(n%r)]
> sizes += [floor(n/r) for i in range(r-(n%r))]
> g = graphs.CompleteMultipartiteGraph(sizes)
> g.name(name)
> return g
> ```
> I'm not sure the case `r==2` is actually needed. 
> 
> Also, I don't understand the need for method `calculate_positions` since it is called only once. You could simply add the code in the method.
> 
> I think there is no need for importing `math`. You should try calling `floor` and `ceil` directly.
> 
> There are several typos in the method descriptions: `wih`, `properity`, etc.
> 
> You must add some `TESTS` to ilustrate the errors when calling the method with wrong parameters.
> 
> Thanks for your first patch.
> 
> David.


Yes, I think that I will end up doing this. I wrote the code before really thinking about just using the CompleteMultipartiteGraph code.


I originally tried to just use ceil() and floor() but I got an error that I couldn't fix.

I will edit this patch and reupload it.

Thanks.



---

archive/issue_comments_289635.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/26fcfd84d2b2504423cd82f98a57739a99d0627a\"><code>26fcfd8</code></a></td><td><code>Fixed code for TuranGraph generator</code></td></tr></table>\n",
    "created_at": "2016-03-05T19:43:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20155",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20155#issuecomment-289635",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/26fcfd84d2b2504423cd82f98a57739a99d0627a"><code>26fcfd8</code></a></td><td><code>Fixed code for TuranGraph generator</code></td></tr></table>




---

archive/issue_comments_289636.json:
```json
{
    "body": "Changed commit from **[`718ad78`](https://github.com/sagemath/sagetrac-mirror/commit/718ad7841a15352bc482f904ce8be89ff198086b)** to **[`26fcfd8`](https://github.com/sagemath/sagetrac-mirror/commit/26fcfd84d2b2504423cd82f98a57739a99d0627a)**",
    "created_at": "2016-03-05T19:43:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20155",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20155#issuecomment-289636",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`718ad78`](https://github.com/sagemath/sagetrac-mirror/commit/718ad7841a15352bc482f904ce8be89ff198086b)** to **[`26fcfd8`](https://github.com/sagemath/sagetrac-mirror/commit/26fcfd84d2b2504423cd82f98a57739a99d0627a)**



---

archive/issue_comments_289637.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nHello,\n\nI saw that you have opened a new ticket for the method to compute the position of vertices of complete multi-partite graphs.\n\nI have some comments on this ticket:\n* remove the empty line between 'def' and 'r\"\"\"'\n* You could use some latex in the method description: <code>\\`(n mod r)\\` subsets of size floor\\`(n/r)\\` and \\`r - (n mod r)\\` subsets of size ceil\\`(n/r)\\`</code> -> <code>\\`(n mod r)\\` subsets of size \\`\\floor{n/r}\\` and \\`r - (n mod r)\\` subsets of size \\`\\ceil{n/r}\\`</code>\n* use `g.size()`instead of `len(g.edges())`\n* You can combine the tests. \n\n```\nif n<1 or n<r or r<1:\n    raise ValueError(\"Input parameters must satisfy '1 < r < n'.\")\n```\n* TESTS -> TEST\n* instead of `floor(...)`  you should use `[n//r]*(r-n%r)+[n//r+1]*(n%r)`. This is safe in Python. \n* you can remove `import math`\n* move the `from ... import...` after the ifs. No need to import when the parameters are wrong (ok, minor improvement)\n* You don't need the `vertex_set = []` statement.\n* I'm not sure if the statement `'Turan Graph with n: %d, r: %d'%(n,r)` is compatible with Python 3. This should be better `'Turan Graph with n: {}, r: {}'.format(n,r)`\n\nDavid.",
    "created_at": "2016-03-07T13:33:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20155",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20155#issuecomment-289637",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:7" align="right">comment:7</div>

Hello,

I saw that you have opened a new ticket for the method to compute the position of vertices of complete multi-partite graphs.

I have some comments on this ticket:
* remove the empty line between 'def' and 'r"""'
* You could use some latex in the method description: <code>\`(n mod r)\` subsets of size floor\`(n/r)\` and \`r - (n mod r)\` subsets of size ceil\`(n/r)\`</code> -> <code>\`(n mod r)\` subsets of size \`\floor{n/r}\` and \`r - (n mod r)\` subsets of size \`\ceil{n/r}\`</code>
* use `g.size()`instead of `len(g.edges())`
* You can combine the tests. 

```
if n<1 or n<r or r<1:
    raise ValueError("Input parameters must satisfy '1 < r < n'.")
```
* TESTS -> TEST
* instead of `floor(...)`  you should use `[n//r]*(r-n%r)+[n//r+1]*(n%r)`. This is safe in Python. 
* you can remove `import math`
* move the `from ... import...` after the ifs. No need to import when the parameters are wrong (ok, minor improvement)
* You don't need the `vertex_set = []` statement.
* I'm not sure if the statement `'Turan Graph with n: %d, r: %d'%(n,r)` is compatible with Python 3. This should be better `'Turan Graph with n: {}, r: {}'.format(n,r)`

David.



---

archive/issue_comments_289638.json:
```json
{
    "body": "Reviewer: **David Coudert**",
    "created_at": "2016-03-07T13:33:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20155",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20155#issuecomment-289638",
    "user": "https://github.com/dcoudert"
}
```

Reviewer: **David Coudert**



---

archive/issue_events_285952.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2016-03-07T13:33:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20155",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20155#event-285952"
}
```



---

archive/issue_events_285953.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2016-03-07T13:33:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20155",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20155#event-285953"
}
```



---

archive/issue_comments_289639.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bc23a2091ddeb9e0e6d2029e7606d51f4a11bafd\"><code>bc23a20</code></a></td><td><code>Updated TuranGraph code</code></td></tr></table>\n",
    "created_at": "2016-03-07T19:40:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20155",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20155#issuecomment-289639",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bc23a2091ddeb9e0e6d2029e7606d51f4a11bafd"><code>bc23a20</code></a></td><td><code>Updated TuranGraph code</code></td></tr></table>




---

archive/issue_comments_289640.json:
```json
{
    "body": "Changed commit from **[`26fcfd8`](https://github.com/sagemath/sagetrac-mirror/commit/26fcfd84d2b2504423cd82f98a57739a99d0627a)** to **[`bc23a20`](https://github.com/sagemath/sagetrac-mirror/commit/bc23a2091ddeb9e0e6d2029e7606d51f4a11bafd)**",
    "created_at": "2016-03-07T19:40:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20155",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20155#issuecomment-289640",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`26fcfd8`](https://github.com/sagemath/sagetrac-mirror/commit/26fcfd84d2b2504423cd82f98a57739a99d0627a)** to **[`bc23a20`](https://github.com/sagemath/sagetrac-mirror/commit/bc23a2091ddeb9e0e6d2029e7606d51f4a11bafd)**



---

archive/issue_comments_289641.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nReplying to [@dcoudert](#comment:7):\n> Hello,\n> \n> I saw that you have opened a new ticket for the method to compute the position of vertices of complete multi-partite graphs.\n> \n> I have some comments on this ticket:\n> * remove the empty line between 'def' and 'r\"\"\"'\n> * You could use some latex in the method description: <code>\\`(n mod r)\\` subsets of size floor\\`(n/r)\\` and \\`r - (n mod r)\\` subsets of size ceil\\`(n/r)\\`</code> -> <code>\\`(n mod r)\\` subsets of size \\`\\floor{n/r}\\` and \\`r - (n mod r)\\` subsets of size \\`\\ceil{n/r}\\`</code>\n> * use `g.size()`instead of `len(g.edges())`\n> * You can combine the tests. \n> \n> ```\n> if n<1 or n<r or r<1:\n>     raise ValueError(\"Input parameters must satisfy '1 < r < n'.\")\n> ```\n> * TESTS -> TEST\n> * instead of `floor(...)`  you should use `[n//r]*(r-n%r)+[n//r+1]*(n%r)`. This is safe in Python. \n> * you can remove `import math`\n> * move the `from ... import...` after the ifs. No need to import when the parameters are wrong (ok, minor improvement)\n> * You don't need the `vertex_set = []` statement.\n> * I'm not sure if the statement `'Turan Graph with n: %d, r: %d'%(n,r)` is compatible with Python 3. This should be better `'Turan Graph with n: {}, r: {}'.format(n,r)`\n> \n> David.\n\nThanks for the advice. I updated the code to reflect your suggestions.",
    "created_at": "2016-03-07T19:40:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20155",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20155#issuecomment-289641",
    "user": "https://github.com/sagetrac-mcognetta"
}
```

<div id="comment:9" align="right">comment:9</div>

Replying to [@dcoudert](#comment:7):
> Hello,
> 
> I saw that you have opened a new ticket for the method to compute the position of vertices of complete multi-partite graphs.
> 
> I have some comments on this ticket:
> * remove the empty line between 'def' and 'r"""'
> * You could use some latex in the method description: <code>\`(n mod r)\` subsets of size floor\`(n/r)\` and \`r - (n mod r)\` subsets of size ceil\`(n/r)\`</code> -> <code>\`(n mod r)\` subsets of size \`\floor{n/r}\` and \`r - (n mod r)\` subsets of size \`\ceil{n/r}\`</code>
> * use `g.size()`instead of `len(g.edges())`
> * You can combine the tests. 
> 
> ```
> if n<1 or n<r or r<1:
>     raise ValueError("Input parameters must satisfy '1 < r < n'.")
> ```
> * TESTS -> TEST
> * instead of `floor(...)`  you should use `[n//r]*(r-n%r)+[n//r+1]*(n%r)`. This is safe in Python. 
> * you can remove `import math`
> * move the `from ... import...` after the ifs. No need to import when the parameters are wrong (ok, minor improvement)
> * You don't need the `vertex_set = []` statement.
> * I'm not sure if the statement `'Turan Graph with n: %d, r: %d'%(n,r)` is compatible with Python 3. This should be better `'Turan Graph with n: {}, r: {}'.format(n,r)`
> 
> David.

Thanks for the advice. I updated the code to reflect your suggestions.



---

archive/issue_comments_289642.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nMuch better.\n\n- `the nuber of vertices`-> `the number of vertices`\n\n- Why have you 4 points at the end of the `ValueError: ` line. 1 point is enough.\n\nWhen done, you have to switch back the paper to needs review.\n\nDavid.",
    "created_at": "2016-03-08T10:52:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20155",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20155#issuecomment-289642",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:10" align="right">comment:10</div>

Much better.

- `the nuber of vertices`-> `the number of vertices`

- Why have you 4 points at the end of the `ValueError: ` line. 1 point is enough.

When done, you have to switch back the paper to needs review.

David.



---

archive/issue_comments_289643.json:
```json
{
    "body": "Changed commit from **[`bc23a20`](https://github.com/sagemath/sagetrac-mirror/commit/bc23a2091ddeb9e0e6d2029e7606d51f4a11bafd)** to **[`45cdf39`](https://github.com/sagemath/sagetrac-mirror/commit/45cdf399c96673b11a4c6f5c73272705b5740ac7)**",
    "created_at": "2016-03-08T17:47:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20155",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20155#issuecomment-289643",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`bc23a20`](https://github.com/sagemath/sagetrac-mirror/commit/bc23a2091ddeb9e0e6d2029e7606d51f4a11bafd)** to **[`45cdf39`](https://github.com/sagemath/sagetrac-mirror/commit/45cdf399c96673b11a4c6f5c73272705b5740ac7)**



---

archive/issue_comments_289644.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/45cdf399c96673b11a4c6f5c73272705b5740ac7\"><code>45cdf39</code></a></td><td><code>Revision of TuranGraph patch</code></td></tr></table>\n",
    "created_at": "2016-03-08T17:47:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20155",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20155#issuecomment-289644",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/45cdf399c96673b11a4c6f5c73272705b5740ac7"><code>45cdf39</code></a></td><td><code>Revision of TuranGraph patch</code></td></tr></table>




---

archive/issue_events_285954.json:
```json
{
    "actor": "https://github.com/sagetrac-mcognetta",
    "created_at": "2016-03-08T19:42:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20155",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20155#event-285954"
}
```



---

archive/issue_events_285955.json:
```json
{
    "actor": "https://github.com/sagetrac-mcognetta",
    "created_at": "2016-03-08T19:42:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20155",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20155#event-285955"
}
```



---

archive/issue_comments_289645.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nHello,\n\nthe patch is almost good to go. I just realizes that the `n mod r` was not properly displayed in the html doc. You could use instead `n \\pmod{r}` which produces `n (mod r)`.\nCheck also the `\\ceil`, etc.\n\nDavid.",
    "created_at": "2016-03-09T08:06:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20155",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20155#issuecomment-289645",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:13" align="right">comment:13</div>

Hello,

the patch is almost good to go. I just realizes that the `n mod r` was not properly displayed in the html doc. You could use instead `n \pmod{r}` which produces `n (mod r)`.
Check also the `\ceil`, etc.

David.



---

archive/issue_comments_289646.json:
```json
{
    "body": "Changed commit from **[`45cdf39`](https://github.com/sagemath/sagetrac-mirror/commit/45cdf399c96673b11a4c6f5c73272705b5740ac7)** to **[`68b3763`](https://github.com/sagemath/sagetrac-mirror/commit/68b37637adf8c667274b23ec8a53297c2bf253dc)**",
    "created_at": "2016-03-09T22:23:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20155",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20155#issuecomment-289646",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`45cdf39`](https://github.com/sagemath/sagetrac-mirror/commit/45cdf399c96673b11a4c6f5c73272705b5740ac7)** to **[`68b3763`](https://github.com/sagemath/sagetrac-mirror/commit/68b37637adf8c667274b23ec8a53297c2bf253dc)**



---

archive/issue_comments_289647.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/68b37637adf8c667274b23ec8a53297c2bf253dc\"><code>68b3763</code></a></td><td><code>Updated docs for Turan Graph</code></td></tr></table>\n",
    "created_at": "2016-03-09T22:23:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20155",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20155#issuecomment-289647",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/68b37637adf8c667274b23ec8a53297c2bf253dc"><code>68b3763</code></a></td><td><code>Updated docs for Turan Graph</code></td></tr></table>




---

archive/issue_events_285956.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2016-03-10T07:40:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20155",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20155#event-285956"
}
```



---

archive/issue_events_285957.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2016-03-10T07:40:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20155",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20155#event-285957"
}
```



---

archive/issue_comments_289648.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nThis patch is now good to go.\nThanks.\nDavid.",
    "created_at": "2016-03-10T07:40:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20155",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20155#issuecomment-289648",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:15" align="right">comment:15</div>

This patch is now good to go.
Thanks.
David.



---

archive/issue_comments_289649.json:
```json
{
    "body": "Changed branch from **[u/mcognetta/graph_generators__add_turan_graph](https://github.com/sagemath/sagetrac-mirror/tree/u/mcognetta/graph_generators__add_turan_graph)** to **[`68b3763`](https://github.com/sagemath/sagetrac-mirror/commit/68b37637adf8c667274b23ec8a53297c2bf253dc)**",
    "created_at": "2016-03-10T21:25:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20155",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20155#issuecomment-289649",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mcognetta/graph_generators__add_turan_graph](https://github.com/sagemath/sagetrac-mirror/tree/u/mcognetta/graph_generators__add_turan_graph)** to **[`68b3763`](https://github.com/sagemath/sagetrac-mirror/commit/68b37637adf8c667274b23ec8a53297c2bf253dc)**



---

archive/issue_events_285958.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-03-10T21:25:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20155",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20155#event-285958"
}
```



---

archive/issue_events_285959.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "f669fac3ce70b40dd449f92f2bc2b353ab0cb96a",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-03-10T21:25:04Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/20155",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20155#event-285959"
}
```
