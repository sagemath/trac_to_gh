# Issue 20985: decomposition of interval-posets into new components

archive/issues_020748.json:
```json
{
    "assignees": [],
    "body": "adding a method to obtain the canonical decomposition\nof Tamari interval-posets into new interval-posets\n\nThis would be more fun with #20240 available.\n\nCC:  @jm58660 @tscrim @darijgr\n\nBranch/Commit: **[7b9f8d7](https://github.com/sagemath/sagetrac-mirror/commit/7b9f8d7939d6083e402d8bc82e707dcfab9a4caf)**\n\nReviewer: **Travis Scrimshaw**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton**\n\nComponent: **combinatorics**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/20985_\n\n",
    "closed_at": "2016-09-24T14:32:08Z",
    "created_at": "2016-07-08T13:14:23Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "decomposition of interval-posets into new components",
    "type": "issue",
    "updated_at": "2016-09-24T14:32:08Z",
    "url": "https://github.com/sagemath/sage/issues/20985",
    "user": "https://github.com/fchapoton"
}
```
adding a method to obtain the canonical decomposition
of Tamari interval-posets into new interval-posets

This would be more fun with #20240 available.

CC:  @jm58660 @tscrim @darijgr

Branch/Commit: **[7b9f8d7](https://github.com/sagemath/sagetrac-mirror/commit/7b9f8d7939d6083e402d8bc82e707dcfab9a4caf)**

Reviewer: **Travis Scrimshaw**

Author: **Frédéric Chapoton**

Component: **combinatorics**

_Issue created by migration from https://trac.sagemath.org/ticket/20985_





---

archive/issue_events_295200.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-07-08T13:14:23Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20985",
    "milestone_number": null,
    "milestone_title": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20985#event-295200"
}
```



---

archive/issue_events_295201.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-07-08T13:14:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20985",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "c: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20985#event-295201"
}
```



---

archive/issue_events_295202.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-07-08T13:14:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20985",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20985#event-295202"
}
```



---

archive/issue_events_295203.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-07-08T13:14:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20985",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20985#event-295203"
}
```



---

archive/issue_comments_304938.json:
```json
{
    "body": "Branch: **[u/chapoton/20985](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/20985)**",
    "created_at": "2016-07-08T13:15:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20985",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20985#issuecomment-304938",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/20985](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/20985)**



---

archive/issue_comments_304939.json:
```json
{
    "body": "Commit: **[9be6dd0](https://github.com/sagemath/sagetrac-mirror/commit/9be6dd0110aeb77eb0f3799b93742d27034b2a43)**",
    "created_at": "2016-07-08T13:15:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20985",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20985#issuecomment-304939",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[9be6dd0](https://github.com/sagemath/sagetrac-mirror/commit/9be6dd0110aeb77eb0f3799b93742d27034b2a43)**



---

archive/issue_events_295204.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-07-08T13:15:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20985",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20985#event-295204"
}
```



---

archive/issue_comments_304940.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,2 +1,4 @@\n adding a method to obtain the canonical decomposition\n of Tamari interval-posets into new interval-posets\n+\n+This would be more fun with #20240 available.\n``````\n",
    "created_at": "2016-07-08T13:15:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20985",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20985#issuecomment-304940",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,2 +1,4 @@
 adding a method to obtain the canonical decomposition
 of Tamari interval-posets into new interval-posets
+
+This would be more fun with #20240 available.
``````




---

archive/issue_comments_304941.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2d53186d653a0699ebf815b28c269fdb463b93eb\">2d53186</a></td><td><code>the decomposition of interval-posets in new interval-posets</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9be6dd0110aeb77eb0f3799b93742d27034b2a43\">9be6dd0</a></td><td><code>more doc on interval-posets</code></td></tr></table>\n",
    "created_at": "2016-07-08T13:15:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20985",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20985#issuecomment-304941",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:1"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2d53186d653a0699ebf815b28c269fdb463b93eb">2d53186</a></td><td><code>the decomposition of interval-posets in new interval-posets</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9be6dd0110aeb77eb0f3799b93742d27034b2a43">9be6dd0</a></td><td><code>more doc on interval-posets</code></td></tr></table>




---

archive/issue_events_295205.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-08-11T07:13:15Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/20985",
    "milestone_number": null,
    "milestone_title": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20985#event-295205"
}
```



---

archive/issue_events_295206.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-08-11T07:13:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20985",
    "milestone_number": null,
    "milestone_title": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20985#event-295206"
}
```



---

archive/issue_comments_304942.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nis there somebody available for a review ?\n\nViviane or Gregory maybe ?",
    "created_at": "2016-08-31T09:21:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20985",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20985#issuecomment-304942",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:3" align="right">comment:3</div>

is there somebody available for a review ?

Viviane or Gregory maybe ?



---

archive/issue_comments_304943.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nWould one of you be so kind as to have a quick look at this ticket of mine ?\n\nThe subject is quite specialized, but the experts do not seem concerned, so I have to turn to other people.",
    "created_at": "2016-09-20T19:32:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20985",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20985#issuecomment-304943",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:4" align="right">comment:4</div>

Would one of you be so kind as to have a quick look at this ticket of mine ?

The subject is quite specialized, but the experts do not seem concerned, so I have to turn to other people.



---

archive/issue_comments_304944.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nUh. \"- - as explained in\", and then a link to a paper written in French.\n\nSeems interesting, but would propably take time to understand. I can not promise anything.",
    "created_at": "2016-09-20T19:53:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20985",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20985#issuecomment-304944",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:5" align="right">comment:5</div>

Uh. "- - as explained in", and then a link to a paper written in French.

Seems interesting, but would propably take time to understand. I can not promise anything.



---

archive/issue_comments_304945.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nI don't see a reason to have the `son` function. I would directly inline the appropriate case in `extract_tree`.",
    "created_at": "2016-09-20T20:47:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20985",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20985#issuecomment-304945",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:6" align="right">comment:6</div>

I don't see a reason to have the `son` function. I would directly inline the appropriate case in `extract_tree`.



---

archive/issue_comments_304946.json:
```json
{
    "body": "Changed commit from **[9be6dd0](https://github.com/sagemath/sagetrac-mirror/commit/9be6dd0110aeb77eb0f3799b93742d27034b2a43)** to **[7b9f8d7](https://github.com/sagemath/sagetrac-mirror/commit/7b9f8d7939d6083e402d8bc82e707dcfab9a4caf)**",
    "created_at": "2016-09-21T08:30:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20985",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20985#issuecomment-304946",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[9be6dd0](https://github.com/sagemath/sagetrac-mirror/commit/9be6dd0110aeb77eb0f3799b93742d27034b2a43)** to **[7b9f8d7](https://github.com/sagemath/sagetrac-mirror/commit/7b9f8d7939d6083e402d8bc82e707dcfab9a4caf)**



---

archive/issue_comments_304947.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f287baafd1757f55f53d078ebe8db6cc8895e778\">f287baa</a></td><td><code>Merge branch 'u/chapoton/20985' in 7.4.b5</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7b9f8d7939d6083e402d8bc82e707dcfab9a4caf\">7b9f8d7</a></td><td><code>trac 20985 streamlined code</code></td></tr></table>\n",
    "created_at": "2016-09-21T08:30:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20985",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20985#issuecomment-304947",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f287baafd1757f55f53d078ebe8db6cc8895e778">f287baa</a></td><td><code>Merge branch 'u/chapoton/20985' in 7.4.b5</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7b9f8d7939d6083e402d8bc82e707dcfab9a4caf">7b9f8d7</a></td><td><code>trac 20985 streamlined code</code></td></tr></table>




---

archive/issue_comments_304948.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nThank you, Travis, for this useful remark. I have streamlined the code.\n\n@jm58660, I do not expect a full mathematical review here, but maybe just a check that the code is written efficiently enough, does what it is expected to do in the doctests, and can safely enter sage.\n\nThe main idea is to use some kind of \"canonical drawing\" of binary trees, as already implemented in the \"to_tilting\" method of binary trees. Then one superposes two such drawings, and cut at the superposition points.",
    "created_at": "2016-09-21T08:34:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20985",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20985#issuecomment-304948",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:8" align="right">comment:8</div>

Thank you, Travis, for this useful remark. I have streamlined the code.

@jm58660, I do not expect a full mathematical review here, but maybe just a check that the code is written efficiently enough, does what it is expected to do in the doctests, and can safely enter sage.

The main idea is to use some kind of "canonical drawing" of binary trees, as already implemented in the "to_tilting" method of binary trees. Then one superposes two such drawings, and cut at the superposition points.



---

archive/issue_comments_304949.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2016-09-21T14:21:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20985",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20985#issuecomment-304949",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_comments_304950.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nLGTM. Thanks Fr\u00e9d\u00e9ric.",
    "created_at": "2016-09-21T14:21:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20985",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20985#issuecomment-304950",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:9" align="right">comment:9</div>

LGTM. Thanks Frédéric.



---

archive/issue_events_295207.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-09-21T14:21:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20985",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20985#event-295207"
}
```



---

archive/issue_events_295208.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-09-21T14:21:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20985",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20985#event-295208"
}
```



---

archive/issue_events_295209.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-09-24T14:32:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20985",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20985#event-295209"
}
```



---

archive/issue_events_295210.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "ae718935f649a9b3dc7c235d240f69dfb8555200",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-09-24T14:32:08Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/20985",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20985#event-295210"
}
```



---

archive/issue_comments_304951.json:
```json
{
    "body": "Changed branch from **[u/chapoton/20985](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/20985)** to **[7b9f8d7](https://github.com/sagemath/sagetrac-mirror/commit/7b9f8d7939d6083e402d8bc82e707dcfab9a4caf)**",
    "created_at": "2016-09-24T14:32:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20985",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20985#issuecomment-304951",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/chapoton/20985](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/20985)** to **[7b9f8d7](https://github.com/sagemath/sagetrac-mirror/commit/7b9f8d7939d6083e402d8bc82e707dcfab9a4caf)**
