# Issue 20660: Add Certificate to is_isomorphic() in the matroids package

archive/issues_020423.json:
```json
{
    "assignees": [],
    "body": "We are going to add an option to get certificate when testing if two matroids are isomorphic. I will be doing this.\n\nCC:  @sagetrac-Stefan @sagetrac-yomcat\n\nKeywords: **isomorphism**\n\nBranch/Commit: **[`d9cc323`](https://github.com/sagemath/sagetrac-mirror/commit/d9cc323ddb1d66bfe39b40a8191a55a515d13966)**\n\nReviewer: **Michael Welsh**\n\nAuthor: **Tara Fife**\n\nComponent: **matroid theory**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/20660_\n\n",
    "closed_at": "2016-05-31T07:29:44Z",
    "created_at": "2016-05-23T15:10:29Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20matroid%20theory",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/c%3A%20matroid%20theory"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Add Certificate to is_isomorphic() in the matroids package",
    "type": "issue",
    "updated_at": "2016-05-31T07:29:44Z",
    "url": "https://github.com/sagemath/sage/issues/20660",
    "user": "https://github.com/TaraFife"
}
```
We are going to add an option to get certificate when testing if two matroids are isomorphic. I will be doing this.

CC:  @sagetrac-Stefan @sagetrac-yomcat

Keywords: **isomorphism**

Branch/Commit: **[`d9cc323`](https://github.com/sagemath/sagetrac-mirror/commit/d9cc323ddb1d66bfe39b40a8191a55a515d13966)**

Reviewer: **Michael Welsh**

Author: **Tara Fife**

Component: **matroid theory**

_Issue created by migration from https://trac.sagemath.org/ticket/20660_





---

archive/issue_events_288320.json:
```json
{
    "actor": "https://github.com/TaraFife",
    "created_at": "2016-05-23T15:10:29Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "milestone_number": null,
    "milestone_title": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20660#event-288320"
}
```



---

archive/issue_events_288321.json:
```json
{
    "actor": "https://github.com/TaraFife",
    "created_at": "2016-05-23T15:10:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20660#event-288321"
}
```



---

archive/issue_events_288322.json:
```json
{
    "actor": "https://github.com/TaraFife",
    "created_at": "2016-05-23T15:10:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20matroid%20theory",
    "label_color": "0000ff",
    "label_name": "c: matroid theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20660#event-288322"
}
```



---

archive/issue_events_288323.json:
```json
{
    "actor": "https://github.com/sagetrac-yomcat",
    "created_at": "2016-05-24T05:06:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20660#event-288323"
}
```



---

archive/issue_comments_298645.json:
```json
{
    "body": "Branch: **[public/ticket/20660](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/20660)**",
    "created_at": "2016-05-26T21:31:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-298645",
    "user": "https://github.com/TaraFife"
}
```

Branch: **[public/ticket/20660](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/20660)**



---

archive/issue_comments_298646.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4ee8641a27d6ac2492f0233c057754af7acfc99f\"><code>4ee8641</code></a></td><td><code>Added an optional parameter cert to allow the user to ask for a certificate if the two matroids are isomorphic.</code></td></tr></table>\n",
    "created_at": "2016-05-26T21:37:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-298646",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4ee8641a27d6ac2492f0233c057754af7acfc99f"><code>4ee8641</code></a></td><td><code>Added an optional parameter cert to allow the user to ask for a certificate if the two matroids are isomorphic.</code></td></tr></table>




---

archive/issue_comments_298647.json:
```json
{
    "body": "Commit: **[`4ee8641`](https://github.com/sagemath/sagetrac-mirror/commit/4ee8641a27d6ac2492f0233c057754af7acfc99f)**",
    "created_at": "2016-05-26T21:37:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-298647",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[`4ee8641`](https://github.com/sagemath/sagetrac-mirror/commit/4ee8641a27d6ac2492f0233c057754af7acfc99f)**



---

archive/issue_comments_298648.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nRight now, I'm happy with the code except for in basis_exchange_matroid, `M1._is_isomorphic(M2, True)` yields the output `(True, True)` on line 2272, and similarly on line 2278. This doesn't seem to be something that I caused directly, but might be due to the following code found in `_isomorphism()` in basis_matroid.pyx (lines 980-981). \n\n```\nif not isinstance(other, BasisMatroid):\n    return BasisExchangeMatroid._is_isomorphic(self, other)\n```\n\nI'm not sure exactly how to tell what type of matroid a thing is when it gets instigated. Regardless, is there any reason why we don't want to or are unable to return an isomorphism in the above case?",
    "created_at": "2016-05-26T22:03:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-298648",
    "user": "https://github.com/TaraFife"
}
```

<div id="comment:4" align="right">comment:4</div>

Right now, I'm happy with the code except for in basis_exchange_matroid, `M1._is_isomorphic(M2, True)` yields the output `(True, True)` on line 2272, and similarly on line 2278. This doesn't seem to be something that I caused directly, but might be due to the following code found in `_isomorphism()` in basis_matroid.pyx (lines 980-981). 

```
if not isinstance(other, BasisMatroid):
    return BasisExchangeMatroid._is_isomorphic(self, other)
```

I'm not sure exactly how to tell what type of matroid a thing is when it gets instigated. Regardless, is there any reason why we don't want to or are unable to return an isomorphism in the above case?



---

archive/issue_comments_298649.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nIf you're calling another instance of the is_isomorphic method, you should pass through all parameters. So the line you quote needs to be changed to\n\n```\nif not isinstance(other, BasisMatroid):\n    return BasisExchangeMatroid._is_isomorphic(self, other, cert)\n```",
    "created_at": "2016-05-27T01:54:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-298649",
    "user": "https://github.com/sagetrac-Stefan"
}
```

<div id="comment:5" align="right">comment:5</div>

If you're calling another instance of the is_isomorphic method, you should pass through all parameters. So the line you quote needs to be changed to

```
if not isinstance(other, BasisMatroid):
    return BasisExchangeMatroid._is_isomorphic(self, other, cert)
```



---

archive/issue_comments_298650.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nReplying to [@sagetrac-Stefan](#comment:5):\n> If you're calling another instance of the is_isomorphic method, you should pass through all parameters. So the line you quote needs to be changed to\n> \n> ```\n> if not isinstance(other, BasisMatroid):\n>     return BasisExchangeMatroid._is_isomorphic(self, other, cert)\n> ```\n\nMy question was why we are calling `is_isomorphic` instead of `isomorphism`. For instance, the following comes from an unedited version of sage. But I would expect a dictionary instead of a boolean.\n\n```\nsage: from sage.matroids.advanced import *\nsage: M1 = BasisMatroid(matroids.Wheel(3))\nsage: M2 = matroids.CompleteGraphic(4)\nsage: M1.isomorphism(M2)\nTrue\n```\n\nSo I think that this is a bug in Sage.",
    "created_at": "2016-05-27T02:04:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-298650",
    "user": "https://github.com/TaraFife"
}
```

<div id="comment:6" align="right">comment:6</div>

Replying to [@sagetrac-Stefan](#comment:5):
> If you're calling another instance of the is_isomorphic method, you should pass through all parameters. So the line you quote needs to be changed to
> 
> ```
> if not isinstance(other, BasisMatroid):
>     return BasisExchangeMatroid._is_isomorphic(self, other, cert)
> ```

My question was why we are calling `is_isomorphic` instead of `isomorphism`. For instance, the following comes from an unedited version of sage. But I would expect a dictionary instead of a boolean.

```
sage: from sage.matroids.advanced import *
sage: M1 = BasisMatroid(matroids.Wheel(3))
sage: M2 = matroids.CompleteGraphic(4)
sage: M1.isomorphism(M2)
True
```

So I think that this is a bug in Sage.



---

archive/issue_comments_298651.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nI think you're right. Normally the right thing to do would be to open a separate ticket for the bug, but since you're editing the same methods already, you might as well fix it in this ticket.",
    "created_at": "2016-05-27T02:13:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-298651",
    "user": "https://github.com/sagetrac-Stefan"
}
```

<div id="comment:7" align="right">comment:7</div>

I think you're right. Normally the right thing to do would be to open a separate ticket for the bug, but since you're editing the same methods already, you might as well fix it in this ticket.



---

archive/issue_comments_298652.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ea46145fe2a6d8b243e155e54918cb5b9c6a2190\"><code>ea46145</code></a></td><td><code>Fixed bug in basis_matroid, and updated the documentation is basis_exchange_matroid</code></td></tr></table>\n",
    "created_at": "2016-05-27T02:48:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-298652",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ea46145fe2a6d8b243e155e54918cb5b9c6a2190"><code>ea46145</code></a></td><td><code>Fixed bug in basis_matroid, and updated the documentation is basis_exchange_matroid</code></td></tr></table>




---

archive/issue_comments_298653.json:
```json
{
    "body": "Changed commit from **[`4ee8641`](https://github.com/sagemath/sagetrac-mirror/commit/4ee8641a27d6ac2492f0233c057754af7acfc99f)** to **[`ea46145`](https://github.com/sagemath/sagetrac-mirror/commit/ea46145fe2a6d8b243e155e54918cb5b9c6a2190)**",
    "created_at": "2016-05-27T02:48:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-298653",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4ee8641`](https://github.com/sagemath/sagetrac-mirror/commit/4ee8641a27d6ac2492f0233c057754af7acfc99f)** to **[`ea46145`](https://github.com/sagemath/sagetrac-mirror/commit/ea46145fe2a6d8b243e155e54918cb5b9c6a2190)**



---

archive/issue_events_288324.json:
```json
{
    "actor": "https://github.com/TaraFife",
    "created_at": "2016-05-27T02:49:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20660#event-288324"
}
```



---

archive/issue_comments_298654.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nI'll have a proper look later, but you should change `cert` to `certificate` as `is_3connected()` has for consistency.",
    "created_at": "2016-05-27T03:06:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-298654",
    "user": "https://github.com/sagetrac-yomcat"
}
```

<div id="comment:10" align="right">comment:10</div>

I'll have a proper look later, but you should change `cert` to `certificate` as `is_3connected()` has for consistency.



---

archive/issue_comments_298655.json:
```json
{
    "body": "Changed commit from **[`ea46145`](https://github.com/sagemath/sagetrac-mirror/commit/ea46145fe2a6d8b243e155e54918cb5b9c6a2190)** to **[`12a4b3d`](https://github.com/sagemath/sagetrac-mirror/commit/12a4b3d50d34912f44c6f700b95fdc7360612162)**",
    "created_at": "2016-05-27T19:31:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-298655",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ea46145`](https://github.com/sagemath/sagetrac-mirror/commit/ea46145fe2a6d8b243e155e54918cb5b9c6a2190)** to **[`12a4b3d`](https://github.com/sagemath/sagetrac-mirror/commit/12a4b3d50d34912f44c6f700b95fdc7360612162)**



---

archive/issue_comments_298656.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/12a4b3d50d34912f44c6f700b95fdc7360612162\"><code>12a4b3d</code></a></td><td><code>Changed cert to certificate</code></td></tr></table>\n",
    "created_at": "2016-05-27T19:31:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-298656",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/12a4b3d50d34912f44c6f700b95fdc7360612162"><code>12a4b3d</code></a></td><td><code>Changed cert to certificate</code></td></tr></table>




---

archive/issue_events_288325.json:
```json
{
    "actor": "https://github.com/sagetrac-yomcat",
    "created_at": "2016-05-27T21:12:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20660#event-288325"
}
```



---

archive/issue_events_288326.json:
```json
{
    "actor": "https://github.com/sagetrac-yomcat",
    "created_at": "2016-05-27T21:12:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20660#event-288326"
}
```



---

archive/issue_comments_298657.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nA few minor things:\n\n* There's some extraneous whitespace after your commas -- use `git trac review` to see it easily.\n* You haven't fully made the `cert` to `certificate` change. The pxd files are causing errors upon compilation because of it.\n* In the doctests, you should specify the option, ie: `M.is_isomorphic(N, certificate=True)`\n* In the output part of the docstring, you should say what that the dictionary shows the isomorphism, and None is output when the matroids aren't isomorphic.",
    "created_at": "2016-05-27T21:12:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-298657",
    "user": "https://github.com/sagetrac-yomcat"
}
```

<div id="comment:12" align="right">comment:12</div>

A few minor things:

* There's some extraneous whitespace after your commas -- use `git trac review` to see it easily.
* You haven't fully made the `cert` to `certificate` change. The pxd files are causing errors upon compilation because of it.
* In the doctests, you should specify the option, ie: `M.is_isomorphic(N, certificate=True)`
* In the output part of the docstring, you should say what that the dictionary shows the isomorphism, and None is output when the matroids aren't isomorphic.



---

archive/issue_comments_298658.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a584a6e0b6c84e8c7aff4d2258dfc479a8053235\"><code>a584a6e</code></a></td><td><code>Fixed errors from comment</code></td></tr></table>\n",
    "created_at": "2016-05-28T19:48:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-298658",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a584a6e0b6c84e8c7aff4d2258dfc479a8053235"><code>a584a6e</code></a></td><td><code>Fixed errors from comment</code></td></tr></table>




---

archive/issue_comments_298659.json:
```json
{
    "body": "Changed commit from **[`12a4b3d`](https://github.com/sagemath/sagetrac-mirror/commit/12a4b3d50d34912f44c6f700b95fdc7360612162)** to **[`a584a6e`](https://github.com/sagemath/sagetrac-mirror/commit/a584a6e0b6c84e8c7aff4d2258dfc479a8053235)**",
    "created_at": "2016-05-28T19:48:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-298659",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`12a4b3d`](https://github.com/sagemath/sagetrac-mirror/commit/12a4b3d50d34912f44c6f700b95fdc7360612162)** to **[`a584a6e`](https://github.com/sagemath/sagetrac-mirror/commit/a584a6e0b6c84e8c7aff4d2258dfc479a8053235)**



---

archive/issue_comments_298660.json:
```json
{
    "body": "Changed commit from **[`a584a6e`](https://github.com/sagemath/sagetrac-mirror/commit/a584a6e0b6c84e8c7aff4d2258dfc479a8053235)** to **[`18db65a`](https://github.com/sagemath/sagetrac-mirror/commit/18db65aea44f52153f355a3ebada1a8a421e5876)**",
    "created_at": "2016-05-28T19:50:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-298660",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a584a6e`](https://github.com/sagemath/sagetrac-mirror/commit/a584a6e0b6c84e8c7aff4d2258dfc479a8053235)** to **[`18db65a`](https://github.com/sagemath/sagetrac-mirror/commit/18db65aea44f52153f355a3ebada1a8a421e5876)**



---

archive/issue_comments_298661.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/18db65aea44f52153f355a3ebada1a8a421e5876\"><code>18db65a</code></a></td><td><code>Fixed spacing</code></td></tr></table>\n",
    "created_at": "2016-05-28T19:50:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-298661",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/18db65aea44f52153f355a3ebada1a8a421e5876"><code>18db65a</code></a></td><td><code>Fixed spacing</code></td></tr></table>




---

archive/issue_comments_298662.json:
```json
{
    "body": "Reviewer: **Michael Welsh**",
    "created_at": "2016-05-28T21:04:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-298662",
    "user": "https://github.com/sagetrac-yomcat"
}
```

Reviewer: **Michael Welsh**



---

archive/issue_comments_298663.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nFirst, you have a bunch of doubled-up doctests (one with the explicit option, one without).\n\nThis happens (it's due to a capital C):\n\n```\nsage -t --long --warn-long 69.0 src/sage/matroids/circuit_closures_matroid.pyx\n**********************************************************************\nFile \"src/sage/matroids/circuit_closures_matroid.pyx\", line 393, in sage.matroids.circuit_closures_matroid.CircuitClosuresMatroid._is_isomorphic\nFailed example:\n    M1._is_isomorphic(M2, Certificate=True)\nException raised:\n    Traceback (most recent call last):\n      File \"/Applications/sage-devel/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 498, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Applications/sage-devel/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 861, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.matroids.circuit_closures_matroid.CircuitClosuresMatroid._is_isomorphic[9]>\", line 1, in <module>\n        M1._is_isomorphic(M2, Certificate=True)\n      File \"sage/matroids/circuit_closures_matroid.pyx\", line 358, in sage.matroids.circuit_closures_matroid.CircuitClosuresMatroid._is_isomorphic (/Applications/sage-devel/src/build/cythonized/sage/matroids/circuit_closures_matroid.c:4575)\n        cpdef _is_isomorphic(self, other, certificate=False):\n    TypeError: _is_isomorphic() got an unexpected keyword argument 'Certificate'\n**********************************************************************\n1 item had failures:\n   1 of  12 in sage.matroids.circuit_closures_matroid.CircuitClosuresMatroid._is_isomorphic\n    [81 tests, 1 failure, 0.30 s]\n```\n\nLast doctest in BasisExchangeMatroid is missing the explicit option.\n\nAround line 2694 in `linear_matroid.pyx`, you've removed an extra space. It should be `return True, None`.\n\nYou've dropped an I from INPUT around line 355 of `circuit_closures_matroid.pyx`, and lines 3265, 4312, 5941 of `linear_matroid.pyx`",
    "created_at": "2016-05-28T21:04:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-298663",
    "user": "https://github.com/sagetrac-yomcat"
}
```

<div id="comment:15" align="right">comment:15</div>

First, you have a bunch of doubled-up doctests (one with the explicit option, one without).

This happens (it's due to a capital C):

```
sage -t --long --warn-long 69.0 src/sage/matroids/circuit_closures_matroid.pyx
**********************************************************************
File "src/sage/matroids/circuit_closures_matroid.pyx", line 393, in sage.matroids.circuit_closures_matroid.CircuitClosuresMatroid._is_isomorphic
Failed example:
    M1._is_isomorphic(M2, Certificate=True)
Exception raised:
    Traceback (most recent call last):
      File "/Applications/sage-devel/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 498, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Applications/sage-devel/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 861, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.matroids.circuit_closures_matroid.CircuitClosuresMatroid._is_isomorphic[9]>", line 1, in <module>
        M1._is_isomorphic(M2, Certificate=True)
      File "sage/matroids/circuit_closures_matroid.pyx", line 358, in sage.matroids.circuit_closures_matroid.CircuitClosuresMatroid._is_isomorphic (/Applications/sage-devel/src/build/cythonized/sage/matroids/circuit_closures_matroid.c:4575)
        cpdef _is_isomorphic(self, other, certificate=False):
    TypeError: _is_isomorphic() got an unexpected keyword argument 'Certificate'
**********************************************************************
1 item had failures:
   1 of  12 in sage.matroids.circuit_closures_matroid.CircuitClosuresMatroid._is_isomorphic
    [81 tests, 1 failure, 0.30 s]
```

Last doctest in BasisExchangeMatroid is missing the explicit option.

Around line 2694 in `linear_matroid.pyx`, you've removed an extra space. It should be `return True, None`.

You've dropped an I from INPUT around line 355 of `circuit_closures_matroid.pyx`, and lines 3265, 4312, 5941 of `linear_matroid.pyx`



---

archive/issue_comments_298664.json:
```json
{
    "body": "Author: **Tara Fife**",
    "created_at": "2016-05-28T21:04:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-298664",
    "user": "https://github.com/sagetrac-yomcat"
}
```

Author: **Tara Fife**



---

archive/issue_comments_298665.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/380af24ea18e92f156fb4b5f76b41daee1dc47cb\"><code>380af24</code></a></td><td><code>Fixed errors</code></td></tr></table>\n",
    "created_at": "2016-05-28T22:28:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-298665",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/380af24ea18e92f156fb4b5f76b41daee1dc47cb"><code>380af24</code></a></td><td><code>Fixed errors</code></td></tr></table>




---

archive/issue_comments_298666.json:
```json
{
    "body": "Changed commit from **[`18db65a`](https://github.com/sagemath/sagetrac-mirror/commit/18db65aea44f52153f355a3ebada1a8a421e5876)** to **[`380af24`](https://github.com/sagemath/sagetrac-mirror/commit/380af24ea18e92f156fb4b5f76b41daee1dc47cb)**",
    "created_at": "2016-05-28T22:28:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-298666",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`18db65a`](https://github.com/sagemath/sagetrac-mirror/commit/18db65aea44f52153f355a3ebada1a8a421e5876)** to **[`380af24`](https://github.com/sagemath/sagetrac-mirror/commit/380af24ea18e92f156fb4b5f76b41daee1dc47cb)**



---

archive/issue_comments_298667.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d39e113b1f206c1351d9699f45186653d5b91b49\"><code>d39e113</code></a></td><td><code>Missed one doctest</code></td></tr></table>\n",
    "created_at": "2016-05-28T22:40:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-298667",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d39e113b1f206c1351d9699f45186653d5b91b49"><code>d39e113</code></a></td><td><code>Missed one doctest</code></td></tr></table>




---

archive/issue_comments_298668.json:
```json
{
    "body": "Changed commit from **[`380af24`](https://github.com/sagemath/sagetrac-mirror/commit/380af24ea18e92f156fb4b5f76b41daee1dc47cb)** to **[`d39e113`](https://github.com/sagemath/sagetrac-mirror/commit/d39e113b1f206c1351d9699f45186653d5b91b49)**",
    "created_at": "2016-05-28T22:40:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-298668",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`380af24`](https://github.com/sagemath/sagetrac-mirror/commit/380af24ea18e92f156fb4b5f76b41daee1dc47cb)** to **[`d39e113`](https://github.com/sagemath/sagetrac-mirror/commit/d39e113b1f206c1351d9699f45186653d5b91b49)**



---

archive/issue_comments_298669.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nYou missed one doctest, but I cleaned it up. If you're happy now with that (I'm happy now), set it to positive.",
    "created_at": "2016-05-28T22:42:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-298669",
    "user": "https://github.com/sagetrac-yomcat"
}
```

<div id="comment:18" align="right">comment:18</div>

You missed one doctest, but I cleaned it up. If you're happy now with that (I'm happy now), set it to positive.



---

archive/issue_comments_298670.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nI don't see anything wrong with it. My doctest has been acting weird for the last couple of hours. On this file, its now giving me 13 errors, each of which saying that `is_isomorphic()` or `_is_isomorphic()` is only supposed to be taking one parameter. Before it was saying that everything passes when it shouldn't have been.",
    "created_at": "2016-05-28T22:51:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-298670",
    "user": "https://github.com/TaraFife"
}
```

<div id="comment:19" align="right">comment:19</div>

I don't see anything wrong with it. My doctest has been acting weird for the last couple of hours. On this file, its now giving me 13 errors, each of which saying that `is_isomorphic()` or `_is_isomorphic()` is only supposed to be taking one parameter. Before it was saying that everything passes when it shouldn't have been.



---

archive/issue_comments_298671.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@TaraFife](#comment:19):\n> I don't see anything wrong with it. My doctest has been acting weird for the last couple of hours. On this file, its now giving me 13 errors, each of which saying that `is_isomorphic()` or `_is_isomorphic()` is only supposed to be taking one parameter. Before it was saying that everything passes when it shouldn't have been.\n\nThat sounds like you're partially in the wrong branch (so not all the changes are being applied). Have you run `./sage -br`?",
    "created_at": "2016-05-28T22:58:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-298671",
    "user": "https://github.com/sagetrac-yomcat"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@TaraFife](#comment:19):
> I don't see anything wrong with it. My doctest has been acting weird for the last couple of hours. On this file, its now giving me 13 errors, each of which saying that `is_isomorphic()` or `_is_isomorphic()` is only supposed to be taking one parameter. Before it was saying that everything passes when it shouldn't have been.

That sounds like you're partially in the wrong branch (so not all the changes are being applied). Have you run `./sage -br`?



---

archive/issue_comments_298672.json:
```json
{
    "body": "Changed commit from **[`d39e113`](https://github.com/sagemath/sagetrac-mirror/commit/d39e113b1f206c1351d9699f45186653d5b91b49)** to **[`d9cc323`](https://github.com/sagemath/sagetrac-mirror/commit/d9cc323ddb1d66bfe39b40a8191a55a515d13966)**",
    "created_at": "2016-05-28T23:11:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-298672",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d39e113`](https://github.com/sagemath/sagetrac-mirror/commit/d39e113b1f206c1351d9699f45186653d5b91b49)** to **[`d9cc323`](https://github.com/sagemath/sagetrac-mirror/commit/d9cc323ddb1d66bfe39b40a8191a55a515d13966)**



---

archive/issue_comments_298673.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d9cc323ddb1d66bfe39b40a8191a55a515d13966\"><code>d9cc323</code></a></td><td><code>A bug was added accidentally. Removed.</code></td></tr></table>\n",
    "created_at": "2016-05-28T23:11:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-298673",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d9cc323ddb1d66bfe39b40a8191a55a515d13966"><code>d9cc323</code></a></td><td><code>A bug was added accidentally. Removed.</code></td></tr></table>




---

archive/issue_comments_298674.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nReplying to [@sagetrac-yomcat](#comment:20):\n> Replying to [@TaraFife](#comment:19):\n> > I don't see anything wrong with it. My doctest has been acting weird for the last couple of hours. On this file, its now giving me 13 errors, each of which saying that `is_isomorphic()` or `_is_isomorphic()` is only supposed to be taking one parameter. Before it was saying that everything passes when it shouldn't have been.\n\n> \n> That sounds like you're partially in the wrong branch (so not all the changes are being applied). Have you run `./sage -br`?\n\nThat worked for me. What exactly does ./sage -br do? I don't remember seeing it before.",
    "created_at": "2016-05-29T02:16:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-298674",
    "user": "https://github.com/TaraFife"
}
```

<div id="comment:22" align="right">comment:22</div>

Replying to [@sagetrac-yomcat](#comment:20):
> Replying to [@TaraFife](#comment:19):
> > I don't see anything wrong with it. My doctest has been acting weird for the last couple of hours. On this file, its now giving me 13 errors, each of which saying that `is_isomorphic()` or `_is_isomorphic()` is only supposed to be taking one parameter. Before it was saying that everything passes when it shouldn't have been.

> 
> That sounds like you're partially in the wrong branch (so not all the changes are being applied). Have you run `./sage -br`?

That worked for me. What exactly does ./sage -br do? I don't remember seeing it before.



---

archive/issue_events_288327.json:
```json
{
    "actor": "https://github.com/TaraFife",
    "created_at": "2016-05-29T02:16:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20660#event-288327"
}
```



---

archive/issue_events_288328.json:
```json
{
    "actor": "https://github.com/TaraFife",
    "created_at": "2016-05-29T02:16:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20660#event-288328"
}
```



---

archive/issue_comments_298675.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nReplying to [@TaraFife](#comment:22):\n> Replying to [@sagetrac-yomcat](#comment:20):\n> > Replying to [@TaraFife](#comment:19):\n> > > I don't see anything wrong with it. My doctest has been acting weird for the last couple of hours. On this file, its now giving me 13 errors, each of which saying that `is_isomorphic()` or `_is_isomorphic()` is only supposed to be taking one parameter. Before it was saying that everything passes when it shouldn't have been.\n\n> > \n> > That sounds like you're partially in the wrong branch (so not all the changes are being applied). Have you run `./sage -br`?\n\n> \n> That worked for me. What exactly does ./sage -br do? I don't remember seeing it before.\n\nIt rebuilds the sage library (just the bits that have changed). You need to do it to make your updated code work.\n\nhttp://doc.sagemath.org/html/en/developer/walk_through.html#section-walkthrough-make",
    "created_at": "2016-05-29T03:12:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-298675",
    "user": "https://github.com/sagetrac-yomcat"
}
```

<div id="comment:24" align="right">comment:24</div>

Replying to [@TaraFife](#comment:22):
> Replying to [@sagetrac-yomcat](#comment:20):
> > Replying to [@TaraFife](#comment:19):
> > > I don't see anything wrong with it. My doctest has been acting weird for the last couple of hours. On this file, its now giving me 13 errors, each of which saying that `is_isomorphic()` or `_is_isomorphic()` is only supposed to be taking one parameter. Before it was saying that everything passes when it shouldn't have been.

> > 
> > That sounds like you're partially in the wrong branch (so not all the changes are being applied). Have you run `./sage -br`?

> 
> That worked for me. What exactly does ./sage -br do? I don't remember seeing it before.

It rebuilds the sage library (just the bits that have changed). You need to do it to make your updated code work.

http://doc.sagemath.org/html/en/developer/walk_through.html#section-walkthrough-make



---

archive/issue_events_288329.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-05-31T07:29:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20660#event-288329"
}
```



---

archive/issue_events_288330.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "00a843681ab917afdd3fa589faa167989bd81811",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-05-31T07:29:44Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20660#event-288330"
}
```



---

archive/issue_comments_298676.json:
```json
{
    "body": "Changed branch from **[public/ticket/20660](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/20660)** to **[`d9cc323`](https://github.com/sagemath/sagetrac-mirror/commit/d9cc323ddb1d66bfe39b40a8191a55a515d13966)**",
    "created_at": "2016-05-31T07:29:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-298676",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/ticket/20660](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/20660)** to **[`d9cc323`](https://github.com/sagemath/sagetrac-mirror/commit/d9cc323ddb1d66bfe39b40a8191a55a515d13966)**
