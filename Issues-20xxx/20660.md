# Issue 20660: Add Certificate to is_isomorphic() in the matroids package

archive/issues_020423.json:
```json
{
    "assignees": [],
    "body": "We are going to add an option to get certificate when testing if two matroids are isomorphic. I will be doing this.\n\n**CC:**  Stefan yomcat\n\n**Keywords:** matroid, isomorphism\n\n**Branch/Commit:** [d9cc323ddb1d66bfe39b40a8191a55a515d13966](https://github.com/sagemath/sagetrac-mirror/commit/d9cc323ddb1d66bfe39b40a8191a55a515d13966)\n\n**Reviewer:** Michael Welsh\n\n**Author:** Tara Fife\n\nIssue created by migration from https://trac.sagemath.org/ticket/20660\n\n",
    "closed_at": "2016-05-31T07:29:44Z",
    "created_at": "2016-05-23T15:10:29Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20matroid%20theory",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Add Certificate to is_isomorphic() in the matroids package",
    "type": "issue",
    "updated_at": "2016-05-31T07:29:44Z",
    "url": "https://github.com/sagemath/sage/issues/20660",
    "user": "https://github.com/TaraFife"
}
```
We are going to add an option to get certificate when testing if two matroids are isomorphic. I will be doing this.

**CC:**  Stefan yomcat

**Keywords:** matroid, isomorphism

**Branch/Commit:** [d9cc323ddb1d66bfe39b40a8191a55a515d13966](https://github.com/sagemath/sagetrac-mirror/commit/d9cc323ddb1d66bfe39b40a8191a55a515d13966)

**Reviewer:** Michael Welsh

**Author:** Tara Fife

Issue created by migration from https://trac.sagemath.org/ticket/20660





---

archive/issue_events_251464.json:
```json
{
    "actor": "https://github.com/TaraFife",
    "created_at": "2016-05-23T15:10:29Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "milestone_number": null,
    "milestone_title": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20660#event-251464"
}
```



---

archive/issue_events_251465.json:
```json
{
    "actor": "https://github.com/sagetrac-yomcat",
    "created_at": "2016-05-24T05:06:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "008080",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20660#event-251465"
}
```



---

archive/issue_events_251466.json:
```json
{
    "actor": "https://github.com/sagetrac-yomcat",
    "created_at": "2016-05-24T05:06:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20matroid%20theory",
    "label_color": "08517b",
    "label_name": "component: matroid theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20660#event-251466"
}
```



---

archive/issue_comments_301209.json:
```json
{
    "body": "**Branch:** [public/ticket/20660](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/20660)",
    "created_at": "2016-05-26T21:31:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-301209",
    "user": "https://github.com/TaraFife"
}
```

**Branch:** [public/ticket/20660](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/20660)



---

archive/issue_comments_301210.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4ee8641a27d6ac2492f0233c057754af7acfc99f\">4ee8641</a></td><td><code>Added an optional parameter cert to allow the user to ask for a certificate if the two matroids are isomorphic.</code></td></tr></table>\n",
    "created_at": "2016-05-26T21:37:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-301210",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:3'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4ee8641a27d6ac2492f0233c057754af7acfc99f">4ee8641</a></td><td><code>Added an optional parameter cert to allow the user to ask for a certificate if the two matroids are isomorphic.</code></td></tr></table>




---

archive/issue_comments_301211.json:
```json
{
    "body": "**Commit:** [4ee8641a27d6ac2492f0233c057754af7acfc99f](https://github.com/sagemath/sagetrac-mirror/commit/4ee8641a27d6ac2492f0233c057754af7acfc99f)",
    "created_at": "2016-05-26T21:37:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-301211",
    "user": "https://github.com/sagetrac-git"
}
```

**Commit:** [4ee8641a27d6ac2492f0233c057754af7acfc99f](https://github.com/sagemath/sagetrac-mirror/commit/4ee8641a27d6ac2492f0233c057754af7acfc99f)



---

archive/issue_comments_301212.json:
```json
{
    "body": "<a id='comment:4'></a>\nRight now, I'm happy with the code except for in basis_exchange_matroid, `M1._is_isomorphic(M2, True)` yields the output `(True, True)` on line 2272, and similarly on line 2278. This doesn't seem to be something that I caused directly, but might be due to the following code found in `_isomorphism()` in basis_matroid.pyx (lines 980-981). \n\n```\nif not isinstance(other, BasisMatroid):\n    return BasisExchangeMatroid._is_isomorphic(self, other)\n```\n\nI'm not sure exactly how to tell what type of matroid a thing is when it gets instigated. Regardless, is there any reason why we don't want to or are unable to return an isomorphism in the above case?",
    "created_at": "2016-05-26T22:03:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-301212",
    "user": "https://github.com/TaraFife"
}
```

<a id='comment:4'></a>
Right now, I'm happy with the code except for in basis_exchange_matroid, `M1._is_isomorphic(M2, True)` yields the output `(True, True)` on line 2272, and similarly on line 2278. This doesn't seem to be something that I caused directly, but might be due to the following code found in `_isomorphism()` in basis_matroid.pyx (lines 980-981). 

```
if not isinstance(other, BasisMatroid):
    return BasisExchangeMatroid._is_isomorphic(self, other)
```

I'm not sure exactly how to tell what type of matroid a thing is when it gets instigated. Regardless, is there any reason why we don't want to or are unable to return an isomorphism in the above case?



---

archive/issue_comments_301213.json:
```json
{
    "body": "<a id='comment:5'></a>\nIf you're calling another instance of the is_isomorphic method, you should pass through all parameters. So the line you quote needs to be changed to\n\n```\nif not isinstance(other, BasisMatroid):\n    return BasisExchangeMatroid._is_isomorphic(self, other, cert)\n```",
    "created_at": "2016-05-27T01:54:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-301213",
    "user": "https://github.com/sagetrac-Stefan"
}
```

<a id='comment:5'></a>
If you're calling another instance of the is_isomorphic method, you should pass through all parameters. So the line you quote needs to be changed to

```
if not isinstance(other, BasisMatroid):
    return BasisExchangeMatroid._is_isomorphic(self, other, cert)
```



---

archive/issue_comments_301214.json:
```json
{
    "body": "<a id='comment:6'></a>\nReplying to [Stefan](#comment%3A5):\n> If you're calling another instance of the is_isomorphic method, you should pass through all parameters. So the line you quote needs to be changed to\n> \n> ```\n> if not isinstance(other, BasisMatroid):\n>     return BasisExchangeMatroid._is_isomorphic(self, other, cert)\n> ```\n\nMy question was why we are calling `is_isomorphic` instead of `isomorphism`. For instance, the following comes from an unedited version of sage. But I would expect a dictionary instead of a boolean.\n\n```\nsage: from sage.matroids.advanced import *\nsage: M1 = BasisMatroid(matroids.Wheel(3))\nsage: M2 = matroids.CompleteGraphic(4)\nsage: M1.isomorphism(M2)\nTrue\n```\n\nSo I think that this is a bug in Sage.",
    "created_at": "2016-05-27T02:04:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-301214",
    "user": "https://github.com/TaraFife"
}
```

<a id='comment:6'></a>
Replying to [Stefan](#comment%3A5):
> If you're calling another instance of the is_isomorphic method, you should pass through all parameters. So the line you quote needs to be changed to
> 
> ```
> if not isinstance(other, BasisMatroid):
>     return BasisExchangeMatroid._is_isomorphic(self, other, cert)
> ```

My question was why we are calling `is_isomorphic` instead of `isomorphism`. For instance, the following comes from an unedited version of sage. But I would expect a dictionary instead of a boolean.

```
sage: from sage.matroids.advanced import *
sage: M1 = BasisMatroid(matroids.Wheel(3))
sage: M2 = matroids.CompleteGraphic(4)
sage: M1.isomorphism(M2)
True
```

So I think that this is a bug in Sage.



---

archive/issue_comments_301215.json:
```json
{
    "body": "<a id='comment:7'></a>\nI think you're right. Normally the right thing to do would be to open a separate ticket for the bug, but since you're editing the same methods already, you might as well fix it in this ticket.",
    "created_at": "2016-05-27T02:13:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-301215",
    "user": "https://github.com/sagetrac-Stefan"
}
```

<a id='comment:7'></a>
I think you're right. Normally the right thing to do would be to open a separate ticket for the bug, but since you're editing the same methods already, you might as well fix it in this ticket.



---

archive/issue_comments_301216.json:
```json
{
    "body": "<a id='comment:8'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ea46145fe2a6d8b243e155e54918cb5b9c6a2190\">ea46145</a></td><td><code>Fixed bug in basis_matroid, and updated the documentation is basis_exchange_matroid</code></td></tr></table>\n",
    "created_at": "2016-05-27T02:48:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-301216",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:8'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ea46145fe2a6d8b243e155e54918cb5b9c6a2190">ea46145</a></td><td><code>Fixed bug in basis_matroid, and updated the documentation is basis_exchange_matroid</code></td></tr></table>




---

archive/issue_comments_301217.json:
```json
{
    "body": "**Changing commit** from \"[4ee8641a27d6ac2492f0233c057754af7acfc99f](https://github.com/sagemath/sagetrac-mirror/commit/4ee8641a27d6ac2492f0233c057754af7acfc99f)\" to \"[ea46145fe2a6d8b243e155e54918cb5b9c6a2190](https://github.com/sagemath/sagetrac-mirror/commit/ea46145fe2a6d8b243e155e54918cb5b9c6a2190)\".",
    "created_at": "2016-05-27T02:48:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-301217",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[4ee8641a27d6ac2492f0233c057754af7acfc99f](https://github.com/sagemath/sagetrac-mirror/commit/4ee8641a27d6ac2492f0233c057754af7acfc99f)" to "[ea46145fe2a6d8b243e155e54918cb5b9c6a2190](https://github.com/sagemath/sagetrac-mirror/commit/ea46145fe2a6d8b243e155e54918cb5b9c6a2190)".



---

archive/issue_events_251467.json:
```json
{
    "actor": "https://github.com/TaraFife",
    "created_at": "2016-05-27T02:49:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20660#event-251467"
}
```



---

archive/issue_comments_301218.json:
```json
{
    "body": "<a id='comment:10'></a>\nI'll have a proper look later, but you should change `cert` to `certificate` as `is_3connected()` has for consistency.",
    "created_at": "2016-05-27T03:06:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-301218",
    "user": "https://github.com/sagetrac-yomcat"
}
```

<a id='comment:10'></a>
I'll have a proper look later, but you should change `cert` to `certificate` as `is_3connected()` has for consistency.



---

archive/issue_comments_301219.json:
```json
{
    "body": "**Changing commit** from \"[ea46145fe2a6d8b243e155e54918cb5b9c6a2190](https://github.com/sagemath/sagetrac-mirror/commit/ea46145fe2a6d8b243e155e54918cb5b9c6a2190)\" to \"[12a4b3d50d34912f44c6f700b95fdc7360612162](https://github.com/sagemath/sagetrac-mirror/commit/12a4b3d50d34912f44c6f700b95fdc7360612162)\".",
    "created_at": "2016-05-27T19:31:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-301219",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[ea46145fe2a6d8b243e155e54918cb5b9c6a2190](https://github.com/sagemath/sagetrac-mirror/commit/ea46145fe2a6d8b243e155e54918cb5b9c6a2190)" to "[12a4b3d50d34912f44c6f700b95fdc7360612162](https://github.com/sagemath/sagetrac-mirror/commit/12a4b3d50d34912f44c6f700b95fdc7360612162)".



---

archive/issue_comments_301220.json:
```json
{
    "body": "<a id='comment:11'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/12a4b3d50d34912f44c6f700b95fdc7360612162\">12a4b3d</a></td><td><code>Changed cert to certificate</code></td></tr></table>\n",
    "created_at": "2016-05-27T19:31:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-301220",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:11'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/12a4b3d50d34912f44c6f700b95fdc7360612162">12a4b3d</a></td><td><code>Changed cert to certificate</code></td></tr></table>




---

archive/issue_events_251468.json:
```json
{
    "actor": "https://github.com/sagetrac-yomcat",
    "created_at": "2016-05-27T21:12:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20660#event-251468"
}
```



---

archive/issue_events_251469.json:
```json
{
    "actor": "https://github.com/sagetrac-yomcat",
    "created_at": "2016-05-27T21:12:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20660#event-251469"
}
```



---

archive/issue_comments_301221.json:
```json
{
    "body": "<a id='comment:12'></a>\nA few minor things:\n\n* There's some extraneous whitespace after your commas -- use `git trac review` to see it easily.\n* You haven't fully made the `cert` to `certificate` change. The pxd files are causing errors upon compilation because of it.\n* In the doctests, you should specify the option, ie: `M.is_isomorphic(N, certificate=True)`\n* In the output part of the docstring, you should say what that the dictionary shows the isomorphism, and None is output when the matroids aren't isomorphic.",
    "created_at": "2016-05-27T21:12:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-301221",
    "user": "https://github.com/sagetrac-yomcat"
}
```

<a id='comment:12'></a>
A few minor things:

* There's some extraneous whitespace after your commas -- use `git trac review` to see it easily.
* You haven't fully made the `cert` to `certificate` change. The pxd files are causing errors upon compilation because of it.
* In the doctests, you should specify the option, ie: `M.is_isomorphic(N, certificate=True)`
* In the output part of the docstring, you should say what that the dictionary shows the isomorphism, and None is output when the matroids aren't isomorphic.



---

archive/issue_comments_301222.json:
```json
{
    "body": "<a id='comment:13'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a584a6e0b6c84e8c7aff4d2258dfc479a8053235\">a584a6e</a></td><td><code>Fixed errors from comment</code></td></tr></table>\n",
    "created_at": "2016-05-28T19:48:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-301222",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:13'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a584a6e0b6c84e8c7aff4d2258dfc479a8053235">a584a6e</a></td><td><code>Fixed errors from comment</code></td></tr></table>




---

archive/issue_comments_301223.json:
```json
{
    "body": "**Changing commit** from \"[12a4b3d50d34912f44c6f700b95fdc7360612162](https://github.com/sagemath/sagetrac-mirror/commit/12a4b3d50d34912f44c6f700b95fdc7360612162)\" to \"[a584a6e0b6c84e8c7aff4d2258dfc479a8053235](https://github.com/sagemath/sagetrac-mirror/commit/a584a6e0b6c84e8c7aff4d2258dfc479a8053235)\".",
    "created_at": "2016-05-28T19:48:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-301223",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[12a4b3d50d34912f44c6f700b95fdc7360612162](https://github.com/sagemath/sagetrac-mirror/commit/12a4b3d50d34912f44c6f700b95fdc7360612162)" to "[a584a6e0b6c84e8c7aff4d2258dfc479a8053235](https://github.com/sagemath/sagetrac-mirror/commit/a584a6e0b6c84e8c7aff4d2258dfc479a8053235)".



---

archive/issue_comments_301224.json:
```json
{
    "body": "**Changing commit** from \"[a584a6e0b6c84e8c7aff4d2258dfc479a8053235](https://github.com/sagemath/sagetrac-mirror/commit/a584a6e0b6c84e8c7aff4d2258dfc479a8053235)\" to \"[18db65aea44f52153f355a3ebada1a8a421e5876](https://github.com/sagemath/sagetrac-mirror/commit/18db65aea44f52153f355a3ebada1a8a421e5876)\".",
    "created_at": "2016-05-28T19:50:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-301224",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[a584a6e0b6c84e8c7aff4d2258dfc479a8053235](https://github.com/sagemath/sagetrac-mirror/commit/a584a6e0b6c84e8c7aff4d2258dfc479a8053235)" to "[18db65aea44f52153f355a3ebada1a8a421e5876](https://github.com/sagemath/sagetrac-mirror/commit/18db65aea44f52153f355a3ebada1a8a421e5876)".



---

archive/issue_comments_301225.json:
```json
{
    "body": "<a id='comment:14'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/18db65aea44f52153f355a3ebada1a8a421e5876\">18db65a</a></td><td><code>Fixed spacing</code></td></tr></table>\n",
    "created_at": "2016-05-28T19:50:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-301225",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:14'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/18db65aea44f52153f355a3ebada1a8a421e5876">18db65a</a></td><td><code>Fixed spacing</code></td></tr></table>




---

archive/issue_comments_301226.json:
```json
{
    "body": "**Reviewer:** Michael Welsh",
    "created_at": "2016-05-28T21:04:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-301226",
    "user": "https://github.com/sagetrac-yomcat"
}
```

**Reviewer:** Michael Welsh



---

archive/issue_comments_301227.json:
```json
{
    "body": "<a id='comment:15'></a>\nFirst, you have a bunch of doubled-up doctests (one with the explicit option, one without).\n\nThis happens (it's due to a capital C):\n\n```\nsage -t --long --warn-long 69.0 src/sage/matroids/circuit_closures_matroid.pyx\n**********************************************************************\nFile \"src/sage/matroids/circuit_closures_matroid.pyx\", line 393, in sage.matroids.circuit_closures_matroid.CircuitClosuresMatroid._is_isomorphic\nFailed example:\n    M1._is_isomorphic(M2, Certificate=True)\nException raised:\n    Traceback (most recent call last):\n      File \"/Applications/sage-devel/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 498, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Applications/sage-devel/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 861, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.matroids.circuit_closures_matroid.CircuitClosuresMatroid._is_isomorphic[9]>\", line 1, in <module>\n        M1._is_isomorphic(M2, Certificate=True)\n      File \"sage/matroids/circuit_closures_matroid.pyx\", line 358, in sage.matroids.circuit_closures_matroid.CircuitClosuresMatroid._is_isomorphic (/Applications/sage-devel/src/build/cythonized/sage/matroids/circuit_closures_matroid.c:4575)\n        cpdef _is_isomorphic(self, other, certificate=False):\n    TypeError: _is_isomorphic() got an unexpected keyword argument 'Certificate'\n**********************************************************************\n1 item had failures:\n   1 of  12 in sage.matroids.circuit_closures_matroid.CircuitClosuresMatroid._is_isomorphic\n    [81 tests, 1 failure, 0.30 s]\n```\n\nLast doctest in BasisExchangeMatroid is missing the explicit option.\n\nAround line 2694 in `linear_matroid.pyx`, you've removed an extra space. It should be `return True, None`.\n\nYou've dropped an I from INPUT around line 355 of `circuit_closures_matroid.pyx`, and lines 3265, 4312, 5941 of `linear_matroid.pyx`",
    "created_at": "2016-05-28T21:04:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-301227",
    "user": "https://github.com/sagetrac-yomcat"
}
```

<a id='comment:15'></a>
First, you have a bunch of doubled-up doctests (one with the explicit option, one without).

This happens (it's due to a capital C):

```
sage -t --long --warn-long 69.0 src/sage/matroids/circuit_closures_matroid.pyx
**********************************************************************
File "src/sage/matroids/circuit_closures_matroid.pyx", line 393, in sage.matroids.circuit_closures_matroid.CircuitClosuresMatroid._is_isomorphic
Failed example:
    M1._is_isomorphic(M2, Certificate=True)
Exception raised:
    Traceback (most recent call last):
      File "/Applications/sage-devel/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 498, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Applications/sage-devel/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 861, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.matroids.circuit_closures_matroid.CircuitClosuresMatroid._is_isomorphic[9]>", line 1, in <module>
        M1._is_isomorphic(M2, Certificate=True)
      File "sage/matroids/circuit_closures_matroid.pyx", line 358, in sage.matroids.circuit_closures_matroid.CircuitClosuresMatroid._is_isomorphic (/Applications/sage-devel/src/build/cythonized/sage/matroids/circuit_closures_matroid.c:4575)
        cpdef _is_isomorphic(self, other, certificate=False):
    TypeError: _is_isomorphic() got an unexpected keyword argument 'Certificate'
**********************************************************************
1 item had failures:
   1 of  12 in sage.matroids.circuit_closures_matroid.CircuitClosuresMatroid._is_isomorphic
    [81 tests, 1 failure, 0.30 s]
```

Last doctest in BasisExchangeMatroid is missing the explicit option.

Around line 2694 in `linear_matroid.pyx`, you've removed an extra space. It should be `return True, None`.

You've dropped an I from INPUT around line 355 of `circuit_closures_matroid.pyx`, and lines 3265, 4312, 5941 of `linear_matroid.pyx`



---

archive/issue_comments_301228.json:
```json
{
    "body": "**Author:** Tara Fife",
    "created_at": "2016-05-28T21:04:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-301228",
    "user": "https://github.com/sagetrac-yomcat"
}
```

**Author:** Tara Fife



---

archive/issue_comments_301229.json:
```json
{
    "body": "<a id='comment:16'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/380af24ea18e92f156fb4b5f76b41daee1dc47cb\">380af24</a></td><td><code>Fixed errors</code></td></tr></table>\n",
    "created_at": "2016-05-28T22:28:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-301229",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:16'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/380af24ea18e92f156fb4b5f76b41daee1dc47cb">380af24</a></td><td><code>Fixed errors</code></td></tr></table>




---

archive/issue_comments_301230.json:
```json
{
    "body": "**Changing commit** from \"[18db65aea44f52153f355a3ebada1a8a421e5876](https://github.com/sagemath/sagetrac-mirror/commit/18db65aea44f52153f355a3ebada1a8a421e5876)\" to \"[380af24ea18e92f156fb4b5f76b41daee1dc47cb](https://github.com/sagemath/sagetrac-mirror/commit/380af24ea18e92f156fb4b5f76b41daee1dc47cb)\".",
    "created_at": "2016-05-28T22:28:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-301230",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[18db65aea44f52153f355a3ebada1a8a421e5876](https://github.com/sagemath/sagetrac-mirror/commit/18db65aea44f52153f355a3ebada1a8a421e5876)" to "[380af24ea18e92f156fb4b5f76b41daee1dc47cb](https://github.com/sagemath/sagetrac-mirror/commit/380af24ea18e92f156fb4b5f76b41daee1dc47cb)".



---

archive/issue_comments_301231.json:
```json
{
    "body": "<a id='comment:17'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d39e113b1f206c1351d9699f45186653d5b91b49\">d39e113</a></td><td><code>Missed one doctest</code></td></tr></table>\n",
    "created_at": "2016-05-28T22:40:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-301231",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:17'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d39e113b1f206c1351d9699f45186653d5b91b49">d39e113</a></td><td><code>Missed one doctest</code></td></tr></table>




---

archive/issue_comments_301232.json:
```json
{
    "body": "**Changing commit** from \"[380af24ea18e92f156fb4b5f76b41daee1dc47cb](https://github.com/sagemath/sagetrac-mirror/commit/380af24ea18e92f156fb4b5f76b41daee1dc47cb)\" to \"[d39e113b1f206c1351d9699f45186653d5b91b49](https://github.com/sagemath/sagetrac-mirror/commit/d39e113b1f206c1351d9699f45186653d5b91b49)\".",
    "created_at": "2016-05-28T22:40:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-301232",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[380af24ea18e92f156fb4b5f76b41daee1dc47cb](https://github.com/sagemath/sagetrac-mirror/commit/380af24ea18e92f156fb4b5f76b41daee1dc47cb)" to "[d39e113b1f206c1351d9699f45186653d5b91b49](https://github.com/sagemath/sagetrac-mirror/commit/d39e113b1f206c1351d9699f45186653d5b91b49)".



---

archive/issue_comments_301233.json:
```json
{
    "body": "<a id='comment:18'></a>\nYou missed one doctest, but I cleaned it up. If you're happy now with that (I'm happy now), set it to positive.",
    "created_at": "2016-05-28T22:42:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-301233",
    "user": "https://github.com/sagetrac-yomcat"
}
```

<a id='comment:18'></a>
You missed one doctest, but I cleaned it up. If you're happy now with that (I'm happy now), set it to positive.



---

archive/issue_comments_301234.json:
```json
{
    "body": "<a id='comment:19'></a>\nI don't see anything wrong with it. My doctest has been acting weird for the last couple of hours. On this file, its now giving me 13 errors, each of which saying that `is_isomorphic()` or `_is_isomorphic()` is only supposed to be taking one parameter. Before it was saying that everything passes when it shouldn't have been.",
    "created_at": "2016-05-28T22:51:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-301234",
    "user": "https://github.com/TaraFife"
}
```

<a id='comment:19'></a>
I don't see anything wrong with it. My doctest has been acting weird for the last couple of hours. On this file, its now giving me 13 errors, each of which saying that `is_isomorphic()` or `_is_isomorphic()` is only supposed to be taking one parameter. Before it was saying that everything passes when it shouldn't have been.



---

archive/issue_comments_301235.json:
```json
{
    "body": "<a id='comment:20'></a>\nReplying to [@TaraFife](#comment%3A19):\n> I don't see anything wrong with it. My doctest has been acting weird for the last couple of hours. On this file, its now giving me 13 errors, each of which saying that `is_isomorphic()` or `_is_isomorphic()` is only supposed to be taking one parameter. Before it was saying that everything passes when it shouldn't have been.\n\nThat sounds like you're partially in the wrong branch (so not all the changes are being applied). Have you run `./sage -br`?",
    "created_at": "2016-05-28T22:58:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-301235",
    "user": "https://github.com/sagetrac-yomcat"
}
```

<a id='comment:20'></a>
Replying to [@TaraFife](#comment%3A19):
> I don't see anything wrong with it. My doctest has been acting weird for the last couple of hours. On this file, its now giving me 13 errors, each of which saying that `is_isomorphic()` or `_is_isomorphic()` is only supposed to be taking one parameter. Before it was saying that everything passes when it shouldn't have been.

That sounds like you're partially in the wrong branch (so not all the changes are being applied). Have you run `./sage -br`?



---

archive/issue_comments_301236.json:
```json
{
    "body": "**Changing commit** from \"[d39e113b1f206c1351d9699f45186653d5b91b49](https://github.com/sagemath/sagetrac-mirror/commit/d39e113b1f206c1351d9699f45186653d5b91b49)\" to \"[d9cc323ddb1d66bfe39b40a8191a55a515d13966](https://github.com/sagemath/sagetrac-mirror/commit/d9cc323ddb1d66bfe39b40a8191a55a515d13966)\".",
    "created_at": "2016-05-28T23:11:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-301236",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[d39e113b1f206c1351d9699f45186653d5b91b49](https://github.com/sagemath/sagetrac-mirror/commit/d39e113b1f206c1351d9699f45186653d5b91b49)" to "[d9cc323ddb1d66bfe39b40a8191a55a515d13966](https://github.com/sagemath/sagetrac-mirror/commit/d9cc323ddb1d66bfe39b40a8191a55a515d13966)".



---

archive/issue_comments_301237.json:
```json
{
    "body": "<a id='comment:21'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d9cc323ddb1d66bfe39b40a8191a55a515d13966\">d9cc323</a></td><td><code>A bug was added accidentally. Removed.</code></td></tr></table>\n",
    "created_at": "2016-05-28T23:11:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-301237",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:21'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d9cc323ddb1d66bfe39b40a8191a55a515d13966">d9cc323</a></td><td><code>A bug was added accidentally. Removed.</code></td></tr></table>




---

archive/issue_comments_301238.json:
```json
{
    "body": "<a id='comment:22'></a>\nReplying to [yomcat](#comment%3A20):\n> Replying to [@TaraFife](#comment%3A19):\n> > I don't see anything wrong with it. My doctest has been acting weird for the last couple of hours. On this file, its now giving me 13 errors, each of which saying that `is_isomorphic()` or `_is_isomorphic()` is only supposed to be taking one parameter. Before it was saying that everything passes when it shouldn't have been.\n\n> \n> That sounds like you're partially in the wrong branch (so not all the changes are being applied). Have you run `./sage -br`?\n\nThat worked for me. What exactly does ./sage -br do? I don't remember seeing it before.",
    "created_at": "2016-05-29T02:16:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-301238",
    "user": "https://github.com/TaraFife"
}
```

<a id='comment:22'></a>
Replying to [yomcat](#comment%3A20):
> Replying to [@TaraFife](#comment%3A19):
> > I don't see anything wrong with it. My doctest has been acting weird for the last couple of hours. On this file, its now giving me 13 errors, each of which saying that `is_isomorphic()` or `_is_isomorphic()` is only supposed to be taking one parameter. Before it was saying that everything passes when it shouldn't have been.

> 
> That sounds like you're partially in the wrong branch (so not all the changes are being applied). Have you run `./sage -br`?

That worked for me. What exactly does ./sage -br do? I don't remember seeing it before.



---

archive/issue_events_251470.json:
```json
{
    "actor": "https://github.com/TaraFife",
    "created_at": "2016-05-29T02:16:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20660#event-251470"
}
```



---

archive/issue_events_251471.json:
```json
{
    "actor": "https://github.com/TaraFife",
    "created_at": "2016-05-29T02:16:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20660#event-251471"
}
```



---

archive/issue_comments_301239.json:
```json
{
    "body": "<a id='comment:24'></a>\nReplying to [@TaraFife](#comment%3A22):\n> Replying to [yomcat](#comment%3A20):\n> > Replying to [@TaraFife](#comment%3A19):\n> > > I don't see anything wrong with it. My doctest has been acting weird for the last couple of hours. On this file, its now giving me 13 errors, each of which saying that `is_isomorphic()` or `_is_isomorphic()` is only supposed to be taking one parameter. Before it was saying that everything passes when it shouldn't have been.\n\n> > \n> > That sounds like you're partially in the wrong branch (so not all the changes are being applied). Have you run `./sage -br`?\n\n> \n> That worked for me. What exactly does ./sage -br do? I don't remember seeing it before.\n\nIt rebuilds the sage library (just the bits that have changed). You need to do it to make your updated code work.\n\nhttp://doc.sagemath.org/html/en/developer/walk_through.html#section-walkthrough-make",
    "created_at": "2016-05-29T03:12:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-301239",
    "user": "https://github.com/sagetrac-yomcat"
}
```

<a id='comment:24'></a>
Replying to [@TaraFife](#comment%3A22):
> Replying to [yomcat](#comment%3A20):
> > Replying to [@TaraFife](#comment%3A19):
> > > I don't see anything wrong with it. My doctest has been acting weird for the last couple of hours. On this file, its now giving me 13 errors, each of which saying that `is_isomorphic()` or `_is_isomorphic()` is only supposed to be taking one parameter. Before it was saying that everything passes when it shouldn't have been.

> > 
> > That sounds like you're partially in the wrong branch (so not all the changes are being applied). Have you run `./sage -br`?

> 
> That worked for me. What exactly does ./sage -br do? I don't remember seeing it before.

It rebuilds the sage library (just the bits that have changed). You need to do it to make your updated code work.

http://doc.sagemath.org/html/en/developer/walk_through.html#section-walkthrough-make



---

archive/issue_events_251472.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-05-31T07:29:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20660#event-251472"
}
```



---

archive/issue_events_251473.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "00a843681ab917afdd3fa589faa167989bd81811",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-05-31T07:29:44Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20660#event-251473"
}
```



---

archive/issue_comments_301240.json:
```json
{
    "body": "**Changing branch** from \"[public/ticket/20660](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/20660)\" to \"[d9cc323ddb1d66bfe39b40a8191a55a515d13966](https://github.com/sagemath/sagetrac-mirror/commit/d9cc323ddb1d66bfe39b40a8191a55a515d13966)\".",
    "created_at": "2016-05-31T07:29:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20660#issuecomment-301240",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[public/ticket/20660](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/20660)" to "[d9cc323ddb1d66bfe39b40a8191a55a515d13966](https://github.com/sagemath/sagetrac-mirror/commit/d9cc323ddb1d66bfe39b40a8191a55a515d13966)".
