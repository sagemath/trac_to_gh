# Issue 20687: wrong result for is_subword_of

archive/issues_020450.json:
```json
{
    "body": "I wouldn't have expected the following:\n\n```\nsage: phi = WordMorphism('a->aba,b->ab')\nsage: w = phi('a', 3)\nsage: w\nword: abaababaabaababaababa\nsage: Word('bb').is_subword_of(w)\nTrue\n```\n\n\nBranch/Commit: [c84aeac6cc24b29d4e1d89912d53e7de4fe04c64](https://github.com/sagemath/sagetrac-mirror/commit/c84aeac6cc24b29d4e1d89912d53e7de4fe04c64)\n\nReviewer: Daniel Krenn\n\nAuthor: S\u00e9bastien Labb\u00e9\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/20687\n\n",
    "closed_at": "2018-05-18T17:04:24Z",
    "created_at": "2016-05-26T17:50:34Z",
    "labels": [
        "component: combinatorics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.3",
    "title": "wrong result for is_subword_of",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20687",
    "user": "https://github.com/dkrenn"
}
```
I wouldn't have expected the following:

```
sage: phi = WordMorphism('a->aba,b->ab')
sage: w = phi('a', 3)
sage: w
word: abaababaabaababaababa
sage: Word('bb').is_subword_of(w)
True
```


Branch/Commit: [c84aeac6cc24b29d4e1d89912d53e7de4fe04c64](https://github.com/sagemath/sagetrac-mirror/commit/c84aeac6cc24b29d4e1d89912d53e7de4fe04c64)

Reviewer: Daniel Krenn

Author: Sébastien Labbé

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/20687





---

archive/issue_comments_379418.json:
```json
{
    "body": "<a id='comment:1'></a>\nBy `subword` is meant the same definition as in [Chapter 6 Subwords](https://books.google.fr/books?id=eATLTZzwW-sC&pg=PA105&lpg=PA105&dq=subword+lothaire&source=bl&ots=ZriLpJXbK5&sig=OdHaDu_IWcUL_Qs6U0oKOZ2H0ic&hl=en&sa=X&ved=0ahUKEwjS7onE-_DaAhVC8RQKHbriAnAQ6AEIQTAE#v=onepage&q=subword%20lothaire&f=false) of 1997 Lothaire's book.",
    "created_at": "2018-05-06T11:23:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20687#issuecomment-379418",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:1'></a>
By `subword` is meant the same definition as in [Chapter 6 Subwords](https://books.google.fr/books?id=eATLTZzwW-sC&pg=PA105&lpg=PA105&dq=subword+lothaire&source=bl&ots=ZriLpJXbK5&sig=OdHaDu_IWcUL_Qs6U0oKOZ2H0ic&hl=en&sa=X&ved=0ahUKEwjS7onE-_DaAhVC8RQKHbriAnAQ6AEIQTAE#v=onepage&q=subword%20lothaire&f=false) of 1997 Lothaire's book.



---

archive/issue_comments_379419.json:
```json
{
    "body": "Branch: [u/slabbe/20687](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/20687)",
    "created_at": "2018-05-06T11:40:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20687#issuecomment-379419",
    "user": "https://github.com/seblabbe"
}
```

Branch: [u/slabbe/20687](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/20687)



---

archive/issue_comments_379420.json:
```json
{
    "body": "Commit: [c84aeac6cc24b29d4e1d89912d53e7de4fe04c64](https://github.com/sagemath/sagetrac-mirror/commit/c84aeac6cc24b29d4e1d89912d53e7de4fe04c64)",
    "created_at": "2018-05-06T11:40:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20687#issuecomment-379420",
    "user": "https://github.com/seblabbe"
}
```

Commit: [c84aeac6cc24b29d4e1d89912d53e7de4fe04c64](https://github.com/sagemath/sagetrac-mirror/commit/c84aeac6cc24b29d4e1d89912d53e7de4fe04c64)



---

archive/issue_comments_379421.json:
```json
{
    "body": "<a id='comment:2'></a>\nI updated the doc.\n\n---\nNew commits:\n|                                                                                                                                          |                                   |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|\n|[c84aeac](https://github.com/sagemath/sagetrac-mirror/commit/c84aeac6cc24b29d4e1d89912d53e7de4fe04c64)|`20687: added doc to is_subword_of`|",
    "created_at": "2018-05-06T11:40:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20687#issuecomment-379421",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:2'></a>
I updated the doc.

---
New commits:
|                                                                                                                                          |                                   |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|
|[c84aeac](https://github.com/sagemath/sagetrac-mirror/commit/c84aeac6cc24b29d4e1d89912d53e7de4fe04c64)|`20687: added doc to is_subword_of`|



---

archive/issue_comments_379422.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-05-06T11:40:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20687#issuecomment-379422",
    "user": "https://github.com/seblabbe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_379423.json:
```json
{
    "body": "Author: S\u00e9bastien Labb\u00e9",
    "created_at": "2018-05-06T11:40:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20687#issuecomment-379423",
    "user": "https://github.com/seblabbe"
}
```

Author: Sébastien Labbé



---

archive/issue_events_063297.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2018-05-06T11:40:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20687",
    "milestone": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20687#event-63297"
}
```



---

archive/issue_comments_379424.json:
```json
{
    "body": "<a id='comment:4'></a>\nLGTM; let's wait for the patchbot. (If the patchbot does not complain, then anyone who sees this, feel free to give it a positive review.)",
    "created_at": "2018-05-06T12:08:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20687#issuecomment-379424",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:4'></a>
LGTM; let's wait for the patchbot. (If the patchbot does not complain, then anyone who sees this, feel free to give it a positive review.)



---

archive/issue_comments_379425.json:
```json
{
    "body": "Reviewer: Daniel Krenn",
    "created_at": "2018-05-06T12:09:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20687#issuecomment-379425",
    "user": "https://github.com/dkrenn"
}
```

Reviewer: Daniel Krenn



---

archive/issue_comments_379426.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-05-15T12:47:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20687#issuecomment-379426",
    "user": "https://github.com/seblabbe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_379427.json:
```json
{
    "body": "Changing branch from \"[u/slabbe/20687](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/20687)\" to \"[c84aeac6cc24b29d4e1d89912d53e7de4fe04c64](https://github.com/sagemath/sagetrac-mirror/commit/c84aeac6cc24b29d4e1d89912d53e7de4fe04c64)\"",
    "created_at": "2018-05-18T17:04:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20687#issuecomment-379427",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "[u/slabbe/20687](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/20687)" to "[c84aeac6cc24b29d4e1d89912d53e7de4fe04c64](https://github.com/sagemath/sagetrac-mirror/commit/c84aeac6cc24b29d4e1d89912d53e7de4fe04c64)"



---

archive/issue_comments_379428.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-05-18T17:04:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20687",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20687#issuecomment-379428",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_063298.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-05-18T17:04:24Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/20687",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20687#event-63298"
}
```
