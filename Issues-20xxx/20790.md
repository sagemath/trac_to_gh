# Issue 20790: Computing plane curve models for algebraic curves

archive/issues_020553.json:
```json
{
    "body": "Given a generic algebraic curve, compute a plane curve birational to it.\n\nCC:  @bhutz @miguelmarco\n\nKeywords: gsoc2016\n\nBranch/Commit: 679338b2f7fd3888f06fa4f5d1b69310339e1fd7\n\nReviewer: Miguel Marco, Ben Hutz\n\nAuthor: Grayson Jorgenson\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/20790\n\n",
    "closed_at": "2016-08-29T16:56:36Z",
    "created_at": "2016-06-09T05:31:49Z",
    "labels": [
        "component: algebraic geometry",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.4",
    "title": "Computing plane curve models for algebraic curves",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20790",
    "user": "https://trac.sagemath.org/admin/accounts/users/gjorgenson"
}
```
Given a generic algebraic curve, compute a plane curve birational to it.

CC:  @bhutz @miguelmarco

Keywords: gsoc2016

Branch/Commit: 679338b2f7fd3888f06fa4f5d1b69310339e1fd7

Reviewer: Miguel Marco, Ben Hutz

Author: Grayson Jorgenson

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/20790





---

archive/issue_comments_379227.json:
```json
{
    "body": "Changing branch from \"\" to \"u/gjorgenson/ticket/20790\"",
    "created_at": "2016-06-13T07:22:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379227",
    "user": "https://trac.sagemath.org/admin/accounts/users/gjorgenson"
}
```

Changing branch from "" to "u/gjorgenson/ticket/20790"



---

archive/issue_comments_379228.json:
```json
{
    "body": "<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-06-13T07:23:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379228",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_379229.json:
```json
{
    "body": "Changing commit from \"\" to \"309eb0316c74e84cb8b7bd2fad0ab5514cf4d894\"",
    "created_at": "2016-06-13T07:23:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379229",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "309eb0316c74e84cb8b7bd2fad0ab5514cf4d894"



---

archive/issue_comments_379230.json:
```json
{
    "body": "Changing commit from \"309eb0316c74e84cb8b7bd2fad0ab5514cf4d894\" to \"0de1323a77147059de0f82c7a8642c44c31552ed\"",
    "created_at": "2016-06-15T10:10:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379230",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "309eb0316c74e84cb8b7bd2fad0ab5514cf4d894" to "0de1323a77147059de0f82c7a8642c44c31552ed"



---

archive/issue_comments_379231.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-06-15T10:10:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379231",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_379232.json:
```json
{
    "body": "<a id='comment:4'></a>I implemented a function to project affine curves that allows the user to specify coordinates to use in the projection. If the given coordinates yield a projection that doesn't have a curve as its image, an error will be raised. I also implemented a plane_projection function that doesn't take any user input but just tries to find two coordinates that will yield a projection that has a plane curve as its image. I think such a projection should always exist, but right now my approach to finding one is just trying all possible projections to two coordinates.\n\nFor projective curves, I added some functionality for working with curves defined over finite fields. Now the projection function will test all of the points of the ambient space of a curve over a finite field until it finds a point not on the curve. An error is returned if the curve contains all of the ambient space points.",
    "created_at": "2016-06-15T10:46:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379232",
    "user": "https://trac.sagemath.org/admin/accounts/users/gjorgenson"
}
```

<a id='comment:4'></a>I implemented a function to project affine curves that allows the user to specify coordinates to use in the projection. If the given coordinates yield a projection that doesn't have a curve as its image, an error will be raised. I also implemented a plane_projection function that doesn't take any user input but just tries to find two coordinates that will yield a projection that has a plane curve as its image. I think such a projection should always exist, but right now my approach to finding one is just trying all possible projections to two coordinates.

For projective curves, I added some functionality for working with curves defined over finite fields. Now the projection function will test all of the points of the ambient space of a curve over a finite field until it finds a point not on the curve. An error is returned if the curve contains all of the ambient space points.



---

archive/issue_comments_379233.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-06-15T10:46:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379233",
    "user": "https://trac.sagemath.org/admin/accounts/users/gjorgenson"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_379234.json:
```json
{
    "body": "<a id='comment:5'></a>A few questions:\n\n- It could make sense in some cases to consider projections even if the image is not a curve (or if it is, but some components could be mapped to points). I think we should allow that, but maybe raising a warning about it.\n\n- In python (and sage), indices start in 0. Shouldn't we follow that approach when selecting the coordinates we project to? MAybe we could also allow a list (or tuple) of variables as input.\n\n- don't modify the input `indices` inside the function. That could have undesired side effects. Instead, create an internal copy.\n\n- I think you go into too much trouble to define the elimination ideal. Just calling `elimination_ideal`on it should give you the ideal defining the image. Something like this:\n\n```\nsage: A.<x,y,z> = AffineSpace(QQ,3)\nsage: C = Curve([y^7 - x^2 + x^3 - 2*z, z^2 - x^7 - y^2], A)\nsage: I = C.defining_ideal()\nsage: IE = I.elimination_ideal(z)\nsage: IE\nIdeal (y^14 + 2*x^3*y^7 - 2*x^2*y^7 - 4*x^7 + x^6 - 2*x^5 + x^4 - 4*y^2) of Multivariate Polynomial Ring in x, y, z over Rational Field\nsage: A2 = AffineSpace(QQ, 2, (x,y))\nsage: H = C.Hom(A2)\nsage: phi = H((x,y))\nsage: phi\nScheme morphism:\n  From: Affine Curve over Rational Field defined by y^7 + x^3 - x^2 - 2*z, -x^7 - y^2 + z^2\n  To:   Affine Space of dimension 2 over Rational Field\n  Defn: Defined on coordinates by sending (x, y, z) to\n        (x, y)\nsage: C2 = Curve([A2.coordinate_ring()(i) for i in IE.gens()],A2)\nsage: C2\nAffine Plane Curve over Rational Field defined by y^14 + 2*x^3*y^7 - 2*x^2*y^7 - 4*x^7 + x^6 - 2*x^5 + x^4 - 4*y^2\n```\n\nshould be enough to construct both the morphism and the image curve. Something similar could be done for the projective case.\n\n- Do we want to create new coordinates in the case of affine projection? or would it be better to keep the original ones? Maybe have an option for this?\n\n- I think it would me slightly more pythonic to return a tuple instead of a list.\n\n- In the projective case, \u00bfwould it make sense to have an option to project to smaller subspaces?\n\n- In the plane projection method, instead of breaking the loop, just return `L`. Also, you could avoid the double loop by just iterating over the Subsets of the coordinates (maybe this is slower, but I think it would make the code easyer to read).\n\n- I am confused by this part of the code in the projective projection:\n\n```\n            l = list(PP.gens())\n            for i in range(n+1):\n                l[i] = 1\n                while(F(l) == 0):\n                    l[i] = l[i] + 1\n```\n I think that, in general, you could get simpler projections if you start with l[i] = 0 (for instance, most times you will get the projection from point [0:0:...: 0:1].\n\n- In this code, why do you create H in the first time? You redefine it just later without using it:\n\n```\n        H = Hom(PP, PP)\n        # only need the first n coordinates of the change of coordinates map\n        coords = [PP.gens()[i] - Q[i]/Q[n]*PP.gens()[n] for i in range(n)]\n        # create the projection map onto the first n coordinates\n        PP2 = ProjectiveSpace(self.base_ring(), n - 1)\n        H = Hom(self, PP2)\n```",
    "created_at": "2016-06-15T22:28:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379234",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:5'></a>A few questions:

- It could make sense in some cases to consider projections even if the image is not a curve (or if it is, but some components could be mapped to points). I think we should allow that, but maybe raising a warning about it.

- In python (and sage), indices start in 0. Shouldn't we follow that approach when selecting the coordinates we project to? MAybe we could also allow a list (or tuple) of variables as input.

- don't modify the input `indices` inside the function. That could have undesired side effects. Instead, create an internal copy.

- I think you go into too much trouble to define the elimination ideal. Just calling `elimination_ideal`on it should give you the ideal defining the image. Something like this:

```
sage: A.<x,y,z> = AffineSpace(QQ,3)
sage: C = Curve([y^7 - x^2 + x^3 - 2*z, z^2 - x^7 - y^2], A)
sage: I = C.defining_ideal()
sage: IE = I.elimination_ideal(z)
sage: IE
Ideal (y^14 + 2*x^3*y^7 - 2*x^2*y^7 - 4*x^7 + x^6 - 2*x^5 + x^4 - 4*y^2) of Multivariate Polynomial Ring in x, y, z over Rational Field
sage: A2 = AffineSpace(QQ, 2, (x,y))
sage: H = C.Hom(A2)
sage: phi = H((x,y))
sage: phi
Scheme morphism:
  From: Affine Curve over Rational Field defined by y^7 + x^3 - x^2 - 2*z, -x^7 - y^2 + z^2
  To:   Affine Space of dimension 2 over Rational Field
  Defn: Defined on coordinates by sending (x, y, z) to
        (x, y)
sage: C2 = Curve([A2.coordinate_ring()(i) for i in IE.gens()],A2)
sage: C2
Affine Plane Curve over Rational Field defined by y^14 + 2*x^3*y^7 - 2*x^2*y^7 - 4*x^7 + x^6 - 2*x^5 + x^4 - 4*y^2
```

should be enough to construct both the morphism and the image curve. Something similar could be done for the projective case.

- Do we want to create new coordinates in the case of affine projection? or would it be better to keep the original ones? Maybe have an option for this?

- I think it would me slightly more pythonic to return a tuple instead of a list.

- In the projective case, ¿would it make sense to have an option to project to smaller subspaces?

- In the plane projection method, instead of breaking the loop, just return `L`. Also, you could avoid the double loop by just iterating over the Subsets of the coordinates (maybe this is slower, but I think it would make the code easyer to read).

- I am confused by this part of the code in the projective projection:

```
            l = list(PP.gens())
            for i in range(n+1):
                l[i] = 1
                while(F(l) == 0):
                    l[i] = l[i] + 1
```
 I think that, in general, you could get simpler projections if you start with l[i] = 0 (for instance, most times you will get the projection from point [0:0:...: 0:1].

- In this code, why do you create H in the first time? You redefine it just later without using it:

```
        H = Hom(PP, PP)
        # only need the first n coordinates of the change of coordinates map
        coords = [PP.gens()[i] - Q[i]/Q[n]*PP.gens()[n] for i in range(n)]
        # create the projection map onto the first n coordinates
        PP2 = ProjectiveSpace(self.base_ring(), n - 1)
        H = Hom(self, PP2)
```



---

archive/issue_comments_379235.json:
```json
{
    "body": "Changing commit from \"0de1323a77147059de0f82c7a8642c44c31552ed\" to \"d9d149f0b2aca63e2b4f97ee0d5d9e0b4763657b\"",
    "created_at": "2016-06-16T21:27:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379235",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "0de1323a77147059de0f82c7a8642c44c31552ed" to "d9d149f0b2aca63e2b4f97ee0d5d9e0b4763657b"



---

archive/issue_comments_379236.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-06-16T21:27:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379236",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_379237.json:
```json
{
    "body": "<a id='comment:7'></a>Looks good so far.\n\nOne addition that would be nice os to allow the user to choose the projection point. It may become useful at some point.",
    "created_at": "2016-06-18T16:58:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379237",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:7'></a>Looks good so far.

One addition that would be nice os to allow the user to choose the projection point. It may become useful at some point.



---

archive/issue_comments_379238.json:
```json
{
    "body": "<a id='comment:8'></a>By the way, instead of \n\n```\n indices[len(indices) - 1]\n```\n\nyou can just use \n\n```\nindices[-1]\n```",
    "created_at": "2016-06-18T20:14:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379238",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:8'></a>By the way, instead of 

```
 indices[len(indices) - 1]
```

you can just use 

```
indices[-1]
```



---

archive/issue_comments_379239.json:
```json
{
    "body": "Changing commit from \"d9d149f0b2aca63e2b4f97ee0d5d9e0b4763657b\" to \"7e639548c685b5d88c665bd582232abde8c79283\"",
    "created_at": "2016-06-18T22:33:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379239",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "d9d149f0b2aca63e2b4f97ee0d5d9e0b4763657b" to "7e639548c685b5d88c665bd582232abde8c79283"



---

archive/issue_comments_379240.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-06-18T22:33:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379240",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_379241.json:
```json
{
    "body": "<a id='comment:10'></a>Thanks, changes made!",
    "created_at": "2016-06-18T22:34:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379241",
    "user": "https://trac.sagemath.org/admin/accounts/users/gjorgenson"
}
```

<a id='comment:10'></a>Thanks, changes made!



---

archive/issue_comments_379242.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-06-20T20:43:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379242",
    "user": "https://github.com/miguelmarco"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_379243.json:
```json
{
    "body": "<a id='comment:12'></a>Reviewer name",
    "created_at": "2016-06-21T07:37:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379243",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:12'></a>Reviewer name



---

archive/issue_comments_379244.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Miguel Marco\"",
    "created_at": "2016-06-21T07:45:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379244",
    "user": "https://github.com/miguelmarco"
}
```

Changing reviewer from "" to "Miguel Marco"



---

archive/issue_comments_379245.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2016-06-23T17:58:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379245",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_379246.json:
```json
{
    "body": "<a id='comment:14'></a>Merge conflict, merge in next beta...",
    "created_at": "2016-06-23T17:58:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379246",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:14'></a>Merge conflict, merge in next beta...



---

archive/issue_comments_379247.json:
```json
{
    "body": "Changing commit from \"7e639548c685b5d88c665bd582232abde8c79283\" to \"7e1f6cf2732f6f832d5eb3d79d4785223e6f3335\"",
    "created_at": "2016-06-23T19:59:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379247",
    "user": "https://trac.sagemath.org/admin/accounts/users/gjorgenson"
}
```

Changing commit from "7e639548c685b5d88c665bd582232abde8c79283" to "7e1f6cf2732f6f832d5eb3d79d4785223e6f3335"



---

archive/issue_comments_379248.json:
```json
{
    "body": "<a id='comment:15'></a>New commits:",
    "created_at": "2016-06-23T19:59:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379248",
    "user": "https://trac.sagemath.org/admin/accounts/users/gjorgenson"
}
```

<a id='comment:15'></a>New commits:



---

archive/issue_comments_379249.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-06-23T19:59:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379249",
    "user": "https://trac.sagemath.org/admin/accounts/users/gjorgenson"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_379250.json:
```json
{
    "body": "<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-06-26T19:25:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379250",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_379251.json:
```json
{
    "body": "Changing commit from \"7e1f6cf2732f6f832d5eb3d79d4785223e6f3335\" to \"98285148ebdb1c2c3cc189ec82716a80784c35f8\"",
    "created_at": "2016-06-26T19:25:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379251",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "7e1f6cf2732f6f832d5eb3d79d4785223e6f3335" to "98285148ebdb1c2c3cc189ec82716a80784c35f8"



---

archive/issue_comments_379252.json:
```json
{
    "body": "Changing commit from \"98285148ebdb1c2c3cc189ec82716a80784c35f8\" to \"ee363e4fc1c9be96b771f9fe1fd5f05ede4862ce\"",
    "created_at": "2016-07-03T13:04:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379252",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "98285148ebdb1c2c3cc189ec82716a80784c35f8" to "ee363e4fc1c9be96b771f9fe1fd5f05ede4862ce"



---

archive/issue_comments_379253.json:
```json
{
    "body": "<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-07-03T13:04:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379253",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_379254.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-07-28T08:13:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379254",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_379255.json:
```json
{
    "body": "<a id='comment:18'></a>You now need to use relative import for constructor:\n\n```\nfrom .constructor import Curve\n```",
    "created_at": "2016-07-28T08:13:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379255",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:18'></a>You now need to use relative import for constructor:

```
from .constructor import Curve
```



---

archive/issue_comments_379256.json:
```json
{
    "body": "Changing commit from \"ee363e4fc1c9be96b771f9fe1fd5f05ede4862ce\" to \"16d6207d099a7368a20bb2c0527c120f5d51943c\"",
    "created_at": "2016-07-30T17:18:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379256",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ee363e4fc1c9be96b771f9fe1fd5f05ede4862ce" to "16d6207d099a7368a20bb2c0527c120f5d51943c"



---

archive/issue_comments_379257.json:
```json
{
    "body": "<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-07-30T17:18:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379257",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_379258.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-07-30T17:29:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379258",
    "user": "https://trac.sagemath.org/admin/accounts/users/gjorgenson"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_379259.json:
```json
{
    "body": "<a id='comment:20'></a>Ok, should be good now",
    "created_at": "2016-07-30T17:29:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379259",
    "user": "https://trac.sagemath.org/admin/accounts/users/gjorgenson"
}
```

<a id='comment:20'></a>Ok, should be good now



---

archive/issue_events_055812.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2016-08-11T14:59:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "milestone": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20790#event-55812"
}
```



---

archive/issue_comments_379260.json:
```json
{
    "body": "<a id='comment:21'></a>All tests currently pass, but in looking through the functionality I don't think the 'newvariables' approach is consistent with other parts of sage. the names of the variables does not specify the space. So even if you have two affine spaces of the same dimension, base_ring and variables, they will be isomorphic, but not the same object in Sage. I think it would be better to have the user give the space to project into.\n\nSimilarly for the 'same variables' boolean. They really aren't the same variables. I think this just leads to user confusions since now you have two 'x's that mean different things.\n\nFinally, for plane projection, you don't allow this functionality.\n\nI think in all cases the better solution is to allow the user to specify the space, not the names of the variables. Look, for example, at the affine_patch and projective_embedding functionality for subschemes.\n\nUnrelated: the doc tests do not test the input checks nor do they test the 'newvariables' parameter.",
    "created_at": "2016-08-11T14:59:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379260",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:21'></a>All tests currently pass, but in looking through the functionality I don't think the 'newvariables' approach is consistent with other parts of sage. the names of the variables does not specify the space. So even if you have two affine spaces of the same dimension, base_ring and variables, they will be isomorphic, but not the same object in Sage. I think it would be better to have the user give the space to project into.

Similarly for the 'same variables' boolean. They really aren't the same variables. I think this just leads to user confusions since now you have two 'x's that mean different things.

Finally, for plane projection, you don't allow this functionality.

I think in all cases the better solution is to allow the user to specify the space, not the names of the variables. Look, for example, at the affine_patch and projective_embedding functionality for subschemes.

Unrelated: the doc tests do not test the input checks nor do they test the 'newvariables' parameter.



---

archive/issue_comments_379261.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-08-11T14:59:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379261",
    "user": "https://github.com/bhutz"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_379262.json:
```json
{
    "body": "Changing reviewer from \"Miguel Marco\" to \"Miguel Marco, Ben Hutz\"",
    "created_at": "2016-08-11T14:59:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379262",
    "user": "https://github.com/bhutz"
}
```

Changing reviewer from "Miguel Marco" to "Miguel Marco, Ben Hutz"



---

archive/issue_comments_379263.json:
```json
{
    "body": "<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-08-15T09:09:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379263",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_379264.json:
```json
{
    "body": "Changing commit from \"16d6207d099a7368a20bb2c0527c120f5d51943c\" to \"878503201d65e0ace5146466d706417ec383fc83\"",
    "created_at": "2016-08-15T09:09:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379264",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "16d6207d099a7368a20bb2c0527c120f5d51943c" to "878503201d65e0ace5146466d706417ec383fc83"



---

archive/issue_comments_379265.json:
```json
{
    "body": "<a id='comment:23'></a>Ok, the user can now specify an ambient space to project into in each of the projection functions. I also added some input tests.",
    "created_at": "2016-08-15T09:13:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379265",
    "user": "https://trac.sagemath.org/admin/accounts/users/gjorgenson"
}
```

<a id='comment:23'></a>Ok, the user can now specify an ambient space to project into in each of the projection functions. I also added some input tests.



---

archive/issue_comments_379266.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-08-15T09:13:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379266",
    "user": "https://trac.sagemath.org/admin/accounts/users/gjorgenson"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_379267.json:
```json
{
    "body": "<a id='comment:24'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-08-15T17:46:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379267",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_379268.json:
```json
{
    "body": "Changing commit from \"878503201d65e0ace5146466d706417ec383fc83\" to \"39108a1cf5c2b84da83b01f7283390236852ae1d\"",
    "created_at": "2016-08-15T17:46:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379268",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "878503201d65e0ace5146466d706417ec383fc83" to "39108a1cf5c2b84da83b01f7283390236852ae1d"



---

archive/issue_comments_379269.json:
```json
{
    "body": "<a id='comment:25'></a>The projection functions now have tests to show passing an ambient space will ensure the projected curves are defined in that space.",
    "created_at": "2016-08-15T17:48:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379269",
    "user": "https://trac.sagemath.org/admin/accounts/users/gjorgenson"
}
```

<a id='comment:25'></a>The projection functions now have tests to show passing an ambient space will ensure the projected curves are defined in that space.



---

archive/issue_comments_379270.json:
```json
{
    "body": "<a id='comment:26'></a>looks good to me.",
    "created_at": "2016-08-16T18:16:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379270",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:26'></a>looks good to me.



---

archive/issue_comments_379271.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-08-16T18:16:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379271",
    "user": "https://github.com/bhutz"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_379272.json:
```json
{
    "body": "<a id='comment:27'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2016-08-20T09:50:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379272",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:27'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_379273.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2016-08-20T09:50:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379273",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_379274.json:
```json
{
    "body": "Changing commit from \"39108a1cf5c2b84da83b01f7283390236852ae1d\" to \"67320bb67498749e9a85e7cb77f6bbd51a6fdad3\"",
    "created_at": "2016-08-20T09:50:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379274",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "39108a1cf5c2b84da83b01f7283390236852ae1d" to "67320bb67498749e9a85e7cb77f6bbd51a6fdad3"



---

archive/issue_comments_379275.json:
```json
{
    "body": "<a id='comment:28'></a>Fixed a merge conflict with the imports in affine_curve.py, projective_curve.py.",
    "created_at": "2016-08-20T09:53:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379275",
    "user": "https://trac.sagemath.org/admin/accounts/users/gjorgenson"
}
```

<a id='comment:28'></a>Fixed a merge conflict with the imports in affine_curve.py, projective_curve.py.



---

archive/issue_comments_379276.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-08-23T14:14:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379276",
    "user": "https://github.com/bhutz"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_379277.json:
```json
{
    "body": "<a id='comment:30'></a>Merge conflict, probably #21085",
    "created_at": "2016-08-24T19:06:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379277",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:30'></a>Merge conflict, probably #21085



---

archive/issue_comments_379278.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2016-08-24T19:06:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379278",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_379279.json:
```json
{
    "body": "Changing commit from \"67320bb67498749e9a85e7cb77f6bbd51a6fdad3\" to \"679338b2f7fd3888f06fa4f5d1b69310339e1fd7\"",
    "created_at": "2016-08-24T21:47:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379279",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "67320bb67498749e9a85e7cb77f6bbd51a6fdad3" to "679338b2f7fd3888f06fa4f5d1b69310339e1fd7"



---

archive/issue_comments_379280.json:
```json
{
    "body": "<a id='comment:31'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2016-08-24T21:47:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379280",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:31'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_379281.json:
```json
{
    "body": "<a id='comment:32'></a>Ok, fixed the conflict with 21085. I don't think there are any other curve tickets closed after sage 7.4 beta1, so this should be good to go.",
    "created_at": "2016-08-24T22:02:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379281",
    "user": "https://trac.sagemath.org/admin/accounts/users/gjorgenson"
}
```

<a id='comment:32'></a>Ok, fixed the conflict with 21085. I don't think there are any other curve tickets closed after sage 7.4 beta1, so this should be good to go.



---

archive/issue_comments_379282.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-08-24T22:02:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379282",
    "user": "https://trac.sagemath.org/admin/accounts/users/gjorgenson"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_379283.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-08-25T13:53:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379283",
    "user": "https://github.com/bhutz"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_055813.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-08-29T16:56:36Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20790#event-55813"
}
```



---

archive/issue_comments_379284.json:
```json
{
    "body": "Changing branch from \"u/gjorgenson/ticket/20790\" to \"679338b2f7fd3888f06fa4f5d1b69310339e1fd7\"",
    "created_at": "2016-08-29T16:56:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379284",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/gjorgenson/ticket/20790" to "679338b2f7fd3888f06fa4f5d1b69310339e1fd7"



---

archive/issue_comments_379285.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-08-29T16:56:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20790",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20790#issuecomment-379285",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
