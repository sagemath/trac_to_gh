# Issue 20446: GLPKExactBackend - a variation on GLPKBackend that sets a solver parameter and signals errors on integer variables

archive/issues_020209.json:
```json
{
    "assignees": [],
    "body": "GLPK has an exact simplex method, which can be requested by setting a solver parameter. \nVia #20406, a user can set this parameter.\n\nIt would be more convenient to define a named backend that does that. \n\nAlso, setting the solver parameter actually causes GLPK to solve the continuous relaxation, ignoring all integer variables. This might be surprising to users.\n\n```\nsage: delsarte_bound_additive_hamming_space(19,15,7,isinteger=True)\n3\nsage: from sage.numerical.backends.generic_backend import get_solver\nsage: def glpk_exact_solver():                                               \n        b = get_solver(solver=\"GLPK\")\n        b.solver_parameter(\"simplex_or_intopt\", \"exact_simplex_only\")\n        return b\nsage: delsarte_bound_additive_hamming_space(19,15,7,solver=glpk_exact_solver,isinteger=True)\nglp_exact: 54 rows, 20 columns, 795 non-zeros\n...\n2\n```\n\n\nSo there would be value in a named backend that actually signals an error when the user requests integer variables (like the CVXOpt and InteractiveLP backends do).\n\n```\nsage: delsarte_bound_additive_hamming_space(19,15,7,solver=\"GLPK/exact\",isinteger=True)\nValueError: This backend does not handle integer variables\n```\n\nFollow-up wishlist item: #20458: GLPKBackend/GLPKExactBackend: Support \"glp_simplex followed by glp_exact\"\n\n\nCC:  @dimpase @videlec\n\nKeywords: **lp**\n\nBranch/Commit: **[`8fc11ea`](https://github.com/sagemath/sagetrac-mirror/commit/8fc11ea544a0b46cf8af427fcd58ac5bc7eec816)**\n\nReviewer: **Dima Pasechnik**\n\nAuthor: **Matthias Koeppe**\n\nComponent: **numerical**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/20446_\n\n",
    "closed_at": "2016-04-26T12:58:39Z",
    "created_at": "2016-04-14T17:44:43Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20numerical",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "GLPKExactBackend - a variation on GLPKBackend that sets a solver parameter and signals errors on integer variables",
    "type": "issue",
    "updated_at": "2016-04-26T12:58:39Z",
    "url": "https://github.com/sagemath/sage/issues/20446",
    "user": "https://github.com/mkoeppe"
}
```
GLPK has an exact simplex method, which can be requested by setting a solver parameter. 
Via #20406, a user can set this parameter.

It would be more convenient to define a named backend that does that. 

Also, setting the solver parameter actually causes GLPK to solve the continuous relaxation, ignoring all integer variables. This might be surprising to users.

```
sage: delsarte_bound_additive_hamming_space(19,15,7,isinteger=True)
3
sage: from sage.numerical.backends.generic_backend import get_solver
sage: def glpk_exact_solver():                                               
        b = get_solver(solver="GLPK")
        b.solver_parameter("simplex_or_intopt", "exact_simplex_only")
        return b
sage: delsarte_bound_additive_hamming_space(19,15,7,solver=glpk_exact_solver,isinteger=True)
glp_exact: 54 rows, 20 columns, 795 non-zeros
...
2
```


So there would be value in a named backend that actually signals an error when the user requests integer variables (like the CVXOpt and InteractiveLP backends do).

```
sage: delsarte_bound_additive_hamming_space(19,15,7,solver="GLPK/exact",isinteger=True)
ValueError: This backend does not handle integer variables
```

Follow-up wishlist item: #20458: GLPKBackend/GLPKExactBackend: Support "glp_simplex followed by glp_exact"


CC:  @dimpase @videlec

Keywords: **lp**

Branch/Commit: **[`8fc11ea`](https://github.com/sagemath/sagetrac-mirror/commit/8fc11ea544a0b46cf8af427fcd58ac5bc7eec816)**

Reviewer: **Dima Pasechnik**

Author: **Matthias Koeppe**

Component: **numerical**

_Issue created by migration from https://trac.sagemath.org/ticket/20446_





---

archive/issue_events_288277.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-04-14T17:44:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20446",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20numerical",
    "label_color": "0000ff",
    "label_name": "c: numerical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20446#event-288277"
}
```



---

archive/issue_events_288278.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-04-14T17:44:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20446",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20446#event-288278"
}
```



---

archive/issue_events_288279.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-04-14T17:44:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20446",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20446#event-288279"
}
```



---

archive/issue_events_288280.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-04-14T17:44:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20446",
    "label": "https://github.com/sagemath/sage/labels/wishlist%20item",
    "label_color": "e81ff9",
    "label_name": "wishlist item",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20446#event-288280"
}
```



---

archive/issue_comments_295233.json:
```json
{
    "body": "Branch: **[u/mkoeppe/glpkexactbackend___a_variation_on_glpkbackend_that_sets_a_solver_parameter_and_signals_errors_on_integer_variables](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/glpkexactbackend___a_variation_on_glpkbackend_that_sets_a_solver_parameter_and_signals_errors_on_integer_variables)**",
    "created_at": "2016-04-16T07:08:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20446",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20446#issuecomment-295233",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/glpkexactbackend___a_variation_on_glpkbackend_that_sets_a_solver_parameter_and_signals_errors_on_integer_variables](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/glpkexactbackend___a_variation_on_glpkbackend_that_sets_a_solver_parameter_and_signals_errors_on_integer_variables)**



---

archive/issue_comments_295234.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nBranch is on top of #20323.\n\n---\nLast 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e70a97bf7dc960986e4829da28c5bd6cf1959b67\">e70a97b</a></td><td><code>More _test_... functions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0a76184c9840b107a2ff1d99299750f305b00c1e\">0a76184</a></td><td><code>get_solver: Make doctest work no matter whether backends are Python or Sage objects</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a6f0f4de68e182324d8bab85decb3d0fb40e3b04\">a6f0f4d</a></td><td><code>Run testsuite with all MIP backends</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0bd7a877d44ee013faa8bdb50a7622cf28251385\">0bd7a87</a></td><td><code>GenericBackend._test_add_variables(): Add tests from CVXOPTBackend</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6b55e16fd1e781c5071143806655233f03ec91a0\">6b55e16</a></td><td><code>Add a classmethod _test_solve</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e14afd3f81f6e72b1226636023a4b58748cd0cd1\">e14afd3</a></td><td><code>GenericBackend._test_solve: Finish</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/48b9fe51d9eafadd50d9590f93a35645af4af176\">48b9fe5</a></td><td><code>Change from mutating instance _test methods to class methods</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/53947298ddca760b6155994622e143e0e3afc4c2\">5394729</a></td><td><code>New method _test_ncols_nonnegative</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7138fa03a951cf62d970bf346893499fe8fd3daa\">7138fa0</a></td><td><code>GenericBackend: Remove failing _test methods from this ticket to make the patchbot and its friends happy</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/07266d71797ff836515cf929c9e6aa6f70fa65a3\">07266d7</a></td><td><code>GLPKExactBackend: New</code></td></tr></table>\n",
    "created_at": "2016-04-16T07:10:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20446",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20446#issuecomment-295234",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:2" align="right">comment:2</div>

Branch is on top of #20323.

---
Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e70a97bf7dc960986e4829da28c5bd6cf1959b67">e70a97b</a></td><td><code>More _test_... functions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0a76184c9840b107a2ff1d99299750f305b00c1e">0a76184</a></td><td><code>get_solver: Make doctest work no matter whether backends are Python or Sage objects</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a6f0f4de68e182324d8bab85decb3d0fb40e3b04">a6f0f4d</a></td><td><code>Run testsuite with all MIP backends</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0bd7a877d44ee013faa8bdb50a7622cf28251385">0bd7a87</a></td><td><code>GenericBackend._test_add_variables(): Add tests from CVXOPTBackend</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6b55e16fd1e781c5071143806655233f03ec91a0">6b55e16</a></td><td><code>Add a classmethod _test_solve</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e14afd3f81f6e72b1226636023a4b58748cd0cd1">e14afd3</a></td><td><code>GenericBackend._test_solve: Finish</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/48b9fe51d9eafadd50d9590f93a35645af4af176">48b9fe5</a></td><td><code>Change from mutating instance _test methods to class methods</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/53947298ddca760b6155994622e143e0e3afc4c2">5394729</a></td><td><code>New method _test_ncols_nonnegative</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7138fa03a951cf62d970bf346893499fe8fd3daa">7138fa0</a></td><td><code>GenericBackend: Remove failing _test methods from this ticket to make the patchbot and its friends happy</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/07266d71797ff836515cf929c9e6aa6f70fa65a3">07266d7</a></td><td><code>GLPKExactBackend: New</code></td></tr></table>




---

archive/issue_comments_295235.json:
```json
{
    "body": "Author: **Matthias Koeppe**",
    "created_at": "2016-04-16T07:10:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20446",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20446#issuecomment-295235",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Matthias Koeppe**



---

archive/issue_events_288281.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-04-16T07:10:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20446",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20446#event-288281"
}
```



---

archive/issue_comments_295236.json:
```json
{
    "body": "Commit: **[`07266d7`](https://github.com/sagemath/sagetrac-mirror/commit/07266d71797ff836515cf929c9e6aa6f70fa65a3)**",
    "created_at": "2016-04-16T07:10:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20446",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20446#issuecomment-295236",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[`07266d7`](https://github.com/sagemath/sagetrac-mirror/commit/07266d71797ff836515cf929c9e6aa6f70fa65a3)**



---

archive/issue_comments_295237.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nthe docstring is not correct here:\n\n```\n+    def _test_add_linear_constraint_vector(cls, tester=None, **options):\n+        \"\"\"\n+        Run tests on the method :meth:`.add_linear_constraints`.\n```",
    "created_at": "2016-04-18T08:35:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20446",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20446#issuecomment-295237",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:3" align="right">comment:3</div>

the docstring is not correct here:

```
+    def _test_add_linear_constraint_vector(cls, tester=None, **options):
+        """
+        Run tests on the method :meth:`.add_linear_constraints`.
```



---

archive/issue_comments_295238.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nindentation here is weird:\n\n```\ncdef class PPLBackend(GenericBackend):\n+\n+    \"\"\"\n+    TESTS::\n+\n+            sage: from sage.numerical.backends.generic_backend import get_solver\n+            sage: p = get_solver(solver = \"PPL\")\n+            sage: TestSuite(p).run(skip=\"_test_pickling\")\n```",
    "created_at": "2016-04-18T08:40:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20446",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20446#issuecomment-295238",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:4" align="right">comment:4</div>

indentation here is weird:

```
cdef class PPLBackend(GenericBackend):
+
+    """
+    TESTS::
+
+            sage: from sage.numerical.backends.generic_backend import get_solver
+            sage: p = get_solver(solver = "PPL")
+            sage: TestSuite(p).run(skip="_test_pickling")
```



---

archive/issue_comments_295239.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\ndo we plan on having this merged, or \"wishlist\" means something elese?",
    "created_at": "2016-04-18T10:22:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20446",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20446#issuecomment-295239",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:5" align="right">comment:5</div>

do we plan on having this merged, or "wishlist" means something elese?



---

archive/issue_comments_295240.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e7a2bd7d86034b16c8407ae534d75c39956edbf4\">e7a2bd7</a></td><td><code>Clean up some MIP backend docstrings</code></td></tr></table>\n",
    "created_at": "2016-04-18T18:19:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20446",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20446#issuecomment-295240",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e7a2bd7d86034b16c8407ae534d75c39956edbf4">e7a2bd7</a></td><td><code>Clean up some MIP backend docstrings</code></td></tr></table>




---

archive/issue_comments_295241.json:
```json
{
    "body": "Changed commit from **[`07266d7`](https://github.com/sagemath/sagetrac-mirror/commit/07266d71797ff836515cf929c9e6aa6f70fa65a3)** to **[`e7a2bd7`](https://github.com/sagemath/sagetrac-mirror/commit/e7a2bd7d86034b16c8407ae534d75c39956edbf4)**",
    "created_at": "2016-04-18T18:19:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20446",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20446#issuecomment-295241",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`07266d7`](https://github.com/sagemath/sagetrac-mirror/commit/07266d71797ff836515cf929c9e6aa6f70fa65a3)** to **[`e7a2bd7`](https://github.com/sagemath/sagetrac-mirror/commit/e7a2bd7d86034b16c8407ae534d75c39956edbf4)**



---

archive/issue_events_288282.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-04-18T18:20:40Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20446",
    "milestone_number": null,
    "milestone_title": "sage-7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20446#event-288282"
}
```



---

archive/issue_events_288283.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-04-18T18:20:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20446",
    "label": "https://github.com/sagemath/sage/labels/wishlist%20item",
    "label_color": "e81ff9",
    "label_name": "wishlist item",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20446#event-288283"
}
```



---

archive/issue_comments_295242.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -27,5 +27,5 @@\n ValueError: This backend does not handle integer variables\n ```\n \n-While at it, could also support the \"glp_simplex followed by glp_exact\" mode that is mentioned in [#18735 comment:7](https://github.com/sagemath/sage/issues/18735#comment:7)\n+Follow-up wishlist item: #20458: GLPKBackend/GLPKExactBackend: Support \"glp_simplex followed by glp_exact\"\n \n``````\n",
    "created_at": "2016-04-18T18:25:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20446",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20446#issuecomment-295242",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -27,5 +27,5 @@
 ValueError: This backend does not handle integer variables
 ```
 
-While at it, could also support the "glp_simplex followed by glp_exact" mode that is mentioned in [#18735 comment:7](https://github.com/sagemath/sage/issues/18735#comment:7)
+Follow-up wishlist item: #20458: GLPKBackend/GLPKExactBackend: Support "glp_simplex followed by glp_exact"
 
``````




---

archive/issue_comments_295243.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nIt's ready for review, with the intent of having it merged. I've created a new ticket for an additional wishlist item.",
    "created_at": "2016-04-18T18:27:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20446",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20446#issuecomment-295243",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:9" align="right">comment:9</div>

It's ready for review, with the intent of having it merged. I've created a new ticket for an additional wishlist item.



---

archive/issue_comments_295244.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nI get a merge conflict with #20414 here.",
    "created_at": "2016-04-18T21:32:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20446",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20446#issuecomment-295244",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:10" align="right">comment:10</div>

I get a merge conflict with #20414 here.



---

archive/issue_comments_295245.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nSeems to merge cleanly here.",
    "created_at": "2016-04-18T21:51:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20446",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20446#issuecomment-295245",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:11" align="right">comment:11</div>

Seems to merge cleanly here.



---

archive/issue_comments_295246.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nhere is what I see in `backends/generic_backend.pyx`\n\n```\n<<<<<<< HEAD\n        raise ValueError(\"'solver' should be set to 'GLPK', 'Coin', 'CPLEX', 'CVXOPT', 'Gurobi', 'PPL', 'InteractiveLP', None (in which case the default one is used), or a callable.\")\n=======\n        raise ValueError(\"'solver' should be set to 'GLPK', 'GLPK/exact', 'Coin', 'CPLEX', 'CVXOPT', 'Gurobi', 'PPL', 'InteractiveLP', or None (in which case the default one is used).\")\n>>>>>>> e7a2bd7d86034b16c8407ae534d75c39956edbf4\n```",
    "created_at": "2016-04-18T21:56:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20446",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20446#issuecomment-295246",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:12" align="right">comment:12</div>

here is what I see in `backends/generic_backend.pyx`

```
<<<<<<< HEAD
        raise ValueError("'solver' should be set to 'GLPK', 'Coin', 'CPLEX', 'CVXOPT', 'Gurobi', 'PPL', 'InteractiveLP', None (in which case the default one is used), or a callable.")
=======
        raise ValueError("'solver' should be set to 'GLPK', 'GLPK/exact', 'Coin', 'CPLEX', 'CVXOPT', 'Gurobi', 'PPL', 'InteractiveLP', or None (in which case the default one is used).")
>>>>>>> e7a2bd7d86034b16c8407ae534d75c39956edbf4
```



---

archive/issue_comments_295247.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nIt's this commit:\n\n```\ncommit cc2d999c5234040914a4fee66708f33124eef8a9\nAuthor: Matthias Koeppe <mkoeppe@math.ucdavis.edu>\nDate:   Thu Apr 14 10:19:22 2016 -0700\n\n    Mention solver=callable in docstrings and error messages\n```\nthat causes the clash",
    "created_at": "2016-04-18T22:18:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20446",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20446#issuecomment-295247",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:13" align="right">comment:13</div>

It's this commit:

```
commit cc2d999c5234040914a4fee66708f33124eef8a9
Author: Matthias Koeppe <mkoeppe@math.ucdavis.edu>
Date:   Thu Apr 14 10:19:22 2016 -0700

    Mention solver=callable in docstrings and error messages
```
that causes the clash



---

archive/issue_comments_295248.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nAh, that's #20406.",
    "created_at": "2016-04-19T04:55:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20446",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20446#issuecomment-295248",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:14" align="right">comment:14</div>

Ah, that's #20406.



---

archive/issue_comments_295249.json:
```json
{
    "body": "Changed commit from **[`e7a2bd7`](https://github.com/sagemath/sagetrac-mirror/commit/e7a2bd7d86034b16c8407ae534d75c39956edbf4)** to **[`39a902f`](https://github.com/sagemath/sagetrac-mirror/commit/39a902f337bcdc4e53141e89f80bab289f6ba016)**",
    "created_at": "2016-04-19T05:05:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20446",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20446#issuecomment-295249",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e7a2bd7`](https://github.com/sagemath/sagetrac-mirror/commit/e7a2bd7d86034b16c8407ae534d75c39956edbf4)** to **[`39a902f`](https://github.com/sagemath/sagetrac-mirror/commit/39a902f337bcdc4e53141e89f80bab289f6ba016)**



---

archive/issue_comments_295250.json:
```json
{
    "body": "<div id=\"comment:15\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/623a2e20968e6f263fc0a9699a65ccdee4981850\">623a2e2</a></td><td><code>get_solver: Allow a callable as the solver argument</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/09377ac96d08efa39b9148a690fe19bd33b8a07a\">09377ac</a></td><td><code>MixedIntegerLinearProgram.__copy__: Don't create a throw-away GLPK instance</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d1d84c64d7c73f709280af181bf39736dad3487d\">d1d84c6</a></td><td><code>get_solver: Add doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cc2d999c5234040914a4fee66708f33124eef8a9\">cc2d999</a></td><td><code>Mention solver=callable in docstrings and error messages</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/37e87a5df7de14853e63074e0d07d678e61b1029\">37e87a5</a></td><td><code>Replace delsarte test by one that does not expose a bug in GLPK exact</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/68f9a57f24d7cc1e738dc958ff0495f99d7c4d47\">68f9a57</a></td><td><code>Merge branch 'get_solver_factory' into 7.2.beta4+lpfixes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/149056d5f7f45f7c54edec113ed87357a5569277\">149056d</a></td><td><code>Merge branch 'u/mkoeppe/common_testsuite_for_mip_backends' into 7.2.beta4+lpfixes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bfa4616f13552f9812126521fbe657ba14e25dc4\">bfa4616</a></td><td><code>GLPKExactBackend: New</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/39a902f337bcdc4e53141e89f80bab289f6ba016\">39a902f</a></td><td><code>Clean up some MIP backend docstrings</code></td></tr></table>\n",
    "created_at": "2016-04-19T05:05:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20446",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20446#issuecomment-295250",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/623a2e20968e6f263fc0a9699a65ccdee4981850">623a2e2</a></td><td><code>get_solver: Allow a callable as the solver argument</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/09377ac96d08efa39b9148a690fe19bd33b8a07a">09377ac</a></td><td><code>MixedIntegerLinearProgram.__copy__: Don't create a throw-away GLPK instance</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d1d84c64d7c73f709280af181bf39736dad3487d">d1d84c6</a></td><td><code>get_solver: Add doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cc2d999c5234040914a4fee66708f33124eef8a9">cc2d999</a></td><td><code>Mention solver=callable in docstrings and error messages</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/37e87a5df7de14853e63074e0d07d678e61b1029">37e87a5</a></td><td><code>Replace delsarte test by one that does not expose a bug in GLPK exact</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/68f9a57f24d7cc1e738dc958ff0495f99d7c4d47">68f9a57</a></td><td><code>Merge branch 'get_solver_factory' into 7.2.beta4+lpfixes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/149056d5f7f45f7c54edec113ed87357a5569277">149056d</a></td><td><code>Merge branch 'u/mkoeppe/common_testsuite_for_mip_backends' into 7.2.beta4+lpfixes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bfa4616f13552f9812126521fbe657ba14e25dc4">bfa4616</a></td><td><code>GLPKExactBackend: New</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/39a902f337bcdc4e53141e89f80bab289f6ba016">39a902f</a></td><td><code>Clean up some MIP backend docstrings</code></td></tr></table>




---

archive/issue_comments_295251.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nOK, rebased on top of 7.2.beta4 + #20406 + #20323.",
    "created_at": "2016-04-19T05:05:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20446",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20446#issuecomment-295251",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:16" align="right">comment:16</div>

OK, rebased on top of 7.2.beta4 + #20406 + #20323.



---

archive/issue_comments_295252.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nmore commits missing? I am trying your branch on top of 7.2.beta4:\n\n```\nError compiling Cython file:\n------------------------------------------------------------\n...\n#  Distributed under the terms of the GNU General Public License (GPL)\n#  The full text of the GPL is available at:\n#                  http://www.gnu.org/licenses/\n##############################################################################\n\ncdef class GLPKExactBackend(GLPKBackend):\n    ^\n------------------------------------------------------------\n\nsage/numerical/backends/glpk_exact_backend.pyx:17:5: 'GLPKBackend' is not declared\n\nError compiling Cython file:\n------------------------------------------------------------\n...\n            ...\n            ValueError: GLPK/exact only supports continuous variables\n        \"\"\"\n        if binary or integer:\n            raise ValueError(\"GLPK/exact only supports continuous variables\")\n        return GLPKBackend.add_variable(self, lower_bound, upper_bound, binary, continuous,\n                         ^\n------------------------------------------------------------\n\nsage/numerical/backends/glpk_exact_backend.pyx:109:26: undeclared name not builtin: GLPKBackend\n```",
    "created_at": "2016-04-19T08:50:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20446",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20446#issuecomment-295252",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:17" align="right">comment:17</div>

more commits missing? I am trying your branch on top of 7.2.beta4:

```
Error compiling Cython file:
------------------------------------------------------------
...
#  Distributed under the terms of the GNU General Public License (GPL)
#  The full text of the GPL is available at:
#                  http://www.gnu.org/licenses/
##############################################################################

cdef class GLPKExactBackend(GLPKBackend):
    ^
------------------------------------------------------------

sage/numerical/backends/glpk_exact_backend.pyx:17:5: 'GLPKBackend' is not declared

Error compiling Cython file:
------------------------------------------------------------
...
            ...
            ValueError: GLPK/exact only supports continuous variables
        """
        if binary or integer:
            raise ValueError("GLPK/exact only supports continuous variables")
        return GLPKBackend.add_variable(self, lower_bound, upper_bound, binary, continuous,
                         ^
------------------------------------------------------------

sage/numerical/backends/glpk_exact_backend.pyx:109:26: undeclared name not builtin: GLPKBackend
```



---

archive/issue_comments_295253.json:
```json
{
    "body": "Changed commit from **[`39a902f`](https://github.com/sagemath/sagetrac-mirror/commit/39a902f337bcdc4e53141e89f80bab289f6ba016)** to **[`550a5c3`](https://github.com/sagemath/sagetrac-mirror/commit/550a5c39f99b98c92ad81b392ccca2c7a50efa50)**",
    "created_at": "2016-04-19T15:22:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20446",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20446#issuecomment-295253",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`39a902f`](https://github.com/sagemath/sagetrac-mirror/commit/39a902f337bcdc4e53141e89f80bab289f6ba016)** to **[`550a5c3`](https://github.com/sagemath/sagetrac-mirror/commit/550a5c39f99b98c92ad81b392ccca2c7a50efa50)**



---

archive/issue_comments_295254.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/550a5c39f99b98c92ad81b392ccca2c7a50efa50\">550a5c3</a></td><td><code>Add missing .pxd file</code></td></tr></table>\n",
    "created_at": "2016-04-19T15:22:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20446",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20446#issuecomment-295254",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/550a5c39f99b98c92ad81b392ccca2c7a50efa50">550a5c3</a></td><td><code>Add missing .pxd file</code></td></tr></table>




---

archive/issue_comments_295255.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nYes, you were missing this file that I forgot to check in! Apologies...",
    "created_at": "2016-04-19T15:23:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20446",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20446#issuecomment-295255",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:19" align="right">comment:19</div>

Yes, you were missing this file that I forgot to check in! Apologies...



---

archive/issue_comments_295256.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nyour new backends are not listed in this index:\n`local/share/doc/sage/html/en/reference/numerical/index.html`\nwhich is produced from\n`src/doc/en/reference/numerical/index.rst`\n\nplease add them all...",
    "created_at": "2016-04-19T20:21:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20446",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20446#issuecomment-295256",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:20" align="right">comment:20</div>

your new backends are not listed in this index:
`local/share/doc/sage/html/en/reference/numerical/index.html`
which is produced from
`src/doc/en/reference/numerical/index.rst`

please add them all...



---

archive/issue_comments_295257.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c0fa6b4919b236a385b66975e91c43b419aafd36\">c0fa6b4</a></td><td><code>MIP backends: Documentation updates, add to index</code></td></tr></table>\n",
    "created_at": "2016-04-20T01:22:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20446",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20446#issuecomment-295257",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c0fa6b4919b236a385b66975e91c43b419aafd36">c0fa6b4</a></td><td><code>MIP backends: Documentation updates, add to index</code></td></tr></table>




---

archive/issue_comments_295258.json:
```json
{
    "body": "Changed commit from **[`550a5c3`](https://github.com/sagemath/sagetrac-mirror/commit/550a5c39f99b98c92ad81b392ccca2c7a50efa50)** to **[`c0fa6b4`](https://github.com/sagemath/sagetrac-mirror/commit/c0fa6b4919b236a385b66975e91c43b419aafd36)**",
    "created_at": "2016-04-20T01:22:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20446",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20446#issuecomment-295258",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`550a5c3`](https://github.com/sagemath/sagetrac-mirror/commit/550a5c39f99b98c92ad81b392ccca2c7a50efa50)** to **[`c0fa6b4`](https://github.com/sagemath/sagetrac-mirror/commit/c0fa6b4919b236a385b66975e91c43b419aafd36)**



---

archive/issue_comments_295259.json:
```json
{
    "body": "Reviewer: **Dima Pasechnik**",
    "created_at": "2016-04-20T08:20:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20446",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20446#issuecomment-295259",
    "user": "https://github.com/dimpase"
}
```

Reviewer: **Dima Pasechnik**



---

archive/issue_comments_295260.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nOK, good.",
    "created_at": "2016-04-20T08:20:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20446",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20446#issuecomment-295260",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:22" align="right">comment:22</div>

OK, good.



---

archive/issue_events_288284.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2016-04-20T08:20:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20446",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20446#event-288284"
}
```



---

archive/issue_events_288285.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2016-04-20T08:20:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20446",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20446#event-288285"
}
```



---

archive/issue_comments_295261.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\n\n```\nsage -t --long src/sage/numerical/backends/glpk_exact_backend.pyx\n**********************************************************************\nFile \"src/sage/numerical/backends/glpk_exact_backend.pyx\", line 33, in sage.numerical.backends.glpk_exact_backend.GLPKExactBackend\nFailed example:\n    TestSuite(p.get_backend()).run(skip=\"_test_pickling\")\nExpected nothing\nGot:\n    Failure in _test_copy:\n    Traceback (most recent call last):\n      File \"/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/misc/sage_unittest.py\", line 283, in run\n        test_method(tester = tester)\n      File \"sage/numerical/backends/generic_backend.pyx\", line 1127, in sage.numerical.backends.generic_backend.GenericBackend._test_copy (/mnt/disk/home/buildslave-sage/slave/sage_git/build/src/build/cythonized/sage/numerical/backends/generic_backend.c:10824)\n        self._do_test_problem_data(tester, cp)\n      File \"sage/numerical/backends/generic_backend.pyx\", line 1095, in sage.numerical.backends.generic_backend.GenericBackend._do_test_problem_data (/mnt/disk/home/buildslave-sage/slave/sage_git/build/src/build/cythonized/sage/numerical/backends/generic_backend.c:10504)\n        tester.assertEqual(type(self), type(cp),\n      File \"/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python/unittest/case.py\", line 515, in assertEqual\n        assertion_func(first, second, msg=msg)\n      File \"/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python/unittest/case.py\", line 508, in _baseAssertEqual\n        raise self.failureException(msg)\n    AssertionError: Classes do not match\n    ------------------------------------------------------------\n    Failure in _test_copy_does_not_share_data:\n    Traceback (most recent call last):\n      File \"/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/misc/sage_unittest.py\", line 283, in run\n        test_method(tester = tester)\n      File \"sage/numerical/backends/generic_backend.pyx\", line 1137, in sage.numerical.backends.generic_backend.GenericBackend._test_copy_does_not_share_data (/mnt/disk/home/buildslave-sage/slave/sage_git/build/src/build/cythonized/sage/numerical/backends/generic_backend.c:11033)\n        self._do_test_problem_data(tester, cpcp)\n      File \"sage/numerical/backends/generic_backend.pyx\", line 1095, in sage.numerical.backends.generic_backend.GenericBackend._do_test_problem_data (/mnt/disk/home/buildslave-sage/slave/sage_git/build/src/build/cythonized/sage/numerical/backends/generic_backend.c:10504)\n        tester.assertEqual(type(self), type(cp),\n      File \"/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python/unittest/case.py\", line 515, in assertEqual\n        assertion_func(first, second, msg=msg)\n      File \"/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python/unittest/case.py\", line 508, in _baseAssertEqual\n        raise self.failureException(msg)\n    AssertionError: Classes do not match\n    ------------------------------------------------------------\n    Failure in _test_copy_some_mips:\n    Traceback (most recent call last):\n      File \"/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/misc/sage_unittest.py\", line 283, in run\n        test_method(tester = tester)\n      File \"sage/numerical/backends/generic_backend.pyx\", line 1151, in sage.numerical.backends.generic_backend.GenericBackend._test_copy_some_mips (/mnt/disk/home/buildslave-sage/slave/sage_git/build/src/build/cythonized/sage/numerical/backends/generic_backend.c:11276)\n        p._test_copy(**options)\n      File \"sage/numerical/backends/generic_backend.pyx\", line 1127, in sage.numerical.backends.generic_backend.GenericBackend._test_copy (/mnt/disk/home/buildslave-sage/slave/sage_git/build/src/build/cythonized/sage/numerical/backends/generic_backend.c:10824)\n        self._do_test_problem_data(tester, cp)\n      File \"sage/numerical/backends/generic_backend.pyx\", line 1095, in sage.numerical.backends.generic_backend.GenericBackend._do_test_problem_data (/mnt/disk/home/buildslave-sage/slave/sage_git/build/src/build/cythonized/sage/numerical/backends/generic_backend.c:10504)\n        tester.assertEqual(type(self), type(cp),\n      File \"/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python/unittest/case.py\", line 515, in assertEqual\n        assertion_func(first, second, msg=msg)\n      File \"/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python/unittest/case.py\", line 508, in _baseAssertEqual\n        raise self.failureException(msg)\n    AssertionError: Classes do not match\n    ------------------------------------------------------------\n    The following tests failed: _test_copy, _test_copy_does_not_share_data, _test_copy_some_mips\n**********************************************************************\n1 item had failures:\n   1 of   3 in sage.numerical.backends.glpk_exact_backend.GLPKExactBackend\n    [26 tests, 1 failure, 0.12 s]\n```",
    "created_at": "2016-04-21T21:40:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20446",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20446#issuecomment-295261",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:23" align="right">comment:23</div>


```
sage -t --long src/sage/numerical/backends/glpk_exact_backend.pyx
**********************************************************************
File "src/sage/numerical/backends/glpk_exact_backend.pyx", line 33, in sage.numerical.backends.glpk_exact_backend.GLPKExactBackend
Failed example:
    TestSuite(p.get_backend()).run(skip="_test_pickling")
Expected nothing
Got:
    Failure in _test_copy:
    Traceback (most recent call last):
      File "/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/misc/sage_unittest.py", line 283, in run
        test_method(tester = tester)
      File "sage/numerical/backends/generic_backend.pyx", line 1127, in sage.numerical.backends.generic_backend.GenericBackend._test_copy (/mnt/disk/home/buildslave-sage/slave/sage_git/build/src/build/cythonized/sage/numerical/backends/generic_backend.c:10824)
        self._do_test_problem_data(tester, cp)
      File "sage/numerical/backends/generic_backend.pyx", line 1095, in sage.numerical.backends.generic_backend.GenericBackend._do_test_problem_data (/mnt/disk/home/buildslave-sage/slave/sage_git/build/src/build/cythonized/sage/numerical/backends/generic_backend.c:10504)
        tester.assertEqual(type(self), type(cp),
      File "/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python/unittest/case.py", line 515, in assertEqual
        assertion_func(first, second, msg=msg)
      File "/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python/unittest/case.py", line 508, in _baseAssertEqual
        raise self.failureException(msg)
    AssertionError: Classes do not match
    ------------------------------------------------------------
    Failure in _test_copy_does_not_share_data:
    Traceback (most recent call last):
      File "/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/misc/sage_unittest.py", line 283, in run
        test_method(tester = tester)
      File "sage/numerical/backends/generic_backend.pyx", line 1137, in sage.numerical.backends.generic_backend.GenericBackend._test_copy_does_not_share_data (/mnt/disk/home/buildslave-sage/slave/sage_git/build/src/build/cythonized/sage/numerical/backends/generic_backend.c:11033)
        self._do_test_problem_data(tester, cpcp)
      File "sage/numerical/backends/generic_backend.pyx", line 1095, in sage.numerical.backends.generic_backend.GenericBackend._do_test_problem_data (/mnt/disk/home/buildslave-sage/slave/sage_git/build/src/build/cythonized/sage/numerical/backends/generic_backend.c:10504)
        tester.assertEqual(type(self), type(cp),
      File "/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python/unittest/case.py", line 515, in assertEqual
        assertion_func(first, second, msg=msg)
      File "/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python/unittest/case.py", line 508, in _baseAssertEqual
        raise self.failureException(msg)
    AssertionError: Classes do not match
    ------------------------------------------------------------
    Failure in _test_copy_some_mips:
    Traceback (most recent call last):
      File "/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/misc/sage_unittest.py", line 283, in run
        test_method(tester = tester)
      File "sage/numerical/backends/generic_backend.pyx", line 1151, in sage.numerical.backends.generic_backend.GenericBackend._test_copy_some_mips (/mnt/disk/home/buildslave-sage/slave/sage_git/build/src/build/cythonized/sage/numerical/backends/generic_backend.c:11276)
        p._test_copy(**options)
      File "sage/numerical/backends/generic_backend.pyx", line 1127, in sage.numerical.backends.generic_backend.GenericBackend._test_copy (/mnt/disk/home/buildslave-sage/slave/sage_git/build/src/build/cythonized/sage/numerical/backends/generic_backend.c:10824)
        self._do_test_problem_data(tester, cp)
      File "sage/numerical/backends/generic_backend.pyx", line 1095, in sage.numerical.backends.generic_backend.GenericBackend._do_test_problem_data (/mnt/disk/home/buildslave-sage/slave/sage_git/build/src/build/cythonized/sage/numerical/backends/generic_backend.c:10504)
        tester.assertEqual(type(self), type(cp),
      File "/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python/unittest/case.py", line 515, in assertEqual
        assertion_func(first, second, msg=msg)
      File "/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python/unittest/case.py", line 508, in _baseAssertEqual
        raise self.failureException(msg)
    AssertionError: Classes do not match
    ------------------------------------------------------------
    The following tests failed: _test_copy, _test_copy_does_not_share_data, _test_copy_some_mips
**********************************************************************
1 item had failures:
   1 of   3 in sage.numerical.backends.glpk_exact_backend.GLPKExactBackend
    [26 tests, 1 failure, 0.12 s]
```



---

archive/issue_events_288286.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-04-21T21:40:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20446",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20446#event-288286"
}
```



---

archive/issue_events_288287.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-04-21T21:40:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20446",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20446#event-288287"
}
```



---

archive/issue_comments_295262.json:
```json
{
    "body": "Changed commit from **[`c0fa6b4`](https://github.com/sagemath/sagetrac-mirror/commit/c0fa6b4919b236a385b66975e91c43b419aafd36)** to **[`8fc11ea`](https://github.com/sagemath/sagetrac-mirror/commit/8fc11ea544a0b46cf8af427fcd58ac5bc7eec816)**",
    "created_at": "2016-04-21T22:49:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20446",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20446#issuecomment-295262",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c0fa6b4`](https://github.com/sagemath/sagetrac-mirror/commit/c0fa6b4919b236a385b66975e91c43b419aafd36)** to **[`8fc11ea`](https://github.com/sagemath/sagetrac-mirror/commit/8fc11ea544a0b46cf8af427fcd58ac5bc7eec816)**



---

archive/issue_comments_295263.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4e1f36895bef80e2411040f877a126adab0463c7\">4e1f368</a></td><td><code>GLPKExactBackend: New</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fe06f116ef25ad06b252b86c09d1cf31cd97711c\">fe06f11</a></td><td><code>Clean up some MIP backend docstrings</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2e132849368d10d3470b78f53c78633d7e7fb686\">2e13284</a></td><td><code>Add missing .pxd file</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/064f1c2fa54a5d03f9da987b09ecadc9ac6e0255\">064f1c2</a></td><td><code>MIP backends: Documentation updates, add to index</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8fc11ea544a0b46cf8af427fcd58ac5bc7eec816\">8fc11ea</a></td><td><code>Make `__copy__` methods work in subclassed backends</code></td></tr></table>\n",
    "created_at": "2016-04-21T22:49:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20446",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20446#issuecomment-295263",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4e1f36895bef80e2411040f877a126adab0463c7">4e1f368</a></td><td><code>GLPKExactBackend: New</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fe06f116ef25ad06b252b86c09d1cf31cd97711c">fe06f11</a></td><td><code>Clean up some MIP backend docstrings</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2e132849368d10d3470b78f53c78633d7e7fb686">2e13284</a></td><td><code>Add missing .pxd file</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/064f1c2fa54a5d03f9da987b09ecadc9ac6e0255">064f1c2</a></td><td><code>MIP backends: Documentation updates, add to index</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8fc11ea544a0b46cf8af427fcd58ac5bc7eec816">8fc11ea</a></td><td><code>Make `__copy__` methods work in subclassed backends</code></td></tr></table>




---

archive/issue_events_288288.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-04-21T22:51:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20446",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20446#event-288288"
}
```



---

archive/issue_events_288289.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-04-21T22:51:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20446",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20446#event-288289"
}
```



---

archive/issue_comments_295264.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nNice, the new testsuite actually works.\n\nFixed copying of GLPKExactBackend instances. \nRebased on 7.2.beta5.",
    "created_at": "2016-04-21T22:51:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20446",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20446#issuecomment-295264",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:25" align="right">comment:25</div>

Nice, the new testsuite actually works.

Fixed copying of GLPKExactBackend instances. 
Rebased on 7.2.beta5.



---

archive/issue_events_288290.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2016-04-25T16:23:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20446",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20446#event-288290"
}
```



---

archive/issue_events_288291.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2016-04-25T16:23:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20446",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20446#event-288291"
}
```



---

archive/issue_events_288292.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-04-26T12:58:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20446",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20446#event-288292"
}
```



---

archive/issue_events_288293.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "5b170d6a4bf91eb07f46aec390245856c4774fd9",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-04-26T12:58:39Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/20446",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20446#event-288293"
}
```



---

archive/issue_comments_295265.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/glpkexactbackend___a_variation_on_glpkbackend_that_sets_a_solver_parameter_and_signals_errors_on_integer_variables](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/glpkexactbackend___a_variation_on_glpkbackend_that_sets_a_solver_parameter_and_signals_errors_on_integer_variables)** to **[`8fc11ea`](https://github.com/sagemath/sagetrac-mirror/commit/8fc11ea544a0b46cf8af427fcd58ac5bc7eec816)**",
    "created_at": "2016-04-26T12:58:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20446",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20446#issuecomment-295265",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mkoeppe/glpkexactbackend___a_variation_on_glpkbackend_that_sets_a_solver_parameter_and_signals_errors_on_integer_variables](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/glpkexactbackend___a_variation_on_glpkbackend_that_sets_a_solver_parameter_and_signals_errors_on_integer_variables)** to **[`8fc11ea`](https://github.com/sagemath/sagetrac-mirror/commit/8fc11ea544a0b46cf8af427fcd58ac5bc7eec816)**
