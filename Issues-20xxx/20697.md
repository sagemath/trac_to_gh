# Issue 20697: Inheritance structure of generic projective/affine curves

archive/issues_020460.json:
```json
{
    "body": "Currently there exist classes for generic projective/affine space and plane curves, but the plane curve classes do not inherit from the respective space curve classes. Adding this inheritance will facilitate the implementation of future generic curve functionality.\n\nCC:  @miguelmarco @bhutz\n\nKeywords: gsoc2016\n\nBranch/Commit: 4ac79ab4499d76428dd416a21d9fc11639e72a29\n\nReviewer: Ben Hutz\n\nAuthor: Grayson Jorgenson\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/20697\n\n",
    "closed_at": "2016-06-09T16:14:17Z",
    "created_at": "2016-05-27T19:41:16Z",
    "labels": [
        "component: algebraic geometry",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.3",
    "title": "Inheritance structure of generic projective/affine curves",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20697",
    "user": "https://trac.sagemath.org/admin/accounts/users/gjorgenson"
}
```
Currently there exist classes for generic projective/affine space and plane curves, but the plane curve classes do not inherit from the respective space curve classes. Adding this inheritance will facilitate the implementation of future generic curve functionality.

CC:  @miguelmarco @bhutz

Keywords: gsoc2016

Branch/Commit: 4ac79ab4499d76428dd416a21d9fc11639e72a29

Reviewer: Ben Hutz

Author: Grayson Jorgenson

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/20697





---

archive/issue_comments_281864.json:
```json
{
    "body": "<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-05-28T04:04:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20697",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20697#issuecomment-281864",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_281865.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-05-28T04:18:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20697",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20697#issuecomment-281865",
    "user": "https://trac.sagemath.org/admin/accounts/users/gjorgenson"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_281866.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2016-05-29T13:14:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20697",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20697#issuecomment-281866",
    "user": "https://github.com/bhutz"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_281867.json:
```json
{
    "body": "<a id='comment:4'></a>I do not see anything wrong with the new inheritance structure, but I don't really understand the naming conventions of the classes.  Here is what I see\n\nAffineSpaceCurve, ProjectiveSpaceCurve = the generic curves classes\n\nAffineCurve_generic, ProjectiveCurve_generic - the curves that must lie in the plane (A2 or P2).\n\nThat seems somewhat odd to me. If I've understood this correctly doesn't some naming convention like\n\nAffineCurve_generic, ProjectiveCurve_generic -> XXXXCurve_plane\n\nAffineSpaceCurve, ProjectiveSpaceCurve -? XXXXCurve_generic\n\nmake more sense. Then the special class inherits from the 'generic' class instead of the other way around.\n\nAlso, it seems like some description should be added to the documentation for all of these classes.",
    "created_at": "2016-05-29T13:14:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20697",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20697#issuecomment-281867",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:4'></a>I do not see anything wrong with the new inheritance structure, but I don't really understand the naming conventions of the classes.  Here is what I see

AffineSpaceCurve, ProjectiveSpaceCurve = the generic curves classes

AffineCurve_generic, ProjectiveCurve_generic - the curves that must lie in the plane (A2 or P2).

That seems somewhat odd to me. If I've understood this correctly doesn't some naming convention like

AffineCurve_generic, ProjectiveCurve_generic -> XXXXCurve_plane

AffineSpaceCurve, ProjectiveSpaceCurve -? XXXXCurve_generic

make more sense. Then the special class inherits from the 'generic' class instead of the other way around.

Also, it seems like some description should be added to the documentation for all of these classes.



---

archive/issue_comments_281868.json:
```json
{
    "body": "<a id='comment:5'></a>Replying to [comment:4 bhutz]:\n\nI think that would be a good renaming. I didn't try to implement a name change earlier because changing the ProjectiveCurve_generic class name would require changing it when referenced in the elliptic curve, conic, and hyperelliptic curve classes. I actually don't think that would be so bad; I'll try changing the names and see how much needs to be done.\n\nPerhaps at some point it would be good to change the folder name as well, since the eventually the generic curve classes will have more functionality for general curves.",
    "created_at": "2016-05-29T16:32:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20697",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20697#issuecomment-281868",
    "user": "https://trac.sagemath.org/admin/accounts/users/gjorgenson"
}
```

<a id='comment:5'></a>Replying to [comment:4 bhutz]:

I think that would be a good renaming. I didn't try to implement a name change earlier because changing the ProjectiveCurve_generic class name would require changing it when referenced in the elliptic curve, conic, and hyperelliptic curve classes. I actually don't think that would be so bad; I'll try changing the names and see how much needs to be done.

Perhaps at some point it would be good to change the folder name as well, since the eventually the generic curve classes will have more functionality for general curves.



---

archive/issue_comments_281869.json:
```json
{
    "body": "<a id='comment:6'></a>We should discuss this change of names in sage-devel too, since it might affect the public interface (i.e. it could break user's code).",
    "created_at": "2016-05-29T17:41:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20697",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20697#issuecomment-281869",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:6'></a>We should discuss this change of names in sage-devel too, since it might affect the public interface (i.e. it could break user's code).



---

archive/issue_comments_281870.json:
```json
{
    "body": "<a id='comment:7'></a>If we're changing names, I'd rather change them all at once, so include the folder in the post to sage-devel. Perhaps either curves or curves_generic?",
    "created_at": "2016-05-29T20:34:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20697",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20697#issuecomment-281870",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:7'></a>If we're changing names, I'd rather change them all at once, so include the folder in the post to sage-devel. Perhaps either curves or curves_generic?



---

archive/issue_comments_281871.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-05-31T04:13:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20697",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20697#issuecomment-281871",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_281872.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-05-31T07:25:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20697",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20697#issuecomment-281872",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_281873.json:
```json
{
    "body": "<a id='comment:10'></a>Okay, I've made an attempt to change the class names and folder name. I think I've changed all occurrences of the names, and so far everything seems to be working properly.",
    "created_at": "2016-05-31T07:34:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20697",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20697#issuecomment-281873",
    "user": "https://trac.sagemath.org/admin/accounts/users/gjorgenson"
}
```

<a id='comment:10'></a>Okay, I've made an attempt to change the class names and folder name. I think I've changed all occurrences of the names, and so far everything seems to be working properly.



---

archive/issue_comments_281874.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2016-05-31T07:34:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20697",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20697#issuecomment-281874",
    "user": "https://trac.sagemath.org/admin/accounts/users/gjorgenson"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_281875.json:
```json
{
    "body": "<a id='comment:11'></a>functionality seems fine, but I'd like to see a description of the classes and some examples in each of the files\n\n- affine_curve\n- projective_curve\n- curve\n\nFor example look at the beginning of the projective_space.py file.",
    "created_at": "2016-05-31T22:30:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20697",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20697#issuecomment-281875",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:11'></a>functionality seems fine, but I'd like to see a description of the classes and some examples in each of the files

- affine_curve
- projective_curve
- curve

For example look at the beginning of the projective_space.py file.



---

archive/issue_comments_281876.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-05-31T22:30:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20697",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20697#issuecomment-281876",
    "user": "https://github.com/bhutz"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_281877.json:
```json
{
    "body": "<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-06-01T21:39:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20697",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20697#issuecomment-281877",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_281878.json:
```json
{
    "body": "<a id='comment:13'></a>I added some documentation to the beginning of affine_curve and projective_curve, and to the `__init__` functions. The string labels for the curves no longer matched the class names, so I changed that as well (I had to change some examples in a few other files in the scheme folder to do this).",
    "created_at": "2016-06-01T21:44:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20697",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20697#issuecomment-281878",
    "user": "https://trac.sagemath.org/admin/accounts/users/gjorgenson"
}
```

<a id='comment:13'></a>I added some documentation to the beginning of affine_curve and projective_curve, and to the `__init__` functions. The string labels for the curves no longer matched the class names, so I changed that as well (I had to change some examples in a few other files in the scheme folder to do this).



---

archive/issue_comments_281879.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-06-01T21:44:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20697",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20697#issuecomment-281879",
    "user": "https://trac.sagemath.org/admin/accounts/users/gjorgenson"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_281880.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-06-02T01:00:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20697",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20697#issuecomment-281880",
    "user": "https://github.com/bhutz"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_281881.json:
```json
{
    "body": "<a id='comment:14'></a>minor: notice that it is possible to define curves over general rings since the init just calls the suscheme init. So you should remove the \"over fields\" part of the class title for projective and affine curves.\n\n\nfrom src/sage/structure/sage_object.pyx\npickle failure: It looks like you are going to need to do a register_unpickle_override for projective curves.\n\n```\n    ImportError: cannot import ProjectiveCurve_generic from sage.schemes.plane_curves.projective_curve, call register_unpickle_override('sage.schemes.plane_curves.projective_curve', 'ProjectiveCurve_generic', ...) to fix this\n    Failed:\n    _class__sage_schemes_jacobians_abstract_jacobian_Jacobian_generic__.sobj\n    ----------------------------------------------------------------------\n    ** This error is probably due to an old pickle failing to unpickle.\n    ** See sage.structure.sage_object.register_unpickle_override for\n    ** how to override the default unpickling methods for (old) pickles.\n    ** NOTE: pickles should never be removed from the pickle_jar! \n    ----------------------------------------------------------------------\n    Successfully unpickled 585 objects.\n    Failed to unpickle 1 objects.\n```",
    "created_at": "2016-06-02T01:00:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20697",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20697#issuecomment-281881",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:14'></a>minor: notice that it is possible to define curves over general rings since the init just calls the suscheme init. So you should remove the "over fields" part of the class title for projective and affine curves.


from src/sage/structure/sage_object.pyx
pickle failure: It looks like you are going to need to do a register_unpickle_override for projective curves.

```
    ImportError: cannot import ProjectiveCurve_generic from sage.schemes.plane_curves.projective_curve, call register_unpickle_override('sage.schemes.plane_curves.projective_curve', 'ProjectiveCurve_generic', ...) to fix this
    Failed:
    _class__sage_schemes_jacobians_abstract_jacobian_Jacobian_generic__.sobj
    ----------------------------------------------------------------------
    ** This error is probably due to an old pickle failing to unpickle.
    ** See sage.structure.sage_object.register_unpickle_override for
    ** how to override the default unpickling methods for (old) pickles.
    ** NOTE: pickles should never be removed from the pickle_jar! 
    ----------------------------------------------------------------------
    Successfully unpickled 585 objects.
    Failed to unpickle 1 objects.
```



---

archive/issue_comments_281882.json:
```json
{
    "body": "<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-06-02T02:09:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20697",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20697#issuecomment-281882",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_281883.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-06-02T02:12:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20697",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20697#issuecomment-281883",
    "user": "https://trac.sagemath.org/admin/accounts/users/gjorgenson"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_281884.json:
```json
{
    "body": "<a id='comment:16'></a>Alright, I followed what was done in `affine_space.py` for addressing the pickle issue, and I think it worked.",
    "created_at": "2016-06-02T02:12:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20697",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20697#issuecomment-281884",
    "user": "https://trac.sagemath.org/admin/accounts/users/gjorgenson"
}
```

<a id='comment:16'></a>Alright, I followed what was done in `affine_space.py` for addressing the pickle issue, and I think it worked.



---

archive/issue_comments_281885.json:
```json
{
    "body": "<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-06-02T06:01:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20697",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20697#issuecomment-281885",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_281886.json:
```json
{
    "body": "<a id='comment:18'></a>Oops, I neglected to do a full doctest until now, and found a few examples I missed in the tutorials that were broken because of the string representation changes for curves. Everything else seems to be okay.",
    "created_at": "2016-06-02T06:03:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20697",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20697#issuecomment-281886",
    "user": "https://trac.sagemath.org/admin/accounts/users/gjorgenson"
}
```

<a id='comment:18'></a>Oops, I neglected to do a full doctest until now, and found a few examples I missed in the tutorials that were broken because of the string representation changes for curves. Everything else seems to be okay.



---

archive/issue_comments_281887.json:
```json
{
    "body": "<a id='comment:19'></a>make ptestlong now passes",
    "created_at": "2016-06-02T14:40:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20697",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20697#issuecomment-281887",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:19'></a>make ptestlong now passes



---

archive/issue_comments_281888.json:
```json
{
    "body": "Changing keywords from \"\" to \"gsoc2016\".",
    "created_at": "2016-06-02T14:40:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20697",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20697#issuecomment-281888",
    "user": "https://github.com/bhutz"
}
```

Changing keywords from "" to "gsoc2016".



---

archive/issue_comments_281889.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-06-02T14:40:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20697",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20697#issuecomment-281889",
    "user": "https://github.com/bhutz"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_281890.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2016-06-03T17:52:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20697",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20697#issuecomment-281890",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_281891.json:
```json
{
    "body": "<a id='comment:20'></a>\n```\nsage -t --long src/sage/schemes/projective/projective_morphism.py\n**********************************************************************\nFile \"src/sage/schemes/projective/projective_morphism.py\", line 835, in sage.schemes.projective.projective_morphism.SchemeMorphism_polynomial_projective_space.dynatomic_polynomial\nFailed example:\n    f.dynatomic_polynomial(2)\nException raised:\n    Traceback (most recent call last):\n      File \"/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 498, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 861, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.schemes.projective.projective_morphism.SchemeMorphism_polynomial_projective_space.dynatomic_polynomial[69]>\", line 1, in <module>\n        f.dynatomic_polynomial(Integer(2))\n      File \"/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/schemes/projective/projective_morphism.py\", line 928, in dynatomic_polynomial\n        PHI = PHI.numerator()._maxima_().divide(PHI.denominator())[0].sage()\n      File \"sage/structure/sage_object.pyx\", line 795, in sage.structure.sage_object.SageObject._maxima_ (/Users/buildslave-sage/slave/sage_git/build/src/build/cythonized/sage/structure/sage_object.c:8292)\n        return self._interface_(G)\n      File \"sage/structure/sage_object.pyx\", line 707, in sage.structure.sage_object.SageObject._interface_ (/Users/buildslave-sage/slave/sage_git/build/src/build/cythonized/sage/structure/sage_object.c:5981)\n        X = I(s)\n      File \"/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/interfaces/interface.py\", line 243, in __call__\n        return cls(self, x, name=name)\n      File \"/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/interfaces/maxima.py\", line 1159, in __init__\n        ExpectElement.__init__(self, parent, value, is_name=False, name=None)\n      File \"/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/interfaces/expect.py\", line 1376, in __init__\n        self._name = parent._create(value, name=name)\n      File \"/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/interfaces/interface.py\", line 433, in _create\n        self.set(name, value)\n      File \"/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/interfaces/maxima.py\", line 1004, in set\n        self._eval_line(cmd)\n      File \"/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/interfaces/maxima.py\", line 791, in _eval_line\n        assert line_echo.strip().endswith(line.strip()), 'mismatch:\\n' + line_echo + line\n    AssertionError: mismatch:\n    \n\n    sage11 : x^4*y + (-0.666666666666667*I)*x^2*y^3 - x*y^4 + (-0.111111111111111 - 0.333333333333333*I)*y^5$\n```",
    "created_at": "2016-06-03T17:52:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20697",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20697#issuecomment-281891",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:20'></a>
```
sage -t --long src/sage/schemes/projective/projective_morphism.py
**********************************************************************
File "src/sage/schemes/projective/projective_morphism.py", line 835, in sage.schemes.projective.projective_morphism.SchemeMorphism_polynomial_projective_space.dynatomic_polynomial
Failed example:
    f.dynatomic_polynomial(2)
Exception raised:
    Traceback (most recent call last):
      File "/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 498, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 861, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.schemes.projective.projective_morphism.SchemeMorphism_polynomial_projective_space.dynatomic_polynomial[69]>", line 1, in <module>
        f.dynatomic_polynomial(Integer(2))
      File "/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/schemes/projective/projective_morphism.py", line 928, in dynatomic_polynomial
        PHI = PHI.numerator()._maxima_().divide(PHI.denominator())[0].sage()
      File "sage/structure/sage_object.pyx", line 795, in sage.structure.sage_object.SageObject._maxima_ (/Users/buildslave-sage/slave/sage_git/build/src/build/cythonized/sage/structure/sage_object.c:8292)
        return self._interface_(G)
      File "sage/structure/sage_object.pyx", line 707, in sage.structure.sage_object.SageObject._interface_ (/Users/buildslave-sage/slave/sage_git/build/src/build/cythonized/sage/structure/sage_object.c:5981)
        X = I(s)
      File "/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/interfaces/interface.py", line 243, in __call__
        return cls(self, x, name=name)
      File "/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/interfaces/maxima.py", line 1159, in __init__
        ExpectElement.__init__(self, parent, value, is_name=False, name=None)
      File "/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/interfaces/expect.py", line 1376, in __init__
        self._name = parent._create(value, name=name)
      File "/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/interfaces/interface.py", line 433, in _create
        self.set(name, value)
      File "/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/interfaces/maxima.py", line 1004, in set
        self._eval_line(cmd)
      File "/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/interfaces/maxima.py", line 791, in _eval_line
        assert line_echo.strip().endswith(line.strip()), 'mismatch:\n' + line_echo + line
    AssertionError: mismatch:
    

    sage11 : x^4*y + (-0.666666666666667*I)*x^2*y^3 - x*y^4 + (-0.111111111111111 - 0.333333333333333*I)*y^5$
```



---

archive/issue_comments_281892.json:
```json
{
    "body": "<a id='comment:21'></a>Could you add some more information about the machine this is failing on. I just tested it again based on 7.3.beta2 Ubuntu 64-bit and it passes for me.",
    "created_at": "2016-06-04T13:04:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20697",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20697#issuecomment-281892",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:21'></a>Could you add some more information about the machine this is failing on. I just tested it again based on 7.3.beta2 Ubuntu 64-bit and it passes for me.



---

archive/issue_comments_281893.json:
```json
{
    "body": "<a id='comment:22'></a>Can you just wait for the next beta and merge it in?",
    "created_at": "2016-06-04T20:49:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20697",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20697#issuecomment-281893",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:22'></a>Can you just wait for the next beta and merge it in?



---

archive/issue_comments_281894.json:
```json
{
    "body": "<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-06-07T21:11:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20697",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20697#issuecomment-281894",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_281895.json:
```json
{
    "body": "<a id='comment:24'></a>Okay, this should now be based on sage 7.3 beta3.",
    "created_at": "2016-06-07T21:13:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20697",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20697#issuecomment-281895",
    "user": "https://trac.sagemath.org/admin/accounts/users/gjorgenson"
}
```

<a id='comment:24'></a>Okay, this should now be based on sage 7.3 beta3.



---

archive/issue_comments_281896.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-06-07T21:13:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20697",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20697#issuecomment-281896",
    "user": "https://trac.sagemath.org/admin/accounts/users/gjorgenson"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_281897.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-06-08T01:39:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20697",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20697#issuecomment-281897",
    "user": "https://github.com/bhutz"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_281898.json:
```json
{
    "body": "<a id='comment:25'></a>all passes for me",
    "created_at": "2016-06-08T01:39:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20697",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20697#issuecomment-281898",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:25'></a>all passes for me



---

archive/issue_events_055677.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-06-09T16:14:17Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/20697",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20697#event-55677"
}
```



---

archive/issue_comments_281899.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-06-09T16:14:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20697",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20697#issuecomment-281899",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
