# Issue 20414: Add copy/__copy__ methods to CVXOPT, PPL, InteractiveLP backends, and __deepcopy__ to MixedIntegerLinearProgram and backends

archive/issues_020177.json:
```json
{
    "body": "The COIN, CPLEX, GLPK, and Gurobi backends supply a `copy` method. \nBut it's not documented as a backend interface method in `GenericBackend`, and the CVXOPT, PPL, InteractiveLP backends do not implement it. \nIt is used by `MixedIntegerLinearProgram.__copy__`.\n\nThe backend method should actually probably be called `__copy__` as well -- see https://docs.python.org/2/library/copy.html\n\nThe branch on the ticket does this.\n\nWe also add `__deepcopy__` methods to `MixedIntegerLinearProgram` and the backends. \nThis fixes #15159, though the semantics of `copy` and `deepcopy` of a `MixedIntegerLinearProgram` remains questionable due to its interaction with `MIPVariable`; see #15159 and #19523.\n\nSee also #20323 (in which copying a backend could be the basis for more diverse tests).\n\nCC:  @videlec @vbraun @dimpase\n\nKeywords: lp\n\nBranch/Commit: [3117b01e595febc8fc6de90eeb3cf19a7e97c7bd](https://github.com/sagemath/sagetrac-mirror/commit/3117b01e595febc8fc6de90eeb3cf19a7e97c7bd)\n\nReviewer: Dima Pasechnik\n\nAuthor: Matthias Koeppe\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/20414\n\n",
    "closed_at": "2016-04-20T22:26:38Z",
    "created_at": "2016-04-11T01:37:33Z",
    "labels": [
        "component: numerical",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.2",
    "title": "Add copy/__copy__ methods to CVXOPT, PPL, InteractiveLP backends, and __deepcopy__ to MixedIntegerLinearProgram and backends",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20414",
    "user": "https://github.com/mkoeppe"
}
```
The COIN, CPLEX, GLPK, and Gurobi backends supply a `copy` method. 
But it's not documented as a backend interface method in `GenericBackend`, and the CVXOPT, PPL, InteractiveLP backends do not implement it. 
It is used by `MixedIntegerLinearProgram.__copy__`.

The backend method should actually probably be called `__copy__` as well -- see https://docs.python.org/2/library/copy.html

The branch on the ticket does this.

We also add `__deepcopy__` methods to `MixedIntegerLinearProgram` and the backends. 
This fixes #15159, though the semantics of `copy` and `deepcopy` of a `MixedIntegerLinearProgram` remains questionable due to its interaction with `MIPVariable`; see #15159 and #19523.

See also #20323 (in which copying a backend could be the basis for more diverse tests).

CC:  @videlec @vbraun @dimpase

Keywords: lp

Branch/Commit: [3117b01e595febc8fc6de90eeb3cf19a7e97c7bd](https://github.com/sagemath/sagetrac-mirror/commit/3117b01e595febc8fc6de90eeb3cf19a7e97c7bd)

Reviewer: Dima Pasechnik

Author: Matthias Koeppe

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/20414





---

archive/issue_comments_373933.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mkoeppe/add_copy___copy___methods_to_cvxopt__ppl__interactivelp_backends\"",
    "created_at": "2016-04-14T06:01:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20414#issuecomment-373933",
    "user": "https://github.com/mkoeppe"
}
```

Changing branch from "" to "u/mkoeppe/add_copy___copy___methods_to_cvxopt__ppl__interactivelp_backends"



---

archive/issue_comments_373934.json:
```json
{
    "body": "<a id='comment:2'></a>\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n|                                                                                                                                          |                                                                    |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------|\n|[0bd7a87](https://github.com/sagemath/sagetrac-mirror/commit/0bd7a877d44ee013faa8bdb50a7622cf28251385)|`GenericBackend._test_add_variables(): Add tests from CVXOPTBackend`|\n|[6b55e16](https://github.com/sagemath/sagetrac-mirror/commit/6b55e16fd1e781c5071143806655233f03ec91a0)|`Add a classmethod _test_solve`|\n|[e14afd3](https://github.com/sagemath/sagetrac-mirror/commit/e14afd3f81f6e72b1226636023a4b58748cd0cd1)|`GenericBackend._test_solve: Finish`|\n|[48b9fe5](https://github.com/sagemath/sagetrac-mirror/commit/48b9fe51d9eafadd50d9590f93a35645af4af176)|`Change from mutating instance _test methods to class methods`|\n|[5394729](https://github.com/sagemath/sagetrac-mirror/commit/53947298ddca760b6155994622e143e0e3afc4c2)|`New method _test_ncols_nonnegative`|\n|[7138fa0](https://github.com/sagemath/sagetrac-mirror/commit/7138fa03a951cf62d970bf346893499fe8fd3daa)|`GenericBackend: Remove failing _test methods from this ticket to make the patchbot and its friends happy`|\n|[452b406](https://github.com/sagemath/sagetrac-mirror/commit/452b406fd40dfbdb674608c6fd72ac5288006e87)|`Merge branch 'u/mkoeppe/common_testsuite_for_mip_backends' into t/20414/add_copy___copy___methods_to_cvxopt__ppl__interactivelp_backends`|\n|[8f968ed](https://github.com/sagemath/sagetrac-mirror/commit/8f968edfcf9e0ae5bd59f9b0c24142273d4637fe)|`_test_copy: New`|\n|[3e26c4d](https://github.com/sagemath/sagetrac-mirror/commit/3e26c4d19ab3533cdbe2002d7539083086aa2bce)|`_test_copy_does_not_share_data: New`|\n|[cdd159d](https://github.com/sagemath/sagetrac-mirror/commit/cdd159d165c33eff92e006f435a3a0c7384a2487)|`test_copy_some_mips: New`|",
    "created_at": "2016-04-15T02:28:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20414#issuecomment-373934",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
|                                                                                                                                          |                                                                    |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------|
|[0bd7a87](https://github.com/sagemath/sagetrac-mirror/commit/0bd7a877d44ee013faa8bdb50a7622cf28251385)|`GenericBackend._test_add_variables(): Add tests from CVXOPTBackend`|
|[6b55e16](https://github.com/sagemath/sagetrac-mirror/commit/6b55e16fd1e781c5071143806655233f03ec91a0)|`Add a classmethod _test_solve`|
|[e14afd3](https://github.com/sagemath/sagetrac-mirror/commit/e14afd3f81f6e72b1226636023a4b58748cd0cd1)|`GenericBackend._test_solve: Finish`|
|[48b9fe5](https://github.com/sagemath/sagetrac-mirror/commit/48b9fe51d9eafadd50d9590f93a35645af4af176)|`Change from mutating instance _test methods to class methods`|
|[5394729](https://github.com/sagemath/sagetrac-mirror/commit/53947298ddca760b6155994622e143e0e3afc4c2)|`New method _test_ncols_nonnegative`|
|[7138fa0](https://github.com/sagemath/sagetrac-mirror/commit/7138fa03a951cf62d970bf346893499fe8fd3daa)|`GenericBackend: Remove failing _test methods from this ticket to make the patchbot and its friends happy`|
|[452b406](https://github.com/sagemath/sagetrac-mirror/commit/452b406fd40dfbdb674608c6fd72ac5288006e87)|`Merge branch 'u/mkoeppe/common_testsuite_for_mip_backends' into t/20414/add_copy___copy___methods_to_cvxopt__ppl__interactivelp_backends`|
|[8f968ed](https://github.com/sagemath/sagetrac-mirror/commit/8f968edfcf9e0ae5bd59f9b0c24142273d4637fe)|`_test_copy: New`|
|[3e26c4d](https://github.com/sagemath/sagetrac-mirror/commit/3e26c4d19ab3533cdbe2002d7539083086aa2bce)|`_test_copy_does_not_share_data: New`|
|[cdd159d](https://github.com/sagemath/sagetrac-mirror/commit/cdd159d165c33eff92e006f435a3a0c7384a2487)|`test_copy_some_mips: New`|



---

archive/issue_comments_373935.json:
```json
{
    "body": "Changing commit from \"\" to \"cdd159d165c33eff92e006f435a3a0c7384a2487\"",
    "created_at": "2016-04-15T02:28:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20414#issuecomment-373935",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "cdd159d165c33eff92e006f435a3a0c7384a2487"



---

archive/issue_comments_373936.json:
```json
{
    "body": "Changing commit from \"cdd159d165c33eff92e006f435a3a0c7384a2487\" to \"4b9fd051aa512b59351de115b21c744d9c312e8e\"",
    "created_at": "2016-04-15T02:43:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20414#issuecomment-373936",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "cdd159d165c33eff92e006f435a3a0c7384a2487" to "4b9fd051aa512b59351de115b21c744d9c312e8e"



---

archive/issue_comments_373937.json:
```json
{
    "body": "<a id='comment:3'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                    |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------|\n|[4b9fd05](https://github.com/sagemath/sagetrac-mirror/commit/4b9fd051aa512b59351de115b21c744d9c312e8e)|`InteractiveLPBackend.__copy__: New`|",
    "created_at": "2016-04-15T02:43:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20414#issuecomment-373937",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                    |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------|
|[4b9fd05](https://github.com/sagemath/sagetrac-mirror/commit/4b9fd051aa512b59351de115b21c744d9c312e8e)|`InteractiveLPBackend.__copy__: New`|



---

archive/issue_comments_373938.json:
```json
{
    "body": "<a id='comment:4'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------|\n|[fe1a8b9](https://github.com/sagemath/sagetrac-mirror/commit/fe1a8b91506ef368912ec0e89b3083cb03fa7f01)|`PPLBackend: Implement __copy__`|\n|[d9f1ec8](https://github.com/sagemath/sagetrac-mirror/commit/d9f1ec8e2d2f21a384063da3303bb26aab0f3867)|`CVXOPTBackend: Implement __copy__`|\n|[751d621](https://github.com/sagemath/sagetrac-mirror/commit/751d621339a105527fe9c9f4592f20333a4d3003)|`InteractiveLPBackend.__copy__: Fix doctest`|\n|[9d39e0c](https://github.com/sagemath/sagetrac-mirror/commit/9d39e0cb57487eb9f3215f5c8424b981aeeb669d)|`CoinBackend: In add_col, don't forget to append to col_names`|\n|[7c97097](https://github.com/sagemath/sagetrac-mirror/commit/7c9709775df95560278a9a5ff776b4033c48882f)|`GenericBackend.__copy__: Fix doctest`|\n|[ce10c70](https://github.com/sagemath/sagetrac-mirror/commit/ce10c703cf8922c1cb3c3d0f4295727efe322cc3)|`GenericBackend._test_copy_some_mips: Change test so it does not use 0 coefficients`|\n|[580e913](https://github.com/sagemath/sagetrac-mirror/commit/580e913062ab40b595fdb508d94b06c44a384f40)|`GenericBackend._do_test_problem_data: Compare types as well`|",
    "created_at": "2016-04-15T07:24:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20414#issuecomment-373938",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------|
|[fe1a8b9](https://github.com/sagemath/sagetrac-mirror/commit/fe1a8b91506ef368912ec0e89b3083cb03fa7f01)|`PPLBackend: Implement __copy__`|
|[d9f1ec8](https://github.com/sagemath/sagetrac-mirror/commit/d9f1ec8e2d2f21a384063da3303bb26aab0f3867)|`CVXOPTBackend: Implement __copy__`|
|[751d621](https://github.com/sagemath/sagetrac-mirror/commit/751d621339a105527fe9c9f4592f20333a4d3003)|`InteractiveLPBackend.__copy__: Fix doctest`|
|[9d39e0c](https://github.com/sagemath/sagetrac-mirror/commit/9d39e0cb57487eb9f3215f5c8424b981aeeb669d)|`CoinBackend: In add_col, don't forget to append to col_names`|
|[7c97097](https://github.com/sagemath/sagetrac-mirror/commit/7c9709775df95560278a9a5ff776b4033c48882f)|`GenericBackend.__copy__: Fix doctest`|
|[ce10c70](https://github.com/sagemath/sagetrac-mirror/commit/ce10c703cf8922c1cb3c3d0f4295727efe322cc3)|`GenericBackend._test_copy_some_mips: Change test so it does not use 0 coefficients`|
|[580e913](https://github.com/sagemath/sagetrac-mirror/commit/580e913062ab40b595fdb508d94b06c44a384f40)|`GenericBackend._do_test_problem_data: Compare types as well`|



---

archive/issue_comments_373939.json:
```json
{
    "body": "Changing commit from \"4b9fd051aa512b59351de115b21c744d9c312e8e\" to \"580e913062ab40b595fdb508d94b06c44a384f40\"",
    "created_at": "2016-04-15T07:24:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20414#issuecomment-373939",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "4b9fd051aa512b59351de115b21c744d9c312e8e" to "580e913062ab40b595fdb508d94b06c44a384f40"



---

archive/issue_comments_373940.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-04-15T07:31:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20414#issuecomment-373940",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_373941.json:
```json
{
    "body": "<a id='comment:5'></a>\nThe branch is on top of #20323 (Common `TestSuite` for MIP backends).\nThe `_test_copy_some_mips` method exposed a bug in `CoinBackend`, which I have fixed on the way.",
    "created_at": "2016-04-15T07:31:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20414#issuecomment-373941",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:5'></a>
The branch is on top of #20323 (Common `TestSuite` for MIP backends).
The `_test_copy_some_mips` method exposed a bug in `CoinBackend`, which I have fixed on the way.



---

archive/issue_comments_373942.json:
```json
{
    "body": "Changing commit from \"580e913062ab40b595fdb508d94b06c44a384f40\" to \"38c6be9df03439d604f7b6c476cbebd6e606e7fd\"",
    "created_at": "2016-04-17T00:34:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20414#issuecomment-373942",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "580e913062ab40b595fdb508d94b06c44a384f40" to "38c6be9df03439d604f7b6c476cbebd6e606e7fd"



---

archive/issue_comments_373943.json:
```json
{
    "body": "<a id='comment:6'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                                     |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------|\n|[38c6be9](https://github.com/sagemath/sagetrac-mirror/commit/38c6be9df03439d604f7b6c476cbebd6e606e7fd)|`MixedIntegerLinearProgram, GenericBackend: Add __deepcopy__ methods`|",
    "created_at": "2016-04-17T00:34:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20414#issuecomment-373943",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                                     |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------|
|[38c6be9](https://github.com/sagemath/sagetrac-mirror/commit/38c6be9df03439d604f7b6c476cbebd6e606e7fd)|`MixedIntegerLinearProgram, GenericBackend: Add __deepcopy__ methods`|



---

archive/issue_comments_373944.json:
```json
{
    "body": "<a id='comment:7'></a>\nNow also contains a fix for #15159 (see description). \nNeeds review.",
    "created_at": "2016-04-17T00:38:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20414#issuecomment-373944",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:7'></a>
Now also contains a fix for #15159 (see description). 
Needs review.



---

archive/issue_comments_373945.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,4 +4,9 @@\n \n The backend method should actually probably be called `__copy__` as well -- see https://docs.python.org/2/library/copy.html\n \n-See also #15159 (which may indicate that we may need a `__deepcopy__` method as well) and #20323 (in which copying a backend could be the basis for more diverse tests)\n+The branch on the ticket does this.\n+\n+We also add `__deepcopy__` methods to `MixedIntegerLinearProgram` and the backends. \n+This fixes #15159, though the semantics of `copy` and `deepcopy` of a `MixedIntegerLinearProgram` remains questionable due to its interaction with `MIPVariable`; see #15159 and #19523.\n+\n+See also #20323 (in which copying a backend could be the basis for more diverse tests).\n``````\n",
    "created_at": "2016-04-17T00:38:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20414#issuecomment-373945",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,4 +4,9 @@
 
 The backend method should actually probably be called `__copy__` as well -- see https://docs.python.org/2/library/copy.html
 
-See also #15159 (which may indicate that we may need a `__deepcopy__` method as well) and #20323 (in which copying a backend could be the basis for more diverse tests)
+The branch on the ticket does this.
+
+We also add `__deepcopy__` methods to `MixedIntegerLinearProgram` and the backends. 
+This fixes #15159, though the semantics of `copy` and `deepcopy` of a `MixedIntegerLinearProgram` remains questionable due to its interaction with `MIPVariable`; see #15159 and #19523.
+
+See also #20323 (in which copying a backend could be the basis for more diverse tests).
``````




---

archive/issue_events_062843.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/20414",
    "rename": {
        "from": "Add copy/__copy__ methods to CVXOPT, PPL, InteractiveLP backends",
        "to": "Add copy/__copy__ methods to CVXOPT, PPL, InteractiveLP backends, and __deepcopy__ to MixedIntegerLinearProgram and backends"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20414#event-62843"
}
```



---

archive/issue_comments_373946.json:
```json
{
    "body": "Changing author from \"\" to \"Matthias Koeppe\"",
    "created_at": "2016-04-17T00:54:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20414#issuecomment-373946",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "" to "Matthias Koeppe"



---

archive/issue_comments_373947.json:
```json
{
    "body": "<a id='comment:10'></a>\nHow reliable is `__deepcopy__` here? Is it just working now?",
    "created_at": "2016-04-18T11:37:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20414#issuecomment-373947",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:10'></a>
How reliable is `__deepcopy__` here? Is it just working now?



---

archive/issue_comments_373948.json:
```json
{
    "body": "Changing commit from \"38c6be9df03439d604f7b6c476cbebd6e606e7fd\" to \"3117b01e595febc8fc6de90eeb3cf19a7e97c7bd\"",
    "created_at": "2016-04-18T18:49:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20414#issuecomment-373948",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "38c6be9df03439d604f7b6c476cbebd6e606e7fd" to "3117b01e595febc8fc6de90eeb3cf19a7e97c7bd"



---

archive/issue_comments_373949.json:
```json
{
    "body": "<a id='comment:11'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                             |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------|\n|[3117b01](https://github.com/sagemath/sagetrac-mirror/commit/3117b01e595febc8fc6de90eeb3cf19a7e97c7bd)|`MixedIntegerLinearProgram.__deepcopy__: Add another doctest`|",
    "created_at": "2016-04-18T18:49:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20414#issuecomment-373949",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                             |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------|
|[3117b01](https://github.com/sagemath/sagetrac-mirror/commit/3117b01e595febc8fc6de90eeb3cf19a7e97c7bd)|`MixedIntegerLinearProgram.__deepcopy__: Add another doctest`|



---

archive/issue_comments_373950.json:
```json
{
    "body": "<a id='comment:12'></a>\nReplying to [dimpase](#comment%3A10):\n> How reliable is `__deepcopy__` here? Is it just working now?\n\n\nIt's working. I've added another test to illustrate deepcopy semantics.",
    "created_at": "2016-04-18T18:50:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20414#issuecomment-373950",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:12'></a>
Replying to [dimpase](#comment%3A10):
> How reliable is `__deepcopy__` here? Is it just working now?


It's working. I've added another test to illustrate deepcopy semantics.



---

archive/issue_comments_373951.json:
```json
{
    "body": "<a id='comment:13'></a>\nReplying to [mkoeppe](#comment%3A12):\n> Replying to [dimpase](#comment%3A10):\n> > How reliable is `__deepcopy__` here? Is it just working now?\n\n> \n> It's working. I've added another test to illustrate deepcopy semantics.\n\n\nwas there something about variables that are (not) copied?",
    "created_at": "2016-04-18T19:08:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20414#issuecomment-373951",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:13'></a>
Replying to [mkoeppe](#comment%3A12):
> Replying to [dimpase](#comment%3A10):
> > How reliable is `__deepcopy__` here? Is it just working now?

> 
> It's working. I've added another test to illustrate deepcopy semantics.


was there something about variables that are (not) copied?



---

archive/issue_comments_373952.json:
```json
{
    "body": "<a id='comment:14'></a>\nReplying to [dimpase](#comment%3A13):\n> was there something about variables that are (not) copied?\n\n\nBefore this patch, deepcopy didn't even copy the backend of a MIP. \nNow it does, simply by doing the same as copy.\n\nBoth copy and deepcopy have weird semantics in relation to the MIPVariables in a problems -- because a MIP does not have an API to gain access to its variables; and trying to use the old MIPVariables with the copy is questionable and definitely broken if one creates new components of this variable, see #15159, #19523. Fixing this would require a redesign; a possible stopgap would be to stop all MIPVariables from creating new components when they have been subjected to copy().",
    "created_at": "2016-04-18T19:25:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20414#issuecomment-373952",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:14'></a>
Replying to [dimpase](#comment%3A13):
> was there something about variables that are (not) copied?


Before this patch, deepcopy didn't even copy the backend of a MIP. 
Now it does, simply by doing the same as copy.

Both copy and deepcopy have weird semantics in relation to the MIPVariables in a problems -- because a MIP does not have an API to gain access to its variables; and trying to use the old MIPVariables with the copy is questionable and definitely broken if one creates new components of this variable, see #15159, #19523. Fixing this would require a redesign; a possible stopgap would be to stop all MIPVariables from creating new components when they have been subjected to copy().



---

archive/issue_comments_373953.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-04-18T21:27:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20414#issuecomment-373953",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_373954.json:
```json
{
    "body": "<a id='comment:15'></a>\nok, fine.",
    "created_at": "2016-04-18T21:27:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20414#issuecomment-373954",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:15'></a>
ok, fine.



---

archive/issue_comments_373955.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Dima Pasechnik\"",
    "created_at": "2016-04-18T21:27:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20414#issuecomment-373955",
    "user": "https://github.com/dimpase"
}
```

Changing reviewer from "" to "Dima Pasechnik"



---

archive/issue_comments_373956.json:
```json
{
    "body": "<a id='comment:16'></a>\nReplying to [dimpase](#comment%3A15):\n> ok, fine.\n\n\nThanks for reviewing.\n\nI've created a new ticket, #20461, for solving the issue with the variables of a copied MIP. Please take a look when you have a chance.",
    "created_at": "2016-04-19T04:12:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20414#issuecomment-373956",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:16'></a>
Replying to [dimpase](#comment%3A15):
> ok, fine.


Thanks for reviewing.

I've created a new ticket, #20461, for solving the issue with the variables of a copied MIP. Please take a look when you have a chance.



---

archive/issue_comments_373957.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-04-20T22:26:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20414#issuecomment-373957",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_062844.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-04-20T22:26:38Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/20414",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20414#event-62844"
}
```



---

archive/issue_comments_373958.json:
```json
{
    "body": "Changing branch from \"u/mkoeppe/add_copy___copy___methods_to_cvxopt__ppl__interactivelp_backends\" to \"3117b01e595febc8fc6de90eeb3cf19a7e97c7bd\"",
    "created_at": "2016-04-20T22:26:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20414#issuecomment-373958",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/mkoeppe/add_copy___copy___methods_to_cvxopt__ppl__interactivelp_backends" to "3117b01e595febc8fc6de90eeb3cf19a7e97c7bd"
