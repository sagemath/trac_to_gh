# Issue 20898: Syndrome decoder for a linear code sometimes sets wrong decoder type

archive/issues_020661.json:
```json
{
    "body": "There is a bug in how the decoder type is set for the syndrome decoder. Consider\n\n```\nsage: C = codes.HammingCode(GF(5), 3)\nsage: D = C.decoder(\"Syndrome\")\nsage: C.minimum_distance()\n3\nsage: D.maximum_error_weight()\n1\nsage: D.decoder_type()\n{'complete', 'hard-decision', 'might-error', 'unique'}\n```\n\nThe last line should not have had \"might-error\" but instead should have had \"always-succeed\" and \"minimum-distance\".\n\nCC:  dlucas\n\nKeywords: linear code, syndrome, rd3\n\nBranch/Commit: f152ea833b7fb8be9831bf36175e6ed37e4eeca1\n\nReviewer: Bruno Grenet\n\nAuthor: Cl\u00e9ment Pernet\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/20898\n\n",
    "closed_at": "2017-02-08T22:48:51Z",
    "created_at": "2016-06-28T15:16:34Z",
    "labels": [
        "component: coding theory",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.3",
    "title": "Syndrome decoder for a linear code sometimes sets wrong decoder type",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20898",
    "user": "https://github.com/johanrosenkilde"
}
```
There is a bug in how the decoder type is set for the syndrome decoder. Consider

```
sage: C = codes.HammingCode(GF(5), 3)
sage: D = C.decoder("Syndrome")
sage: C.minimum_distance()
3
sage: D.maximum_error_weight()
1
sage: D.decoder_type()
{'complete', 'hard-decision', 'might-error', 'unique'}
```

The last line should not have had "might-error" but instead should have had "always-succeed" and "minimum-distance".

CC:  dlucas

Keywords: linear code, syndrome, rd3

Branch/Commit: f152ea833b7fb8be9831bf36175e6ed37e4eeca1

Reviewer: Bruno Grenet

Author: Cl√©ment Pernet

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/20898





---

archive/issue_comments_285010.json:
```json
{
    "body": "<a id='comment:2'></a>There was actually 2 bugs: the decoding_radius tested for this decision was not updated with the value found during the construction of the lookup table. Then some set.add needed to be changed.\n\nI also added the ticket's code as a doctest.\n\nAttached branch should fix the pb. Open for review.\n\n---\nNew commits:",
    "created_at": "2017-02-07T13:55:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20898",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20898#issuecomment-285010",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:2'></a>There was actually 2 bugs: the decoding_radius tested for this decision was not updated with the value found during the construction of the lookup table. Then some set.add needed to be changed.

I also added the ticket's code as a doctest.

Attached branch should fix the pb. Open for review.

---
New commits:



---

archive/issue_comments_285011.json:
```json
{
    "body": "Changing keywords from \"linear code, syndrome\" to \"linear code, syndrome, rd3\".",
    "created_at": "2017-02-07T13:55:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20898",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20898#issuecomment-285011",
    "user": "https://github.com/ClementPernet"
}
```

Changing keywords from "linear code, syndrome" to "linear code, syndrome, rd3".



---

archive/issue_comments_285012.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-02-07T13:55:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20898",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20898#issuecomment-285012",
    "user": "https://github.com/ClementPernet"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_285013.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-02-07T14:24:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20898",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20898#issuecomment-285013",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_285014.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-02-07T14:27:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20898",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20898#issuecomment-285014",
    "user": "https://github.com/bgrenet"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_285015.json:
```json
{
    "body": "<a id='comment:4'></a>Looks OK!",
    "created_at": "2017-02-07T14:27:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20898",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20898#issuecomment-285015",
    "user": "https://github.com/bgrenet"
}
```

<a id='comment:4'></a>Looks OK!



---

archive/issue_events_055998.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-02-08T22:48:51Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/20898",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20898#event-55998"
}
```



---

archive/issue_comments_285016.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-02-08T22:48:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20898",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20898#issuecomment-285016",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
