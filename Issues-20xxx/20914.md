# Issue 20914: Upgrade to GAP 4.8.6

archive/issues_020677.json:
```json
{
    "assignees": [],
    "body": "GAP 4.8.6 was released on 2016-11-14.\n\nRelease announcement:\nhttp://mail.gap-system.org/pipermail/forum/2016/005368.html\n\nGAP 4.8.6 page\nhttp://gap-system.org/Releases/4.8.6.html\n\nChangelog:\nhttp://www.gap-system.org/Manuals/doc/changes/chap2.html#X7B6C9EFD7DF68823\n\nTarballs:\n\n* http://users.ox.ac.uk/~coml0531/sage/gap-4.8.6.tar.bz2\n* http://users.ox.ac.uk/~coml0531/sage/database_gap-4.8.6.tar.bz2\n* http://users.ox.ac.uk/~coml0531/sage/gap_packages-4.8.6.tar.bz2\n* http://users.ox.ac.uk/~coml0531/sage/libgap-4.8.6.tar.gz\n\n\nDepends on #22272\n\nCC:  @dimpase @kiwifb @vbraun @jdemeyer @tscrim\n\nBranch/Commit: **[`8b8bff3`](https://github.com/sagemath/sagetrac-mirror/commit/8b8bff3979932022c2cbccd519689351b4c9170d)**\n\nUpstream: **Reported upstream. No feedback yet.**\n\nReviewer: **Volker Braun**\n\nAuthor: **Dima Pasechnik**\n\nComponent: **group theory**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/20914_\n\n",
    "closed_at": "2017-02-06T23:11:35Z",
    "created_at": "2016-06-30T21:30:12Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20group%20theory",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.6",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Upgrade to GAP 4.8.6",
    "type": "issue",
    "updated_at": "2017-02-06T23:11:35Z",
    "url": "https://github.com/sagemath/sage/issues/20914",
    "user": "https://github.com/slel"
}
```
GAP 4.8.6 was released on 2016-11-14.

Release announcement:
http://mail.gap-system.org/pipermail/forum/2016/005368.html

GAP 4.8.6 page
http://gap-system.org/Releases/4.8.6.html

Changelog:
http://www.gap-system.org/Manuals/doc/changes/chap2.html#X7B6C9EFD7DF68823

Tarballs:

* http://users.ox.ac.uk/~coml0531/sage/gap-4.8.6.tar.bz2
* http://users.ox.ac.uk/~coml0531/sage/database_gap-4.8.6.tar.bz2
* http://users.ox.ac.uk/~coml0531/sage/gap_packages-4.8.6.tar.bz2
* http://users.ox.ac.uk/~coml0531/sage/libgap-4.8.6.tar.gz


Depends on #22272

CC:  @dimpase @kiwifb @vbraun @jdemeyer @tscrim

Branch/Commit: **[`8b8bff3`](https://github.com/sagemath/sagetrac-mirror/commit/8b8bff3979932022c2cbccd519689351b4c9170d)**

Upstream: **Reported upstream. No feedback yet.**

Reviewer: **Volker Braun**

Author: **Dima Pasechnik**

Component: **group theory**

_Issue created by migration from https://trac.sagemath.org/ticket/20914_





---

archive/issue_events_294318.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2016-06-30T21:30:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "milestone_number": null,
    "milestone_title": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20914#event-294318"
}
```



---

archive/issue_events_294319.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2016-06-30T21:30:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20group%20theory",
    "label_color": "0000ff",
    "label_name": "c: group theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20914#event-294319"
}
```



---

archive/issue_events_294320.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2016-06-30T21:30:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20914#event-294320"
}
```



---

archive/issue_events_294321.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2016-06-30T21:30:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20914#event-294321"
}
```



---

archive/issue_events_294322.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2017-01-07T10:48:40Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "title_is": "Upgrade to GAP 4.8.6",
    "title_was": "Upgrade to GAP 4.8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20914#event-294322"
}
```



---

archive/issue_comments_303738.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,11 +1,11 @@\n-GAP 4.8.4 was released on 2016-06-04.\n+GAP 4.8.6 was released on 2016-11-14.\n \n Release announcement:\n-http://mail.gap-system.org/pipermail/forum/2016/005253.html\n+http://mail.gap-system.org/pipermail/forum/2016/005368.html\n \n-GAP 4.8.4 page\n-http://gap-system.org/Releases/4.8.4.html\n+GAP 4.8.6 page\n+http://gap-system.org/Releases/4.8.6.html\n \n Changelog:\n-http://www.gap-system.org/Manuals/doc/changes/chap2.html#X85F7B6F17D29A589\n+http://www.gap-system.org/Manuals/doc/changes/chap2.html#X7B6C9EFD7DF68823\n \n``````\n",
    "created_at": "2017-01-07T10:48:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303738",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,11 +1,11 @@
-GAP 4.8.4 was released on 2016-06-04.
+GAP 4.8.6 was released on 2016-11-14.
 
 Release announcement:
-http://mail.gap-system.org/pipermail/forum/2016/005253.html
+http://mail.gap-system.org/pipermail/forum/2016/005368.html
 
-GAP 4.8.4 page
-http://gap-system.org/Releases/4.8.4.html
+GAP 4.8.6 page
+http://gap-system.org/Releases/4.8.6.html
 
 Changelog:
-http://www.gap-system.org/Manuals/doc/changes/chap2.html#X85F7B6F17D29A589
+http://www.gap-system.org/Manuals/doc/changes/chap2.html#X7B6C9EFD7DF68823
 
``````




---

archive/issue_events_294323.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2017-01-07T10:48:40Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "milestone_number": null,
    "milestone_title": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20914#event-294323"
}
```



---

archive/issue_events_294324.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2017-01-07T10:48:40Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "milestone_number": null,
    "milestone_title": "sage-7.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20914#event-294324"
}
```



---

archive/issue_comments_303739.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nDebian has patches for 4.8.6 update of libgap and gap, see\nhttps://groups.google.com/d/msg/sage-packaging/O2PAsuAELMA/vKCdnu3RBAAJ\n\nso we just should take them. Due to miscommunication with the Debian people, I only found out by chance, as I saw them asking what a GAP-related Sage doctest would output for GAP 4.8.6 in place of 4.8.3 :-)",
    "created_at": "2017-01-22T09:06:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303739",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:2" align="right">comment:2</div>

Debian has patches for 4.8.6 update of libgap and gap, see
https://groups.google.com/d/msg/sage-packaging/O2PAsuAELMA/vKCdnu3RBAAJ

so we just should take them. Due to miscommunication with the Debian people, I only found out by chance, as I saw them asking what a GAP-related Sage doctest would output for GAP 4.8.6 in place of 4.8.3 :-)



---

archive/issue_comments_303740.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\na 1st try for update; already includes the patch from #22116, but still needs few doctest fixes, due to changes in random sources, mostly.",
    "created_at": "2017-01-23T19:17:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303740",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:3" align="right">comment:3</div>

a 1st try for update; already includes the patch from #22116, but still needs few doctest fixes, due to changes in random sources, mostly.



---

archive/issue_comments_303741.json:
```json
{
    "body": "Branch: **[u/dimpase/gap4.8.6](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/gap4.8.6)**",
    "created_at": "2017-01-23T19:17:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303741",
    "user": "https://github.com/dimpase"
}
```

Branch: **[u/dimpase/gap4.8.6](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/gap4.8.6)**



---

archive/issue_comments_303742.json:
```json
{
    "body": "Commit: **[`0244812`](https://github.com/sagemath/sagetrac-mirror/commit/02448125304b2d1cf324ca48be430ad2531c3040)**",
    "created_at": "2017-01-23T19:17:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303742",
    "user": "https://github.com/dimpase"
}
```

Commit: **[`0244812`](https://github.com/sagemath/sagetrac-mirror/commit/02448125304b2d1cf324ca48be430ad2531c3040)**



---

archive/issue_comments_303743.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -9,3 +9,10 @@\n Changelog:\n http://www.gap-system.org/Manuals/doc/changes/chap2.html#X7B6C9EFD7DF68823\n \n+Tarballs:\n+\n+* http://users.ox.ac.uk/~coml0531/sage/gap-4.8.6.tar.bz2\n+* http://users.ox.ac.uk/~coml0531/sage/database_gap-4.8.6.tar.bz2\n+* http://users.ox.ac.uk/~coml0531/sage/gap_packages-4.8.6.tar.bz2\n+* http://users.ox.ac.uk/~coml0531/sage/libgap-4.8.6.tar.gz\n+\n``````\n",
    "created_at": "2017-01-23T19:17:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303743",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -9,3 +9,10 @@
 Changelog:
 http://www.gap-system.org/Manuals/doc/changes/chap2.html#X7B6C9EFD7DF68823
 
+Tarballs:
+
+* http://users.ox.ac.uk/~coml0531/sage/gap-4.8.6.tar.bz2
+* http://users.ox.ac.uk/~coml0531/sage/database_gap-4.8.6.tar.bz2
+* http://users.ox.ac.uk/~coml0531/sage/gap_packages-4.8.6.tar.bz2
+* http://users.ox.ac.uk/~coml0531/sage/libgap-4.8.6.tar.gz
+
``````




---

archive/issue_comments_303744.json:
```json
{
    "body": "Changed commit from **[`0244812`](https://github.com/sagemath/sagetrac-mirror/commit/02448125304b2d1cf324ca48be430ad2531c3040)** to **[`ba1e2ae`](https://github.com/sagemath/sagetrac-mirror/commit/ba1e2ae73e22b47a89f5faed5b9da9efe5aac345)**",
    "created_at": "2017-01-23T23:09:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303744",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0244812`](https://github.com/sagemath/sagetrac-mirror/commit/02448125304b2d1cf324ca48be430ad2531c3040)** to **[`ba1e2ae`](https://github.com/sagemath/sagetrac-mirror/commit/ba1e2ae73e22b47a89f5faed5b9da9efe5aac345)**



---

archive/issue_comments_303745.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ba1e2ae73e22b47a89f5faed5b9da9efe5aac345\">ba1e2ae</a></td><td><code>we don't have these packages installed by default</code></td></tr></table>\n",
    "created_at": "2017-01-23T23:09:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303745",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ba1e2ae73e22b47a89f5faed5b9da9efe5aac345">ba1e2ae</a></td><td><code>we don't have these packages installed by default</code></td></tr></table>




---

archive/issue_comments_303746.json:
```json
{
    "body": "Upstream: **Reported upstream. No feedback yet.**",
    "created_at": "2017-01-23T23:16:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303746",
    "user": "https://github.com/dimpase"
}
```

Upstream: **Reported upstream. No feedback yet.**



---

archive/issue_comments_303747.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nlibgap is built using [modified upstream](https://bitbucket.org/vbraun/libgap/pull-requests/12) with manually adding `src/libgap.map` to the tarball as mentioned [here](https://bitbucket.org/lfos/libgap/issues/1). A proper (upstream) fix should be via automake config, I presume.",
    "created_at": "2017-01-23T23:16:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303747",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:5" align="right">comment:5</div>

libgap is built using [modified upstream](https://bitbucket.org/vbraun/libgap/pull-requests/12) with manually adding `src/libgap.map` to the tarball as mentioned [here](https://bitbucket.org/lfos/libgap/issues/1). A proper (upstream) fix should be via automake config, I presume.



---

archive/issue_comments_303748.json:
```json
{
    "body": "Author: **Dima Pasechnik**",
    "created_at": "2017-01-23T23:28:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303748",
    "user": "https://github.com/dimpase"
}
```

Author: **Dima Pasechnik**



---

archive/issue_comments_303749.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b6b44c71769ab5864b7e2110d2de43ddcb9faf27\">b6b44c7</a></td><td><code>GAPs random object generator has changed</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2d86709b234fa2797c2f18371a508fa8573960e2\">2d86709</a></td><td><code>use improved GAPs Iterator and Enuerator in matrix_group.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ce16e91cca3125f2e626d7f137ea4b98ff254528\">ce16e91</a></td><td><code>remaining easy doctest fixes</code></td></tr></table>\n",
    "created_at": "2017-01-24T10:32:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303749",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b6b44c71769ab5864b7e2110d2de43ddcb9faf27">b6b44c7</a></td><td><code>GAPs random object generator has changed</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2d86709b234fa2797c2f18371a508fa8573960e2">2d86709</a></td><td><code>use improved GAPs Iterator and Enuerator in matrix_group.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ce16e91cca3125f2e626d7f137ea4b98ff254528">ce16e91</a></td><td><code>remaining easy doctest fixes</code></td></tr></table>




---

archive/issue_comments_303750.json:
```json
{
    "body": "Changed commit from **[`ba1e2ae`](https://github.com/sagemath/sagetrac-mirror/commit/ba1e2ae73e22b47a89f5faed5b9da9efe5aac345)** to **[`ce16e91`](https://github.com/sagemath/sagetrac-mirror/commit/ce16e91cca3125f2e626d7f137ea4b98ff254528)**",
    "created_at": "2017-01-24T10:32:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303750",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ba1e2ae`](https://github.com/sagemath/sagetrac-mirror/commit/ba1e2ae73e22b47a89f5faed5b9da9efe5aac345)** to **[`ce16e91`](https://github.com/sagemath/sagetrac-mirror/commit/ce16e91cca3125f2e626d7f137ea4b98ff254528)**



---

archive/issue_events_294325.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2017-01-24T10:34:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20914#event-294325"
}
```



---

archive/issue_comments_303751.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nWhat do you expect from me? As I mentioned on #22116, I disagree with `build/pkgs/gap_packages/patches/guava_leon.patch`",
    "created_at": "2017-01-24T10:40:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303751",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:9" align="right">comment:9</div>

What do you expect from me? As I mentioned on #22116, I disagree with `build/pkgs/gap_packages/patches/guava_leon.patch`



---

archive/issue_comments_303752.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nI also wonder why you need the change to `build/pkgs/database_gap/spkg-install`. I don't know enough about GAP to know when `gap_reset_workspace()` is needed, but I think that you should give justification for that removal.",
    "created_at": "2017-01-24T10:53:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303752",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:10" align="right">comment:10</div>

I also wonder why you need the change to `build/pkgs/database_gap/spkg-install`. I don't know enough about GAP to know when `gap_reset_workspace()` is needed, but I think that you should give justification for that removal.



---

archive/issue_comments_303753.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@jdemeyer](#comment:9):\n> What do you expect from me? As I mentioned on #22116, I disagree with `build/pkgs/gap_packages/patches/guava_leon.patch`\n\nThis is now [upstream](https://github.com/osj1961/guava/commit/e688be9144820efc11f09cd1080b39e59689ea27) and will be in the next release of Guava.",
    "created_at": "2017-01-24T11:27:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303753",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@jdemeyer](#comment:9):
> What do you expect from me? As I mentioned on #22116, I disagree with `build/pkgs/gap_packages/patches/guava_leon.patch`

This is now [upstream](https://github.com/osj1961/guava/commit/e688be9144820efc11f09cd1080b39e59689ea27) and will be in the next release of Guava.



---

archive/issue_comments_303754.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@dimpase](#comment:11):\n> Replying to [@jdemeyer](#comment:9):\n> > What do you expect from me? As I mentioned on #22116, I disagree with `build/pkgs/gap_packages/patches/guava_leon.patch`\n\n> \n> This is now upstream and will be in the next release of Guava.\n\nThen please update the patch file with a pointer to upstream. For reference, also add it on this Trac page.",
    "created_at": "2017-01-24T11:32:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303754",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@dimpase](#comment:11):
> Replying to [@jdemeyer](#comment:9):
> > What do you expect from me? As I mentioned on #22116, I disagree with `build/pkgs/gap_packages/patches/guava_leon.patch`

> 
> This is now upstream and will be in the next release of Guava.

Then please update the patch file with a pointer to upstream. For reference, also add it on this Trac page.



---

archive/issue_events_294326.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-01-24T11:32:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20914#event-294326"
}
```



---

archive/issue_events_294327.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-01-24T11:32:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20914#event-294327"
}
```



---

archive/issue_comments_303755.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@jdemeyer](#comment:10):\n> I also wonder why you need the change to `build/pkgs/database_gap/spkg-install`. I don't know enough about GAP to know when `gap_reset_workspace()` is needed, but I think that you should give justification for that removal.\n\nIt is safe to omit this call. In fact,\n`gap_reset_workspace()` needs some work. It has not really been touched in 5 years,\nand it hangs on me now and then.\nI do not want to do it on this ticket - it has been iffy for a while already.",
    "created_at": "2017-01-24T11:51:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303755",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@jdemeyer](#comment:10):
> I also wonder why you need the change to `build/pkgs/database_gap/spkg-install`. I don't know enough about GAP to know when `gap_reset_workspace()` is needed, but I think that you should give justification for that removal.

It is safe to omit this call. In fact,
`gap_reset_workspace()` needs some work. It has not really been touched in 5 years,
and it hangs on me now and then.
I do not want to do it on this ticket - it has been iffy for a while already.



---

archive/issue_comments_303756.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/990b5db00558ec393dc4b9aad54431d8be1cc75b\">990b5db</a></td><td><code>added a pointer to upstream change</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/35c8feae2e3813e4078d7eece44f36c15f766abb\">35c8fea</a></td><td><code>workspace will be updated automatically anyway.</code></td></tr></table>\n",
    "created_at": "2017-01-24T11:58:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303756",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/990b5db00558ec393dc4b9aad54431d8be1cc75b">990b5db</a></td><td><code>added a pointer to upstream change</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/35c8feae2e3813e4078d7eece44f36c15f766abb">35c8fea</a></td><td><code>workspace will be updated automatically anyway.</code></td></tr></table>




---

archive/issue_comments_303757.json:
```json
{
    "body": "Changed commit from **[`ce16e91`](https://github.com/sagemath/sagetrac-mirror/commit/ce16e91cca3125f2e626d7f137ea4b98ff254528)** to **[`35c8fea`](https://github.com/sagemath/sagetrac-mirror/commit/35c8feae2e3813e4078d7eece44f36c15f766abb)**",
    "created_at": "2017-01-24T11:58:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303757",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ce16e91`](https://github.com/sagemath/sagetrac-mirror/commit/ce16e91cca3125f2e626d7f137ea4b98ff254528)** to **[`35c8fea`](https://github.com/sagemath/sagetrac-mirror/commit/35c8feae2e3813e4078d7eece44f36c15f766abb)**



---

archive/issue_comments_303758.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nI have opened #22244 to deal with `gap_reset_workspace()` and GAP packages in more detail.",
    "created_at": "2017-01-24T12:03:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303758",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:15" align="right">comment:15</div>

I have opened #22244 to deal with `gap_reset_workspace()` and GAP packages in more detail.



---

archive/issue_events_294328.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2017-01-24T12:03:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20914#event-294328"
}
```



---

archive/issue_events_294329.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2017-01-24T12:03:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20914#event-294329"
}
```



---

archive/issue_comments_303759.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nIf you are planning to deal with it anyway on #22244, why not leave the `gap_reset_workspace` as it is in this ticket?",
    "created_at": "2017-01-24T18:53:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303759",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:16" align="right">comment:16</div>

If you are planning to deal with it anyway on #22244, why not leave the `gap_reset_workspace` as it is in this ticket?



---

archive/issue_comments_303760.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@jdemeyer](#comment:16):\n> If you are planning to deal with it anyway on #22244, why not leave the `gap_reset_workspace` as it is in this ticket?\n\nCause it causes `spkg-install` hang indefinitely on one of my systems.",
    "created_at": "2017-01-25T14:47:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303760",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@jdemeyer](#comment:16):
> If you are planning to deal with it anyway on #22244, why not leave the `gap_reset_workspace` as it is in this ticket?

Cause it causes `spkg-install` hang indefinitely on one of my systems.



---

archive/issue_comments_303761.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nReplying to [@dimpase](#comment:17):\n> Cause it causes `spkg-install` hang indefinitely on one of my systems.\n\nWell, then that problem should be fixed instead of hiding it under the carpet.",
    "created_at": "2017-01-25T15:34:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303761",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:18" align="right">comment:18</div>

Replying to [@dimpase](#comment:17):
> Cause it causes `spkg-install` hang indefinitely on one of my systems.

Well, then that problem should be fixed instead of hiding it under the carpet.



---

archive/issue_comments_303762.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nReplying to [@jdemeyer](#comment:18):\n> Replying to [@dimpase](#comment:17):\n> > Cause it causes `spkg-install` hang indefinitely on one of my systems.\n\n> \n> Well, then that problem should be fixed instead of hiding it under the carpet.\n\nIt is not a problem not to have that call in `spkg-install`.\nIt merely means that  some later GAP startup will be slower, once.\n(And yes we will look at it in #22244)\nBy the way, there is no such call in `spkg-install` of `gap_packages`.",
    "created_at": "2017-01-25T15:40:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303762",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:19" align="right">comment:19</div>

Replying to [@jdemeyer](#comment:18):
> Replying to [@dimpase](#comment:17):
> > Cause it causes `spkg-install` hang indefinitely on one of my systems.

> 
> Well, then that problem should be fixed instead of hiding it under the carpet.

It is not a problem not to have that call in `spkg-install`.
It merely means that  some later GAP startup will be slower, once.
(And yes we will look at it in #22244)
By the way, there is no such call in `spkg-install` of `gap_packages`.



---

archive/issue_comments_303763.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nRegardless, I feel that the removal of `gap_reset_workspace` is orthogonal to the issue of this ticket and should be handled separately.",
    "created_at": "2017-01-30T15:56:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303763",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:20" align="right">comment:20</div>

Regardless, I feel that the removal of `gap_reset_workspace` is orthogonal to the issue of this ticket and should be handled separately.



---

archive/issue_comments_303764.json:
```json
{
    "body": "Changed commit from **[`35c8fea`](https://github.com/sagemath/sagetrac-mirror/commit/35c8feae2e3813e4078d7eece44f36c15f766abb)** to **[`224dd07`](https://github.com/sagemath/sagetrac-mirror/commit/224dd07c7e1ba14c337c547e10dd72456a9b95d9)**",
    "created_at": "2017-02-02T12:18:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303764",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`35c8fea`](https://github.com/sagemath/sagetrac-mirror/commit/35c8feae2e3813e4078d7eece44f36c15f766abb)** to **[`224dd07`](https://github.com/sagemath/sagetrac-mirror/commit/224dd07c7e1ba14c337c547e10dd72456a9b95d9)**



---

archive/issue_comments_303765.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/30476dfe0794d175b2cf16a3ca79dcd9eca2fbe0\">30476df</a></td><td><code>Merge branch 'u/dimpase/gap4.8.6' of trac.sagemath.org:sage into gapup</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dc8c742ac98fa3e35ae16213a197d19f28eab0d3\">dc8c742</a></td><td><code>Clean GAP installation directory before re-installing</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/573afa5b7f71bc54da1a6b2aa752273212d88bc6\">573afa5</a></td><td><code>Make sure that we create $SAGE_LOCAL/gap</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a893fc973ea5a408bf514c4a84424013273db6b6\">a893fc9</a></td><td><code>Merge branch 'u/jdemeyer/gap_install_error__text_file_busy_' of trac.sagemath.org:sage into gapup</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/224dd07c7e1ba14c337c547e10dd72456a9b95d9\">224dd07</a></td><td><code>Revert \"workspace will be updated automatically anyway.\"</code></td></tr></table>\n",
    "created_at": "2017-02-02T12:18:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303765",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/30476dfe0794d175b2cf16a3ca79dcd9eca2fbe0">30476df</a></td><td><code>Merge branch 'u/dimpase/gap4.8.6' of trac.sagemath.org:sage into gapup</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dc8c742ac98fa3e35ae16213a197d19f28eab0d3">dc8c742</a></td><td><code>Clean GAP installation directory before re-installing</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/573afa5b7f71bc54da1a6b2aa752273212d88bc6">573afa5</a></td><td><code>Make sure that we create $SAGE_LOCAL/gap</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a893fc973ea5a408bf514c4a84424013273db6b6">a893fc9</a></td><td><code>Merge branch 'u/jdemeyer/gap_install_error__text_file_busy_' of trac.sagemath.org:sage into gapup</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/224dd07c7e1ba14c337c547e10dd72456a9b95d9">224dd07</a></td><td><code>Revert "workspace will be updated automatically anyway."</code></td></tr></table>




---

archive/issue_comments_303766.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nI've added the branch from #22272, rebased over the latest beta, and reverted the removal of gap_reset_workspace (commit 35c8fea). I do not see the hang I dealt with by adding the latter commit anymore (perhaps it's the effect of #22272 ?). Anyway, I hope this makes everyone happy :-)",
    "created_at": "2017-02-02T12:22:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303766",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:22" align="right">comment:22</div>

I've added the branch from #22272, rebased over the latest beta, and reverted the removal of gap_reset_workspace (commit 35c8fea). I do not see the hang I dealt with by adding the latter commit anymore (perhaps it's the effect of #22272 ?). Anyway, I hope this makes everyone happy :-)



---

archive/issue_comments_303767.json:
```json
{
    "body": "Dependencies: **#22272**",
    "created_at": "2017-02-02T12:22:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303767",
    "user": "https://github.com/dimpase"
}
```

Dependencies: **#22272**



---

archive/issue_comments_303768.json:
```json
{
    "body": "Work Issues: **failing long doctests**",
    "created_at": "2017-02-03T10:15:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303768",
    "user": "https://github.com/dimpase"
}
```

Work Issues: **failing long doctests**



---

archive/issue_events_294330.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2017-02-03T10:15:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20914#event-294330"
}
```



---

archive/issue_events_294331.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2017-02-03T10:15:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20914#event-294331"
}
```



---

archive/issue_comments_303769.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d861b3790b1e6d1b8a5ff16c7f8a02608e3257b2\">d861b37</a></td><td><code>obvious doctest fixes</code></td></tr></table>\n",
    "created_at": "2017-02-03T10:59:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303769",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d861b3790b1e6d1b8a5ff16c7f8a02608e3257b2">d861b37</a></td><td><code>obvious doctest fixes</code></td></tr></table>




---

archive/issue_comments_303770.json:
```json
{
    "body": "Changed commit from **[`224dd07`](https://github.com/sagemath/sagetrac-mirror/commit/224dd07c7e1ba14c337c547e10dd72456a9b95d9)** to **[`d861b37`](https://github.com/sagemath/sagetrac-mirror/commit/d861b3790b1e6d1b8a5ff16c7f8a02608e3257b2)**",
    "created_at": "2017-02-03T10:59:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303770",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`224dd07`](https://github.com/sagemath/sagetrac-mirror/commit/224dd07c7e1ba14c337c547e10dd72456a9b95d9)** to **[`d861b37`](https://github.com/sagemath/sagetrac-mirror/commit/d861b3790b1e6d1b8a5ff16c7f8a02608e3257b2)**



---

archive/issue_comments_303771.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nWhat remains to fix is the following, less obvious:\n\n```\nFile \"src/sage/combinat/root_system/weyl_group.py\", line 175, in sage.combinat.root_system.weyl_group.WeylGroup\nFailed example:\n    TestSuite(WeylGroup([\"A\",3,1])).run() # long time\nExpected nothing\nGot:\n    Failure in _test_enumerated_set_contains:\n    Traceback (most recent call last):\n      File \"/home/dima/Sage/sage-dev/local/lib/python2.7/site-packages/sage/misc/sage_unittest.py\", line 293, in run\n        test_method(tester = tester)\n      File \"/home/dima/Sage/sage-dev/local/lib/python2.7/site-packages/sage/categories/enumerated_sets.py\", line 949, in _test_enumerated_set_contains\n        for w in self:\n      File \"/home/dima/Sage/sage-dev/local/lib/python2.7/site-packages/sage/groups/libgap_mixin.py\", line 342, in __iter__\n        iterator = self.gap().Iterator()\n      File \"sage/libs/gap/element.pyx\", line 2168, in sage.libs.gap.element.GapElement_MethodProxy.__call__ (/home/dima/Sage/sage-dev/src/build/cythonized/sage/libs/gap/element.c:17497)\n        return GapElement_Function.__call__(self, self.first_argument)\n      File \"sage/libs/gap/element.pyx\", line 2052, in sage.libs.gap.element.GapElement_Function.__call__ (/home/dima/Sage/sage-dev/src/build/cythonized/sage/libs/gap/element.c:16881)\n        raise ValueError('libGAP: ' + str(msg))\n    ValueError: libGAP: Error, no method found! Error, no 3rd choice method found for `Enumerator' on 1 arguments\n    ------------------------------------------------------------\n    The following tests failed: _test_enumerated_set_contains\n**********************************************************************\nFile \"src/sage/combinat/root_system/weyl_group.py\", line 214, in sage.combinat.root_system.weyl_group.WeylGroup.__init__\nFailed example:\n    TestSuite(W).run() # long time\nExpected nothing\nGot:\n    Failure in _test_enumerated_set_contains:\n    Traceback (most recent call last):\n      File \"/home/dima/Sage/sage-dev/local/lib/python2.7/site-packages/sage/misc/sage_unittest.py\", line 293, in run\n        test_method(tester = tester)\n      File \"/home/dima/Sage/sage-dev/local/lib/python2.7/site-packages/sage/categories/enumerated_sets.py\", line 949, in _test_enumerated_set_contains\n        for w in self:\n      File \"/home/dima/Sage/sage-dev/local/lib/python2.7/site-packages/sage/groups/libgap_mixin.py\", line 342, in __iter__\n        iterator = self.gap().Iterator()\n      File \"sage/libs/gap/element.pyx\", line 2168, in sage.libs.gap.element.GapElement_MethodProxy.__call__ (/home/dima/Sage/sage-dev/src/build/cythonized/sage/libs/gap/element.c:17497)\n        return GapElement_Function.__call__(self, self.first_argument)\n      File \"sage/libs/gap/element.pyx\", line 2052, in sage.libs.gap.element.GapElement_Function.__call__ (/home/dima/Sage/sage-dev/src/build/cythonized/sage/libs/gap/element.c:16881)\n        raise ValueError('libGAP: ' + str(msg))\n    ValueError: libGAP: Error, no method found! Error, no 3rd choice method found for `Enumerator' on 1 arguments\n    ------------------------------------------------------------\n    The following tests failed: _test_enumerated_set_contains\n**********************************************************************\n2 items had failures:\n   1 of  46 in sage.combinat.root_system.weyl_group.WeylGroup\n   1 of   6 in sage.combinat.root_system.weyl_group.WeylGroup.__init__\n    [203 tests, 2 failures, 16.77 s]\n```\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d861b3790b1e6d1b8a5ff16c7f8a02608e3257b2\">d861b37</a></td><td><code>obvious doctest fixes</code></td></tr></table>\n",
    "created_at": "2017-02-03T11:03:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303771",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:25" align="right">comment:25</div>

What remains to fix is the following, less obvious:

```
File "src/sage/combinat/root_system/weyl_group.py", line 175, in sage.combinat.root_system.weyl_group.WeylGroup
Failed example:
    TestSuite(WeylGroup(["A",3,1])).run() # long time
Expected nothing
Got:
    Failure in _test_enumerated_set_contains:
    Traceback (most recent call last):
      File "/home/dima/Sage/sage-dev/local/lib/python2.7/site-packages/sage/misc/sage_unittest.py", line 293, in run
        test_method(tester = tester)
      File "/home/dima/Sage/sage-dev/local/lib/python2.7/site-packages/sage/categories/enumerated_sets.py", line 949, in _test_enumerated_set_contains
        for w in self:
      File "/home/dima/Sage/sage-dev/local/lib/python2.7/site-packages/sage/groups/libgap_mixin.py", line 342, in __iter__
        iterator = self.gap().Iterator()
      File "sage/libs/gap/element.pyx", line 2168, in sage.libs.gap.element.GapElement_MethodProxy.__call__ (/home/dima/Sage/sage-dev/src/build/cythonized/sage/libs/gap/element.c:17497)
        return GapElement_Function.__call__(self, self.first_argument)
      File "sage/libs/gap/element.pyx", line 2052, in sage.libs.gap.element.GapElement_Function.__call__ (/home/dima/Sage/sage-dev/src/build/cythonized/sage/libs/gap/element.c:16881)
        raise ValueError('libGAP: ' + str(msg))
    ValueError: libGAP: Error, no method found! Error, no 3rd choice method found for `Enumerator' on 1 arguments
    ------------------------------------------------------------
    The following tests failed: _test_enumerated_set_contains
**********************************************************************
File "src/sage/combinat/root_system/weyl_group.py", line 214, in sage.combinat.root_system.weyl_group.WeylGroup.__init__
Failed example:
    TestSuite(W).run() # long time
Expected nothing
Got:
    Failure in _test_enumerated_set_contains:
    Traceback (most recent call last):
      File "/home/dima/Sage/sage-dev/local/lib/python2.7/site-packages/sage/misc/sage_unittest.py", line 293, in run
        test_method(tester = tester)
      File "/home/dima/Sage/sage-dev/local/lib/python2.7/site-packages/sage/categories/enumerated_sets.py", line 949, in _test_enumerated_set_contains
        for w in self:
      File "/home/dima/Sage/sage-dev/local/lib/python2.7/site-packages/sage/groups/libgap_mixin.py", line 342, in __iter__
        iterator = self.gap().Iterator()
      File "sage/libs/gap/element.pyx", line 2168, in sage.libs.gap.element.GapElement_MethodProxy.__call__ (/home/dima/Sage/sage-dev/src/build/cythonized/sage/libs/gap/element.c:17497)
        return GapElement_Function.__call__(self, self.first_argument)
      File "sage/libs/gap/element.pyx", line 2052, in sage.libs.gap.element.GapElement_Function.__call__ (/home/dima/Sage/sage-dev/src/build/cythonized/sage/libs/gap/element.c:16881)
        raise ValueError('libGAP: ' + str(msg))
    ValueError: libGAP: Error, no method found! Error, no 3rd choice method found for `Enumerator' on 1 arguments
    ------------------------------------------------------------
    The following tests failed: _test_enumerated_set_contains
**********************************************************************
2 items had failures:
   1 of  46 in sage.combinat.root_system.weyl_group.WeylGroup
   1 of   6 in sage.combinat.root_system.weyl_group.WeylGroup.__init__
    [203 tests, 2 failures, 16.77 s]
```

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d861b3790b1e6d1b8a5ff16c7f8a02608e3257b2">d861b37</a></td><td><code>obvious doctest fixes</code></td></tr></table>




---

archive/issue_comments_303772.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nJust 2 cents in case this helps the debugging: this group wraps an\ninfinite gap matrix group.\n\n```\nsage: W = WeylGroup([\"A\",3,1])\nsage: W.generators()\n(\n[-1  1  0  1]  [ 1  0  0  0]  [ 1  0  0  0]  [ 1  0  0  0]\n[ 0  1  0  0]  [ 1 -1  1  0]  [ 0  1  0  0]  [ 0  1  0  0]\n[ 0  0  1  0]  [ 0  0  1  0]  [ 0  1 -1  1]  [ 0  0  1  0]\n[ 0  0  0  1], [ 0  0  0  1], [ 0  0  0  1], [ 1  0  1 -1]\n)\nsage: W._gap_()\n<matrix group with 4 generators>\nsage: W._gap_().GeneratorsOfGroup()\n[ [ [ -1, 1, 0, 1 ], [ 0, 1, 0, 0 ], [ 0, 0, 1, 0 ], [ 0, 0, 0, 1 ] ], [ [ 1, 0, 0, 0 ], [ 1, -1, 1, 0 ], [ 0, 0, 1, 0 ], [ 0, 0, 0, 1 ] ], [ [ 1, 0, 0, 0 ], [ 0, 1, 0, 0 ], [ 0, 1, -1, 1 ], [ 0, 0, 0, 1 ] ], [ [ 1, 0, 0, 0 ], [ 0, 1, 0, 0 ], [ 0, 0, 1, 0 ], [ 1, 0, 1, -1 ] ] ]\n```\n\nThe gap matrix group can be constructed with:\n\n```\ngap> G := Group([ [ [ -1, 1, 0, 1 ], [ 0, 1, 0, 0 ], [ 0, 0, 1, 0 ], [ 0, 0, 0, 1 ] ], [ [ 1, 0, 0, 0 ], [ 1, -1, 1, 0 ], [ 0, 0, 1, 0 ], [ 0, 0, 0, 1 ] ], [ [ 1, 0, 0, 0 ], [ 0, 1, 0, 0 ], [ 0, 1, -1, 1 ], [ 0, 0, 0, 1 ] ], [ [ 1, 0, 0, 0 ], [ 0, 1, 0, 0 ], [ 0, 0, 1, 0 ], [ 1, 0, 1, -1 ] ] ])\n```\n\nI am a bit confused by the call of the \"Enumerator\" gap function,\nsince the Sage sources seem to contain no reference to it (although I\ndo not have the very latest develop under hand).",
    "created_at": "2017-02-03T13:10:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303772",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:26" align="right">comment:26</div>

Just 2 cents in case this helps the debugging: this group wraps an
infinite gap matrix group.

```
sage: W = WeylGroup(["A",3,1])
sage: W.generators()
(
[-1  1  0  1]  [ 1  0  0  0]  [ 1  0  0  0]  [ 1  0  0  0]
[ 0  1  0  0]  [ 1 -1  1  0]  [ 0  1  0  0]  [ 0  1  0  0]
[ 0  0  1  0]  [ 0  0  1  0]  [ 0  1 -1  1]  [ 0  0  1  0]
[ 0  0  0  1], [ 0  0  0  1], [ 0  0  0  1], [ 1  0  1 -1]
)
sage: W._gap_()
<matrix group with 4 generators>
sage: W._gap_().GeneratorsOfGroup()
[ [ [ -1, 1, 0, 1 ], [ 0, 1, 0, 0 ], [ 0, 0, 1, 0 ], [ 0, 0, 0, 1 ] ], [ [ 1, 0, 0, 0 ], [ 1, -1, 1, 0 ], [ 0, 0, 1, 0 ], [ 0, 0, 0, 1 ] ], [ [ 1, 0, 0, 0 ], [ 0, 1, 0, 0 ], [ 0, 1, -1, 1 ], [ 0, 0, 0, 1 ] ], [ [ 1, 0, 0, 0 ], [ 0, 1, 0, 0 ], [ 0, 0, 1, 0 ], [ 1, 0, 1, -1 ] ] ]
```

The gap matrix group can be constructed with:

```
gap> G := Group([ [ [ -1, 1, 0, 1 ], [ 0, 1, 0, 0 ], [ 0, 0, 1, 0 ], [ 0, 0, 0, 1 ] ], [ [ 1, 0, 0, 0 ], [ 1, -1, 1, 0 ], [ 0, 0, 1, 0 ], [ 0, 0, 0, 1 ] ], [ [ 1, 0, 0, 0 ], [ 0, 1, 0, 0 ], [ 0, 1, -1, 1 ], [ 0, 0, 0, 1 ] ], [ [ 1, 0, 0, 0 ], [ 0, 1, 0, 0 ], [ 0, 0, 1, 0 ], [ 1, 0, 1, -1 ] ] ])
```

I am a bit confused by the call of the "Enumerator" gap function,
since the Sage sources seem to contain no reference to it (although I
do not have the very latest develop under hand).



---

archive/issue_comments_303773.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@nthiery](#comment:26):\n> Just 2 cents in case this helps the debugging: this group wraps an\n> infinite gap matrix group.\n\nBut what exactly is `TestSuite()` calling?\nIs there a way to trace this up? In the log above there is `line 949, in _test_enumerated_set_contains` so it looks as if some kind of enumeration is attempted.\n\n> I am a bit confused by the call of the \"Enumerator\" gap function,\n> since the Sage sources seem to contain no reference to it (although I\n> do not have the very latest develop under hand).\n\nanyways, GAP's `Enumerator` does not apply to infinite objects, and it was never possible.",
    "created_at": "2017-02-03T14:50:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303773",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@nthiery](#comment:26):
> Just 2 cents in case this helps the debugging: this group wraps an
> infinite gap matrix group.

But what exactly is `TestSuite()` calling?
Is there a way to trace this up? In the log above there is `line 949, in _test_enumerated_set_contains` so it looks as if some kind of enumeration is attempted.

> I am a bit confused by the call of the "Enumerator" gap function,
> since the Sage sources seem to contain no reference to it (although I
> do not have the very latest develop under hand).

anyways, GAP's `Enumerator` does not apply to infinite objects, and it was never possible.



---

archive/issue_comments_303774.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nReplying to [@dimpase](#comment:27):\n> Replying to [@nthiery](#comment:26):\n> > Just 2 cents in case this helps the debugging: this group wraps an\n> > infinite gap matrix group.\n\n> \n> But what exactly is `TestSuite()` calling?\n> Is there a way to trace this up? In the log above there is `line 949, in _test_enumerated_set_contains` so it looks as if some kind of enumeration is attempted.\n\nI am trying to run \n\n```\nsage: W = WeylGroup([\"A\",3,1])\nsage: sage: W._test_enumerated_set_contains()\n```\nbut it just never finishes (other `._test_`-things seem to run fine). Is it the real bug here?\nHow does one find out what actually is called here?",
    "created_at": "2017-02-03T17:02:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303774",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:28" align="right">comment:28</div>

Replying to [@dimpase](#comment:27):
> Replying to [@nthiery](#comment:26):
> > Just 2 cents in case this helps the debugging: this group wraps an
> > infinite gap matrix group.

> 
> But what exactly is `TestSuite()` calling?
> Is there a way to trace this up? In the log above there is `line 949, in _test_enumerated_set_contains` so it looks as if some kind of enumeration is attempted.

I am trying to run 

```
sage: W = WeylGroup(["A",3,1])
sage: sage: W._test_enumerated_set_contains()
```
but it just never finishes (other `._test_`-things seem to run fine). Is it the real bug here?
How does one find out what actually is called here?



---

archive/issue_comments_303775.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nMy guess is there is not a way for iterating through infinite matrix groups by using a finite set of specified generators using GAP. This does not work in 7.6.beta1:\n\n```sage\nsage: G = GL(6, ZZ)\nsage: it = iter(G)\nsage: [it.next() for _ in range(6)]\n```\nalthough it should because\n\n```sage\nsage: G.gens()\n(\n[0 1 0 0 0 0]  [0 1 0 0 0 0]  [-1  0  0  0  0  0]  [1 1 0 0 0 0]\n[0 0 1 0 0 0]  [1 0 0 0 0 0]  [ 0  1  0  0  0  0]  [0 1 0 0 0 0]\n[0 0 0 1 0 0]  [0 0 1 0 0 0]  [ 0  0  1  0  0  0]  [0 0 1 0 0 0]\n[0 0 0 0 1 0]  [0 0 0 1 0 0]  [ 0  0  0  1  0  0]  [0 0 0 1 0 0]\n[0 0 0 0 0 1]  [0 0 0 0 1 0]  [ 0  0  0  0  1  0]  [0 0 0 0 1 0]\n[1 0 0 0 0 0], [0 0 0 0 0 1], [ 0  0  0  0  0  1], [0 0 0 0 0 1]\n)\n```\nDoes that work here?\nHowever, we have the category `FinitelyGeneratedSemigroups`, which contains a default implementation of such an iterator using `RecursivelyEnumeratedSet`.\n\nIn the case at hand `WeylGroups` is a subcategory of `FinitelyGeneratedSemigroups` (which is a subcategory of `EnumeratedSets`), so I suspect what is missing is for the generic (GAP) group iterator to lift the iteration up to the category if it doesn't know how to iterate directly in GAP.",
    "created_at": "2017-02-03T21:11:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303775",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:29" align="right">comment:29</div>

My guess is there is not a way for iterating through infinite matrix groups by using a finite set of specified generators using GAP. This does not work in 7.6.beta1:

```sage
sage: G = GL(6, ZZ)
sage: it = iter(G)
sage: [it.next() for _ in range(6)]
```
although it should because

```sage
sage: G.gens()
(
[0 1 0 0 0 0]  [0 1 0 0 0 0]  [-1  0  0  0  0  0]  [1 1 0 0 0 0]
[0 0 1 0 0 0]  [1 0 0 0 0 0]  [ 0  1  0  0  0  0]  [0 1 0 0 0 0]
[0 0 0 1 0 0]  [0 0 1 0 0 0]  [ 0  0  1  0  0  0]  [0 0 1 0 0 0]
[0 0 0 0 1 0]  [0 0 0 1 0 0]  [ 0  0  0  1  0  0]  [0 0 0 1 0 0]
[0 0 0 0 0 1]  [0 0 0 0 1 0]  [ 0  0  0  0  1  0]  [0 0 0 0 1 0]
[1 0 0 0 0 0], [0 0 0 0 0 1], [ 0  0  0  0  0  1], [0 0 0 0 0 1]
)
```
Does that work here?
However, we have the category `FinitelyGeneratedSemigroups`, which contains a default implementation of such an iterator using `RecursivelyEnumeratedSet`.

In the case at hand `WeylGroups` is a subcategory of `FinitelyGeneratedSemigroups` (which is a subcategory of `EnumeratedSets`), so I suspect what is missing is for the generic (GAP) group iterator to lift the iteration up to the category if it doesn't know how to iterate directly in GAP.



---

archive/issue_comments_303776.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nWith 7.6.beta2, this works:\n\n```\nsage: W = WeylGroup([\"A\",3,1])\nsage: for w in W: print w\n   (... neverending list ...)\n```\nWith the branch here:\n\n```\nsage: W = WeylGroup([\"A\",3,1])\nsage: for w in W: print w\ngap: cannot extend the workspace any more!!!\n   (at which point Sage silently quits)\n```",
    "created_at": "2017-02-03T21:23:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303776",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:31" align="right">comment:31</div>

With 7.6.beta2, this works:

```
sage: W = WeylGroup(["A",3,1])
sage: for w in W: print w
   (... neverending list ...)
```
With the branch here:

```
sage: W = WeylGroup(["A",3,1])
sage: for w in W: print w
gap: cannot extend the workspace any more!!!
   (at which point Sage silently quits)
```



---

archive/issue_comments_303777.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nReplying to [@dimpase](#comment:27):\n> Replying to [@nthiery](#comment:26):\n> > Just 2 cents in case this helps the debugging: this group wraps an\n> > infinite gap matrix group.\n\n> \n> But what exactly is `TestSuite()` calling?\n\nIn this case, I believe it is calling `_test_enumerated_set_contains` as defined in `categories/enumerated_sets.py`. That method has a loop which starts with `for w in self:`. For the group in question, the iterator can't be constructed.",
    "created_at": "2017-02-03T21:25:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303777",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:32" align="right">comment:32</div>

Replying to [@dimpase](#comment:27):
> Replying to [@nthiery](#comment:26):
> > Just 2 cents in case this helps the debugging: this group wraps an
> > infinite gap matrix group.

> 
> But what exactly is `TestSuite()` calling?

In this case, I believe it is calling `_test_enumerated_set_contains` as defined in `categories/enumerated_sets.py`. That method has a loop which starts with `for w in self:`. For the group in question, the iterator can't be constructed.



---

archive/issue_comments_303778.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nReplying to [@jhpalmieri](#comment:31):\n> With 7.6.beta2, this works:\n> \n> ```\n> sage: W = WeylGroup([\"A\",3,1])\n> sage: for w in W: print w\n>    (... neverending list ...)\n> ```\n\nI believe this invokes `W.__iter__`, right?\nAnd the latter is in `sage/groups/libgap_mixin.py` (cf. `W.__iter__??`)\nSo this is merely calling `self.gap().Iterator()`. And the latter does not actually work in Sage 7.5; one gets \n\n```\nValueError: libGAP: Error, no method found! Error, no 3rd choice method found for `Enumerator' on 1 arguments\n```\nwhereas with the branch here it does \"work\" - it runs out of memory...\n\nThat is, I believe that the category framework (or something like this) does try to call that `W.__iter__`, and upon failing (with the old GAP) actually does something that makes sense, namely `sage/groups/matrix_gps/matrix_group.py` has the lines\n\n```\nif not self.is_finite():\n    # use implementation from category framework\n    for g in super(Group, self).__iter__():\n          yield g\n    return\n```\nwhere the code in `sage/categories/coxeter_group.py` is called to do the right thing.\n\n\nWhereas with the new GAP one does not get a `ValueError` and proceeds with running out of memory (actual running done  by GAP).\n\nSo, somewhere, something must forbid this execution path, but I don't know where and how. All help is welcome. If the fix is not going to happen in GAP-related\ncode, I'd be inclined to press ahead with this ticket, declaring this issue a known (Sage) bug.",
    "created_at": "2017-02-03T23:04:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303778",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:33" align="right">comment:33</div>

Replying to [@jhpalmieri](#comment:31):
> With 7.6.beta2, this works:
> 
> ```
> sage: W = WeylGroup(["A",3,1])
> sage: for w in W: print w
>    (... neverending list ...)
> ```

I believe this invokes `W.__iter__`, right?
And the latter is in `sage/groups/libgap_mixin.py` (cf. `W.__iter__??`)
So this is merely calling `self.gap().Iterator()`. And the latter does not actually work in Sage 7.5; one gets 

```
ValueError: libGAP: Error, no method found! Error, no 3rd choice method found for `Enumerator' on 1 arguments
```
whereas with the branch here it does "work" - it runs out of memory...

That is, I believe that the category framework (or something like this) does try to call that `W.__iter__`, and upon failing (with the old GAP) actually does something that makes sense, namely `sage/groups/matrix_gps/matrix_group.py` has the lines

```
if not self.is_finite():
    # use implementation from category framework
    for g in super(Group, self).__iter__():
          yield g
    return
```
where the code in `sage/categories/coxeter_group.py` is called to do the right thing.


Whereas with the new GAP one does not get a `ValueError` and proceeds with running out of memory (actual running done  by GAP).

So, somewhere, something must forbid this execution path, but I don't know where and how. All help is welcome. If the fix is not going to happen in GAP-related
code, I'd be inclined to press ahead with this ticket, declaring this issue a known (Sage) bug.



---

archive/issue_comments_303779.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nIn plain 7.6.beta2, `W.__iter__()` calls the `__iter__` method from `sage/groups/matrix_groups/matrix_group.py`, but that method has been deleted in the current branch. Isn't that the problem?",
    "created_at": "2017-02-04T00:46:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303779",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:34" align="right">comment:34</div>

In plain 7.6.beta2, `W.__iter__()` calls the `__iter__` method from `sage/groups/matrix_groups/matrix_group.py`, but that method has been deleted in the current branch. Isn't that the problem?



---

archive/issue_comments_303780.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nReplying to [@dimpase](#comment:33):\n> Replying to [@jhpalmieri](#comment:31):\n> > With 7.6.beta2, this works:\n> > \n> > ```\n> > sage: W = WeylGroup([\"A\",3,1])\n> > sage: for w in W: print w\n> >    (... neverending list ...)\n> > ```\n\n> \n> I believe this invokes `W.__iter__`, right?\n> And the latter is in `sage/groups/libgap_mixin.py` (cf. `W.__iter__??`)\n> So this is merely calling `self.gap().Iterator()`. And the latter does not actually work in Sage 7.5; one gets \n> \n> ```\n> ValueError: libGAP: Error, no method found! Error, no 3rd choice method found for `Enumerator' on 1 arguments\n> ```\n> whereas with the branch here it does \"work\" - it runs out of memory...\n\nI would suspect this is a GAP problem by trying to put the entire (matrix) group into memory as a list under an assumption that it is a finite group. Well, our `RecursiveEnumeratedSet` iterator runs into the same problem, but it will at least output things along the way...\n\n> That is, I believe that the category framework (or something like this) does try to call that `W.__iter__`, and upon failing (with the old GAP) actually does something that makes sense, namely `sage/groups/matrix_gps/matrix_group.py` has the lines\n> \n> ```\n> if not self.is_finite():\n>     # use implementation from category framework\n>     for g in super(Group, self).__iter__():\n>           yield g\n>     return\n> ```\n> where the code in `sage/categories/coxeter_group.py` is called to do the right thing.\n\nIt's actually the reverse that happens: code in the categories is the last called in the MRO. In particular, the first call is to the lines copied above, and for non-finite groups (or at least those not known to be finite), then call up to the corresponding `__iter__` implemented in the category (if there is one).\n\nSee [comment:29](#comment:29) for why it used to work for Weyl groups.\n\n> Whereas with the new GAP one does not get a `ValueError` and proceeds with running out of memory (actual running done  by GAP).\n\nYou deleted the code above that would call up to the category framework, where it was not using GAP to do the iteration.\n\n> So, somewhere, something must forbid this execution path, but I don't know where and how. All help is welcome. If the fix is not going to happen in GAP-related\n> code, I'd be inclined to press ahead with this ticket, declaring this issue a known (Sage) bug.\n\nYou probably need to restore part of the `__iter__`, specifically the code quoted above.\n\nTL;DR - As [John said](#comment:34), the problem is removing `__iter__` from `sage/groups/matrix_groups/matrix_group.py`.",
    "created_at": "2017-02-04T05:33:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303780",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:35" align="right">comment:35</div>

Replying to [@dimpase](#comment:33):
> Replying to [@jhpalmieri](#comment:31):
> > With 7.6.beta2, this works:
> > 
> > ```
> > sage: W = WeylGroup(["A",3,1])
> > sage: for w in W: print w
> >    (... neverending list ...)
> > ```

> 
> I believe this invokes `W.__iter__`, right?
> And the latter is in `sage/groups/libgap_mixin.py` (cf. `W.__iter__??`)
> So this is merely calling `self.gap().Iterator()`. And the latter does not actually work in Sage 7.5; one gets 
> 
> ```
> ValueError: libGAP: Error, no method found! Error, no 3rd choice method found for `Enumerator' on 1 arguments
> ```
> whereas with the branch here it does "work" - it runs out of memory...

I would suspect this is a GAP problem by trying to put the entire (matrix) group into memory as a list under an assumption that it is a finite group. Well, our `RecursiveEnumeratedSet` iterator runs into the same problem, but it will at least output things along the way...

> That is, I believe that the category framework (or something like this) does try to call that `W.__iter__`, and upon failing (with the old GAP) actually does something that makes sense, namely `sage/groups/matrix_gps/matrix_group.py` has the lines
> 
> ```
> if not self.is_finite():
>     # use implementation from category framework
>     for g in super(Group, self).__iter__():
>           yield g
>     return
> ```
> where the code in `sage/categories/coxeter_group.py` is called to do the right thing.

It's actually the reverse that happens: code in the categories is the last called in the MRO. In particular, the first call is to the lines copied above, and for non-finite groups (or at least those not known to be finite), then call up to the corresponding `__iter__` implemented in the category (if there is one).

See [comment:29](#comment:29) for why it used to work for Weyl groups.

> Whereas with the new GAP one does not get a `ValueError` and proceeds with running out of memory (actual running done  by GAP).

You deleted the code above that would call up to the category framework, where it was not using GAP to do the iteration.

> So, somewhere, something must forbid this execution path, but I don't know where and how. All help is welcome. If the fix is not going to happen in GAP-related
> code, I'd be inclined to press ahead with this ticket, declaring this issue a known (Sage) bug.

You probably need to restore part of the `__iter__`, specifically the code quoted above.

TL;DR - As [John said](#comment:34), the problem is removing `__iter__` from `sage/groups/matrix_groups/matrix_group.py`.



---

archive/issue_comments_303781.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nOh, I see. Thanks. Sorry for taking so long to get it. I removed too mich in this [commit](https://github.com/sagemath/sagetrac-mirror/commit/2d86709b234fa2797c2f18371a508fa8573960e2). I will reinstate the part that deals with infinite groups.\n\nHowever this is still less than ideal. In the finite case for groups that have a fast category framework iterator (e.g. large finite Coxeter groups) one should not call GAP, either. Should this be dealt with on a follow-up ticket, or is there a quick way to add the corresponding filter?",
    "created_at": "2017-02-04T09:19:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303781",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:36" align="right">comment:36</div>

Oh, I see. Thanks. Sorry for taking so long to get it. I removed too mich in this [commit](https://github.com/sagemath/sagetrac-mirror/commit/2d86709b234fa2797c2f18371a508fa8573960e2). I will reinstate the part that deals with infinite groups.

However this is still less than ideal. In the finite case for groups that have a fast category framework iterator (e.g. large finite Coxeter groups) one should not call GAP, either. Should this be dealt with on a follow-up ticket, or is there a quick way to add the corresponding filter?



---

archive/issue_comments_303782.json:
```json
{
    "body": "Changed commit from **[`d861b37`](https://github.com/sagemath/sagetrac-mirror/commit/d861b3790b1e6d1b8a5ff16c7f8a02608e3257b2)** to **[`971f323`](https://github.com/sagemath/sagetrac-mirror/commit/971f323a0ddc287db9d243d29e2dce77ed8efb65)**",
    "created_at": "2017-02-04T18:35:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303782",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d861b37`](https://github.com/sagemath/sagetrac-mirror/commit/d861b3790b1e6d1b8a5ff16c7f8a02608e3257b2)** to **[`971f323`](https://github.com/sagemath/sagetrac-mirror/commit/971f323a0ddc287db9d243d29e2dce77ed8efb65)**



---

archive/issue_comments_303783.json:
```json
{
    "body": "<div id=\"comment:37\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/971f323a0ddc287db9d243d29e2dce77ed8efb65\">971f323</a></td><td><code>reintroduce `__init__` in MatrixGroup_gap to handle infinite groups</code></td></tr></table>\n",
    "created_at": "2017-02-04T18:35:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303783",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:37"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/971f323a0ddc287db9d243d29e2dce77ed8efb65">971f323</a></td><td><code>reintroduce `__init__` in MatrixGroup_gap to handle infinite groups</code></td></tr></table>




---

archive/issue_comments_303784.json:
```json
{
    "body": "<div id=\"comment:38\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fd68158180ecfd80f4f73641887ac5ec9c0d85ed\">fd68158</a></td><td><code>putting the doctests right</code></td></tr></table>\n",
    "created_at": "2017-02-04T23:19:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303784",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:38"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fd68158180ecfd80f4f73641887ac5ec9c0d85ed">fd68158</a></td><td><code>putting the doctests right</code></td></tr></table>




---

archive/issue_comments_303785.json:
```json
{
    "body": "Changed commit from **[`971f323`](https://github.com/sagemath/sagetrac-mirror/commit/971f323a0ddc287db9d243d29e2dce77ed8efb65)** to **[`fd68158`](https://github.com/sagemath/sagetrac-mirror/commit/fd68158180ecfd80f4f73641887ac5ec9c0d85ed)**",
    "created_at": "2017-02-04T23:19:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303785",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`971f323`](https://github.com/sagemath/sagetrac-mirror/commit/971f323a0ddc287db9d243d29e2dce77ed8efb65)** to **[`fd68158`](https://github.com/sagemath/sagetrac-mirror/commit/fd68158180ecfd80f4f73641887ac5ec9c0d85ed)**



---

archive/issue_comments_303786.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nReplying to [@dimpase](#comment:36):\n> However this is still less than ideal. In the finite case for groups that have a fast category framework iterator (e.g. large finite Coxeter groups) one should not call GAP, either. Should this be dealt with on a follow-up ticket, or is there a quick way to add the corresponding filter?\n\nThe category iterator is not just for Coxeter groups, but any group with a finite generating set. Have you run timings (and memory usage) comparing the GAP iterator with the one from the category?\n\nAt least for Coxeter groups, we can do a check on the rank if there is some cutoff point.",
    "created_at": "2017-02-04T23:59:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303786",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:39" align="right">comment:39</div>

Replying to [@dimpase](#comment:36):
> However this is still less than ideal. In the finite case for groups that have a fast category framework iterator (e.g. large finite Coxeter groups) one should not call GAP, either. Should this be dealt with on a follow-up ticket, or is there a quick way to add the corresponding filter?

The category iterator is not just for Coxeter groups, but any group with a finite generating set. Have you run timings (and memory usage) comparing the GAP iterator with the one from the category?

At least for Coxeter groups, we can do a check on the rank if there is some cutoff point.



---

archive/issue_events_294332.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2017-02-05T01:09:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20914#event-294332"
}
```



---

archive/issue_events_294333.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2017-02-05T01:09:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20914#event-294333"
}
```



---

archive/issue_comments_303787.json:
```json
{
    "body": "Changed work issues from **failing long doctests** to none",
    "created_at": "2017-02-05T01:09:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303787",
    "user": "https://github.com/dimpase"
}
```

Changed work issues from **failing long doctests** to none



---

archive/issue_events_294334.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-02-05T12:34:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20914#event-294334"
}
```



---

archive/issue_events_294335.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-02-05T12:34:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20914#event-294335"
}
```



---

archive/issue_comments_303788.json:
```json
{
    "body": "Reviewer: **Volker Braun**",
    "created_at": "2017-02-05T12:34:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303788",
    "user": "https://github.com/vbraun"
}
```

Reviewer: **Volker Braun**



---

archive/issue_events_294336.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-02-05T14:07:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20914#event-294336"
}
```



---

archive/issue_events_294337.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-02-05T14:07:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20914#event-294337"
}
```



---

archive/issue_comments_303789.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nTestsuite fails:\n\n```\n########> Diff in /Users/buildslave-sage/slave/sage_git/build/local/gap/latest\\\n1045/tst/testinstall/grpmat.tst, line 32:\n1046# Input is:\n1047Size( AutomorphismGroup( G ) );\n1048# Expected output:\n104924\n1050# But found:\n1051#I  autpgrp package is not available. Check that the name is correct\n1052#I  and it is present in one of the GAP root directories (see '??RootPaths')\n```",
    "created_at": "2017-02-05T14:07:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303789",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:42" align="right">comment:42</div>

Testsuite fails:

```
########> Diff in /Users/buildslave-sage/slave/sage_git/build/local/gap/latest\
1045/tst/testinstall/grpmat.tst, line 32:
1046# Input is:
1047Size( AutomorphismGroup( G ) );
1048# Expected output:
104924
1050# But found:
1051#I  autpgrp package is not available. Check that the name is correct
1052#I  and it is present in one of the GAP root directories (see '??RootPaths')
```



---

archive/issue_events_294338.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2017-02-05T17:53:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20914#event-294338"
}
```



---

archive/issue_events_294339.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2017-02-05T17:53:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20914#event-294339"
}
```



---

archive/issue_comments_303790.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nReplying to [@vbraun](#comment:42):\n> Testsuite fails:\n> \n> ```\n> ########> Diff in /Users/buildslave-sage/slave/sage_git/build/local/gap/latest\\\n> 1045/tst/testinstall/grpmat.tst, line 32:\n> ...\n> 1051#I  autpgrp package is not available. Check that the name is correct\n> 1052#I  and it is present in one of the GAP root directories (see '??RootPaths')\n> ```\n\nAs far as I am concerned, this is not a bug, but a decision we made at some point to ship only the very minimal default GAP configuration.\nAs you most probably know, GAP assumes quite a few packages to be installed and autoloaded by default; this is patched away by \n\u200b`ba1e2ae` \"we don't have these packages installed by default\"\n\n\nSage's GAP does not install `autpgrp` by default, and does not autoload it if it is available. Suppose it is available (i.e. `gap_packages` is installed); then\nbefore running `GAP_ROOT/tst/testinstall.g` one has to load `autpgrp` manually.\nI.e.\n\n```\ngap> LoadPackage(\"autpgrp\");;\ngap> Read(\"testinstall.g\");\n```\nwill make everything pass (on my system at least).",
    "created_at": "2017-02-05T17:53:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303790",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:43" align="right">comment:43</div>

Replying to [@vbraun](#comment:42):
> Testsuite fails:
> 
> ```
> ########> Diff in /Users/buildslave-sage/slave/sage_git/build/local/gap/latest\
> 1045/tst/testinstall/grpmat.tst, line 32:
> ...
> 1051#I  autpgrp package is not available. Check that the name is correct
> 1052#I  and it is present in one of the GAP root directories (see '??RootPaths')
> ```

As far as I am concerned, this is not a bug, but a decision we made at some point to ship only the very minimal default GAP configuration.
As you most probably know, GAP assumes quite a few packages to be installed and autoloaded by default; this is patched away by 
`ba1e2ae` "we don't have these packages installed by default"


Sage's GAP does not install `autpgrp` by default, and does not autoload it if it is available. Suppose it is available (i.e. `gap_packages` is installed); then
before running `GAP_ROOT/tst/testinstall.g` one has to load `autpgrp` manually.
I.e.

```
gap> LoadPackage("autpgrp");;
gap> Read("testinstall.g");
```
will make everything pass (on my system at least).



---

archive/issue_comments_303791.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nStill I'd prefer to have a passing testsuite so that the buildbots can actuall run the tests. Can we just grep out tst/testinstall/grpmat.tst in spkg-check?",
    "created_at": "2017-02-05T19:59:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303791",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:44" align="right">comment:44</div>

Still I'd prefer to have a passing testsuite so that the buildbots can actuall run the tests. Can we just grep out tst/testinstall/grpmat.tst in spkg-check?



---

archive/issue_comments_303792.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nI guess it is annoying because of the newline; How about deleting grpmat.tst from the install then?",
    "created_at": "2017-02-05T20:02:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303792",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:45" align="right">comment:45</div>

I guess it is annoying because of the newline; How about deleting grpmat.tst from the install then?



---

archive/issue_comments_303793.json:
```json
{
    "body": "<div id=\"comment:46\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8b8bff3979932022c2cbccd519689351b4c9170d\">8b8bff3</a></td><td><code>fake the output of GAP test needing autpgrp pkg</code></td></tr></table>\n",
    "created_at": "2017-02-05T21:35:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303793",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:46"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8b8bff3979932022c2cbccd519689351b4c9170d">8b8bff3</a></td><td><code>fake the output of GAP test needing autpgrp pkg</code></td></tr></table>




---

archive/issue_comments_303794.json:
```json
{
    "body": "Changed commit from **[`fd68158`](https://github.com/sagemath/sagetrac-mirror/commit/fd68158180ecfd80f4f73641887ac5ec9c0d85ed)** to **[`8b8bff3`](https://github.com/sagemath/sagetrac-mirror/commit/8b8bff3979932022c2cbccd519689351b4c9170d)**",
    "created_at": "2017-02-05T21:35:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303794",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`fd68158`](https://github.com/sagemath/sagetrac-mirror/commit/fd68158180ecfd80f4f73641887ac5ec9c0d85ed)** to **[`8b8bff3`](https://github.com/sagemath/sagetrac-mirror/commit/8b8bff3979932022c2cbccd519689351b4c9170d)**



---

archive/issue_comments_303795.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nReplying to [@sagetrac-git](#comment:46):\n> Branch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8b8bff3979932022c2cbccd519689351b4c9170d\">8b8bff3</a></td><td><code>fake the output of GAP test needing autpgrp pkg</code></td></tr></table>\n\nthis should do the trick - I just fake the output of the test in question.",
    "created_at": "2017-02-05T21:36:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303795",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:47" align="right">comment:47</div>

Replying to [@sagetrac-git](#comment:46):
> Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8b8bff3979932022c2cbccd519689351b4c9170d">8b8bff3</a></td><td><code>fake the output of GAP test needing autpgrp pkg</code></td></tr></table>

this should do the trick - I just fake the output of the test in question.



---

archive/issue_comments_303796.json:
```json
{
    "body": "Changed branch from **[u/dimpase/gap4.8.6](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/gap4.8.6)** to **[`8b8bff3`](https://github.com/sagemath/sagetrac-mirror/commit/8b8bff3979932022c2cbccd519689351b4c9170d)**",
    "created_at": "2017-02-06T23:11:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20914#issuecomment-303796",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/dimpase/gap4.8.6](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/gap4.8.6)** to **[`8b8bff3`](https://github.com/sagemath/sagetrac-mirror/commit/8b8bff3979932022c2cbccd519689351b4c9170d)**



---

archive/issue_events_294340.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-02-06T23:11:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20914#event-294340"
}
```



---

archive/issue_events_294341.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "48b72c43028626cc3b02fbfecb7dc443bcfa6938",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2017-02-06T23:11:35Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/20914",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20914#event-294341"
}
```
