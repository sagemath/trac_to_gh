# Issue 20226: Implement conversion PARI <-> Python int/long without GMP/MPIR

archive/issues_019989.json:
```json
{
    "assignees": [],
    "body": "Convert PARI integers to/from Python integers without taking a detour via `mpz_t`.\n\nCC:  @defeo jpflori\n\nKeywords: **days77, days74**\n\nBranch/Commit: **[b550855](https://github.com/sagemath/sagetrac-mirror/commit/b55085547315715f292fd08ce74ad5a437abc6a5)**\n\nReviewer: **Luca De Feo, Vincent Delecroix**\n\nAuthor: **Jeroen Demeyer**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/20226_\n\n",
    "closed_at": "2016-05-31T22:53:55Z",
    "created_at": "2016-03-17T09:46:36Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20interfaces",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Implement conversion PARI <-> Python int/long without GMP/MPIR",
    "type": "issue",
    "updated_at": "2016-05-31T22:53:55Z",
    "url": "https://github.com/sagemath/sage/issues/20226",
    "user": "https://github.com/jdemeyer"
}
```
Convert PARI integers to/from Python integers without taking a detour via `mpz_t`.

CC:  @defeo jpflori

Keywords: **days77, days74**

Branch/Commit: **[b550855](https://github.com/sagemath/sagetrac-mirror/commit/b55085547315715f292fd08ce74ad5a437abc6a5)**

Reviewer: **Luca De Feo, Vincent Delecroix**

Author: **Jeroen Demeyer**

_Issue created by migration from https://trac.sagemath.org/ticket/20226_





---

archive/issue_events_267701.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-03-17T09:46:36Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "milestone_number": null,
    "milestone_title": "sage-7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-267701"
}
```



---

archive/issue_events_267702.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-03-17T09:46:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20interfaces",
    "label_color": "0000ff",
    "label_name": "component: interfaces",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-267702"
}
```



---

archive/issue_events_267703.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-03-17T09:46:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-267703"
}
```



---

archive/issue_events_267704.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-03-17T09:46:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-267704"
}
```



---

archive/issue_comments_293605.json:
```json
{
    "body": "Branch: **[u/jdemeyer/ticket/20226](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/20226)**",
    "created_at": "2016-03-18T11:15:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-293605",
    "user": "https://github.com/jdemeyer"
}
```

Branch: **[u/jdemeyer/ticket/20226](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/20226)**



---

archive/issue_comments_293606.json:
```json
{
    "body": "Commit: **[e871a64](https://github.com/sagemath/sagetrac-mirror/commit/e871a64ead4b259543612e2c247a9aaf0cf1bf12)**",
    "created_at": "2016-03-18T11:23:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-293606",
    "user": "https://github.com/jdemeyer"
}
```

Commit: **[e871a64](https://github.com/sagemath/sagetrac-mirror/commit/e871a64ead4b259543612e2c247a9aaf0cf1bf12)**



---

archive/issue_comments_293607.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-Convert PARI integers to/from Python integers without relying on the GMP/MPIR library.\n+Convert PARI integers to/from Python integers without taking a detour via `mpz_t`.\n``````\n",
    "created_at": "2016-03-18T11:23:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-293607",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-Convert PARI integers to/from Python integers without relying on the GMP/MPIR library.
+Convert PARI integers to/from Python integers without taking a detour via `mpz_t`.
``````




---

archive/issue_events_267705.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-03-18T11:23:50Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "title_is": "Implement conversion PARI <-> Python int/long without GMP/MPIR",
    "title_was": "Implement conversion PARI <-> Python int/long without mpz",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-267705"
}
```



---

archive/issue_comments_293608.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/03458ea28f8d10c4103f6cdecbf018115c71e889\">03458ea</a></td><td><code>Upgrade cysignals package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dce67fca49e515ce610539263e1e7a6f26c7bc69\">dce67fc</a></td><td><code>Move memory functions to cysignals</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4bb8337295ed82c93d1a9c9f7173a4c36f97151d\">4bb8337</a></td><td><code>Rename sage_malloc -> sig_malloc and friends</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5ab73c1c098478da766a061109a2a248d741e49e\">5ab73c1</a></td><td><code>Get rid of factorint_withproof_sage in PARI interface</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c0ed97a0b2a036c3a4677d8e5dbabf6b2a6d54fc\">c0ed97a</a></td><td><code>Stop using deprecated PARI factoring features</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/edc5ce28655f157a13f27d2d94ae2e5d5d731bd6\">edc5ce2</a></td><td><code>Merge branch 't/20205/get_rid_of_factorint_withproof_sage_in_pari_interface' into HEAD</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5fb408dedb22e4147ee68ae5656e643b4f1df06c\">5fb408d</a></td><td><code>Replace pari_catch_sig_on by sig_on</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d5c934c5164255e352cee9ddbc780d0759b6e185\">d5c934c</a></td><td><code>Deprecate PARI nth_prime and prime_list</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d7d2d7df24760cdecf0d6585972d2bf6140c1123\">d7d2d7d</a></td><td><code>Remove redundant functions from pari_instance.pyx</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e871a64ead4b259543612e2c247a9aaf0cf1bf12\">e871a64</a></td><td><code>Implement conversion PARI <-> Python int/long without mpz</code></td></tr></table>\n",
    "created_at": "2016-03-18T11:23:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-293608",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:2'>Comment 2:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/03458ea28f8d10c4103f6cdecbf018115c71e889">03458ea</a></td><td><code>Upgrade cysignals package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dce67fca49e515ce610539263e1e7a6f26c7bc69">dce67fc</a></td><td><code>Move memory functions to cysignals</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4bb8337295ed82c93d1a9c9f7173a4c36f97151d">4bb8337</a></td><td><code>Rename sage_malloc -> sig_malloc and friends</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5ab73c1c098478da766a061109a2a248d741e49e">5ab73c1</a></td><td><code>Get rid of factorint_withproof_sage in PARI interface</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c0ed97a0b2a036c3a4677d8e5dbabf6b2a6d54fc">c0ed97a</a></td><td><code>Stop using deprecated PARI factoring features</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/edc5ce28655f157a13f27d2d94ae2e5d5d731bd6">edc5ce2</a></td><td><code>Merge branch 't/20205/get_rid_of_factorint_withproof_sage_in_pari_interface' into HEAD</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5fb408dedb22e4147ee68ae5656e643b4f1df06c">5fb408d</a></td><td><code>Replace pari_catch_sig_on by sig_on</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d5c934c5164255e352cee9ddbc780d0759b6e185">d5c934c</a></td><td><code>Deprecate PARI nth_prime and prime_list</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d7d2d7df24760cdecf0d6585972d2bf6140c1123">d7d2d7d</a></td><td><code>Remove redundant functions from pari_instance.pyx</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e871a64ead4b259543612e2c247a9aaf0cf1bf12">e871a64</a></td><td><code>Implement conversion PARI <-> Python int/long without mpz</code></td></tr></table>




---

archive/issue_comments_293609.json:
```json
{
    "body": "Changed dependencies from **#20210, #20205, #20213, #20216, #20217** to **#20210, #20205, #20213, #20216, #20217, #20231**",
    "created_at": "2016-03-18T14:07:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-293609",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#20210, #20205, #20213, #20216, #20217** to **#20210, #20205, #20213, #20216, #20217, #20231**



---

archive/issue_events_267706.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-03-18T17:59:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-267706"
}
```



---

archive/issue_comments_293610.json:
```json
{
    "body": "Changed commit from **[e871a64](https://github.com/sagemath/sagetrac-mirror/commit/e871a64ead4b259543612e2c247a9aaf0cf1bf12)** to **[c5f9892](https://github.com/sagemath/sagetrac-mirror/commit/c5f9892d7db87ba858c4cc6131e379796cbe7769)**",
    "created_at": "2016-04-03T19:04:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-293610",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[e871a64](https://github.com/sagemath/sagetrac-mirror/commit/e871a64ead4b259543612e2c247a9aaf0cf1bf12)** to **[c5f9892](https://github.com/sagemath/sagetrac-mirror/commit/c5f9892d7db87ba858c4cc6131e379796cbe7769)**



---

archive/issue_comments_293611.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c5f9892d7db87ba858c4cc6131e379796cbe7769\">c5f9892</a></td><td><code>Implement conversion PARI <-> Python int/long without mpz</code></td></tr></table>\n",
    "created_at": "2016-04-03T19:04:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-293611",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:5'>Comment 5:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c5f9892d7db87ba858c4cc6131e379796cbe7769">c5f9892</a></td><td><code>Implement conversion PARI <-> Python int/long without mpz</code></td></tr></table>




---

archive/issue_comments_293612.json:
```json
{
    "body": "Changed dependencies from **#20210, #20205, #20213, #20216, #20217, #20231** to none",
    "created_at": "2016-04-03T19:07:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-293612",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#20210, #20205, #20213, #20216, #20217, #20231** to none



---

archive/issue_events_267707.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-04-03T19:07:29Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "milestone_number": null,
    "milestone_title": "sage-7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-267707"
}
```



---

archive/issue_events_267708.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-04-03T19:07:29Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "milestone_number": null,
    "milestone_title": "sage-7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-267708"
}
```



---

archive/issue_comments_293613.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nIt runs ok and all tests pass.\n\nMinor drawbacks:\n- it would be useful to have links to the Python and Pari longint specs.\n- I am personally against `from ... import *`, but won't block the ticket if you want to keep it.",
    "created_at": "2016-04-05T09:21:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-293613",
    "user": "https://github.com/defeo"
}
```

<a id='comment:7'>Comment 7:</a>
It runs ok and all tests pass.

Minor drawbacks:
- it would be useful to have links to the Python and Pari longint specs.
- I am personally against `from ... import *`, but won't block the ticket if you want to keep it.



---

archive/issue_comments_293614.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fa2081de3e7b906b60909ed6ea7988ee496d3a59\">fa2081d</a></td><td><code>Add some documentation for PARI conversion</code></td></tr></table>\n",
    "created_at": "2016-04-05T11:35:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-293614",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:8'>Comment 8:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fa2081de3e7b906b60909ed6ea7988ee496d3a59">fa2081d</a></td><td><code>Add some documentation for PARI conversion</code></td></tr></table>




---

archive/issue_comments_293615.json:
```json
{
    "body": "Changed commit from **[c5f9892](https://github.com/sagemath/sagetrac-mirror/commit/c5f9892d7db87ba858c4cc6131e379796cbe7769)** to **[fa2081d](https://github.com/sagemath/sagetrac-mirror/commit/fa2081de3e7b906b60909ed6ea7988ee496d3a59)**",
    "created_at": "2016-04-05T11:35:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-293615",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[c5f9892](https://github.com/sagemath/sagetrac-mirror/commit/c5f9892d7db87ba858c4cc6131e379796cbe7769)** to **[fa2081d](https://github.com/sagemath/sagetrac-mirror/commit/fa2081de3e7b906b60909ed6ea7988ee496d3a59)**



---

archive/issue_events_267709.json:
```json
{
    "actor": "https://github.com/defeo",
    "created_at": "2016-04-05T14:30:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-267709"
}
```



---

archive/issue_events_267710.json:
```json
{
    "actor": "https://github.com/defeo",
    "created_at": "2016-04-05T14:30:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-267710"
}
```



---

archive/issue_comments_293616.json:
```json
{
    "body": "Reviewer: **Luca De Feo**",
    "created_at": "2016-04-05T14:30:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-293616",
    "user": "https://github.com/defeo"
}
```

Reviewer: **Luca De Feo**



---

archive/issue_comments_293617.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nThanks",
    "created_at": "2016-04-05T14:30:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-293617",
    "user": "https://github.com/defeo"
}
```

<a id='comment:9'>Comment 9:</a>
Thanks



---

archive/issue_comments_293618.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\n\n```\nsage -t --long src/sage/libs/pari/gen.pyx\n**********************************************************************\nFile \"src/sage/libs/pari/gen.pyx\", line 1343, in sage.libs.pari.gen.gen.__int__\nFailed example:\n    int(pari(-2^31))\nExpected:\n    -2147483648\nGot:\n    -2147483648L\n**********************************************************************\n```",
    "created_at": "2016-04-06T07:09:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-293618",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:10'>Comment 10:</a>

```
sage -t --long src/sage/libs/pari/gen.pyx
**********************************************************************
File "src/sage/libs/pari/gen.pyx", line 1343, in sage.libs.pari.gen.gen.__int__
Failed example:
    int(pari(-2^31))
Expected:
    -2147483648
Got:
    -2147483648L
**********************************************************************
```



---

archive/issue_events_267711.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-04-06T08:13:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-267711"
}
```



---

archive/issue_events_267712.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-04-06T08:13:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-267712"
}
```



---

archive/issue_comments_293619.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nThat's a PARI bug...",
    "created_at": "2016-04-06T10:40:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-293619",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:12'>Comment 12:</a>
That's a PARI bug...



---

archive/issue_comments_293620.json:
```json
{
    "body": "Changed commit from **[fa2081d](https://github.com/sagemath/sagetrac-mirror/commit/fa2081de3e7b906b60909ed6ea7988ee496d3a59)** to **[47df94c](https://github.com/sagemath/sagetrac-mirror/commit/47df94cc7c5181f99717d164b1929c516d039ec1)**",
    "created_at": "2016-04-06T16:26:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-293620",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[fa2081d](https://github.com/sagemath/sagetrac-mirror/commit/fa2081de3e7b906b60909ed6ea7988ee496d3a59)** to **[47df94c](https://github.com/sagemath/sagetrac-mirror/commit/47df94cc7c5181f99717d164b1929c516d039ec1)**



---

archive/issue_comments_293621.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/47df94cc7c5181f99717d164b1929c516d039ec1\">47df94c</a></td><td><code>Fix conversion of pari(LONG_MIN) to Python int</code></td></tr></table>\n",
    "created_at": "2016-04-06T16:26:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-293621",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:13'>Comment 13:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/47df94cc7c5181f99717d164b1929c516d039ec1">47df94c</a></td><td><code>Fix conversion of pari(LONG_MIN) to Python int</code></td></tr></table>




---

archive/issue_events_267713.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-04-06T16:50:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-267713"
}
```



---

archive/issue_events_267714.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-04-06T16:50:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-267714"
}
```



---

archive/issue_comments_293622.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nIt's not a PARI bug, it's a PARI *feature* :-)",
    "created_at": "2016-04-06T16:51:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-293622",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:15'>Comment 15:</a>
It's not a PARI bug, it's a PARI *feature* :-)



---

archive/issue_comments_293623.json:
```json
{
    "body": "Changed keywords from **** to **days77**",
    "created_at": "2016-04-08T20:47:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-293623",
    "user": "https://github.com/jdemeyer"
}
```

Changed keywords from **** to **days77**



---

archive/issue_comments_293624.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nWould it be possible to test the subtle `LONG_MIN` case in `gen_to_integer`? Maybe along\n\n```\nsage: a = gen_to_integer(pari(\"2^63-1\")); a; type(a)\n9223372036854775807\n<type 'int'>\nsage: a = gen_to_integer(pari(\"2^63\")); a; type(a)\n9223372036854775808L\n<type 'long'>\nsage: a = gen_to_integer(pari(\"-2^63\")); a; type(a)\n-9223372036854775808\n<type 'int'>\nsage: a = gen_to_integer(pari(\"-2^63-1\")); a; type(a)\n-9223372036854775809L\n<type 'long'>\n```\n\nWhat do you think of moving `gtoi` into PARI (not necessarily for this ticket)? This function is only about PARI's internal.",
    "created_at": "2016-04-15T18:52:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-293624",
    "user": "https://github.com/videlec"
}
```

<a id='comment:17'>Comment 17:</a>
Would it be possible to test the subtle `LONG_MIN` case in `gen_to_integer`? Maybe along

```
sage: a = gen_to_integer(pari("2^63-1")); a; type(a)
9223372036854775807
<type 'int'>
sage: a = gen_to_integer(pari("2^63")); a; type(a)
9223372036854775808L
<type 'long'>
sage: a = gen_to_integer(pari("-2^63")); a; type(a)
-9223372036854775808
<type 'int'>
sage: a = gen_to_integer(pari("-2^63-1")); a; type(a)
-9223372036854775809L
<type 'long'>
```

What do you think of moving `gtoi` into PARI (not necessarily for this ticket)? This function is only about PARI's internal.



---

archive/issue_comments_293625.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nReplying to [@videlec](#comment%3A17):\n> What do you think of moving `gtoi` into PARI (not necessarily for this ticket)? This function is only about PARI's internal.\n\nAre you still in Bordeaux physically? If so, maybe you could talk to PARI upstream about this?",
    "created_at": "2016-04-15T18:57:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-293625",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:18'>Comment 18:</a>
Replying to [@videlec](#comment%3A17):
> What do you think of moving `gtoi` into PARI (not necessarily for this ticket)? This function is only about PARI's internal.

Are you still in Bordeaux physically? If so, maybe you could talk to PARI upstream about this?



---

archive/issue_events_267715.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-04-15T18:59:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-267715"
}
```



---

archive/issue_events_267716.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-04-15T18:59:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-267716"
}
```



---

archive/issue_comments_293626.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nReplying to [@jdemeyer](#comment%3A18):\n> Replying to [@videlec](#comment%3A17):\n> > What do you think of moving `gtoi` into PARI (not necessarily for this ticket)? This function is only about PARI's internal.\n\n> \n> Are you still in Bordeaux physically? If so, maybe you could talk to PARI upstream about this?\n\nSadly not (I am until september in Santiago de Chile). However, I can submit a patch if not already done.",
    "created_at": "2016-04-15T19:02:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-293626",
    "user": "https://github.com/videlec"
}
```

<a id='comment:20'>Comment 20:</a>
Replying to [@jdemeyer](#comment%3A18):
> Replying to [@videlec](#comment%3A17):
> > What do you think of moving `gtoi` into PARI (not necessarily for this ticket)? This function is only about PARI's internal.

> 
> Are you still in Bordeaux physically? If so, maybe you could talk to PARI upstream about this?

Sadly not (I am until september in Santiago de Chile). However, I can submit a patch if not already done.



---

archive/issue_comments_293627.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nReplying to [@videlec](#comment%3A20):\n> Sadly not (I am until september in Santiago de Chile).\n\nDoesn't sound so sad :-)\n\n> However, I can submit a patch if not already done.\n\nFor the moment, I lack the mental energy to try to push yet another patch to upstream PARI...",
    "created_at": "2016-04-15T19:04:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-293627",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:21'>Comment 21:</a>
Replying to [@videlec](#comment%3A20):
> Sadly not (I am until september in Santiago de Chile).

Doesn't sound so sad :-)

> However, I can submit a patch if not already done.

For the moment, I lack the mental energy to try to push yet another patch to upstream PARI...



---

archive/issue_comments_293628.json:
```json
{
    "body": "Changed reviewer from **Luca De Feo** to **Luca De Feo, Vincent Delecroix**",
    "created_at": "2016-04-20T10:12:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-293628",
    "user": "https://github.com/jdemeyer"
}
```

Changed reviewer from **Luca De Feo** to **Luca De Feo, Vincent Delecroix**



---

archive/issue_comments_293629.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8668603e309601df7321762e499c1a2063c35fa3\">8668603</a></td><td><code>Add doctests for corner cases</code></td></tr></table>\n",
    "created_at": "2016-04-20T10:33:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-293629",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:23'>Comment 23:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8668603e309601df7321762e499c1a2063c35fa3">8668603</a></td><td><code>Add doctests for corner cases</code></td></tr></table>




---

archive/issue_comments_293630.json:
```json
{
    "body": "Changed commit from **[47df94c](https://github.com/sagemath/sagetrac-mirror/commit/47df94cc7c5181f99717d164b1929c516d039ec1)** to **[8668603](https://github.com/sagemath/sagetrac-mirror/commit/8668603e309601df7321762e499c1a2063c35fa3)**",
    "created_at": "2016-04-20T10:33:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-293630",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[47df94c](https://github.com/sagemath/sagetrac-mirror/commit/47df94cc7c5181f99717d164b1929c516d039ec1)** to **[8668603](https://github.com/sagemath/sagetrac-mirror/commit/8668603e309601df7321762e499c1a2063c35fa3)**



---

archive/issue_comments_293631.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nI added a test which checks that the conversion of integers via PARI is the same as the Python conversion `str -> int`. By checking that the result is the same as Python, we don't need to special-case 32-bit vs. 64-bit.",
    "created_at": "2016-04-20T10:35:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-293631",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:24'>Comment 24:</a>
I added a test which checks that the conversion of integers via PARI is the same as the Python conversion `str -> int`. By checking that the result is the same as Python, we don't need to special-case 32-bit vs. 64-bit.



---

archive/issue_events_267717.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-04-20T10:35:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-267717"
}
```



---

archive/issue_events_267718.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-04-20T10:35:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-267718"
}
```



---

archive/issue_comments_293632.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nSo, what specifically was the issue with this that it required blacklisting GCC 4.8?  Is there a simple way to reproduce the issue, or at least a specific doctest that exhibits it that I could run?",
    "created_at": "2016-04-22T13:46:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-293632",
    "user": "https://github.com/embray"
}
```

<a id='comment:25'>Comment 25:</a>
So, what specifically was the issue with this that it required blacklisting GCC 4.8?  Is there a simple way to reproduce the issue, or at least a specific doctest that exhibits it that I could run?



---

archive/issue_comments_293633.json:
```json
{
    "body": "<a id='comment:26'>Comment 26:</a>\nIt was some doctest in `src/sage/libs/pari/convert.pyx`. Let me know if you're unable to reproduce it.",
    "created_at": "2016-04-22T13:49:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-293633",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:26'>Comment 26:</a>
It was some doctest in `src/sage/libs/pari/convert.pyx`. Let me know if you're unable to reproduce it.



---

archive/issue_comments_293634.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\nOkay, I'll give it a look.  I appreciate the need for the blacklisting *for now* just to get moving on things.  But it will be good to fix if I can. I have set `SAGE_INSTALL_GCC=no` on my system, but that will mean I'll ultimately have a broken Sage if we can't resolve this :(",
    "created_at": "2016-04-25T10:15:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-293634",
    "user": "https://github.com/embray"
}
```

<a id='comment:27'>Comment 27:</a>
Okay, I'll give it a look.  I appreciate the need for the blacklisting *for now* just to get moving on things.  But it will be good to fix if I can. I have set `SAGE_INSTALL_GCC=no` on my system, but that will mean I'll ultimately have a broken Sage if we can't resolve this :(



---

archive/issue_comments_293635.json:
```json
{
    "body": "<a id='comment:29'>Comment 29:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c2305c0758b40062bcba18a183105a3e73ba2019\">c2305c0</a></td><td><code>Merge tag '7.2' into t/20226/ticket/20226</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b55085547315715f292fd08ce74ad5a437abc6a5\">b550855</a></td><td><code>Fix compiler flag for GCC 4.8 issue</code></td></tr></table>\n",
    "created_at": "2016-05-17T12:02:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-293635",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:29'>Comment 29:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c2305c0758b40062bcba18a183105a3e73ba2019">c2305c0</a></td><td><code>Merge tag '7.2' into t/20226/ticket/20226</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b55085547315715f292fd08ce74ad5a437abc6a5">b550855</a></td><td><code>Fix compiler flag for GCC 4.8 issue</code></td></tr></table>




---

archive/issue_comments_293636.json:
```json
{
    "body": "Changed commit from **[8668603](https://github.com/sagemath/sagetrac-mirror/commit/8668603e309601df7321762e499c1a2063c35fa3)** to **[b550855](https://github.com/sagemath/sagetrac-mirror/commit/b55085547315715f292fd08ce74ad5a437abc6a5)**",
    "created_at": "2016-05-17T12:02:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-293636",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[8668603](https://github.com/sagemath/sagetrac-mirror/commit/8668603e309601df7321762e499c1a2063c35fa3)** to **[b550855](https://github.com/sagemath/sagetrac-mirror/commit/b55085547315715f292fd08ce74ad5a437abc6a5)**



---

archive/issue_comments_293637.json:
```json
{
    "body": "<a id='comment:30'>Comment 30:</a>\nI'm now using the flag `-fno-tree-copyrename` which seems to fix all instances of the GCC 4.8 problem.",
    "created_at": "2016-05-17T19:42:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-293637",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:30'>Comment 30:</a>
I'm now using the flag `-fno-tree-copyrename` which seems to fix all instances of the GCC 4.8 problem.



---

archive/issue_comments_293638.json:
```json
{
    "body": "<a id='comment:31'>Comment 31:</a>\nInteresting--not sure why that would do it but okay.  But if it's not a problem on newer GCC versions maybe whatever the problem is is since fixed.\n\nThis might have something to do with it: https://gcc.gnu.org/ml/gcc-patches/2015-03/msg01460.html",
    "created_at": "2016-05-19T10:08:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-293638",
    "user": "https://github.com/embray"
}
```

<a id='comment:31'>Comment 31:</a>
Interesting--not sure why that would do it but okay.  But if it's not a problem on newer GCC versions maybe whatever the problem is is since fixed.

This might have something to do with it: https://gcc.gnu.org/ml/gcc-patches/2015-03/msg01460.html



---

archive/issue_comments_293639.json:
```json
{
    "body": "<a id='comment:32'>Comment 32:</a>\nReplying to [@embray](#comment%3A31):\n> Interesting--not sure why that would do it but okay.  But if it's not a problem on newer GCC versions maybe whatever the problem is is since fixed.\n\nThe problem is indeed fixed in GCC-4.9, see http://gcc.gnu.org/bugzilla/show_bug.cgi?id=56982",
    "created_at": "2016-05-19T11:20:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-293639",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:32'>Comment 32:</a>
Replying to [@embray](#comment%3A31):
> Interesting--not sure why that would do it but okay.  But if it's not a problem on newer GCC versions maybe whatever the problem is is since fixed.

The problem is indeed fixed in GCC-4.9, see http://gcc.gnu.org/bugzilla/show_bug.cgi?id=56982



---

archive/issue_comments_293640.json:
```json
{
    "body": "<a id='comment:33'>Comment 33:</a>\nCould you use the macro `Py_SIZE` instead of calling `py_long_object->ob_size`? In particular, it will simplify the switch to Python3. Sadly, Cython does not accept the macro expansion `Py_SIZE(my_object) = whatever` and the C-API does not document an alternative way of doing things.",
    "created_at": "2016-05-30T09:25:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-293640",
    "user": "https://github.com/videlec"
}
```

<a id='comment:33'>Comment 33:</a>
Could you use the macro `Py_SIZE` instead of calling `py_long_object->ob_size`? In particular, it will simplify the switch to Python3. Sadly, Cython does not accept the macro expansion `Py_SIZE(my_object) = whatever` and the C-API does not document an alternative way of doing things.



---

archive/issue_comments_293641.json:
```json
{
    "body": "<a id='comment:34'>Comment 34:</a>\nReplying to [@videlec](#comment%3A33):\n> In particular, it will simplify the switch to Python3.\n\nI don't understand why: `ob_size` still exists in Python 3.\n\nEspecially given that we cannot assign to `Py_SIZE()`, I don't really see the point.",
    "created_at": "2016-05-30T09:34:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-293641",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:34'>Comment 34:</a>
Replying to [@videlec](#comment%3A33):
> In particular, it will simplify the switch to Python3.

I don't understand why: `ob_size` still exists in Python 3.

Especially given that we cannot assign to `Py_SIZE()`, I don't really see the point.



---

archive/issue_comments_293642.json:
```json
{
    "body": "<a id='comment:35'>Comment 35:</a>\nIn Python 3 `(<PyLongObject*>x).ob_size` just doesn't compile\n\n```\n.../cython_test.c: In function \u2018__pyx_pf_11cython_test_f\u2019:\n.../cython_test.c:593:61: error: \u2018PyLongObject\u2019 has no member named \u2018ob_size\u2019\n   __pyx_t_1 = PyInt_FromSsize_t(((PyLongObject *)__pyx_v_s)->ob_size); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 8; __pyx_clineno = __LINE__; goto __pyx_L1_error;}                                           \n```",
    "created_at": "2016-05-30T10:00:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-293642",
    "user": "https://github.com/videlec"
}
```

<a id='comment:35'>Comment 35:</a>
In Python 3 `(<PyLongObject*>x).ob_size` just doesn't compile

```
.../cython_test.c: In function ‘__pyx_pf_11cython_test_f’:
.../cython_test.c:593:61: error: ‘PyLongObject’ has no member named ‘ob_size’
   __pyx_t_1 = PyInt_FromSsize_t(((PyLongObject *)__pyx_v_s)->ob_size); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 8; __pyx_clineno = __LINE__; goto __pyx_L1_error;}                                           
```



---

archive/issue_events_267719.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-05-30T10:06:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-267719"
}
```



---

archive/issue_events_267720.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-05-30T10:06:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-267720"
}
```



---

archive/issue_comments_293643.json:
```json
{
    "body": "<a id='comment:36'>Comment 36:</a>\nI see. Python 3 adds an extra level of indirection `ob_base->ob_size`.",
    "created_at": "2016-05-30T10:06:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-293643",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:36'>Comment 36:</a>
I see. Python 3 adds an extra level of indirection `ob_base->ob_size`.



---

archive/issue_comments_293644.json:
```json
{
    "body": "<a id='comment:37'>Comment 37:</a>\nOn the other hand, to avoid getting stuck, I would prefer to defer the Python 3 porting to a new ticket.",
    "created_at": "2016-05-31T09:58:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-293644",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:37'>Comment 37:</a>
On the other hand, to avoid getting stuck, I would prefer to defer the Python 3 porting to a new ticket.



---

archive/issue_events_267721.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-05-31T09:58:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-267721"
}
```



---

archive/issue_events_267722.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-05-31T09:58:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-267722"
}
```



---

archive/issue_events_267723.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2016-05-31T10:01:36Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "milestone_number": null,
    "milestone_title": "sage-7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-267723"
}
```



---

archive/issue_events_267724.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2016-05-31T10:01:36Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "milestone_number": null,
    "milestone_title": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-267724"
}
```



---

archive/issue_events_267725.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2016-05-31T10:01:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-267725"
}
```



---

archive/issue_events_267726.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2016-05-31T10:01:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-267726"
}
```



---

archive/issue_comments_293645.json:
```json
{
    "body": "Changed keywords from **days77** to **days77, days74**",
    "created_at": "2016-05-31T10:01:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-293645",
    "user": "https://github.com/videlec"
}
```

Changed keywords from **days77** to **days77, days74**



---

archive/issue_comments_293646.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/ticket/20226](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/20226)** to **[b550855](https://github.com/sagemath/sagetrac-mirror/commit/b55085547315715f292fd08ce74ad5a437abc6a5)**",
    "created_at": "2016-05-31T22:53:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-293646",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jdemeyer/ticket/20226](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/20226)** to **[b550855](https://github.com/sagemath/sagetrac-mirror/commit/b55085547315715f292fd08ce74ad5a437abc6a5)**



---

archive/issue_events_267727.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-05-31T22:53:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-267727"
}
```



---

archive/issue_events_267728.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "aa4fcbadeb374d4e210c669bdefd8bfe831bc3ae",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-05-31T22:53:55Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-267728"
}
```
