# Issue 20226: Implement conversion PARI <-> Python int/long without GMP/MPIR

archive/issues_019989.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nConvert PARI integers to/from Python integers without taking a detour via `mpz_t`.\n\nCC:  @defeo @jpflori\n\nComponent: **interfaces**\n\nKeywords: **days77, days74**\n\nAuthor: **Jeroen Demeyer**\n\nBranch/Commit: **[`b550855`](https://github.com/sagemath/sagetrac-mirror/commit/b55085547315715f292fd08ce74ad5a437abc6a5)**\n\nReviewer: **Luca De Feo, Vincent Delecroix**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/20226_\n\n",
    "closed_at": "2016-05-31T22:53:55Z",
    "created_at": "2016-03-17T09:46:36Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20interfaces",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Implement conversion PARI <-> Python int/long without GMP/MPIR",
    "type": "issue",
    "updated_at": "2016-05-31T22:53:55Z",
    "url": "https://github.com/sagemath/sage/issues/20226",
    "user": "https://github.com/jdemeyer"
}
```
<div id="comment:0"></div>

Convert PARI integers to/from Python integers without taking a detour via `mpz_t`.

CC:  @defeo @jpflori

Component: **interfaces**

Keywords: **days77, days74**

Author: **Jeroen Demeyer**

Branch/Commit: **[`b550855`](https://github.com/sagemath/sagetrac-mirror/commit/b55085547315715f292fd08ce74ad5a437abc6a5)**

Reviewer: **Luca De Feo, Vincent Delecroix**

_Issue created by migration from https://trac.sagemath.org/ticket/20226_





---

archive/issue_events_283022.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-03-17T09:46:36Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "milestone_number": null,
    "milestone_title": "sage-7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-283022"
}
```



---

archive/issue_events_283023.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-03-17T09:46:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20interfaces",
    "label_color": "0000ff",
    "label_name": "c: interfaces",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-283023"
}
```



---

archive/issue_events_283024.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-03-17T09:46:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-283024"
}
```



---

archive/issue_events_283025.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-03-17T09:46:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-283025"
}
```



---

archive/issue_comments_290975.json:
```json
{
    "body": "Branch: **[u/jdemeyer/ticket/20226](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/20226)**",
    "created_at": "2016-03-18T11:15:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-290975",
    "user": "https://github.com/jdemeyer"
}
```

Branch: **[u/jdemeyer/ticket/20226](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/20226)**



---

archive/issue_comments_290976.json:
```json
{
    "body": "Commit: **[`e871a64`](https://github.com/sagemath/sagetrac-mirror/commit/e871a64ead4b259543612e2c247a9aaf0cf1bf12)**",
    "created_at": "2016-03-18T11:23:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-290976",
    "user": "https://github.com/jdemeyer"
}
```

Commit: **[`e871a64`](https://github.com/sagemath/sagetrac-mirror/commit/e871a64ead4b259543612e2c247a9aaf0cf1bf12)**



---

archive/issue_comments_290977.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-Convert PARI integers to/from Python integers without relying on the GMP/MPIR library.\n+Convert PARI integers to/from Python integers without taking a detour via `mpz_t`.\n``````\n",
    "created_at": "2016-03-18T11:23:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-290977",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-Convert PARI integers to/from Python integers without relying on the GMP/MPIR library.
+Convert PARI integers to/from Python integers without taking a detour via `mpz_t`.
``````




---

archive/issue_events_283026.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-03-18T11:23:50Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "title_is": "Implement conversion PARI <-> Python int/long without GMP/MPIR",
    "title_was": "Implement conversion PARI <-> Python int/long without mpz",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-283026"
}
```



---

archive/issue_comments_290978.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/03458ea28f8d10c4103f6cdecbf018115c71e889\"><code>03458ea</code></a></td><td><code>Upgrade cysignals package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dce67fca49e515ce610539263e1e7a6f26c7bc69\"><code>dce67fc</code></a></td><td><code>Move memory functions to cysignals</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4bb8337295ed82c93d1a9c9f7173a4c36f97151d\"><code>4bb8337</code></a></td><td><code>Rename sage_malloc -> sig_malloc and friends</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5ab73c1c098478da766a061109a2a248d741e49e\"><code>5ab73c1</code></a></td><td><code>Get rid of factorint_withproof_sage in PARI interface</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c0ed97a0b2a036c3a4677d8e5dbabf6b2a6d54fc\"><code>c0ed97a</code></a></td><td><code>Stop using deprecated PARI factoring features</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/edc5ce28655f157a13f27d2d94ae2e5d5d731bd6\"><code>edc5ce2</code></a></td><td><code>Merge branch 't/20205/get_rid_of_factorint_withproof_sage_in_pari_interface' into HEAD</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5fb408dedb22e4147ee68ae5656e643b4f1df06c\"><code>5fb408d</code></a></td><td><code>Replace pari_catch_sig_on by sig_on</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d5c934c5164255e352cee9ddbc780d0759b6e185\"><code>d5c934c</code></a></td><td><code>Deprecate PARI nth_prime and prime_list</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d7d2d7df24760cdecf0d6585972d2bf6140c1123\"><code>d7d2d7d</code></a></td><td><code>Remove redundant functions from pari_instance.pyx</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e871a64ead4b259543612e2c247a9aaf0cf1bf12\"><code>e871a64</code></a></td><td><code>Implement conversion PARI <-> Python int/long without mpz</code></td></tr></table>\n",
    "created_at": "2016-03-18T11:23:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-290978",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:2"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/03458ea28f8d10c4103f6cdecbf018115c71e889"><code>03458ea</code></a></td><td><code>Upgrade cysignals package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dce67fca49e515ce610539263e1e7a6f26c7bc69"><code>dce67fc</code></a></td><td><code>Move memory functions to cysignals</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4bb8337295ed82c93d1a9c9f7173a4c36f97151d"><code>4bb8337</code></a></td><td><code>Rename sage_malloc -> sig_malloc and friends</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5ab73c1c098478da766a061109a2a248d741e49e"><code>5ab73c1</code></a></td><td><code>Get rid of factorint_withproof_sage in PARI interface</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c0ed97a0b2a036c3a4677d8e5dbabf6b2a6d54fc"><code>c0ed97a</code></a></td><td><code>Stop using deprecated PARI factoring features</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/edc5ce28655f157a13f27d2d94ae2e5d5d731bd6"><code>edc5ce2</code></a></td><td><code>Merge branch 't/20205/get_rid_of_factorint_withproof_sage_in_pari_interface' into HEAD</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5fb408dedb22e4147ee68ae5656e643b4f1df06c"><code>5fb408d</code></a></td><td><code>Replace pari_catch_sig_on by sig_on</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d5c934c5164255e352cee9ddbc780d0759b6e185"><code>d5c934c</code></a></td><td><code>Deprecate PARI nth_prime and prime_list</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d7d2d7df24760cdecf0d6585972d2bf6140c1123"><code>d7d2d7d</code></a></td><td><code>Remove redundant functions from pari_instance.pyx</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e871a64ead4b259543612e2c247a9aaf0cf1bf12"><code>e871a64</code></a></td><td><code>Implement conversion PARI <-> Python int/long without mpz</code></td></tr></table>




---

archive/issue_comments_290979.json:
```json
{
    "body": "Changed dependencies from **#20210, #20205, #20213, #20216, #20217** to **#20210, #20205, #20213, #20216, #20217, #20231**",
    "created_at": "2016-03-18T14:07:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-290979",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#20210, #20205, #20213, #20216, #20217** to **#20210, #20205, #20213, #20216, #20217, #20231**



---

archive/issue_events_283027.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-03-18T17:59:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-283027"
}
```



---

archive/issue_comments_290980.json:
```json
{
    "body": "Changed commit from **[`e871a64`](https://github.com/sagemath/sagetrac-mirror/commit/e871a64ead4b259543612e2c247a9aaf0cf1bf12)** to **[`c5f9892`](https://github.com/sagemath/sagetrac-mirror/commit/c5f9892d7db87ba858c4cc6131e379796cbe7769)**",
    "created_at": "2016-04-03T19:04:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-290980",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e871a64`](https://github.com/sagemath/sagetrac-mirror/commit/e871a64ead4b259543612e2c247a9aaf0cf1bf12)** to **[`c5f9892`](https://github.com/sagemath/sagetrac-mirror/commit/c5f9892d7db87ba858c4cc6131e379796cbe7769)**



---

archive/issue_comments_290981.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c5f9892d7db87ba858c4cc6131e379796cbe7769\"><code>c5f9892</code></a></td><td><code>Implement conversion PARI <-> Python int/long without mpz</code></td></tr></table>\n",
    "created_at": "2016-04-03T19:04:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-290981",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c5f9892d7db87ba858c4cc6131e379796cbe7769"><code>c5f9892</code></a></td><td><code>Implement conversion PARI <-> Python int/long without mpz</code></td></tr></table>




---

archive/issue_comments_290982.json:
```json
{
    "body": "Changed dependencies from **#20210, #20205, #20213, #20216, #20217, #20231** to none",
    "created_at": "2016-04-03T19:07:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-290982",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#20210, #20205, #20213, #20216, #20217, #20231** to none



---

archive/issue_events_283028.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-04-03T19:07:29Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "milestone_number": null,
    "milestone_title": "sage-7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-283028"
}
```



---

archive/issue_events_283029.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-04-03T19:07:29Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "milestone_number": null,
    "milestone_title": "sage-7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-283029"
}
```



---

archive/issue_comments_290983.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nIt runs ok and all tests pass.\n\nMinor drawbacks:\n- it would be useful to have links to the Python and Pari longint specs.\n- I am personally against `from ... import *`, but won't block the ticket if you want to keep it.",
    "created_at": "2016-04-05T09:21:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-290983",
    "user": "https://github.com/defeo"
}
```

<div id="comment:7" align="right">comment:7</div>

It runs ok and all tests pass.

Minor drawbacks:
- it would be useful to have links to the Python and Pari longint specs.
- I am personally against `from ... import *`, but won't block the ticket if you want to keep it.



---

archive/issue_comments_290984.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fa2081de3e7b906b60909ed6ea7988ee496d3a59\"><code>fa2081d</code></a></td><td><code>Add some documentation for PARI conversion</code></td></tr></table>\n",
    "created_at": "2016-04-05T11:35:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-290984",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fa2081de3e7b906b60909ed6ea7988ee496d3a59"><code>fa2081d</code></a></td><td><code>Add some documentation for PARI conversion</code></td></tr></table>




---

archive/issue_comments_290985.json:
```json
{
    "body": "Changed commit from **[`c5f9892`](https://github.com/sagemath/sagetrac-mirror/commit/c5f9892d7db87ba858c4cc6131e379796cbe7769)** to **[`fa2081d`](https://github.com/sagemath/sagetrac-mirror/commit/fa2081de3e7b906b60909ed6ea7988ee496d3a59)**",
    "created_at": "2016-04-05T11:35:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-290985",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c5f9892`](https://github.com/sagemath/sagetrac-mirror/commit/c5f9892d7db87ba858c4cc6131e379796cbe7769)** to **[`fa2081d`](https://github.com/sagemath/sagetrac-mirror/commit/fa2081de3e7b906b60909ed6ea7988ee496d3a59)**



---

archive/issue_events_283030.json:
```json
{
    "actor": "https://github.com/defeo",
    "created_at": "2016-04-05T14:30:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-283030"
}
```



---

archive/issue_events_283031.json:
```json
{
    "actor": "https://github.com/defeo",
    "created_at": "2016-04-05T14:30:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-283031"
}
```



---

archive/issue_comments_290986.json:
```json
{
    "body": "Reviewer: **Luca De Feo**",
    "created_at": "2016-04-05T14:30:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-290986",
    "user": "https://github.com/defeo"
}
```

Reviewer: **Luca De Feo**



---

archive/issue_comments_290987.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nThanks",
    "created_at": "2016-04-05T14:30:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-290987",
    "user": "https://github.com/defeo"
}
```

<div id="comment:9" align="right">comment:9</div>

Thanks



---

archive/issue_comments_290988.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\n\n```\nsage -t --long src/sage/libs/pari/gen.pyx\n**********************************************************************\nFile \"src/sage/libs/pari/gen.pyx\", line 1343, in sage.libs.pari.gen.gen.__int__\nFailed example:\n    int(pari(-2^31))\nExpected:\n    -2147483648\nGot:\n    -2147483648L\n**********************************************************************\n```",
    "created_at": "2016-04-06T07:09:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-290988",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:10" align="right">comment:10</div>


```
sage -t --long src/sage/libs/pari/gen.pyx
**********************************************************************
File "src/sage/libs/pari/gen.pyx", line 1343, in sage.libs.pari.gen.gen.__int__
Failed example:
    int(pari(-2^31))
Expected:
    -2147483648
Got:
    -2147483648L
**********************************************************************
```



---

archive/issue_events_283032.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-04-06T08:13:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-283032"
}
```



---

archive/issue_events_283033.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-04-06T08:13:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-283033"
}
```



---

archive/issue_comments_290989.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nThat's a PARI bug...",
    "created_at": "2016-04-06T10:40:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-290989",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:12" align="right">comment:12</div>

That's a PARI bug...



---

archive/issue_comments_290990.json:
```json
{
    "body": "Changed commit from **[`fa2081d`](https://github.com/sagemath/sagetrac-mirror/commit/fa2081de3e7b906b60909ed6ea7988ee496d3a59)** to **[`47df94c`](https://github.com/sagemath/sagetrac-mirror/commit/47df94cc7c5181f99717d164b1929c516d039ec1)**",
    "created_at": "2016-04-06T16:26:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-290990",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`fa2081d`](https://github.com/sagemath/sagetrac-mirror/commit/fa2081de3e7b906b60909ed6ea7988ee496d3a59)** to **[`47df94c`](https://github.com/sagemath/sagetrac-mirror/commit/47df94cc7c5181f99717d164b1929c516d039ec1)**



---

archive/issue_comments_290991.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/47df94cc7c5181f99717d164b1929c516d039ec1\"><code>47df94c</code></a></td><td><code>Fix conversion of pari(LONG_MIN) to Python int</code></td></tr></table>\n",
    "created_at": "2016-04-06T16:26:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-290991",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/47df94cc7c5181f99717d164b1929c516d039ec1"><code>47df94c</code></a></td><td><code>Fix conversion of pari(LONG_MIN) to Python int</code></td></tr></table>




---

archive/issue_events_283034.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-04-06T16:50:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-283034"
}
```



---

archive/issue_events_283035.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-04-06T16:50:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-283035"
}
```



---

archive/issue_comments_290992.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nIt's not a PARI bug, it's a PARI *feature* :-)",
    "created_at": "2016-04-06T16:51:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-290992",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:15" align="right">comment:15</div>

It's not a PARI bug, it's a PARI *feature* :-)



---

archive/issue_comments_290993.json:
```json
{
    "body": "Changed keywords from none to **days77**",
    "created_at": "2016-04-08T20:47:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-290993",
    "user": "https://github.com/jdemeyer"
}
```

Changed keywords from none to **days77**



---

archive/issue_comments_290994.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nWould it be possible to test the subtle `LONG_MIN` case in `gen_to_integer`? Maybe along\n\n```\nsage: a = gen_to_integer(pari(\"2^63-1\")); a; type(a)\n9223372036854775807\n<type 'int'>\nsage: a = gen_to_integer(pari(\"2^63\")); a; type(a)\n9223372036854775808L\n<type 'long'>\nsage: a = gen_to_integer(pari(\"-2^63\")); a; type(a)\n-9223372036854775808\n<type 'int'>\nsage: a = gen_to_integer(pari(\"-2^63-1\")); a; type(a)\n-9223372036854775809L\n<type 'long'>\n```\n\nWhat do you think of moving `gtoi` into PARI (not necessarily for this ticket)? This function is only about PARI's internal.",
    "created_at": "2016-04-15T18:52:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-290994",
    "user": "https://github.com/videlec"
}
```

<div id="comment:17" align="right">comment:17</div>

Would it be possible to test the subtle `LONG_MIN` case in `gen_to_integer`? Maybe along

```
sage: a = gen_to_integer(pari("2^63-1")); a; type(a)
9223372036854775807
<type 'int'>
sage: a = gen_to_integer(pari("2^63")); a; type(a)
9223372036854775808L
<type 'long'>
sage: a = gen_to_integer(pari("-2^63")); a; type(a)
-9223372036854775808
<type 'int'>
sage: a = gen_to_integer(pari("-2^63-1")); a; type(a)
-9223372036854775809L
<type 'long'>
```

What do you think of moving `gtoi` into PARI (not necessarily for this ticket)? This function is only about PARI's internal.



---

archive/issue_comments_290995.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nReplying to [@videlec](#comment%3A17):\n> What do you think of moving `gtoi` into PARI (not necessarily for this ticket)? This function is only about PARI's internal.\n\nAre you still in Bordeaux physically? If so, maybe you could talk to PARI upstream about this?",
    "created_at": "2016-04-15T18:57:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-290995",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:18" align="right">comment:18</div>

Replying to [@videlec](#comment%3A17):
> What do you think of moving `gtoi` into PARI (not necessarily for this ticket)? This function is only about PARI's internal.

Are you still in Bordeaux physically? If so, maybe you could talk to PARI upstream about this?



---

archive/issue_events_283036.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-04-15T18:59:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-283036"
}
```



---

archive/issue_events_283037.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-04-15T18:59:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-283037"
}
```



---

archive/issue_comments_290996.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@jdemeyer](#comment%3A18):\n> Replying to [@videlec](#comment%3A17):\n> > What do you think of moving `gtoi` into PARI (not necessarily for this ticket)? This function is only about PARI's internal.\n> \n> \n> Are you still in Bordeaux physically? If so, maybe you could talk to PARI upstream about this?\n\nSadly not (I am until september in Santiago de Chile). However, I can submit a patch if not already done.",
    "created_at": "2016-04-15T19:02:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-290996",
    "user": "https://github.com/videlec"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@jdemeyer](#comment%3A18):
> Replying to [@videlec](#comment%3A17):
> > What do you think of moving `gtoi` into PARI (not necessarily for this ticket)? This function is only about PARI's internal.
> 
> 
> Are you still in Bordeaux physically? If so, maybe you could talk to PARI upstream about this?

Sadly not (I am until september in Santiago de Chile). However, I can submit a patch if not already done.



---

archive/issue_comments_290997.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@videlec](#comment%3A20):\n> Sadly not (I am until september in Santiago de Chile).\n\nDoesn't sound so sad :-)\n\n> However, I can submit a patch if not already done.\n\nFor the moment, I lack the mental energy to try to push yet another patch to upstream PARI...",
    "created_at": "2016-04-15T19:04:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-290997",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@videlec](#comment%3A20):
> Sadly not (I am until september in Santiago de Chile).

Doesn't sound so sad :-)

> However, I can submit a patch if not already done.

For the moment, I lack the mental energy to try to push yet another patch to upstream PARI...



---

archive/issue_comments_290998.json:
```json
{
    "body": "Changed reviewer from **Luca De Feo** to **Luca De Feo, Vincent Delecroix**",
    "created_at": "2016-04-20T10:12:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-290998",
    "user": "https://github.com/jdemeyer"
}
```

Changed reviewer from **Luca De Feo** to **Luca De Feo, Vincent Delecroix**



---

archive/issue_comments_290999.json:
```json
{
    "body": "<div id=\"comment:23\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8668603e309601df7321762e499c1a2063c35fa3\"><code>8668603</code></a></td><td><code>Add doctests for corner cases</code></td></tr></table>\n",
    "created_at": "2016-04-20T10:33:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-290999",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8668603e309601df7321762e499c1a2063c35fa3"><code>8668603</code></a></td><td><code>Add doctests for corner cases</code></td></tr></table>




---

archive/issue_comments_291000.json:
```json
{
    "body": "Changed commit from **[`47df94c`](https://github.com/sagemath/sagetrac-mirror/commit/47df94cc7c5181f99717d164b1929c516d039ec1)** to **[`8668603`](https://github.com/sagemath/sagetrac-mirror/commit/8668603e309601df7321762e499c1a2063c35fa3)**",
    "created_at": "2016-04-20T10:33:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-291000",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`47df94c`](https://github.com/sagemath/sagetrac-mirror/commit/47df94cc7c5181f99717d164b1929c516d039ec1)** to **[`8668603`](https://github.com/sagemath/sagetrac-mirror/commit/8668603e309601df7321762e499c1a2063c35fa3)**



---

archive/issue_comments_291001.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nI added a test which checks that the conversion of integers via PARI is the same as the Python conversion `str -> int`. By checking that the result is the same as Python, we don't need to special-case 32-bit vs. 64-bit.",
    "created_at": "2016-04-20T10:35:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-291001",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:24" align="right">comment:24</div>

I added a test which checks that the conversion of integers via PARI is the same as the Python conversion `str -> int`. By checking that the result is the same as Python, we don't need to special-case 32-bit vs. 64-bit.



---

archive/issue_events_283038.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-04-20T10:35:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-283038"
}
```



---

archive/issue_events_283039.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-04-20T10:35:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-283039"
}
```



---

archive/issue_comments_291002.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nSo, what specifically was the issue with this that it required blacklisting GCC 4.8?  Is there a simple way to reproduce the issue, or at least a specific doctest that exhibits it that I could run?",
    "created_at": "2016-04-22T13:46:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-291002",
    "user": "https://github.com/embray"
}
```

<div id="comment:25" align="right">comment:25</div>

So, what specifically was the issue with this that it required blacklisting GCC 4.8?  Is there a simple way to reproduce the issue, or at least a specific doctest that exhibits it that I could run?



---

archive/issue_comments_291003.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nIt was some doctest in `src/sage/libs/pari/convert.pyx`. Let me know if you're unable to reproduce it.",
    "created_at": "2016-04-22T13:49:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-291003",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:26" align="right">comment:26</div>

It was some doctest in `src/sage/libs/pari/convert.pyx`. Let me know if you're unable to reproduce it.



---

archive/issue_comments_291004.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nOkay, I'll give it a look.  I appreciate the need for the blacklisting *for now* just to get moving on things.  But it will be good to fix if I can. I have set `SAGE_INSTALL_GCC=no` on my system, but that will mean I'll ultimately have a broken Sage if we can't resolve this :(",
    "created_at": "2016-04-25T10:15:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-291004",
    "user": "https://github.com/embray"
}
```

<div id="comment:27" align="right">comment:27</div>

Okay, I'll give it a look.  I appreciate the need for the blacklisting *for now* just to get moving on things.  But it will be good to fix if I can. I have set `SAGE_INSTALL_GCC=no` on my system, but that will mean I'll ultimately have a broken Sage if we can't resolve this :(



---

archive/issue_comments_291005.json:
```json
{
    "body": "<div id=\"comment:29\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c2305c0758b40062bcba18a183105a3e73ba2019\"><code>c2305c0</code></a></td><td><code>Merge tag '7.2' into t/20226/ticket/20226</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b55085547315715f292fd08ce74ad5a437abc6a5\"><code>b550855</code></a></td><td><code>Fix compiler flag for GCC 4.8 issue</code></td></tr></table>\n",
    "created_at": "2016-05-17T12:02:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-291005",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:29"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c2305c0758b40062bcba18a183105a3e73ba2019"><code>c2305c0</code></a></td><td><code>Merge tag '7.2' into t/20226/ticket/20226</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b55085547315715f292fd08ce74ad5a437abc6a5"><code>b550855</code></a></td><td><code>Fix compiler flag for GCC 4.8 issue</code></td></tr></table>




---

archive/issue_comments_291006.json:
```json
{
    "body": "Changed commit from **[`8668603`](https://github.com/sagemath/sagetrac-mirror/commit/8668603e309601df7321762e499c1a2063c35fa3)** to **[`b550855`](https://github.com/sagemath/sagetrac-mirror/commit/b55085547315715f292fd08ce74ad5a437abc6a5)**",
    "created_at": "2016-05-17T12:02:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-291006",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8668603`](https://github.com/sagemath/sagetrac-mirror/commit/8668603e309601df7321762e499c1a2063c35fa3)** to **[`b550855`](https://github.com/sagemath/sagetrac-mirror/commit/b55085547315715f292fd08ce74ad5a437abc6a5)**



---

archive/issue_comments_291007.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nI'm now using the flag `-fno-tree-copyrename` which seems to fix all instances of the GCC 4.8 problem.",
    "created_at": "2016-05-17T19:42:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-291007",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:30" align="right">comment:30</div>

I'm now using the flag `-fno-tree-copyrename` which seems to fix all instances of the GCC 4.8 problem.



---

archive/issue_comments_291008.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nInteresting--not sure why that would do it but okay.  But if it's not a problem on newer GCC versions maybe whatever the problem is is since fixed.\n\nThis might have something to do with it: https://gcc.gnu.org/ml/gcc-patches/2015-03/msg01460.html",
    "created_at": "2016-05-19T10:08:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-291008",
    "user": "https://github.com/embray"
}
```

<div id="comment:31" align="right">comment:31</div>

Interesting--not sure why that would do it but okay.  But if it's not a problem on newer GCC versions maybe whatever the problem is is since fixed.

This might have something to do with it: https://gcc.gnu.org/ml/gcc-patches/2015-03/msg01460.html



---

archive/issue_comments_291009.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nReplying to [@embray](#comment%3A31):\n> Interesting--not sure why that would do it but okay.  But if it's not a problem on newer GCC versions maybe whatever the problem is is since fixed.\n\nThe problem is indeed fixed in GCC-4.9, see http://gcc.gnu.org/bugzilla/show_bug.cgi?id=56982",
    "created_at": "2016-05-19T11:20:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-291009",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:32" align="right">comment:32</div>

Replying to [@embray](#comment%3A31):
> Interesting--not sure why that would do it but okay.  But if it's not a problem on newer GCC versions maybe whatever the problem is is since fixed.

The problem is indeed fixed in GCC-4.9, see http://gcc.gnu.org/bugzilla/show_bug.cgi?id=56982



---

archive/issue_comments_291010.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nCould you use the macro `Py_SIZE` instead of calling `py_long_object->ob_size`? In particular, it will simplify the switch to Python3. Sadly, Cython does not accept the macro expansion `Py_SIZE(my_object) = whatever` and the C-API does not document an alternative way of doing things.",
    "created_at": "2016-05-30T09:25:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-291010",
    "user": "https://github.com/videlec"
}
```

<div id="comment:33" align="right">comment:33</div>

Could you use the macro `Py_SIZE` instead of calling `py_long_object->ob_size`? In particular, it will simplify the switch to Python3. Sadly, Cython does not accept the macro expansion `Py_SIZE(my_object) = whatever` and the C-API does not document an alternative way of doing things.



---

archive/issue_comments_291011.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nReplying to [@videlec](#comment%3A33):\n> In particular, it will simplify the switch to Python3.\n\nI don't understand why: `ob_size` still exists in Python 3.\n\nEspecially given that we cannot assign to `Py_SIZE()`, I don't really see the point.",
    "created_at": "2016-05-30T09:34:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-291011",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:34" align="right">comment:34</div>

Replying to [@videlec](#comment%3A33):
> In particular, it will simplify the switch to Python3.

I don't understand why: `ob_size` still exists in Python 3.

Especially given that we cannot assign to `Py_SIZE()`, I don't really see the point.



---

archive/issue_comments_291012.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nIn Python 3 `(<PyLongObject*>x).ob_size` just doesn't compile\n\n```\n.../cython_test.c: In function \u2018__pyx_pf_11cython_test_f\u2019:\n.../cython_test.c:593:61: error: \u2018PyLongObject\u2019 has no member named \u2018ob_size\u2019\n   __pyx_t_1 = PyInt_FromSsize_t(((PyLongObject *)__pyx_v_s)->ob_size); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 8; __pyx_clineno = __LINE__; goto __pyx_L1_error;}                                           \n```",
    "created_at": "2016-05-30T10:00:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-291012",
    "user": "https://github.com/videlec"
}
```

<div id="comment:35" align="right">comment:35</div>

In Python 3 `(<PyLongObject*>x).ob_size` just doesn't compile

```
.../cython_test.c: In function ‘__pyx_pf_11cython_test_f’:
.../cython_test.c:593:61: error: ‘PyLongObject’ has no member named ‘ob_size’
   __pyx_t_1 = PyInt_FromSsize_t(((PyLongObject *)__pyx_v_s)->ob_size); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 8; __pyx_clineno = __LINE__; goto __pyx_L1_error;}                                           
```



---

archive/issue_events_283040.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-05-30T10:06:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-283040"
}
```



---

archive/issue_events_283041.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-05-30T10:06:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-283041"
}
```



---

archive/issue_comments_291013.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nI see. Python 3 adds an extra level of indirection `ob_base->ob_size`.",
    "created_at": "2016-05-30T10:06:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-291013",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:36" align="right">comment:36</div>

I see. Python 3 adds an extra level of indirection `ob_base->ob_size`.



---

archive/issue_comments_291014.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nOn the other hand, to avoid getting stuck, I would prefer to defer the Python 3 porting to a new ticket.",
    "created_at": "2016-05-31T09:58:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-291014",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:37" align="right">comment:37</div>

On the other hand, to avoid getting stuck, I would prefer to defer the Python 3 porting to a new ticket.



---

archive/issue_events_283042.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-05-31T09:58:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-283042"
}
```



---

archive/issue_events_283043.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-05-31T09:58:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-283043"
}
```



---

archive/issue_events_283044.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2016-05-31T10:01:36Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "milestone_number": null,
    "milestone_title": "sage-7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-283044"
}
```



---

archive/issue_events_283045.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2016-05-31T10:01:36Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "milestone_number": null,
    "milestone_title": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-283045"
}
```



---

archive/issue_events_283046.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2016-05-31T10:01:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-283046"
}
```



---

archive/issue_events_283047.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2016-05-31T10:01:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-283047"
}
```



---

archive/issue_comments_291015.json:
```json
{
    "body": "Changed keywords from **days77** to **days77, days74**",
    "created_at": "2016-05-31T10:01:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-291015",
    "user": "https://github.com/videlec"
}
```

Changed keywords from **days77** to **days77, days74**



---

archive/issue_comments_291016.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/ticket/20226](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/20226)** to **[`b550855`](https://github.com/sagemath/sagetrac-mirror/commit/b55085547315715f292fd08ce74ad5a437abc6a5)**",
    "created_at": "2016-05-31T22:53:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20226#issuecomment-291016",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jdemeyer/ticket/20226](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/20226)** to **[`b550855`](https://github.com/sagemath/sagetrac-mirror/commit/b55085547315715f292fd08ce74ad5a437abc6a5)**



---

archive/issue_events_283048.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-05-31T22:53:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-283048"
}
```



---

archive/issue_events_283049.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "aa4fcbadeb374d4e210c669bdefd8bfe831bc3ae",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-05-31T22:53:55Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/20226",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20226#event-283049"
}
```
