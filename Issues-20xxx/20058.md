# Issue 20058: LatticePosets: Add congruence-related functions / part 1

archive/issues_019821.json:
```json
{
    "assignees": [],
    "body": "Add functions that computes 1) congruence generated by lists of elements, 2) lattice of congruences and 3) quotient lattice. Add functions to check if a lattice is 4) simple and 5) uniform.\n\nThis is part one, and only contains function to generate congruence. However, the function in `hasse_diagram.py` is made with above goals in mind.\n\nPart two is #21861.\n\nDepends on #20057\n\nCC:  @kevindilks\n\nBranch/Commit: **[f46f9ab](https://github.com/sagemath/sagetrac-mirror/commit/f46f9abcf4721088d7c7993264a42a6eae4f4612)**\n\nReviewer: **Martin Rubey**\n\nAuthor: **Jori M\u00e4ntysalo**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/20058_\n\n",
    "closed_at": "2017-01-18T20:40:00Z",
    "created_at": "2016-02-15T18:02:16Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.6",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "LatticePosets: Add congruence-related functions / part 1",
    "type": "issue",
    "updated_at": "2017-01-18T20:40:00Z",
    "url": "https://github.com/sagemath/sage/issues/20058",
    "user": "https://github.com/jm58660"
}
```
Add functions that computes 1) congruence generated by lists of elements, 2) lattice of congruences and 3) quotient lattice. Add functions to check if a lattice is 4) simple and 5) uniform.

This is part one, and only contains function to generate congruence. However, the function in `hasse_diagram.py` is made with above goals in mind.

Part two is #21861.

Depends on #20057

CC:  @kevindilks

Branch/Commit: **[f46f9ab](https://github.com/sagemath/sagetrac-mirror/commit/f46f9abcf4721088d7c7993264a42a6eae4f4612)**

Reviewer: **Martin Rubey**

Author: **Jori Mäntysalo**

_Issue created by migration from https://trac.sagemath.org/ticket/20058_





---

archive/issue_events_265458.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-02-15T18:02:16Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "milestone_number": null,
    "milestone_title": "sage-7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20058#event-265458"
}
```



---

archive/issue_events_265459.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-02-15T18:02:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "component: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20058#event-265459"
}
```



---

archive/issue_events_265460.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-02-15T18:02:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20058#event-265460"
}
```



---

archive/issue_events_265461.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-02-15T18:02:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20058#event-265461"
}
```



---

archive/issue_comments_290042.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nDraft of code done, waiting for some other tickets to close and doing some polishing.",
    "created_at": "2016-10-18T03:47:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290042",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:1" align="right">Comment 1</div>

Draft of code done, waiting for some other tickets to close and doing some polishing.



---

archive/issue_events_265462.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-10-18T03:47:02Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "title_is": "LatticePosets: Add congruence-related functions",
    "title_was": "LatticePosets: Add generated congruence",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20058#event-265462"
}
```



---

archive/issue_events_265463.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-10-18T03:47:02Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "milestone_number": null,
    "milestone_title": "sage-7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20058#event-265463"
}
```



---

archive/issue_events_265464.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-10-18T03:47:02Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "milestone_number": null,
    "milestone_title": "sage-7.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20058#event-265464"
}
```



---

archive/issue_comments_290043.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,2 @@\n-Add a function that computes congruence generated by lists of elements. For a pair of elements this is called principal congruence.\n+Add functions that computes 1) congruence generated by lists of elements, 2) lattice of congruences and 3) quotient lattice. Add functions to check if a lattice is 4) simple and 5) uniform.\n \n-(Wait until #20057 to get nicer code.)\n``````\n",
    "created_at": "2016-10-18T03:47:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290043",
    "user": "https://github.com/jm58660"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,2 @@
-Add a function that computes congruence generated by lists of elements. For a pair of elements this is called principal congruence.
+Add functions that computes 1) congruence generated by lists of elements, 2) lattice of congruences and 3) quotient lattice. Add functions to check if a lattice is 4) simple and 5) uniform.
 
-(Wait until #20057 to get nicer code.)
``````




---

archive/issue_comments_290044.json:
```json
{
    "body": "Author: **Jori M\u00e4ntysalo**",
    "created_at": "2016-10-18T03:47:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290044",
    "user": "https://github.com/jm58660"
}
```

Author: **Jori Mäntysalo**



---

archive/issue_comments_290045.json:
```json
{
    "body": "Reviewer: **Martin Rubey**",
    "created_at": "2016-10-18T05:18:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290045",
    "user": "https://github.com/mantepse"
}
```

Reviewer: **Martin Rubey**



---

archive/issue_comments_290046.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nI am very much looking forward to this!",
    "created_at": "2016-10-18T05:18:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290046",
    "user": "https://github.com/mantepse"
}
```

<div id="comment:2" align="right">Comment 2</div>

I am very much looking forward to this!



---

archive/issue_comments_290047.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nReplying to [@mantepse](#comment%3A2):\n> I am very much looking forward to this!\n\nGood! See https://sage.sis.uta.fi/home/pub/130/ for a \"preview\".\n\nE: This can be optimized: Move `congruence()` to `hasse_diagram.py` and add an option to \"add\" a congruence, i.e. a parameter to give already computed congruence.",
    "created_at": "2016-10-18T05:49:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290047",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:3" align="right">Comment 3</div>

Replying to [@mantepse](#comment%3A2):
> I am very much looking forward to this!

Good! See https://sage.sis.uta.fi/home/pub/130/ for a "preview".

E: This can be optimized: Move `congruence()` to `hasse_diagram.py` and add an option to "add" a congruence, i.e. a parameter to give already computed congruence.



---

archive/issue_comments_290048.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nStatus update: This is hard.\n\nWell, not really hard to make it work, but hard to make it fast (and my draft version if fast but incorrect...). I have thinked this, and propably we need a list of upper and lower covers, and should delete those to avoid unnecessary re-computation.\n\nAlso there seems to be no published algorithms for this.",
    "created_at": "2016-11-06T14:30:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290048",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:4" align="right">Comment 4</div>

Status update: This is hard.

Well, not really hard to make it work, but hard to make it fast (and my draft version if fast but incorrect...). I have thinked this, and propably we need a list of upper and lower covers, and should delete those to avoid unnecessary re-computation.

Also there seems to be no published algorithms for this.



---

archive/issue_comments_290049.json:
```json
{
    "body": "Branch: **[u/jmantysalo/latticeposets__add_congruence_related_functions](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/latticeposets__add_congruence_related_functions)**",
    "created_at": "2016-11-11T14:15:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290049",
    "user": "https://github.com/jm58660"
}
```

Branch: **[u/jmantysalo/latticeposets__add_congruence_related_functions](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/latticeposets__add_congruence_related_functions)**



---

archive/issue_events_265465.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-11-11T14:18:50Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "title_is": "LatticePosets: Add congruence-related functions / part 1",
    "title_was": "LatticePosets: Add congruence-related functions",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20058#event-265465"
}
```



---

archive/issue_comments_290050.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/79bc27008b2256ce01f915a3e4f346e7e44d9f83\">79bc270</a></td><td><code>Add congruence for lattices.</code></td></tr></table>\n",
    "created_at": "2016-11-11T14:18:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290050",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:6" align="right">Comment 6</div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/79bc27008b2256ce01f915a3e4f346e7e44d9f83">79bc270</a></td><td><code>Add congruence for lattices.</code></td></tr></table>




---

archive/issue_comments_290051.json:
```json
{
    "body": "Commit: **[79bc270](https://github.com/sagemath/sagetrac-mirror/commit/79bc27008b2256ce01f915a3e4f346e7e44d9f83)**",
    "created_at": "2016-11-11T14:18:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290051",
    "user": "https://github.com/jm58660"
}
```

Commit: **[79bc270](https://github.com/sagemath/sagetrac-mirror/commit/79bc27008b2256ce01f915a3e4f346e7e44d9f83)**



---

archive/issue_comments_290052.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,2 +1,4 @@\n Add functions that computes 1) congruence generated by lists of elements, 2) lattice of congruences and 3) quotient lattice. Add functions to check if a lattice is 4) simple and 5) uniform.\n \n+This is part one, and only contains function to generate congruence. However, the function in `hasse_diagram.py` is made with above goals in mind.\n+\n``````\n",
    "created_at": "2016-11-11T14:18:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290052",
    "user": "https://github.com/jm58660"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,2 +1,4 @@
 Add functions that computes 1) congruence generated by lists of elements, 2) lattice of congruences and 3) quotient lattice. Add functions to check if a lattice is 4) simple and 5) uniform.
 
+This is part one, and only contains function to generate congruence. However, the function in `hasse_diagram.py` is made with above goals in mind.
+
``````




---

archive/issue_events_265466.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-11-11T14:18:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20058#event-265466"
}
```



---

archive/issue_comments_290053.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nReady for review. I am quite sure that there is still places for optimization. However, this is quite fast already. Should be tested well before we continue to #21861.",
    "created_at": "2016-11-11T14:23:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290053",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:7" align="right">Comment 7</div>

Ready for review. I am quite sure that there is still places for optimization. However, this is quite fast already. Should be tested well before we continue to #21861.



---

archive/issue_comments_290054.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nFor speed, you might want to consider converting things into Cython code, but really it involves doing a bunch of profiling beforehand.\n\nFor the `INPUT:` block, you should format the inputs as:\n\n```\n- ``parts`` -- a list of lists; congruences to add\n```\nAlso, you should add the reference to the master list and link to it with `[Foo42]_`.",
    "created_at": "2016-11-11T15:03:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290054",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:8" align="right">Comment 8</div>

For speed, you might want to consider converting things into Cython code, but really it involves doing a bunch of profiling beforehand.

For the `INPUT:` block, you should format the inputs as:

```
- ``parts`` -- a list of lists; congruences to add
```
Also, you should add the reference to the master list and link to it with `[Foo42]_`.



---

archive/issue_comments_290055.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nIt seems that actually this is fast enought, after meets and joins are computed. I did some tests, and for example principal congruences for all join-irreducibles (with their lower covers) on 1430-element Tamari lattice takes about 20 seconds on notebook, i.e. on not-compiled code.\n\nI don't think that cythonizing can be done, as this needs `DisjointSet`s.\n\nBut now, does someone understand this code? If so, does it work?",
    "created_at": "2016-11-11T19:51:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290055",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:9" align="right">Comment 9</div>

It seems that actually this is fast enought, after meets and joins are computed. I did some tests, and for example principal congruences for all join-irreducibles (with their lower covers) on 1430-element Tamari lattice takes about 20 seconds on notebook, i.e. on not-compiled code.

I don't think that cythonizing can be done, as this needs `DisjointSet`s.

But now, does someone understand this code? If so, does it work?



---

archive/issue_comments_290056.json:
```json
{
    "body": "Changed commit from **[79bc270](https://github.com/sagemath/sagetrac-mirror/commit/79bc27008b2256ce01f915a3e4f346e7e44d9f83)** to **[9673201](https://github.com/sagemath/sagetrac-mirror/commit/9673201ba322c4c436f44e0b9fd1717d8c6e0419)**",
    "created_at": "2016-11-16T10:27:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290056",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[79bc270](https://github.com/sagemath/sagetrac-mirror/commit/79bc27008b2256ce01f915a3e4f346e7e44d9f83)** to **[9673201](https://github.com/sagemath/sagetrac-mirror/commit/9673201ba322c4c436f44e0b9fd1717d8c6e0419)**



---

archive/issue_comments_290057.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9673201ba322c4c436f44e0b9fd1717d8c6e0419\">9673201</a></td><td><code>Move references.</code></td></tr></table>\n",
    "created_at": "2016-11-16T10:27:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290057",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10" align="right">Comment 10</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9673201ba322c4c436f44e0b9fd1717d8c6e0419">9673201</a></td><td><code>Move references.</code></td></tr></table>




---

archive/issue_comments_290058.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nReplying to [@tscrim](#comment%3A8):\n\n> For the `INPUT:` block, you should format - - add the reference to the master list - -\n\nDone.",
    "created_at": "2016-11-16T10:27:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290058",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:11" align="right">Comment 11</div>

Replying to [@tscrim](#comment%3A8):

> For the `INPUT:` block, you should format - - add the reference to the master list - -

Done.



---

archive/issue_comments_290059.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nYou can have Cython import stuff and use Python objects such as `DisjointSet`. Since you're doing a fair bit of computation within the methods, there might be some benefit. Yet, if it is fast enough for your purposes, then you don't have to do anything more.\n\nI don't think I can do anything with respect to the code itself at this moment in time. Martin?\n\nQuick comment: your reference is poorly formatted. I recommend:\n\n```\n.. [DP1997] \\B. A. Davey, H. A. Priestley,\n            *Introduction to lattices and order*,\n            Cambridge University Press, 1997.\n```",
    "created_at": "2016-11-16T15:38:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290059",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:12" align="right">Comment 12</div>

You can have Cython import stuff and use Python objects such as `DisjointSet`. Since you're doing a fair bit of computation within the methods, there might be some benefit. Yet, if it is fast enough for your purposes, then you don't have to do anything more.

I don't think I can do anything with respect to the code itself at this moment in time. Martin?

Quick comment: your reference is poorly formatted. I recommend:

```
.. [DP1997] \B. A. Davey, H. A. Priestley,
            *Introduction to lattices and order*,
            Cambridge University Press, 1997.
```



---

archive/issue_comments_290060.json:
```json
{
    "body": "Changed commit from **[9673201](https://github.com/sagemath/sagetrac-mirror/commit/9673201ba322c4c436f44e0b9fd1717d8c6e0419)** to **[b84825e](https://github.com/sagemath/sagetrac-mirror/commit/b84825e6da42aca45eb88ebf461043d100ea534a)**",
    "created_at": "2016-11-16T16:01:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290060",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[9673201](https://github.com/sagemath/sagetrac-mirror/commit/9673201ba322c4c436f44e0b9fd1717d8c6e0419)** to **[b84825e](https://github.com/sagemath/sagetrac-mirror/commit/b84825e6da42aca45eb88ebf461043d100ea534a)**



---

archive/issue_comments_290061.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d1e7a296ab766bff170c2c106326e1b7594d5798\">d1e7a29</a></td><td><code>Reformat reference.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b84825e6da42aca45eb88ebf461043d100ea534a\">b84825e</a></td><td><code>Reformat reference / tabs.</code></td></tr></table>\n",
    "created_at": "2016-11-16T16:01:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290061",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13" align="right">Comment 13</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d1e7a296ab766bff170c2c106326e1b7594d5798">d1e7a29</a></td><td><code>Reformat reference.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b84825e6da42aca45eb88ebf461043d100ea534a">b84825e</a></td><td><code>Reformat reference / tabs.</code></td></tr></table>




---

archive/issue_comments_290062.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nReplying to [@tscrim](#comment%3A12):\n\n> I don't think I can do anything with respect to the code itself at this moment in time. Martin?\n\nYou have already did very much for many kind of tickets. Thanks for those! Kind of turn for others to review my patches...\n\n> Quick comment: your reference is poorly formatted. I recommend:\n\nGood point, done.\n\n> You can have Cython import stuff and use Python objects such as `DisjointSet`. Since you're doing a fair bit of computation within the methods, there might be some benefit. Yet, if it is fast enough for your purposes, then you don't have to do anything more.\n\nOK. I guess this must be first made working, build something more on top of this and then see if we want to optimize or not.",
    "created_at": "2016-11-16T16:04:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290062",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:14" align="right">Comment 14</div>

Replying to [@tscrim](#comment%3A12):

> I don't think I can do anything with respect to the code itself at this moment in time. Martin?

You have already did very much for many kind of tickets. Thanks for those! Kind of turn for others to review my patches...

> Quick comment: your reference is poorly formatted. I recommend:

Good point, done.

> You can have Cython import stuff and use Python objects such as `DisjointSet`. Since you're doing a fair bit of computation within the methods, there might be some benefit. Yet, if it is fast enough for your purposes, then you don't have to do anything more.

OK. I guess this must be first made working, build something more on top of this and then see if we want to optimize or not.



---

archive/issue_comments_290063.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\nUnfortunately, I won't have time until end of next week because of teaching duties.  I'm sorry about that.",
    "created_at": "2016-11-16T18:05:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290063",
    "user": "https://github.com/mantepse"
}
```

<div id="comment:15" align="right">Comment 15</div>

Unfortunately, I won't have time until end of next week because of teaching duties.  I'm sorry about that.



---

archive/issue_comments_290064.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">Comment 16</div>\n\nReplying to [@mantepse](#comment%3A15):\n> Unfortunately, I won't have time until end of next week because of teaching duties.  I'm sorry about that.\n\nThere is not that horry, of course.\n\n(It took 2200 years to prove that squaring the circle is impossible. To find someone who does not hurry, try someone doing mathematics. `:=)`)",
    "created_at": "2016-11-16T19:15:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290064",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:16" align="right">Comment 16</div>

Replying to [@mantepse](#comment%3A15):
> Unfortunately, I won't have time until end of next week because of teaching duties.  I'm sorry about that.

There is not that horry, of course.

(It took 2200 years to prove that squaring the circle is impossible. To find someone who does not hurry, try someone doing mathematics. `:=)`)



---

archive/issue_comments_290065.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">Comment 17</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/80146e7d36ca244b6a9b7c0302c468fed5d238db\">80146e7</a></td><td><code>rebase</code></td></tr></table>\n",
    "created_at": "2016-11-23T22:31:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290065",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17" align="right">Comment 17</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/80146e7d36ca244b6a9b7c0302c468fed5d238db">80146e7</a></td><td><code>rebase</code></td></tr></table>




---

archive/issue_comments_290066.json:
```json
{
    "body": "Changed commit from **[b84825e](https://github.com/sagemath/sagetrac-mirror/commit/b84825e6da42aca45eb88ebf461043d100ea534a)** to **[80146e7](https://github.com/sagemath/sagetrac-mirror/commit/80146e7d36ca244b6a9b7c0302c468fed5d238db)**",
    "created_at": "2016-11-23T22:31:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290066",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[b84825e](https://github.com/sagemath/sagetrac-mirror/commit/b84825e6da42aca45eb88ebf461043d100ea534a)** to **[80146e7](https://github.com/sagemath/sagetrac-mirror/commit/80146e7d36ca244b6a9b7c0302c468fed5d238db)**



---

archive/issue_comments_290067.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">Comment 18</div>\n\nHi Jori!\n\nI just started playing with your code, and now tried the following:\n\n```\n[P for P in posets(r) if P.is_lattice() and all(len(set([len(b) for b in LatticePoset(P).congruence(p)]))==1 for p in SetPartitions(P))]\n```\nfor r smaller than 8.  If I'm not mistaken, these should be precisely the uniform lattices, right?  (Very likely generated in the most stupid way possible :-)\n\nI was a bit surprised to get so few of them: for r equal to 3,4,5 and 6 I get just one, for 7 I get four.  Does this match your experience - or is my code wrong?",
    "created_at": "2016-11-24T21:00:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290067",
    "user": "https://github.com/mantepse"
}
```

<div id="comment:18" align="right">Comment 18</div>

Hi Jori!

I just started playing with your code, and now tried the following:

```
[P for P in posets(r) if P.is_lattice() and all(len(set([len(b) for b in LatticePoset(P).congruence(p)]))==1 for p in SetPartitions(P))]
```
for r smaller than 8.  If I'm not mistaken, these should be precisely the uniform lattices, right?  (Very likely generated in the most stupid way possible :-)

I was a bit surprised to get so few of them: for r equal to 3,4,5 and 6 I get just one, for 7 I get four.  Does this match your experience - or is my code wrong?



---

archive/issue_comments_290068.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">Comment 19</div>\n\nFor r=8 I get 17 uniform lattices...",
    "created_at": "2016-11-24T21:25:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290068",
    "user": "https://github.com/mantepse"
}
```

<div id="comment:19" align="right">Comment 19</div>

For r=8 I get 17 uniform lattices...



---

archive/issue_comments_290069.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">Comment 20</div>\n\nMartin, to generate lattices please take this https://sage.sis.uta.fi/home/pub/133/ (or at least see `with_bounds()` of poset. I think that checking for being uniform can be made like\n\n```\ndef uniform(self):\n    ji = [(i, self.lower_covers(i)[0]) for i in self.join_irreducibles()]\n    for x in Subsets(ji):\n        if len(uniq([len(y) for y in self.congruence(x)])) > 1:\n            return False\n    return True\n```\n\nand I got the same results, except that for r=8 I got 15. Uniform lattices are rare.",
    "created_at": "2016-11-25T05:48:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290069",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:20" align="right">Comment 20</div>

Martin, to generate lattices please take this https://sage.sis.uta.fi/home/pub/133/ (or at least see `with_bounds()` of poset. I think that checking for being uniform can be made like

```
def uniform(self):
    ji = [(i, self.lower_covers(i)[0]) for i in self.join_irreducibles()]
    for x in Subsets(ji):
        if len(uniq([len(y) for y in self.congruence(x)])) > 1:
            return False
    return True
```

and I got the same results, except that for r=8 I got 15. Uniform lattices are rare.



---

archive/issue_comments_290070.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">Comment 21</div>\n\nTravis: Pros and cons of using `SetPartition` as output type of this? I would be kind of natural.",
    "created_at": "2016-11-25T05:49:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290070",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:21" align="right">Comment 21</div>

Travis: Pros and cons of using `SetPartition` as output type of this? I would be kind of natural.



---

archive/issue_comments_290071.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">Comment 22</div>\n\n\n```\nsage: r=6; l = [P.with_bounds() for P in posets(r) if P.with_bounds().is_lattice() and all(len(set([len(b) for b in LatticePoset(P.with_bounds()).congruence(p)]))==1 for p in SetPartitions(P\n....: .with_bounds()))]; l\n\n[Finite poset containing 8 elements,\n Finite poset containing 8 elements,\n Finite poset containing 8 elements,\n Finite poset containing 8 elements,\n Finite poset containing 8 elements,\n Finite poset containing 8 elements,\n Finite poset containing 8 elements,\n Finite poset containing 8 elements,\n Finite poset containing 8 elements,\n Finite poset containing 8 elements,\n Finite poset containing 8 elements,\n Finite poset containing 8 elements,\n Finite poset containing 8 elements,\n Finite poset containing 8 elements,\n Finite poset containing 8 elements,\n Finite poset containing 8 elements,\n Finite poset containing 8 elements]\nsage: len(l)\n17\n```",
    "created_at": "2016-11-25T13:49:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290071",
    "user": "https://github.com/mantepse"
}
```

<div id="comment:22" align="right">Comment 22</div>


```
sage: r=6; l = [P.with_bounds() for P in posets(r) if P.with_bounds().is_lattice() and all(len(set([len(b) for b in LatticePoset(P.with_bounds()).congruence(p)]))==1 for p in SetPartitions(P
....: .with_bounds()))]; l

[Finite poset containing 8 elements,
 Finite poset containing 8 elements,
 Finite poset containing 8 elements,
 Finite poset containing 8 elements,
 Finite poset containing 8 elements,
 Finite poset containing 8 elements,
 Finite poset containing 8 elements,
 Finite poset containing 8 elements,
 Finite poset containing 8 elements,
 Finite poset containing 8 elements,
 Finite poset containing 8 elements,
 Finite poset containing 8 elements,
 Finite poset containing 8 elements,
 Finite poset containing 8 elements,
 Finite poset containing 8 elements,
 Finite poset containing 8 elements,
 Finite poset containing 8 elements]
sage: len(l)
17
```



---

archive/issue_comments_290072.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">Comment 23</div>\n\nUsing your code, I get\n\n```\nr=6; m = [P.with_bounds() for P in posets(r) if P.with_bounds().is_lattice() and uniform(LatticePoset(P.with_bounds()))]; len(m)\n15\n```\nNot sure what's wrong.",
    "created_at": "2016-11-25T13:56:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290072",
    "user": "https://github.com/mantepse"
}
```

<div id="comment:23" align="right">Comment 23</div>

Using your code, I get

```
r=6; m = [P.with_bounds() for P in posets(r) if P.with_bounds().is_lattice() and uniform(LatticePoset(P.with_bounds()))]; len(m)
15
```
Not sure what's wrong.



---

archive/issue_comments_290073.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">Comment 24</div>\n\nJori, I'm confused.\n\nI would have thought that the following two would yield the same result:\n\n```\nsage: L = LatticePoset(DiGraph('G?QO@@?O@u??')); L\nFinite lattice containing 8 elements\nsage: L.congruence([(2, 1), (4, 6), (3, 6)])\n[[6, 4, 3, 1, 2, 5], [0, 7]]\nsage: L.congruence([(2, 1), (3, 4, 6)])\n[[6, 4, 3, 1, 2, 5, 0, 7]]\n```\n\nMartin",
    "created_at": "2016-11-25T14:26:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290073",
    "user": "https://github.com/mantepse"
}
```

<div id="comment:24" align="right">Comment 24</div>

Jori, I'm confused.

I would have thought that the following two would yield the same result:

```
sage: L = LatticePoset(DiGraph('G?QO@@?O@u??')); L
Finite lattice containing 8 elements
sage: L.congruence([(2, 1), (4, 6), (3, 6)])
[[6, 4, 3, 1, 2, 5], [0, 7]]
sage: L.congruence([(2, 1), (3, 4, 6)])
[[6, 4, 3, 1, 2, 5, 0, 7]]
```

Martin



---

archive/issue_comments_290074.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">Comment 25</div>\n\nReplying to [@mantepse](#comment%3A24):\n> I would have thought that the following two would yield the same result:\n\nThey should. You found a bug. Thanks!",
    "created_at": "2016-11-25T14:49:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290074",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:25" align="right">Comment 25</div>

Replying to [@mantepse](#comment%3A24):
> I would have thought that the following two would yield the same result:

They should. You found a bug. Thanks!



---

archive/issue_comments_290075.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">Comment 26</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b43b2158aa30d9f9cb6fb3b13d4d1800a41c8777\">b43b215</a></td><td><code>Merge branch 'develop' into t/20058/latticeposets__add_congruence_related_functions</code></td></tr></table>\n",
    "created_at": "2016-11-25T20:17:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290075",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:26" align="right">Comment 26</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b43b2158aa30d9f9cb6fb3b13d4d1800a41c8777">b43b215</a></td><td><code>Merge branch 'develop' into t/20058/latticeposets__add_congruence_related_functions</code></td></tr></table>




---

archive/issue_comments_290076.json:
```json
{
    "body": "Changed commit from **[80146e7](https://github.com/sagemath/sagetrac-mirror/commit/80146e7d36ca244b6a9b7c0302c468fed5d238db)** to **[b43b215](https://github.com/sagemath/sagetrac-mirror/commit/b43b2158aa30d9f9cb6fb3b13d4d1800a41c8777)**",
    "created_at": "2016-11-25T20:17:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290076",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[80146e7](https://github.com/sagemath/sagetrac-mirror/commit/80146e7d36ca244b6a9b7c0302c468fed5d238db)** to **[b43b215](https://github.com/sagemath/sagetrac-mirror/commit/b43b2158aa30d9f9cb6fb3b13d4d1800a41c8777)**



---

archive/issue_comments_290077.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">Comment 27</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0b76f5762a5ae35818868410b44660ea59de10a4\">0b76f57</a></td><td><code>Error correction for \"precompute\" part of algorithm.</code></td></tr></table>\n",
    "created_at": "2016-11-25T20:44:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290077",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:27" align="right">Comment 27</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0b76f5762a5ae35818868410b44660ea59de10a4">0b76f57</a></td><td><code>Error correction for "precompute" part of algorithm.</code></td></tr></table>




---

archive/issue_comments_290078.json:
```json
{
    "body": "Changed commit from **[b43b215](https://github.com/sagemath/sagetrac-mirror/commit/b43b2158aa30d9f9cb6fb3b13d4d1800a41c8777)** to **[0b76f57](https://github.com/sagemath/sagetrac-mirror/commit/0b76f5762a5ae35818868410b44660ea59de10a4)**",
    "created_at": "2016-11-25T20:44:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290078",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[b43b215](https://github.com/sagemath/sagetrac-mirror/commit/b43b2158aa30d9f9cb6fb3b13d4d1800a41c8777)** to **[0b76f57](https://github.com/sagemath/sagetrac-mirror/commit/0b76f5762a5ae35818868410b44660ea59de10a4)**



---

archive/issue_comments_290079.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">Comment 28</div>\n\nShould work now, but haven't compiled yet.",
    "created_at": "2016-11-25T20:45:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290079",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:28" align="right">Comment 28</div>

Should work now, but haven't compiled yet.



---

archive/issue_comments_290080.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">Comment 29</div>\n\nI'm afraid you need to state what the \"precompute part\" does...",
    "created_at": "2016-11-25T22:33:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290080",
    "user": "https://github.com/mantepse"
}
```

<div id="comment:29" align="right">Comment 29</div>

I'm afraid you need to state what the "precompute part" does...



---

archive/issue_comments_290081.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">Comment 30</div>\n\nReplying to [@mantepse](#comment%3A29):\n> I'm afraid you need to state what the \"precompute part\" does...\n\n1) Fill given blocks to convex sublattices, i.e. to intervals, 2) unify those blocks that have common element, and 3) go back to 1, if there was some change done during 2.\n\nI am sure that there is a better way for this, but haven't invented it yet.\n\nE: Think about `L = Posets.DivisorLattice(100000)` and `L.congruence([[4,10],[40,100]])`. It will 1) fill `[4, 10]` to `[2, 4, 10, 20]` and fill `[40, 100]` to `[20, 40, 100, 200]`, then 2) combine them to `[2, 4, 10, 20, 40, 100, 200]` and last 1) fill that to `[2, 4, 8, 10, 20, 40, 50, 100, 200]`. This kind of fill-combine -process can continue for several rounds.\n\nOnly after this we will use the quadrilateral argument, which is our \"main compute part\".",
    "created_at": "2016-11-26T06:43:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290081",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:30" align="right">Comment 30</div>

Replying to [@mantepse](#comment%3A29):
> I'm afraid you need to state what the "precompute part" does...

1) Fill given blocks to convex sublattices, i.e. to intervals, 2) unify those blocks that have common element, and 3) go back to 1, if there was some change done during 2.

I am sure that there is a better way for this, but haven't invented it yet.

E: Think about `L = Posets.DivisorLattice(100000)` and `L.congruence([[4,10],[40,100]])`. It will 1) fill `[4, 10]` to `[2, 4, 10, 20]` and fill `[40, 100]` to `[20, 40, 100, 200]`, then 2) combine them to `[2, 4, 10, 20, 40, 100, 200]` and last 1) fill that to `[2, 4, 8, 10, 20, 40, 50, 100, 200]`. This kind of fill-combine -process can continue for several rounds.

Only after this we will use the quadrilateral argument, which is our "main compute part".



---

archive/issue_comments_290082.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">Comment 31</div>\n\nIs this the same as the smallest interval decomposition, such that each given block is part of an interval?\n\nIf so, this might be a separate method.",
    "created_at": "2016-11-26T07:59:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290082",
    "user": "https://github.com/mantepse"
}
```

<div id="comment:31" align="right">Comment 31</div>

Is this the same as the smallest interval decomposition, such that each given block is part of an interval?

If so, this might be a separate method.



---

archive/issue_comments_290083.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">Comment 32</div>\n\nReplying to [@mantepse](#comment%3A31):\n> Is this the same as the smallest interval decomposition, such that each given block is part of an interval?\n> \n> If so, this might be a separate method.\n\nNever before heard \"smallest interval decomposition\", but yes, I think that this is it. Can be separated, but maybe later?",
    "created_at": "2016-11-26T08:13:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290083",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:32" align="right">Comment 32</div>

Replying to [@mantepse](#comment%3A31):
> Is this the same as the smallest interval decomposition, such that each given block is part of an interval?
> 
> If so, this might be a separate method.

Never before heard "smallest interval decomposition", but yes, I think that this is it. Can be separated, but maybe later?



---

archive/issue_comments_290084.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,3 +2,4 @@\n \n This is part one, and only contains function to generate congruence. However, the function in `hasse_diagram.py` is made with above goals in mind.\n \n+Part two is #21861.\n``````\n",
    "created_at": "2016-11-26T09:18:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290084",
    "user": "https://github.com/jm58660"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,3 +2,4 @@
 
 This is part one, and only contains function to generate congruence. However, the function in `hasse_diagram.py` is made with above goals in mind.
 
+Part two is #21861.
``````




---

archive/issue_comments_290085.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">Comment 34</div>\n\nI thought I heard \"interval decomposition\" before, but I cannot find anything sensible right now.  Or is it \"interval partition\"?\n\nAnyway, similar to \"chain decomposition\"...",
    "created_at": "2016-11-26T09:38:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290085",
    "user": "https://github.com/mantepse"
}
```

<div id="comment:34" align="right">Comment 34</div>

I thought I heard "interval decomposition" before, but I cannot find anything sensible right now.  Or is it "interval partition"?

Anyway, similar to "chain decomposition"...



---

archive/issue_comments_290086.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">Comment 35</div>\n\nReplying to [@mantepse](#comment%3A34):\n> I thought I heard \"interval decomposition\" before, but I cannot find anything sensible right now.  Or is it \"interval partition\"?\n> \n> Anyway, similar to \"chain decomposition\"...\n\nIf this is wanted, I can later add that as a separate function.",
    "created_at": "2016-11-26T13:44:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290086",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:35" align="right">Comment 35</div>

Replying to [@mantepse](#comment%3A34):
> I thought I heard "interval decomposition" before, but I cannot find anything sensible right now.  Or is it "interval partition"?
> 
> Anyway, similar to "chain decomposition"...

If this is wanted, I can later add that as a separate function.



---

archive/issue_comments_290087.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">Comment 36</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f46f9abcf4721088d7c7993264a42a6eae4f4612\">f46f9ab</a></td><td><code>Output type changed.</code></td></tr></table>\n",
    "created_at": "2016-11-27T05:44:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290087",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:36" align="right">Comment 36</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f46f9abcf4721088d7c7993264a42a6eae4f4612">f46f9ab</a></td><td><code>Output type changed.</code></td></tr></table>




---

archive/issue_comments_290088.json:
```json
{
    "body": "Changed commit from **[0b76f57](https://github.com/sagemath/sagetrac-mirror/commit/0b76f5762a5ae35818868410b44660ea59de10a4)** to **[f46f9ab](https://github.com/sagemath/sagetrac-mirror/commit/f46f9abcf4721088d7c7993264a42a6eae4f4612)**",
    "created_at": "2016-11-27T05:44:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290088",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[0b76f57](https://github.com/sagemath/sagetrac-mirror/commit/0b76f5762a5ae35818868410b44660ea59de10a4)** to **[f46f9ab](https://github.com/sagemath/sagetrac-mirror/commit/f46f9abcf4721088d7c7993264a42a6eae4f4612)**



---

archive/issue_comments_290089.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">Comment 37</div>\n\nI thinked about this, and `SetPartition` feels clearly the right output type. It will also be good element type for congruence lattice.",
    "created_at": "2016-11-27T05:51:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290089",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:37" align="right">Comment 37</div>

I thinked about this, and `SetPartition` feels clearly the right output type. It will also be good element type for congruence lattice.



---

archive/issue_comments_290090.json:
```json
{
    "body": "Changed keywords from none to **kdilks**",
    "created_at": "2016-11-28T01:08:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290090",
    "user": "https://github.com/kevindilks"
}
```

Changed keywords from none to **kdilks**



---

archive/issue_comments_290091.json:
```json
{
    "body": "Changed keywords from **kdilks** to none",
    "created_at": "2016-11-28T04:33:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290091",
    "user": "https://github.com/jm58660"
}
```

Changed keywords from **kdilks** to none



---

archive/issue_comments_290092.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">Comment 40</div>\n\nAny progressa on reviewing this? Please ask if there is something I should clarify.",
    "created_at": "2016-12-15T08:38:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290092",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:40" align="right">Comment 40</div>

Any progressa on reviewing this? Please ask if there is something I should clarify.



---

archive/issue_comments_290093.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">Comment 41</div>\n\nsorry for the delay, this week, I promise!",
    "created_at": "2016-12-15T09:07:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290093",
    "user": "https://github.com/mantepse"
}
```

<div id="comment:41" align="right">Comment 41</div>

sorry for the delay, this week, I promise!



---

archive/issue_comments_290094.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">Comment 42</div>\n\nReplying to [@mantepse](#comment%3A41):\n> sorry for the delay, this week, I promise!\n\nThis is voluntary, and everyone has other life too, so no horry. But please ask if there is anything I can help.",
    "created_at": "2016-12-15T10:11:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290094",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:42" align="right">Comment 42</div>

Replying to [@mantepse](#comment%3A41):
> sorry for the delay, this week, I promise!

This is voluntary, and everyone has other life too, so no horry. But please ask if there is anything I can help.



---

archive/issue_events_265467.json:
```json
{
    "actor": "https://github.com/mantepse",
    "created_at": "2016-12-20T09:48:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20058#event-265467"
}
```



---

archive/issue_events_265468.json:
```json
{
    "actor": "https://github.com/mantepse",
    "created_at": "2016-12-20T09:48:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20058#event-265468"
}
```



---

archive/issue_comments_290095.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">Comment 43</div>\n\nPlayed around, checked some corner cases, found nothing to complain about.\n\nSorry for the huge delay.\n\nThank you for adding this!",
    "created_at": "2016-12-20T09:48:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290095",
    "user": "https://github.com/mantepse"
}
```

<div id="comment:43" align="right">Comment 43</div>

Played around, checked some corner cases, found nothing to complain about.

Sorry for the huge delay.

Thank you for adding this!



---

archive/issue_comments_290096.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">Comment 44</div>\n\nThanks! After rc1 (or 7.5 stable) I'll continue with others relating to this.",
    "created_at": "2016-12-20T10:06:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290096",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:44" align="right">Comment 44</div>

Thanks! After rc1 (or 7.5 stable) I'll continue with others relating to this.



---

archive/issue_comments_290097.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">Comment 45</div>\n\nForgot that 7.5 is in rc phase, so this will appear in 7.6.",
    "created_at": "2016-12-21T12:27:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290097",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:45" align="right">Comment 45</div>

Forgot that 7.5 is in rc phase, so this will appear in 7.6.



---

archive/issue_events_265469.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-12-21T12:27:50Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "milestone_number": null,
    "milestone_title": "sage-7.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20058#event-265469"
}
```



---

archive/issue_events_265470.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-12-21T12:27:50Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "milestone_number": null,
    "milestone_title": "sage-7.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20058#event-265470"
}
```



---

archive/issue_events_265471.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-01-18T20:40:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20058#event-265471"
}
```



---

archive/issue_events_265472.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "221035030ae8bcb23117c1336f67625c042737dc",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2017-01-18T20:40:00Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20058#event-265472"
}
```



---

archive/issue_comments_290098.json:
```json
{
    "body": "Changed branch from **[u/jmantysalo/latticeposets__add_congruence_related_functions](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/latticeposets__add_congruence_related_functions)** to **[f46f9ab](https://github.com/sagemath/sagetrac-mirror/commit/f46f9abcf4721088d7c7993264a42a6eae4f4612)**",
    "created_at": "2017-01-18T20:40:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20058",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20058#issuecomment-290098",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jmantysalo/latticeposets__add_congruence_related_functions](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/latticeposets__add_congruence_related_functions)** to **[f46f9ab](https://github.com/sagemath/sagetrac-mirror/commit/f46f9abcf4721088d7c7993264a42a6eae4f4612)**
