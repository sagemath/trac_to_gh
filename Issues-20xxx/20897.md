# Issue 20897: Fixes to SAGE_BANNER=bare support throughout

archive/issues_020660.json:
```json
{
    "assignees": [],
    "body": "#20322 fixed the standard `sage` CLI so that if `SAGE_BANNER=bare`, the simplified, non-unicode banner is displayed.\n\nHowever, there were several other places this directive was not obeyed.  First `sage --help` would still display the full banner regardless.  Second, the built-in `banner()` function (from what the banner file is generated) also does not obey `SAGE_BANNER=bare`.\n\nBecause there is code that calls `banner()` directly, it should still only display the simplified banner if the `SAGE_BANNER=bare` variable is set in the environment (this is particularly relevant in the Docker container on Windows...)\n\n(This bug caused a live demo to fail!  (Mysteriously the same demo did not fail when I tested it minutes earlier....not sure why it suddenly changed))\n\nBranch: **[`9e5e9a5`](https://github.com/sagemath/sagetrac-mirror/commit/9e5e9a57d87f8a9700bd06327b76ec23b4a978d5)**\n\nReviewer: **Fr\u00e9d\u00e9ric Chapoton**\n\nAuthor: **Erik Bray**\n\nComponent: **user interface**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/20897_\n\n",
    "closed_at": "2016-07-13T23:36:55Z",
    "created_at": "2016-06-28T14:01:37Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20user%20interface",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Fixes to SAGE_BANNER=bare support throughout",
    "type": "issue",
    "updated_at": "2016-07-15T09:43:32Z",
    "url": "https://github.com/sagemath/sage/issues/20897",
    "user": "https://github.com/embray"
}
```
#20322 fixed the standard `sage` CLI so that if `SAGE_BANNER=bare`, the simplified, non-unicode banner is displayed.

However, there were several other places this directive was not obeyed.  First `sage --help` would still display the full banner regardless.  Second, the built-in `banner()` function (from what the banner file is generated) also does not obey `SAGE_BANNER=bare`.

Because there is code that calls `banner()` directly, it should still only display the simplified banner if the `SAGE_BANNER=bare` variable is set in the environment (this is particularly relevant in the Docker container on Windows...)

(This bug caused a live demo to fail!  (Mysteriously the same demo did not fail when I tested it minutes earlier....not sure why it suddenly changed))

Branch: **[`9e5e9a5`](https://github.com/sagemath/sagetrac-mirror/commit/9e5e9a57d87f8a9700bd06327b76ec23b4a978d5)**

Reviewer: **Frédéric Chapoton**

Author: **Erik Bray**

Component: **user interface**

_Issue created by migration from https://trac.sagemath.org/ticket/20897_





---

archive/issue_events_291468.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-06-28T14:01:37Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "milestone_number": null,
    "milestone_title": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20897#event-291468"
}
```



---

archive/issue_events_291469.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-06-28T14:01:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20user%20interface",
    "label_color": "0000b0",
    "label_name": "c: user interface",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20897#event-291469"
}
```



---

archive/issue_events_291470.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-06-28T14:01:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20897#event-291470"
}
```



---

archive/issue_events_291471.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-06-28T14:01:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20897#event-291471"
}
```



---

archive/issue_events_291472.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-06-28T14:01:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20897#event-291472"
}
```



---

archive/issue_comments_303296.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nthis looks strange:\n\n```diff\n--- a/src/bin/sage-update-version\n+++ b/src/bin/sage-update-version\n@@ -46,9 +46,10 @@ EOF\n # Rebuild the Sage library for the change in version.py to take effect\n \"$SAGE_ROOT/sage\" -b\n \n-# Update Sage version file\n-echo \"SageMath version $SAGE_VERSION, Release Date: $SAGE_RELEASE_DATE\" \\\n-    > \"$SAGE_ROOT/VERSION.txt\"\n+# Update the simplified Sage banner\n+\"$SAGE_ROOT/sage\" --python -c \\\n+    \"import sage.misc.banner; sage.misc.banner.banner(full=False)\" \\\n+    > \"$SAGE_SRC/bin/VERSION.txt\"\n```\nDo you really want to change the place where VERSION.txt is stored ?",
    "created_at": "2016-06-28T18:24:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-303296",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:2" align="right">comment:2</div>

this looks strange:

```diff
--- a/src/bin/sage-update-version
+++ b/src/bin/sage-update-version
@@ -46,9 +46,10 @@ EOF
 # Rebuild the Sage library for the change in version.py to take effect
 "$SAGE_ROOT/sage" -b
 
-# Update Sage version file
-echo "SageMath version $SAGE_VERSION, Release Date: $SAGE_RELEASE_DATE" \
-    > "$SAGE_ROOT/VERSION.txt"
+# Update the simplified Sage banner
+"$SAGE_ROOT/sage" --python -c \
+    "import sage.misc.banner; sage.misc.banner.banner(full=False)" \
+    > "$SAGE_SRC/bin/VERSION.txt"
```
Do you really want to change the place where VERSION.txt is stored ?



---

archive/issue_comments_303297.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nOops, thanks for pointing that out.  No, that's a copy/paste error.",
    "created_at": "2016-06-29T08:19:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-303297",
    "user": "https://github.com/embray"
}
```

<div id="comment:3" align="right">comment:3</div>

Oops, thanks for pointing that out.  No, that's a copy/paste error.



---

archive/issue_comments_303298.json:
```json
{
    "body": "Changed commit from **[`41f98cf`](https://github.com/sagemath/sagetrac-mirror/commit/41f98cff8fbc052dd7fd0e3951ffb3a0252f8baf)** to **[`f890541`](https://github.com/sagemath/sagetrac-mirror/commit/f89054131b51774eae7ce66acd7bf6383448883d)**",
    "created_at": "2016-06-29T09:22:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-303298",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`41f98cf`](https://github.com/sagemath/sagetrac-mirror/commit/41f98cff8fbc052dd7fd0e3951ffb3a0252f8baf)** to **[`f890541`](https://github.com/sagemath/sagetrac-mirror/commit/f89054131b51774eae7ce66acd7bf6383448883d)**



---

archive/issue_comments_303299.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f89054131b51774eae7ce66acd7bf6383448883d\"><code>f890541</code></a></td><td><code>Change banner() to obey SAGE_BANNER='bare' universally.</code></td></tr></table>\n",
    "created_at": "2016-06-29T09:22:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-303299",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f89054131b51774eae7ce66acd7bf6383448883d"><code>f890541</code></a></td><td><code>Change banner() to obey SAGE_BANNER='bare' universally.</code></td></tr></table>




---

archive/issue_comments_303300.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nI fixed the error and rebased.",
    "created_at": "2016-06-29T09:23:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-303300",
    "user": "https://github.com/embray"
}
```

<div id="comment:5" align="right">comment:5</div>

I fixed the error and rebased.



---

archive/issue_comments_303301.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nYou cannot use SAGE_BANNER_TEXT at the beginning of \"sage\" script, as sage-env is not yet sourced. The banner here needs to come from a file.",
    "created_at": "2016-06-30T16:21:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-303301",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:6" align="right">comment:6</div>

You cannot use SAGE_BANNER_TEXT at the beginning of "sage" script, as sage-env is not yet sourced. The banner here needs to come from a file.



---

archive/issue_comments_303302.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nIt's only used directly in two functions: `help_banner` and `sage_setup`.  ISTM `sage-env` is sourced before either of this functions are used anywhere.",
    "created_at": "2016-06-30T16:46:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-303302",
    "user": "https://github.com/embray"
}
```

<div id="comment:7" align="right">comment:7</div>

It's only used directly in two functions: `help_banner` and `sage_setup`.  ISTM `sage-env` is sourced before either of this functions are used anywhere.



---

archive/issue_comments_303303.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nok, you are right.\n\nBut now I am worried by something else, in sage-update-version\n\nSAGE_RELEASE_DATE was used there and is no longer used anywhere. Are you creating some kind of circular thing, where nobody takes care of doing the real job ?",
    "created_at": "2016-06-30T17:02:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-303303",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:8" align="right">comment:8</div>

ok, you are right.

But now I am worried by something else, in sage-update-version

SAGE_RELEASE_DATE was used there and is no longer used anywhere. Are you creating some kind of circular thing, where nobody takes care of doing the real job ?



---

archive/issue_comments_303304.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nLet me take a look at that--I hadn't really paid attention to `SAGE_RELEASE_DATE`",
    "created_at": "2016-07-01T09:12:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-303304",
    "user": "https://github.com/embray"
}
```

<div id="comment:9" align="right">comment:9</div>

Let me take a look at that--I hadn't really paid attention to `SAGE_RELEASE_DATE`



---

archive/issue_comments_303305.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nOkay, I'm not sure what you mean by `SAGE_RELEASE_DATE` is no longer used anywhere.  It's used right in `sage-update-version` to write `$SAGE_SRC/bin/sage-version.sh` and `$SAGE_SRC/sage/version.py`.  That's where the `SAGE_VERSION` and `SAGE_RELEASE_DATE` values can be retrieved from at runtime.\n\nThe `VERSION.txt` file is mostly superfluous and I'm not sure why it's there exactly.",
    "created_at": "2016-07-01T09:20:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-303305",
    "user": "https://github.com/embray"
}
```

<div id="comment:10" align="right">comment:10</div>

Okay, I'm not sure what you mean by `SAGE_RELEASE_DATE` is no longer used anywhere.  It's used right in `sage-update-version` to write `$SAGE_SRC/bin/sage-version.sh` and `$SAGE_SRC/sage/version.py`.  That's where the `SAGE_VERSION` and `SAGE_RELEASE_DATE` values can be retrieved from at runtime.

The `VERSION.txt` file is mostly superfluous and I'm not sure why it's there exactly.



---

archive/issue_comments_303306.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nI would give a positive review if you would revert this change\n\n```diff\n-# Update Sage version file\n-echo \"SageMath version $SAGE_VERSION, Release Date: $SAGE_RELEASE_DATE\" \\\n+# Update the simplified Sage banner\n+\"$SAGE_ROOT/sage\" --python -c \\\n+    \"import sage.misc.banner; sage.misc.banner.banner(full=False)\" \\\n     > \"$SAGE_ROOT/VERSION.txt\"\n```",
    "created_at": "2016-07-11T12:54:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-303306",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:11" align="right">comment:11</div>

I would give a positive review if you would revert this change

```diff
-# Update Sage version file
-echo "SageMath version $SAGE_VERSION, Release Date: $SAGE_RELEASE_DATE" \
+# Update the simplified Sage banner
+"$SAGE_ROOT/sage" --python -c \
+    "import sage.misc.banner; sage.misc.banner.banner(full=False)" \
     > "$SAGE_ROOT/VERSION.txt"
```



---

archive/issue_comments_303307.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nWhy?  What's wrong with that change?\n\nIf anything it de-duplicates code.  The existing code there already outputs the *exact same* message as `sage.misc.banner.banner(full=False)`.  Why have two different implementations of outputting the same text, which *ought* to be outputting the same text, when they this point isn't well documented and could accidentally diverge?  It's also perfectly reasonably symmetric that the two types of \"banners\" are generated from the same code, with a different options (`full=True` vs (`full=False`).",
    "created_at": "2016-07-11T13:00:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-303307",
    "user": "https://github.com/embray"
}
```

<div id="comment:12" align="right">comment:12</div>

Why?  What's wrong with that change?

If anything it de-duplicates code.  The existing code there already outputs the *exact same* message as `sage.misc.banner.banner(full=False)`.  Why have two different implementations of outputting the same text, which *ought* to be outputting the same text, when they this point isn't well documented and could accidentally diverge?  It's also perfectly reasonably symmetric that the two types of "banners" are generated from the same code, with a different options (`full=True` vs (`full=False`).



---

archive/issue_comments_303308.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@embray](#comment%3A12):\n> Why?  What's wrong with that change?\n\nMaybe it's ok, but it will just take me more time to check that, for something not so important..",
    "created_at": "2016-07-11T13:05:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-303308",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@embray](#comment%3A12):
> Why?  What's wrong with that change?

Maybe it's ok, but it will just take me more time to check that, for something not so important..



---

archive/issue_comments_303309.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nIt seems that the argument `full` of `banner_text` is ignored.\n\nbanner_text always print the full banner, unless an environnement variable is changed..",
    "created_at": "2016-07-11T13:11:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-303309",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:14" align="right">comment:14</div>

It seems that the argument `full` of `banner_text` is ignored.

banner_text always print the full banner, unless an environnement variable is changed..



---

archive/issue_comments_303310.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nAh, you're right. I completely dropped some logic from that--it shouldn't pay any attention to `SAGE_BANNER` except by default (i.e. if `full=True/False` is not explicitly given).",
    "created_at": "2016-07-11T13:21:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-303310",
    "user": "https://github.com/embray"
}
```

<div id="comment:15" align="right">comment:15</div>

Ah, you're right. I completely dropped some logic from that--it shouldn't pay any attention to `SAGE_BANNER` except by default (i.e. if `full=True/False` is not explicitly given).



---

archive/issue_comments_303311.json:
```json
{
    "body": "Changed commit from **[`f890541`](https://github.com/sagemath/sagetrac-mirror/commit/f89054131b51774eae7ce66acd7bf6383448883d)** to **[`4314e4a`](https://github.com/sagemath/sagetrac-mirror/commit/4314e4ab786dbd1120ef143cce518f4cd9fcca11)**",
    "created_at": "2016-07-11T13:25:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-303311",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f890541`](https://github.com/sagemath/sagetrac-mirror/commit/f89054131b51774eae7ce66acd7bf6383448883d)** to **[`4314e4a`](https://github.com/sagemath/sagetrac-mirror/commit/4314e4ab786dbd1120ef143cce518f4cd9fcca11)**



---

archive/issue_comments_303312.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4314e4ab786dbd1120ef143cce518f4cd9fcca11\"><code>4314e4a</code></a></td><td><code>Fix the `full` option to `banner_text` to actually work as documented.</code></td></tr></table>\n",
    "created_at": "2016-07-11T13:25:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-303312",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4314e4ab786dbd1120ef143cce518f4cd9fcca11"><code>4314e4a</code></a></td><td><code>Fix the `full` option to `banner_text` to actually work as documented.</code></td></tr></table>




---

archive/issue_comments_303313.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@fchapoton](#comment%3A13):\n> Replying to [@embray](#comment%3A12):\n> > Why?  What's wrong with that change?\n\n> \n> Maybe it's ok, but it will just take me more time to check that, for something not so important..\n\nThere is already code [here](https://github.com/sagemath/sagetrac-mirror/blob/develop/src/sage/misc/banner.py?id=1ade53383dec21e76b7b00ffc031c30b7a5ddfee#n18) which prints the exact same thing as the `echo \"SageMath version $SAGE_VERSION, Release Date: $SAGE_RELEASE_DATE\"`.  I see no point in having two things that produce the same output.\n\nThe only reason I replace it with `banner(full=False)` instead of `version()` is for symmetry.  \n\n`banner()` was updated to wrap `version()` (by way of `full=False`) to incorporate consistent handling of the `SAGE_BANNER` environment variable, as `banner()` is already called in a few other parts of the code (including by sagenb) without respecting `SAGE_BANNER`.",
    "created_at": "2016-07-11T13:31:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-303313",
    "user": "https://github.com/embray"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@fchapoton](#comment%3A13):
> Replying to [@embray](#comment%3A12):
> > Why?  What's wrong with that change?

> 
> Maybe it's ok, but it will just take me more time to check that, for something not so important..

There is already code [here](https://github.com/sagemath/sagetrac-mirror/blob/develop/src/sage/misc/banner.py?id=1ade53383dec21e76b7b00ffc031c30b7a5ddfee#n18) which prints the exact same thing as the `echo "SageMath version $SAGE_VERSION, Release Date: $SAGE_RELEASE_DATE"`.  I see no point in having two things that produce the same output.

The only reason I replace it with `banner(full=False)` instead of `version()` is for symmetry.  

`banner()` was updated to wrap `version()` (by way of `full=False`) to incorporate consistent handling of the `SAGE_BANNER` environment variable, as `banner()` is already called in a few other parts of the code (including by sagenb) without respecting `SAGE_BANNER`.



---

archive/issue_comments_303314.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nok, ok. I am still not very convinced, but this is enough.\n\nCould you please add one doctest for `full=False` in `banner_text` ?\n\nThen I will give a positive review.",
    "created_at": "2016-07-11T13:51:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-303314",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:18" align="right">comment:18</div>

ok, ok. I am still not very convinced, but this is enough.

Could you please add one doctest for `full=False` in `banner_text` ?

Then I will give a positive review.



---

archive/issue_comments_303315.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nA doctest would be good to better define the expectation here.",
    "created_at": "2016-07-11T14:09:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-303315",
    "user": "https://github.com/embray"
}
```

<div id="comment:19" align="right">comment:19</div>

A doctest would be good to better define the expectation here.



---

archive/issue_comments_303316.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/14dc47e62aec1a944ac4a7b537e19d4016bc60b9\"><code>14dc47e</code></a></td><td><code>Added doctest demonstrating banner_text(full=False)</code></td></tr></table>\n",
    "created_at": "2016-07-11T14:11:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-303316",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/14dc47e62aec1a944ac4a7b537e19d4016bc60b9"><code>14dc47e</code></a></td><td><code>Added doctest demonstrating banner_text(full=False)</code></td></tr></table>




---

archive/issue_comments_303317.json:
```json
{
    "body": "Changed commit from **[`4314e4a`](https://github.com/sagemath/sagetrac-mirror/commit/4314e4ab786dbd1120ef143cce518f4cd9fcca11)** to **[`14dc47e`](https://github.com/sagemath/sagetrac-mirror/commit/14dc47e62aec1a944ac4a7b537e19d4016bc60b9)**",
    "created_at": "2016-07-11T14:11:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-303317",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4314e4a`](https://github.com/sagemath/sagetrac-mirror/commit/4314e4ab786dbd1120ef143cce518f4cd9fcca11)** to **[`14dc47e`](https://github.com/sagemath/sagetrac-mirror/commit/14dc47e62aec1a944ac4a7b537e19d4016bc60b9)**



---

archive/issue_comments_303318.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nok, then. This should work as far as I can tell. I hope there will be no unexpected side effect.",
    "created_at": "2016-07-11T14:19:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-303318",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:21" align="right">comment:21</div>

ok, then. This should work as far as I can tell. I hope there will be no unexpected side effect.



---

archive/issue_comments_303319.json:
```json
{
    "body": "Reviewer: **Fr\u00e9d\u00e9ric Chapoton**",
    "created_at": "2016-07-11T14:19:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-303319",
    "user": "https://github.com/fchapoton"
}
```

Reviewer: **Frédéric Chapoton**



---

archive/issue_events_291473.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-07-11T14:19:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20897#event-291473"
}
```



---

archive/issue_events_291474.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-07-11T14:19:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20897#event-291474"
}
```



---

archive/issue_comments_303320.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nI need to doublecheck, it seems that some doctests in misc are failing.",
    "created_at": "2016-07-11T14:48:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-303320",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:22" align="right">comment:22</div>

I need to doublecheck, it seems that some doctests in misc are failing.



---

archive/issue_events_291475.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-07-11T14:48:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20897#event-291475"
}
```



---

archive/issue_events_291476.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-07-11T14:48:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20897#event-291476"
}
```



---

archive/issue_comments_303321.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nand with the branch, running\n\n```\nsage\n```\nthe banner is displayed without line breaks..",
    "created_at": "2016-07-11T14:50:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-303321",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:23" align="right">comment:23</div>

and with the branch, running

```
sage
```
the banner is displayed without line breaks..



---

archive/issue_comments_303322.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nI got\n\n```\nsage -t src/sage/misc/lazy_attribute.pyx  # 1 doctest failed\nsage -t src/sage/misc/abstract_method.py  # 1 doctest failed\nsage -t src/sage/misc/temporary_file.py  # 1 doctest failed\n```",
    "created_at": "2016-07-11T15:05:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-303322",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:24" align="right">comment:24</div>

I got

```
sage -t src/sage/misc/lazy_attribute.pyx  # 1 doctest failed
sage -t src/sage/misc/abstract_method.py  # 1 doctest failed
sage -t src/sage/misc/temporary_file.py  # 1 doctest failed
```



---

archive/issue_comments_303323.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nOops!  I'll fix the line breaks thing.  That's just because there's missing quotes in the `echo`.",
    "created_at": "2016-07-12T07:56:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-303323",
    "user": "https://github.com/embray"
}
```

<div id="comment:25" align="right">comment:25</div>

Oops!  I'll fix the line breaks thing.  That's just because there's missing quotes in the `echo`.



---

archive/issue_comments_303324.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nFor the tests you have failing did you install the new code before running the tests?  Otherwise they'll definitely fail since they depend on what python sources are actually being tested.",
    "created_at": "2016-07-12T07:57:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-303324",
    "user": "https://github.com/embray"
}
```

<div id="comment:26" align="right">comment:26</div>

For the tests you have failing did you install the new code before running the tests?  Otherwise they'll definitely fail since they depend on what python sources are actually being tested.



---

archive/issue_comments_303325.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nI always use \"sage -bt\". The 3 lines above are copy-pasted from the output of the command. I think these 3 tests really fail.",
    "created_at": "2016-07-12T10:20:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-303325",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:27" align="right">comment:27</div>

I always use "sage -bt". The 3 lines above are copy-pasted from the output of the command. I think these 3 tests really fail.



---

archive/issue_comments_303326.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nYou'd have to show me how the tests are failing for you.  The one about `temporary_file.py` seems particularly unrelated.  The other two do contain related tests but I updated those tests to reflect these changes, as you can see in the diff.",
    "created_at": "2016-07-12T12:27:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-303326",
    "user": "https://github.com/embray"
}
```

<div id="comment:28" align="right">comment:28</div>

You'd have to show me how the tests are failing for you.  The one about `temporary_file.py` seems particularly unrelated.  The other two do contain related tests but I updated those tests to reflect these changes, as you can see in the diff.



---

archive/issue_comments_303327.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nHere they are (plus of course the missing line breaks)\n\n```\nsage -t src/sage/misc/abstract_method.py\n**********************************************************************\nFile \"src/sage/misc/abstract_method.py\", line 194, in sage.misc.abstract_method.AbstractMethod._sage_src_lines_\nFailed example:\n    lines\nExpected:\n    83\nGot:\n    99\n**********************************************************************\n**********************************************************************\nFile \"src/sage/misc/temporary_file.py\", line 47, in sage.misc.temporary_file.delete_tmpfiles\nFailed example:\n    os.path.isdir(parent_SAGE_TMP)\nExpected:\n    True\nGot:\n    False\n**********************************************************************\n**********************************************************************\nFile \"src/sage/misc/lazy_attribute.pyx\", line 90, in sage.misc.lazy_attribute._lazy_attribute._sage_src_lines_\nFailed example:\n    lines\nExpected:\n    83\nGot:\n    99\n**********************************************************************\n```",
    "created_at": "2016-07-12T18:11:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-303327",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:29" align="right">comment:29</div>

Here they are (plus of course the missing line breaks)

```
sage -t src/sage/misc/abstract_method.py
**********************************************************************
File "src/sage/misc/abstract_method.py", line 194, in sage.misc.abstract_method.AbstractMethod._sage_src_lines_
Failed example:
    lines
Expected:
    83
Got:
    99
**********************************************************************
**********************************************************************
File "src/sage/misc/temporary_file.py", line 47, in sage.misc.temporary_file.delete_tmpfiles
Failed example:
    os.path.isdir(parent_SAGE_TMP)
Expected:
    True
Got:
    False
**********************************************************************
**********************************************************************
File "src/sage/misc/lazy_attribute.pyx", line 90, in sage.misc.lazy_attribute._lazy_attribute._sage_src_lines_
Failed example:
    lines
Expected:
    83
Got:
    99
**********************************************************************
```



---

archive/issue_comments_303328.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nOh I see.  The *number* of source lines changed too, and there's a test for that.\n\nThe one you're getting from `temporary_file.py` really doesn't look related..",
    "created_at": "2016-07-13T10:27:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-303328",
    "user": "https://github.com/embray"
}
```

<div id="comment:30" align="right">comment:30</div>

Oh I see.  The *number* of source lines changed too, and there's a test for that.

The one you're getting from `temporary_file.py` really doesn't look related..



---

archive/issue_comments_303329.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nOkay, I investigated the `temporary_file.py` test and it is related.  It seems the banner is being printed when running `./sage -c` which I'm guessing is not meant to be the case.",
    "created_at": "2016-07-13T11:59:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-303329",
    "user": "https://github.com/embray"
}
```

<div id="comment:31" align="right">comment:31</div>

Okay, I investigated the `temporary_file.py` test and it is related.  It seems the banner is being printed when running `./sage -c` which I'm guessing is not meant to be the case.



---

archive/issue_comments_303330.json:
```json
{
    "body": "<div id=\"comment:32\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/540ddd4a3596129541ac76a80db8226f3d713ecb\"><code>540ddd4</code></a></td><td><code>Banner text should be quoted</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6457c74f09b8cdce3ab44829e4004541f09b66b3\"><code>6457c74</code></a></td><td><code>Restore the logic of not displaying any banner if SAGE_BANNER is explicitly 'no'</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9e5e9a57d87f8a9700bd06327b76ec23b4a978d5\"><code>9e5e9a5</code></a></td><td><code>These tests needed to be updated further since they also tested the number of lines in the test function (that happens to be 'banner', the length of which has changed).</code></td></tr></table>\n",
    "created_at": "2016-07-13T12:05:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-303330",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:32"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/540ddd4a3596129541ac76a80db8226f3d713ecb"><code>540ddd4</code></a></td><td><code>Banner text should be quoted</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6457c74f09b8cdce3ab44829e4004541f09b66b3"><code>6457c74</code></a></td><td><code>Restore the logic of not displaying any banner if SAGE_BANNER is explicitly 'no'</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9e5e9a57d87f8a9700bd06327b76ec23b4a978d5"><code>9e5e9a5</code></a></td><td><code>These tests needed to be updated further since they also tested the number of lines in the test function (that happens to be 'banner', the length of which has changed).</code></td></tr></table>




---

archive/issue_comments_303331.json:
```json
{
    "body": "Changed commit from **[`14dc47e`](https://github.com/sagemath/sagetrac-mirror/commit/14dc47e62aec1a944ac4a7b537e19d4016bc60b9)** to **[`9e5e9a5`](https://github.com/sagemath/sagetrac-mirror/commit/9e5e9a57d87f8a9700bd06327b76ec23b4a978d5)**",
    "created_at": "2016-07-13T12:05:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-303331",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`14dc47e`](https://github.com/sagemath/sagetrac-mirror/commit/14dc47e62aec1a944ac4a7b537e19d4016bc60b9)** to **[`9e5e9a5`](https://github.com/sagemath/sagetrac-mirror/commit/9e5e9a57d87f8a9700bd06327b76ec23b4a978d5)**



---

archive/issue_comments_303332.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nOkay, this should fix all the failing tests.  Thanks again chapoton for your careful review.",
    "created_at": "2016-07-13T12:07:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-303332",
    "user": "https://github.com/embray"
}
```

<div id="comment:33" align="right">comment:33</div>

Okay, this should fix all the failing tests.  Thanks again chapoton for your careful review.



---

archive/issue_events_291477.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-07-13T12:07:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20897#event-291477"
}
```



---

archive/issue_events_291478.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-07-13T12:07:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20897#event-291478"
}
```



---

archive/issue_comments_303333.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nShould be good now.",
    "created_at": "2016-07-13T12:35:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-303333",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:34" align="right">comment:34</div>

Should be good now.



---

archive/issue_events_291479.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-07-13T12:35:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20897#event-291479"
}
```



---

archive/issue_events_291480.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-07-13T12:35:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20897#event-291480"
}
```



---

archive/issue_comments_303334.json:
```json
{
    "body": "Changed branch from **[u/embray/sage-banner](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/sage-banner)** to **[`9e5e9a5`](https://github.com/sagemath/sagetrac-mirror/commit/9e5e9a57d87f8a9700bd06327b76ec23b4a978d5)**",
    "created_at": "2016-07-13T23:36:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-303334",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/embray/sage-banner](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/sage-banner)** to **[`9e5e9a5`](https://github.com/sagemath/sagetrac-mirror/commit/9e5e9a57d87f8a9700bd06327b76ec23b4a978d5)**



---

archive/issue_events_291481.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-07-13T23:36:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20897#event-291481"
}
```



---

archive/issue_events_291482.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "7cabd66379b87d17d5ee3b1ad0f8277562f80429",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-07-13T23:36:55Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20897#event-291482"
}
```



---

archive/issue_comments_303335.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nFollow-up: #21029",
    "created_at": "2016-07-15T09:43:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-303335",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:36" align="right">comment:36</div>

Follow-up: #21029



---

archive/issue_comments_303336.json:
```json
{
    "body": "Changed commit from **[`9e5e9a5`](https://github.com/sagemath/sagetrac-mirror/commit/9e5e9a57d87f8a9700bd06327b76ec23b4a978d5)** to none",
    "created_at": "2016-07-15T09:43:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-303336",
    "user": "https://github.com/jdemeyer"
}
```

Changed commit from **[`9e5e9a5`](https://github.com/sagemath/sagetrac-mirror/commit/9e5e9a57d87f8a9700bd06327b76ec23b4a978d5)** to none
