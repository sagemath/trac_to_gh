# Issue 20897: Fixes to SAGE_BANNER=bare support throughout

archive/issues_020660.json:
```json
{
    "assignees": [],
    "body": "#20322 fixed the standard `sage` CLI so that if `SAGE_BANNER=bare`, the simplified, non-unicode banner is displayed.\n\nHowever, there were several other places this directive was not obeyed.  First `sage --help` would still display the full banner regardless.  Second, the built-in `banner()` function (from what the banner file is generated) also does not obey `SAGE_BANNER=bare`.\n\nBecause there is code that calls `banner()` directly, it should still only display the simplified banner if the `SAGE_BANNER=bare` variable is set in the environment (this is particularly relevant in the Docker container on Windows...)\n\n(This bug caused a live demo to fail!  (Mysteriously the same demo did not fail when I tested it minutes earlier....not sure why it suddenly changed))\n\nBranch: **[9e5e9a5](https://github.com/sagemath/sagetrac-mirror/commit/9e5e9a57d87f8a9700bd06327b76ec23b4a978d5)**\n\nReviewer: **Fr\u00e9d\u00e9ric Chapoton**\n\nAuthor: **Erik Bray**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/20897_\n\n",
    "closed_at": "2016-07-13T23:36:55Z",
    "created_at": "2016-06-28T14:01:37Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20user%20interface",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Fixes to SAGE_BANNER=bare support throughout",
    "type": "issue",
    "updated_at": "2016-07-15T09:43:32Z",
    "url": "https://github.com/sagemath/sage/issues/20897",
    "user": "https://github.com/embray"
}
```
#20322 fixed the standard `sage` CLI so that if `SAGE_BANNER=bare`, the simplified, non-unicode banner is displayed.

However, there were several other places this directive was not obeyed.  First `sage --help` would still display the full banner regardless.  Second, the built-in `banner()` function (from what the banner file is generated) also does not obey `SAGE_BANNER=bare`.

Because there is code that calls `banner()` directly, it should still only display the simplified banner if the `SAGE_BANNER=bare` variable is set in the environment (this is particularly relevant in the Docker container on Windows...)

(This bug caused a live demo to fail!  (Mysteriously the same demo did not fail when I tested it minutes earlier....not sure why it suddenly changed))

Branch: **[9e5e9a5](https://github.com/sagemath/sagetrac-mirror/commit/9e5e9a57d87f8a9700bd06327b76ec23b4a978d5)**

Reviewer: **Frédéric Chapoton**

Author: **Erik Bray**

_Issue created by migration from https://trac.sagemath.org/ticket/20897_





---

archive/issue_events_276158.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-06-28T14:01:37Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "milestone_number": null,
    "milestone_title": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20897#event-276158"
}
```



---

archive/issue_events_276159.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-06-28T14:01:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20user%20interface",
    "label_color": "000080",
    "label_name": "component: user interface",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20897#event-276159"
}
```



---

archive/issue_events_276160.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-06-28T14:01:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20897#event-276160"
}
```



---

archive/issue_events_276161.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-06-28T14:01:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20897#event-276161"
}
```



---

archive/issue_events_276162.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-06-28T14:01:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20897#event-276162"
}
```



---

archive/issue_comments_305941.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nthis looks strange:\n\n```diff\n--- a/src/bin/sage-update-version\n+++ b/src/bin/sage-update-version\n@@ -46,9 +46,10 @@ EOF\n # Rebuild the Sage library for the change in version.py to take effect\n \"$SAGE_ROOT/sage\" -b\n \n-# Update Sage version file\n-echo \"SageMath version $SAGE_VERSION, Release Date: $SAGE_RELEASE_DATE\" \\\n-    > \"$SAGE_ROOT/VERSION.txt\"\n+# Update the simplified Sage banner\n+\"$SAGE_ROOT/sage\" --python -c \\\n+    \"import sage.misc.banner; sage.misc.banner.banner(full=False)\" \\\n+    > \"$SAGE_SRC/bin/VERSION.txt\"\n```\nDo you really want to change the place where VERSION.txt is stored ?",
    "created_at": "2016-06-28T18:24:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-305941",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:2'>Comment 2:</a>
this looks strange:

```diff
--- a/src/bin/sage-update-version
+++ b/src/bin/sage-update-version
@@ -46,9 +46,10 @@ EOF
 # Rebuild the Sage library for the change in version.py to take effect
 "$SAGE_ROOT/sage" -b
 
-# Update Sage version file
-echo "SageMath version $SAGE_VERSION, Release Date: $SAGE_RELEASE_DATE" \
-    > "$SAGE_ROOT/VERSION.txt"
+# Update the simplified Sage banner
+"$SAGE_ROOT/sage" --python -c \
+    "import sage.misc.banner; sage.misc.banner.banner(full=False)" \
+    > "$SAGE_SRC/bin/VERSION.txt"
```
Do you really want to change the place where VERSION.txt is stored ?



---

archive/issue_comments_305942.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nOops, thanks for pointing that out.  No, that's a copy/paste error.",
    "created_at": "2016-06-29T08:19:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-305942",
    "user": "https://github.com/embray"
}
```

<a id='comment:3'>Comment 3:</a>
Oops, thanks for pointing that out.  No, that's a copy/paste error.



---

archive/issue_comments_305943.json:
```json
{
    "body": "Changed commit from **[41f98cf](https://github.com/sagemath/sagetrac-mirror/commit/41f98cff8fbc052dd7fd0e3951ffb3a0252f8baf)** to **[f890541](https://github.com/sagemath/sagetrac-mirror/commit/f89054131b51774eae7ce66acd7bf6383448883d)**",
    "created_at": "2016-06-29T09:22:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-305943",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[41f98cf](https://github.com/sagemath/sagetrac-mirror/commit/41f98cff8fbc052dd7fd0e3951ffb3a0252f8baf)** to **[f890541](https://github.com/sagemath/sagetrac-mirror/commit/f89054131b51774eae7ce66acd7bf6383448883d)**



---

archive/issue_comments_305944.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f89054131b51774eae7ce66acd7bf6383448883d\">f890541</a></td><td><code>Change banner() to obey SAGE_BANNER='bare' universally.</code></td></tr></table>\n",
    "created_at": "2016-06-29T09:22:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-305944",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:4'>Comment 4:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f89054131b51774eae7ce66acd7bf6383448883d">f890541</a></td><td><code>Change banner() to obey SAGE_BANNER='bare' universally.</code></td></tr></table>




---

archive/issue_comments_305945.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nI fixed the error and rebased.",
    "created_at": "2016-06-29T09:23:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-305945",
    "user": "https://github.com/embray"
}
```

<a id='comment:5'>Comment 5:</a>
I fixed the error and rebased.



---

archive/issue_comments_305946.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nYou cannot use SAGE_BANNER_TEXT at the beginning of \"sage\" script, as sage-env is not yet sourced. The banner here needs to come from a file.",
    "created_at": "2016-06-30T16:21:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-305946",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'>Comment 6:</a>
You cannot use SAGE_BANNER_TEXT at the beginning of "sage" script, as sage-env is not yet sourced. The banner here needs to come from a file.



---

archive/issue_comments_305947.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nIt's only used directly in two functions: `help_banner` and `sage_setup`.  ISTM `sage-env` is sourced before either of this functions are used anywhere.",
    "created_at": "2016-06-30T16:46:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-305947",
    "user": "https://github.com/embray"
}
```

<a id='comment:7'>Comment 7:</a>
It's only used directly in two functions: `help_banner` and `sage_setup`.  ISTM `sage-env` is sourced before either of this functions are used anywhere.



---

archive/issue_comments_305948.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nok, you are right.\n\nBut now I am worried by something else, in sage-update-version\n\nSAGE_RELEASE_DATE was used there and is no longer used anywhere. Are you creating some kind of circular thing, where nobody takes care of doing the real job ?",
    "created_at": "2016-06-30T17:02:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-305948",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'>Comment 8:</a>
ok, you are right.

But now I am worried by something else, in sage-update-version

SAGE_RELEASE_DATE was used there and is no longer used anywhere. Are you creating some kind of circular thing, where nobody takes care of doing the real job ?



---

archive/issue_comments_305949.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nLet me take a look at that--I hadn't really paid attention to `SAGE_RELEASE_DATE`",
    "created_at": "2016-07-01T09:12:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-305949",
    "user": "https://github.com/embray"
}
```

<a id='comment:9'>Comment 9:</a>
Let me take a look at that--I hadn't really paid attention to `SAGE_RELEASE_DATE`



---

archive/issue_comments_305950.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nOkay, I'm not sure what you mean by `SAGE_RELEASE_DATE` is no longer used anywhere.  It's used right in `sage-update-version` to write `$SAGE_SRC/bin/sage-version.sh` and `$SAGE_SRC/sage/version.py`.  That's where the `SAGE_VERSION` and `SAGE_RELEASE_DATE` values can be retrieved from at runtime.\n\nThe `VERSION.txt` file is mostly superfluous and I'm not sure why it's there exactly.",
    "created_at": "2016-07-01T09:20:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-305950",
    "user": "https://github.com/embray"
}
```

<a id='comment:10'>Comment 10:</a>
Okay, I'm not sure what you mean by `SAGE_RELEASE_DATE` is no longer used anywhere.  It's used right in `sage-update-version` to write `$SAGE_SRC/bin/sage-version.sh` and `$SAGE_SRC/sage/version.py`.  That's where the `SAGE_VERSION` and `SAGE_RELEASE_DATE` values can be retrieved from at runtime.

The `VERSION.txt` file is mostly superfluous and I'm not sure why it's there exactly.



---

archive/issue_comments_305951.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nI would give a positive review if you would revert this change\n\n```diff\n-# Update Sage version file\n-echo \"SageMath version $SAGE_VERSION, Release Date: $SAGE_RELEASE_DATE\" \\\n+# Update the simplified Sage banner\n+\"$SAGE_ROOT/sage\" --python -c \\\n+    \"import sage.misc.banner; sage.misc.banner.banner(full=False)\" \\\n     > \"$SAGE_ROOT/VERSION.txt\"\n```",
    "created_at": "2016-07-11T12:54:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-305951",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:11'>Comment 11:</a>
I would give a positive review if you would revert this change

```diff
-# Update Sage version file
-echo "SageMath version $SAGE_VERSION, Release Date: $SAGE_RELEASE_DATE" \
+# Update the simplified Sage banner
+"$SAGE_ROOT/sage" --python -c \
+    "import sage.misc.banner; sage.misc.banner.banner(full=False)" \
     > "$SAGE_ROOT/VERSION.txt"
```



---

archive/issue_comments_305952.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nWhy?  What's wrong with that change?\n\nIf anything it de-duplicates code.  The existing code there already outputs the *exact same* message as `sage.misc.banner.banner(full=False)`.  Why have two different implementations of outputting the same text, which *ought* to be outputting the same text, when they this point isn't well documented and could accidentally diverge?  It's also perfectly reasonably symmetric that the two types of \"banners\" are generated from the same code, with a different options (`full=True` vs (`full=False`).",
    "created_at": "2016-07-11T13:00:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-305952",
    "user": "https://github.com/embray"
}
```

<a id='comment:12'>Comment 12:</a>
Why?  What's wrong with that change?

If anything it de-duplicates code.  The existing code there already outputs the *exact same* message as `sage.misc.banner.banner(full=False)`.  Why have two different implementations of outputting the same text, which *ought* to be outputting the same text, when they this point isn't well documented and could accidentally diverge?  It's also perfectly reasonably symmetric that the two types of "banners" are generated from the same code, with a different options (`full=True` vs (`full=False`).



---

archive/issue_comments_305953.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nReplying to [@embray](#comment%3A12):\n> Why?  What's wrong with that change?\n\nMaybe it's ok, but it will just take me more time to check that, for something not so important..",
    "created_at": "2016-07-11T13:05:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-305953",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:13'>Comment 13:</a>
Replying to [@embray](#comment%3A12):
> Why?  What's wrong with that change?

Maybe it's ok, but it will just take me more time to check that, for something not so important..



---

archive/issue_comments_305954.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nIt seems that the argument `full` of `banner_text` is ignored.\n\nbanner_text always print the full banner, unless an environnement variable is changed..",
    "created_at": "2016-07-11T13:11:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-305954",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:14'>Comment 14:</a>
It seems that the argument `full` of `banner_text` is ignored.

banner_text always print the full banner, unless an environnement variable is changed..



---

archive/issue_comments_305955.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nAh, you're right. I completely dropped some logic from that--it shouldn't pay any attention to `SAGE_BANNER` except by default (i.e. if `full=True/False` is not explicitly given).",
    "created_at": "2016-07-11T13:21:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-305955",
    "user": "https://github.com/embray"
}
```

<a id='comment:15'>Comment 15:</a>
Ah, you're right. I completely dropped some logic from that--it shouldn't pay any attention to `SAGE_BANNER` except by default (i.e. if `full=True/False` is not explicitly given).



---

archive/issue_comments_305956.json:
```json
{
    "body": "Changed commit from **[f890541](https://github.com/sagemath/sagetrac-mirror/commit/f89054131b51774eae7ce66acd7bf6383448883d)** to **[4314e4a](https://github.com/sagemath/sagetrac-mirror/commit/4314e4ab786dbd1120ef143cce518f4cd9fcca11)**",
    "created_at": "2016-07-11T13:25:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-305956",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[f890541](https://github.com/sagemath/sagetrac-mirror/commit/f89054131b51774eae7ce66acd7bf6383448883d)** to **[4314e4a](https://github.com/sagemath/sagetrac-mirror/commit/4314e4ab786dbd1120ef143cce518f4cd9fcca11)**



---

archive/issue_comments_305957.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4314e4ab786dbd1120ef143cce518f4cd9fcca11\">4314e4a</a></td><td><code>Fix the `full` option to `banner_text` to actually work as documented.</code></td></tr></table>\n",
    "created_at": "2016-07-11T13:25:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-305957",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:16'>Comment 16:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4314e4ab786dbd1120ef143cce518f4cd9fcca11">4314e4a</a></td><td><code>Fix the `full` option to `banner_text` to actually work as documented.</code></td></tr></table>




---

archive/issue_comments_305958.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nReplying to [@fchapoton](#comment%3A13):\n> Replying to [@embray](#comment%3A12):\n> > Why?  What's wrong with that change?\n\n> \n> Maybe it's ok, but it will just take me more time to check that, for something not so important..\n\nThere is already code [here](https://github.com/sagemath/sagetrac-mirror/blob/develop/src/sage/misc/banner.py?id=1ade53383dec21e76b7b00ffc031c30b7a5ddfee#n18) which prints the exact same thing as the `echo \"SageMath version $SAGE_VERSION, Release Date: $SAGE_RELEASE_DATE\"`.  I see no point in having two things that produce the same output.\n\nThe only reason I replace it with `banner(full=False)` instead of `version()` is for symmetry.  \n\n`banner()` was updated to wrap `version()` (by way of `full=False`) to incorporate consistent handling of the `SAGE_BANNER` environment variable, as `banner()` is already called in a few other parts of the code (including by sagenb) without respecting `SAGE_BANNER`.",
    "created_at": "2016-07-11T13:31:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-305958",
    "user": "https://github.com/embray"
}
```

<a id='comment:17'>Comment 17:</a>
Replying to [@fchapoton](#comment%3A13):
> Replying to [@embray](#comment%3A12):
> > Why?  What's wrong with that change?

> 
> Maybe it's ok, but it will just take me more time to check that, for something not so important..

There is already code [here](https://github.com/sagemath/sagetrac-mirror/blob/develop/src/sage/misc/banner.py?id=1ade53383dec21e76b7b00ffc031c30b7a5ddfee#n18) which prints the exact same thing as the `echo "SageMath version $SAGE_VERSION, Release Date: $SAGE_RELEASE_DATE"`.  I see no point in having two things that produce the same output.

The only reason I replace it with `banner(full=False)` instead of `version()` is for symmetry.  

`banner()` was updated to wrap `version()` (by way of `full=False`) to incorporate consistent handling of the `SAGE_BANNER` environment variable, as `banner()` is already called in a few other parts of the code (including by sagenb) without respecting `SAGE_BANNER`.



---

archive/issue_comments_305959.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nok, ok. I am still not very convinced, but this is enough.\n\nCould you please add one doctest for `full=False` in `banner_text` ?\n\nThen I will give a positive review.",
    "created_at": "2016-07-11T13:51:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-305959",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:18'>Comment 18:</a>
ok, ok. I am still not very convinced, but this is enough.

Could you please add one doctest for `full=False` in `banner_text` ?

Then I will give a positive review.



---

archive/issue_comments_305960.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nA doctest would be good to better define the expectation here.",
    "created_at": "2016-07-11T14:09:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-305960",
    "user": "https://github.com/embray"
}
```

<a id='comment:19'>Comment 19:</a>
A doctest would be good to better define the expectation here.



---

archive/issue_comments_305961.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/14dc47e62aec1a944ac4a7b537e19d4016bc60b9\">14dc47e</a></td><td><code>Added doctest demonstrating banner_text(full=False)</code></td></tr></table>\n",
    "created_at": "2016-07-11T14:11:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-305961",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:20'>Comment 20:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/14dc47e62aec1a944ac4a7b537e19d4016bc60b9">14dc47e</a></td><td><code>Added doctest demonstrating banner_text(full=False)</code></td></tr></table>




---

archive/issue_comments_305962.json:
```json
{
    "body": "Changed commit from **[4314e4a](https://github.com/sagemath/sagetrac-mirror/commit/4314e4ab786dbd1120ef143cce518f4cd9fcca11)** to **[14dc47e](https://github.com/sagemath/sagetrac-mirror/commit/14dc47e62aec1a944ac4a7b537e19d4016bc60b9)**",
    "created_at": "2016-07-11T14:11:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-305962",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[4314e4a](https://github.com/sagemath/sagetrac-mirror/commit/4314e4ab786dbd1120ef143cce518f4cd9fcca11)** to **[14dc47e](https://github.com/sagemath/sagetrac-mirror/commit/14dc47e62aec1a944ac4a7b537e19d4016bc60b9)**



---

archive/issue_comments_305963.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nok, then. This should work as far as I can tell. I hope there will be no unexpected side effect.",
    "created_at": "2016-07-11T14:19:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-305963",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:21'>Comment 21:</a>
ok, then. This should work as far as I can tell. I hope there will be no unexpected side effect.



---

archive/issue_comments_305964.json:
```json
{
    "body": "Reviewer: **Fr\u00e9d\u00e9ric Chapoton**",
    "created_at": "2016-07-11T14:19:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-305964",
    "user": "https://github.com/fchapoton"
}
```

Reviewer: **Frédéric Chapoton**



---

archive/issue_events_276163.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-07-11T14:19:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20897#event-276163"
}
```



---

archive/issue_events_276164.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-07-11T14:19:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20897#event-276164"
}
```



---

archive/issue_comments_305965.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nI need to doublecheck, it seems that some doctests in misc are failing.",
    "created_at": "2016-07-11T14:48:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-305965",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:22'>Comment 22:</a>
I need to doublecheck, it seems that some doctests in misc are failing.



---

archive/issue_events_276165.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-07-11T14:48:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20897#event-276165"
}
```



---

archive/issue_events_276166.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-07-11T14:48:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20897#event-276166"
}
```



---

archive/issue_comments_305966.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nand with the branch, running\n\n```\nsage\n```\nthe banner is displayed without line breaks..",
    "created_at": "2016-07-11T14:50:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-305966",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:23'>Comment 23:</a>
and with the branch, running

```
sage
```
the banner is displayed without line breaks..



---

archive/issue_comments_305967.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nI got\n\n```\nsage -t src/sage/misc/lazy_attribute.pyx  # 1 doctest failed\nsage -t src/sage/misc/abstract_method.py  # 1 doctest failed\nsage -t src/sage/misc/temporary_file.py  # 1 doctest failed\n```",
    "created_at": "2016-07-11T15:05:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-305967",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:24'>Comment 24:</a>
I got

```
sage -t src/sage/misc/lazy_attribute.pyx  # 1 doctest failed
sage -t src/sage/misc/abstract_method.py  # 1 doctest failed
sage -t src/sage/misc/temporary_file.py  # 1 doctest failed
```



---

archive/issue_comments_305968.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nOops!  I'll fix the line breaks thing.  That's just because there's missing quotes in the `echo`.",
    "created_at": "2016-07-12T07:56:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-305968",
    "user": "https://github.com/embray"
}
```

<a id='comment:25'>Comment 25:</a>
Oops!  I'll fix the line breaks thing.  That's just because there's missing quotes in the `echo`.



---

archive/issue_comments_305969.json:
```json
{
    "body": "<a id='comment:26'>Comment 26:</a>\nFor the tests you have failing did you install the new code before running the tests?  Otherwise they'll definitely fail since they depend on what python sources are actually being tested.",
    "created_at": "2016-07-12T07:57:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-305969",
    "user": "https://github.com/embray"
}
```

<a id='comment:26'>Comment 26:</a>
For the tests you have failing did you install the new code before running the tests?  Otherwise they'll definitely fail since they depend on what python sources are actually being tested.



---

archive/issue_comments_305970.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\nI always use \"sage -bt\". The 3 lines above are copy-pasted from the output of the command. I think these 3 tests really fail.",
    "created_at": "2016-07-12T10:20:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-305970",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:27'>Comment 27:</a>
I always use "sage -bt". The 3 lines above are copy-pasted from the output of the command. I think these 3 tests really fail.



---

archive/issue_comments_305971.json:
```json
{
    "body": "<a id='comment:28'>Comment 28:</a>\nYou'd have to show me how the tests are failing for you.  The one about `temporary_file.py` seems particularly unrelated.  The other two do contain related tests but I updated those tests to reflect these changes, as you can see in the diff.",
    "created_at": "2016-07-12T12:27:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-305971",
    "user": "https://github.com/embray"
}
```

<a id='comment:28'>Comment 28:</a>
You'd have to show me how the tests are failing for you.  The one about `temporary_file.py` seems particularly unrelated.  The other two do contain related tests but I updated those tests to reflect these changes, as you can see in the diff.



---

archive/issue_comments_305972.json:
```json
{
    "body": "<a id='comment:29'>Comment 29:</a>\nHere they are (plus of course the missing line breaks)\n\n```\nsage -t src/sage/misc/abstract_method.py\n**********************************************************************\nFile \"src/sage/misc/abstract_method.py\", line 194, in sage.misc.abstract_method.AbstractMethod._sage_src_lines_\nFailed example:\n    lines\nExpected:\n    83\nGot:\n    99\n**********************************************************************\n**********************************************************************\nFile \"src/sage/misc/temporary_file.py\", line 47, in sage.misc.temporary_file.delete_tmpfiles\nFailed example:\n    os.path.isdir(parent_SAGE_TMP)\nExpected:\n    True\nGot:\n    False\n**********************************************************************\n**********************************************************************\nFile \"src/sage/misc/lazy_attribute.pyx\", line 90, in sage.misc.lazy_attribute._lazy_attribute._sage_src_lines_\nFailed example:\n    lines\nExpected:\n    83\nGot:\n    99\n**********************************************************************\n```",
    "created_at": "2016-07-12T18:11:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-305972",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:29'>Comment 29:</a>
Here they are (plus of course the missing line breaks)

```
sage -t src/sage/misc/abstract_method.py
**********************************************************************
File "src/sage/misc/abstract_method.py", line 194, in sage.misc.abstract_method.AbstractMethod._sage_src_lines_
Failed example:
    lines
Expected:
    83
Got:
    99
**********************************************************************
**********************************************************************
File "src/sage/misc/temporary_file.py", line 47, in sage.misc.temporary_file.delete_tmpfiles
Failed example:
    os.path.isdir(parent_SAGE_TMP)
Expected:
    True
Got:
    False
**********************************************************************
**********************************************************************
File "src/sage/misc/lazy_attribute.pyx", line 90, in sage.misc.lazy_attribute._lazy_attribute._sage_src_lines_
Failed example:
    lines
Expected:
    83
Got:
    99
**********************************************************************
```



---

archive/issue_comments_305973.json:
```json
{
    "body": "<a id='comment:30'>Comment 30:</a>\nOh I see.  The *number* of source lines changed too, and there's a test for that.\n\nThe one you're getting from `temporary_file.py` really doesn't look related..",
    "created_at": "2016-07-13T10:27:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-305973",
    "user": "https://github.com/embray"
}
```

<a id='comment:30'>Comment 30:</a>
Oh I see.  The *number* of source lines changed too, and there's a test for that.

The one you're getting from `temporary_file.py` really doesn't look related..



---

archive/issue_comments_305974.json:
```json
{
    "body": "<a id='comment:31'>Comment 31:</a>\nOkay, I investigated the `temporary_file.py` test and it is related.  It seems the banner is being printed when running `./sage -c` which I'm guessing is not meant to be the case.",
    "created_at": "2016-07-13T11:59:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-305974",
    "user": "https://github.com/embray"
}
```

<a id='comment:31'>Comment 31:</a>
Okay, I investigated the `temporary_file.py` test and it is related.  It seems the banner is being printed when running `./sage -c` which I'm guessing is not meant to be the case.



---

archive/issue_comments_305975.json:
```json
{
    "body": "<a id='comment:32'>Comment 32:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/540ddd4a3596129541ac76a80db8226f3d713ecb\">540ddd4</a></td><td><code>Banner text should be quoted</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6457c74f09b8cdce3ab44829e4004541f09b66b3\">6457c74</a></td><td><code>Restore the logic of not displaying any banner if SAGE_BANNER is explicitly 'no'</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9e5e9a57d87f8a9700bd06327b76ec23b4a978d5\">9e5e9a5</a></td><td><code>These tests needed to be updated further since they also tested the number of lines in the test function (that happens to be 'banner', the length of which has changed).</code></td></tr></table>\n",
    "created_at": "2016-07-13T12:05:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-305975",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:32'>Comment 32:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/540ddd4a3596129541ac76a80db8226f3d713ecb">540ddd4</a></td><td><code>Banner text should be quoted</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6457c74f09b8cdce3ab44829e4004541f09b66b3">6457c74</a></td><td><code>Restore the logic of not displaying any banner if SAGE_BANNER is explicitly 'no'</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9e5e9a57d87f8a9700bd06327b76ec23b4a978d5">9e5e9a5</a></td><td><code>These tests needed to be updated further since they also tested the number of lines in the test function (that happens to be 'banner', the length of which has changed).</code></td></tr></table>




---

archive/issue_comments_305976.json:
```json
{
    "body": "Changed commit from **[14dc47e](https://github.com/sagemath/sagetrac-mirror/commit/14dc47e62aec1a944ac4a7b537e19d4016bc60b9)** to **[9e5e9a5](https://github.com/sagemath/sagetrac-mirror/commit/9e5e9a57d87f8a9700bd06327b76ec23b4a978d5)**",
    "created_at": "2016-07-13T12:05:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-305976",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[14dc47e](https://github.com/sagemath/sagetrac-mirror/commit/14dc47e62aec1a944ac4a7b537e19d4016bc60b9)** to **[9e5e9a5](https://github.com/sagemath/sagetrac-mirror/commit/9e5e9a57d87f8a9700bd06327b76ec23b4a978d5)**



---

archive/issue_comments_305977.json:
```json
{
    "body": "<a id='comment:33'>Comment 33:</a>\nOkay, this should fix all the failing tests.  Thanks again chapoton for your careful review.",
    "created_at": "2016-07-13T12:07:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-305977",
    "user": "https://github.com/embray"
}
```

<a id='comment:33'>Comment 33:</a>
Okay, this should fix all the failing tests.  Thanks again chapoton for your careful review.



---

archive/issue_events_276167.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-07-13T12:07:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20897#event-276167"
}
```



---

archive/issue_events_276168.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-07-13T12:07:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20897#event-276168"
}
```



---

archive/issue_comments_305978.json:
```json
{
    "body": "<a id='comment:34'>Comment 34:</a>\nShould be good now.",
    "created_at": "2016-07-13T12:35:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-305978",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:34'>Comment 34:</a>
Should be good now.



---

archive/issue_events_276169.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-07-13T12:35:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20897#event-276169"
}
```



---

archive/issue_events_276170.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-07-13T12:35:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20897#event-276170"
}
```



---

archive/issue_comments_305979.json:
```json
{
    "body": "Changed branch from **[u/embray/sage-banner](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/sage-banner)** to **[9e5e9a5](https://github.com/sagemath/sagetrac-mirror/commit/9e5e9a57d87f8a9700bd06327b76ec23b4a978d5)**",
    "created_at": "2016-07-13T23:36:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-305979",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/embray/sage-banner](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/sage-banner)** to **[9e5e9a5](https://github.com/sagemath/sagetrac-mirror/commit/9e5e9a57d87f8a9700bd06327b76ec23b4a978d5)**



---

archive/issue_events_276171.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-07-13T23:36:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20897#event-276171"
}
```



---

archive/issue_events_276172.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "7cabd66379b87d17d5ee3b1ad0f8277562f80429",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-07-13T23:36:55Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20897#event-276172"
}
```



---

archive/issue_comments_305980.json:
```json
{
    "body": "<a id='comment:36'>Comment 36:</a>\nFollow-up: #21029",
    "created_at": "2016-07-15T09:43:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-305980",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:36'>Comment 36:</a>
Follow-up: #21029



---

archive/issue_comments_305981.json:
```json
{
    "body": "Changed commit from **[9e5e9a5](https://github.com/sagemath/sagetrac-mirror/commit/9e5e9a57d87f8a9700bd06327b76ec23b4a978d5)** to none",
    "created_at": "2016-07-15T09:43:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20897",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20897#issuecomment-305981",
    "user": "https://github.com/jdemeyer"
}
```

Changed commit from **[9e5e9a5](https://github.com/sagemath/sagetrac-mirror/commit/9e5e9a57d87f8a9700bd06327b76ec23b4a978d5)** to none
