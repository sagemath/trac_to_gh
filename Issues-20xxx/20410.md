# Issue 20410: Tab completion for units

archive/issues_020173.json:
```json
{
    "body": "The units library lacks tab completion. This would help discovering units, and typing them it more quickly.\n\nCurrent:\n\n```\nsage: units\nCollection of units: acceleration amount_of_substance ... volume\nsage: units.mass\nCollection of units of mass: amu assay_ton ... tonne wey\nsage: units.m<tab>\n*does nothing*\n```\n\nThis implements:\n\n```\nsage: units.m<tab>\nmass ...\nsage: units.mass.p<tab>\nunits.mass.pennyweight  units.mass.pondus       units.mass.pound        units.mass.pound_troy   \n```\n\n(feature request from seing a friend using it).\n\n**Branch/Commit:** [e344fa54a33c1f8da38cfd021e27e7f9f3be9992](https://github.com/sagemath/sagetrac-mirror/commit/e344fa54a33c1f8da38cfd021e27e7f9f3be9992)\n\n**Reviewer:** Vincent Delecroix\n\n**Author:** Nicolas M. Thi\u00e9ry\n\nIssue created by migration from https://trac.sagemath.org/ticket/20410\n\n",
    "closed_at": "2016-04-14T21:56:57Z",
    "created_at": "2016-04-10T08:40:22Z",
    "labels": [
        "component: symbolics",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.2",
    "title": "Tab completion for units",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20410",
    "user": "https://github.com/nthiery"
}
```
The units library lacks tab completion. This would help discovering units, and typing them it more quickly.

Current:

```
sage: units
Collection of units: acceleration amount_of_substance ... volume
sage: units.mass
Collection of units of mass: amu assay_ton ... tonne wey
sage: units.m<tab>
*does nothing*
```

This implements:

```
sage: units.m<tab>
mass ...
sage: units.mass.p<tab>
units.mass.pennyweight  units.mass.pondus       units.mass.pound        units.mass.pound_troy   
```

(feature request from seing a friend using it).

**Branch/Commit:** [e344fa54a33c1f8da38cfd021e27e7f9f3be9992](https://github.com/sagemath/sagetrac-mirror/commit/e344fa54a33c1f8da38cfd021e27e7f9f3be9992)

**Reviewer:** Vincent Delecroix

**Author:** Nicolas M. Thiéry

Issue created by migration from https://trac.sagemath.org/ticket/20410





---

archive/issue_comments_354590.json:
```json
{
    "body": "**Branch:** [u/nthiery/tab_completion_for_units](https://github.com/sagemath/sagetrac-mirror/tree/u/nthiery/tab_completion_for_units)",
    "created_at": "2016-04-10T09:22:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20410#issuecomment-354590",
    "user": "https://github.com/nthiery"
}
```

**Branch:** [u/nthiery/tab_completion_for_units](https://github.com/sagemath/sagetrac-mirror/tree/u/nthiery/tab_completion_for_units)



---

archive/issue_comments_354591.json:
```json
{
    "body": "**Author:** Nicolas M. Thi\u00e9ry",
    "created_at": "2016-04-10T09:23:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20410#issuecomment-354591",
    "user": "https://github.com/nthiery"
}
```

**Author:** Nicolas M. Thiéry



---

archive/issue_comments_354592.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -18,7 +18,4 @@\n mass ...\n ```\n \n-\n-It's probably just a matter of defining `__dir__` appropriately.\n-\n (feature request from seing a friend using it).\n``````\n",
    "created_at": "2016-04-10T09:23:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20410#issuecomment-354592",
    "user": "https://github.com/nthiery"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -18,7 +18,4 @@
 mass ...
 ```
 
-
-It's probably just a matter of defining `__dir__` appropriately.
-
 (feature request from seing a friend using it).
``````




---

archive/issue_comments_354593.json:
```json
{
    "body": "**Commit:** [fcabf36196a9b13be52074b40ca71882160a60cc](https://github.com/sagemath/sagetrac-mirror/commit/fcabf36196a9b13be52074b40ca71882160a60cc)",
    "created_at": "2016-04-10T09:23:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20410#issuecomment-354593",
    "user": "https://github.com/nthiery"
}
```

**Commit:** [fcabf36196a9b13be52074b40ca71882160a60cc](https://github.com/sagemath/sagetrac-mirror/commit/fcabf36196a9b13be52074b40ca71882160a60cc)



---

archive/issue_comments_354594.json:
```json
{
    "body": "<a id='comment:2'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fcabf36196a9b13be52074b40ca71882160a60cc\">fcabf36</a></td><td><code>20410: implement tab completion on 'units' and 'units.*'</code></td></tr></table>\n",
    "created_at": "2016-04-10T09:23:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20410#issuecomment-354594",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:2'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fcabf36196a9b13be52074b40ca71882160a60cc">fcabf36</a></td><td><code>20410: implement tab completion on 'units' and 'units.*'</code></td></tr></table>




---

archive/issue_comments_354595.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2016-04-10T09:23:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20410#issuecomment-354595",
    "user": "https://github.com/nthiery"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_354596.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-The units library is very nice but lacks tab completion. This would help discovering units, and typing them it more quickly.\n+The units library lacks tab completion. This would help discovering units, and typing them it more quickly.\n \n Current:\n \n@@ -11,11 +11,13 @@\n *does nothing*\n ```\n \n-To be implemented:\n+This implements:\n \n ```\n sage: units.m<tab>\n mass ...\n+sage: units.mass.p<tab>\n+units.mass.pennyweight  units.mass.pondus       units.mass.pound        units.mass.pound_troy   \n ```\n \n (feature request from seing a friend using it).\n``````\n",
    "created_at": "2016-04-10T09:28:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20410#issuecomment-354596",
    "user": "https://github.com/nthiery"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-The units library is very nice but lacks tab completion. This would help discovering units, and typing them it more quickly.
+The units library lacks tab completion. This would help discovering units, and typing them it more quickly.
 
 Current:
 
@@ -11,11 +11,13 @@
 *does nothing*
 ```
 
-To be implemented:
+This implements:
 
 ```
 sage: units.m<tab>
 mass ...
+sage: units.mass.p<tab>
+units.mass.pennyweight  units.mass.pondus       units.mass.pound        units.mass.pound_troy   
 ```
 
 (feature request from seing a friend using it).
``````




---

archive/issue_comments_354597.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2016-04-10T15:07:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20410#issuecomment-354597",
    "user": "https://github.com/videlec"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_354598.json:
```json
{
    "body": "<a id='comment:4'></a>\nYou should remove the method `trait_names` that was used for that before (see #19951).\n\nYour solution break the completion of other methods\n\n```\nsage: units.__cmp__\n<bound method Units.__cmp__ of ...>\nsage: units.__<tab>\n* nothing *\n```\nOne solution would be to use the class `sage.interfaces.tab_completion.ExtraTabCompletion` (from #19923).",
    "created_at": "2016-04-10T15:07:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20410#issuecomment-354598",
    "user": "https://github.com/videlec"
}
```

<a id='comment:4'></a>
You should remove the method `trait_names` that was used for that before (see #19951).

Your solution break the completion of other methods

```
sage: units.__cmp__
<bound method Units.__cmp__ of ...>
sage: units.__<tab>
* nothing *
```
One solution would be to use the class `sage.interfaces.tab_completion.ExtraTabCompletion` (from #19923).



---

archive/issue_comments_354599.json:
```json
{
    "body": "**Reviewer:** Vincent Delecroix",
    "created_at": "2016-04-10T15:07:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20410#issuecomment-354599",
    "user": "https://github.com/videlec"
}
```

**Reviewer:** Vincent Delecroix



---

archive/issue_comments_354600.json:
```json
{
    "body": "<a id='comment:5'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2336cbb0bcf52c102c9ed4cd2a9005129df56f1e\">2336cbb</a></td><td><code>20410: reimplemented tab completion on top of ExtraTabCompletion, per suggestion of the reviewer</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e344fa54a33c1f8da38cfd021e27e7f9f3be9992\">e344fa5</a></td><td><code>20410: misc docstring syntax fixes</code></td></tr></table>\n",
    "created_at": "2016-04-12T20:55:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20410#issuecomment-354600",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2336cbb0bcf52c102c9ed4cd2a9005129df56f1e">2336cbb</a></td><td><code>20410: reimplemented tab completion on top of ExtraTabCompletion, per suggestion of the reviewer</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e344fa54a33c1f8da38cfd021e27e7f9f3be9992">e344fa5</a></td><td><code>20410: misc docstring syntax fixes</code></td></tr></table>




---

archive/issue_comments_354601.json:
```json
{
    "body": "**Changing commit** from \"[fcabf36196a9b13be52074b40ca71882160a60cc](https://github.com/sagemath/sagetrac-mirror/commit/fcabf36196a9b13be52074b40ca71882160a60cc)\" to \"[e344fa54a33c1f8da38cfd021e27e7f9f3be9992](https://github.com/sagemath/sagetrac-mirror/commit/e344fa54a33c1f8da38cfd021e27e7f9f3be9992)\".",
    "created_at": "2016-04-12T20:55:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20410#issuecomment-354601",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[fcabf36196a9b13be52074b40ca71882160a60cc](https://github.com/sagemath/sagetrac-mirror/commit/fcabf36196a9b13be52074b40ca71882160a60cc)" to "[e344fa54a33c1f8da38cfd021e27e7f9f3be9992](https://github.com/sagemath/sagetrac-mirror/commit/e344fa54a33c1f8da38cfd021e27e7f9f3be9992)".



---

archive/issue_comments_354602.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2016-04-12T20:59:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20410#issuecomment-354602",
    "user": "https://github.com/nthiery"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_354603.json:
```json
{
    "body": "<a id='comment:6'></a>\nThanks Vincent for the pointer!",
    "created_at": "2016-04-12T20:59:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20410#issuecomment-354603",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:6'></a>
Thanks Vincent for the pointer!



---

archive/issue_comments_354604.json:
```json
{
    "body": "<a id='comment:7'></a>\nGood to go. Thanks for taking the time of fixing it.",
    "created_at": "2016-04-12T21:59:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20410#issuecomment-354604",
    "user": "https://github.com/videlec"
}
```

<a id='comment:7'></a>
Good to go. Thanks for taking the time of fixing it.



---

archive/issue_comments_354605.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2016-04-12T21:59:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20410#issuecomment-354605",
    "user": "https://github.com/videlec"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_354606.json:
```json
{
    "body": "**Changing branch** from \"[u/nthiery/tab_completion_for_units](https://github.com/sagemath/sagetrac-mirror/tree/u/nthiery/tab_completion_for_units)\" to \"[e344fa54a33c1f8da38cfd021e27e7f9f3be9992](https://github.com/sagemath/sagetrac-mirror/commit/e344fa54a33c1f8da38cfd021e27e7f9f3be9992)\".",
    "created_at": "2016-04-14T21:56:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20410#issuecomment-354606",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/nthiery/tab_completion_for_units](https://github.com/sagemath/sagetrac-mirror/tree/u/nthiery/tab_completion_for_units)" to "[e344fa54a33c1f8da38cfd021e27e7f9f3be9992](https://github.com/sagemath/sagetrac-mirror/commit/e344fa54a33c1f8da38cfd021e27e7f9f3be9992)".



---

archive/issue_events_063102.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-04-14T21:56:57Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/20410",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20410#event-63102"
}
```
