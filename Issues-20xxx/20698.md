# Issue 20698: Revise initialization of generic algebraic curves

archive/issues_020461.json:
```json
{
    "body": "Revise the Curve function used for initializing generic algebraic curves to allow passing an ambient space in which to construct the curve. Also modify how the curve function works when passing in a subscheme so the ambient space of that subscheme is used instead of creating a new one.\n\nAdditionally, implement curve functions for affine/projective space for initializing curves in those ambient spaces.\n\nCC:  @bhutz @miguelmarco\n\nKeywords: gsoc2016\n\nReviewer: Ben Hutz\n\nAuthor: Grayson Jorgenson\n\nBranch: d4eb8d44b2e878582e19eafae0261b0214704a6c\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/20698\n\n",
    "closed_at": "2016-05-31T07:29:29Z",
    "created_at": "2016-05-28T05:54:21Z",
    "labels": [
        "component: algebraic geometry",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.3",
    "title": "Revise initialization of generic algebraic curves",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20698",
    "user": "https://trac.sagemath.org/admin/accounts/users/gjorgenson"
}
```
Revise the Curve function used for initializing generic algebraic curves to allow passing an ambient space in which to construct the curve. Also modify how the curve function works when passing in a subscheme so the ambient space of that subscheme is used instead of creating a new one.

Additionally, implement curve functions for affine/projective space for initializing curves in those ambient spaces.

CC:  @bhutz @miguelmarco

Keywords: gsoc2016

Reviewer: Ben Hutz

Author: Grayson Jorgenson

Branch: d4eb8d44b2e878582e19eafae0261b0214704a6c

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/20698





---

archive/issue_comments_376812.json:
```json
{
    "body": "Changing branch from \"\" to \"u/gjorgenson/ticket/20698\"",
    "created_at": "2016-05-28T05:54:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20698",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20698#issuecomment-376812",
    "user": "https://trac.sagemath.org/admin/accounts/users/gjorgenson"
}
```

Changing branch from "" to "u/gjorgenson/ticket/20698"



---

archive/issue_comments_376813.json:
```json
{
    "body": "Changing commit from \"\" to \"9cbdab3fdfa24144e1aacdf2b7c29d032f016049\"",
    "created_at": "2016-05-28T18:53:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20698",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20698#issuecomment-376813",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "9cbdab3fdfa24144e1aacdf2b7c29d032f016049"



---

archive/issue_comments_376814.json:
```json
{
    "body": "<a id='comment:2'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                  |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------|\n|[9cbdab3](http://git.sagemath.org/sage.git/commit/?id=9cbdab3fdfa24144e1aacdf2b7c29d032f016049)|`20698: revised initialization of generic curves.`|",
    "created_at": "2016-05-28T18:53:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20698",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20698#issuecomment-376814",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                  |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------|
|[9cbdab3](http://git.sagemath.org/sage.git/commit/?id=9cbdab3fdfa24144e1aacdf2b7c29d032f016049)|`20698: revised initialization of generic curves.`|



---

archive/issue_comments_376815.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-05-28T18:54:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20698",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20698#issuecomment-376815",
    "user": "https://trac.sagemath.org/admin/accounts/users/gjorgenson"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_376816.json:
```json
{
    "body": "<a id='comment:4'></a>\nJust a couple things here:\n\nIn the docs\n\n- doc build error\n\n```\nOSError: [plane_cur] /home/ben/sage/sage-dev/local/lib/python2.7/site-packages/sage/schemes/plane_curves/constructor.py:docstring of sage.schemes.plane_curves.constructor.Curve:16: ERROR: Unexpected indentation.\n```\n\n- also variables names should be in double quote, single quote are for math type setting\n\nalso some issues with the error messsages\n\n- Your raise is failing\n\n```\nA.<x,y,z> = ProjectiveSpace(QQ,2)\nX=A.subscheme([x^3 + y^3 + z^3,x-y])\nC = Curve(X);C\n```\n\n- the line wrap messed up the spacing\n\n```\nA.<x,y,z> = AffineSpace(QQ,3)\nA2.<u,v,w,t>=AffineSpace(QQ,4)\nC = Curve(x^3 + y^3 + z^3,A2);C\n```\n\nI didn't encounter any functionality issues.",
    "created_at": "2016-05-28T20:39:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20698",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20698#issuecomment-376816",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:4'></a>
Just a couple things here:

In the docs

- doc build error

```
OSError: [plane_cur] /home/ben/sage/sage-dev/local/lib/python2.7/site-packages/sage/schemes/plane_curves/constructor.py:docstring of sage.schemes.plane_curves.constructor.Curve:16: ERROR: Unexpected indentation.
```

- also variables names should be in double quote, single quote are for math type setting

also some issues with the error messsages

- Your raise is failing

```
A.<x,y,z> = ProjectiveSpace(QQ,2)
X=A.subscheme([x^3 + y^3 + z^3,x-y])
C = Curve(X);C
```

- the line wrap messed up the spacing

```
A.<x,y,z> = AffineSpace(QQ,3)
A2.<u,v,w,t>=AffineSpace(QQ,4)
C = Curve(x^3 + y^3 + z^3,A2);C
```

I didn't encounter any functionality issues.



---

archive/issue_comments_376817.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-05-28T20:39:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20698",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20698#issuecomment-376817",
    "user": "https://github.com/bhutz"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_376818.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Ben Hutz\"",
    "created_at": "2016-05-28T20:39:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20698",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20698#issuecomment-376818",
    "user": "https://github.com/bhutz"
}
```

Changing reviewer from "" to "Ben Hutz"



---

archive/issue_comments_376819.json:
```json
{
    "body": "<a id='comment:5'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                  |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------|\n|[b718afa](http://git.sagemath.org/sage.git/commit/?id=b718afabfb2e2233c67aca3ba92cb0150c28e100)|`20698: documentation and error formatting fixes.`|",
    "created_at": "2016-05-28T21:58:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20698",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20698#issuecomment-376819",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                  |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------|
|[b718afa](http://git.sagemath.org/sage.git/commit/?id=b718afabfb2e2233c67aca3ba92cb0150c28e100)|`20698: documentation and error formatting fixes.`|



---

archive/issue_comments_376820.json:
```json
{
    "body": "Changing commit from \"9cbdab3fdfa24144e1aacdf2b7c29d032f016049\" to \"b718afabfb2e2233c67aca3ba92cb0150c28e100\"",
    "created_at": "2016-05-28T21:58:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20698",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20698#issuecomment-376820",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "9cbdab3fdfa24144e1aacdf2b7c29d032f016049" to "b718afabfb2e2233c67aca3ba92cb0150c28e100"



---

archive/issue_comments_376821.json:
```json
{
    "body": "<a id='comment:6'></a>\nThanks, the issues should be resolved now.",
    "created_at": "2016-05-28T22:00:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20698",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20698#issuecomment-376821",
    "user": "https://trac.sagemath.org/admin/accounts/users/gjorgenson"
}
```

<a id='comment:6'></a>
Thanks, the issues should be resolved now.



---

archive/issue_comments_376822.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-05-28T22:00:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20698",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20698#issuecomment-376822",
    "user": "https://trac.sagemath.org/admin/accounts/users/gjorgenson"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_376823.json:
```json
{
    "body": "<a id='comment:7'></a>\nwell, the docs compile, but the formatting isn't right.\n\n- affine_space/curve\n- projective_space/curve\n- constructor/curve\n\ntake a look at the inputs.",
    "created_at": "2016-05-28T23:13:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20698",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20698#issuecomment-376823",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:7'></a>
well, the docs compile, but the formatting isn't right.

- affine_space/curve
- projective_space/curve
- constructor/curve

take a look at the inputs.



---

archive/issue_comments_376824.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-05-28T23:13:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20698",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20698#issuecomment-376824",
    "user": "https://github.com/bhutz"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_376825.json:
```json
{
    "body": "<a id='comment:8'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                     |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------|\n|[d4eb8d4](http://git.sagemath.org/sage.git/commit/?id=d4eb8d44b2e878582e19eafae0261b0214704a6c)|`20698: documentation spacing fixes.`|",
    "created_at": "2016-05-29T01:08:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20698",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20698#issuecomment-376825",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                     |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------|
|[d4eb8d4](http://git.sagemath.org/sage.git/commit/?id=d4eb8d44b2e878582e19eafae0261b0214704a6c)|`20698: documentation spacing fixes.`|



---

archive/issue_comments_376826.json:
```json
{
    "body": "Changing commit from \"b718afabfb2e2233c67aca3ba92cb0150c28e100\" to \"d4eb8d44b2e878582e19eafae0261b0214704a6c\"",
    "created_at": "2016-05-29T01:08:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20698",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20698#issuecomment-376826",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "b718afabfb2e2233c67aca3ba92cb0150c28e100" to "d4eb8d44b2e878582e19eafae0261b0214704a6c"



---

archive/issue_comments_376827.json:
```json
{
    "body": "<a id='comment:9'></a>\nOops, sorry. I changed the spacing and indentation, and the docs look better now.",
    "created_at": "2016-05-29T01:12:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20698",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20698#issuecomment-376827",
    "user": "https://trac.sagemath.org/admin/accounts/users/gjorgenson"
}
```

<a id='comment:9'></a>
Oops, sorry. I changed the spacing and indentation, and the docs look better now.



---

archive/issue_comments_376828.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-05-29T01:12:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20698",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20698#issuecomment-376828",
    "user": "https://trac.sagemath.org/admin/accounts/users/gjorgenson"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_376829.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-05-29T01:54:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20698",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20698#issuecomment-376829",
    "user": "https://github.com/bhutz"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_376830.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-05-31T07:29:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20698",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20698#issuecomment-376830",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_055678.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-05-31T07:29:29Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/20698",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20698#event-55678"
}
```



---

archive/issue_comments_376831.json:
```json
{
    "body": "Changing branch from \"u/gjorgenson/ticket/20698\" to \"d4eb8d44b2e878582e19eafae0261b0214704a6c\"",
    "created_at": "2016-05-31T07:29:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20698",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20698#issuecomment-376831",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/gjorgenson/ticket/20698" to "d4eb8d44b2e878582e19eafae0261b0214704a6c"



---

archive/issue_comments_376832.json:
```json
{
    "body": "Changing keywords from \"\" to \"gsoc2016\".",
    "created_at": "2016-06-02T14:39:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20698",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20698#issuecomment-376832",
    "user": "https://github.com/bhutz"
}
```

Changing keywords from "" to "gsoc2016".



---

archive/issue_comments_376833.json:
```json
{
    "body": "Changing commit from \"d4eb8d44b2e878582e19eafae0261b0214704a6c\" to \"\"",
    "created_at": "2016-06-02T14:39:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20698",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20698#issuecomment-376833",
    "user": "https://github.com/bhutz"
}
```

Changing commit from "d4eb8d44b2e878582e19eafae0261b0214704a6c" to ""
