# Issue 20500: LPAbstractDictionary: Refactor leaving_coefficients, entering_coefficients using new methods row_coefficients, column_coefficients

archive/issues_020263.json:
```json
{
    "body": "This is preparation for the cutting plane method (#18805 ), which needs to read out a row of the dictionary.\n(Seems cleaner than having to do \"leave(i), get leaving_coefficients(), leave(None)\".)\n\nThe patch is also adding `@`abstract_method stubs for the methods that the concrete dictionaries need to implement.\n\n**CC:**  @novoselt\n\n**Keywords:** lp\n\n**Branch/Commit:** [a382ec183561102e10c979a0f47d90b3f7625d59](https://github.com/sagemath/sagetrac-mirror/commit/a382ec183561102e10c979a0f47d90b3f7625d59)\n\n**Reviewer:** Andrey Novoseltsev\n\n**Author:** Peijun Xiao, Matthias Koeppe\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/20500\n\n",
    "closed_at": "2016-05-17T07:16:27Z",
    "created_at": "2016-04-26T00:38:41Z",
    "labels": [
        "component: numerical"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.2",
    "title": "LPAbstractDictionary: Refactor leaving_coefficients, entering_coefficients using new methods row_coefficients, column_coefficients",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20500",
    "user": "https://github.com/mkoeppe"
}
```
This is preparation for the cutting plane method (#18805 ), which needs to read out a row of the dictionary.
(Seems cleaner than having to do "leave(i), get leaving_coefficients(), leave(None)".)

The patch is also adding `@`abstract_method stubs for the methods that the concrete dictionaries need to implement.

**CC:**  @novoselt

**Keywords:** lp

**Branch/Commit:** [a382ec183561102e10c979a0f47d90b3f7625d59](https://github.com/sagemath/sagetrac-mirror/commit/a382ec183561102e10c979a0f47d90b3f7625d59)

**Reviewer:** Andrey Novoseltsev

**Author:** Peijun Xiao, Matthias Koeppe

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/20500





---

archive/issue_comments_375371.json:
```json
{
    "body": "**Branch:** [u/mkoeppe/lpabstractdictionary__refactor_leaving_coefficients__entering_coefficients_using_new_methods_row_coefficients__column_coefficients](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/lpabstractdictionary__refactor_leaving_coefficients__entering_coefficients_using_new_methods_row_coefficients__column_coefficients)",
    "created_at": "2016-04-26T00:57:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20500#issuecomment-375371",
    "user": "https://github.com/mkoeppe"
}
```

**Branch:** [u/mkoeppe/lpabstractdictionary__refactor_leaving_coefficients__entering_coefficients_using_new_methods_row_coefficients__column_coefficients](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/lpabstractdictionary__refactor_leaving_coefficients__entering_coefficients_using_new_methods_row_coefficients__column_coefficients)



---

archive/issue_comments_375372.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,2 @@\n-\n+This is preparation for the cutting plane method (#18805 ), which needs to read out a row of the dictionary.\n+(Seems cleaner than having to do \"leave(i), get leaving_coefficients(), leave(None)\".)\n``````\n",
    "created_at": "2016-04-26T04:00:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20500#issuecomment-375372",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,2 @@
-
+This is preparation for the cutting plane method (#18805 ), which needs to read out a row of the dictionary.
+(Seems cleaner than having to do "leave(i), get leaving_coefficients(), leave(None)".)
``````




---

archive/issue_comments_375373.json:
```json
{
    "body": "**Author:** Peijun Xiao, Matthias Koeppe",
    "created_at": "2016-04-26T04:00:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20500#issuecomment-375373",
    "user": "https://github.com/mkoeppe"
}
```

**Author:** Peijun Xiao, Matthias Koeppe



---

archive/issue_comments_375374.json:
```json
{
    "body": "<a id='comment:2'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d6ee048f324cc6aaaff2168c75ca9e3e6b7e337e\">d6ee048</a></td><td><code>Refactor leaving_coefficients in terms of new method row_coefficients</code></td></tr></table>\n",
    "created_at": "2016-04-26T04:00:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20500#issuecomment-375374",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d6ee048f324cc6aaaff2168c75ca9e3e6b7e337e">d6ee048</a></td><td><code>Refactor leaving_coefficients in terms of new method row_coefficients</code></td></tr></table>




---

archive/issue_comments_375375.json:
```json
{
    "body": "**Commit:** [d6ee048f324cc6aaaff2168c75ca9e3e6b7e337e](https://github.com/sagemath/sagetrac-mirror/commit/d6ee048f324cc6aaaff2168c75ca9e3e6b7e337e)",
    "created_at": "2016-04-26T04:00:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20500#issuecomment-375375",
    "user": "https://github.com/mkoeppe"
}
```

**Commit:** [d6ee048f324cc6aaaff2168c75ca9e3e6b7e337e](https://github.com/sagemath/sagetrac-mirror/commit/d6ee048f324cc6aaaff2168c75ca9e3e6b7e337e)



---

archive/issue_comments_375376.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3cbdeef954d18a45b33920911dffbc0f0e1442c9\">3cbdeef</a></td><td><code>Fixup</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/db52d0eb5b345453270a1b50c90f24fada275f1f\">db52d0e</a></td><td><code>Add @abstract_method methods to LPAbstractDictionary</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4e9955ec46e63490c8c884b9ca74111b42282fdb\">4e9955e</a></td><td><code>Refactor entering_coefficients in terms of new method column_coefficients</code></td></tr></table>\n",
    "created_at": "2016-04-26T21:21:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20500#issuecomment-375376",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3cbdeef954d18a45b33920911dffbc0f0e1442c9">3cbdeef</a></td><td><code>Fixup</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/db52d0eb5b345453270a1b50c90f24fada275f1f">db52d0e</a></td><td><code>Add @abstract_method methods to LPAbstractDictionary</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4e9955ec46e63490c8c884b9ca74111b42282fdb">4e9955e</a></td><td><code>Refactor entering_coefficients in terms of new method column_coefficients</code></td></tr></table>




---

archive/issue_comments_375377.json:
```json
{
    "body": "**Changing commit** from \"[d6ee048f324cc6aaaff2168c75ca9e3e6b7e337e](https://github.com/sagemath/sagetrac-mirror/commit/d6ee048f324cc6aaaff2168c75ca9e3e6b7e337e)\" to \"[4e9955ec46e63490c8c884b9ca74111b42282fdb](https://github.com/sagemath/sagetrac-mirror/commit/4e9955ec46e63490c8c884b9ca74111b42282fdb)\".",
    "created_at": "2016-04-26T21:21:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20500#issuecomment-375377",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[d6ee048f324cc6aaaff2168c75ca9e3e6b7e337e](https://github.com/sagemath/sagetrac-mirror/commit/d6ee048f324cc6aaaff2168c75ca9e3e6b7e337e)" to "[4e9955ec46e63490c8c884b9ca74111b42282fdb](https://github.com/sagemath/sagetrac-mirror/commit/4e9955ec46e63490c8c884b9ca74111b42282fdb)".



---

archive/issue_comments_375378.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,2 +1,4 @@\n This is preparation for the cutting plane method (#18805 ), which needs to read out a row of the dictionary.\n (Seems cleaner than having to do \"leave(i), get leaving_coefficients(), leave(None)\".)\n+\n+The patch is also adding `@`abstract_method stubs for the methods that the concrete dictionaries need to implement.\n``````\n",
    "created_at": "2016-04-26T21:23:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20500#issuecomment-375378",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,2 +1,4 @@
 This is preparation for the cutting plane method (#18805 ), which needs to read out a row of the dictionary.
 (Seems cleaner than having to do "leave(i), get leaving_coefficients(), leave(None)".)
+
+The patch is also adding `@`abstract_method stubs for the methods that the concrete dictionaries need to implement.
``````




---

archive/issue_comments_375379.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2016-04-26T21:23:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20500#issuecomment-375379",
    "user": "https://github.com/mkoeppe"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_375380.json:
```json
{
    "body": "**Reviewer:** Andrey Novoseltsev",
    "created_at": "2016-05-02T02:40:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20500#issuecomment-375380",
    "user": "https://github.com/novoselt"
}
```

**Reviewer:** Andrey Novoseltsev



---

archive/issue_comments_375381.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2016-05-02T02:40:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20500#issuecomment-375381",
    "user": "https://github.com/novoselt"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_375382.json:
```json
{
    "body": "<a id='comment:5'></a>\nI am not convinced there is much point in abstract methods, which leads to duplication of examples and tests, but in any way:\n\n- `leaving_coefficients` has wrong documentation\n- `column_coefficients` has wrong documentation twice",
    "created_at": "2016-05-02T02:40:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20500#issuecomment-375382",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:5'></a>
I am not convinced there is much point in abstract methods, which leads to duplication of examples and tests, but in any way:

- `leaving_coefficients` has wrong documentation
- `column_coefficients` has wrong documentation twice



---

archive/issue_comments_375383.json:
```json
{
    "body": "<a id='comment:6'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a382ec183561102e10c979a0f47d90b3f7625d59\">a382ec1</a></td><td><code>Fix documentation</code></td></tr></table>\n",
    "created_at": "2016-05-03T06:12:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20500#issuecomment-375383",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a382ec183561102e10c979a0f47d90b3f7625d59">a382ec1</a></td><td><code>Fix documentation</code></td></tr></table>




---

archive/issue_comments_375384.json:
```json
{
    "body": "**Changing commit** from \"[4e9955ec46e63490c8c884b9ca74111b42282fdb](https://github.com/sagemath/sagetrac-mirror/commit/4e9955ec46e63490c8c884b9ca74111b42282fdb)\" to \"[a382ec183561102e10c979a0f47d90b3f7625d59](https://github.com/sagemath/sagetrac-mirror/commit/a382ec183561102e10c979a0f47d90b3f7625d59)\".",
    "created_at": "2016-05-03T06:12:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20500#issuecomment-375384",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[4e9955ec46e63490c8c884b9ca74111b42282fdb](https://github.com/sagemath/sagetrac-mirror/commit/4e9955ec46e63490c8c884b9ca74111b42282fdb)" to "[a382ec183561102e10c979a0f47d90b3f7625d59](https://github.com/sagemath/sagetrac-mirror/commit/a382ec183561102e10c979a0f47d90b3f7625d59)".



---

archive/issue_comments_375385.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2016-05-03T06:13:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20500#issuecomment-375385",
    "user": "https://github.com/mkoeppe"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_375386.json:
```json
{
    "body": "<a id='comment:8'></a>\nReplying to [novoselt](#comment%3A5):\n> I am not convinced there is much point in abstract methods, which leads to duplication of examples and tests,\n\n\nI think it's quite nice in combination with `_test_not_implemented_methods` and as a documentation of the interface.\n\n>  but in any way:\n\n> \n> - `leaving_coefficients` has wrong documentation\n> - `column_coefficients` has wrong documentation twice\n\n\nFixed.",
    "created_at": "2016-05-03T06:18:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20500#issuecomment-375386",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:8'></a>
Replying to [novoselt](#comment%3A5):
> I am not convinced there is much point in abstract methods, which leads to duplication of examples and tests,


I think it's quite nice in combination with `_test_not_implemented_methods` and as a documentation of the interface.

>  but in any way:

> 
> - `leaving_coefficients` has wrong documentation
> - `column_coefficients` has wrong documentation twice


Fixed.



---

archive/issue_comments_375387.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2016-05-05T14:26:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20500#issuecomment-375387",
    "user": "https://github.com/novoselt"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_375388.json:
```json
{
    "body": "<a id='comment:9'></a>\nIt would be nice if documentation of abstract methods somehow \"propagated\" to concrete implementations so that there were no copy-pasted duplication. But that's of course orthogonal to this ticket.",
    "created_at": "2016-05-05T14:26:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20500#issuecomment-375388",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:9'></a>
It would be nice if documentation of abstract methods somehow "propagated" to concrete implementations so that there were no copy-pasted duplication. But that's of course orthogonal to this ticket.



---

archive/issue_comments_375389.json:
```json
{
    "body": "<a id='comment:10'></a>\nI suppose one could copy `__doc__` from the abstract method to the concrete one, but I'm not sure whether the patchbot that watches over code coverage would be happy.",
    "created_at": "2016-05-08T01:03:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20500#issuecomment-375389",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:10'></a>
I suppose one could copy `__doc__` from the abstract method to the concrete one, but I'm not sure whether the patchbot that watches over code coverage would be happy.



---

archive/issue_comments_375390.json:
```json
{
    "body": "**Changing branch** from \"[u/mkoeppe/lpabstractdictionary__refactor_leaving_coefficients__entering_coefficients_using_new_methods_row_coefficients__column_coefficients](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/lpabstractdictionary__refactor_leaving_coefficients__entering_coefficients_using_new_methods_row_coefficients__column_coefficients)\" to \"[a382ec183561102e10c979a0f47d90b3f7625d59](https://github.com/sagemath/sagetrac-mirror/commit/a382ec183561102e10c979a0f47d90b3f7625d59)\".",
    "created_at": "2016-05-17T07:16:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20500#issuecomment-375390",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/mkoeppe/lpabstractdictionary__refactor_leaving_coefficients__entering_coefficients_using_new_methods_row_coefficients__column_coefficients](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/lpabstractdictionary__refactor_leaving_coefficients__entering_coefficients_using_new_methods_row_coefficients__column_coefficients)" to "[a382ec183561102e10c979a0f47d90b3f7625d59](https://github.com/sagemath/sagetrac-mirror/commit/a382ec183561102e10c979a0f47d90b3f7625d59)".



---

archive/issue_comments_375391.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2016-05-17T07:16:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20500#issuecomment-375391",
    "user": "https://github.com/vbraun"
}
```

**Resolution:** fixed



---

archive/issue_events_062990.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-05-17T07:16:27Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/20500",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20500#event-62990"
}
```
