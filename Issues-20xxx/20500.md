# Issue 20500: LPAbstractDictionary: Refactor leaving_coefficients, entering_coefficients using new methods row_coefficients, column_coefficients

archive/issues_020263.json:
```json
{
    "body": "This is preparation for the cutting plane method (#18805 ), which needs to read out a row of the dictionary.\n(Seems cleaner than having to do \"leave(i), get leaving_coefficients(), leave(None)\".)\n\nThe patch is also adding `@`abstract_method stubs for the methods that the concrete dictionaries need to implement.\n\nCC:  @novoselt\n\nKeywords: lp\n\nBranch/Commit: a382ec183561102e10c979a0f47d90b3f7625d59\n\nReviewer: Andrey Novoseltsev\n\nAuthor: Peijun Xiao, Matthias Koeppe\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/20500\n\n",
    "closed_at": "2016-05-17T07:16:27Z",
    "created_at": "2016-04-26T00:38:41Z",
    "labels": [
        "component: numerical"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.2",
    "title": "LPAbstractDictionary: Refactor leaving_coefficients, entering_coefficients using new methods row_coefficients, column_coefficients",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20500",
    "user": "https://github.com/mkoeppe"
}
```
This is preparation for the cutting plane method (#18805 ), which needs to read out a row of the dictionary.
(Seems cleaner than having to do "leave(i), get leaving_coefficients(), leave(None)".)

The patch is also adding `@`abstract_method stubs for the methods that the concrete dictionaries need to implement.

CC:  @novoselt

Keywords: lp

Branch/Commit: a382ec183561102e10c979a0f47d90b3f7625d59

Reviewer: Andrey Novoseltsev

Author: Peijun Xiao, Matthias Koeppe

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/20500





---

archive/issue_comments_297095.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,5 @@\n-\n+This is preparation for the cutting plane method (#18805 ), which needs to read out a row of the dictionary.\n+(Seems cleaner than having to do \"leave(i), get leaving_coefficients(), leave(None)\".)\n \n Comment: 1\n \n```\n",
    "created_at": "2016-04-26T04:00:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20500#issuecomment-297095",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,5 @@
-
+This is preparation for the cutting plane method (#18805 ), which needs to read out a row of the dictionary.
+(Seems cleaner than having to do "leave(i), get leaving_coefficients(), leave(None)".)
 
 Comment: 1
 
```




---

archive/issue_comments_297096.json:
```json
{
    "body": "<a id='comment:2'></a>New commits:",
    "created_at": "2016-04-26T04:00:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20500#issuecomment-297096",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>New commits:



---

archive/issue_comments_297097.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-26T21:21:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20500#issuecomment-297097",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_297098.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,7 @@\n+This is preparation for the cutting plane method (#18805 ), which needs to read out a row of the dictionary.\n+(Seems cleaner than having to do \"leave(i), get leaving_coefficients(), leave(None)\".)\n \n+The patch is also adding `@`abstract_method stubs for the methods that the concrete dictionaries need to implement.\n \n Comment: 1\n \n```\n",
    "created_at": "2016-04-26T21:23:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20500#issuecomment-297098",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,7 @@
+This is preparation for the cutting plane method (#18805 ), which needs to read out a row of the dictionary.
+(Seems cleaner than having to do "leave(i), get leaving_coefficients(), leave(None)".)
 
+The patch is also adding `@`abstract_method stubs for the methods that the concrete dictionaries need to implement.
 
 Comment: 1
 
```




---

archive/issue_comments_297099.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-04-26T21:23:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20500#issuecomment-297099",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_297100.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-05-02T02:40:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20500#issuecomment-297100",
    "user": "https://github.com/novoselt"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_297101.json:
```json
{
    "body": "<a id='comment:5'></a>I am not convinced there is much point in abstract methods, which leads to duplication of examples and tests, but in any way:\n\n- `leaving_coefficients` has wrong documentation\n- `column_coefficients` has wrong documentation twice",
    "created_at": "2016-05-02T02:40:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20500#issuecomment-297101",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:5'></a>I am not convinced there is much point in abstract methods, which leads to duplication of examples and tests, but in any way:

- `leaving_coefficients` has wrong documentation
- `column_coefficients` has wrong documentation twice



---

archive/issue_comments_297102.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-05-03T06:12:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20500#issuecomment-297102",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_297103.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-05-03T06:13:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20500#issuecomment-297103",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_297104.json:
```json
{
    "body": "<a id='comment:8'></a>Replying to [comment:5 novoselt]:\n> I am not convinced there is much point in abstract methods, which leads to duplication of examples and tests,\n\n\nI think it's quite nice in combination with `_test_not_implemented_methods` and as a documentation of the interface.\n\n>  but in any way:\n\n> \n> - `leaving_coefficients` has wrong documentation\n> - `column_coefficients` has wrong documentation twice\n\n\nFixed.",
    "created_at": "2016-05-03T06:18:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20500#issuecomment-297104",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:8'></a>Replying to [comment:5 novoselt]:
> I am not convinced there is much point in abstract methods, which leads to duplication of examples and tests,


I think it's quite nice in combination with `_test_not_implemented_methods` and as a documentation of the interface.

>  but in any way:

> 
> - `leaving_coefficients` has wrong documentation
> - `column_coefficients` has wrong documentation twice


Fixed.



---

archive/issue_comments_297105.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-05-05T14:26:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20500#issuecomment-297105",
    "user": "https://github.com/novoselt"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_297106.json:
```json
{
    "body": "<a id='comment:9'></a>It would be nice if documentation of abstract methods somehow \"propagated\" to concrete implementations so that there were no copy-pasted duplication. But that's of course orthogonal to this ticket.",
    "created_at": "2016-05-05T14:26:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20500#issuecomment-297106",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:9'></a>It would be nice if documentation of abstract methods somehow "propagated" to concrete implementations so that there were no copy-pasted duplication. But that's of course orthogonal to this ticket.



---

archive/issue_comments_297107.json:
```json
{
    "body": "<a id='comment:10'></a>I suppose one could copy `__doc__` from the abstract method to the concrete one, but I'm not sure whether the patchbot that watches over code coverage would be happy.",
    "created_at": "2016-05-08T01:03:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20500#issuecomment-297107",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:10'></a>I suppose one could copy `__doc__` from the abstract method to the concrete one, but I'm not sure whether the patchbot that watches over code coverage would be happy.



---

archive/issue_comments_297108.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-05-17T07:16:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20500#issuecomment-297108",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_055395.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-05-17T07:16:27Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/20500",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20500#event-55395"
}
```
