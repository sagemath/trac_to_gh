# Issue 20525: gap_packages badly broken

archive/issues_020288.json:
```json
{
    "body": "With Sage 7.2.beta6 with `gap_packages` installed, within a `sage --gap` session:\n\n```\ngap> LoadPackage(\"HAPcryst\");\n#I  polymake command not found. Please set POLYMAKE_COMMAND by hand\n----------------------------------------------------------------\nLoading  polymaking 0.8.1\n(A package for using polymake in GAP)\nby Marc Roeder\n----------------------------------------------------------------\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nLoading  Cryst 4.1.12 (Computing with crystallographic groups)\nby Bettina Eick (http://www.icm.tu-bs.de/~beick/),\n   Franz G\u00e4hler (http://www.math.uni-bielefeld.de/~gaehler/), and\n   Werner Nickel (http://www.mathematik.tu-darmstadt.de/~nickel/).\nHomepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nLoading  CrystCat 1.1.6 (The crystallographic groups catalog)\nby Volkmar Felsch (http://www.math.rwth-aachen.de/~Volkmar.Felsch/) and\n   Franz G\u00e4hler (http://www.math.uni-bielefeld.de/~gaehler/).\nHomepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nLoading  AClib 1.2 (Almost Crystallographic Groups - A Library and Algorithms)\nby Karel Dekimpe (http://www.kulak.ac.be/~dekimpe) and\n   Bettina Eick (http://www.icm.tu-bs.de/~beick).\nHomepage: http://www.icm.tu-bs.de/~beick/so.html\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n#I  HAP warning: Set POLYMAKE_PATH manually if needed. \n#I  HAP warning: Set NEATO_PATH manually if needed.\n#I  HAP warning: Set DISPLAY_PATH manually if needed.\nError, <opr> is not an operation called from\n<compiled or corrupted statement>  called from\n<function \"local function\">( <arguments> )\n called from read-eval loop at line 162 of /usr/local/src/sage-git/local/gap/latest/pkg/Hap1.11/lib/HapCocyclic/gap/ccgroup.gi\nyou can 'quit;' to quit to outer loop, or\nyou can 'return;' to continue\n```\n\nA second issue is a mis-installation of guava:\n\n```\ngap> DirectoriesPackagePrograms(\"guava\")[1];\ndir(\"/usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13/bin/x86_64-unknown-linux-gnu-gcc-default64/\")\n```\n\nbut this directory does not exist, `bin` is missing below:\n\n```\n$ ls -l /usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13\ntotal 168\n-rw-r--r-- 1 jdemeyer jdemeyer 11775 Mar 19 23:17 CHANGES.guava\n-rwxr-xr-x 1 jdemeyer jdemeyer  1918 Mar 19 23:17 configure\n-rw-r--r-- 1 jdemeyer jdemeyer 51189 Mar 19 23:17 COPYING.guava\ndrwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 doc\n-rw-r--r-- 1 jdemeyer jdemeyer   368 Mar 19 23:17 gapdoc.g\n-rw-r--r-- 1 jdemeyer jdemeyer  2059 Mar 19 23:17 HISTORY.guava\n-rw-r--r-- 1 jdemeyer jdemeyer  1364 Mar 19 23:17 init.g\ndrwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 lib\n-rw-r--r-- 1 jdemeyer jdemeyer 35120 Mar 19 23:17 LICENSE\n-rw-r--r-- 1 jdemeyer jdemeyer  2858 Mar 19 23:17 Makefile.in\n-rw-r--r-- 1 jdemeyer jdemeyer 11638 Mar 19 23:17 PackageInfo.g\n-rw-r--r-- 1 jdemeyer jdemeyer  1420 Mar 19 23:17 read.g\n-rw-r--r-- 1 jdemeyer jdemeyer  4882 Mar 19 23:17 README.guava\n-rw-r--r-- 1 jdemeyer jdemeyer    98 Mar 19 23:17 README.md\ndrwxr-xr-x 4 jdemeyer jdemeyer  4096 Mar 30 00:32 src\ndrwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 tbl\ndrwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 tst\n```\n\n---\n\nThis causes doctest failures:\n\n```\nsage -t --long src/sage/tests/gap_packages.py\n**********************************************************************\nFile \"src/sage/tests/gap_packages.py\", line 8, in sage.tests.gap_packages\nFailed example:\n    test_packages(pkgs, only_failures=True)    # optional - gap_packages\nException raised:\n    Traceback (most recent call last):\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.tests.gap_packages[2]>\", line 1, in <module>\n        test_packages(pkgs, only_failures=True)    # optional - gap_packages\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 77, in test_packages\n        output = libgap.eval('LoadPackage(\"{0}\")'.format(pkg))\n      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n        return make_any_gap_element(self, gap_eval(gap_command))\n      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n        raise ValueError('libGAP: '+str(msg).strip())\n    ValueError: libGAP: Error, <opr> is not an operation\n**********************************************************************\nFile \"src/sage/tests/gap_packages.py\", line 47, in sage.tests.gap_packages.test_packages\nFailed example:\n    test_packages(['GAPDoc'])\nException raised:\n    Traceback (most recent call last):\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.tests.gap_packages.test_packages[1]>\", line 1, in <module>\n        test_packages(['GAPDoc'])\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 77, in test_packages\n        output = libgap.eval('LoadPackage(\"{0}\")'.format(pkg))\n      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n        return make_any_gap_element(self, gap_eval(gap_command))\n      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n        raise ValueError('libGAP: '+str(msg).strip())\n    ValueError: libGAP: \n**********************************************************************\nFile \"src/sage/tests/gap_packages.py\", line 54, in sage.tests.gap_packages.test_packages\nFailed example:\n    pkgs = all_installed_packages()\nException raised:\n    Traceback (most recent call last):\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.tests.gap_packages.test_packages[2]>\", line 1, in <module>\n        pkgs = all_installed_packages()\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 109, in all_installed_packages\n        for path in libgap.eval('GAP_ROOT_PATHS').sage():\n      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n        return make_any_gap_element(self, gap_eval(gap_command))\n      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n        raise ValueError('libGAP: '+str(msg).strip())\n    ValueError: libGAP: \n**********************************************************************\nFile \"src/sage/tests/gap_packages.py\", line 55, in sage.tests.gap_packages.test_packages\nFailed example:\n    test_packages(pkgs)    # random output\nException raised:\n    Traceback (most recent call last):\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.tests.gap_packages.test_packages[3]>\", line 1, in <module>\n        test_packages(pkgs)    # random output\n    NameError: name 'pkgs' is not defined\n**********************************************************************\nFile \"src/sage/tests/gap_packages.py\", line 105, in sage.tests.gap_packages.all_installed_packages\nFailed example:\n    all_installed_packages()\nException raised:\n    Traceback (most recent call last):\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.tests.gap_packages.all_installed_packages[1]>\", line 1, in <module>\n        all_installed_packages()\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 109, in all_installed_packages\n        for path in libgap.eval('GAP_ROOT_PATHS').sage():\n      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n        return make_any_gap_element(self, gap_eval(gap_command))\n      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n        raise ValueError('libGAP: '+str(msg).strip())\n    ValueError: libGAP: \n**********************************************************************\n3 items had failures:\n   1 of   4 in sage.tests.gap_packages\n   1 of   3 in sage.tests.gap_packages.all_installed_packages\n   3 of   5 in sage.tests.gap_packages.test_packages\n    [9 tests, 5 failures, 4.49 s]\nsage -t --long src/sage/coding/linear_code.py\n**********************************************************************\nFile \"src/sage/coding/linear_code.py\", line 3284, in sage.coding.linear_code.AbstractLinearCode.spectrum\nFailed example:\n    C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\nException raised:\n    Traceback (most recent call last):\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[8]>\", line 1, in <module>\n        C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n        errread, errwrite)\n      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n        raise child_exception\n    OSError: [Errno 2] No such file or directory\n**********************************************************************\nFile \"src/sage/coding/linear_code.py\", line 3292, in sage.coding.linear_code.AbstractLinearCode.spectrum\nFailed example:\n    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\nException raised:\n    Traceback (most recent call last):\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[12]>\", line 1, in <module>\n        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n        errread, errwrite)\n      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n        raise child_exception\n    OSError: [Errno 2] No such file or directory\n**********************************************************************\nFile \"src/sage/coding/linear_code.py\", line 3296, in sage.coding.linear_code.AbstractLinearCode.spectrum\nFailed example:\n    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\nException raised:\n    Traceback (most recent call last):\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[14]>\", line 1, in <module>\n        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n        errread, errwrite)\n      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n        raise child_exception\n    OSError: [Errno 2] No such file or directory\n**********************************************************************\nFile \"src/sage/coding/linear_code.py\", line 3300, in sage.coding.linear_code.AbstractLinearCode.spectrum\nFailed example:\n    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\nException raised:\n    Traceback (most recent call last):\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[16]>\", line 1, in <module>\n        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n        errread, errwrite)\n      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n        raise child_exception\n    OSError: [Errno 2] No such file or directory\n**********************************************************************\n1 item had failures:\n   4 of  18 in sage.coding.linear_code.AbstractLinearCode.spectrum\n    [634 tests, 4 failures, 26.04 s]\n----------------------------------------------------------------------\nsage -t --long src/sage/tests/gap_packages.py  # 5 doctests failed\nsage -t --long src/sage/coding/linear_code.py  # 4 doctests failed\n----------------------------------------------------------------------\n```\n\nCC:  @vbraun @dimpase\n\nBranch/Commit: 9afe2c3e4b7ebd82729d21439d684dbc0fdc5731\n\nReviewer: Jeroen Demeyer\n\nAuthor: Dima Pasechnik\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/20525\n\n",
    "closed_at": "2016-05-06T22:10:45Z",
    "created_at": "2016-05-01T04:09:04Z",
    "labels": [
        "component: packages: optional",
        "blocker",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.2",
    "title": "gap_packages badly broken",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20525",
    "user": "https://github.com/videlec"
}
```
With Sage 7.2.beta6 with `gap_packages` installed, within a `sage --gap` session:

```
gap> LoadPackage("HAPcryst");
#I  polymake command not found. Please set POLYMAKE_COMMAND by hand
----------------------------------------------------------------
Loading  polymaking 0.8.1
(A package for using polymake in GAP)
by Marc Roeder
----------------------------------------------------------------
─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
Loading  Cryst 4.1.12 (Computing with crystallographic groups)
by Bettina Eick (http://www.icm.tu-bs.de/~beick/),
   Franz Gähler (http://www.math.uni-bielefeld.de/~gaehler/), and
   Werner Nickel (http://www.mathematik.tu-darmstadt.de/~nickel/).
Homepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php
─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
Loading  CrystCat 1.1.6 (The crystallographic groups catalog)
by Volkmar Felsch (http://www.math.rwth-aachen.de/~Volkmar.Felsch/) and
   Franz Gähler (http://www.math.uni-bielefeld.de/~gaehler/).
Homepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php
─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
Loading  AClib 1.2 (Almost Crystallographic Groups - A Library and Algorithms)
by Karel Dekimpe (http://www.kulak.ac.be/~dekimpe) and
   Bettina Eick (http://www.icm.tu-bs.de/~beick).
Homepage: http://www.icm.tu-bs.de/~beick/so.html
─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
#I  HAP warning: Set POLYMAKE_PATH manually if needed. 
#I  HAP warning: Set NEATO_PATH manually if needed.
#I  HAP warning: Set DISPLAY_PATH manually if needed.
Error, <opr> is not an operation called from
<compiled or corrupted statement>  called from
<function "local function">( <arguments> )
 called from read-eval loop at line 162 of /usr/local/src/sage-git/local/gap/latest/pkg/Hap1.11/lib/HapCocyclic/gap/ccgroup.gi
you can 'quit;' to quit to outer loop, or
you can 'return;' to continue
```

A second issue is a mis-installation of guava:

```
gap> DirectoriesPackagePrograms("guava")[1];
dir("/usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13/bin/x86_64-unknown-linux-gnu-gcc-default64/")
```

but this directory does not exist, `bin` is missing below:

```
$ ls -l /usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13
total 168
-rw-r--r-- 1 jdemeyer jdemeyer 11775 Mar 19 23:17 CHANGES.guava
-rwxr-xr-x 1 jdemeyer jdemeyer  1918 Mar 19 23:17 configure
-rw-r--r-- 1 jdemeyer jdemeyer 51189 Mar 19 23:17 COPYING.guava
drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 doc
-rw-r--r-- 1 jdemeyer jdemeyer   368 Mar 19 23:17 gapdoc.g
-rw-r--r-- 1 jdemeyer jdemeyer  2059 Mar 19 23:17 HISTORY.guava
-rw-r--r-- 1 jdemeyer jdemeyer  1364 Mar 19 23:17 init.g
drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 lib
-rw-r--r-- 1 jdemeyer jdemeyer 35120 Mar 19 23:17 LICENSE
-rw-r--r-- 1 jdemeyer jdemeyer  2858 Mar 19 23:17 Makefile.in
-rw-r--r-- 1 jdemeyer jdemeyer 11638 Mar 19 23:17 PackageInfo.g
-rw-r--r-- 1 jdemeyer jdemeyer  1420 Mar 19 23:17 read.g
-rw-r--r-- 1 jdemeyer jdemeyer  4882 Mar 19 23:17 README.guava
-rw-r--r-- 1 jdemeyer jdemeyer    98 Mar 19 23:17 README.md
drwxr-xr-x 4 jdemeyer jdemeyer  4096 Mar 30 00:32 src
drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 tbl
drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 tst
```

---

This causes doctest failures:

```
sage -t --long src/sage/tests/gap_packages.py
**********************************************************************
File "src/sage/tests/gap_packages.py", line 8, in sage.tests.gap_packages
Failed example:
    test_packages(pkgs, only_failures=True)    # optional - gap_packages
Exception raised:
    Traceback (most recent call last):
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.tests.gap_packages[2]>", line 1, in <module>
        test_packages(pkgs, only_failures=True)    # optional - gap_packages
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 77, in test_packages
        output = libgap.eval('LoadPackage("{0}")'.format(pkg))
      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
        return make_any_gap_element(self, gap_eval(gap_command))
      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
        raise ValueError('libGAP: '+str(msg).strip())
    ValueError: libGAP: Error, <opr> is not an operation
**********************************************************************
File "src/sage/tests/gap_packages.py", line 47, in sage.tests.gap_packages.test_packages
Failed example:
    test_packages(['GAPDoc'])
Exception raised:
    Traceback (most recent call last):
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.tests.gap_packages.test_packages[1]>", line 1, in <module>
        test_packages(['GAPDoc'])
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 77, in test_packages
        output = libgap.eval('LoadPackage("{0}")'.format(pkg))
      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
        return make_any_gap_element(self, gap_eval(gap_command))
      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
        raise ValueError('libGAP: '+str(msg).strip())
    ValueError: libGAP: 
**********************************************************************
File "src/sage/tests/gap_packages.py", line 54, in sage.tests.gap_packages.test_packages
Failed example:
    pkgs = all_installed_packages()
Exception raised:
    Traceback (most recent call last):
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.tests.gap_packages.test_packages[2]>", line 1, in <module>
        pkgs = all_installed_packages()
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 109, in all_installed_packages
        for path in libgap.eval('GAP_ROOT_PATHS').sage():
      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
        return make_any_gap_element(self, gap_eval(gap_command))
      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
        raise ValueError('libGAP: '+str(msg).strip())
    ValueError: libGAP: 
**********************************************************************
File "src/sage/tests/gap_packages.py", line 55, in sage.tests.gap_packages.test_packages
Failed example:
    test_packages(pkgs)    # random output
Exception raised:
    Traceback (most recent call last):
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.tests.gap_packages.test_packages[3]>", line 1, in <module>
        test_packages(pkgs)    # random output
    NameError: name 'pkgs' is not defined
**********************************************************************
File "src/sage/tests/gap_packages.py", line 105, in sage.tests.gap_packages.all_installed_packages
Failed example:
    all_installed_packages()
Exception raised:
    Traceback (most recent call last):
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.tests.gap_packages.all_installed_packages[1]>", line 1, in <module>
        all_installed_packages()
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 109, in all_installed_packages
        for path in libgap.eval('GAP_ROOT_PATHS').sage():
      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
        return make_any_gap_element(self, gap_eval(gap_command))
      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
        raise ValueError('libGAP: '+str(msg).strip())
    ValueError: libGAP: 
**********************************************************************
3 items had failures:
   1 of   4 in sage.tests.gap_packages
   1 of   3 in sage.tests.gap_packages.all_installed_packages
   3 of   5 in sage.tests.gap_packages.test_packages
    [9 tests, 5 failures, 4.49 s]
sage -t --long src/sage/coding/linear_code.py
**********************************************************************
File "src/sage/coding/linear_code.py", line 3284, in sage.coding.linear_code.AbstractLinearCode.spectrum
Failed example:
    C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
Exception raised:
    Traceback (most recent call last):
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[8]>", line 1, in <module>
        C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
        process = Popen(stdout=PIPE, *popenargs, **kwargs)
      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
        errread, errwrite)
      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
        raise child_exception
    OSError: [Errno 2] No such file or directory
**********************************************************************
File "src/sage/coding/linear_code.py", line 3292, in sage.coding.linear_code.AbstractLinearCode.spectrum
Failed example:
    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
Exception raised:
    Traceback (most recent call last):
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[12]>", line 1, in <module>
        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
        process = Popen(stdout=PIPE, *popenargs, **kwargs)
      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
        errread, errwrite)
      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
        raise child_exception
    OSError: [Errno 2] No such file or directory
**********************************************************************
File "src/sage/coding/linear_code.py", line 3296, in sage.coding.linear_code.AbstractLinearCode.spectrum
Failed example:
    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
Exception raised:
    Traceback (most recent call last):
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[14]>", line 1, in <module>
        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
        process = Popen(stdout=PIPE, *popenargs, **kwargs)
      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
        errread, errwrite)
      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
        raise child_exception
    OSError: [Errno 2] No such file or directory
**********************************************************************
File "src/sage/coding/linear_code.py", line 3300, in sage.coding.linear_code.AbstractLinearCode.spectrum
Failed example:
    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
Exception raised:
    Traceback (most recent call last):
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[16]>", line 1, in <module>
        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
        process = Popen(stdout=PIPE, *popenargs, **kwargs)
      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
        errread, errwrite)
      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
        raise child_exception
    OSError: [Errno 2] No such file or directory
**********************************************************************
1 item had failures:
   4 of  18 in sage.coding.linear_code.AbstractLinearCode.spectrum
    [634 tests, 4 failures, 26.04 s]
----------------------------------------------------------------------
sage -t --long src/sage/tests/gap_packages.py  # 5 doctests failed
sage -t --long src/sage/coding/linear_code.py  # 4 doctests failed
----------------------------------------------------------------------
```

CC:  @vbraun @dimpase

Branch/Commit: 9afe2c3e4b7ebd82729d21439d684dbc0fdc5731

Reviewer: Jeroen Demeyer

Author: Dima Pasechnik

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/20525





---

archive/issue_comments_297516.json:
```json
{
    "body": "<a id='comment:1'></a>Attachment [failing_doctests-librae.log](tarball://root/attachments/some-uuid/ticket20525/failing_doctests-librae.log) by @videlec created at 2016-05-01 04:16:20",
    "created_at": "2016-05-01T04:16:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297516",
    "user": "https://github.com/videlec"
}
```

<a id='comment:1'></a>Attachment [failing_doctests-librae.log](tarball://root/attachments/some-uuid/ticket20525/failing_doctests-librae.log) by @videlec created at 2016-05-01 04:16:20



---

archive/issue_comments_297517.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,7 +1,7 @@\n Since #20182 there are some failing doctests related to optional packages\n \n-- \\`coding/linear_code.py\\`: related to Guava (gap package)\n-- \\`tests/gap_packages.py\\`: related to gap packages\n+- \\`coding/linear_code.py\\`: related to Guava (gap package) (see [failing_doctests-librae.log](http://trac.sagemath.org/attachment/ticket/20525/failing_doctests-librae.log))\n+- \\`tests/gap_packages.py\\`: related to gap packages (see [failing_doctests-librae.log](http://trac.sagemath.org/attachment/ticket/20525/failing_doctests-librae.log))\n \n Component: documentation\n \n```\n",
    "created_at": "2016-05-01T04:16:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297517",
    "user": "https://github.com/videlec"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,7 +1,7 @@
 Since #20182 there are some failing doctests related to optional packages
 
-- \`coding/linear_code.py\`: related to Guava (gap package)
-- \`tests/gap_packages.py\`: related to gap packages
+- \`coding/linear_code.py\`: related to Guava (gap package) (see [failing_doctests-librae.log](http://trac.sagemath.org/attachment/ticket/20525/failing_doctests-librae.log))
+- \`tests/gap_packages.py\`: related to gap packages (see [failing_doctests-librae.log](http://trac.sagemath.org/attachment/ticket/20525/failing_doctests-librae.log))
 
 Component: documentation
 
```




---

archive/issue_comments_297518.json:
```json
{
    "body": "<a id='comment:2'></a>Are you sure that #20182 has anything to do with this? It seems to me that something broke `gap_packages`.",
    "created_at": "2016-05-02T08:43:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297518",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:2'></a>Are you sure that #20182 has anything to do with this? It seems to me that something broke `gap_packages`.



---

archive/issue_comments_297519.json:
```json
{
    "body": "<a id='comment:3'></a>Reformulation: this was not *visible* before #20182.",
    "created_at": "2016-05-02T13:15:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297519",
    "user": "https://github.com/videlec"
}
```

<a id='comment:3'></a>Reformulation: this was not *visible* before #20182.



---

archive/issue_comments_297520.json:
```json
{
    "body": "<a id='comment:4'></a>First of all, what is the *exact command* that you ran to get those doctest failures?\n\nReplying to [comment:3 vdelecroix]:\n> this was not *visible* before #20182.\n\n\nDid you actually check this or are you just guessing? I.e. by applying #20182 on top of 7.2.beta5 or reverting #20182 from 7.2.beta6?",
    "created_at": "2016-05-02T13:19:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297520",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:4'></a>First of all, what is the *exact command* that you ran to get those doctest failures?

Replying to [comment:3 vdelecroix]:
> this was not *visible* before #20182.


Did you actually check this or are you just guessing? I.e. by applying #20182 on top of 7.2.beta5 or reverting #20182 from 7.2.beta6?



---

archive/issue_comments_297521.json:
```json
{
    "body": "<a id='comment:5'></a>Replying to [comment:4 jdemeyer]:\n> First of all, what is the *exact command* that you ran to get those doctest failures?\n\n\nAnd did you verify that the same exact command on Sage 7.2.beta5 did not give failures?",
    "created_at": "2016-05-02T13:24:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297521",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:5'></a>Replying to [comment:4 jdemeyer]:
> First of all, what is the *exact command* that you ran to get those doctest failures?


And did you verify that the same exact command on Sage 7.2.beta5 did not give failures?



---

archive/issue_comments_297522.json:
```json
{
    "body": "<a id='comment:6'></a>The exact command I ran was\n\n```\nfor pkg in A_LOT_OF_THINGS\ndo\n    sage -p $pkg\ndone\n\nsage -patchbot\n```\n\nNote that the failing doctests are optional (precisely `# optional - gap_packages`). The patchbot did not ran those before #20182.",
    "created_at": "2016-05-02T13:24:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297522",
    "user": "https://github.com/videlec"
}
```

<a id='comment:6'></a>The exact command I ran was

```
for pkg in A_LOT_OF_THINGS
do
    sage -p $pkg
done

sage -patchbot
```

Note that the failing doctests are optional (precisely `# optional - gap_packages`). The patchbot did not ran those before #20182.



---

archive/issue_comments_297523.json:
```json
{
    "body": "<a id='comment:7'></a>First of all, using `./sage -p $pkg` to install packages is not at all recommended (use `./sage -i $pkg` instead). Second, not running `make` before starting the patchbot is really wrong.",
    "created_at": "2016-05-02T13:46:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297523",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:7'></a>First of all, using `./sage -p $pkg` to install packages is not at all recommended (use `./sage -i $pkg` instead). Second, not running `make` before starting the patchbot is really wrong.



---

archive/issue_comments_297524.json:
```json
{
    "body": "<a id='comment:8'></a>Do you know the answer to [comment:5]?",
    "created_at": "2016-05-02T13:48:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297524",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:8'></a>Do you know the answer to [comment:5]?



---

archive/issue_comments_297525.json:
```json
{
    "body": "<a id='comment:9'></a>For the record, I can reproduce the problem. I'm just not convinced that #20182 is to blame.",
    "created_at": "2016-05-02T13:50:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297525",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:9'></a>For the record, I can reproduce the problem. I'm just not convinced that #20182 is to blame.



---

archive/issue_comments_297526.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,196 @@\n-\n+Since #20182 there are some failing doctests related to optional packages\n+\n+\\`\\`\\`\n+sage -t --long src/sage/tests/gap_packages.py\n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 8, in sage.tests.gap_packages\n+Failed example:\n+    test_packages(pkgs, only_failures=True)    # optional - gap_packages\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages[2]>\", line 1, in <module>\n+        test_packages(pkgs, only_failures=True)    # optional - gap_packages\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 77, in test_packages\n+        output = libgap.eval('LoadPackage(\"{0}\")'.format(pkg))\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: Error, <opr> is not an operation\n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 47, in sage.tests.gap_packages.test_packages\n+Failed example:\n+    test_packages(['GAPDoc'])\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.test_packages[1]>\", line 1, in <module>\n+        test_packages(['GAPDoc'])\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 77, in test_packages\n+        output = libgap.eval('LoadPackage(\"{0}\")'.format(pkg))\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: \n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 54, in sage.tests.gap_packages.test_packages\n+Failed example:\n+    pkgs = all_installed_packages()\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.test_packages[2]>\", line 1, in <module>\n+        pkgs = all_installed_packages()\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 109, in all_installed_packages\n+        for path in libgap.eval('GAP_ROOT_PATHS').sage():\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: \n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 55, in sage.tests.gap_packages.test_packages\n+Failed example:\n+    test_packages(pkgs)    # random output\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.test_packages[3]>\", line 1, in <module>\n+        test_packages(pkgs)    # random output\n+    NameError: name 'pkgs' is not defined\n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 105, in sage.tests.gap_packages.all_installed_packages\n+Failed example:\n+    all_installed_packages()\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.all_installed_packages[1]>\", line 1, in <module>\n+        all_installed_packages()\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 109, in all_installed_packages\n+        for path in libgap.eval('GAP_ROOT_PATHS').sage():\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: \n+**********************************************************************\n+3 items had failures:\n+   1 of   4 in sage.tests.gap_packages\n+   1 of   3 in sage.tests.gap_packages.all_installed_packages\n+   3 of   5 in sage.tests.gap_packages.test_packages\n+    [9 tests, 5 failures, 4.49 s]\n+sage -t --long src/sage/coding/linear_code.py\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3284, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[8]>\", line 1, in <module>\n+        C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3292, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[12]>\", line 1, in <module>\n+        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3296, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[14]>\", line 1, in <module>\n+        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3300, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[16]>\", line 1, in <module>\n+        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+1 item had failures:\n+   4 of  18 in sage.coding.linear_code.AbstractLinearCode.spectrum\n+    [634 tests, 4 failures, 26.04 s]\n+----------------------------------------------------------------------\n+sage -t --long src/sage/tests/gap_packages.py  # 5 doctests failed\n+sage -t --long src/sage/coding/linear_code.py  # 4 doctests failed\n+----------------------------------------------------------------------\n+\\`\\`\\`\n \n Component: documentation\n \n```\n",
    "created_at": "2016-05-02T13:51:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297526",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,196 @@
-
+Since #20182 there are some failing doctests related to optional packages
+
+\`\`\`
+sage -t --long src/sage/tests/gap_packages.py
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 8, in sage.tests.gap_packages
+Failed example:
+    test_packages(pkgs, only_failures=True)    # optional - gap_packages
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages[2]>", line 1, in <module>
+        test_packages(pkgs, only_failures=True)    # optional - gap_packages
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 77, in test_packages
+        output = libgap.eval('LoadPackage("{0}")'.format(pkg))
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: Error, <opr> is not an operation
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 47, in sage.tests.gap_packages.test_packages
+Failed example:
+    test_packages(['GAPDoc'])
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.test_packages[1]>", line 1, in <module>
+        test_packages(['GAPDoc'])
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 77, in test_packages
+        output = libgap.eval('LoadPackage("{0}")'.format(pkg))
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: 
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 54, in sage.tests.gap_packages.test_packages
+Failed example:
+    pkgs = all_installed_packages()
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.test_packages[2]>", line 1, in <module>
+        pkgs = all_installed_packages()
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 109, in all_installed_packages
+        for path in libgap.eval('GAP_ROOT_PATHS').sage():
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: 
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 55, in sage.tests.gap_packages.test_packages
+Failed example:
+    test_packages(pkgs)    # random output
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.test_packages[3]>", line 1, in <module>
+        test_packages(pkgs)    # random output
+    NameError: name 'pkgs' is not defined
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 105, in sage.tests.gap_packages.all_installed_packages
+Failed example:
+    all_installed_packages()
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.all_installed_packages[1]>", line 1, in <module>
+        all_installed_packages()
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 109, in all_installed_packages
+        for path in libgap.eval('GAP_ROOT_PATHS').sage():
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: 
+**********************************************************************
+3 items had failures:
+   1 of   4 in sage.tests.gap_packages
+   1 of   3 in sage.tests.gap_packages.all_installed_packages
+   3 of   5 in sage.tests.gap_packages.test_packages
+    [9 tests, 5 failures, 4.49 s]
+sage -t --long src/sage/coding/linear_code.py
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3284, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[8]>", line 1, in <module>
+        C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3292, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[12]>", line 1, in <module>
+        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3296, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[14]>", line 1, in <module>
+        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3300, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[16]>", line 1, in <module>
+        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+1 item had failures:
+   4 of  18 in sage.coding.linear_code.AbstractLinearCode.spectrum
+    [634 tests, 4 failures, 26.04 s]
+----------------------------------------------------------------------
+sage -t --long src/sage/tests/gap_packages.py  # 5 doctests failed
+sage -t --long src/sage/coding/linear_code.py  # 4 doctests failed
+----------------------------------------------------------------------
+\`\`\`
 
 Component: documentation
 
```




---

archive/issue_comments_297527.json:
```json
{
    "body": "Changing component from documentation to packages: optional.",
    "created_at": "2016-05-02T13:51:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297527",
    "user": "https://github.com/jdemeyer"
}
```

Changing component from documentation to packages: optional.



---

archive/issue_comments_297528.json:
```json
{
    "body": "<a id='comment:11'></a>Automatic testing of all installed optional packages was introduced in #18558",
    "created_at": "2016-05-02T14:06:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297528",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:11'></a>Automatic testing of all installed optional packages was introduced in #18558



---

archive/issue_comments_297529.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,7 @@\n+Since #20182 there are some failing doctests related to optional packages\n \n+- \\`coding/linear_code.py\\`: related to Guava (gap package) (see [failing_doctests-librae.log](http://trac.sagemath.org/attachment/ticket/20525/failing_doctests-librae.log))\n+- \\`tests/gap_packages.py\\`: related to gap packages (see [failing_doctests-librae.log](http://trac.sagemath.org/attachment/ticket/20525/failing_doctests-librae.log))\n \n Component: documentation\n \n```\n",
    "created_at": "2016-05-02T14:06:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297529",
    "user": "https://github.com/kwankyu"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,7 @@
+Since #20182 there are some failing doctests related to optional packages
 
+- \`coding/linear_code.py\`: related to Guava (gap package) (see [failing_doctests-librae.log](http://trac.sagemath.org/attachment/ticket/20525/failing_doctests-librae.log))
+- \`tests/gap_packages.py\`: related to gap packages (see [failing_doctests-librae.log](http://trac.sagemath.org/attachment/ticket/20525/failing_doctests-librae.log))
 
 Component: documentation
 
```




---

archive/issue_comments_297530.json:
```json
{
    "body": "Changing component from packages: optional to documentation.",
    "created_at": "2016-05-02T14:06:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297530",
    "user": "https://github.com/kwankyu"
}
```

Changing component from packages: optional to documentation.



---

archive/issue_comments_297531.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,196 @@\n-\n+With Sage 7.2.beta6:\n+\n+\\`\\`\\`\n+sage -t --long src/sage/tests/gap_packages.py\n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 8, in sage.tests.gap_packages\n+Failed example:\n+    test_packages(pkgs, only_failures=True)    # optional - gap_packages\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages[2]>\", line 1, in <module>\n+        test_packages(pkgs, only_failures=True)    # optional - gap_packages\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 77, in test_packages\n+        output = libgap.eval('LoadPackage(\"{0}\")'.format(pkg))\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: Error, <opr> is not an operation\n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 47, in sage.tests.gap_packages.test_packages\n+Failed example:\n+    test_packages(['GAPDoc'])\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.test_packages[1]>\", line 1, in <module>\n+        test_packages(['GAPDoc'])\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 77, in test_packages\n+        output = libgap.eval('LoadPackage(\"{0}\")'.format(pkg))\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: \n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 54, in sage.tests.gap_packages.test_packages\n+Failed example:\n+    pkgs = all_installed_packages()\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.test_packages[2]>\", line 1, in <module>\n+        pkgs = all_installed_packages()\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 109, in all_installed_packages\n+        for path in libgap.eval('GAP_ROOT_PATHS').sage():\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: \n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 55, in sage.tests.gap_packages.test_packages\n+Failed example:\n+    test_packages(pkgs)    # random output\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.test_packages[3]>\", line 1, in <module>\n+        test_packages(pkgs)    # random output\n+    NameError: name 'pkgs' is not defined\n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 105, in sage.tests.gap_packages.all_installed_packages\n+Failed example:\n+    all_installed_packages()\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.all_installed_packages[1]>\", line 1, in <module>\n+        all_installed_packages()\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 109, in all_installed_packages\n+        for path in libgap.eval('GAP_ROOT_PATHS').sage():\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: \n+**********************************************************************\n+3 items had failures:\n+   1 of   4 in sage.tests.gap_packages\n+   1 of   3 in sage.tests.gap_packages.all_installed_packages\n+   3 of   5 in sage.tests.gap_packages.test_packages\n+    [9 tests, 5 failures, 4.49 s]\n+sage -t --long src/sage/coding/linear_code.py\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3284, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[8]>\", line 1, in <module>\n+        C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3292, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[12]>\", line 1, in <module>\n+        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3296, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[14]>\", line 1, in <module>\n+        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3300, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[16]>\", line 1, in <module>\n+        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+1 item had failures:\n+   4 of  18 in sage.coding.linear_code.AbstractLinearCode.spectrum\n+    [634 tests, 4 failures, 26.04 s]\n+----------------------------------------------------------------------\n+sage -t --long src/sage/tests/gap_packages.py  # 5 doctests failed\n+sage -t --long src/sage/coding/linear_code.py  # 4 doctests failed\n+----------------------------------------------------------------------\n+\\`\\`\\`\n \n Component: documentation\n \n```\n",
    "created_at": "2016-05-02T14:42:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297531",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,196 @@
-
+With Sage 7.2.beta6:
+
+\`\`\`
+sage -t --long src/sage/tests/gap_packages.py
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 8, in sage.tests.gap_packages
+Failed example:
+    test_packages(pkgs, only_failures=True)    # optional - gap_packages
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages[2]>", line 1, in <module>
+        test_packages(pkgs, only_failures=True)    # optional - gap_packages
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 77, in test_packages
+        output = libgap.eval('LoadPackage("{0}")'.format(pkg))
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: Error, <opr> is not an operation
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 47, in sage.tests.gap_packages.test_packages
+Failed example:
+    test_packages(['GAPDoc'])
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.test_packages[1]>", line 1, in <module>
+        test_packages(['GAPDoc'])
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 77, in test_packages
+        output = libgap.eval('LoadPackage("{0}")'.format(pkg))
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: 
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 54, in sage.tests.gap_packages.test_packages
+Failed example:
+    pkgs = all_installed_packages()
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.test_packages[2]>", line 1, in <module>
+        pkgs = all_installed_packages()
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 109, in all_installed_packages
+        for path in libgap.eval('GAP_ROOT_PATHS').sage():
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: 
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 55, in sage.tests.gap_packages.test_packages
+Failed example:
+    test_packages(pkgs)    # random output
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.test_packages[3]>", line 1, in <module>
+        test_packages(pkgs)    # random output
+    NameError: name 'pkgs' is not defined
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 105, in sage.tests.gap_packages.all_installed_packages
+Failed example:
+    all_installed_packages()
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.all_installed_packages[1]>", line 1, in <module>
+        all_installed_packages()
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 109, in all_installed_packages
+        for path in libgap.eval('GAP_ROOT_PATHS').sage():
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: 
+**********************************************************************
+3 items had failures:
+   1 of   4 in sage.tests.gap_packages
+   1 of   3 in sage.tests.gap_packages.all_installed_packages
+   3 of   5 in sage.tests.gap_packages.test_packages
+    [9 tests, 5 failures, 4.49 s]
+sage -t --long src/sage/coding/linear_code.py
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3284, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[8]>", line 1, in <module>
+        C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3292, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[12]>", line 1, in <module>
+        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3296, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[14]>", line 1, in <module>
+        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3300, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[16]>", line 1, in <module>
+        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+1 item had failures:
+   4 of  18 in sage.coding.linear_code.AbstractLinearCode.spectrum
+    [634 tests, 4 failures, 26.04 s]
+----------------------------------------------------------------------
+sage -t --long src/sage/tests/gap_packages.py  # 5 doctests failed
+sage -t --long src/sage/coding/linear_code.py  # 4 doctests failed
+----------------------------------------------------------------------
+\`\`\`
 
 Component: documentation
 
```




---

archive/issue_comments_297532.json:
```json
{
    "body": "Changing component from documentation to packages: optional.",
    "created_at": "2016-05-02T14:42:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297532",
    "user": "https://github.com/jdemeyer"
}
```

Changing component from documentation to packages: optional.



---

archive/issue_comments_297533.json:
```json
{
    "body": "Changing priority from major to blocker.",
    "created_at": "2016-05-02T14:42:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297533",
    "user": "https://github.com/jdemeyer"
}
```

Changing priority from major to blocker.



---

archive/issue_comments_297534.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,222 @@\n-\n+With Sage 7.2.beta6:\n+\n+\\`\\`\\`\n+sage -t --long src/sage/tests/gap_packages.py\n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 8, in sage.tests.gap_packages\n+Failed example:\n+    test_packages(pkgs, only_failures=True)    # optional - gap_packages\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages[2]>\", line 1, in <module>\n+        test_packages(pkgs, only_failures=True)    # optional - gap_packages\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 77, in test_packages\n+        output = libgap.eval('LoadPackage(\"{0}\")'.format(pkg))\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: Error, <opr> is not an operation\n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 47, in sage.tests.gap_packages.test_packages\n+Failed example:\n+    test_packages(['GAPDoc'])\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.test_packages[1]>\", line 1, in <module>\n+        test_packages(['GAPDoc'])\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 77, in test_packages\n+        output = libgap.eval('LoadPackage(\"{0}\")'.format(pkg))\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: \n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 54, in sage.tests.gap_packages.test_packages\n+Failed example:\n+    pkgs = all_installed_packages()\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.test_packages[2]>\", line 1, in <module>\n+        pkgs = all_installed_packages()\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 109, in all_installed_packages\n+        for path in libgap.eval('GAP_ROOT_PATHS').sage():\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: \n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 55, in sage.tests.gap_packages.test_packages\n+Failed example:\n+    test_packages(pkgs)    # random output\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.test_packages[3]>\", line 1, in <module>\n+        test_packages(pkgs)    # random output\n+    NameError: name 'pkgs' is not defined\n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 105, in sage.tests.gap_packages.all_installed_packages\n+Failed example:\n+    all_installed_packages()\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.all_installed_packages[1]>\", line 1, in <module>\n+        all_installed_packages()\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 109, in all_installed_packages\n+        for path in libgap.eval('GAP_ROOT_PATHS').sage():\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: \n+**********************************************************************\n+3 items had failures:\n+   1 of   4 in sage.tests.gap_packages\n+   1 of   3 in sage.tests.gap_packages.all_installed_packages\n+   3 of   5 in sage.tests.gap_packages.test_packages\n+    [9 tests, 5 failures, 4.49 s]\n+sage -t --long src/sage/coding/linear_code.py\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3284, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[8]>\", line 1, in <module>\n+        C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3292, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[12]>\", line 1, in <module>\n+        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3296, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[14]>\", line 1, in <module>\n+        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3300, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[16]>\", line 1, in <module>\n+        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+1 item had failures:\n+   4 of  18 in sage.coding.linear_code.AbstractLinearCode.spectrum\n+    [634 tests, 4 failures, 26.04 s]\n+----------------------------------------------------------------------\n+sage -t --long src/sage/tests/gap_packages.py  # 5 doctests failed\n+sage -t --long src/sage/coding/linear_code.py  # 4 doctests failed\n+----------------------------------------------------------------------\n+\\`\\`\\`\n+\n+The failures in \\`gap_packages.py\\` are because of\n+\n+\\`\\`\\`\n+sage: libgap.eval('LoadPackage(\"HAPcryst\")')\n+---------------------------------------------------------------------------\n+ValueError                                Traceback (most recent call last)\n+<ipython-input-1-90cb9d4fcac6> in <module>()\n+----> 1 libgap.eval('LoadPackage(\"HAPcryst\")')\n+\n+/usr/local/src/sage-git/src/sage/libs/gap/libgap.pyx in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4168)()\n+    429         if not isinstance(gap_command, basestring):\n+    430             gap_command = str(gap_command._gap_init_())\n+--> 431         return make_any_gap_element(self, gap_eval(gap_command))\n+    432 \n+    433     @cached_method\n+\n+/usr/local/src/sage-git/src/sage/libs/gap/util.pyx in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4932)()\n+    286             sig_off()\n+    287         except RuntimeError as msg:\n+--> 288             raise ValueError('libGAP: '+str(msg).strip())\n+    289 \n+    290         if libGAP_Symbol != libGAP_S_SEMICOLON:\n+\n+ValueError: libGAP: Error, <opr> is not an operation\n+\\`\\`\\`\n \n Component: documentation\n \n```\n",
    "created_at": "2016-05-02T14:51:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297534",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,222 @@
-
+With Sage 7.2.beta6:
+
+\`\`\`
+sage -t --long src/sage/tests/gap_packages.py
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 8, in sage.tests.gap_packages
+Failed example:
+    test_packages(pkgs, only_failures=True)    # optional - gap_packages
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages[2]>", line 1, in <module>
+        test_packages(pkgs, only_failures=True)    # optional - gap_packages
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 77, in test_packages
+        output = libgap.eval('LoadPackage("{0}")'.format(pkg))
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: Error, <opr> is not an operation
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 47, in sage.tests.gap_packages.test_packages
+Failed example:
+    test_packages(['GAPDoc'])
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.test_packages[1]>", line 1, in <module>
+        test_packages(['GAPDoc'])
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 77, in test_packages
+        output = libgap.eval('LoadPackage("{0}")'.format(pkg))
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: 
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 54, in sage.tests.gap_packages.test_packages
+Failed example:
+    pkgs = all_installed_packages()
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.test_packages[2]>", line 1, in <module>
+        pkgs = all_installed_packages()
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 109, in all_installed_packages
+        for path in libgap.eval('GAP_ROOT_PATHS').sage():
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: 
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 55, in sage.tests.gap_packages.test_packages
+Failed example:
+    test_packages(pkgs)    # random output
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.test_packages[3]>", line 1, in <module>
+        test_packages(pkgs)    # random output
+    NameError: name 'pkgs' is not defined
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 105, in sage.tests.gap_packages.all_installed_packages
+Failed example:
+    all_installed_packages()
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.all_installed_packages[1]>", line 1, in <module>
+        all_installed_packages()
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 109, in all_installed_packages
+        for path in libgap.eval('GAP_ROOT_PATHS').sage():
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: 
+**********************************************************************
+3 items had failures:
+   1 of   4 in sage.tests.gap_packages
+   1 of   3 in sage.tests.gap_packages.all_installed_packages
+   3 of   5 in sage.tests.gap_packages.test_packages
+    [9 tests, 5 failures, 4.49 s]
+sage -t --long src/sage/coding/linear_code.py
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3284, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[8]>", line 1, in <module>
+        C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3292, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[12]>", line 1, in <module>
+        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3296, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[14]>", line 1, in <module>
+        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3300, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[16]>", line 1, in <module>
+        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+1 item had failures:
+   4 of  18 in sage.coding.linear_code.AbstractLinearCode.spectrum
+    [634 tests, 4 failures, 26.04 s]
+----------------------------------------------------------------------
+sage -t --long src/sage/tests/gap_packages.py  # 5 doctests failed
+sage -t --long src/sage/coding/linear_code.py  # 4 doctests failed
+----------------------------------------------------------------------
+\`\`\`
+
+The failures in \`gap_packages.py\` are because of
+
+\`\`\`
+sage: libgap.eval('LoadPackage("HAPcryst")')
+---------------------------------------------------------------------------
+ValueError                                Traceback (most recent call last)
+<ipython-input-1-90cb9d4fcac6> in <module>()
+----> 1 libgap.eval('LoadPackage("HAPcryst")')
+
+/usr/local/src/sage-git/src/sage/libs/gap/libgap.pyx in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4168)()
+    429         if not isinstance(gap_command, basestring):
+    430             gap_command = str(gap_command._gap_init_())
+--> 431         return make_any_gap_element(self, gap_eval(gap_command))
+    432 
+    433     @cached_method
+
+/usr/local/src/sage-git/src/sage/libs/gap/util.pyx in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4932)()
+    286             sig_off()
+    287         except RuntimeError as msg:
+--> 288             raise ValueError('libGAP: '+str(msg).strip())
+    289 
+    290         if libGAP_Symbol != libGAP_S_SEMICOLON:
+
+ValueError: libGAP: Error, <opr> is not an operation
+\`\`\`
 
 Component: documentation
 
```




---

archive/issue_comments_297535.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,230 @@\n-\n+With Sage 7.2.beta6:\n+\n+\\`\\`\\`\n+sage -t --long src/sage/tests/gap_packages.py\n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 8, in sage.tests.gap_packages\n+Failed example:\n+    test_packages(pkgs, only_failures=True)    # optional - gap_packages\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages[2]>\", line 1, in <module>\n+        test_packages(pkgs, only_failures=True)    # optional - gap_packages\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 77, in test_packages\n+        output = libgap.eval('LoadPackage(\"{0}\")'.format(pkg))\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: Error, <opr> is not an operation\n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 47, in sage.tests.gap_packages.test_packages\n+Failed example:\n+    test_packages(['GAPDoc'])\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.test_packages[1]>\", line 1, in <module>\n+        test_packages(['GAPDoc'])\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 77, in test_packages\n+        output = libgap.eval('LoadPackage(\"{0}\")'.format(pkg))\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: \n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 54, in sage.tests.gap_packages.test_packages\n+Failed example:\n+    pkgs = all_installed_packages()\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.test_packages[2]>\", line 1, in <module>\n+        pkgs = all_installed_packages()\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 109, in all_installed_packages\n+        for path in libgap.eval('GAP_ROOT_PATHS').sage():\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: \n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 55, in sage.tests.gap_packages.test_packages\n+Failed example:\n+    test_packages(pkgs)    # random output\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.test_packages[3]>\", line 1, in <module>\n+        test_packages(pkgs)    # random output\n+    NameError: name 'pkgs' is not defined\n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 105, in sage.tests.gap_packages.all_installed_packages\n+Failed example:\n+    all_installed_packages()\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.all_installed_packages[1]>\", line 1, in <module>\n+        all_installed_packages()\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 109, in all_installed_packages\n+        for path in libgap.eval('GAP_ROOT_PATHS').sage():\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: \n+**********************************************************************\n+3 items had failures:\n+   1 of   4 in sage.tests.gap_packages\n+   1 of   3 in sage.tests.gap_packages.all_installed_packages\n+   3 of   5 in sage.tests.gap_packages.test_packages\n+    [9 tests, 5 failures, 4.49 s]\n+sage -t --long src/sage/coding/linear_code.py\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3284, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[8]>\", line 1, in <module>\n+        C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3292, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[12]>\", line 1, in <module>\n+        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3296, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[14]>\", line 1, in <module>\n+        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3300, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[16]>\", line 1, in <module>\n+        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+1 item had failures:\n+   4 of  18 in sage.coding.linear_code.AbstractLinearCode.spectrum\n+    [634 tests, 4 failures, 26.04 s]\n+----------------------------------------------------------------------\n+sage -t --long src/sage/tests/gap_packages.py  # 5 doctests failed\n+sage -t --long src/sage/coding/linear_code.py  # 4 doctests failed\n+----------------------------------------------------------------------\n+\\`\\`\\`\n+\n+The failures in \\`gap_packages.py\\` are because of\n+\n+\\`\\`\\`\n+sage: libgap.eval('LoadPackage(\"HAPcryst\")')\n+---------------------------------------------------------------------------\n+ValueError                                Traceback (most recent call last)\n+<ipython-input-1-90cb9d4fcac6> in <module>()\n+----> 1 libgap.eval('LoadPackage(\"HAPcryst\")')\n+\n+/usr/local/src/sage-git/src/sage/libs/gap/libgap.pyx in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4168)()\n+    429         if not isinstance(gap_command, basestring):\n+    430             gap_command = str(gap_command._gap_init_())\n+--> 431         return make_any_gap_element(self, gap_eval(gap_command))\n+    432 \n+    433     @cached_method\n+\n+/usr/local/src/sage-git/src/sage/libs/gap/util.pyx in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4932)()\n+    286             sig_off()\n+    287         except RuntimeError as msg:\n+--> 288             raise ValueError('libGAP: '+str(msg).strip())\n+    289 \n+    290         if libGAP_Symbol != libGAP_S_SEMICOLON:\n+\n+ValueError: libGAP: Error, <opr> is not an operation\n+\\`\\`\\`\n+\n+The failures in \\`linear_code.pyx\\` are because of\n+\n+\\`\\`\\`\n+sage: print gap.eval('DirectoriesPackagePrograms(\"guava\")[1]')\n+dir(\"/usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13/bin/x86_64-unknown-linux-gnu-gcc-default64/\")\n+\\`\\`\\`\n+but this directory does not exist!\n \n Component: documentation\n \n```\n",
    "created_at": "2016-05-02T14:55:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297535",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,230 @@
-
+With Sage 7.2.beta6:
+
+\`\`\`
+sage -t --long src/sage/tests/gap_packages.py
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 8, in sage.tests.gap_packages
+Failed example:
+    test_packages(pkgs, only_failures=True)    # optional - gap_packages
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages[2]>", line 1, in <module>
+        test_packages(pkgs, only_failures=True)    # optional - gap_packages
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 77, in test_packages
+        output = libgap.eval('LoadPackage("{0}")'.format(pkg))
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: Error, <opr> is not an operation
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 47, in sage.tests.gap_packages.test_packages
+Failed example:
+    test_packages(['GAPDoc'])
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.test_packages[1]>", line 1, in <module>
+        test_packages(['GAPDoc'])
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 77, in test_packages
+        output = libgap.eval('LoadPackage("{0}")'.format(pkg))
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: 
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 54, in sage.tests.gap_packages.test_packages
+Failed example:
+    pkgs = all_installed_packages()
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.test_packages[2]>", line 1, in <module>
+        pkgs = all_installed_packages()
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 109, in all_installed_packages
+        for path in libgap.eval('GAP_ROOT_PATHS').sage():
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: 
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 55, in sage.tests.gap_packages.test_packages
+Failed example:
+    test_packages(pkgs)    # random output
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.test_packages[3]>", line 1, in <module>
+        test_packages(pkgs)    # random output
+    NameError: name 'pkgs' is not defined
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 105, in sage.tests.gap_packages.all_installed_packages
+Failed example:
+    all_installed_packages()
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.all_installed_packages[1]>", line 1, in <module>
+        all_installed_packages()
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 109, in all_installed_packages
+        for path in libgap.eval('GAP_ROOT_PATHS').sage():
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: 
+**********************************************************************
+3 items had failures:
+   1 of   4 in sage.tests.gap_packages
+   1 of   3 in sage.tests.gap_packages.all_installed_packages
+   3 of   5 in sage.tests.gap_packages.test_packages
+    [9 tests, 5 failures, 4.49 s]
+sage -t --long src/sage/coding/linear_code.py
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3284, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[8]>", line 1, in <module>
+        C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3292, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[12]>", line 1, in <module>
+        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3296, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[14]>", line 1, in <module>
+        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3300, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[16]>", line 1, in <module>
+        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+1 item had failures:
+   4 of  18 in sage.coding.linear_code.AbstractLinearCode.spectrum
+    [634 tests, 4 failures, 26.04 s]
+----------------------------------------------------------------------
+sage -t --long src/sage/tests/gap_packages.py  # 5 doctests failed
+sage -t --long src/sage/coding/linear_code.py  # 4 doctests failed
+----------------------------------------------------------------------
+\`\`\`
+
+The failures in \`gap_packages.py\` are because of
+
+\`\`\`
+sage: libgap.eval('LoadPackage("HAPcryst")')
+---------------------------------------------------------------------------
+ValueError                                Traceback (most recent call last)
+<ipython-input-1-90cb9d4fcac6> in <module>()
+----> 1 libgap.eval('LoadPackage("HAPcryst")')
+
+/usr/local/src/sage-git/src/sage/libs/gap/libgap.pyx in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4168)()
+    429         if not isinstance(gap_command, basestring):
+    430             gap_command = str(gap_command._gap_init_())
+--> 431         return make_any_gap_element(self, gap_eval(gap_command))
+    432 
+    433     @cached_method
+
+/usr/local/src/sage-git/src/sage/libs/gap/util.pyx in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4932)()
+    286             sig_off()
+    287         except RuntimeError as msg:
+--> 288             raise ValueError('libGAP: '+str(msg).strip())
+    289 
+    290         if libGAP_Symbol != libGAP_S_SEMICOLON:
+
+ValueError: libGAP: Error, <opr> is not an operation
+\`\`\`
+
+The failures in \`linear_code.pyx\` are because of
+
+\`\`\`
+sage: print gap.eval('DirectoriesPackagePrograms("guava")[1]')
+dir("/usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13/bin/x86_64-unknown-linux-gnu-gcc-default64/")
+\`\`\`
+but this directory does not exist!
 
 Component: documentation
 
```




---

archive/issue_comments_297536.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,232 @@\n-\n+With Sage 7.2.beta6:\n+\n+\\`\\`\\`\n+sage: libgap.eval('LoadPackage(\"HAPcryst\")')\n+---------------------------------------------------------------------------\n+ValueError                                Traceback (most recent call last)\n+<ipython-input-1-90cb9d4fcac6> in <module>()\n+----> 1 libgap.eval('LoadPackage(\"HAPcryst\")')\n+\n+/usr/local/src/sage-git/src/sage/libs/gap/libgap.pyx in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4168)()\n+    429         if not isinstance(gap_command, basestring):\n+    430             gap_command = str(gap_command._gap_init_())\n+--> 431         return make_any_gap_element(self, gap_eval(gap_command))\n+    432 \n+    433     @cached_method\n+\n+/usr/local/src/sage-git/src/sage/libs/gap/util.pyx in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4932)()\n+    286             sig_off()\n+    287         except RuntimeError as msg:\n+--> 288             raise ValueError('libGAP: '+str(msg).strip())\n+    289 \n+    290         if libGAP_Symbol != libGAP_S_SEMICOLON:\n+\n+ValueError: libGAP: Error, <opr> is not an operation\n+\\`\\`\\`\n+\n+A second issue is a mis-installation of guava:\n+\n+\\`\\`\\`\n+sage: print gap.eval('DirectoriesPackagePrograms(\"guava\")[1]')\n+dir(\"/usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13/bin/x86_64-unknown-linux-gnu-gcc-default64/\")\n+\\`\\`\\`\n+but this directory does not exist!\n+\n+---\n+\n+This causes doctest failures\n+\n+\\`\\`\\`\n+sage -t --long src/sage/tests/gap_packages.py\n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 8, in sage.tests.gap_packages\n+Failed example:\n+    test_packages(pkgs, only_failures=True)    # optional - gap_packages\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages[2]>\", line 1, in <module>\n+        test_packages(pkgs, only_failures=True)    # optional - gap_packages\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 77, in test_packages\n+        output = libgap.eval('LoadPackage(\"{0}\")'.format(pkg))\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: Error, <opr> is not an operation\n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 47, in sage.tests.gap_packages.test_packages\n+Failed example:\n+    test_packages(['GAPDoc'])\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.test_packages[1]>\", line 1, in <module>\n+        test_packages(['GAPDoc'])\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 77, in test_packages\n+        output = libgap.eval('LoadPackage(\"{0}\")'.format(pkg))\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: \n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 54, in sage.tests.gap_packages.test_packages\n+Failed example:\n+    pkgs = all_installed_packages()\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.test_packages[2]>\", line 1, in <module>\n+        pkgs = all_installed_packages()\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 109, in all_installed_packages\n+        for path in libgap.eval('GAP_ROOT_PATHS').sage():\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: \n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 55, in sage.tests.gap_packages.test_packages\n+Failed example:\n+    test_packages(pkgs)    # random output\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.test_packages[3]>\", line 1, in <module>\n+        test_packages(pkgs)    # random output\n+    NameError: name 'pkgs' is not defined\n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 105, in sage.tests.gap_packages.all_installed_packages\n+Failed example:\n+    all_installed_packages()\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.all_installed_packages[1]>\", line 1, in <module>\n+        all_installed_packages()\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 109, in all_installed_packages\n+        for path in libgap.eval('GAP_ROOT_PATHS').sage():\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: \n+**********************************************************************\n+3 items had failures:\n+   1 of   4 in sage.tests.gap_packages\n+   1 of   3 in sage.tests.gap_packages.all_installed_packages\n+   3 of   5 in sage.tests.gap_packages.test_packages\n+    [9 tests, 5 failures, 4.49 s]\n+sage -t --long src/sage/coding/linear_code.py\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3284, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[8]>\", line 1, in <module>\n+        C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3292, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[12]>\", line 1, in <module>\n+        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3296, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[14]>\", line 1, in <module>\n+        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3300, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[16]>\", line 1, in <module>\n+        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+1 item had failures:\n+   4 of  18 in sage.coding.linear_code.AbstractLinearCode.spectrum\n+    [634 tests, 4 failures, 26.04 s]\n+----------------------------------------------------------------------\n+sage -t --long src/sage/tests/gap_packages.py  # 5 doctests failed\n+sage -t --long src/sage/coding/linear_code.py  # 4 doctests failed\n+----------------------------------------------------------------------\n+\\`\\`\\`\n \n Component: documentation\n \n```\n",
    "created_at": "2016-05-02T14:56:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297536",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,232 @@
-
+With Sage 7.2.beta6:
+
+\`\`\`
+sage: libgap.eval('LoadPackage("HAPcryst")')
+---------------------------------------------------------------------------
+ValueError                                Traceback (most recent call last)
+<ipython-input-1-90cb9d4fcac6> in <module>()
+----> 1 libgap.eval('LoadPackage("HAPcryst")')
+
+/usr/local/src/sage-git/src/sage/libs/gap/libgap.pyx in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4168)()
+    429         if not isinstance(gap_command, basestring):
+    430             gap_command = str(gap_command._gap_init_())
+--> 431         return make_any_gap_element(self, gap_eval(gap_command))
+    432 
+    433     @cached_method
+
+/usr/local/src/sage-git/src/sage/libs/gap/util.pyx in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4932)()
+    286             sig_off()
+    287         except RuntimeError as msg:
+--> 288             raise ValueError('libGAP: '+str(msg).strip())
+    289 
+    290         if libGAP_Symbol != libGAP_S_SEMICOLON:
+
+ValueError: libGAP: Error, <opr> is not an operation
+\`\`\`
+
+A second issue is a mis-installation of guava:
+
+\`\`\`
+sage: print gap.eval('DirectoriesPackagePrograms("guava")[1]')
+dir("/usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13/bin/x86_64-unknown-linux-gnu-gcc-default64/")
+\`\`\`
+but this directory does not exist!
+
+---
+
+This causes doctest failures
+
+\`\`\`
+sage -t --long src/sage/tests/gap_packages.py
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 8, in sage.tests.gap_packages
+Failed example:
+    test_packages(pkgs, only_failures=True)    # optional - gap_packages
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages[2]>", line 1, in <module>
+        test_packages(pkgs, only_failures=True)    # optional - gap_packages
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 77, in test_packages
+        output = libgap.eval('LoadPackage("{0}")'.format(pkg))
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: Error, <opr> is not an operation
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 47, in sage.tests.gap_packages.test_packages
+Failed example:
+    test_packages(['GAPDoc'])
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.test_packages[1]>", line 1, in <module>
+        test_packages(['GAPDoc'])
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 77, in test_packages
+        output = libgap.eval('LoadPackage("{0}")'.format(pkg))
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: 
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 54, in sage.tests.gap_packages.test_packages
+Failed example:
+    pkgs = all_installed_packages()
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.test_packages[2]>", line 1, in <module>
+        pkgs = all_installed_packages()
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 109, in all_installed_packages
+        for path in libgap.eval('GAP_ROOT_PATHS').sage():
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: 
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 55, in sage.tests.gap_packages.test_packages
+Failed example:
+    test_packages(pkgs)    # random output
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.test_packages[3]>", line 1, in <module>
+        test_packages(pkgs)    # random output
+    NameError: name 'pkgs' is not defined
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 105, in sage.tests.gap_packages.all_installed_packages
+Failed example:
+    all_installed_packages()
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.all_installed_packages[1]>", line 1, in <module>
+        all_installed_packages()
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 109, in all_installed_packages
+        for path in libgap.eval('GAP_ROOT_PATHS').sage():
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: 
+**********************************************************************
+3 items had failures:
+   1 of   4 in sage.tests.gap_packages
+   1 of   3 in sage.tests.gap_packages.all_installed_packages
+   3 of   5 in sage.tests.gap_packages.test_packages
+    [9 tests, 5 failures, 4.49 s]
+sage -t --long src/sage/coding/linear_code.py
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3284, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[8]>", line 1, in <module>
+        C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3292, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[12]>", line 1, in <module>
+        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3296, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[14]>", line 1, in <module>
+        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3300, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[16]>", line 1, in <module>
+        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+1 item had failures:
+   4 of  18 in sage.coding.linear_code.AbstractLinearCode.spectrum
+    [634 tests, 4 failures, 26.04 s]
+----------------------------------------------------------------------
+sage -t --long src/sage/tests/gap_packages.py  # 5 doctests failed
+sage -t --long src/sage/coding/linear_code.py  # 4 doctests failed
+----------------------------------------------------------------------
+\`\`\`
 
 Component: documentation
 
```




---

archive/issue_comments_297537.json:
```json
{
    "body": "<a id='comment:16'></a>these tests work for me. Must be patchbot madness...",
    "created_at": "2016-05-02T14:57:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297537",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:16'></a>these tests work for me. Must be patchbot madness...



---

archive/issue_comments_297538.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,196 @@\n-\n+With Sage 7.2.beta6:\n+\n+\\`\\`\\`\n+sage -t --long src/sage/tests/gap_packages.py\n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 8, in sage.tests.gap_packages\n+Failed example:\n+    test_packages(pkgs, only_failures=True)    # optional - gap_packages\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages[2]>\", line 1, in <module>\n+        test_packages(pkgs, only_failures=True)    # optional - gap_packages\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 77, in test_packages\n+        output = libgap.eval('LoadPackage(\"{0}\")'.format(pkg))\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: Error, <opr> is not an operation\n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 47, in sage.tests.gap_packages.test_packages\n+Failed example:\n+    test_packages(['GAPDoc'])\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.test_packages[1]>\", line 1, in <module>\n+        test_packages(['GAPDoc'])\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 77, in test_packages\n+        output = libgap.eval('LoadPackage(\"{0}\")'.format(pkg))\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: \n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 54, in sage.tests.gap_packages.test_packages\n+Failed example:\n+    pkgs = all_installed_packages()\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.test_packages[2]>\", line 1, in <module>\n+        pkgs = all_installed_packages()\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 109, in all_installed_packages\n+        for path in libgap.eval('GAP_ROOT_PATHS').sage():\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: \n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 55, in sage.tests.gap_packages.test_packages\n+Failed example:\n+    test_packages(pkgs)    # random output\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.test_packages[3]>\", line 1, in <module>\n+        test_packages(pkgs)    # random output\n+    NameError: name 'pkgs' is not defined\n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 105, in sage.tests.gap_packages.all_installed_packages\n+Failed example:\n+    all_installed_packages()\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.all_installed_packages[1]>\", line 1, in <module>\n+        all_installed_packages()\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 109, in all_installed_packages\n+        for path in libgap.eval('GAP_ROOT_PATHS').sage():\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: \n+**********************************************************************\n+3 items had failures:\n+   1 of   4 in sage.tests.gap_packages\n+   1 of   3 in sage.tests.gap_packages.all_installed_packages\n+   3 of   5 in sage.tests.gap_packages.test_packages\n+    [9 tests, 5 failures, 4.49 s]\n+sage -t --long src/sage/coding/linear_code.py\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3284, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[8]>\", line 1, in <module>\n+        C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3292, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[12]>\", line 1, in <module>\n+        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3296, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[14]>\", line 1, in <module>\n+        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3300, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[16]>\", line 1, in <module>\n+        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+1 item had failures:\n+   4 of  18 in sage.coding.linear_code.AbstractLinearCode.spectrum\n+    [634 tests, 4 failures, 26.04 s]\n+----------------------------------------------------------------------\n+sage -t --long src/sage/tests/gap_packages.py  # 5 doctests failed\n+sage -t --long src/sage/coding/linear_code.py  # 4 doctests failed\n+----------------------------------------------------------------------\n+\\`\\`\\`\n \n Component: documentation\n \n```\n",
    "created_at": "2016-05-02T14:57:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297538",
    "user": "https://github.com/dimpase"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,196 @@
-
+With Sage 7.2.beta6:
+
+\`\`\`
+sage -t --long src/sage/tests/gap_packages.py
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 8, in sage.tests.gap_packages
+Failed example:
+    test_packages(pkgs, only_failures=True)    # optional - gap_packages
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages[2]>", line 1, in <module>
+        test_packages(pkgs, only_failures=True)    # optional - gap_packages
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 77, in test_packages
+        output = libgap.eval('LoadPackage("{0}")'.format(pkg))
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: Error, <opr> is not an operation
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 47, in sage.tests.gap_packages.test_packages
+Failed example:
+    test_packages(['GAPDoc'])
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.test_packages[1]>", line 1, in <module>
+        test_packages(['GAPDoc'])
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 77, in test_packages
+        output = libgap.eval('LoadPackage("{0}")'.format(pkg))
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: 
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 54, in sage.tests.gap_packages.test_packages
+Failed example:
+    pkgs = all_installed_packages()
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.test_packages[2]>", line 1, in <module>
+        pkgs = all_installed_packages()
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 109, in all_installed_packages
+        for path in libgap.eval('GAP_ROOT_PATHS').sage():
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: 
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 55, in sage.tests.gap_packages.test_packages
+Failed example:
+    test_packages(pkgs)    # random output
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.test_packages[3]>", line 1, in <module>
+        test_packages(pkgs)    # random output
+    NameError: name 'pkgs' is not defined
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 105, in sage.tests.gap_packages.all_installed_packages
+Failed example:
+    all_installed_packages()
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.all_installed_packages[1]>", line 1, in <module>
+        all_installed_packages()
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 109, in all_installed_packages
+        for path in libgap.eval('GAP_ROOT_PATHS').sage():
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: 
+**********************************************************************
+3 items had failures:
+   1 of   4 in sage.tests.gap_packages
+   1 of   3 in sage.tests.gap_packages.all_installed_packages
+   3 of   5 in sage.tests.gap_packages.test_packages
+    [9 tests, 5 failures, 4.49 s]
+sage -t --long src/sage/coding/linear_code.py
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3284, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[8]>", line 1, in <module>
+        C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3292, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[12]>", line 1, in <module>
+        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3296, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[14]>", line 1, in <module>
+        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3300, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[16]>", line 1, in <module>
+        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+1 item had failures:
+   4 of  18 in sage.coding.linear_code.AbstractLinearCode.spectrum
+    [634 tests, 4 failures, 26.04 s]
+----------------------------------------------------------------------
+sage -t --long src/sage/tests/gap_packages.py  # 5 doctests failed
+sage -t --long src/sage/coding/linear_code.py  # 4 doctests failed
+----------------------------------------------------------------------
+\`\`\`
 
 Component: documentation
 
```




---

archive/issue_comments_297539.json:
```json
{
    "body": "<a id='comment:18'></a>Replying to [comment:16 dimpase]:\n> these tests work for me.\n\n\nNot for me.\n\n> Must be patchbot madness...\n\n\nNo, this is unrelated to the patchbot.",
    "created_at": "2016-05-02T15:01:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297539",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:18'></a>Replying to [comment:16 dimpase]:
> these tests work for me.


Not for me.

> Must be patchbot madness...


No, this is unrelated to the patchbot.



---

archive/issue_comments_297540.json:
```json
{
    "body": "<a id='comment:19'></a>Please don't revert the changes I make to the ticket :-)",
    "created_at": "2016-05-02T15:03:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297540",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:19'></a>Please don't revert the changes I make to the ticket :-)



---

archive/issue_comments_297541.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,231 @@\n-\n+With Sage 7.2.beta6:\n+\n+\\`\\`\\`\n+sage: libgap.eval('LoadPackage(\"HAPcryst\")')\n+---------------------------------------------------------------------------\n+ValueError                                Traceback (most recent call last)\n+<ipython-input-1-90cb9d4fcac6> in <module>()\n+----> 1 libgap.eval('LoadPackage(\"HAPcryst\")')\n+\n+/usr/local/src/sage-git/src/sage/libs/gap/libgap.pyx in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4168)()\n+    429         if not isinstance(gap_command, basestring):\n+    430             gap_command = str(gap_command._gap_init_())\n+--> 431         return make_any_gap_element(self, gap_eval(gap_command))\n+    432 \n+    433     @cached_method\n+\n+/usr/local/src/sage-git/src/sage/libs/gap/util.pyx in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4932)()\n+    286             sig_off()\n+    287         except RuntimeError as msg:\n+--> 288             raise ValueError('libGAP: '+str(msg).strip())\n+    289 \n+    290         if libGAP_Symbol != libGAP_S_SEMICOLON:\n+\n+ValueError: libGAP: Error, <opr> is not an operation\n+\\`\\`\\`\n+\n+A second issue is a mis-installation of guava:\n+\n+\\`\\`\\`\n+sage: print gap.eval('DirectoriesPackagePrograms(\"guava\")[1]')\n+dir(\"/usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13/bin/x86_64-unknown-linux-gnu-gcc-default64/\")\n+\\`\\`\\`\n+\n+but this directory does not exist!\n+\n+---\n+\n+\\`\\`\\`\n+sage -t --long src/sage/tests/gap_packages.py\n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 8, in sage.tests.gap_packages\n+Failed example:\n+    test_packages(pkgs, only_failures=True)    # optional - gap_packages\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages[2]>\", line 1, in <module>\n+        test_packages(pkgs, only_failures=True)    # optional - gap_packages\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 77, in test_packages\n+        output = libgap.eval('LoadPackage(\"{0}\")'.format(pkg))\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: Error, <opr> is not an operation\n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 47, in sage.tests.gap_packages.test_packages\n+Failed example:\n+    test_packages(['GAPDoc'])\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.test_packages[1]>\", line 1, in <module>\n+        test_packages(['GAPDoc'])\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 77, in test_packages\n+        output = libgap.eval('LoadPackage(\"{0}\")'.format(pkg))\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: \n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 54, in sage.tests.gap_packages.test_packages\n+Failed example:\n+    pkgs = all_installed_packages()\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.test_packages[2]>\", line 1, in <module>\n+        pkgs = all_installed_packages()\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 109, in all_installed_packages\n+        for path in libgap.eval('GAP_ROOT_PATHS').sage():\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: \n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 55, in sage.tests.gap_packages.test_packages\n+Failed example:\n+    test_packages(pkgs)    # random output\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.test_packages[3]>\", line 1, in <module>\n+        test_packages(pkgs)    # random output\n+    NameError: name 'pkgs' is not defined\n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 105, in sage.tests.gap_packages.all_installed_packages\n+Failed example:\n+    all_installed_packages()\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.all_installed_packages[1]>\", line 1, in <module>\n+        all_installed_packages()\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 109, in all_installed_packages\n+        for path in libgap.eval('GAP_ROOT_PATHS').sage():\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: \n+**********************************************************************\n+3 items had failures:\n+   1 of   4 in sage.tests.gap_packages\n+   1 of   3 in sage.tests.gap_packages.all_installed_packages\n+   3 of   5 in sage.tests.gap_packages.test_packages\n+    [9 tests, 5 failures, 4.49 s]\n+sage -t --long src/sage/coding/linear_code.py\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3284, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[8]>\", line 1, in <module>\n+        C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3292, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[12]>\", line 1, in <module>\n+        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3296, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[14]>\", line 1, in <module>\n+        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3300, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[16]>\", line 1, in <module>\n+        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+1 item had failures:\n+   4 of  18 in sage.coding.linear_code.AbstractLinearCode.spectrum\n+    [634 tests, 4 failures, 26.04 s]\n+----------------------------------------------------------------------\n+sage -t --long src/sage/tests/gap_packages.py  # 5 doctests failed\n+sage -t --long src/sage/coding/linear_code.py  # 4 doctests failed\n+----------------------------------------------------------------------\n+\\`\\`\\`\n \n Component: documentation\n \n```\n",
    "created_at": "2016-05-02T15:03:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297541",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,231 @@
-
+With Sage 7.2.beta6:
+
+\`\`\`
+sage: libgap.eval('LoadPackage("HAPcryst")')
+---------------------------------------------------------------------------
+ValueError                                Traceback (most recent call last)
+<ipython-input-1-90cb9d4fcac6> in <module>()
+----> 1 libgap.eval('LoadPackage("HAPcryst")')
+
+/usr/local/src/sage-git/src/sage/libs/gap/libgap.pyx in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4168)()
+    429         if not isinstance(gap_command, basestring):
+    430             gap_command = str(gap_command._gap_init_())
+--> 431         return make_any_gap_element(self, gap_eval(gap_command))
+    432 
+    433     @cached_method
+
+/usr/local/src/sage-git/src/sage/libs/gap/util.pyx in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4932)()
+    286             sig_off()
+    287         except RuntimeError as msg:
+--> 288             raise ValueError('libGAP: '+str(msg).strip())
+    289 
+    290         if libGAP_Symbol != libGAP_S_SEMICOLON:
+
+ValueError: libGAP: Error, <opr> is not an operation
+\`\`\`
+
+A second issue is a mis-installation of guava:
+
+\`\`\`
+sage: print gap.eval('DirectoriesPackagePrograms("guava")[1]')
+dir("/usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13/bin/x86_64-unknown-linux-gnu-gcc-default64/")
+\`\`\`
+
+but this directory does not exist!
+
+---
+
+\`\`\`
+sage -t --long src/sage/tests/gap_packages.py
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 8, in sage.tests.gap_packages
+Failed example:
+    test_packages(pkgs, only_failures=True)    # optional - gap_packages
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages[2]>", line 1, in <module>
+        test_packages(pkgs, only_failures=True)    # optional - gap_packages
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 77, in test_packages
+        output = libgap.eval('LoadPackage("{0}")'.format(pkg))
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: Error, <opr> is not an operation
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 47, in sage.tests.gap_packages.test_packages
+Failed example:
+    test_packages(['GAPDoc'])
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.test_packages[1]>", line 1, in <module>
+        test_packages(['GAPDoc'])
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 77, in test_packages
+        output = libgap.eval('LoadPackage("{0}")'.format(pkg))
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: 
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 54, in sage.tests.gap_packages.test_packages
+Failed example:
+    pkgs = all_installed_packages()
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.test_packages[2]>", line 1, in <module>
+        pkgs = all_installed_packages()
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 109, in all_installed_packages
+        for path in libgap.eval('GAP_ROOT_PATHS').sage():
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: 
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 55, in sage.tests.gap_packages.test_packages
+Failed example:
+    test_packages(pkgs)    # random output
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.test_packages[3]>", line 1, in <module>
+        test_packages(pkgs)    # random output
+    NameError: name 'pkgs' is not defined
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 105, in sage.tests.gap_packages.all_installed_packages
+Failed example:
+    all_installed_packages()
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.all_installed_packages[1]>", line 1, in <module>
+        all_installed_packages()
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 109, in all_installed_packages
+        for path in libgap.eval('GAP_ROOT_PATHS').sage():
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: 
+**********************************************************************
+3 items had failures:
+   1 of   4 in sage.tests.gap_packages
+   1 of   3 in sage.tests.gap_packages.all_installed_packages
+   3 of   5 in sage.tests.gap_packages.test_packages
+    [9 tests, 5 failures, 4.49 s]
+sage -t --long src/sage/coding/linear_code.py
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3284, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[8]>", line 1, in <module>
+        C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3292, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[12]>", line 1, in <module>
+        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3296, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[14]>", line 1, in <module>
+        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3300, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[16]>", line 1, in <module>
+        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+1 item had failures:
+   4 of  18 in sage.coding.linear_code.AbstractLinearCode.spectrum
+    [634 tests, 4 failures, 26.04 s]
+----------------------------------------------------------------------
+sage -t --long src/sage/tests/gap_packages.py  # 5 doctests failed
+sage -t --long src/sage/coding/linear_code.py  # 4 doctests failed
+----------------------------------------------------------------------
+\`\`\`
 
 Component: documentation
 
```




---

archive/issue_comments_297542.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,246 @@\n-\n+With Sage 7.2.beta6:\n+\n+\\`\\`\\`\n+$ ./sage --gap\n+gap> LoadPackage(\"HAPcryst\");\n+#I  polymake command not found. Please set POLYMAKE_COMMAND by hand\n+----------------------------------------------------------------\n+Loading  polymaking 0.8.1\n+(A package for using polymake in GAP)\n+by Marc Roeder\n+----------------------------------------------------------------\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+Loading  Cryst 4.1.12 (Computing with crystallographic groups)\n+by Bettina Eick (http://www.icm.tu-bs.de/~beick/),\n+   Franz G\u00e4hler (http://www.math.uni-bielefeld.de/~gaehler/), and\n+   Werner Nickel (http://www.mathematik.tu-darmstadt.de/~nickel/).\n+Homepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+Loading  CrystCat 1.1.6 (The crystallographic groups catalog)\n+by Volkmar Felsch (http://www.math.rwth-aachen.de/~Volkmar.Felsch/) and\n+   Franz G\u00e4hler (http://www.math.uni-bielefeld.de/~gaehler/).\n+Homepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+Loading  AClib 1.2 (Almost Crystallographic Groups - A Library and Algorithms)\n+by Karel Dekimpe (http://www.kulak.ac.be/~dekimpe) and\n+   Bettina Eick (http://www.icm.tu-bs.de/~beick).\n+Homepage: http://www.icm.tu-bs.de/~beick/so.html\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+#I  HAP warning: Set POLYMAKE_PATH manually if needed. \n+#I  HAP warning: Set NEATO_PATH manually if needed.\n+#I  HAP warning: Set DISPLAY_PATH manually if needed.\n+Error, <opr> is not an operation called from\n+<compiled or corrupted statement>  called from\n+<function \"local function\">( <arguments> )\n+ called from read-eval loop at line 162 of /usr/local/src/sage-git/local/gap/latest/pkg/Hap1.11/lib/HapCocyclic/gap/ccgroup.gi\n+you can 'quit;' to quit to outer loop, or\n+you can 'return;' to continue\n+\\`\\`\\`\n+\n+A second issue is a mis-installation of guava:\n+\n+\\`\\`\\`\n+sage: print gap.eval('DirectoriesPackagePrograms(\"guava\")[1]')\n+dir(\"/usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13/bin/x86_64-unknown-linux-gnu-gcc-default64/\")\n+\\`\\`\\`\n+\n+but this directory does not exist!\n+\n+---\n+\n+\\`\\`\\`\n+sage -t --long src/sage/tests/gap_packages.py\n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 8, in sage.tests.gap_packages\n+Failed example:\n+    test_packages(pkgs, only_failures=True)    # optional - gap_packages\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages[2]>\", line 1, in <module>\n+        test_packages(pkgs, only_failures=True)    # optional - gap_packages\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 77, in test_packages\n+        output = libgap.eval('LoadPackage(\"{0}\")'.format(pkg))\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: Error, <opr> is not an operation\n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 47, in sage.tests.gap_packages.test_packages\n+Failed example:\n+    test_packages(['GAPDoc'])\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.test_packages[1]>\", line 1, in <module>\n+        test_packages(['GAPDoc'])\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 77, in test_packages\n+        output = libgap.eval('LoadPackage(\"{0}\")'.format(pkg))\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: \n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 54, in sage.tests.gap_packages.test_packages\n+Failed example:\n+    pkgs = all_installed_packages()\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.test_packages[2]>\", line 1, in <module>\n+        pkgs = all_installed_packages()\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 109, in all_installed_packages\n+        for path in libgap.eval('GAP_ROOT_PATHS').sage():\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: \n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 55, in sage.tests.gap_packages.test_packages\n+Failed example:\n+    test_packages(pkgs)    # random output\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.test_packages[3]>\", line 1, in <module>\n+        test_packages(pkgs)    # random output\n+    NameError: name 'pkgs' is not defined\n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 105, in sage.tests.gap_packages.all_installed_packages\n+Failed example:\n+    all_installed_packages()\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.all_installed_packages[1]>\", line 1, in <module>\n+        all_installed_packages()\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 109, in all_installed_packages\n+        for path in libgap.eval('GAP_ROOT_PATHS').sage():\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: \n+**********************************************************************\n+3 items had failures:\n+   1 of   4 in sage.tests.gap_packages\n+   1 of   3 in sage.tests.gap_packages.all_installed_packages\n+   3 of   5 in sage.tests.gap_packages.test_packages\n+    [9 tests, 5 failures, 4.49 s]\n+sage -t --long src/sage/coding/linear_code.py\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3284, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[8]>\", line 1, in <module>\n+        C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3292, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[12]>\", line 1, in <module>\n+        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3296, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[14]>\", line 1, in <module>\n+        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3300, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[16]>\", line 1, in <module>\n+        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+1 item had failures:\n+   4 of  18 in sage.coding.linear_code.AbstractLinearCode.spectrum\n+    [634 tests, 4 failures, 26.04 s]\n+----------------------------------------------------------------------\n+sage -t --long src/sage/tests/gap_packages.py  # 5 doctests failed\n+sage -t --long src/sage/coding/linear_code.py  # 4 doctests failed\n+----------------------------------------------------------------------\n+\\`\\`\\`\n \n Component: documentation\n \n```\n",
    "created_at": "2016-05-02T15:07:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297542",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,246 @@
-
+With Sage 7.2.beta6:
+
+\`\`\`
+$ ./sage --gap
+gap> LoadPackage("HAPcryst");
+#I  polymake command not found. Please set POLYMAKE_COMMAND by hand
+----------------------------------------------------------------
+Loading  polymaking 0.8.1
+(A package for using polymake in GAP)
+by Marc Roeder
+----------------------------------------------------------------
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+Loading  Cryst 4.1.12 (Computing with crystallographic groups)
+by Bettina Eick (http://www.icm.tu-bs.de/~beick/),
+   Franz Gähler (http://www.math.uni-bielefeld.de/~gaehler/), and
+   Werner Nickel (http://www.mathematik.tu-darmstadt.de/~nickel/).
+Homepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+Loading  CrystCat 1.1.6 (The crystallographic groups catalog)
+by Volkmar Felsch (http://www.math.rwth-aachen.de/~Volkmar.Felsch/) and
+   Franz Gähler (http://www.math.uni-bielefeld.de/~gaehler/).
+Homepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+Loading  AClib 1.2 (Almost Crystallographic Groups - A Library and Algorithms)
+by Karel Dekimpe (http://www.kulak.ac.be/~dekimpe) and
+   Bettina Eick (http://www.icm.tu-bs.de/~beick).
+Homepage: http://www.icm.tu-bs.de/~beick/so.html
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+#I  HAP warning: Set POLYMAKE_PATH manually if needed. 
+#I  HAP warning: Set NEATO_PATH manually if needed.
+#I  HAP warning: Set DISPLAY_PATH manually if needed.
+Error, <opr> is not an operation called from
+<compiled or corrupted statement>  called from
+<function "local function">( <arguments> )
+ called from read-eval loop at line 162 of /usr/local/src/sage-git/local/gap/latest/pkg/Hap1.11/lib/HapCocyclic/gap/ccgroup.gi
+you can 'quit;' to quit to outer loop, or
+you can 'return;' to continue
+\`\`\`
+
+A second issue is a mis-installation of guava:
+
+\`\`\`
+sage: print gap.eval('DirectoriesPackagePrograms("guava")[1]')
+dir("/usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13/bin/x86_64-unknown-linux-gnu-gcc-default64/")
+\`\`\`
+
+but this directory does not exist!
+
+---
+
+\`\`\`
+sage -t --long src/sage/tests/gap_packages.py
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 8, in sage.tests.gap_packages
+Failed example:
+    test_packages(pkgs, only_failures=True)    # optional - gap_packages
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages[2]>", line 1, in <module>
+        test_packages(pkgs, only_failures=True)    # optional - gap_packages
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 77, in test_packages
+        output = libgap.eval('LoadPackage("{0}")'.format(pkg))
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: Error, <opr> is not an operation
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 47, in sage.tests.gap_packages.test_packages
+Failed example:
+    test_packages(['GAPDoc'])
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.test_packages[1]>", line 1, in <module>
+        test_packages(['GAPDoc'])
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 77, in test_packages
+        output = libgap.eval('LoadPackage("{0}")'.format(pkg))
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: 
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 54, in sage.tests.gap_packages.test_packages
+Failed example:
+    pkgs = all_installed_packages()
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.test_packages[2]>", line 1, in <module>
+        pkgs = all_installed_packages()
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 109, in all_installed_packages
+        for path in libgap.eval('GAP_ROOT_PATHS').sage():
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: 
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 55, in sage.tests.gap_packages.test_packages
+Failed example:
+    test_packages(pkgs)    # random output
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.test_packages[3]>", line 1, in <module>
+        test_packages(pkgs)    # random output
+    NameError: name 'pkgs' is not defined
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 105, in sage.tests.gap_packages.all_installed_packages
+Failed example:
+    all_installed_packages()
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.all_installed_packages[1]>", line 1, in <module>
+        all_installed_packages()
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 109, in all_installed_packages
+        for path in libgap.eval('GAP_ROOT_PATHS').sage():
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: 
+**********************************************************************
+3 items had failures:
+   1 of   4 in sage.tests.gap_packages
+   1 of   3 in sage.tests.gap_packages.all_installed_packages
+   3 of   5 in sage.tests.gap_packages.test_packages
+    [9 tests, 5 failures, 4.49 s]
+sage -t --long src/sage/coding/linear_code.py
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3284, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[8]>", line 1, in <module>
+        C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3292, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[12]>", line 1, in <module>
+        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3296, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[14]>", line 1, in <module>
+        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3300, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[16]>", line 1, in <module>
+        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+1 item had failures:
+   4 of  18 in sage.coding.linear_code.AbstractLinearCode.spectrum
+    [634 tests, 4 failures, 26.04 s]
+----------------------------------------------------------------------
+sage -t --long src/sage/tests/gap_packages.py  # 5 doctests failed
+sage -t --long src/sage/coding/linear_code.py  # 4 doctests failed
+----------------------------------------------------------------------
+\`\`\`
 
 Component: documentation
 
```




---

archive/issue_comments_297543.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,246 @@\n-\n+With Sage 7.2.beta6:\n+\n+\\`\\`\\`\n+$ ./sage --gap\n+gap> LoadPackage(\"HAPcryst\");\n+#I  polymake command not found. Please set POLYMAKE_COMMAND by hand\n+----------------------------------------------------------------\n+Loading  polymaking 0.8.1\n+(A package for using polymake in GAP)\n+by Marc Roeder\n+----------------------------------------------------------------\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+Loading  Cryst 4.1.12 (Computing with crystallographic groups)\n+by Bettina Eick (http://www.icm.tu-bs.de/~beick/),\n+   Franz G\u00e4hler (http://www.math.uni-bielefeld.de/~gaehler/), and\n+   Werner Nickel (http://www.mathematik.tu-darmstadt.de/~nickel/).\n+Homepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+Loading  CrystCat 1.1.6 (The crystallographic groups catalog)\n+by Volkmar Felsch (http://www.math.rwth-aachen.de/~Volkmar.Felsch/) and\n+   Franz G\u00e4hler (http://www.math.uni-bielefeld.de/~gaehler/).\n+Homepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+Loading  AClib 1.2 (Almost Crystallographic Groups - A Library and Algorithms)\n+by Karel Dekimpe (http://www.kulak.ac.be/~dekimpe) and\n+   Bettina Eick (http://www.icm.tu-bs.de/~beick).\n+Homepage: http://www.icm.tu-bs.de/~beick/so.html\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+#I  HAP warning: Set POLYMAKE_PATH manually if needed. \n+#I  HAP warning: Set NEATO_PATH manually if needed.\n+#I  HAP warning: Set DISPLAY_PATH manually if needed.\n+Error, <opr> is not an operation called from\n+<compiled or corrupted statement>  called from\n+<function \"local function\">( <arguments> )\n+ called from read-eval loop at line 162 of /usr/local/src/sage-git/local/gap/latest/pkg/Hap1.11/lib/HapCocyclic/gap/ccgroup.gi\n+you can 'quit;' to quit to outer loop, or\n+you can 'return;' to continue\n+\\`\\`\\`\n+\n+A second issue is a mis-installation of guava:\n+\n+\\`\\`\\`\n+gap> DirectoriesPackagePrograms(\"guava\")[1];\n+dir(\"/usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13/bin/x86_64-unknown-linux-gnu-gcc-default64/\")\n+\\`\\`\\`\n+\n+but this directory does not exist!\n+\n+---\n+\n+\\`\\`\\`\n+sage -t --long src/sage/tests/gap_packages.py\n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 8, in sage.tests.gap_packages\n+Failed example:\n+    test_packages(pkgs, only_failures=True)    # optional - gap_packages\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages[2]>\", line 1, in <module>\n+        test_packages(pkgs, only_failures=True)    # optional - gap_packages\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 77, in test_packages\n+        output = libgap.eval('LoadPackage(\"{0}\")'.format(pkg))\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: Error, <opr> is not an operation\n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 47, in sage.tests.gap_packages.test_packages\n+Failed example:\n+    test_packages(['GAPDoc'])\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.test_packages[1]>\", line 1, in <module>\n+        test_packages(['GAPDoc'])\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 77, in test_packages\n+        output = libgap.eval('LoadPackage(\"{0}\")'.format(pkg))\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: \n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 54, in sage.tests.gap_packages.test_packages\n+Failed example:\n+    pkgs = all_installed_packages()\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.test_packages[2]>\", line 1, in <module>\n+        pkgs = all_installed_packages()\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 109, in all_installed_packages\n+        for path in libgap.eval('GAP_ROOT_PATHS').sage():\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: \n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 55, in sage.tests.gap_packages.test_packages\n+Failed example:\n+    test_packages(pkgs)    # random output\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.test_packages[3]>\", line 1, in <module>\n+        test_packages(pkgs)    # random output\n+    NameError: name 'pkgs' is not defined\n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 105, in sage.tests.gap_packages.all_installed_packages\n+Failed example:\n+    all_installed_packages()\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.all_installed_packages[1]>\", line 1, in <module>\n+        all_installed_packages()\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 109, in all_installed_packages\n+        for path in libgap.eval('GAP_ROOT_PATHS').sage():\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: \n+**********************************************************************\n+3 items had failures:\n+   1 of   4 in sage.tests.gap_packages\n+   1 of   3 in sage.tests.gap_packages.all_installed_packages\n+   3 of   5 in sage.tests.gap_packages.test_packages\n+    [9 tests, 5 failures, 4.49 s]\n+sage -t --long src/sage/coding/linear_code.py\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3284, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[8]>\", line 1, in <module>\n+        C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3292, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[12]>\", line 1, in <module>\n+        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3296, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[14]>\", line 1, in <module>\n+        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3300, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[16]>\", line 1, in <module>\n+        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+1 item had failures:\n+   4 of  18 in sage.coding.linear_code.AbstractLinearCode.spectrum\n+    [634 tests, 4 failures, 26.04 s]\n+----------------------------------------------------------------------\n+sage -t --long src/sage/tests/gap_packages.py  # 5 doctests failed\n+sage -t --long src/sage/coding/linear_code.py  # 4 doctests failed\n+----------------------------------------------------------------------\n+\\`\\`\\`\n \n Component: documentation\n \n```\n",
    "created_at": "2016-05-02T15:08:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297543",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,246 @@
-
+With Sage 7.2.beta6:
+
+\`\`\`
+$ ./sage --gap
+gap> LoadPackage("HAPcryst");
+#I  polymake command not found. Please set POLYMAKE_COMMAND by hand
+----------------------------------------------------------------
+Loading  polymaking 0.8.1
+(A package for using polymake in GAP)
+by Marc Roeder
+----------------------------------------------------------------
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+Loading  Cryst 4.1.12 (Computing with crystallographic groups)
+by Bettina Eick (http://www.icm.tu-bs.de/~beick/),
+   Franz Gähler (http://www.math.uni-bielefeld.de/~gaehler/), and
+   Werner Nickel (http://www.mathematik.tu-darmstadt.de/~nickel/).
+Homepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+Loading  CrystCat 1.1.6 (The crystallographic groups catalog)
+by Volkmar Felsch (http://www.math.rwth-aachen.de/~Volkmar.Felsch/) and
+   Franz Gähler (http://www.math.uni-bielefeld.de/~gaehler/).
+Homepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+Loading  AClib 1.2 (Almost Crystallographic Groups - A Library and Algorithms)
+by Karel Dekimpe (http://www.kulak.ac.be/~dekimpe) and
+   Bettina Eick (http://www.icm.tu-bs.de/~beick).
+Homepage: http://www.icm.tu-bs.de/~beick/so.html
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+#I  HAP warning: Set POLYMAKE_PATH manually if needed. 
+#I  HAP warning: Set NEATO_PATH manually if needed.
+#I  HAP warning: Set DISPLAY_PATH manually if needed.
+Error, <opr> is not an operation called from
+<compiled or corrupted statement>  called from
+<function "local function">( <arguments> )
+ called from read-eval loop at line 162 of /usr/local/src/sage-git/local/gap/latest/pkg/Hap1.11/lib/HapCocyclic/gap/ccgroup.gi
+you can 'quit;' to quit to outer loop, or
+you can 'return;' to continue
+\`\`\`
+
+A second issue is a mis-installation of guava:
+
+\`\`\`
+gap> DirectoriesPackagePrograms("guava")[1];
+dir("/usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13/bin/x86_64-unknown-linux-gnu-gcc-default64/")
+\`\`\`
+
+but this directory does not exist!
+
+---
+
+\`\`\`
+sage -t --long src/sage/tests/gap_packages.py
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 8, in sage.tests.gap_packages
+Failed example:
+    test_packages(pkgs, only_failures=True)    # optional - gap_packages
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages[2]>", line 1, in <module>
+        test_packages(pkgs, only_failures=True)    # optional - gap_packages
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 77, in test_packages
+        output = libgap.eval('LoadPackage("{0}")'.format(pkg))
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: Error, <opr> is not an operation
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 47, in sage.tests.gap_packages.test_packages
+Failed example:
+    test_packages(['GAPDoc'])
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.test_packages[1]>", line 1, in <module>
+        test_packages(['GAPDoc'])
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 77, in test_packages
+        output = libgap.eval('LoadPackage("{0}")'.format(pkg))
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: 
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 54, in sage.tests.gap_packages.test_packages
+Failed example:
+    pkgs = all_installed_packages()
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.test_packages[2]>", line 1, in <module>
+        pkgs = all_installed_packages()
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 109, in all_installed_packages
+        for path in libgap.eval('GAP_ROOT_PATHS').sage():
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: 
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 55, in sage.tests.gap_packages.test_packages
+Failed example:
+    test_packages(pkgs)    # random output
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.test_packages[3]>", line 1, in <module>
+        test_packages(pkgs)    # random output
+    NameError: name 'pkgs' is not defined
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 105, in sage.tests.gap_packages.all_installed_packages
+Failed example:
+    all_installed_packages()
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.all_installed_packages[1]>", line 1, in <module>
+        all_installed_packages()
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 109, in all_installed_packages
+        for path in libgap.eval('GAP_ROOT_PATHS').sage():
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: 
+**********************************************************************
+3 items had failures:
+   1 of   4 in sage.tests.gap_packages
+   1 of   3 in sage.tests.gap_packages.all_installed_packages
+   3 of   5 in sage.tests.gap_packages.test_packages
+    [9 tests, 5 failures, 4.49 s]
+sage -t --long src/sage/coding/linear_code.py
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3284, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[8]>", line 1, in <module>
+        C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3292, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[12]>", line 1, in <module>
+        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3296, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[14]>", line 1, in <module>
+        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3300, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[16]>", line 1, in <module>
+        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+1 item had failures:
+   4 of  18 in sage.coding.linear_code.AbstractLinearCode.spectrum
+    [634 tests, 4 failures, 26.04 s]
+----------------------------------------------------------------------
+sage -t --long src/sage/tests/gap_packages.py  # 5 doctests failed
+sage -t --long src/sage/coding/linear_code.py  # 4 doctests failed
+----------------------------------------------------------------------
+\`\`\`
 
 Component: documentation
 
```




---

archive/issue_comments_297544.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,268 @@\n-\n+With Sage 7.2.beta6:\n+\n+\\`\\`\\`\n+$ ./sage --gap\n+gap> LoadPackage(\"HAPcryst\");\n+#I  polymake command not found. Please set POLYMAKE_COMMAND by hand\n+----------------------------------------------------------------\n+Loading  polymaking 0.8.1\n+(A package for using polymake in GAP)\n+by Marc Roeder\n+----------------------------------------------------------------\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+Loading  Cryst 4.1.12 (Computing with crystallographic groups)\n+by Bettina Eick (http://www.icm.tu-bs.de/~beick/),\n+   Franz G\u00e4hler (http://www.math.uni-bielefeld.de/~gaehler/), and\n+   Werner Nickel (http://www.mathematik.tu-darmstadt.de/~nickel/).\n+Homepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+Loading  CrystCat 1.1.6 (The crystallographic groups catalog)\n+by Volkmar Felsch (http://www.math.rwth-aachen.de/~Volkmar.Felsch/) and\n+   Franz G\u00e4hler (http://www.math.uni-bielefeld.de/~gaehler/).\n+Homepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+Loading  AClib 1.2 (Almost Crystallographic Groups - A Library and Algorithms)\n+by Karel Dekimpe (http://www.kulak.ac.be/~dekimpe) and\n+   Bettina Eick (http://www.icm.tu-bs.de/~beick).\n+Homepage: http://www.icm.tu-bs.de/~beick/so.html\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+#I  HAP warning: Set POLYMAKE_PATH manually if needed. \n+#I  HAP warning: Set NEATO_PATH manually if needed.\n+#I  HAP warning: Set DISPLAY_PATH manually if needed.\n+Error, <opr> is not an operation called from\n+<compiled or corrupted statement>  called from\n+<function \"local function\">( <arguments> )\n+ called from read-eval loop at line 162 of /usr/local/src/sage-git/local/gap/latest/pkg/Hap1.11/lib/HapCocyclic/gap/ccgroup.gi\n+you can 'quit;' to quit to outer loop, or\n+you can 'return;' to continue\n+\\`\\`\\`\n+\n+A second issue is a mis-installation of guava:\n+\n+\\`\\`\\`\n+gap> DirectoriesPackagePrograms(\"guava\")[1];\n+dir(\"/usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13/bin/x86_64-unknown-linux-gnu-gcc-default64/\")\n+\\`\\`\\`\n+\n+but this directory does not exist:\n+\n+\\`\\`\\`\n+$ ls -l /usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13\n+total 168\n+-rw-r--r-- 1 jdemeyer jdemeyer 11775 Mar 19 23:17 CHANGES.guava\n+-rwxr-xr-x 1 jdemeyer jdemeyer  1918 Mar 19 23:17 configure\n+-rw-r--r-- 1 jdemeyer jdemeyer 51189 Mar 19 23:17 COPYING.guava\n+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 doc\n+-rw-r--r-- 1 jdemeyer jdemeyer   368 Mar 19 23:17 gapdoc.g\n+-rw-r--r-- 1 jdemeyer jdemeyer  2059 Mar 19 23:17 HISTORY.guava\n+-rw-r--r-- 1 jdemeyer jdemeyer  1364 Mar 19 23:17 init.g\n+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 lib\n+-rw-r--r-- 1 jdemeyer jdemeyer 35120 Mar 19 23:17 LICENSE\n+-rw-r--r-- 1 jdemeyer jdemeyer  2858 Mar 19 23:17 Makefile.in\n+-rw-r--r-- 1 jdemeyer jdemeyer 11638 Mar 19 23:17 PackageInfo.g\n+-rw-r--r-- 1 jdemeyer jdemeyer  1420 Mar 19 23:17 read.g\n+-rw-r--r-- 1 jdemeyer jdemeyer  4882 Mar 19 23:17 README.guava\n+-rw-r--r-- 1 jdemeyer jdemeyer    98 Mar 19 23:17 README.md\n+drwxr-xr-x 4 jdemeyer jdemeyer  4096 Mar 30 00:32 src\n+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 tbl\n+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 tst\n+\\`\\`\\`\n+\n+---\n+\n+\\`\\`\\`\n+sage -t --long src/sage/tests/gap_packages.py\n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 8, in sage.tests.gap_packages\n+Failed example:\n+    test_packages(pkgs, only_failures=True)    # optional - gap_packages\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages[2]>\", line 1, in <module>\n+        test_packages(pkgs, only_failures=True)    # optional - gap_packages\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 77, in test_packages\n+        output = libgap.eval('LoadPackage(\"{0}\")'.format(pkg))\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: Error, <opr> is not an operation\n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 47, in sage.tests.gap_packages.test_packages\n+Failed example:\n+    test_packages(['GAPDoc'])\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.test_packages[1]>\", line 1, in <module>\n+        test_packages(['GAPDoc'])\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 77, in test_packages\n+        output = libgap.eval('LoadPackage(\"{0}\")'.format(pkg))\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: \n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 54, in sage.tests.gap_packages.test_packages\n+Failed example:\n+    pkgs = all_installed_packages()\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.test_packages[2]>\", line 1, in <module>\n+        pkgs = all_installed_packages()\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 109, in all_installed_packages\n+        for path in libgap.eval('GAP_ROOT_PATHS').sage():\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: \n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 55, in sage.tests.gap_packages.test_packages\n+Failed example:\n+    test_packages(pkgs)    # random output\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.test_packages[3]>\", line 1, in <module>\n+        test_packages(pkgs)    # random output\n+    NameError: name 'pkgs' is not defined\n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 105, in sage.tests.gap_packages.all_installed_packages\n+Failed example:\n+    all_installed_packages()\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.all_installed_packages[1]>\", line 1, in <module>\n+        all_installed_packages()\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 109, in all_installed_packages\n+        for path in libgap.eval('GAP_ROOT_PATHS').sage():\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: \n+**********************************************************************\n+3 items had failures:\n+   1 of   4 in sage.tests.gap_packages\n+   1 of   3 in sage.tests.gap_packages.all_installed_packages\n+   3 of   5 in sage.tests.gap_packages.test_packages\n+    [9 tests, 5 failures, 4.49 s]\n+sage -t --long src/sage/coding/linear_code.py\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3284, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[8]>\", line 1, in <module>\n+        C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3292, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[12]>\", line 1, in <module>\n+        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3296, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[14]>\", line 1, in <module>\n+        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3300, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[16]>\", line 1, in <module>\n+        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+1 item had failures:\n+   4 of  18 in sage.coding.linear_code.AbstractLinearCode.spectrum\n+    [634 tests, 4 failures, 26.04 s]\n+----------------------------------------------------------------------\n+sage -t --long src/sage/tests/gap_packages.py  # 5 doctests failed\n+sage -t --long src/sage/coding/linear_code.py  # 4 doctests failed\n+----------------------------------------------------------------------\n+\\`\\`\\`\n \n Component: documentation\n \n```\n",
    "created_at": "2016-05-02T15:08:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297544",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,268 @@
-
+With Sage 7.2.beta6:
+
+\`\`\`
+$ ./sage --gap
+gap> LoadPackage("HAPcryst");
+#I  polymake command not found. Please set POLYMAKE_COMMAND by hand
+----------------------------------------------------------------
+Loading  polymaking 0.8.1
+(A package for using polymake in GAP)
+by Marc Roeder
+----------------------------------------------------------------
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+Loading  Cryst 4.1.12 (Computing with crystallographic groups)
+by Bettina Eick (http://www.icm.tu-bs.de/~beick/),
+   Franz Gähler (http://www.math.uni-bielefeld.de/~gaehler/), and
+   Werner Nickel (http://www.mathematik.tu-darmstadt.de/~nickel/).
+Homepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+Loading  CrystCat 1.1.6 (The crystallographic groups catalog)
+by Volkmar Felsch (http://www.math.rwth-aachen.de/~Volkmar.Felsch/) and
+   Franz Gähler (http://www.math.uni-bielefeld.de/~gaehler/).
+Homepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+Loading  AClib 1.2 (Almost Crystallographic Groups - A Library and Algorithms)
+by Karel Dekimpe (http://www.kulak.ac.be/~dekimpe) and
+   Bettina Eick (http://www.icm.tu-bs.de/~beick).
+Homepage: http://www.icm.tu-bs.de/~beick/so.html
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+#I  HAP warning: Set POLYMAKE_PATH manually if needed. 
+#I  HAP warning: Set NEATO_PATH manually if needed.
+#I  HAP warning: Set DISPLAY_PATH manually if needed.
+Error, <opr> is not an operation called from
+<compiled or corrupted statement>  called from
+<function "local function">( <arguments> )
+ called from read-eval loop at line 162 of /usr/local/src/sage-git/local/gap/latest/pkg/Hap1.11/lib/HapCocyclic/gap/ccgroup.gi
+you can 'quit;' to quit to outer loop, or
+you can 'return;' to continue
+\`\`\`
+
+A second issue is a mis-installation of guava:
+
+\`\`\`
+gap> DirectoriesPackagePrograms("guava")[1];
+dir("/usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13/bin/x86_64-unknown-linux-gnu-gcc-default64/")
+\`\`\`
+
+but this directory does not exist:
+
+\`\`\`
+$ ls -l /usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13
+total 168
+-rw-r--r-- 1 jdemeyer jdemeyer 11775 Mar 19 23:17 CHANGES.guava
+-rwxr-xr-x 1 jdemeyer jdemeyer  1918 Mar 19 23:17 configure
+-rw-r--r-- 1 jdemeyer jdemeyer 51189 Mar 19 23:17 COPYING.guava
+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 doc
+-rw-r--r-- 1 jdemeyer jdemeyer   368 Mar 19 23:17 gapdoc.g
+-rw-r--r-- 1 jdemeyer jdemeyer  2059 Mar 19 23:17 HISTORY.guava
+-rw-r--r-- 1 jdemeyer jdemeyer  1364 Mar 19 23:17 init.g
+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 lib
+-rw-r--r-- 1 jdemeyer jdemeyer 35120 Mar 19 23:17 LICENSE
+-rw-r--r-- 1 jdemeyer jdemeyer  2858 Mar 19 23:17 Makefile.in
+-rw-r--r-- 1 jdemeyer jdemeyer 11638 Mar 19 23:17 PackageInfo.g
+-rw-r--r-- 1 jdemeyer jdemeyer  1420 Mar 19 23:17 read.g
+-rw-r--r-- 1 jdemeyer jdemeyer  4882 Mar 19 23:17 README.guava
+-rw-r--r-- 1 jdemeyer jdemeyer    98 Mar 19 23:17 README.md
+drwxr-xr-x 4 jdemeyer jdemeyer  4096 Mar 30 00:32 src
+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 tbl
+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 tst
+\`\`\`
+
+---
+
+\`\`\`
+sage -t --long src/sage/tests/gap_packages.py
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 8, in sage.tests.gap_packages
+Failed example:
+    test_packages(pkgs, only_failures=True)    # optional - gap_packages
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages[2]>", line 1, in <module>
+        test_packages(pkgs, only_failures=True)    # optional - gap_packages
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 77, in test_packages
+        output = libgap.eval('LoadPackage("{0}")'.format(pkg))
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: Error, <opr> is not an operation
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 47, in sage.tests.gap_packages.test_packages
+Failed example:
+    test_packages(['GAPDoc'])
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.test_packages[1]>", line 1, in <module>
+        test_packages(['GAPDoc'])
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 77, in test_packages
+        output = libgap.eval('LoadPackage("{0}")'.format(pkg))
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: 
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 54, in sage.tests.gap_packages.test_packages
+Failed example:
+    pkgs = all_installed_packages()
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.test_packages[2]>", line 1, in <module>
+        pkgs = all_installed_packages()
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 109, in all_installed_packages
+        for path in libgap.eval('GAP_ROOT_PATHS').sage():
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: 
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 55, in sage.tests.gap_packages.test_packages
+Failed example:
+    test_packages(pkgs)    # random output
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.test_packages[3]>", line 1, in <module>
+        test_packages(pkgs)    # random output
+    NameError: name 'pkgs' is not defined
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 105, in sage.tests.gap_packages.all_installed_packages
+Failed example:
+    all_installed_packages()
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.all_installed_packages[1]>", line 1, in <module>
+        all_installed_packages()
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 109, in all_installed_packages
+        for path in libgap.eval('GAP_ROOT_PATHS').sage():
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: 
+**********************************************************************
+3 items had failures:
+   1 of   4 in sage.tests.gap_packages
+   1 of   3 in sage.tests.gap_packages.all_installed_packages
+   3 of   5 in sage.tests.gap_packages.test_packages
+    [9 tests, 5 failures, 4.49 s]
+sage -t --long src/sage/coding/linear_code.py
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3284, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[8]>", line 1, in <module>
+        C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3292, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[12]>", line 1, in <module>
+        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3296, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[14]>", line 1, in <module>
+        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3300, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[16]>", line 1, in <module>
+        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+1 item had failures:
+   4 of  18 in sage.coding.linear_code.AbstractLinearCode.spectrum
+    [634 tests, 4 failures, 26.04 s]
+----------------------------------------------------------------------
+sage -t --long src/sage/tests/gap_packages.py  # 5 doctests failed
+sage -t --long src/sage/coding/linear_code.py  # 4 doctests failed
+----------------------------------------------------------------------
+\`\`\`
 
 Component: documentation
 
```




---

archive/issue_comments_297545.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,268 @@\n-\n+With Sage 7.2.beta6:\n+\n+\\`\\`\\`\n+$ ./sage --gap\n+gap> LoadPackage(\"HAPcryst\");\n+#I  polymake command not found. Please set POLYMAKE_COMMAND by hand\n+----------------------------------------------------------------\n+Loading  polymaking 0.8.1\n+(A package for using polymake in GAP)\n+by Marc Roeder\n+----------------------------------------------------------------\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+Loading  Cryst 4.1.12 (Computing with crystallographic groups)\n+by Bettina Eick (http://www.icm.tu-bs.de/~beick/),\n+   Franz G\u00e4hler (http://www.math.uni-bielefeld.de/~gaehler/), and\n+   Werner Nickel (http://www.mathematik.tu-darmstadt.de/~nickel/).\n+Homepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+Loading  CrystCat 1.1.6 (The crystallographic groups catalog)\n+by Volkmar Felsch (http://www.math.rwth-aachen.de/~Volkmar.Felsch/) and\n+   Franz G\u00e4hler (http://www.math.uni-bielefeld.de/~gaehler/).\n+Homepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+Loading  AClib 1.2 (Almost Crystallographic Groups - A Library and Algorithms)\n+by Karel Dekimpe (http://www.kulak.ac.be/~dekimpe) and\n+   Bettina Eick (http://www.icm.tu-bs.de/~beick).\n+Homepage: http://www.icm.tu-bs.de/~beick/so.html\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+#I  HAP warning: Set POLYMAKE_PATH manually if needed. \n+#I  HAP warning: Set NEATO_PATH manually if needed.\n+#I  HAP warning: Set DISPLAY_PATH manually if needed.\n+Error, <opr> is not an operation called from\n+<compiled or corrupted statement>  called from\n+<function \"local function\">( <arguments> )\n+ called from read-eval loop at line 162 of /usr/local/src/sage-git/local/gap/latest/pkg/Hap1.11/lib/HapCocyclic/gap/ccgroup.gi\n+you can 'quit;' to quit to outer loop, or\n+you can 'return;' to continue\n+\\`\\`\\`\n+\n+A second issue is a mis-installation of guava:\n+\n+\\`\\`\\`\n+gap> DirectoriesPackagePrograms(\"guava\")[1];\n+dir(\"/usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13/bin/x86_64-unknown-linux-gnu-gcc-default64/\")\n+\\`\\`\\`\n+\n+but this directory does not exist, \\`bin\\` is missing below:\n+\n+\\`\\`\\`\n+$ ls -l /usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13\n+total 168\n+-rw-r--r-- 1 jdemeyer jdemeyer 11775 Mar 19 23:17 CHANGES.guava\n+-rwxr-xr-x 1 jdemeyer jdemeyer  1918 Mar 19 23:17 configure\n+-rw-r--r-- 1 jdemeyer jdemeyer 51189 Mar 19 23:17 COPYING.guava\n+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 doc\n+-rw-r--r-- 1 jdemeyer jdemeyer   368 Mar 19 23:17 gapdoc.g\n+-rw-r--r-- 1 jdemeyer jdemeyer  2059 Mar 19 23:17 HISTORY.guava\n+-rw-r--r-- 1 jdemeyer jdemeyer  1364 Mar 19 23:17 init.g\n+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 lib\n+-rw-r--r-- 1 jdemeyer jdemeyer 35120 Mar 19 23:17 LICENSE\n+-rw-r--r-- 1 jdemeyer jdemeyer  2858 Mar 19 23:17 Makefile.in\n+-rw-r--r-- 1 jdemeyer jdemeyer 11638 Mar 19 23:17 PackageInfo.g\n+-rw-r--r-- 1 jdemeyer jdemeyer  1420 Mar 19 23:17 read.g\n+-rw-r--r-- 1 jdemeyer jdemeyer  4882 Mar 19 23:17 README.guava\n+-rw-r--r-- 1 jdemeyer jdemeyer    98 Mar 19 23:17 README.md\n+drwxr-xr-x 4 jdemeyer jdemeyer  4096 Mar 30 00:32 src\n+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 tbl\n+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 tst\n+\\`\\`\\`\n+\n+---\n+\n+\\`\\`\\`\n+sage -t --long src/sage/tests/gap_packages.py\n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 8, in sage.tests.gap_packages\n+Failed example:\n+    test_packages(pkgs, only_failures=True)    # optional - gap_packages\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages[2]>\", line 1, in <module>\n+        test_packages(pkgs, only_failures=True)    # optional - gap_packages\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 77, in test_packages\n+        output = libgap.eval('LoadPackage(\"{0}\")'.format(pkg))\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: Error, <opr> is not an operation\n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 47, in sage.tests.gap_packages.test_packages\n+Failed example:\n+    test_packages(['GAPDoc'])\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.test_packages[1]>\", line 1, in <module>\n+        test_packages(['GAPDoc'])\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 77, in test_packages\n+        output = libgap.eval('LoadPackage(\"{0}\")'.format(pkg))\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: \n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 54, in sage.tests.gap_packages.test_packages\n+Failed example:\n+    pkgs = all_installed_packages()\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.test_packages[2]>\", line 1, in <module>\n+        pkgs = all_installed_packages()\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 109, in all_installed_packages\n+        for path in libgap.eval('GAP_ROOT_PATHS').sage():\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: \n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 55, in sage.tests.gap_packages.test_packages\n+Failed example:\n+    test_packages(pkgs)    # random output\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.test_packages[3]>\", line 1, in <module>\n+        test_packages(pkgs)    # random output\n+    NameError: name 'pkgs' is not defined\n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 105, in sage.tests.gap_packages.all_installed_packages\n+Failed example:\n+    all_installed_packages()\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.all_installed_packages[1]>\", line 1, in <module>\n+        all_installed_packages()\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 109, in all_installed_packages\n+        for path in libgap.eval('GAP_ROOT_PATHS').sage():\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: \n+**********************************************************************\n+3 items had failures:\n+   1 of   4 in sage.tests.gap_packages\n+   1 of   3 in sage.tests.gap_packages.all_installed_packages\n+   3 of   5 in sage.tests.gap_packages.test_packages\n+    [9 tests, 5 failures, 4.49 s]\n+sage -t --long src/sage/coding/linear_code.py\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3284, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[8]>\", line 1, in <module>\n+        C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3292, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[12]>\", line 1, in <module>\n+        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3296, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[14]>\", line 1, in <module>\n+        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3300, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[16]>\", line 1, in <module>\n+        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+1 item had failures:\n+   4 of  18 in sage.coding.linear_code.AbstractLinearCode.spectrum\n+    [634 tests, 4 failures, 26.04 s]\n+----------------------------------------------------------------------\n+sage -t --long src/sage/tests/gap_packages.py  # 5 doctests failed\n+sage -t --long src/sage/coding/linear_code.py  # 4 doctests failed\n+----------------------------------------------------------------------\n+\\`\\`\\`\n \n Component: documentation\n \n```\n",
    "created_at": "2016-05-02T15:09:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297545",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,268 @@
-
+With Sage 7.2.beta6:
+
+\`\`\`
+$ ./sage --gap
+gap> LoadPackage("HAPcryst");
+#I  polymake command not found. Please set POLYMAKE_COMMAND by hand
+----------------------------------------------------------------
+Loading  polymaking 0.8.1
+(A package for using polymake in GAP)
+by Marc Roeder
+----------------------------------------------------------------
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+Loading  Cryst 4.1.12 (Computing with crystallographic groups)
+by Bettina Eick (http://www.icm.tu-bs.de/~beick/),
+   Franz Gähler (http://www.math.uni-bielefeld.de/~gaehler/), and
+   Werner Nickel (http://www.mathematik.tu-darmstadt.de/~nickel/).
+Homepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+Loading  CrystCat 1.1.6 (The crystallographic groups catalog)
+by Volkmar Felsch (http://www.math.rwth-aachen.de/~Volkmar.Felsch/) and
+   Franz Gähler (http://www.math.uni-bielefeld.de/~gaehler/).
+Homepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+Loading  AClib 1.2 (Almost Crystallographic Groups - A Library and Algorithms)
+by Karel Dekimpe (http://www.kulak.ac.be/~dekimpe) and
+   Bettina Eick (http://www.icm.tu-bs.de/~beick).
+Homepage: http://www.icm.tu-bs.de/~beick/so.html
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+#I  HAP warning: Set POLYMAKE_PATH manually if needed. 
+#I  HAP warning: Set NEATO_PATH manually if needed.
+#I  HAP warning: Set DISPLAY_PATH manually if needed.
+Error, <opr> is not an operation called from
+<compiled or corrupted statement>  called from
+<function "local function">( <arguments> )
+ called from read-eval loop at line 162 of /usr/local/src/sage-git/local/gap/latest/pkg/Hap1.11/lib/HapCocyclic/gap/ccgroup.gi
+you can 'quit;' to quit to outer loop, or
+you can 'return;' to continue
+\`\`\`
+
+A second issue is a mis-installation of guava:
+
+\`\`\`
+gap> DirectoriesPackagePrograms("guava")[1];
+dir("/usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13/bin/x86_64-unknown-linux-gnu-gcc-default64/")
+\`\`\`
+
+but this directory does not exist, \`bin\` is missing below:
+
+\`\`\`
+$ ls -l /usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13
+total 168
+-rw-r--r-- 1 jdemeyer jdemeyer 11775 Mar 19 23:17 CHANGES.guava
+-rwxr-xr-x 1 jdemeyer jdemeyer  1918 Mar 19 23:17 configure
+-rw-r--r-- 1 jdemeyer jdemeyer 51189 Mar 19 23:17 COPYING.guava
+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 doc
+-rw-r--r-- 1 jdemeyer jdemeyer   368 Mar 19 23:17 gapdoc.g
+-rw-r--r-- 1 jdemeyer jdemeyer  2059 Mar 19 23:17 HISTORY.guava
+-rw-r--r-- 1 jdemeyer jdemeyer  1364 Mar 19 23:17 init.g
+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 lib
+-rw-r--r-- 1 jdemeyer jdemeyer 35120 Mar 19 23:17 LICENSE
+-rw-r--r-- 1 jdemeyer jdemeyer  2858 Mar 19 23:17 Makefile.in
+-rw-r--r-- 1 jdemeyer jdemeyer 11638 Mar 19 23:17 PackageInfo.g
+-rw-r--r-- 1 jdemeyer jdemeyer  1420 Mar 19 23:17 read.g
+-rw-r--r-- 1 jdemeyer jdemeyer  4882 Mar 19 23:17 README.guava
+-rw-r--r-- 1 jdemeyer jdemeyer    98 Mar 19 23:17 README.md
+drwxr-xr-x 4 jdemeyer jdemeyer  4096 Mar 30 00:32 src
+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 tbl
+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 tst
+\`\`\`
+
+---
+
+\`\`\`
+sage -t --long src/sage/tests/gap_packages.py
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 8, in sage.tests.gap_packages
+Failed example:
+    test_packages(pkgs, only_failures=True)    # optional - gap_packages
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages[2]>", line 1, in <module>
+        test_packages(pkgs, only_failures=True)    # optional - gap_packages
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 77, in test_packages
+        output = libgap.eval('LoadPackage("{0}")'.format(pkg))
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: Error, <opr> is not an operation
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 47, in sage.tests.gap_packages.test_packages
+Failed example:
+    test_packages(['GAPDoc'])
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.test_packages[1]>", line 1, in <module>
+        test_packages(['GAPDoc'])
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 77, in test_packages
+        output = libgap.eval('LoadPackage("{0}")'.format(pkg))
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: 
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 54, in sage.tests.gap_packages.test_packages
+Failed example:
+    pkgs = all_installed_packages()
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.test_packages[2]>", line 1, in <module>
+        pkgs = all_installed_packages()
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 109, in all_installed_packages
+        for path in libgap.eval('GAP_ROOT_PATHS').sage():
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: 
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 55, in sage.tests.gap_packages.test_packages
+Failed example:
+    test_packages(pkgs)    # random output
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.test_packages[3]>", line 1, in <module>
+        test_packages(pkgs)    # random output
+    NameError: name 'pkgs' is not defined
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 105, in sage.tests.gap_packages.all_installed_packages
+Failed example:
+    all_installed_packages()
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.all_installed_packages[1]>", line 1, in <module>
+        all_installed_packages()
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 109, in all_installed_packages
+        for path in libgap.eval('GAP_ROOT_PATHS').sage():
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: 
+**********************************************************************
+3 items had failures:
+   1 of   4 in sage.tests.gap_packages
+   1 of   3 in sage.tests.gap_packages.all_installed_packages
+   3 of   5 in sage.tests.gap_packages.test_packages
+    [9 tests, 5 failures, 4.49 s]
+sage -t --long src/sage/coding/linear_code.py
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3284, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[8]>", line 1, in <module>
+        C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3292, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[12]>", line 1, in <module>
+        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3296, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[14]>", line 1, in <module>
+        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3300, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[16]>", line 1, in <module>
+        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+1 item had failures:
+   4 of  18 in sage.coding.linear_code.AbstractLinearCode.spectrum
+    [634 tests, 4 failures, 26.04 s]
+----------------------------------------------------------------------
+sage -t --long src/sage/tests/gap_packages.py  # 5 doctests failed
+sage -t --long src/sage/coding/linear_code.py  # 4 doctests failed
+----------------------------------------------------------------------
+\`\`\`
 
 Component: documentation
 
```




---

archive/issue_comments_297546.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,270 @@\n-\n+With Sage 7.2.beta6:\n+\n+\\`\\`\\`\n+$ ./sage --gap\n+gap> LoadPackage(\"HAPcryst\");\n+#I  polymake command not found. Please set POLYMAKE_COMMAND by hand\n+----------------------------------------------------------------\n+Loading  polymaking 0.8.1\n+(A package for using polymake in GAP)\n+by Marc Roeder\n+----------------------------------------------------------------\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+Loading  Cryst 4.1.12 (Computing with crystallographic groups)\n+by Bettina Eick (http://www.icm.tu-bs.de/~beick/),\n+   Franz G\u00e4hler (http://www.math.uni-bielefeld.de/~gaehler/), and\n+   Werner Nickel (http://www.mathematik.tu-darmstadt.de/~nickel/).\n+Homepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+Loading  CrystCat 1.1.6 (The crystallographic groups catalog)\n+by Volkmar Felsch (http://www.math.rwth-aachen.de/~Volkmar.Felsch/) and\n+   Franz G\u00e4hler (http://www.math.uni-bielefeld.de/~gaehler/).\n+Homepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+Loading  AClib 1.2 (Almost Crystallographic Groups - A Library and Algorithms)\n+by Karel Dekimpe (http://www.kulak.ac.be/~dekimpe) and\n+   Bettina Eick (http://www.icm.tu-bs.de/~beick).\n+Homepage: http://www.icm.tu-bs.de/~beick/so.html\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+#I  HAP warning: Set POLYMAKE_PATH manually if needed. \n+#I  HAP warning: Set NEATO_PATH manually if needed.\n+#I  HAP warning: Set DISPLAY_PATH manually if needed.\n+Error, <opr> is not an operation called from\n+<compiled or corrupted statement>  called from\n+<function \"local function\">( <arguments> )\n+ called from read-eval loop at line 162 of /usr/local/src/sage-git/local/gap/latest/pkg/Hap1.11/lib/HapCocyclic/gap/ccgroup.gi\n+you can 'quit;' to quit to outer loop, or\n+you can 'return;' to continue\n+\\`\\`\\`\n+\n+A second issue is a mis-installation of guava:\n+\n+\\`\\`\\`\n+gap> DirectoriesPackagePrograms(\"guava\")[1];\n+dir(\"/usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13/bin/x86_64-unknown-linux-gnu-gcc-default64/\")\n+\\`\\`\\`\n+\n+but this directory does not exist, \\`bin\\` is missing below:\n+\n+\\`\\`\\`\n+$ ls -l /usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13\n+total 168\n+-rw-r--r-- 1 jdemeyer jdemeyer 11775 Mar 19 23:17 CHANGES.guava\n+-rwxr-xr-x 1 jdemeyer jdemeyer  1918 Mar 19 23:17 configure\n+-rw-r--r-- 1 jdemeyer jdemeyer 51189 Mar 19 23:17 COPYING.guava\n+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 doc\n+-rw-r--r-- 1 jdemeyer jdemeyer   368 Mar 19 23:17 gapdoc.g\n+-rw-r--r-- 1 jdemeyer jdemeyer  2059 Mar 19 23:17 HISTORY.guava\n+-rw-r--r-- 1 jdemeyer jdemeyer  1364 Mar 19 23:17 init.g\n+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 lib\n+-rw-r--r-- 1 jdemeyer jdemeyer 35120 Mar 19 23:17 LICENSE\n+-rw-r--r-- 1 jdemeyer jdemeyer  2858 Mar 19 23:17 Makefile.in\n+-rw-r--r-- 1 jdemeyer jdemeyer 11638 Mar 19 23:17 PackageInfo.g\n+-rw-r--r-- 1 jdemeyer jdemeyer  1420 Mar 19 23:17 read.g\n+-rw-r--r-- 1 jdemeyer jdemeyer  4882 Mar 19 23:17 README.guava\n+-rw-r--r-- 1 jdemeyer jdemeyer    98 Mar 19 23:17 README.md\n+drwxr-xr-x 4 jdemeyer jdemeyer  4096 Mar 30 00:32 src\n+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 tbl\n+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 tst\n+\\`\\`\\`\n+\n+---\n+\n+This causes doctest failures:\n+\n+\\`\\`\\`\n+sage -t --long src/sage/tests/gap_packages.py\n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 8, in sage.tests.gap_packages\n+Failed example:\n+    test_packages(pkgs, only_failures=True)    # optional - gap_packages\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages[2]>\", line 1, in <module>\n+        test_packages(pkgs, only_failures=True)    # optional - gap_packages\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 77, in test_packages\n+        output = libgap.eval('LoadPackage(\"{0}\")'.format(pkg))\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: Error, <opr> is not an operation\n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 47, in sage.tests.gap_packages.test_packages\n+Failed example:\n+    test_packages(['GAPDoc'])\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.test_packages[1]>\", line 1, in <module>\n+        test_packages(['GAPDoc'])\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 77, in test_packages\n+        output = libgap.eval('LoadPackage(\"{0}\")'.format(pkg))\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: \n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 54, in sage.tests.gap_packages.test_packages\n+Failed example:\n+    pkgs = all_installed_packages()\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.test_packages[2]>\", line 1, in <module>\n+        pkgs = all_installed_packages()\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 109, in all_installed_packages\n+        for path in libgap.eval('GAP_ROOT_PATHS').sage():\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: \n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 55, in sage.tests.gap_packages.test_packages\n+Failed example:\n+    test_packages(pkgs)    # random output\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.test_packages[3]>\", line 1, in <module>\n+        test_packages(pkgs)    # random output\n+    NameError: name 'pkgs' is not defined\n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 105, in sage.tests.gap_packages.all_installed_packages\n+Failed example:\n+    all_installed_packages()\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.all_installed_packages[1]>\", line 1, in <module>\n+        all_installed_packages()\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 109, in all_installed_packages\n+        for path in libgap.eval('GAP_ROOT_PATHS').sage():\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: \n+**********************************************************************\n+3 items had failures:\n+   1 of   4 in sage.tests.gap_packages\n+   1 of   3 in sage.tests.gap_packages.all_installed_packages\n+   3 of   5 in sage.tests.gap_packages.test_packages\n+    [9 tests, 5 failures, 4.49 s]\n+sage -t --long src/sage/coding/linear_code.py\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3284, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[8]>\", line 1, in <module>\n+        C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3292, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[12]>\", line 1, in <module>\n+        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3296, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[14]>\", line 1, in <module>\n+        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3300, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[16]>\", line 1, in <module>\n+        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+1 item had failures:\n+   4 of  18 in sage.coding.linear_code.AbstractLinearCode.spectrum\n+    [634 tests, 4 failures, 26.04 s]\n+----------------------------------------------------------------------\n+sage -t --long src/sage/tests/gap_packages.py  # 5 doctests failed\n+sage -t --long src/sage/coding/linear_code.py  # 4 doctests failed\n+----------------------------------------------------------------------\n+\\`\\`\\`\n \n Component: documentation\n \n```\n",
    "created_at": "2016-05-02T15:09:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297546",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,270 @@
-
+With Sage 7.2.beta6:
+
+\`\`\`
+$ ./sage --gap
+gap> LoadPackage("HAPcryst");
+#I  polymake command not found. Please set POLYMAKE_COMMAND by hand
+----------------------------------------------------------------
+Loading  polymaking 0.8.1
+(A package for using polymake in GAP)
+by Marc Roeder
+----------------------------------------------------------------
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+Loading  Cryst 4.1.12 (Computing with crystallographic groups)
+by Bettina Eick (http://www.icm.tu-bs.de/~beick/),
+   Franz Gähler (http://www.math.uni-bielefeld.de/~gaehler/), and
+   Werner Nickel (http://www.mathematik.tu-darmstadt.de/~nickel/).
+Homepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+Loading  CrystCat 1.1.6 (The crystallographic groups catalog)
+by Volkmar Felsch (http://www.math.rwth-aachen.de/~Volkmar.Felsch/) and
+   Franz Gähler (http://www.math.uni-bielefeld.de/~gaehler/).
+Homepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+Loading  AClib 1.2 (Almost Crystallographic Groups - A Library and Algorithms)
+by Karel Dekimpe (http://www.kulak.ac.be/~dekimpe) and
+   Bettina Eick (http://www.icm.tu-bs.de/~beick).
+Homepage: http://www.icm.tu-bs.de/~beick/so.html
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+#I  HAP warning: Set POLYMAKE_PATH manually if needed. 
+#I  HAP warning: Set NEATO_PATH manually if needed.
+#I  HAP warning: Set DISPLAY_PATH manually if needed.
+Error, <opr> is not an operation called from
+<compiled or corrupted statement>  called from
+<function "local function">( <arguments> )
+ called from read-eval loop at line 162 of /usr/local/src/sage-git/local/gap/latest/pkg/Hap1.11/lib/HapCocyclic/gap/ccgroup.gi
+you can 'quit;' to quit to outer loop, or
+you can 'return;' to continue
+\`\`\`
+
+A second issue is a mis-installation of guava:
+
+\`\`\`
+gap> DirectoriesPackagePrograms("guava")[1];
+dir("/usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13/bin/x86_64-unknown-linux-gnu-gcc-default64/")
+\`\`\`
+
+but this directory does not exist, \`bin\` is missing below:
+
+\`\`\`
+$ ls -l /usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13
+total 168
+-rw-r--r-- 1 jdemeyer jdemeyer 11775 Mar 19 23:17 CHANGES.guava
+-rwxr-xr-x 1 jdemeyer jdemeyer  1918 Mar 19 23:17 configure
+-rw-r--r-- 1 jdemeyer jdemeyer 51189 Mar 19 23:17 COPYING.guava
+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 doc
+-rw-r--r-- 1 jdemeyer jdemeyer   368 Mar 19 23:17 gapdoc.g
+-rw-r--r-- 1 jdemeyer jdemeyer  2059 Mar 19 23:17 HISTORY.guava
+-rw-r--r-- 1 jdemeyer jdemeyer  1364 Mar 19 23:17 init.g
+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 lib
+-rw-r--r-- 1 jdemeyer jdemeyer 35120 Mar 19 23:17 LICENSE
+-rw-r--r-- 1 jdemeyer jdemeyer  2858 Mar 19 23:17 Makefile.in
+-rw-r--r-- 1 jdemeyer jdemeyer 11638 Mar 19 23:17 PackageInfo.g
+-rw-r--r-- 1 jdemeyer jdemeyer  1420 Mar 19 23:17 read.g
+-rw-r--r-- 1 jdemeyer jdemeyer  4882 Mar 19 23:17 README.guava
+-rw-r--r-- 1 jdemeyer jdemeyer    98 Mar 19 23:17 README.md
+drwxr-xr-x 4 jdemeyer jdemeyer  4096 Mar 30 00:32 src
+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 tbl
+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 tst
+\`\`\`
+
+---
+
+This causes doctest failures:
+
+\`\`\`
+sage -t --long src/sage/tests/gap_packages.py
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 8, in sage.tests.gap_packages
+Failed example:
+    test_packages(pkgs, only_failures=True)    # optional - gap_packages
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages[2]>", line 1, in <module>
+        test_packages(pkgs, only_failures=True)    # optional - gap_packages
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 77, in test_packages
+        output = libgap.eval('LoadPackage("{0}")'.format(pkg))
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: Error, <opr> is not an operation
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 47, in sage.tests.gap_packages.test_packages
+Failed example:
+    test_packages(['GAPDoc'])
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.test_packages[1]>", line 1, in <module>
+        test_packages(['GAPDoc'])
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 77, in test_packages
+        output = libgap.eval('LoadPackage("{0}")'.format(pkg))
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: 
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 54, in sage.tests.gap_packages.test_packages
+Failed example:
+    pkgs = all_installed_packages()
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.test_packages[2]>", line 1, in <module>
+        pkgs = all_installed_packages()
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 109, in all_installed_packages
+        for path in libgap.eval('GAP_ROOT_PATHS').sage():
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: 
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 55, in sage.tests.gap_packages.test_packages
+Failed example:
+    test_packages(pkgs)    # random output
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.test_packages[3]>", line 1, in <module>
+        test_packages(pkgs)    # random output
+    NameError: name 'pkgs' is not defined
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 105, in sage.tests.gap_packages.all_installed_packages
+Failed example:
+    all_installed_packages()
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.all_installed_packages[1]>", line 1, in <module>
+        all_installed_packages()
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 109, in all_installed_packages
+        for path in libgap.eval('GAP_ROOT_PATHS').sage():
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: 
+**********************************************************************
+3 items had failures:
+   1 of   4 in sage.tests.gap_packages
+   1 of   3 in sage.tests.gap_packages.all_installed_packages
+   3 of   5 in sage.tests.gap_packages.test_packages
+    [9 tests, 5 failures, 4.49 s]
+sage -t --long src/sage/coding/linear_code.py
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3284, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[8]>", line 1, in <module>
+        C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3292, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[12]>", line 1, in <module>
+        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3296, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[14]>", line 1, in <module>
+        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3300, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[16]>", line 1, in <module>
+        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+1 item had failures:
+   4 of  18 in sage.coding.linear_code.AbstractLinearCode.spectrum
+    [634 tests, 4 failures, 26.04 s]
+----------------------------------------------------------------------
+sage -t --long src/sage/tests/gap_packages.py  # 5 doctests failed
+sage -t --long src/sage/coding/linear_code.py  # 4 doctests failed
+----------------------------------------------------------------------
+\`\`\`
 
 Component: documentation
 
```




---

archive/issue_comments_297547.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,269 @@\n-\n+With Sage 7.2.beta6, within a \\`sage --gap\\` session:\n+\n+\\`\\`\\`\n+gap> LoadPackage(\"HAPcryst\");\n+#I  polymake command not found. Please set POLYMAKE_COMMAND by hand\n+----------------------------------------------------------------\n+Loading  polymaking 0.8.1\n+(A package for using polymake in GAP)\n+by Marc Roeder\n+----------------------------------------------------------------\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+Loading  Cryst 4.1.12 (Computing with crystallographic groups)\n+by Bettina Eick (http://www.icm.tu-bs.de/~beick/),\n+   Franz G\u00e4hler (http://www.math.uni-bielefeld.de/~gaehler/), and\n+   Werner Nickel (http://www.mathematik.tu-darmstadt.de/~nickel/).\n+Homepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+Loading  CrystCat 1.1.6 (The crystallographic groups catalog)\n+by Volkmar Felsch (http://www.math.rwth-aachen.de/~Volkmar.Felsch/) and\n+   Franz G\u00e4hler (http://www.math.uni-bielefeld.de/~gaehler/).\n+Homepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+Loading  AClib 1.2 (Almost Crystallographic Groups - A Library and Algorithms)\n+by Karel Dekimpe (http://www.kulak.ac.be/~dekimpe) and\n+   Bettina Eick (http://www.icm.tu-bs.de/~beick).\n+Homepage: http://www.icm.tu-bs.de/~beick/so.html\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+#I  HAP warning: Set POLYMAKE_PATH manually if needed. \n+#I  HAP warning: Set NEATO_PATH manually if needed.\n+#I  HAP warning: Set DISPLAY_PATH manually if needed.\n+Error, <opr> is not an operation called from\n+<compiled or corrupted statement>  called from\n+<function \"local function\">( <arguments> )\n+ called from read-eval loop at line 162 of /usr/local/src/sage-git/local/gap/latest/pkg/Hap1.11/lib/HapCocyclic/gap/ccgroup.gi\n+you can 'quit;' to quit to outer loop, or\n+you can 'return;' to continue\n+\\`\\`\\`\n+\n+A second issue is a mis-installation of guava:\n+\n+\\`\\`\\`\n+gap> DirectoriesPackagePrograms(\"guava\")[1];\n+dir(\"/usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13/bin/x86_64-unknown-linux-gnu-gcc-default64/\")\n+\\`\\`\\`\n+\n+but this directory does not exist, \\`bin\\` is missing below:\n+\n+\\`\\`\\`\n+$ ls -l /usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13\n+total 168\n+-rw-r--r-- 1 jdemeyer jdemeyer 11775 Mar 19 23:17 CHANGES.guava\n+-rwxr-xr-x 1 jdemeyer jdemeyer  1918 Mar 19 23:17 configure\n+-rw-r--r-- 1 jdemeyer jdemeyer 51189 Mar 19 23:17 COPYING.guava\n+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 doc\n+-rw-r--r-- 1 jdemeyer jdemeyer   368 Mar 19 23:17 gapdoc.g\n+-rw-r--r-- 1 jdemeyer jdemeyer  2059 Mar 19 23:17 HISTORY.guava\n+-rw-r--r-- 1 jdemeyer jdemeyer  1364 Mar 19 23:17 init.g\n+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 lib\n+-rw-r--r-- 1 jdemeyer jdemeyer 35120 Mar 19 23:17 LICENSE\n+-rw-r--r-- 1 jdemeyer jdemeyer  2858 Mar 19 23:17 Makefile.in\n+-rw-r--r-- 1 jdemeyer jdemeyer 11638 Mar 19 23:17 PackageInfo.g\n+-rw-r--r-- 1 jdemeyer jdemeyer  1420 Mar 19 23:17 read.g\n+-rw-r--r-- 1 jdemeyer jdemeyer  4882 Mar 19 23:17 README.guava\n+-rw-r--r-- 1 jdemeyer jdemeyer    98 Mar 19 23:17 README.md\n+drwxr-xr-x 4 jdemeyer jdemeyer  4096 Mar 30 00:32 src\n+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 tbl\n+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 tst\n+\\`\\`\\`\n+\n+---\n+\n+This causes doctest failures:\n+\n+\\`\\`\\`\n+sage -t --long src/sage/tests/gap_packages.py\n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 8, in sage.tests.gap_packages\n+Failed example:\n+    test_packages(pkgs, only_failures=True)    # optional - gap_packages\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages[2]>\", line 1, in <module>\n+        test_packages(pkgs, only_failures=True)    # optional - gap_packages\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 77, in test_packages\n+        output = libgap.eval('LoadPackage(\"{0}\")'.format(pkg))\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: Error, <opr> is not an operation\n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 47, in sage.tests.gap_packages.test_packages\n+Failed example:\n+    test_packages(['GAPDoc'])\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.test_packages[1]>\", line 1, in <module>\n+        test_packages(['GAPDoc'])\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 77, in test_packages\n+        output = libgap.eval('LoadPackage(\"{0}\")'.format(pkg))\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: \n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 54, in sage.tests.gap_packages.test_packages\n+Failed example:\n+    pkgs = all_installed_packages()\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.test_packages[2]>\", line 1, in <module>\n+        pkgs = all_installed_packages()\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 109, in all_installed_packages\n+        for path in libgap.eval('GAP_ROOT_PATHS').sage():\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: \n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 55, in sage.tests.gap_packages.test_packages\n+Failed example:\n+    test_packages(pkgs)    # random output\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.test_packages[3]>\", line 1, in <module>\n+        test_packages(pkgs)    # random output\n+    NameError: name 'pkgs' is not defined\n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 105, in sage.tests.gap_packages.all_installed_packages\n+Failed example:\n+    all_installed_packages()\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.all_installed_packages[1]>\", line 1, in <module>\n+        all_installed_packages()\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 109, in all_installed_packages\n+        for path in libgap.eval('GAP_ROOT_PATHS').sage():\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: \n+**********************************************************************\n+3 items had failures:\n+   1 of   4 in sage.tests.gap_packages\n+   1 of   3 in sage.tests.gap_packages.all_installed_packages\n+   3 of   5 in sage.tests.gap_packages.test_packages\n+    [9 tests, 5 failures, 4.49 s]\n+sage -t --long src/sage/coding/linear_code.py\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3284, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[8]>\", line 1, in <module>\n+        C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3292, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[12]>\", line 1, in <module>\n+        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3296, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[14]>\", line 1, in <module>\n+        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3300, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[16]>\", line 1, in <module>\n+        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+1 item had failures:\n+   4 of  18 in sage.coding.linear_code.AbstractLinearCode.spectrum\n+    [634 tests, 4 failures, 26.04 s]\n+----------------------------------------------------------------------\n+sage -t --long src/sage/tests/gap_packages.py  # 5 doctests failed\n+sage -t --long src/sage/coding/linear_code.py  # 4 doctests failed\n+----------------------------------------------------------------------\n+\\`\\`\\`\n \n Component: documentation\n \n```\n",
    "created_at": "2016-05-02T15:10:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297547",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,269 @@
-
+With Sage 7.2.beta6, within a \`sage --gap\` session:
+
+\`\`\`
+gap> LoadPackage("HAPcryst");
+#I  polymake command not found. Please set POLYMAKE_COMMAND by hand
+----------------------------------------------------------------
+Loading  polymaking 0.8.1
+(A package for using polymake in GAP)
+by Marc Roeder
+----------------------------------------------------------------
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+Loading  Cryst 4.1.12 (Computing with crystallographic groups)
+by Bettina Eick (http://www.icm.tu-bs.de/~beick/),
+   Franz Gähler (http://www.math.uni-bielefeld.de/~gaehler/), and
+   Werner Nickel (http://www.mathematik.tu-darmstadt.de/~nickel/).
+Homepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+Loading  CrystCat 1.1.6 (The crystallographic groups catalog)
+by Volkmar Felsch (http://www.math.rwth-aachen.de/~Volkmar.Felsch/) and
+   Franz Gähler (http://www.math.uni-bielefeld.de/~gaehler/).
+Homepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+Loading  AClib 1.2 (Almost Crystallographic Groups - A Library and Algorithms)
+by Karel Dekimpe (http://www.kulak.ac.be/~dekimpe) and
+   Bettina Eick (http://www.icm.tu-bs.de/~beick).
+Homepage: http://www.icm.tu-bs.de/~beick/so.html
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+#I  HAP warning: Set POLYMAKE_PATH manually if needed. 
+#I  HAP warning: Set NEATO_PATH manually if needed.
+#I  HAP warning: Set DISPLAY_PATH manually if needed.
+Error, <opr> is not an operation called from
+<compiled or corrupted statement>  called from
+<function "local function">( <arguments> )
+ called from read-eval loop at line 162 of /usr/local/src/sage-git/local/gap/latest/pkg/Hap1.11/lib/HapCocyclic/gap/ccgroup.gi
+you can 'quit;' to quit to outer loop, or
+you can 'return;' to continue
+\`\`\`
+
+A second issue is a mis-installation of guava:
+
+\`\`\`
+gap> DirectoriesPackagePrograms("guava")[1];
+dir("/usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13/bin/x86_64-unknown-linux-gnu-gcc-default64/")
+\`\`\`
+
+but this directory does not exist, \`bin\` is missing below:
+
+\`\`\`
+$ ls -l /usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13
+total 168
+-rw-r--r-- 1 jdemeyer jdemeyer 11775 Mar 19 23:17 CHANGES.guava
+-rwxr-xr-x 1 jdemeyer jdemeyer  1918 Mar 19 23:17 configure
+-rw-r--r-- 1 jdemeyer jdemeyer 51189 Mar 19 23:17 COPYING.guava
+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 doc
+-rw-r--r-- 1 jdemeyer jdemeyer   368 Mar 19 23:17 gapdoc.g
+-rw-r--r-- 1 jdemeyer jdemeyer  2059 Mar 19 23:17 HISTORY.guava
+-rw-r--r-- 1 jdemeyer jdemeyer  1364 Mar 19 23:17 init.g
+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 lib
+-rw-r--r-- 1 jdemeyer jdemeyer 35120 Mar 19 23:17 LICENSE
+-rw-r--r-- 1 jdemeyer jdemeyer  2858 Mar 19 23:17 Makefile.in
+-rw-r--r-- 1 jdemeyer jdemeyer 11638 Mar 19 23:17 PackageInfo.g
+-rw-r--r-- 1 jdemeyer jdemeyer  1420 Mar 19 23:17 read.g
+-rw-r--r-- 1 jdemeyer jdemeyer  4882 Mar 19 23:17 README.guava
+-rw-r--r-- 1 jdemeyer jdemeyer    98 Mar 19 23:17 README.md
+drwxr-xr-x 4 jdemeyer jdemeyer  4096 Mar 30 00:32 src
+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 tbl
+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 tst
+\`\`\`
+
+---
+
+This causes doctest failures:
+
+\`\`\`
+sage -t --long src/sage/tests/gap_packages.py
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 8, in sage.tests.gap_packages
+Failed example:
+    test_packages(pkgs, only_failures=True)    # optional - gap_packages
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages[2]>", line 1, in <module>
+        test_packages(pkgs, only_failures=True)    # optional - gap_packages
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 77, in test_packages
+        output = libgap.eval('LoadPackage("{0}")'.format(pkg))
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: Error, <opr> is not an operation
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 47, in sage.tests.gap_packages.test_packages
+Failed example:
+    test_packages(['GAPDoc'])
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.test_packages[1]>", line 1, in <module>
+        test_packages(['GAPDoc'])
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 77, in test_packages
+        output = libgap.eval('LoadPackage("{0}")'.format(pkg))
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: 
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 54, in sage.tests.gap_packages.test_packages
+Failed example:
+    pkgs = all_installed_packages()
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.test_packages[2]>", line 1, in <module>
+        pkgs = all_installed_packages()
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 109, in all_installed_packages
+        for path in libgap.eval('GAP_ROOT_PATHS').sage():
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: 
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 55, in sage.tests.gap_packages.test_packages
+Failed example:
+    test_packages(pkgs)    # random output
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.test_packages[3]>", line 1, in <module>
+        test_packages(pkgs)    # random output
+    NameError: name 'pkgs' is not defined
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 105, in sage.tests.gap_packages.all_installed_packages
+Failed example:
+    all_installed_packages()
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.all_installed_packages[1]>", line 1, in <module>
+        all_installed_packages()
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 109, in all_installed_packages
+        for path in libgap.eval('GAP_ROOT_PATHS').sage():
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: 
+**********************************************************************
+3 items had failures:
+   1 of   4 in sage.tests.gap_packages
+   1 of   3 in sage.tests.gap_packages.all_installed_packages
+   3 of   5 in sage.tests.gap_packages.test_packages
+    [9 tests, 5 failures, 4.49 s]
+sage -t --long src/sage/coding/linear_code.py
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3284, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[8]>", line 1, in <module>
+        C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3292, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[12]>", line 1, in <module>
+        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3296, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[14]>", line 1, in <module>
+        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3300, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[16]>", line 1, in <module>
+        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+1 item had failures:
+   4 of  18 in sage.coding.linear_code.AbstractLinearCode.spectrum
+    [634 tests, 4 failures, 26.04 s]
+----------------------------------------------------------------------
+sage -t --long src/sage/tests/gap_packages.py  # 5 doctests failed
+sage -t --long src/sage/coding/linear_code.py  # 4 doctests failed
+----------------------------------------------------------------------
+\`\`\`
 
 Component: documentation
 
```




---

archive/issue_comments_297548.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,269 @@\n-\n+With Sage 7.2.beta6 with \\`gap_packages\\` installed, within a \\`sage --gap\\` session:\n+\n+\\`\\`\\`\n+gap> LoadPackage(\"HAPcryst\");\n+#I  polymake command not found. Please set POLYMAKE_COMMAND by hand\n+----------------------------------------------------------------\n+Loading  polymaking 0.8.1\n+(A package for using polymake in GAP)\n+by Marc Roeder\n+----------------------------------------------------------------\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+Loading  Cryst 4.1.12 (Computing with crystallographic groups)\n+by Bettina Eick (http://www.icm.tu-bs.de/~beick/),\n+   Franz G\u00e4hler (http://www.math.uni-bielefeld.de/~gaehler/), and\n+   Werner Nickel (http://www.mathematik.tu-darmstadt.de/~nickel/).\n+Homepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+Loading  CrystCat 1.1.6 (The crystallographic groups catalog)\n+by Volkmar Felsch (http://www.math.rwth-aachen.de/~Volkmar.Felsch/) and\n+   Franz G\u00e4hler (http://www.math.uni-bielefeld.de/~gaehler/).\n+Homepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+Loading  AClib 1.2 (Almost Crystallographic Groups - A Library and Algorithms)\n+by Karel Dekimpe (http://www.kulak.ac.be/~dekimpe) and\n+   Bettina Eick (http://www.icm.tu-bs.de/~beick).\n+Homepage: http://www.icm.tu-bs.de/~beick/so.html\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+#I  HAP warning: Set POLYMAKE_PATH manually if needed. \n+#I  HAP warning: Set NEATO_PATH manually if needed.\n+#I  HAP warning: Set DISPLAY_PATH manually if needed.\n+Error, <opr> is not an operation called from\n+<compiled or corrupted statement>  called from\n+<function \"local function\">( <arguments> )\n+ called from read-eval loop at line 162 of /usr/local/src/sage-git/local/gap/latest/pkg/Hap1.11/lib/HapCocyclic/gap/ccgroup.gi\n+you can 'quit;' to quit to outer loop, or\n+you can 'return;' to continue\n+\\`\\`\\`\n+\n+A second issue is a mis-installation of guava:\n+\n+\\`\\`\\`\n+gap> DirectoriesPackagePrograms(\"guava\")[1];\n+dir(\"/usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13/bin/x86_64-unknown-linux-gnu-gcc-default64/\")\n+\\`\\`\\`\n+\n+but this directory does not exist, \\`bin\\` is missing below:\n+\n+\\`\\`\\`\n+$ ls -l /usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13\n+total 168\n+-rw-r--r-- 1 jdemeyer jdemeyer 11775 Mar 19 23:17 CHANGES.guava\n+-rwxr-xr-x 1 jdemeyer jdemeyer  1918 Mar 19 23:17 configure\n+-rw-r--r-- 1 jdemeyer jdemeyer 51189 Mar 19 23:17 COPYING.guava\n+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 doc\n+-rw-r--r-- 1 jdemeyer jdemeyer   368 Mar 19 23:17 gapdoc.g\n+-rw-r--r-- 1 jdemeyer jdemeyer  2059 Mar 19 23:17 HISTORY.guava\n+-rw-r--r-- 1 jdemeyer jdemeyer  1364 Mar 19 23:17 init.g\n+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 lib\n+-rw-r--r-- 1 jdemeyer jdemeyer 35120 Mar 19 23:17 LICENSE\n+-rw-r--r-- 1 jdemeyer jdemeyer  2858 Mar 19 23:17 Makefile.in\n+-rw-r--r-- 1 jdemeyer jdemeyer 11638 Mar 19 23:17 PackageInfo.g\n+-rw-r--r-- 1 jdemeyer jdemeyer  1420 Mar 19 23:17 read.g\n+-rw-r--r-- 1 jdemeyer jdemeyer  4882 Mar 19 23:17 README.guava\n+-rw-r--r-- 1 jdemeyer jdemeyer    98 Mar 19 23:17 README.md\n+drwxr-xr-x 4 jdemeyer jdemeyer  4096 Mar 30 00:32 src\n+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 tbl\n+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 tst\n+\\`\\`\\`\n+\n+---\n+\n+This causes doctest failures:\n+\n+\\`\\`\\`\n+sage -t --long src/sage/tests/gap_packages.py\n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 8, in sage.tests.gap_packages\n+Failed example:\n+    test_packages(pkgs, only_failures=True)    # optional - gap_packages\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages[2]>\", line 1, in <module>\n+        test_packages(pkgs, only_failures=True)    # optional - gap_packages\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 77, in test_packages\n+        output = libgap.eval('LoadPackage(\"{0}\")'.format(pkg))\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: Error, <opr> is not an operation\n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 47, in sage.tests.gap_packages.test_packages\n+Failed example:\n+    test_packages(['GAPDoc'])\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.test_packages[1]>\", line 1, in <module>\n+        test_packages(['GAPDoc'])\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 77, in test_packages\n+        output = libgap.eval('LoadPackage(\"{0}\")'.format(pkg))\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: \n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 54, in sage.tests.gap_packages.test_packages\n+Failed example:\n+    pkgs = all_installed_packages()\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.test_packages[2]>\", line 1, in <module>\n+        pkgs = all_installed_packages()\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 109, in all_installed_packages\n+        for path in libgap.eval('GAP_ROOT_PATHS').sage():\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: \n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 55, in sage.tests.gap_packages.test_packages\n+Failed example:\n+    test_packages(pkgs)    # random output\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.test_packages[3]>\", line 1, in <module>\n+        test_packages(pkgs)    # random output\n+    NameError: name 'pkgs' is not defined\n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 105, in sage.tests.gap_packages.all_installed_packages\n+Failed example:\n+    all_installed_packages()\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.all_installed_packages[1]>\", line 1, in <module>\n+        all_installed_packages()\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 109, in all_installed_packages\n+        for path in libgap.eval('GAP_ROOT_PATHS').sage():\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: \n+**********************************************************************\n+3 items had failures:\n+   1 of   4 in sage.tests.gap_packages\n+   1 of   3 in sage.tests.gap_packages.all_installed_packages\n+   3 of   5 in sage.tests.gap_packages.test_packages\n+    [9 tests, 5 failures, 4.49 s]\n+sage -t --long src/sage/coding/linear_code.py\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3284, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[8]>\", line 1, in <module>\n+        C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3292, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[12]>\", line 1, in <module>\n+        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3296, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[14]>\", line 1, in <module>\n+        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3300, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[16]>\", line 1, in <module>\n+        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+1 item had failures:\n+   4 of  18 in sage.coding.linear_code.AbstractLinearCode.spectrum\n+    [634 tests, 4 failures, 26.04 s]\n+----------------------------------------------------------------------\n+sage -t --long src/sage/tests/gap_packages.py  # 5 doctests failed\n+sage -t --long src/sage/coding/linear_code.py  # 4 doctests failed\n+----------------------------------------------------------------------\n+\\`\\`\\`\n \n Component: documentation\n \n```\n",
    "created_at": "2016-05-02T15:10:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297548",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,269 @@
-
+With Sage 7.2.beta6 with \`gap_packages\` installed, within a \`sage --gap\` session:
+
+\`\`\`
+gap> LoadPackage("HAPcryst");
+#I  polymake command not found. Please set POLYMAKE_COMMAND by hand
+----------------------------------------------------------------
+Loading  polymaking 0.8.1
+(A package for using polymake in GAP)
+by Marc Roeder
+----------------------------------------------------------------
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+Loading  Cryst 4.1.12 (Computing with crystallographic groups)
+by Bettina Eick (http://www.icm.tu-bs.de/~beick/),
+   Franz Gähler (http://www.math.uni-bielefeld.de/~gaehler/), and
+   Werner Nickel (http://www.mathematik.tu-darmstadt.de/~nickel/).
+Homepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+Loading  CrystCat 1.1.6 (The crystallographic groups catalog)
+by Volkmar Felsch (http://www.math.rwth-aachen.de/~Volkmar.Felsch/) and
+   Franz Gähler (http://www.math.uni-bielefeld.de/~gaehler/).
+Homepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+Loading  AClib 1.2 (Almost Crystallographic Groups - A Library and Algorithms)
+by Karel Dekimpe (http://www.kulak.ac.be/~dekimpe) and
+   Bettina Eick (http://www.icm.tu-bs.de/~beick).
+Homepage: http://www.icm.tu-bs.de/~beick/so.html
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+#I  HAP warning: Set POLYMAKE_PATH manually if needed. 
+#I  HAP warning: Set NEATO_PATH manually if needed.
+#I  HAP warning: Set DISPLAY_PATH manually if needed.
+Error, <opr> is not an operation called from
+<compiled or corrupted statement>  called from
+<function "local function">( <arguments> )
+ called from read-eval loop at line 162 of /usr/local/src/sage-git/local/gap/latest/pkg/Hap1.11/lib/HapCocyclic/gap/ccgroup.gi
+you can 'quit;' to quit to outer loop, or
+you can 'return;' to continue
+\`\`\`
+
+A second issue is a mis-installation of guava:
+
+\`\`\`
+gap> DirectoriesPackagePrograms("guava")[1];
+dir("/usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13/bin/x86_64-unknown-linux-gnu-gcc-default64/")
+\`\`\`
+
+but this directory does not exist, \`bin\` is missing below:
+
+\`\`\`
+$ ls -l /usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13
+total 168
+-rw-r--r-- 1 jdemeyer jdemeyer 11775 Mar 19 23:17 CHANGES.guava
+-rwxr-xr-x 1 jdemeyer jdemeyer  1918 Mar 19 23:17 configure
+-rw-r--r-- 1 jdemeyer jdemeyer 51189 Mar 19 23:17 COPYING.guava
+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 doc
+-rw-r--r-- 1 jdemeyer jdemeyer   368 Mar 19 23:17 gapdoc.g
+-rw-r--r-- 1 jdemeyer jdemeyer  2059 Mar 19 23:17 HISTORY.guava
+-rw-r--r-- 1 jdemeyer jdemeyer  1364 Mar 19 23:17 init.g
+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 lib
+-rw-r--r-- 1 jdemeyer jdemeyer 35120 Mar 19 23:17 LICENSE
+-rw-r--r-- 1 jdemeyer jdemeyer  2858 Mar 19 23:17 Makefile.in
+-rw-r--r-- 1 jdemeyer jdemeyer 11638 Mar 19 23:17 PackageInfo.g
+-rw-r--r-- 1 jdemeyer jdemeyer  1420 Mar 19 23:17 read.g
+-rw-r--r-- 1 jdemeyer jdemeyer  4882 Mar 19 23:17 README.guava
+-rw-r--r-- 1 jdemeyer jdemeyer    98 Mar 19 23:17 README.md
+drwxr-xr-x 4 jdemeyer jdemeyer  4096 Mar 30 00:32 src
+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 tbl
+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 tst
+\`\`\`
+
+---
+
+This causes doctest failures:
+
+\`\`\`
+sage -t --long src/sage/tests/gap_packages.py
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 8, in sage.tests.gap_packages
+Failed example:
+    test_packages(pkgs, only_failures=True)    # optional - gap_packages
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages[2]>", line 1, in <module>
+        test_packages(pkgs, only_failures=True)    # optional - gap_packages
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 77, in test_packages
+        output = libgap.eval('LoadPackage("{0}")'.format(pkg))
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: Error, <opr> is not an operation
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 47, in sage.tests.gap_packages.test_packages
+Failed example:
+    test_packages(['GAPDoc'])
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.test_packages[1]>", line 1, in <module>
+        test_packages(['GAPDoc'])
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 77, in test_packages
+        output = libgap.eval('LoadPackage("{0}")'.format(pkg))
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: 
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 54, in sage.tests.gap_packages.test_packages
+Failed example:
+    pkgs = all_installed_packages()
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.test_packages[2]>", line 1, in <module>
+        pkgs = all_installed_packages()
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 109, in all_installed_packages
+        for path in libgap.eval('GAP_ROOT_PATHS').sage():
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: 
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 55, in sage.tests.gap_packages.test_packages
+Failed example:
+    test_packages(pkgs)    # random output
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.test_packages[3]>", line 1, in <module>
+        test_packages(pkgs)    # random output
+    NameError: name 'pkgs' is not defined
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 105, in sage.tests.gap_packages.all_installed_packages
+Failed example:
+    all_installed_packages()
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.all_installed_packages[1]>", line 1, in <module>
+        all_installed_packages()
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 109, in all_installed_packages
+        for path in libgap.eval('GAP_ROOT_PATHS').sage():
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: 
+**********************************************************************
+3 items had failures:
+   1 of   4 in sage.tests.gap_packages
+   1 of   3 in sage.tests.gap_packages.all_installed_packages
+   3 of   5 in sage.tests.gap_packages.test_packages
+    [9 tests, 5 failures, 4.49 s]
+sage -t --long src/sage/coding/linear_code.py
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3284, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[8]>", line 1, in <module>
+        C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3292, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[12]>", line 1, in <module>
+        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3296, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[14]>", line 1, in <module>
+        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3300, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[16]>", line 1, in <module>
+        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+1 item had failures:
+   4 of  18 in sage.coding.linear_code.AbstractLinearCode.spectrum
+    [634 tests, 4 failures, 26.04 s]
+----------------------------------------------------------------------
+sage -t --long src/sage/tests/gap_packages.py  # 5 doctests failed
+sage -t --long src/sage/coding/linear_code.py  # 4 doctests failed
+----------------------------------------------------------------------
+\`\`\`
 
 Component: documentation
 
```




---

archive/issue_comments_297549.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,269 @@\n-\n+With Sage 7.2.beta6, within a \\`sage --gap\\` session:\n+\n+\\`\\`\\`\n+gap> LoadPackage(\"HAPcryst\");\n+#I  polymake command not found. Please set POLYMAKE_COMMAND by hand\n+----------------------------------------------------------------\n+Loading  polymaking 0.8.1\n+(A package for using polymake in GAP)\n+by Marc Roeder\n+----------------------------------------------------------------\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+Loading  Cryst 4.1.12 (Computing with crystallographic groups)\n+by Bettina Eick (http://www.icm.tu-bs.de/~beick/),\n+   Franz G\u00e4hler (http://www.math.uni-bielefeld.de/~gaehler/), and\n+   Werner Nickel (http://www.mathematik.tu-darmstadt.de/~nickel/).\n+Homepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+Loading  CrystCat 1.1.6 (The crystallographic groups catalog)\n+by Volkmar Felsch (http://www.math.rwth-aachen.de/~Volkmar.Felsch/) and\n+   Franz G\u00e4hler (http://www.math.uni-bielefeld.de/~gaehler/).\n+Homepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+Loading  AClib 1.2 (Almost Crystallographic Groups - A Library and Algorithms)\n+by Karel Dekimpe (http://www.kulak.ac.be/~dekimpe) and\n+   Bettina Eick (http://www.icm.tu-bs.de/~beick).\n+Homepage: http://www.icm.tu-bs.de/~beick/so.html\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+#I  HAP warning: Set POLYMAKE_PATH manually if needed. \n+#I  HAP warning: Set NEATO_PATH manually if needed.\n+#I  HAP warning: Set DISPLAY_PATH manually if needed.\n+Error, <opr> is not an operation called from\n+<compiled or corrupted statement>  called from\n+<function \"local function\">( <arguments> )\n+ called from read-eval loop at line 162 of /usr/local/src/sage-git/local/gap/latest/pkg/Hap1.11/lib/HapCocyclic/gap/ccgroup.gi\n+you can 'quit;' to quit to outer loop, or\n+you can 'return;' to continue\n+\\`\\`\\`\n+\n+A second issue is a mis-installation of guava:\n+\n+\\`\\`\\`\n+gap> DirectoriesPackagePrograms(\"guava\")[1];\n+dir(\"/usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13/bin/x86_64-unknown-linux-gnu-gcc-default64/\")\n+\\`\\`\\`\n+\n+but this directory does not exist, \\`bin\\` is missing below:\n+\n+\\`\\`\\`\n+$ ls -l /usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13\n+total 168\n+-rw-r--r-- 1 jdemeyer jdemeyer 11775 Mar 19 23:17 CHANGES.guava\n+-rwxr-xr-x 1 jdemeyer jdemeyer  1918 Mar 19 23:17 configure\n+-rw-r--r-- 1 jdemeyer jdemeyer 51189 Mar 19 23:17 COPYING.guava\n+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 doc\n+-rw-r--r-- 1 jdemeyer jdemeyer   368 Mar 19 23:17 gapdoc.g\n+-rw-r--r-- 1 jdemeyer jdemeyer  2059 Mar 19 23:17 HISTORY.guava\n+-rw-r--r-- 1 jdemeyer jdemeyer  1364 Mar 19 23:17 init.g\n+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 lib\n+-rw-r--r-- 1 jdemeyer jdemeyer 35120 Mar 19 23:17 LICENSE\n+-rw-r--r-- 1 jdemeyer jdemeyer  2858 Mar 19 23:17 Makefile.in\n+-rw-r--r-- 1 jdemeyer jdemeyer 11638 Mar 19 23:17 PackageInfo.g\n+-rw-r--r-- 1 jdemeyer jdemeyer  1420 Mar 19 23:17 read.g\n+-rw-r--r-- 1 jdemeyer jdemeyer  4882 Mar 19 23:17 README.guava\n+-rw-r--r-- 1 jdemeyer jdemeyer    98 Mar 19 23:17 README.md\n+drwxr-xr-x 4 jdemeyer jdemeyer  4096 Mar 30 00:32 src\n+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 tbl\n+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 tst\n+\\`\\`\\`\n+\n+---\n+\n+This causes doctest failures:\n+\n+\\`\\`\\`\n+sage -t --long src/sage/tests/gap_packages.py\n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 8, in sage.tests.gap_packages\n+Failed example:\n+    test_packages(pkgs, only_failures=True)    # optional - gap_packages\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages[2]>\", line 1, in <module>\n+        test_packages(pkgs, only_failures=True)    # optional - gap_packages\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 77, in test_packages\n+        output = libgap.eval('LoadPackage(\"{0}\")'.format(pkg))\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: Error, <opr> is not an operation\n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 47, in sage.tests.gap_packages.test_packages\n+Failed example:\n+    test_packages(['GAPDoc'])\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.test_packages[1]>\", line 1, in <module>\n+        test_packages(['GAPDoc'])\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 77, in test_packages\n+        output = libgap.eval('LoadPackage(\"{0}\")'.format(pkg))\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: \n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 54, in sage.tests.gap_packages.test_packages\n+Failed example:\n+    pkgs = all_installed_packages()\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.test_packages[2]>\", line 1, in <module>\n+        pkgs = all_installed_packages()\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 109, in all_installed_packages\n+        for path in libgap.eval('GAP_ROOT_PATHS').sage():\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: \n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 55, in sage.tests.gap_packages.test_packages\n+Failed example:\n+    test_packages(pkgs)    # random output\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.test_packages[3]>\", line 1, in <module>\n+        test_packages(pkgs)    # random output\n+    NameError: name 'pkgs' is not defined\n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 105, in sage.tests.gap_packages.all_installed_packages\n+Failed example:\n+    all_installed_packages()\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.all_installed_packages[1]>\", line 1, in <module>\n+        all_installed_packages()\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 109, in all_installed_packages\n+        for path in libgap.eval('GAP_ROOT_PATHS').sage():\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: \n+**********************************************************************\n+3 items had failures:\n+   1 of   4 in sage.tests.gap_packages\n+   1 of   3 in sage.tests.gap_packages.all_installed_packages\n+   3 of   5 in sage.tests.gap_packages.test_packages\n+    [9 tests, 5 failures, 4.49 s]\n+sage -t --long src/sage/coding/linear_code.py\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3284, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[8]>\", line 1, in <module>\n+        C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3292, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[12]>\", line 1, in <module>\n+        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3296, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[14]>\", line 1, in <module>\n+        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3300, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[16]>\", line 1, in <module>\n+        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+1 item had failures:\n+   4 of  18 in sage.coding.linear_code.AbstractLinearCode.spectrum\n+    [634 tests, 4 failures, 26.04 s]\n+----------------------------------------------------------------------\n+sage -t --long src/sage/tests/gap_packages.py  # 5 doctests failed\n+sage -t --long src/sage/coding/linear_code.py  # 4 doctests failed\n+----------------------------------------------------------------------\n+\\`\\`\\`\n \n Component: documentation\n \n```\n",
    "created_at": "2016-05-02T15:18:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297549",
    "user": "https://github.com/dimpase"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,269 @@
-
+With Sage 7.2.beta6, within a \`sage --gap\` session:
+
+\`\`\`
+gap> LoadPackage("HAPcryst");
+#I  polymake command not found. Please set POLYMAKE_COMMAND by hand
+----------------------------------------------------------------
+Loading  polymaking 0.8.1
+(A package for using polymake in GAP)
+by Marc Roeder
+----------------------------------------------------------------
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+Loading  Cryst 4.1.12 (Computing with crystallographic groups)
+by Bettina Eick (http://www.icm.tu-bs.de/~beick/),
+   Franz Gähler (http://www.math.uni-bielefeld.de/~gaehler/), and
+   Werner Nickel (http://www.mathematik.tu-darmstadt.de/~nickel/).
+Homepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+Loading  CrystCat 1.1.6 (The crystallographic groups catalog)
+by Volkmar Felsch (http://www.math.rwth-aachen.de/~Volkmar.Felsch/) and
+   Franz Gähler (http://www.math.uni-bielefeld.de/~gaehler/).
+Homepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+Loading  AClib 1.2 (Almost Crystallographic Groups - A Library and Algorithms)
+by Karel Dekimpe (http://www.kulak.ac.be/~dekimpe) and
+   Bettina Eick (http://www.icm.tu-bs.de/~beick).
+Homepage: http://www.icm.tu-bs.de/~beick/so.html
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+#I  HAP warning: Set POLYMAKE_PATH manually if needed. 
+#I  HAP warning: Set NEATO_PATH manually if needed.
+#I  HAP warning: Set DISPLAY_PATH manually if needed.
+Error, <opr> is not an operation called from
+<compiled or corrupted statement>  called from
+<function "local function">( <arguments> )
+ called from read-eval loop at line 162 of /usr/local/src/sage-git/local/gap/latest/pkg/Hap1.11/lib/HapCocyclic/gap/ccgroup.gi
+you can 'quit;' to quit to outer loop, or
+you can 'return;' to continue
+\`\`\`
+
+A second issue is a mis-installation of guava:
+
+\`\`\`
+gap> DirectoriesPackagePrograms("guava")[1];
+dir("/usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13/bin/x86_64-unknown-linux-gnu-gcc-default64/")
+\`\`\`
+
+but this directory does not exist, \`bin\` is missing below:
+
+\`\`\`
+$ ls -l /usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13
+total 168
+-rw-r--r-- 1 jdemeyer jdemeyer 11775 Mar 19 23:17 CHANGES.guava
+-rwxr-xr-x 1 jdemeyer jdemeyer  1918 Mar 19 23:17 configure
+-rw-r--r-- 1 jdemeyer jdemeyer 51189 Mar 19 23:17 COPYING.guava
+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 doc
+-rw-r--r-- 1 jdemeyer jdemeyer   368 Mar 19 23:17 gapdoc.g
+-rw-r--r-- 1 jdemeyer jdemeyer  2059 Mar 19 23:17 HISTORY.guava
+-rw-r--r-- 1 jdemeyer jdemeyer  1364 Mar 19 23:17 init.g
+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 lib
+-rw-r--r-- 1 jdemeyer jdemeyer 35120 Mar 19 23:17 LICENSE
+-rw-r--r-- 1 jdemeyer jdemeyer  2858 Mar 19 23:17 Makefile.in
+-rw-r--r-- 1 jdemeyer jdemeyer 11638 Mar 19 23:17 PackageInfo.g
+-rw-r--r-- 1 jdemeyer jdemeyer  1420 Mar 19 23:17 read.g
+-rw-r--r-- 1 jdemeyer jdemeyer  4882 Mar 19 23:17 README.guava
+-rw-r--r-- 1 jdemeyer jdemeyer    98 Mar 19 23:17 README.md
+drwxr-xr-x 4 jdemeyer jdemeyer  4096 Mar 30 00:32 src
+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 tbl
+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 tst
+\`\`\`
+
+---
+
+This causes doctest failures:
+
+\`\`\`
+sage -t --long src/sage/tests/gap_packages.py
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 8, in sage.tests.gap_packages
+Failed example:
+    test_packages(pkgs, only_failures=True)    # optional - gap_packages
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages[2]>", line 1, in <module>
+        test_packages(pkgs, only_failures=True)    # optional - gap_packages
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 77, in test_packages
+        output = libgap.eval('LoadPackage("{0}")'.format(pkg))
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: Error, <opr> is not an operation
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 47, in sage.tests.gap_packages.test_packages
+Failed example:
+    test_packages(['GAPDoc'])
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.test_packages[1]>", line 1, in <module>
+        test_packages(['GAPDoc'])
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 77, in test_packages
+        output = libgap.eval('LoadPackage("{0}")'.format(pkg))
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: 
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 54, in sage.tests.gap_packages.test_packages
+Failed example:
+    pkgs = all_installed_packages()
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.test_packages[2]>", line 1, in <module>
+        pkgs = all_installed_packages()
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 109, in all_installed_packages
+        for path in libgap.eval('GAP_ROOT_PATHS').sage():
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: 
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 55, in sage.tests.gap_packages.test_packages
+Failed example:
+    test_packages(pkgs)    # random output
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.test_packages[3]>", line 1, in <module>
+        test_packages(pkgs)    # random output
+    NameError: name 'pkgs' is not defined
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 105, in sage.tests.gap_packages.all_installed_packages
+Failed example:
+    all_installed_packages()
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.all_installed_packages[1]>", line 1, in <module>
+        all_installed_packages()
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 109, in all_installed_packages
+        for path in libgap.eval('GAP_ROOT_PATHS').sage():
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: 
+**********************************************************************
+3 items had failures:
+   1 of   4 in sage.tests.gap_packages
+   1 of   3 in sage.tests.gap_packages.all_installed_packages
+   3 of   5 in sage.tests.gap_packages.test_packages
+    [9 tests, 5 failures, 4.49 s]
+sage -t --long src/sage/coding/linear_code.py
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3284, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[8]>", line 1, in <module>
+        C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3292, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[12]>", line 1, in <module>
+        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3296, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[14]>", line 1, in <module>
+        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3300, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[16]>", line 1, in <module>
+        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+1 item had failures:
+   4 of  18 in sage.coding.linear_code.AbstractLinearCode.spectrum
+    [634 tests, 4 failures, 26.04 s]
+----------------------------------------------------------------------
+sage -t --long src/sage/tests/gap_packages.py  # 5 doctests failed
+sage -t --long src/sage/coding/linear_code.py  # 4 doctests failed
+----------------------------------------------------------------------
+\`\`\`
 
 Component: documentation
 
```




---

archive/issue_comments_297550.json:
```json
{
    "body": "<a id='comment:27'></a>ok: `./spkg-install: line 72: cd: /home/scratch/dimpase/sage/sage/local/gap/latest/pkg/guava-3*: No such file or directory`\n\nbut why?! This is expansion of `cd \"$PKG_DIR/guava-3*\"`. And it seems to work:\n\n```\n$ cd /home/scratch/dimpase/sage/sage/local/gap/latest/pkg/guava-3*\nclpc171[/home/scratch/dimpase/sage/sage/local/gap/latest/pkg/guava-3.13]$ \n```",
    "created_at": "2016-05-02T15:18:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297550",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:27'></a>ok: `./spkg-install: line 72: cd: /home/scratch/dimpase/sage/sage/local/gap/latest/pkg/guava-3*: No such file or directory`

but why?! This is expansion of `cd "$PKG_DIR/guava-3*"`. And it seems to work:

```
$ cd /home/scratch/dimpase/sage/sage/local/gap/latest/pkg/guava-3*
clpc171[/home/scratch/dimpase/sage/sage/local/gap/latest/pkg/guava-3.13]$ 
```



---

archive/issue_comments_297551.json:
```json
{
    "body": "<a id='comment:28'></a>guava issue fix - see the commit\n\n---\nNew commits:",
    "created_at": "2016-05-02T15:36:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297551",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:28'></a>guava issue fix - see the commit

---
New commits:



---

archive/issue_comments_297552.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-05-02T15:43:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297552",
    "user": "https://github.com/dimpase"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_297553.json:
```json
{
    "body": "<a id='comment:29'></a>I cannot reproduce the HAPcryst thing though. I get \n\n```\n$ sage -t --long src/sage/tests/gap_packages.py\nRunning doctests with ID 2016-05-02-16-39-21-92780109.\nGit branch: gappacs\nUsing --optional=cbc,csdp,database_gap,gap_packages,mpir,python2,sage\nDoctesting 1 file.\nsage -t --long --warn-long 56.7 src/sage/tests/gap_packages.py\n    [10 tests, 3.75 s]\n----------------------------------------------------------------------\nAll tests passed!\n```\nAs I get 10 tests run as opposed to 9 above, I probably have more packages installed...\n\nand \n\n```\n$ sage --gap\n \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   GAP 4.8.3, 19-Mar-2016, build of 2016-04-06 10:34:11 (BST)\n \u2502  GAP  \u2502   http://www.gap-system.org\n \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   Architecture: x86_64-unknown-linux-gnu-gcc-default64\n Libs used:  gmp, readline\n Loading the library and packages ...\n Components: trans 1.0, prim 2.1, small* 1.0, id* 1.0\n Packages:   Alnuth 3.0.0, AtlasRep 1.5.0, AutPGrp 1.6, CTblLib 1.2.2, FactInt 1.5.3, GAPDoc 1.5.1, LAGUNA 3.7.0, \n             Polycyclic 2.11, TomLib 1.2.5\n Try '?help' for help. See also  '?copyright' and  '?authors'\ngap> LoadPackage(\"HAPcryst\");\n#I  polymake command not found. Please set POLYMAKE_COMMAND by hand\n----------------------------------------------------------------\nLoading  polymaking 0.8.1\n(A package for using polymake in GAP)\nby Marc Roeder\n----------------------------------------------------------------\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nLoading  Cryst 4.1.12 (Computing with crystallographic groups)\nby Bettina Eick (http://www.icm.tu-bs.de/~beick/),\n   Franz G\u00e4hler (http://www.math.uni-bielefeld.de/~gaehler/), and\n   Werner Nickel (http://www.mathematik.tu-darmstadt.de/~nickel/).\nHomepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nLoading  CrystCat 1.1.6 (The crystallographic groups catalog)\nby Volkmar Felsch (http://www.math.rwth-aachen.de/~Volkmar.Felsch/) and\n   Franz G\u00e4hler (http://www.math.uni-bielefeld.de/~gaehler/).\nHomepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nLoading  AClib 1.2 (Almost Crystallographic Groups - A Library and Algorithms)\nby Karel Dekimpe (http://www.kulak.ac.be/~dekimpe) and\n   Bettina Eick (http://www.icm.tu-bs.de/~beick).\nHomepage: http://www.icm.tu-bs.de/~beick/so.html\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n#I  HAP warning: Set POLYMAKE_PATH manually if needed. \n#I  MakeReadOnlyGlobal: GradedAlgebraPresentationType no value bound\nLoading HAP 1.11.13 ...\n----------------------------------------------------------------\nThis is HAPcryst version 0.1.11\nby Marc Roeder\n----------------------------------------------------------------\ntrue\ngap> \n```\nlooks OK to me.",
    "created_at": "2016-05-02T15:43:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297553",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:29'></a>I cannot reproduce the HAPcryst thing though. I get 

```
$ sage -t --long src/sage/tests/gap_packages.py
Running doctests with ID 2016-05-02-16-39-21-92780109.
Git branch: gappacs
Using --optional=cbc,csdp,database_gap,gap_packages,mpir,python2,sage
Doctesting 1 file.
sage -t --long --warn-long 56.7 src/sage/tests/gap_packages.py
    [10 tests, 3.75 s]
----------------------------------------------------------------------
All tests passed!
```
As I get 10 tests run as opposed to 9 above, I probably have more packages installed...

and 

```
$ sage --gap
 ┌───────┐   GAP 4.8.3, 19-Mar-2016, build of 2016-04-06 10:34:11 (BST)
 │  GAP  │   http://www.gap-system.org
 └───────┘   Architecture: x86_64-unknown-linux-gnu-gcc-default64
 Libs used:  gmp, readline
 Loading the library and packages ...
 Components: trans 1.0, prim 2.1, small* 1.0, id* 1.0
 Packages:   Alnuth 3.0.0, AtlasRep 1.5.0, AutPGrp 1.6, CTblLib 1.2.2, FactInt 1.5.3, GAPDoc 1.5.1, LAGUNA 3.7.0, 
             Polycyclic 2.11, TomLib 1.2.5
 Try '?help' for help. See also  '?copyright' and  '?authors'
gap> LoadPackage("HAPcryst");
#I  polymake command not found. Please set POLYMAKE_COMMAND by hand
----------------------------------------------------------------
Loading  polymaking 0.8.1
(A package for using polymake in GAP)
by Marc Roeder
----------------------------------------------------------------
──────────────────────────────────────────────────────────────────────────────────────────────────────────────────
Loading  Cryst 4.1.12 (Computing with crystallographic groups)
by Bettina Eick (http://www.icm.tu-bs.de/~beick/),
   Franz Gähler (http://www.math.uni-bielefeld.de/~gaehler/), and
   Werner Nickel (http://www.mathematik.tu-darmstadt.de/~nickel/).
Homepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php
──────────────────────────────────────────────────────────────────────────────────────────────────────────────────
──────────────────────────────────────────────────────────────────────────────────────────────────────────────────
Loading  CrystCat 1.1.6 (The crystallographic groups catalog)
by Volkmar Felsch (http://www.math.rwth-aachen.de/~Volkmar.Felsch/) and
   Franz Gähler (http://www.math.uni-bielefeld.de/~gaehler/).
Homepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php
──────────────────────────────────────────────────────────────────────────────────────────────────────────────────
──────────────────────────────────────────────────────────────────────────────────────────────────────────────────
Loading  AClib 1.2 (Almost Crystallographic Groups - A Library and Algorithms)
by Karel Dekimpe (http://www.kulak.ac.be/~dekimpe) and
   Bettina Eick (http://www.icm.tu-bs.de/~beick).
Homepage: http://www.icm.tu-bs.de/~beick/so.html
──────────────────────────────────────────────────────────────────────────────────────────────────────────────────
#I  HAP warning: Set POLYMAKE_PATH manually if needed. 
#I  MakeReadOnlyGlobal: GradedAlgebraPresentationType no value bound
Loading HAP 1.11.13 ...
----------------------------------------------------------------
This is HAPcryst version 0.1.11
by Marc Roeder
----------------------------------------------------------------
true
gap> 
```
looks OK to me.



---

archive/issue_comments_297554.json:
```json
{
    "body": "<a id='comment:30'></a>I guess you have polymake working on your computer?",
    "created_at": "2016-05-02T15:45:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297554",
    "user": "https://github.com/videlec"
}
```

<a id='comment:30'></a>I guess you have polymake working on your computer?



---

archive/issue_comments_297555.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-05-02T15:55:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297555",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_297556.json:
```json
{
    "body": "<a id='comment:31'></a>You need to bump the patchlevel of the `gap_packages` package to ensure the change has effect.",
    "created_at": "2016-05-02T15:55:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297556",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:31'></a>You need to bump the patchlevel of the `gap_packages` package to ensure the change has effect.



---

archive/issue_comments_297557.json:
```json
{
    "body": "<a id='comment:32'></a>Also, you better check the result of that `cd` operation, for example\n\n```\ncd \"$PKG_DIR\"/guava-3* && ./configure \"$GAP_DIR\"\n```",
    "created_at": "2016-05-02T15:57:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297557",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:32'></a>Also, you better check the result of that `cd` operation, for example

```
cd "$PKG_DIR"/guava-3* && ./configure "$GAP_DIR"
```



---

archive/issue_comments_297558.json:
```json
{
    "body": "<a id='comment:33'></a>...or use `set -e`.",
    "created_at": "2016-05-02T15:57:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297558",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:33'></a>...or use `set -e`.



---

archive/issue_comments_297559.json:
```json
{
    "body": "<a id='comment:34'></a>Replying to [comment:30 vdelecroix]:\n> I guess you have polymake working on your computer?\n\nno, I don't have polymake at all.",
    "created_at": "2016-05-02T15:59:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297559",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:34'></a>Replying to [comment:30 vdelecroix]:
> I guess you have polymake working on your computer?

no, I don't have polymake at all.



---

archive/issue_comments_297560.json:
```json
{
    "body": "<a id='comment:35'></a>Replying to [comment:31 jdemeyer]:\n> You need to bump the patchlevel of the `gap_packages` package to ensure the change has effect.\n\n\nwhy? the tarball is the same, no removed/added/changed patches. Since when a change to spkg-install does need a version change?!\n\n(this is an optional package, so it won't magically rebuild by bumping anything, no?)",
    "created_at": "2016-05-02T16:01:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297560",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:35'></a>Replying to [comment:31 jdemeyer]:
> You need to bump the patchlevel of the `gap_packages` package to ensure the change has effect.


why? the tarball is the same, no removed/added/changed patches. Since when a change to spkg-install does need a version change?!

(this is an optional package, so it won't magically rebuild by bumping anything, no?)



---

archive/issue_comments_297561.json:
```json
{
    "body": "<a id='comment:36'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-05-02T16:21:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297561",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:36'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_297562.json:
```json
{
    "body": "<a id='comment:37'></a>Replying to [comment:35 dimpase]:\n> Since when a change to spkg-install does need a version change?!\n\n\nSince you need to fix broken installations of `gap_packages`. People who install `gap_packages` today have a broken version of it. Just changing `spkg-install` doesn't fix that: you need to actually reinstall `gap_packages`.",
    "created_at": "2016-05-02T21:33:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297562",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:37'></a>Replying to [comment:35 dimpase]:
> Since when a change to spkg-install does need a version change?!


Since you need to fix broken installations of `gap_packages`. People who install `gap_packages` today have a broken version of it. Just changing `spkg-install` doesn't fix that: you need to actually reinstall `gap_packages`.



---

archive/issue_comments_297563.json:
```json
{
    "body": "<a id='comment:38'></a>Replying to [comment:37 jdemeyer]:\n> Replying to [comment:35 dimpase]:\n> > Since when a change to spkg-install does need a version change?!\n\n> \n> Since you need to fix broken installations of `gap_packages`. People who install `gap_packages` today have a broken version of it. Just changing `spkg-install` doesn't fix that: you need to actually reinstall `gap_packages`.\n\n\nyes, but it won't happen without human interaction, would it?",
    "created_at": "2016-05-02T22:54:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297563",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:38'></a>Replying to [comment:37 jdemeyer]:
> Replying to [comment:35 dimpase]:
> > Since when a change to spkg-install does need a version change?!

> 
> Since you need to fix broken installations of `gap_packages`. People who install `gap_packages` today have a broken version of it. Just changing `spkg-install` doesn't fix that: you need to actually reinstall `gap_packages`.


yes, but it won't happen without human interaction, would it?



---

archive/issue_comments_297564.json:
```json
{
    "body": "<a id='comment:39'></a>Replying to [comment:38 dimpase]:\n> yes, but it won't happen without human interaction, would it?\n\n\nInstalled optional packages are upgraded just like standard packages are. So, running `make` should be sufficient to rebuild `gap_packages` if it was built before.",
    "created_at": "2016-05-03T07:10:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297564",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:39'></a>Replying to [comment:38 dimpase]:
> yes, but it won't happen without human interaction, would it?


Installed optional packages are upgraded just like standard packages are. So, running `make` should be sufficient to rebuild `gap_packages` if it was built before.



---

archive/issue_comments_297565.json:
```json
{
    "body": "<a id='comment:40'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-05-03T08:35:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297565",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:40'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_297566.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-05-03T08:36:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297566",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_297567.json:
```json
{
    "body": "<a id='comment:41'></a>OK, done.",
    "created_at": "2016-05-03T08:36:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297567",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:41'></a>OK, done.



---

archive/issue_comments_297568.json:
```json
{
    "body": "<a id='comment:42'></a>This fixes the second issue, but not the first.",
    "created_at": "2016-05-03T08:49:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297568",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:42'></a>This fixes the second issue, but not the first.



---

archive/issue_comments_297569.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,269 @@\n-\n+With Sage 7.2.beta6 with \\`gap_packages\\` installed, within a \\`sage --gap\\` session:\n+\n+\\`\\`\\`\n+gap> LoadPackage(\"HAPcryst\");\n+#I  polymake command not found. Please set POLYMAKE_COMMAND by hand\n+----------------------------------------------------------------\n+Loading  polymaking 0.8.1\n+(A package for using polymake in GAP)\n+by Marc Roeder\n+----------------------------------------------------------------\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+Loading  Cryst 4.1.12 (Computing with crystallographic groups)\n+by Bettina Eick (http://www.icm.tu-bs.de/~beick/),\n+   Franz G\u00e4hler (http://www.math.uni-bielefeld.de/~gaehler/), and\n+   Werner Nickel (http://www.mathematik.tu-darmstadt.de/~nickel/).\n+Homepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+Loading  CrystCat 1.1.6 (The crystallographic groups catalog)\n+by Volkmar Felsch (http://www.math.rwth-aachen.de/~Volkmar.Felsch/) and\n+   Franz G\u00e4hler (http://www.math.uni-bielefeld.de/~gaehler/).\n+Homepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+Loading  AClib 1.2 (Almost Crystallographic Groups - A Library and Algorithms)\n+by Karel Dekimpe (http://www.kulak.ac.be/~dekimpe) and\n+   Bettina Eick (http://www.icm.tu-bs.de/~beick).\n+Homepage: http://www.icm.tu-bs.de/~beick/so.html\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+#I  HAP warning: Set POLYMAKE_PATH manually if needed. \n+#I  HAP warning: Set NEATO_PATH manually if needed.\n+#I  HAP warning: Set DISPLAY_PATH manually if needed.\n+Error, <opr> is not an operation called from\n+<compiled or corrupted statement>  called from\n+<function \"local function\">( <arguments> )\n+ called from read-eval loop at line 162 of /usr/local/src/sage-git/local/gap/latest/pkg/Hap1.11/lib/HapCocyclic/gap/ccgroup.gi\n+you can 'quit;' to quit to outer loop, or\n+you can 'return;' to continue\n+\\`\\`\\`\n+\n+A second issue is a mis-installation of guava:\n+\n+\\`\\`\\`\n+gap> DirectoriesPackagePrograms(\"guava\")[1];\n+dir(\"/usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13/bin/x86_64-unknown-linux-gnu-gcc-default64/\")\n+\\`\\`\\`\n+\n+but this directory does not exist, \\`bin\\` is missing below:\n+\n+\\`\\`\\`\n+$ ls -l /usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13\n+total 168\n+-rw-r--r-- 1 jdemeyer jdemeyer 11775 Mar 19 23:17 CHANGES.guava\n+-rwxr-xr-x 1 jdemeyer jdemeyer  1918 Mar 19 23:17 configure\n+-rw-r--r-- 1 jdemeyer jdemeyer 51189 Mar 19 23:17 COPYING.guava\n+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 doc\n+-rw-r--r-- 1 jdemeyer jdemeyer   368 Mar 19 23:17 gapdoc.g\n+-rw-r--r-- 1 jdemeyer jdemeyer  2059 Mar 19 23:17 HISTORY.guava\n+-rw-r--r-- 1 jdemeyer jdemeyer  1364 Mar 19 23:17 init.g\n+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 lib\n+-rw-r--r-- 1 jdemeyer jdemeyer 35120 Mar 19 23:17 LICENSE\n+-rw-r--r-- 1 jdemeyer jdemeyer  2858 Mar 19 23:17 Makefile.in\n+-rw-r--r-- 1 jdemeyer jdemeyer 11638 Mar 19 23:17 PackageInfo.g\n+-rw-r--r-- 1 jdemeyer jdemeyer  1420 Mar 19 23:17 read.g\n+-rw-r--r-- 1 jdemeyer jdemeyer  4882 Mar 19 23:17 README.guava\n+-rw-r--r-- 1 jdemeyer jdemeyer    98 Mar 19 23:17 README.md\n+drwxr-xr-x 4 jdemeyer jdemeyer  4096 Mar 30 00:32 src\n+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 tbl\n+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 tst\n+\\`\\`\\`\n+\n+---\n+\n+This causes doctest failures:\n+\n+\\`\\`\\`\n+sage -t --long src/sage/tests/gap_packages.py\n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 8, in sage.tests.gap_packages\n+Failed example:\n+    test_packages(pkgs, only_failures=True)    # optional - gap_packages\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages[2]>\", line 1, in <module>\n+        test_packages(pkgs, only_failures=True)    # optional - gap_packages\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 77, in test_packages\n+        output = libgap.eval('LoadPackage(\"{0}\")'.format(pkg))\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: Error, <opr> is not an operation\n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 47, in sage.tests.gap_packages.test_packages\n+Failed example:\n+    test_packages(['GAPDoc'])\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.test_packages[1]>\", line 1, in <module>\n+        test_packages(['GAPDoc'])\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 77, in test_packages\n+        output = libgap.eval('LoadPackage(\"{0}\")'.format(pkg))\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: \n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 54, in sage.tests.gap_packages.test_packages\n+Failed example:\n+    pkgs = all_installed_packages()\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.test_packages[2]>\", line 1, in <module>\n+        pkgs = all_installed_packages()\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 109, in all_installed_packages\n+        for path in libgap.eval('GAP_ROOT_PATHS').sage():\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: \n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 55, in sage.tests.gap_packages.test_packages\n+Failed example:\n+    test_packages(pkgs)    # random output\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.test_packages[3]>\", line 1, in <module>\n+        test_packages(pkgs)    # random output\n+    NameError: name 'pkgs' is not defined\n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 105, in sage.tests.gap_packages.all_installed_packages\n+Failed example:\n+    all_installed_packages()\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.all_installed_packages[1]>\", line 1, in <module>\n+        all_installed_packages()\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 109, in all_installed_packages\n+        for path in libgap.eval('GAP_ROOT_PATHS').sage():\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: \n+**********************************************************************\n+3 items had failures:\n+   1 of   4 in sage.tests.gap_packages\n+   1 of   3 in sage.tests.gap_packages.all_installed_packages\n+   3 of   5 in sage.tests.gap_packages.test_packages\n+    [9 tests, 5 failures, 4.49 s]\n+sage -t --long src/sage/coding/linear_code.py\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3284, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[8]>\", line 1, in <module>\n+        C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3292, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[12]>\", line 1, in <module>\n+        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3296, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[14]>\", line 1, in <module>\n+        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3300, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[16]>\", line 1, in <module>\n+        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+1 item had failures:\n+   4 of  18 in sage.coding.linear_code.AbstractLinearCode.spectrum\n+    [634 tests, 4 failures, 26.04 s]\n+----------------------------------------------------------------------\n+sage -t --long src/sage/tests/gap_packages.py  # 5 doctests failed\n+sage -t --long src/sage/coding/linear_code.py  # 4 doctests failed\n+----------------------------------------------------------------------\n+\\`\\`\\`\n \n Component: documentation\n \n```\n",
    "created_at": "2016-05-03T08:49:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297569",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,269 @@
-
+With Sage 7.2.beta6 with \`gap_packages\` installed, within a \`sage --gap\` session:
+
+\`\`\`
+gap> LoadPackage("HAPcryst");
+#I  polymake command not found. Please set POLYMAKE_COMMAND by hand
+----------------------------------------------------------------
+Loading  polymaking 0.8.1
+(A package for using polymake in GAP)
+by Marc Roeder
+----------------------------------------------------------------
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+Loading  Cryst 4.1.12 (Computing with crystallographic groups)
+by Bettina Eick (http://www.icm.tu-bs.de/~beick/),
+   Franz Gähler (http://www.math.uni-bielefeld.de/~gaehler/), and
+   Werner Nickel (http://www.mathematik.tu-darmstadt.de/~nickel/).
+Homepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+Loading  CrystCat 1.1.6 (The crystallographic groups catalog)
+by Volkmar Felsch (http://www.math.rwth-aachen.de/~Volkmar.Felsch/) and
+   Franz Gähler (http://www.math.uni-bielefeld.de/~gaehler/).
+Homepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+Loading  AClib 1.2 (Almost Crystallographic Groups - A Library and Algorithms)
+by Karel Dekimpe (http://www.kulak.ac.be/~dekimpe) and
+   Bettina Eick (http://www.icm.tu-bs.de/~beick).
+Homepage: http://www.icm.tu-bs.de/~beick/so.html
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+#I  HAP warning: Set POLYMAKE_PATH manually if needed. 
+#I  HAP warning: Set NEATO_PATH manually if needed.
+#I  HAP warning: Set DISPLAY_PATH manually if needed.
+Error, <opr> is not an operation called from
+<compiled or corrupted statement>  called from
+<function "local function">( <arguments> )
+ called from read-eval loop at line 162 of /usr/local/src/sage-git/local/gap/latest/pkg/Hap1.11/lib/HapCocyclic/gap/ccgroup.gi
+you can 'quit;' to quit to outer loop, or
+you can 'return;' to continue
+\`\`\`
+
+A second issue is a mis-installation of guava:
+
+\`\`\`
+gap> DirectoriesPackagePrograms("guava")[1];
+dir("/usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13/bin/x86_64-unknown-linux-gnu-gcc-default64/")
+\`\`\`
+
+but this directory does not exist, \`bin\` is missing below:
+
+\`\`\`
+$ ls -l /usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13
+total 168
+-rw-r--r-- 1 jdemeyer jdemeyer 11775 Mar 19 23:17 CHANGES.guava
+-rwxr-xr-x 1 jdemeyer jdemeyer  1918 Mar 19 23:17 configure
+-rw-r--r-- 1 jdemeyer jdemeyer 51189 Mar 19 23:17 COPYING.guava
+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 doc
+-rw-r--r-- 1 jdemeyer jdemeyer   368 Mar 19 23:17 gapdoc.g
+-rw-r--r-- 1 jdemeyer jdemeyer  2059 Mar 19 23:17 HISTORY.guava
+-rw-r--r-- 1 jdemeyer jdemeyer  1364 Mar 19 23:17 init.g
+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 lib
+-rw-r--r-- 1 jdemeyer jdemeyer 35120 Mar 19 23:17 LICENSE
+-rw-r--r-- 1 jdemeyer jdemeyer  2858 Mar 19 23:17 Makefile.in
+-rw-r--r-- 1 jdemeyer jdemeyer 11638 Mar 19 23:17 PackageInfo.g
+-rw-r--r-- 1 jdemeyer jdemeyer  1420 Mar 19 23:17 read.g
+-rw-r--r-- 1 jdemeyer jdemeyer  4882 Mar 19 23:17 README.guava
+-rw-r--r-- 1 jdemeyer jdemeyer    98 Mar 19 23:17 README.md
+drwxr-xr-x 4 jdemeyer jdemeyer  4096 Mar 30 00:32 src
+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 tbl
+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 tst
+\`\`\`
+
+---
+
+This causes doctest failures:
+
+\`\`\`
+sage -t --long src/sage/tests/gap_packages.py
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 8, in sage.tests.gap_packages
+Failed example:
+    test_packages(pkgs, only_failures=True)    # optional - gap_packages
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages[2]>", line 1, in <module>
+        test_packages(pkgs, only_failures=True)    # optional - gap_packages
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 77, in test_packages
+        output = libgap.eval('LoadPackage("{0}")'.format(pkg))
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: Error, <opr> is not an operation
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 47, in sage.tests.gap_packages.test_packages
+Failed example:
+    test_packages(['GAPDoc'])
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.test_packages[1]>", line 1, in <module>
+        test_packages(['GAPDoc'])
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 77, in test_packages
+        output = libgap.eval('LoadPackage("{0}")'.format(pkg))
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: 
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 54, in sage.tests.gap_packages.test_packages
+Failed example:
+    pkgs = all_installed_packages()
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.test_packages[2]>", line 1, in <module>
+        pkgs = all_installed_packages()
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 109, in all_installed_packages
+        for path in libgap.eval('GAP_ROOT_PATHS').sage():
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: 
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 55, in sage.tests.gap_packages.test_packages
+Failed example:
+    test_packages(pkgs)    # random output
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.test_packages[3]>", line 1, in <module>
+        test_packages(pkgs)    # random output
+    NameError: name 'pkgs' is not defined
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 105, in sage.tests.gap_packages.all_installed_packages
+Failed example:
+    all_installed_packages()
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.all_installed_packages[1]>", line 1, in <module>
+        all_installed_packages()
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 109, in all_installed_packages
+        for path in libgap.eval('GAP_ROOT_PATHS').sage():
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: 
+**********************************************************************
+3 items had failures:
+   1 of   4 in sage.tests.gap_packages
+   1 of   3 in sage.tests.gap_packages.all_installed_packages
+   3 of   5 in sage.tests.gap_packages.test_packages
+    [9 tests, 5 failures, 4.49 s]
+sage -t --long src/sage/coding/linear_code.py
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3284, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[8]>", line 1, in <module>
+        C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3292, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[12]>", line 1, in <module>
+        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3296, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[14]>", line 1, in <module>
+        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3300, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[16]>", line 1, in <module>
+        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+1 item had failures:
+   4 of  18 in sage.coding.linear_code.AbstractLinearCode.spectrum
+    [634 tests, 4 failures, 26.04 s]
+----------------------------------------------------------------------
+sage -t --long src/sage/tests/gap_packages.py  # 5 doctests failed
+sage -t --long src/sage/coding/linear_code.py  # 4 doctests failed
+----------------------------------------------------------------------
+\`\`\`
 
 Component: documentation
 
```




---

archive/issue_comments_297570.json:
```json
{
    "body": "<a id='comment:43'></a>the first issue is not trivial to reproduce. I managed to do so on OSX, and on UGent's sage4. (But all of that works on my laptop and on my desktop). This has to do with selective GAP packages loading, and is an upstream<sup>2</sup> bug, as far as I can see. (A bug in a GAP package, that is).",
    "created_at": "2016-05-03T09:50:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297570",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:43'></a>the first issue is not trivial to reproduce. I managed to do so on OSX, and on UGent's sage4. (But all of that works on my laptop and on my desktop). This has to do with selective GAP packages loading, and is an upstream<sup>2</sup> bug, as far as I can see. (A bug in a GAP package, that is).



---

archive/issue_comments_297571.json:
```json
{
    "body": "<a id='comment:44'></a>OK, I see. If database_gap is installed then the error does not occur\n(it's because it needs `SmallGroup` functionality, specifically, the error comes from `IdGroup` being of wrong type, a function, not an attribute). Looks like a missing dependence in Hap.\nI will make database_gap a dependency of gap_packages.",
    "created_at": "2016-05-03T10:26:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297571",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:44'></a>OK, I see. If database_gap is installed then the error does not occur
(it's because it needs `SmallGroup` functionality, specifically, the error comes from `IdGroup` being of wrong type, a function, not an attribute). Looks like a missing dependence in Hap.
I will make database_gap a dependency of gap_packages.



---

archive/issue_comments_297572.json:
```json
{
    "body": "<a id='comment:45'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-05-03T10:32:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297572",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:45'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_297573.json:
```json
{
    "body": "<a id='comment:46'></a>All works now.\n\n---\nNew commits:",
    "created_at": "2016-05-03T10:38:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297573",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:46'></a>All works now.

---
New commits:



---

archive/issue_comments_297574.json:
```json
{
    "body": "<a id='comment:47'></a>Shouldn't this be an order-only dependency `| database_gap`?",
    "created_at": "2016-05-03T11:14:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297574",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:47'></a>Shouldn't this be an order-only dependency `| database_gap`?



---

archive/issue_comments_297575.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-05-03T11:14:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297575",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_297576.json:
```json
{
    "body": "<a id='comment:48'></a>I don't understand what this is, an order-only dependency...",
    "created_at": "2016-05-03T11:19:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297576",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:48'></a>I don't understand what this is, an order-only dependency...



---

archive/issue_comments_297577.json:
```json
{
    "body": "<a id='comment:49'></a>See http://doc.sagemath.org/html/en/developer/packaging.html#package-dependencies or https://www.gnu.org/software/make/manual/html_node/Prerequisite-Types.html",
    "created_at": "2016-05-03T11:25:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297577",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:49'></a>See http://doc.sagemath.org/html/en/developer/packaging.html#package-dependencies or https://www.gnu.org/software/make/manual/html_node/Prerequisite-Types.html



---

archive/issue_comments_297578.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-05-03T13:01:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297578",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_297579.json:
```json
{
    "body": "<a id='comment:50'></a>Replying to [comment:47 jdemeyer]:\n> Shouldn't this be an order-only dependency `| database_gap`?\n\nI don't think one wants a stale buggy  version of database_gap lying around, just because it is an order-only dependence.\nOn a practical side of things, database_gap is updated infrequently, so one would potentially pay very little in efficiency by having it as a normal dependency.",
    "created_at": "2016-05-03T13:01:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297579",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:50'></a>Replying to [comment:47 jdemeyer]:
> Shouldn't this be an order-only dependency `| database_gap`?

I don't think one wants a stale buggy  version of database_gap lying around, just because it is an order-only dependence.
On a practical side of things, database_gap is updated infrequently, so one would potentially pay very little in efficiency by having it as a normal dependency.



---

archive/issue_comments_297580.json:
```json
{
    "body": "<a id='comment:51'></a>Replying to [comment:50 dimpase]:\n> database_gap is updated infrequently, so one would potentially pay very little in efficiency by having it as a normal dependency. \n\n\nOne would pay *even less* by having it an order-only dependency. You could add a dependency of `gap_packages` on `zn_poly` and argue that it doesn't hurt because `zn_poly` is not updated often. But that's besides the point: I just want the dependencies to correctly reflect reality.",
    "created_at": "2016-05-03T13:06:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297580",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:51'></a>Replying to [comment:50 dimpase]:
> database_gap is updated infrequently, so one would potentially pay very little in efficiency by having it as a normal dependency. 


One would pay *even less* by having it an order-only dependency. You could add a dependency of `gap_packages` on `zn_poly` and argue that it doesn't hurt because `zn_poly` is not updated often. But that's besides the point: I just want the dependencies to correctly reflect reality.



---

archive/issue_comments_297581.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-05-03T13:06:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297581",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_297582.json:
```json
{
    "body": "<a id='comment:52'></a>Speaking of dependencies: you should also consider whether `gap_packages` depends on `gap` (I don't know if it does?)",
    "created_at": "2016-05-03T13:08:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297582",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:52'></a>Speaking of dependencies: you should also consider whether `gap_packages` depends on `gap` (I don't know if it does?)



---

archive/issue_comments_297583.json:
```json
{
    "body": "<a id='comment:53'></a>Replying to [comment:52 jdemeyer]:\n> Speaking of dependencies: you should also consider whether `gap_packages` depends on `gap` (I don't know if it does?)\n\n\nthat's right, gap (and libgap) are dependencies, too. I will add them.",
    "created_at": "2016-05-03T13:14:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297583",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:53'></a>Replying to [comment:52 jdemeyer]:
> Speaking of dependencies: you should also consider whether `gap_packages` depends on `gap` (I don't know if it does?)


that's right, gap (and libgap) are dependencies, too. I will add them.



---

archive/issue_comments_297584.json:
```json
{
    "body": "<a id='comment:54'></a>Replying to [comment:51 jdemeyer]:\n> Replying to [comment:50 dimpase]:\n> > database_gap is updated infrequently, so one would potentially pay very little in efficiency by having it as a normal dependency. \n\n> \n> One would pay *even less* by having it an order-only dependency. You could add a dependency of `gap_packages` on `zn_poly` and argue that it doesn't hurt because `zn_poly` is not updated often. But that's besides the point: I just want the dependencies to correctly reflect reality.\n\n\nThe reality is that if database_gap has a bug, then an output of gap_packages might be wrong. A new release of gap_packages might silently need an newer database_gap, too. \n\nOrder-only dependencies are invented to deal with completely different scenarios, IMHO.",
    "created_at": "2016-05-03T13:18:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297584",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:54'></a>Replying to [comment:51 jdemeyer]:
> Replying to [comment:50 dimpase]:
> > database_gap is updated infrequently, so one would potentially pay very little in efficiency by having it as a normal dependency. 

> 
> One would pay *even less* by having it an order-only dependency. You could add a dependency of `gap_packages` on `zn_poly` and argue that it doesn't hurt because `zn_poly` is not updated often. But that's besides the point: I just want the dependencies to correctly reflect reality.


The reality is that if database_gap has a bug, then an output of gap_packages might be wrong. A new release of gap_packages might silently need an newer database_gap, too. 

Order-only dependencies are invented to deal with completely different scenarios, IMHO.



---

archive/issue_comments_297585.json:
```json
{
    "body": "<a id='comment:55'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-05-03T13:29:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297585",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:55'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_297586.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-05-03T13:30:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297586",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_297587.json:
```json
{
    "body": "<a id='comment:57'></a>Replying to [comment:54 dimpase]:\n> A new release of gap_packages might silently need an newer database_gap, too.\n\n\nSage always installs the latest version of installed standard and optional packages, so `database_gap` will always be up-to-date. That's not something which affects the dependencies of `gap_packages`.",
    "created_at": "2016-05-03T13:30:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297587",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:57'></a>Replying to [comment:54 dimpase]:
> A new release of gap_packages might silently need an newer database_gap, too.


Sage always installs the latest version of installed standard and optional packages, so `database_gap` will always be up-to-date. That's not something which affects the dependencies of `gap_packages`.



---

archive/issue_comments_297588.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2016-05-03T13:30:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297588",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_297589.json:
```json
{
    "body": "<a id='comment:58'></a>The question you need to answer is a different one: if `database_gap` is reinstalled (either because of an upgrade of `database_gap` of because somebody did `sage -f database_gap`), should this force a reinstallation of `gap_packages`?\n\nIf the answer is \"yes\": use a normal dependency\n\nIf the answer is \"no\": use an order-only dependency",
    "created_at": "2016-05-03T13:30:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297589",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:58'></a>The question you need to answer is a different one: if `database_gap` is reinstalled (either because of an upgrade of `database_gap` of because somebody did `sage -f database_gap`), should this force a reinstallation of `gap_packages`?

If the answer is "yes": use a normal dependency

If the answer is "no": use an order-only dependency



---

archive/issue_comments_297590.json:
```json
{
    "body": "<a id='comment:59'></a>I read the doc you provided, and it said something else:\n\n*If package A has an order-only dependency on B, it simply means that B must be built before A can be built. The version of B does not matter, only the fact that B is installed matters. This should be used if the dependency is purely a build-time dependency (for example, a dependency on Python simply because the spkg-install file is written in Python).*\n\nAgainst this background, the answer is that B is a runtime dependency, not a build-time dependency, and thus it should not be order-only.",
    "created_at": "2016-05-03T13:57:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297590",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:59'></a>I read the doc you provided, and it said something else:

*If package A has an order-only dependency on B, it simply means that B must be built before A can be built. The version of B does not matter, only the fact that B is installed matters. This should be used if the dependency is purely a build-time dependency (for example, a dependency on Python simply because the spkg-install file is written in Python).*

Against this background, the answer is that B is a runtime dependency, not a build-time dependency, and thus it should not be order-only.



---

archive/issue_comments_297591.json:
```json
{
    "body": "<a id='comment:60'></a>Replying to [comment:59 dimpase]:\n> This should be used **if** the dependency is purely a build-time dependency\n\n\nThat is an **if**, not **if and only if**.\n\nIt's not because it's not a build-time dependency, that it should not be an order-only dependency.",
    "created_at": "2016-05-03T14:01:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297591",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:60'></a>Replying to [comment:59 dimpase]:
> This should be used **if** the dependency is purely a build-time dependency


That is an **if**, not **if and only if**.

It's not because it's not a build-time dependency, that it should not be an order-only dependency.



---

archive/issue_comments_297592.json:
```json
{
    "body": "<a id='comment:61'></a>I do not know all the details to be sure that an order-only dependency is OK. Probably yes, but not 100% certainly.\n\nAlso, regarding the upstream opinion on whether it is a bug, see https://github.com/gap-system/gap/issues/775\nThey think that non-GPL'd libs in database_gap are parts of \"GAP core system\", whatever they mean.",
    "created_at": "2016-05-03T14:14:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297592",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:61'></a>I do not know all the details to be sure that an order-only dependency is OK. Probably yes, but not 100% certainly.

Also, regarding the upstream opinion on whether it is a bug, see https://github.com/gap-system/gap/issues/775
They think that non-GPL'd libs in database_gap are parts of "GAP core system", whatever they mean.



---

archive/issue_comments_297593.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2016-05-03T19:37:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297593",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_297594.json:
```json
{
    "body": "<a id='comment:63'></a>I think it is time for me to crash the party. First I notice that you made `gap_packages` and `database_gap` depend on `libgap`. Only `gap` is needed.\n\nI think it is time for me to point out that `grape` includes an old version of `nauty` and can use either `nauty` (now a standard package) or `bliss` (now an optional package). Look at `GRAPE_DREADNAUT_EXE` in `grape/lib/grape.g` (and the variable `GRAPE_NAUTY` and `GRAPE_BLISS_EXE` in the same file if you are curious).\nI recommend removal of the `configure` and other makefiles in `spkg-src`. The only point of that bit in the `grape` package is to build the `dreadnaut` executable from `nauty`.\n\nI am OK if you want to spin that as a separate ticket.",
    "created_at": "2016-05-03T22:04:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297594",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:63'></a>I think it is time for me to crash the party. First I notice that you made `gap_packages` and `database_gap` depend on `libgap`. Only `gap` is needed.

I think it is time for me to point out that `grape` includes an old version of `nauty` and can use either `nauty` (now a standard package) or `bliss` (now an optional package). Look at `GRAPE_DREADNAUT_EXE` in `grape/lib/grape.g` (and the variable `GRAPE_NAUTY` and `GRAPE_BLISS_EXE` in the same file if you are curious).
I recommend removal of the `configure` and other makefiles in `spkg-src`. The only point of that bit in the `grape` package is to build the `dreadnaut` executable from `nauty`.

I am OK if you want to spin that as a separate ticket.



---

archive/issue_comments_297595.json:
```json
{
    "body": "<a id='comment:64'></a>Replying to [comment:63 fbissey]:\n> I think it is time for me to crash the party. First I notice that you made `gap_packages` and `database_gap` depend on `libgap`. Only `gap` is needed.\n\n\nAs soon as we start supporting building GAP kernel extensions in libgap, things \nwill change, and libgap will be a real dependence. At the moment, as gap and libgap are updated in lockstep, it does not matter anyway.\n\n> \n> I think it is time for me to point out that `grape` includes an old version of `nauty` and can use either `nauty` (now a standard package) or `bliss` (now an optional package). Look at `GRAPE_DREADNAUT_EXE` in `grape/lib/grape.g` (and the variable `GRAPE_NAUTY` and `GRAPE_BLISS_EXE` in the same file if you are curious).\n> I recommend removal of the `configure` and other makefiles in `spkg-src`. The only point of that bit in the `grape` package is to build the `dreadnaut` executable from `nauty`.\n> \n> I am OK if you want to spin that as a separate ticket.\n\n\nI don't see why you want to override GRAPE's author on this. He told be that he keeps old nauty as he did not do a lot of tests with the new one, yet.",
    "created_at": "2016-05-04T08:14:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297595",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:64'></a>Replying to [comment:63 fbissey]:
> I think it is time for me to crash the party. First I notice that you made `gap_packages` and `database_gap` depend on `libgap`. Only `gap` is needed.


As soon as we start supporting building GAP kernel extensions in libgap, things 
will change, and libgap will be a real dependence. At the moment, as gap and libgap are updated in lockstep, it does not matter anyway.

> 
> I think it is time for me to point out that `grape` includes an old version of `nauty` and can use either `nauty` (now a standard package) or `bliss` (now an optional package). Look at `GRAPE_DREADNAUT_EXE` in `grape/lib/grape.g` (and the variable `GRAPE_NAUTY` and `GRAPE_BLISS_EXE` in the same file if you are curious).
> I recommend removal of the `configure` and other makefiles in `spkg-src`. The only point of that bit in the `grape` package is to build the `dreadnaut` executable from `nauty`.
> 
> I am OK if you want to spin that as a separate ticket.


I don't see why you want to override GRAPE's author on this. He told be that he keeps old nauty as he did not do a lot of tests with the new one, yet.



---

archive/issue_comments_297596.json:
```json
{
    "body": "<a id='comment:65'></a>> I do not know all the details to be sure that an order-only dependency is OK. Probably yes, but not 100% certainly.\n\n\nIt has always been an order-only dependency (the default dependencies of optional packages is an order-only dependency on every standard package), so I guess it's safe.\n\n> As soon as we start supporting building GAP kernel extensions in libgap, things \n> will change\n\n\nThen the dependencies of `database_gap` and `gap_packages` should be changed in that ticket. I don't see the point of adding dependencies just in case they will be needed in the future. It reminds me of somebody adding `webassets` to `sagenb` because they planned to use it in the future... which of course never happened.",
    "created_at": "2016-05-04T09:04:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297596",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:65'></a>> I do not know all the details to be sure that an order-only dependency is OK. Probably yes, but not 100% certainly.


It has always been an order-only dependency (the default dependencies of optional packages is an order-only dependency on every standard package), so I guess it's safe.

> As soon as we start supporting building GAP kernel extensions in libgap, things 
> will change


Then the dependencies of `database_gap` and `gap_packages` should be changed in that ticket. I don't see the point of adding dependencies just in case they will be needed in the future. It reminds me of somebody adding `webassets` to `sagenb` because they planned to use it in the future... which of course never happened.



---

archive/issue_comments_297597.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-05-04T09:04:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297597",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_297598.json:
```json
{
    "body": "<a id='comment:66'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2016-05-04T09:29:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297598",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:66'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_297599.json:
```json
{
    "body": "<a id='comment:67'></a>Replying to [comment:65 jdemeyer]:\n> > I do not know all the details to be sure that an order-only dependency is OK. Probably yes, but not 100% certainly.\n\n> \n> It has always been an order-only dependency (the default dependencies of optional packages is an order-only dependency on every standard package), so I guess it's safe.\n\n\nwe talk about dependency of one optional package on another.\n\n---\nNew commits:",
    "created_at": "2016-05-04T09:31:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297599",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:67'></a>Replying to [comment:65 jdemeyer]:
> > I do not know all the details to be sure that an order-only dependency is OK. Probably yes, but not 100% certainly.

> 
> It has always been an order-only dependency (the default dependencies of optional packages is an order-only dependency on every standard package), so I guess it's safe.


we talk about dependency of one optional package on another.

---
New commits:



---

archive/issue_comments_297600.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-05-04T09:32:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297600",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_297601.json:
```json
{
    "body": "<a id='comment:68'></a>New commits:\n|                                                                                                                                          |                 |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------|\n|[9afe2c3](http://git.sagemath.org/sage.git/commit/?id=9afe2c3e4b7ebd82729d21439d684dbc0fdc5731)|`more deps added`|\n---\nNew commits:",
    "created_at": "2016-05-04T09:32:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297601",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:68'></a>New commits:
|                                                                                                                                          |                 |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------|
|[9afe2c3](http://git.sagemath.org/sage.git/commit/?id=9afe2c3e4b7ebd82729d21439d684dbc0fdc5731)|`more deps added`|
---
New commits:



---

archive/issue_comments_297602.json:
```json
{
    "body": "<a id='comment:69'></a>gap, libgap, gap_packages, and database_gap are tightly interconnected packages, usually updated all together, and I don't see much harm in declaring them to be a bit more interdependent than might be strictly necessary. Especially in absence of clear, and not open to grammatical (mis)interpretations, guidelines on dependencies in Sage.",
    "created_at": "2016-05-04T10:02:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297602",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:69'></a>gap, libgap, gap_packages, and database_gap are tightly interconnected packages, usually updated all together, and I don't see much harm in declaring them to be a bit more interdependent than might be strictly necessary. Especially in absence of clear, and not open to grammatical (mis)interpretations, guidelines on dependencies in Sage.



---

archive/issue_comments_297603.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-05-05T07:52:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297603",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_297604.json:
```json
{
    "body": "<a id='comment:70'></a>I still think that the current branch is wrong, but let's stop the bikeshedding...",
    "created_at": "2016-05-05T07:52:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297604",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:70'></a>I still think that the current branch is wrong, but let's stop the bikeshedding...



---

archive/issue_comments_297605.json:
```json
{
    "body": "<a id='comment:71'></a>I think there are files there that do not need that import from future at all. I don't know whether this import makes it python3-incompatible.",
    "created_at": "2016-05-05T07:59:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297605",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:71'></a>I think there are files there that do not need that import from future at all. I don't know whether this import makes it python3-incompatible.



---

archive/issue_comments_297606.json:
```json
{
    "body": "<a id='comment:72'></a>Replying to [comment:71 dimpase]:\n> I think there are files there that do not need that import from future at all. I don't know whether this import makes it python3-incompatible.\n\n\nI suppose this comment was meant for a different ticket?",
    "created_at": "2016-05-05T08:01:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297606",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:72'></a>Replying to [comment:71 dimpase]:
> I think there are files there that do not need that import from future at all. I don't know whether this import makes it python3-incompatible.


I suppose this comment was meant for a different ticket?



---

archive/issue_comments_297607.json:
```json
{
    "body": "<a id='comment:73'></a>Replying to [comment:72 jdemeyer]:\n> Replying to [comment:71 dimpase]:\n> > I think there are files there that do not need that import from future at all. I don't know whether this import makes it python3-incompatible.\n\n> \n> I suppose this comment was meant for a different ticket?\n\n\noops, indeed, sorry...",
    "created_at": "2016-05-05T08:07:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297607",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:73'></a>Replying to [comment:72 jdemeyer]:
> Replying to [comment:71 dimpase]:
> > I think there are files there that do not need that import from future at all. I don't know whether this import makes it python3-incompatible.

> 
> I suppose this comment was meant for a different ticket?


oops, indeed, sorry...



---

archive/issue_comments_297608.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-05-06T22:10:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20525#issuecomment-297608",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_055425.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-05-06T22:10:45Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/20525",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20525#event-55425"
}
```
