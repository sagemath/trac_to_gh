# Issue 20525: gap_packages badly broken

archive/issues_020288.json:
```json
{
    "assignees": [],
    "body": "With Sage 7.2.beta6 with `gap_packages` installed, within a `sage --gap` session:\n\n```\ngap> LoadPackage(\"HAPcryst\");\n#I  polymake command not found. Please set POLYMAKE_COMMAND by hand\n----------------------------------------------------------------\nLoading  polymaking 0.8.1\n(A package for using polymake in GAP)\nby Marc Roeder\n----------------------------------------------------------------\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nLoading  Cryst 4.1.12 (Computing with crystallographic groups)\nby Bettina Eick (http://www.icm.tu-bs.de/~beick/),\n   Franz G\u00e4hler (http://www.math.uni-bielefeld.de/~gaehler/), and\n   Werner Nickel (http://www.mathematik.tu-darmstadt.de/~nickel/).\nHomepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nLoading  CrystCat 1.1.6 (The crystallographic groups catalog)\nby Volkmar Felsch (http://www.math.rwth-aachen.de/~Volkmar.Felsch/) and\n   Franz G\u00e4hler (http://www.math.uni-bielefeld.de/~gaehler/).\nHomepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nLoading  AClib 1.2 (Almost Crystallographic Groups - A Library and Algorithms)\nby Karel Dekimpe (http://www.kulak.ac.be/~dekimpe) and\n   Bettina Eick (http://www.icm.tu-bs.de/~beick).\nHomepage: http://www.icm.tu-bs.de/~beick/so.html\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n#I  HAP warning: Set POLYMAKE_PATH manually if needed. \n#I  HAP warning: Set NEATO_PATH manually if needed.\n#I  HAP warning: Set DISPLAY_PATH manually if needed.\nError, <opr> is not an operation called from\n<compiled or corrupted statement>  called from\n<function \"local function\">( <arguments> )\n called from read-eval loop at line 162 of /usr/local/src/sage-git/local/gap/latest/pkg/Hap1.11/lib/HapCocyclic/gap/ccgroup.gi\nyou can 'quit;' to quit to outer loop, or\nyou can 'return;' to continue\n```\n\nA second issue is a mis-installation of guava:\n\n```\ngap> DirectoriesPackagePrograms(\"guava\")[1];\ndir(\"/usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13/bin/x86_64-unknown-linux-gnu-gcc-default64/\")\n```\n\nbut this directory does not exist, `bin` is missing below:\n\n```\n$ ls -l /usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13\ntotal 168\n-rw-r--r-- 1 jdemeyer jdemeyer 11775 Mar 19 23:17 CHANGES.guava\n-rwxr-xr-x 1 jdemeyer jdemeyer  1918 Mar 19 23:17 configure\n-rw-r--r-- 1 jdemeyer jdemeyer 51189 Mar 19 23:17 COPYING.guava\ndrwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 doc\n-rw-r--r-- 1 jdemeyer jdemeyer   368 Mar 19 23:17 gapdoc.g\n-rw-r--r-- 1 jdemeyer jdemeyer  2059 Mar 19 23:17 HISTORY.guava\n-rw-r--r-- 1 jdemeyer jdemeyer  1364 Mar 19 23:17 init.g\ndrwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 lib\n-rw-r--r-- 1 jdemeyer jdemeyer 35120 Mar 19 23:17 LICENSE\n-rw-r--r-- 1 jdemeyer jdemeyer  2858 Mar 19 23:17 Makefile.in\n-rw-r--r-- 1 jdemeyer jdemeyer 11638 Mar 19 23:17 PackageInfo.g\n-rw-r--r-- 1 jdemeyer jdemeyer  1420 Mar 19 23:17 read.g\n-rw-r--r-- 1 jdemeyer jdemeyer  4882 Mar 19 23:17 README.guava\n-rw-r--r-- 1 jdemeyer jdemeyer    98 Mar 19 23:17 README.md\ndrwxr-xr-x 4 jdemeyer jdemeyer  4096 Mar 30 00:32 src\ndrwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 tbl\ndrwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 tst\n```\n\n---\n\nThis causes doctest failures:\n\n```\nsage -t --long src/sage/tests/gap_packages.py\n**********************************************************************\nFile \"src/sage/tests/gap_packages.py\", line 8, in sage.tests.gap_packages\nFailed example:\n    test_packages(pkgs, only_failures=True)    # optional - gap_packages\nException raised:\n    Traceback (most recent call last):\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.tests.gap_packages[2]>\", line 1, in <module>\n        test_packages(pkgs, only_failures=True)    # optional - gap_packages\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 77, in test_packages\n        output = libgap.eval('LoadPackage(\"{0}\")'.format(pkg))\n      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n        return make_any_gap_element(self, gap_eval(gap_command))\n      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n        raise ValueError('libGAP: '+str(msg).strip())\n    ValueError: libGAP: Error, <opr> is not an operation\n**********************************************************************\nFile \"src/sage/tests/gap_packages.py\", line 47, in sage.tests.gap_packages.test_packages\nFailed example:\n    test_packages(['GAPDoc'])\nException raised:\n    Traceback (most recent call last):\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.tests.gap_packages.test_packages[1]>\", line 1, in <module>\n        test_packages(['GAPDoc'])\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 77, in test_packages\n        output = libgap.eval('LoadPackage(\"{0}\")'.format(pkg))\n      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n        return make_any_gap_element(self, gap_eval(gap_command))\n      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n        raise ValueError('libGAP: '+str(msg).strip())\n    ValueError: libGAP: \n**********************************************************************\nFile \"src/sage/tests/gap_packages.py\", line 54, in sage.tests.gap_packages.test_packages\nFailed example:\n    pkgs = all_installed_packages()\nException raised:\n    Traceback (most recent call last):\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.tests.gap_packages.test_packages[2]>\", line 1, in <module>\n        pkgs = all_installed_packages()\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 109, in all_installed_packages\n        for path in libgap.eval('GAP_ROOT_PATHS').sage():\n      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n        return make_any_gap_element(self, gap_eval(gap_command))\n      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n        raise ValueError('libGAP: '+str(msg).strip())\n    ValueError: libGAP: \n**********************************************************************\nFile \"src/sage/tests/gap_packages.py\", line 55, in sage.tests.gap_packages.test_packages\nFailed example:\n    test_packages(pkgs)    # random output\nException raised:\n    Traceback (most recent call last):\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.tests.gap_packages.test_packages[3]>\", line 1, in <module>\n        test_packages(pkgs)    # random output\n    NameError: name 'pkgs' is not defined\n**********************************************************************\nFile \"src/sage/tests/gap_packages.py\", line 105, in sage.tests.gap_packages.all_installed_packages\nFailed example:\n    all_installed_packages()\nException raised:\n    Traceback (most recent call last):\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.tests.gap_packages.all_installed_packages[1]>\", line 1, in <module>\n        all_installed_packages()\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 109, in all_installed_packages\n        for path in libgap.eval('GAP_ROOT_PATHS').sage():\n      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n        return make_any_gap_element(self, gap_eval(gap_command))\n      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n        raise ValueError('libGAP: '+str(msg).strip())\n    ValueError: libGAP: \n**********************************************************************\n3 items had failures:\n   1 of   4 in sage.tests.gap_packages\n   1 of   3 in sage.tests.gap_packages.all_installed_packages\n   3 of   5 in sage.tests.gap_packages.test_packages\n    [9 tests, 5 failures, 4.49 s]\nsage -t --long src/sage/coding/linear_code.py\n**********************************************************************\nFile \"src/sage/coding/linear_code.py\", line 3284, in sage.coding.linear_code.AbstractLinearCode.spectrum\nFailed example:\n    C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\nException raised:\n    Traceback (most recent call last):\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[8]>\", line 1, in <module>\n        C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n        errread, errwrite)\n      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n        raise child_exception\n    OSError: [Errno 2] No such file or directory\n**********************************************************************\nFile \"src/sage/coding/linear_code.py\", line 3292, in sage.coding.linear_code.AbstractLinearCode.spectrum\nFailed example:\n    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\nException raised:\n    Traceback (most recent call last):\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[12]>\", line 1, in <module>\n        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n        errread, errwrite)\n      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n        raise child_exception\n    OSError: [Errno 2] No such file or directory\n**********************************************************************\nFile \"src/sage/coding/linear_code.py\", line 3296, in sage.coding.linear_code.AbstractLinearCode.spectrum\nFailed example:\n    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\nException raised:\n    Traceback (most recent call last):\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[14]>\", line 1, in <module>\n        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n        errread, errwrite)\n      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n        raise child_exception\n    OSError: [Errno 2] No such file or directory\n**********************************************************************\nFile \"src/sage/coding/linear_code.py\", line 3300, in sage.coding.linear_code.AbstractLinearCode.spectrum\nFailed example:\n    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\nException raised:\n    Traceback (most recent call last):\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[16]>\", line 1, in <module>\n        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n        errread, errwrite)\n      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n        raise child_exception\n    OSError: [Errno 2] No such file or directory\n**********************************************************************\n1 item had failures:\n   4 of  18 in sage.coding.linear_code.AbstractLinearCode.spectrum\n    [634 tests, 4 failures, 26.04 s]\n----------------------------------------------------------------------\nsage -t --long src/sage/tests/gap_packages.py  # 5 doctests failed\nsage -t --long src/sage/coding/linear_code.py  # 4 doctests failed\n----------------------------------------------------------------------\n```\n\nCC:  @vbraun @dimpase\n\nBranch/Commit: **[9afe2c3](https://github.com/sagemath/sagetrac-mirror/commit/9afe2c3e4b7ebd82729d21439d684dbc0fdc5731)**\n\nReviewer: **Jeroen Demeyer**\n\nAuthor: **Dima Pasechnik**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/20525_\n\n",
    "closed_at": "2016-05-06T22:10:45Z",
    "created_at": "2016-05-01T04:09:04Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20optional",
        "https://github.com/sagemath/sage/labels/p1%20%E2%80%93%20blocker",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "gap_packages badly broken",
    "type": "issue",
    "updated_at": "2016-05-06T22:10:45Z",
    "url": "https://github.com/sagemath/sage/issues/20525",
    "user": "https://github.com/videlec"
}
```
With Sage 7.2.beta6 with `gap_packages` installed, within a `sage --gap` session:

```
gap> LoadPackage("HAPcryst");
#I  polymake command not found. Please set POLYMAKE_COMMAND by hand
----------------------------------------------------------------
Loading  polymaking 0.8.1
(A package for using polymake in GAP)
by Marc Roeder
----------------------------------------------------------------
─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
Loading  Cryst 4.1.12 (Computing with crystallographic groups)
by Bettina Eick (http://www.icm.tu-bs.de/~beick/),
   Franz Gähler (http://www.math.uni-bielefeld.de/~gaehler/), and
   Werner Nickel (http://www.mathematik.tu-darmstadt.de/~nickel/).
Homepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php
─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
Loading  CrystCat 1.1.6 (The crystallographic groups catalog)
by Volkmar Felsch (http://www.math.rwth-aachen.de/~Volkmar.Felsch/) and
   Franz Gähler (http://www.math.uni-bielefeld.de/~gaehler/).
Homepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php
─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
Loading  AClib 1.2 (Almost Crystallographic Groups - A Library and Algorithms)
by Karel Dekimpe (http://www.kulak.ac.be/~dekimpe) and
   Bettina Eick (http://www.icm.tu-bs.de/~beick).
Homepage: http://www.icm.tu-bs.de/~beick/so.html
─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
#I  HAP warning: Set POLYMAKE_PATH manually if needed. 
#I  HAP warning: Set NEATO_PATH manually if needed.
#I  HAP warning: Set DISPLAY_PATH manually if needed.
Error, <opr> is not an operation called from
<compiled or corrupted statement>  called from
<function "local function">( <arguments> )
 called from read-eval loop at line 162 of /usr/local/src/sage-git/local/gap/latest/pkg/Hap1.11/lib/HapCocyclic/gap/ccgroup.gi
you can 'quit;' to quit to outer loop, or
you can 'return;' to continue
```

A second issue is a mis-installation of guava:

```
gap> DirectoriesPackagePrograms("guava")[1];
dir("/usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13/bin/x86_64-unknown-linux-gnu-gcc-default64/")
```

but this directory does not exist, `bin` is missing below:

```
$ ls -l /usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13
total 168
-rw-r--r-- 1 jdemeyer jdemeyer 11775 Mar 19 23:17 CHANGES.guava
-rwxr-xr-x 1 jdemeyer jdemeyer  1918 Mar 19 23:17 configure
-rw-r--r-- 1 jdemeyer jdemeyer 51189 Mar 19 23:17 COPYING.guava
drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 doc
-rw-r--r-- 1 jdemeyer jdemeyer   368 Mar 19 23:17 gapdoc.g
-rw-r--r-- 1 jdemeyer jdemeyer  2059 Mar 19 23:17 HISTORY.guava
-rw-r--r-- 1 jdemeyer jdemeyer  1364 Mar 19 23:17 init.g
drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 lib
-rw-r--r-- 1 jdemeyer jdemeyer 35120 Mar 19 23:17 LICENSE
-rw-r--r-- 1 jdemeyer jdemeyer  2858 Mar 19 23:17 Makefile.in
-rw-r--r-- 1 jdemeyer jdemeyer 11638 Mar 19 23:17 PackageInfo.g
-rw-r--r-- 1 jdemeyer jdemeyer  1420 Mar 19 23:17 read.g
-rw-r--r-- 1 jdemeyer jdemeyer  4882 Mar 19 23:17 README.guava
-rw-r--r-- 1 jdemeyer jdemeyer    98 Mar 19 23:17 README.md
drwxr-xr-x 4 jdemeyer jdemeyer  4096 Mar 30 00:32 src
drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 tbl
drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 tst
```

---

This causes doctest failures:

```
sage -t --long src/sage/tests/gap_packages.py
**********************************************************************
File "src/sage/tests/gap_packages.py", line 8, in sage.tests.gap_packages
Failed example:
    test_packages(pkgs, only_failures=True)    # optional - gap_packages
Exception raised:
    Traceback (most recent call last):
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.tests.gap_packages[2]>", line 1, in <module>
        test_packages(pkgs, only_failures=True)    # optional - gap_packages
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 77, in test_packages
        output = libgap.eval('LoadPackage("{0}")'.format(pkg))
      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
        return make_any_gap_element(self, gap_eval(gap_command))
      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
        raise ValueError('libGAP: '+str(msg).strip())
    ValueError: libGAP: Error, <opr> is not an operation
**********************************************************************
File "src/sage/tests/gap_packages.py", line 47, in sage.tests.gap_packages.test_packages
Failed example:
    test_packages(['GAPDoc'])
Exception raised:
    Traceback (most recent call last):
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.tests.gap_packages.test_packages[1]>", line 1, in <module>
        test_packages(['GAPDoc'])
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 77, in test_packages
        output = libgap.eval('LoadPackage("{0}")'.format(pkg))
      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
        return make_any_gap_element(self, gap_eval(gap_command))
      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
        raise ValueError('libGAP: '+str(msg).strip())
    ValueError: libGAP: 
**********************************************************************
File "src/sage/tests/gap_packages.py", line 54, in sage.tests.gap_packages.test_packages
Failed example:
    pkgs = all_installed_packages()
Exception raised:
    Traceback (most recent call last):
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.tests.gap_packages.test_packages[2]>", line 1, in <module>
        pkgs = all_installed_packages()
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 109, in all_installed_packages
        for path in libgap.eval('GAP_ROOT_PATHS').sage():
      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
        return make_any_gap_element(self, gap_eval(gap_command))
      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
        raise ValueError('libGAP: '+str(msg).strip())
    ValueError: libGAP: 
**********************************************************************
File "src/sage/tests/gap_packages.py", line 55, in sage.tests.gap_packages.test_packages
Failed example:
    test_packages(pkgs)    # random output
Exception raised:
    Traceback (most recent call last):
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.tests.gap_packages.test_packages[3]>", line 1, in <module>
        test_packages(pkgs)    # random output
    NameError: name 'pkgs' is not defined
**********************************************************************
File "src/sage/tests/gap_packages.py", line 105, in sage.tests.gap_packages.all_installed_packages
Failed example:
    all_installed_packages()
Exception raised:
    Traceback (most recent call last):
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.tests.gap_packages.all_installed_packages[1]>", line 1, in <module>
        all_installed_packages()
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 109, in all_installed_packages
        for path in libgap.eval('GAP_ROOT_PATHS').sage():
      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
        return make_any_gap_element(self, gap_eval(gap_command))
      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
        raise ValueError('libGAP: '+str(msg).strip())
    ValueError: libGAP: 
**********************************************************************
3 items had failures:
   1 of   4 in sage.tests.gap_packages
   1 of   3 in sage.tests.gap_packages.all_installed_packages
   3 of   5 in sage.tests.gap_packages.test_packages
    [9 tests, 5 failures, 4.49 s]
sage -t --long src/sage/coding/linear_code.py
**********************************************************************
File "src/sage/coding/linear_code.py", line 3284, in sage.coding.linear_code.AbstractLinearCode.spectrum
Failed example:
    C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
Exception raised:
    Traceback (most recent call last):
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[8]>", line 1, in <module>
        C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
        process = Popen(stdout=PIPE, *popenargs, **kwargs)
      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
        errread, errwrite)
      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
        raise child_exception
    OSError: [Errno 2] No such file or directory
**********************************************************************
File "src/sage/coding/linear_code.py", line 3292, in sage.coding.linear_code.AbstractLinearCode.spectrum
Failed example:
    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
Exception raised:
    Traceback (most recent call last):
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[12]>", line 1, in <module>
        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
        process = Popen(stdout=PIPE, *popenargs, **kwargs)
      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
        errread, errwrite)
      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
        raise child_exception
    OSError: [Errno 2] No such file or directory
**********************************************************************
File "src/sage/coding/linear_code.py", line 3296, in sage.coding.linear_code.AbstractLinearCode.spectrum
Failed example:
    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
Exception raised:
    Traceback (most recent call last):
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[14]>", line 1, in <module>
        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
        process = Popen(stdout=PIPE, *popenargs, **kwargs)
      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
        errread, errwrite)
      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
        raise child_exception
    OSError: [Errno 2] No such file or directory
**********************************************************************
File "src/sage/coding/linear_code.py", line 3300, in sage.coding.linear_code.AbstractLinearCode.spectrum
Failed example:
    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
Exception raised:
    Traceback (most recent call last):
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[16]>", line 1, in <module>
        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
        process = Popen(stdout=PIPE, *popenargs, **kwargs)
      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
        errread, errwrite)
      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
        raise child_exception
    OSError: [Errno 2] No such file or directory
**********************************************************************
1 item had failures:
   4 of  18 in sage.coding.linear_code.AbstractLinearCode.spectrum
    [634 tests, 4 failures, 26.04 s]
----------------------------------------------------------------------
sage -t --long src/sage/tests/gap_packages.py  # 5 doctests failed
sage -t --long src/sage/coding/linear_code.py  # 4 doctests failed
----------------------------------------------------------------------
```

CC:  @vbraun @dimpase

Branch/Commit: **[9afe2c3](https://github.com/sagemath/sagetrac-mirror/commit/9afe2c3e4b7ebd82729d21439d684dbc0fdc5731)**

Reviewer: **Jeroen Demeyer**

Author: **Dima Pasechnik**

_Issue created by migration from https://trac.sagemath.org/ticket/20525_





---

archive/issue_events_261529.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2016-05-01T04:09:04Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "milestone_number": null,
    "milestone_title": "sage-7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20525#event-261529"
}
```



---

archive/issue_events_261530.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2016-05-01T04:09:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20documentation",
    "label_color": "0075ca",
    "label_name": "component: documentation",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20525#event-261530"
}
```



---

archive/issue_events_261531.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2016-05-01T04:09:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20525#event-261531"
}
```



---

archive/issue_events_261532.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2016-05-01T04:09:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20525#event-261532"
}
```



---

archive/issue_comments_299027.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nAttachment: **[failing_doctests-librae.log](https://github.com/sagemath/sage/files/ticket20525/failing_doctests-librae.log)**",
    "created_at": "2016-05-01T04:16:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299027",
    "user": "https://github.com/videlec"
}
```

<a id='comment:1'>Comment 1:</a>
Attachment: **[failing_doctests-librae.log](https://github.com/sagemath/sage/files/ticket20525/failing_doctests-librae.log)**



---

archive/issue_comments_299028.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n Since #20182 there are some failing doctests related to optional packages\n \n-- `coding/linear_code.py`: related to Guava (gap package)\n-- `tests/gap_packages.py`: related to gap packages\n+- `coding/linear_code.py`: related to Guava (gap package) (see [failing_doctests-librae.log](https://github.com/sagemath/sage/files/ticket20525/failing_doctests-librae.log))\n+- `tests/gap_packages.py`: related to gap packages (see [failing_doctests-librae.log](https://github.com/sagemath/sage/files/ticket20525/failing_doctests-librae.log))\n``````\n",
    "created_at": "2016-05-01T04:16:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299028",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
 Since #20182 there are some failing doctests related to optional packages
 
-- `coding/linear_code.py`: related to Guava (gap package)
-- `tests/gap_packages.py`: related to gap packages
+- `coding/linear_code.py`: related to Guava (gap package) (see [failing_doctests-librae.log](https://github.com/sagemath/sage/files/ticket20525/failing_doctests-librae.log))
+- `tests/gap_packages.py`: related to gap packages (see [failing_doctests-librae.log](https://github.com/sagemath/sage/files/ticket20525/failing_doctests-librae.log))
``````




---

archive/issue_comments_299029.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nAre you sure that #20182 has anything to do with this? It seems to me that something broke `gap_packages`.",
    "created_at": "2016-05-02T08:43:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299029",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:2'>Comment 2:</a>
Are you sure that #20182 has anything to do with this? It seems to me that something broke `gap_packages`.



---

archive/issue_comments_299030.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nReformulation: this was not *visible* before #20182.",
    "created_at": "2016-05-02T13:15:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299030",
    "user": "https://github.com/videlec"
}
```

<a id='comment:3'>Comment 3:</a>
Reformulation: this was not *visible* before #20182.



---

archive/issue_comments_299031.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nFirst of all, what is the *exact command* that you ran to get those doctest failures?\n\nReplying to [@videlec](#comment%3A3):\n> this was not *visible* before #20182.\n\nDid you actually check this or are you just guessing? I.e. by applying #20182 on top of 7.2.beta5 or reverting #20182 from 7.2.beta6?",
    "created_at": "2016-05-02T13:19:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299031",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:4'>Comment 4:</a>
First of all, what is the *exact command* that you ran to get those doctest failures?

Replying to [@videlec](#comment%3A3):
> this was not *visible* before #20182.

Did you actually check this or are you just guessing? I.e. by applying #20182 on top of 7.2.beta5 or reverting #20182 from 7.2.beta6?



---

archive/issue_comments_299032.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nReplying to [@jdemeyer](#comment%3A4):\n> First of all, what is the *exact command* that you ran to get those doctest failures?\n\nAnd did you verify that the same exact command on Sage 7.2.beta5 did not give failures?",
    "created_at": "2016-05-02T13:24:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299032",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:5'>Comment 5:</a>
Replying to [@jdemeyer](#comment%3A4):
> First of all, what is the *exact command* that you ran to get those doctest failures?

And did you verify that the same exact command on Sage 7.2.beta5 did not give failures?



---

archive/issue_comments_299033.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nThe exact command I ran was\n\n```\nfor pkg in A_LOT_OF_THINGS\ndo\n    sage -p $pkg\ndone\n\nsage -patchbot\n```\n\nNote that the failing doctests are optional (precisely `# optional - gap_packages`). The patchbot did not ran those before #20182.",
    "created_at": "2016-05-02T13:24:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299033",
    "user": "https://github.com/videlec"
}
```

<a id='comment:6'>Comment 6:</a>
The exact command I ran was

```
for pkg in A_LOT_OF_THINGS
do
    sage -p $pkg
done

sage -patchbot
```

Note that the failing doctests are optional (precisely `# optional - gap_packages`). The patchbot did not ran those before #20182.



---

archive/issue_comments_299034.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nFirst of all, using `./sage -p $pkg` to install packages is not at all recommended (use `./sage -i $pkg` instead). Second, not running `make` before starting the patchbot is really wrong.",
    "created_at": "2016-05-02T13:46:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299034",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:7'>Comment 7:</a>
First of all, using `./sage -p $pkg` to install packages is not at all recommended (use `./sage -i $pkg` instead). Second, not running `make` before starting the patchbot is really wrong.



---

archive/issue_comments_299035.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nDo you know the answer to [comment:5]?",
    "created_at": "2016-05-02T13:48:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299035",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:8'>Comment 8:</a>
Do you know the answer to [comment:5]?



---

archive/issue_comments_299036.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nFor the record, I can reproduce the problem. I'm just not convinced that #20182 is to blame.",
    "created_at": "2016-05-02T13:50:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299036",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:9'>Comment 9:</a>
For the record, I can reproduce the problem. I'm just not convinced that #20182 is to blame.



---

archive/issue_comments_299037.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,193 @@\n Since #20182 there are some failing doctests related to optional packages\n \n-- `coding/linear_code.py`: related to Guava (gap package) (see [failing_doctests-librae.log](https://github.com/sagemath/sage/files/ticket20525/failing_doctests-librae.log))\n-- `tests/gap_packages.py`: related to gap packages (see [failing_doctests-librae.log](https://github.com/sagemath/sage/files/ticket20525/failing_doctests-librae.log))\n+```\n+sage -t --long src/sage/tests/gap_packages.py\n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 8, in sage.tests.gap_packages\n+Failed example:\n+    test_packages(pkgs, only_failures=True)    # optional - gap_packages\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages[2]>\", line 1, in <module>\n+        test_packages(pkgs, only_failures=True)    # optional - gap_packages\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 77, in test_packages\n+        output = libgap.eval('LoadPackage(\"{0}\")'.format(pkg))\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: Error, <opr> is not an operation\n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 47, in sage.tests.gap_packages.test_packages\n+Failed example:\n+    test_packages(['GAPDoc'])\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.test_packages[1]>\", line 1, in <module>\n+        test_packages(['GAPDoc'])\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 77, in test_packages\n+        output = libgap.eval('LoadPackage(\"{0}\")'.format(pkg))\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: \n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 54, in sage.tests.gap_packages.test_packages\n+Failed example:\n+    pkgs = all_installed_packages()\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.test_packages[2]>\", line 1, in <module>\n+        pkgs = all_installed_packages()\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 109, in all_installed_packages\n+        for path in libgap.eval('GAP_ROOT_PATHS').sage():\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: \n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 55, in sage.tests.gap_packages.test_packages\n+Failed example:\n+    test_packages(pkgs)    # random output\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.test_packages[3]>\", line 1, in <module>\n+        test_packages(pkgs)    # random output\n+    NameError: name 'pkgs' is not defined\n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 105, in sage.tests.gap_packages.all_installed_packages\n+Failed example:\n+    all_installed_packages()\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.all_installed_packages[1]>\", line 1, in <module>\n+        all_installed_packages()\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 109, in all_installed_packages\n+        for path in libgap.eval('GAP_ROOT_PATHS').sage():\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: \n+**********************************************************************\n+3 items had failures:\n+   1 of   4 in sage.tests.gap_packages\n+   1 of   3 in sage.tests.gap_packages.all_installed_packages\n+   3 of   5 in sage.tests.gap_packages.test_packages\n+    [9 tests, 5 failures, 4.49 s]\n+sage -t --long src/sage/coding/linear_code.py\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3284, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[8]>\", line 1, in <module>\n+        C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3292, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[12]>\", line 1, in <module>\n+        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3296, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[14]>\", line 1, in <module>\n+        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3300, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[16]>\", line 1, in <module>\n+        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+1 item had failures:\n+   4 of  18 in sage.coding.linear_code.AbstractLinearCode.spectrum\n+    [634 tests, 4 failures, 26.04 s]\n+----------------------------------------------------------------------\n+sage -t --long src/sage/tests/gap_packages.py  # 5 doctests failed\n+sage -t --long src/sage/coding/linear_code.py  # 4 doctests failed\n+----------------------------------------------------------------------\n+```\n``````\n",
    "created_at": "2016-05-02T13:51:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299037",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,193 @@
 Since #20182 there are some failing doctests related to optional packages
 
-- `coding/linear_code.py`: related to Guava (gap package) (see [failing_doctests-librae.log](https://github.com/sagemath/sage/files/ticket20525/failing_doctests-librae.log))
-- `tests/gap_packages.py`: related to gap packages (see [failing_doctests-librae.log](https://github.com/sagemath/sage/files/ticket20525/failing_doctests-librae.log))
+```
+sage -t --long src/sage/tests/gap_packages.py
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 8, in sage.tests.gap_packages
+Failed example:
+    test_packages(pkgs, only_failures=True)    # optional - gap_packages
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages[2]>", line 1, in <module>
+        test_packages(pkgs, only_failures=True)    # optional - gap_packages
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 77, in test_packages
+        output = libgap.eval('LoadPackage("{0}")'.format(pkg))
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: Error, <opr> is not an operation
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 47, in sage.tests.gap_packages.test_packages
+Failed example:
+    test_packages(['GAPDoc'])
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.test_packages[1]>", line 1, in <module>
+        test_packages(['GAPDoc'])
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 77, in test_packages
+        output = libgap.eval('LoadPackage("{0}")'.format(pkg))
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: 
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 54, in sage.tests.gap_packages.test_packages
+Failed example:
+    pkgs = all_installed_packages()
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.test_packages[2]>", line 1, in <module>
+        pkgs = all_installed_packages()
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 109, in all_installed_packages
+        for path in libgap.eval('GAP_ROOT_PATHS').sage():
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: 
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 55, in sage.tests.gap_packages.test_packages
+Failed example:
+    test_packages(pkgs)    # random output
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.test_packages[3]>", line 1, in <module>
+        test_packages(pkgs)    # random output
+    NameError: name 'pkgs' is not defined
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 105, in sage.tests.gap_packages.all_installed_packages
+Failed example:
+    all_installed_packages()
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.all_installed_packages[1]>", line 1, in <module>
+        all_installed_packages()
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 109, in all_installed_packages
+        for path in libgap.eval('GAP_ROOT_PATHS').sage():
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: 
+**********************************************************************
+3 items had failures:
+   1 of   4 in sage.tests.gap_packages
+   1 of   3 in sage.tests.gap_packages.all_installed_packages
+   3 of   5 in sage.tests.gap_packages.test_packages
+    [9 tests, 5 failures, 4.49 s]
+sage -t --long src/sage/coding/linear_code.py
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3284, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[8]>", line 1, in <module>
+        C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3292, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[12]>", line 1, in <module>
+        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3296, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[14]>", line 1, in <module>
+        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3300, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[16]>", line 1, in <module>
+        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+1 item had failures:
+   4 of  18 in sage.coding.linear_code.AbstractLinearCode.spectrum
+    [634 tests, 4 failures, 26.04 s]
+----------------------------------------------------------------------
+sage -t --long src/sage/tests/gap_packages.py  # 5 doctests failed
+sage -t --long src/sage/coding/linear_code.py  # 4 doctests failed
+----------------------------------------------------------------------
+```
``````




---

archive/issue_events_261533.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-05-02T13:51:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20documentation",
    "label_color": "0075ca",
    "label_name": "component: documentation",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20525#event-261533"
}
```



---

archive/issue_events_261534.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-05-02T13:51:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20optional",
    "label_color": "000080",
    "label_name": "component: packages: optional",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20525#event-261534"
}
```



---

archive/issue_comments_299038.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nAutomatic testing of all installed optional packages was introduced in #18558",
    "created_at": "2016-05-02T14:06:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299038",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:11'>Comment 11:</a>
Automatic testing of all installed optional packages was introduced in #18558



---

archive/issue_comments_299039.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,193 +1,4 @@\n Since #20182 there are some failing doctests related to optional packages\n \n-```\n-sage -t --long src/sage/tests/gap_packages.py\n-**********************************************************************\n-File \"src/sage/tests/gap_packages.py\", line 8, in sage.tests.gap_packages\n-Failed example:\n-    test_packages(pkgs, only_failures=True)    # optional - gap_packages\n-Exception raised:\n-    Traceback (most recent call last):\n-      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n-        self.compile_and_execute(example, compiler, test.globs)\n-      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n-        exec(compiled, globs)\n-      File \"<doctest sage.tests.gap_packages[2]>\", line 1, in <module>\n-        test_packages(pkgs, only_failures=True)    # optional - gap_packages\n-      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 77, in test_packages\n-        output = libgap.eval('LoadPackage(\"{0}\")'.format(pkg))\n-      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n-        return make_any_gap_element(self, gap_eval(gap_command))\n-      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n-        raise ValueError('libGAP: '+str(msg).strip())\n-    ValueError: libGAP: Error, <opr> is not an operation\n-**********************************************************************\n-File \"src/sage/tests/gap_packages.py\", line 47, in sage.tests.gap_packages.test_packages\n-Failed example:\n-    test_packages(['GAPDoc'])\n-Exception raised:\n-    Traceback (most recent call last):\n-      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n-        self.compile_and_execute(example, compiler, test.globs)\n-      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n-        exec(compiled, globs)\n-      File \"<doctest sage.tests.gap_packages.test_packages[1]>\", line 1, in <module>\n-        test_packages(['GAPDoc'])\n-      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 77, in test_packages\n-        output = libgap.eval('LoadPackage(\"{0}\")'.format(pkg))\n-      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n-        return make_any_gap_element(self, gap_eval(gap_command))\n-      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n-        raise ValueError('libGAP: '+str(msg).strip())\n-    ValueError: libGAP: \n-**********************************************************************\n-File \"src/sage/tests/gap_packages.py\", line 54, in sage.tests.gap_packages.test_packages\n-Failed example:\n-    pkgs = all_installed_packages()\n-Exception raised:\n-    Traceback (most recent call last):\n-      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n-        self.compile_and_execute(example, compiler, test.globs)\n-      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n-        exec(compiled, globs)\n-      File \"<doctest sage.tests.gap_packages.test_packages[2]>\", line 1, in <module>\n-        pkgs = all_installed_packages()\n-      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 109, in all_installed_packages\n-        for path in libgap.eval('GAP_ROOT_PATHS').sage():\n-      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n-        return make_any_gap_element(self, gap_eval(gap_command))\n-      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n-        raise ValueError('libGAP: '+str(msg).strip())\n-    ValueError: libGAP: \n-**********************************************************************\n-File \"src/sage/tests/gap_packages.py\", line 55, in sage.tests.gap_packages.test_packages\n-Failed example:\n-    test_packages(pkgs)    # random output\n-Exception raised:\n-    Traceback (most recent call last):\n-      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n-        self.compile_and_execute(example, compiler, test.globs)\n-      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n-        exec(compiled, globs)\n-      File \"<doctest sage.tests.gap_packages.test_packages[3]>\", line 1, in <module>\n-        test_packages(pkgs)    # random output\n-    NameError: name 'pkgs' is not defined\n-**********************************************************************\n-File \"src/sage/tests/gap_packages.py\", line 105, in sage.tests.gap_packages.all_installed_packages\n-Failed example:\n-    all_installed_packages()\n-Exception raised:\n-    Traceback (most recent call last):\n-      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n-        self.compile_and_execute(example, compiler, test.globs)\n-      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n-        exec(compiled, globs)\n-      File \"<doctest sage.tests.gap_packages.all_installed_packages[1]>\", line 1, in <module>\n-        all_installed_packages()\n-      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 109, in all_installed_packages\n-        for path in libgap.eval('GAP_ROOT_PATHS').sage():\n-      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n-        return make_any_gap_element(self, gap_eval(gap_command))\n-      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n-        raise ValueError('libGAP: '+str(msg).strip())\n-    ValueError: libGAP: \n-**********************************************************************\n-3 items had failures:\n-   1 of   4 in sage.tests.gap_packages\n-   1 of   3 in sage.tests.gap_packages.all_installed_packages\n-   3 of   5 in sage.tests.gap_packages.test_packages\n-    [9 tests, 5 failures, 4.49 s]\n-sage -t --long src/sage/coding/linear_code.py\n-**********************************************************************\n-File \"src/sage/coding/linear_code.py\", line 3284, in sage.coding.linear_code.AbstractLinearCode.spectrum\n-Failed example:\n-    C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n-Exception raised:\n-    Traceback (most recent call last):\n-      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n-        self.compile_and_execute(example, compiler, test.globs)\n-      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n-        exec(compiled, globs)\n-      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[8]>\", line 1, in <module>\n-        C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n-      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n-        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n-      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n-        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n-      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n-        errread, errwrite)\n-      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n-        raise child_exception\n-    OSError: [Errno 2] No such file or directory\n-**********************************************************************\n-File \"src/sage/coding/linear_code.py\", line 3292, in sage.coding.linear_code.AbstractLinearCode.spectrum\n-Failed example:\n-    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n-Exception raised:\n-    Traceback (most recent call last):\n-      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n-        self.compile_and_execute(example, compiler, test.globs)\n-      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n-        exec(compiled, globs)\n-      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[12]>\", line 1, in <module>\n-        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n-      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n-        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n-      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n-        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n-      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n-        errread, errwrite)\n-      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n-        raise child_exception\n-    OSError: [Errno 2] No such file or directory\n-**********************************************************************\n-File \"src/sage/coding/linear_code.py\", line 3296, in sage.coding.linear_code.AbstractLinearCode.spectrum\n-Failed example:\n-    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n-Exception raised:\n-    Traceback (most recent call last):\n-      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n-        self.compile_and_execute(example, compiler, test.globs)\n-      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n-        exec(compiled, globs)\n-      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[14]>\", line 1, in <module>\n-        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n-      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n-        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n-      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n-        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n-      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n-        errread, errwrite)\n-      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n-        raise child_exception\n-    OSError: [Errno 2] No such file or directory\n-**********************************************************************\n-File \"src/sage/coding/linear_code.py\", line 3300, in sage.coding.linear_code.AbstractLinearCode.spectrum\n-Failed example:\n-    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n-Exception raised:\n-    Traceback (most recent call last):\n-      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n-        self.compile_and_execute(example, compiler, test.globs)\n-      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n-        exec(compiled, globs)\n-      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[16]>\", line 1, in <module>\n-        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n-      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n-        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n-      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n-        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n-      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n-        errread, errwrite)\n-      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n-        raise child_exception\n-    OSError: [Errno 2] No such file or directory\n-**********************************************************************\n-1 item had failures:\n-   4 of  18 in sage.coding.linear_code.AbstractLinearCode.spectrum\n-    [634 tests, 4 failures, 26.04 s]\n-----------------------------------------------------------------------\n-sage -t --long src/sage/tests/gap_packages.py  # 5 doctests failed\n-sage -t --long src/sage/coding/linear_code.py  # 4 doctests failed\n-----------------------------------------------------------------------\n-```\n+- `coding/linear_code.py`: related to Guava (gap package) (see [failing_doctests-librae.log](https://github.com/sagemath/sage/files/ticket20525/failing_doctests-librae.log))\n+- `tests/gap_packages.py`: related to gap packages (see [failing_doctests-librae.log](https://github.com/sagemath/sage/files/ticket20525/failing_doctests-librae.log))\n``````\n",
    "created_at": "2016-05-02T14:06:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299039",
    "user": "https://github.com/kwankyu"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,193 +1,4 @@
 Since #20182 there are some failing doctests related to optional packages
 
-```
-sage -t --long src/sage/tests/gap_packages.py
-**********************************************************************
-File "src/sage/tests/gap_packages.py", line 8, in sage.tests.gap_packages
-Failed example:
-    test_packages(pkgs, only_failures=True)    # optional - gap_packages
-Exception raised:
-    Traceback (most recent call last):
-      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
-        self.compile_and_execute(example, compiler, test.globs)
-      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
-        exec(compiled, globs)
-      File "<doctest sage.tests.gap_packages[2]>", line 1, in <module>
-        test_packages(pkgs, only_failures=True)    # optional - gap_packages
-      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 77, in test_packages
-        output = libgap.eval('LoadPackage("{0}")'.format(pkg))
-      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
-        return make_any_gap_element(self, gap_eval(gap_command))
-      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
-        raise ValueError('libGAP: '+str(msg).strip())
-    ValueError: libGAP: Error, <opr> is not an operation
-**********************************************************************
-File "src/sage/tests/gap_packages.py", line 47, in sage.tests.gap_packages.test_packages
-Failed example:
-    test_packages(['GAPDoc'])
-Exception raised:
-    Traceback (most recent call last):
-      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
-        self.compile_and_execute(example, compiler, test.globs)
-      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
-        exec(compiled, globs)
-      File "<doctest sage.tests.gap_packages.test_packages[1]>", line 1, in <module>
-        test_packages(['GAPDoc'])
-      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 77, in test_packages
-        output = libgap.eval('LoadPackage("{0}")'.format(pkg))
-      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
-        return make_any_gap_element(self, gap_eval(gap_command))
-      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
-        raise ValueError('libGAP: '+str(msg).strip())
-    ValueError: libGAP: 
-**********************************************************************
-File "src/sage/tests/gap_packages.py", line 54, in sage.tests.gap_packages.test_packages
-Failed example:
-    pkgs = all_installed_packages()
-Exception raised:
-    Traceback (most recent call last):
-      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
-        self.compile_and_execute(example, compiler, test.globs)
-      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
-        exec(compiled, globs)
-      File "<doctest sage.tests.gap_packages.test_packages[2]>", line 1, in <module>
-        pkgs = all_installed_packages()
-      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 109, in all_installed_packages
-        for path in libgap.eval('GAP_ROOT_PATHS').sage():
-      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
-        return make_any_gap_element(self, gap_eval(gap_command))
-      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
-        raise ValueError('libGAP: '+str(msg).strip())
-    ValueError: libGAP: 
-**********************************************************************
-File "src/sage/tests/gap_packages.py", line 55, in sage.tests.gap_packages.test_packages
-Failed example:
-    test_packages(pkgs)    # random output
-Exception raised:
-    Traceback (most recent call last):
-      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
-        self.compile_and_execute(example, compiler, test.globs)
-      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
-        exec(compiled, globs)
-      File "<doctest sage.tests.gap_packages.test_packages[3]>", line 1, in <module>
-        test_packages(pkgs)    # random output
-    NameError: name 'pkgs' is not defined
-**********************************************************************
-File "src/sage/tests/gap_packages.py", line 105, in sage.tests.gap_packages.all_installed_packages
-Failed example:
-    all_installed_packages()
-Exception raised:
-    Traceback (most recent call last):
-      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
-        self.compile_and_execute(example, compiler, test.globs)
-      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
-        exec(compiled, globs)
-      File "<doctest sage.tests.gap_packages.all_installed_packages[1]>", line 1, in <module>
-        all_installed_packages()
-      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 109, in all_installed_packages
-        for path in libgap.eval('GAP_ROOT_PATHS').sage():
-      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
-        return make_any_gap_element(self, gap_eval(gap_command))
-      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
-        raise ValueError('libGAP: '+str(msg).strip())
-    ValueError: libGAP: 
-**********************************************************************
-3 items had failures:
-   1 of   4 in sage.tests.gap_packages
-   1 of   3 in sage.tests.gap_packages.all_installed_packages
-   3 of   5 in sage.tests.gap_packages.test_packages
-    [9 tests, 5 failures, 4.49 s]
-sage -t --long src/sage/coding/linear_code.py
-**********************************************************************
-File "src/sage/coding/linear_code.py", line 3284, in sage.coding.linear_code.AbstractLinearCode.spectrum
-Failed example:
-    C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
-Exception raised:
-    Traceback (most recent call last):
-      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
-        self.compile_and_execute(example, compiler, test.globs)
-      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
-        exec(compiled, globs)
-      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[8]>", line 1, in <module>
-        C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
-      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
-        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
-      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
-        process = Popen(stdout=PIPE, *popenargs, **kwargs)
-      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
-        errread, errwrite)
-      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
-        raise child_exception
-    OSError: [Errno 2] No such file or directory
-**********************************************************************
-File "src/sage/coding/linear_code.py", line 3292, in sage.coding.linear_code.AbstractLinearCode.spectrum
-Failed example:
-    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
-Exception raised:
-    Traceback (most recent call last):
-      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
-        self.compile_and_execute(example, compiler, test.globs)
-      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
-        exec(compiled, globs)
-      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[12]>", line 1, in <module>
-        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
-      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
-        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
-      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
-        process = Popen(stdout=PIPE, *popenargs, **kwargs)
-      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
-        errread, errwrite)
-      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
-        raise child_exception
-    OSError: [Errno 2] No such file or directory
-**********************************************************************
-File "src/sage/coding/linear_code.py", line 3296, in sage.coding.linear_code.AbstractLinearCode.spectrum
-Failed example:
-    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
-Exception raised:
-    Traceback (most recent call last):
-      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
-        self.compile_and_execute(example, compiler, test.globs)
-      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
-        exec(compiled, globs)
-      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[14]>", line 1, in <module>
-        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
-      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
-        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
-      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
-        process = Popen(stdout=PIPE, *popenargs, **kwargs)
-      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
-        errread, errwrite)
-      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
-        raise child_exception
-    OSError: [Errno 2] No such file or directory
-**********************************************************************
-File "src/sage/coding/linear_code.py", line 3300, in sage.coding.linear_code.AbstractLinearCode.spectrum
-Failed example:
-    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
-Exception raised:
-    Traceback (most recent call last):
-      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
-        self.compile_and_execute(example, compiler, test.globs)
-      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
-        exec(compiled, globs)
-      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[16]>", line 1, in <module>
-        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
-      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
-        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
-      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
-        process = Popen(stdout=PIPE, *popenargs, **kwargs)
-      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
-        errread, errwrite)
-      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
-        raise child_exception
-    OSError: [Errno 2] No such file or directory
-**********************************************************************
-1 item had failures:
-   4 of  18 in sage.coding.linear_code.AbstractLinearCode.spectrum
-    [634 tests, 4 failures, 26.04 s]
-----------------------------------------------------------------------
-sage -t --long src/sage/tests/gap_packages.py  # 5 doctests failed
-sage -t --long src/sage/coding/linear_code.py  # 4 doctests failed
-----------------------------------------------------------------------
-```
+- `coding/linear_code.py`: related to Guava (gap package) (see [failing_doctests-librae.log](https://github.com/sagemath/sage/files/ticket20525/failing_doctests-librae.log))
+- `tests/gap_packages.py`: related to gap packages (see [failing_doctests-librae.log](https://github.com/sagemath/sage/files/ticket20525/failing_doctests-librae.log))
``````




---

archive/issue_events_261535.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2016-05-02T14:06:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20optional",
    "label_color": "000080",
    "label_name": "component: packages: optional",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20525#event-261535"
}
```



---

archive/issue_events_261536.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2016-05-02T14:06:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20documentation",
    "label_color": "0075ca",
    "label_name": "component: documentation",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20525#event-261536"
}
```



---

archive/issue_comments_299040.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,193 @@\n-Since #20182 there are some failing doctests related to optional packages\n+With Sage 7.2.beta6:\n \n-- `coding/linear_code.py`: related to Guava (gap package) (see [failing_doctests-librae.log](https://github.com/sagemath/sage/files/ticket20525/failing_doctests-librae.log))\n-- `tests/gap_packages.py`: related to gap packages (see [failing_doctests-librae.log](https://github.com/sagemath/sage/files/ticket20525/failing_doctests-librae.log))\n+```\n+sage -t --long src/sage/tests/gap_packages.py\n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 8, in sage.tests.gap_packages\n+Failed example:\n+    test_packages(pkgs, only_failures=True)    # optional - gap_packages\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages[2]>\", line 1, in <module>\n+        test_packages(pkgs, only_failures=True)    # optional - gap_packages\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 77, in test_packages\n+        output = libgap.eval('LoadPackage(\"{0}\")'.format(pkg))\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: Error, <opr> is not an operation\n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 47, in sage.tests.gap_packages.test_packages\n+Failed example:\n+    test_packages(['GAPDoc'])\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.test_packages[1]>\", line 1, in <module>\n+        test_packages(['GAPDoc'])\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 77, in test_packages\n+        output = libgap.eval('LoadPackage(\"{0}\")'.format(pkg))\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: \n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 54, in sage.tests.gap_packages.test_packages\n+Failed example:\n+    pkgs = all_installed_packages()\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.test_packages[2]>\", line 1, in <module>\n+        pkgs = all_installed_packages()\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 109, in all_installed_packages\n+        for path in libgap.eval('GAP_ROOT_PATHS').sage():\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: \n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 55, in sage.tests.gap_packages.test_packages\n+Failed example:\n+    test_packages(pkgs)    # random output\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.test_packages[3]>\", line 1, in <module>\n+        test_packages(pkgs)    # random output\n+    NameError: name 'pkgs' is not defined\n+**********************************************************************\n+File \"src/sage/tests/gap_packages.py\", line 105, in sage.tests.gap_packages.all_installed_packages\n+Failed example:\n+    all_installed_packages()\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.tests.gap_packages.all_installed_packages[1]>\", line 1, in <module>\n+        all_installed_packages()\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py\", line 109, in all_installed_packages\n+        for path in libgap.eval('GAP_ROOT_PATHS').sage():\n+      File \"sage/libs/gap/libgap.pyx\", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)\n+        return make_any_gap_element(self, gap_eval(gap_command))\n+      File \"sage/libs/gap/util.pyx\", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)\n+        raise ValueError('libGAP: '+str(msg).strip())\n+    ValueError: libGAP: \n+**********************************************************************\n+3 items had failures:\n+   1 of   4 in sage.tests.gap_packages\n+   1 of   3 in sage.tests.gap_packages.all_installed_packages\n+   3 of   5 in sage.tests.gap_packages.test_packages\n+    [9 tests, 5 failures, 4.49 s]\n+sage -t --long src/sage/coding/linear_code.py\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3284, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[8]>\", line 1, in <module>\n+        C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3292, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[12]>\", line 1, in <module>\n+        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3296, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[14]>\", line 1, in <module>\n+        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+File \"src/sage/coding/linear_code.py\", line 3300, in sage.coding.linear_code.AbstractLinearCode.spectrum\n+Failed example:\n+    C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n+        self.compile_and_execute(example, compiler, test.globs)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n+        exec(compiled, globs)\n+      File \"<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[16]>\", line 1, in <module>\n+        C.spectrum() == C.spectrum(algorithm=\"leon\")   # optional - gap_packages (Guava package)\n+      File \"/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py\", line 3328, in spectrum\n+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 566, in check_output\n+        process = Popen(stdout=PIPE, *popenargs, **kwargs)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 710, in __init__\n+        errread, errwrite)\n+      File \"/usr/local/src/sage-git/local/lib/python/subprocess.py\", line 1335, in _execute_child\n+        raise child_exception\n+    OSError: [Errno 2] No such file or directory\n+**********************************************************************\n+1 item had failures:\n+   4 of  18 in sage.coding.linear_code.AbstractLinearCode.spectrum\n+    [634 tests, 4 failures, 26.04 s]\n+----------------------------------------------------------------------\n+sage -t --long src/sage/tests/gap_packages.py  # 5 doctests failed\n+sage -t --long src/sage/coding/linear_code.py  # 4 doctests failed\n+----------------------------------------------------------------------\n+```\n``````\n",
    "created_at": "2016-05-02T14:42:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299040",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,193 @@
-Since #20182 there are some failing doctests related to optional packages
+With Sage 7.2.beta6:
 
-- `coding/linear_code.py`: related to Guava (gap package) (see [failing_doctests-librae.log](https://github.com/sagemath/sage/files/ticket20525/failing_doctests-librae.log))
-- `tests/gap_packages.py`: related to gap packages (see [failing_doctests-librae.log](https://github.com/sagemath/sage/files/ticket20525/failing_doctests-librae.log))
+```
+sage -t --long src/sage/tests/gap_packages.py
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 8, in sage.tests.gap_packages
+Failed example:
+    test_packages(pkgs, only_failures=True)    # optional - gap_packages
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages[2]>", line 1, in <module>
+        test_packages(pkgs, only_failures=True)    # optional - gap_packages
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 77, in test_packages
+        output = libgap.eval('LoadPackage("{0}")'.format(pkg))
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: Error, <opr> is not an operation
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 47, in sage.tests.gap_packages.test_packages
+Failed example:
+    test_packages(['GAPDoc'])
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.test_packages[1]>", line 1, in <module>
+        test_packages(['GAPDoc'])
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 77, in test_packages
+        output = libgap.eval('LoadPackage("{0}")'.format(pkg))
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: 
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 54, in sage.tests.gap_packages.test_packages
+Failed example:
+    pkgs = all_installed_packages()
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.test_packages[2]>", line 1, in <module>
+        pkgs = all_installed_packages()
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 109, in all_installed_packages
+        for path in libgap.eval('GAP_ROOT_PATHS').sage():
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: 
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 55, in sage.tests.gap_packages.test_packages
+Failed example:
+    test_packages(pkgs)    # random output
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.test_packages[3]>", line 1, in <module>
+        test_packages(pkgs)    # random output
+    NameError: name 'pkgs' is not defined
+**********************************************************************
+File "src/sage/tests/gap_packages.py", line 105, in sage.tests.gap_packages.all_installed_packages
+Failed example:
+    all_installed_packages()
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.tests.gap_packages.all_installed_packages[1]>", line 1, in <module>
+        all_installed_packages()
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/tests/gap_packages.py", line 109, in all_installed_packages
+        for path in libgap.eval('GAP_ROOT_PATHS').sage():
+      File "sage/libs/gap/libgap.pyx", line 431, in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4183)
+        return make_any_gap_element(self, gap_eval(gap_command))
+      File "sage/libs/gap/util.pyx", line 288, in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4947)
+        raise ValueError('libGAP: '+str(msg).strip())
+    ValueError: libGAP: 
+**********************************************************************
+3 items had failures:
+   1 of   4 in sage.tests.gap_packages
+   1 of   3 in sage.tests.gap_packages.all_installed_packages
+   3 of   5 in sage.tests.gap_packages.test_packages
+    [9 tests, 5 failures, 4.49 s]
+sage -t --long src/sage/coding/linear_code.py
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3284, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[8]>", line 1, in <module>
+        C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3292, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[12]>", line 1, in <module>
+        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3296, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[14]>", line 1, in <module>
+        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+File "src/sage/coding/linear_code.py", line 3300, in sage.coding.linear_code.AbstractLinearCode.spectrum
+Failed example:
+    C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+Exception raised:
+    Traceback (most recent call last):
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
+        self.compile_and_execute(example, compiler, test.globs)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
+        exec(compiled, globs)
+      File "<doctest sage.coding.linear_code.AbstractLinearCode.spectrum[16]>", line 1, in <module>
+        C.spectrum() == C.spectrum(algorithm="leon")   # optional - gap_packages (Guava package)
+      File "/usr/local/src/sage-git/local/lib/python2.7/site-packages/sage/coding/linear_code.py", line 3328, in spectrum
+        lines = subprocess.check_output([os.path.join(guava_bin_dir, 'wtdist'), input])
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 566, in check_output
+        process = Popen(stdout=PIPE, *popenargs, **kwargs)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 710, in __init__
+        errread, errwrite)
+      File "/usr/local/src/sage-git/local/lib/python/subprocess.py", line 1335, in _execute_child
+        raise child_exception
+    OSError: [Errno 2] No such file or directory
+**********************************************************************
+1 item had failures:
+   4 of  18 in sage.coding.linear_code.AbstractLinearCode.spectrum
+    [634 tests, 4 failures, 26.04 s]
+----------------------------------------------------------------------
+sage -t --long src/sage/tests/gap_packages.py  # 5 doctests failed
+sage -t --long src/sage/coding/linear_code.py  # 4 doctests failed
+----------------------------------------------------------------------
+```
``````




---

archive/issue_events_261537.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-05-02T14:42:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20documentation",
    "label_color": "0075ca",
    "label_name": "component: documentation",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20525#event-261537"
}
```



---

archive/issue_events_261538.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-05-02T14:42:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20optional",
    "label_color": "000080",
    "label_name": "component: packages: optional",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20525#event-261538"
}
```



---

archive/issue_events_261539.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-05-02T14:42:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20525#event-261539"
}
```



---

archive/issue_events_261540.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-05-02T14:42:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "label": "https://github.com/sagemath/sage/labels/p1%20%E2%80%93%20blocker",
    "label_color": "ff0000",
    "label_name": "p1 \u2013 blocker",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20525#event-261540"
}
```



---

archive/issue_events_261541.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-05-02T14:42:17Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "title_is": "Failing gap_packages doctests",
    "title_was": "failing optional doctests",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20525#event-261541"
}
```



---

archive/issue_comments_299041.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -191,3 +191,29 @@\n sage -t --long src/sage/coding/linear_code.py  # 4 doctests failed\n ----------------------------------------------------------------------\n ```\n+\n+The failures in `gap_packages.py` are because of\n+\n+```\n+sage: libgap.eval('LoadPackage(\"HAPcryst\")')\n+---------------------------------------------------------------------------\n+ValueError                                Traceback (most recent call last)\n+<ipython-input-1-90cb9d4fcac6> in <module>()\n+----> 1 libgap.eval('LoadPackage(\"HAPcryst\")')\n+\n+/usr/local/src/sage-git/src/sage/libs/gap/libgap.pyx in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4168)()\n+    429         if not isinstance(gap_command, basestring):\n+    430             gap_command = str(gap_command._gap_init_())\n+--> 431         return make_any_gap_element(self, gap_eval(gap_command))\n+    432 \n+    433     @cached_method\n+\n+/usr/local/src/sage-git/src/sage/libs/gap/util.pyx in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4932)()\n+    286             sig_off()\n+    287         except RuntimeError as msg:\n+--> 288             raise ValueError('libGAP: '+str(msg).strip())\n+    289 \n+    290         if libGAP_Symbol != libGAP_S_SEMICOLON:\n+\n+ValueError: libGAP: Error, <opr> is not an operation\n+```\n``````\n",
    "created_at": "2016-05-02T14:51:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299041",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -191,3 +191,29 @@
 sage -t --long src/sage/coding/linear_code.py  # 4 doctests failed
 ----------------------------------------------------------------------
 ```
+
+The failures in `gap_packages.py` are because of
+
+```
+sage: libgap.eval('LoadPackage("HAPcryst")')
+---------------------------------------------------------------------------
+ValueError                                Traceback (most recent call last)
+<ipython-input-1-90cb9d4fcac6> in <module>()
+----> 1 libgap.eval('LoadPackage("HAPcryst")')
+
+/usr/local/src/sage-git/src/sage/libs/gap/libgap.pyx in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4168)()
+    429         if not isinstance(gap_command, basestring):
+    430             gap_command = str(gap_command._gap_init_())
+--> 431         return make_any_gap_element(self, gap_eval(gap_command))
+    432 
+    433     @cached_method
+
+/usr/local/src/sage-git/src/sage/libs/gap/util.pyx in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4932)()
+    286             sig_off()
+    287         except RuntimeError as msg:
+--> 288             raise ValueError('libGAP: '+str(msg).strip())
+    289 
+    290         if libGAP_Symbol != libGAP_S_SEMICOLON:
+
+ValueError: libGAP: Error, <opr> is not an operation
+```
``````




---

archive/issue_comments_299042.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -217,3 +217,11 @@\n \n ValueError: libGAP: Error, <opr> is not an operation\n ```\n+\n+The failures in `linear_code.pyx` are because of\n+\n+```\n+sage: print gap.eval('DirectoriesPackagePrograms(\"guava\")[1]')\n+dir(\"/usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13/bin/x86_64-unknown-linux-gnu-gcc-default64/\")\n+```\n+but this directory does not exist!\n``````\n",
    "created_at": "2016-05-02T14:55:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299042",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -217,3 +217,11 @@
 
 ValueError: libGAP: Error, <opr> is not an operation
 ```
+
+The failures in `linear_code.pyx` are because of
+
+```
+sage: print gap.eval('DirectoriesPackagePrograms("guava")[1]')
+dir("/usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13/bin/x86_64-unknown-linux-gnu-gcc-default64/")
+```
+but this directory does not exist!
``````




---

archive/issue_events_261542.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-05-02T14:55:30Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "title_is": "gap_packages badly broken",
    "title_was": "Failing gap_packages doctests",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20525#event-261542"
}
```



---

archive/issue_comments_299043.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,40 @@\n With Sage 7.2.beta6:\n+\n+```\n+sage: libgap.eval('LoadPackage(\"HAPcryst\")')\n+---------------------------------------------------------------------------\n+ValueError                                Traceback (most recent call last)\n+<ipython-input-1-90cb9d4fcac6> in <module>()\n+----> 1 libgap.eval('LoadPackage(\"HAPcryst\")')\n+\n+/usr/local/src/sage-git/src/sage/libs/gap/libgap.pyx in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4168)()\n+    429         if not isinstance(gap_command, basestring):\n+    430             gap_command = str(gap_command._gap_init_())\n+--> 431         return make_any_gap_element(self, gap_eval(gap_command))\n+    432 \n+    433     @cached_method\n+\n+/usr/local/src/sage-git/src/sage/libs/gap/util.pyx in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4932)()\n+    286             sig_off()\n+    287         except RuntimeError as msg:\n+--> 288             raise ValueError('libGAP: '+str(msg).strip())\n+    289 \n+    290         if libGAP_Symbol != libGAP_S_SEMICOLON:\n+\n+ValueError: libGAP: Error, <opr> is not an operation\n+```\n+\n+A second issue is a mis-installation of guava:\n+\n+```\n+sage: print gap.eval('DirectoriesPackagePrograms(\"guava\")[1]')\n+dir(\"/usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13/bin/x86_64-unknown-linux-gnu-gcc-default64/\")\n+```\n+but this directory does not exist!\n+\n+---\n+\n+This causes doctest failures\n \n ```\n sage -t --long src/sage/tests/gap_packages.py\n@@ -191,37 +227,3 @@\n sage -t --long src/sage/coding/linear_code.py  # 4 doctests failed\n ----------------------------------------------------------------------\n ```\n-\n-The failures in `gap_packages.py` are because of\n-\n-```\n-sage: libgap.eval('LoadPackage(\"HAPcryst\")')\n----------------------------------------------------------------------------\n-ValueError                                Traceback (most recent call last)\n-<ipython-input-1-90cb9d4fcac6> in <module>()\n-----> 1 libgap.eval('LoadPackage(\"HAPcryst\")')\n-\n-/usr/local/src/sage-git/src/sage/libs/gap/libgap.pyx in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4168)()\n-    429         if not isinstance(gap_command, basestring):\n-    430             gap_command = str(gap_command._gap_init_())\n---> 431         return make_any_gap_element(self, gap_eval(gap_command))\n-    432 \n-    433     @cached_method\n-\n-/usr/local/src/sage-git/src/sage/libs/gap/util.pyx in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4932)()\n-    286             sig_off()\n-    287         except RuntimeError as msg:\n---> 288             raise ValueError('libGAP: '+str(msg).strip())\n-    289 \n-    290         if libGAP_Symbol != libGAP_S_SEMICOLON:\n-\n-ValueError: libGAP: Error, <opr> is not an operation\n-```\n-\n-The failures in `linear_code.pyx` are because of\n-\n-```\n-sage: print gap.eval('DirectoriesPackagePrograms(\"guava\")[1]')\n-dir(\"/usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13/bin/x86_64-unknown-linux-gnu-gcc-default64/\")\n-```\n-but this directory does not exist!\n``````\n",
    "created_at": "2016-05-02T14:56:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299043",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,40 @@
 With Sage 7.2.beta6:
+
+```
+sage: libgap.eval('LoadPackage("HAPcryst")')
+---------------------------------------------------------------------------
+ValueError                                Traceback (most recent call last)
+<ipython-input-1-90cb9d4fcac6> in <module>()
+----> 1 libgap.eval('LoadPackage("HAPcryst")')
+
+/usr/local/src/sage-git/src/sage/libs/gap/libgap.pyx in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4168)()
+    429         if not isinstance(gap_command, basestring):
+    430             gap_command = str(gap_command._gap_init_())
+--> 431         return make_any_gap_element(self, gap_eval(gap_command))
+    432 
+    433     @cached_method
+
+/usr/local/src/sage-git/src/sage/libs/gap/util.pyx in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4932)()
+    286             sig_off()
+    287         except RuntimeError as msg:
+--> 288             raise ValueError('libGAP: '+str(msg).strip())
+    289 
+    290         if libGAP_Symbol != libGAP_S_SEMICOLON:
+
+ValueError: libGAP: Error, <opr> is not an operation
+```
+
+A second issue is a mis-installation of guava:
+
+```
+sage: print gap.eval('DirectoriesPackagePrograms("guava")[1]')
+dir("/usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13/bin/x86_64-unknown-linux-gnu-gcc-default64/")
+```
+but this directory does not exist!
+
+---
+
+This causes doctest failures
 
 ```
 sage -t --long src/sage/tests/gap_packages.py
@@ -191,37 +227,3 @@
 sage -t --long src/sage/coding/linear_code.py  # 4 doctests failed
 ----------------------------------------------------------------------
 ```
-
-The failures in `gap_packages.py` are because of
-
-```
-sage: libgap.eval('LoadPackage("HAPcryst")')
----------------------------------------------------------------------------
-ValueError                                Traceback (most recent call last)
-<ipython-input-1-90cb9d4fcac6> in <module>()
-----> 1 libgap.eval('LoadPackage("HAPcryst")')
-
-/usr/local/src/sage-git/src/sage/libs/gap/libgap.pyx in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4168)()
-    429         if not isinstance(gap_command, basestring):
-    430             gap_command = str(gap_command._gap_init_())
---> 431         return make_any_gap_element(self, gap_eval(gap_command))
-    432 
-    433     @cached_method
-
-/usr/local/src/sage-git/src/sage/libs/gap/util.pyx in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4932)()
-    286             sig_off()
-    287         except RuntimeError as msg:
---> 288             raise ValueError('libGAP: '+str(msg).strip())
-    289 
-    290         if libGAP_Symbol != libGAP_S_SEMICOLON:
-
-ValueError: libGAP: Error, <opr> is not an operation
-```
-
-The failures in `linear_code.pyx` are because of
-
-```
-sage: print gap.eval('DirectoriesPackagePrograms("guava")[1]')
-dir("/usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13/bin/x86_64-unknown-linux-gnu-gcc-default64/")
-```
-but this directory does not exist!
``````




---

archive/issue_comments_299044.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nthese tests work for me. Must be patchbot madness...",
    "created_at": "2016-05-02T14:57:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299044",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:16'>Comment 16:</a>
these tests work for me. Must be patchbot madness...



---

archive/issue_comments_299045.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,40 +1,4 @@\n With Sage 7.2.beta6:\n-\n-```\n-sage: libgap.eval('LoadPackage(\"HAPcryst\")')\n----------------------------------------------------------------------------\n-ValueError                                Traceback (most recent call last)\n-<ipython-input-1-90cb9d4fcac6> in <module>()\n-----> 1 libgap.eval('LoadPackage(\"HAPcryst\")')\n-\n-/usr/local/src/sage-git/src/sage/libs/gap/libgap.pyx in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4168)()\n-    429         if not isinstance(gap_command, basestring):\n-    430             gap_command = str(gap_command._gap_init_())\n---> 431         return make_any_gap_element(self, gap_eval(gap_command))\n-    432 \n-    433     @cached_method\n-\n-/usr/local/src/sage-git/src/sage/libs/gap/util.pyx in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4932)()\n-    286             sig_off()\n-    287         except RuntimeError as msg:\n---> 288             raise ValueError('libGAP: '+str(msg).strip())\n-    289 \n-    290         if libGAP_Symbol != libGAP_S_SEMICOLON:\n-\n-ValueError: libGAP: Error, <opr> is not an operation\n-```\n-\n-A second issue is a mis-installation of guava:\n-\n-```\n-sage: print gap.eval('DirectoriesPackagePrograms(\"guava\")[1]')\n-dir(\"/usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13/bin/x86_64-unknown-linux-gnu-gcc-default64/\")\n-```\n-but this directory does not exist!\n-\n----\n-\n-This causes doctest failures\n \n ```\n sage -t --long src/sage/tests/gap_packages.py\n``````\n",
    "created_at": "2016-05-02T14:57:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299045",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,40 +1,4 @@
 With Sage 7.2.beta6:
-
-```
-sage: libgap.eval('LoadPackage("HAPcryst")')
----------------------------------------------------------------------------
-ValueError                                Traceback (most recent call last)
-<ipython-input-1-90cb9d4fcac6> in <module>()
-----> 1 libgap.eval('LoadPackage("HAPcryst")')
-
-/usr/local/src/sage-git/src/sage/libs/gap/libgap.pyx in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4168)()
-    429         if not isinstance(gap_command, basestring):
-    430             gap_command = str(gap_command._gap_init_())
---> 431         return make_any_gap_element(self, gap_eval(gap_command))
-    432 
-    433     @cached_method
-
-/usr/local/src/sage-git/src/sage/libs/gap/util.pyx in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4932)()
-    286             sig_off()
-    287         except RuntimeError as msg:
---> 288             raise ValueError('libGAP: '+str(msg).strip())
-    289 
-    290         if libGAP_Symbol != libGAP_S_SEMICOLON:
-
-ValueError: libGAP: Error, <opr> is not an operation
-```
-
-A second issue is a mis-installation of guava:
-
-```
-sage: print gap.eval('DirectoriesPackagePrograms("guava")[1]')
-dir("/usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13/bin/x86_64-unknown-linux-gnu-gcc-default64/")
-```
-but this directory does not exist!
-
----
-
-This causes doctest failures
 
 ```
 sage -t --long src/sage/tests/gap_packages.py
``````




---

archive/issue_events_261543.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2016-05-02T14:57:12Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "title_is": "Failing gap_packages doctests",
    "title_was": "gap_packages badly broken",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20525#event-261543"
}
```



---

archive/issue_events_261544.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-05-02T15:00:02Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "title_is": "gap_packages badly broken",
    "title_was": "Failing gap_packages doctests",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20525#event-261544"
}
```



---

archive/issue_comments_299046.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nReplying to [@dimpase](#comment%3A16):\n> these tests work for me.\n\nNot for me.\n\n> Must be patchbot madness...\n\nNo, this is unrelated to the patchbot.",
    "created_at": "2016-05-02T15:01:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299046",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:18'>Comment 18:</a>
Replying to [@dimpase](#comment%3A16):
> these tests work for me.

Not for me.

> Must be patchbot madness...

No, this is unrelated to the patchbot.



---

archive/issue_comments_299047.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nPlease don't revert the changes I make to the ticket :-)",
    "created_at": "2016-05-02T15:03:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299047",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:19'>Comment 19:</a>
Please don't revert the changes I make to the ticket :-)



---

archive/issue_comments_299048.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,39 @@\n With Sage 7.2.beta6:\n+\n+```\n+sage: libgap.eval('LoadPackage(\"HAPcryst\")')\n+---------------------------------------------------------------------------\n+ValueError                                Traceback (most recent call last)\n+<ipython-input-1-90cb9d4fcac6> in <module>()\n+----> 1 libgap.eval('LoadPackage(\"HAPcryst\")')\n+\n+/usr/local/src/sage-git/src/sage/libs/gap/libgap.pyx in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4168)()\n+    429         if not isinstance(gap_command, basestring):\n+    430             gap_command = str(gap_command._gap_init_())\n+--> 431         return make_any_gap_element(self, gap_eval(gap_command))\n+    432 \n+    433     @cached_method\n+\n+/usr/local/src/sage-git/src/sage/libs/gap/util.pyx in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4932)()\n+    286             sig_off()\n+    287         except RuntimeError as msg:\n+--> 288             raise ValueError('libGAP: '+str(msg).strip())\n+    289 \n+    290         if libGAP_Symbol != libGAP_S_SEMICOLON:\n+\n+ValueError: libGAP: Error, <opr> is not an operation\n+```\n+\n+A second issue is a mis-installation of guava:\n+\n+```\n+sage: print gap.eval('DirectoriesPackagePrograms(\"guava\")[1]')\n+dir(\"/usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13/bin/x86_64-unknown-linux-gnu-gcc-default64/\")\n+```\n+\n+but this directory does not exist!\n+\n+---\n \n ```\n sage -t --long src/sage/tests/gap_packages.py\n``````\n",
    "created_at": "2016-05-02T15:03:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299048",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,39 @@
 With Sage 7.2.beta6:
+
+```
+sage: libgap.eval('LoadPackage("HAPcryst")')
+---------------------------------------------------------------------------
+ValueError                                Traceback (most recent call last)
+<ipython-input-1-90cb9d4fcac6> in <module>()
+----> 1 libgap.eval('LoadPackage("HAPcryst")')
+
+/usr/local/src/sage-git/src/sage/libs/gap/libgap.pyx in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4168)()
+    429         if not isinstance(gap_command, basestring):
+    430             gap_command = str(gap_command._gap_init_())
+--> 431         return make_any_gap_element(self, gap_eval(gap_command))
+    432 
+    433     @cached_method
+
+/usr/local/src/sage-git/src/sage/libs/gap/util.pyx in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4932)()
+    286             sig_off()
+    287         except RuntimeError as msg:
+--> 288             raise ValueError('libGAP: '+str(msg).strip())
+    289 
+    290         if libGAP_Symbol != libGAP_S_SEMICOLON:
+
+ValueError: libGAP: Error, <opr> is not an operation
+```
+
+A second issue is a mis-installation of guava:
+
+```
+sage: print gap.eval('DirectoriesPackagePrograms("guava")[1]')
+dir("/usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13/bin/x86_64-unknown-linux-gnu-gcc-default64/")
+```
+
+but this directory does not exist!
+
+---
 
 ```
 sage -t --long src/sage/tests/gap_packages.py
``````




---

archive/issue_comments_299049.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,27 +1,42 @@\n With Sage 7.2.beta6:\n \n ```\n-sage: libgap.eval('LoadPackage(\"HAPcryst\")')\n----------------------------------------------------------------------------\n-ValueError                                Traceback (most recent call last)\n-<ipython-input-1-90cb9d4fcac6> in <module>()\n-----> 1 libgap.eval('LoadPackage(\"HAPcryst\")')\n-\n-/usr/local/src/sage-git/src/sage/libs/gap/libgap.pyx in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4168)()\n-    429         if not isinstance(gap_command, basestring):\n-    430             gap_command = str(gap_command._gap_init_())\n---> 431         return make_any_gap_element(self, gap_eval(gap_command))\n-    432 \n-    433     @cached_method\n-\n-/usr/local/src/sage-git/src/sage/libs/gap/util.pyx in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4932)()\n-    286             sig_off()\n-    287         except RuntimeError as msg:\n---> 288             raise ValueError('libGAP: '+str(msg).strip())\n-    289 \n-    290         if libGAP_Symbol != libGAP_S_SEMICOLON:\n-\n-ValueError: libGAP: Error, <opr> is not an operation\n+$ ./sage --gap\n+gap> LoadPackage(\"HAPcryst\");\n+#I  polymake command not found. Please set POLYMAKE_COMMAND by hand\n+----------------------------------------------------------------\n+Loading  polymaking 0.8.1\n+(A package for using polymake in GAP)\n+by Marc Roeder\n+----------------------------------------------------------------\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+Loading  Cryst 4.1.12 (Computing with crystallographic groups)\n+by Bettina Eick (http://www.icm.tu-bs.de/~beick/),\n+   Franz G\u00e4hler (http://www.math.uni-bielefeld.de/~gaehler/), and\n+   Werner Nickel (http://www.mathematik.tu-darmstadt.de/~nickel/).\n+Homepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+Loading  CrystCat 1.1.6 (The crystallographic groups catalog)\n+by Volkmar Felsch (http://www.math.rwth-aachen.de/~Volkmar.Felsch/) and\n+   Franz G\u00e4hler (http://www.math.uni-bielefeld.de/~gaehler/).\n+Homepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+Loading  AClib 1.2 (Almost Crystallographic Groups - A Library and Algorithms)\n+by Karel Dekimpe (http://www.kulak.ac.be/~dekimpe) and\n+   Bettina Eick (http://www.icm.tu-bs.de/~beick).\n+Homepage: http://www.icm.tu-bs.de/~beick/so.html\n+\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n+#I  HAP warning: Set POLYMAKE_PATH manually if needed. \n+#I  HAP warning: Set NEATO_PATH manually if needed.\n+#I  HAP warning: Set DISPLAY_PATH manually if needed.\n+Error, <opr> is not an operation called from\n+<compiled or corrupted statement>  called from\n+<function \"local function\">( <arguments> )\n+ called from read-eval loop at line 162 of /usr/local/src/sage-git/local/gap/latest/pkg/Hap1.11/lib/HapCocyclic/gap/ccgroup.gi\n+you can 'quit;' to quit to outer loop, or\n+you can 'return;' to continue\n ```\n \n A second issue is a mis-installation of guava:\n``````\n",
    "created_at": "2016-05-02T15:07:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299049",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,27 +1,42 @@
 With Sage 7.2.beta6:
 
 ```
-sage: libgap.eval('LoadPackage("HAPcryst")')
----------------------------------------------------------------------------
-ValueError                                Traceback (most recent call last)
-<ipython-input-1-90cb9d4fcac6> in <module>()
-----> 1 libgap.eval('LoadPackage("HAPcryst")')
-
-/usr/local/src/sage-git/src/sage/libs/gap/libgap.pyx in sage.libs.gap.libgap.Gap.eval (build/cythonized/sage/libs/gap/libgap.c:4168)()
-    429         if not isinstance(gap_command, basestring):
-    430             gap_command = str(gap_command._gap_init_())
---> 431         return make_any_gap_element(self, gap_eval(gap_command))
-    432 
-    433     @cached_method
-
-/usr/local/src/sage-git/src/sage/libs/gap/util.pyx in sage.libs.gap.util.gap_eval (build/cythonized/sage/libs/gap/util.c:4932)()
-    286             sig_off()
-    287         except RuntimeError as msg:
---> 288             raise ValueError('libGAP: '+str(msg).strip())
-    289 
-    290         if libGAP_Symbol != libGAP_S_SEMICOLON:
-
-ValueError: libGAP: Error, <opr> is not an operation
+$ ./sage --gap
+gap> LoadPackage("HAPcryst");
+#I  polymake command not found. Please set POLYMAKE_COMMAND by hand
+----------------------------------------------------------------
+Loading  polymaking 0.8.1
+(A package for using polymake in GAP)
+by Marc Roeder
+----------------------------------------------------------------
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+Loading  Cryst 4.1.12 (Computing with crystallographic groups)
+by Bettina Eick (http://www.icm.tu-bs.de/~beick/),
+   Franz Gähler (http://www.math.uni-bielefeld.de/~gaehler/), and
+   Werner Nickel (http://www.mathematik.tu-darmstadt.de/~nickel/).
+Homepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+Loading  CrystCat 1.1.6 (The crystallographic groups catalog)
+by Volkmar Felsch (http://www.math.rwth-aachen.de/~Volkmar.Felsch/) and
+   Franz Gähler (http://www.math.uni-bielefeld.de/~gaehler/).
+Homepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+Loading  AClib 1.2 (Almost Crystallographic Groups - A Library and Algorithms)
+by Karel Dekimpe (http://www.kulak.ac.be/~dekimpe) and
+   Bettina Eick (http://www.icm.tu-bs.de/~beick).
+Homepage: http://www.icm.tu-bs.de/~beick/so.html
+─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
+#I  HAP warning: Set POLYMAKE_PATH manually if needed. 
+#I  HAP warning: Set NEATO_PATH manually if needed.
+#I  HAP warning: Set DISPLAY_PATH manually if needed.
+Error, <opr> is not an operation called from
+<compiled or corrupted statement>  called from
+<function "local function">( <arguments> )
+ called from read-eval loop at line 162 of /usr/local/src/sage-git/local/gap/latest/pkg/Hap1.11/lib/HapCocyclic/gap/ccgroup.gi
+you can 'quit;' to quit to outer loop, or
+you can 'return;' to continue
 ```
 
 A second issue is a mis-installation of guava:
``````




---

archive/issue_comments_299050.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -42,7 +42,7 @@\n A second issue is a mis-installation of guava:\n \n ```\n-sage: print gap.eval('DirectoriesPackagePrograms(\"guava\")[1]')\n+gap> DirectoriesPackagePrograms(\"guava\")[1];\n dir(\"/usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13/bin/x86_64-unknown-linux-gnu-gcc-default64/\")\n ```\n \n``````\n",
    "created_at": "2016-05-02T15:08:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299050",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -42,7 +42,7 @@
 A second issue is a mis-installation of guava:
 
 ```
-sage: print gap.eval('DirectoriesPackagePrograms("guava")[1]')
+gap> DirectoriesPackagePrograms("guava")[1];
 dir("/usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13/bin/x86_64-unknown-linux-gnu-gcc-default64/")
 ```
 
``````




---

archive/issue_comments_299051.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -46,7 +46,29 @@\n dir(\"/usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13/bin/x86_64-unknown-linux-gnu-gcc-default64/\")\n ```\n \n-but this directory does not exist!\n+but this directory does not exist:\n+\n+```\n+$ ls -l /usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13\n+total 168\n+-rw-r--r-- 1 jdemeyer jdemeyer 11775 Mar 19 23:17 CHANGES.guava\n+-rwxr-xr-x 1 jdemeyer jdemeyer  1918 Mar 19 23:17 configure\n+-rw-r--r-- 1 jdemeyer jdemeyer 51189 Mar 19 23:17 COPYING.guava\n+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 doc\n+-rw-r--r-- 1 jdemeyer jdemeyer   368 Mar 19 23:17 gapdoc.g\n+-rw-r--r-- 1 jdemeyer jdemeyer  2059 Mar 19 23:17 HISTORY.guava\n+-rw-r--r-- 1 jdemeyer jdemeyer  1364 Mar 19 23:17 init.g\n+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 lib\n+-rw-r--r-- 1 jdemeyer jdemeyer 35120 Mar 19 23:17 LICENSE\n+-rw-r--r-- 1 jdemeyer jdemeyer  2858 Mar 19 23:17 Makefile.in\n+-rw-r--r-- 1 jdemeyer jdemeyer 11638 Mar 19 23:17 PackageInfo.g\n+-rw-r--r-- 1 jdemeyer jdemeyer  1420 Mar 19 23:17 read.g\n+-rw-r--r-- 1 jdemeyer jdemeyer  4882 Mar 19 23:17 README.guava\n+-rw-r--r-- 1 jdemeyer jdemeyer    98 Mar 19 23:17 README.md\n+drwxr-xr-x 4 jdemeyer jdemeyer  4096 Mar 30 00:32 src\n+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 tbl\n+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 tst\n+```\n \n ---\n \n``````\n",
    "created_at": "2016-05-02T15:08:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299051",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -46,7 +46,29 @@
 dir("/usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13/bin/x86_64-unknown-linux-gnu-gcc-default64/")
 ```
 
-but this directory does not exist!
+but this directory does not exist:
+
+```
+$ ls -l /usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13
+total 168
+-rw-r--r-- 1 jdemeyer jdemeyer 11775 Mar 19 23:17 CHANGES.guava
+-rwxr-xr-x 1 jdemeyer jdemeyer  1918 Mar 19 23:17 configure
+-rw-r--r-- 1 jdemeyer jdemeyer 51189 Mar 19 23:17 COPYING.guava
+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 doc
+-rw-r--r-- 1 jdemeyer jdemeyer   368 Mar 19 23:17 gapdoc.g
+-rw-r--r-- 1 jdemeyer jdemeyer  2059 Mar 19 23:17 HISTORY.guava
+-rw-r--r-- 1 jdemeyer jdemeyer  1364 Mar 19 23:17 init.g
+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 lib
+-rw-r--r-- 1 jdemeyer jdemeyer 35120 Mar 19 23:17 LICENSE
+-rw-r--r-- 1 jdemeyer jdemeyer  2858 Mar 19 23:17 Makefile.in
+-rw-r--r-- 1 jdemeyer jdemeyer 11638 Mar 19 23:17 PackageInfo.g
+-rw-r--r-- 1 jdemeyer jdemeyer  1420 Mar 19 23:17 read.g
+-rw-r--r-- 1 jdemeyer jdemeyer  4882 Mar 19 23:17 README.guava
+-rw-r--r-- 1 jdemeyer jdemeyer    98 Mar 19 23:17 README.md
+drwxr-xr-x 4 jdemeyer jdemeyer  4096 Mar 30 00:32 src
+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 tbl
+drwxr-xr-x 2 jdemeyer jdemeyer  4096 Mar 30 00:32 tst
+```
 
 ---
 
``````




---

archive/issue_comments_299052.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -46,7 +46,7 @@\n dir(\"/usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13/bin/x86_64-unknown-linux-gnu-gcc-default64/\")\n ```\n \n-but this directory does not exist:\n+but this directory does not exist, `bin` is missing below:\n \n ```\n $ ls -l /usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13\n``````\n",
    "created_at": "2016-05-02T15:09:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299052",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -46,7 +46,7 @@
 dir("/usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13/bin/x86_64-unknown-linux-gnu-gcc-default64/")
 ```
 
-but this directory does not exist:
+but this directory does not exist, `bin` is missing below:
 
 ```
 $ ls -l /usr/local/src/sage-git/local/gap/latest/pkg/guava-3.13
``````




---

archive/issue_comments_299053.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -72,6 +72,8 @@\n \n ---\n \n+This causes doctest failures:\n+\n ```\n sage -t --long src/sage/tests/gap_packages.py\n **********************************************************************\n``````\n",
    "created_at": "2016-05-02T15:09:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299053",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -72,6 +72,8 @@
 
 ---
 
+This causes doctest failures:
+
 ```
 sage -t --long src/sage/tests/gap_packages.py
 **********************************************************************
``````




---

archive/issue_comments_299054.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,7 +1,6 @@\n-With Sage 7.2.beta6:\n-\n-```\n-$ ./sage --gap\n+With Sage 7.2.beta6, within a `sage --gap` session:\n+\n+```\n gap> LoadPackage(\"HAPcryst\");\n #I  polymake command not found. Please set POLYMAKE_COMMAND by hand\n ----------------------------------------------------------------\n``````\n",
    "created_at": "2016-05-02T15:10:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299054",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,7 +1,6 @@
-With Sage 7.2.beta6:
-
-```
-$ ./sage --gap
+With Sage 7.2.beta6, within a `sage --gap` session:
+
+```
 gap> LoadPackage("HAPcryst");
 #I  polymake command not found. Please set POLYMAKE_COMMAND by hand
 ----------------------------------------------------------------
``````




---

archive/issue_comments_299055.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-With Sage 7.2.beta6, within a `sage --gap` session:\n+With Sage 7.2.beta6 with `gap_packages` installed, within a `sage --gap` session:\n \n ```\n gap> LoadPackage(\"HAPcryst\");\n``````\n",
    "created_at": "2016-05-02T15:10:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299055",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-With Sage 7.2.beta6, within a `sage --gap` session:
+With Sage 7.2.beta6 with `gap_packages` installed, within a `sage --gap` session:
 
 ```
 gap> LoadPackage("HAPcryst");
``````




---

archive/issue_comments_299056.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-With Sage 7.2.beta6 with `gap_packages` installed, within a `sage --gap` session:\n+With Sage 7.2.beta6, within a `sage --gap` session:\n \n ```\n gap> LoadPackage(\"HAPcryst\");\n``````\n",
    "created_at": "2016-05-02T15:18:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299056",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-With Sage 7.2.beta6 with `gap_packages` installed, within a `sage --gap` session:
+With Sage 7.2.beta6, within a `sage --gap` session:
 
 ```
 gap> LoadPackage("HAPcryst");
``````




---

archive/issue_comments_299057.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\nok: `./spkg-install: line 72: cd: /home/scratch/dimpase/sage/sage/local/gap/latest/pkg/guava-3*: No such file or directory`\n\nbut why?! This is expansion of `cd \"$PKG_DIR/guava-3*\"`. And it seems to work:\n\n```\n$ cd /home/scratch/dimpase/sage/sage/local/gap/latest/pkg/guava-3*\nclpc171[/home/scratch/dimpase/sage/sage/local/gap/latest/pkg/guava-3.13]$ \n```",
    "created_at": "2016-05-02T15:18:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299057",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:27'>Comment 27:</a>
ok: `./spkg-install: line 72: cd: /home/scratch/dimpase/sage/sage/local/gap/latest/pkg/guava-3*: No such file or directory`

but why?! This is expansion of `cd "$PKG_DIR/guava-3*"`. And it seems to work:

```
$ cd /home/scratch/dimpase/sage/sage/local/gap/latest/pkg/guava-3*
clpc171[/home/scratch/dimpase/sage/sage/local/gap/latest/pkg/guava-3.13]$ 
```



---

archive/issue_comments_299058.json:
```json
{
    "body": "Commit: **[8860e47](https://github.com/sagemath/sagetrac-mirror/commit/8860e47d4a417760bcceda638e60e6900660b982)**",
    "created_at": "2016-05-02T15:36:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299058",
    "user": "https://github.com/dimpase"
}
```

Commit: **[8860e47](https://github.com/sagemath/sagetrac-mirror/commit/8860e47d4a417760bcceda638e60e6900660b982)**



---

archive/issue_comments_299059.json:
```json
{
    "body": "Branch: **[public/20525](https://github.com/sagemath/sagetrac-mirror/tree/public/20525)**",
    "created_at": "2016-05-02T15:36:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299059",
    "user": "https://github.com/dimpase"
}
```

Branch: **[public/20525](https://github.com/sagemath/sagetrac-mirror/tree/public/20525)**



---

archive/issue_comments_299060.json:
```json
{
    "body": "<a id='comment:28'>Comment 28:</a>\nguava issue fix - see the commit\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8860e47d4a417760bcceda638e60e6900660b982\">8860e47</a></td><td><code>guaba path fix</code></td></tr></table>\n",
    "created_at": "2016-05-02T15:36:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299060",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:28'>Comment 28:</a>
guava issue fix - see the commit

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8860e47d4a417760bcceda638e60e6900660b982">8860e47</a></td><td><code>guaba path fix</code></td></tr></table>




---

archive/issue_events_261545.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2016-05-02T15:43:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20525#event-261545"
}
```



---

archive/issue_comments_299061.json:
```json
{
    "body": "<a id='comment:29'>Comment 29:</a>\nI cannot reproduce the HAPcryst thing though. I get \n\n```\n$ sage -t --long src/sage/tests/gap_packages.py\nRunning doctests with ID 2016-05-02-16-39-21-92780109.\nGit branch: gappacs\nUsing --optional=cbc,csdp,database_gap,gap_packages,mpir,python2,sage\nDoctesting 1 file.\nsage -t --long --warn-long 56.7 src/sage/tests/gap_packages.py\n    [10 tests, 3.75 s]\n----------------------------------------------------------------------\nAll tests passed!\n```\nAs I get 10 tests run as opposed to 9 above, I probably have more packages installed...\n\nand \n\n```\n$ sage --gap\n \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   GAP 4.8.3, 19-Mar-2016, build of 2016-04-06 10:34:11 (BST)\n \u2502  GAP  \u2502   http://www.gap-system.org\n \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   Architecture: x86_64-unknown-linux-gnu-gcc-default64\n Libs used:  gmp, readline\n Loading the library and packages ...\n Components: trans 1.0, prim 2.1, small* 1.0, id* 1.0\n Packages:   Alnuth 3.0.0, AtlasRep 1.5.0, AutPGrp 1.6, CTblLib 1.2.2, FactInt 1.5.3, GAPDoc 1.5.1, LAGUNA 3.7.0, \n             Polycyclic 2.11, TomLib 1.2.5\n Try '?help' for help. See also  '?copyright' and  '?authors'\ngap> LoadPackage(\"HAPcryst\");\n#I  polymake command not found. Please set POLYMAKE_COMMAND by hand\n----------------------------------------------------------------\nLoading  polymaking 0.8.1\n(A package for using polymake in GAP)\nby Marc Roeder\n----------------------------------------------------------------\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nLoading  Cryst 4.1.12 (Computing with crystallographic groups)\nby Bettina Eick (http://www.icm.tu-bs.de/~beick/),\n   Franz G\u00e4hler (http://www.math.uni-bielefeld.de/~gaehler/), and\n   Werner Nickel (http://www.mathematik.tu-darmstadt.de/~nickel/).\nHomepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nLoading  CrystCat 1.1.6 (The crystallographic groups catalog)\nby Volkmar Felsch (http://www.math.rwth-aachen.de/~Volkmar.Felsch/) and\n   Franz G\u00e4hler (http://www.math.uni-bielefeld.de/~gaehler/).\nHomepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nLoading  AClib 1.2 (Almost Crystallographic Groups - A Library and Algorithms)\nby Karel Dekimpe (http://www.kulak.ac.be/~dekimpe) and\n   Bettina Eick (http://www.icm.tu-bs.de/~beick).\nHomepage: http://www.icm.tu-bs.de/~beick/so.html\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n#I  HAP warning: Set POLYMAKE_PATH manually if needed. \n#I  MakeReadOnlyGlobal: GradedAlgebraPresentationType no value bound\nLoading HAP 1.11.13 ...\n----------------------------------------------------------------\nThis is HAPcryst version 0.1.11\nby Marc Roeder\n----------------------------------------------------------------\ntrue\ngap> \n```\nlooks OK to me.",
    "created_at": "2016-05-02T15:43:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299061",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:29'>Comment 29:</a>
I cannot reproduce the HAPcryst thing though. I get 

```
$ sage -t --long src/sage/tests/gap_packages.py
Running doctests with ID 2016-05-02-16-39-21-92780109.
Git branch: gappacs
Using --optional=cbc,csdp,database_gap,gap_packages,mpir,python2,sage
Doctesting 1 file.
sage -t --long --warn-long 56.7 src/sage/tests/gap_packages.py
    [10 tests, 3.75 s]
----------------------------------------------------------------------
All tests passed!
```
As I get 10 tests run as opposed to 9 above, I probably have more packages installed...

and 

```
$ sage --gap
 ┌───────┐   GAP 4.8.3, 19-Mar-2016, build of 2016-04-06 10:34:11 (BST)
 │  GAP  │   http://www.gap-system.org
 └───────┘   Architecture: x86_64-unknown-linux-gnu-gcc-default64
 Libs used:  gmp, readline
 Loading the library and packages ...
 Components: trans 1.0, prim 2.1, small* 1.0, id* 1.0
 Packages:   Alnuth 3.0.0, AtlasRep 1.5.0, AutPGrp 1.6, CTblLib 1.2.2, FactInt 1.5.3, GAPDoc 1.5.1, LAGUNA 3.7.0, 
             Polycyclic 2.11, TomLib 1.2.5
 Try '?help' for help. See also  '?copyright' and  '?authors'
gap> LoadPackage("HAPcryst");
#I  polymake command not found. Please set POLYMAKE_COMMAND by hand
----------------------------------------------------------------
Loading  polymaking 0.8.1
(A package for using polymake in GAP)
by Marc Roeder
----------------------------------------------------------------
──────────────────────────────────────────────────────────────────────────────────────────────────────────────────
Loading  Cryst 4.1.12 (Computing with crystallographic groups)
by Bettina Eick (http://www.icm.tu-bs.de/~beick/),
   Franz Gähler (http://www.math.uni-bielefeld.de/~gaehler/), and
   Werner Nickel (http://www.mathematik.tu-darmstadt.de/~nickel/).
Homepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php
──────────────────────────────────────────────────────────────────────────────────────────────────────────────────
──────────────────────────────────────────────────────────────────────────────────────────────────────────────────
Loading  CrystCat 1.1.6 (The crystallographic groups catalog)
by Volkmar Felsch (http://www.math.rwth-aachen.de/~Volkmar.Felsch/) and
   Franz Gähler (http://www.math.uni-bielefeld.de/~gaehler/).
Homepage: http://www.math.uni-bielefeld.de/~gaehler/gap45/packages.php
──────────────────────────────────────────────────────────────────────────────────────────────────────────────────
──────────────────────────────────────────────────────────────────────────────────────────────────────────────────
Loading  AClib 1.2 (Almost Crystallographic Groups - A Library and Algorithms)
by Karel Dekimpe (http://www.kulak.ac.be/~dekimpe) and
   Bettina Eick (http://www.icm.tu-bs.de/~beick).
Homepage: http://www.icm.tu-bs.de/~beick/so.html
──────────────────────────────────────────────────────────────────────────────────────────────────────────────────
#I  HAP warning: Set POLYMAKE_PATH manually if needed. 
#I  MakeReadOnlyGlobal: GradedAlgebraPresentationType no value bound
Loading HAP 1.11.13 ...
----------------------------------------------------------------
This is HAPcryst version 0.1.11
by Marc Roeder
----------------------------------------------------------------
true
gap> 
```
looks OK to me.



---

archive/issue_comments_299062.json:
```json
{
    "body": "<a id='comment:30'>Comment 30:</a>\nI guess you have polymake working on your computer?",
    "created_at": "2016-05-02T15:45:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299062",
    "user": "https://github.com/videlec"
}
```

<a id='comment:30'>Comment 30:</a>
I guess you have polymake working on your computer?



---

archive/issue_events_261546.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-05-02T15:55:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20525#event-261546"
}
```



---

archive/issue_events_261547.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-05-02T15:55:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20525#event-261547"
}
```



---

archive/issue_comments_299063.json:
```json
{
    "body": "<a id='comment:31'>Comment 31:</a>\nYou need to bump the patchlevel of the `gap_packages` package to ensure the change has effect.",
    "created_at": "2016-05-02T15:55:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299063",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:31'>Comment 31:</a>
You need to bump the patchlevel of the `gap_packages` package to ensure the change has effect.



---

archive/issue_comments_299064.json:
```json
{
    "body": "<a id='comment:32'>Comment 32:</a>\nAlso, you better check the result of that `cd` operation, for example\n\n```\ncd \"$PKG_DIR\"/guava-3* && ./configure \"$GAP_DIR\"\n```",
    "created_at": "2016-05-02T15:57:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299064",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:32'>Comment 32:</a>
Also, you better check the result of that `cd` operation, for example

```
cd "$PKG_DIR"/guava-3* && ./configure "$GAP_DIR"
```



---

archive/issue_comments_299065.json:
```json
{
    "body": "<a id='comment:33'>Comment 33:</a>\n...or use `set -e`.",
    "created_at": "2016-05-02T15:57:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299065",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:33'>Comment 33:</a>
...or use `set -e`.



---

archive/issue_comments_299066.json:
```json
{
    "body": "<a id='comment:34'>Comment 34:</a>\nReplying to [@videlec](#comment%3A30):\n> I guess you have polymake working on your computer?\n\nno, I don't have polymake at all.",
    "created_at": "2016-05-02T15:59:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299066",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:34'>Comment 34:</a>
Replying to [@videlec](#comment%3A30):
> I guess you have polymake working on your computer?

no, I don't have polymake at all.



---

archive/issue_comments_299067.json:
```json
{
    "body": "<a id='comment:35'>Comment 35:</a>\nReplying to [@jdemeyer](#comment%3A31):\n> You need to bump the patchlevel of the `gap_packages` package to ensure the change has effect.\n\nwhy? the tarball is the same, no removed/added/changed patches. Since when a change to spkg-install does need a version change?!\n\n(this is an optional package, so it won't magically rebuild by bumping anything, no?)",
    "created_at": "2016-05-02T16:01:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299067",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:35'>Comment 35:</a>
Replying to [@jdemeyer](#comment%3A31):
> You need to bump the patchlevel of the `gap_packages` package to ensure the change has effect.

why? the tarball is the same, no removed/added/changed patches. Since when a change to spkg-install does need a version change?!

(this is an optional package, so it won't magically rebuild by bumping anything, no?)



---

archive/issue_comments_299068.json:
```json
{
    "body": "<a id='comment:36'>Comment 36:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ca9607d1f7c8c23404449013317e9bf3bed3686c\">ca9607d</a></td><td><code>check 'cd.. *' success</code></td></tr></table>\n",
    "created_at": "2016-05-02T16:21:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299068",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:36'>Comment 36:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ca9607d1f7c8c23404449013317e9bf3bed3686c">ca9607d</a></td><td><code>check 'cd.. *' success</code></td></tr></table>




---

archive/issue_comments_299069.json:
```json
{
    "body": "Changed commit from **[8860e47](https://github.com/sagemath/sagetrac-mirror/commit/8860e47d4a417760bcceda638e60e6900660b982)** to **[ca9607d](https://github.com/sagemath/sagetrac-mirror/commit/ca9607d1f7c8c23404449013317e9bf3bed3686c)**",
    "created_at": "2016-05-02T16:21:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299069",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[8860e47](https://github.com/sagemath/sagetrac-mirror/commit/8860e47d4a417760bcceda638e60e6900660b982)** to **[ca9607d](https://github.com/sagemath/sagetrac-mirror/commit/ca9607d1f7c8c23404449013317e9bf3bed3686c)**



---

archive/issue_comments_299070.json:
```json
{
    "body": "<a id='comment:37'>Comment 37:</a>\nReplying to [@dimpase](#comment%3A35):\n> Since when a change to spkg-install does need a version change?!\n\nSince you need to fix broken installations of `gap_packages`. People who install `gap_packages` today have a broken version of it. Just changing `spkg-install` doesn't fix that: you need to actually reinstall `gap_packages`.",
    "created_at": "2016-05-02T21:33:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299070",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:37'>Comment 37:</a>
Replying to [@dimpase](#comment%3A35):
> Since when a change to spkg-install does need a version change?!

Since you need to fix broken installations of `gap_packages`. People who install `gap_packages` today have a broken version of it. Just changing `spkg-install` doesn't fix that: you need to actually reinstall `gap_packages`.



---

archive/issue_comments_299071.json:
```json
{
    "body": "<a id='comment:38'>Comment 38:</a>\nReplying to [@jdemeyer](#comment%3A37):\n> Replying to [@dimpase](#comment%3A35):\n> > Since when a change to spkg-install does need a version change?!\n\n> \n> Since you need to fix broken installations of `gap_packages`. People who install `gap_packages` today have a broken version of it. Just changing `spkg-install` doesn't fix that: you need to actually reinstall `gap_packages`.\n\nyes, but it won't happen without human interaction, would it?",
    "created_at": "2016-05-02T22:54:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299071",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:38'>Comment 38:</a>
Replying to [@jdemeyer](#comment%3A37):
> Replying to [@dimpase](#comment%3A35):
> > Since when a change to spkg-install does need a version change?!

> 
> Since you need to fix broken installations of `gap_packages`. People who install `gap_packages` today have a broken version of it. Just changing `spkg-install` doesn't fix that: you need to actually reinstall `gap_packages`.

yes, but it won't happen without human interaction, would it?



---

archive/issue_comments_299072.json:
```json
{
    "body": "<a id='comment:39'>Comment 39:</a>\nReplying to [@dimpase](#comment%3A38):\n> yes, but it won't happen without human interaction, would it?\n\nInstalled optional packages are upgraded just like standard packages are. So, running `make` should be sufficient to rebuild `gap_packages` if it was built before.",
    "created_at": "2016-05-03T07:10:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299072",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:39'>Comment 39:</a>
Replying to [@dimpase](#comment%3A38):
> yes, but it won't happen without human interaction, would it?

Installed optional packages are upgraded just like standard packages are. So, running `make` should be sufficient to rebuild `gap_packages` if it was built before.



---

archive/issue_comments_299073.json:
```json
{
    "body": "Changed commit from **[ca9607d](https://github.com/sagemath/sagetrac-mirror/commit/ca9607d1f7c8c23404449013317e9bf3bed3686c)** to **[44d9d61](https://github.com/sagemath/sagetrac-mirror/commit/44d9d6110f41a520dcd2575a9b717452e8d605df)**",
    "created_at": "2016-05-03T08:35:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299073",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[ca9607d](https://github.com/sagemath/sagetrac-mirror/commit/ca9607d1f7c8c23404449013317e9bf3bed3686c)** to **[44d9d61](https://github.com/sagemath/sagetrac-mirror/commit/44d9d6110f41a520dcd2575a9b717452e8d605df)**



---

archive/issue_comments_299074.json:
```json
{
    "body": "<a id='comment:40'>Comment 40:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/44d9d6110f41a520dcd2575a9b717452e8d605df\">44d9d61</a></td><td><code>bump up the version</code></td></tr></table>\n",
    "created_at": "2016-05-03T08:35:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299074",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:40'>Comment 40:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/44d9d6110f41a520dcd2575a9b717452e8d605df">44d9d61</a></td><td><code>bump up the version</code></td></tr></table>




---

archive/issue_comments_299075.json:
```json
{
    "body": "Author: **Dima Pasechnik**",
    "created_at": "2016-05-03T08:36:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299075",
    "user": "https://github.com/dimpase"
}
```

Author: **Dima Pasechnik**



---

archive/issue_events_261548.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2016-05-03T08:36:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20525#event-261548"
}
```



---

archive/issue_events_261549.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2016-05-03T08:36:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20525#event-261549"
}
```



---

archive/issue_comments_299076.json:
```json
{
    "body": "<a id='comment:41'>Comment 41:</a>\nOK, done.",
    "created_at": "2016-05-03T08:36:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299076",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:41'>Comment 41:</a>
OK, done.



---

archive/issue_comments_299077.json:
```json
{
    "body": "<a id='comment:42'>Comment 42:</a>\nThis fixes the second issue, but not the first.",
    "created_at": "2016-05-03T08:49:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299077",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:42'>Comment 42:</a>
This fixes the second issue, but not the first.



---

archive/issue_comments_299078.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-With Sage 7.2.beta6, within a `sage --gap` session:\n+With Sage 7.2.beta6 with `gap_packages` installed, within a `sage --gap` session:\n \n ```\n gap> LoadPackage(\"HAPcryst\");\n``````\n",
    "created_at": "2016-05-03T08:49:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299078",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-With Sage 7.2.beta6, within a `sage --gap` session:
+With Sage 7.2.beta6 with `gap_packages` installed, within a `sage --gap` session:
 
 ```
 gap> LoadPackage("HAPcryst");
``````




---

archive/issue_comments_299079.json:
```json
{
    "body": "<a id='comment:43'>Comment 43:</a>\nthe first issue is not trivial to reproduce. I managed to do so on OSX, and on UGent's sage4. (But all of that works on my laptop and on my desktop). This has to do with selective GAP packages loading, and is an upstream<sup>2</sup> bug, as far as I can see. (A bug in a GAP package, that is).",
    "created_at": "2016-05-03T09:50:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299079",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:43'>Comment 43:</a>
the first issue is not trivial to reproduce. I managed to do so on OSX, and on UGent's sage4. (But all of that works on my laptop and on my desktop). This has to do with selective GAP packages loading, and is an upstream<sup>2</sup> bug, as far as I can see. (A bug in a GAP package, that is).



---

archive/issue_comments_299080.json:
```json
{
    "body": "<a id='comment:44'>Comment 44:</a>\nOK, I see. If database_gap is installed then the error does not occur\n(it's because it needs `SmallGroup` functionality, specifically, the error comes from `IdGroup` being of wrong type, a function, not an attribute). Looks like a missing dependence in Hap.\nI will make database_gap a dependency of gap_packages.",
    "created_at": "2016-05-03T10:26:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299080",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:44'>Comment 44:</a>
OK, I see. If database_gap is installed then the error does not occur
(it's because it needs `SmallGroup` functionality, specifically, the error comes from `IdGroup` being of wrong type, a function, not an attribute). Looks like a missing dependence in Hap.
I will make database_gap a dependency of gap_packages.



---

archive/issue_comments_299081.json:
```json
{
    "body": "<a id='comment:45'>Comment 45:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4a7af2ae235b8c37c259c5792e3aa57ef1d3549a\">4a7af2a</a></td><td><code>Hap needs IdGroup being an attribute</code></td></tr></table>\n",
    "created_at": "2016-05-03T10:32:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299081",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:45'>Comment 45:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4a7af2ae235b8c37c259c5792e3aa57ef1d3549a">4a7af2a</a></td><td><code>Hap needs IdGroup being an attribute</code></td></tr></table>




---

archive/issue_comments_299082.json:
```json
{
    "body": "Changed commit from **[44d9d61](https://github.com/sagemath/sagetrac-mirror/commit/44d9d6110f41a520dcd2575a9b717452e8d605df)** to **[4a7af2a](https://github.com/sagemath/sagetrac-mirror/commit/4a7af2ae235b8c37c259c5792e3aa57ef1d3549a)**",
    "created_at": "2016-05-03T10:32:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299082",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[44d9d61](https://github.com/sagemath/sagetrac-mirror/commit/44d9d6110f41a520dcd2575a9b717452e8d605df)** to **[4a7af2a](https://github.com/sagemath/sagetrac-mirror/commit/4a7af2ae235b8c37c259c5792e3aa57ef1d3549a)**



---

archive/issue_comments_299083.json:
```json
{
    "body": "<a id='comment:46'>Comment 46:</a>\nAll works now.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4a7af2ae235b8c37c259c5792e3aa57ef1d3549a\">4a7af2a</a></td><td><code>Hap needs IdGroup being an attribute</code></td></tr></table>\n",
    "created_at": "2016-05-03T10:38:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299083",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:46'>Comment 46:</a>
All works now.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4a7af2ae235b8c37c259c5792e3aa57ef1d3549a">4a7af2a</a></td><td><code>Hap needs IdGroup being an attribute</code></td></tr></table>




---

archive/issue_comments_299084.json:
```json
{
    "body": "<a id='comment:47'>Comment 47:</a>\nShouldn't this be an order-only dependency `| database_gap`?",
    "created_at": "2016-05-03T11:14:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299084",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:47'>Comment 47:</a>
Shouldn't this be an order-only dependency `| database_gap`?



---

archive/issue_events_261550.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-05-03T11:14:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20525#event-261550"
}
```



---

archive/issue_events_261551.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-05-03T11:14:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20525#event-261551"
}
```



---

archive/issue_comments_299085.json:
```json
{
    "body": "<a id='comment:48'>Comment 48:</a>\nI don't understand what this is, an order-only dependency...",
    "created_at": "2016-05-03T11:19:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299085",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:48'>Comment 48:</a>
I don't understand what this is, an order-only dependency...



---

archive/issue_comments_299086.json:
```json
{
    "body": "<a id='comment:49'>Comment 49:</a>\nSee http://doc.sagemath.org/html/en/developer/packaging.html#package-dependencies or https://www.gnu.org/software/make/manual/html_node/Prerequisite-Types.html",
    "created_at": "2016-05-03T11:25:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299086",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:49'>Comment 49:</a>
See http://doc.sagemath.org/html/en/developer/packaging.html#package-dependencies or https://www.gnu.org/software/make/manual/html_node/Prerequisite-Types.html



---

archive/issue_events_261552.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2016-05-03T13:01:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20525#event-261552"
}
```



---

archive/issue_events_261553.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2016-05-03T13:01:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20525#event-261553"
}
```



---

archive/issue_comments_299087.json:
```json
{
    "body": "<a id='comment:50'>Comment 50:</a>\nReplying to [@jdemeyer](#comment%3A47):\n> Shouldn't this be an order-only dependency `| database_gap`?\n\nI don't think one wants a stale buggy  version of database_gap lying around, just because it is an order-only dependence.\nOn a practical side of things, database_gap is updated infrequently, so one would potentially pay very little in efficiency by having it as a normal dependency.",
    "created_at": "2016-05-03T13:01:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299087",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:50'>Comment 50:</a>
Replying to [@jdemeyer](#comment%3A47):
> Shouldn't this be an order-only dependency `| database_gap`?

I don't think one wants a stale buggy  version of database_gap lying around, just because it is an order-only dependence.
On a practical side of things, database_gap is updated infrequently, so one would potentially pay very little in efficiency by having it as a normal dependency.



---

archive/issue_comments_299088.json:
```json
{
    "body": "<a id='comment:51'>Comment 51:</a>\nReplying to [@dimpase](#comment%3A50):\n> database_gap is updated infrequently, so one would potentially pay very little in efficiency by having it as a normal dependency. \n\nOne would pay *even less* by having it an order-only dependency. You could add a dependency of `gap_packages` on `zn_poly` and argue that it doesn't hurt because `zn_poly` is not updated often. But that's besides the point: I just want the dependencies to correctly reflect reality.",
    "created_at": "2016-05-03T13:06:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299088",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:51'>Comment 51:</a>
Replying to [@dimpase](#comment%3A50):
> database_gap is updated infrequently, so one would potentially pay very little in efficiency by having it as a normal dependency. 

One would pay *even less* by having it an order-only dependency. You could add a dependency of `gap_packages` on `zn_poly` and argue that it doesn't hurt because `zn_poly` is not updated often. But that's besides the point: I just want the dependencies to correctly reflect reality.



---

archive/issue_events_261554.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-05-03T13:06:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20525#event-261554"
}
```



---

archive/issue_events_261555.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-05-03T13:06:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20525#event-261555"
}
```



---

archive/issue_comments_299089.json:
```json
{
    "body": "<a id='comment:52'>Comment 52:</a>\nSpeaking of dependencies: you should also consider whether `gap_packages` depends on `gap` (I don't know if it does?)",
    "created_at": "2016-05-03T13:08:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299089",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:52'>Comment 52:</a>
Speaking of dependencies: you should also consider whether `gap_packages` depends on `gap` (I don't know if it does?)



---

archive/issue_comments_299090.json:
```json
{
    "body": "<a id='comment:53'>Comment 53:</a>\nReplying to [@jdemeyer](#comment%3A52):\n> Speaking of dependencies: you should also consider whether `gap_packages` depends on `gap` (I don't know if it does?)\n\nthat's right, gap (and libgap) are dependencies, too. I will add them.",
    "created_at": "2016-05-03T13:14:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299090",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:53'>Comment 53:</a>
Replying to [@jdemeyer](#comment%3A52):
> Speaking of dependencies: you should also consider whether `gap_packages` depends on `gap` (I don't know if it does?)

that's right, gap (and libgap) are dependencies, too. I will add them.



---

archive/issue_comments_299091.json:
```json
{
    "body": "<a id='comment:54'>Comment 54:</a>\nReplying to [@jdemeyer](#comment%3A51):\n> Replying to [@dimpase](#comment%3A50):\n> > database_gap is updated infrequently, so one would potentially pay very little in efficiency by having it as a normal dependency. \n\n> \n> One would pay *even less* by having it an order-only dependency. You could add a dependency of `gap_packages` on `zn_poly` and argue that it doesn't hurt because `zn_poly` is not updated often. But that's besides the point: I just want the dependencies to correctly reflect reality.\n\nThe reality is that if database_gap has a bug, then an output of gap_packages might be wrong. A new release of gap_packages might silently need an newer database_gap, too. \n\nOrder-only dependencies are invented to deal with completely different scenarios, IMHO.",
    "created_at": "2016-05-03T13:18:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299091",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:54'>Comment 54:</a>
Replying to [@jdemeyer](#comment%3A51):
> Replying to [@dimpase](#comment%3A50):
> > database_gap is updated infrequently, so one would potentially pay very little in efficiency by having it as a normal dependency. 

> 
> One would pay *even less* by having it an order-only dependency. You could add a dependency of `gap_packages` on `zn_poly` and argue that it doesn't hurt because `zn_poly` is not updated often. But that's besides the point: I just want the dependencies to correctly reflect reality.

The reality is that if database_gap has a bug, then an output of gap_packages might be wrong. A new release of gap_packages might silently need an newer database_gap, too. 

Order-only dependencies are invented to deal with completely different scenarios, IMHO.



---

archive/issue_comments_299092.json:
```json
{
    "body": "<a id='comment:55'>Comment 55:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f0363f2fe1ed8a33a9066fb89c0e608e3d0c11c2\">f0363f2</a></td><td><code>more deps added</code></td></tr></table>\n",
    "created_at": "2016-05-03T13:29:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299092",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:55'>Comment 55:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f0363f2fe1ed8a33a9066fb89c0e608e3d0c11c2">f0363f2</a></td><td><code>more deps added</code></td></tr></table>




---

archive/issue_comments_299093.json:
```json
{
    "body": "Changed commit from **[4a7af2a](https://github.com/sagemath/sagetrac-mirror/commit/4a7af2ae235b8c37c259c5792e3aa57ef1d3549a)** to **[f0363f2](https://github.com/sagemath/sagetrac-mirror/commit/f0363f2fe1ed8a33a9066fb89c0e608e3d0c11c2)**",
    "created_at": "2016-05-03T13:29:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299093",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[4a7af2a](https://github.com/sagemath/sagetrac-mirror/commit/4a7af2ae235b8c37c259c5792e3aa57ef1d3549a)** to **[f0363f2](https://github.com/sagemath/sagetrac-mirror/commit/f0363f2fe1ed8a33a9066fb89c0e608e3d0c11c2)**



---

archive/issue_events_261556.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2016-05-03T13:30:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20525#event-261556"
}
```



---

archive/issue_events_261557.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2016-05-03T13:30:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20525#event-261557"
}
```



---

archive/issue_comments_299094.json:
```json
{
    "body": "<a id='comment:57'>Comment 57:</a>\nReplying to [@dimpase](#comment%3A54):\n> A new release of gap_packages might silently need an newer database_gap, too.\n\nSage always installs the latest version of installed standard and optional packages, so `database_gap` will always be up-to-date. That's not something which affects the dependencies of `gap_packages`.",
    "created_at": "2016-05-03T13:30:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299094",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:57'>Comment 57:</a>
Replying to [@dimpase](#comment%3A54):
> A new release of gap_packages might silently need an newer database_gap, too.

Sage always installs the latest version of installed standard and optional packages, so `database_gap` will always be up-to-date. That's not something which affects the dependencies of `gap_packages`.



---

archive/issue_events_261558.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-05-03T13:30:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20525#event-261558"
}
```



---

archive/issue_events_261559.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-05-03T13:30:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20525#event-261559"
}
```



---

archive/issue_comments_299095.json:
```json
{
    "body": "<a id='comment:58'>Comment 58:</a>\nThe question you need to answer is a different one: if `database_gap` is reinstalled (either because of an upgrade of `database_gap` of because somebody did `sage -f database_gap`), should this force a reinstallation of `gap_packages`?\n\nIf the answer is \"yes\": use a normal dependency\n\nIf the answer is \"no\": use an order-only dependency",
    "created_at": "2016-05-03T13:30:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299095",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:58'>Comment 58:</a>
The question you need to answer is a different one: if `database_gap` is reinstalled (either because of an upgrade of `database_gap` of because somebody did `sage -f database_gap`), should this force a reinstallation of `gap_packages`?

If the answer is "yes": use a normal dependency

If the answer is "no": use an order-only dependency



---

archive/issue_comments_299096.json:
```json
{
    "body": "<a id='comment:59'>Comment 59:</a>\nI read the doc you provided, and it said something else:\n\n*If package A has an order-only dependency on B, it simply means that B must be built before A can be built. The version of B does not matter, only the fact that B is installed matters. This should be used if the dependency is purely a build-time dependency (for example, a dependency on Python simply because the spkg-install file is written in Python).*\n\nAgainst this background, the answer is that B is a runtime dependency, not a build-time dependency, and thus it should not be order-only.",
    "created_at": "2016-05-03T13:57:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299096",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:59'>Comment 59:</a>
I read the doc you provided, and it said something else:

*If package A has an order-only dependency on B, it simply means that B must be built before A can be built. The version of B does not matter, only the fact that B is installed matters. This should be used if the dependency is purely a build-time dependency (for example, a dependency on Python simply because the spkg-install file is written in Python).*

Against this background, the answer is that B is a runtime dependency, not a build-time dependency, and thus it should not be order-only.



---

archive/issue_comments_299097.json:
```json
{
    "body": "<a id='comment:60'>Comment 60:</a>\nReplying to [@dimpase](#comment%3A59):\n> This should be used **if** the dependency is purely a build-time dependency\n\nThat is an **if**, not **if and only if**.\n\nIt's not because it's not a build-time dependency, that it should not be an order-only dependency.",
    "created_at": "2016-05-03T14:01:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299097",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:60'>Comment 60:</a>
Replying to [@dimpase](#comment%3A59):
> This should be used **if** the dependency is purely a build-time dependency

That is an **if**, not **if and only if**.

It's not because it's not a build-time dependency, that it should not be an order-only dependency.



---

archive/issue_comments_299098.json:
```json
{
    "body": "<a id='comment:61'>Comment 61:</a>\nI do not know all the details to be sure that an order-only dependency is OK. Probably yes, but not 100% certainly.\n\nAlso, regarding the upstream opinion on whether it is a bug, see https://github.com/gap-system/gap/issues/775\nThey think that non-GPL'd libs in database_gap are parts of \"GAP core system\", whatever they mean.",
    "created_at": "2016-05-03T14:14:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299098",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:61'>Comment 61:</a>
I do not know all the details to be sure that an order-only dependency is OK. Probably yes, but not 100% certainly.

Also, regarding the upstream opinion on whether it is a bug, see https://github.com/gap-system/gap/issues/775
They think that non-GPL'd libs in database_gap are parts of "GAP core system", whatever they mean.



---

archive/issue_comments_299099.json:
```json
{
    "body": "Upstream: **Reported upstream. Developers deny it's a bug.**",
    "created_at": "2016-05-03T14:14:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299099",
    "user": "https://github.com/dimpase"
}
```

Upstream: **Reported upstream. Developers deny it's a bug.**



---

archive/issue_events_261560.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2016-05-03T19:37:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20525#event-261560"
}
```



---

archive/issue_events_261561.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2016-05-03T19:37:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20525#event-261561"
}
```



---

archive/issue_comments_299100.json:
```json
{
    "body": "<a id='comment:63'>Comment 63:</a>\nI think it is time for me to crash the party. First I notice that you made `gap_packages` and `database_gap` depend on `libgap`. Only `gap` is needed.\n\nI think it is time for me to point out that `grape` includes an old version of `nauty` and can use either `nauty` (now a standard package) or `bliss` (now an optional package). Look at `GRAPE_DREADNAUT_EXE` in `grape/lib/grape.g` (and the variable `GRAPE_NAUTY` and `GRAPE_BLISS_EXE` in the same file if you are curious).\nI recommend removal of the `configure` and other makefiles in `spkg-src`. The only point of that bit in the `grape` package is to build the `dreadnaut` executable from `nauty`.\n\nI am OK if you want to spin that as a separate ticket.",
    "created_at": "2016-05-03T22:04:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299100",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:63'>Comment 63:</a>
I think it is time for me to crash the party. First I notice that you made `gap_packages` and `database_gap` depend on `libgap`. Only `gap` is needed.

I think it is time for me to point out that `grape` includes an old version of `nauty` and can use either `nauty` (now a standard package) or `bliss` (now an optional package). Look at `GRAPE_DREADNAUT_EXE` in `grape/lib/grape.g` (and the variable `GRAPE_NAUTY` and `GRAPE_BLISS_EXE` in the same file if you are curious).
I recommend removal of the `configure` and other makefiles in `spkg-src`. The only point of that bit in the `grape` package is to build the `dreadnaut` executable from `nauty`.

I am OK if you want to spin that as a separate ticket.



---

archive/issue_comments_299101.json:
```json
{
    "body": "<a id='comment:64'>Comment 64:</a>\nReplying to [@kiwifb](#comment%3A63):\n> I think it is time for me to crash the party. First I notice that you made `gap_packages` and `database_gap` depend on `libgap`. Only `gap` is needed.\n\nAs soon as we start supporting building GAP kernel extensions in libgap, things \nwill change, and libgap will be a real dependence. At the moment, as gap and libgap are updated in lockstep, it does not matter anyway.\n\n> \n> I think it is time for me to point out that `grape` includes an old version of `nauty` and can use either `nauty` (now a standard package) or `bliss` (now an optional package). Look at `GRAPE_DREADNAUT_EXE` in `grape/lib/grape.g` (and the variable `GRAPE_NAUTY` and `GRAPE_BLISS_EXE` in the same file if you are curious).\n> I recommend removal of the `configure` and other makefiles in `spkg-src`. The only point of that bit in the `grape` package is to build the `dreadnaut` executable from `nauty`.\n> \n> I am OK if you want to spin that as a separate ticket.\n\nI don't see why you want to override GRAPE's author on this. He told be that he keeps old nauty as he did not do a lot of tests with the new one, yet.",
    "created_at": "2016-05-04T08:14:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299101",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:64'>Comment 64:</a>
Replying to [@kiwifb](#comment%3A63):
> I think it is time for me to crash the party. First I notice that you made `gap_packages` and `database_gap` depend on `libgap`. Only `gap` is needed.

As soon as we start supporting building GAP kernel extensions in libgap, things 
will change, and libgap will be a real dependence. At the moment, as gap and libgap are updated in lockstep, it does not matter anyway.

> 
> I think it is time for me to point out that `grape` includes an old version of `nauty` and can use either `nauty` (now a standard package) or `bliss` (now an optional package). Look at `GRAPE_DREADNAUT_EXE` in `grape/lib/grape.g` (and the variable `GRAPE_NAUTY` and `GRAPE_BLISS_EXE` in the same file if you are curious).
> I recommend removal of the `configure` and other makefiles in `spkg-src`. The only point of that bit in the `grape` package is to build the `dreadnaut` executable from `nauty`.
> 
> I am OK if you want to spin that as a separate ticket.

I don't see why you want to override GRAPE's author on this. He told be that he keeps old nauty as he did not do a lot of tests with the new one, yet.



---

archive/issue_comments_299102.json:
```json
{
    "body": "<a id='comment:65'>Comment 65:</a>\n> I do not know all the details to be sure that an order-only dependency is OK. Probably yes, but not 100% certainly.\n\nIt has always been an order-only dependency (the default dependencies of optional packages is an order-only dependency on every standard package), so I guess it's safe.\n\n> As soon as we start supporting building GAP kernel extensions in libgap, things \n> will change\n\nThen the dependencies of `database_gap` and `gap_packages` should be changed in that ticket. I don't see the point of adding dependencies just in case they will be needed in the future. It reminds me of somebody adding `webassets` to `sagenb` because they planned to use it in the future... which of course never happened.",
    "created_at": "2016-05-04T09:04:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299102",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:65'>Comment 65:</a>
> I do not know all the details to be sure that an order-only dependency is OK. Probably yes, but not 100% certainly.

It has always been an order-only dependency (the default dependencies of optional packages is an order-only dependency on every standard package), so I guess it's safe.

> As soon as we start supporting building GAP kernel extensions in libgap, things 
> will change

Then the dependencies of `database_gap` and `gap_packages` should be changed in that ticket. I don't see the point of adding dependencies just in case they will be needed in the future. It reminds me of somebody adding `webassets` to `sagenb` because they planned to use it in the future... which of course never happened.



---

archive/issue_events_261562.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-05-04T09:04:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20525#event-261562"
}
```



---

archive/issue_events_261563.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-05-04T09:04:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20525#event-261563"
}
```



---

archive/issue_comments_299103.json:
```json
{
    "body": "Changed commit from **[f0363f2](https://github.com/sagemath/sagetrac-mirror/commit/f0363f2fe1ed8a33a9066fb89c0e608e3d0c11c2)** to **[9afe2c3](https://github.com/sagemath/sagetrac-mirror/commit/9afe2c3e4b7ebd82729d21439d684dbc0fdc5731)**",
    "created_at": "2016-05-04T09:29:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299103",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[f0363f2](https://github.com/sagemath/sagetrac-mirror/commit/f0363f2fe1ed8a33a9066fb89c0e608e3d0c11c2)** to **[9afe2c3](https://github.com/sagemath/sagetrac-mirror/commit/9afe2c3e4b7ebd82729d21439d684dbc0fdc5731)**



---

archive/issue_comments_299104.json:
```json
{
    "body": "<a id='comment:66'>Comment 66:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9afe2c3e4b7ebd82729d21439d684dbc0fdc5731\">9afe2c3</a></td><td><code>more deps added</code></td></tr></table>\n",
    "created_at": "2016-05-04T09:29:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299104",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:66'>Comment 66:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9afe2c3e4b7ebd82729d21439d684dbc0fdc5731">9afe2c3</a></td><td><code>more deps added</code></td></tr></table>




---

archive/issue_comments_299105.json:
```json
{
    "body": "<a id='comment:67'>Comment 67:</a>\nReplying to [@jdemeyer](#comment%3A65):\n> > I do not know all the details to be sure that an order-only dependency is OK. Probably yes, but not 100% certainly.\n\n> \n> It has always been an order-only dependency (the default dependencies of optional packages is an order-only dependency on every standard package), so I guess it's safe.\n\nwe talk about dependency of one optional package on another.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9afe2c3e4b7ebd82729d21439d684dbc0fdc5731\">9afe2c3</a></td><td><code>more deps added</code></td></tr></table>\n",
    "created_at": "2016-05-04T09:31:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299105",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:67'>Comment 67:</a>
Replying to [@jdemeyer](#comment%3A65):
> > I do not know all the details to be sure that an order-only dependency is OK. Probably yes, but not 100% certainly.

> 
> It has always been an order-only dependency (the default dependencies of optional packages is an order-only dependency on every standard package), so I guess it's safe.

we talk about dependency of one optional package on another.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9afe2c3e4b7ebd82729d21439d684dbc0fdc5731">9afe2c3</a></td><td><code>more deps added</code></td></tr></table>




---

archive/issue_comments_299106.json:
```json
{
    "body": "Changed upstream from **Reported upstream. Developers deny it's a bug.** to none",
    "created_at": "2016-05-04T09:32:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299106",
    "user": "https://github.com/dimpase"
}
```

Changed upstream from **Reported upstream. Developers deny it's a bug.** to none



---

archive/issue_events_261564.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2016-05-04T09:32:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20525#event-261564"
}
```



---

archive/issue_events_261565.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2016-05-04T09:32:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20525#event-261565"
}
```



---

archive/issue_comments_299107.json:
```json
{
    "body": "<a id='comment:68'>Comment 68:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9afe2c3e4b7ebd82729d21439d684dbc0fdc5731\">9afe2c3</a></td><td><code>more deps added</code></td></tr></table>\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9afe2c3e4b7ebd82729d21439d684dbc0fdc5731\">9afe2c3</a></td><td><code>more deps added</code></td></tr></table>\n",
    "created_at": "2016-05-04T09:32:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299107",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:68'>Comment 68:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9afe2c3e4b7ebd82729d21439d684dbc0fdc5731">9afe2c3</a></td><td><code>more deps added</code></td></tr></table>

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9afe2c3e4b7ebd82729d21439d684dbc0fdc5731">9afe2c3</a></td><td><code>more deps added</code></td></tr></table>




---

archive/issue_comments_299108.json:
```json
{
    "body": "<a id='comment:69'>Comment 69:</a>\ngap, libgap, gap_packages, and database_gap are tightly interconnected packages, usually updated all together, and I don't see much harm in declaring them to be a bit more interdependent than might be strictly necessary. Especially in absence of clear, and not open to grammatical (mis)interpretations, guidelines on dependencies in Sage.",
    "created_at": "2016-05-04T10:02:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299108",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:69'>Comment 69:</a>
gap, libgap, gap_packages, and database_gap are tightly interconnected packages, usually updated all together, and I don't see much harm in declaring them to be a bit more interdependent than might be strictly necessary. Especially in absence of clear, and not open to grammatical (mis)interpretations, guidelines on dependencies in Sage.



---

archive/issue_events_261566.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-05-05T07:52:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20525#event-261566"
}
```



---

archive/issue_events_261567.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-05-05T07:52:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20525#event-261567"
}
```



---

archive/issue_comments_299109.json:
```json
{
    "body": "Reviewer: **Jeroen Demeyer**",
    "created_at": "2016-05-05T07:52:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299109",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Jeroen Demeyer**



---

archive/issue_comments_299110.json:
```json
{
    "body": "<a id='comment:70'>Comment 70:</a>\nI still think that the current branch is wrong, but let's stop the bikeshedding...",
    "created_at": "2016-05-05T07:52:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299110",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:70'>Comment 70:</a>
I still think that the current branch is wrong, but let's stop the bikeshedding...



---

archive/issue_comments_299111.json:
```json
{
    "body": "<a id='comment:71'>Comment 71:</a>\nI think there are files there that do not need that import from future at all. I don't know whether this import makes it python3-incompatible.",
    "created_at": "2016-05-05T07:59:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299111",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:71'>Comment 71:</a>
I think there are files there that do not need that import from future at all. I don't know whether this import makes it python3-incompatible.



---

archive/issue_comments_299112.json:
```json
{
    "body": "<a id='comment:72'>Comment 72:</a>\nReplying to [@dimpase](#comment%3A71):\n> I think there are files there that do not need that import from future at all. I don't know whether this import makes it python3-incompatible.\n\nI suppose this comment was meant for a different ticket?",
    "created_at": "2016-05-05T08:01:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299112",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:72'>Comment 72:</a>
Replying to [@dimpase](#comment%3A71):
> I think there are files there that do not need that import from future at all. I don't know whether this import makes it python3-incompatible.

I suppose this comment was meant for a different ticket?



---

archive/issue_comments_299113.json:
```json
{
    "body": "<a id='comment:73'>Comment 73:</a>\nReplying to [@jdemeyer](#comment%3A72):\n> Replying to [@dimpase](#comment%3A71):\n> > I think there are files there that do not need that import from future at all. I don't know whether this import makes it python3-incompatible.\n\n> \n> I suppose this comment was meant for a different ticket?\n\noops, indeed, sorry...",
    "created_at": "2016-05-05T08:07:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299113",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:73'>Comment 73:</a>
Replying to [@jdemeyer](#comment%3A72):
> Replying to [@dimpase](#comment%3A71):
> > I think there are files there that do not need that import from future at all. I don't know whether this import makes it python3-incompatible.

> 
> I suppose this comment was meant for a different ticket?

oops, indeed, sorry...



---

archive/issue_comments_299114.json:
```json
{
    "body": "Changed branch from **[public/20525](https://github.com/sagemath/sagetrac-mirror/tree/public/20525)** to **[9afe2c3](https://github.com/sagemath/sagetrac-mirror/commit/9afe2c3e4b7ebd82729d21439d684dbc0fdc5731)**",
    "created_at": "2016-05-06T22:10:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20525#issuecomment-299114",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/20525](https://github.com/sagemath/sagetrac-mirror/tree/public/20525)** to **[9afe2c3](https://github.com/sagemath/sagetrac-mirror/commit/9afe2c3e4b7ebd82729d21439d684dbc0fdc5731)**



---

archive/issue_events_261568.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-05-06T22:10:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20525#event-261568"
}
```



---

archive/issue_events_261569.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "e08e5849cba03076bbd02ca9071a8ea0f1baa9a3",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-05-06T22:10:45Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/20525",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20525#event-261569"
}
```
