# Issue 20255: deprecated_function_alias should not appear in the documentation of posets

archive/issues_020018.json:
```json
{
    "body": "This should not be there: http://sage-doc.sis.uta.fi/reference/combinat/sage/combinat/posets/posets.html#sage.combinat.posets.posets.FinitePoset.deprecated_function_alias\n\nBranch/Commit: 09c288af4239b36b19e3a3504ced1fe4e5649db6\n\nReviewer: Marc Mezzarobba\n\nAuthor: Jeroen Demeyer\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/20255\n\n",
    "closed_at": "2016-04-03T23:06:09Z",
    "created_at": "2016-03-23T09:31:24Z",
    "labels": [
        "component: documentation"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.2",
    "title": "deprecated_function_alias should not appear in the documentation of posets",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20255",
    "user": "https://github.com/jm58660"
}
```
This should not be there: http://sage-doc.sis.uta.fi/reference/combinat/sage/combinat/posets/posets.html#sage.combinat.posets.posets.FinitePoset.deprecated_function_alias

Branch/Commit: 09c288af4239b36b19e3a3504ced1fe4e5649db6

Reviewer: Marc Mezzarobba

Author: Jeroen Demeyer

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/20255





---

archive/issue_comments_293406.json:
```json
{
    "body": "<a id='comment:1'></a>Can you more concretely give an example of something that changed, to understand better what this bug is about?",
    "created_at": "2016-03-31T07:31:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20255#issuecomment-293406",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:1'></a>Can you more concretely give an example of something that changed, to understand better what this bug is about?



---

archive/issue_comments_293407.json:
```json
{
    "body": "<a id='comment:2'></a>Replying to [comment:1 jdemeyer]:\n> Can you more concretely give an example of something that changed, to understand better what this bug is about?\n\n\nI installed Sage to our server just like version 7.0 before. And now see for example http://sage-doc.sis.uta.fi/reference/combinat/sage/combinat/posets/posets.html. It contains `intervals()` which is deprecated and also doctring for `deprecated_function_alias()`.",
    "created_at": "2016-03-31T07:41:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20255#issuecomment-293407",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:2'></a>Replying to [comment:1 jdemeyer]:
> Can you more concretely give an example of something that changed, to understand better what this bug is about?


I installed Sage to our server just like version 7.0 before. And now see for example http://sage-doc.sis.uta.fi/reference/combinat/sage/combinat/posets/posets.html. It contains `intervals()` which is deprecated and also doctring for `deprecated_function_alias()`.



---

archive/issue_comments_293408.json:
```json
{
    "body": "<a id='comment:3'></a>I don't believe this has changed, I think it was always like this.",
    "created_at": "2016-03-31T08:20:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20255#issuecomment-293408",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:3'></a>I don't believe this has changed, I think it was always like this.



---

archive/issue_comments_293409.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-In sage versions up to 7.0 deprecated functions were not visible in html documentation. In sage 7.1. they are.\n+Deprecated functions should not be visible in the documentation.\n \n Comment: 1\n \n``````\n",
    "created_at": "2016-03-31T08:20:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20255#issuecomment-293409",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-In sage versions up to 7.0 deprecated functions were not visible in html documentation. In sage 7.1. they are.
+Deprecated functions should not be visible in the documentation.
 
 Comment: 1
 
``````




---

archive/issue_comments_293410.json:
```json
{
    "body": "<a id='comment:4'></a>Replying to [comment:3 jdemeyer]:\n> I don't believe this has changed, I think it was always like this.\n\n\nI tested with 6.10. True, except that `deprecated_function_alias()` was not included is `posets.html`.",
    "created_at": "2016-03-31T09:56:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20255#issuecomment-293410",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:4'></a>Replying to [comment:3 jdemeyer]:
> I don't believe this has changed, I think it was always like this.


I tested with 6.10. True, except that `deprecated_function_alias()` was not included is `posets.html`.



---

archive/issue_comments_293411.json:
```json
{
    "body": "Changing type from defect to enhancement.",
    "created_at": "2016-03-31T09:56:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20255#issuecomment-293411",
    "user": "https://github.com/jm58660"
}
```

Changing type from defect to enhancement.



---

archive/issue_comments_293412.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-\n+This should not be there: http://sage-doc.sis.uta.fi/reference/combinat/sage/combinat/posets/posets.html#sage.combinat.posets.posets.FinitePoset.deprecated_function_alias\n \n Comment: 1\n \n``````\n",
    "created_at": "2016-03-31T10:13:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20255#issuecomment-293412",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-
+This should not be there: http://sage-doc.sis.uta.fi/reference/combinat/sage/combinat/posets/posets.html#sage.combinat.posets.posets.FinitePoset.deprecated_function_alias
 
 Comment: 1
 
``````




---

archive/issue_comments_293413.json:
```json
{
    "body": "<a id='comment:6'></a>I think that also there should not be deprecated functions visible in documentation. Or at least we should have an option to hide them, just like we already have for `TESTS`-blocks.",
    "created_at": "2016-03-31T10:17:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20255#issuecomment-293413",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:6'></a>I think that also there should not be deprecated functions visible in documentation. Or at least we should have an option to hide them, just like we already have for `TESTS`-blocks.



---

archive/issue_comments_293414.json:
```json
{
    "body": "<a id='comment:7'></a>Replying to [comment:4 jmantysalo]:\n> True, except that `deprecated_function_alias()` was not included is `posets.html`.\n\n\nThen why not say that from the beginning if that is the real bug?",
    "created_at": "2016-03-31T10:20:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20255#issuecomment-293414",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:7'></a>Replying to [comment:4 jmantysalo]:
> True, except that `deprecated_function_alias()` was not included is `posets.html`.


Then why not say that from the beginning if that is the real bug?



---

archive/issue_comments_293415.json:
```json
{
    "body": "<a id='comment:9'></a>Replying to [comment:7 jdemeyer]:\n> Replying to [comment:4 jmantysalo]:\n> > True, except that `deprecated_function_alias()` was not included is `posets.html`.\n\n> \n> Then why not say that from the beginning if that is the real bug?\n\n\nBecause I remembered wrong. I think that before this deprecated functions were not listed on html doc.",
    "created_at": "2016-03-31T10:52:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20255#issuecomment-293415",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:9'></a>Replying to [comment:7 jdemeyer]:
> Replying to [comment:4 jmantysalo]:
> > True, except that `deprecated_function_alias()` was not included is `posets.html`.

> 
> Then why not say that from the beginning if that is the real bug?


Because I remembered wrong. I think that before this deprecated functions were not listed on html doc.



---

archive/issue_comments_293416.json:
```json
{
    "body": "<a id='comment:11'></a>New commits:",
    "created_at": "2016-03-31T11:15:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20255#issuecomment-293416",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:11'></a>New commits:



---

archive/issue_comments_293417.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-03-31T11:15:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20255#issuecomment-293417",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_293418.json:
```json
{
    "body": "<a id='comment:12'></a>Should examples at developers manual, section \"Deprecation\", also be changed? They kind of suggests wrong way to make a deprecation.",
    "created_at": "2016-03-31T11:22:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20255#issuecomment-293418",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:12'></a>Should examples at developers manual, section "Deprecation", also be changed? They kind of suggests wrong way to make a deprecation.



---

archive/issue_comments_293419.json:
```json
{
    "body": "<a id='comment:13'></a>Replying to [comment:12 jmantysalo]:\n> They kind of suggests wrong way to make a deprecation.\n\n\nThe intent of the documentation is clear to me (you almost never want to import something inside a class), but I'm open to suggestions.",
    "created_at": "2016-03-31T11:31:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20255#issuecomment-293419",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:13'></a>Replying to [comment:12 jmantysalo]:
> They kind of suggests wrong way to make a deprecation.


The intent of the documentation is clear to me (you almost never want to import something inside a class), but I'm open to suggestions.



---

archive/issue_comments_293420.json:
```json
{
    "body": "<a id='comment:14'></a>Replying to [comment:13 jdemeyer]:\n> Replying to [comment:12 jmantysalo]:\n> > They kind of suggests wrong way to make a deprecation.\n\n> \n> The intent of the documentation is clear to me (you almost never want to import something inside a class), but I'm open to suggestions.\n\n\nI tried this:\n\n```\ndiff --git a/src/doc/en/developer/coding_in_python.rst b/src/doc/en/developer/coding_in_python.rst\nindex 4eec8bd..2f237a7 100644\n--- a/src/doc/en/developer/coding_in_python.rst\n+++ b/src/doc/en/developer/coding_in_python.rst\n@@ -491,19 +491,23 @@ documentation for more information on its behaviour and optional arguments.\n   ``my_function(my_old_keyword=5)`` will see a warning::\n \n       from sage.misc.decorators import rename_keyword\n-      @rename_keyword(deprecation=666, my_old_keyword='my_new_keyword')\n-      def my_function(my_new_keyword=True):\n-          return my_new_keyword\n+      ...\n+\n+          @rename_keyword(deprecation=666, my_old_keyword='my_new_keyword')\n+          def my_function(my_new_keyword=True):\n+              return my_new_keyword\n \n * **Rename a function/method:** call\n```\n\nbut then syntax highlight disappeared from html ouput. So maybe we forgot this, and I try to remember right place for `import` next time I deprecate something.",
    "created_at": "2016-04-01T09:41:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20255#issuecomment-293420",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:14'></a>Replying to [comment:13 jdemeyer]:
> Replying to [comment:12 jmantysalo]:
> > They kind of suggests wrong way to make a deprecation.

> 
> The intent of the documentation is clear to me (you almost never want to import something inside a class), but I'm open to suggestions.


I tried this:

```
diff --git a/src/doc/en/developer/coding_in_python.rst b/src/doc/en/developer/coding_in_python.rst
index 4eec8bd..2f237a7 100644
--- a/src/doc/en/developer/coding_in_python.rst
+++ b/src/doc/en/developer/coding_in_python.rst
@@ -491,19 +491,23 @@ documentation for more information on its behaviour and optional arguments.
   ``my_function(my_old_keyword=5)`` will see a warning::
 
       from sage.misc.decorators import rename_keyword
-      @rename_keyword(deprecation=666, my_old_keyword='my_new_keyword')
-      def my_function(my_new_keyword=True):
-          return my_new_keyword
+      ...
+
+          @rename_keyword(deprecation=666, my_old_keyword='my_new_keyword')
+          def my_function(my_new_keyword=True):
+              return my_new_keyword
 
 * **Rename a function/method:** call
```

but then syntax highlight disappeared from html ouput. So maybe we forgot this, and I try to remember right place for `import` next time I deprecate something.



---

archive/issue_comments_293421.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-04-02T14:12:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20255#issuecomment-293421",
    "user": "https://github.com/mezzarobba"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_055002.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-04-03T23:06:09Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/20255",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20255#event-55002"
}
```



---

archive/issue_comments_293422.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-04-03T23:06:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20255#issuecomment-293422",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
