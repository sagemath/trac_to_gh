# Issue 20310: change for p-adic rings

archive/issues_020073.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nStarted as a proposal to change precision of rings, this is now a more general `change` method.\n\nDepends on #23331\n\nCC:  @saraedum @roed314\n\nComponent: **padics**\n\nKeywords: **precision**\n\nAuthor: **David Roe**\n\nBranch/Commit: **[`86b58de`](https://github.com/sagemath/sagetrac-mirror/commit/86b58de413e57a646288c2d0ac38db75e6d04430)**\n\nReviewer: **Julian R\u00fcth, Xavier Caruso**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/20310_\n\n",
    "closed_at": "2017-08-11T18:18:12Z",
    "created_at": "2016-03-27T21:42:44Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20padics",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "change for p-adic rings",
    "type": "issue",
    "updated_at": "2017-08-11T18:18:12Z",
    "url": "https://github.com/sagemath/sage/issues/20310",
    "user": "https://github.com/xcaruso"
}
```
<div id="comment:0"></div>

Started as a proposal to change precision of rings, this is now a more general `change` method.

Depends on #23331

CC:  @saraedum @roed314

Component: **padics**

Keywords: **precision**

Author: **David Roe**

Branch/Commit: **[`86b58de`](https://github.com/sagemath/sagetrac-mirror/commit/86b58de413e57a646288c2d0ac38db75e6d04430)**

Reviewer: **Julian Rüth, Xavier Caruso**

_Issue created by migration from https://trac.sagemath.org/ticket/20310_





---

archive/issue_events_284101.json:
```json
{
    "actor": "https://github.com/xcaruso",
    "created_at": "2016-03-27T21:42:44Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "milestone_number": null,
    "milestone_title": "sage-7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20310#event-284101"
}
```



---

archive/issue_events_284102.json:
```json
{
    "actor": "https://github.com/xcaruso",
    "created_at": "2016-03-27T21:42:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20padics",
    "label_color": "0000ff",
    "label_name": "c: padics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20310#event-284102"
}
```



---

archive/issue_events_284103.json:
```json
{
    "actor": "https://github.com/xcaruso",
    "created_at": "2016-03-27T21:42:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20310#event-284103"
}
```



---

archive/issue_events_284104.json:
```json
{
    "actor": "https://github.com/xcaruso",
    "created_at": "2016-03-27T21:42:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20310#event-284104"
}
```



---

archive/issue_comments_292591.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nAs discussed in Sage Days 71, I tried to implement this method using the construction functor but it seems that the latter is only defined for Zp or Qp but not for extensions.\nSo, what should I do? Implement the methods `construction` as well? Something else?",
    "created_at": "2016-03-27T21:45:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292591",
    "user": "https://github.com/xcaruso"
}
```

<div id="comment:1" align="right">comment:1</div>

As discussed in Sage Days 71, I tried to implement this method using the construction functor but it seems that the latter is only defined for Zp or Qp but not for extensions.
So, what should I do? Implement the methods `construction` as well? Something else?



---

archive/issue_comments_292592.json:
```json
{
    "body": "Branch: **[u/caruso/change_precision](https://github.com/sagemath/sagetrac-mirror/tree/u/caruso/change_precision)**",
    "created_at": "2016-03-27T21:53:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292592",
    "user": "https://github.com/xcaruso"
}
```

Branch: **[u/caruso/change_precision](https://github.com/sagemath/sagetrac-mirror/tree/u/caruso/change_precision)**



---

archive/issue_comments_292593.json:
```json
{
    "body": "Commit: **[`9ca8df8`](https://github.com/sagemath/sagetrac-mirror/commit/9ca8df8885d967a6b36bb6cb89fb79484cc25563)**",
    "created_at": "2016-03-27T22:31:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292593",
    "user": "https://github.com/roed314"
}
```

Commit: **[`9ca8df8`](https://github.com/sagemath/sagetrac-mirror/commit/9ca8df8885d967a6b36bb6cb89fb79484cc25563)**



---

archive/issue_comments_292594.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nImplementing `construction` is a good idea anyway, since they're used in coercion.  And until we change extensions to be defined by exact polynomials, you'll need to raise the precision of the base ring as well, so it's probably necessary.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9ca8df8885d967a6b36bb6cb89fb79484cc25563\"><code>9ca8df8</code></a></td><td><code>Generic function change_precision</code></td></tr></table>\n",
    "created_at": "2016-03-27T22:31:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292594",
    "user": "https://github.com/roed314"
}
```

<div id="comment:3" align="right">comment:3</div>

Implementing `construction` is a good idea anyway, since they're used in coercion.  And until we change extensions to be defined by exact polynomials, you'll need to raise the precision of the base ring as well, so it's probably necessary.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9ca8df8885d967a6b36bb6cb89fb79484cc25563"><code>9ca8df8</code></a></td><td><code>Generic function change_precision</code></td></tr></table>




---

archive/issue_comments_292595.json:
```json
{
    "body": "Changed branch from **[u/caruso/change_precision](https://github.com/sagemath/sagetrac-mirror/tree/u/caruso/change_precision)** to **[u/roed/change_precision](https://github.com/sagemath/sagetrac-mirror/tree/u/roed/change_precision)**",
    "created_at": "2017-06-14T05:21:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292595",
    "user": "https://github.com/roed314"
}
```

Changed branch from **[u/caruso/change_precision](https://github.com/sagemath/sagetrac-mirror/tree/u/caruso/change_precision)** to **[u/roed/change_precision](https://github.com/sagemath/sagetrac-mirror/tree/u/roed/change_precision)**



---

archive/issue_comments_292596.json:
```json
{
    "body": "Changed commit from **[`9ca8df8`](https://github.com/sagemath/sagetrac-mirror/commit/9ca8df8885d967a6b36bb6cb89fb79484cc25563)** to **[`53d2446`](https://github.com/sagemath/sagetrac-mirror/commit/53d24469801c5ccea6b13b59a30ecd11eafa4d29)**",
    "created_at": "2017-06-14T08:58:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292596",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9ca8df8`](https://github.com/sagemath/sagetrac-mirror/commit/9ca8df8885d967a6b36bb6cb89fb79484cc25563)** to **[`53d2446`](https://github.com/sagemath/sagetrac-mirror/commit/53d24469801c5ccea6b13b59a30ecd11eafa4d29)**



---

archive/issue_comments_292597.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e16f79fb103f7030f167b806d63bf222da88da92\"><code>e16f79f</code></a></td><td><code>Add construction method for extensions of p-adic rings and fields, switch implementation of fraction_field and integer_ring</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a88b6307a84ccbb67cdc9ad6ab447b6a00c9f8c1\"><code>a88b630</code></a></td><td><code>Fixing problems revealed by tests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fdd03cb75962ed8f8740f58f5d9202ca08294982\"><code>fdd03cb</code></a></td><td><code>Merge branch 'u/roed/padic-floats' of git://trac.sagemath.org/sage into t/20310/change_precision</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/53d24469801c5ccea6b13b59a30ecd11eafa4d29\"><code>53d2446</code></a></td><td><code>Added ability to edit show_prec to p-adic factory</code></td></tr></table>\n",
    "created_at": "2017-06-14T08:58:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292597",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e16f79fb103f7030f167b806d63bf222da88da92"><code>e16f79f</code></a></td><td><code>Add construction method for extensions of p-adic rings and fields, switch implementation of fraction_field and integer_ring</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a88b6307a84ccbb67cdc9ad6ab447b6a00c9f8c1"><code>a88b630</code></a></td><td><code>Fixing problems revealed by tests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fdd03cb75962ed8f8740f58f5d9202ca08294982"><code>fdd03cb</code></a></td><td><code>Merge branch 'u/roed/padic-floats' of git://trac.sagemath.org/sage into t/20310/change_precision</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/53d24469801c5ccea6b13b59a30ecd11eafa4d29"><code>53d2446</code></a></td><td><code>Added ability to edit show_prec to p-adic factory</code></td></tr></table>




---

archive/issue_comments_292598.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/55c335efa39a5f9a5b9808a5f86a4017702de522\"><code>55c335e</code></a></td><td><code>Fixing doctest problems in the new change method for p-adic rings/fields</code></td></tr></table>\n",
    "created_at": "2017-06-15T07:39:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292598",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/55c335efa39a5f9a5b9808a5f86a4017702de522"><code>55c335e</code></a></td><td><code>Fixing doctest problems in the new change method for p-adic rings/fields</code></td></tr></table>




---

archive/issue_comments_292599.json:
```json
{
    "body": "Changed commit from **[`53d2446`](https://github.com/sagemath/sagetrac-mirror/commit/53d24469801c5ccea6b13b59a30ecd11eafa4d29)** to **[`55c335e`](https://github.com/sagemath/sagetrac-mirror/commit/55c335efa39a5f9a5b9808a5f86a4017702de522)**",
    "created_at": "2017-06-15T07:39:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292599",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`53d2446`](https://github.com/sagemath/sagetrac-mirror/commit/53d24469801c5ccea6b13b59a30ecd11eafa4d29)** to **[`55c335e`](https://github.com/sagemath/sagetrac-mirror/commit/55c335efa39a5f9a5b9808a5f86a4017702de522)**



---

archive/issue_comments_292600.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fcc8aa5279999dcadf48650897a6b19547952b19\"><code>fcc8aa5</code></a></td><td><code>Fixing various problems with the new change method</code></td></tr></table>\n",
    "created_at": "2017-06-15T21:16:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292600",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fcc8aa5279999dcadf48650897a6b19547952b19"><code>fcc8aa5</code></a></td><td><code>Fixing various problems with the new change method</code></td></tr></table>




---

archive/issue_comments_292601.json:
```json
{
    "body": "Changed commit from **[`55c335e`](https://github.com/sagemath/sagetrac-mirror/commit/55c335efa39a5f9a5b9808a5f86a4017702de522)** to **[`fcc8aa5`](https://github.com/sagemath/sagetrac-mirror/commit/fcc8aa5279999dcadf48650897a6b19547952b19)**",
    "created_at": "2017-06-15T21:16:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292601",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`55c335e`](https://github.com/sagemath/sagetrac-mirror/commit/55c335efa39a5f9a5b9808a5f86a4017702de522)** to **[`fcc8aa5`](https://github.com/sagemath/sagetrac-mirror/commit/fcc8aa5279999dcadf48650897a6b19547952b19)**



---

archive/issue_comments_292602.json:
```json
{
    "body": "Changed commit from **[`fcc8aa5`](https://github.com/sagemath/sagetrac-mirror/commit/fcc8aa5279999dcadf48650897a6b19547952b19)** to **[`3b2d94a`](https://github.com/sagemath/sagetrac-mirror/commit/3b2d94a15e0de51fa5ba2419fa53cbfe5b4f810d)**",
    "created_at": "2017-06-15T22:22:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292602",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`fcc8aa5`](https://github.com/sagemath/sagetrac-mirror/commit/fcc8aa5279999dcadf48650897a6b19547952b19)** to **[`3b2d94a`](https://github.com/sagemath/sagetrac-mirror/commit/3b2d94a15e0de51fa5ba2419fa53cbfe5b4f810d)**



---

archive/issue_comments_292603.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3b2d94a15e0de51fa5ba2419fa53cbfe5b4f810d\"><code>3b2d94a</code></a></td><td><code>Remove old code for fraction_field and integer_ring from padic_extension_generic</code></td></tr></table>\n",
    "created_at": "2017-06-15T22:22:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292603",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3b2d94a15e0de51fa5ba2419fa53cbfe5b4f810d"><code>3b2d94a</code></a></td><td><code>Remove old code for fraction_field and integer_ring from padic_extension_generic</code></td></tr></table>




---

archive/issue_comments_292604.json:
```json
{
    "body": "Changed commit from **[`3b2d94a`](https://github.com/sagemath/sagetrac-mirror/commit/3b2d94a15e0de51fa5ba2419fa53cbfe5b4f810d)** to **[`f386dc6`](https://github.com/sagemath/sagetrac-mirror/commit/f386dc614c3369f41cdde8b8057a10025464998e)**",
    "created_at": "2017-06-15T22:44:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292604",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3b2d94a`](https://github.com/sagemath/sagetrac-mirror/commit/3b2d94a15e0de51fa5ba2419fa53cbfe5b4f810d)** to **[`f386dc6`](https://github.com/sagemath/sagetrac-mirror/commit/f386dc614c3369f41cdde8b8057a10025464998e)**



---

archive/issue_comments_292605.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f386dc614c3369f41cdde8b8057a10025464998e\"><code>f386dc6</code></a></td><td><code>Fix bug in ring_of_integers</code></td></tr></table>\n",
    "created_at": "2017-06-15T22:44:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292605",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f386dc614c3369f41cdde8b8057a10025464998e"><code>f386dc6</code></a></td><td><code>Fix bug in ring_of_integers</code></td></tr></table>




---

archive/issue_events_284105.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2017-06-15T22:45:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20310#event-284105"
}
```



---

archive/issue_comments_292606.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-I propose to implement a method change_precision for p-adic rings/fields (which is supposed the same ring/field with a different precision).\n+Started as a proposal to change precision of rings, this is now a more general `change` method.\n``````\n",
    "created_at": "2017-06-16T04:28:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292606",
    "user": "https://github.com/saraedum"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-I propose to implement a method change_precision for p-adic rings/fields (which is supposed the same ring/field with a different precision).
+Started as a proposal to change precision of rings, this is now a more general `change` method.
``````




---

archive/issue_events_284106.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-06-16T04:28:48Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "title_is": "change for p-adic rings",
    "title_was": "change_precision for p-adic rings",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20310#event-284106"
}
```



---

archive/issue_comments_292607.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nI'm a bit sceptical about the possibility of changing `p` (and even `q`). Can you show me a situation where this can be needed?\n\nAdding `show_prec` is nice but is it really the subject of this ticket?\n\nDoctests implying the keyword `base` are missing. The same is true for `show_prec`. More generally, I suggest to add many more doctests ensuring that your code works in a wide range of situations (for ramified, unramified extensions, for extensions constructing via `CompletionFunction` and `AlgebraicExtensionFunctor`, etc.)",
    "created_at": "2017-06-16T05:25:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292607",
    "user": "https://github.com/xcaruso"
}
```

<div id="comment:12" align="right">comment:12</div>

I'm a bit sceptical about the possibility of changing `p` (and even `q`). Can you show me a situation where this can be needed?

Adding `show_prec` is nice but is it really the subject of this ticket?

Doctests implying the keyword `base` are missing. The same is true for `show_prec`. More generally, I suggest to add many more doctests ensuring that your code works in a wide range of situations (for ramified, unramified extensions, for extensions constructing via `CompletionFunction` and `AlgebraicExtensionFunctor`, etc.)



---

archive/issue_comments_292608.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nXavier: Thanks for having a look at this as well. We discussed the changing of `p` and `q` briefly and actually I find it very useful. Often I am only really interested in the ramified part of a tower of extensions (on my fork that already does more general towers.) But for some computation to work out, I need a certain unramified element at the bottom, so I don't want to manually reconstruct the whole tower, so raising and lowering `q` is quite useful. Changing `p` is mostly interesting in general extensions where you want to see how a certain polynomial behaves wrt to different primes. For the Eisenstein extensions that we support atm it is not too useful.\n\nI think it's Ok to put the `show_prec` in here, I'm fine with reviewing it at least :)\n\nI agree that doctests for `base` and `show_prec` should be added. However, I think that in general not all possible cases should be covered by explicit doctests. It usually makes the documentation overwhelming. If we want to have coverage, we should write unit tests for that instead. That's btw one of the topics that we want to push in Burlington! Imho, the testing for `change` is Ok except for the untested keywords.",
    "created_at": "2017-06-16T06:25:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292608",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:13" align="right">comment:13</div>

Xavier: Thanks for having a look at this as well. We discussed the changing of `p` and `q` briefly and actually I find it very useful. Often I am only really interested in the ramified part of a tower of extensions (on my fork that already does more general towers.) But for some computation to work out, I need a certain unramified element at the bottom, so I don't want to manually reconstruct the whole tower, so raising and lowering `q` is quite useful. Changing `p` is mostly interesting in general extensions where you want to see how a certain polynomial behaves wrt to different primes. For the Eisenstein extensions that we support atm it is not too useful.

I think it's Ok to put the `show_prec` in here, I'm fine with reviewing it at least :)

I agree that doctests for `base` and `show_prec` should be added. However, I think that in general not all possible cases should be covered by explicit doctests. It usually makes the documentation overwhelming. If we want to have coverage, we should write unit tests for that instead. That's btw one of the topics that we want to push in Burlington! Imho, the testing for `change` is Ok except for the untested keywords.



---

archive/issue_comments_292609.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nDavid: should `get_key_base` set `show_prec`? Otherwise, `show_prec=None` and `show_prec=True/False` produces two non-identical parents for the same ring I think.",
    "created_at": "2017-06-16T06:26:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292609",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:14" align="right">comment:14</div>

David: should `get_key_base` set `show_prec`? Otherwise, `show_prec=None` and `show_prec=True/False` produces two non-identical parents for the same ring I think.



---

archive/issue_comments_292610.json:
```json
{
    "body": "Author: **David Roe**",
    "created_at": "2017-06-16T06:28:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292610",
    "user": "https://github.com/saraedum"
}
```

Author: **David Roe**



---

archive/issue_events_284107.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-06-16T06:28:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20310#event-284107"
}
```



---

archive/issue_events_284108.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-06-16T06:28:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20310#event-284108"
}
```



---

archive/issue_comments_292611.json:
```json
{
    "body": "Reviewer: **Julian R\u00fcth**",
    "created_at": "2017-06-16T06:28:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292611",
    "user": "https://github.com/saraedum"
}
```

Reviewer: **Julian Rüth**



---

archive/issue_comments_292612.json:
```json
{
    "body": "Work Issues: **show_prec in factory keys**",
    "created_at": "2017-06-16T06:28:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292612",
    "user": "https://github.com/saraedum"
}
```

Work Issues: **show_prec in factory keys**



---

archive/issue_comments_292613.json:
```json
{
    "body": "Changed commit from **[`f386dc6`](https://github.com/sagemath/sagetrac-mirror/commit/f386dc614c3369f41cdde8b8057a10025464998e)** to **[`f4a5345`](https://github.com/sagemath/sagetrac-mirror/commit/f4a534528ce461178ed32e60266beb0f28db00dc)**",
    "created_at": "2017-06-16T08:19:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292613",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f386dc6`](https://github.com/sagemath/sagetrac-mirror/commit/f386dc614c3369f41cdde8b8057a10025464998e)** to **[`f4a5345`](https://github.com/sagemath/sagetrac-mirror/commit/f4a534528ce461178ed32e60266beb0f28db00dc)**



---

archive/issue_comments_292614.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f4a534528ce461178ed32e60266beb0f28db00dc\"><code>f4a5345</code></a></td><td><code>Move show prec logic into get_key</code></td></tr></table>\n",
    "created_at": "2017-06-16T08:19:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292614",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f4a534528ce461178ed32e60266beb0f28db00dc"><code>f4a5345</code></a></td><td><code>Move show prec logic into get_key</code></td></tr></table>




---

archive/issue_events_284109.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2017-06-16T08:22:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20310#event-284109"
}
```



---

archive/issue_events_284110.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2017-06-16T08:22:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20310#event-284110"
}
```



---

archive/issue_comments_292615.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nI fixed the show_prec issue.",
    "created_at": "2017-06-16T08:22:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292615",
    "user": "https://github.com/roed314"
}
```

<div id="comment:17" align="right">comment:17</div>

I fixed the show_prec issue.



---

archive/issue_comments_292616.json:
```json
{
    "body": "Changed work issues from **show_prec in factory keys** to none",
    "created_at": "2017-06-16T08:22:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292616",
    "user": "https://github.com/roed314"
}
```

Changed work issues from **show_prec in factory keys** to none



---

archive/issue_comments_292617.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nLooks good to me. Feel free to set this to positive review if the tests pass.",
    "created_at": "2017-06-16T11:46:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292617",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:18" align="right">comment:18</div>

Looks good to me. Feel free to set this to positive review if the tests pass.



---

archive/issue_comments_292618.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\n\n```\nsage: R = Zp(5)\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n<ipython-input-1-1247c7c70bf9> in <module>()\n----> 1 R = Zp(Integer(5))\n\n/home/xavier/sage/src/sage/structure/factory.pyx in sage.structure.factory.UniqueFactory.__call__ (/home/xavier/sage/src/build/cythonized/sage/structure/factory.c:1728)()\n    360             False\n    361         \"\"\"\n--> 362         key, kwds = self.create_key_and_extra_args(*args, **kwds)\n    363         version = self.get_version(sage_version)\n    364         return self.get_object(version, key, kwds)\n\n/home/xavier/sage/src/sage/structure/factory.pyx in sage.structure.factory.UniqueFactory.create_key_and_extra_args (/home/xavier/sage/src/build/cythonized/sage/structure/factory.c:2921)()\n    458             ((3, ('x',), None, 'modn', \"{'foo': 'value'}\", 3, 1, True), {'foo': 'value'})\n    459         \"\"\"\n--> 460         return self.create_key(*args, **kwds), {}\n    461 \n    462     def create_key(self, *args, **kwds):\n\n/home/xavier/sage/local/lib/python2.7/site-packages/sage/rings/padics/factory.pyc in create_key(self, p, prec, type, print_mode, halt, names, ram_name, print_pos, print_sep, print_alphabet, print_max_terms, show_prec, check)\n   1608         \"\"\"\n   1609         return get_key_base(p, prec, type, print_mode, halt, names, ram_name, print_pos, print_sep, print_alphabet,\n-> 1610                             print_max_terms, show_prec, check, ['capped-rel', 'fixed-mod', 'capped-abs', 'floating-point'])\n   1611 \n   1612     def create_object(self, version, key):\n\n/home/xavier/sage/local/lib/python2.7/site-packages/sage/rings/padics/factory.pyc in get_key_base(p, prec, type, print_mode, halt, names, ram_name, print_pos, print_sep, print_alphabet, print_max_terms, show_prec, check, valid_non_lazy_types)\n    161         if type == 'floating-point':\n    162             show_prec = False\n--> 163         elif print_mode ('series', 'terse', 'val-unit'):\n    164             show_prec = True\n    165         else:\n\nTypeError: 'str' object is not callable\n```",
    "created_at": "2017-06-16T20:28:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292618",
    "user": "https://github.com/xcaruso"
}
```

<div id="comment:19" align="right">comment:19</div>


```
sage: R = Zp(5)
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
<ipython-input-1-1247c7c70bf9> in <module>()
----> 1 R = Zp(Integer(5))

/home/xavier/sage/src/sage/structure/factory.pyx in sage.structure.factory.UniqueFactory.__call__ (/home/xavier/sage/src/build/cythonized/sage/structure/factory.c:1728)()
    360             False
    361         """
--> 362         key, kwds = self.create_key_and_extra_args(*args, **kwds)
    363         version = self.get_version(sage_version)
    364         return self.get_object(version, key, kwds)

/home/xavier/sage/src/sage/structure/factory.pyx in sage.structure.factory.UniqueFactory.create_key_and_extra_args (/home/xavier/sage/src/build/cythonized/sage/structure/factory.c:2921)()
    458             ((3, ('x',), None, 'modn', "{'foo': 'value'}", 3, 1, True), {'foo': 'value'})
    459         """
--> 460         return self.create_key(*args, **kwds), {}
    461 
    462     def create_key(self, *args, **kwds):

/home/xavier/sage/local/lib/python2.7/site-packages/sage/rings/padics/factory.pyc in create_key(self, p, prec, type, print_mode, halt, names, ram_name, print_pos, print_sep, print_alphabet, print_max_terms, show_prec, check)
   1608         """
   1609         return get_key_base(p, prec, type, print_mode, halt, names, ram_name, print_pos, print_sep, print_alphabet,
-> 1610                             print_max_terms, show_prec, check, ['capped-rel', 'fixed-mod', 'capped-abs', 'floating-point'])
   1611 
   1612     def create_object(self, version, key):

/home/xavier/sage/local/lib/python2.7/site-packages/sage/rings/padics/factory.pyc in get_key_base(p, prec, type, print_mode, halt, names, ram_name, print_pos, print_sep, print_alphabet, print_max_terms, show_prec, check, valid_non_lazy_types)
    161         if type == 'floating-point':
    162             show_prec = False
--> 163         elif print_mode ('series', 'terse', 'val-unit'):
    164             show_prec = True
    165         else:

TypeError: 'str' object is not callable
```



---

archive/issue_events_284111.json:
```json
{
    "actor": "https://github.com/xcaruso",
    "created_at": "2017-06-16T20:28:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20310#event-284111"
}
```



---

archive/issue_events_284112.json:
```json
{
    "actor": "https://github.com/xcaruso",
    "created_at": "2017-06-16T20:28:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20310#event-284112"
}
```



---

archive/issue_comments_292619.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nBy the way, I guess that your changes is not compatible with ticket #22103. \n\nIt's of course not that annoying (and, as I've already said, I'm fine with adding the keyword `show_prec`) but maybe we could have a discussion about the \"right way\" to print p-adic numbers.",
    "created_at": "2017-06-16T20:38:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292619",
    "user": "https://github.com/xcaruso"
}
```

<div id="comment:20" align="right">comment:20</div>

By the way, I guess that your changes is not compatible with ticket #22103. 

It's of course not that annoying (and, as I've already said, I'm fine with adding the keyword `show_prec`) but maybe we could have a discussion about the "right way" to print p-adic numbers.



---

archive/issue_comments_292620.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e376b9027401c2e2b83f659f9958aac374d747ea\"><code>e376b90</code></a></td><td><code>Fix doctest errors and a bug in change related to show_prec</code></td></tr></table>\n",
    "created_at": "2017-06-16T21:49:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292620",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e376b9027401c2e2b83f659f9958aac374d747ea"><code>e376b90</code></a></td><td><code>Fix doctest errors and a bug in change related to show_prec</code></td></tr></table>




---

archive/issue_comments_292621.json:
```json
{
    "body": "Changed commit from **[`f4a5345`](https://github.com/sagemath/sagetrac-mirror/commit/f4a534528ce461178ed32e60266beb0f28db00dc)** to **[`e376b90`](https://github.com/sagemath/sagetrac-mirror/commit/e376b9027401c2e2b83f659f9958aac374d747ea)**",
    "created_at": "2017-06-16T21:49:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292621",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f4a5345`](https://github.com/sagemath/sagetrac-mirror/commit/f4a534528ce461178ed32e60266beb0f28db00dc)** to **[`e376b90`](https://github.com/sagemath/sagetrac-mirror/commit/e376b9027401c2e2b83f659f9958aac374d747ea)**



---

archive/issue_comments_292622.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nI just fixed various doctest issues and added some code for the case of changing print_mode (show_prec was not changed).  I ran all tests on the result, and they all pass, but I think I need someone to take a look rather than just setting it to positive review.",
    "created_at": "2017-06-16T21:51:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292622",
    "user": "https://github.com/roed314"
}
```

<div id="comment:22" align="right">comment:22</div>

I just fixed various doctest issues and added some code for the case of changing print_mode (show_prec was not changed).  I ran all tests on the result, and they all pass, but I think I need someone to take a look rather than just setting it to positive review.



---

archive/issue_events_284113.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2017-06-16T21:51:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20310#event-284113"
}
```



---

archive/issue_events_284114.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2017-06-16T21:51:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20310#event-284114"
}
```



---

archive/issue_comments_292623.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nWell, I'm still not that convinced by changing `p`. You say that \"it is mostly interesting in general extensions where you want to see how a certain polynomial behaves wrt to different primes\" but I guess that the modulus is just stored modulo `p^prec`, so converting it in others `Z_p`'s may lead to very unexpected behaviours, no?\nI nevertheless agree that changing `q` (keeping the same `p`) makes more sense.\n\nAnyway, changing `p` actually does not work in many cases:\n\n```\nsage: R.<a> = Zq(5^3)\nsage: R.change(p=7)\n...\nNotImplementedError: conversion between padic extensions not implemented\n```\n\nFor ramified extensions, something very stange happens:\n\n```\nsage: R.<a> = Zp(5).extension(x^3 + 5)\nsage: R\nEisenstein Extension of 5-adic Ring with capped relative precision 20 in a defined by  (1 + O(5^20))*x^3 + (O(5^21))*x^2 + (O(5^21))*x + (5 + O(5^21))\n\nsage: S = R.change(p=7)\nsage: S\nUnramified Extension of 7-adic Ring with capped relative precision 20 in a defined by (1 + O(5^20))*x^3 + (O(5^20))*x^2 + (O(5^20))*x + (5 + O(5^20))\n```\n\nLook at the modulus, it is still written with some `O(5^20)`'s (whereas we are supposed to be on a 7-adic ring). Even more stranger:\n\n```\nsage: c = S.modulus()[0]; c\n5 + O(5^20)\nsage: c.parent()\n7-adic Ring with capped relative precision 20\n\nsage: c.parent() is Zp(7)\nFalse\n```\n\nAs a conclusion, I would be in favour to remove this feature.",
    "created_at": "2017-06-17T02:50:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292623",
    "user": "https://github.com/xcaruso"
}
```

<div id="comment:23" align="right">comment:23</div>

Well, I'm still not that convinced by changing `p`. You say that "it is mostly interesting in general extensions where you want to see how a certain polynomial behaves wrt to different primes" but I guess that the modulus is just stored modulo `p^prec`, so converting it in others `Z_p`'s may lead to very unexpected behaviours, no?
I nevertheless agree that changing `q` (keeping the same `p`) makes more sense.

Anyway, changing `p` actually does not work in many cases:

```
sage: R.<a> = Zq(5^3)
sage: R.change(p=7)
...
NotImplementedError: conversion between padic extensions not implemented
```

For ramified extensions, something very stange happens:

```
sage: R.<a> = Zp(5).extension(x^3 + 5)
sage: R
Eisenstein Extension of 5-adic Ring with capped relative precision 20 in a defined by  (1 + O(5^20))*x^3 + (O(5^21))*x^2 + (O(5^21))*x + (5 + O(5^21))

sage: S = R.change(p=7)
sage: S
Unramified Extension of 7-adic Ring with capped relative precision 20 in a defined by (1 + O(5^20))*x^3 + (O(5^20))*x^2 + (O(5^20))*x + (5 + O(5^20))
```

Look at the modulus, it is still written with some `O(5^20)`'s (whereas we are supposed to be on a 7-adic ring). Even more stranger:

```
sage: c = S.modulus()[0]; c
5 + O(5^20)
sage: c.parent()
7-adic Ring with capped relative precision 20

sage: c.parent() is Zp(7)
False
```

As a conclusion, I would be in favour to remove this feature.



---

archive/issue_events_284115.json:
```json
{
    "actor": "https://github.com/xcaruso",
    "created_at": "2017-06-17T02:50:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20310#event-284115"
}
```



---

archive/issue_events_284116.json:
```json
{
    "actor": "https://github.com/xcaruso",
    "created_at": "2017-06-17T02:50:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20310#event-284116"
}
```



---

archive/issue_comments_292624.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nOther issues with the change of precision:\n\n```\nsage: R.<a> = Zq(5^3)\nsage: S = R.change(prec=50)\nsage: S\nUnramified Extension of 5-adic Ring with capped relative precision 50 in a defined by (1 + O(5^20))*x^3 + (O(5^20))*x^2 + (3 + O(5^20))*x + (3 + O(5^20))\n```\n\nThe defining polynomial has not been lifted to precision 50.\n\nIn fact, it seems that we cannot compute at all at precision 50 is `S`:\n\n```\nsage: S.gen()\na + O(5^20)\nsage: S.precision_cap()\n20\n```\n\nFor ramified extensions, the precision on the modulus decreases:\n\n```\nsage: R.<a> = Zp(5).extension(x^3 + 5)\nsage: R\nEisenstein Extension of 5-adic Ring with capped relative precision 20 in a defined by (1 + O(5^20))*x^3 + (O(5^21))*x^2 + (O(5^21))*x + (5 + O(5^21))\nsage: S = R.change(prec=50)\nsage: S\nEisenstein Extension of 5-adic Ring with capped relative precision 20 in a defined by (1 + O(5^18))*x^3 + (O(5^18))*x^2 + (O(5^18))*x + (5 + O(5^18))\n```\n\nbut (unexpectedly) computations in `S` seem to be fine.",
    "created_at": "2017-06-17T02:54:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292624",
    "user": "https://github.com/xcaruso"
}
```

<div id="comment:24" align="right">comment:24</div>

Other issues with the change of precision:

```
sage: R.<a> = Zq(5^3)
sage: S = R.change(prec=50)
sage: S
Unramified Extension of 5-adic Ring with capped relative precision 50 in a defined by (1 + O(5^20))*x^3 + (O(5^20))*x^2 + (3 + O(5^20))*x + (3 + O(5^20))
```

The defining polynomial has not been lifted to precision 50.

In fact, it seems that we cannot compute at all at precision 50 is `S`:

```
sage: S.gen()
a + O(5^20)
sage: S.precision_cap()
20
```

For ramified extensions, the precision on the modulus decreases:

```
sage: R.<a> = Zp(5).extension(x^3 + 5)
sage: R
Eisenstein Extension of 5-adic Ring with capped relative precision 20 in a defined by (1 + O(5^20))*x^3 + (O(5^21))*x^2 + (O(5^21))*x + (5 + O(5^21))
sage: S = R.change(prec=50)
sage: S
Eisenstein Extension of 5-adic Ring with capped relative precision 20 in a defined by (1 + O(5^18))*x^3 + (O(5^18))*x^2 + (O(5^18))*x + (5 + O(5^18))
```

but (unexpectedly) computations in `S` seem to be fine.



---

archive/issue_comments_292625.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nGood points.  We've also been thinking about switching defining polynomials to being exact, in which case some of the precision issues go away.\n\nI'll take a look at this when I'm back, in a week and a half or so.",
    "created_at": "2017-06-17T07:08:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292625",
    "user": "https://github.com/roed314"
}
```

<div id="comment:25" align="right">comment:25</div>

Good points.  We've also been thinking about switching defining polynomials to being exact, in which case some of the precision issues go away.

I'll take a look at this when I'm back, in a week and a half or so.



---

archive/issue_comments_292626.json:
```json
{
    "body": "Changed commit from **[`e376b90`](https://github.com/sagemath/sagetrac-mirror/commit/e376b9027401c2e2b83f659f9958aac374d747ea)** to **[`543088a`](https://github.com/sagemath/sagetrac-mirror/commit/543088a49d66f2927741c086f3271f30c4ff86a8)**",
    "created_at": "2017-06-28T01:15:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292626",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e376b90`](https://github.com/sagemath/sagetrac-mirror/commit/e376b9027401c2e2b83f659f9958aac374d747ea)** to **[`543088a`](https://github.com/sagemath/sagetrac-mirror/commit/543088a49d66f2927741c086f3271f30c4ff86a8)**



---

archive/issue_comments_292627.json:
```json
{
    "body": "<div id=\"comment:26\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/543088a49d66f2927741c086f3271f30c4ff86a8\"><code>543088a</code></a></td><td><code>Fix broken printing when changing p in a p-adic extension, raise error when creating an extension with precision larger than the precision of the defining polynomial</code></td></tr></table>\n",
    "created_at": "2017-06-28T01:15:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292627",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:26"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/543088a49d66f2927741c086f3271f30c4ff86a8"><code>543088a</code></a></td><td><code>Fix broken printing when changing p in a p-adic extension, raise error when creating an extension with precision larger than the precision of the defining polynomial</code></td></tr></table>




---

archive/issue_comments_292628.json:
```json
{
    "body": "Changed commit from **[`543088a`](https://github.com/sagemath/sagetrac-mirror/commit/543088a49d66f2927741c086f3271f30c4ff86a8)** to **[`b643d24`](https://github.com/sagemath/sagetrac-mirror/commit/b643d244032f32ef68692aa43e805ca9bc0eb206)**",
    "created_at": "2017-06-28T01:40:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292628",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`543088a`](https://github.com/sagemath/sagetrac-mirror/commit/543088a49d66f2927741c086f3271f30c4ff86a8)** to **[`b643d24`](https://github.com/sagemath/sagetrac-mirror/commit/b643d244032f32ef68692aa43e805ca9bc0eb206)**



---

archive/issue_comments_292629.json:
```json
{
    "body": "<div id=\"comment:27\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b643d244032f32ef68692aa43e805ca9bc0eb206\"><code>b643d24</code></a></td><td><code>Delay substitution of DEFAULT_PREC in padics factory</code></td></tr></table>\n",
    "created_at": "2017-06-28T01:40:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292629",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:27"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b643d244032f32ef68692aa43e805ca9bc0eb206"><code>b643d24</code></a></td><td><code>Delay substitution of DEFAULT_PREC in padics factory</code></td></tr></table>




---

archive/issue_comments_292630.json:
```json
{
    "body": "<div id=\"comment:28\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e935ca9f842d729f349b34f058e647a55068d0f1\"><code>e935ca9</code></a></td><td><code>Change Zq and Qq to be defined by an exact polynomial</code></td></tr></table>\n",
    "created_at": "2017-06-28T02:05:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292630",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:28"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e935ca9f842d729f349b34f058e647a55068d0f1"><code>e935ca9</code></a></td><td><code>Change Zq and Qq to be defined by an exact polynomial</code></td></tr></table>




---

archive/issue_comments_292631.json:
```json
{
    "body": "Changed commit from **[`b643d24`](https://github.com/sagemath/sagetrac-mirror/commit/b643d244032f32ef68692aa43e805ca9bc0eb206)** to **[`e935ca9`](https://github.com/sagemath/sagetrac-mirror/commit/e935ca9f842d729f349b34f058e647a55068d0f1)**",
    "created_at": "2017-06-28T02:05:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292631",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b643d24`](https://github.com/sagemath/sagetrac-mirror/commit/b643d244032f32ef68692aa43e805ca9bc0eb206)** to **[`e935ca9`](https://github.com/sagemath/sagetrac-mirror/commit/e935ca9f842d729f349b34f058e647a55068d0f1)**



---

archive/issue_comments_292632.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nI fixed the printing problem that was causing the weird behavior you observed when changing p.  If the defining polynomial is defined over the integers, then changing p works; if not it doesn't.\n\nI also added an error if you try to increase the precision above the limit imposed by the defining polynomial.",
    "created_at": "2017-06-28T02:06:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292632",
    "user": "https://github.com/roed314"
}
```

<div id="comment:29" align="right">comment:29</div>

I fixed the printing problem that was causing the weird behavior you observed when changing p.  If the defining polynomial is defined over the integers, then changing p works; if not it doesn't.

I also added an error if you try to increase the precision above the limit imposed by the defining polynomial.



---

archive/issue_events_284117.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2017-06-28T02:06:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20310#event-284117"
}
```



---

archive/issue_events_284118.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2017-06-28T02:06:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20310#event-284118"
}
```



---

archive/issue_comments_292633.json:
```json
{
    "body": "Changed commit from **[`e935ca9`](https://github.com/sagemath/sagetrac-mirror/commit/e935ca9f842d729f349b34f058e647a55068d0f1)** to **[`547b66d`](https://github.com/sagemath/sagetrac-mirror/commit/547b66d756630f5e68b01b3f31b460ea4b3d9f13)**",
    "created_at": "2017-06-28T02:20:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292633",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e935ca9`](https://github.com/sagemath/sagetrac-mirror/commit/e935ca9f842d729f349b34f058e647a55068d0f1)** to **[`547b66d`](https://github.com/sagemath/sagetrac-mirror/commit/547b66d756630f5e68b01b3f31b460ea4b3d9f13)**



---

archive/issue_comments_292634.json:
```json
{
    "body": "<div id=\"comment:30\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/547b66d756630f5e68b01b3f31b460ea4b3d9f13\"><code>547b66d</code></a></td><td><code>Fix error in check=False constructor for Qq</code></td></tr></table>\n",
    "created_at": "2017-06-28T02:20:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292634",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:30"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/547b66d756630f5e68b01b3f31b460ea4b3d9f13"><code>547b66d</code></a></td><td><code>Fix error in check=False constructor for Qq</code></td></tr></table>




---

archive/issue_comments_292635.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nAll tests pass for me.",
    "created_at": "2017-06-28T02:31:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292635",
    "user": "https://github.com/roed314"
}
```

<div id="comment:31" align="right">comment:31</div>

All tests pass for me.



---

archive/issue_comments_292636.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nNot a complete review, but I noticed the following:\n\nIn the doctest of the method `change`, some items are introduced by `--` instead of `-`.\n\nWhen creating an unramified extension, we cannot specify the variable name using the keyword `unram_name`:\n\n```\nsage: R = Zp(5)\nsage: R.change(q=25, unram_name='a')\n...\nTypeError: You must specify the name of the generator\n\nsage: R2.<a> = Zq(5^2)\nsage: R2.change(q=125,unram_name='b')\nUnramified Extension of 5-adic Ring with capped relative precision 20 in a defined by (1 + O(5^20))*x^3 + (O(5^20))*x^2 + (3 + O(5^20))*x + (3 + O(5^20))\n```\n\n(Note nevertheless than using `names` instead of `unram_name` works fine.)\n\nI am a bit lost with exact VS inexact defining polynomials. For instance:\n\n```\nsage: var('x')\nx\nsage: R.<a> = Zq(5^2, modulus=x^2+2*x+4)\nsage: R.change(p=11)\nUnramified Extension of 11-adic Ring with capped relative precision 20 in a defined by (1 + O(11^20))*x^2 + (2 + O(11^20))*x + (4 + O(11^20))\n\nsage: ZX.<x> = ZZ[]\nsage: R.<a> = Zq(5^2, modulus=x^2+2*x+4)\nsage: R.change(p=11)\n...\nNotImplementedError: conversion between padic extensions not implemented\n```\n\nBy the way, even when the defining polynomial is exact, the methods `modulus` and `defining_polynomial` return an inexact polynomial. Is there a method that returns the exact defining polynomial (i.e. the content of the attribute `_pre_poly` as far as I understand)?",
    "created_at": "2017-06-28T20:59:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292636",
    "user": "https://github.com/xcaruso"
}
```

<div id="comment:32" align="right">comment:32</div>

Not a complete review, but I noticed the following:

In the doctest of the method `change`, some items are introduced by `--` instead of `-`.

When creating an unramified extension, we cannot specify the variable name using the keyword `unram_name`:

```
sage: R = Zp(5)
sage: R.change(q=25, unram_name='a')
...
TypeError: You must specify the name of the generator

sage: R2.<a> = Zq(5^2)
sage: R2.change(q=125,unram_name='b')
Unramified Extension of 5-adic Ring with capped relative precision 20 in a defined by (1 + O(5^20))*x^3 + (O(5^20))*x^2 + (3 + O(5^20))*x + (3 + O(5^20))
```

(Note nevertheless than using `names` instead of `unram_name` works fine.)

I am a bit lost with exact VS inexact defining polynomials. For instance:

```
sage: var('x')
x
sage: R.<a> = Zq(5^2, modulus=x^2+2*x+4)
sage: R.change(p=11)
Unramified Extension of 11-adic Ring with capped relative precision 20 in a defined by (1 + O(11^20))*x^2 + (2 + O(11^20))*x + (4 + O(11^20))

sage: ZX.<x> = ZZ[]
sage: R.<a> = Zq(5^2, modulus=x^2+2*x+4)
sage: R.change(p=11)
...
NotImplementedError: conversion between padic extensions not implemented
```

By the way, even when the defining polynomial is exact, the methods `modulus` and `defining_polynomial` return an inexact polynomial. Is there a method that returns the exact defining polynomial (i.e. the content of the attribute `_pre_poly` as far as I understand)?



---

archive/issue_events_284119.json:
```json
{
    "actor": "https://github.com/xcaruso",
    "created_at": "2017-06-28T20:59:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20310#event-284119"
}
```



---

archive/issue_events_284120.json:
```json
{
    "actor": "https://github.com/xcaruso",
    "created_at": "2017-06-28T20:59:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20310#event-284120"
}
```



---

archive/issue_comments_292637.json:
```json
{
    "body": "<div id=\"comment:33\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bf8d7606b21ecbbcdebaf9a96e3f5f2befe1756c\"><code>bf8d760</code></a></td><td><code>Fix formatting errors in change docstring, allow specifying unram_name rather than names in changing q on Zp or Qp</code></td></tr></table>\n",
    "created_at": "2017-06-28T22:59:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292637",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:33"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bf8d7606b21ecbbcdebaf9a96e3f5f2befe1756c"><code>bf8d760</code></a></td><td><code>Fix formatting errors in change docstring, allow specifying unram_name rather than names in changing q on Zp or Qp</code></td></tr></table>




---

archive/issue_comments_292638.json:
```json
{
    "body": "Changed commit from **[`547b66d`](https://github.com/sagemath/sagetrac-mirror/commit/547b66d756630f5e68b01b3f31b460ea4b3d9f13)** to **[`bf8d760`](https://github.com/sagemath/sagetrac-mirror/commit/bf8d7606b21ecbbcdebaf9a96e3f5f2befe1756c)**",
    "created_at": "2017-06-28T22:59:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292638",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`547b66d`](https://github.com/sagemath/sagetrac-mirror/commit/547b66d756630f5e68b01b3f31b460ea4b3d9f13)** to **[`bf8d760`](https://github.com/sagemath/sagetrac-mirror/commit/bf8d7606b21ecbbcdebaf9a96e3f5f2befe1756c)**



---

archive/issue_comments_292639.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nReplying to [@xcaruso](#comment%3A32):\n> Not a complete review, but I noticed the following:\n> \n> In the doctest of the method `change`, some items are introduced by `--` instead of `-`.\n\nFixed, thanks.\n\n> When creating an unramified extension, we cannot specify the variable name using the keyword `unram_name`:\n> \n> ```\n> sage: R = Zp(5)\n> sage: R.change(q=25, unram_name='a')\n> ...\n> TypeError: You must specify the name of the generator\n> \n> sage: R2.<a> = Zq(5^2)\n> sage: R2.change(q=125,unram_name='b')\n> Unramified Extension of 5-adic Ring with capped relative precision 20 in a defined by (1 + O(5^20))*x^3 + (O(5^20))*x^2 + (3 + O(5^20))*x + (3 + O(5^20))\n> ```\n> \n> (Note nevertheless than using `names` instead of `unram_name` works fine.)\n\nFixed.\n\n> I am a bit lost with exact VS inexact defining polynomials. For instance:\n> \n> ```\n> sage: var('x')\n> x\n> sage: R.<a> = Zq(5^2, modulus=x^2+2*x+4)\n> sage: R.change(p=11)\n> Unramified Extension of 11-adic Ring with capped relative precision 20 in a defined by (1 + O(11^20))*x^2 + (2 + O(11^20))*x + (4 + O(11^20))\n> \n> sage: ZX.<x> = ZZ[]\n> sage: R.<a> = Zq(5^2, modulus=x^2+2*x+4)\n> sage: R.change(p=11)\n> ...\n> NotImplementedError: conversion between padic extensions not implemented\n> ```\n\nI get that both of these work.  It's possible that your cache has been poisoned by trying to first create R using a p-adic modulus, and then later with a modulus over Z?  This is the kind of thing that might be alleviated by #23331.\n\n> By the way, even when the defining polynomial is exact, the methods `modulus` and `defining_polynomial` return an inexact polynomial. Is there a method that returns the exact defining polynomial (i.e. the content of the attribute `_pre_poly` as far as I understand)?\n\nI don't think there's currently a method to get `_pre_poly`. I would suggest holding off on that change until #23331.",
    "created_at": "2017-06-28T23:01:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292639",
    "user": "https://github.com/roed314"
}
```

<div id="comment:34" align="right">comment:34</div>

Replying to [@xcaruso](#comment%3A32):
> Not a complete review, but I noticed the following:
> 
> In the doctest of the method `change`, some items are introduced by `--` instead of `-`.

Fixed, thanks.

> When creating an unramified extension, we cannot specify the variable name using the keyword `unram_name`:
> 
> ```
> sage: R = Zp(5)
> sage: R.change(q=25, unram_name='a')
> ...
> TypeError: You must specify the name of the generator
> 
> sage: R2.<a> = Zq(5^2)
> sage: R2.change(q=125,unram_name='b')
> Unramified Extension of 5-adic Ring with capped relative precision 20 in a defined by (1 + O(5^20))*x^3 + (O(5^20))*x^2 + (3 + O(5^20))*x + (3 + O(5^20))
> ```
> 
> (Note nevertheless than using `names` instead of `unram_name` works fine.)

Fixed.

> I am a bit lost with exact VS inexact defining polynomials. For instance:
> 
> ```
> sage: var('x')
> x
> sage: R.<a> = Zq(5^2, modulus=x^2+2*x+4)
> sage: R.change(p=11)
> Unramified Extension of 11-adic Ring with capped relative precision 20 in a defined by (1 + O(11^20))*x^2 + (2 + O(11^20))*x + (4 + O(11^20))
> 
> sage: ZX.<x> = ZZ[]
> sage: R.<a> = Zq(5^2, modulus=x^2+2*x+4)
> sage: R.change(p=11)
> ...
> NotImplementedError: conversion between padic extensions not implemented
> ```

I get that both of these work.  It's possible that your cache has been poisoned by trying to first create R using a p-adic modulus, and then later with a modulus over Z?  This is the kind of thing that might be alleviated by #23331.

> By the way, even when the defining polynomial is exact, the methods `modulus` and `defining_polynomial` return an inexact polynomial. Is there a method that returns the exact defining polynomial (i.e. the content of the attribute `_pre_poly` as far as I understand)?

I don't think there's currently a method to get `_pre_poly`. I would suggest holding off on that change until #23331.



---

archive/issue_comments_292640.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\n> I get that both of these work. It's possible that your cache has been poisoned by trying to first create R using a p-adic modulus, and then later with a modulus over Z? This is the kind of thing that might be alleviated by #23331. \n\nGood point. With a fresh session of sage, I have:\n\n```\nsage: R.<a> = Zq(5^2, modulus=x^2+2*x+4)\nsage: R.change(p=11)\nUnramified Extension of 11-adic Ring with capped relative precision 20 in a defined by (1 + O(11^20))*x^2 + (2 + O(11^20))*x + (4 + O(11^20))\nsage: \nsage: ZX.<x> = ZZ[]\nsage: R.<a> = Zq(5^2, modulus=x^2+2*x+4)\nsage: R.change(p=11)\nUnramified Extension of 11-adic Ring with capped relative precision 20 in a defined by (1 + O(11^20))*x^2 + (2 + O(11^20))*x + (4 + O(11^20))\n```\n\nbut:\n\n```\nsage: ZpX.<x> = Zp(5)[]\nsage: R1.<a> = Zq(5^2, modulus=x^2+2*x+4)\nsage: R1.change(p=11)\n...\nNotImplementedError: conversion between padic extensions not implemented\n\nsage: ZX.<x> = ZZ[]\nsage: R2.<a> = Zq(5^2, modulus=x^2+2*x+4)\nsage: R2.change(p=11)\n...\nNotImplementedError: conversion between padic extensions not implemented\n```\n\nand conversely:\n\n```\nsage: ZX.<x> = ZZ[]\nsage: R2.<a> = Zq(5^2, modulus=x^2+2*x+4)\nsage: R2.change(p=11)\nUnramified Extension of 11-adic Ring with capped relative precision 20 in a defined by (1 + O(11^20))*x^2 + (2 + O(11^20))*x + (4 + O(11^20))\n\nsage: ZpX.<x> = Zp(5)[]\nsage: R1.<a> = Zq(5^2, modulus=x^2+2*x+4)\nsage: R1.change(p=11)\nUnramified Extension of 11-adic Ring with capped relative precision 20 in a defined by (1 + O(11^20))*x^2 + (2 + O(11^20))*x + (4 + O(11^20))\n```\n\nI guess that the problem comes from the factory because, in the above examples, `R1` is the same as `R2` (i.e. `R1 is R2` answers `True`).",
    "created_at": "2017-06-29T05:26:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292640",
    "user": "https://github.com/xcaruso"
}
```

<div id="comment:35" align="right">comment:35</div>

> I get that both of these work. It's possible that your cache has been poisoned by trying to first create R using a p-adic modulus, and then later with a modulus over Z? This is the kind of thing that might be alleviated by #23331. 

Good point. With a fresh session of sage, I have:

```
sage: R.<a> = Zq(5^2, modulus=x^2+2*x+4)
sage: R.change(p=11)
Unramified Extension of 11-adic Ring with capped relative precision 20 in a defined by (1 + O(11^20))*x^2 + (2 + O(11^20))*x + (4 + O(11^20))
sage: 
sage: ZX.<x> = ZZ[]
sage: R.<a> = Zq(5^2, modulus=x^2+2*x+4)
sage: R.change(p=11)
Unramified Extension of 11-adic Ring with capped relative precision 20 in a defined by (1 + O(11^20))*x^2 + (2 + O(11^20))*x + (4 + O(11^20))
```

but:

```
sage: ZpX.<x> = Zp(5)[]
sage: R1.<a> = Zq(5^2, modulus=x^2+2*x+4)
sage: R1.change(p=11)
...
NotImplementedError: conversion between padic extensions not implemented

sage: ZX.<x> = ZZ[]
sage: R2.<a> = Zq(5^2, modulus=x^2+2*x+4)
sage: R2.change(p=11)
...
NotImplementedError: conversion between padic extensions not implemented
```

and conversely:

```
sage: ZX.<x> = ZZ[]
sage: R2.<a> = Zq(5^2, modulus=x^2+2*x+4)
sage: R2.change(p=11)
Unramified Extension of 11-adic Ring with capped relative precision 20 in a defined by (1 + O(11^20))*x^2 + (2 + O(11^20))*x + (4 + O(11^20))

sage: ZpX.<x> = Zp(5)[]
sage: R1.<a> = Zq(5^2, modulus=x^2+2*x+4)
sage: R1.change(p=11)
Unramified Extension of 11-adic Ring with capped relative precision 20 in a defined by (1 + O(11^20))*x^2 + (2 + O(11^20))*x + (4 + O(11^20))
```

I guess that the problem comes from the factory because, in the above examples, `R1` is the same as `R2` (i.e. `R1 is R2` answers `True`).



---

archive/issue_events_284121.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2017-06-30T04:00:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20310#event-284121"
}
```



---

archive/issue_events_284122.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2017-06-30T04:00:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20310#event-284122"
}
```



---

archive/issue_comments_292641.json:
```json
{
    "body": "Changed reviewer from **Julian R\u00fcth** to **Julian R\u00fcth, Xavier Caruso**",
    "created_at": "2017-06-30T04:00:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292641",
    "user": "https://github.com/roed314"
}
```

Changed reviewer from **Julian Rüth** to **Julian Rüth, Xavier Caruso**



---

archive/issue_events_284123.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-07-02T02:56:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20310#event-284123"
}
```



---

archive/issue_events_284124.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-07-02T02:56:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20310#event-284124"
}
```



---

archive/issue_comments_292642.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nUnless Xavier has any objections of course.",
    "created_at": "2017-07-02T02:56:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292642",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:37" align="right">comment:37</div>

Unless Xavier has any objections of course.



---

archive/issue_events_284125.json:
```json
{
    "actor": "https://github.com/xcaruso",
    "created_at": "2017-07-02T04:44:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20310#event-284125"
}
```



---

archive/issue_events_284126.json:
```json
{
    "actor": "https://github.com/xcaruso",
    "created_at": "2017-07-02T04:44:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20310#event-284126"
}
```



---

archive/issue_comments_292643.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nWell, I am a bit worried to give a positive review after comment 35 (which is clearly a bug for me).\n\nI am fine with fixing this in ticket #23331 but, in that case, I would wait for #23331 to be written and positively reviewed before giving a positive review to the current ticket (#20310)",
    "created_at": "2017-07-02T04:44:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292643",
    "user": "https://github.com/xcaruso"
}
```

<div id="comment:38" align="right">comment:38</div>

Well, I am a bit worried to give a positive review after comment 35 (which is clearly a bug for me).

I am fine with fixing this in ticket #23331 but, in that case, I would wait for #23331 to be written and positively reviewed before giving a positive review to the current ticket (#20310)



---

archive/issue_comments_292644.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nI don't see how this is related to this ticket really. This is just a bug in the factory that has always been there. The same problem at least happens on a stable sage\n\n```\nsage: ZpX.<x> = Zp(5)[]\nsage: R1.<a> = Zq(5^2, modulus=x^2+2*x+4)\nsage: ZX.<x> = ZZ[]\nsage: R2.<a> = Zq(5^2, modulus=x^2+2*x+4)\nsage: R1 is R2\nTrue\n```\n\nI guess my point is that you could use this to construct problems with many methods in Sage. I do not see why we should have `change()` be blocked by this now. (We should of course fix this, nevertheless\u2026)",
    "created_at": "2017-07-03T05:16:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292644",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:39" align="right">comment:39</div>

I don't see how this is related to this ticket really. This is just a bug in the factory that has always been there. The same problem at least happens on a stable sage

```
sage: ZpX.<x> = Zp(5)[]
sage: R1.<a> = Zq(5^2, modulus=x^2+2*x+4)
sage: ZX.<x> = ZZ[]
sage: R2.<a> = Zq(5^2, modulus=x^2+2*x+4)
sage: R1 is R2
True
```

I guess my point is that you could use this to construct problems with many methods in Sage. I do not see why we should have `change()` be blocked by this now. (We should of course fix this, nevertheless…)



---

archive/issue_events_284127.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-07-03T05:16:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20310#event-284127"
}
```



---

archive/issue_events_284128.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-07-03T05:16:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20310#event-284128"
}
```



---

archive/issue_comments_292645.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nI do not agree. This was not a bug until this ticket implemented a method, namely `change`, that decides to treat differently extensions defined by exact and inexact polynomials.",
    "created_at": "2017-07-03T06:23:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292645",
    "user": "https://github.com/xcaruso"
}
```

<div id="comment:41" align="right">comment:41</div>

I do not agree. This was not a bug until this ticket implemented a method, namely `change`, that decides to treat differently extensions defined by exact and inexact polynomials.



---

archive/issue_comments_292646.json:
```json
{
    "body": "Dependencies: **#23331**",
    "created_at": "2017-07-03T06:43:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292646",
    "user": "https://github.com/saraedum"
}
```

Dependencies: **#23331**



---

archive/issue_events_284129.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-07-03T06:43:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20310#event-284129"
}
```



---

archive/issue_events_284130.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-07-03T06:43:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20310#event-284130"
}
```



---

archive/issue_comments_292647.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nOk. I guess you're right that this was much more unlikely to cause trouble before.\n\nI still don't think that this should block this ticket, but I guess we have to wait for #23331 then.",
    "created_at": "2017-07-03T06:43:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292647",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:42" align="right">comment:42</div>

Ok. I guess you're right that this was much more unlikely to cause trouble before.

I still don't think that this should block this ticket, but I guess we have to wait for #23331 then.



---

archive/issue_events_284131.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2017-07-19T07:28:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20310#event-284131"
}
```



---

archive/issue_events_284132.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2017-07-19T07:28:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20310#event-284132"
}
```



---

archive/issue_comments_292648.json:
```json
{
    "body": "Changed commit from **[`bf8d760`](https://github.com/sagemath/sagetrac-mirror/commit/bf8d7606b21ecbbcdebaf9a96e3f5f2befe1756c)** to **[`8351aa9`](https://github.com/sagemath/sagetrac-mirror/commit/8351aa992136b9228983755cdb1cda0e7dbd315f)**",
    "created_at": "2017-07-19T07:28:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292648",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`bf8d760`](https://github.com/sagemath/sagetrac-mirror/commit/bf8d7606b21ecbbcdebaf9a96e3f5f2befe1756c)** to **[`8351aa9`](https://github.com/sagemath/sagetrac-mirror/commit/8351aa992136b9228983755cdb1cda0e7dbd315f)**



---

archive/issue_comments_292649.json:
```json
{
    "body": "<div id=\"comment:43\"></div>\n\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7e21e774b084f947cdccc455d4f1f1b03c872837\"><code>7e21e77</code></a></td><td><code>Adding an exact modulus to p-adic rings and fields, changing printing for p-adic extensions, removing some vestigal lazy p-adic code</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dbbc631feff9dbf4f3a37825329263d640290202\"><code>dbbc631</code></a></td><td><code>Fix pickles</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6cb9d22e018af5672f54d2ba657ae354283098a8\"><code>6cb9d22</code></a></td><td><code>Remove extraneous newlines in padic_ZZ_pX_FM_element.pyx</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/daf51fad532db893434c4f215fce5d049e5937f6\"><code>daf51fa</code></a></td><td><code>Merge branch 'u/roed/change_precision' of git://trac.sagemath.org/sage into t/20310/change_precision</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8351aa992136b9228983755cdb1cda0e7dbd315f\"><code>8351aa9</code></a></td><td><code>Fixing doctest errors from merge</code></td></tr></table>\n",
    "created_at": "2017-07-19T07:28:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292649",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:43"></div>

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7e21e774b084f947cdccc455d4f1f1b03c872837"><code>7e21e77</code></a></td><td><code>Adding an exact modulus to p-adic rings and fields, changing printing for p-adic extensions, removing some vestigal lazy p-adic code</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dbbc631feff9dbf4f3a37825329263d640290202"><code>dbbc631</code></a></td><td><code>Fix pickles</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6cb9d22e018af5672f54d2ba657ae354283098a8"><code>6cb9d22</code></a></td><td><code>Remove extraneous newlines in padic_ZZ_pX_FM_element.pyx</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/daf51fad532db893434c4f215fce5d049e5937f6"><code>daf51fa</code></a></td><td><code>Merge branch 'u/roed/change_precision' of git://trac.sagemath.org/sage into t/20310/change_precision</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8351aa992136b9228983755cdb1cda0e7dbd315f"><code>8351aa9</code></a></td><td><code>Fixing doctest errors from merge</code></td></tr></table>




---

archive/issue_comments_292650.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nI merged in the dependency #23331; all tests pass.",
    "created_at": "2017-07-19T07:34:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292650",
    "user": "https://github.com/roed314"
}
```

<div id="comment:44" align="right">comment:44</div>

I merged in the dependency #23331; all tests pass.



---

archive/issue_comments_292651.json:
```json
{
    "body": "Changed commit from **[`8351aa9`](https://github.com/sagemath/sagetrac-mirror/commit/8351aa992136b9228983755cdb1cda0e7dbd315f)** to **[`85019cc`](https://github.com/sagemath/sagetrac-mirror/commit/85019cc687930cd9be60d01e45eb08dd9ea91910)**",
    "created_at": "2017-07-19T21:59:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292651",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8351aa9`](https://github.com/sagemath/sagetrac-mirror/commit/8351aa992136b9228983755cdb1cda0e7dbd315f)** to **[`85019cc`](https://github.com/sagemath/sagetrac-mirror/commit/85019cc687930cd9be60d01e45eb08dd9ea91910)**



---

archive/issue_comments_292652.json:
```json
{
    "body": "<div id=\"comment:45\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4ac09ac4c36a1a9174dad8d5e31d86d197f8a19b\"><code>4ac09ac</code></a></td><td><code>Fix changing print mode to digits for eisenstein extensions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/85019cc687930cd9be60d01e45eb08dd9ea91910\"><code>85019cc</code></a></td><td><code>Fix errors due to moving digits code earlier in the change function</code></td></tr></table>\n",
    "created_at": "2017-07-19T21:59:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292652",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:45"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4ac09ac4c36a1a9174dad8d5e31d86d197f8a19b"><code>4ac09ac</code></a></td><td><code>Fix changing print mode to digits for eisenstein extensions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/85019cc687930cd9be60d01e45eb08dd9ea91910"><code>85019cc</code></a></td><td><code>Fix errors due to moving digits code earlier in the change function</code></td></tr></table>




---

archive/issue_comments_292653.json:
```json
{
    "body": "Changed commit from **[`85019cc`](https://github.com/sagemath/sagetrac-mirror/commit/85019cc687930cd9be60d01e45eb08dd9ea91910)** to **[`39043f1`](https://github.com/sagemath/sagetrac-mirror/commit/39043f13cc8d6d6eeda3a639b7a3566c27b5b834)**",
    "created_at": "2017-07-19T23:14:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292653",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`85019cc`](https://github.com/sagemath/sagetrac-mirror/commit/85019cc687930cd9be60d01e45eb08dd9ea91910)** to **[`39043f1`](https://github.com/sagemath/sagetrac-mirror/commit/39043f13cc8d6d6eeda3a639b7a3566c27b5b834)**



---

archive/issue_comments_292654.json:
```json
{
    "body": "<div id=\"comment:46\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7f966970ce066669c13ec27ef5d6c13eaf6441dd\"><code>7f96697</code></a></td><td><code>Fixed typo with variable assignment</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bbb7268c1692a0068a9d4bd5ae7624eadf321454\"><code>bbb7268</code></a></td><td><code>added doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ee461b61afa23c587307df64a64df219deb0b1c9\"><code>ee461b6</code></a></td><td><code>merge with develop</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8081eab7fac81a3cef7d40133937bc2ca01baa38\"><code>8081eab</code></a></td><td><code>added doctests after fixing conflicts</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/063b58cfb2a52bfb3bd4917e5a400a37ed03a0c2\"><code>063b58c</code></a></td><td><code>Merge branch 'develop' into t/20073/ticket/20073</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/48be601fe35d7d56ec6cbbb6d21bb6921230b7eb\"><code>48be601</code></a></td><td><code>Added documentation to verify that the extension has the right defining polynomial</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/921af5e95be38203770443d6d9f6e8c9f123d269\"><code>921af5e</code></a></td><td><code>Changing modulus and defining_polynomial to use an exact keyword</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/39043f13cc8d6d6eeda3a639b7a3566c27b5b834\"><code>39043f1</code></a></td><td><code>Merge branch 't/23331/allow_exact_defining_polynomials_for_p_adic_extensions' into t/20310/change_precision</code></td></tr></table>\n",
    "created_at": "2017-07-19T23:14:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292654",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:46"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7f966970ce066669c13ec27ef5d6c13eaf6441dd"><code>7f96697</code></a></td><td><code>Fixed typo with variable assignment</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bbb7268c1692a0068a9d4bd5ae7624eadf321454"><code>bbb7268</code></a></td><td><code>added doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ee461b61afa23c587307df64a64df219deb0b1c9"><code>ee461b6</code></a></td><td><code>merge with develop</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8081eab7fac81a3cef7d40133937bc2ca01baa38"><code>8081eab</code></a></td><td><code>added doctests after fixing conflicts</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/063b58cfb2a52bfb3bd4917e5a400a37ed03a0c2"><code>063b58c</code></a></td><td><code>Merge branch 'develop' into t/20073/ticket/20073</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/48be601fe35d7d56ec6cbbb6d21bb6921230b7eb"><code>48be601</code></a></td><td><code>Added documentation to verify that the extension has the right defining polynomial</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/921af5e95be38203770443d6d9f6e8c9f123d269"><code>921af5e</code></a></td><td><code>Changing modulus and defining_polynomial to use an exact keyword</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/39043f13cc8d6d6eeda3a639b7a3566c27b5b834"><code>39043f1</code></a></td><td><code>Merge branch 't/23331/allow_exact_defining_polynomials_for_p_adic_extensions' into t/20310/change_precision</code></td></tr></table>




---

archive/issue_comments_292655.json:
```json
{
    "body": "Changed branch from **[u/roed/change_precision](https://github.com/sagemath/sagetrac-mirror/tree/u/roed/change_precision)** to **[u/saraedum/change_precision](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/change_precision)**",
    "created_at": "2017-07-20T02:20:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292655",
    "user": "https://github.com/saraedum"
}
```

Changed branch from **[u/roed/change_precision](https://github.com/sagemath/sagetrac-mirror/tree/u/roed/change_precision)** to **[u/saraedum/change_precision](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/change_precision)**



---

archive/issue_comments_292656.json:
```json
{
    "body": "Changed commit from **[`39043f1`](https://github.com/sagemath/sagetrac-mirror/commit/39043f13cc8d6d6eeda3a639b7a3566c27b5b834)** to **[`7428353`](https://github.com/sagemath/sagetrac-mirror/commit/7428353cf0520558fb24b292e48be1358fa0d305)**",
    "created_at": "2017-07-20T02:22:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292656",
    "user": "https://github.com/saraedum"
}
```

Changed commit from **[`39043f1`](https://github.com/sagemath/sagetrac-mirror/commit/39043f13cc8d6d6eeda3a639b7a3566c27b5b834)** to **[`7428353`](https://github.com/sagemath/sagetrac-mirror/commit/7428353cf0520558fb24b292e48be1358fa0d305)**



---

archive/issue_comments_292657.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\npositive review once the patchbot is happy.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/77779eabdebc98cb503fe2e432a90745c8390aab\"><code>77779ea</code></a></td><td><code>minor docstring changes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6e2495f49c3d91300a3da14233346468f9a0e5ca\"><code>6e2495f</code></a></td><td><code>Merge branch 't/23331/allow_exact_defining_polynomials_for_p_adic_extensions' into t/20310/change_precision</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7428353cf0520558fb24b292e48be1358fa0d305\"><code>7428353</code></a></td><td><code>minor docstring fixes</code></td></tr></table>\n",
    "created_at": "2017-07-20T02:22:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292657",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:48" align="right">comment:48</div>

positive review once the patchbot is happy.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/77779eabdebc98cb503fe2e432a90745c8390aab"><code>77779ea</code></a></td><td><code>minor docstring changes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6e2495f49c3d91300a3da14233346468f9a0e5ca"><code>6e2495f</code></a></td><td><code>Merge branch 't/23331/allow_exact_defining_polynomials_for_p_adic_extensions' into t/20310/change_precision</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7428353cf0520558fb24b292e48be1358fa0d305"><code>7428353</code></a></td><td><code>minor docstring fixes</code></td></tr></table>




---

archive/issue_comments_292658.json:
```json
{
    "body": "Changed branch from **[u/saraedum/change_precision](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/change_precision)** to **[u/roed/change_precision](https://github.com/sagemath/sagetrac-mirror/tree/u/roed/change_precision)**",
    "created_at": "2017-07-20T16:51:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292658",
    "user": "https://github.com/roed314"
}
```

Changed branch from **[u/saraedum/change_precision](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/change_precision)** to **[u/roed/change_precision](https://github.com/sagemath/sagetrac-mirror/tree/u/roed/change_precision)**



---

archive/issue_comments_292659.json:
```json
{
    "body": "<div id=\"comment:50\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1754b445f154e165e2545af99a5882da8cdcb01e\"><code>1754b44</code></a></td><td><code>Fix exact=True errors in the right branch</code></td></tr></table>\n",
    "created_at": "2017-07-20T17:57:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292659",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:50"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1754b445f154e165e2545af99a5882da8cdcb01e"><code>1754b44</code></a></td><td><code>Fix exact=True errors in the right branch</code></td></tr></table>




---

archive/issue_comments_292660.json:
```json
{
    "body": "Changed commit from **[`7428353`](https://github.com/sagemath/sagetrac-mirror/commit/7428353cf0520558fb24b292e48be1358fa0d305)** to **[`1754b44`](https://github.com/sagemath/sagetrac-mirror/commit/1754b445f154e165e2545af99a5882da8cdcb01e)**",
    "created_at": "2017-07-20T17:57:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292660",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7428353`](https://github.com/sagemath/sagetrac-mirror/commit/7428353cf0520558fb24b292e48be1358fa0d305)** to **[`1754b44`](https://github.com/sagemath/sagetrac-mirror/commit/1754b445f154e165e2545af99a5882da8cdcb01e)**



---

archive/issue_events_284133.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2017-07-20T19:56:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20310#event-284133"
}
```



---

archive/issue_events_284134.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2017-07-20T19:56:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20310#event-284134"
}
```



---

archive/issue_events_284135.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2017-08-02T18:00:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20310#event-284135"
}
```



---

archive/issue_events_284136.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2017-08-02T18:00:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20310#event-284136"
}
```



---

archive/issue_comments_292661.json:
```json
{
    "body": "<div id=\"comment:52\"></div>\n\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6ba62dd02f9c85ee49ca06a68d99cf724c264b96\"><code>6ba62dd</code></a></td><td><code>Fix SEEALSO again</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e9c4c394066d9ce451b500a2ddf9572a488d006f\"><code>e9c4c39</code></a></td><td><code>Merge branch 'u/roed/allow_exact_defining_polynomials_for_p_adic_extensions' of git://trac.sagemath.org/sage into t/23331/allow_exact_defining_polynomials_for_p_adic_extensions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/561f5ac333b00f5e4a2ee70b82e2b5e4965876b3\"><code>561f5ac</code></a></td><td><code>Fix doctest errors</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3142701a2bd3b2e98601d521df2b1111cec1537d\"><code>3142701</code></a></td><td><code>Merge branch 'u/roed/change_precision' of git://trac.sagemath.org/sage into t/20310/change_precision</code></td></tr></table>\n",
    "created_at": "2017-08-02T18:00:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292661",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:52"></div>

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6ba62dd02f9c85ee49ca06a68d99cf724c264b96"><code>6ba62dd</code></a></td><td><code>Fix SEEALSO again</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e9c4c394066d9ce451b500a2ddf9572a488d006f"><code>e9c4c39</code></a></td><td><code>Merge branch 'u/roed/allow_exact_defining_polynomials_for_p_adic_extensions' of git://trac.sagemath.org/sage into t/23331/allow_exact_defining_polynomials_for_p_adic_extensions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/561f5ac333b00f5e4a2ee70b82e2b5e4965876b3"><code>561f5ac</code></a></td><td><code>Fix doctest errors</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3142701a2bd3b2e98601d521df2b1111cec1537d"><code>3142701</code></a></td><td><code>Merge branch 'u/roed/change_precision' of git://trac.sagemath.org/sage into t/20310/change_precision</code></td></tr></table>




---

archive/issue_comments_292662.json:
```json
{
    "body": "Changed commit from **[`1754b44`](https://github.com/sagemath/sagetrac-mirror/commit/1754b445f154e165e2545af99a5882da8cdcb01e)** to **[`3142701`](https://github.com/sagemath/sagetrac-mirror/commit/3142701a2bd3b2e98601d521df2b1111cec1537d)**",
    "created_at": "2017-08-02T18:00:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292662",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1754b44`](https://github.com/sagemath/sagetrac-mirror/commit/1754b445f154e165e2545af99a5882da8cdcb01e)** to **[`3142701`](https://github.com/sagemath/sagetrac-mirror/commit/3142701a2bd3b2e98601d521df2b1111cec1537d)**



---

archive/issue_events_284137.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2017-08-02T20:35:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20310#event-284137"
}
```



---

archive/issue_events_284138.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2017-08-02T20:35:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20310#event-284138"
}
```



---

archive/issue_comments_292663.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nI just merged in the updated #23331.",
    "created_at": "2017-08-02T20:35:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292663",
    "user": "https://github.com/roed314"
}
```

<div id="comment:53" align="right">comment:53</div>

I just merged in the updated #23331.



---

archive/issue_comments_292664.json:
```json
{
    "body": "Changed commit from **[`3142701`](https://github.com/sagemath/sagetrac-mirror/commit/3142701a2bd3b2e98601d521df2b1111cec1537d)** to **[`138d939`](https://github.com/sagemath/sagetrac-mirror/commit/138d939114acf0943561e05b194d677b63879bb2)**",
    "created_at": "2017-08-02T20:38:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292664",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3142701`](https://github.com/sagemath/sagetrac-mirror/commit/3142701a2bd3b2e98601d521df2b1111cec1537d)** to **[`138d939`](https://github.com/sagemath/sagetrac-mirror/commit/138d939114acf0943561e05b194d677b63879bb2)**



---

archive/issue_comments_292665.json:
```json
{
    "body": "<div id=\"comment:54\"></div>\n\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/138d939114acf0943561e05b194d677b63879bb2\"><code>138d939</code></a></td><td><code>Fix string representation doctest from #22103</code></td></tr></table>\n",
    "created_at": "2017-08-02T20:38:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292665",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:54"></div>

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/138d939114acf0943561e05b194d677b63879bb2"><code>138d939</code></a></td><td><code>Fix string representation doctest from #22103</code></td></tr></table>




---

archive/issue_events_284139.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2017-08-02T20:38:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20310#event-284139"
}
```



---

archive/issue_events_284140.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2017-08-02T20:38:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20310#event-284140"
}
```



---

archive/issue_events_284141.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2017-08-02T20:38:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20310#event-284141"
}
```



---

archive/issue_events_284142.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2017-08-02T20:38:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20310#event-284142"
}
```



---

archive/issue_comments_292666.json:
```json
{
    "body": "Diff against 23331",
    "created_at": "2017-08-03T02:01:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292666",
    "user": "https://github.com/roed314"
}
```

Diff against 23331



---

archive/issue_comments_292667.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nAttachment: **[20310_over_23331.diff.gz](https://github.com/sagemath/sage/files/ticket20310/20310_over_23331.diff.gz)**\n\nFor ease of reviewing, I've attached a diff against #23331.",
    "created_at": "2017-08-03T02:02:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292667",
    "user": "https://github.com/roed314"
}
```

<div id="comment:56" align="right">comment:56</div>

Attachment: **[20310_over_23331.diff.gz](https://github.com/sagemath/sage/files/ticket20310/20310_over_23331.diff.gz)**

For ease of reviewing, I've attached a diff against #23331.



---

archive/issue_comments_292668.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nPDF docs don't build",
    "created_at": "2017-08-05T15:11:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292668",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:57" align="right">comment:57</div>

PDF docs don't build



---

archive/issue_events_284143.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-08-05T15:11:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20310#event-284143"
}
```



---

archive/issue_events_284144.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-08-05T15:11:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20310#event-284144"
}
```



---

archive/issue_comments_292669.json:
```json
{
    "body": "<div id=\"comment:58\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b18929a1eab29a29b5c943a1d8b1b7d649f2dfb2\"><code>b18929a</code></a></td><td><code>Merge branch 'develop' into t/20310/change_precision</code></td></tr></table>\n",
    "created_at": "2017-08-05T18:15:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292669",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:58"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b18929a1eab29a29b5c943a1d8b1b7d649f2dfb2"><code>b18929a</code></a></td><td><code>Merge branch 'develop' into t/20310/change_precision</code></td></tr></table>




---

archive/issue_comments_292670.json:
```json
{
    "body": "Changed commit from **[`138d939`](https://github.com/sagemath/sagetrac-mirror/commit/138d939114acf0943561e05b194d677b63879bb2)** to **[`b18929a`](https://github.com/sagemath/sagetrac-mirror/commit/b18929a1eab29a29b5c943a1d8b1b7d649f2dfb2)**",
    "created_at": "2017-08-05T18:15:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292670",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`138d939`](https://github.com/sagemath/sagetrac-mirror/commit/138d939114acf0943561e05b194d677b63879bb2)** to **[`b18929a`](https://github.com/sagemath/sagetrac-mirror/commit/b18929a1eab29a29b5c943a1d8b1b7d649f2dfb2)**



---

archive/issue_comments_292671.json:
```json
{
    "body": "<div id=\"comment:59\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/86b58de413e57a646288c2d0ac38db75e6d04430\"><code>86b58de</code></a></td><td><code>Fix latex error</code></td></tr></table>\n",
    "created_at": "2017-08-06T05:55:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292671",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:59"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/86b58de413e57a646288c2d0ac38db75e6d04430"><code>86b58de</code></a></td><td><code>Fix latex error</code></td></tr></table>




---

archive/issue_comments_292672.json:
```json
{
    "body": "Changed commit from **[`b18929a`](https://github.com/sagemath/sagetrac-mirror/commit/b18929a1eab29a29b5c943a1d8b1b7d649f2dfb2)** to **[`86b58de`](https://github.com/sagemath/sagetrac-mirror/commit/86b58de413e57a646288c2d0ac38db75e6d04430)**",
    "created_at": "2017-08-06T05:55:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292672",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b18929a`](https://github.com/sagemath/sagetrac-mirror/commit/b18929a1eab29a29b5c943a1d8b1b7d649f2dfb2)** to **[`86b58de`](https://github.com/sagemath/sagetrac-mirror/commit/86b58de413e57a646288c2d0ac38db75e6d04430)**



---

archive/issue_comments_292673.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">comment:60</div>\n\nAlright, `make` succeeds at building the docs now.",
    "created_at": "2017-08-08T17:00:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292673",
    "user": "https://github.com/roed314"
}
```

<div id="comment:60" align="right">comment:60</div>

Alright, `make` succeeds at building the docs now.



---

archive/issue_events_284145.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2017-08-08T17:00:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20310#event-284145"
}
```



---

archive/issue_events_284146.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2017-08-08T17:00:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20310#event-284146"
}
```



---

archive/issue_comments_292674.json:
```json
{
    "body": "<div id=\"comment:61\" align=\"right\">comment:61</div>\n\ndaucher still reports a failing docbuild. I guess that's because I told it not to clean the docs when rebuilding.",
    "created_at": "2017-08-08T17:17:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292674",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:61" align="right">comment:61</div>

daucher still reports a failing docbuild. I guess that's because I told it not to clean the docs when rebuilding.



---

archive/issue_events_284147.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-08-08T17:17:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20310#event-284147"
}
```



---

archive/issue_events_284148.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-08-08T17:17:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20310#event-284148"
}
```



---

archive/issue_comments_292675.json:
```json
{
    "body": "Changed branch from **[u/roed/change_precision](https://github.com/sagemath/sagetrac-mirror/tree/u/roed/change_precision)** to **[`86b58de`](https://github.com/sagemath/sagetrac-mirror/commit/86b58de413e57a646288c2d0ac38db75e6d04430)**",
    "created_at": "2017-08-11T18:18:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20310#issuecomment-292675",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/roed/change_precision](https://github.com/sagemath/sagetrac-mirror/tree/u/roed/change_precision)** to **[`86b58de`](https://github.com/sagemath/sagetrac-mirror/commit/86b58de413e57a646288c2d0ac38db75e6d04430)**



---

archive/issue_events_284149.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-08-11T18:18:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20310#event-284149"
}
```



---

archive/issue_events_284150.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "886ed8d1104b1362bd6df7e8c59d54303b7ea02a",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2017-08-11T18:18:12Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/20310",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20310#event-284150"
}
```
