# Issue 20669: LatticePoset: add function to get all sublattices

archive/issues_020432.json:
```json
{
    "assignees": [],
    "body": "This patch will add a function that gives all sublattices of a lattice.\n\n\nCC:  @tscrim\n\nKeywords: **lattice poset, days78**\n\nBranch: **[`1bb87bd`](https://github.com/sagemath/sagetrac-mirror/commit/1bb87bd775eece24a586b9ccedb7dfd6ca0b5488)**\n\nReviewer: **Travis Scrimshaw**\n\nAuthor: **Jori M\u00e4ntysalo**\n\nComponent: **combinatorics**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/20669_\n\n",
    "closed_at": "2016-07-02T12:07:28Z",
    "created_at": "2016-05-24T08:47:51Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "LatticePoset: add function to get all sublattices",
    "type": "issue",
    "updated_at": "2016-07-02T14:56:37Z",
    "url": "https://github.com/sagemath/sage/issues/20669",
    "user": "https://github.com/jm58660"
}
```
This patch will add a function that gives all sublattices of a lattice.


CC:  @tscrim

Keywords: **lattice poset, days78**

Branch: **[`1bb87bd`](https://github.com/sagemath/sagetrac-mirror/commit/1bb87bd775eece24a586b9ccedb7dfd6ca0b5488)**

Reviewer: **Travis Scrimshaw**

Author: **Jori MÃ¤ntysalo**

Component: **combinatorics**

_Issue created by migration from https://trac.sagemath.org/ticket/20669_





---

archive/issue_events_290991.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-05-24T08:47:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20669",
    "milestone_number": null,
    "milestone_title": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20669#event-290991"
}
```



---

archive/issue_events_290992.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-05-24T08:47:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20669",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "c: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20669#event-290992"
}
```



---

archive/issue_events_290993.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-05-24T08:47:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20669",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20669#event-290993"
}
```



---

archive/issue_events_290994.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-05-24T08:47:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20669",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20669#event-290994"
}
```



---

archive/issue_comments_298844.json:
```json
{
    "body": "Branch: **[u/jmantysalo/all_sublattices](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/all_sublattices)**",
    "created_at": "2016-05-24T08:51:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20669",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20669#issuecomment-298844",
    "user": "https://github.com/jm58660"
}
```

Branch: **[u/jmantysalo/all_sublattices](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/all_sublattices)**



---

archive/issue_events_290995.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-05-24T08:52:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20669",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20669#event-290995"
}
```



---

archive/issue_comments_298845.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nTravis selected as a random victim for review.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1bb87bd775eece24a586b9ccedb7dfd6ca0b5488\"><code>1bb87bd</code></a></td><td><code>Add sublattices().</code></td></tr></table>\n",
    "created_at": "2016-05-24T08:52:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20669",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20669#issuecomment-298845",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:2" align="right">comment:2</div>

Travis selected as a random victim for review.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1bb87bd775eece24a586b9ccedb7dfd6ca0b5488"><code>1bb87bd</code></a></td><td><code>Add sublattices().</code></td></tr></table>




---

archive/issue_comments_298846.json:
```json
{
    "body": "Commit: **[`1bb87bd`](https://github.com/sagemath/sagetrac-mirror/commit/1bb87bd775eece24a586b9ccedb7dfd6ca0b5488)**",
    "created_at": "2016-05-24T08:52:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20669",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20669#issuecomment-298846",
    "user": "https://github.com/jm58660"
}
```

Commit: **[`1bb87bd`](https://github.com/sagemath/sagetrac-mirror/commit/1bb87bd775eece24a586b9ccedb7dfd6ca0b5488)**



---

archive/issue_comments_298847.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2016-05-24T13:12:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20669",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20669#issuecomment-298847",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_events_290996.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-05-24T13:12:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20669",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20669#event-290996"
}
```



---

archive/issue_events_290997.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-05-24T13:12:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20669",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20669#event-290997"
}
```



---

archive/issue_comments_298848.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nI think you should use a backtracking algorithm instead of a recursion. It will be faster (and you don't have to constantly get things like `self.cardinality()`), never run up against the Python maximum recursion limit, and have better input (which `set()` and `0` should be defaults anyways).",
    "created_at": "2016-05-24T13:12:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20669",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20669#issuecomment-298848",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:3" align="right">comment:3</div>

I think you should use a backtracking algorithm instead of a recursion. It will be faster (and you don't have to constantly get things like `self.cardinality()`), never run up against the Python maximum recursion limit, and have better input (which `set()` and `0` should be defaults anyways).



---

archive/issue_comments_298849.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nReplying to [@tscrim](#comment:3):\n> I think you should use a backtracking algorithm instead of a recursion. It will be faster (and you don't have to constantly get things like `self.cardinality()`), never run up against the Python maximum recursion limit, and have better input (which `set()` and `0` should be defaults anyways).\n\nMaximun recursion limit is 999 by default, and that is too small only if we have a `ChainPoset(n)` with `n > 999`; recursion stack will have at most as many steps as the lattice has elements. And it will have `2^999` sublattices anyway, so this is not valid argument.\n\nFor example after `B4 = Posets.BooleanLattice(4)` it takes 0,02 seconds to count 732 sublattices with `len(list(B4._hasse_diagram.sublattices_iterator(set(), 0)))`, whereas it took 1,13 seconds with `len(B4.sublattices())`. So if one wants to optimize lattices, then bottleneck is usually not in `hasse_diagram.py` but in `lattices.py`.\n\nOf course I can change this to use backtracking, but... Then why not move this to static sparce graphs class, if we really want as fast code as possible?",
    "created_at": "2016-05-24T13:40:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20669",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20669#issuecomment-298849",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:4" align="right">comment:4</div>

Replying to [@tscrim](#comment:3):
> I think you should use a backtracking algorithm instead of a recursion. It will be faster (and you don't have to constantly get things like `self.cardinality()`), never run up against the Python maximum recursion limit, and have better input (which `set()` and `0` should be defaults anyways).

Maximun recursion limit is 999 by default, and that is too small only if we have a `ChainPoset(n)` with `n > 999`; recursion stack will have at most as many steps as the lattice has elements. And it will have `2^999` sublattices anyway, so this is not valid argument.

For example after `B4 = Posets.BooleanLattice(4)` it takes 0,02 seconds to count 732 sublattices with `len(list(B4._hasse_diagram.sublattices_iterator(set(), 0)))`, whereas it took 1,13 seconds with `len(B4.sublattices())`. So if one wants to optimize lattices, then bottleneck is usually not in `hasse_diagram.py` but in `lattices.py`.

Of course I can change this to use backtracking, but... Then why not move this to static sparce graphs class, if we really want as fast code as possible?



---

archive/issue_comments_298850.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nReplying to [@jm58660](#comment:4):\n> Replying to [@tscrim](#comment:3):\n> > I think you should use a backtracking algorithm instead of a recursion. It will be faster (and you don't have to constantly get things like `self.cardinality()`), never run up against the Python maximum recursion limit, and have better input (which `set()` and `0` should be defaults anyways).\n\n> \n> Maximun recursion limit is 999 by default, and that is too small only if we have a `ChainPoset(n)` with `n > 999`; recursion stack will have at most as many steps as the lattice has elements. And it will have `2^999` sublattices anyway, so this is not valid argument.\n\nPeople could want to do some partial tests on some really big example of a lattice or wanted to run a month-long-type computation on a big lattice (of which, there are a number of examples of finite exceptional cases that I come across in my research where the easiest way to prove things can be to do long computations). \n\n> For example after `B4 = Posets.BooleanLattice(4)` it takes 0,02 seconds to count 732 sublattices with `len(list(B4._hasse_diagram.sublattices_iterator(set(), 0)))`, whereas it took 1,13 seconds with `len(B4.sublattices())`. So if one wants to optimize lattices, then bottleneck is usually not in `hasse_diagram.py` but in `lattices.py`.\n\nI don't disagree with this, but you should not be creating the lattice by using the `LatticePoset` but directly creating the necessary data and passing it to `FiniteLatticePoset`. This avoids the extra overhead and checks that is in the `Poset` code.\n\n> Of course I can change this to use backtracking, but... Then why not move this to static sparce graphs class, if we really want as fast code as possible?\n\nI have no inherent objects to this, but does the static sparse digraph code have the capacity to do the meet and joins?",
    "created_at": "2016-05-24T13:58:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20669",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20669#issuecomment-298850",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:5" align="right">comment:5</div>

Replying to [@jm58660](#comment:4):
> Replying to [@tscrim](#comment:3):
> > I think you should use a backtracking algorithm instead of a recursion. It will be faster (and you don't have to constantly get things like `self.cardinality()`), never run up against the Python maximum recursion limit, and have better input (which `set()` and `0` should be defaults anyways).

> 
> Maximun recursion limit is 999 by default, and that is too small only if we have a `ChainPoset(n)` with `n > 999`; recursion stack will have at most as many steps as the lattice has elements. And it will have `2^999` sublattices anyway, so this is not valid argument.

People could want to do some partial tests on some really big example of a lattice or wanted to run a month-long-type computation on a big lattice (of which, there are a number of examples of finite exceptional cases that I come across in my research where the easiest way to prove things can be to do long computations). 

> For example after `B4 = Posets.BooleanLattice(4)` it takes 0,02 seconds to count 732 sublattices with `len(list(B4._hasse_diagram.sublattices_iterator(set(), 0)))`, whereas it took 1,13 seconds with `len(B4.sublattices())`. So if one wants to optimize lattices, then bottleneck is usually not in `hasse_diagram.py` but in `lattices.py`.

I don't disagree with this, but you should not be creating the lattice by using the `LatticePoset` but directly creating the necessary data and passing it to `FiniteLatticePoset`. This avoids the extra overhead and checks that is in the `Poset` code.

> Of course I can change this to use backtracking, but... Then why not move this to static sparce graphs class, if we really want as fast code as possible?

I have no inherent objects to this, but does the static sparse digraph code have the capacity to do the meet and joins?



---

archive/issue_comments_298851.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nReplying to [@tscrim](#comment:5):\n> Replying to [@jm58660](#comment:4):\n> > Replying to [@tscrim](#comment:3):\n> > > I think you should use a backtracking algorithm instead of a recursion. It will be faster (and you don't have to constantly get things like `self.cardinality()`), never run up against the Python maximum recursion limit, and have better input (which `set()` and `0` should be defaults anyways).\n\n> > \n> > Maximun recursion limit is 999 by default, and that is too small only if we have a `ChainPoset(n)` with `n > 999`; recursion stack will have at most as many steps as the lattice has elements. And it will have `2^999` sublattices anyway, so this is not valid argument.\n\n> People could want to do some partial tests on some really big example of a lattice or wanted to run a month-long-type computation on a big lattice (of which, there are a number of examples of finite exceptional cases that I come across in my research where the easiest way to prove things can be to do long computations). \n\nWell, now it took only 20 seconds to make `ChainPoset(1000)`. So yes, it is theoretically possible to run this kind of computations. But then, recursion limit can be changed.\n\n> > Of course I can change this to use backtracking, but... Then why not move this to static sparce graphs class, if we really want as fast code as possible?\n\n> \n> I have no inherent objects to this, but does the static sparse digraph code have the capacity to do the meet and joins?\n\nNo, but that could be added. Or actually copied from current file. For Frattini sublattices that would actually make sense.\n\n---\n\nBasic questions about all reviews: 1) Is Sage better with this or without? 2) If with, is there some *easy* steps to make it still better?",
    "created_at": "2016-05-24T14:41:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20669",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20669#issuecomment-298851",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:6" align="right">comment:6</div>

Replying to [@tscrim](#comment:5):
> Replying to [@jm58660](#comment:4):
> > Replying to [@tscrim](#comment:3):
> > > I think you should use a backtracking algorithm instead of a recursion. It will be faster (and you don't have to constantly get things like `self.cardinality()`), never run up against the Python maximum recursion limit, and have better input (which `set()` and `0` should be defaults anyways).

> > 
> > Maximun recursion limit is 999 by default, and that is too small only if we have a `ChainPoset(n)` with `n > 999`; recursion stack will have at most as many steps as the lattice has elements. And it will have `2^999` sublattices anyway, so this is not valid argument.

> People could want to do some partial tests on some really big example of a lattice or wanted to run a month-long-type computation on a big lattice (of which, there are a number of examples of finite exceptional cases that I come across in my research where the easiest way to prove things can be to do long computations). 

Well, now it took only 20 seconds to make `ChainPoset(1000)`. So yes, it is theoretically possible to run this kind of computations. But then, recursion limit can be changed.

> > Of course I can change this to use backtracking, but... Then why not move this to static sparce graphs class, if we really want as fast code as possible?

> 
> I have no inherent objects to this, but does the static sparse digraph code have the capacity to do the meet and joins?

No, but that could be added. Or actually copied from current file. For Frattini sublattices that would actually make sense.

---

Basic questions about all reviews: 1) Is Sage better with this or without? 2) If with, is there some *easy* steps to make it still better?



---

archive/issue_comments_298852.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@jm58660](#comment:6):\n> Replying to [@tscrim](#comment:5):\n> > Replying to [@jm58660](#comment:4):\n> > > Of course I can change this to use backtracking, but... Then why not move this to static sparce graphs class, if we really want as fast code as possible?\n\n> > \n> > I have no inherent objects to this, but does the static sparse digraph code have the capacity to do the meet and joins?\n\n> \n> No, but that could be added. Or actually copied from current file. For Frattini sublattices that would actually make sense.\n\nHowever, meet and join doesn't quite make sense to have it there mathematically AFAIK. Although by cythonizing `hasse_diagram.py`, we should get most of possible speed without doing really much in the way of changes.\n\n> Basic questions about all reviews: 1) Is Sage better with this or without? 2) If with, is there some *easy* steps to make it still better?\n\nI am going to treat this as you telling me *your* process for reviewing. Otherwise I would take that a very insulting comment to me which you are telling me how to do *my* review.",
    "created_at": "2016-05-24T20:03:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20669",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20669#issuecomment-298852",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@jm58660](#comment:6):
> Replying to [@tscrim](#comment:5):
> > Replying to [@jm58660](#comment:4):
> > > Of course I can change this to use backtracking, but... Then why not move this to static sparce graphs class, if we really want as fast code as possible?

> > 
> > I have no inherent objects to this, but does the static sparse digraph code have the capacity to do the meet and joins?

> 
> No, but that could be added. Or actually copied from current file. For Frattini sublattices that would actually make sense.

However, meet and join doesn't quite make sense to have it there mathematically AFAIK. Although by cythonizing `hasse_diagram.py`, we should get most of possible speed without doing really much in the way of changes.

> Basic questions about all reviews: 1) Is Sage better with this or without? 2) If with, is there some *easy* steps to make it still better?

I am going to treat this as you telling me *your* process for reviewing. Otherwise I would take that a very insulting comment to me which you are telling me how to do *my* review.



---

archive/issue_comments_298853.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nReplying to [@tscrim](#comment:7):\n\n> > > I have no inherent objects to this, but does the static sparse digraph code have the capacity to do the meet and joins?\n\n> > No, but that could be added.\n\n> However, meet and join doesn't quite make sense to have it there mathematically AFAIK.  Although by cythonizing `hasse_diagram.py`, we should get most of possible speed without doing really much in the way of changes.\n\nTrue, but I think that there was obstackle for cythonizing. Something with inheritance, I think; I discussed about this with Nathann Cohen maybe a two years ago.\n\n\n> > Basic questions about all reviews: 1) Is Sage better with this or without? 2) If with, is there some *easy* steps to make it still better?\n\n> \n> I am going to treat this as you telling me *your* process for reviewing. Otherwise I would take that a very insulting comment to me which you are telling me how to do *my* review.\n\nSorry. I don't intend to insult. (But also I does not so much english words to make my expressions smoother.)\n\nI was just trying to say what developer guide says: \"Please refrain from additional feature requests or open-ended discussion about alternative implementations.\"",
    "created_at": "2016-05-25T05:13:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20669",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20669#issuecomment-298853",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:8" align="right">comment:8</div>

Replying to [@tscrim](#comment:7):

> > > I have no inherent objects to this, but does the static sparse digraph code have the capacity to do the meet and joins?

> > No, but that could be added.

> However, meet and join doesn't quite make sense to have it there mathematically AFAIK.  Although by cythonizing `hasse_diagram.py`, we should get most of possible speed without doing really much in the way of changes.

True, but I think that there was obstackle for cythonizing. Something with inheritance, I think; I discussed about this with Nathann Cohen maybe a two years ago.


> > Basic questions about all reviews: 1) Is Sage better with this or without? 2) If with, is there some *easy* steps to make it still better?

> 
> I am going to treat this as you telling me *your* process for reviewing. Otherwise I would take that a very insulting comment to me which you are telling me how to do *my* review.

Sorry. I don't intend to insult. (But also I does not so much english words to make my expressions smoother.)

I was just trying to say what developer guide says: "Please refrain from additional feature requests or open-ended discussion about alternative implementations."



---

archive/issue_comments_298854.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nReplying to [@jm58660](#comment:8):\n> Replying to [@tscrim](#comment:7):\n> > However, meet and join doesn't quite make sense to have it there mathematically AFAIK.  Although by cythonizing `hasse_diagram.py`, we should get most of possible speed without doing really much in the way of changes.\n\n> \n> True, but I think that there was obstackle for cythonizing. Something with inheritance, I think; I discussed about this with Nathann Cohen maybe a two years ago.\n\nI don't see anything that would prevent a cythonization; the `HasseDiagram` class only has single inheritance (and cython probably has improved since when you discussed this).\n\n> > > Basic questions about all reviews: 1) Is Sage better with this or without? 2) If with, is there some *easy* steps to make it still better?\n\n> > \n> > I am going to treat this as you telling me *your* process for reviewing. Otherwise I would take that a very insulting comment to me which you are telling me how to do *my* review.\n\n> \n> Sorry. I don't intend to insult. (But also I does not so much english words to make my expressions smoother.)\n\nI know you didn't, but it first seemed like you were trying to tell me how to review this. My reply was condescending, to which I apologize as well.\n\n> I was just trying to say what developer guide says: \"Please refrain from additional feature requests or open-ended discussion about alternative implementations.\"\n\nI don't think we are in an open-ended discussion because I am proposing a (single) concrete/explicit alternative implementation. While I am not strictly opposed to the current implementation, I think there is a relatively easy way to improve it. I might have some time to change the algorithm today, if you're okay with it (I'm on French time for this week and the next).",
    "created_at": "2016-05-25T06:32:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20669",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20669#issuecomment-298854",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:9" align="right">comment:9</div>

Replying to [@jm58660](#comment:8):
> Replying to [@tscrim](#comment:7):
> > However, meet and join doesn't quite make sense to have it there mathematically AFAIK.  Although by cythonizing `hasse_diagram.py`, we should get most of possible speed without doing really much in the way of changes.

> 
> True, but I think that there was obstackle for cythonizing. Something with inheritance, I think; I discussed about this with Nathann Cohen maybe a two years ago.

I don't see anything that would prevent a cythonization; the `HasseDiagram` class only has single inheritance (and cython probably has improved since when you discussed this).

> > > Basic questions about all reviews: 1) Is Sage better with this or without? 2) If with, is there some *easy* steps to make it still better?

> > 
> > I am going to treat this as you telling me *your* process for reviewing. Otherwise I would take that a very insulting comment to me which you are telling me how to do *my* review.

> 
> Sorry. I don't intend to insult. (But also I does not so much english words to make my expressions smoother.)

I know you didn't, but it first seemed like you were trying to tell me how to review this. My reply was condescending, to which I apologize as well.

> I was just trying to say what developer guide says: "Please refrain from additional feature requests or open-ended discussion about alternative implementations."

I don't think we are in an open-ended discussion because I am proposing a (single) concrete/explicit alternative implementation. While I am not strictly opposed to the current implementation, I think there is a relatively easy way to improve it. I might have some time to change the algorithm today, if you're okay with it (I'm on French time for this week and the next).



---

archive/issue_comments_298855.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@tscrim](#comment:9):\n\n>I might have some time to change the algorithm today, if you're okay with it (I'm on French time for this week and the next).\n\nOf course. I can review it then, and hopefully you can check docstrings I wrote.\n\nBtw, I plan to add `lattice_of_sublattices()`. Hence the function in `hasse_diagram.py` should return something like sets, tuples etc.",
    "created_at": "2016-05-25T06:36:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20669",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20669#issuecomment-298855",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@tscrim](#comment:9):

>I might have some time to change the algorithm today, if you're okay with it (I'm on French time for this week and the next).

Of course. I can review it then, and hopefully you can check docstrings I wrote.

Btw, I plan to add `lattice_of_sublattices()`. Hence the function in `hasse_diagram.py` should return something like sets, tuples etc.



---

archive/issue_comments_298856.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nJust pinging...",
    "created_at": "2016-06-04T09:24:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20669",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20669#issuecomment-298856",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:11" align="right">comment:11</div>

Just pinging...



---

archive/issue_comments_298857.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\n`ping`.",
    "created_at": "2016-07-01T20:21:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20669",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20669#issuecomment-298857",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:12" align="right">comment:12</div>

`ping`.



---

archive/issue_comments_298858.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nSo, I just haven't had time to do the algorithm change that I wanted. This works as claimed (although I was not able to completely prove its correctness). Thus this works as a first implementation, and so positive review (I can change it to a backtrak on a follow-up ticket if and when I have more time).\n\nPS - Sorry it took so long.",
    "created_at": "2016-07-02T00:05:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20669",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20669#issuecomment-298858",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:13" align="right">comment:13</div>

So, I just haven't had time to do the algorithm change that I wanted. This works as claimed (although I was not able to completely prove its correctness). Thus this works as a first implementation, and so positive review (I can change it to a backtrak on a follow-up ticket if and when I have more time).

PS - Sorry it took so long.



---

archive/issue_events_290998.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-07-02T00:05:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20669",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20669#event-290998"
}
```



---

archive/issue_events_290999.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-07-02T00:05:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20669",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20669#event-290999"
}
```



---

archive/issue_comments_298859.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nThanks Travis!\n\nHere is the followup: #20921.",
    "created_at": "2016-07-02T05:43:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20669",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20669#issuecomment-298859",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:14" align="right">comment:14</div>

Thanks Travis!

Here is the followup: #20921.



---

archive/issue_events_291000.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-07-02T12:07:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20669",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20669#event-291000"
}
```



---

archive/issue_events_291001.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "6378c7174a96bff4224b60350f7aa77d46b7a446",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-07-02T12:07:28Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/20669",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20669#event-291001"
}
```



---

archive/issue_comments_298860.json:
```json
{
    "body": "Changed branch from **[u/jmantysalo/all_sublattices](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/all_sublattices)** to **[`1bb87bd`](https://github.com/sagemath/sagetrac-mirror/commit/1bb87bd775eece24a586b9ccedb7dfd6ca0b5488)**",
    "created_at": "2016-07-02T12:07:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20669",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20669#issuecomment-298860",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jmantysalo/all_sublattices](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/all_sublattices)** to **[`1bb87bd`](https://github.com/sagemath/sagetrac-mirror/commit/1bb87bd775eece24a586b9ccedb7dfd6ca0b5488)**



---

archive/issue_comments_298861.json:
```json
{
    "body": "Changed commit from **[`1bb87bd`](https://github.com/sagemath/sagetrac-mirror/commit/1bb87bd775eece24a586b9ccedb7dfd6ca0b5488)** to none",
    "created_at": "2016-07-02T14:56:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20669",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20669#issuecomment-298861",
    "user": "https://github.com/tscrim"
}
```

Changed commit from **[`1bb87bd`](https://github.com/sagemath/sagetrac-mirror/commit/1bb87bd775eece24a586b9ccedb7dfd6ca0b5488)** to none



---

archive/issue_comments_298862.json:
```json
{
    "body": "Changed keywords from **latticeposet** to **lattice poset, days78**",
    "created_at": "2016-07-02T14:56:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20669",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20669#issuecomment-298862",
    "user": "https://github.com/tscrim"
}
```

Changed keywords from **latticeposet** to **lattice poset, days78**
