# Issue 20998: Removing deprecated cmp and __cmp__ in some pyx files

archive/issues_020761.json:
```json
{
    "assignees": [],
    "body": "When trying to compile sage with py3, the first failing point\nis currently caused by the use of \"cmp\" in some pyx files.\n\nThis tickets aims to make a few more pyx files compile correctly\nby removing cmp in them. This can be considered as en experiment,\nas this will have to be done on a larger scale later.\n\n\nCC:  @tscrim @jm58660 @jdemeyer @embray\n\nBranch/Commit: **[`e019d8c`](https://github.com/sagemath/sagetrac-mirror/commit/e019d8c9ba333d3e7c7a77edbee1167ecfb1ca3b)**\n\nReviewer: **Jeroen Demeyer**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton**\n\nComponent: **python3**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/20998_\n\n",
    "closed_at": "2016-08-07T20:01:18Z",
    "created_at": "2016-07-11T12:08:13Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20python3",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Removing deprecated cmp and __cmp__ in some pyx files",
    "type": "issue",
    "updated_at": "2016-08-07T20:01:18Z",
    "url": "https://github.com/sagemath/sage/issues/20998",
    "user": "https://github.com/fchapoton"
}
```
When trying to compile sage with py3, the first failing point
is currently caused by the use of "cmp" in some pyx files.

This tickets aims to make a few more pyx files compile correctly
by removing cmp in them. This can be considered as en experiment,
as this will have to be done on a larger scale later.


CC:  @tscrim @jm58660 @jdemeyer @embray

Branch/Commit: **[`e019d8c`](https://github.com/sagemath/sagetrac-mirror/commit/e019d8c9ba333d3e7c7a77edbee1167ecfb1ca3b)**

Reviewer: **Jeroen Demeyer**

Author: **Frédéric Chapoton**

Component: **python3**

_Issue created by migration from https://trac.sagemath.org/ticket/20998_





---

archive/issue_events_296728.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-07-11T12:08:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "milestone_number": null,
    "milestone_title": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20998#event-296728"
}
```



---

archive/issue_events_296729.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-07-11T12:08:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20python3",
    "label_color": "000080",
    "label_name": "c: python3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20998#event-296729"
}
```



---

archive/issue_events_296730.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-07-11T12:08:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20998#event-296730"
}
```



---

archive/issue_events_296731.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-07-11T12:08:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20998#event-296731"
}
```



---

archive/issue_comments_304947.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f4d65c76e96648ce0b1e0bd17122a3eec6bce18f\"><code>f4d65c7</code></a></td><td><code>some cmp converted to richcmp in pyx files</code></td></tr></table>\n",
    "created_at": "2016-07-11T12:09:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-304947",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:1"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f4d65c76e96648ce0b1e0bd17122a3eec6bce18f"><code>f4d65c7</code></a></td><td><code>some cmp converted to richcmp in pyx files</code></td></tr></table>




---

archive/issue_events_296732.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-07-11T12:09:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20998#event-296732"
}
```



---

archive/issue_comments_304948.json:
```json
{
    "body": "Branch: **[public/20998](https://github.com/sagemath/sagetrac-mirror/tree/public/20998)**",
    "created_at": "2016-07-11T12:09:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-304948",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[public/20998](https://github.com/sagemath/sagetrac-mirror/tree/public/20998)**



---

archive/issue_comments_304949.json:
```json
{
    "body": "Commit: **[`f4d65c7`](https://github.com/sagemath/sagetrac-mirror/commit/f4d65c76e96648ce0b1e0bd17122a3eec6bce18f)**",
    "created_at": "2016-07-11T12:09:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-304949",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[`f4d65c7`](https://github.com/sagemath/sagetrac-mirror/commit/f4d65c76e96648ce0b1e0bd17122a3eec6bce18f)**



---

archive/issue_events_296733.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2016-07-11T20:39:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20998#event-296733"
}
```



---

archive/issue_events_296734.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2016-07-11T20:39:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20998#event-296734"
}
```



---

archive/issue_comments_304950.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\n`_cmp_` (one underscore) and `__richcmp__` (two underscores) do not have the same semantic. In your code it seems that you assume that `self` and `other` have the same type and parent... which might not be the case.",
    "created_at": "2016-07-11T20:39:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-304950",
    "user": "https://github.com/videlec"
}
```

<div id="comment:3" align="right">comment:3</div>

`_cmp_` (one underscore) and `__richcmp__` (two underscores) do not have the same semantic. In your code it seems that you assume that `self` and `other` have the same type and parent... which might not be the case.



---

archive/issue_comments_304951.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nAnd instead of all this repeated noise you can use `rich_to_bool` from `sage/structure/sage_object.pxd`.",
    "created_at": "2016-07-11T20:43:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-304951",
    "user": "https://github.com/videlec"
}
```

<div id="comment:4" align="right">comment:4</div>

And instead of all this repeated noise you can use `rich_to_bool` from `sage/structure/sage_object.pxd`.



---

archive/issue_comments_304952.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nThis is wrong:\n\n```\ndef __richcmp__(FreeAlgebraElement_letterplace self, other, int op):\n```\n\nYou should not assume that `self` is of type `FreeAlgebraElement_letterplace`, see also [comment:3].",
    "created_at": "2016-07-11T23:43:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-304952",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:5" align="right">comment:5</div>

This is wrong:

```
def __richcmp__(FreeAlgebraElement_letterplace self, other, int op):
```

You should not assume that `self` is of type `FreeAlgebraElement_letterplace`, see also [comment:3].



---

archive/issue_comments_304953.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nAnd this is not at all a blocking point with Python 3. There is nothing wrong with implementing `_cmp_`, the Sage coercion model should handle it just fine, even for rich comparisons.",
    "created_at": "2016-07-11T23:44:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-304953",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:6" align="right">comment:6</div>

And this is not at all a blocking point with Python 3. There is nothing wrong with implementing `_cmp_`, the Sage coercion model should handle it just fine, even for rich comparisons.



---

archive/issue_comments_304954.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-The first is the current blocking point in py3 compilation.\n+\n``````\n",
    "created_at": "2016-07-11T23:44:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-304954",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-The first is the current blocking point in py3 compilation.
+
``````




---

archive/issue_events_296735.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-07-11T23:44:29Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "title_is": "convert _cmp_ to __richcmp__ in some pyx files",
    "title_was": "convert a few cmp to richcmp in some pyx files",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20998#event-296735"
}
```



---

archive/issue_comments_304955.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nSorry, but the line with the command `cmp` in the file `src/sage/algebras/letterplace/free_algebra_element_letterplace.pyx`\nis really the place where the py3 compilation currently stops.\n\nMaybe the description should be restored ?",
    "created_at": "2016-07-12T06:20:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-304955",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:7" align="right">comment:7</div>

Sorry, but the line with the command `cmp` in the file `src/sage/algebras/letterplace/free_algebra_element_letterplace.pyx`
is really the place where the py3 compilation currently stops.

Maybe the description should be restored ?



---

archive/issue_comments_304956.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nReplying to [@videlec](#comment:4):\n> And instead of all this repeated noise you can use `rich_to_bool` from `sage/structure/sage_object.pxd`.\n\nI do not understand how I could use that and at the same time get rid of using `cmp`.",
    "created_at": "2016-07-12T07:38:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-304956",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:8" align="right">comment:8</div>

Replying to [@videlec](#comment:4):
> And instead of all this repeated noise you can use `rich_to_bool` from `sage/structure/sage_object.pxd`.

I do not understand how I could use that and at the same time get rid of using `cmp`.



---

archive/issue_comments_304957.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nFirst of all, the following are 4 different independent things:\n\n1. Getting rid of `cmp=` arguments to `sort()` for example.\n\n2. Getting rid of the `cmp()` function.\n\n3. Getting rid of `__cmp__` methods.\n\n4. Getting rid of `_cmp_` methods.\n\nThe last is not needed because `__richcmp__` will call `_cmp_` if needed.\n\nFor the first 3, I really prefer to consider them as different issues and fix them in the order listed above.",
    "created_at": "2016-07-12T08:35:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-304957",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:9" align="right">comment:9</div>

First of all, the following are 4 different independent things:

1. Getting rid of `cmp=` arguments to `sort()` for example.

2. Getting rid of the `cmp()` function.

3. Getting rid of `__cmp__` methods.

4. Getting rid of `_cmp_` methods.

The last is not needed because `__richcmp__` will call `_cmp_` if needed.

For the first 3, I really prefer to consider them as different issues and fix them in the order listed above.



---

archive/issue_comments_304958.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@fchapoton](#comment:7):\n> Maybe the description should be restored ?\n\nFeel free to add a clearer description than the original one.",
    "created_at": "2016-07-13T19:20:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-304958",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@fchapoton](#comment:7):
> Maybe the description should be restored ?

Feel free to add a clearer description than the original one.



---

archive/issue_comments_304959.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nsorry, but I am a bit perplexed here. My initial aim was to try to make more pyx files compile correctly. My idea was that one should get rid of using cmp(a, b).\n\nBut I feel I do not understand enough the cmp mechanisms to do so properly.\n\nDo you have useful concrete suggestions ? For example\n\n```\ngit grep -P -c \"cmp\\(type\" *.pyx\n```\nreturn something like 25 instances. What to do with them ?",
    "created_at": "2016-07-13T19:25:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-304959",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:11" align="right">comment:11</div>

sorry, but I am a bit perplexed here. My initial aim was to try to make more pyx files compile correctly. My idea was that one should get rid of using cmp(a, b).

But I feel I do not understand enough the cmp mechanisms to do so properly.

Do you have useful concrete suggestions ? For example

```
git grep -P -c "cmp\(type" *.pyx
```
return something like 25 instances. What to do with them ?



---

archive/issue_comments_304960.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@fchapoton](#comment:11):\n> Do you have useful concrete suggestions ? For example\n> \n> ```\n> git grep -P -c \"cmp\\(type\" *.pyx\n> ```\n> return something like 25 instances. What to do with them ?\n\nIt depends where you find those `cmp(typeA, typeB)`. If it's within a `def __cmp__` method, then that should be cleaned up anyway. If it's somewhere else, I guess the code should be refactored to not compare types (why would you do that anyway?).",
    "created_at": "2016-07-13T19:30:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-304960",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@fchapoton](#comment:11):
> Do you have useful concrete suggestions ? For example
> 
> ```
> git grep -P -c "cmp\(type" *.pyx
> ```
> return something like 25 instances. What to do with them ?

It depends where you find those `cmp(typeA, typeB)`. If it's within a `def __cmp__` method, then that should be cleaned up anyway. If it's somewhere else, I guess the code should be refactored to not compare types (why would you do that anyway?).



---

archive/issue_comments_304961.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@fchapoton](#comment:11):\n> My idea was that one should get rid of using cmp(a, b).\n\nA very good aim! But that's not what your patch is doing. Which makes me confused about the actual purpose of this ticket.",
    "created_at": "2016-07-13T19:32:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-304961",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@fchapoton](#comment:11):
> My idea was that one should get rid of using cmp(a, b).

A very good aim! But that's not what your patch is doing. Which makes me confused about the actual purpose of this ticket.



---

archive/issue_comments_304962.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nBy the way, we could consider keeping `cmp()`. Even if it doesn't exist in Python 3, we could still implement it in Sage.",
    "created_at": "2016-07-13T19:34:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-304962",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:14" align="right">comment:14</div>

By the way, we could consider keeping `cmp()`. Even if it doesn't exist in Python 3, we could still implement it in Sage.



---

archive/issue_comments_304963.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nI guess we need to discuss on sage-devel strategies to deal with comparisons. I guess this is the most difficult part of the Python 3 conversion.",
    "created_at": "2016-07-13T19:35:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-304963",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:15" align="right">comment:15</div>

I guess we need to discuss on sage-devel strategies to deal with comparisons. I guess this is the most difficult part of the Python 3 conversion.



---

archive/issue_comments_304964.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nIndeed, this seems to be tricky. Maybe unicode versus bytes will also be painful.",
    "created_at": "2016-07-13T19:37:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-304964",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:16" align="right">comment:16</div>

Indeed, this seems to be tricky. Maybe unicode versus bytes will also be painful.



---

archive/issue_comments_304965.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/20ebd435b8739f595ecbb9089f54c24bef3b0145\"><code>20ebd43</code></a></td><td><code>Merge branch 'public/20998' in 7.3.b9</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2f3c11ea91a8c078b3bd4d70d82460b7d4c952c8\"><code>2f3c11e</code></a></td><td><code>trac 20998 not assuming same type for other</code></td></tr></table>\n",
    "created_at": "2016-07-28T11:21:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-304965",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/20ebd435b8739f595ecbb9089f54c24bef3b0145"><code>20ebd43</code></a></td><td><code>Merge branch 'public/20998' in 7.3.b9</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2f3c11ea91a8c078b3bd4d70d82460b7d4c952c8"><code>2f3c11e</code></a></td><td><code>trac 20998 not assuming same type for other</code></td></tr></table>




---

archive/issue_comments_304966.json:
```json
{
    "body": "Changed commit from **[`f4d65c7`](https://github.com/sagemath/sagetrac-mirror/commit/f4d65c76e96648ce0b1e0bd17122a3eec6bce18f)** to **[`2f3c11e`](https://github.com/sagemath/sagetrac-mirror/commit/2f3c11ea91a8c078b3bd4d70d82460b7d4c952c8)**",
    "created_at": "2016-07-28T11:21:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-304966",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f4d65c7`](https://github.com/sagemath/sagetrac-mirror/commit/f4d65c76e96648ce0b1e0bd17122a3eec6bce18f)** to **[`2f3c11e`](https://github.com/sagemath/sagetrac-mirror/commit/2f3c11ea91a8c078b3bd4d70d82460b7d4c952c8)**



---

archive/issue_comments_304967.json:
```json
{
    "body": "Changed commit from **[`2f3c11e`](https://github.com/sagemath/sagetrac-mirror/commit/2f3c11ea91a8c078b3bd4d70d82460b7d4c952c8)** to **[`2f8a4d1`](https://github.com/sagemath/sagetrac-mirror/commit/2f8a4d1dffcd0bc30e742b71adc10221d54d2f30)**",
    "created_at": "2016-07-28T13:40:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-304967",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2f3c11e`](https://github.com/sagemath/sagetrac-mirror/commit/2f3c11ea91a8c078b3bd4d70d82460b7d4c952c8)** to **[`2f8a4d1`](https://github.com/sagemath/sagetrac-mirror/commit/2f8a4d1dffcd0bc30e742b71adc10221d54d2f30)**



---

archive/issue_comments_304968.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2f8a4d1dffcd0bc30e742b71adc10221d54d2f30\"><code>2f8a4d1</code></a></td><td><code>trac 20998 trying to simplify the logic by factorizing code</code></td></tr></table>\n",
    "created_at": "2016-07-28T13:40:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-304968",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2f8a4d1dffcd0bc30e742b71adc10221d54d2f30"><code>2f8a4d1</code></a></td><td><code>trac 20998 trying to simplify the logic by factorizing code</code></td></tr></table>




---

archive/issue_comments_304969.json:
```json
{
    "body": "<div id=\"comment:19\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f66236b3c60ee0afd79b1a38671b4daa65673946\"><code>f66236b</code></a></td><td><code>trac 20998 details</code></td></tr></table>\n",
    "created_at": "2016-07-28T13:53:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-304969",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:19"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f66236b3c60ee0afd79b1a38671b4daa65673946"><code>f66236b</code></a></td><td><code>trac 20998 details</code></td></tr></table>




---

archive/issue_comments_304970.json:
```json
{
    "body": "Changed commit from **[`2f8a4d1`](https://github.com/sagemath/sagetrac-mirror/commit/2f8a4d1dffcd0bc30e742b71adc10221d54d2f30)** to **[`f66236b`](https://github.com/sagemath/sagetrac-mirror/commit/f66236b3c60ee0afd79b1a38671b4daa65673946)**",
    "created_at": "2016-07-28T13:53:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-304970",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2f8a4d1`](https://github.com/sagemath/sagetrac-mirror/commit/2f8a4d1dffcd0bc30e742b71adc10221d54d2f30)** to **[`f66236b`](https://github.com/sagemath/sagetrac-mirror/commit/f66236b3c60ee0afd79b1a38671b4daa65673946)**



---

archive/issue_comments_304971.json:
```json
{
    "body": "Changed commit from **[`f66236b`](https://github.com/sagemath/sagetrac-mirror/commit/f66236b3c60ee0afd79b1a38671b4daa65673946)** to **[`750f698`](https://github.com/sagemath/sagetrac-mirror/commit/750f6989bdd90aefe29db49fef6a0043c4363865)**",
    "created_at": "2016-07-28T18:41:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-304971",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f66236b`](https://github.com/sagemath/sagetrac-mirror/commit/f66236b3c60ee0afd79b1a38671b4daa65673946)** to **[`750f698`](https://github.com/sagemath/sagetrac-mirror/commit/750f6989bdd90aefe29db49fef6a0043c4363865)**



---

archive/issue_comments_304972.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/750f6989bdd90aefe29db49fef6a0043c4363865\"><code>750f698</code></a></td><td><code>trac 20998 fixing the code</code></td></tr></table>\n",
    "created_at": "2016-07-28T18:41:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-304972",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/750f6989bdd90aefe29db49fef6a0043c4363865"><code>750f698</code></a></td><td><code>trac 20998 fixing the code</code></td></tr></table>




---

archive/issue_comments_304973.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nI am still waiting for a description of which problem this ticket is addressing.",
    "created_at": "2016-07-28T19:19:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-304973",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:21" align="right">comment:21</div>

I am still waiting for a description of which problem this ticket is addressing.



---

archive/issue_comments_304974.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,7 @@\n+When trying to compile sage with py3, the first failing point\n+is currently caused by the use of \"cmp\" in some pyx files.\n \n+This tickets aims to make a few more pyx files compile correctly\n+by removing cmp in them. This can be considered as en experiment,\n+as this will have to be done on a larger scale later.\n+\n``````\n",
    "created_at": "2016-07-28T19:25:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-304974",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,7 @@
+When trying to compile sage with py3, the first failing point
+is currently caused by the use of "cmp" in some pyx files.
 
+This tickets aims to make a few more pyx files compile correctly
+by removing cmp in them. This can be considered as en experiment,
+as this will have to be done on a larger scale later.
+
``````




---

archive/issue_events_296736.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-07-28T19:25:05Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "title_is": "removing deprecated builtin cmp in some pyx files",
    "title_was": "convert _cmp_ to __richcmp__ in some pyx files",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20998#event-296736"
}
```



---

archive/issue_comments_304975.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nHere is a tentative description. Note that I am now waiting for patchbot's results before setting to needs_review.",
    "created_at": "2016-07-28T19:25:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-304975",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:22" align="right">comment:22</div>

Here is a tentative description. Note that I am now waiting for patchbot's results before setting to needs_review.



---

archive/issue_events_296737.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-07-28T20:31:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20998#event-296737"
}
```



---

archive/issue_events_296738.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-07-28T20:31:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20998#event-296738"
}
```



---

archive/issue_comments_304976.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nplease tell me what you think..",
    "created_at": "2016-07-28T20:31:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-304976",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:23" align="right">comment:23</div>

please tell me what you think..



---

archive/issue_events_296739.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-07-29T07:39:12Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "title_is": "Removing deprecated cmp and __cmp__ in some pyx files",
    "title_was": "removing deprecated builtin cmp in some pyx files",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20998#event-296739"
}
```



---

archive/issue_events_296740.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-07-29T07:39:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20998#event-296740"
}
```



---

archive/issue_events_296741.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-07-29T07:39:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20998#event-296741"
}
```



---

archive/issue_comments_304977.json:
```json
{
    "body": "Reviewer: **Jeroen Demeyer**",
    "created_at": "2016-07-29T07:39:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-304977",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Jeroen Demeyer**



---

archive/issue_comments_304978.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\n1. **free_algebra_element_letterplace.pyx**, **semigroups_cython.pyx** and **map.pyx**:\n\n`__richcmp__` bypasses the coercion model which is usually not what you want for `Element` classes. The rule of thumb is that any comparison/arithmetic of Sage `Element`s should use the coercion model unless there is a reason not to. Maybe for `FormalCompositeMap`, there is not much point in using the coercion model. But `FreeAlgebraElement_letterplace` and `LeftZeroSemigroupElement` really are elements where coercion looks useful.\n\nThe `_cmp_` and `_richcmp_` methods come from the coercion model, so you are guaranteed equal parents, which likely implies that both arguments are instances of `FreeAlgebraElement_letterplace`, `LeftZeroSemigroupElement` or `FormalCompositeMap`. In that case, you can just drop the type comparison.\n\n2. The function **richcmp_shortcut**:\n\nThis should be removed and replaced by the standard Python function `PyObject_RichCompare`. For an example on how to use it, see `src/sage/structure/coerce.pyx`.",
    "created_at": "2016-07-29T07:39:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-304978",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:24" align="right">comment:24</div>

1. **free_algebra_element_letterplace.pyx**, **semigroups_cython.pyx** and **map.pyx**:

`__richcmp__` bypasses the coercion model which is usually not what you want for `Element` classes. The rule of thumb is that any comparison/arithmetic of Sage `Element`s should use the coercion model unless there is a reason not to. Maybe for `FormalCompositeMap`, there is not much point in using the coercion model. But `FreeAlgebraElement_letterplace` and `LeftZeroSemigroupElement` really are elements where coercion looks useful.

The `_cmp_` and `_richcmp_` methods come from the coercion model, so you are guaranteed equal parents, which likely implies that both arguments are instances of `FreeAlgebraElement_letterplace`, `LeftZeroSemigroupElement` or `FormalCompositeMap`. In that case, you can just drop the type comparison.

2. The function **richcmp_shortcut**:

This should be removed and replaced by the standard Python function `PyObject_RichCompare`. For an example on how to use it, see `src/sage/structure/coerce.pyx`.



---

archive/issue_comments_304979.json:
```json
{
    "body": "Changed commit from **[`750f698`](https://github.com/sagemath/sagetrac-mirror/commit/750f6989bdd90aefe29db49fef6a0043c4363865)** to **[`0e819d2`](https://github.com/sagemath/sagetrac-mirror/commit/0e819d2704eb9ff6a5287ae200fe65470cf9d011)**",
    "created_at": "2016-07-29T09:21:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-304979",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`750f698`](https://github.com/sagemath/sagetrac-mirror/commit/750f6989bdd90aefe29db49fef6a0043c4363865)** to **[`0e819d2`](https://github.com/sagemath/sagetrac-mirror/commit/0e819d2704eb9ff6a5287ae200fe65470cf9d011)**



---

archive/issue_comments_304980.json:
```json
{
    "body": "<div id=\"comment:25\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/139239691baa75964778b83ab9280ea1cba54f88\"><code>1392396</code></a></td><td><code>Merge branch 'public/20998' in 7.3.rc0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0e819d2704eb9ff6a5287ae200fe65470cf9d011\"><code>0e819d2</code></a></td><td><code>using an existing function for rich comparison</code></td></tr></table>\n",
    "created_at": "2016-07-29T09:21:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-304980",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:25"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/139239691baa75964778b83ab9280ea1cba54f88"><code>1392396</code></a></td><td><code>Merge branch 'public/20998' in 7.3.rc0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0e819d2704eb9ff6a5287ae200fe65470cf9d011"><code>0e819d2</code></a></td><td><code>using an existing function for rich comparison</code></td></tr></table>




---

archive/issue_comments_304981.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nThanks.\n\nI have tried to make changes for your point 2.\n\nI am not quite sure to understand your point 1. Do you suggest that in these 3 files I should replace double-underscored `__richcmp__` methods by single-underscored `_richcmp_` methods, and at the same time remove the check for type equality ?",
    "created_at": "2016-07-29T09:25:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-304981",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:26" align="right">comment:26</div>

Thanks.

I have tried to make changes for your point 2.

I am not quite sure to understand your point 1. Do you suggest that in these 3 files I should replace double-underscored `__richcmp__` methods by single-underscored `_richcmp_` methods, and at the same time remove the check for type equality ?



---

archive/issue_comments_304982.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@fchapoton](#comment:26):\n> Thanks.\n> \n> I have tried to make changes for your point 2.\n\nLooks good.\n\n> Do you suggest that in these 3 files I should replace double-underscored `__richcmp__` methods by single-underscored `_richcmp_` methods, and at the same time remove the check for type equality ?\n\nHard to tell in general because one really needs to understand what the various classes do and which kind of objects you would like to compare. For `FreeAlgebraElement_letterplace` and `LeftZeroSemigroupElement`, the answer to your question is probably \"YES\", for `FormalCompositeMap` it might be \"NO\".",
    "created_at": "2016-07-29T10:33:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-304982",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@fchapoton](#comment:26):
> Thanks.
> 
> I have tried to make changes for your point 2.

Looks good.

> Do you suggest that in these 3 files I should replace double-underscored `__richcmp__` methods by single-underscored `_richcmp_` methods, and at the same time remove the check for type equality ?

Hard to tell in general because one really needs to understand what the various classes do and which kind of objects you would like to compare. For `FreeAlgebraElement_letterplace` and `LeftZeroSemigroupElement`, the answer to your question is probably "YES", for `FormalCompositeMap` it might be "NO".



---

archive/issue_comments_304983.json:
```json
{
    "body": "Changed commit from **[`0e819d2`](https://github.com/sagemath/sagetrac-mirror/commit/0e819d2704eb9ff6a5287ae200fe65470cf9d011)** to **[`dd8c133`](https://github.com/sagemath/sagetrac-mirror/commit/dd8c133e043a24e1e03dc497f242aea087735ba9)**",
    "created_at": "2016-07-31T16:28:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-304983",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0e819d2`](https://github.com/sagemath/sagetrac-mirror/commit/0e819d2704eb9ff6a5287ae200fe65470cf9d011)** to **[`dd8c133`](https://github.com/sagemath/sagetrac-mirror/commit/dd8c133e043a24e1e03dc497f242aea087735ba9)**



---

archive/issue_comments_304984.json:
```json
{
    "body": "<div id=\"comment:28\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dd8c133e043a24e1e03dc497f242aea087735ba9\"><code>dd8c133</code></a></td><td><code>trac #20998 using richcmp in the coercion framework</code></td></tr></table>\n",
    "created_at": "2016-07-31T16:28:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-304984",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:28"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dd8c133e043a24e1e03dc497f242aea087735ba9"><code>dd8c133</code></a></td><td><code>trac #20998 using richcmp in the coercion framework</code></td></tr></table>




---

archive/issue_comments_304985.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nIt seems that using `_richcmp_` in `FreeAlgebraElement_letterplace` and `LeftZeroSemigroupElement` breaks many doctests.",
    "created_at": "2016-08-02T08:14:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-304985",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:29" align="right">comment:29</div>

It seems that using `_richcmp_` in `FreeAlgebraElement_letterplace` and `LeftZeroSemigroupElement` breaks many doctests.



---

archive/issue_comments_304986.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nMaybe this is the problem:\n\n```\n[sagelib-7.3.rc0] warning: sage/categories/examples/semigroups_cython.pyx:89:4: Overriding cdef method with def method.\n[sagelib-7.3.rc0] warning: sage/algebras/letterplace/free_algebra_element_letterplace.pyx:455:4: Overriding cdef method with def method.\n```",
    "created_at": "2016-08-02T11:24:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-304986",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:30" align="right">comment:30</div>

Maybe this is the problem:

```
[sagelib-7.3.rc0] warning: sage/categories/examples/semigroups_cython.pyx:89:4: Overriding cdef method with def method.
[sagelib-7.3.rc0] warning: sage/algebras/letterplace/free_algebra_element_letterplace.pyx:455:4: Overriding cdef method with def method.
```



---

archive/issue_comments_304987.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nand what would be the cure ?",
    "created_at": "2016-08-02T11:56:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-304987",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:31" align="right">comment:31</div>

and what would be the cure ?



---

archive/issue_comments_304988.json:
```json
{
    "body": "Changed commit from **[`dd8c133`](https://github.com/sagemath/sagetrac-mirror/commit/dd8c133e043a24e1e03dc497f242aea087735ba9)** to **[`8479374`](https://github.com/sagemath/sagetrac-mirror/commit/84793748dfca6d396d7dfe08ba71a440b05ad66f)**",
    "created_at": "2016-08-02T16:20:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-304988",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`dd8c133`](https://github.com/sagemath/sagetrac-mirror/commit/dd8c133e043a24e1e03dc497f242aea087735ba9)** to **[`8479374`](https://github.com/sagemath/sagetrac-mirror/commit/84793748dfca6d396d7dfe08ba71a440b05ad66f)**



---

archive/issue_comments_304989.json:
```json
{
    "body": "<div id=\"comment:32\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/84793748dfca6d396d7dfe08ba71a440b05ad66f\"><code>8479374</code></a></td><td><code>trac 20998 using cpdef for _richcmp_</code></td></tr></table>\n",
    "created_at": "2016-08-02T16:20:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-304989",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:32"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/84793748dfca6d396d7dfe08ba71a440b05ad66f"><code>8479374</code></a></td><td><code>trac 20998 using cpdef for _richcmp_</code></td></tr></table>




---

archive/issue_events_296742.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-08-02T18:40:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20998#event-296742"
}
```



---

archive/issue_events_296743.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-08-02T18:40:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20998#event-296743"
}
```



---

archive/issue_comments_304990.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nbot is green",
    "created_at": "2016-08-02T18:40:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-304990",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:33" align="right">comment:33</div>

bot is green



---

archive/issue_events_296744.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-08-03T06:14:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20998#event-296744"
}
```



---

archive/issue_events_296745.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-08-03T06:14:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20998#event-296745"
}
```



---

archive/issue_comments_304991.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nWhy did you remove\n\n```\n        if type(self) != type(other):\n            return NotImplemented\n```\nThat's very important to avoid segmentation faults. You should keep that and change `!=` to `is not`.",
    "created_at": "2016-08-03T06:14:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-304991",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:34" align="right">comment:34</div>

Why did you remove

```
        if type(self) != type(other):
            return NotImplemented
```
That's very important to avoid segmentation faults. You should keep that and change `!=` to `is not`.



---

archive/issue_comments_304992.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nReplying to [@jdemeyer](#comment:34):\n> Why did you remove\n> \n> ```\n>         if type(self) != type(other):\n>             return NotImplemented\n> ```\n> That's very important to avoid segmentation faults. You should keep that and change `!=` to `is not`.\n\nwhich file are you talking about, please ? only the map one ?",
    "created_at": "2016-08-03T06:17:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-304992",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:35" align="right">comment:35</div>

Replying to [@jdemeyer](#comment:34):
> Why did you remove
> 
> ```
>         if type(self) != type(other):
>             return NotImplemented
> ```
> That's very important to avoid segmentation faults. You should keep that and change `!=` to `is not`.

which file are you talking about, please ? only the map one ?



---

archive/issue_comments_304993.json:
```json
{
    "body": "Changed commit from **[`8479374`](https://github.com/sagemath/sagetrac-mirror/commit/84793748dfca6d396d7dfe08ba71a440b05ad66f)** to **[`f95b1b7`](https://github.com/sagemath/sagetrac-mirror/commit/f95b1b7dbfa43680391383338c60faaa6709f258)**",
    "created_at": "2016-08-03T08:12:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-304993",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8479374`](https://github.com/sagemath/sagetrac-mirror/commit/84793748dfca6d396d7dfe08ba71a440b05ad66f)** to **[`f95b1b7`](https://github.com/sagemath/sagetrac-mirror/commit/f95b1b7dbfa43680391383338c60faaa6709f258)**



---

archive/issue_comments_304994.json:
```json
{
    "body": "<div id=\"comment:36\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f95b1b7dbfa43680391383338c60faaa6709f258\"><code>f95b1b7</code></a></td><td><code>trac 20998 re-adding type checking</code></td></tr></table>\n",
    "created_at": "2016-08-03T08:12:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-304994",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:36"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f95b1b7dbfa43680391383338c60faaa6709f258"><code>f95b1b7</code></a></td><td><code>trac 20998 re-adding type checking</code></td></tr></table>




---

archive/issue_events_296746.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-08-03T08:13:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20998#event-296746"
}
```



---

archive/issue_events_296747.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-08-03T08:13:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20998#event-296747"
}
```



---

archive/issue_comments_304995.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nis this what you suggested ?",
    "created_at": "2016-08-03T08:13:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-304995",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:37" align="right">comment:37</div>

is this what you suggested ?



---

archive/issue_comments_304996.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nI think you should add a doctest where you compare a map to something silly, like `None` and the integer `2`.",
    "created_at": "2016-08-03T10:39:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-304996",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:38" align="right">comment:38</div>

I think you should add a doctest where you compare a map to something silly, like `None` and the integer `2`.



---

archive/issue_comments_304997.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nTo elaborate, in `map.pyx`, you are *not* using the coercion model. So we should add a test that something sensible happens when comparing a map with something else. If you use `_richcmp_` (single underscores), that's not an issue since the coercion model handles that.",
    "created_at": "2016-08-03T10:44:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-304997",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:39" align="right">comment:39</div>

To elaborate, in `map.pyx`, you are *not* using the coercion model. So we should add a test that something sensible happens when comparing a map with something else. If you use `_richcmp_` (single underscores), that's not an issue since the coercion model handles that.



---

archive/issue_comments_304998.json:
```json
{
    "body": "Changed commit from **[`f95b1b7`](https://github.com/sagemath/sagetrac-mirror/commit/f95b1b7dbfa43680391383338c60faaa6709f258)** to **[`e019d8c`](https://github.com/sagemath/sagetrac-mirror/commit/e019d8c9ba333d3e7c7a77edbee1167ecfb1ca3b)**",
    "created_at": "2016-08-03T12:42:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-304998",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f95b1b7`](https://github.com/sagemath/sagetrac-mirror/commit/f95b1b7dbfa43680391383338c60faaa6709f258)** to **[`e019d8c`](https://github.com/sagemath/sagetrac-mirror/commit/e019d8c9ba333d3e7c7a77edbee1167ecfb1ca3b)**



---

archive/issue_comments_304999.json:
```json
{
    "body": "<div id=\"comment:40\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e019d8c9ba333d3e7c7a77edbee1167ecfb1ca3b\"><code>e019d8c</code></a></td><td><code>trac #20998 adding doctests for comparison of map and something</code></td></tr></table>\n",
    "created_at": "2016-08-03T12:42:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-304999",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:40"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e019d8c9ba333d3e7c7a77edbee1167ecfb1ca3b"><code>e019d8c</code></a></td><td><code>trac #20998 adding doctests for comparison of map and something</code></td></tr></table>




---

archive/issue_comments_305000.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nI am not sure we really understand each other. Anyway. I have launched my patchbot on the latest branch. Let us wait for the results.",
    "created_at": "2016-08-03T12:48:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-305000",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:41" align="right">comment:41</div>

I am not sure we really understand each other. Anyway. I have launched my patchbot on the latest branch. Let us wait for the results.



---

archive/issue_comments_305001.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nI am misunderstanding you since I didn't notice that you changed `def __richcmp__` to `cpdef _richcmp_` in this commit:\n\n|                                                                                                                                                 |                                      |\n|-------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------|\n|[8479374](https://github.com/sagemath/sagetrac-mirror/commit/84793748dfca6d396d7dfe08ba71a440b05ad66f)|`trac 20998 using cpdef for _richcmp_`|\n\nI thought that you only changed `def _richcmp_` to `cpdef _richcmp_` which would have been the right thing to do.",
    "created_at": "2016-08-03T12:58:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-305001",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:42" align="right">comment:42</div>

I am misunderstanding you since I didn't notice that you changed `def __richcmp__` to `cpdef _richcmp_` in this commit:

|                                                                                                                                                 |                                      |
|-------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------|
|[8479374](https://github.com/sagemath/sagetrac-mirror/commit/84793748dfca6d396d7dfe08ba71a440b05ad66f)|`trac 20998 using cpdef for _richcmp_`|

I thought that you only changed `def _richcmp_` to `cpdef _richcmp_` which would have been the right thing to do.



---

archive/issue_comments_305002.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nok, bot is green. Is the current state of affairs ok for you ?",
    "created_at": "2016-08-03T18:36:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-305002",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:43" align="right">comment:43</div>

ok, bot is green. Is the current state of affairs ok for you ?



---

archive/issue_events_296748.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-08-04T07:31:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20998#event-296748"
}
```



---

archive/issue_events_296749.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-08-04T07:31:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20998#event-296749"
}
```



---

archive/issue_comments_305003.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nI am planning some changes to the implementation of comparisons (#21163). In order to avoid conflicts, it would be good to not make further changes to `__cmp__` in other tickets.",
    "created_at": "2016-08-04T08:00:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-305003",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:45" align="right">comment:45</div>

I am planning some changes to the implementation of comparisons (#21163). In order to avoid conflicts, it would be good to not make further changes to `__cmp__` in other tickets.



---

archive/issue_comments_305004.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nReplying to [@jdemeyer](#comment:45):\n> I am planning some changes to the implementation of comparisons (#21163). In order to avoid conflicts, it would be good to not make further changes to `__cmp__` in other tickets.\n\nok, message received",
    "created_at": "2016-08-04T08:01:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-305004",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:46" align="right">comment:46</div>

Replying to [@jdemeyer](#comment:45):
> I am planning some changes to the implementation of comparisons (#21163). In order to avoid conflicts, it would be good to not make further changes to `__cmp__` in other tickets.

ok, message received



---

archive/issue_comments_305005.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nI just realized that, for #21163 to work, I need to get rid of most `__cmp__` methods. So that is going to be some work...",
    "created_at": "2016-08-04T10:54:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-305005",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:47" align="right">comment:47</div>

I just realized that, for #21163 to work, I need to get rid of most `__cmp__` methods. So that is going to be some work...



---

archive/issue_comments_305006.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nReplying to [@jdemeyer](#comment:47):\n> I just realized that, for #21163 to work, I need to get rid of most `__cmp__` methods. So that is going to be some work...\n\nActually, never mind. I found a quick fix for #21163.",
    "created_at": "2016-08-04T11:35:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-305006",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:48" align="right">comment:48</div>

Replying to [@jdemeyer](#comment:47):
> I just realized that, for #21163 to work, I need to get rid of most `__cmp__` methods. So that is going to be some work...

Actually, never mind. I found a quick fix for #21163.



---

archive/issue_comments_305007.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\n#21163 turned out to be quite easy, so you can freely work on `__cmp__` tickets now. There are more than 300 instances of `def __cmp__`, so this is going to be some work...",
    "created_at": "2016-08-05T12:07:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-305007",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:49" align="right">comment:49</div>

#21163 turned out to be quite easy, so you can freely work on `__cmp__` tickets now. There are more than 300 instances of `def __cmp__`, so this is going to be some work...



---

archive/issue_comments_305008.json:
```json
{
    "body": "Changed branch from **[public/20998](https://github.com/sagemath/sagetrac-mirror/tree/public/20998)** to **[`e019d8c`](https://github.com/sagemath/sagetrac-mirror/commit/e019d8c9ba333d3e7c7a77edbee1167ecfb1ca3b)**",
    "created_at": "2016-08-07T20:01:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20998#issuecomment-305008",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/20998](https://github.com/sagemath/sagetrac-mirror/tree/public/20998)** to **[`e019d8c`](https://github.com/sagemath/sagetrac-mirror/commit/e019d8c9ba333d3e7c7a77edbee1167ecfb1ca3b)**



---

archive/issue_events_296750.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-08-07T20:01:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20998#event-296750"
}
```



---

archive/issue_events_296751.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "399320b562d570e681ae7a5b5b63093d89e6877d",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-08-07T20:01:18Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/20998",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20998#event-296751"
}
```
