# Issue 20844: Cup product for cochains

archive/issues_020844.json:
```json
{
    "body": "CC:  @jhpalmieri @tscrim\n\nIt would be nice to have the cup product available for arbitrary cochains, without involving `homology_vector_space_with_basis`. Of course its not well-defined on the level of cochains, but at least one could check that products are non-zero if there is torsion over ZZ etc.\n\nThere are potentially two places where to put it:\n\n* Method of `Chain.Element`, then chains would need to know about their cell (sub)complex. Right now they don't reference their cell complex as far as I can see. \n\n* Method `GenericCellComplex.cup_product(self, left_cochain, right_cochain)`. Then chains need to know their degree (dimension of cells). Right now they don't store their degree, although the documentation says that they must be of homogeneous degree.\n\nThoughts?\n\nIssue created by migration from https://trac.sagemath.org/ticket/21081\n\n",
    "created_at": "2016-07-24T10:39:48Z",
    "labels": [
        "component: algebraic topology"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.3",
    "title": "Cup product for cochains",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20844",
    "user": "https://github.com/vbraun"
}
```
CC:  @jhpalmieri @tscrim

It would be nice to have the cup product available for arbitrary cochains, without involving `homology_vector_space_with_basis`. Of course its not well-defined on the level of cochains, but at least one could check that products are non-zero if there is torsion over ZZ etc.

There are potentially two places where to put it:

* Method of `Chain.Element`, then chains would need to know about their cell (sub)complex. Right now they don't reference their cell complex as far as I can see. 

* Method `GenericCellComplex.cup_product(self, left_cochain, right_cochain)`. Then chains need to know their degree (dimension of cells). Right now they don't store their degree, although the documentation says that they must be of homogeneous degree.

Thoughts?

Issue created by migration from https://trac.sagemath.org/ticket/21081





---

archive/issue_comments_287808.json:
```json
{
    "body": "Using `Chain.Element` seems good to me. It doesn't look like the `Chains` class is used much, so I think we could add extra arguments to the `__init__` method specifying the degree and the associated cell complex.\n\n(The `Chains` class could use other improvements, too, like a map to the associated chain complex.)",
    "created_at": "2016-07-25T16:34:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20844#issuecomment-287808",
    "user": "https://github.com/jhpalmieri"
}
```

Using `Chain.Element` seems good to me. It doesn't look like the `Chains` class is used much, so I think we could add extra arguments to the `__init__` method specifying the degree and the associated cell complex.

(The `Chains` class could use other improvements, too, like a map to the associated chain complex.)



---

archive/issue_comments_287809.json:
```json
{
    "body": "What about splitting `Chains` and `Cochains` into separate parents? Of course its somehow the same thing but notation is different and people will probably be confused if there are `cochain.boundary()` and `chain.cup_product()` methods...",
    "created_at": "2016-07-26T21:43:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20844#issuecomment-287809",
    "user": "https://github.com/vbraun"
}
```

What about splitting `Chains` and `Cochains` into separate parents? Of course its somehow the same thing but notation is different and people will probably be confused if there are `cochain.boundary()` and `chain.cup_product()` methods...



---

archive/issue_comments_287810.json:
```json
{
    "body": "That sounds like a good idea.",
    "created_at": "2016-07-27T18:35:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20844#issuecomment-287810",
    "user": "https://github.com/jhpalmieri"
}
```

That sounds like a good idea.



---

archive/issue_comments_287811.json:
```json
{
    "body": "New commits:",
    "created_at": "2016-07-28T20:14:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20844#issuecomment-287811",
    "user": "https://github.com/vbraun"
}
```

New commits:



---

archive/issue_comments_287812.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-07-28T20:14:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20844#issuecomment-287812",
    "user": "https://github.com/vbraun"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_287813.json:
```json
{
    "body": "There is something wrong here (cochains should be chains in the OUTPUT):\n\n```\n+    def dual(self):\n+        \"\"\"\n+        Return the chains\n+\n+        OUTPUT:\n+\n+        The cochains of the same cells with the same base ring.\n```\n\nand also here (two blank lines is too much):\n\n```\n+        Integer. The dimension of the cells.\n+\n+        EXAMPLES::\n+\n+\n+            sage: X = simplicial_complexes.Simplex(2)\n```\n",
    "created_at": "2016-07-29T19:07:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20844#issuecomment-287813",
    "user": "https://github.com/fchapoton"
}
```

There is something wrong here (cochains should be chains in the OUTPUT):

```
+    def dual(self):
+        """
+        Return the chains
+
+        OUTPUT:
+
+        The cochains of the same cells with the same base ring.
```

and also here (two blank lines is too much):

```
+        Integer. The dimension of the cells.
+
+        EXAMPLES::
+
+
+            sage: X = simplicial_complexes.Simplex(2)
```




---

archive/issue_comments_287814.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-07-29T19:59:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20844#issuecomment-287814",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_287815.json:
```json
{
    "body": "I made some trivial changes: fixed a few typos (like `:class:`Cohains``), added `chains.py` to the reference manual, wrapped some long lines, and deleted some trailing whitespace. I'm happy with this, so positive review if my changes are okay.\n----\nNew commits:",
    "created_at": "2016-08-02T22:36:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20844#issuecomment-287815",
    "user": "https://github.com/jhpalmieri"
}
```

I made some trivial changes: fixed a few typos (like `:class:`Cohains``), added `chains.py` to the reference manual, wrapped some long lines, and deleted some trailing whitespace. I'm happy with this, so positive review if my changes are okay.
----
New commits:



---

archive/issue_comments_287816.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-08-03T16:30:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20844#issuecomment-287816",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_287817.json:
```json
{
    "body": "Thanks!",
    "created_at": "2016-08-03T16:30:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20844#issuecomment-287817",
    "user": "https://github.com/vbraun"
}
```

Thanks!



---

archive/issue_comments_287818.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-08-07T20:01:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20844#issuecomment-287818",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
