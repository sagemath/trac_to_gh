# Issue 17225: Remove the (deprecated) _boundary parameter

Issue created by migration from https://trac.sagemath.org/ticket/17462

Original creator: ncohen

Original creation time: 2014-12-08 07:24:34




---

Comment by ncohen created at 2014-12-08 07:25:37

Changing status from new to needs_review.


---

Comment by git created at 2014-12-08 07:26:06

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by ncohen created at 2014-12-08 17:18:48

Please do not add such a message on the ticket without explaining why. The developper's manual says that the deprecation should hold for at least a year, and this deprecation is from more than one year.

http://www.sagemath.org/doc/developer/coding_in_python.html#deprecation

Nathann


---

Comment by jdemeyer created at 2014-12-08 17:37:46

I think the "one year" rule should be interpreted since a stable Sage release, not just since the opening of the ticket. The idea is to give users a one year warning that whatever they are using is deprecated.

It's very unreasonable to expect users to read all trac tickets for deprecations.


---

Comment by ncohen created at 2014-12-08 17:44:54

Really Jeroen, I do not think that you are achieving anything besides being unpleasant. Coming on somebody else's ticket to discuss whether the date to take into account for deprecation is the day it was merged or the stable release that followed, really....

You take into account the 'first stable release' as the first date on which the deprecation appears, and you add a message here saying that 'no beta release' should be made that contains this branch. Stable on one hand, beta on the other, and all for nothing.

Anyway. Not even worth fighting for, it is just unpleasant and pointless.

Nathann


---

Comment by jdemeyer created at 2014-12-08 17:50:45

Replying to [comment:6 ncohen]:
> Coming on somebody else's ticket to discuss whether the date to take into account for deprecation is the day it was merged or the stable release that followed, really....
For this ticket, it was merged in the git repo 2015-06-06, which is only half a year ago.


---

Comment by ncohen created at 2014-12-08 18:06:53

Oh I see. The date is from when I wrote the commit....

Nathann


---

Comment by git created at 2015-05-06 09:46:19

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2015-08-03 09:26:17

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dcoudert created at 2015-08-04 13:40:22

Long tests ok for `graph.py`, `digraph.py` and `graph_plot.py`, but not for `generic_graph.py`.

```
sage -t --long src/sage/graphs/generic_graph.py
**********************************************************************
File "src/sage/graphs/generic_graph.py", line 1999, in sage.graphs.generic_graph.GenericGraph.get_embedding
Failed example:
    G.genus()
Exception raised:
    Traceback (most recent call last):
      File "/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.graphs.generic_graph.GenericGraph.get_embedding[1]>", line 1, in <module>
        G.genus()
      File "/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/graphs/generic_graph.py", line 4362, in genus
        raise ValueError("'circular' is expected to be a list")
    ValueError: 'circular' is expected to be a list
**********************************************************************
File "src/sage/graphs/generic_graph.py", line 2001, in sage.graphs.generic_graph.GenericGraph.get_embedding
Failed example:
    G.get_embedding()
Exception raised:
    Traceback (most recent call last):
      File "/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.graphs.generic_graph.GenericGraph.get_embedding[2]>", line 1, in <module>
        G.get_embedding()
      File "/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/graphs/generic_graph.py", line 2007, in get_embedding
        raise ValueError('%s has been modified and the embedding is no longer valid'%self)
    ValueError: Petersen graph has been modified and the embedding is no longer valid
**********************************************************************
File "src/sage/graphs/generic_graph.py", line 3823, in sage.graphs.generic_graph.GenericGraph.is_planar
Failed example:
    g.is_planar(on_embedding=emb)
Exception raised:
    Traceback (most recent call last):
      File "/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.graphs.generic_graph.GenericGraph.is_planar[26]>", line 1, in <module>
        g.is_planar(on_embedding=emb)
      File "/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/graphs/generic_graph.py", line 3834, in is_planar
        return (0 == self.genus(minimal=False,set_embedding=False,on_embedding=on_embedding))
      File "/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/graphs/generic_graph.py", line 4362, in genus
        raise ValueError("'circular' is expected to be a list")
    ValueError: 'circular' is expected to be a list
**********************************************************************
File "src/sage/graphs/generic_graph.py", line 4280, in sage.graphs.generic_graph.GenericGraph.genus
Failed example:
    g.genus() # tests for minimal genus by default
Exception raised:
    Traceback (most recent call last):
      File "/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.graphs.generic_graph.GenericGraph.genus[1]>", line 1, in <module>
        g.genus() # tests for minimal genus by default
      File "/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/graphs/generic_graph.py", line 4362, in genus
        raise ValueError("'circular' is expected to be a list")
    ValueError: 'circular' is expected to be a list
**********************************************************************
File "src/sage/graphs/generic_graph.py", line 4282, in sage.graphs.generic_graph.GenericGraph.genus
Failed example:
    g.genus(on_embedding=True, maximal=True) # on_embedding overrides minimal and maximal arguments
Exception raised:
    Traceback (most recent call last):
      File "/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.graphs.generic_graph.GenericGraph.genus[2]>", line 1, in <module>
        g.genus(on_embedding=True, maximal=True) # on_embedding overrides minimal and maximal arguments
      File "/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/graphs/generic_graph.py", line 4362, in genus
        raise ValueError("'circular' is expected to be a list")
    ValueError: 'circular' is expected to be a list
**********************************************************************
File "src/sage/graphs/generic_graph.py", line 4284, in sage.graphs.generic_graph.GenericGraph.genus
Failed example:
    g.genus(maximal=True) # setting maximal to True overrides default minimal=True
Exception raised:
    Traceback (most recent call last):
      File "/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.graphs.generic_graph.GenericGraph.genus[3]>", line 1, in <module>
        g.genus(maximal=True) # setting maximal to True overrides default minimal=True
      File "/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/graphs/generic_graph.py", line 4362, in genus
        raise ValueError("'circular' is expected to be a list")
    ValueError: 'circular' is expected to be a list
**********************************************************************
File "src/sage/graphs/generic_graph.py", line 4286, in sage.graphs.generic_graph.GenericGraph.genus
Failed example:
    g.genus(on_embedding=g.get_embedding()) # can also send a valid combinatorial embedding dict
Exception raised:
    Traceback (most recent call last):
      File "/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.graphs.generic_graph.GenericGraph.genus[4]>", line 1, in <module>
        g.genus(on_embedding=g.get_embedding()) # can also send a valid combinatorial embedding dict
      File "/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/graphs/generic_graph.py", line 2007, in get_embedding
        raise ValueError('%s has been modified and the embedding is no longer valid'%self)
    ValueError: Petersen graph has been modified and the embedding is no longer valid
**********************************************************************
File "src/sage/graphs/generic_graph.py", line 4288, in sage.graphs.generic_graph.GenericGraph.genus
Failed example:
    (graphs.CubeGraph(3)).genus()
Exception raised:
    Traceback (most recent call last):
      File "/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.graphs.generic_graph.GenericGraph.genus[5]>", line 1, in <module>
        (graphs.CubeGraph(Integer(3))).genus()
      File "/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/graphs/generic_graph.py", line 4362, in genus
        raise ValueError("'circular' is expected to be a list")
    ValueError: 'circular' is expected to be a list
**********************************************************************
File "src/sage/graphs/generic_graph.py", line 4291, in sage.graphs.generic_graph.GenericGraph.genus
Failed example:
    K23.genus()
Exception raised:
    Traceback (most recent call last):
      File "/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.graphs.generic_graph.GenericGraph.genus[7]>", line 1, in <module>
        K23.genus()
      File "/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/graphs/generic_graph.py", line 4362, in genus
        raise ValueError("'circular' is expected to be a list")
    ValueError: 'circular' is expected to be a list
**********************************************************************
File "src/sage/graphs/generic_graph.py", line 4294, in sage.graphs.generic_graph.GenericGraph.genus
Failed example:
    K33.genus()
Exception raised:
    Traceback (most recent call last):
      File "/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.graphs.generic_graph.GenericGraph.genus[9]>", line 1, in <module>
        K33.genus()
      File "/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/graphs/generic_graph.py", line 4362, in genus
        raise ValueError("'circular' is expected to be a list")
    ValueError: 'circular' is expected to be a list
**********************************************************************
File "src/sage/graphs/generic_graph.py", line 4321, in sage.graphs.generic_graph.GenericGraph.genus
Failed example:
    G.genus()
Expected:
    Traceback (most recent call last):
    ...
    NotImplementedError: Can't work with embeddings of non-simple graphs
Got:
    <BLANKLINE>
    Traceback (most recent call last):
      File "/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.graphs.generic_graph.GenericGraph.genus[17]>", line 1, in <module>
        G.genus()
      File "/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/graphs/generic_graph.py", line 4362, in genus
        raise ValueError("'circular' is expected to be a list")
    ValueError: 'circular' is expected to be a list
**********************************************************************
File "src/sage/graphs/generic_graph.py", line 4325, in sage.graphs.generic_graph.GenericGraph.genus
Failed example:
    G.to_simple().genus()
Exception raised:
    Traceback (most recent call last):
      File "/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.graphs.generic_graph.GenericGraph.genus[18]>", line 1, in <module>
        G.to_simple().genus()
      File "/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/graphs/generic_graph.py", line 4362, in genus
        raise ValueError("'circular' is expected to be a list")
    ValueError: 'circular' is expected to be a list
**********************************************************************
File "src/sage/graphs/generic_graph.py", line 4327, in sage.graphs.generic_graph.GenericGraph.genus
Failed example:
    G.genus(set_embedding=False)
Exception raised:
    Traceback (most recent call last):
      File "/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.graphs.generic_graph.GenericGraph.genus[19]>", line 1, in <module>
        G.genus(set_embedding=False)
      File "/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/graphs/generic_graph.py", line 4362, in genus
        raise ValueError("'circular' is expected to be a list")
    ValueError: 'circular' is expected to be a list
**********************************************************************
File "src/sage/graphs/generic_graph.py", line 4329, in sage.graphs.generic_graph.GenericGraph.genus
Failed example:
    G.genus(maximal=True, set_embedding=False)
Expected:
    Traceback (most recent call last):
    ...
    NotImplementedError: Can't compute the maximal genus of a graph with loops or multiple edges
Got:
    <BLANKLINE>
    Traceback (most recent call last):
      File "/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.graphs.generic_graph.GenericGraph.genus[20]>", line 1, in <module>
        G.genus(maximal=True, set_embedding=False)
      File "/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/graphs/generic_graph.py", line 4362, in genus
        raise ValueError("'circular' is expected to be a list")
    ValueError: 'circular' is expected to be a list
**********************************************************************
File "src/sage/graphs/generic_graph.py", line 4346, in sage.graphs.generic_graph.GenericGraph.genus
Failed example:
    G.genus()
Exception raised:
    Traceback (most recent call last):
      File "/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.graphs.generic_graph.GenericGraph.genus[25]>", line 1, in <module>
        G.genus()
      File "/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/graphs/generic_graph.py", line 4362, in genus
        raise ValueError("'circular' is expected to be a list")
    ValueError: 'circular' is expected to be a list
**********************************************************************
3 items had failures:
  12 of  27 in sage.graphs.generic_graph.GenericGraph.genus
   2 of   4 in sage.graphs.generic_graph.GenericGraph.get_embedding
   1 of  28 in sage.graphs.generic_graph.GenericGraph.is_planar
    [2690 tests, 15 failures, 63.86 s]
----------------------------------------------------------------------
sage -t --long src/sage/graphs/generic_graph.py  # 15 doctests failed
----------------------------------------------------------------------
Total time for all tests: 64.4 seconds
    cpu time: 45.2 seconds
    cumulative wall time: 63.9 seconds
```



---

Comment by git created at 2015-08-04 17:52:45

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by ncohen created at 2015-08-04 17:53:08

Sorry for that. The default value was clearly wrong, so I changed it `^^;`

Nathann


---

Comment by dcoudert created at 2015-08-04 22:21:12

Hello,

I did small modifications, but I'm not good for pushing commits and so all is in a new branch. Sorry for that.

I did only the following modifications:
- in both files `graph.py` and `digraph.py`, remove in the description of the class parameters

```
    -  ``boundary`` - a list of boundary vertices, if
       empty, digraph is considered as a 'graph without boundary'
```

- and remove `boundary=None` in

```
    def __init__(self, data=None, pos=None, loops=None, format=None,
                 boundary=None, weighted=None, implementation='c_graph',
                 data_structure="sparse", vertex_labels=True, name=None,
                 multiedges=None, convert_empty_dict_labels_to_None=None,
                 sparse=True, immutable=False):
```


- In file `generic_graph.py`, remove word `boundary` from the method description

```
    :meth:`~GenericGraph.clear` | Empty the graph of vertices and edges and removes name, boundary, associated objects, and position information.
```

- and in

```
    def clear(self):
        """
        Empties the graph of vertices and edges and removes name, boundary,
        associated objects, and position information.
```


If you agree, you can set the ticket to positive review.

David.
----
New commits:


---

Comment by ncohen created at 2015-08-05 06:55:34

`:-/`

Thank you very much. My branch was clearly careless `:-/`

Thanks.

Nathann


---

Comment by ncohen created at 2015-08-05 06:55:34

Changing status from needs_review to positive_review.


---

Comment by dcoudert created at 2015-08-05 07:26:16

should we set the milestone to 6.9 or is it too early ?


---

Comment by ncohen created at 2015-08-05 07:34:51

Nono it's fine. I don't see a stable version released before 5 days `:-P`


---

Comment by vbraun created at 2015-08-05 10:51:46

Resolution: fixed
