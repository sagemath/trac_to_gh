# Issue 12099: coercion and conversion for relativize

Issue created by migration from https://trac.sagemath.org/ticket/12271

Original creator: mstreng

Original creation time: 2012-01-06 11:08:09

Assignee: davidloeffler

Keywords: relativize conversion coercion number field

There is no coercion and conversion for fields constructed by relativize, even though the structure morphisms are present:

```
sage: L.<a> = NumberField(x^3+2)
sage: L_rel = L.relativize(1,'b')
sage: b = L_rel.gen()
sage: L(b)
# Falls back to the generic code from #11869, which fails with
# TypeError: No compatible natural embeddings found for Number Field in a with defining polynomial x^3 + 2 and Number Field in b0 with defining polynomial x^3 + 2 over its base field
sage: L_rel.structure()[0](b)
# a
sage: L_rel(a)
# Does not even fall back to the generic code from #11869
# TypeError: Cannot coerce element into this number field
sage: L_rel.structure()[1](a)
# b0
sage: b
# b0
sage: a+b
# TypeError: unsupported operand parent(s) for '+': 'Number Field in a with defining polynomial x^3 + 2' and 'Number Field in b0 with defining polynomial x^3 + 2 over its base field'
```



---

Comment by mstreng created at 2012-01-06 11:09:28

See also #12269
