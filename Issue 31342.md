# Issue 31342: fix various lgtm suggestions

Issue created by migration from https://trac.sagemath.org/ticket/31579

Original creator: chapoton

Original creation time: 2021-03-30 08:16:59




---

Comment by chapoton created at 2021-03-30 08:17:55

Changing status from new to needs_review.


---

Comment by chapoton created at 2021-03-30 08:17:55

New commits:


---

Comment by dcoudert created at 2021-03-30 12:34:47

In `src/sage/quadratic_forms/special_values.py`
* This change

```diff
         if n <= 0:
             return infinity
-        if n > 0:
-            return factorial(n-1)
+        else:
+            return factorial(n - 1)
```

  can be simplified like this, no ?

```diff
         if n <= 0:
             return infinity
-        if n > 0:
-            return factorial(n-1)
+        return factorial(n - 1)
```


* You cannot do this change, unless you are sure that `n` will never be 0.

```diff
             if n < 0:
                 ans /= n
                 n += 1
-            elif n > 0:
+            else:
                 n += -1
                 ans *= n
```



---

Comment by dcoudert created at 2021-03-30 12:34:47

Changing status from needs_review to needs_work.


---

Comment by git created at 2021-03-30 15:47:04

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2021-03-30 15:48:02

* premier point, d'accord, modifi√©

* second point, n est 1/2 + un entier donc pas zero


---

Comment by chapoton created at 2021-03-30 15:48:02

Changing status from needs_work to needs_review.


---

Comment by dcoudert created at 2021-03-30 16:40:45

Changing status from needs_review to positive_review.


---

Comment by dcoudert created at 2021-03-30 16:40:45

LGTM.


---

Comment by mkoeppe created at 2021-04-07 19:29:15

Sage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review.


---

Comment by vbraun created at 2021-05-27 20:28:52

Resolution: fixed
