# Issue 28383: Sage fails to compute a (simple) symbolic expression

Issue created by migration from https://trac.sagemath.org/ticket/28620

Original creator: charpent

Original creation time: 2019-10-17 06:51:17

CC:  dimpase vdelecroix

See this [sage-devel](https://groups.google.com/forum/#!topic/sage-devel/fxMY7yVg1xc) thread. In short:


```
sage: t=((1/10)*I/pi)^(3/2)
sage: t
(1/10*I/pi)^(3/2)
sage: t^2
```


This doesn't return(!), and seems hard to interrupt.



---

Comment by charpent created at 2019-10-17 07:09:10

Changing type from PLEASE CHANGE to defect.


---

Comment by @sheerluck created at 2019-10-17 10:07:58

with some additional prints:

```
sage: t=((1/10)*I/pi)**3

Expression._pow_ 1/10*I/pi 3
class NumberFieldElement.__pow__ 1/10*I 3 None
generic_power_long', 1/10*I, 3
generic_power_long', 1/10*I, 3
generic_power_pos', 1/10*I, 3
apow = -1/100
n = 0
res = -1/1000*I

sage: t**2

Expression._pow_ -1/1000*I/pi^3 2
class NumberFieldElement.__pow__ -1/1000*I 2 None
generic_power_long, -1/1000*I, 2
generic_power_long, -1/1000*I, 2
generic_power_pos, -1/1000*I, 2
apow = -1/1000000
n = 1

-1/1000000/pi^6

sage: t=((1/10)*I/pi)**(3/2)

Expression._pow_ 1/10*I/pi 3/2

sage: t**2

Expression._pow_ (1/10*I/pi)^(3/2) 2
class NumberFieldElement.__pow__ 1/10*I 4294967297 None
generic_power_long', 1/10*I, 4294967297
generic_power_long', 1/10*I, 4294967297
generic_power_pos', 1/10*I, 4294967297
apow = -1/100
n = 1073741824
res = 1/10*I
apow = 1/10000
n = 536870912
res = 1/10*I
apow = 1/100000000
n = 268435456
res = 1/10*I
apow = 1/10000000000000000
n = 134217728
res = 1/10*I
apow = 1/100000000000000000000000000000000
n = 67108864
res = 1/10*I
...
```



---

Comment by charpent created at 2019-10-17 10:12:45

Replying to [comment:2 gh-sheerluck]:
> with some additional prints:

How did you got them ? I wasn't aware of the availability of this steb-by-step tracing...

> [ SNIP... ]

Illuminating...


---

Comment by @sheerluck created at 2019-10-17 11:47:09

no, it's not steb-by-step tracing, I just inserted lines in
* symbolic/expression.pyx
* rings/number_field/number_field_element.pyx
* arith/power.pyx
and just reinstalled sage (I use Gentoo Linux)


---

Comment by embray created at 2020-01-06 14:10:03

Ticket retargeted after milestone closed


---

Comment by mkoeppe created at 2020-05-05 19:11:30

Still unfixed in 9.1rc2


---

Comment by @DaveWitteMorris created at 2021-01-08 19:57:52

This will be fixed by the patch to pynac in #30446. When that ticket is closed, we can add this as another doctest.


---

Comment by @DaveWitteMorris created at 2021-01-08 19:57:52

Changing priority from critical to minor.


---

Comment by @DaveWitteMorris created at 2021-01-10 22:46:35

Changing status from new to needs_review.


---

Comment by @DaveWitteMorris created at 2021-01-10 22:46:35

This can be closed as a duplicate of #30446. The pull request at #30786 adds the appropriate doctest.


---

Comment by dimpase created at 2021-01-12 09:06:06

Changing status from needs_review to positive_review.


---

Comment by chapoton created at 2021-01-12 20:24:21

Resolution: duplicate
