# Issue 21931: Implement Quantum Shuffle Algebra Class

Issue created by migration from Trac.

Original creator: maryb

Original creation time: 2017-01-11 10:10:59

CC:  jessicapalencia chapoton tscrim egunawan

Keywords: algebra, quantum shuffle

Create new class based on shuffle algebra that models quantum shuffle algebra. 


---

Comment by maryb created at 2017-01-11 10:43:15

Set assignee to maryb.


---

Comment by maryb created at 2017-01-11 10:43:15

Changing keywords from "algebra, quantum shuffle" to "SageDays 82 algebra, quantum shuffle".


---

Comment by maryb created at 2017-01-11 10:43:15

Changing component from PLEASE CHANGE to algebra.


---

Comment by git created at 2017-01-11 10:43:53

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by maryb created at 2017-01-11 10:51:25

Changing status from new to needs_review.


---

Comment by jen created at 2017-01-11 11:09:40

Changing type from PLEASE CHANGE to enhancement.


---

Comment by jen created at 2017-01-11 11:10:15

Changing keywords from "SageDays 82 algebra, quantum shuffle" to "days82, algebra, quantum shuffle".


---

Comment by git created at 2017-01-11 11:20:23

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jessicapalencia created at 2017-01-11 11:31:54

Add a few sentences to the doc to explain what a quantum shuffle algebra is, if someone knows what a shuffle algebra is. Also, capitalize the first word in the doc string for each function and end the sentence with a period. Finally, the first word in the doc for each function should most of the time be Return.


---

Comment by git created at 2017-01-11 11:58:26

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2017-01-11 12:27:52

every function must have doctests, including the auxiliary functions at the end of your file


---

Comment by chapoton created at 2017-01-11 13:55:50

* laurent should be Laurent with a capital, everywhere in the doc

* you should add your alegbra to the catalog of algebras, see #20854 for how to do that

* you should then try to build the doc of your file, using


```
sage -docbuild reference/algebras html
```



---

Comment by git created at 2017-01-11 14:39:54

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2017-01-11 14:46:52

in the Author field (top of this page here), you need to write your full name
----
New commits:


---

Comment by chapoton created at 2017-01-11 15:12:06

There is at least one

```
+        EXAMPLES: 
```

that should take 2 colons and be followed by a blank line.


---

Comment by chapoton created at 2017-01-11 15:16:57

This is starting lo look good.

Instead of

```
range(0, something)
```

you can write

```
range(something)
```

(appears twice in your code)


---

Comment by git created at 2017-01-11 15:29:24

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2017-01-11 18:11:08

You may also be interested in #14914.


---

Comment by chapoton created at 2017-01-11 18:12:07

in the doc, cartan should take a capital: Cartan


---

Comment by git created at 2017-01-11 18:27:40

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jessicapalencia created at 2017-01-12 08:55:51

There is one spot where there is no blank line after EXAMPLES::

Also, I think it would be better to change the reference at the top to the callable reference style:
http://doc.sagemath.org/html/en/developer/coding_basics.html#documentation-strings

Otherwise, looks good to me!


---

Comment by git created at 2017-01-12 09:49:24

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2017-01-12 10:17:11

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by maryb created at 2017-01-12 10:19:37

Just found out that I needed to add an entry for quantum shuffle algebra to src/doc/en/reference/algebra/index.rst so that it gets included in the catalog. see http://doc.sagemath.org/html/en/developer/sage_manuals.html


---

Comment by git created at 2017-01-12 12:31:17

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2017-01-12 18:19:41

According to patchbot, it seems that the doc does not build, probably because of the entry in the reference file:

```
+[dochtml] [reference] /home/u1/chapoton/sage/src/doc/en/reference/references/index.rst:974:
WARNING: Inline interpreted text or phrase reference start-string without end-string.
```

I would say you should not break the line in the middle of the `*title*`, because the complaints is probably about not finding the closing `*`


---

Comment by git created at 2017-01-12 20:21:32

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by maryb created at 2017-01-12 20:23:37

Thanks! Apparently I had used a normal single quote on the ending of the doi  instead of a slanted one as I was supposed to.


---

Comment by jessicapalencia created at 2017-01-13 14:31:29

Should have Sage give an error if you define a quantum shuffle algebra that doesn't make sense, such as:

Q = QuantumShuffleAlgebra('abcdghi', CartanMatrix(['A',3]))

Right now, it let me define the above, but then when I applied a function, it gave an uninformative error.


---

Comment by jessicapalencia created at 2017-01-13 14:34:56

In the documentation, connectivitystructure -> connectivity structure


---

Comment by git created at 2017-01-13 22:07:58

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2017-01-16 14:47:39

in the last commit, you should not print an error, but raise a ValueError, something
like

```
+    raise ValueError("Cartan Matrix is not the same size as the associated generator set")
```



---

Comment by tscrim created at 2017-01-16 17:54:38

Changing status from needs_review to needs_work.


---

Comment by tscrim created at 2017-01-16 17:54:38

I've removed the inheritance of `ShuffleAlgebra` because `ShuffleAlgebra` has a bialgebra structure and I don't think that structure naturally lifts to the quantum setting (at least without some modification, but some quick searching didn't yield anything). I also fixed another issues with multiplication returning basis elements indexed by strings instead of words. Improvements were made to the string representations too.

However, there is still more work needed on the documentation, in particular, precisely defining/stating the multiplication in the doc.
----
New commits:
