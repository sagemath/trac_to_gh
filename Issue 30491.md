# Issue 30491: Drawing generalizations of generalized Petersen graphs

Issue created by migration from https://trac.sagemath.org/ticket/30728

Original creator: @NinaKl

Original creation time: 2020-10-05 19:01:40

CC:  @vipul79321




---

Comment by @NinaKl created at 2020-10-05 19:14:38

New commits:


---

Comment by @NinaKl created at 2020-10-05 19:14:38

Changing component from PLEASE CHANGE to graph theory.


---

Comment by @NinaKl created at 2020-10-05 19:14:38

Changing type from PLEASE CHANGE to enhancement.


---

Comment by @NinaKl created at 2020-10-05 19:17:30

Set assignee to @NinaKl.


---

Comment by @NinaKl created at 2020-10-05 19:19:41

Changing status from new to needs_review.


---

Comment by dcoudert created at 2020-10-06 08:35:53

Hello,

Thank you for contributing new graphs with nice embeddings.

Several improvements are needed in your code (which contains errors). I'm putting below a nicer and corrected version of method `IGraph`.
Use it to improve the code of the other methods.

```
def IGraph(n, j, k):
    r"""
    Return an I-graph with `2n` nodes.

    The variables `n`, `j`, `k` are integers such that `n > 2` and
    `0 < j, k \leq \lfloor (n - 1) / 2 \rfloor`.
    When `j = 1` the resulting graph is isomorphic to the generalized Petersen
    graph with the same `n` and `k`.

    INPUT:

    - ``n`` -- the number of nodes is `2 * n`

    - ``j`` -- integer `0 < j \leq \lfloor (n-1)/2 \rfloor`. Decides how outer
      vertices are connected.

    - ``k`` -- integer `0 < k \leq \lfloor (n-1)/2 \rfloor`. Decides how inner
      vertices are connected.

    PLOTTING: Upon construction, the position dictionary is filled to override
    the spring-layout algorithm. By convention, the I-graphs are displayed as an
    inner and outer cycle pair, with the first n nodes drawn on the outer
    circle.  The first (0) node is drawn at the top of the outer-circle, moving
    counterclockwise after that. The inner circle is drawn with the (n)th node
    at the top, then counterclockwise as well.

    EXAMPLES:

    When `j = 1` the resulting graph will be isomorphic to a generalized
    Petersen graph::

        sage: g = graphs.IGraph(7,1,2)
        sage: g2 = GeneralizedPetersenGraph(7,2)
        sage: g.is_isomorphic(g2)
        True
    """
    if n < 3:
        raise ValueError("n must be larger than 2")
    if j < 1 or j > (n - 1) // 2:
        raise ValueError("j must be in 1 <= j <= floor((n - 1) / 2)")
    if k < 1 or k > (n - 1) // 2:
        raise ValueError("k must be in 1 <= k <= floor((n - 1) / 2)")

    G = Graph(2 * n, name="I-graph (n={}, j={}, k={})".format(n, j, k))
    for i in range(n):
        G.add_edge(i, (i + j) % n)
        G.add_edge(i, i + n)
        G.add_edge(i + n, n + (i + k) % n)
    G._circle_embedding(list(range(n)), radius=1, angle=pi/2)
    G._circle_embedding(list(range(n, 2*n)), radius=.5, angle=pi/2)
    return G
```

Could you also explain what is a `IGraph` ? For me this name is confusing since there is a graph library called `igraph`. Is it the most appropriate name ?


---

Comment by dcoudert created at 2020-10-06 08:35:53

Changing status from needs_review to needs_work.


---

Comment by git created at 2020-10-06 22:20:43

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @NinaKl created at 2020-10-06 22:33:29

Regarding the definition of `I-graphs` one could check page 2 of the [following paper](http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.92.2097&rep=rep1&type=pdf).


---

Comment by dcoudert created at 2020-10-07 07:06:10

You should add references to the definitions of these graphs. See e.g., #11736 for examples.

Also add a `EXAMPLES:` block to all methods.


---

Comment by dcoudert created at 2020-12-29 15:34:59

I have rebased the branch on sage 9.3.beta5 performed several corrections / improvements. In particular, I have added missing references and updated some definitions to fit the original papers.
----
New commits:


---

Comment by dcoudert created at 2020-12-29 15:34:59

Changing status from needs_work to needs_review.


---

Comment by git created at 2020-12-29 19:03:47

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dcoudert created at 2020-12-29 22:40:59

For me this patch is now good to go, but a double check would be appreciated.


---

Comment by dcoudert created at 2021-01-28 13:06:36

I give this ticket a positive review. I did review edit to fix some issues and we have green bot since several weeks.


---

Comment by dcoudert created at 2021-01-28 13:06:36

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2021-03-07 17:06:17

Resolution: fixed


---

Comment by slelievre created at 2021-03-07 18:33:15

Some "TESTS" blocks have a single colon `:` instead of double colon `::`.

Please fix in follow-up ticket #31461.
