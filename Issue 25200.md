# Issue 25200: TypeError: unsupported operand type(s) for +: 'NoneType' and 'str'

Issue created by migration from https://trac.sagemath.org/ticket/25437

Original creator: Bruce

Original creation time: 2018-05-24 12:58:52

#### How to Reproduce

While doing a GET operation on `/ticket/25434`, Trac issued an internal error.

_(please provide additional details here)_

Request parameters:

```
{'id': u'25434'}
```


User agent: `Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:60.0) Gecko/20100101 Firefox/60.0`

#### System Information
_System information not available_

#### Enabled Plugins
_Plugin information not available_

#### Interface Customization
_Interface customization information not available_

#### Python Traceback

```
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/trac/web/main.py", line 587, in _dispatch_request
    dispatcher.dispatch(req)
  File "/usr/local/lib/python2.7/dist-packages/trac/web/main.py", line 266, in dispatch
    iterable=chrome.use_chunked_encoding)
  File "/usr/local/lib/python2.7/dist-packages/trac/web/chrome.py", line 1112, in render_template
    stream |= self._filter_stream(req, method, filename, stream, data)
  File "/usr/local/lib/python2.7/dist-packages/genshi/core.py", line 133, in __or__
    return Stream(_ensure(function(self)), serializer=self.serializer)
  File "/usr/local/lib/python2.7/dist-packages/trac/web/chrome.py", line 1398, in inner
    data)
  File "/usr/local/lib/python2.7/dist-packages/sage_trac/ticket_box.py", line 102, in filter_stream
    filters.extend(self._get_branch_filters(req, ticket))
  File "/usr/local/lib/python2.7/dist-packages/sage_trac/ticket_box.py", line 169, in _get_branch_filters
    base=base_branch_commit)
  File "/usr/local/lib/python2.7/dist-packages/sage_trac/git_merger.py", line 250, in get_merge_url
    log_url = self.log_url(log_base, branch)
  File "/usr/local/lib/python2.7/dist-packages/sage_trac/common.py", line 157, in log_url
    'q': base+'..'+tip,
TypeError: unsupported operand type(s) for +: 'NoneType' and 'str'
```



---

Comment by embray created at 2018-05-24 19:19:45

Resolution: invalid


---

Comment by embray created at 2018-05-24 19:19:45

Closing this since issues with Trac shouldn't be reported here. I'll look into it.
