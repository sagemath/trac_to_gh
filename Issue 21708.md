# Issue 21708: Symbolic min/max

archive/issues_021708.json:
```json
{
    "body": "CC:  @mathzeta @slel\n\nKeywords: min,max,days79\n\nIt would be good to have a symbolic min/max operators, that keep (finite, say) list of arguments, each may be an expression.\n\nThis is how it works in SymPy:\n\n```python\n>>> x = Symbol('x', positive=True)\n>>> y = Symbol('y', positive=True)\n>>> z = Symbol('z', negative=True)\n>>> Min(x, y).is_positive\nTrue\n>>> Max(x, z).is_positive\nTrue\n>>> Min(x, z).is_nonnegative\nFalse\n```\n\nand so on.  Note that they use `Min` and `Max` instead of the built-in `min` and `max`.\n\nIssue created by migration from https://trac.sagemath.org/ticket/21945\n\n",
    "created_at": "2016-11-23T11:49:22Z",
    "labels": [
        "symbolics",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.2",
    "title": "Symbolic min/max",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21708",
    "user": "@pelegm"
}
```
CC:  @mathzeta @slel

Keywords: min,max,days79

It would be good to have a symbolic min/max operators, that keep (finite, say) list of arguments, each may be an expression.

This is how it works in SymPy:

```python
>>> x = Symbol('x', positive=True)
>>> y = Symbol('y', positive=True)
>>> z = Symbol('z', negative=True)
>>> Min(x, y).is_positive
True
>>> Max(x, z).is_positive
True
>>> Min(x, z).is_nonnegative
False
```

and so on.  Note that they use `Min` and `Max` instead of the built-in `min` and `max`.

Issue created by migration from https://trac.sagemath.org/ticket/21945





---

archive/issue_comments_301402.json:
```json
{
    "body": "The functions `max_symbolic` and `min_symbolic` exist. They can not make strong deductions, but at least they do know how to convert to sympy's `Max` and `Min`.",
    "created_at": "2016-11-25T16:26:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21708#issuecomment-301402",
    "user": "@mathzeta"
}
```

The functions `max_symbolic` and `min_symbolic` exist. They can not make strong deductions, but at least they do know how to convert to sympy's `Max` and `Min`.



---

archive/issue_comments_301403.json:
```json
{
    "body": "Replying to [comment:2 mathzeta2]:\n> The functions `max_symbolic` and `min_symbolic` exist. They can not make strong deductions, but at least they do know how to convert to sympy's `Max` and `Min`.\n\nThanks for the info. The names are not intuitive, but perhaps we can live with it. Here's a short list of what these creatures should be able to do:\n\n* Assume `x` and `y` are positive. Then `min_symbolic(x, y)` and `max_symbolic(x, y)` should return True.\n* Similarly, for `x` and `y` which are both negative, nonnegative and nonpositive.\n* Similarly, if `x` is assumed to be negative and `y` is assumed to be positive, then `min` and `max` should behave respectively.\n* `min` and `max` of real symbols should be real.  Similarly for algebraic, rational, integer...\n* Should `min_symbolic(x, x)` simplify to `x`?",
    "created_at": "2016-11-25T21:20:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21708#issuecomment-301403",
    "user": "@pelegm"
}
```

Replying to [comment:2 mathzeta2]:
> The functions `max_symbolic` and `min_symbolic` exist. They can not make strong deductions, but at least they do know how to convert to sympy's `Max` and `Min`.

Thanks for the info. The names are not intuitive, but perhaps we can live with it. Here's a short list of what these creatures should be able to do:

* Assume `x` and `y` are positive. Then `min_symbolic(x, y)` and `max_symbolic(x, y)` should return True.
* Similarly, for `x` and `y` which are both negative, nonnegative and nonpositive.
* Similarly, if `x` is assumed to be negative and `y` is assumed to be positive, then `min` and `max` should behave respectively.
* `min` and `max` of real symbols should be real.  Similarly for algebraic, rational, integer...
* Should `min_symbolic(x, x)` simplify to `x`?



---

archive/issue_comments_301404.json:
```json
{
    "body": "Replying to [comment:3 pelegm]:\n> * Should `min_symbolic(x, x)` simplify to `x`?\n\nIt currently does. Regarding your other points, unfortunately, it seems those are not available. See also #17700 and #19162.\nA \"non-trivial\" thing that does work is that\n\n```\nvar(\"x,y,z\")\nassume(x>z)\nassume(z>y)\nprint max_symbolic(x,y,z).simplify()\nprint min_symbolic(x,y,z).simplify()\n```\n\nprints `x` and `y`.",
    "created_at": "2016-11-26T13:41:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21708#issuecomment-301404",
    "user": "@mathzeta"
}
```

Replying to [comment:3 pelegm]:
> * Should `min_symbolic(x, x)` simplify to `x`?

It currently does. Regarding your other points, unfortunately, it seems those are not available. See also #17700 and #19162.
A "non-trivial" thing that does work is that

```
var("x,y,z")
assume(x>z)
assume(z>y)
print max_symbolic(x,y,z).simplify()
print min_symbolic(x,y,z).simplify()
```

prints `x` and `y`.



---

archive/issue_comments_301405.json:
```json
{
    "body": "Changing type from enhancement to defect.",
    "created_at": "2018-04-06T15:37:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21708#issuecomment-301405",
    "user": "@jdemeyer"
}
```

Changing type from enhancement to defect.



---

archive/issue_comments_301406.json:
```json
{
    "body": "Changing keywords from \"min,max,days79\" to \"min, max, days79\".",
    "created_at": "2018-04-07T10:36:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21708#issuecomment-301406",
    "user": "@slel"
}
```

Changing keywords from "min,max,days79" to "min, max, days79".



---

archive/issue_comments_301407.json:
```json
{
    "body": "Replying to [comment:3 pelegm]:\n> * Assume `x` and `y` are positive. Then `min_symbolic(x, y)` and `max_symbolic(x, y)` should return True.\n> * Similarly, for `x` and `y` which are both negative, nonnegative and nonpositive.\n> * Similarly, if `x` is assumed to be negative and `y` is assumed to be positive, then `min` and `max` should behave respectively.\n> * `min` and `max` of real symbols should be real.  Similarly for algebraic, rational, integer...\n\nActually this is quite achievable. Pynac already has such logic for several functions. However, it would help if `min/max_symbolic` would be made `GinacFunction`s (like most elementary functions). Note also #18630, #24368, #24352, #22162 and https://github.com/pynac/pynac/issues/293",
    "created_at": "2018-04-07T14:30:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21708#issuecomment-301407",
    "user": "@rwst"
}
```

Replying to [comment:3 pelegm]:
> * Assume `x` and `y` are positive. Then `min_symbolic(x, y)` and `max_symbolic(x, y)` should return True.
> * Similarly, for `x` and `y` which are both negative, nonnegative and nonpositive.
> * Similarly, if `x` is assumed to be negative and `y` is assumed to be positive, then `min` and `max` should behave respectively.
> * `min` and `max` of real symbols should be real.  Similarly for algebraic, rational, integer...

Actually this is quite achievable. Pynac already has such logic for several functions. However, it would help if `min/max_symbolic` would be made `GinacFunction`s (like most elementary functions). Note also #18630, #24368, #24352, #22162 and https://github.com/pynac/pynac/issues/293



---

archive/issue_comments_301408.json:
```json
{
    "body": "> However, it would help if `min/max_symbolic` would be made `GinacFunction`s (like most elementary functions).\n\nNot necessary, after some thought. I'll put this in pynac-0.7.19. The various queries depend on existence of their interface, e.g. `ex.is_rational` (#24368), `ex.is_nonnegative` (simply `is_trivial_zero() or is_positive()` Ticket?), `ex.is_nonpositive` likewise. There is no is_algebraic logic in Pynac at the moment, this is part of the above issue.",
    "created_at": "2018-04-07T15:24:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21708#issuecomment-301408",
    "user": "@rwst"
}
```

> However, it would help if `min/max_symbolic` would be made `GinacFunction`s (like most elementary functions).

Not necessary, after some thought. I'll put this in pynac-0.7.19. The various queries depend on existence of their interface, e.g. `ex.is_rational` (#24368), `ex.is_nonnegative` (simply `is_trivial_zero() or is_positive()` Ticket?), `ex.is_nonpositive` likewise. There is no is_algebraic logic in Pynac at the moment, this is part of the above issue.
