# Issue 21708: Symbolic min/max

Issue created by migration from https://trac.sagemath.org/ticket/21945

Original creator: pelegm

Original creation time: 2016-11-23 11:49:22

CC:  mathzeta2 slelievre

Keywords: min,max,days79

It would be good to have a symbolic min/max operators, that keep (finite, say) list of arguments, each may be an expression.

This is how it works in SymPy:

```python
>>> x = Symbol('x', positive=True)
>>> y = Symbol('y', positive=True)
>>> z = Symbol('z', negative=True)
>>> Min(x, y).is_positive
True
>>> Max(x, z).is_positive
True
>>> Min(x, z).is_nonnegative
False
```

and so on.  Note that they use `Min` and `Max` instead of the built-in `min` and `max`.


---

Comment by mathzeta2 created at 2016-11-25 16:26:47

The functions `max_symbolic` and `min_symbolic` exist. They can not make strong deductions, but at least they do know how to convert to sympy's `Max` and `Min`.


---

Comment by pelegm created at 2016-11-25 21:20:39

Replying to [comment:2 mathzeta2]:
> The functions `max_symbolic` and `min_symbolic` exist. They can not make strong deductions, but at least they do know how to convert to sympy's `Max` and `Min`.

Thanks for the info. The names are not intuitive, but perhaps we can live with it. Here's a short list of what these creatures should be able to do:

* Assume `x` and `y` are positive. Then `min_symbolic(x, y)` and `max_symbolic(x, y)` should return True.
* Similarly, for `x` and `y` which are both negative, nonnegative and nonpositive.
* Similarly, if `x` is assumed to be negative and `y` is assumed to be positive, then `min` and `max` should behave respectively.
* `min` and `max` of real symbols should be real.  Similarly for algebraic, rational, integer...
* Should `min_symbolic(x, x)` simplify to `x`?


---

Comment by mathzeta2 created at 2016-11-26 13:41:04

Replying to [comment:3 pelegm]:
> * Should `min_symbolic(x, x)` simplify to `x`?

It currently does. Regarding your other points, unfortunately, it seems those are not available. See also #17700 and #19162.
A "non-trivial" thing that does work is that

```
var("x,y,z")
assume(x>z)
assume(z>y)
print max_symbolic(x,y,z).simplify()
print min_symbolic(x,y,z).simplify()
```

prints `x` and `y`.


---

Comment by jdemeyer created at 2018-04-06 15:37:38

Changing type from enhancement to defect.


---

Comment by slelievre created at 2018-04-07 10:36:55

Changing keywords from "min,max,days79" to "min, max, days79".


---

Comment by rws created at 2018-04-07 14:30:42

Replying to [comment:3 pelegm]:
> * Assume `x` and `y` are positive. Then `min_symbolic(x, y)` and `max_symbolic(x, y)` should return True.
> * Similarly, for `x` and `y` which are both negative, nonnegative and nonpositive.
> * Similarly, if `x` is assumed to be negative and `y` is assumed to be positive, then `min` and `max` should behave respectively.
> * `min` and `max` of real symbols should be real.  Similarly for algebraic, rational, integer...

Actually this is quite achievable. Pynac already has such logic for several functions. However, it would help if `min/max_symbolic` would be made `GinacFunction`s (like most elementary functions). Note also #18630, #24368, #24352, #22162 and https://github.com/pynac/pynac/issues/293


---

Comment by rws created at 2018-04-07 15:24:54

> However, it would help if `min/max_symbolic` would be made `GinacFunction`s (like most elementary functions).

Not necessary, after some thought. I'll put this in pynac-0.7.19. The various queries depend on existence of their interface, e.g. `ex.is_rational` (#24368), `ex.is_nonnegative` (simply `is_trivial_zero() or is_positive()` Ticket?), `ex.is_nonpositive` likewise. There is no is_algebraic logic in Pynac at the moment, this is part of the above issue.
