# Issue 27312: Clean up some more code blocks in Sage's documentation

Issue created by migration from https://trac.sagemath.org/ticket/27549

Original creator: jhpalmieri

Original creation time: 2019-03-26 04:18:35

This is a follow-up to #27528: we should change things like

```
Here is how to run long doctests::

    $ make ptestlong
```

to

```
Here is how to run long doctests:

.. CODE-BLOCK:: shell-session

    $ make ptestlong
```

so that Sphinx highlights it correctly. Note that in addition to `shell-session`, there are many other language options. See the file `pygments/lexers/_mapping.py` for big list.



---

Comment by jhpalmieri created at 2019-03-26 04:20:54

Changing status from new to needs_review.


---

Comment by jhpalmieri created at 2019-03-26 04:20:54

I think this takes care of most (all?) of the code-blocks in `src/doc`. The reference manual remains.
----
New commits:


---

Comment by git created at 2019-03-26 18:16:30

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by git created at 2019-03-26 18:36:11

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by jhpalmieri created at 2019-03-26 18:37:11

Rebased to include #27512, which touches one of the same files.


---

Comment by sbrandhorst created at 2019-04-17 08:03:42

Merge conflict


---

Comment by sbrandhorst created at 2019-04-17 08:03:42

Changing status from needs_review to needs_work.


---

Comment by git created at 2019-04-17 18:11:39

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by jhpalmieri created at 2019-04-17 18:11:49

Rebased.


---

Comment by jhpalmieri created at 2019-04-17 18:11:49

Changing status from needs_work to needs_review.


---

Comment by tscrim created at 2019-04-17 22:41:18

Nitpicks:

`installation/source.rst`:

```diff
-.. highlight:: shell-session
+.. HIGHLIGHT:: shell-session
```

`thematic_tutorials/cython_interface.rst`:

```diff
-.. code-block:: shell-session
+.. CODE-BLOCK:: shell-session
```


Once changed, you can set a positive review on my behalf unless Simon has any additional comments.


---

Comment by jhpalmieri created at 2019-04-17 23:30:48

Thanks for the comments. To handle the second of these, I decided I also needed to change the half-dozen already present `.. code-block` lines to `.. CODE-BLOCK`.


---

Comment by git created at 2019-04-17 23:30:54

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2019-04-17 23:45:04

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2019-04-17 23:45:04

Thank you. LGTM.

Simon, if you disagree, feel free to revert.


---

Comment by vbraun created at 2019-04-27 17:44:22

Resolution: fixed
