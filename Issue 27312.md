# Issue 27312: Clean up some more code blocks in Sage's documentation

archive/issues_027312.json:
```json
{
    "body": "This is a follow-up to #27528: we should change things like\n\n```\nHere is how to run long doctests::\n\n    $ make ptestlong\n```\n\nto\n\n```\nHere is how to run long doctests:\n\n.. CODE-BLOCK:: shell-session\n\n    $ make ptestlong\n```\n\nso that Sphinx highlights it correctly. Note that in addition to `shell-session`, there are many other language options. See the file `pygments/lexers/_mapping.py` for big list.\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/27549\n\n",
    "created_at": "2019-03-26T04:18:35Z",
    "labels": [
        "component: documentation"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.8",
    "title": "Clean up some more code blocks in Sage's documentation",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/27312",
    "user": "https://github.com/jhpalmieri"
}
```
This is a follow-up to #27528: we should change things like

```
Here is how to run long doctests::

    $ make ptestlong
```

to

```
Here is how to run long doctests:

.. CODE-BLOCK:: shell-session

    $ make ptestlong
```

so that Sphinx highlights it correctly. Note that in addition to `shell-session`, there are many other language options. See the file `pygments/lexers/_mapping.py` for big list.


Issue created by migration from https://trac.sagemath.org/ticket/27549





---

archive/issue_comments_384606.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-03-26T04:20:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27312#issuecomment-384606",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_384607.json:
```json
{
    "body": "I think this takes care of most (all?) of the code-blocks in `src/doc`. The reference manual remains.\n----\nNew commits:",
    "created_at": "2019-03-26T04:20:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27312#issuecomment-384607",
    "user": "https://github.com/jhpalmieri"
}
```

I think this takes care of most (all?) of the code-blocks in `src/doc`. The reference manual remains.
----
New commits:



---

archive/issue_comments_384608.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2019-03-26T18:16:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27312#issuecomment-384608",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_384609.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2019-03-26T18:36:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27312#issuecomment-384609",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_384610.json:
```json
{
    "body": "Rebased to include #27512, which touches one of the same files.",
    "created_at": "2019-03-26T18:37:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27312#issuecomment-384610",
    "user": "https://github.com/jhpalmieri"
}
```

Rebased to include #27512, which touches one of the same files.



---

archive/issue_comments_384611.json:
```json
{
    "body": "Merge conflict",
    "created_at": "2019-04-17T08:03:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27312#issuecomment-384611",
    "user": "https://github.com/simonbrandhorst"
}
```

Merge conflict



---

archive/issue_comments_384612.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-04-17T08:03:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27312#issuecomment-384612",
    "user": "https://github.com/simonbrandhorst"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_384613.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2019-04-17T18:11:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27312#issuecomment-384613",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_384614.json:
```json
{
    "body": "Rebased.",
    "created_at": "2019-04-17T18:11:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27312#issuecomment-384614",
    "user": "https://github.com/jhpalmieri"
}
```

Rebased.



---

archive/issue_comments_384615.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-04-17T18:11:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27312#issuecomment-384615",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_384616.json:
```json
{
    "body": "Nitpicks:\n\n`installation/source.rst`:\n\n```diff\n-.. highlight:: shell-session\n+.. HIGHLIGHT:: shell-session\n```\n\n`thematic_tutorials/cython_interface.rst`:\n\n```diff\n-.. code-block:: shell-session\n+.. CODE-BLOCK:: shell-session\n```\n\n\nOnce changed, you can set a positive review on my behalf unless Simon has any additional comments.",
    "created_at": "2019-04-17T22:41:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27312#issuecomment-384616",
    "user": "https://github.com/tscrim"
}
```

Nitpicks:

`installation/source.rst`:

```diff
-.. highlight:: shell-session
+.. HIGHLIGHT:: shell-session
```

`thematic_tutorials/cython_interface.rst`:

```diff
-.. code-block:: shell-session
+.. CODE-BLOCK:: shell-session
```


Once changed, you can set a positive review on my behalf unless Simon has any additional comments.



---

archive/issue_comments_384617.json:
```json
{
    "body": "Thanks for the comments. To handle the second of these, I decided I also needed to change the half-dozen already present `.. code-block` lines to `.. CODE-BLOCK`.",
    "created_at": "2019-04-17T23:30:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27312#issuecomment-384617",
    "user": "https://github.com/jhpalmieri"
}
```

Thanks for the comments. To handle the second of these, I decided I also needed to change the half-dozen already present `.. code-block` lines to `.. CODE-BLOCK`.



---

archive/issue_comments_384618.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-04-17T23:30:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27312#issuecomment-384618",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_384619.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-04-17T23:45:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27312#issuecomment-384619",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_384620.json:
```json
{
    "body": "Thank you. LGTM.\n\nSimon, if you disagree, feel free to revert.",
    "created_at": "2019-04-17T23:45:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27312#issuecomment-384620",
    "user": "https://github.com/tscrim"
}
```

Thank you. LGTM.

Simon, if you disagree, feel free to revert.



---

archive/issue_comments_384621.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-04-27T17:44:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27312",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27312#issuecomment-384621",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_025353.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-04-27T17:44:22Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/27312",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27312#event-25353"
}
```
