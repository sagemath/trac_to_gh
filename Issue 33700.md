# Issue 33700: incorrect coercion between finite fields constructed via .splitting_field()

Issue created by migration from https://trac.sagemath.org/ticket/33937

Original creator: lorenz

Original creation time: 2022-05-30 06:47:23

CC:  klee vdelecroix

Failing example:


```sage
T = polygen(GF(23))
F.<t> = GF(23^4, modulus=T^4+T+2)

x = polygen(F)
f = x^3 - t
K.<u> = f.splitting_field()

y = polygen(K)
g = y^2 - u
L.<v> = g.splitting_field()

assert L(u).minpoly() == u.minpoly()
```



---

Comment by lorenz created at 2022-05-31 05:29:08

Changing component from coercion to finite rings.


---

Comment by lorenz created at 2022-05-31 05:29:08

New commits:


---

Comment by lorenz created at 2022-05-31 05:29:08

Changing status from new to needs_review.


---

Comment by chapoton created at 2022-05-31 05:59:00

Maybe use the new syntax

```
sage: GF((13,11))
Finite Field in z11 of size 13^11
```

in the doctests ?


---

Comment by klee created at 2022-05-31 06:29:51

Perhaps, when I wrote the comment, I assumed `E` is always Conway since Sage chooses a Conway polynomial by default if the input just specifies the size.  

Apparently, I thought wrong at the time or things have changed and the assumption no longer holds...

Looks good to me.


---

Comment by git created at 2022-05-31 09:13:07

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by lorenz created at 2022-05-31 09:15:41

Replying to [comment:3 chapoton]:
> Maybe use the new syntax
> {{{
> sage: GF((13,11))
> Finite Field in z11 of size 13^11
> }}}

Changed it in the code and in the doctests I was touching anyway.


---

Comment by chapoton created at 2022-05-31 10:07:14

lgtm if the patchbot comes back green


---

Comment by chapoton created at 2022-05-31 11:39:30

Changing status from needs_review to positive_review.


---

Comment by chapoton created at 2022-05-31 11:39:30

ok, good to go


---

Comment by lorenz created at 2022-05-31 12:26:16

Thank you!


---

Comment by lorenz created at 2022-05-31 13:54:58

Replying to [comment:4 klee]:
> Apparently, I thought wrong at the time or things have changed and the assumption no longer holds...

By the way, I think the rule for this is that specifying a variable name makes it use whatever suitable polynomial it can find, whereas omitting the name will trigger computation of a Conway polynomial (and use the familiar `z2`,`z3`,... names).


---

Comment by klee created at 2022-05-31 14:11:17

Replying to [comment:10 lorenz]:
> Replying to [comment:4 klee]:
> > Apparently, I thought wrong at the time or things have changed and the assumption no longer holds...
> 
> By the way, I think the rule for this is that specifying a variable name makes it use whatever suitable polynomial it can find, whereas omitting the name will trigger computation of a Conway polynomial (and use the familiar `z2`,`z3`,... names).

Right. So I missed the case when a name is specified.


---

Comment by vbraun created at 2022-06-12 12:16:56

Resolution: fixed
