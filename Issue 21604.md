# Issue 21604: Don't install sage_setup by default; move more stuff from setup.py into sage_setup

Issue created by migration from Trac.

Original creator: embray

Original creation time: 2016-11-08 15:05:28

CC:  jdemeyer mkoeppe chapoton slelievre

As Jeroen described it in [ticket:21821:15], the `sage_setup` package is best conceived of as a collection of utilities extending the `setup.py`.  To that end, it doesn't make much sense to _install_ it from the `setup.py`, at least not by default, since it shouldn't be used outside the context of running `setup.py` anyways.

If there is functionality in `sage_setup` that does make sense to run in other contexts, at runtime (`sage_setup.docbuild` might count) it should either be moved into the `sage` package itself, or a separate package that is installed, and that is explicitly designed to work outside the sage source tree.

Meanwhile everything in `sage_setup` should be explicitly designed to _only_ work in the sage source tree (for the most part this just means making assumptions about paths relative to the source tree).


---

Comment by embray created at 2016-11-08 15:32:34

I see now that even `sage_setup.docbuild` doesn't make much sense outside the sage source tree, right now.  I think that may be a mistake though.  It would be nice if it could be used also for building docs in third-party packages that are not developed directly in the sage source tree.  There are currently many barriers to doing that, and the fact that the docbuilder makes assumptions about what docs it is building is part of the problem.  So maybe that issue should be addressed as well...


---

Comment by mkoeppe created at 2016-11-10 07:55:06

yes, see #6389


---

Comment by mkoeppe created at 2020-06-02 06:25:51

See #29702: Move all code from src/setup.py, src/fpickle_setup.py to sage_setup


---

Comment by mkoeppe created at 2020-08-17 03:09:37

This has been done in #29702, so this ticket can be closed.


---

Comment by mkoeppe created at 2020-08-17 03:09:37

Changing status from new to needs_review.


---

Comment by slelievre created at 2021-08-19 22:52:38

Changing status from needs_review to positive_review.


---

Comment by slelievre created at 2021-08-19 22:52:38

Ok.


---

Comment by mkoeppe created at 2021-08-26 02:08:43

Resolution: invalid
