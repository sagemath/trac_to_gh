# Issue 30405: modify HAVE_GC test in flint's spkg-configure.m4 to allow undefined HAVE_GC

Issue created by migration from https://trac.sagemath.org/ticket/30642

Original creator: dimpase

Original creation time: 2020-09-23 11:26:25

CC:  vdelecroix mjo

if Flint is built with cmake then HAVE_GC is undefined, as of Flint 2.6.3 or earlier, as it's just not implemeted in the cmake build, and so with cmake one never gets Boehm GC used in Flint.

We should treat undefined HAVE_GC as 0.


---

Comment by dimpase created at 2020-09-23 12:53:17

Changing status from new to needs_review.


---

Comment by dimpase created at 2020-09-23 12:53:17

this does the job, please review.
----
New commits:


---

Comment by dimpase created at 2020-09-23 13:01:09

should fix the issue on Gentoo, too (which, just as arch has, also has cmake-built Flint)


---

Comment by mkoeppe created at 2020-09-23 13:09:29

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2020-10-05 20:12:52

Resolution: fixed
