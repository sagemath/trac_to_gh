# Issue 27699: spkg-configure.m4 for pcre should test for UTF support etc

Issue created by migration from https://trac.sagemath.org/ticket/27936

Original creator: dimpase

Original creation time: 2019-06-05 16:33:46

one can build an insufficiently powerful pcre, see #27284
So we better check that it has all the goodies needed.


---

Comment by embray created at 2019-06-11 12:00:22

It looks to me that it's sufficient to run


```
$ pcretest -C utf
```


which strangely both outputs 1 if UTF is supported, and the _exit code_ also is 1 if supported.  So pcretest both prints the results of these checks and returns them as non-POSIX exit codes.

But fine, this means we just need to

1) Check for pcretest

2) Run

```
if test `pcretest -C utf` -eq 1`; then
...
```


I'd say if `pcretest` is absent just don't assume the system lib can be used.


---

Comment by embray created at 2019-06-14 14:55:02

As the Sage-8.8 release milestone is pending, we should delete the sage-8.8 milestone for tickets that are not actively being worked on or that still require significant work to move forward.  If you feel that this ticket should be included in the next Sage release at the soonest please set its milestone to the next release milestone (sage-8.9).
