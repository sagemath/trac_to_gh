# Issue 16368: Nonsymmetric Macdonald polynomials tests too slow

Issue created by migration from https://trac.sagemath.org/ticket/16605

Original creator: vbraun

Original creation time: 2014-07-03 04:28:46

CC:  schilling nthiery tscrim

There is a small number of extremely long-running doctests, eating quite a chunk of memory. Is it really true that it can only be tested with 100+ seconds long tests?

#long doctests should still be < 10s. It is about test coverage, not showing off what you can compute given enough time. For every ticket somebody is (hopefully) running all the tests...


---

Comment by nthiery created at 2014-07-04 21:24:53

Hi Volker!

This piece of code was quite tricky to get right for all Cartan types, and it did take us some far testing to get convinced that it was indeed correct. Now, those far tests are indeed most likely only really relevant if someone someday changes the code of non symmetric macdonald polynomials itself. Any change elsewhere in Sage should either break lighter tests or be orthogonal.

So I would be fine with putting #not tested on the very expensive tests and only keep the lighter ones (or scaled down versions thereof). Do you have a specific list of tests that are very expensive?

Cheers,
                                 Nicolas


---

Comment by vbraun created at 2014-07-05 02:39:43

Try `sage -t --warn-long 10`. There are also fairly accurate comments about the runtime. You could just loop over fewer Cartan types in some tests, e.g. pick randomly 5.


---

Comment by chapoton created at 2019-08-25 09:20:11

Changing status from new to needs_review.


---

Comment by chapoton created at 2019-08-25 09:20:11

New commits:


---

Comment by chapoton created at 2019-08-25 19:20:58

bot is morally green, please review


---

Comment by chapoton created at 2019-08-29 11:21:48

review, someone ? please !


---

Comment by @mwageringel created at 2019-08-29 21:23:18

Changing status from needs_review to positive_review.


---

Comment by @mwageringel created at 2019-08-29 21:23:18

Looks good to me.


---

Comment by vbraun created at 2019-09-05 21:33:32

Resolution: fixed
