# Issue 11940: prereq should not check for m4

archive/issues_011940.json:
```json
{
    "body": "Assignee: GeorgSWeber\n\nCC:  @orlitzky @jhpalmieri drkirkby\n\nSince Sage does not need m4, we should not check for it.\n\nIssue created by migration from https://trac.sagemath.org/ticket/12112\n\n",
    "created_at": "2011-12-03T13:06:03Z",
    "labels": [
        "component: build",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.0",
    "title": "prereq should not check for m4",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/11940",
    "user": "https://github.com/jdemeyer"
}
```
Assignee: GeorgSWeber

CC:  @orlitzky @jhpalmieri drkirkby

Since Sage does not need m4, we should not check for it.

Issue created by migration from https://trac.sagemath.org/ticket/12112





---

archive/issue_comments_136937.json:
```json
{
    "body": "Huh, that would be useful to know for the Cygwin thing as well.  Currently we need it there, presumably for the same reason.  Thanks.",
    "created_at": "2011-12-03T15:36:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11940",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11940#issuecomment-136937",
    "user": "https://github.com/kcrisman"
}
```

Huh, that would be useful to know for the Cygwin thing as well.  Currently we need it there, presumably for the same reason.  Thanks.



---

archive/issue_comments_136938.json:
```json
{
    "body": "Sage may not need it, but the rest of the prereq build system does:\n\n```\nprereq-0.9 $ make\n(CDPATH=\"${ZSH_VERSION+.}:\" && cd . && /bin/sh /home/mjo/src/sage-4.8.alpha3/spkg/build/prereq-0.9/missing --run autoheader)\nautom4te-2.68: need GNU m4 1.4 or later: /usr/bin/m4\nautoheader-2.68: '/usr/bin/autom4te-2.68' failed with exit status: 1\nmake: *** [config.h.in] Error 1\n```\n\nWe could probably ship a pre-built `configure` and `Makefile` rather than rely on autotools, but this is black magic to me and I don't understand the tradeoffs involved.",
    "created_at": "2011-12-07T17:02:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11940",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11940#issuecomment-136938",
    "user": "https://github.com/orlitzky"
}
```

Sage may not need it, but the rest of the prereq build system does:

```
prereq-0.9 $ make
(CDPATH="${ZSH_VERSION+.}:" && cd . && /bin/sh /home/mjo/src/sage-4.8.alpha3/spkg/build/prereq-0.9/missing --run autoheader)
autom4te-2.68: need GNU m4 1.4 or later: /usr/bin/m4
autoheader-2.68: '/usr/bin/autom4te-2.68' failed with exit status: 1
make: *** [config.h.in] Error 1
```

We could probably ship a pre-built `configure` and `Makefile` rather than rely on autotools, but this is black magic to me and I don't understand the tradeoffs involved.



---

archive/issue_comments_136939.json:
```json
{
    "body": "Replying to [comment:2 mjo]:\n> Sage may not need it, but the rest of the prereq build system does.\n\nNot really, you just need to run it **once**, it is sufficient if the developer of the new `prereq` package runs it before shipping it into Sage.",
    "created_at": "2011-12-07T22:30:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11940",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11940#issuecomment-136939",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [comment:2 mjo]:
> Sage may not need it, but the rest of the prereq build system does.

Not really, you just need to run it **once**, it is sufficient if the developer of the new `prereq` package runs it before shipping it into Sage.



---

archive/issue_comments_136940.json:
```json
{
    "body": "Attachment [12112_from_12576.patch](tarball://root/attachments/some-uuid/ticket12112/12112_from_12576.patch) by @jdemeyer created at 2012-03-26 13:45:02",
    "created_at": "2012-03-26T13:45:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11940",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11940#issuecomment-136940",
    "user": "https://github.com/jdemeyer"
}
```

Attachment [12112_from_12576.patch](tarball://root/attachments/some-uuid/ticket12112/12112_from_12576.patch) by @jdemeyer created at 2012-03-26 13:45:02



---

archive/issue_comments_136941.json:
```json
{
    "body": "What do you think about changing the prereq install script to use bash instead of sh?  (See #12621: with non-bash versions of sh, e.g., on Solaris, at least one part of the script doesn't work properly.)",
    "created_at": "2012-03-26T20:56:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11940",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11940#issuecomment-136941",
    "user": "https://github.com/jhpalmieri"
}
```

What do you think about changing the prereq install script to use bash instead of sh?  (See #12621: with non-bash versions of sh, e.g., on Solaris, at least one part of the script doesn't work properly.)



---

archive/issue_comments_136942.json:
```json
{
    "body": "This seems to work like it should, so needs_review.",
    "created_at": "2012-03-27T20:17:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11940",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11940#issuecomment-136942",
    "user": "https://github.com/jdemeyer"
}
```

This seems to work like it should, so needs_review.



---

archive/issue_comments_136943.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-03-27T20:17:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11940",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11940#issuecomment-136943",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_136944.json:
```json
{
    "body": "Dave, I'm cc'ing you. I don't know if you have any time these days, but since you worked on the original prereq script, you may be one of the most qualified people to review this, especially the changes in [attachment:prereq-1.0.diff]. (The other changes are pretty straightforward, I think.)",
    "created_at": "2012-03-28T04:32:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11940",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11940#issuecomment-136944",
    "user": "https://github.com/jhpalmieri"
}
```

Dave, I'm cc'ing you. I don't know if you have any time these days, but since you worked on the original prereq script, you may be one of the most qualified people to review this, especially the changes in [attachment:prereq-1.0.diff]. (The other changes are pretty straightforward, I think.)



---

archive/issue_comments_136945.json:
```json
{
    "body": "Concerning `bash`: maybe we shoudn't require bash in the prereq script.  The prereq script checks whether bash is available and gives a clear error message if it's not.  So I would try to make the script portable, and not force bash.",
    "created_at": "2012-03-29T12:14:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11940",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11940#issuecomment-136945",
    "user": "https://github.com/jdemeyer"
}
```

Concerning `bash`: maybe we shoudn't require bash in the prereq script.  The prereq script checks whether bash is available and gives a clear error message if it's not.  So I would try to make the script portable, and not force bash.



---

archive/issue_comments_136946.json:
```json
{
    "body": "If we don't use bash, then the code\n\n```sh\nif ! [ -f \"$SAGE_ROOT/spkg/base/$TARGET.tar\" ]; then\n```\nneeds to be changed: it gives an error when run on Solaris:\n\n```\nbase/prereq-0.9-install: !: not found\n```\n(The error is ignored and installation continues, but this should still be fixed.)",
    "created_at": "2012-03-29T15:20:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11940",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11940#issuecomment-136946",
    "user": "https://github.com/jhpalmieri"
}
```

If we don't use bash, then the code

```sh
if ! [ -f "$SAGE_ROOT/spkg/base/$TARGET.tar" ]; then
```
needs to be changed: it gives an error when run on Solaris:

```
base/prereq-0.9-install: !: not found
```
(The error is ignored and installation continues, but this should still be fixed.)



---

archive/issue_comments_136947.json:
```json
{
    "body": "Okay, un-negated the test and swapped the \"if\" and \"else\" clauses.",
    "created_at": "2012-03-29T15:34:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11940",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11940#issuecomment-136947",
    "user": "https://github.com/jdemeyer"
}
```

Okay, un-negated the test and swapped the "if" and "else" clauses.



---

archive/issue_comments_136948.json:
```json
{
    "body": "(After a little experimentation, I guess putting the `!` inside the test would have worked, too: `if [ ! -f ... ]`.)",
    "created_at": "2012-03-29T15:57:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11940",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11940#issuecomment-136948",
    "user": "https://github.com/jhpalmieri"
}
```

(After a little experimentation, I guess putting the `!` inside the test would have worked, too: `if [ ! -f ... ]`.)



---

archive/issue_comments_136949.json:
```json
{
    "body": "Replying to [comment:14 jdemeyer]:\n> Concerning `bash`: maybe we shouldn't require bash in the prereq script.  The prereq script checks whether bash is available and gives a clear error message if it's not.  So I would try to make the script portable, and not force bash.\n\n\nAgreed. Someone had ideas of converting sage to use the autotools (or autohell to William). The tools are carefully written to be portable, so the last thing we should do is force any non-portable code in there, as it would make it more difficult to use the current script as a basis for others.",
    "created_at": "2012-03-29T21:55:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11940",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11940#issuecomment-136949",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

Replying to [comment:14 jdemeyer]:
> Concerning `bash`: maybe we shouldn't require bash in the prereq script.  The prereq script checks whether bash is available and gives a clear error message if it's not.  So I would try to make the script portable, and not force bash.


Agreed. Someone had ideas of converting sage to use the autotools (or autohell to William). The tools are carefully written to be portable, so the last thing we should do is force any non-portable code in there, as it would make it more difficult to use the current script as a basis for others.



---

archive/issue_comments_136950.json:
```json
{
    "body": "Replying to [comment:13 jhpalmieri]:\n> Dave, I'm cc'ing you. I don't know if you have any time these days, but since you worked on the original prereq script, you may be one of the most qualified people to review this, especially the changes in [attachment:prereq-1.0.diff]. (The other changes are pretty straightforward, I think.)\n\n\nI'll comment there.",
    "created_at": "2012-03-29T22:00:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11940",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11940#issuecomment-136950",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

Replying to [comment:13 jhpalmieri]:
> Dave, I'm cc'ing you. I don't know if you have any time these days, but since you worked on the original prereq script, you may be one of the most qualified people to review this, especially the changes in [attachment:prereq-1.0.diff]. (The other changes are pretty straightforward, I think.)


I'll comment there.



---

archive/issue_comments_136951.json:
```json
{
    "body": "A few comments: \n\n1) Testing with: \n\n```\nif [ \"$SAGE_BUILD_DIR\" = \"\" ]; then \n```\n\nis bad practice. Testing on \"\" can fail under some admittedly obscure circumstances. Better would be \n\n```\nif [ \"x$SAGE_BUILD_DIR\" = x ]; then \n```\n\n2) Are we 100% sure m4 is not needed? I have some recollection of it being needed somewhere. If not, this \nhttp://www.sagemath.org/doc/faq/faq-usage.html\nneeds modifying, as that specifically says to install m4. The configure script was clearly written with this in mind too. \n\nI can't judge all the implications of all the changes, but looking at the diffs only, I can't see anything that looks as though it will be a problem.  \n\nA couple of minor points, one could address if one wanted to: \n\na) The Solaris page should now really be to Oracle and not Sun, but it's no big deal. \n\nb) Although William was annoyed when Sage would not build with gcc 3.4 series due to \"ratpoints\", and was keen to get Sage working with gcc 3.4.x, I think the chances of that happening are very remote now. There is too much code that will not compile with such an old version of gcc. So one could consider removing all the checks associated with gcc 3.4.x, and simply accept that gcc 4.0.1 is the minimum version. That could take quite a bit of code out, and would mean that SAGE_USE_OLD_GCC could be removed from the list of environment variables. \n\nSo I can't see anything wrong, with the exception of how SAGE_BUILD_DIR is tested. \n\nAssuming John and Jeroen are happy with each others changes, and the SAGE_BUILD_DIR issue is fixed, I think this should be set to positive review. \n\n\nDave",
    "created_at": "2012-03-29T22:56:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11940",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11940#issuecomment-136951",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

A few comments: 

1) Testing with: 

```
if [ "$SAGE_BUILD_DIR" = "" ]; then 
```

is bad practice. Testing on "" can fail under some admittedly obscure circumstances. Better would be 

```
if [ "x$SAGE_BUILD_DIR" = x ]; then 
```

2) Are we 100% sure m4 is not needed? I have some recollection of it being needed somewhere. If not, this 
http://www.sagemath.org/doc/faq/faq-usage.html
needs modifying, as that specifically says to install m4. The configure script was clearly written with this in mind too. 

I can't judge all the implications of all the changes, but looking at the diffs only, I can't see anything that looks as though it will be a problem.  

A couple of minor points, one could address if one wanted to: 

a) The Solaris page should now really be to Oracle and not Sun, but it's no big deal. 

b) Although William was annoyed when Sage would not build with gcc 3.4 series due to "ratpoints", and was keen to get Sage working with gcc 3.4.x, I think the chances of that happening are very remote now. There is too much code that will not compile with such an old version of gcc. So one could consider removing all the checks associated with gcc 3.4.x, and simply accept that gcc 4.0.1 is the minimum version. That could take quite a bit of code out, and would mean that SAGE_USE_OLD_GCC could be removed from the list of environment variables. 

So I can't see anything wrong, with the exception of how SAGE_BUILD_DIR is tested. 

Assuming John and Jeroen are happy with each others changes, and the SAGE_BUILD_DIR issue is fixed, I think this should be set to positive review. 


Dave



---

archive/issue_comments_136952.json:
```json
{
    "body": "See #12785 for the FAQ issue. Regarding tests like `if [ x\"...\" = x ]; then`, if we were sure to be using bash, I would feel comfortable omitting the x's, but since we're not using bash here, perhaps we should include the x's.",
    "created_at": "2012-03-29T23:35:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11940",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11940#issuecomment-136952",
    "user": "https://github.com/jhpalmieri"
}
```

See #12785 for the FAQ issue. Regarding tests like `if [ x"..." = x ]; then`, if we were sure to be using bash, I would feel comfortable omitting the x's, but since we're not using bash here, perhaps we should include the x's.



---

archive/issue_comments_136953.json:
```json
{
    "body": "Ok, I'm making the following changes:\n\n```diff\n--- a/spkg/base/prereq-1.0-install\n+++ b/spkg/base/prereq-1.0-install\n@@ -5,7 +5,7 @@\n\n\n TARGET=prereq-1.0\n-if [ \"$SAGE_BUILD_DIR\" = \"\" ]; then\n+if [ \"x$SAGE_BUILD_DIR\" = x ]; then\n     SAGE_BUILD_DIR=\"$SAGE_ROOT/spkg/build\"\n fi\n mkdir -p \"$SAGE_BUILD_DIR\"\n@@ -22,7 +22,7 @@\n echo \"Starting prerequisite check.\"\n echo \"Machine: `uname -a`\"\n\n-if [ \"$SAGE_PORT\" = \"\" ]; then\n+if [ \"x$SAGE_PORT\" = x ]; then\n     if [ `uname | sed -e 's/WIN.\\+/WIN/'` = \"CYGWIN\" ]; then\n         echo \"Unfortunately, building SAGE on Cygwin is not currently supported,\"\n         echo \"though we are actively working on supporting it.  If you would like\"\n@@ -138,7 +138,7 @@\n     fi\n\n     # If we are installing GCC, skip all compiler checks in ./configure\n-    if [ \"$SAGE_BUILD_TOOLCHAIN\" = yes ]; then\n+    if [ \"x$SAGE_BUILD_TOOLCHAIN\" = xyes ]; then\n         PREREQ_OPTIONS=\"--disable-compiler-checks $PREREQ_OPTIONS\"\n     fi\n\n```",
    "created_at": "2012-03-30T12:15:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11940",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11940#issuecomment-136953",
    "user": "https://github.com/jdemeyer"
}
```

Ok, I'm making the following changes:

```diff
--- a/spkg/base/prereq-1.0-install
+++ b/spkg/base/prereq-1.0-install
@@ -5,7 +5,7 @@


 TARGET=prereq-1.0
-if [ "$SAGE_BUILD_DIR" = "" ]; then
+if [ "x$SAGE_BUILD_DIR" = x ]; then
     SAGE_BUILD_DIR="$SAGE_ROOT/spkg/build"
 fi
 mkdir -p "$SAGE_BUILD_DIR"
@@ -22,7 +22,7 @@
 echo "Starting prerequisite check."
 echo "Machine: `uname -a`"

-if [ "$SAGE_PORT" = "" ]; then
+if [ "x$SAGE_PORT" = x ]; then
     if [ `uname | sed -e 's/WIN.\+/WIN/'` = "CYGWIN" ]; then
         echo "Unfortunately, building SAGE on Cygwin is not currently supported,"
         echo "though we are actively working on supporting it.  If you would like"
@@ -138,7 +138,7 @@
     fi

     # If we are installing GCC, skip all compiler checks in ./configure
-    if [ "$SAGE_BUILD_TOOLCHAIN" = yes ]; then
+    if [ "x$SAGE_BUILD_TOOLCHAIN" = xyes ]; then
         PREREQ_OPTIONS="--disable-compiler-checks $PREREQ_OPTIONS"
     fi

```



---

archive/issue_comments_136954.json:
```json
{
    "body": "Attachment [12112_update_prereq.patch](tarball://root/attachments/some-uuid/ticket12112/12112_update_prereq.patch) by @jdemeyer created at 2012-03-30 12:15:27",
    "created_at": "2012-03-30T12:15:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11940",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11940#issuecomment-136954",
    "user": "https://github.com/jdemeyer"
}
```

Attachment [12112_update_prereq.patch](tarball://root/attachments/some-uuid/ticket12112/12112_update_prereq.patch) by @jdemeyer created at 2012-03-30 12:15:27



---

archive/issue_comments_136955.json:
```json
{
    "body": "Replying to [comment:21 drkirkby]:\n> b) Although William was annoyed when Sage would not build with gcc 3.4 series due to \"ratpoints\", and was keen to get Sage working with gcc 3.4.x, I think the chances of that happening are very remote now. There is too much code that will not compile with such an old version of gcc. So one could consider removing all the checks associated with gcc 3.4.x, and simply accept that gcc 4.0.1 is the minimum version. That could take quite a bit of code out, and would mean that SAGE_USE_OLD_GCC could be removed from the list of environment variables. \n\nI would wait with this until #12369 is merged.",
    "created_at": "2012-03-30T12:19:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11940",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11940#issuecomment-136955",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [comment:21 drkirkby]:
> b) Although William was annoyed when Sage would not build with gcc 3.4 series due to "ratpoints", and was keen to get Sage working with gcc 3.4.x, I think the chances of that happening are very remote now. There is too much code that will not compile with such an old version of gcc. So one could consider removing all the checks associated with gcc 3.4.x, and simply accept that gcc 4.0.1 is the minimum version. That could take quite a bit of code out, and would mean that SAGE_USE_OLD_GCC could be removed from the list of environment variables. 

I would wait with this until #12369 is merged.



---

archive/issue_comments_136956.json:
```json
{
    "body": "Replying to [comment:21 drkirkby]:\n> Assuming John and Jeroen are happy with each others changes, and the SAGE_BUILD_DIR issue is fixed, I think this should be set to positive review. \n\nDone!",
    "created_at": "2012-03-30T13:32:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11940",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11940#issuecomment-136956",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [comment:21 drkirkby]:
> Assuming John and Jeroen are happy with each others changes, and the SAGE_BUILD_DIR issue is fixed, I think this should be set to positive review. 

Done!



---

archive/issue_comments_136957.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-03-30T13:33:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11940",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11940#issuecomment-136957",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_136958.json:
```json
{
    "body": "I wouldn't say #12785 is a dependency, it's more like a follow-up.",
    "created_at": "2012-03-30T15:37:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11940",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11940#issuecomment-136958",
    "user": "https://github.com/jdemeyer"
}
```

I wouldn't say #12785 is a dependency, it's more like a follow-up.



---

archive/issue_comments_136959.json:
```json
{
    "body": "I was wrong about Sage not requiring `m4`.  At least MPIR does require m4 (maybe older versions which I tested initially didn't require `m4`).",
    "created_at": "2012-04-01T16:04:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11940",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11940#issuecomment-136959",
    "user": "https://github.com/jdemeyer"
}
```

I was wrong about Sage not requiring `m4`.  At least MPIR does require m4 (maybe older versions which I tested initially didn't require `m4`).



---

archive/issue_comments_136960.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2012-04-01T16:04:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11940",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11940#issuecomment-136960",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_136961.json:
```json
{
    "body": "Diff for the prereq tarball, for review only",
    "created_at": "2012-04-01T16:39:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11940",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11940#issuecomment-136961",
    "user": "https://github.com/jdemeyer"
}
```

Diff for the prereq tarball, for review only



---

archive/issue_comments_136962.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-04-01T16:40:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11940",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11940#issuecomment-136962",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_136963.json:
```json
{
    "body": "Attachment [prereq-1.0.diff](tarball://root/attachments/some-uuid/ticket12112/prereq-1.0.diff) by @jdemeyer created at 2012-04-01 16:40:45\n\nRestored the m4 check.",
    "created_at": "2012-04-01T16:40:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11940",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11940#issuecomment-136963",
    "user": "https://github.com/jdemeyer"
}
```

Attachment [prereq-1.0.diff](tarball://root/attachments/some-uuid/ticket12112/prereq-1.0.diff) by @jdemeyer created at 2012-04-01 16:40:45

Restored the m4 check.



---

archive/issue_comments_136964.json:
```json
{
    "body": "Can somebody please review this again?  The only change with respect to the old version was to restore the check for `m4`.",
    "created_at": "2012-04-04T07:08:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11940",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11940#issuecomment-136964",
    "user": "https://github.com/jdemeyer"
}
```

Can somebody please review this again?  The only change with respect to the old version was to restore the check for `m4`.



---

archive/issue_comments_136965.json:
```json
{
    "body": "David Kirkby sent this is an email:\n\n```\nHi,\nI see your comment about wanting the update reviewed, and the only\nchange was checking for m4 again. I'm at work now, and don't have my\nSage trac password with me, so I can't update the ticket. Please\nconsider I have given this a positive review. I suggest you copy this\nemail, and put it in the trac ticket, and change it to positive\nyourself\n\nDave\n```",
    "created_at": "2012-04-04T12:36:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11940",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11940#issuecomment-136965",
    "user": "https://github.com/jdemeyer"
}
```

David Kirkby sent this is an email:

```
Hi,
I see your comment about wanting the update reviewed, and the only
change was checking for m4 again. I'm at work now, and don't have my
Sage trac password with me, so I can't update the ticket. Please
consider I have given this a positive review. I suggest you copy this
email, and put it in the trac ticket, and change it to positive
yourself

Dave
```



---

archive/issue_comments_136966.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-04-04T12:36:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11940",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11940#issuecomment-136966",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_136967.json:
```json
{
    "body": "See #12814 for a **blocker** follow-up: `prereq-0.9-install` should be added to `.hgignore` for upgraded Sage versions.",
    "created_at": "2012-04-06T11:45:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11940",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11940#issuecomment-136967",
    "user": "https://github.com/jdemeyer"
}
```

See #12814 for a **blocker** follow-up: `prereq-0.9-install` should be added to `.hgignore` for upgraded Sage versions.



---

archive/issue_comments_136968.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2012-04-07T15:08:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11940",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11940#issuecomment-136968",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_events_032173.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-04-07T15:08:00Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/11940",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11940#event-32173"
}
```
