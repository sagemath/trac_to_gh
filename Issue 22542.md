# Issue 22542: py3 care for range again

Issue created by migration from Trac.

Original creator: chapoton

Original creation time: 2017-04-07 14:49:18

CC:  tscrim jmantysalo jdemeyer

another step in taking care of range, towards python3

part of #16081


---

Comment by chapoton created at 2017-04-07 14:51:20

Changing status from new to needs_review.


---

Comment by chapoton created at 2017-04-07 14:51:20

New commits:


---

Comment by chapoton created at 2017-04-07 14:51:34

Changing component from PLEASE CHANGE to python3.


---

Comment by git created at 2017-04-07 15:13:57

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2017-04-07 15:18:06

These changes seem to be unnecessary in both Python 2 and 3:

```diff
`@``@` -483,7 +484,7 `@``@` class SimplicialSetMorphism(Morphism):
             if constant is not None:
                 self._constant = constant
                 check = False
-                data = {sigma: constant.apply_degeneracies(*range(sigma.dimension()-1,-1,-1))
+                data = {sigma: constant.apply_degeneracies(*list(range(sigma.dimension()-1,-1,-1)))
                         for sigma in domain.nondegenerate_simplices()}
 
         if (not isinstance(domain, SimplicialSet_arbitrary)
`@``@` -634,7 +635,7 `@``@` class SimplicialSetMorphism(Morphism):
             raise ValueError('element is not a simplex in the domain')
         if self.is_constant():
             target = self._constant
-            return target.apply_degeneracies(*range(x.dimension()-1,-1,-1))
+            return target.apply_degeneracies(*list(range(x.dimension()-1,-1,-1)))
         if self._is_identity:
             return x
         return self._dictionary[x.nondegenerate()].apply_degeneracies(*x.degeneracies())
```

In both Python 2 and 3:

```python
>>> from six.moves import range  # in python 2
>>> it = range(5)
>>> def foo(*args):
...     print(args)
... 
>>> foo(*it)
(0, 1, 2, 3, 4)
>>> it = iter([1,2,3])
>>> foo(*it)
(1, 2, 3)
```



---

Comment by git created at 2017-04-07 19:06:13

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2017-04-07 19:06:46

thanks, undone


---

Comment by tscrim created at 2017-04-08 03:53:07

Thanks. LGTM.


---

Comment by tscrim created at 2017-04-08 03:53:07

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2017-04-10 22:25:14

Resolution: fixed
