# Issue 17108: R does not build on Cygwin

Issue created by migration from https://trac.sagemath.org/ticket/17345

Original creator: jpflori

Original creation time: 2014-11-14 15:33:16

CC:  tscrim

In `src/library/parallel/src/fork.c` the function `parent_sig_handler` is defined after it is used.


---

Comment by jpflori created at 2014-11-14 16:02:08

Changing status from new to needs_review.


---

Comment by jpflori created at 2014-11-14 16:02:08

Changing keywords from "" to "R cygwin".


---

Comment by jpflori created at 2014-11-14 16:02:08

This is still needed after #17300.
----
New commits:


---

Comment by tscrim created at 2014-11-14 16:11:26

Is this a Cygwin issue or is it because Cygwin is just more picky about these things (i.e., should this be submitted upstream)?


---

Comment by jpflori created at 2014-11-14 16:32:57

It's in an `else` clause picked up on Cygwin, but potentially on other systems.
The definitions in the `if` clause which is usually picked are in the right order.

This was introduced in `3.1.1`, the code in `3.1.0` is different.

And the problem here is really trivial, nothing to do with Cygwin but with the C language:
you don't know anything about a function until it is defined, and defining it later on in the same file is not enough, you would need a forward declaration.


---

Comment by jpflori created at 2014-11-14 16:44:42

And yes, it should be reported upstream, and I think it would be better not to mention Cygwin after the response I got for #15768.


---

Comment by tscrim created at 2014-11-14 19:09:30

I think you mean #15678, but yes, I wouldn't mention Cygwin. LGTM. (FTR, I'm fluent in C/C++.)


---

Comment by tscrim created at 2014-11-14 19:09:30

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2014-11-16 15:14:07

Resolution: fixed
