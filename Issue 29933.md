# Issue 29933: Make morphisms of metric spaces metric maps

archive/issues_029933.json:
```json
{
    "body": "CC:  tscrim nthiery\n\nWe introduce the axiom Lipschitz,\nwith the special case (Lipschitz constant 1) of metric maps.\n\nThe morphisms in the category of metric spaces are the metric maps.\n\nWe add a Parent method `_test...` that verifies it.\n\nIssue created by migration from https://trac.sagemath.org/ticket/30170\n\n",
    "created_at": "2020-07-18T18:53:20Z",
    "labels": [
        "categories",
        "major",
        "enhancement"
    ],
    "title": "Make morphisms of metric spaces metric maps",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29933",
    "user": "mkoeppe"
}
```
CC:  tscrim nthiery

We introduce the axiom Lipschitz,
with the special case (Lipschitz constant 1) of metric maps.

The morphisms in the category of metric spaces are the metric maps.

We add a Parent method `_test...` that verifies it.

Issue created by migration from https://trac.sagemath.org/ticket/30170





---

archive/issue_comments_425152.json:
```json
{
    "body": "New commits:",
    "created_at": "2020-07-19T01:54:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29933#issuecomment-425152",
    "user": "mkoeppe"
}
```

New commits:



---

archive/issue_comments_425153.json:
```json
{
    "body": "In addition, I also want to define the category of metric spaces with Lipschitz functions. Should I do something like below, or would I create a category `MetricSpacesWithLipschitzFunctions`?\n\n\n```diff\ndiff --git a/src/sage/categories/metric_spaces.py b/src/sage/categories/metric_spaces.py\nindex 5af5b6ece5..8670204921 100644\n--- a/src/sage/categories/metric_spaces.py\n+++ b/src/sage/categories/metric_spaces.py\n@@ -253,6 +253,12 @@ class MetricSpaces(MetricSpacesCategory):\n                     for b in S:\n                         tester.assertLessEqual(self(a).dist(self(b)), a.dist(b))\n \n+    class LipschitzFunctions(HomsetsCategory):\n+        \"\"\"\n+        The category of Lipschitz functions between metric spaces\n+        \"\"\"\n+\n+\n     class WithRealizations(WithRealizationsCategory):\n         class ParentMethods:\n             def dist(self, a, b):\n```\n",
    "created_at": "2020-07-19T03:00:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29933#issuecomment-425153",
    "user": "mkoeppe"
}
```

In addition, I also want to define the category of metric spaces with Lipschitz functions. Should I do something like below, or would I create a category `MetricSpacesWithLipschitzFunctions`?


```diff
diff --git a/src/sage/categories/metric_spaces.py b/src/sage/categories/metric_spaces.py
index 5af5b6ece5..8670204921 100644
--- a/src/sage/categories/metric_spaces.py
+++ b/src/sage/categories/metric_spaces.py
@@ -253,6 +253,12 @@ class MetricSpaces(MetricSpacesCategory):
                     for b in S:
                         tester.assertLessEqual(self(a).dist(self(b)), a.dist(b))
 
+    class LipschitzFunctions(HomsetsCategory):
+        """
+        The category of Lipschitz functions between metric spaces
+        """
+
+
     class WithRealizations(WithRealizationsCategory):
         class ParentMethods:
             def dist(self, a, b):
```




---

archive/issue_comments_425154.json:
```json
{
    "body": "I think adding a `HomsetsCategory` is the correct thing to do. However, I haven't see this done before, so I am not 100% sure. Perhaps Nicolas you could give some insight here?",
    "created_at": "2020-07-19T07:07:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29933#issuecomment-425154",
    "user": "tscrim"
}
```

I think adding a `HomsetsCategory` is the correct thing to do. However, I haven't see this done before, so I am not 100% sure. Perhaps Nicolas you could give some insight here?



---

archive/issue_comments_425155.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-07-25T21:10:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29933#issuecomment-425155",
    "user": "mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_425156.json:
```json
{
    "body": "Replying to [comment:3 mkoeppe]:\n> In addition, I also want to define the category of metric spaces with Lipschitz functions.\n\nPostponing this to #30193",
    "created_at": "2020-07-25T21:11:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29933#issuecomment-425156",
    "user": "mkoeppe"
}
```

Replying to [comment:3 mkoeppe]:
> In addition, I also want to define the category of metric spaces with Lipschitz functions.

Postponing this to #30193



---

archive/issue_comments_425157.json:
```json
{
    "body": "LGTM.",
    "created_at": "2020-07-25T22:41:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29933#issuecomment-425157",
    "user": "tscrim"
}
```

LGTM.



---

archive/issue_comments_425158.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-07-25T22:41:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29933#issuecomment-425158",
    "user": "tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_425159.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-07-28T22:32:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29933#issuecomment-425159",
    "user": "vbraun"
}
```

Resolution: fixed
