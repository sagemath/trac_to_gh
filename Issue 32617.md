# Issue 32617: search of doc pages is broken

Issue created by migration from https://trac.sagemath.org/ticket/32854

Original creator: schilly

Original creation time: 2021-11-11 09:14:10

when searching on https://doc.sagemath.org/html/en/reference/search.html?q=plot an error about a jQuery incompatibility causes it to break.

Is this already reported? I just heard about this.


---

Comment by jhpalmieri created at 2021-11-11 19:56:10

Duplicate of #29576?


---

Comment by schilly created at 2021-11-12 08:10:04

Thank you, well, I don't think this is a duplicate, because I know that for the previous version the search worked (while producing those square bracket object output strings).

This time around, Thebe is actually breaking the code. So, IMHO, common solution to both tickets is to get rid of that library and make a new ticket to figure out how to add it back "safely", or to at least check what its current status is.


---

Comment by schilly created at 2021-11-12 08:12:14

here is the stacktrace I see

![](https://cocalc.com/share/raw/d07330668a99873e2a5c6bd2531115b5514132fc/2021-11-12-thebe-crashing-search-doc.sagemath.org.png)


---

Comment by chapoton created at 2022-01-29 08:58:50

bump to 9.6


---

Comment by schilly created at 2022-02-01 11:25:17

For 9.5, the error is slightly different:

![](https://cocalc.com/share/raw/f2792a71a6bbad8febe83c9f04dda7e2efaff3c9/2022-02-01-doc.sagemath.org-search-error.png)


---

Comment by klee created at 2022-02-10 12:39:42

Changing status from new to needs_review.


---

Comment by klee created at 2022-02-10 12:39:42

In #33309, we turned off Thebe, fixing search box.


---

Comment by mkoeppe created at 2022-02-13 17:48:55

Changing status from needs_review to positive_review.


---

Comment by mkoeppe created at 2022-02-26 18:53:04

Resolution: invalid
