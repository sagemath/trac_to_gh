# Issue 19270: Cleanup category of FiniteDimensionalAlgebra

Issue created by migration from Trac.

Original creator: tscrim

Original creation time: 2015-10-31 15:13:11

Assignee: tscrim

CC:  darij pbruin

We fix other issues noted on #19473:

- Mutability of `table`.
- Category of `FiniteDimensionalAlgebra` should be `MagmaticAlgebras`.
- Make `FiniteDimensionalAlgebra` a subclass of `UniqueRepresentation`.


---

Comment by tscrim created at 2015-10-31 15:24:55

Changing status from new to needs_review.


---

Comment by tscrim created at 2015-10-31 15:24:55

New commits:


---

Comment by git created at 2015-11-02 16:01:52

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2015-11-02 18:09:20

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by darij created at 2015-11-02 18:11:11

I have made a couple more trivial changes. With that, the code looks good for me (thanks for doing this, Travis) -- although I am not exactly sure why we need `UniqueRepresentation`.

Travis: if you are OK with my changes, please set to positive_review. And sorry for the delay in about everything I'm doing.


---

Comment by tscrim created at 2015-11-02 18:41:54

Replying to [comment:5 darij]:
> I have made a couple more trivial changes. With that, the code looks good for me (thanks for doing this, Travis) -- although I am not exactly sure why we need `UniqueRepresentation`.

It is encouraged that concrete parents be a subclass of `UniqueRepresentation`, it gives us default `__hash__`, `__eq__` (which actually, I think I just broke by not removing the `__eq__` and I will fix shortly), and pickling, and it helps in standardizing the input.

> Travis: if you are OK with my changes, please set to positive_review. And sorry for the delay in about everything I'm doing.

This isn't quite right:

```
- ``category`` -- (default:
  ``MagmaticAlgebras(k).FiniteDimensional().WithBasis()``
  when ``assume_associative`` is ``False``, else
  ``Algebras(k).FiniteDimensional().WithBasis()``)
```

as the latter category also has the unital assumption and is not what the code uses. I will tweak this when I fix the hash issue noted above.


---

Comment by git created at 2015-11-02 22:56:58

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2015-11-02 22:58:24

Okay, I've made my tweaks and done some fixes. So if you're happy with my changes, then you can set a positive review.


---

Comment by git created at 2015-11-03 00:56:09

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by darij created at 2015-11-03 00:56:38

Ouch; I should have thought of the unitality. Thanks for catching that.

LGTM now; LGTY too?


---

Comment by tscrim created at 2015-11-03 04:41:42

I don't quite like this change:

```diff
-      without checking and sets the category as ``category.Associative()``
+      without checking, and the category is set to
+      ``category.Associative()``
```

as it separates out the second phrase from the first part of the sentence. I would prefer to revert this change, perhaps also changing the `as` to a `to`. Otherwise LGTM.


---

Comment by darij created at 2015-11-03 04:46:27

Feel free to change this, but the previous wording did not make grammatical sense. I think the best option is adding an OUTPUT block to clarify this; we are trying to stuff too much into a single sentence.


---

Comment by git created at 2015-11-03 05:06:51

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2015-11-03 05:10:28

How about this? I don't think it should have an `OUTPUT` block because it is the constructor data.


---

Comment by darij created at 2015-11-03 06:13:25

Changing status from needs_review to positive_review.


---

Comment by darij created at 2015-11-03 06:13:25

Ah, perfect. Positive review!


---

Comment by vbraun created at 2015-11-04 22:17:57

Resolution: fixed
