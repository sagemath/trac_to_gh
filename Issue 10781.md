# Issue 10781: matrix_plot can now plot subdivisions

archive/issues_010781.json:
```json
{
    "body": "Assignee: jason, was\n\nCC:  rbeezer kcrisman ryan\n\nThis patch makes matrix_plot learn about plotting subdivisions.\n\nIssue created by migration from https://trac.sagemath.org/ticket/10847\n\n",
    "created_at": "2011-02-24T18:36:33Z",
    "labels": [
        "graphics",
        "major",
        "enhancement"
    ],
    "title": "matrix_plot can now plot subdivisions",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/10781",
    "user": "jason"
}
```
Assignee: jason, was

CC:  rbeezer kcrisman ryan

This patch makes matrix_plot learn about plotting subdivisions.

Issue created by migration from https://trac.sagemath.org/ticket/10847





---

archive/issue_comments_114127.json:
```json
{
    "body": "Attachment [trac-10847-matrix_plot-subdivisions.patch](tarball://root/attachments/some-uuid/ticket10847/trac-10847-matrix_plot-subdivisions.patch) by jason created at 2011-02-24 18:37:36",
    "created_at": "2011-02-24T18:37:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10781",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10781#issuecomment-114127",
    "user": "jason"
}
```

Attachment [trac-10847-matrix_plot-subdivisions.patch](tarball://root/attachments/some-uuid/ticket10847/trac-10847-matrix_plot-subdivisions.patch) by jason created at 2011-02-24 18:37:36



---

archive/issue_comments_114128.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2011-02-24T18:43:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10781",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10781#issuecomment-114128",
    "user": "jason"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_114129.json:
```json
{
    "body": "I think this is ready for review.  I was trying to create a graph like in the Wikipedia page on DCT (http://en.wikipedia.org/wiki/File:Dctjpeg.png), but we didn't support plotting matrix subdivisions and adding lines to a matrix plot was messing it up.\n\nWell, it all works beautifully now, after this patch! :).",
    "created_at": "2011-02-24T18:43:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10781",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10781#issuecomment-114129",
    "user": "jason"
}
```

I think this is ready for review.  I was trying to create a graph like in the Wikipedia page on DCT (http://en.wikipedia.org/wiki/File:Dctjpeg.png), but we didn't support plotting matrix subdivisions and adding lines to a matrix plot was messing it up.

Well, it all works beautifully now, after this patch! :).



---

archive/issue_comments_114130.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2011-03-13T03:17:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10781",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10781#issuecomment-114130",
    "user": "kcrisman"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_114131.json:
```json
{
    "body": "This is such a great patch, really nicely put together and documented, everything.  I really want to say positive review, except plotting sparse matrices now does not work.\n\n```\nsage: sparse = matrix(dict([((randint(0, 10), randint(0, 10)), 1) for i in xrange(100)])); matrix_plot(sparse)\n<snip>\nAttributeError: Unknown property subdivisions\n```\n\nI have no idea how to fix this - all the obvious things I tried, including adding to the list of options deleted for sparse plotting, or deleting this options after creating the lines, did not work. I must be missing something pretty obvious, I guess, but since this is **one of the doctest examples** it now fails the tests and obviously this needs work!",
    "created_at": "2011-03-13T03:17:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10781",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10781#issuecomment-114131",
    "user": "kcrisman"
}
```

This is such a great patch, really nicely put together and documented, everything.  I really want to say positive review, except plotting sparse matrices now does not work.

```
sage: sparse = matrix(dict([((randint(0, 10), randint(0, 10)), 1) for i in xrange(100)])); matrix_plot(sparse)
<snip>
AttributeError: Unknown property subdivisions
```

I have no idea how to fix this - all the obvious things I tried, including adding to the list of options deleted for sparse plotting, or deleting this options after creating the lines, did not work. I must be missing something pretty obvious, I guess, but since this is **one of the doctest examples** it now fails the tests and obviously this needs work!



---

archive/issue_comments_114132.json:
```json
{
    "body": "Replying to [comment:3 kcrisman]:\n> AttributeError: Unknown property subdivisions\n\nMatrices have a *function* subdivision() and an *attribute* subdivisions.\n\n\n```\nsage: A= matrix(2, range(4))\nsage: type(A.subdivision)\n<type 'builtin_function_or_method'>\nsage: type(A.subdivisions)\n<type 'NoneType'>\n```\n\n\nThe latter should go away, see #4983.  Maybe it is not visible outside of a *.pyx file?\n\nAnyway, hope this helps some.",
    "created_at": "2011-03-13T04:56:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10781",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10781#issuecomment-114132",
    "user": "rbeezer"
}
```

Replying to [comment:3 kcrisman]:
> AttributeError: Unknown property subdivisions

Matrices have a *function* subdivision() and an *attribute* subdivisions.


```
sage: A= matrix(2, range(4))
sage: type(A.subdivision)
<type 'builtin_function_or_method'>
sage: type(A.subdivisions)
<type 'NoneType'>
```


The latter should go away, see #4983.  Maybe it is not visible outside of a *.pyx file?

Anyway, hope this helps some.



---

archive/issue_comments_114133.json:
```json
{
    "body": "Well, for some reason doing the right thing (adding to the deleted options for sparse matrices) worked this morning.    Patch coming up, once I run relevant tests.",
    "created_at": "2011-03-14T13:10:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10781",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10781#issuecomment-114133",
    "user": "kcrisman"
}
```

Well, for some reason doing the right thing (adding to the deleted options for sparse matrices) worked this morning.    Patch coming up, once I run relevant tests.



---

archive/issue_comments_114134.json:
```json
{
    "body": "Attach after main patch",
    "created_at": "2011-03-14T13:20:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10781",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10781#issuecomment-114134",
    "user": "kcrisman"
}
```

Attach after main patch



---

archive/issue_comments_114135.json:
```json
{
    "body": "Attachment [trac_10847-reviewer.patch](tarball://root/attachments/some-uuid/ticket10847/trac_10847-reviewer.patch) by kcrisman created at 2011-03-14 13:23:21\n\nOkay, now all is well, unless someone is *really* tricky and circumvents the decorators and explicitly removes the subdivision keyword.  That would also be true for circumventing the vmin keyword, so I judge it to be a non-issue.  Positive review.\n\nApply attachment:trac-10847-matrix_plot-subdivisions.patch and attachment:trac_10847-reviewer.patch",
    "created_at": "2011-03-14T13:23:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10781",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10781#issuecomment-114135",
    "user": "kcrisman"
}
```

Attachment [trac_10847-reviewer.patch](tarball://root/attachments/some-uuid/ticket10847/trac_10847-reviewer.patch) by kcrisman created at 2011-03-14 13:23:21

Okay, now all is well, unless someone is *really* tricky and circumvents the decorators and explicitly removes the subdivision keyword.  That would also be true for circumventing the vmin keyword, so I judge it to be a non-issue.  Positive review.

Apply attachment:trac-10847-matrix_plot-subdivisions.patch and attachment:trac_10847-reviewer.patch



---

archive/issue_comments_114136.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2011-03-14T13:23:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10781",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10781#issuecomment-114136",
    "user": "kcrisman"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_114137.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2011-03-14T13:24:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10781",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10781#issuecomment-114137",
    "user": "kcrisman"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_114138.json:
```json
{
    "body": "#4983 probably conflicts with this patch.",
    "created_at": "2011-03-22T22:30:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10781",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10781#issuecomment-114138",
    "user": "jason"
}
```

#4983 probably conflicts with this patch.



---

archive/issue_comments_114139.json:
```json
{
    "body": "(where \"conflicts\" means that #10847 probably needs to be changed after this patch too.)",
    "created_at": "2011-03-22T22:31:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10781",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10781#issuecomment-114139",
    "user": "jason"
}
```

(where "conflicts" means that #10847 probably needs to be changed after this patch too.)



---

archive/issue_comments_114140.json:
```json
{
    "body": "It would be nice if a patch that has had positive review for over a week did not have to be rebased for a patch that has had positive review for seven hours. Could that patch not be based on this instead?",
    "created_at": "2011-03-22T23:54:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10781",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10781#issuecomment-114140",
    "user": "kcrisman"
}
```

It would be nice if a patch that has had positive review for over a week did not have to be rebased for a patch that has had positive review for seven hours. Could that patch not be based on this instead?



---

archive/issue_comments_114141.json:
```json
{
    "body": "apply on top of other patches",
    "created_at": "2011-03-23T00:16:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10781",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10781#issuecomment-114141",
    "user": "jhpalmieri"
}
```

apply on top of other patches



---

archive/issue_comments_114142.json:
```json
{
    "body": "Attachment [trac_10847-4983-fix.patch](tarball://root/attachments/some-uuid/ticket10847/trac_10847-4983-fix.patch) by jhpalmieri created at 2011-03-23 00:18:34\n\nI think this patch should fix any incompatibilities with #4983.  With this, you can apply the patches here independently of #4983.",
    "created_at": "2011-03-23T00:18:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10781",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10781#issuecomment-114142",
    "user": "jhpalmieri"
}
```

Attachment [trac_10847-4983-fix.patch](tarball://root/attachments/some-uuid/ticket10847/trac_10847-4983-fix.patch) by jhpalmieri created at 2011-03-23 00:18:34

I think this patch should fix any incompatibilities with #4983.  With this, you can apply the patches here independently of #4983.



---

archive/issue_comments_114143.json:
```json
{
    "body": "But I thought #4983 got rid of the get_subdivisions() command.  Won't you have a problem when you apply #4983 now?",
    "created_at": "2011-03-23T00:23:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10781",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10781#issuecomment-114143",
    "user": "jason"
}
```

But I thought #4983 got rid of the get_subdivisions() command.  Won't you have a problem when you apply #4983 now?



---

archive/issue_comments_114144.json:
```json
{
    "body": "#4983 keeps get_subdivisions as a synonym for \"subdivisions\", for backwards compatibility.",
    "created_at": "2011-03-23T00:32:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10781",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10781#issuecomment-114144",
    "user": "jhpalmieri"
}
```

#4983 keeps get_subdivisions as a synonym for "subdivisions", for backwards compatibility.



---

archive/issue_comments_114145.json:
```json
{
    "body": "Replying to [comment:12 jason]:\n> But I thought #4983 got rid of the get_subdivisions() command.  Won't you have a problem when you apply #4983 now?\n\n#4983, as of about mid-day yesterday, said\n\n\n```\nHere's patch. This keeps get_subdivisions as a synonym for subdivisions. \n```\n\n\nSo it was never slated for removal.",
    "created_at": "2011-03-23T00:57:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10781",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10781#issuecomment-114145",
    "user": "rbeezer"
}
```

Replying to [comment:12 jason]:
> But I thought #4983 got rid of the get_subdivisions() command.  Won't you have a problem when you apply #4983 now?

#4983, as of about mid-day yesterday, said


```
Here's patch. This keeps get_subdivisions as a synonym for subdivisions. 
```


So it was never slated for removal.



---

archive/issue_comments_114146.json:
```json
{
    "body": "Thanks.  I didn't read that patch carefully enough, apparently.",
    "created_at": "2011-03-23T01:01:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10781",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10781#issuecomment-114146",
    "user": "jason"
}
```

Thanks.  I didn't read that patch carefully enough, apparently.



---

archive/issue_comments_114147.json:
```json
{
    "body": "I applied #4983, then all the patches here.  Passed long tests and patch looks good.  So I'll check off on John P's patch as an interested observer, and leave this at positive review.",
    "created_at": "2011-03-23T03:05:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10781",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10781#issuecomment-114147",
    "user": "rbeezer"
}
```

I applied #4983, then all the patches here.  Passed long tests and patch looks good.  So I'll check off on John P's patch as an interested observer, and leave this at positive review.



---

archive/issue_comments_114148.json:
```json
{
    "body": "Wow, thanks for the quick work, guys!",
    "created_at": "2011-03-23T11:41:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10781",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10781#issuecomment-114148",
    "user": "kcrisman"
}
```

Wow, thanks for the quick work, guys!



---

archive/issue_comments_114149.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2011-04-12T08:05:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10781",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10781#issuecomment-114149",
    "user": "jdemeyer"
}
```

Resolution: fixed
