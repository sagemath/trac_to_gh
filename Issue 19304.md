# Issue 19304: Implement Hecke insertion

Issue created by migration from Trac.

Original creator: tscrim

Original creation time: 2015-11-07 05:49:08

Assignee: sage-combinat

CC:  sage-combinat darij nthiery

Keywords: hecke insertion, RSK

Hecke insertion is a variant of RSK which has interesting applications in

- K-theoretic Schubert calculus,
- representation theory of the 0-Hecke monoid, and
- probability theory of the Plancherel-Hecke measure.


---

Comment by tscrim created at 2015-11-07 05:50:24

New commits:


---

Comment by tscrim created at 2015-11-07 05:50:24

Changing status from new to needs_review.


---

Comment by git created at 2015-11-19 19:05:02

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2015-11-19 19:17:02

The comment

```
# We must have len(p[j-1]) > len(r), otherwise we would
#   have added x to the previous row
```

comes from if `len(p[j-1]) == len(r)` (recall `r = p[j]`) and we wanted to add the entry `x` to the end of `r`, then by the strictly increasing condition, we should have added `x` to the end of `p[j-1]`. It means that we can skip the check that `len(p[j-1]) > len(r)`.


---

Comment by git created at 2015-11-19 21:37:08

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by darij created at 2015-11-19 21:38:43

Ah, I got it! I think my way of saying it is clearer, though.

In other news, am I seeing it right that `reversed(d.items())` and `reversed(row_dict.values())` are fragile? I'll replace them by safer things.


---

Comment by tscrim created at 2015-11-19 21:57:45

Replying to [comment:5 darij]:
> Ah, I got it! I think my way of saying it is clearer, though.

I won't argue.

> In other news, am I seeing it right that `reversed(d.items())` and `reversed(row_dict.values())` are fragile? I'll replace them by safer things.

Ah, yes, those are bad. Should be `sorted(d.items(), key=lambda x: -x[0])` (the minus should do the reversal, otherwise just also add the `reverse=True`) and `sorted(row_dict.values(), reverse=True)` resp. I don't know what I was thinking...


---

Comment by git created at 2015-11-19 23:03:00

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by darij created at 2015-11-19 23:04:42

Thanks for the prompt fix suggestion. The code now LGTM. I have added some weasel language (in one of my previous commits) to avoid creating the impression that the Hecke RSK algorithm is understood in the "semistandard" case (i.e., upper row is not (1, 2, ..., n)). If you have a source for this, please put it in a reference.


---

Comment by tscrim created at 2015-11-20 00:02:54

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2015-11-20 00:02:54

I think my reference allows for it, but I'm okay with the language being there. Thanks for doing the review.


---

Comment by vbraun created at 2015-11-23 06:34:19

Resolution: fixed
