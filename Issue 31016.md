# Issue 31016: Put equations in stable position for backend cdd

Issue created by migration from https://trac.sagemath.org/ticket/31253

Original creator: @kliem

Original creation time: 2021-01-16 20:54:31

CC:  jipilab @laisrast mkoeppe

Keywords: cdd, combinatorial polyhedron

Currently, equations positions in Hrepresentation of backend `cdd` depends on the input:


```
sage: P = polytopes.permutahedron(2, backend='cdd')                                                                                                                                 
sage: P.Hrepresentation()                                                                                                                                                           
(An equation (1, 1) x - 3 == 0,
 An inequality (0, 1) x - 1 >= 0,
 An inequality (1, 0) x - 1 >= 0)
sage: Q = Polyhedron(P.vertices(), backend='cdd')                                                                                                                                   
sage: Q.Hrepresentation()                                                                                                                                                           
(An inequality (-1, 0) x + 2 >= 0,
 An inequality (1, 0) x - 1 >= 0,
 An equation (1, 1) x - 3 == 0)
```


This leads to the following failure:


```
sage: [x.ambient_Hrepresentation() for x in P.facets()]                                                                                                                             
[(An inequality (1, 0) x - 1 >= 0, An inequality (0, 1) x - 1 >= 0),
 (An inequality (1, 0) x - 1 >= 0, An equation (1, 1) x - 3 == 0)]
```


We fix this by putting equations always in the same position.


---

Comment by @kliem created at 2021-01-16 20:58:38

Changing status from new to needs_review.


---

Comment by @kliem created at 2021-01-16 20:58:38

New commits:


---

Comment by mkoeppe created at 2021-03-20 19:19:32

Changing status from needs_review to positive_review.


---

Comment by mkoeppe created at 2021-03-20 19:19:32

LGTM.


---

Comment by vbraun created at 2021-03-22 23:54:05

Resolution: fixed
