# Issue 10230: Don't rebuild examples and extcode on sage-*dist

Issue created by migration from https://trac.sagemath.org/ticket/10231

Original creator: jdemeyer

Original creation time: 2010-11-07 11:35:07

Assignee: tbd

CC:  kini leif

Keywords: scripts upgrade extcode examples

Right now, the version of the following packages is *always* bumped in every new Sage version:

```
sage
sage_scripts
extcode
examples
```


This patch will remove the last two from this list and shift the problem of upgrading these packages to the release manager script.


---

Attachment

Remove spkg-dist from extcode (apply to extcode repo)


---

Attachment

Patch for the scripts repo


---

Comment by jdemeyer created at 2010-11-08 15:23:55

Changing status from new to needs_review.


---

Comment by kini created at 2011-04-04 11:38:38

Well, I'm not sure how to test this, but the code changes look great to me. Hopefully someone who knows what they're saying can give this the go-ahead.


---

Comment by fbissey created at 2011-04-04 21:40:14

It would definitely be great to decouple these 2. Since this has been posted we have a new sage_root spkg should something be done here about it as well?


---

Comment by jdemeyer created at 2011-04-05 07:54:10

I have discussed this ticket a million times on `sage-devel` and there never was a concensus about it, so I have essentially abandoned this effort.  If however everybody suddenly thinks this ticket is a good idea, I'm willing to go ahead.


---

Comment by fbissey created at 2011-04-05 08:57:27

I was always in the "for" camp. Unsurprisingly because it is less work for me.
I even suggest that the new version number of the spkg in question should be of the form {extcode,examples}-YYYYMMDD.

While there was no consensus on the list I suspect most people really don't care.


---

Comment by mariah created at 2011-06-14 14:57:39

The patch [attachment:10231_scripts.patch] fails to apply to sage-4.7.1.alpha2:


```
eno% ./sage
----------------------------------------------------------------------
----------------------------------------------------------------------
**********************************************************************
*                                                                    *
* Warning: this is a prerelease version, and it may be unstable.     *
*                                                                    *
**********************************************************************
sage: hg_scripts.apply("/home/mariah/10231_scripts.patch")
cd "/home/mariah/sage/sage-4.7.1.alpha2-x86_64-Linux-core2-fc/local/bin" && hg status
cd "/home/mariah/sage/sage-4.7.1.alpha2-x86_64-Linux-core2-fc/local/bin" && hg status
cd "/home/mariah/sage/sage-4.7.1.alpha2-x86_64-Linux-core2-fc/local/bin" && hg import   "/home/mariah/10231_scripts.patch"
applying /home/mariah/10231_scripts.patch
patching file sage-make_devel_packages
Hunk #2 FAILED at 18
Hunk #3 succeeded at 43 with fuzz 2 (offset 1 lines).
Hunk #4 FAILED at 64
2 out of 4 hunks FAILED -- saving rejects to file sage-make_devel_packages.rej
patching file sage-sdist
Hunk #1 FAILED at 69
1 out of 1 hunks FAILED -- saving rejects to file sage-sdist.rej
abort: patch failed to apply
sage:
```



---

Comment by mariah created at 2011-06-14 14:57:39

Changing status from needs_review to needs_work.


---

Comment by jdemeyer created at 2011-06-14 17:36:48

Replying to [comment:9 mariah]:
> The patch [attachment:10231_scripts.patch] fails to apply to sage-4.7.1.alpha2

Could be.  Since there is no consensus about whether this patch is a good idea, I am not going to work on this for now.


---

Comment by was created at 2011-08-24 23:44:34

Changing keywords from "scripts upgrade extcode examples" to "scripts upgrade extcode examples sd32".


---

Comment by leif created at 2011-10-27 01:31:01

At least we meanwhile got rid of the "examples" spkg / repo, so the resistance may have been halved by that, too. ;-)

I wouldn't _delete_ extcode's `spkg-dist` btw.; it doesn't hurt and can be used for testing / experimenting, or even still by a / the release manager.


---

Comment by fbissey created at 2011-10-27 01:37:43

Replying to [comment:13 leif]:
> At least we meanwhile got rid of the "examples" spkg / repo, so the resistance may have been halved by that, too. ;-)
> 

I am very happy about that bit really.

> I wouldn't _delete_ extcode's `spkg-dist` btw.; it doesn't hurt and can be used for testing / experimenting, or even still by a / the release manager.

extcode has seen some activity in 4.7.1 and is set to get some activity in 4.7.3  but we should think about these sage specific spkg that are seldom updated.

We got rid of examples what else is low on updates?


---

Comment by jdemeyer created at 2013-04-12 15:14:22

Closing in the light of the move to GIT.


---

Comment by jdemeyer created at 2013-04-12 15:14:22

Resolution: invalid
