# Issue 32972: cleanup elliptic Tate curve file

Issue created by migration from https://trac.sagemath.org/ticket/33209

Original creator: chapoton

Original creation time: 2022-01-20 19:54:59

CC:  tscrim slelievre cremona wuthrich

* pep8 for the file

* some code details

* some doc details



---

Comment by chapoton created at 2022-01-20 19:55:28

Changing status from new to needs_review.


---

Comment by chapoton created at 2022-01-20 19:55:28

New commits:


---

Comment by git created at 2022-01-21 10:29:21

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2022-01-21 12:55:01

green bot, so please review


---

Comment by tscrim created at 2022-01-21 13:17:14

Trivial, but while-we-are-at-it: there are two `sum([x in L])`-type (the generator is different) statements that do not need the list.


---

Comment by lorenz created at 2022-01-21 13:51:28

Equally trivial-but-while-we-are-at-it: `RuntimeError('Bug: ...')` should be an `assert` in my books.


---

Comment by cremona created at 2022-01-21 14:43:48

Changing status from needs_review to needs_work.


---

Comment by cremona created at 2022-01-21 14:43:48

The changes made look fine to me. I put it to "needs work" just so those that highlighted some possible efficiencies can implement them.


---

Comment by git created at 2022-01-21 17:21:06

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2022-01-21 20:57:08

sorry, I do not understand the "assert" suggestion


---

Comment by lorenz created at 2022-01-22 01:40:56

This is what I mean:

```diff
-        try:
-            Eq([xx, yy])
-        except Exception:
-            raise RuntimeError(f"Bug : Point ({xx, yy}) does not lie on the curve ")
+        assert Eq.defining_polynomial()(xx,yy,1) == 0, f"bug: point ({xx, yy}) does not lie on the curve {Eq}"
```

It's really no big deal.


---

Comment by git created at 2022-01-23 08:19:12

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2022-01-23 08:20:28

Changing status from needs_work to needs_review.


---

Comment by tscrim created at 2022-01-23 10:44:45

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2022-01-23 10:44:45

Thanks. `@`lorenz please add your name to the reviewers (if you want).


---

Comment by vbraun created at 2022-02-13 10:16:49

Resolution: fixed
