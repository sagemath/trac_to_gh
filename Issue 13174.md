# Issue 13174: Add a cython implementation of the Kolakoski word

Issue created by migration from Trac.

Original creator: slabbe

Original creation time: 2012-08-06 21:02:32

Assignee: slabbe

CC:  abmasse tjolivet

A Python implementation of the Kolakoski word was implemented some time ago in #8739. But, there exist much faster implementation especially some lines of C code of Dominique Bernardi shared by himself during Sage Days 28 in Orsay, France, in January 2011.

This patch adds a cython version of the code of Bernardi. It is much faster than the actual python implementation in Sage.

BEFORE:


```
sage: K = words.KolakoskiWord() 
sage: K                                          
word: 1221121221221121122121121221121121221221...
sage: time K[100000]           
1                              
Time: CPU 0.96 s, Wall: 1.36 s 
sage: time K[1000000]          # takes forever                            
```


AFTER:


```
sage: K = words.KolakoskiWord(algorithm='Bernardi')
sage: K                                          
word: 1221121221221121122121121221121121221221...
sage: time K[1000000]                              
2                                                  
Time: CPU 0.01 s, Wall: 0.02 s                     
sage: time K[100000000]                            
1                                                  
Time: CPU 1.38 s, Wall: 1.92 s                     
```



---

Comment by slabbe created at 2012-08-06 22:07:51

Changing status from new to needs_review.


---

Attachment


---

Comment by slabbe created at 2012-08-09 20:10:06

I just updated the patch.


---

Comment by abmasse created at 2013-01-10 15:13:05

I should work on this ticket in the next days. I just need to install the newest sage version.


---

Comment by slabbe created at 2013-01-11 17:42:11

Salut Alex,

En fait, un patch de V. Delecroix et Stepan Starosta est en attente et mon ticket ne s'applique plus sur le leur... Je devrais écrire une nouvelle version au courant de la semaine prochaine si tout va bien... Donc, le review de ce ticket est en stand by pour l'instant.

Oups, I wrote in French sorry.

Sébastien


---

Comment by slabbe created at 2013-01-25 01:01:19

Changing status from needs_review to needs_work.


---

Comment by slabbe created at 2013-01-25 01:01:19

This ticket needs work to give the opportunity to #12224 to get into Sage first. Hoping it will not take forever.
