# Issue 23110: The decomposition of a Dyck word into prime factors

Issue created by migration from Trac.

Original creator: mantepse

Original creation time: 2017-07-01 12:48:12

CC:  stumpc5




---

Comment by mantepse created at 2017-07-01 16:23:26

New commits:


---

Comment by mantepse created at 2017-07-01 16:23:26

Changing type from PLEASE CHANGE to enhancement.


---

Comment by mantepse created at 2017-07-01 16:23:26

Changing status from new to needs_review.


---

Comment by mantepse created at 2017-07-01 16:23:26

Changing component from PLEASE CHANGE to combinatorics.


---

Comment by tscrim created at 2017-07-02 10:34:10

I would guess that

```
sage: DyckWord([1,0,1,0]).prime_decomposition()
[[1, 0], [1, 0]]
```

and all of the factors would be prime. So the name is a little misleading to me. So instead I propose renaming the method `prime_ascent_decomposition()`. I also do not see a good way to modify the definition of prime to get that this decomposition is unique. In a way, the ascent paths are prime (they never return to the diagonal), but then the sequence is not unique, which could be remedied by adding something like "maximal ascents".

Also, the empty word is not considered to be prime, correct? At the very least, that needs to be added as a test. You should also indicate that this sequence is unique (with the empty word not being prime) and more clearly spell out what a prime Dyck path is.


---

Comment by mantepse created at 2017-07-02 11:47:34

Thank you for looking at this!

I admit that I have no good name.  The closest thing is the related notion of "Catalan factorization", from R. Cori and L. Chottin, Une preuve combinatoire de la rationalité d’une série génératrice associée aux arbres, RAIRO Inform. Théor. 16, no. 2 (1982) 113–128, which does something similar for arbitrary words.

On the other hand, this map occurs frequently...

`ascent_prime_decomposition` is OK for me (ascents come first, so I guess it's a good hint).

I updated the description to meet your (very good) comments!


---

Comment by git created at 2017-07-02 11:47:36

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2017-07-02 13:12:02

Thanks. Two more little things:

```diff
-        A Dyck path is prime if it has precisely one return - the
-        final step. In particular, the empty Dyck path is not prime.
-        Thus, the factorization is unique.
+        A Dyck word is *prime* if it is complete and has precisely one
+        return - the final step. In particular, the empty Dyck word is
+        not prime. Thus, the factorization is unique.
```

and either (my [strong] preference, but there is no clear majority here)

```
        Decompose ``self`` into a sequence of ascents and prime
        Dyck words.
```

or

```
        Decompose this Dyck word into a sequence of ascents and
        prime Dyck words.
```

Once done, you can set a positive review on my behalf.


---

Comment by git created at 2017-07-02 13:58:00

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mantepse created at 2017-07-02 13:58:16

Dear Travis,

I just added the Catalan decomposition, too.  I don't need it right now, but having it might reduce confusion...

I hope you don't mind.
----
New commits:
----
New commits:


---

Comment by git created at 2017-07-02 15:47:00

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2017-07-02 16:33:35

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2017-07-02 23:27:18

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2017-07-02 23:27:18

LGTM. Thanks.


---

Comment by mantepse created at 2017-07-03 05:33:10

Cool!  Thank you!


---

Comment by vbraun created at 2017-07-26 22:12:53

Resolution: fixed
