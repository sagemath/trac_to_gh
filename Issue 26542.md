# Issue 26542: py3: fix graph_input.py and hypergraph_generators.py

archive/issues_026542.json:
```json
{
    "body": "CC:  tscrim chapoton embray\n\nKeywords: py3, graph\n\ndoctest errors in `hypergraph_generators.py` are due to bytes vs str. We add a test in `graph_input.py` to fix the issue.\n\nIssue created by migration from https://trac.sagemath.org/ticket/26779\n\n",
    "created_at": "2018-11-27T16:48:15Z",
    "labels": [
        "graph theory",
        "major",
        "enhancement"
    ],
    "title": "py3: fix graph_input.py and hypergraph_generators.py",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/26542",
    "user": "dcoudert"
}
```
CC:  tscrim chapoton embray

Keywords: py3, graph

doctest errors in `hypergraph_generators.py` are due to bytes vs str. We add a test in `graph_input.py` to fix the issue.

Issue created by migration from https://trac.sagemath.org/ticket/26779





---

archive/issue_comments_373153.json:
```json
{
    "body": "I don't know if it's the best way to do it.\n----\nNew commits:",
    "created_at": "2018-11-27T16:51:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26542#issuecomment-373153",
    "user": "dcoudert"
}
```

I don't know if it's the best way to do it.
----
New commits:



---

archive/issue_comments_373154.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-11-27T16:51:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26542#issuecomment-373154",
    "user": "dcoudert"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_373155.json:
```json
{
    "body": "probably, it would be better to use \"bytes_to_str\"\n\n\n```\nfrom sage.cpython.string import bytes_to_str\n```\n\n\ncc-ing Erik, who knows better about the unicode problem",
    "created_at": "2018-11-30T15:46:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26542#issuecomment-373155",
    "user": "chapoton"
}
```

probably, it would be better to use "bytes_to_str"


```
from sage.cpython.string import bytes_to_str
```


cc-ing Erik, who knows better about the unicode problem



---

archive/issue_comments_373156.json:
```json
{
    "body": "If it's safer I can use it. I was not aware of that method. Let me know if I should do the change.",
    "created_at": "2018-12-01T20:44:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26542#issuecomment-373156",
    "user": "dcoudert"
}
```

If it's safer I can use it. I was not aware of that method. Let me know if I should do the change.



---

archive/issue_comments_373157.json:
```json
{
    "body": "yes, please use \"bytes_to_str\".",
    "created_at": "2018-12-02T19:57:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26542#issuecomment-373157",
    "user": "chapoton"
}
```

yes, please use "bytes_to_str".



---

archive/issue_comments_373158.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-12-02T21:12:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26542#issuecomment-373158",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_373159.json:
```json
{
    "body": "Thank you. I agree it is much cleaner this way.",
    "created_at": "2018-12-02T21:13:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26542#issuecomment-373159",
    "user": "dcoudert"
}
```

Thank you. I agree it is much cleaner this way.



---

archive/issue_comments_373160.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-12-06T13:11:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26542#issuecomment-373160",
    "user": "chapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_373161.json:
```json
{
    "body": "ok, let it be",
    "created_at": "2018-12-06T13:11:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26542#issuecomment-373161",
    "user": "chapoton"
}
```

ok, let it be



---

archive/issue_comments_373162.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2018-12-06T17:04:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26542#issuecomment-373162",
    "user": "embray"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_373163.json:
```json
{
    "body": "Please try to avoid using inline imports if it isn't strictly necessary; see recent discussion about this at #26758#comment:11",
    "created_at": "2018-12-06T17:04:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26542#issuecomment-373163",
    "user": "embray"
}
```

Please try to avoid using inline imports if it isn't strictly necessary; see recent discussion about this at #26758#comment:11



---

archive/issue_comments_373164.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-12-06T17:15:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26542#issuecomment-373164",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_373165.json:
```json
{
    "body": "I have not touched to existing imports. But it could also be done here if needed.",
    "created_at": "2018-12-06T17:16:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26542#issuecomment-373165",
    "user": "dcoudert"
}
```

I have not touched to existing imports. But it could also be done here if needed.



---

archive/issue_comments_373166.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-12-06T17:16:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26542#issuecomment-373166",
    "user": "dcoudert"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_373167.json:
```json
{
    "body": "ok",
    "created_at": "2018-12-06T17:59:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26542#issuecomment-373167",
    "user": "chapoton"
}
```

ok



---

archive/issue_comments_373168.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-12-06T17:59:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26542#issuecomment-373168",
    "user": "chapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_373169.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-12-08T02:54:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26542#issuecomment-373169",
    "user": "vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_373170.json:
```json
{
    "body": "It would also be great to squash trivial changes like those together, although at least in this case both versions are at least valid (it's more of a problem when one commit contains trivial errors).",
    "created_at": "2018-12-10T12:55:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26542#issuecomment-373170",
    "user": "embray"
}
```

It would also be great to squash trivial changes like those together, although at least in this case both versions are at least valid (it's more of a problem when one commit contains trivial errors).



---

archive/issue_comments_373171.json:
```json
{
    "body": "Didn't mean to delete that.  I think that's a bug in the trac plugin...",
    "created_at": "2018-12-10T13:08:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26542#issuecomment-373171",
    "user": "embray"
}
```

Didn't mean to delete that.  I think that's a bug in the trac plugin...
