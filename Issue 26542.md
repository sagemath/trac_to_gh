# Issue 26542: py3: fix graph_input.py and hypergraph_generators.py

Issue created by migration from https://trac.sagemath.org/ticket/26779

Original creator: dcoudert

Original creation time: 2018-11-27 16:48:15

CC:  tscrim chapoton embray

Keywords: py3, graph

doctest errors in `hypergraph_generators.py` are due to bytes vs str. We add a test in `graph_input.py` to fix the issue.


---

Comment by dcoudert created at 2018-11-27 16:51:26

I don't know if it's the best way to do it.
----
New commits:


---

Comment by dcoudert created at 2018-11-27 16:51:26

Changing status from new to needs_review.


---

Comment by chapoton created at 2018-11-30 15:46:05

probably, it would be better to use "bytes_to_str"


```
from sage.cpython.string import bytes_to_str
```


cc-ing Erik, who knows better about the unicode problem


---

Comment by dcoudert created at 2018-12-01 20:44:32

If it's safer I can use it. I was not aware of that method. Let me know if I should do the change.


---

Comment by chapoton created at 2018-12-02 19:57:24

yes, please use "bytes_to_str".


---

Comment by git created at 2018-12-02 21:12:29

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dcoudert created at 2018-12-02 21:13:48

Thank you. I agree it is much cleaner this way.


---

Comment by chapoton created at 2018-12-06 13:11:16

Changing status from needs_review to positive_review.


---

Comment by chapoton created at 2018-12-06 13:11:16

ok, let it be


---

Comment by embray created at 2018-12-06 17:04:00

Changing status from positive_review to needs_work.


---

Comment by embray created at 2018-12-06 17:04:00

Please try to avoid using inline imports if it isn't strictly necessary; see recent discussion about this at #26758#comment:11


---

Comment by git created at 2018-12-06 17:15:05

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dcoudert created at 2018-12-06 17:16:06

I have not touched to existing imports. But it could also be done here if needed.


---

Comment by dcoudert created at 2018-12-06 17:16:06

Changing status from needs_work to needs_review.


---

Comment by chapoton created at 2018-12-06 17:59:16

ok


---

Comment by chapoton created at 2018-12-06 17:59:16

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2018-12-08 02:54:24

Resolution: fixed


---

Comment by embray created at 2018-12-10 12:55:39

It would also be great to squash trivial changes like those together, although at least in this case both versions are at least valid (it's more of a problem when one commit contains trivial errors).


---

Comment by embray created at 2018-12-10 13:08:20

Didn't mean to delete that.  I think that's a bug in the trac plugin...
