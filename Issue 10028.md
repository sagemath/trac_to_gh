# Issue 10028: make cookies more secure

Issue created by migration from https://trac.sagemath.org/ticket/10029

Original creator: jason

Original creation time: 2010-09-29 00:58:32

Assignee: jason, was

CC:  jhpalmieri

Tim Dumol introduced some changes in #9822 that are designed to make cookies more secure and work better.  The patch is attached.


---

Attachment


---

Comment by jason created at 2010-09-29 01:13:42

This patch needs some work.  See the discussion at the bottom of #9822 for a bug report.


---

Comment by jason created at 2010-09-29 01:13:56

Changing status from new to needs_work.


---

Comment by jason created at 2010-09-29 01:22:06

Here is the bug report (repeated on this ticket for clarity and completeness)

I installed this on my server (4.5.2) where I have apache forwarding port 80 (outside) to port 8000 (the local sage server). On logging in, I get a browser message: "Please enable cookies or delete all Sage cookies and localhost cookies in your browser and try again." In Firebug, I see I have two cookies: `cookie_test_80`, and nb_session_8000}}}. That looks wrong, doesn't it?

When I delete all of my cookies from that server, I still can't log in (same error). After the error page comes up, and I click "Continue", I see the `cookie_test_80` cookie show up in FireCookies?. 


Before the patch, I see a `cookie_test_8000` and a `nb_session_8000` cookie. So maybe the problem is that after the patch above, we have a `cookie_test_80` cookie.


---

Comment by chapoton created at 2020-03-28 09:57:20

Changing status from needs_work to needs_review.


---

Comment by chapoton created at 2020-03-28 09:57:20

this a very old ticket about the deprecated sagenb. Can we close ?


---

Comment by jhpalmieri created at 2020-03-28 16:39:23

Changing status from needs_review to positive_review.


---

Comment by chapoton created at 2020-03-28 17:11:36

Resolution: invalid
