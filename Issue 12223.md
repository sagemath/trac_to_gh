# Issue 12223: Change some random variable indexes that cause doctest failures if doctests are run in a different order.

Issue created by migration from Trac.

Original creator: roed

Original creation time: 2012-01-31 00:48:38

Assignee: mvngu

CC:  robertwb

Texture variables in 3d plotting and some symbolic variables used by maxima have variable names that depend on the order they were created.  This patch changes the number to a `...`


---

Comment by roed created at 2012-01-31 00:49:47

Changing status from new to needs_review.


---

Comment by kcrisman created at 2012-01-31 02:59:16

I don't like this change for the Maxima.  The point is just as much for end users (many of whom will never have seen this type of output) to know what the output should look like as for testing.  We've tried to explain what is going on with these; the `...` may confuse people who are brand-new but want to solve something.  (Also, I think there are more than this out there, not to mention the real and complex constants...)

I understand the point of this patch.  I'm just not sure it's necessary, nor advisable in all instances.  The textures I have been annoyed by in the past too, and those are relatively internal, so that's a different story.

Also, the commit message is a little long on the first line :)

I'd be interested in hearing from others on these issues, though.


---

Comment by roed created at 2012-01-31 03:08:21

The motivation for these particular changes is that Robert and I are rewriting the doctest framework in Sage (in order to clean up the code, use less temp files, perform timing regression testing...), and these tests break in the new framework since code is executed in a slightly different code path.

If you don't think the maxima ones are good changes, we can postpone them to the patch that actually accompanies the new doctesting scripts and just change things to the new numbers.

Once we're agreed on the right approach I'll go back and change the commit message.


---

Comment by kcrisman created at 2012-01-31 03:23:47

Replying to [comment:3 roed]:
> The motivation for these particular changes is that Robert and I are rewriting the doctest framework in Sage (in order to clean up the code, use less temp files, perform timing regression testing...), and these tests break in the new framework since code is executed in a slightly different code path.
I see.  I've heard a little about this - curious as to where the main ticket is for this, though doubtless I wouldn't understand much :)  Fewer temp files is certainly a good thing, as is the timing issue - it always seems to bite us.
> If you don't think the maxima ones are good changes, we can postpone them to the patch that actually accompanies the new doctesting scripts and just change things to the new numbers.
Probably that's better, at least for now.  If we had "dummy numbers" like `z123` it might be different, but the `z...` could look confusing to a newbie, I think. 
> Once we're agreed on the right approach I'll go back and change the commit message.
Again, I'm surprised there aren't more of the 3d plot guys to change.  Maybe these are just the ones whose order changed.


---

Comment by roed created at 2012-02-02 09:09:11

Alright, I've postponed the changes to the symbolic stuff.  I imagine there are more 3d guys to change, but they don't need to be changed to make the new scripts pass.


---

Comment by kcrisman created at 2012-02-02 18:15:01

Changing status from needs_review to needs_work.


---

Comment by kcrisman created at 2012-02-02 18:15:01

Commit message is now inaccurate, and too long (what is it, 80 characters? I always forget) according to our guidelines...  Sorry to be nitpicky.


---

Comment by robertwb created at 2012-02-02 18:42:04

See #12415


---

Attachment


---

Comment by roed created at 2012-02-02 20:11:27

I thought I'd changed that.  Fixed now.  Thanks for the reviews.


---

Comment by roed created at 2012-02-02 20:11:27

Changing status from needs_work to needs_review.


---

Comment by kcrisman created at 2012-02-02 20:22:24

No problem, looks fine.  Testing... passed.


---

Comment by kcrisman created at 2012-02-02 20:22:24

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2012-02-07 13:21:46

Resolution: fixed
