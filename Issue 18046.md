# Issue 18046: Words random element is wrong

Issue created by migration from Trac.

Original creator: vdelecroix

Original creation time: 2015-04-22 17:11:39

CC:  slabbe ncohen


```
sage: W = Words('ab', 50)
sage: W
Words of length 50 over {'a', 'b'}
sage: w = W.random_element()
sage: w.length()
+Infinity
```



---

Comment by ncohen created at 2015-04-22 17:14:46

More precisely:


```
sage: w=Words('ab',50).random_element()
sage: w.length()
+Infinity
sage: len(list(w))
50
```



---

Comment by ncohen created at 2015-04-22 17:16:22

And actually

```
sage: Words('ab',40)(('a' for i in range(100))).length()
+Infinity
```



---

Comment by vdelecroix created at 2015-04-22 17:17:07

New commits:


---

Comment by vdelecroix created at 2015-04-22 17:17:07

Changing status from new to needs_review.


---

Comment by vdelecroix created at 2015-04-22 17:17:40

Replying to [comment:2 ncohen]:
> And actually
> {{{
> sage: Words('ab',40)(('a' for i in range(100))).length()
> +Infinity
> }}}

I am not sure I want to fix that...


---

Comment by ncohen created at 2015-04-22 17:42:34

I am not sure why you think that the bug is a problem with `random_element` ?.. `:-P`


---

Comment by vdelecroix created at 2015-04-22 17:50:29

Replying to [comment:5 ncohen]:
> I am not sure why you think that the bug is a problem with `random_element` ?.. `:-P`

Because `random_element` does not work! Isn't it a good reason ;-PPP


---

Comment by ncohen created at 2015-04-22 21:17:04

Come on Vincent, you know that you are not fixing what should be. Something has to be done about the word itself.


---

Comment by ncohen created at 2015-04-23 08:04:42

A way out at public/18283.


---

Comment by git created at 2015-04-25 09:33:28

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by vdelecroix created at 2015-04-25 09:34:06

thanks! I added a doctest. You can review my commit.


---

Comment by ncohen created at 2015-04-25 12:42:52

Passed all tests, good to go!

Nathann


---

Comment by ncohen created at 2015-04-25 12:42:52

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2015-04-26 02:21:46

Resolution: fixed
