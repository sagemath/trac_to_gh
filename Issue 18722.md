# Issue 18722: Poset documentation polishing: integer-valued properties

Issue created by migration from https://trac.sagemath.org/ticket/18959

Original creator: jmantysalo

Original creation time: 2015-07-28 16:14:13

CC:  ncohen vdelecroix

Check documentation in functions like `cardinality()`, `height()` and `dimension()`.

This continues the series beginning with #18925 and #18941.


---

Comment by jmantysalo created at 2015-08-11 10:19:07

Code changes: Return type of all functions is now `Integer`. There was slight inconsistency between for example `dimension()` and `width()`.

Tests: Added test for empty poset to those functions where it wasn't already.

Docstrings: Added some some kind of "human-readable" explanation to `dimension()`. Otherwise normal things like "returns" -> "return".

Examples: Tried to make simple examples that are possible to verify by hand. For example `relations_number` for the Pentagon Poset. For `dimension()` selected a beatiful poset (with untrivial dimension). `:=)`

Questions:

Is it exactly true that "Relations are also often called intervals."? I would say that every relation (i.e. pair of comparable elemenst) *defines* an interval.

Is the term 'realizer' commonly used? If so, it should be mentioned in the documentation of `dimension()` (because of googling).

There is one 'not tested' in `dimension()`. Can a test combine 'long time' and optional? As it takes less than 30 seconds with additional package, it could be tested with `--long`.

About English, should one say "the longest chain" or "a longest chain" when there can be several chains equal in lenght? (Compare to "a smallest set of linear extensions" on `dimension()`.)
----
New commits:


---

Comment by ncohen created at 2015-08-11 12:44:09

Vincent will probably be interested by you int->Integer change.


---

Comment by jmantysalo created at 2015-08-11 18:16:25

Replying to [comment:3 ncohen]:
> Vincent will probably be interested by you int->Integer change.

OK. I am not sure what way this should be. For now return type of poset `cardinality()` differs from type of graph `order()`.


---

Comment by ncohen created at 2015-08-11 18:53:17

> OK. I am not sure what way this should be. For now return type of poset `cardinality()` differs from type of graph `order()`.

This inconsistency was probably introduced by #18159.


---

Comment by jmantysalo created at 2015-08-12 06:42:27

Replying to [comment:5 ncohen]:
> > OK. I am not sure what way this should be. For now return type of poset `cardinality()` differs from type of graph `order()`.
> 
> This inconsistency was probably introduced by #18159.

OK, so `cardinality()` can be seen as an exception. But it does not explain why `width()` and `height()` gives different return types.


---

Comment by jmantysalo created at 2015-08-16 04:50:46

There is ongoing discussion about `int` vs. `Integer` in both sage-devel and in another ticket. Nathann, just to make sure: I guess you have nothing against changing return type of `height()` and `dimension()`?

You might be interested in other changes too, as I am touching functions made by you.


---

Comment by ncohen created at 2015-08-16 07:39:20

> There is ongoing discussion about `int` vs. `Integer` in both sage-devel and in another ticket. Nathann, just to make sure: I guess you have nothing against changing return type of `height()` and `dimension()`?

You guess wrong. I view it as the progressive suppression of 'integers' from Sage, for absolutely no good reason. It will make us import Integer everywhere, and wrap infinitely many 'return x' with 'return Integer(x)', just because people cannot stand that Sage's integer is not the default one everywhere.

There is a discussion on #18159 on the theme "I don't mind your returning Sage Integers if you like, but I don't see why you want to force me to do it too".

Nathann


---

Comment by git created at 2015-08-17 03:36:36

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jmantysalo created at 2015-08-17 04:48:05

Changing status from new to needs_review.


---

Comment by jmantysalo created at 2015-08-17 04:48:05

Replying to [comment:8 ncohen]:
> > There is ongoing discussion about `int` vs. `Integer` in both sage-devel and in another ticket. Nathann, just to make sure: I guess you have nothing against changing return type of `height()` and `dimension()`?
> 
> You guess wrong.

OK, here is modified patch; `int` vs. `Integer` can be resolved later.

This patch contains non-relating modification to `random_order_ideal()`: `direction='junk'` will now raise exception instead of behaving like `direction='up'`.


---

Comment by ncohen created at 2015-08-17 07:37:01

Hello !

Two comments:

- There is an 'Integer(0)' left
- It is (slightly) better to have `# random` than `# not tested`: in the first case the command is not run, while in the second it is run and the output is not compared with the expected results (which would still report an error in case of an exception). Given the command in question ('sage: L') it hardly matters here

Regardless of what you decide to do with those two points, you can set the ticket to `positive_review` on my behalf.

Nathann


---

Comment by git created at 2015-08-17 08:17:54

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jmantysalo created at 2015-08-17 08:21:29

Changing status from needs_review to positive_review.


---

Comment by jmantysalo created at 2015-08-17 08:21:29

Replying to [comment:11 ncohen]:

> - It is (slightly) better to have `# random` than `# not tested`: in the first case the command is not run - -

True. Corrected.

> - There is an 'Integer(0)' left

> Regardless of what you decide to do with those two points, you can set the ticket to `positive_review` on my behalf.

I would have said this a bug. I corrected it also.

Thanks!


---

Comment by vbraun created at 2015-08-19 01:19:23

Resolution: fixed
