# Issue 19308: Mathon's pseudocylic strongly regular graphs.

archive/issues_019308.json:
```json
{
    "body": "CC:  @nathanncohen\n\nImplement a construction by Mathon of s.r.g's with parameters\n`((4t+1)(4t-1)^2, 2t(4t(4t-1)-1), t(4t(4t-1)-1)-1, t(4t(4t-1)-1))` given that\n`4t-1` is a prime power and there exists an s.r.g. with parameters `(4t+1,2t,t-1,t)` from\n\nR. A. Mathon, Symmetric conference matrices of order `pq^2 + 1`, Canad. J. Math. 30 (1978) 321-331\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/19545\n\n",
    "closed_at": "2015-11-11T19:40:44Z",
    "created_at": "2015-11-07T16:59:07Z",
    "labels": [
        "component: graph theory"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.10",
    "title": "Mathon's pseudocylic strongly regular graphs.",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19308",
    "user": "https://github.com/dimpase"
}
```
CC:  @nathanncohen

Implement a construction by Mathon of s.r.g's with parameters
`((4t+1)(4t-1)^2, 2t(4t(4t-1)-1), t(4t(4t-1)-1)-1, t(4t(4t-1)-1))` given that
`4t-1` is a prime power and there exists an s.r.g. with parameters `(4t+1,2t,t-1,t)` from

R. A. Mathon, Symmetric conference matrices of order `pq^2 + 1`, Canad. J. Math. 30 (1978) 321-331



Issue created by migration from https://trac.sagemath.org/ticket/19545





---

archive/issue_comments_264833.json:
```json
{
    "body": "New commits:",
    "created_at": "2015-11-07T17:56:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19308",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19308#issuecomment-264833",
    "user": "https://github.com/dimpase"
}
```

New commits:



---

archive/issue_comments_264834.json:
```json
{
    "body": "Coooooool ! `:-D`",
    "created_at": "2015-11-07T18:44:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19308",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19308#issuecomment-264834",
    "user": "https://github.com/nathanncohen"
}
```

Coooooool ! `:-D`



---

archive/issue_comments_264835.json:
```json
{
    "body": "A couple of remarks:\n\n- Bad indentation in the 'reference' blocks.\n- This is ridiculous\n  {{{\n  sum(map(lambda i: P[a.index(g**(2*i))], xrange(1, 2*t)))\n  }}}\n  Forget these lambda functions and use Python. It will be easier to read, and less costly in memory/computations. What you want is `sum(P[a.index(g**(2*i))] for i in range(1,2*t))`.\n\n- You did the right thing when you defined the function `B(m)`. Please do the same for the lambda function that you use to define `A`.\n\nNathann",
    "created_at": "2015-11-07T18:48:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19308",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19308#issuecomment-264835",
    "user": "https://github.com/nathanncohen"
}
```

A couple of remarks:

- Bad indentation in the 'reference' blocks.
- This is ridiculous
  {{{
  sum(map(lambda i: P[a.index(g**(2*i))], xrange(1, 2*t)))
  }}}
  Forget these lambda functions and use Python. It will be easier to read, and less costly in memory/computations. What you want is `sum(P[a.index(g**(2*i))] for i in range(1,2*t))`.

- You did the right thing when you defined the function `B(m)`. Please do the same for the lambda function that you use to define `A`.

Nathann



---

archive/issue_comments_264836.json:
```json
{
    "body": "Should we have a function that attempts to construct an SRG with parameters `(4z+1,2z,z-1,z)` ?\n\nOne can do this either for `4z+1` a prime power (then it could be Paley graph), or\n`4z+1=(4t+1)(4t-1)^2`, for `t` for which the construction of this ticket works, in particular so that there is an SRG with parameters `(4t+1,2t,t-1,t)`. I.e. there is a recursion.",
    "created_at": "2015-11-07T21:45:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19308",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19308#issuecomment-264836",
    "user": "https://github.com/dimpase"
}
```

Should we have a function that attempts to construct an SRG with parameters `(4z+1,2z,z-1,z)` ?

One can do this either for `4z+1` a prime power (then it could be Paley graph), or
`4z+1=(4t+1)(4t-1)^2`, for `t` for which the construction of this ticket works, in particular so that there is an SRG with parameters `(4t+1,2t,t-1,t)`. I.e. there is a recursion.



---

archive/issue_comments_264837.json:
```json
{
    "body": "Replying to [comment:5 dimpase]:\n> Should we have a function that attempts to construct an SRG with parameters `(4z+1,2z,z-1,z)` ?\n> \n> One can do this either for `4z+1` a prime power (then it could be Paley graph), or\n> `4z+1=(4t+1)(4t-1)^2`, for `t` for which the construction of this ticket works, in particular so that there is an SRG with parameters `(4t+1,2t,t-1,t)`. I.e. there is a recursion.\n> \n\nso if we want a proper `is_whatever()` function (which will absorb `is_paley()`) dealing with such graphs, we need to be able to say with certainty that we can build it, before returning a promise (i.e. that `t[0](*t[1:])` thing) to build it.\n\nThis will need something like what we do for (skew) Hadamard matrices; where should such functions for graphs go?",
    "created_at": "2015-11-07T23:36:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19308",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19308#issuecomment-264837",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:5 dimpase]:
> Should we have a function that attempts to construct an SRG with parameters `(4z+1,2z,z-1,z)` ?
> 
> One can do this either for `4z+1` a prime power (then it could be Paley graph), or
> `4z+1=(4t+1)(4t-1)^2`, for `t` for which the construction of this ticket works, in particular so that there is an SRG with parameters `(4t+1,2t,t-1,t)`. I.e. there is a recursion.
> 

so if we want a proper `is_whatever()` function (which will absorb `is_paley()`) dealing with such graphs, we need to be able to say with certainty that we can build it, before returning a promise (i.e. that `t[0](*t[1:])` thing) to build it.

This will need something like what we do for (skew) Hadamard matrices; where should such functions for graphs go?



---

archive/issue_comments_264838.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2015-11-08T00:24:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19308",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19308#issuecomment-264838",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_264839.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2015-11-08T00:45:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19308",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19308#issuecomment-264839",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_264840.json:
```json
{
    "body": "Hello Dima,\n\nI don't think that we need some specific function that would manage both paley graphs and these ones, but that's probably up to you given that I have not read the code yet. I usually prefer to keep things as simple as possible, so one `is_` function by constructor is fine with me.\n\nAbout your `is_` function, I do not understand why you would need something different from the usual output: it *does* tell you with certainty that there is a way to build the function.\n\nNathann",
    "created_at": "2015-11-08T08:11:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19308",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19308#issuecomment-264840",
    "user": "https://github.com/nathanncohen"
}
```

Hello Dima,

I don't think that we need some specific function that would manage both paley graphs and these ones, but that's probably up to you given that I have not read the code yet. I usually prefer to keep things as simple as possible, so one `is_` function by constructor is fine with me.

About your `is_` function, I do not understand why you would need something different from the usual output: it *does* tell you with certainty that there is a way to build the function.

Nathann



---

archive/issue_comments_264841.json:
```json
{
    "body": "Replying to [comment:9 ncohen]:\n> Hello Dima,\n> \n> I don't think that we need some specific function that would manage both paley graphs and these ones, but that's probably up to you given that I have not read the code yet. I usually prefer to keep things as simple as possible, so one `is_` function by constructor is fine with me.\n> \n> About your `is_` function, I do not understand why you would need something different from the usual output: it *does* tell you with certainty that there is a way to build the function.\n\n\nThe situation with (4z+1,2z,z-1,z)-graphs is akin to these ones that come from Hadamard matrices only in this case we have conference matrices, of size 2 (mod 4), which is the number `v` of\ngraph vertices +1.\n\nWith Hadamard graphs, we have these RHCD (sp?) recursive constructions of yours; for conference\nmatrices, we have yet to code such a recursive construction).\nApart from Paley and the construction of this ticket, there are potentially more (e.g. some OAs\ncan give such graphs, when `v` is a square).\n\nWhere do we put such a construction?",
    "created_at": "2015-11-08T09:07:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19308",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19308#issuecomment-264841",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:9 ncohen]:
> Hello Dima,
> 
> I don't think that we need some specific function that would manage both paley graphs and these ones, but that's probably up to you given that I have not read the code yet. I usually prefer to keep things as simple as possible, so one `is_` function by constructor is fine with me.
> 
> About your `is_` function, I do not understand why you would need something different from the usual output: it *does* tell you with certainty that there is a way to build the function.


The situation with (4z+1,2z,z-1,z)-graphs is akin to these ones that come from Hadamard matrices only in this case we have conference matrices, of size 2 (mod 4), which is the number `v` of
graph vertices +1.

With Hadamard graphs, we have these RHCD (sp?) recursive constructions of yours; for conference
matrices, we have yet to code such a recursive construction).
Apart from Paley and the construction of this ticket, there are potentially more (e.g. some OAs
can give such graphs, when `v` is a square).

Where do we put such a construction?



---

archive/issue_comments_264842.json:
```json
{
    "body": "In a `combinat/matrix/conference.py` module?",
    "created_at": "2015-11-08T09:23:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19308",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19308#issuecomment-264842",
    "user": "https://github.com/nathanncohen"
}
```

In a `combinat/matrix/conference.py` module?



---

archive/issue_comments_264843.json:
```json
{
    "body": "Replying to [comment:11 ncohen]:\n> In a `combinat/matrix/conference.py` module?\n\n\nRight. Although I'd rather do this later, and for the time being just add two graphs (on 45 and 441 vertices) explicitly.",
    "created_at": "2015-11-08T10:09:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19308",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19308#issuecomment-264843",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:11 ncohen]:
> In a `combinat/matrix/conference.py` module?


Right. Although I'd rather do this later, and for the time being just add two graphs (on 45 and 441 vertices) explicitly.



---

archive/issue_comments_264844.json:
```json
{
    "body": "Okay. Then please add a warning in the doc somewhere that we can't miss, so that we remember that this should be a family and not two graphs only.\n\nNathann",
    "created_at": "2015-11-08T11:21:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19308",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19308#issuecomment-264844",
    "user": "https://github.com/nathanncohen"
}
```

Okay. Then please add a warning in the doc somewhere that we can't miss, so that we remember that this should be a family and not two graphs only.

Nathann



---

archive/issue_comments_264845.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-11-08T23:31:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19308",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19308#issuecomment-264845",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_264846.json:
```json
{
    "body": "OK, I did a bit more than just adding explicit graph parameters \n\n```\n+    .. TODO::\n+\n+        The current implementation only gives a subset of all possible graphs that can be\n+        obtained using this construction. A  full implementation should rely on a database\n+        of conference matrices (or, equivalently, on a database of s.r.g.'s with parameters\n+        `(4t+1,2t,t-1,t)`. Currently we make an extra assumtion that `4t+1` is a prime power.\n+        The first case where we miss a construction is `t=11`, where we could (recursively)\n+        use the graph for `t=1` to construct a graph on 83205 vertices.\n```",
    "created_at": "2015-11-08T23:34:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19308",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19308#issuecomment-264846",
    "user": "https://github.com/dimpase"
}
```

OK, I did a bit more than just adding explicit graph parameters 

```
+    .. TODO::
+
+        The current implementation only gives a subset of all possible graphs that can be
+        obtained using this construction. A  full implementation should rely on a database
+        of conference matrices (or, equivalently, on a database of s.r.g.'s with parameters
+        `(4t+1,2t,t-1,t)`. Currently we make an extra assumtion that `4t+1` is a prime power.
+        The first case where we miss a construction is `t=11`, where we could (recursively)
+        use the graph for `t=1` to construct a graph on 83205 vertices.
```



---

archive/issue_comments_264847.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2015-11-09T00:39:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19308",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19308#issuecomment-264847",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_264848.json:
```json
{
    "body": "Helloooooooooooooooo Dima,\n\nThank you for this strongly regular graph. Here is a first-pass review:\n\n- The `G` parameter scared me a bit, but it seems that you don't use it at\n  all. Same for `L`. Could you remove them?\n\n- That's one useless lambda function `:-P`\n  {{{\n  #!diff\n  -return (lambda q : MathonPseudocyclicStronglyRegularGraph(q),t)\n  +return (MathonPseudocyclicStronglyRegularGraph,t)\n  }}}\n\n- (not important) you split 'import' blocks when they are longer than 80\n  characters. I believe that in those cases the code is more readable if you\n  leave it on it line.\n  {{{\n  +    from sage.matrix.constructor import matrix, block_matrix, \\\n  +        ones_matrix, identity_matrix\n  }}}\n  If it were me I wouldn't have split this one. Just a remark, it's up to you.\n\n- I don't think that you need to import `ValueError` (or any of the common\n  Python exceptions). It's always around.\n\n- Misleading index:\n  {{{\n  +    # Order the elements of K in K_list\n  +    # so that K_list[i] = -K_list[n-i-1], and 0 comes last\n  }}}\n  `n-i-2`?\n\n- You really don't find the latter more legible?...\n  {{{\n  P = map(lambda b: matrix(ZZ,q,q,lambda i,j: 1 if a[j]==a[i]+b else 0), a)\n  P = [matrix(ZZ,q,q,lambda i,j: 1 if a[j]==a[i]+b else 0)\n       for b in a]\n  }}}\n\n- There is a missing ')' in your TODO block.\n\nNathann",
    "created_at": "2015-11-09T09:41:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19308",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19308#issuecomment-264848",
    "user": "https://github.com/nathanncohen"
}
```

Helloooooooooooooooo Dima,

Thank you for this strongly regular graph. Here is a first-pass review:

- The `G` parameter scared me a bit, but it seems that you don't use it at
  all. Same for `L`. Could you remove them?

- That's one useless lambda function `:-P`
  {{{
  #!diff
  -return (lambda q : MathonPseudocyclicStronglyRegularGraph(q),t)
  +return (MathonPseudocyclicStronglyRegularGraph,t)
  }}}

- (not important) you split 'import' blocks when they are longer than 80
  characters. I believe that in those cases the code is more readable if you
  leave it on it line.
  {{{
  +    from sage.matrix.constructor import matrix, block_matrix, \
  +        ones_matrix, identity_matrix
  }}}
  If it were me I wouldn't have split this one. Just a remark, it's up to you.

- I don't think that you need to import `ValueError` (or any of the common
  Python exceptions). It's always around.

- Misleading index:
  {{{
  +    # Order the elements of K in K_list
  +    # so that K_list[i] = -K_list[n-i-1], and 0 comes last
  }}}
  `n-i-2`?

- You really don't find the latter more legible?...
  {{{
  P = map(lambda b: matrix(ZZ,q,q,lambda i,j: 1 if a[j]==a[i]+b else 0), a)
  P = [matrix(ZZ,q,q,lambda i,j: 1 if a[j]==a[i]+b else 0)
       for b in a]
  }}}

- There is a missing ')' in your TODO block.

Nathann



---

archive/issue_comments_264849.json:
```json
{
    "body": "Changing status from new to needs_info.",
    "created_at": "2015-11-09T09:41:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19308",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19308#issuecomment-264849",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from new to needs_info.



---

archive/issue_comments_264850.json:
```json
{
    "body": "Replying to [comment:17 ncohen]:\nthanks!\n\n> Thank you for this strongly regular graph. Here is a first-pass review:\n> \n> - The `G` parameter scared me a bit, but it seems that you don't use it at\n>   all. Same for `L`. Could you remove them? \n\n\nwell, I plan to provide an example of how to use L (for `v=441` (t=2) one can get an interesting example). The smallest example where one can provide G  different from the default has `v=25*23^2` (t=4). I can do this too (although it would be tagged `# very long time an' lotsa RAM`).\n\n> \n> - That's one useless lambda function `:-P`\n>   {{{\n>   #!diff\n>   -return (lambda q : MathonPseudocyclicStronglyRegularGraph(q),t)\n>   +return (MathonPseudocyclicStronglyRegularGraph,t)\n>   }}}\n> \n \nthere are more places like this there - this one was copied from `is_paley`...\n\n\n> - (not important) you split 'import' blocks when they are longer than 80\n>   characters. I believe that in those cases the code is more readable if you\n>   leave it on it line.\n\n\nunless it's a violation of something, I don't mind\n\n>   {{{\n>   +    from sage.matrix.constructor import matrix, block_matrix, \\\n>   +        ones_matrix, identity_matrix\n>   }}}\n>   If it were me I wouldn't have split this one. Just a remark, it's up to you.\n\n> \n> - I don't think that you need to import `ValueError` (or any of the common\n>   Python exceptions). It's always around.\n> \n> - Misleading index:\n>   {{{\n>   +    # Order the elements of K in K_list\n>   +    # so that K_list[i] = -K_list[n-i-1], and 0 comes last\n>   }}}\n>   `n-i-2`?\n\n\noh right, it's from your comments to something a bit different -- I'll fix this.\n\n> \n> - You really don't find the latter more legible?...\n>   {{{\n>   P = map(lambda b: matrix(ZZ,q,q,lambda i,j: 1 if a[j]==a[i]+b else 0), a)\n>   P = [matrix(ZZ,q,q,lambda i,j: 1 if a[j]==a[i]+b else 0)\n>        for b in a]\n>   }}} \n\n\n`\\begin{rant}`\nI lived under various dictators, some more benevolent, some less. Often one has to speak Aesop's (Esope, Ezop) language in order not to get in trouble. Please consider this Aesope's language code my hidden protest against Python's BDFL. (for I hate index variables and loops, while he seems to enjoy pushing them down my throat :-)) \n`\\end{rant}`\n\n\n\n> \n> - There is a missing ')' in your TODO block.\n> \n> Nathann",
    "created_at": "2015-11-09T10:13:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19308",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19308#issuecomment-264850",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:17 ncohen]:
thanks!

> Thank you for this strongly regular graph. Here is a first-pass review:
> 
> - The `G` parameter scared me a bit, but it seems that you don't use it at
>   all. Same for `L`. Could you remove them? 


well, I plan to provide an example of how to use L (for `v=441` (t=2) one can get an interesting example). The smallest example where one can provide G  different from the default has `v=25*23^2` (t=4). I can do this too (although it would be tagged `# very long time an' lotsa RAM`).

> 
> - That's one useless lambda function `:-P`
>   {{{
>   #!diff
>   -return (lambda q : MathonPseudocyclicStronglyRegularGraph(q),t)
>   +return (MathonPseudocyclicStronglyRegularGraph,t)
>   }}}
> 
 
there are more places like this there - this one was copied from `is_paley`...


> - (not important) you split 'import' blocks when they are longer than 80
>   characters. I believe that in those cases the code is more readable if you
>   leave it on it line.


unless it's a violation of something, I don't mind

>   {{{
>   +    from sage.matrix.constructor import matrix, block_matrix, \
>   +        ones_matrix, identity_matrix
>   }}}
>   If it were me I wouldn't have split this one. Just a remark, it's up to you.

> 
> - I don't think that you need to import `ValueError` (or any of the common
>   Python exceptions). It's always around.
> 
> - Misleading index:
>   {{{
>   +    # Order the elements of K in K_list
>   +    # so that K_list[i] = -K_list[n-i-1], and 0 comes last
>   }}}
>   `n-i-2`?


oh right, it's from your comments to something a bit different -- I'll fix this.

> 
> - You really don't find the latter more legible?...
>   {{{
>   P = map(lambda b: matrix(ZZ,q,q,lambda i,j: 1 if a[j]==a[i]+b else 0), a)
>   P = [matrix(ZZ,q,q,lambda i,j: 1 if a[j]==a[i]+b else 0)
>        for b in a]
>   }}} 


`\begin{rant}`
I lived under various dictators, some more benevolent, some less. Often one has to speak Aesop's (Esope, Ezop) language in order not to get in trouble. Please consider this Aesope's language code my hidden protest against Python's BDFL. (for I hate index variables and loops, while he seems to enjoy pushing them down my throat :-)) 
`\end{rant}`



> 
> - There is a missing ')' in your TODO block.
> 
> Nathann



---

archive/issue_comments_264851.json:
```json
{
    "body": "Hellooooo Dima,\n\n> well, I plan to provide an example of how to use L (for `v=441` (t=2) one can\n> get an interesting example). The smallest example where one can provide G\n> different from the default has `v=25*23^2` (t=4). I can do this too (although\n> it would be tagged `# very long time an' lotsa RAM`).\n\n\nHMmmmmmmmm. Well, my problem with those arguments is that it is very hard for an\nend-user to understand what exactly they do. You say that the construction is\n\"parameterized\" by a skew latin square, and that one can provide one, but\nwell.. Does not look very appealing.\n\nOkay, let's say that I agree. I'll blame it on your unnatural obsession with\nhaving 'all SRGs of each parameter set' and not 'just any of them' `:-P`\n\n> there are more places like this there - this one was copied from `is_paley`...\n\n\nWell, please fix this one at least `:-P`\n\n> unless it's a violation of something, I don't mind\n\n\nIt's probably a violation of something, but that something is just \"another\nguy's advice\". Decide for yourself `:-P`\n\n> `\\begin{rant}` I lived under various dictators, some more benevolent, some\n> less. Often one has to speak Aesop's (Esope, Ezop) language in order not to\n> get in trouble. Please consider this Aesope's language code my hidden protest\n> against Python's BDFL. (for I hate index variables and loops, while he seems\n> to enjoy pushing them down my throat :-)) `\\end{rant}`\n\n\nI forgive you, but please think of the childr----- of the cost in memory and cpu\nusage of what you do, for those lambda functions which you like for their\n'efficiency and simplicity' waste both of them, uselessly. When you write code,\nthink of what the computer does with it `:-P`\n\nHAve fuuuuuuuuuun,\n\nNathann",
    "created_at": "2015-11-09T14:16:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19308",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19308#issuecomment-264851",
    "user": "https://github.com/nathanncohen"
}
```

Hellooooo Dima,

> well, I plan to provide an example of how to use L (for `v=441` (t=2) one can
> get an interesting example). The smallest example where one can provide G
> different from the default has `v=25*23^2` (t=4). I can do this too (although
> it would be tagged `# very long time an' lotsa RAM`).


HMmmmmmmmm. Well, my problem with those arguments is that it is very hard for an
end-user to understand what exactly they do. You say that the construction is
"parameterized" by a skew latin square, and that one can provide one, but
well.. Does not look very appealing.

Okay, let's say that I agree. I'll blame it on your unnatural obsession with
having 'all SRGs of each parameter set' and not 'just any of them' `:-P`

> there are more places like this there - this one was copied from `is_paley`...


Well, please fix this one at least `:-P`

> unless it's a violation of something, I don't mind


It's probably a violation of something, but that something is just "another
guy's advice". Decide for yourself `:-P`

> `\begin{rant}` I lived under various dictators, some more benevolent, some
> less. Often one has to speak Aesop's (Esope, Ezop) language in order not to
> get in trouble. Please consider this Aesope's language code my hidden protest
> against Python's BDFL. (for I hate index variables and loops, while he seems
> to enjoy pushing them down my throat :-)) `\end{rant}`


I forgive you, but please think of the childr----- of the cost in memory and cpu
usage of what you do, for those lambda functions which you like for their
'efficiency and simplicity' waste both of them, uselessly. When you write code,
think of what the computer does with it `:-P`

HAve fuuuuuuuuuun,

Nathann



---

archive/issue_comments_264852.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-11-09T22:46:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19308",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19308#issuecomment-264852",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_264853.json:
```json
{
    "body": "Replying to [comment:19 ncohen]:\n\n> > well, I plan to provide an example of how to use L (for `v=441` (t=2) one can\n> > get an interesting example). The smallest example where one can provide G\n> > different from the default has `v=25*23^2` (t=4). I can do this too (although\n> > it would be tagged `# very long time an' lotsa RAM`).\n\n\nI created such an `L`, and was surprised (see last commits)\n> \n> > there are more places like this there - this one was copied from `is_paley`...\n\n> \n> Well, please fix this one at least `:-P`\n\n\nok. Ready for another round I suppose.\n  \n---\nNew commits:",
    "created_at": "2015-11-09T22:48:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19308",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19308#issuecomment-264853",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:19 ncohen]:

> > well, I plan to provide an example of how to use L (for `v=441` (t=2) one can
> > get an interesting example). The smallest example where one can provide G
> > different from the default has `v=25*23^2` (t=4). I can do this too (although
> > it would be tagged `# very long time an' lotsa RAM`).


I created such an `L`, and was surprised (see last commits)
> 
> > there are more places like this there - this one was copied from `is_paley`...

> 
> Well, please fix this one at least `:-P`


ok. Ready for another round I suppose.
  
---
New commits:



---

archive/issue_comments_264854.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2015-11-09T22:48:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19308",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19308#issuecomment-264854",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_264855.json:
```json
{
    "body": "Hellooooooooo Dima,\n\nThanks for this additional details in the doc.\n\nAbout your example: you say in the doc that `that non-isomorphic Latin squares still lead to isomorphic graphs`, and I have two questions about it:\n\n1) Are you sure that the latin squares are not isomorphic?\n\n2) Would you mind inserting a 'can' in the sentence above, i.e. 'that non-isomorphic Latin squares *CAN* still lead to isomorphic graphs'?\n\nOther remarks\n\n1) You should add two backquotes around 'None' in the doc, as they appear in LaTeX script\n\n2) Funny, that's the first time I see a time-consuming call to is_isomorphic. Note that computing .automorphism_group (with 'bliss' installed) is much faster! So far 'bliss' is not automatically called for isomorphism test, however, but I expect that it would perform much better if the time taken by automorphism_group is a good indicator\n\n3) About your 'language' issues and the variety of dictators: it's another matter of taste, but I find your endline '\\' quite distateful. Note that you do not need them when there is an unclosed parenthesis, e.g. the following works both in the console and in .py code.\n\n```\nsage: print (1+\n....:        1)\n2\n```\n\nNathann",
    "created_at": "2015-11-10T10:30:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19308",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19308#issuecomment-264855",
    "user": "https://github.com/nathanncohen"
}
```

Hellooooooooo Dima,

Thanks for this additional details in the doc.

About your example: you say in the doc that `that non-isomorphic Latin squares still lead to isomorphic graphs`, and I have two questions about it:

1) Are you sure that the latin squares are not isomorphic?

2) Would you mind inserting a 'can' in the sentence above, i.e. 'that non-isomorphic Latin squares *CAN* still lead to isomorphic graphs'?

Other remarks

1) You should add two backquotes around 'None' in the doc, as they appear in LaTeX script

2) Funny, that's the first time I see a time-consuming call to is_isomorphic. Note that computing .automorphism_group (with 'bliss' installed) is much faster! So far 'bliss' is not automatically called for isomorphism test, however, but I expect that it would perform much better if the time taken by automorphism_group is a good indicator

3) About your 'language' issues and the variety of dictators: it's another matter of taste, but I find your endline '\' quite distateful. Note that you do not need them when there is an unclosed parenthesis, e.g. the following works both in the console and in .py code.

```
sage: print (1+
....:        1)
2
```

Nathann



---

archive/issue_comments_264856.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-11-10T13:08:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19308",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19308#issuecomment-264856",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_264857.json:
```json
{
    "body": "in fact, G9 and G3x3 cannot be isomorphic, as they have automorphism groups of different orders (checked with bliss too, just in case). \n\nProbably when I tried checking for isomorphism yesterday, either my laptop or me, or both, had a heisenbug issue... Sorry for confusion - I also was talking nonsense in the class I taught yesterday...",
    "created_at": "2015-11-10T13:12:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19308",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19308#issuecomment-264857",
    "user": "https://github.com/dimpase"
}
```

in fact, G9 and G3x3 cannot be isomorphic, as they have automorphism groups of different orders (checked with bliss too, just in case). 

Probably when I tried checking for isomorphism yesterday, either my laptop or me, or both, had a heisenbug issue... Sorry for confusion - I also was talking nonsense in the class I taught yesterday...



---

archive/issue_comments_264858.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2015-11-10T13:17:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19308",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19308#issuecomment-264858",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_264859.json:
```json
{
    "body": "Hello Dima,\n\nSorry, but you can't replace your 'not tested' doctest with a 'long time' just because it goes fast on your computer `^^;`\n\nYou told me that you just installed bliss, and because of that `.automorphism_group` is faster, but if you call `.automorphism_group(algorithm='sage')` the first instance still takes 17s (on my computer) to run `^^;`\n\nNathann",
    "created_at": "2015-11-10T13:44:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19308",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19308#issuecomment-264859",
    "user": "https://github.com/nathanncohen"
}
```

Hello Dima,

Sorry, but you can't replace your 'not tested' doctest with a 'long time' just because it goes fast on your computer `^^;`

You told me that you just installed bliss, and because of that `.automorphism_group` is faster, but if you call `.automorphism_group(algorithm='sage')` the first instance still takes 17s (on my computer) to run `^^;`

Nathann



---

archive/issue_comments_264860.json:
```json
{
    "body": "(and this is how long it will take for whoever does not have 'bliss' installed.\n\nNathann",
    "created_at": "2015-11-10T13:45:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19308",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19308#issuecomment-264860",
    "user": "https://github.com/nathanncohen"
}
```

(and this is how long it will take for whoever does not have 'bliss' installed.

Nathann



---

archive/issue_comments_264861.json:
```json
{
    "body": "(you can turn them into `optional - bliss` if you *really* want to have them)",
    "created_at": "2015-11-10T13:46:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19308",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19308#issuecomment-264861",
    "user": "https://github.com/nathanncohen"
}
```

(you can turn them into `optional - bliss` if you *really* want to have them)



---

archive/issue_comments_264862.json:
```json
{
    "body": "Replying to [comment:26 ncohen]:\n> Hello Dima,\n> \n> Sorry, but you can't replace your 'not tested' doctest with a 'long time' just because it goes fast on your computer `^^;`\n> \n> You told me that you just installed bliss, and because of that `.automorphism_group` is faster, but if you call `.automorphism_group(algorithm='sage')` the first instance still takes 17s (on my computer) to run `^^;`\n> \n\n\nDo you mean that installation of bliss automatically makes bliss the default?! WTF?",
    "created_at": "2015-11-10T15:06:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19308",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19308#issuecomment-264862",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:26 ncohen]:
> Hello Dima,
> 
> Sorry, but you can't replace your 'not tested' doctest with a 'long time' just because it goes fast on your computer `^^;`
> 
> You told me that you just installed bliss, and because of that `.automorphism_group` is faster, but if you call `.automorphism_group(algorithm='sage')` the first instance still takes 17s (on my computer) to run `^^;`
> 


Do you mean that installation of bliss automatically makes bliss the default?! WTF?



---

archive/issue_comments_264863.json:
```json
{
    "body": "> Do you mean that installation of bliss automatically makes bliss the default?! WTF?\n\n\nYep. This way any function that calls 'automorphism_group' benefits from the speedup, and we don't have to propagate a 'use_bliss=True' argument up every function that calls it.\n\nNathann",
    "created_at": "2015-11-10T15:08:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19308",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19308#issuecomment-264863",
    "user": "https://github.com/nathanncohen"
}
```

> Do you mean that installation of bliss automatically makes bliss the default?! WTF?


Yep. This way any function that calls 'automorphism_group' benefits from the speedup, and we don't have to propagate a 'use_bliss=True' argument up every function that calls it.

Nathann



---

archive/issue_comments_264864.json:
```json
{
    "body": "Replying to [comment:30 ncohen]:\n> > Do you mean that installation of bliss automatically makes bliss the default?! WTF?\n\n> \n> Yep. This way any function that calls 'automorphism_group' benefits from the speedup, and we don't have to propagate a 'use_bliss=True' argument up every function that calls it.\n\n\nThis sucks. There must be a global way to control this. There is one with the (MI)LP backend.\nThe last thing you want is that the underlying implementation changes SILENTLY.",
    "created_at": "2015-11-10T15:13:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19308",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19308#issuecomment-264864",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:30 ncohen]:
> > Do you mean that installation of bliss automatically makes bliss the default?! WTF?

> 
> Yep. This way any function that calls 'automorphism_group' benefits from the speedup, and we don't have to propagate a 'use_bliss=True' argument up every function that calls it.


This sucks. There must be a global way to control this. There is one with the (MI)LP backend.
The last thing you want is that the underlying implementation changes SILENTLY.



---

archive/issue_comments_264865.json:
```json
{
    "body": "> This sucks.\n\n\nIf you make it manual, you would install the software and get absolutely no speedup.\n\n> There must be a global way to control this. There is one with the (MI)LP backend.\n\n\nYou can implement it, but I don't see the point. You are unhappy because installing an optional package makes Sage run faster?...\n\nNathann",
    "created_at": "2015-11-10T15:15:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19308",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19308#issuecomment-264865",
    "user": "https://github.com/nathanncohen"
}
```

> This sucks.


If you make it manual, you would install the software and get absolutely no speedup.

> There must be a global way to control this. There is one with the (MI)LP backend.


You can implement it, but I don't see the point. You are unhappy because installing an optional package makes Sage run faster?...

Nathann



---

archive/issue_comments_264866.json:
```json
{
    "body": "Note that you can still tune which algorithms gets run whenever you call automorphism_group *directly*.\n\nNathann",
    "created_at": "2015-11-10T15:16:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19308",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19308#issuecomment-264866",
    "user": "https://github.com/nathanncohen"
}
```

Note that you can still tune which algorithms gets run whenever you call automorphism_group *directly*.

Nathann



---

archive/issue_comments_264867.json:
```json
{
    "body": "Replying to [comment:33 ncohen]:\n> Note that you can still tune which algorithms gets run whenever you call automorphism_group *directly*.\n\n\ngiven that there is no way to uninstall a package in Sage, one can get nuked by, say, a bug discovered in a backend... there must be a manual control over this, akin to default LP solver control.\n\nOr, say, I want to compare two backends - do you tell me I must insert that `algorithm=...` in every freaking place, including the Sage library?! \n\nI'm not saying that installation of an extra backend must not flip this manual control - why not, it can do it.",
    "created_at": "2015-11-10T15:31:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19308",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19308#issuecomment-264867",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:33 ncohen]:
> Note that you can still tune which algorithms gets run whenever you call automorphism_group *directly*.


given that there is no way to uninstall a package in Sage, one can get nuked by, say, a bug discovered in a backend... there must be a manual control over this, akin to default LP solver control.

Or, say, I want to compare two backends - do you tell me I must insert that `algorithm=...` in every freaking place, including the Sage library?! 

I'm not saying that installation of an extra backend must not flip this manual control - why not, it can do it.



---

archive/issue_comments_264868.json:
```json
{
    "body": "You can add a global switch to disable this automatic detection if you like. I don't need one, and I just wanted to make Sage faster if it can find in its surrounding better libraries than what it ships by default.\n\nNathann",
    "created_at": "2015-11-10T15:35:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19308",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19308#issuecomment-264868",
    "user": "https://github.com/nathanncohen"
}
```

You can add a global switch to disable this automatic detection if you like. I don't need one, and I just wanted to make Sage faster if it can find in its surrounding better libraries than what it ships by default.

Nathann



---

archive/issue_comments_264869.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-11-10T15:46:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19308",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19308#issuecomment-264869",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_264870.json:
```json
{
    "body": "Yo Dima !\n\nThanks, it looks good. There is a broken doctest, however, for the SRG on 45 vertices appears in one of them `^^;`\n\nNathann",
    "created_at": "2015-11-10T15:52:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19308",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19308#issuecomment-264870",
    "user": "https://github.com/nathanncohen"
}
```

Yo Dima !

Thanks, it looks good. There is a broken doctest, however, for the SRG on 45 vertices appears in one of them `^^;`

Nathann



---

archive/issue_comments_264871.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2015-11-10T17:37:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19308",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19308#issuecomment-264871",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_264872.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-11-10T20:44:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19308",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19308#issuecomment-264872",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_264873.json:
```json
{
    "body": "Let's go !\n\nNathann",
    "created_at": "2015-11-10T20:44:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19308",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19308#issuecomment-264873",
    "user": "https://github.com/nathanncohen"
}
```

Let's go !

Nathann



---

archive/issue_comments_264874.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-11-11T19:40:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19308",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19308#issuecomment-264874",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_053821.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-11-11T19:40:44Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/19308",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19308#event-53821"
}
```
