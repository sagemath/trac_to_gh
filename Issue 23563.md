# Issue 23563: Add O method for Laurent series rings

Issue created by migration from https://trac.sagemath.org/ticket/23800

Original creator: kedlaya

Original creation time: 2017-09-07 18:47:21

Keywords: Laurent series, truncation

It would be nice if the following behavior:

```
sage: R.<u> = PowerSeriesRing(QQ)
sage: z = u^3 + u^6 - u^7
sage: z.O(7)
u^3 + u^6 + O(u^7)
```

were also available for Laurent series rings (as a synonym for `add_bigoh`). As it stands:

```
sage: R.<u> = LaurentSeriesRing(QQ)
sage: z = u^3 + u^6 - u^7
sage: z.O(7)
---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)
...
AttributeError: 'sage.rings.laurent_series_ring_element.LaurentSeries' object has no attribute 'O'
```



---

Comment by kvanwoerden created at 2017-09-27 13:29:28

I implemented `O` for Laurent series as just a synonym for `add_bigoh`, which already existed for Laurent series.

I might be missing something, because for power series, `O` and `add_bigoh` are implemented seperately, one does not call the other.


---

Comment by kvanwoerden created at 2017-09-27 13:32:23

Changing status from new to needs_review.


---

Comment by vdelecroix created at 2017-09-27 21:19:37

Three small things

- typo: `precission`
- what does mean `got by adding`?
- According to the [sage developer manual](http://doc.sagemath.org/html/en/developer/coding_basics.html#documentation-strings) the documentation should start with a one-line summary and then a longer description. Could you try to split?


---

Comment by vdelecroix created at 2017-09-27 21:19:37

Changing status from needs_review to needs_work.


---

Comment by git created at 2017-09-28 10:34:49

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by kvanwoerden created at 2017-09-28 10:38:09

Thank you for your comments!

Replying to [comment:4 vdelecroix]:
> Three small things
> 
> - typo: `precission`
I fixed this typo.
> - what does mean `got by adding`?
This means adding the zero series with the specified precision, I expanded the docstring explaining this.
> - According to the [sage developer manual](http://doc.sagemath.org/html/en/developer/coding_basics.html#documentation-strings) the documentation should start with a one-line summary and then a longer description. Could you try to split?
I split and expanded the docstring.


---

Comment by kvanwoerden created at 2017-09-28 10:38:31

Changing status from needs_work to needs_review.


---

Comment by kedlaya created at 2017-10-01 00:45:16

Looks fine to me. No report from patchbot yet, but I did run all doctests myself and saw no issues.

Minor comments about the wording of the docstring: in the verbal description, I think the series in question should be called `self` rather than `f`. Also, in the one-line description, it is apparently preferred to avoid mentioning `self` if one can help it; that is, I would remove "to `f`" from that line. (I would have written "gotten" rather than "got", but maybe "obtained" is even better.)

Modulo this, I'm prepared to give a positive review.


---

Comment by git created at 2017-10-02 09:36:52

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by kvanwoerden created at 2017-10-02 09:39:17

Thanks again!

Replying to [comment:8 kedlaya]:
> Looks fine to me. No report from patchbot yet, but I did run all doctests myself and saw no issues.
> 
> Minor comments about the wording of the docstring: in the verbal description, I think the series in question should be called `self` rather than `f`. Also, in the one-line description, it is apparently preferred to avoid mentioning `self` if one can help it; that is, I would remove "to `f`" from that line. (I would have written "gotten" rather than "got", but maybe "obtained" is even better.)
> 
I modified the docstring following your suggestions.


---

Comment by kedlaya created at 2017-10-02 15:09:14

Looks good now!


---

Comment by kedlaya created at 2017-10-02 15:09:14

Changing status from needs_review to positive_review.


---

Comment by kvanwoerden created at 2017-10-02 15:31:19

I tried using my local patchbot to test this ticket, but it failed because I am on MacOS and have this problem with [Xcode 9.0](https://groups.google.com/forum/#!msg/sage-devel/xf7DZrc6Dos/WKkNT-TaAwAJ), and I need #12426 (using clang instead of gcc) to compile sage, which my patchbot did not use.

Does this prevent other patchbots from trying to test this ticket? If so, can I undo this?


---

Comment by vbraun created at 2017-10-15 09:22:36

Resolution: fixed
