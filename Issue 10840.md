# Issue 10840: Integration involving abs gives wrong result

Issue created by migration from Trac.

Original creator: poeschko

Original creation time: 2011-03-11 13:11:40

Assignee: burcin

Running


```
sage: integrate(abs(sin(x)),(x,0,2*pi))
```

gives 0, but the correct result is 4.

This happens in version 4.6.1 . In 4.5.3, the integral was not evaluated at all.


---

Comment by kcrisman created at 2011-03-14 19:54:18

Certainly the integral better be positive!  

This is wrong in Maxima (5.23.2), though it does get the one arch problem correct:

```
Maxima 5.23.2 http://maxima.sourceforge.net
using Lisp SBCL 1.0.24
Distributed under the GNU Public License. See the file COPYING.
Dedicated to the memory of William Schelter.
The function bug_report() provides bug reporting information.
(%i1) integrate(abs(sin(x)),x,0,2*%pi);
(%o1)                                  0
(%i2) integrate(sin(x),x,0,%pi/2);
(%o2)                                  1
(%i3) 
```


This is now Maxima bug 3211915.


---

Comment by kcrisman created at 2011-03-30 15:20:28

Apparently that was a dup - see [this bug report](https://sourceforge.net/tracker/?func=detail&aid=3165872&group_id=4933&atid=104933) instead.  Fixed, so when we upgrade we'll need a doctest.


---

Comment by mjo created at 2012-04-14 21:21:38

Well, we don't get `4`, but at least the bug is fixed with our current Maxima.


---

Comment by mjo created at 2012-04-14 21:21:38

Changing status from new to needs_review.


---

Comment by kcrisman created at 2012-04-15 02:56:46

`shouln't`?

Anyway, this is fine, but the style is a little too informal - those not having read the ticket will be mystified, and shouldn't have to go to the ticket to find out.  So I'm uploading the same patch but with slightly different wording.

Notwithstanding that this file doesn't appear to be in the reference manual in any case.


---

Comment by kcrisman created at 2012-04-15 02:56:46

Changing status from needs_review to positive_review.


---

Attachment

Apply this patch only


---

Comment by kcrisman created at 2012-04-15 02:57:50

Apply [attachment:trac_10914.patch].


---

Comment by mjo created at 2012-04-15 15:05:02

Ah, sorry. I actually parse it now as, "We won't get (an evaluated answer here, which is better than the previous (wrong) answer of zero)," but I don't think it matters much since most of them don't make sense out-of-context, "make sure #xyz is fixed."


---

Comment by jdemeyer created at 2012-04-26 20:10:42

Resolution: fixed
