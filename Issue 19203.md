# Issue 19203: cluster seed is no longer hashable

Issue created by migration from https://trac.sagemath.org/ticket/19440

Original creator: chapoton

Original creation time: 2015-10-20 13:36:13

CC:  tscrim darij egunawan gmoose05 stumpc5

With the recent change in the cluster code,

```
sage: Q= ClusterQuiver(['D',4])
sage: hash(Q)
Traceback (most recent call last):
...
TypeError: <class 'sage.combinat.cluster_algebra_quiver.quiver.ClusterQuiver'> is not hashable
```

And this has very bad consequences !


---

Comment by chapoton created at 2015-10-20 13:36:32

Changing keywords from "" to "cluster".


---

Comment by chapoton created at 2015-10-20 14:44:41

here is a branch not working yet
----
New commits:


---

Comment by git created at 2015-10-20 18:43:55

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2015-10-20 18:52:31

Changing status from new to needs_review.


---

Comment by stumpc5 created at 2015-10-20 18:58:57

Your changes look fine to me. In general, I am worried that the code gets slower and slower... I would like to do a few tests whether this also applies to your proposed changes.


---

Comment by stumpc5 created at 2015-10-20 19:05:44

stupid question (here and elsewhere): how do I see which version your code is based on? I would prefer not to pull it and check it out to then see that I first have to recompile sage for many hours.


---

Comment by stumpc5 created at 2015-10-20 19:12:05

Okay, got it: `git log trac/public/19440`. I first made the mistake to try to look at the local version using `git log public/19440`.


---

Comment by stumpc5 created at 2015-10-20 19:17:10

Okay, it was slow and it is not slower now...


---

Comment by stumpc5 created at 2015-10-20 19:19:12

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2015-10-21 07:55:58

Fails on 32-bit

```
sage -t --long src/sage/combinat/cluster_algebra_quiver/cluster_seed.py
**********************************************************************
File "src/sage/combinat/cluster_algebra_quiver/cluster_seed.py", line 871, in sage.combinat.cluster_algebra_quiver.cluster_seed.ClusterSeed.__hash__
Failed example:
    hash(Q)  # indirect doctest
Expected:
    -5649412990944896369
Got:
    222337679
**********************************************************************
1 item had failures:
   1 of   3 in sage.combinat.cluster_algebra_quiver.cluster_seed.ClusterSeed.__hash__
    [538 tests, 1 failure, 133.37 s]
```



---

Comment by vbraun created at 2015-10-21 07:55:58

Changing status from positive_review to needs_work.


---

Comment by git created at 2015-10-21 08:13:33

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2015-10-21 08:21:47

Changing status from needs_work to needs_review.


---

Comment by vbraun created at 2015-10-21 08:27:12

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2015-10-21 16:55:01

Resolution: fixed
