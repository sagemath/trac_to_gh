# Issue 19203: cluster seed is no longer hashable

archive/issues_019203.json:
```json
{
    "body": "CC:  tscrim darij egunawan gmoose05 stumpc5\n\nWith the recent change in the cluster code,\n\n```\nsage: Q= ClusterQuiver(['D',4])\nsage: hash(Q)\nTraceback (most recent call last):\n...\nTypeError: <class 'sage.combinat.cluster_algebra_quiver.quiver.ClusterQuiver'> is not hashable\n```\n\nAnd this has very bad consequences !\n\nIssue created by migration from https://trac.sagemath.org/ticket/19440\n\n",
    "created_at": "2015-10-20T13:36:13Z",
    "labels": [
        "combinatorics",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.10",
    "title": "cluster seed is no longer hashable",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19203",
    "user": "chapoton"
}
```
CC:  tscrim darij egunawan gmoose05 stumpc5

With the recent change in the cluster code,

```
sage: Q= ClusterQuiver(['D',4])
sage: hash(Q)
Traceback (most recent call last):
...
TypeError: <class 'sage.combinat.cluster_algebra_quiver.quiver.ClusterQuiver'> is not hashable
```

And this has very bad consequences !

Issue created by migration from https://trac.sagemath.org/ticket/19440





---

archive/issue_comments_263452.json:
```json
{
    "body": "Changing keywords from \"\" to \"cluster\".",
    "created_at": "2015-10-20T13:36:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19203#issuecomment-263452",
    "user": "chapoton"
}
```

Changing keywords from "" to "cluster".



---

archive/issue_comments_263453.json:
```json
{
    "body": "here is a branch not working yet\n----\nNew commits:",
    "created_at": "2015-10-20T14:44:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19203#issuecomment-263453",
    "user": "chapoton"
}
```

here is a branch not working yet
----
New commits:



---

archive/issue_comments_263454.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-10-20T18:43:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19203#issuecomment-263454",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_263455.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-10-20T18:52:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19203#issuecomment-263455",
    "user": "chapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_263456.json:
```json
{
    "body": "Your changes look fine to me. In general, I am worried that the code gets slower and slower... I would like to do a few tests whether this also applies to your proposed changes.",
    "created_at": "2015-10-20T18:58:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19203#issuecomment-263456",
    "user": "stumpc5"
}
```

Your changes look fine to me. In general, I am worried that the code gets slower and slower... I would like to do a few tests whether this also applies to your proposed changes.



---

archive/issue_comments_263457.json:
```json
{
    "body": "stupid question (here and elsewhere): how do I see which version your code is based on? I would prefer not to pull it and check it out to then see that I first have to recompile sage for many hours.",
    "created_at": "2015-10-20T19:05:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19203#issuecomment-263457",
    "user": "stumpc5"
}
```

stupid question (here and elsewhere): how do I see which version your code is based on? I would prefer not to pull it and check it out to then see that I first have to recompile sage for many hours.



---

archive/issue_comments_263458.json:
```json
{
    "body": "Okay, got it: `git log trac/public/19440`. I first made the mistake to try to look at the local version using `git log public/19440`.",
    "created_at": "2015-10-20T19:12:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19203#issuecomment-263458",
    "user": "stumpc5"
}
```

Okay, got it: `git log trac/public/19440`. I first made the mistake to try to look at the local version using `git log public/19440`.



---

archive/issue_comments_263459.json:
```json
{
    "body": "Okay, it was slow and it is not slower now...",
    "created_at": "2015-10-20T19:17:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19203#issuecomment-263459",
    "user": "stumpc5"
}
```

Okay, it was slow and it is not slower now...



---

archive/issue_comments_263460.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-10-20T19:19:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19203#issuecomment-263460",
    "user": "stumpc5"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_263461.json:
```json
{
    "body": "Fails on 32-bit\n\n```\nsage -t --long src/sage/combinat/cluster_algebra_quiver/cluster_seed.py\n**********************************************************************\nFile \"src/sage/combinat/cluster_algebra_quiver/cluster_seed.py\", line 871, in sage.combinat.cluster_algebra_quiver.cluster_seed.ClusterSeed.__hash__\nFailed example:\n    hash(Q)  # indirect doctest\nExpected:\n    -5649412990944896369\nGot:\n    222337679\n**********************************************************************\n1 item had failures:\n   1 of   3 in sage.combinat.cluster_algebra_quiver.cluster_seed.ClusterSeed.__hash__\n    [538 tests, 1 failure, 133.37 s]\n```\n",
    "created_at": "2015-10-21T07:55:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19203#issuecomment-263461",
    "user": "vbraun"
}
```

Fails on 32-bit

```
sage -t --long src/sage/combinat/cluster_algebra_quiver/cluster_seed.py
**********************************************************************
File "src/sage/combinat/cluster_algebra_quiver/cluster_seed.py", line 871, in sage.combinat.cluster_algebra_quiver.cluster_seed.ClusterSeed.__hash__
Failed example:
    hash(Q)  # indirect doctest
Expected:
    -5649412990944896369
Got:
    222337679
**********************************************************************
1 item had failures:
   1 of   3 in sage.combinat.cluster_algebra_quiver.cluster_seed.ClusterSeed.__hash__
    [538 tests, 1 failure, 133.37 s]
```




---

archive/issue_comments_263462.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2015-10-21T07:55:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19203#issuecomment-263462",
    "user": "vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_263463.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-10-21T08:13:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19203#issuecomment-263463",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_263464.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-10-21T08:21:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19203#issuecomment-263464",
    "user": "chapoton"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_263465.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-10-21T08:27:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19203#issuecomment-263465",
    "user": "vbraun"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_263466.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-10-21T16:55:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19203#issuecomment-263466",
    "user": "vbraun"
}
```

Resolution: fixed
