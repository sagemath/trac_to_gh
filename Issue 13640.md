# Issue 13640: Let patch build on Cygwin on Windows 7

archive/issues_013640.json:
```json
{
    "body": "Assignee: tbd\n\nCC:  @kcrisman @dimpase\n\nKeywords: spkg patch cygwin\n\nThe solution is simple:\n* revert #11232,\n* install a manifest file.\n\nIssue created by migration from https://trac.sagemath.org/ticket/13844\n\n",
    "created_at": "2012-12-19T11:34:35Z",
    "labels": [
        "component: porting: cygwin"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.7",
    "title": "Let patch build on Cygwin on Windows 7",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/13640",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```
Assignee: tbd

CC:  @kcrisman @dimpase

Keywords: spkg patch cygwin

The solution is simple:
* revert #11232,
* install a manifest file.

Issue created by migration from https://trac.sagemath.org/ticket/13844





---

archive/issue_comments_168539.json:
```json
{
    "body": "Spkg coming soon, builds and installs ok and patch seems functional on my Cygwin install.",
    "created_at": "2012-12-19T11:37:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13640#issuecomment-168539",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Spkg coming soon, builds and installs ok and patch seems functional on my Cygwin install.



---

archive/issue_comments_168540.json:
```json
{
    "body": "I assume this is so we can reduce the prereqs for Cygwin?",
    "created_at": "2012-12-19T14:11:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13640#issuecomment-168540",
    "user": "https://github.com/kcrisman"
}
```

I assume this is so we can reduce the prereqs for Cygwin?



---

archive/issue_comments_168541.json:
```json
{
    "body": "> Spkg coming soon, builds and installs ok and patch seems functional on my Cygwin install.\nSpkg?",
    "created_at": "2013-01-04T14:19:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13640#issuecomment-168541",
    "user": "https://github.com/kcrisman"
}
```

> Spkg coming soon, builds and installs ok and patch seems functional on my Cygwin install.
Spkg?



---

archive/issue_comments_168542.json:
```json
{
    "body": "Replying to [comment:3 kcrisman]:\n> > Spkg coming soon, builds and installs ok and patch seems functional on my Cygwin install.\n> Spkg?\nSoon?\n\nSeriously, I completely got out of the Cygwin stuff since christmas and just started dropping an eye recently on ATLAS and GCC/ECL.\n\nI indeed have a (surely dirty) spkg on my home computer, but as it is surely dirty, I'll wait this week end to have a last look at it and won't scp it everywhere just now.",
    "created_at": "2013-01-04T14:26:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13640#issuecomment-168542",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Replying to [comment:3 kcrisman]:
> > Spkg coming soon, builds and installs ok and patch seems functional on my Cygwin install.
> Spkg?
Soon?

Seriously, I completely got out of the Cygwin stuff since christmas and just started dropping an eye recently on ATLAS and GCC/ECL.

I indeed have a (surely dirty) spkg on my home computer, but as it is surely dirty, I'll wait this week end to have a last look at it and won't scp it everywhere just now.



---

archive/issue_comments_168543.json:
```json
{
    "body": "> Seriously, I completely got out of the Cygwin stuff since christmas and just started dropping an eye recently on ATLAS and GCC/ECL.\nFair enough, I wouldn't have asked (since I have patch installed on my Cygwin) except I saw your reappearance.\n> I indeed have a (surely dirty) spkg on my home computer, but as it is surely dirty, I'll wait this week end to have a last look at it and won't scp it everywhere just now.\nI don't think it's necessary yet in any case, since we can first require it, then drop that requirement.",
    "created_at": "2013-01-04T15:00:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13640#issuecomment-168543",
    "user": "https://github.com/kcrisman"
}
```

> Seriously, I completely got out of the Cygwin stuff since christmas and just started dropping an eye recently on ATLAS and GCC/ECL.
Fair enough, I wouldn't have asked (since I have patch installed on my Cygwin) except I saw your reappearance.
> I indeed have a (surely dirty) spkg on my home computer, but as it is surely dirty, I'll wait this week end to have a last look at it and won't scp it everywhere just now.
I don't think it's necessary yet in any case, since we can first require it, then drop that requirement.



---

archive/issue_comments_168544.json:
```json
{
    "body": "New spkg at\nhttp://boxen.math.washington.edu/home/jpflori/patch-2.5.9.p3.spkg",
    "created_at": "2013-01-05T13:56:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13640#issuecomment-168544",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

New spkg at
http://boxen.math.washington.edu/home/jpflori/patch-2.5.9.p3.spkg



---

archive/issue_comments_168545.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-01-05T13:56:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13640#issuecomment-168545",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_168546.json:
```json
{
    "body": "Diff looks good, except I don't know about the manifest.  I may get a chance to try this Monday, otherwise it will have to wait a few weeks.  So partial positive review.",
    "created_at": "2013-01-05T14:00:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13640#issuecomment-168546",
    "user": "https://github.com/kcrisman"
}
```

Diff looks good, except I don't know about the manifest.  I may get a chance to try this Monday, otherwise it will have to wait a few weeks.  So partial positive review.



---

archive/issue_comments_168547.json:
```json
{
    "body": "New spkg, wrong year in the previous one...",
    "created_at": "2013-01-05T14:15:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13640#issuecomment-168547",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

New spkg, wrong year in the previous one...



---

archive/issue_comments_168548.json:
```json
{
    "body": "Please quote `$SAGE_LOCAL`:\n\n```\n    cp ../patch.exe.manifest \"$SAGE_LOCAL/bin/\"\n```\n",
    "created_at": "2013-01-12T22:05:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13640#issuecomment-168548",
    "user": "https://github.com/jdemeyer"
}
```

Please quote `$SAGE_LOCAL`:

```
    cp ../patch.exe.manifest "$SAGE_LOCAL/bin/"
```




---

archive/issue_comments_168549.json:
```json
{
    "body": "Attachment [patch-2.5.9.p3.diff](tarball://root/attachments/some-uuid/ticket13844/patch-2.5.9.p3.diff) by jpflori created at 2013-01-13 13:29:50\n\nSpkg diff, for review only.",
    "created_at": "2013-01-13T13:29:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13640#issuecomment-168549",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Attachment [patch-2.5.9.p3.diff](tarball://root/attachments/some-uuid/ticket13844/patch-2.5.9.p3.diff) by jpflori created at 2013-01-13 13:29:50

Spkg diff, for review only.



---

archive/issue_comments_168550.json:
```json
{
    "body": "Done, spkg and diff updated.",
    "created_at": "2013-01-13T13:34:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13640#issuecomment-168550",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Done, spkg and diff updated.



---

archive/issue_comments_168551.json:
```json
{
    "body": "This does successfully install on my Cygwin as well.  How can I check that this was the patch actually used (as opposed to the patch on my system)?  The diff looks fine.",
    "created_at": "2013-01-22T16:42:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13640#issuecomment-168551",
    "user": "https://github.com/kcrisman"
}
```

This does successfully install on my Cygwin as well.  How can I check that this was the patch actually used (as opposed to the patch on my system)?  The diff looks fine.



---

archive/issue_comments_168552.json:
```json
{
    "body": "You could just run 'which patch' inside a Sage shell and check it points to the Sage installed one.",
    "created_at": "2013-01-23T09:50:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13640#issuecomment-168552",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

You could just run 'which patch' inside a Sage shell and check it points to the Sage installed one.



---

archive/issue_comments_168553.json:
```json
{
    "body": "Sadly, after a required BLODA upgrade to allow my internet access with this machine, Sage won't build - nothing reliable, just the usual horrible stuff and rebasing just delays the pain.  Python package in particular is affected.  So I wonder whether we should just do this and assume it works on XP.  Sorry.",
    "created_at": "2013-01-24T19:25:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13640#issuecomment-168553",
    "user": "https://github.com/kcrisman"
}
```

Sadly, after a required BLODA upgrade to allow my internet access with this machine, Sage won't build - nothing reliable, just the usual horrible stuff and rebasing just delays the pain.  Python package in particular is affected.  So I wonder whether we should just do this and assume it works on XP.  Sorry.



---

archive/issue_comments_168554.json:
```json
{
    "body": "Maybe Dima can have a look?\n\nOn XP the manifest files are not needed, so the only change is that patch is now actually installed (that's the revert #11232 part).",
    "created_at": "2013-01-25T10:39:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13640#issuecomment-168554",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Maybe Dima can have a look?

On XP the manifest files are not needed, so the only change is that patch is now actually installed (that's the revert #11232 part).



---

archive/issue_comments_168555.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-01-27T10:51:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13640#issuecomment-168555",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_168556.json:
```json
{
    "body": "OK, it works.",
    "created_at": "2013-01-27T10:51:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13640#issuecomment-168556",
    "user": "https://github.com/dimpase"
}
```

OK, it works.



---

archive/issue_comments_168557.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-01-30T07:34:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13640#issuecomment-168557",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_events_038841.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-01-30T07:34:31Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/13640",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13640#event-38841"
}
```
