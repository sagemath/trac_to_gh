# Issue 13640: Let patch build on Cygwin on Windows 7

Issue created by migration from Trac.

Original creator: jpflori

Original creation time: 2012-12-19 11:34:35

Assignee: tbd

CC:  kcrisman dimpase

Keywords: spkg patch cygwin

The solution is simple:
* revert #11232,
* install a manifest file.


---

Comment by jpflori created at 2012-12-19 11:37:17

Spkg coming soon, builds and installs ok and patch seems functional on my Cygwin install.


---

Comment by kcrisman created at 2012-12-19 14:11:10

I assume this is so we can reduce the prereqs for Cygwin?


---

Comment by kcrisman created at 2013-01-04 14:19:29

> Spkg coming soon, builds and installs ok and patch seems functional on my Cygwin install.
Spkg?


---

Comment by jpflori created at 2013-01-04 14:26:07

Replying to [comment:3 kcrisman]:
> > Spkg coming soon, builds and installs ok and patch seems functional on my Cygwin install.
> Spkg?
Soon?

Seriously, I completely got out of the Cygwin stuff since christmas and just started dropping an eye recently on ATLAS and GCC/ECL.

I indeed have a (surely dirty) spkg on my home computer, but as it is surely dirty, I'll wait this week end to have a last look at it and won't scp it everywhere just now.


---

Comment by kcrisman created at 2013-01-04 15:00:52

> Seriously, I completely got out of the Cygwin stuff since christmas and just started dropping an eye recently on ATLAS and GCC/ECL.
Fair enough, I wouldn't have asked (since I have patch installed on my Cygwin) except I saw your reappearance.
> I indeed have a (surely dirty) spkg on my home computer, but as it is surely dirty, I'll wait this week end to have a last look at it and won't scp it everywhere just now.
I don't think it's necessary yet in any case, since we can first require it, then drop that requirement.


---

Comment by jpflori created at 2013-01-05 13:56:08

New spkg at
http://boxen.math.washington.edu/home/jpflori/patch-2.5.9.p3.spkg


---

Comment by jpflori created at 2013-01-05 13:56:34

Changing status from new to needs_review.


---

Comment by kcrisman created at 2013-01-05 14:00:56

Diff looks good, except I don't know about the manifest.  I may get a chance to try this Monday, otherwise it will have to wait a few weeks.  So partial positive review.


---

Comment by jpflori created at 2013-01-05 14:15:58

New spkg, wrong year in the previous one...


---

Comment by jdemeyer created at 2013-01-12 22:05:42

Please quote `$SAGE_LOCAL`:

```
    cp ../patch.exe.manifest "$SAGE_LOCAL/bin/"
```



---

Attachment

Spkg diff, for review only.


---

Comment by jpflori created at 2013-01-13 13:34:09

Done, spkg and diff updated.


---

Comment by kcrisman created at 2013-01-22 16:42:54

This does successfully install on my Cygwin as well.  How can I check that this was the patch actually used (as opposed to the patch on my system)?  The diff looks fine.


---

Comment by jpflori created at 2013-01-23 09:50:24

You could just run 'which patch' inside a Sage shell and check it points to the Sage installed one.


---

Comment by kcrisman created at 2013-01-24 19:25:16

Sadly, after a required BLODA upgrade to allow my internet access with this machine, Sage won't build - nothing reliable, just the usual horrible stuff and rebasing just delays the pain.  Python package in particular is affected.  So I wonder whether we should just do this and assume it works on XP.  Sorry.


---

Comment by jpflori created at 2013-01-25 10:39:14

Maybe Dima can have a look?

On XP the manifest files are not needed, so the only change is that patch is now actually installed (that's the revert #11232 part).


---

Comment by dimpase created at 2013-01-27 10:51:49

Changing status from needs_review to positive_review.


---

Comment by dimpase created at 2013-01-27 10:51:49

OK, it works.


---

Comment by jdemeyer created at 2013-01-30 07:34:31

Resolution: fixed
