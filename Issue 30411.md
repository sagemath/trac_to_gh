# Issue 30411: sage --package download is broken

Issue created by migration from https://trac.sagemath.org/ticket/30648

Original creator: slabbe

Original creation time: 2020-09-23 18:56:29


```
$ sage --package download cbc
Traceback (most recent call last):
  File "/home/slabbe/GitBox/sage/build/bin/sage-package", line 42, in <module>
    run()
  File "/home/slabbe/GitBox/sage/build/bin/../sage_bootstrap/cmdline.py", line 318, in run
    app.download_cls(args.package_name, args.allow_upstream)
TypeError: download_cls() takes exactly 2 arguments (3 given)
```



---

Comment by mkoeppe created at 2020-09-23 18:59:13

Looks like I broke this when adding the `upstream_url` feature. I'll looking into fixing it


---

Comment by slabbe created at 2020-09-23 19:03:46

doing this change:

```diff
- app.download_cls(args.package_name, args.allow_upstream)
+ app.download(args.package_name, args.allow_upstream)
```

fixed it on my side


---

Comment by slabbe created at 2020-09-24 12:06:29

I don't know if this is the correct fix.

I don't know if there are similar error in the file.

I just know that this change allowed me to download the tarball I was looking for.
----
New commits:


---

Comment by slabbe created at 2020-09-24 12:06:29

Changing status from new to needs_review.


---

Comment by slabbe created at 2020-11-02 15:09:02

a gentle ping


---

Comment by mkoeppe created at 2020-11-02 18:43:07

Changing status from needs_review to positive_review.


---

Comment by slabbe created at 2020-11-03 16:49:26

thanks for the review


---

Comment by vbraun created at 2020-11-15 22:47:26

Resolution: fixed


---

Comment by mkoeppe created at 2020-11-19 18:56:28

Follow-up in #30865
