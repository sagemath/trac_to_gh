# Issue 26291: avoid using .vertices() in comparability, hyperbolicity and distances_all_pairs

Issue created by migration from https://trac.sagemath.org/ticket/26528

Original creator: dcoudert

Original creation time: 2018-10-22 16:53:49

CC:  tscrim chapoton

Keywords: py3, graph

We expose the new parameter `vertex_list` of `init_short_digraph` in methods of `distances_all_pairs.pyx` and so
- add the same parameter to methods of `distances_all_pairs.pyx`
- remove the use of `.vertices()` in `hyperbolicity.pyx` and `comparability.pyx`

We could do the same in `bandwidth.pyx` but this might be in conflict with #26520

Several use of `.vertices()` remain in `distances_all_pairs.pyx` that are harder to remove.


---

Comment by dcoudert created at 2018-10-22 16:55:20

Changing status from new to needs_review.


---

Comment by dcoudert created at 2018-10-22 16:55:20

Hope you like it ;)
----
New commits:


---

Comment by tscrim created at 2018-10-23 13:24:09

I am not convinced that the test for `is_transitive` is always going to give the same answer:

```diff
         sage: digraphs.DeBruijn(5,2).is_transitive(certificate=True)
-        ('00', '10')
+        ('22', '02')
```

I think a more robust test would be to verify this by:

```
sage: G = digraphs.DeBruijn(5,2)
sage: cert = G.is_transitive(certificate=True)
sage: G.has_edge(*cert)
False
sage: G.shortest_path(*cert) != []
True
```



---

Comment by tscrim created at 2018-10-23 13:26:55

Also, I think it would be better to do ``0..n-1`` -> ``(0, \ldots, n-1)``. Moreover, you need to change ``i`th` -> ``i`-th` because Sphinx would not treat the closing backtick like it should.

Otherwise LGTM.


---

Comment by git created at 2018-10-23 14:15:49

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dcoudert created at 2018-10-23 14:16:46

Thanks for the comments.


---

Comment by tscrim created at 2018-10-23 15:35:42

Thanks. LGTM.


---

Comment by tscrim created at 2018-10-23 15:35:42

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2018-10-24 21:09:39

Resolution: fixed
