# Issue 17918: upgrade to pynac-0.3.3

Issue created by migration from Trac.

Original creator: rws

Original creation time: 2015-04-10 14:45:08

Mind you, the sync to current GiNaC is not there yet, but other fixes, and I need a ticket to refer to.


---

Comment by rws created at 2015-04-11 06:02:23

Set assignee to rws.


---

Attachment

New commits:


---

Comment by rws created at 2015-04-11 07:15:32

Changing status from new to needs_review.


---

Comment by behackl created at 2015-04-11 07:59:46


```
Starting build...
Running build_pynac...
configure: error: cannot find install-sh, install.sh, or shtool in "." "./.." "./../.."
make: *** No targets specified and no makefile found.  Stop.
Error building pynac.

real	0m0.073s
user	0m0.017s
sys	0m0.003s
************************************************************************
Error installing package pynac-0.3.3
************************************************************************
```


It seems that you linked, for example, `install-sh -> /usr/share/automake-1.13/install-sh`. I have `automake-1.15` installed, thus `install-sh` cannot be found.

In `Pynac 0.3.2`, these files were actually included in the `.tar.bz2`, I think.


---

Comment by behackl created at 2015-04-11 08:00:06

Changing status from needs_review to needs_work.


---

Comment by rws created at 2015-04-11 08:15:42

Ah, the `h` option of `tar` is needed.


---

Attachment

version without soft links


---

Comment by rws created at 2015-04-11 08:23:59

Now the attachment has the wrong name so you need to rename in your `upstream/`.
----
New commits:


---

Comment by rws created at 2015-04-11 08:23:59

Changing status from needs_work to needs_review.


---

Comment by behackl created at 2015-04-11 14:09:04

Passes `make ptestlong`. Thanks for pushing a new version!


---

Comment by behackl created at 2015-04-11 14:09:04

Changing status from needs_review to positive_review.


---

Comment by rws created at 2015-04-11 14:45:59

Thanks for the review!


---

Comment by vbraun created at 2015-04-12 08:45:20

Attaching larger files to trac isn't ideal, they are stored in the database forever. If you don't have a place to host files ask William for an account on boxen...


---

Comment by vbraun created at 2015-04-12 14:56:28

The pynac-0.3.3.tar.bz2 file is apparently not the one you envisioned:

```
Attempting to download package pynac-0.3.3
>>> Trying to download http://www.sagemath.org/packages/upstream/pynac/pynac-0.3.3.tar.bz2
[............................................................]
Checksum: 76fea7a56a14d52eb2d14aaf11e21598bd68a8b4 vs 1afc858a8d18050604655b69096fcf13f42df73c
```

The file is now cached by all buildbots. Note that I can't possibly read all tickets that I'm merging. Can you change the tarball name.


---

Comment by vbraun created at 2015-04-12 14:56:45

Changing status from positive_review to needs_work.


---

Comment by behackl created at 2015-04-12 15:05:14

... nevermind, took me a while to understand what shall be done here.


---

Comment by rws created at 2015-04-12 15:27:06

Replying to [comment:13 vbraun]:
> The file is now cached by all buildbots. Note that I can't possibly read all tickets that I'm merging. Can you change the tarball name.
If I could have deleted my first attachment there wouldn't be a problem. I asked William for upload space today. You mean a different version string?


---

Comment by fbissey created at 2015-04-12 19:43:48

You know it doesn't have to be a `tar.bz2`. It is preferable for space reason but `tar.gz` works just as well, which means that you could have pointed to https://github.com/pynac/pynac/archive/pynac-0.3.3.tar.gz with the appropriate check sums.


---

Comment by rws created at 2015-04-13 07:49:25

Setting positive because only the cksums changed. Note the download link in the description.


---

Comment by rws created at 2015-04-13 07:49:25

Changing status from needs_work to positive_review.


---

Comment by git created at 2015-04-13 07:49:49

Changing status from positive_review to needs_review.


---

Comment by git created at 2015-04-13 07:49:49

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:


---

Comment by rws created at 2015-04-13 07:50:36

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2015-04-13 08:16:03

As I said before, pynac-0.3.3.tar.bz2 is now cached on the buildbots. You can either manually delete the cached copy on each build slave, or you rename the tarball (e.g. to pynac-0.3.3.tar.gz)


---

Comment by git created at 2015-04-13 08:37:27

Changing status from positive_review to needs_review.


---

Comment by git created at 2015-04-13 08:37:27

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:


---

Comment by rws created at 2015-04-13 08:38:12

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2015-04-14 23:01:23

Resolution: fixed


---

Comment by vbraun created at 2015-04-15 01:25:45

Resolution changed from fixed to 


---

Comment by vbraun created at 2015-04-15 01:25:45

Changing status from closed to new.


---

Comment by vbraun created at 2015-04-15 01:25:45

On OSX:

```
sage -t --long src/doc/en/prep/Calculus.rst
**********************************************************************
File "src/doc/en/prep/Calculus.rst", line 396, in doc.en.prep.Calculus
Failed example:
    integral(h,(x,0,pi/8))
Expected:
    1/2*log(sin(1/8*pi) + 1) - 1/2*log(-sin(1/8*pi) + 1)
Got:
    -1/2*log(-sin(1/8*pi) + 1) + 1/2*log(sin(1/8*pi) + 1)
**********************************************************************
1 item had failures:
   1 of  58 in doc.en.prep.Calculus
    [57 tests, 1 failure, 27.74 s]
```



---

Comment by behackl created at 2015-04-15 05:28:31

This is strange. On Arch Linux, I have

```
sage -t --long --warn-long 81.6 src/doc/en/prep/Calculus.rst
    [57 tests, 11.79 s]
----------------------------------------------------------------------
All tests passed!
----------------------------------------------------------------------
```


and especially


```
sage: -1/2*log(-sin(1/8*pi) + 1) + 1/2*log(sin(1/8*pi) + 1)
1/2*log(sin(1/8*pi) + 1) - 1/2*log(-sin(1/8*pi) + 1)
```


Nothing changes in my results if I rebase this branch on top of `sage-6.7.beta0`.

Does anyone have an idea what could cause the change in the order of summands on OSX?


---

Comment by rws created at 2015-04-15 13:02:16

Changing status from new to needs_info.


---

Comment by rws created at 2015-04-15 13:09:22

See also https://github.com/pynac/pynac/issues/18


---

Comment by rws created at 2015-04-17 08:00:37

Changing status from needs_info to positive_review.


---

Comment by rws created at 2015-04-17 08:00:37

This is now abandoned in favor of #18237. Please review that ticket.


---

Comment by vbraun created at 2015-04-18 23:33:11

Resolution: duplicate
