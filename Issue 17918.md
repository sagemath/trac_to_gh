# Issue 17918: upgrade to pynac-0.3.3

archive/issues_017918.json:
```json
{
    "body": "Mind you, the sync to current GiNaC is not there yet, but other fixes, and I need a ticket to refer to.\n\nIssue created by migration from https://trac.sagemath.org/ticket/18155\n\n",
    "created_at": "2015-04-10T14:45:08Z",
    "labels": [
        "packages: standard",
        "major",
        "enhancement"
    ],
    "title": "upgrade to pynac-0.3.3",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17918",
    "user": "rws"
}
```
Mind you, the sync to current GiNaC is not there yet, but other fixes, and I need a ticket to refer to.

Issue created by migration from https://trac.sagemath.org/ticket/18155





---

archive/issue_comments_240539.json:
```json
{
    "body": "Set assignee to rws.",
    "created_at": "2015-04-11T06:02:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17918#issuecomment-240539",
    "user": "rws"
}
```

Set assignee to rws.



---

archive/issue_comments_240540.json:
```json
{
    "body": "Attachment\n\nNew commits:",
    "created_at": "2015-04-11T07:15:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17918#issuecomment-240540",
    "user": "rws"
}
```

Attachment

New commits:



---

archive/issue_comments_240541.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-04-11T07:15:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17918#issuecomment-240541",
    "user": "rws"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_240542.json:
```json
{
    "body": "\n```\nStarting build...\nRunning build_pynac...\nconfigure: error: cannot find install-sh, install.sh, or shtool in \".\" \"./..\" \"./../..\"\nmake: *** No targets specified and no makefile found.  Stop.\nError building pynac.\n\nreal\t0m0.073s\nuser\t0m0.017s\nsys\t0m0.003s\n************************************************************************\nError installing package pynac-0.3.3\n************************************************************************\n```\n\n\nIt seems that you linked, for example, `install-sh -> /usr/share/automake-1.13/install-sh`. I have `automake-1.15` installed, thus `install-sh` cannot be found.\n\nIn `Pynac 0.3.2`, these files were actually included in the `.tar.bz2`, I think.",
    "created_at": "2015-04-11T07:59:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17918#issuecomment-240542",
    "user": "behackl"
}
```


```
Starting build...
Running build_pynac...
configure: error: cannot find install-sh, install.sh, or shtool in "." "./.." "./../.."
make: *** No targets specified and no makefile found.  Stop.
Error building pynac.

real	0m0.073s
user	0m0.017s
sys	0m0.003s
************************************************************************
Error installing package pynac-0.3.3
************************************************************************
```


It seems that you linked, for example, `install-sh -> /usr/share/automake-1.13/install-sh`. I have `automake-1.15` installed, thus `install-sh` cannot be found.

In `Pynac 0.3.2`, these files were actually included in the `.tar.bz2`, I think.



---

archive/issue_comments_240543.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-04-11T08:00:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17918#issuecomment-240543",
    "user": "behackl"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_240544.json:
```json
{
    "body": "Ah, the `h` option of `tar` is needed.",
    "created_at": "2015-04-11T08:15:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17918#issuecomment-240544",
    "user": "rws"
}
```

Ah, the `h` option of `tar` is needed.



---

archive/issue_comments_240545.json:
```json
{
    "body": "Attachment\n\nversion without soft links",
    "created_at": "2015-04-11T08:22:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17918#issuecomment-240545",
    "user": "rws"
}
```

Attachment

version without soft links



---

archive/issue_comments_240546.json:
```json
{
    "body": "Now the attachment has the wrong name so you need to rename in your `upstream/`.\n----\nNew commits:",
    "created_at": "2015-04-11T08:23:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17918#issuecomment-240546",
    "user": "rws"
}
```

Now the attachment has the wrong name so you need to rename in your `upstream/`.
----
New commits:



---

archive/issue_comments_240547.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-04-11T08:23:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17918#issuecomment-240547",
    "user": "rws"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_240548.json:
```json
{
    "body": "Passes `make ptestlong`. Thanks for pushing a new version!",
    "created_at": "2015-04-11T14:09:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17918#issuecomment-240548",
    "user": "behackl"
}
```

Passes `make ptestlong`. Thanks for pushing a new version!



---

archive/issue_comments_240549.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-04-11T14:09:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17918#issuecomment-240549",
    "user": "behackl"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_240550.json:
```json
{
    "body": "Thanks for the review!",
    "created_at": "2015-04-11T14:45:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17918#issuecomment-240550",
    "user": "rws"
}
```

Thanks for the review!



---

archive/issue_comments_240551.json:
```json
{
    "body": "Attaching larger files to trac isn't ideal, they are stored in the database forever. If you don't have a place to host files ask William for an account on boxen...",
    "created_at": "2015-04-12T08:45:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17918#issuecomment-240551",
    "user": "vbraun"
}
```

Attaching larger files to trac isn't ideal, they are stored in the database forever. If you don't have a place to host files ask William for an account on boxen...



---

archive/issue_comments_240552.json:
```json
{
    "body": "The pynac-0.3.3.tar.bz2 file is apparently not the one you envisioned:\n\n```\nAttempting to download package pynac-0.3.3\n>>> Trying to download http://www.sagemath.org/packages/upstream/pynac/pynac-0.3.3.tar.bz2\n[............................................................]\nChecksum: 76fea7a56a14d52eb2d14aaf11e21598bd68a8b4 vs 1afc858a8d18050604655b69096fcf13f42df73c\n```\n\nThe file is now cached by all buildbots. Note that I can't possibly read all tickets that I'm merging. Can you change the tarball name.",
    "created_at": "2015-04-12T14:56:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17918#issuecomment-240552",
    "user": "vbraun"
}
```

The pynac-0.3.3.tar.bz2 file is apparently not the one you envisioned:

```
Attempting to download package pynac-0.3.3
>>> Trying to download http://www.sagemath.org/packages/upstream/pynac/pynac-0.3.3.tar.bz2
[............................................................]
Checksum: 76fea7a56a14d52eb2d14aaf11e21598bd68a8b4 vs 1afc858a8d18050604655b69096fcf13f42df73c
```

The file is now cached by all buildbots. Note that I can't possibly read all tickets that I'm merging. Can you change the tarball name.



---

archive/issue_comments_240553.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2015-04-12T14:56:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17918#issuecomment-240553",
    "user": "vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_240554.json:
```json
{
    "body": "... nevermind, took me a while to understand what shall be done here.",
    "created_at": "2015-04-12T15:05:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17918#issuecomment-240554",
    "user": "behackl"
}
```

... nevermind, took me a while to understand what shall be done here.



---

archive/issue_comments_240555.json:
```json
{
    "body": "Replying to [comment:13 vbraun]:\n> The file is now cached by all buildbots. Note that I can't possibly read all tickets that I'm merging. Can you change the tarball name.\nIf I could have deleted my first attachment there wouldn't be a problem. I asked William for upload space today. You mean a different version string?",
    "created_at": "2015-04-12T15:27:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17918#issuecomment-240555",
    "user": "rws"
}
```

Replying to [comment:13 vbraun]:
> The file is now cached by all buildbots. Note that I can't possibly read all tickets that I'm merging. Can you change the tarball name.
If I could have deleted my first attachment there wouldn't be a problem. I asked William for upload space today. You mean a different version string?



---

archive/issue_comments_240556.json:
```json
{
    "body": "You know it doesn't have to be a `tar.bz2`. It is preferable for space reason but `tar.gz` works just as well, which means that you could have pointed to https://github.com/pynac/pynac/archive/pynac-0.3.3.tar.gz with the appropriate check sums.",
    "created_at": "2015-04-12T19:43:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17918#issuecomment-240556",
    "user": "fbissey"
}
```

You know it doesn't have to be a `tar.bz2`. It is preferable for space reason but `tar.gz` works just as well, which means that you could have pointed to https://github.com/pynac/pynac/archive/pynac-0.3.3.tar.gz with the appropriate check sums.



---

archive/issue_comments_240557.json:
```json
{
    "body": "Setting positive because only the cksums changed. Note the download link in the description.",
    "created_at": "2015-04-13T07:49:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17918#issuecomment-240557",
    "user": "rws"
}
```

Setting positive because only the cksums changed. Note the download link in the description.



---

archive/issue_comments_240558.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2015-04-13T07:49:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17918#issuecomment-240558",
    "user": "rws"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_240559.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2015-04-13T07:49:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17918#issuecomment-240559",
    "user": "git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_240560.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2015-04-13T07:49:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17918#issuecomment-240560",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_240561.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-04-13T07:50:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17918#issuecomment-240561",
    "user": "rws"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_240562.json:
```json
{
    "body": "As I said before, pynac-0.3.3.tar.bz2 is now cached on the buildbots. You can either manually delete the cached copy on each build slave, or you rename the tarball (e.g. to pynac-0.3.3.tar.gz)",
    "created_at": "2015-04-13T08:16:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17918#issuecomment-240562",
    "user": "vbraun"
}
```

As I said before, pynac-0.3.3.tar.bz2 is now cached on the buildbots. You can either manually delete the cached copy on each build slave, or you rename the tarball (e.g. to pynac-0.3.3.tar.gz)



---

archive/issue_comments_240563.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2015-04-13T08:37:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17918#issuecomment-240563",
    "user": "git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_240564.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2015-04-13T08:37:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17918#issuecomment-240564",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_240565.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-04-13T08:38:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17918#issuecomment-240565",
    "user": "rws"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_240566.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-04-14T23:01:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17918#issuecomment-240566",
    "user": "vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_240567.json:
```json
{
    "body": "Resolution changed from fixed to ",
    "created_at": "2015-04-15T01:25:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17918#issuecomment-240567",
    "user": "vbraun"
}
```

Resolution changed from fixed to 



---

archive/issue_comments_240568.json:
```json
{
    "body": "Changing status from closed to new.",
    "created_at": "2015-04-15T01:25:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17918#issuecomment-240568",
    "user": "vbraun"
}
```

Changing status from closed to new.



---

archive/issue_comments_240569.json:
```json
{
    "body": "On OSX:\n\n```\nsage -t --long src/doc/en/prep/Calculus.rst\n**********************************************************************\nFile \"src/doc/en/prep/Calculus.rst\", line 396, in doc.en.prep.Calculus\nFailed example:\n    integral(h,(x,0,pi/8))\nExpected:\n    1/2*log(sin(1/8*pi) + 1) - 1/2*log(-sin(1/8*pi) + 1)\nGot:\n    -1/2*log(-sin(1/8*pi) + 1) + 1/2*log(sin(1/8*pi) + 1)\n**********************************************************************\n1 item had failures:\n   1 of  58 in doc.en.prep.Calculus\n    [57 tests, 1 failure, 27.74 s]\n```\n",
    "created_at": "2015-04-15T01:25:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17918#issuecomment-240569",
    "user": "vbraun"
}
```

On OSX:

```
sage -t --long src/doc/en/prep/Calculus.rst
**********************************************************************
File "src/doc/en/prep/Calculus.rst", line 396, in doc.en.prep.Calculus
Failed example:
    integral(h,(x,0,pi/8))
Expected:
    1/2*log(sin(1/8*pi) + 1) - 1/2*log(-sin(1/8*pi) + 1)
Got:
    -1/2*log(-sin(1/8*pi) + 1) + 1/2*log(sin(1/8*pi) + 1)
**********************************************************************
1 item had failures:
   1 of  58 in doc.en.prep.Calculus
    [57 tests, 1 failure, 27.74 s]
```




---

archive/issue_comments_240570.json:
```json
{
    "body": "This is strange. On Arch Linux, I have\n\n```\nsage -t --long --warn-long 81.6 src/doc/en/prep/Calculus.rst\n    [57 tests, 11.79 s]\n----------------------------------------------------------------------\nAll tests passed!\n----------------------------------------------------------------------\n```\n\n\nand especially\n\n\n```\nsage: -1/2*log(-sin(1/8*pi) + 1) + 1/2*log(sin(1/8*pi) + 1)\n1/2*log(sin(1/8*pi) + 1) - 1/2*log(-sin(1/8*pi) + 1)\n```\n\n\nNothing changes in my results if I rebase this branch on top of `sage-6.7.beta0`.\n\nDoes anyone have an idea what could cause the change in the order of summands on OSX?",
    "created_at": "2015-04-15T05:28:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17918#issuecomment-240570",
    "user": "behackl"
}
```

This is strange. On Arch Linux, I have

```
sage -t --long --warn-long 81.6 src/doc/en/prep/Calculus.rst
    [57 tests, 11.79 s]
----------------------------------------------------------------------
All tests passed!
----------------------------------------------------------------------
```


and especially


```
sage: -1/2*log(-sin(1/8*pi) + 1) + 1/2*log(sin(1/8*pi) + 1)
1/2*log(sin(1/8*pi) + 1) - 1/2*log(-sin(1/8*pi) + 1)
```


Nothing changes in my results if I rebase this branch on top of `sage-6.7.beta0`.

Does anyone have an idea what could cause the change in the order of summands on OSX?



---

archive/issue_comments_240571.json:
```json
{
    "body": "Changing status from new to needs_info.",
    "created_at": "2015-04-15T13:02:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17918#issuecomment-240571",
    "user": "rws"
}
```

Changing status from new to needs_info.



---

archive/issue_comments_240572.json:
```json
{
    "body": "See also https://github.com/pynac/pynac/issues/18",
    "created_at": "2015-04-15T13:09:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17918#issuecomment-240572",
    "user": "rws"
}
```

See also https://github.com/pynac/pynac/issues/18



---

archive/issue_comments_240573.json:
```json
{
    "body": "Changing status from needs_info to positive_review.",
    "created_at": "2015-04-17T08:00:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17918#issuecomment-240573",
    "user": "rws"
}
```

Changing status from needs_info to positive_review.



---

archive/issue_comments_240574.json:
```json
{
    "body": "This is now abandoned in favor of #18237. Please review that ticket.",
    "created_at": "2015-04-17T08:00:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17918#issuecomment-240574",
    "user": "rws"
}
```

This is now abandoned in favor of #18237. Please review that ticket.



---

archive/issue_comments_240575.json:
```json
{
    "body": "Resolution: duplicate",
    "created_at": "2015-04-18T23:33:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17918#issuecomment-240575",
    "user": "vbraun"
}
```

Resolution: duplicate
