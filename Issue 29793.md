# Issue 29793: Prevent JSmol from phoning home

archive/issues_029793.json:
```json
{
    "body": "Keywords: jmol jsmol tracker tracking telemetry privacy\n\nThe JSmol library -- invoked when using `viewer='jmol'` or `viewer='canvas3d'` from the Jupyter notebook -- is sending an HTTP request to a tracking script at chemapps.stolaf.edu that then uses Google Analytics:\n\n\n```\nGET /jmol/JmolTracker.php?id=UA-45940799-1&applet=Jmol._Canvas2D%20(Jmol)&version=2019-06-08%2000:17:46%20(JSmol/j2s)&appver=14.29.51&url=about%3Asrcdoc HTTP/1.1\nHost: chemapps.stolaf.edu\nUser-Agent: ...\n...\nReferer: http://localhost:8888/notebooks/.../mynotebook.ipynb\n...\n```\n\n\nThese requests are not essential to the functioning of JSmol, so in the interest of furthering users' digital privacy, the proposed change prevents such requests from occurring. \n\nThe instruction to disable the tracking request was found at: https://sourceforge.net/p/jmol/mailman/message/31869453/\n\nIssue created by migration from https://trac.sagemath.org/ticket/30030\n\n",
    "created_at": "2020-06-30T18:08:01Z",
    "labels": [
        "graphics",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.2",
    "title": "Prevent JSmol from phoning home",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29793",
    "user": "@jcamp0x2a"
}
```
Keywords: jmol jsmol tracker tracking telemetry privacy

The JSmol library -- invoked when using `viewer='jmol'` or `viewer='canvas3d'` from the Jupyter notebook -- is sending an HTTP request to a tracking script at chemapps.stolaf.edu that then uses Google Analytics:


```
GET /jmol/JmolTracker.php?id=UA-45940799-1&applet=Jmol._Canvas2D%20(Jmol)&version=2019-06-08%2000:17:46%20(JSmol/j2s)&appver=14.29.51&url=about%3Asrcdoc HTTP/1.1
Host: chemapps.stolaf.edu
User-Agent: ...
...
Referer: http://localhost:8888/notebooks/.../mynotebook.ipynb
...
```


These requests are not essential to the functioning of JSmol, so in the interest of furthering users' digital privacy, the proposed change prevents such requests from occurring. 

The instruction to disable the tracking request was found at: https://sourceforge.net/p/jmol/mailman/message/31869453/

Issue created by migration from https://trac.sagemath.org/ticket/30030





---

archive/issue_comments_423169.json:
```json
{
    "body": "When this is ready for review you can mark it positive for me",
    "created_at": "2020-06-30T18:17:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29793",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29793#issuecomment-423169",
    "user": "@paulmasson"
}
```

When this is ready for review you can mark it positive for me



---

archive/issue_comments_423170.json:
```json
{
    "body": "Sorry, I thought I had put it in review earlier, but I was in error. I will move it to positive review as requested.",
    "created_at": "2020-06-30T19:53:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29793",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29793#issuecomment-423170",
    "user": "@jcamp0x2a"
}
```

Sorry, I thought I had put it in review earlier, but I was in error. I will move it to positive review as requested.



---

archive/issue_comments_423171.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-06-30T19:53:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29793",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29793#issuecomment-423171",
    "user": "@jcamp0x2a"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_423172.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-06-30T19:53:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29793",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29793#issuecomment-423172",
    "user": "@jcamp0x2a"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_423173.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-07-08T19:32:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29793",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29793#issuecomment-423173",
    "user": "@vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_423174.json:
```json
{
    "body": "This has broken Sage notebook.\nNamely, after\n\n```\n./sage --notebook\n```\n\nneither existing notebooks, not new notebooks (be they Sage or Python3)\n\nmay be opened",
    "created_at": "2020-07-11T13:32:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29793",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29793#issuecomment-423174",
    "user": "@dimpase"
}
```

This has broken Sage notebook.
Namely, after

```
./sage --notebook
```

neither existing notebooks, not new notebooks (be they Sage or Python3)

may be opened



---

archive/issue_comments_423175.json:
```json
{
    "body": "however, reverting/rebuilding Sage with this commit out, and then pulling the branch and re-building makes everything work (or \"work\") - could it be some caching going on?\n\nI see this on !Linux/Firefox",
    "created_at": "2020-07-11T13:38:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29793",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29793#issuecomment-423175",
    "user": "@dimpase"
}
```

however, reverting/rebuilding Sage with this commit out, and then pulling the branch and re-building makes everything work (or "work") - could it be some caching going on?

I see this on !Linux/Firefox



---

archive/issue_comments_423176.json:
```json
{
    "body": "In the first run I saw some Warnings (404 on Mathjax stuff) - perhaps it was a temporary issue.",
    "created_at": "2020-07-11T13:39:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29793",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29793#issuecomment-423176",
    "user": "@dimpase"
}
```

In the first run I saw some Warnings (404 on Mathjax stuff) - perhaps it was a temporary issue.



---

archive/issue_comments_423177.json:
```json
{
    "body": "Replying to [comment:7 dimpase]:\n> In the first run I saw some Warnings (404 on Mathjax stuff) - perhaps it was a temporary issue.\nThe problems with the notebook are not due to this ticket. Starting a new notebook with 9.2.beta4 I get errors that Mathjax cannot be found because the `nbextensions` directory is not being served by the local server. That is a serious issue that would not be caused by turning off Google tracking in JSmol.",
    "created_at": "2020-07-11T22:44:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29793",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29793#issuecomment-423177",
    "user": "@paulmasson"
}
```

Replying to [comment:7 dimpase]:
> In the first run I saw some Warnings (404 on Mathjax stuff) - perhaps it was a temporary issue.
The problems with the notebook are not due to this ticket. Starting a new notebook with 9.2.beta4 I get errors that Mathjax cannot be found because the `nbextensions` directory is not being served by the local server. That is a serious issue that would not be caused by turning off Google tracking in JSmol.
