# Issue 29793: Prevent JSmol from phoning home

Issue created by migration from https://trac.sagemath.org/ticket/30030

Original creator: @jcamp0x2a

Original creation time: 2020-06-30 18:08:01

Keywords: jmol jsmol tracker tracking telemetry privacy

The JSmol library -- invoked when using `viewer='jmol'` or `viewer='canvas3d'` from the Jupyter notebook -- is sending an HTTP request to a tracking script at chemapps.stolaf.edu that then uses Google Analytics:


```
GET /jmol/JmolTracker.php?id=UA-45940799-1&applet=Jmol._Canvas2D%20(Jmol)&version=2019-06-08%2000:17:46%20(JSmol/j2s)&appver=14.29.51&url=about%3Asrcdoc HTTP/1.1
Host: chemapps.stolaf.edu
User-Agent: ...
...
Referer: http://localhost:8888/notebooks/.../mynotebook.ipynb
...
```


These requests are not essential to the functioning of JSmol, so in the interest of furthering users' digital privacy, the proposed change prevents such requests from occurring. 

The instruction to disable the tracking request was found at: https://sourceforge.net/p/jmol/mailman/message/31869453/


---

Comment by paulmasson created at 2020-06-30 18:17:06

When this is ready for review you can mark it positive for me


---

Comment by @jcamp0x2a created at 2020-06-30 19:53:16

Sorry, I thought I had put it in review earlier, but I was in error. I will move it to positive review as requested.


---

Comment by @jcamp0x2a created at 2020-06-30 19:53:16

Changing status from new to needs_review.


---

Comment by @jcamp0x2a created at 2020-06-30 19:53:34

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2020-07-08 19:32:55

Resolution: fixed


---

Comment by dimpase created at 2020-07-11 13:32:04

This has broken Sage notebook.
Namely, after

```
./sage --notebook
```

neither existing notebooks, not new notebooks (be they Sage or Python3)

may be opened


---

Comment by dimpase created at 2020-07-11 13:38:07

however, reverting/rebuilding Sage with this commit out, and then pulling the branch and re-building makes everything work (or "work") - could it be some caching going on?

I see this on !Linux/Firefox


---

Comment by dimpase created at 2020-07-11 13:39:53

In the first run I saw some Warnings (404 on Mathjax stuff) - perhaps it was a temporary issue.


---

Comment by paulmasson created at 2020-07-11 22:44:32

Replying to [comment:7 dimpase]:
> In the first run I saw some Warnings (404 on Mathjax stuff) - perhaps it was a temporary issue.
The problems with the notebook are not due to this ticket. Starting a new notebook with 9.2.beta4 I get errors that Mathjax cannot be found because the `nbextensions` directory is not being served by the local server. That is a serious issue that would not be caused by turning off Google tracking in JSmol.
