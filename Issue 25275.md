# Issue 25275: Add is_square method to LaurentPolynomial_univariate class

Issue created by migration from https://trac.sagemath.org/ticket/25512

Original creator: vklein

Original creation time: 2018-06-05 15:03:43

CC:  vdelecroix

Add an is_square instance method to LaurentPolynomial_univariate class.

This ticket is a prerequisite for #24677.


---

Comment by vdelecroix created at 2018-06-05 15:29:38

Changing status from new to needs_review.


---

Comment by vdelecroix created at 2018-06-05 15:29:38

New commits:


---

Comment by git created at 2018-06-05 15:30:30

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by git created at 2018-06-05 15:36:35

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by tscrim created at 2018-06-06 01:35:56

While this

```python
return (True, LaurentPolynomial_univariate(self._parent, r, self.__n // 2))
```

is okay for now, it is not future-proof if we have a subclass of `LaurentPolynomial_univariate`. It would be better to do

```python
return (True, type(self)(self._parent, r, self.__n // 2))
```


Bikeshedding (so feel free to ignore), but I'd rather see `elif root:` -> `if root:` to better indicate that the previous block is meant to stop.


---

Comment by vdelecroix created at 2018-06-06 07:39:14

Replying to [comment:4 tscrim]:
> While this
> {{{#!python
> return (True, LaurentPolynomial_univariate(self._parent, r, self.__n // 2))
> }}}
> is okay for now, it is not future-proof if we have a subclass of `LaurentPolynomial_univariate`.

On the other hand, all other methods create new Laurent polynomial this way. I don't have any strong opinion on the way it should be done but I have a strong opinion on the fact that it should be the same in all methods. If you feel like it has to change, it would better be part of another ticket as I don't want to modify other methods.

> It would be better to do
> {{{#!python
> return (True, type(self)(self._parent, r, self.__n // 2))
> }}}
> 
> Bikeshedding (so feel free to ignore), but I'd rather see `elif root:` -> `if root:` to better indicate that the previous block is meant to stop.

For this I don't agree. It is much easier to read a `if/elif/elif/else` rather a `if/if/if/if` where you have to think whether the other blocks meant to stopped.


---

Comment by tscrim created at 2018-06-06 11:14:39

Replying to [comment:5 vdelecroix]:
> Replying to [comment:4 tscrim]:
> > While this
> > {{{#!python
> > return (True, LaurentPolynomial_univariate(self._parent, r, self.__n // 2))
> > }}}
> > is okay for now, it is not future-proof if we have a subclass of `LaurentPolynomial_univariate`.
> 
> On the other hand, all other methods create new Laurent polynomial this way. I don't have any strong opinion on the way it should be done but I have a strong opinion on the fact that it should be the same in all methods. If you feel like it has to change, it would better be part of another ticket as I don't want to modify other methods.

I have a strong opinion that it should be done this way and to not to make things worse on new code. Doing things a bad way just because it was done that way in the past is not a good argument.


---

Comment by git created at 2018-06-06 14:37:13

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by vdelecroix created at 2018-06-06 14:37:34

Replying to [comment:6 tscrim]:
> Replying to [comment:5 vdelecroix]:
> > Replying to [comment:4 tscrim]:
> > > While this
> > > {{{#!python
> > > return (True, LaurentPolynomial_univariate(self._parent, r, self.__n // 2))
> > > }}}
> > > is okay for now, it is not future-proof if we have a subclass of `LaurentPolynomial_univariate`.
> > 
> > On the other hand, all other methods create new Laurent polynomial this way. I don't have any strong opinion on the way it should be done but I have a strong opinion on the fact that it should be the same in all methods. If you feel like it has to change, it would better be part of another ticket as I don't want to modify other methods.
> 
> I have a strong opinion that it should be done this way and to not to make things worse on new code. Doing things a bad way just because it was done that way in the past is not a good argument.

Now it is clean :-)


---

Comment by vdelecroix created at 2018-06-06 16:03:45

Changing status from needs_review to needs_work.


---

Comment by vdelecroix created at 2018-06-06 16:03:45

But apparently something is not working anymore... (or Iwahori Hecke algebra did use some forbidden features)


---

Comment by vdelecroix created at 2018-06-07 07:25:27

Cleaning (#25524) is set as a dependency.


---

Comment by git created at 2018-06-07 07:26:49

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by vdelecroix created at 2018-06-07 07:27:02

Changing status from needs_work to needs_review.


---

Comment by git created at 2018-06-07 16:06:56

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by git created at 2018-08-22 01:43:12

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by tscrim created at 2018-08-22 22:47:58

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2018-08-22 22:47:58

LGTM. Thank you.


---

Comment by vbraun created at 2018-08-26 09:38:06

Resolution: fixed
