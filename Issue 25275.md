# Issue 25275: Add is_square method to LaurentPolynomial_univariate class

archive/issues_025275.json:
```json
{
    "body": "CC:  vdelecroix\n\nAdd an is_square instance method to LaurentPolynomial_univariate class.\n\nThis ticket is a prerequisite for #24677.\n\nIssue created by migration from https://trac.sagemath.org/ticket/25512\n\n",
    "created_at": "2018-06-05T15:03:43Z",
    "labels": [
        "algebra",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.4",
    "title": "Add is_square method to LaurentPolynomial_univariate class",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/25275",
    "user": "vklein"
}
```
CC:  vdelecroix

Add an is_square instance method to LaurentPolynomial_univariate class.

This ticket is a prerequisite for #24677.

Issue created by migration from https://trac.sagemath.org/ticket/25512





---

archive/issue_comments_356326.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-06-05T15:29:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25275",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25275#issuecomment-356326",
    "user": "vdelecroix"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_356327.json:
```json
{
    "body": "New commits:",
    "created_at": "2018-06-05T15:29:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25275",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25275#issuecomment-356327",
    "user": "vdelecroix"
}
```

New commits:



---

archive/issue_comments_356328.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-06-05T15:30:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25275",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25275#issuecomment-356328",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_356329.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-06-05T15:36:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25275",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25275#issuecomment-356329",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_356330.json:
```json
{
    "body": "While this\n\n```python\nreturn (True, LaurentPolynomial_univariate(self._parent, r, self.__n // 2))\n```\n\nis okay for now, it is not future-proof if we have a subclass of `LaurentPolynomial_univariate`. It would be better to do\n\n```python\nreturn (True, type(self)(self._parent, r, self.__n // 2))\n```\n\n\nBikeshedding (so feel free to ignore), but I'd rather see `elif root:` -> `if root:` to better indicate that the previous block is meant to stop.",
    "created_at": "2018-06-06T01:35:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25275",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25275#issuecomment-356330",
    "user": "tscrim"
}
```

While this

```python
return (True, LaurentPolynomial_univariate(self._parent, r, self.__n // 2))
```

is okay for now, it is not future-proof if we have a subclass of `LaurentPolynomial_univariate`. It would be better to do

```python
return (True, type(self)(self._parent, r, self.__n // 2))
```


Bikeshedding (so feel free to ignore), but I'd rather see `elif root:` -> `if root:` to better indicate that the previous block is meant to stop.



---

archive/issue_comments_356331.json:
```json
{
    "body": "Replying to [comment:4 tscrim]:\n> While this\n> {{{#!python\n> return (True, LaurentPolynomial_univariate(self._parent, r, self.__n // 2))\n> }}}\n> is okay for now, it is not future-proof if we have a subclass of `LaurentPolynomial_univariate`.\n\nOn the other hand, all other methods create new Laurent polynomial this way. I don't have any strong opinion on the way it should be done but I have a strong opinion on the fact that it should be the same in all methods. If you feel like it has to change, it would better be part of another ticket as I don't want to modify other methods.\n\n> It would be better to do\n> {{{#!python\n> return (True, type(self)(self._parent, r, self.__n // 2))\n> }}}\n> \n> Bikeshedding (so feel free to ignore), but I'd rather see `elif root:` -> `if root:` to better indicate that the previous block is meant to stop.\n\nFor this I don't agree. It is much easier to read a `if/elif/elif/else` rather a `if/if/if/if` where you have to think whether the other blocks meant to stopped.",
    "created_at": "2018-06-06T07:39:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25275",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25275#issuecomment-356331",
    "user": "vdelecroix"
}
```

Replying to [comment:4 tscrim]:
> While this
> {{{#!python
> return (True, LaurentPolynomial_univariate(self._parent, r, self.__n // 2))
> }}}
> is okay for now, it is not future-proof if we have a subclass of `LaurentPolynomial_univariate`.

On the other hand, all other methods create new Laurent polynomial this way. I don't have any strong opinion on the way it should be done but I have a strong opinion on the fact that it should be the same in all methods. If you feel like it has to change, it would better be part of another ticket as I don't want to modify other methods.

> It would be better to do
> {{{#!python
> return (True, type(self)(self._parent, r, self.__n // 2))
> }}}
> 
> Bikeshedding (so feel free to ignore), but I'd rather see `elif root:` -> `if root:` to better indicate that the previous block is meant to stop.

For this I don't agree. It is much easier to read a `if/elif/elif/else` rather a `if/if/if/if` where you have to think whether the other blocks meant to stopped.



---

archive/issue_comments_356332.json:
```json
{
    "body": "Replying to [comment:5 vdelecroix]:\n> Replying to [comment:4 tscrim]:\n> > While this\n> > {{{#!python\n> > return (True, LaurentPolynomial_univariate(self._parent, r, self.__n // 2))\n> > }}}\n> > is okay for now, it is not future-proof if we have a subclass of `LaurentPolynomial_univariate`.\n> \n> On the other hand, all other methods create new Laurent polynomial this way. I don't have any strong opinion on the way it should be done but I have a strong opinion on the fact that it should be the same in all methods. If you feel like it has to change, it would better be part of another ticket as I don't want to modify other methods.\n\nI have a strong opinion that it should be done this way and to not to make things worse on new code. Doing things a bad way just because it was done that way in the past is not a good argument.",
    "created_at": "2018-06-06T11:14:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25275",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25275#issuecomment-356332",
    "user": "tscrim"
}
```

Replying to [comment:5 vdelecroix]:
> Replying to [comment:4 tscrim]:
> > While this
> > {{{#!python
> > return (True, LaurentPolynomial_univariate(self._parent, r, self.__n // 2))
> > }}}
> > is okay for now, it is not future-proof if we have a subclass of `LaurentPolynomial_univariate`.
> 
> On the other hand, all other methods create new Laurent polynomial this way. I don't have any strong opinion on the way it should be done but I have a strong opinion on the fact that it should be the same in all methods. If you feel like it has to change, it would better be part of another ticket as I don't want to modify other methods.

I have a strong opinion that it should be done this way and to not to make things worse on new code. Doing things a bad way just because it was done that way in the past is not a good argument.



---

archive/issue_comments_356333.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-06-06T14:37:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25275",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25275#issuecomment-356333",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_356334.json:
```json
{
    "body": "Replying to [comment:6 tscrim]:\n> Replying to [comment:5 vdelecroix]:\n> > Replying to [comment:4 tscrim]:\n> > > While this\n> > > {{{#!python\n> > > return (True, LaurentPolynomial_univariate(self._parent, r, self.__n // 2))\n> > > }}}\n> > > is okay for now, it is not future-proof if we have a subclass of `LaurentPolynomial_univariate`.\n> > \n> > On the other hand, all other methods create new Laurent polynomial this way. I don't have any strong opinion on the way it should be done but I have a strong opinion on the fact that it should be the same in all methods. If you feel like it has to change, it would better be part of another ticket as I don't want to modify other methods.\n> \n> I have a strong opinion that it should be done this way and to not to make things worse on new code. Doing things a bad way just because it was done that way in the past is not a good argument.\n\nNow it is clean :-)",
    "created_at": "2018-06-06T14:37:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25275",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25275#issuecomment-356334",
    "user": "vdelecroix"
}
```

Replying to [comment:6 tscrim]:
> Replying to [comment:5 vdelecroix]:
> > Replying to [comment:4 tscrim]:
> > > While this
> > > {{{#!python
> > > return (True, LaurentPolynomial_univariate(self._parent, r, self.__n // 2))
> > > }}}
> > > is okay for now, it is not future-proof if we have a subclass of `LaurentPolynomial_univariate`.
> > 
> > On the other hand, all other methods create new Laurent polynomial this way. I don't have any strong opinion on the way it should be done but I have a strong opinion on the fact that it should be the same in all methods. If you feel like it has to change, it would better be part of another ticket as I don't want to modify other methods.
> 
> I have a strong opinion that it should be done this way and to not to make things worse on new code. Doing things a bad way just because it was done that way in the past is not a good argument.

Now it is clean :-)



---

archive/issue_comments_356335.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-06-06T16:03:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25275",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25275#issuecomment-356335",
    "user": "vdelecroix"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_356336.json:
```json
{
    "body": "But apparently something is not working anymore... (or Iwahori Hecke algebra did use some forbidden features)",
    "created_at": "2018-06-06T16:03:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25275",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25275#issuecomment-356336",
    "user": "vdelecroix"
}
```

But apparently something is not working anymore... (or Iwahori Hecke algebra did use some forbidden features)



---

archive/issue_comments_356337.json:
```json
{
    "body": "Cleaning (#25524) is set as a dependency.",
    "created_at": "2018-06-07T07:25:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25275",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25275#issuecomment-356337",
    "user": "vdelecroix"
}
```

Cleaning (#25524) is set as a dependency.



---

archive/issue_comments_356338.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-06-07T07:26:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25275",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25275#issuecomment-356338",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_356339.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-06-07T07:27:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25275",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25275#issuecomment-356339",
    "user": "vdelecroix"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_356340.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-06-07T16:06:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25275",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25275#issuecomment-356340",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_356341.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-08-22T01:43:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25275",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25275#issuecomment-356341",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_356342.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-08-22T22:47:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25275",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25275#issuecomment-356342",
    "user": "tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_356343.json:
```json
{
    "body": "LGTM. Thank you.",
    "created_at": "2018-08-22T22:47:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25275",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25275#issuecomment-356343",
    "user": "tscrim"
}
```

LGTM. Thank you.



---

archive/issue_comments_356344.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-08-26T09:38:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25275",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25275#issuecomment-356344",
    "user": "vbraun"
}
```

Resolution: fixed
