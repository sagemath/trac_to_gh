# Issue 10408: Raising doctest coverage to 100% for sage/combinat/partition.py

Issue created by migration from Trac.

Original creator: abmasse

Original creation time: 2010-12-10 19:50:15

Assignee: mvngu

CC:  sage-combinat

Since one of the goal of sage-5.0 is to raise doctest coverage to 90%, I take this opportunity to document a new module.


---

Attachment

Doctest improvement


---

Comment by abmasse created at 2010-12-10 22:06:19

I just added a patch documenting the five functions remaining to reach 100% coverage. Needs review!


---

Comment by abmasse created at 2010-12-10 22:06:19

Changing status from new to needs_review.


---

Comment by cremona created at 2010-12-21 17:38:24

Changing status from needs_review to needs_work.


---

Comment by cremona created at 2010-12-21 17:38:24

Review:  patch applies fine to 4.6.1.alpha3, and tests in sage.combinat.partition pass.

After the patch:

```
sage/combinat/partition.py
SCORE sage/combinat/partition.py: 100% (155 of 155)

Possibly wrong (function name doesn't occur in doctests):
	 * from_exp(exp):
	 * from_core_and_quotient(core, quotient):
	 * _repr_(self):
	 * _repr_(self):
	 * partition_sign(pi):
```

The latter can be fixed by inserting the tag # indirect doctest on the relevant lines.

In addition:  The new docstrings do not conform to Sage's standards perfectly.  Each function should have a one line description, then INPUT and OUTPUT blocks to describe the input parameters (if any;  ignore self) and output.  And apply suitable markup to mathematical symbols: a few are missing.

The reference manual rebuilds fine, no warnings.

Hence: needs work (but only trivial work).

Feel free to return the compliment at #9228!


---

Comment by abmasse created at 2010-12-22 20:04:43

Changing status from needs_work to needs_info.


---

Comment by abmasse created at 2010-12-22 20:04:43

Replying to [comment:3 cremona]:
> The latter can be fixed by inserting the tag # indirect doctest on the relevant lines.

Ok, thanks, I will correct those!

> 
> In addition:  The new docstrings do not conform to Sage's standards perfectly.  Each function should have a one line description, then INPUT and OUTPUT blocks to describe the input parameters (if any;  ignore self) and output.  And apply suitable markup to mathematical symbols: a few are missing.

Ok for the mathematical markup.

About the INPUT and OUTPUT blocks, do I have to put them for every function? I didn't know that. By the way, it seems that in #9228, the docstring you added do not contain those INPUT/OUTPUT blocks? Is it because I don't understand you or because we have to put them only in some cases? 

> 
> The reference manual rebuilds fine, no warnings.
> 
> Hence: needs work (but only trivial work).
> 
> Feel free to return the compliment at #9228!

I'll give it a shot. Thank you for the review!


---

Comment by cremona created at 2010-12-22 20:11:20

Take a look at http://www.sagemath.org/doc/developer/conventions.html#documentation-strings for the coding conventions.  Also, look at some other source files, and compare with how the output looks by checking the relevant pages of the online reference manual.

The INPUT block is most important (but do not list "self").   People often omit the OUTPUT block especially when it is obvious from the one-line description, or of course when there is no output.

As for #9228... well, I may not have done a perfect job!  If so, please point this out in your review!


---

Comment by tscrim created at 2012-12-11 04:59:36

Changing status from needs_info to needs_review.


---

Comment by tscrim created at 2012-12-11 04:59:36

`partition.py` has full doctest coverage as of `5.5.rc0`:

```
travis`@`travis-virtualbox:~/sage-5.5.rc0/devel/sage-reviews/sage/combinat$ sage -coverage partition.py 
----------------------------------------------------------------------
partition.py
SCORE partition.py: 100% (163 of 163)
----------------------------------------------------------------------
```



---

Comment by knsam created at 2013-01-31 04:15:12

As of Sage 5.6, here is what I get. So, I think this can be given positive review. :) 

```
knsam`@`PerverseSheaf:/usr/lib/sagemath/devel/sage/sage/combinat$ sage -version
Sage Version 5.6, Release Date: 2013-01-21
knsam`@`PerverseSheaf:/usr/lib/sagemath/devel/sage/sage/combinat$ sage -coverage partition.py
----------------------------------------------------------------------
partition.py
SCORE partition.py: 100% (174 of 174)
----------------------------------------------------------------------
```



---

Comment by knsam created at 2013-01-31 04:16:57

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2013-01-31 20:35:33

Resolution: worksforme
