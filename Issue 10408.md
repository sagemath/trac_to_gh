# Issue 10408: Raising doctest coverage to 100% for sage/combinat/partition.py

archive/issues_010408.json:
```json
{
    "body": "Assignee: mvngu\n\nCC:  sage-combinat\n\nSince one of the goal of sage-5.0 is to raise doctest coverage to 90%, I take this opportunity to document a new module.\n\nIssue created by migration from https://trac.sagemath.org/ticket/10461\n\n",
    "created_at": "2010-12-10T19:50:15Z",
    "labels": [
        "documentation",
        "minor",
        "enhancement"
    ],
    "title": "Raising doctest coverage to 100% for sage/combinat/partition.py",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/10408",
    "user": "abmasse"
}
```
Assignee: mvngu

CC:  sage-combinat

Since one of the goal of sage-5.0 is to raise doctest coverage to 90%, I take this opportunity to document a new module.

Issue created by migration from https://trac.sagemath.org/ticket/10461





---

archive/issue_comments_107128.json:
```json
{
    "body": "Attachment\n\nDoctest improvement",
    "created_at": "2010-12-10T22:03:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10408",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10408#issuecomment-107128",
    "user": "abmasse"
}
```

Attachment

Doctest improvement



---

archive/issue_comments_107129.json:
```json
{
    "body": "I just added a patch documenting the five functions remaining to reach 100% coverage. Needs review!",
    "created_at": "2010-12-10T22:06:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10408",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10408#issuecomment-107129",
    "user": "abmasse"
}
```

I just added a patch documenting the five functions remaining to reach 100% coverage. Needs review!



---

archive/issue_comments_107130.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2010-12-10T22:06:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10408",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10408#issuecomment-107130",
    "user": "abmasse"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_107131.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2010-12-21T17:38:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10408",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10408#issuecomment-107131",
    "user": "cremona"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_107132.json:
```json
{
    "body": "Review:  patch applies fine to 4.6.1.alpha3, and tests in sage.combinat.partition pass.\n\nAfter the patch:\n\n```\nsage/combinat/partition.py\nSCORE sage/combinat/partition.py: 100% (155 of 155)\n\nPossibly wrong (function name doesn't occur in doctests):\n\t * from_exp(exp):\n\t * from_core_and_quotient(core, quotient):\n\t * _repr_(self):\n\t * _repr_(self):\n\t * partition_sign(pi):\n```\n\nThe latter can be fixed by inserting the tag # indirect doctest on the relevant lines.\n\nIn addition:  The new docstrings do not conform to Sage's standards perfectly.  Each function should have a one line description, then INPUT and OUTPUT blocks to describe the input parameters (if any;  ignore self) and output.  And apply suitable markup to mathematical symbols: a few are missing.\n\nThe reference manual rebuilds fine, no warnings.\n\nHence: needs work (but only trivial work).\n\nFeel free to return the compliment at #9228!",
    "created_at": "2010-12-21T17:38:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10408",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10408#issuecomment-107132",
    "user": "cremona"
}
```

Review:  patch applies fine to 4.6.1.alpha3, and tests in sage.combinat.partition pass.

After the patch:

```
sage/combinat/partition.py
SCORE sage/combinat/partition.py: 100% (155 of 155)

Possibly wrong (function name doesn't occur in doctests):
	 * from_exp(exp):
	 * from_core_and_quotient(core, quotient):
	 * _repr_(self):
	 * _repr_(self):
	 * partition_sign(pi):
```

The latter can be fixed by inserting the tag # indirect doctest on the relevant lines.

In addition:  The new docstrings do not conform to Sage's standards perfectly.  Each function should have a one line description, then INPUT and OUTPUT blocks to describe the input parameters (if any;  ignore self) and output.  And apply suitable markup to mathematical symbols: a few are missing.

The reference manual rebuilds fine, no warnings.

Hence: needs work (but only trivial work).

Feel free to return the compliment at #9228!



---

archive/issue_comments_107133.json:
```json
{
    "body": "Changing status from needs_work to needs_info.",
    "created_at": "2010-12-22T20:04:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10408",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10408#issuecomment-107133",
    "user": "abmasse"
}
```

Changing status from needs_work to needs_info.



---

archive/issue_comments_107134.json:
```json
{
    "body": "Replying to [comment:3 cremona]:\n> The latter can be fixed by inserting the tag # indirect doctest on the relevant lines.\n\nOk, thanks, I will correct those!\n\n> \n> In addition:  The new docstrings do not conform to Sage's standards perfectly.  Each function should have a one line description, then INPUT and OUTPUT blocks to describe the input parameters (if any;  ignore self) and output.  And apply suitable markup to mathematical symbols: a few are missing.\n\nOk for the mathematical markup.\n\nAbout the INPUT and OUTPUT blocks, do I have to put them for every function? I didn't know that. By the way, it seems that in #9228, the docstring you added do not contain those INPUT/OUTPUT blocks? Is it because I don't understand you or because we have to put them only in some cases? \n\n> \n> The reference manual rebuilds fine, no warnings.\n> \n> Hence: needs work (but only trivial work).\n> \n> Feel free to return the compliment at #9228!\n\nI'll give it a shot. Thank you for the review!",
    "created_at": "2010-12-22T20:04:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10408",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10408#issuecomment-107134",
    "user": "abmasse"
}
```

Replying to [comment:3 cremona]:
> The latter can be fixed by inserting the tag # indirect doctest on the relevant lines.

Ok, thanks, I will correct those!

> 
> In addition:  The new docstrings do not conform to Sage's standards perfectly.  Each function should have a one line description, then INPUT and OUTPUT blocks to describe the input parameters (if any;  ignore self) and output.  And apply suitable markup to mathematical symbols: a few are missing.

Ok for the mathematical markup.

About the INPUT and OUTPUT blocks, do I have to put them for every function? I didn't know that. By the way, it seems that in #9228, the docstring you added do not contain those INPUT/OUTPUT blocks? Is it because I don't understand you or because we have to put them only in some cases? 

> 
> The reference manual rebuilds fine, no warnings.
> 
> Hence: needs work (but only trivial work).
> 
> Feel free to return the compliment at #9228!

I'll give it a shot. Thank you for the review!



---

archive/issue_comments_107135.json:
```json
{
    "body": "Take a look at http://www.sagemath.org/doc/developer/conventions.html#documentation-strings for the coding conventions.  Also, look at some other source files, and compare with how the output looks by checking the relevant pages of the online reference manual.\n\nThe INPUT block is most important (but do not list \"self\").   People often omit the OUTPUT block especially when it is obvious from the one-line description, or of course when there is no output.\n\nAs for #9228... well, I may not have done a perfect job!  If so, please point this out in your review!",
    "created_at": "2010-12-22T20:11:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10408",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10408#issuecomment-107135",
    "user": "cremona"
}
```

Take a look at http://www.sagemath.org/doc/developer/conventions.html#documentation-strings for the coding conventions.  Also, look at some other source files, and compare with how the output looks by checking the relevant pages of the online reference manual.

The INPUT block is most important (but do not list "self").   People often omit the OUTPUT block especially when it is obvious from the one-line description, or of course when there is no output.

As for #9228... well, I may not have done a perfect job!  If so, please point this out in your review!



---

archive/issue_comments_107136.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2012-12-11T04:59:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10408",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10408#issuecomment-107136",
    "user": "tscrim"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_107137.json:
```json
{
    "body": "`partition.py` has full doctest coverage as of `5.5.rc0`:\n\n```\ntravis@travis-virtualbox:~/sage-5.5.rc0/devel/sage-reviews/sage/combinat$ sage -coverage partition.py \n----------------------------------------------------------------------\npartition.py\nSCORE partition.py: 100% (163 of 163)\n----------------------------------------------------------------------\n```\n",
    "created_at": "2012-12-11T04:59:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10408",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10408#issuecomment-107137",
    "user": "tscrim"
}
```

`partition.py` has full doctest coverage as of `5.5.rc0`:

```
travis@travis-virtualbox:~/sage-5.5.rc0/devel/sage-reviews/sage/combinat$ sage -coverage partition.py 
----------------------------------------------------------------------
partition.py
SCORE partition.py: 100% (163 of 163)
----------------------------------------------------------------------
```




---

archive/issue_comments_107138.json:
```json
{
    "body": "As of Sage 5.6, here is what I get. So, I think this can be given positive review. :) \n\n```\nknsam@PerverseSheaf:/usr/lib/sagemath/devel/sage/sage/combinat$ sage -version\nSage Version 5.6, Release Date: 2013-01-21\nknsam@PerverseSheaf:/usr/lib/sagemath/devel/sage/sage/combinat$ sage -coverage partition.py\n----------------------------------------------------------------------\npartition.py\nSCORE partition.py: 100% (174 of 174)\n----------------------------------------------------------------------\n```\n",
    "created_at": "2013-01-31T04:15:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10408",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10408#issuecomment-107138",
    "user": "knsam"
}
```

As of Sage 5.6, here is what I get. So, I think this can be given positive review. :) 

```
knsam@PerverseSheaf:/usr/lib/sagemath/devel/sage/sage/combinat$ sage -version
Sage Version 5.6, Release Date: 2013-01-21
knsam@PerverseSheaf:/usr/lib/sagemath/devel/sage/sage/combinat$ sage -coverage partition.py
----------------------------------------------------------------------
partition.py
SCORE partition.py: 100% (174 of 174)
----------------------------------------------------------------------
```




---

archive/issue_comments_107139.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-01-31T04:16:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10408",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10408#issuecomment-107139",
    "user": "knsam"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_107140.json:
```json
{
    "body": "Resolution: worksforme",
    "created_at": "2013-01-31T20:35:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10408",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10408#issuecomment-107140",
    "user": "jdemeyer"
}
```

Resolution: worksforme
