# Issue 23638: py3 richcmp for number fields morphism

archive/issues_023638.json:
```json
{
    "body": "as a step to py3\n\nIssue created by migration from https://trac.sagemath.org/ticket/23875\n\n",
    "created_at": "2017-09-17T15:13:14Z",
    "labels": [
        "python3",
        "major",
        "enhancement"
    ],
    "title": "py3 richcmp for number fields morphism",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23638",
    "user": "chapoton"
}
```
as a step to py3

Issue created by migration from https://trac.sagemath.org/ticket/23875





---

archive/issue_comments_331105.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-09-17T15:13:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23638#issuecomment-331105",
    "user": "chapoton"
}
```

New commits:



---

archive/issue_comments_331106.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-09-17T15:13:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23638#issuecomment-331106",
    "user": "chapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_331107.json:
```json
{
    "body": "Shouldn't the function be changed `_cmp_` -> `_richcmp_`?",
    "created_at": "2017-09-17T17:00:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23638#issuecomment-331107",
    "user": "tscrim"
}
```

Shouldn't the function be changed `_cmp_` -> `_richcmp_`?



---

archive/issue_comments_331108.json:
```json
{
    "body": "indeed",
    "created_at": "2017-09-17T18:27:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23638#issuecomment-331108",
    "user": "chapoton"
}
```

indeed



---

archive/issue_comments_331109.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-09-17T18:28:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23638#issuecomment-331109",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_331110.json:
```json
{
    "body": "then it fails because of #23647\n----\nNew commits:",
    "created_at": "2017-09-17T18:29:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23638#issuecomment-331110",
    "user": "chapoton"
}
```

then it fails because of #23647
----
New commits:



---

archive/issue_comments_331111.json:
```json
{
    "body": "We could just revert the last commit as a temporary fix if we do not have a fix for #23647 (at least IMO the bigger thing is removing calls to `cmp`).",
    "created_at": "2017-09-17T18:35:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23638#issuecomment-331111",
    "user": "tscrim"
}
```

We could just revert the last commit as a temporary fix if we do not have a fix for #23647 (at least IMO the bigger thing is removing calls to `cmp`).



---

archive/issue_comments_331112.json:
```json
{
    "body": "well, no. it does not make any sense to call `richcmp` from `_cmp_`.",
    "created_at": "2017-09-18T07:20:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23638#issuecomment-331112",
    "user": "chapoton"
}
```

well, no. it does not make any sense to call `richcmp` from `_cmp_`.



---

archive/issue_comments_331113.json:
```json
{
    "body": "this seems to be fixed by the latest branch in #23647",
    "created_at": "2017-09-18T08:32:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23638#issuecomment-331113",
    "user": "chapoton"
}
```

this seems to be fixed by the latest branch in #23647



---

archive/issue_comments_331114.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-09-19T09:31:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23638#issuecomment-331114",
    "user": "jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_331115.json:
```json
{
    "body": "Doctest failure, see patchbot.",
    "created_at": "2017-09-19T09:31:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23638#issuecomment-331115",
    "user": "jdemeyer"
}
```

Doctest failure, see patchbot.



---

archive/issue_comments_331116.json:
```json
{
    "body": "sure enough, because this depends on #23647. I should have added the dependency, but I was waiting for somebody reviewing it.",
    "created_at": "2017-09-19T09:35:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23638#issuecomment-331116",
    "user": "chapoton"
}
```

sure enough, because this depends on #23647. I should have added the dependency, but I was waiting for somebody reviewing it.



---

archive/issue_comments_331117.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-09-19T09:35:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23638#issuecomment-331117",
    "user": "chapoton"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_331118.json:
```json
{
    "body": "Replying to [comment:7 chapoton]:\n> well, no. it does not make any sense to call `richcmp` from `_cmp_`.\n\n*facepalm*...right...\n\nIf this also passes the one failing test for you, Fr\u00e9d\u00e9ric, with #23647, then positive review.",
    "created_at": "2017-09-19T15:27:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23638#issuecomment-331118",
    "user": "tscrim"
}
```

Replying to [comment:7 chapoton]:
> well, no. it does not make any sense to call `richcmp` from `_cmp_`.

*facepalm*...right...

If this also passes the one failing test for you, Frédéric, with #23647, then positive review.



---

archive/issue_comments_331119.json:
```json
{
    "body": "The failing doctest does pass with #23647 + the branch here.\n\nI am therefore setting to positive.",
    "created_at": "2017-09-19T18:03:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23638#issuecomment-331119",
    "user": "chapoton"
}
```

The failing doctest does pass with #23647 + the branch here.

I am therefore setting to positive.



---

archive/issue_comments_331120.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-09-19T18:03:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23638#issuecomment-331120",
    "user": "chapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_331121.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-09-20T22:26:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23638#issuecomment-331121",
    "user": "vbraun"
}
```

Resolution: fixed
