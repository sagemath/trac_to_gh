# Issue 11333: ideals_of_bdd_norm misterious bug?

Issue created by migration from Trac.

Original creator: mmasdeu

Original creation time: 2011-06-16 16:59:35

Assignee: davidloeffler

Keywords: ideallist, ideals of bounded norm, memory

Here is a code that I try to run in my laptop:


```
sage: R.<t>=QQ['x']
sage: F.<a>=NumberField(t^2-t-7)
sage: V=F.ideals_of_bdd_norm(150000)
sage: assert(len(V[14369])>0)
sage: I=F.ideal(V[14369][0])
sage: assert(I.norm()==14369)
```


The last assertion should not complain, because ideals_of_bdd_norm(N) should return a dict of integral ideals of norm up to N, indexed by the norm.

I have only observed this when I ask for very large norms (I would like to go up to 10e6, and the above is the smallest example that I got). If I ask for norms up to 15000 say, then it works as expected.

I suspect that it is a problem with the communication with pari, but I don't know enough about it to tell. Also, I should say that this doesn't happen in other (bigger) machines that I have tried, so it might be architecture-related, or maybe memory dirtyness...

I am running this on Sage 4.7, on a Thinkpad X41t with an updated Arch distribution, if that is of any help. Also I will be happy to do more tests if asked, of course!



---

Comment by robharron created at 2013-04-04 03:12:37

I just ran the code and the first assert failed, i.e. `len(V[14369])` is 0 for me. And it should be since 14369 is inert in that quadratic field and so is not the norm of an ideal of that field.
