# Issue 17105: A bunch of Sage library cython files need to be linked to gmp.

Issue created by migration from https://trac.sagemath.org/ticket/17342

Original creator: jpflori

Original creation time: 2014-11-14 13:17:10

CC:  tscrim

In particular, we need explicit linking at build time for Cygwin.


---

Comment by jpflori created at 2014-11-14 15:18:55

New commits:


---

Comment by jpflori created at 2014-11-14 15:18:55

Changing keywords from "" to "cygwin linking".


---

Comment by jpflori created at 2014-11-14 15:18:55

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2014-11-14 16:43:43

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2014-11-14 16:43:43

I didn't test on Cygwin, but at least the patch makes sense and doesn't break anything for me.


---

Comment by vbraun created at 2014-11-15 16:20:00

Resolution: fixed


---

Comment by Stefan created at 2014-12-02 20:38:19

I notice some of the matroid extensions got gmp as extra library. How do I determine that this is necessary? The code runs fine on my computer with and without gmp, I think. Without a way to tell, I'll get it wrong on future extensions.


---

Comment by jpflori created at 2014-12-03 10:32:32

I'd say:
* either look in the source code for gmp function (here it is typically mpn_popcnt or mpn_copyi),
* or run `ldd | grep U` on the built object files and look for symbols with gmp in it,
* or try to compile it under a cery touchy platform as Cygwin :)
