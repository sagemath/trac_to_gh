# Issue 15742: Toric varieties can be tricked into accepting base rings that are not fields

Issue created by migration from https://trac.sagemath.org/ticket/15979

Original creator: jkeitel

Original creation time: 2014-03-20 10:21:21

CC:  novoselt vbraun

Keywords: toric

There are a couple of odd things right now:

This does not work:

```
sage: R = PolynomialRing(QQ, 2, 'a')
sage: P2 = toric_varieties.P2(base_ring=R)
...
TypeError: need a field to construct a Fano toric variety!
 Got Multivariate Polynomial Ring in a0, a1 over Rational Field
```

However, this does:

```
sage: R = PolynomialRing(QQ, 2, 'a')
sage: P2 = toric_varieties.P2(base_ring=QQ)
sage: P2 = P2.change_ring(R)
sage: P2.base_ring()
Multivariate Polynomial Ring in a0, a1 over Rational Field
```


The same problem also occurs for ToricVariety instead of CPRFanoToricVariety. 
Allowing general rings leads to some annoying behavior such as

```
sage: P2.base_ring()
Multivariate Polynomial Ring in a0, a1 over Rational Field
sage: P2.dimension()
4
```

Here the dimension of the spectrum of the base ring is added. Because of that, integration in toric varieties work (although this can be fixed, of course).

In any case, if one requires toric varieties to be defined over fields, it should at least be consistent.

Best,
Jan

PS: It's also a bit annoying that ToricVariety and CPRFanoToricVariety allow for the keyword base_field, but the catalog only allows base_ring. Should that be adjusted?


---

Comment by jkeitel created at 2014-03-20 10:27:18

Changing status from new to needs_review.


---

Comment by vbraun created at 2014-03-20 12:58:21

Should always be `base_ring` for consistency. Even if we currently only support fields...


---

Comment by vbraun created at 2014-03-20 13:50:57

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2014-03-20 15:43:47

Resolution: fixed
