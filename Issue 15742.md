# Issue 15742: Toric varieties can be tricked into accepting base rings that are not fields

archive/issues_015742.json:
```json
{
    "body": "CC:  novoselt vbraun\n\nKeywords: toric\n\nThere are a couple of odd things right now:\n\nThis does not work:\n\n```\nsage: R = PolynomialRing(QQ, 2, 'a')\nsage: P2 = toric_varieties.P2(base_ring=R)\n...\nTypeError: need a field to construct a Fano toric variety!\n Got Multivariate Polynomial Ring in a0, a1 over Rational Field\n```\n\nHowever, this does:\n\n```\nsage: R = PolynomialRing(QQ, 2, 'a')\nsage: P2 = toric_varieties.P2(base_ring=QQ)\nsage: P2 = P2.change_ring(R)\nsage: P2.base_ring()\nMultivariate Polynomial Ring in a0, a1 over Rational Field\n```\n\n\nThe same problem also occurs for ToricVariety instead of CPRFanoToricVariety. \nAllowing general rings leads to some annoying behavior such as\n\n```\nsage: P2.base_ring()\nMultivariate Polynomial Ring in a0, a1 over Rational Field\nsage: P2.dimension()\n4\n```\n\nHere the dimension of the spectrum of the base ring is added. Because of that, integration in toric varieties work (although this can be fixed, of course).\n\nIn any case, if one requires toric varieties to be defined over fields, it should at least be consistent.\n\nBest,\nJan\n\nPS: It's also a bit annoying that ToricVariety and CPRFanoToricVariety allow for the keyword base_field, but the catalog only allows base_ring. Should that be adjusted?\n\nIssue created by migration from https://trac.sagemath.org/ticket/15979\n\n",
    "created_at": "2014-03-20T10:21:21Z",
    "labels": [
        "algebraic geometry",
        "minor",
        "bug"
    ],
    "title": "Toric varieties can be tricked into accepting base rings that are not fields",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15742",
    "user": "jkeitel"
}
```
CC:  novoselt vbraun

Keywords: toric

There are a couple of odd things right now:

This does not work:

```
sage: R = PolynomialRing(QQ, 2, 'a')
sage: P2 = toric_varieties.P2(base_ring=R)
...
TypeError: need a field to construct a Fano toric variety!
 Got Multivariate Polynomial Ring in a0, a1 over Rational Field
```

However, this does:

```
sage: R = PolynomialRing(QQ, 2, 'a')
sage: P2 = toric_varieties.P2(base_ring=QQ)
sage: P2 = P2.change_ring(R)
sage: P2.base_ring()
Multivariate Polynomial Ring in a0, a1 over Rational Field
```


The same problem also occurs for ToricVariety instead of CPRFanoToricVariety. 
Allowing general rings leads to some annoying behavior such as

```
sage: P2.base_ring()
Multivariate Polynomial Ring in a0, a1 over Rational Field
sage: P2.dimension()
4
```

Here the dimension of the spectrum of the base ring is added. Because of that, integration in toric varieties work (although this can be fixed, of course).

In any case, if one requires toric varieties to be defined over fields, it should at least be consistent.

Best,
Jan

PS: It's also a bit annoying that ToricVariety and CPRFanoToricVariety allow for the keyword base_field, but the catalog only allows base_ring. Should that be adjusted?

Issue created by migration from https://trac.sagemath.org/ticket/15979





---

archive/issue_comments_203811.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-03-20T10:27:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15742#issuecomment-203811",
    "user": "jkeitel"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_203812.json:
```json
{
    "body": "Should always be `base_ring` for consistency. Even if we currently only support fields...",
    "created_at": "2014-03-20T12:58:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15742#issuecomment-203812",
    "user": "vbraun"
}
```

Should always be `base_ring` for consistency. Even if we currently only support fields...



---

archive/issue_comments_203813.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-03-20T13:50:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15742#issuecomment-203813",
    "user": "vbraun"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_203814.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-03-20T15:43:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15742#issuecomment-203814",
    "user": "vbraun"
}
```

Resolution: fixed
