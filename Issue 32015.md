# Issue 32015: fix colours of tiles in TilingSolver

Issue created by migration from https://trac.sagemath.org/ticket/32252

Original creator: saliola

Original creation time: 2021-07-20 15:22:25

CC:  slabbe

Keywords: tilings, TilingSolver

Here is an example illustrating the problem. We compute the tilings of a 2x2 square using vertical (blue) and horizontal dominos (red).

```
v = Polyomino([(0, 0), (0, 1)], color="blue")
h = Polyomino([(0, 0), (1, 0)], color="red")
T = TilingSolver(pieces=[v, h], box=(2, 2), rotation=False, reflection=False, reusable=True)
for soln in T.solve():
    show(sum([p.show2d() for p in soln]))
```


We should get two tilings, one with only red dominos and one with blue dominos, but instead both tilings use red dominos.

The problem is in the method `T.row_to_polyomino`, which miscalculates the colour (the default value is -1 and so the colour of the last piece is always used).


---

Comment by slabbe created at 2022-01-04 15:49:15

Changing status from new to needs_review.


---

Comment by slabbe created at 2022-01-04 15:49:15

Merci Franco d'avoir trouvé ce bogue. Je viens de le corriger. Needs review et bonne année!
----
New commits:


---

Comment by saliola created at 2022-01-05 20:48:23

lgtm


---

Comment by saliola created at 2022-01-05 20:48:23

Changing status from needs_review to positive_review.


---

Comment by slabbe created at 2022-01-05 21:14:42

Merci Franco!


---

Comment by vbraun created at 2022-01-31 23:31:30

Resolution: fixed
