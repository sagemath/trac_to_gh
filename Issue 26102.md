# Issue 26102: Better normalization for fraction field elements - follow up

archive/issues_026102.json:
```json
{
    "body": "CC:  tscrim cheuberg etn40ff jakobkroeker bhutz robertwb rws emassop cremona mmezzarobba saraedum\n\nThis is a follow-up on #16268 (and #16993), where the following further improvements were suggested:\n\n- clearing denominators in the numerator and denominator instead of making the leading coefficient of the denominator monic when that makes sense (i.e., for printing, and perhaps for computations in nested rational function fields, but making it fast enough requires some work),\n- also normalizing the leading coefficients over non-fields where that makes sense (see also discussion at #16993).\n\nIssue created by migration from https://trac.sagemath.org/ticket/26339\n\n",
    "created_at": "2018-09-22T19:18:01Z",
    "labels": [
        "commutative algebra",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Better normalization for fraction field elements - follow up",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/26102",
    "user": "mkoeppe"
}
```
CC:  tscrim cheuberg etn40ff jakobkroeker bhutz robertwb rws emassop cremona mmezzarobba saraedum

This is a follow-up on #16268 (and #16993), where the following further improvements were suggested:

- clearing denominators in the numerator and denominator instead of making the leading coefficient of the denominator monic when that makes sense (i.e., for printing, and perhaps for computations in nested rational function fields, but making it fast enough requires some work),
- also normalizing the leading coefficients over non-fields where that makes sense (see also discussion at #16993).

Issue created by migration from https://trac.sagemath.org/ticket/26339





---

archive/issue_comments_367982.json:
```json
{
    "body": "Unexpected (-1) factor in the numerator and denominator of a `sage.rings.fraction_field_element.FractionFieldElement`.\n\nSageMath version 9.1.beta3.\n\n\n```\nsage: P.<a,b,c>=QQ[]\nsage: f = 1/a/(b-a)/(c-a)+1/b/(a-b)/(c-b)+1/c/(a-c)/(b-c); f\n(-1)/(-a*b*c)\nsage: f.numerator()\n-1\nsage: f.denominator()\n-a*b*c\n```\n",
    "created_at": "2020-03-13T14:35:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26102#issuecomment-367982",
    "user": "yzh"
}
```

Unexpected (-1) factor in the numerator and denominator of a `sage.rings.fraction_field_element.FractionFieldElement`.

SageMath version 9.1.beta3.


```
sage: P.<a,b,c>=QQ[]
sage: f = 1/a/(b-a)/(c-a)+1/b/(a-b)/(c-b)+1/c/(a-c)/(b-c); f
(-1)/(-a*b*c)
sage: f.numerator()
-1
sage: f.denominator()
-a*b*c
```




---

archive/issue_comments_367983.json:
```json
{
    "body": "pushing these forward to 9.2",
    "created_at": "2020-04-14T06:38:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26102#issuecomment-367983",
    "user": "mkoeppe"
}
```

pushing these forward to 9.2



---

archive/issue_comments_367984.json:
```json
{
    "body": "Setting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-02-13T20:51:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26102#issuecomment-367984",
    "user": "mkoeppe"
}
```

Setting new milestone based on a cursory review of ticket status, priority, and last modification date.
