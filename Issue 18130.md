# Issue 18130: Move ntl_wrap to Sage library

archive/issues_018130.json:
```json
{
    "body": "\n\nIssue created by migration from https://trac.sagemath.org/ticket/18367\n\n",
    "created_at": "2015-05-05T14:54:12Z",
    "labels": [
        "component: c_lib"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.8",
    "title": "Move ntl_wrap to Sage library",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18130",
    "user": "https://github.com/jdemeyer"
}
```


Issue created by migration from https://trac.sagemath.org/ticket/18367





---

archive/issue_comments_244144.json:
```json
{
    "body": "New commits:",
    "created_at": "2015-05-27T09:59:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18130#issuecomment-244144",
    "user": "https://github.com/jdemeyer"
}
```

New commits:



---

archive/issue_comments_244145.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2015-05-27T11:20:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18130#issuecomment-244145",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_244146.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-05-27T11:26:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18130#issuecomment-244146",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_244147.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-05-28T06:36:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18130#issuecomment-244147",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_244148.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-05-28T08:47:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18130#issuecomment-244148",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_244149.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-05-31T08:46:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18130#issuecomment-244149",
    "user": "https://github.com/kiwifb"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_244150.json:
```json
{
    "body": "Looks ready to be sent to the bots to me.",
    "created_at": "2015-05-31T08:46:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18130#issuecomment-244150",
    "user": "https://github.com/kiwifb"
}
```

Looks ready to be sent to the bots to me.



---

archive/issue_comments_244151.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2015-06-02T20:17:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18130#issuecomment-244151",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_244152.json:
```json
{
    "body": "On arando, snapperkob, and arm I get this:\n\n```\nDeleting empty directory /home/buildslave-sage/slave/sage_git/build/src/doc/hu/a_tour_of_sage/static\nTraceback (most recent call last):\n  File \"/home/buildslave-sage/slave/sage_git/build/src/doc/common/builder.py\", line 1619, in <module>\n    import sage.all\n  File \"/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/all.py\", line 99, in <module>\n    from sage.rings.all      import *\n  File \"/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/rings/all.py\", line 68, in <module>\n    from number_field.all import *\n  File \"/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/rings/number_field/all.py\", line 7, in <module>\n    from totallyreal import enumerate_totallyreal_fields_prim\n  File \"sage/rings/number_field/totallyreal_data.pxd\", line 12, in init sage.rings.number_field.totallyreal (build/cythonized/sage/rings/number_field/totallyreal.c:10354)\n  File \"sage/rings/number_field/totallyreal_data.pyx\", line 40, in init sage.rings.number_field.totallyreal_data (build/cythonized/sage/rings/number_field/totallyreal_data.c:11148)\n  File \"/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/rings/polynomial/polynomial_ring_constructor.py\", line 465, in PolynomialRing\n    R = _single_variate(base_ring, name, sparse, implementation)\n  File \"/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/rings/polynomial/polynomial_ring_constructor.py\", line 539, in _single_variate\n    R = m.PolynomialRing_integral_domain(base_ring, name, sparse, implementation)\n  File \"/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/rings/polynomial/polynomial_ring.py\", line 1544, in __init__\n    sparse=sparse, element_class=element_class)\n  File \"/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/rings/polynomial/polynomial_ring.py\", line 1451, in __init__\n    sparse=sparse, element_class=element_class, category=category)\n  File \"/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/rings/polynomial/polynomial_ring.py\", line 305, in __init__\n    from sage.matrix.matrix_space import is_MatrixSpace\n  File \"/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/matrix/matrix_space.py\", line 46, in <module>\n    import matrix_modn_sparse\n  File \"sage/matrix/matrix_integer_dense.pxd\", line 11, in init sage.matrix.matrix_modn_sparse (build/cythonized/sage/matrix/matrix_modn_sparse.c:18762)\n  File \"sage/matrix/matrix_modn_dense_template_header.pxi\", line 9, in init sage.matrix.matrix_integer_dense (build/cythonized/sage/matrix/matrix_integer_dense.c:50329)\nImportError: /home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/matrix/matrix_modn_dense_float.so: undefined symbol: _ZN3NTL8ZZ_pInfoE\n```\n",
    "created_at": "2015-06-02T20:17:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18130#issuecomment-244152",
    "user": "https://github.com/vbraun"
}
```

On arando, snapperkob, and arm I get this:

```
Deleting empty directory /home/buildslave-sage/slave/sage_git/build/src/doc/hu/a_tour_of_sage/static
Traceback (most recent call last):
  File "/home/buildslave-sage/slave/sage_git/build/src/doc/common/builder.py", line 1619, in <module>
    import sage.all
  File "/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/all.py", line 99, in <module>
    from sage.rings.all      import *
  File "/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/rings/all.py", line 68, in <module>
    from number_field.all import *
  File "/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/rings/number_field/all.py", line 7, in <module>
    from totallyreal import enumerate_totallyreal_fields_prim
  File "sage/rings/number_field/totallyreal_data.pxd", line 12, in init sage.rings.number_field.totallyreal (build/cythonized/sage/rings/number_field/totallyreal.c:10354)
  File "sage/rings/number_field/totallyreal_data.pyx", line 40, in init sage.rings.number_field.totallyreal_data (build/cythonized/sage/rings/number_field/totallyreal_data.c:11148)
  File "/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/rings/polynomial/polynomial_ring_constructor.py", line 465, in PolynomialRing
    R = _single_variate(base_ring, name, sparse, implementation)
  File "/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/rings/polynomial/polynomial_ring_constructor.py", line 539, in _single_variate
    R = m.PolynomialRing_integral_domain(base_ring, name, sparse, implementation)
  File "/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/rings/polynomial/polynomial_ring.py", line 1544, in __init__
    sparse=sparse, element_class=element_class)
  File "/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/rings/polynomial/polynomial_ring.py", line 1451, in __init__
    sparse=sparse, element_class=element_class, category=category)
  File "/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/rings/polynomial/polynomial_ring.py", line 305, in __init__
    from sage.matrix.matrix_space import is_MatrixSpace
  File "/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/matrix/matrix_space.py", line 46, in <module>
    import matrix_modn_sparse
  File "sage/matrix/matrix_integer_dense.pxd", line 11, in init sage.matrix.matrix_modn_sparse (build/cythonized/sage/matrix/matrix_modn_sparse.c:18762)
  File "sage/matrix/matrix_modn_dense_template_header.pxi", line 9, in init sage.matrix.matrix_integer_dense (build/cythonized/sage/matrix/matrix_integer_dense.c:50329)
ImportError: /home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/matrix/matrix_modn_dense_float.so: undefined symbol: _ZN3NTL8ZZ_pInfoE
```




---

archive/issue_comments_244153.json:
```json
{
    "body": "What `gcc` versions are those? It probably needs a compiler flag, the symbol comes from `ZZ_p.h`.",
    "created_at": "2015-06-02T21:48:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18130#issuecomment-244153",
    "user": "https://github.com/kiwifb"
}
```

What `gcc` versions are those? It probably needs a compiler flag, the symbol comes from `ZZ_p.h`.



---

archive/issue_comments_244154.json:
```json
{
    "body": "As one data point, arando is gcc version 4.8.2 (Ubuntu 4.8.2-19ubuntu1)",
    "created_at": "2015-06-02T22:00:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18130#issuecomment-244154",
    "user": "https://github.com/vbraun"
}
```

As one data point, arando is gcc version 4.8.2 (Ubuntu 4.8.2-19ubuntu1)



---

archive/issue_comments_244155.json:
```json
{
    "body": "Hum, the symbol should be in libntl which suggests that it didn't link appropriately to it.",
    "created_at": "2015-06-02T22:33:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18130#issuecomment-244155",
    "user": "https://github.com/kiwifb"
}
```

Hum, the symbol should be in libntl which suggests that it didn't link appropriately to it.



---

archive/issue_comments_244156.json:
```json
{
    "body": "Volker, did you also include #18450 in that test run since that also affects libraries?",
    "created_at": "2015-06-03T06:24:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18130#issuecomment-244156",
    "user": "https://github.com/jdemeyer"
}
```

Volker, did you also include #18450 in that test run since that also affects libraries?



---

archive/issue_comments_244157.json:
```json
{
    "body": "No, all tickets that were included are closed by now",
    "created_at": "2015-06-03T07:40:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18130#issuecomment-244157",
    "user": "https://github.com/vbraun"
}
```

No, all tickets that were included are closed by now



---

archive/issue_comments_244158.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-03T08:22:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18130#issuecomment-244158",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_244159.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-06-03T08:53:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18130#issuecomment-244159",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_244160.json:
```json
{
    "body": "Actually info from sage-on-gentoo which is all compiled with `-as-needed` suggest a slightly different approach:\n\n```\nfbissey@QCD-nzi3 ~ $ ldd -r /usr/lib64/python2.7/site-packages/sage/matrix/matrix_modn_dense_float.so\n\tlinux-vdso.so.1 (0x00007fff24fff000)\n\tlibgivaro.so.0 => /usr/lib64/libgivaro.so.0 (0x00007f318a8ce000)\n\tlibgmp.so.10 => /usr/lib64/libgmp.so.10 (0x00007f318a65d000)\n\tlibopenblas_openmp.so.0 => /usr/lib64/libopenblas_openmp.so.0 (0x00007f318a0d5000)\n\tlibstdc++.so.6 => /usr/lib/gcc/x86_64-pc-linux-gnu/4.9.2/libstdc++.so.6 (0x00007f3189dc6000)\n\tlibpython2.7.so.1.0 => /usr/lib64/libpython2.7.so.1.0 (0x00007f3189a08000)\n\tlibm.so.6 => /lib64/libm.so.6 (0x00007f3189703000)\n\tlibgcc_s.so.1 => /usr/lib/gcc/x86_64-pc-linux-gnu/4.9.2/libgcc_s.so.1 (0x00007f31894ec000)\n\tlibc.so.6 => /lib64/libc.so.6 (0x00007f318914f000)\n\tlibgmpxx.so.4 => /usr/lib64/libgmpxx.so.4 (0x00007f3188f48000)\n\tlibpthread.so.0 => /lib64/libpthread.so.0 (0x00007f3188d2d000)\n\tlibgomp.so.1 => /usr/lib/gcc/x86_64-pc-linux-gnu/4.9.2/libgomp.so.1 (0x00007f3188b16000)\n\t/lib64/ld-linux-x86-64.so.2 (0x00007f318ade4000)\n\tlibdl.so.2 => /lib64/libdl.so.2 (0x00007f3188911000)\n\tlibutil.so.1 => /lib64/libutil.so.1 (0x00007f318870e000)\nfbissey@QCD-nzi3 ~ $ ldd -r /usr/lib64/python2.7/site-packages/sage/matrix/matrix_modn_dense_double.so\n\tlinux-vdso.so.1 (0x00007fff91dff000)\n\tlibgivaro.so.0 => /usr/lib64/libgivaro.so.0 (0x00007f9413287000)\n\tlibgmp.so.10 => /usr/lib64/libgmp.so.10 (0x00007f9413016000)\n\tlibopenblas_openmp.so.0 => /usr/lib64/libopenblas_openmp.so.0 (0x00007f9412a8e000)\n\tlibstdc++.so.6 => /usr/lib/gcc/x86_64-pc-linux-gnu/4.9.2/libstdc++.so.6 (0x00007f941277f000)\n\tlibpython2.7.so.1.0 => /usr/lib64/libpython2.7.so.1.0 (0x00007f94123c1000)\n\tlibm.so.6 => /lib64/libm.so.6 (0x00007f94120bc000)\n\tlibgcc_s.so.1 => /usr/lib/gcc/x86_64-pc-linux-gnu/4.9.2/libgcc_s.so.1 (0x00007f9411ea5000)\n\tlibc.so.6 => /lib64/libc.so.6 (0x00007f9411b08000)\n\tlibgmpxx.so.4 => /usr/lib64/libgmpxx.so.4 (0x00007f9411901000)\n\tlibpthread.so.0 => /lib64/libpthread.so.0 (0x00007f94116e6000)\n\tlibgomp.so.1 => /usr/lib/gcc/x86_64-pc-linux-gnu/4.9.2/libgomp.so.1 (0x00007f94114cf000)\n\t/lib64/ld-linux-x86-64.so.2 (0x00007f941379b000)\n\tlibdl.so.2 => /lib64/libdl.so.2 (0x00007f94112ca000)\n\tlibutil.so.1 => /lib64/libutil.so.1 (0x00007f94110c7000)\n```\n\nNeither of those get libntl and they don't get liblinbox either.  All the libraries are resolved so they are definitely not needed. Furthermore liblinbox doesn't need libntl. Only liblinboxsage does and curiously I don't think we ever link to it.\n\n```\nfbissey@QCD-nzi3 ~ $ ldd -r /usr/lib64/liblinbox.so\n\tlinux-vdso.so.1 (0x00007fff2d334000)\n\tlibgivaro.so.0 => /usr/lib64/libgivaro.so.0 (0x00007fbb7557f000)\n\tlibstdc++.so.6 => /usr/lib/gcc/x86_64-pc-linux-gnu/4.9.2/libstdc++.so.6 (0x00007fbb7526f000)\n\tlibc.so.6 => /lib64/libc.so.6 (0x00007fbb74ed2000)\n\tlibgcc_s.so.1 => /usr/lib/gcc/x86_64-pc-linux-gnu/4.9.2/libgcc_s.so.1 (0x00007fbb74cbb000)\n\tlibgmpxx.so.4 => /usr/lib64/libgmpxx.so.4 (0x00007fbb74ab5000)\n\tlibgmp.so.10 => /usr/lib64/libgmp.so.10 (0x00007fbb74843000)\n\tlibm.so.6 => /lib64/libm.so.6 (0x00007fbb7453f000)\n\t/lib64/ld-linux-x86-64.so.2 (0x00007fbb75a18000)\nfbissey@QCD-nzi3 ~ $ ldd -r /usr/lib64/liblinboxsage.so\n\tlinux-vdso.so.1 (0x00007ffffbbcf000)\n\tlibgmpxx.so.4 => /usr/lib64/libgmpxx.so.4 (0x00007fed8461a000)\n\tlibntl.so.5 => /usr/lib64/libntl.so.5 (0x00007fed84260000)\n\tlibgmp.so.10 => /usr/lib64/libgmp.so.10 (0x00007fed83fee000)\n\tlibgf2x.so.1 => /usr/lib64/libgf2x.so.1 (0x00007fed83dd9000)\n\tlibopenblas_openmp.so.0 => /usr/lib64/libopenblas_openmp.so.0 (0x00007fed83852000)\n\tliblinbox.so.0 => /usr/lib64/liblinbox.so.0 (0x00007fed8364a000)\n\tlibgivaro.so.0 => /usr/lib64/libgivaro.so.0 (0x00007fed833ee000)\n\tlibiml.so.0 => /usr/lib64/libiml.so.0 (0x00007fed831cd000)\n\tlibstdc++.so.6 => /usr/lib/gcc/x86_64-pc-linux-gnu/4.9.2/libstdc++.so.6 (0x00007fed82ebd000)\n\tlibm.so.6 => /lib64/libm.so.6 (0x00007fed82bb9000)\n\tlibc.so.6 => /lib64/libc.so.6 (0x00007fed8281c000)\n\tlibgcc_s.so.1 => /usr/lib/gcc/x86_64-pc-linux-gnu/4.9.2/libgcc_s.so.1 (0x00007fed82604000)\n\tlibpthread.so.0 => /lib64/libpthread.so.0 (0x00007fed823e9000)\n\tlibgomp.so.1 => /usr/lib/gcc/x86_64-pc-linux-gnu/4.9.2/libgomp.so.1 (0x00007fed821d2000)\n\t/lib64/ld-linux-x86-64.so.2 (0x00007fed84ca3000)\n```\n\nIn the first instance Jeroen's latest commit would solve the present problem though.",
    "created_at": "2015-06-03T08:56:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18130#issuecomment-244160",
    "user": "https://github.com/kiwifb"
}
```

Actually info from sage-on-gentoo which is all compiled with `-as-needed` suggest a slightly different approach:

```
fbissey@QCD-nzi3 ~ $ ldd -r /usr/lib64/python2.7/site-packages/sage/matrix/matrix_modn_dense_float.so
	linux-vdso.so.1 (0x00007fff24fff000)
	libgivaro.so.0 => /usr/lib64/libgivaro.so.0 (0x00007f318a8ce000)
	libgmp.so.10 => /usr/lib64/libgmp.so.10 (0x00007f318a65d000)
	libopenblas_openmp.so.0 => /usr/lib64/libopenblas_openmp.so.0 (0x00007f318a0d5000)
	libstdc++.so.6 => /usr/lib/gcc/x86_64-pc-linux-gnu/4.9.2/libstdc++.so.6 (0x00007f3189dc6000)
	libpython2.7.so.1.0 => /usr/lib64/libpython2.7.so.1.0 (0x00007f3189a08000)
	libm.so.6 => /lib64/libm.so.6 (0x00007f3189703000)
	libgcc_s.so.1 => /usr/lib/gcc/x86_64-pc-linux-gnu/4.9.2/libgcc_s.so.1 (0x00007f31894ec000)
	libc.so.6 => /lib64/libc.so.6 (0x00007f318914f000)
	libgmpxx.so.4 => /usr/lib64/libgmpxx.so.4 (0x00007f3188f48000)
	libpthread.so.0 => /lib64/libpthread.so.0 (0x00007f3188d2d000)
	libgomp.so.1 => /usr/lib/gcc/x86_64-pc-linux-gnu/4.9.2/libgomp.so.1 (0x00007f3188b16000)
	/lib64/ld-linux-x86-64.so.2 (0x00007f318ade4000)
	libdl.so.2 => /lib64/libdl.so.2 (0x00007f3188911000)
	libutil.so.1 => /lib64/libutil.so.1 (0x00007f318870e000)
fbissey@QCD-nzi3 ~ $ ldd -r /usr/lib64/python2.7/site-packages/sage/matrix/matrix_modn_dense_double.so
	linux-vdso.so.1 (0x00007fff91dff000)
	libgivaro.so.0 => /usr/lib64/libgivaro.so.0 (0x00007f9413287000)
	libgmp.so.10 => /usr/lib64/libgmp.so.10 (0x00007f9413016000)
	libopenblas_openmp.so.0 => /usr/lib64/libopenblas_openmp.so.0 (0x00007f9412a8e000)
	libstdc++.so.6 => /usr/lib/gcc/x86_64-pc-linux-gnu/4.9.2/libstdc++.so.6 (0x00007f941277f000)
	libpython2.7.so.1.0 => /usr/lib64/libpython2.7.so.1.0 (0x00007f94123c1000)
	libm.so.6 => /lib64/libm.so.6 (0x00007f94120bc000)
	libgcc_s.so.1 => /usr/lib/gcc/x86_64-pc-linux-gnu/4.9.2/libgcc_s.so.1 (0x00007f9411ea5000)
	libc.so.6 => /lib64/libc.so.6 (0x00007f9411b08000)
	libgmpxx.so.4 => /usr/lib64/libgmpxx.so.4 (0x00007f9411901000)
	libpthread.so.0 => /lib64/libpthread.so.0 (0x00007f94116e6000)
	libgomp.so.1 => /usr/lib/gcc/x86_64-pc-linux-gnu/4.9.2/libgomp.so.1 (0x00007f94114cf000)
	/lib64/ld-linux-x86-64.so.2 (0x00007f941379b000)
	libdl.so.2 => /lib64/libdl.so.2 (0x00007f94112ca000)
	libutil.so.1 => /lib64/libutil.so.1 (0x00007f94110c7000)
```

Neither of those get libntl and they don't get liblinbox either.  All the libraries are resolved so they are definitely not needed. Furthermore liblinbox doesn't need libntl. Only liblinboxsage does and curiously I don't think we ever link to it.

```
fbissey@QCD-nzi3 ~ $ ldd -r /usr/lib64/liblinbox.so
	linux-vdso.so.1 (0x00007fff2d334000)
	libgivaro.so.0 => /usr/lib64/libgivaro.so.0 (0x00007fbb7557f000)
	libstdc++.so.6 => /usr/lib/gcc/x86_64-pc-linux-gnu/4.9.2/libstdc++.so.6 (0x00007fbb7526f000)
	libc.so.6 => /lib64/libc.so.6 (0x00007fbb74ed2000)
	libgcc_s.so.1 => /usr/lib/gcc/x86_64-pc-linux-gnu/4.9.2/libgcc_s.so.1 (0x00007fbb74cbb000)
	libgmpxx.so.4 => /usr/lib64/libgmpxx.so.4 (0x00007fbb74ab5000)
	libgmp.so.10 => /usr/lib64/libgmp.so.10 (0x00007fbb74843000)
	libm.so.6 => /lib64/libm.so.6 (0x00007fbb7453f000)
	/lib64/ld-linux-x86-64.so.2 (0x00007fbb75a18000)
fbissey@QCD-nzi3 ~ $ ldd -r /usr/lib64/liblinboxsage.so
	linux-vdso.so.1 (0x00007ffffbbcf000)
	libgmpxx.so.4 => /usr/lib64/libgmpxx.so.4 (0x00007fed8461a000)
	libntl.so.5 => /usr/lib64/libntl.so.5 (0x00007fed84260000)
	libgmp.so.10 => /usr/lib64/libgmp.so.10 (0x00007fed83fee000)
	libgf2x.so.1 => /usr/lib64/libgf2x.so.1 (0x00007fed83dd9000)
	libopenblas_openmp.so.0 => /usr/lib64/libopenblas_openmp.so.0 (0x00007fed83852000)
	liblinbox.so.0 => /usr/lib64/liblinbox.so.0 (0x00007fed8364a000)
	libgivaro.so.0 => /usr/lib64/libgivaro.so.0 (0x00007fed833ee000)
	libiml.so.0 => /usr/lib64/libiml.so.0 (0x00007fed831cd000)
	libstdc++.so.6 => /usr/lib/gcc/x86_64-pc-linux-gnu/4.9.2/libstdc++.so.6 (0x00007fed82ebd000)
	libm.so.6 => /lib64/libm.so.6 (0x00007fed82bb9000)
	libc.so.6 => /lib64/libc.so.6 (0x00007fed8281c000)
	libgcc_s.so.1 => /usr/lib/gcc/x86_64-pc-linux-gnu/4.9.2/libgcc_s.so.1 (0x00007fed82604000)
	libpthread.so.0 => /lib64/libpthread.so.0 (0x00007fed823e9000)
	libgomp.so.1 => /usr/lib/gcc/x86_64-pc-linux-gnu/4.9.2/libgomp.so.1 (0x00007fed821d2000)
	/lib64/ld-linux-x86-64.so.2 (0x00007fed84ca3000)
```

In the first instance Jeroen's latest commit would solve the present problem though.



---

archive/issue_comments_244161.json:
```json
{
    "body": "However, I will go with caution. Because #18450 could have brought something in, that I cannot see yet, in this ticket. The commit looks good to me.",
    "created_at": "2015-06-03T09:02:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18130#issuecomment-244161",
    "user": "https://github.com/kiwifb"
}
```

However, I will go with caution. Because #18450 could have brought something in, that I cannot see yet, in this ticket. The commit looks good to me.



---

archive/issue_comments_244162.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-06-03T09:02:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18130#issuecomment-244162",
    "user": "https://github.com/kiwifb"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_244163.json:
```json
{
    "body": "OK, maybe the commit message was wrong, but at least the fix works...",
    "created_at": "2015-06-03T09:19:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18130#issuecomment-244163",
    "user": "https://github.com/jdemeyer"
}
```

OK, maybe the commit message was wrong, but at least the fix works...



---

archive/issue_comments_244164.json:
```json
{
    "body": "Interestingly you have that stuff in the commit for #17854, which now may need some rebasing?",
    "created_at": "2015-06-03T09:52:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18130#issuecomment-244164",
    "user": "https://github.com/kiwifb"
}
```

Interestingly you have that stuff in the commit for #17854, which now may need some rebasing?



---

archive/issue_comments_244165.json:
```json
{
    "body": "Replying to [comment:20 fbissey]:\n> Interestingly you have that stuff in the commit for #17854, which now may need some rebasing?\n\nCool git tip: if you make an *identical change* in two different commits, git recognizes that and it doesn't cause a conflict.",
    "created_at": "2015-06-03T10:00:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18130#issuecomment-244165",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [comment:20 fbissey]:
> Interestingly you have that stuff in the commit for #17854, which now may need some rebasing?

Cool git tip: if you make an *identical change* in two different commits, git recognizes that and it doesn't cause a conflict.



---

archive/issue_comments_244166.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-06-03T23:22:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18130#issuecomment-244166",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
