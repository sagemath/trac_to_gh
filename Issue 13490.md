# Issue 13490: Implement __getitem__ for LinearCode

Issue created by migration from Trac.

Original creator: ppurka

Original creation time: 2012-11-09 12:18:46

Assignee: wdj

CC:  dimpase

The current implementation of `__getitem__` for a `LinearCode` element tries to generate the whole list of codewords and then returns the element needed. This makes it impossible to work with this since for linear codes of large dimensions, the generation of all the codewords is not only unnecessary, but it also eats up several gigabytes of memory.

The attached patch implements `__getitem__` for a linear code.


---

Comment by ppurka created at 2012-11-09 12:22:16

Changing status from new to needs_review.


---

Comment by dimpase created at 2013-01-27 16:05:39

I think the the long comment in the code body should be basically put into docstrings, so that it also seen in the documentation.
This would also make it clearer in which order the words are coming. I'd give it positive review then.

It's a neat trick, to use p-adics!


---

Comment by dimpase created at 2013-01-27 16:05:39

Changing status from needs_review to needs_work.


---

Comment by ppurka created at 2013-01-28 01:39:39

I did the change, and then I remembered that it will never come up in the documentation! Anyway, if someone decides to call `__getitem__?` then they will see it.


---

Comment by ppurka created at 2013-01-28 01:40:09

Changing status from needs_work to needs_review.


---

Comment by dimpase created at 2013-01-28 02:00:39

Changing status from needs_review to needs_work.


---

Comment by dimpase created at 2013-01-28 02:00:39

with your fix, one gets fake elements, i.e. a stopping condition is missing:

```
sage: C             
Linear code of length 7, dimension 4 over Finite Field of size 2
sage: C[7]
(1, 1, 1, 0, 0, 0, 0)
sage: C[77]
(1, 0, 1, 1, 0, 1, 0)
sage: C[777]
(1, 0, 0, 1, 1, 0, 0)
sage: C[7777]
(1, 0, 0, 0, 0, 1, 1)
```



---

Comment by ppurka created at 2013-01-28 02:19:02

Nice catch! I hadn't thought of this scenario.


---

Comment by ppurka created at 2013-01-28 02:19:02

Changing status from needs_work to needs_review.


---

Comment by dimpase created at 2013-01-28 02:34:37

Replying to [comment:6 ppurka]:
> Nice catch! I hadn't thought of this scenario.

Shouldn't it throw `IndexError`? At least this is the old behaviour.


---

Comment by ppurka created at 2013-01-28 05:13:16

Apply to devel/sage


---

Attachment

Yes, it should be `IndexError` (didn't know about this exception). I have updated the patch.


---

Comment by dimpase created at 2013-01-28 09:45:08

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2013-02-05 08:18:56

Resolution: fixed
