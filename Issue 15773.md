# Issue 15773: Add signed permutations

Issue created by migration from Trac.

Original creator: csar

Original creation time: 2014-03-25 14:31:38

CC:  kdilks mantepse stumpc5

Add support for signed permutations to Sage.

Statistics:
- Which entries are less than zero
- Number of entries less than zero
- Location of descents (keeping in mind there's a 'descent at zero' for signed permutations if the first entry is negative)
- Number of descents
- fdes and fmaj
- Number of Inversions

Other things that should be easy:
- 'Absolute value map' (ie, remove all signs).
- Reverse/complement
- Longest Element
- To_matrix (make it compatible with the existing Weyl group stuff?)

Things that might take some time to do the 'right' way:
- Pattern Avoidance
- Bruhat Order
- Signed RSK


---

Comment by git created at 2014-05-29 23:03:08

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2014-05-30 01:40:27

Some other things that would be nice:

- Make this into a permutation group (similar to `SymmetricGroup`).
- Add methods to transform elements into a `SymmetricGroup` elements via the natural "diagram folding".
- Implement the even signed permutation group.
- Implement the natural coercions between the above.

I can also do (some of) the reviewing when this is ready too.


---

Comment by csar created at 2014-06-04 13:53:55

I'm debating whether it makes sense to split the permutation group aspect off as a separate ticket that depends on this one. I don't suppose it really matters, aside from perhaps making the housekeeping and reviewing easier. I guess I need to think about how `Permutations` and `SymmetricGroup` connect first.


---

Comment by tscrim created at 2014-06-04 14:52:07

Since this is the first implementation, it would actually make things harder to review IMO. In some ways `Permutations` and `SymmetricGroup` have duplication, but there is a good argument for having `Permutations` to be separate since we don't necessarily want to consider "standard" permutations (i.e. the base set `{1, ..., n}`).


---

Comment by git created at 2014-06-07 00:02:15

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2014-06-18 19:02:21

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2014-07-24 21:24:39

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2014-12-11 19:33:45

See also #17411.


---

Comment by csar created at 2015-09-05 23:22:51

Replying to [comment:13 tscrim]:
> See also #17411.
I'm finally in a position to work on this again. Should I work off what you have in #17411 to add the stuff here that doesn't overlap? (Looks like that's mostly the permutation statistics.)


---

Comment by tscrim created at 2015-09-06 18:54:14

I would first start by running some timings to see which implementation does better (for signed permutations). (There might be certain situations where one beats the other too.) It might also be worthwhile moving some of the statistics over to #17411 if they work in greater generality.

However before you do timings, it would be a good idea to make sure everything is on equal footing. In particular, the first input to any `Element` subclass should be a parent object. This is the standard way to create element classes in Sage (this also means you don't have to "recreate" the parent object for every new element; while this is not much overhead, it does give some).


---

Comment by stumpc5 created at 2017-06-23 07:55:46

I wanted to check what the current status here is? I would like to add signed permutations to FindStat and this implementation seems to provide everything I need for that... Is there any plan to finalize this any time soon?


---

Comment by tscrim created at 2017-06-23 11:59:37

At this point, we have signed (and colored) permutations in Sage from #17411. However, I have not compared them to this implementation for efficiency. In the direction of combining the code here, we could add the statistics and come back to an efficiency comparison afterwards.


---

Comment by stumpc5 created at 2017-06-23 12:09:17

What about the element constructor, I didn't find `SignedPermutation([2,-1,3])`


---

Comment by tscrim created at 2017-06-23 12:18:01

That one is a bit more debatable whether we want that or not. Of course, you can do this:

```
sage: SP = SignedPermutations(3)
sage: SP([2,-1,3])
[2, -1, 3]
sage: SP([2,-1,3])^2
[-1, -2, 3]
```

However, it is in line with everything else we do for similar things, so I don't have any real objections.


---

Comment by kdilks created at 2017-06-23 16:04:48

I can try and look at this some, but won't have access to a "real" computer until around July 4th.


---

Comment by csar created at 2017-06-25 10:21:33

Basically, this seemed to be superseded by #17411 and I wasn't sure what to do about it, so it's languished. I totally missed the notification for comment 15, so never did the work suggested there. I'm happy to go back and work on some of that.
