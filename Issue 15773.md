# Issue 15773: Add signed permutations

archive/issues_015773.json:
```json
{
    "body": "CC:  kdilks mantepse stumpc5\n\nAdd support for signed permutations to Sage.\n\nStatistics:\n- Which entries are less than zero\n- Number of entries less than zero\n- Location of descents (keeping in mind there's a 'descent at zero' for signed permutations if the first entry is negative)\n- Number of descents\n- fdes and fmaj\n- Number of Inversions\n\nOther things that should be easy:\n- 'Absolute value map' (ie, remove all signs).\n- Reverse/complement\n- Longest Element\n- To_matrix (make it compatible with the existing Weyl group stuff?)\n\nThings that might take some time to do the 'right' way:\n- Pattern Avoidance\n- Bruhat Order\n- Signed RSK\n\nIssue created by migration from https://trac.sagemath.org/ticket/16010\n\n",
    "created_at": "2014-03-25T14:31:38Z",
    "labels": [
        "combinatorics",
        "major",
        "enhancement"
    ],
    "title": "Add signed permutations",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15773",
    "user": "csar"
}
```
CC:  kdilks mantepse stumpc5

Add support for signed permutations to Sage.

Statistics:
- Which entries are less than zero
- Number of entries less than zero
- Location of descents (keeping in mind there's a 'descent at zero' for signed permutations if the first entry is negative)
- Number of descents
- fdes and fmaj
- Number of Inversions

Other things that should be easy:
- 'Absolute value map' (ie, remove all signs).
- Reverse/complement
- Longest Element
- To_matrix (make it compatible with the existing Weyl group stuff?)

Things that might take some time to do the 'right' way:
- Pattern Avoidance
- Bruhat Order
- Signed RSK

Issue created by migration from https://trac.sagemath.org/ticket/16010





---

archive/issue_comments_204482.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-05-29T23:03:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15773",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15773#issuecomment-204482",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_204483.json:
```json
{
    "body": "Some other things that would be nice:\n\n- Make this into a permutation group (similar to `SymmetricGroup`).\n- Add methods to transform elements into a `SymmetricGroup` elements via the natural \"diagram folding\".\n- Implement the even signed permutation group.\n- Implement the natural coercions between the above.\n\nI can also do (some of) the reviewing when this is ready too.",
    "created_at": "2014-05-30T01:40:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15773",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15773#issuecomment-204483",
    "user": "tscrim"
}
```

Some other things that would be nice:

- Make this into a permutation group (similar to `SymmetricGroup`).
- Add methods to transform elements into a `SymmetricGroup` elements via the natural "diagram folding".
- Implement the even signed permutation group.
- Implement the natural coercions between the above.

I can also do (some of) the reviewing when this is ready too.



---

archive/issue_comments_204484.json:
```json
{
    "body": "I'm debating whether it makes sense to split the permutation group aspect off as a separate ticket that depends on this one. I don't suppose it really matters, aside from perhaps making the housekeeping and reviewing easier. I guess I need to think about how `Permutations` and `SymmetricGroup` connect first.",
    "created_at": "2014-06-04T13:53:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15773",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15773#issuecomment-204484",
    "user": "csar"
}
```

I'm debating whether it makes sense to split the permutation group aspect off as a separate ticket that depends on this one. I don't suppose it really matters, aside from perhaps making the housekeeping and reviewing easier. I guess I need to think about how `Permutations` and `SymmetricGroup` connect first.



---

archive/issue_comments_204485.json:
```json
{
    "body": "Since this is the first implementation, it would actually make things harder to review IMO. In some ways `Permutations` and `SymmetricGroup` have duplication, but there is a good argument for having `Permutations` to be separate since we don't necessarily want to consider \"standard\" permutations (i.e. the base set `{1, ..., n}`).",
    "created_at": "2014-06-04T14:52:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15773",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15773#issuecomment-204485",
    "user": "tscrim"
}
```

Since this is the first implementation, it would actually make things harder to review IMO. In some ways `Permutations` and `SymmetricGroup` have duplication, but there is a good argument for having `Permutations` to be separate since we don't necessarily want to consider "standard" permutations (i.e. the base set `{1, ..., n}`).



---

archive/issue_comments_204486.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-06-07T00:02:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15773",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15773#issuecomment-204486",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_204487.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-06-18T19:02:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15773",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15773#issuecomment-204487",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_204488.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-07-24T21:24:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15773",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15773#issuecomment-204488",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_204489.json:
```json
{
    "body": "See also #17411.",
    "created_at": "2014-12-11T19:33:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15773",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15773#issuecomment-204489",
    "user": "tscrim"
}
```

See also #17411.



---

archive/issue_comments_204490.json:
```json
{
    "body": "Replying to [comment:13 tscrim]:\n> See also #17411.\nI'm finally in a position to work on this again. Should I work off what you have in #17411 to add the stuff here that doesn't overlap? (Looks like that's mostly the permutation statistics.)",
    "created_at": "2015-09-05T23:22:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15773",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15773#issuecomment-204490",
    "user": "csar"
}
```

Replying to [comment:13 tscrim]:
> See also #17411.
I'm finally in a position to work on this again. Should I work off what you have in #17411 to add the stuff here that doesn't overlap? (Looks like that's mostly the permutation statistics.)



---

archive/issue_comments_204491.json:
```json
{
    "body": "I would first start by running some timings to see which implementation does better (for signed permutations). (There might be certain situations where one beats the other too.) It might also be worthwhile moving some of the statistics over to #17411 if they work in greater generality.\n\nHowever before you do timings, it would be a good idea to make sure everything is on equal footing. In particular, the first input to any `Element` subclass should be a parent object. This is the standard way to create element classes in Sage (this also means you don't have to \"recreate\" the parent object for every new element; while this is not much overhead, it does give some).",
    "created_at": "2015-09-06T18:54:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15773",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15773#issuecomment-204491",
    "user": "tscrim"
}
```

I would first start by running some timings to see which implementation does better (for signed permutations). (There might be certain situations where one beats the other too.) It might also be worthwhile moving some of the statistics over to #17411 if they work in greater generality.

However before you do timings, it would be a good idea to make sure everything is on equal footing. In particular, the first input to any `Element` subclass should be a parent object. This is the standard way to create element classes in Sage (this also means you don't have to "recreate" the parent object for every new element; while this is not much overhead, it does give some).



---

archive/issue_comments_204492.json:
```json
{
    "body": "I wanted to check what the current status here is? I would like to add signed permutations to FindStat and this implementation seems to provide everything I need for that... Is there any plan to finalize this any time soon?",
    "created_at": "2017-06-23T07:55:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15773",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15773#issuecomment-204492",
    "user": "stumpc5"
}
```

I wanted to check what the current status here is? I would like to add signed permutations to FindStat and this implementation seems to provide everything I need for that... Is there any plan to finalize this any time soon?



---

archive/issue_comments_204493.json:
```json
{
    "body": "At this point, we have signed (and colored) permutations in Sage from #17411. However, I have not compared them to this implementation for efficiency. In the direction of combining the code here, we could add the statistics and come back to an efficiency comparison afterwards.",
    "created_at": "2017-06-23T11:59:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15773",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15773#issuecomment-204493",
    "user": "tscrim"
}
```

At this point, we have signed (and colored) permutations in Sage from #17411. However, I have not compared them to this implementation for efficiency. In the direction of combining the code here, we could add the statistics and come back to an efficiency comparison afterwards.



---

archive/issue_comments_204494.json:
```json
{
    "body": "What about the element constructor, I didn't find `SignedPermutation([2,-1,3])`",
    "created_at": "2017-06-23T12:09:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15773",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15773#issuecomment-204494",
    "user": "stumpc5"
}
```

What about the element constructor, I didn't find `SignedPermutation([2,-1,3])`



---

archive/issue_comments_204495.json:
```json
{
    "body": "That one is a bit more debatable whether we want that or not. Of course, you can do this:\n\n```\nsage: SP = SignedPermutations(3)\nsage: SP([2,-1,3])\n[2, -1, 3]\nsage: SP([2,-1,3])^2\n[-1, -2, 3]\n```\n\nHowever, it is in line with everything else we do for similar things, so I don't have any real objections.",
    "created_at": "2017-06-23T12:18:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15773",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15773#issuecomment-204495",
    "user": "tscrim"
}
```

That one is a bit more debatable whether we want that or not. Of course, you can do this:

```
sage: SP = SignedPermutations(3)
sage: SP([2,-1,3])
[2, -1, 3]
sage: SP([2,-1,3])^2
[-1, -2, 3]
```

However, it is in line with everything else we do for similar things, so I don't have any real objections.



---

archive/issue_comments_204496.json:
```json
{
    "body": "I can try and look at this some, but won't have access to a \"real\" computer until around July 4th.",
    "created_at": "2017-06-23T16:04:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15773",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15773#issuecomment-204496",
    "user": "kdilks"
}
```

I can try and look at this some, but won't have access to a "real" computer until around July 4th.



---

archive/issue_comments_204497.json:
```json
{
    "body": "Basically, this seemed to be superseded by #17411 and I wasn't sure what to do about it, so it's languished. I totally missed the notification for comment 15, so never did the work suggested there. I'm happy to go back and work on some of that.",
    "created_at": "2017-06-25T10:21:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15773",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15773#issuecomment-204497",
    "user": "csar"
}
```

Basically, this seemed to be superseded by #17411 and I wasn't sure what to do about it, so it's languished. I totally missed the notification for comment 15, so never did the work suggested there. I'm happy to go back and work on some of that.
