# Issue 13753: catch ValueError in comparisons

Issue created by migration from Trac.

Original creator: vdelecroix

Original creation time: 2013-01-15 11:41:50

Assignee: vdelecroix

CC:  starosta slabbe vdelecroix

Keywords: coercion, comparison

When element construction by a parent raise a ValueError, it prevents using the coercion in comparisons.


---

Attachment


---

Comment by slabbe created at 2013-01-15 14:27:29

Can you add a doctest that illustrates the fix ?


---

Comment by vdelecroix created at 2013-01-15 16:09:59

No... the only way I found is through a Cython class that inherits from Element. A concrete example is with finite words in #12224. I will look further.


---

Comment by vdelecroix created at 2013-01-15 16:10:10

Changing status from new to needs_review.


---

Comment by tscrim created at 2013-02-28 20:13:22

Sebastien, did you do a review of the patch otherwise?

Best,

Travis


---

Comment by slabbe created at 2013-03-03 13:17:30

Replying to [comment:4 tscrim]:
> Sebastien, did you do a review of the patch otherwise?

Since I am not familiar with this, I would have prefer to do some test starting from a doctest, thus my question. So, no, I did not do any further review.

SÃ©bastien


---

Comment by tscrim created at 2013-05-25 15:50:41

Replying to [comment:2 vdelecroix]:
> No... the only way I found is through a Cython class that inherits from Element. A concrete example is with finite words in #12224. I will look further.

I completely forgot about this ticket. Vincent, could you do a minimal/small example by doing the doctest something like

```
sage: cython("""
....: class Foo(Element):
....:     pass
....: """)
sage: Foo() == Foo()
sage: Foo() < Foo()
```


Thanks,

Travis


---

Comment by vdelecroix created at 2013-06-03 20:38:34

Changing status from needs_review to positive_review.


---

Comment by vdelecroix created at 2013-06-03 20:38:34

Hi Travis,

I open the ticket because we made some stupid design decisions for #12224. The point was that we implement a coercion from lists to Words and we raised some `ValueError` if the content of the list does not match the alphabet. As I learn, it is definitely not what we want from a coercion: a coercion should always succeed.

I close it as wont fix.


---

Comment by jdemeyer created at 2013-06-06 12:41:36

Resolution: wontfix
