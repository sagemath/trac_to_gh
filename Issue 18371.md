# Issue 18371: Arc and blocking_set methods in BalancedIncompleteBlockDesign class

Issue created by migration from https://trac.sagemath.org/ticket/18608

Original creator: q.honore

Original creation time: 2015-06-04 12:54:06

CC:  vdelecroix ncohen

Add arc and blocking_set methods in  BalancedIncompleteBlockDesign.
arc find the biggest k-arc and blocking_set find the blocking_set of smallest cardinality, also called committee.


---

Comment by git created at 2015-06-04 12:55:20

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by q.honore created at 2015-06-04 12:55:49

Changing status from new to needs_review.


---

Comment by ncohen created at 2015-06-04 14:09:12

Helloooooo ! Isn't 'blocking set' equivalent to 2-coloring of hypergraphs (see #17542)?

Nathann


---

Comment by q.honore created at 2015-06-05 13:24:35

Yes, you're right, it's exactly the same. Arc may be useful though
Quentin


---

Comment by vdelecroix created at 2015-06-07 19:02:08

Hello,

For arcs, there is a more general notion that will not cost a lot to implement:

    A `(s,n)`-arc is a set of `n` points so that in each block there are at most `s` of them. The case of `s=1` corresponds to independent set in graph. The case of `s=2` corresponds to the current definition you used.

Given a `(v,b,r,k)`-bibd (with `lambda=1`) it is easy to show that the cardinality `n` of an `(s,n)`-arc satisfies

    n <= 1 + (r-1)(s-1)

The arcs for which the above is an equality are called _maximal arcs_.

Vincent


---

Comment by git created at 2015-06-18 08:58:56

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2015-06-18 08:59:46

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by vdelecroix created at 2015-06-25 05:54:55

Hello,

Sometimes you use one back quote as ``(s,n)`` and sometimes two as ```s```. As you can see, the rendering is quite different in the documentation. The single backquote is used for LaTeX code while the double is used to mention the parameters of the algorithm. Try to not mix them in the same line.

It is dangerous to return `self._points` directly as it might be modified by the users. Return rather a copy of it using `return self._points[:]`.

The rest looks good.

Vincent


---

Comment by vdelecroix created at 2015-06-25 05:54:55

Changing status from needs_review to needs_work.


---

Comment by ncohen created at 2015-06-25 06:41:13

Would it be possible to replace 'highest cardinality' with 'maximum cardinality'? Also, would it be possible to replace 'number' with 'maximum number' in the definition of 's'?

Thanks,

Nathann


---

Comment by git created at 2015-06-25 13:06:25

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by q.honore created at 2015-06-25 13:07:09

Changing status from needs_work to needs_review.


---

Comment by git created at 2015-08-01 20:25:09

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by vdelecroix created at 2015-08-01 20:26:16

Hello,

I rebased above the latest beta and updated the doc. Nathann could you have a look?

Vincent


---

Comment by ncohen created at 2015-08-01 22:44:06


```
sage: b=designs.balanced_incomplete_block_design(7,3)
sage: len(b.arc())
4
sage: b.relabel(list("abcdefg"))
sage: len(b.arc())
7
```



---

Comment by git created at 2015-08-02 15:26:23

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2015-08-02 15:30:03

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by vdelecroix created at 2015-08-02 15:30:59

Sorry for that...


---

Comment by ncohen created at 2015-08-02 16:28:38


```
sage: b = designs.balanced_incomplete_block_design(7,3)
sage: b.relabel(list("abcdefg"))
sage: b.ground_set()
['a', 'b', 'c', 'd', 'e', 'f', 'g']
sage: b.arc()
[0, 1, 2, 5]
```



---

Comment by git created at 2015-08-02 17:28:33

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by ncohen created at 2015-08-02 21:24:56

Four doctests broke on my machine, since I use a different LP solver. I flagged the dangerous ones with "random" and turned the final test into a boolean one.

I added the commit to that branch since you made it public, and you can change the ticket's status if you agree with it.

Nathann


---

Comment by git created at 2015-08-02 21:25:33

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by vdelecroix created at 2015-08-03 07:43:20

Thanks Nathann!


---

Comment by vdelecroix created at 2015-08-03 07:43:20

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2015-08-04 22:09:20

Resolution: fixed
