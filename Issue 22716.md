# Issue 22716: Add "sage --python3" command

Issue created by migration from https://trac.sagemath.org/ticket/22953

Original creator: jhpalmieri

Original creation time: 2017-05-05 20:06:53

CC:  chapoton

Add "sage --python3" to run Sage's Python 3 interpreter.


---

Comment by jhpalmieri created at 2017-05-05 20:07:44

Changing status from new to needs_review.


---

Comment by jhpalmieri created at 2017-05-05 20:07:44

New commits:


---

Comment by jhpalmieri created at 2017-05-05 20:24:46

Changing keywords from "" to "python3".


---

Comment by chapoton created at 2017-05-09 19:00:40

Changing status from needs_review to positive_review.


---

Comment by chapoton created at 2017-05-09 19:00:40

ok, looks good to me


---

Comment by chapoton created at 2017-05-11 14:54:14

Maybe we could do the same for ipython3, which is quite convenient to have.


---

Comment by jhpalmieri created at 2017-05-11 17:32:13

As far as I can tell, ipython3 is only installed if `SAGE_PYTHON3=yes`. (This is up to IPython's installation, not a Sage decision.) We could make these changes, in any case, either here or on a new ticket:

```diff
diff --git a/src/bin/sage b/src/bin/sage
index 2091144..206bbeb 100755
--- a/src/bin/sage
+++ b/src/bin/sage
@@ -100,6 +100,9 @@ usage_advanced() {
     echo "  -gp [...]           -- run Sage's PARI/GP calculator with given arguments"
     echo "  -ipython [...]      -- run Sage's IPython using the default environment (not"
     echo "                         Sage), passing additional options to IPython"
+    echo "  -ipython3 [...]     -- run Sage's IPython3 (if available) using the default"
+    echo "                         environment (not Sage), passing additional options"
+    echo "                         to IPython3"
     echo "  -kash [...]         -- run Sage's Kash with given arguments"
     command -v kash &>/dev/null || \
     echo "                         (not installed currently, run sage -i kash)"
@@ -593,6 +596,11 @@ if [ "$1" = '-ipython' -o "$1" = '--ipython' ]; then
     exec ipython "$@"
 fi
 
+if [ "$1" = '-ipython3' -o "$1" = '--ipython3' ]; then
+    shift
+    exec ipython3 "$@"
+fi
+
 if [ "$1" = '-git' -o "$1" = '--git' ]; then
     shift
     exec git "$@"
diff --git a/src/doc/en/reference/repl/options.rst b/src/doc/en/reference/repl/options.rst
index e87c58a..6878504 100644
--- a/src/doc/en/reference/repl/options.rst
+++ b/src/doc/en/reference/repl/options.rst
@@ -67,6 +67,10 @@ Command-line options for Sage
 - ``--gp [...]`` -- run Sage's PARI/GP calculator with the given arguments
 - ``--ipython [...]`` -- run Sage's IPython using the default
   environment (not Sage), passing additional options to IPython
+- ``--ipython3 [...]`` -- run Sage's IPython3 using the default
+  environment (not Sage), passing additional options to IPython3. Note
+  that IPython3 is only installed if Sage is built with the
+  environment variable :envvar:`SAGE_PYTHON3` set to "yes".
 - ``--kash [...]`` -- run Sage's Kash with the given arguments
 - ``--M2 [...]`` -- run Sage's Macaulay2 with the given arguments
 - ``--maxima [...]`` -- run Sage's Maxima with the given arguments
```



---

Comment by vbraun created at 2017-05-14 08:19:55

Resolution: fixed
