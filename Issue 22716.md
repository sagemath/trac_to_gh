# Issue 22716: Add "sage --python3" command

archive/issues_022716.json:
```json
{
    "body": "CC:  @fchapoton\n\nAdd \"sage --python3\" to run Sage's Python 3 interpreter.\n\nIssue created by migration from https://trac.sagemath.org/ticket/22953\n\n",
    "created_at": "2017-05-05T20:06:53Z",
    "labels": [
        "component: scripts"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.0",
    "title": "Add \"sage --python3\" command",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/22716",
    "user": "https://github.com/jhpalmieri"
}
```
CC:  @fchapoton

Add "sage --python3" to run Sage's Python 3 interpreter.

Issue created by migration from https://trac.sagemath.org/ticket/22953





---

archive/issue_comments_316785.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-05-05T20:07:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22716#issuecomment-316785",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_316786.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-05-05T20:07:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22716#issuecomment-316786",
    "user": "https://github.com/jhpalmieri"
}
```

New commits:



---

archive/issue_comments_316787.json:
```json
{
    "body": "Changing keywords from \"\" to \"python3\".",
    "created_at": "2017-05-05T20:24:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22716#issuecomment-316787",
    "user": "https://github.com/jhpalmieri"
}
```

Changing keywords from "" to "python3".



---

archive/issue_comments_316788.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-05-09T19:00:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22716#issuecomment-316788",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_316789.json:
```json
{
    "body": "ok, looks good to me",
    "created_at": "2017-05-09T19:00:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22716#issuecomment-316789",
    "user": "https://github.com/fchapoton"
}
```

ok, looks good to me



---

archive/issue_comments_316790.json:
```json
{
    "body": "Maybe we could do the same for ipython3, which is quite convenient to have.",
    "created_at": "2017-05-11T14:54:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22716#issuecomment-316790",
    "user": "https://github.com/fchapoton"
}
```

Maybe we could do the same for ipython3, which is quite convenient to have.



---

archive/issue_comments_316791.json:
```json
{
    "body": "As far as I can tell, ipython3 is only installed if `SAGE_PYTHON3=yes`. (This is up to IPython's installation, not a Sage decision.) We could make these changes, in any case, either here or on a new ticket:\n\n```diff\ndiff --git a/src/bin/sage b/src/bin/sage\nindex 2091144..206bbeb 100755\n--- a/src/bin/sage\n+++ b/src/bin/sage\n@@ -100,6 +100,9 @@ usage_advanced() {\n     echo \"  -gp [...]           -- run Sage's PARI/GP calculator with given arguments\"\n     echo \"  -ipython [...]      -- run Sage's IPython using the default environment (not\"\n     echo \"                         Sage), passing additional options to IPython\"\n+    echo \"  -ipython3 [...]     -- run Sage's IPython3 (if available) using the default\"\n+    echo \"                         environment (not Sage), passing additional options\"\n+    echo \"                         to IPython3\"\n     echo \"  -kash [...]         -- run Sage's Kash with given arguments\"\n     command -v kash &>/dev/null || \\\n     echo \"                         (not installed currently, run sage -i kash)\"\n@@ -593,6 +596,11 @@ if [ \"$1\" = '-ipython' -o \"$1\" = '--ipython' ]; then\n     exec ipython \"$@\"\n fi\n \n+if [ \"$1\" = '-ipython3' -o \"$1\" = '--ipython3' ]; then\n+    shift\n+    exec ipython3 \"$@\"\n+fi\n+\n if [ \"$1\" = '-git' -o \"$1\" = '--git' ]; then\n     shift\n     exec git \"$@\"\ndiff --git a/src/doc/en/reference/repl/options.rst b/src/doc/en/reference/repl/options.rst\nindex e87c58a..6878504 100644\n--- a/src/doc/en/reference/repl/options.rst\n+++ b/src/doc/en/reference/repl/options.rst\n@@ -67,6 +67,10 @@ Command-line options for Sage\n - ``--gp [...]`` -- run Sage's PARI/GP calculator with the given arguments\n - ``--ipython [...]`` -- run Sage's IPython using the default\n   environment (not Sage), passing additional options to IPython\n+- ``--ipython3 [...]`` -- run Sage's IPython3 using the default\n+  environment (not Sage), passing additional options to IPython3. Note\n+  that IPython3 is only installed if Sage is built with the\n+  environment variable :envvar:`SAGE_PYTHON3` set to \"yes\".\n - ``--kash [...]`` -- run Sage's Kash with the given arguments\n - ``--M2 [...]`` -- run Sage's Macaulay2 with the given arguments\n - ``--maxima [...]`` -- run Sage's Maxima with the given arguments\n```\n",
    "created_at": "2017-05-11T17:32:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22716#issuecomment-316791",
    "user": "https://github.com/jhpalmieri"
}
```

As far as I can tell, ipython3 is only installed if `SAGE_PYTHON3=yes`. (This is up to IPython's installation, not a Sage decision.) We could make these changes, in any case, either here or on a new ticket:

```diff
diff --git a/src/bin/sage b/src/bin/sage
index 2091144..206bbeb 100755
--- a/src/bin/sage
+++ b/src/bin/sage
@@ -100,6 +100,9 @@ usage_advanced() {
     echo "  -gp [...]           -- run Sage's PARI/GP calculator with given arguments"
     echo "  -ipython [...]      -- run Sage's IPython using the default environment (not"
     echo "                         Sage), passing additional options to IPython"
+    echo "  -ipython3 [...]     -- run Sage's IPython3 (if available) using the default"
+    echo "                         environment (not Sage), passing additional options"
+    echo "                         to IPython3"
     echo "  -kash [...]         -- run Sage's Kash with given arguments"
     command -v kash &>/dev/null || \
     echo "                         (not installed currently, run sage -i kash)"
@@ -593,6 +596,11 @@ if [ "$1" = '-ipython' -o "$1" = '--ipython' ]; then
     exec ipython "$@"
 fi
 
+if [ "$1" = '-ipython3' -o "$1" = '--ipython3' ]; then
+    shift
+    exec ipython3 "$@"
+fi
+
 if [ "$1" = '-git' -o "$1" = '--git' ]; then
     shift
     exec git "$@"
diff --git a/src/doc/en/reference/repl/options.rst b/src/doc/en/reference/repl/options.rst
index e87c58a..6878504 100644
--- a/src/doc/en/reference/repl/options.rst
+++ b/src/doc/en/reference/repl/options.rst
@@ -67,6 +67,10 @@ Command-line options for Sage
 - ``--gp [...]`` -- run Sage's PARI/GP calculator with the given arguments
 - ``--ipython [...]`` -- run Sage's IPython using the default
   environment (not Sage), passing additional options to IPython
+- ``--ipython3 [...]`` -- run Sage's IPython3 using the default
+  environment (not Sage), passing additional options to IPython3. Note
+  that IPython3 is only installed if Sage is built with the
+  environment variable :envvar:`SAGE_PYTHON3` set to "yes".
 - ``--kash [...]`` -- run Sage's Kash with the given arguments
 - ``--M2 [...]`` -- run Sage's Macaulay2 with the given arguments
 - ``--maxima [...]`` -- run Sage's Maxima with the given arguments
```




---

archive/issue_events_059511.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-05-14T08:19:55Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/22716",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22716#event-59511"
}
```



---

archive/issue_comments_316792.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-05-14T08:19:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22716#issuecomment-316792",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
