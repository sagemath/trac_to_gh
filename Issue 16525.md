# Issue 16525: Extend FiniteStateMachine.product_FiniteStateMachine: keep isolated states

Issue created by migration from https://trac.sagemath.org/ticket/16762

Original creator: cheuberg

Original creation time: 2014-08-05 04:55:26

CC:  skropf dkrenn

Keywords: product_FiniteStateMachine, isolated state

Isolated states are currently not created in `FiniteStateMachine.product_FiniteStateMachine`. This may lead to products without any states. This is not desirable: there might be final output words, hooks, etc.

Planned behaviour:

```
sage: F = Transducer(initial_states=[0])
sage: F.add_state(1)
1
sage: G = Transducer(initial_states=['A'])
sage: F.product_FiniteStateMachine(G, None).states()
[(0, 'A')]
sage: F.product_FiniteStateMachine(
....:     G, None, only_accessible_components=False).states()
[(0, 'A'), (1, 'A')]
```


Current behaviour is that the two last tests yield `[]`.


---

Comment by cheuberg created at 2014-08-05 05:16:32

Wrote a fix and implemented the above doctests. Merged #16758 to resolve conflict.
----
New commits:


---

Comment by cheuberg created at 2014-08-05 05:16:32

Changing status from new to needs_review.


---

Comment by skropf created at 2014-08-05 08:46:43

This looks fine for me.


---

Comment by skropf created at 2014-08-05 08:46:43

Changing status from needs_review to positive_review.


---

Comment by dkrenn created at 2014-08-05 09:31:22

Looks also good to me.


---

Comment by vbraun created at 2014-08-11 12:07:40

Resolution: fixed
