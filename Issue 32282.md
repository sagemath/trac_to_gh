# Issue 32282: Patch cvxopt for python 3.10

Issue created by migration from https://trac.sagemath.org/ticket/32519

Original creator: mkoeppe

Original creation time: 2021-09-16 01:56:40

CC:  dimpase mjo

https://github.com/cvxopt/cvxopt/pull/190


---

Comment by mkoeppe created at 2021-09-16 01:59:20

New commits:


---

Comment by mkoeppe created at 2021-09-16 01:59:20

Changing status from new to needs_review.


---

Comment by mjo created at 2021-09-17 10:36:21

I think we should wait and give upstream some time to respond, at least until python-3.10 is released and available in mainstream distros. Otherwise we will end up supporting python-3.10 only via patches and rejecting system packages on distros that don't have the unofficial patches.


---

Comment by mkoeppe created at 2021-09-17 16:43:49

Note the pull request is from early spring this year...


---

Comment by mkoeppe created at 2021-09-17 16:44:46

Replying to [comment:4 mjo]:
> Otherwise we will end up supporting python-3.10 only via patches and rejecting system packages on distros that don't have the unofficial patches.

We don't use system packages for any Python packages, so this is a non-issue


---

Comment by mjo created at 2021-09-17 17:39:28

Replying to [comment:6 mkoeppe]:
> 
> We don't use system packages for any Python packages

.. yet. One of the obstacles standing in our way (although not a problem unique to python packages) is custom patching.

If we have to patch, we can patch; it just seems a little early for the nuclear option.


---

Comment by mkoeppe created at 2021-09-17 17:48:13

Replying to [comment:7 mjo]:
> Replying to [comment:6 mkoeppe]:
> > 
> > We don't use system packages for any Python packages
> 
> .. yet. 

Frankly it's pretty unrealistic for the Sage distribution to support it any time soon. I've sketched the best approach in #29023 and it's pretty complicated.

> One of the obstacles standing in our way (although not a problem unique to python packages) is custom patching.

I agree (see #31543) that the Sage *library* should not depend on custom patched Python packages.

But this cannot stop us to fix the Sage *distribution* so that it does not run into build problems. Note in particular that this build problem (of a standard package!) stops developers from actually testing Python 3.10 and therefore blocks necessary progress in our library. 

If it helps, think of the Sage *distribution* as a reference environment for developers. 

> If we have to patch, we can patch; it just seems a little early for the nuclear option.

That's a little dramatic. To stay within your metaphor, we already have dozens of nuclear plants running -- adding another one technically is to take the "nuclear option" but lacks the drama that this turn of phrase is meant to invoke.


---

Comment by dimpase created at 2021-09-18 09:03:38

Replying to [comment:5 mkoeppe]:
> Note the pull request is from early spring this year...

cvxopt's upstream is very, very slow at times.


---

Comment by mjo created at 2021-09-19 18:27:19

the pull request may be resolved but the vicious attack on my metaphor can't be undone


---

Comment by mkoeppe created at 2021-09-19 18:29:14

It was a conventional attack on your nuclear metaphor though


---

Comment by mkoeppe created at 2021-09-21 03:44:05

Changing status from needs_review to needs_work.


---

Comment by git created at 2021-09-21 15:43:47

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by mkoeppe created at 2021-09-21 15:44:23

Changing status from needs_work to needs_review.


---

Comment by dimpase created at 2021-09-21 20:41:03

Changing status from needs_review to positive_review.


---

Comment by dimpase created at 2021-09-21 20:41:03

OK


---

Comment by vbraun created at 2021-10-10 10:16:51

Resolution: fixed
