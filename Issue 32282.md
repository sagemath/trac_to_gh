# Issue 32282: Patch cvxopt for python 3.10

archive/issues_032282.json:
```json
{
    "body": "CC:  @dimpase @orlitzky\n\nhttps://github.com/cvxopt/cvxopt/pull/190\n\nIssue created by migration from https://trac.sagemath.org/ticket/32519\n\n",
    "created_at": "2021-09-16T01:56:40Z",
    "labels": [
        "component: packages: standard"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.5",
    "title": "Patch cvxopt for python 3.10",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32282",
    "user": "https://github.com/mkoeppe"
}
```
CC:  @dimpase @orlitzky

https://github.com/cvxopt/cvxopt/pull/190

Issue created by migration from https://trac.sagemath.org/ticket/32519





---

archive/issue_comments_460410.json:
```json
{
    "body": "New commits:",
    "created_at": "2021-09-16T01:59:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32282#issuecomment-460410",
    "user": "https://github.com/mkoeppe"
}
```

New commits:



---

archive/issue_comments_460411.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-09-16T01:59:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32282#issuecomment-460411",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_460412.json:
```json
{
    "body": "I think we should wait and give upstream some time to respond, at least until python-3.10 is released and available in mainstream distros. Otherwise we will end up supporting python-3.10 only via patches and rejecting system packages on distros that don't have the unofficial patches.",
    "created_at": "2021-09-17T10:36:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32282#issuecomment-460412",
    "user": "https://github.com/orlitzky"
}
```

I think we should wait and give upstream some time to respond, at least until python-3.10 is released and available in mainstream distros. Otherwise we will end up supporting python-3.10 only via patches and rejecting system packages on distros that don't have the unofficial patches.



---

archive/issue_comments_460413.json:
```json
{
    "body": "Note the pull request is from early spring this year...",
    "created_at": "2021-09-17T16:43:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32282#issuecomment-460413",
    "user": "https://github.com/mkoeppe"
}
```

Note the pull request is from early spring this year...



---

archive/issue_comments_460414.json:
```json
{
    "body": "Replying to [comment:4 mjo]:\n> Otherwise we will end up supporting python-3.10 only via patches and rejecting system packages on distros that don't have the unofficial patches.\n\nWe don't use system packages for any Python packages, so this is a non-issue",
    "created_at": "2021-09-17T16:44:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32282#issuecomment-460414",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:4 mjo]:
> Otherwise we will end up supporting python-3.10 only via patches and rejecting system packages on distros that don't have the unofficial patches.

We don't use system packages for any Python packages, so this is a non-issue



---

archive/issue_comments_460415.json:
```json
{
    "body": "Replying to [comment:6 mkoeppe]:\n> \n> We don't use system packages for any Python packages\n\n.. yet. One of the obstacles standing in our way (although not a problem unique to python packages) is custom patching.\n\nIf we have to patch, we can patch; it just seems a little early for the nuclear option.",
    "created_at": "2021-09-17T17:39:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32282#issuecomment-460415",
    "user": "https://github.com/orlitzky"
}
```

Replying to [comment:6 mkoeppe]:
> 
> We don't use system packages for any Python packages

.. yet. One of the obstacles standing in our way (although not a problem unique to python packages) is custom patching.

If we have to patch, we can patch; it just seems a little early for the nuclear option.



---

archive/issue_comments_460416.json:
```json
{
    "body": "Replying to [comment:7 mjo]:\n> Replying to [comment:6 mkoeppe]:\n> > \n> > We don't use system packages for any Python packages\n> \n> .. yet. \n\nFrankly it's pretty unrealistic for the Sage distribution to support it any time soon. I've sketched the best approach in #29023 and it's pretty complicated.\n\n> One of the obstacles standing in our way (although not a problem unique to python packages) is custom patching.\n\nI agree (see #31543) that the Sage *library* should not depend on custom patched Python packages.\n\nBut this cannot stop us to fix the Sage *distribution* so that it does not run into build problems. Note in particular that this build problem (of a standard package!) stops developers from actually testing Python 3.10 and therefore blocks necessary progress in our library. \n\nIf it helps, think of the Sage *distribution* as a reference environment for developers. \n\n> If we have to patch, we can patch; it just seems a little early for the nuclear option.\n\nThat's a little dramatic. To stay within your metaphor, we already have dozens of nuclear plants running -- adding another one technically is to take the \"nuclear option\" but lacks the drama that this turn of phrase is meant to invoke.",
    "created_at": "2021-09-17T17:48:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32282#issuecomment-460416",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:7 mjo]:
> Replying to [comment:6 mkoeppe]:
> > 
> > We don't use system packages for any Python packages
> 
> .. yet. 

Frankly it's pretty unrealistic for the Sage distribution to support it any time soon. I've sketched the best approach in #29023 and it's pretty complicated.

> One of the obstacles standing in our way (although not a problem unique to python packages) is custom patching.

I agree (see #31543) that the Sage *library* should not depend on custom patched Python packages.

But this cannot stop us to fix the Sage *distribution* so that it does not run into build problems. Note in particular that this build problem (of a standard package!) stops developers from actually testing Python 3.10 and therefore blocks necessary progress in our library. 

If it helps, think of the Sage *distribution* as a reference environment for developers. 

> If we have to patch, we can patch; it just seems a little early for the nuclear option.

That's a little dramatic. To stay within your metaphor, we already have dozens of nuclear plants running -- adding another one technically is to take the "nuclear option" but lacks the drama that this turn of phrase is meant to invoke.



---

archive/issue_comments_460417.json:
```json
{
    "body": "Replying to [comment:5 mkoeppe]:\n> Note the pull request is from early spring this year...\n\ncvxopt's upstream is very, very slow at times.",
    "created_at": "2021-09-18T09:03:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32282#issuecomment-460417",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:5 mkoeppe]:
> Note the pull request is from early spring this year...

cvxopt's upstream is very, very slow at times.



---

archive/issue_comments_460418.json:
```json
{
    "body": "the pull request may be resolved but the vicious attack on my metaphor can't be undone",
    "created_at": "2021-09-19T18:27:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32282#issuecomment-460418",
    "user": "https://github.com/orlitzky"
}
```

the pull request may be resolved but the vicious attack on my metaphor can't be undone



---

archive/issue_comments_460419.json:
```json
{
    "body": "It was a conventional attack on your nuclear metaphor though",
    "created_at": "2021-09-19T18:29:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32282#issuecomment-460419",
    "user": "https://github.com/mkoeppe"
}
```

It was a conventional attack on your nuclear metaphor though



---

archive/issue_comments_460420.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-09-21T03:44:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32282#issuecomment-460420",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_460421.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2021-09-21T15:43:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32282#issuecomment-460421",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_460422.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-09-21T15:44:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32282#issuecomment-460422",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_460423.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-09-21T20:41:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32282#issuecomment-460423",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_460424.json:
```json
{
    "body": "OK",
    "created_at": "2021-09-21T20:41:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32282#issuecomment-460424",
    "user": "https://github.com/dimpase"
}
```

OK



---

archive/issue_comments_460425.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-10-10T10:16:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32282#issuecomment-460425",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
