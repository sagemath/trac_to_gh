# Issue 34584: Create single-column matrix over polynomial ring containing monomials

Issue created by migration from https://trac.sagemath.org/ticket/34821

Original creator: @hdarjus

Original creation time: 2022-12-04 10:27:47

Keywords: matrix variable_names polynomial_rings

I have a function that creates matrices of dimension $3r\times r$ with variables (MWE below). It works for $r>1$ but fails for $r=1$. I would love to post a screenshot but my karma is not enough. How do I do this correctly for $r=1$? I am using Sage 9.7 on Apple Chip on MacOS Venture 13.0.1 in Jupyter.

I asked about it on AskSage, and I was asked to file a ticket; see [https://ask.sagemath.org/question/65137/create-single-column-matrix-aka-column-vector/?answer=65161#post-id-65161](https://ask.sagemath.org/question/65137/create-single-column-matrix-aka-column-vector/?answer=65161#post-id-65161).

I am sorry, I tried to find which Component this is, but I could not find a proper category from the list. I hope my keywords are helpful.


```
sage: def create_matrix_with_variables(r):
    m=3*r
    variable_names_string=['b_%d_%d' %(i,j) for (i,j) in cartesian_product([range(1,m+1),range(1,r+1)])]
    parent_ring=ZZ[variable_names_string]
    betas=list(parent_ring.variable_names())
    beta=matrix(parent_ring,m,r,betas)
    return beta

sage: create_matrix_with_variables(2)
[b_1_1 b_1_2]
[b_2_1 b_2_2]
[b_3_1 b_3_2]
[b_4_1 b_4_2]
[b_5_1 b_5_2]
[b_6_1 b_6_2]

sage: create_matrix_with_variables(1)
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
Input In [101], in <cell line: 1>()
----> 1 create_matrix_with_variables(Integer(1))

Input In [99], in create_matrix_with_variables(r)
      4 parent_ring=ZZ[variable_names_string]
      5 betas=list(parent_ring.variable_names())
----> 6 beta=matrix(parent_ring,m,r,betas)
      7 return beta

File /private/var/tmp/sage-9.7-current/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/matrix/constructor.pyx:643, in sage.matrix.constructor.matrix (build/cythonized/sage/matrix/constructor.c:2797)()
    641 """
    642 immutable = kwds.pop('immutable', False)
--> 643 M = MatrixArgs(*args, **kwds).matrix()
    644 if immutable:
    645     M.set_immutable()

File /private/var/tmp/sage-9.7-current/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/matrix/args.pyx:655, in sage.matrix.args.MatrixArgs.matrix (build/cythonized/sage/matrix/args.c:7892)()
    653     True
    654 """
--> 655 self.finalize()
    656 
    657 cdef Matrix M

File /private/var/tmp/sage-9.7-current/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/matrix/args.pyx:862, in sage.matrix.args.MatrixArgs.finalize (build/cythonized/sage/matrix/args.c:9592)()
    860     self.typ = self.get_type()
    861     if self.typ == MA_ENTRIES_UNKNOWN:
--> 862         raise TypeError(f"unable to convert {self.entries!r} to a matrix")
    863 
    864 # Can we assume a square matrix?

TypeError: unable to convert ['b_1_1', 'b_2_1', 'b_3_1'] to a matrix


```

