# Issue 20063: DirichletGroup should not allow negative modulus

Issue created by migration from Trac.

Original creator: wuthrich

Original creation time: 2016-03-26 15:49:19

Keywords: DirichletGroup


```
sage: G = DirichletGroup(-20); G
Group of Dirichlet characters of modulus -20 over Cyclotomic Field of order 4 and degree 2
sage: chi = G.0; chi
Dirichlet character modulo -20 of conductor 4 mapping 11 |--> -1, 17 |--> 1
```


pretends to work, but then most things like `chi.gauss_sum()` etc fail.

Either `DirichletGroup` with a negative modulus should yield an error or return the one with |modulus|


---

Comment by chapoton created at 2017-08-05 13:01:00

done, please review (should be easy)
----
New commits:


---

Comment by chapoton created at 2017-08-05 13:01:00

Changing status from new to needs_review.


---

Comment by pbruin created at 2017-08-05 13:39:54

Changing status from needs_review to positive_review.


---

Comment by pbruin created at 2017-08-05 13:39:54

I just changed the inequality to `modulus <= 0` to make the error message clearer in the case `modulus = 0`.


---

Comment by vbraun created at 2017-08-05 23:26:56

Resolution: fixed
