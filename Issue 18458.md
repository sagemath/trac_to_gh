# Issue 18458: setting domain=integer on var has no effect with solve

Issue created by migration from https://trac.sagemath.org/ticket/18695

Original creator: rws

Original creation time: 2015-06-13 07:43:47

While this works as expected:

```
sage: n = var('n')
sage: assume(n, 'integer')
sage: solve([n^2 == 3],n)
[]
```

this does not:

```
sage: forget()
sage: n = var('n', domain='integer')
sage: solve([n^2 == 3],n)
[n == -sqrt(3), n == sqrt(3)]
```

So, either `solve` should also look at the variable domain, or better, let's propagate domain settings to the assumption list.


---

Comment by rws created at 2015-06-20 09:03:59

New commits:


---

Comment by rws created at 2015-06-20 09:03:59

Changing status from new to needs_review.


---

Comment by rws created at 2015-06-20 12:44:24

Changing status from needs_review to needs_work.


---

Comment by git created at 2015-06-21 07:46:53

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by rws created at 2015-06-21 07:47:17

Changing status from needs_work to needs_review.


---

Comment by git created at 2015-06-21 08:00:50

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by rws created at 2015-07-11 06:19:08

Changing status from needs_review to needs_work.


---

Comment by rws created at 2015-07-11 06:19:08

Together with #18877 this should be able to doctest:

```
sage: _ = var('n', domain='integer')
sage: n.is_integer()
True
```



---

Comment by rws created at 2015-08-13 06:55:50

Replying to [comment:7 rws]:
> Together with #18877 this should be able to doctest:
> {{{
> sage: _ = var('n', domain='integer')
> sage: n.is_integer()
> True
> }}}
No, this would actually need #18921 and is included there.


---

Comment by rws created at 2015-08-13 06:57:51

Changing status from needs_work to needs_review.


---

Comment by vdelecroix created at 2015-08-13 13:13:02

Changing status from needs_review to needs_info.


---

Comment by vdelecroix created at 2015-08-13 13:13:02

Hello,

It looks good. Though I found confusing that the functions `sage_domain_to_ginac` and `sage_domain_to_maxima` have the same name. The first one return something (and does nothing) while the second one is communicating with maxima.


---

Comment by git created at 2015-08-13 14:31:59

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by rws created at 2015-08-13 14:32:26

Changing status from needs_info to needs_review.


---

Comment by vdelecroix created at 2015-08-13 18:02:21

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2015-08-13 20:21:15

Resolution: fixed
