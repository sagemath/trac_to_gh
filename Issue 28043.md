# Issue 28043: CombinatorialPolyhedron: replace attributes by methods

archive/issues_028043.json:
```json
{
    "body": "CC:  @jplab @tscrim @videlec @laisrast @fchapoton\n\nReplace attributes in `CombinatorialPolyhedron` by methods, such that they can potentially be lazy evaluated.\n\nThis is motivated by #10777.\n\nIssue created by migration from https://trac.sagemath.org/ticket/28280\n\n",
    "created_at": "2019-07-29T19:59:29Z",
    "labels": [
        "geometry",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "CombinatorialPolyhedron: replace attributes by methods",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28043",
    "user": "@kliem"
}
```
CC:  @jplab @tscrim @videlec @laisrast @fchapoton

Replace attributes in `CombinatorialPolyhedron` by methods, such that they can potentially be lazy evaluated.

This is motivated by #10777.

Issue created by migration from https://trac.sagemath.org/ticket/28280





---

archive/issue_comments_396388.json:
```json
{
    "body": "Some attributes like `bitrep_vertices` might have been an unfortunate choice:\n\nAs they are accessed by other classes, I'm forced to compute e.g. `bitrep_vertices` on initialization. If `CombinatorialPolyhedron` was ever to be a parent of `Polyhedron_base` (see #10777), this would force a polyhedron to compute the incidence matrix right away.\n\nFrom my understanding, the decorator ``@`lazy_attribute` is not available for extension types directly. I'm thinking of changing those attributes to methods, such that there is a method `bitrep_facets` and an attribute `_bitrep_facets`. This way one can later change this to be lazily evaluated.\n\nAny thoughts?",
    "created_at": "2019-07-29T20:01:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28043#issuecomment-396388",
    "user": "@kliem"
}
```

Some attributes like `bitrep_vertices` might have been an unfortunate choice:

As they are accessed by other classes, I'm forced to compute e.g. `bitrep_vertices` on initialization. If `CombinatorialPolyhedron` was ever to be a parent of `Polyhedron_base` (see #10777), this would force a polyhedron to compute the incidence matrix right away.

From my understanding, the decorator ``@`lazy_attribute` is not available for extension types directly. I'm thinking of changing those attributes to methods, such that there is a method `bitrep_facets` and an attribute `_bitrep_facets`. This way one can later change this to be lazily evaluated.

Any thoughts?



---

archive/issue_comments_396389.json:
```json
{
    "body": "Changing type from enhancement to defect.",
    "created_at": "2019-07-29T20:03:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28043#issuecomment-396389",
    "user": "@kliem"
}
```

Changing type from enhancement to defect.



---

archive/issue_comments_396390.json:
```json
{
    "body": "New commits:",
    "created_at": "2019-07-29T21:37:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28043#issuecomment-396390",
    "user": "@kliem"
}
```

New commits:



---

archive/issue_comments_396391.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-07-29T21:38:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28043#issuecomment-396391",
    "user": "@kliem"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_396392.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2019-08-06T21:06:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28043#issuecomment-396392",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_396393.json:
```json
{
    "body": "If a ``@`lazy_attribute` doesn't work, then just make it a ``@`cached_method` (with no arguments).",
    "created_at": "2019-08-07T06:24:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28043#issuecomment-396393",
    "user": "@tscrim"
}
```

If a ``@`lazy_attribute` doesn't work, then just make it a ``@`cached_method` (with no arguments).



---

archive/issue_comments_396394.json:
```json
{
    "body": "Replying to [comment:7 tscrim]:\n> If a ``@`lazy_attribute` doesn't work, then just make it a ``@`cached_method` (with no arguments).\n\nDoes either one work with `cdef`?\n\nHere, I want to give a small example of what I want to do:\n\n\n```\nsage: cython('''\n....: cdef class BaseClass:\n....:     cdef public int number\n....: \n....:     def __init__(self):\n....:         self.number = 2\n....: ''')\nsage: class NewClass(BaseClass):\n....:     def __init__(self):\n....:         pass\n....:     \nsage: example = NewClass()\nsage: example.number\n0\n```\n\n\nI'm trying to somehow make `number` be a lazy attribute. The only solution I came up with, is to replace it by a method. Is there another way?\n\n\nThe background is that `CombinatorialPolyhedron` does require `Polyhedron` to compute the incidence matrix for correct initialization. If `CombinatorialPolyhedron` is to be a base class of `Polyhedron_base` at some point (#10777), it needs to be lazily initialized.",
    "created_at": "2019-08-12T11:18:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28043#issuecomment-396394",
    "user": "@kliem"
}
```

Replying to [comment:7 tscrim]:
> If a ``@`lazy_attribute` doesn't work, then just make it a ``@`cached_method` (with no arguments).

Does either one work with `cdef`?

Here, I want to give a small example of what I want to do:


```
sage: cython('''
....: cdef class BaseClass:
....:     cdef public int number
....: 
....:     def __init__(self):
....:         self.number = 2
....: ''')
sage: class NewClass(BaseClass):
....:     def __init__(self):
....:         pass
....:     
sage: example = NewClass()
sage: example.number
0
```


I'm trying to somehow make `number` be a lazy attribute. The only solution I came up with, is to replace it by a method. Is there another way?


The background is that `CombinatorialPolyhedron` does require `Polyhedron` to compute the incidence matrix for correct initialization. If `CombinatorialPolyhedron` is to be a base class of `Polyhedron_base` at some point (#10777), it needs to be lazily initialized.



---

archive/issue_comments_396395.json:
```json
{
    "body": "Changing type from defect to enhancement.",
    "created_at": "2019-08-26T13:10:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28043#issuecomment-396395",
    "user": "@kliem"
}
```

Changing type from defect to enhancement.



---

archive/issue_comments_396396.json:
```json
{
    "body": "Is this the right approach, am I missing something? Is it acceptable to do those name changes? (`CombinatorialPolyhedron` still was not part of a stable release)\n\nIf so, I think the review is rather trivial and I can try to find someone else to do it.",
    "created_at": "2019-08-26T13:10:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28043#issuecomment-396396",
    "user": "@kliem"
}
```

Is this the right approach, am I missing something? Is it acceptable to do those name changes? (`CombinatorialPolyhedron` still was not part of a stable release)

If so, I think the review is rather trivial and I can try to find someone else to do it.



---

archive/issue_comments_396397.json:
```json
{
    "body": "Some comments:\n\nSince these methods will then occur in the namespace, perhaps it would make sense to make it consistent with the names of the methods for `Polyhedron`. For example, `unbounded` -> `is_(un)bounded`. Probably it would make more sense to store `is_bounded` rather than `unbounded`....\n\nSimilar for `V` and `H`, having a method with only one letter is not so revealing...\n\nI guess it is important to be careful with the naming at this precise moment as after, changing the name of methods will force the usage of deprecation warnings and that's annoying. (I believe that some methods should be changed to be consistent with `Polyhedron`...).",
    "created_at": "2019-09-09T14:04:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28043#issuecomment-396397",
    "user": "@jplab"
}
```

Some comments:

Since these methods will then occur in the namespace, perhaps it would make sense to make it consistent with the names of the methods for `Polyhedron`. For example, `unbounded` -> `is_(un)bounded`. Probably it would make more sense to store `is_bounded` rather than `unbounded`....

Similar for `V` and `H`, having a method with only one letter is not so revealing...

I guess it is important to be careful with the naming at this precise moment as after, changing the name of methods will force the usage of deprecation warnings and that's annoying. (I believe that some methods should be changed to be consistent with `Polyhedron`...).



---

archive/issue_comments_396398.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-09-10T11:28:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28043#issuecomment-396398",
    "user": "@kliem"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_396399.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:",
    "created_at": "2019-09-10T19:01:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28043#issuecomment-396399",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:



---

archive/issue_comments_396400.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-09-10T19:19:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28043#issuecomment-396400",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_396401.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-09-10T20:12:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28043#issuecomment-396401",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_396402.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-09-10T20:16:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28043#issuecomment-396402",
    "user": "@kliem"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_396403.json:
```json
{
    "body": "Ok, I think naming is consistent with `Polyhedron_base` now.\n\nIt would be great to have this in sage 8.9, so that we can avoid any deprecation warning.",
    "created_at": "2019-09-10T20:16:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28043#issuecomment-396403",
    "user": "@kliem"
}
```

Ok, I think naming is consistent with `Polyhedron_base` now.

It would be great to have this in sage 8.9, so that we can avoid any deprecation warning.



---

archive/issue_comments_396404.json:
```json
{
    "body": "Well... 8.9.rc0 is already out... so time is running out... :-(\n\nOn which version of Sage is this based? Could you rebase on 8.9.rc0 so that we have a clear view of what is done in this ticket. Or is it actually already only stuff from this ticket?\n\n- I would vote for `Vrep->Vrepresentation` same for `H`. This is what I meant originally with be consistent with `Polyhedron`, I should have specified it, my bad.\n\n- You should also mention in the description of this ticket that you remove an empty folder. This is done in one of the commits. (This is a good habit to take for such small changes, otherwise, the penalty is: \"please open a ticket just for that\"...).",
    "created_at": "2019-09-12T06:55:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28043#issuecomment-396404",
    "user": "@jplab"
}
```

Well... 8.9.rc0 is already out... so time is running out... :-(

On which version of Sage is this based? Could you rebase on 8.9.rc0 so that we have a clear view of what is done in this ticket. Or is it actually already only stuff from this ticket?

- I would vote for `Vrep->Vrepresentation` same for `H`. This is what I meant originally with be consistent with `Polyhedron`, I should have specified it, my bad.

- You should also mention in the description of this ticket that you remove an empty folder. This is done in one of the commits. (This is a good habit to take for such small changes, otherwise, the penalty is: "please open a ticket just for that"...).



---

archive/issue_comments_396405.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-09-12T06:55:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28043#issuecomment-396405",
    "user": "@jplab"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_396406.json:
```json
{
    "body": "Replying to [comment:16 jipilab]:\n> Well... 8.9.rc0 is already out... so time is running out... :-(\n> \n> On which version of Sage is this based? Could you rebase on 8.9.rc0 so that we have a clear view of what is done in this ticket. Or is it actually already only stuff from this ticket?\nThis ticket is huge, but almost all changes are trivial. Sorry, but that's what happens, when you change some names.\n> \n>  - I would vote for `Vrep->Vrepresentation` same for `H`. This is what I meant originally with be consistent with `Polyhedron`, I should have specified it, my bad.\nIn `Polyhedron` there is `Vrepresentation` and `Vrep-generator`. So in a way, both things are used.\n\nNow for `CombinatorialPolyhedron` there is only `Vrepresentation` in the namespace. `_Vrep` is an internal cython variable, while `Vrep` is the cython method that accesses `_Vrep`. I tried to use `cpdef` for both of them, but that didn't work (`closures inside cpdef functions not yet supported`, seems to be connected with `smallInteger`). So as long as it is that way, I would propse leaving the python method named `Vrepresentation` and the cython method `Vrepr`. But I'm open for different suggestions.\n\nNow with `CombinatorialFace` things are a bit different. At the moment there is `Vrep`, `Hrep`, `n_Vrepresentation` and `n_Hrepresentation` (not consistent, I just noticed). `Vrep` allows giving both the indices and the names of the Vrepresentation. So in a way it combines `ambient_Vrepresentation` and `ambient_V_indices` of `PolyhedronFace`. What do you suggest?\n\nOne option would be the following for `CombinatorialFace`:\n- `Vrep` -> `ambient_Vrep`\n- make `ambient_Vrepresentation` an alias for `ambient_Vrep(names=True)`\n- make `ambient_V_indices` an alias for `ambient_V_indices(names=False)`\n- `n_Vrepresentation` -> `n_ambient_Vreprentation`\n- same for `Hrep`\nUnfortunatly, those changes are going to make the ticket even larger.\n\nWhat do you think? If I have a clear idea what to do, I think I can make the remaining changes tonight.\n\n> \n>  - You should also mention in the description of this ticket that you remove an empty folder. This is done in one of the commits. (This is a good habit to take for such small changes, otherwise, the penalty is: \"please open a ticket just for that\"...).\n>",
    "created_at": "2019-09-12T07:45:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28043#issuecomment-396406",
    "user": "@kliem"
}
```

Replying to [comment:16 jipilab]:
> Well... 8.9.rc0 is already out... so time is running out... :-(
> 
> On which version of Sage is this based? Could you rebase on 8.9.rc0 so that we have a clear view of what is done in this ticket. Or is it actually already only stuff from this ticket?
This ticket is huge, but almost all changes are trivial. Sorry, but that's what happens, when you change some names.
> 
>  - I would vote for `Vrep->Vrepresentation` same for `H`. This is what I meant originally with be consistent with `Polyhedron`, I should have specified it, my bad.
In `Polyhedron` there is `Vrepresentation` and `Vrep-generator`. So in a way, both things are used.

Now for `CombinatorialPolyhedron` there is only `Vrepresentation` in the namespace. `_Vrep` is an internal cython variable, while `Vrep` is the cython method that accesses `_Vrep`. I tried to use `cpdef` for both of them, but that didn't work (`closures inside cpdef functions not yet supported`, seems to be connected with `smallInteger`). So as long as it is that way, I would propse leaving the python method named `Vrepresentation` and the cython method `Vrepr`. But I'm open for different suggestions.

Now with `CombinatorialFace` things are a bit different. At the moment there is `Vrep`, `Hrep`, `n_Vrepresentation` and `n_Hrepresentation` (not consistent, I just noticed). `Vrep` allows giving both the indices and the names of the Vrepresentation. So in a way it combines `ambient_Vrepresentation` and `ambient_V_indices` of `PolyhedronFace`. What do you suggest?

One option would be the following for `CombinatorialFace`:
- `Vrep` -> `ambient_Vrep`
- make `ambient_Vrepresentation` an alias for `ambient_Vrep(names=True)`
- make `ambient_V_indices` an alias for `ambient_V_indices(names=False)`
- `n_Vrepresentation` -> `n_ambient_Vreprentation`
- same for `Hrep`
Unfortunatly, those changes are going to make the ticket even larger.

What do you think? If I have a clear idea what to do, I think I can make the remaining changes tonight.

> 
>  - You should also mention in the description of this ticket that you remove an empty folder. This is done in one of the commits. (This is a good habit to take for such small changes, otherwise, the penalty is: "please open a ticket just for that"...).
>



---

archive/issue_comments_396407.json:
```json
{
    "body": "Replying to [comment:17 gh-kliem]:\n> Replying to [comment:16 jipilab]:\n> > Well... 8.9.rc0 is already out... so time is running out... :-(\n> > \n> > On which version of Sage is this based? Could you rebase on 8.9.rc0 so that we have a clear view of what is done in this ticket. Or is it actually already only stuff from this ticket?\n> This ticket is huge, but almost all changes are trivial. Sorry, but that's what happens, when you change some names.\n\nI was just making sure. Let's try to make it happen.\n\n> > \n> >  - I would vote for `Vrep->Vrepresentation` same for `H`. This is what I meant originally with be consistent with `Polyhedron`, I should have specified it, my bad.\n> In `Polyhedron` there is `Vrepresentation` and `Vrep-generator`. So in a way, both things are used.\n\n`V_rep` is shortened because `_generator` appears after. So I would vote for completing the name to `Vrepresentation`.\n \n> Now for `CombinatorialPolyhedron` there is only `Vrepresentation` in the namespace. `_Vrep` is an internal cython variable, while `Vrep` is the cython method that accesses `_Vrep`. I tried to use `cpdef` for both of them, but that didn't work (`closures inside cpdef functions not yet supported`, seems to be connected with `smallInteger`). So as long as it is that way, I would propse leaving the python method named `Vrepresentation` and the cython method `Vrepr`. But I'm open for different suggestions.\n\nGot it! Looks good.\n> \n> Now with `CombinatorialFace` things are a bit different. At the moment there is `Vrep`, `Hrep`, `n_Vrepresentation` and `n_Hrepresentation` (not consistent, I just noticed). `Vrep` allows giving both the indices and the names of the Vrepresentation. So in a way it combines `ambient_Vrepresentation` and `ambient_V_indices` of `PolyhedronFace`. What do you suggest?\n> \n\nOk. I see. I would do `Vrep` to `Vrepresentation`. Then, if `CombinatorialFace` has a different behavior than the `PolyhedronFace` I believe it is fine.\n\n> One option would be the following for `CombinatorialFace`:\n> - `Vrep` -> `ambient_Vrep`\n> - make `ambient_Vrepresentation` an alias for `ambient_Vrep(names=True)`\n> - make `ambient_V_indices` an alias for `ambient_V_indices(names=False)`\n> - `n_Vrepresentation` -> `n_ambient_Vreprentation`\n> - same for `Hrep`\n\n\nIt seems like making the current `Vrep` private and have `ambient_Vrepresentation` (with the whole word) call this private function `Vrep(names=True)` and likewise for `ambient_V_indices` be more reasonable.\n\nWhy have 3 functions when we can have 2? Especially, the 2 functions behave as they do in `PolyhedronFace`... so I do not see the need to provide `Vrep` in the namespace.\n\n\n> > \n> >  - You should also mention in the description of this ticket that you remove an empty folder. This is done in one of the commits. (This is a good habit to take for such small changes, otherwise, the penalty is: \"please open a ticket just for that\"...).\n> > \n\nPlease apply this change to the description.",
    "created_at": "2019-09-12T08:02:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28043#issuecomment-396407",
    "user": "@jplab"
}
```

Replying to [comment:17 gh-kliem]:
> Replying to [comment:16 jipilab]:
> > Well... 8.9.rc0 is already out... so time is running out... :-(
> > 
> > On which version of Sage is this based? Could you rebase on 8.9.rc0 so that we have a clear view of what is done in this ticket. Or is it actually already only stuff from this ticket?
> This ticket is huge, but almost all changes are trivial. Sorry, but that's what happens, when you change some names.

I was just making sure. Let's try to make it happen.

> > 
> >  - I would vote for `Vrep->Vrepresentation` same for `H`. This is what I meant originally with be consistent with `Polyhedron`, I should have specified it, my bad.
> In `Polyhedron` there is `Vrepresentation` and `Vrep-generator`. So in a way, both things are used.

`V_rep` is shortened because `_generator` appears after. So I would vote for completing the name to `Vrepresentation`.
 
> Now for `CombinatorialPolyhedron` there is only `Vrepresentation` in the namespace. `_Vrep` is an internal cython variable, while `Vrep` is the cython method that accesses `_Vrep`. I tried to use `cpdef` for both of them, but that didn't work (`closures inside cpdef functions not yet supported`, seems to be connected with `smallInteger`). So as long as it is that way, I would propse leaving the python method named `Vrepresentation` and the cython method `Vrepr`. But I'm open for different suggestions.

Got it! Looks good.
> 
> Now with `CombinatorialFace` things are a bit different. At the moment there is `Vrep`, `Hrep`, `n_Vrepresentation` and `n_Hrepresentation` (not consistent, I just noticed). `Vrep` allows giving both the indices and the names of the Vrepresentation. So in a way it combines `ambient_Vrepresentation` and `ambient_V_indices` of `PolyhedronFace`. What do you suggest?
> 

Ok. I see. I would do `Vrep` to `Vrepresentation`. Then, if `CombinatorialFace` has a different behavior than the `PolyhedronFace` I believe it is fine.

> One option would be the following for `CombinatorialFace`:
> - `Vrep` -> `ambient_Vrep`
> - make `ambient_Vrepresentation` an alias for `ambient_Vrep(names=True)`
> - make `ambient_V_indices` an alias for `ambient_V_indices(names=False)`
> - `n_Vrepresentation` -> `n_ambient_Vreprentation`
> - same for `Hrep`


It seems like making the current `Vrep` private and have `ambient_Vrepresentation` (with the whole word) call this private function `Vrep(names=True)` and likewise for `ambient_V_indices` be more reasonable.

Why have 3 functions when we can have 2? Especially, the 2 functions behave as they do in `PolyhedronFace`... so I do not see the need to provide `Vrep` in the namespace.


> > 
> >  - You should also mention in the description of this ticket that you remove an empty folder. This is done in one of the commits. (This is a good habit to take for such small changes, otherwise, the penalty is: "please open a ticket just for that"...).
> > 

Please apply this change to the description.



---

archive/issue_comments_396408.json:
```json
{
    "body": "Replying to [comment:18 jipilab]:\n> Replying to [comment:17 gh-kliem]:\n> > Replying to [comment:16 jipilab]:\n> > > Well... 8.9.rc0 is already out... so time is running out... :-(\n> > > \n> > > On which version of Sage is this based? Could you rebase on 8.9.rc0 so that we have a clear view of what is done in this ticket. Or is it actually already only stuff from this ticket?\n> > This ticket is huge, but almost all changes are trivial. Sorry, but that's what happens, when you change some names.\n> \n> I was just making sure. Let's try to make it happen.\n> \n> > > \n> > >  - I would vote for `Vrep->Vrepresentation` same for `H`. This is what I meant originally with be consistent with `Polyhedron`, I should have specified it, my bad.\n> > In `Polyhedron` there is `Vrepresentation` and `Vrep-generator`. So in a way, both things are used.\n> \n> `V_rep` is shortened because `_generator` appears after. So I would vote for completing the name to `Vrepresentation`.\n>  \n> > Now for `CombinatorialPolyhedron` there is only `Vrepresentation` in the namespace. `_Vrep` is an internal cython variable, while `Vrep` is the cython method that accesses `_Vrep`. I tried to use `cpdef` for both of them, but that didn't work (`closures inside cpdef functions not yet supported`, seems to be connected with `smallInteger`). So as long as it is that way, I would propse leaving the python method named `Vrepresentation` and the cython method `Vrepr`. But I'm open for different suggestions.\n> \n> Got it! Looks good.\n> > \n> > Now with `CombinatorialFace` things are a bit different. At the moment there is `Vrep`, `Hrep`, `n_Vrepresentation` and `n_Hrepresentation` (not consistent, I just noticed). `Vrep` allows giving both the indices and the names of the Vrepresentation. So in a way it combines `ambient_Vrepresentation` and `ambient_V_indices` of `PolyhedronFace`. What do you suggest?\n> > \n> \n> Ok. I see. I would do `Vrep` to `Vrepresentation`. Then, if `CombinatorialFace` has a different behavior than the `PolyhedronFace` I believe it is fine.\n> \n> > One option would be the following for `CombinatorialFace`:\n> > - `Vrep` -> `ambient_Vrep`\n> > - make `ambient_Vrepresentation` an alias for `ambient_Vrep(names=True)`\n> > - make `ambient_V_indices` an alias for `ambient_V_indices(names=False)`\n> > - `n_Vrepresentation` -> `n_ambient_Vreprentation`\n> > - same for `Hrep`\n> \n> \n> It seems like making the current `Vrep` private and have `ambient_Vrepresentation` (with the whole word) call this private function `Vrep(names=True)` and likewise for `ambient_V_indices` be more reasonable.\n> \n> Why have 3 functions when we can have 2? Especially, the 2 functions behave as they do in `PolyhedronFace`... so I do not see the need to provide `Vrep` in the namespace.\n> \n> \n> > > \n> > >  - You should also mention in the description of this ticket that you remove an empty folder. This is done in one of the commits. (This is a good habit to take for such small changes, otherwise, the penalty is: \"please open a ticket just for that\"...).\n> > > \n> \n> Please apply this change to the description.\n\nI will. It's just one of those things that where perfectly clear to me, so I do didn't comment.\n\nOne more thing: Lots of changes are due to the changes of abbreciations `Vrepr` -> `Vrep` etc. I noticed you seem to at least use both. I could undo this change and this might make the ticket shorter.",
    "created_at": "2019-09-12T09:09:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28043#issuecomment-396408",
    "user": "@kliem"
}
```

Replying to [comment:18 jipilab]:
> Replying to [comment:17 gh-kliem]:
> > Replying to [comment:16 jipilab]:
> > > Well... 8.9.rc0 is already out... so time is running out... :-(
> > > 
> > > On which version of Sage is this based? Could you rebase on 8.9.rc0 so that we have a clear view of what is done in this ticket. Or is it actually already only stuff from this ticket?
> > This ticket is huge, but almost all changes are trivial. Sorry, but that's what happens, when you change some names.
> 
> I was just making sure. Let's try to make it happen.
> 
> > > 
> > >  - I would vote for `Vrep->Vrepresentation` same for `H`. This is what I meant originally with be consistent with `Polyhedron`, I should have specified it, my bad.
> > In `Polyhedron` there is `Vrepresentation` and `Vrep-generator`. So in a way, both things are used.
> 
> `V_rep` is shortened because `_generator` appears after. So I would vote for completing the name to `Vrepresentation`.
>  
> > Now for `CombinatorialPolyhedron` there is only `Vrepresentation` in the namespace. `_Vrep` is an internal cython variable, while `Vrep` is the cython method that accesses `_Vrep`. I tried to use `cpdef` for both of them, but that didn't work (`closures inside cpdef functions not yet supported`, seems to be connected with `smallInteger`). So as long as it is that way, I would propse leaving the python method named `Vrepresentation` and the cython method `Vrepr`. But I'm open for different suggestions.
> 
> Got it! Looks good.
> > 
> > Now with `CombinatorialFace` things are a bit different. At the moment there is `Vrep`, `Hrep`, `n_Vrepresentation` and `n_Hrepresentation` (not consistent, I just noticed). `Vrep` allows giving both the indices and the names of the Vrepresentation. So in a way it combines `ambient_Vrepresentation` and `ambient_V_indices` of `PolyhedronFace`. What do you suggest?
> > 
> 
> Ok. I see. I would do `Vrep` to `Vrepresentation`. Then, if `CombinatorialFace` has a different behavior than the `PolyhedronFace` I believe it is fine.
> 
> > One option would be the following for `CombinatorialFace`:
> > - `Vrep` -> `ambient_Vrep`
> > - make `ambient_Vrepresentation` an alias for `ambient_Vrep(names=True)`
> > - make `ambient_V_indices` an alias for `ambient_V_indices(names=False)`
> > - `n_Vrepresentation` -> `n_ambient_Vreprentation`
> > - same for `Hrep`
> 
> 
> It seems like making the current `Vrep` private and have `ambient_Vrepresentation` (with the whole word) call this private function `Vrep(names=True)` and likewise for `ambient_V_indices` be more reasonable.
> 
> Why have 3 functions when we can have 2? Especially, the 2 functions behave as they do in `PolyhedronFace`... so I do not see the need to provide `Vrep` in the namespace.
> 
> 
> > > 
> > >  - You should also mention in the description of this ticket that you remove an empty folder. This is done in one of the commits. (This is a good habit to take for such small changes, otherwise, the penalty is: "please open a ticket just for that"...).
> > > 
> 
> Please apply this change to the description.

I will. It's just one of those things that where perfectly clear to me, so I do didn't comment.

One more thing: Lots of changes are due to the changes of abbreciations `Vrepr` -> `Vrep` etc. I noticed you seem to at least use both. I could undo this change and this might make the ticket shorter.



---

archive/issue_comments_396409.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-09-12T20:54:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28043#issuecomment-396409",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_396410.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-09-12T21:09:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28043#issuecomment-396410",
    "user": "@kliem"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_396411.json:
```json
{
    "body": "I guess, we need deprecation warnings now.",
    "created_at": "2019-09-30T11:53:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28043#issuecomment-396411",
    "user": "@kliem"
}
```

I guess, we need deprecation warnings now.



---

archive/issue_comments_396412.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-09-30T11:53:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28043#issuecomment-396412",
    "user": "@kliem"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_396413.json:
```json
{
    "body": "Changing type from enhancement to task.",
    "created_at": "2019-10-16T08:32:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28043#issuecomment-396413",
    "user": "@kliem"
}
```

Changing type from enhancement to task.



---

archive/issue_comments_396414.json:
```json
{
    "body": "I'm going to put this on needs review as long as tickets on that list need to be reviewed.\n\nSo on #22420 (meta ticket polyhedra) there needs to be only this ticket to collect all the others.",
    "created_at": "2019-10-16T08:37:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28043#issuecomment-396414",
    "user": "@kliem"
}
```

I'm going to put this on needs review as long as tickets on that list need to be reviewed.

So on #22420 (meta ticket polyhedra) there needs to be only this ticket to collect all the others.



---

archive/issue_comments_396415.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-10-16T08:37:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28043#issuecomment-396415",
    "user": "@kliem"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_396416.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-10-18T08:31:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28043#issuecomment-396416",
    "user": "@kliem"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_396417.json:
```json
{
    "body": "Ticket retargeted after milestone closed",
    "created_at": "2020-01-06T14:10:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28043#issuecomment-396417",
    "user": "@embray"
}
```

Ticket retargeted after milestone closed



---

archive/issue_comments_396418.json:
```json
{
    "body": "Batch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.",
    "created_at": "2020-04-14T19:41:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28043#issuecomment-396418",
    "user": "@mkoeppe"
}
```

Batch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.



---

archive/issue_comments_396419.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-04-24T08:14:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28043#issuecomment-396419",
    "user": "@kliem"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_396420.json:
```json
{
    "body": "This task is taken care of.",
    "created_at": "2020-04-24T08:14:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28043#issuecomment-396420",
    "user": "@kliem"
}
```

This task is taken care of.



---

archive/issue_comments_396421.json:
```json
{
    "body": "Please, close this ticket as it's objectives have been fulfilled! Thanks!",
    "created_at": "2020-05-11T13:11:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28043#issuecomment-396421",
    "user": "@jplab"
}
```

Please, close this ticket as it's objectives have been fulfilled! Thanks!



---

archive/issue_comments_396422.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-05-11T13:12:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28043#issuecomment-396422",
    "user": "@jplab"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_396423.json:
```json
{
    "body": "Resolution: worksforme",
    "created_at": "2020-05-26T06:39:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28043#issuecomment-396423",
    "user": "@fchapoton"
}
```

Resolution: worksforme
