# Issue 30581: Set environment for subprocesses invoked by Sage

Issue created by migration from https://trac.sagemath.org/ticket/30818

Original creator: mkoeppe

Original creation time: 2020-10-23 21:08:45

CC:  fbissey @tobiasdiez dimpase arojas mjo slabbe

Instead of relying on running in an environment set up by `sage-env`, we should set up specific environment variables whenever we invoke executables. This will be configurable through `sage_conf`.

This is so that Sage is fully functional even when not being run from within `sage-env`.  This continues what was done in #29038/#30563 for Maxima.

As this ticket removes some hard-coded paths depending on `SAGE_LOCAL` from sagelib, it will reduce the need for patching for downstream packaging.


---

Comment by mkoeppe created at 2020-12-06 18:17:38

Hoping we can make progress on this ticket this week - https://wiki.sagemath.org/days111


---

Comment by mkoeppe created at 2020-12-06 18:17:38

Changing keywords from "" to "sd111".


---

Comment by mkoeppe created at 2021-03-24 02:04:25

Sage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.
