# Issue 12364: Implementation of class for Linear Extensions of a finite Poset

Issue created by migration from Trac.

Original creator: aschilling

Original creation time: 2012-02-18 17:49:59

Assignee: sage-combinat

CC:  sage-combinat

Keywords: posets, linear extensions

This patch implements a class for linear extensions of a finite poset. It also add functionalities to the poset class, such as the promotion operator.


---

Comment by aschilling created at 2012-02-20 06:20:50

Changing status from new to needs_review.


---

Comment by hivert created at 2012-02-20 16:15:13

Hi Anne,

There are some problems with the doc:

```
/home/data/Sage-Install/sage-5.0.beta2/local/lib/python2.7/site-packages/sage/combinat/posets/posets.py:docstring of sage.combinat.posets.posets.FinitePoset.promotion:10: WARNING: Inline literal start-string without end-string.
/home/data/Sage-Install/sage-5.0.beta2/local/lib/python2.7/site-packages/sage/combinat/posets/posets.py:docstring of sage.combinat.posets.posets.FinitePoset.promotion:23: WARNING: Duplicate explicit target name: "stanley2009".
/home/data/Sage-Install/sage-5.0.beta2/local/lib/python2.7/site-packages/sage/combinat/posets/posets.py:docstring of sage.combinat.posets.posets.FinitePoset.promotion:23: WARNING: duplicate citation Stanley2009, other instance in /home/data/Sage-Install/sage-5.0.beta2/devel/sage/doc/en/reference/sage/combinat/posets/posets.rst
```

Note: if you cite the same paper in two different function, you should either put the reference at the beginning of the file and link to it, or put two different refs. I usually use the second methods which is not very satisfactory.


---

Comment by aschilling created at 2012-02-20 19:43:41

Hi Florent,

Thanks for looking at this. This should be fixed now in the new version of the patch. Also, /combinat/posets/linear_extensions should now appear in the documentation.

If you have comments on how to use ClonableIntArray, let me know!

Anne


---

Comment by aschilling created at 2012-02-22 06:11:47

Thanks Florent for your help (privately) with ClonableIntArray. The new patch is attached.

Anne


---

Comment by nthiery created at 2012-03-16 16:26:09

Changing status from needs_review to needs_work.


---

Comment by nthiery created at 2012-03-16 16:27:23

There were two failing doctests due to dependence of sageinspect's doctest on Poset. This dependence is removed in #12677.


---

Comment by aschilling created at 2012-03-16 18:52:23

Hi Nicolas,

Thanks for your review patch. I posted a new reviewer's patch on the sage-combinat queue. If you are satisfied I can fold everything and post it here.

Thanks,

Anne


---

Comment by aschilling created at 2012-03-19 21:56:08

Changing status from needs_work to needs_review.


---

Comment by aschilling created at 2012-03-27 07:09:40

Please review!

Thanks,

Anne


---

Comment by aschilling created at 2012-03-28 14:41:56

Hi Nicolas,

Any possibility to review this very soon to get this into sage-5.0? I would like to have this for Sage Days 38.

Thank you,

Anne


---

Comment by aschilling created at 2012-03-29 07:11:12

Comment by Nicolas: 

"If this suits you, please do the similar change in the evacuation
method, and add some example(s) with a Poset having arbitrary labels,
and that's good to go!"

I did those changes and fixed the last doc string failures.

So I am setting a positive review.

Anne


---

Comment by aschilling created at 2012-03-29 07:11:36

Changing status from needs_review to positive_review.


---

Comment by nthiery created at 2012-03-29 19:34:42

Changing status from positive_review to needs_work.


---

Comment by nthiery created at 2012-03-29 19:34:42

Replying to [comment:13 aschilling]:
> Comment by Nicolas: 
> 
> "If this suits you, please do the similar change in the evacuation
> method, and add some example(s) with a Poset having arbitrary labels,
> and that's good to go!"
> 
> I did those changes and fixed the last doc string failures.

Well, this comment was not exactly about *those* changes. But I am
indeed very happy with that final version, so ok for the positive
review! Thanks for your further work on that patch.

You will find on the sage-combinat patch server a reviewers patch with
some final suggestions of documentation improvements (beside some
minor details; it felt useful to pinpoint that the result of
evacuation and promotion was a poset). Fold in whatever you like,
throw away the rest, and set back a positive review on my behalf.

Cheers,
                           Nicolas


---

Comment by nthiery created at 2012-03-29 19:34:51

Changing status from needs_work to needs_review.


---

Comment by aschilling created at 2012-03-30 00:46:32

> You will find on the sage-combinat patch server a reviewers patch with
> some final suggestions of documentation improvements (beside some
> minor details; it felt useful to pinpoint that the result of
> evacuation and promotion was a poset). Fold in whatever you like,
> throw away the rest, and set back a positive review on my behalf.

Thank you for the reviewer's patch. I folded it and uploaded the new version
and set it back to positive review on your behalf.

Cheers,

Anne


---

Comment by aschilling created at 2012-03-30 00:46:52

Changing status from needs_review to positive_review.


---

Comment by nthiery created at 2012-03-30 07:12:39

Replying to [comment:17 aschilling]:
> I folded it and uploaded the new version
> and set it back to positive review on your behalf.

It's going to be a cool addition to Sage. Thanks for your hard work on that patch, and looking forward your talk at Sage Days 38 (and discussions on the topic before that)!

Cheers,
                           Nicolas


---

Attachment


---

Comment by aschilling created at 2012-04-12 05:40:40

I just moved one line in the code for efficiency. Tests still pass. Would it be possible to merge this patch soon for Sage Days 38?

Thank you,

Anne


---

Comment by nthiery created at 2012-04-12 22:41:09

Replying to [comment:20 aschilling]:
> I just moved one line in the code for efficiency. Tests still pass. Would it be possible to merge this patch soon for Sage Days 38?

For the record: I validate the change, and the relevant tests passed on my machine. The change is trivial enough that I see no reason why it could possibly break on other platforms.


---

Comment by nthiery created at 2012-04-19 10:37:00

Hi Jeroen,

Replying to [comment:22 jdemeyer]:
> Milestone changed from sage-5.0 to sage-5.1

We understand that the two following requests are quite antagonist,
yet we would very much appreciate if this patch (which is fairly
harmless) could be merged in 5.0, and 5.0 could be released
soon. Indeed, the implemented feature will be one of the themes of
Sage Days 38 (Anne will give a talk about them); so it would be
practical to have them in vanilla Sage.

If a choice has to be done between the two requests, then our
preference is for 5.0 to be released soon.

Thanks for your hard work!

                  Nicolas


---

Comment by jdemeyer created at 2012-04-19 10:44:34

Replying to [comment:23 nthiery]:
> we would very much appreciate if this patch (which is fairly
> harmless) could be merged in 5.0.
I don't think such a big patch can ever be harmless, but I'll try it.

> If a choice has to be done between the two requests
Certainly not, as this ticket is not likely to influence the release date of sage-5.0.

To be totally honest, I wouldn't count on sage-5.0 to be released by Sage Days 38.  It could be, but then we quickly need some progress with the blocker tickets.


---

Comment by nthiery created at 2012-04-19 10:50:05

Replying to [comment:24 jdemeyer]:
> I don't think such a big patch can ever be harmless, but I'll try it.

Thanks, I appreciate that! 

(by harmless, I mean't that it sure could be broken by itself, but by nature it's unlikely to have any influence any other parts of Sage, and thus break something preexisting without it getting detected by the testsuite)

> To be totally honest, I wouldn't count on sage-5.0 to be released by Sage Days 38.  It could be, but then we quickly need some progress with the blocker tickets.

Ok. At least one should be fixed soon: Florent just told me he found why the argspec had disapeared in the sphinx-compiled documentation :-)

Cheers,
                                          Nicolas


---

Comment by jdemeyer created at 2012-04-26 20:10:35

Resolution: fixed


---

Comment by aschilling created at 2012-04-26 20:48:27

Replying to [comment:26 jdemeyer]:

Thank you for merging the patch!!

Anne
