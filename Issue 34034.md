# Issue 34034: Update python3 to 3.10.6

Issue created by migration from https://trac.sagemath.org/ticket/34271

Original creator: mkoeppe

Original creation time: 2022-08-03 23:06:41

CC:  arojas dimpase

https://docs.python.org/3.10/whatsnew/changelog.html#changelog


---

Comment by mkoeppe created at 2022-08-03 23:54:37

New commits:


---

Comment by mkoeppe created at 2022-08-03 23:54:37

Changing status from new to needs_review.


---

Comment by mkoeppe created at 2022-08-03 23:54:37

Changing priority from major to minor.


---

Comment by git created at 2022-09-08 06:31:35

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by arojas created at 2022-09-08 13:33:10

The aforementioned change in 3.10.7 breaks a couple of tests:

```
**********************************************************************
File "/usr/lib/python3.10/site-packages/sage/interfaces/octave.py", line 171, in sage.interfaces.octave.Octave
Failed example:
    t = '"{}"'.format(10^10000)
Exception raised:
    Traceback (most recent call last):
      File "/usr/lib/python3.10/site-packages/sage/doctest/forker.py", line 695, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/usr/lib/python3.10/site-packages/sage/doctest/forker.py", line 1093, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.interfaces.octave.Octave[0]>", line 1, in <module>
        t = '"{}"'.format(Integer(10)**Integer(10000))
      File "sage/rings/integer.pyx", line 1129, in sage.rings.integer.Integer.__format__ (build/cythonized/sage/rings/integer.c:8955)
        return int(self).__format__(*args,**kwargs)
    ValueError: Exceeds the limit (4300) for integer string conversion
**********************************************************************
File "/usr/lib/python3.10/site-packages/sage/rings/integer.pyx", line 6748, in sage.rings.integer.Integer.inverse_mod
Failed example:
    c = a.inverse_mod(a*a)   # long time
Expected:
    Traceback (most recent call last):
    ...
    ZeroDivisionError: inverse of Mod(..., ...) does not exist
Got:
    <BLANKLINE>
    Traceback (most recent call last):
      File "/usr/lib/python3.10/site-packages/sage/doctest/forker.py", line 695, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/usr/lib/python3.10/site-packages/sage/doctest/forker.py", line 1093, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.rings.integer.Integer.inverse_mod[5]>", line 1, in <module>
        c = a.inverse_mod(a*a)   # long time
      File "sage/rings/integer.pyx", line 6774, in sage.rings.integer.Integer.inverse_mod (build/cythonized/sage/rings/integer.c:42059)
        raise ZeroDivisionError(f"inverse of Mod({self}, {m}) does not exist")
      File "sage/rings/integer.pyx", line 1129, in sage.rings.integer.Integer.__format__ (build/cythonized/sage/rings/integer.c:8955)
        return int(self).__format__(*args,**kwargs)
    ValueError: Exceeds the limit (4300) for integer string conversion
**********************************************************************


---

Comment by arojas created at 2022-09-08 13:33:10

Changing status from needs_review to needs_work.


---

Comment by mkoeppe created at 2022-09-08 16:06:59

I've opened the ticket #34506 because Sage will also be affected when system python 3.10.7 is in use


---

Comment by mkoeppe created at 2022-09-09 17:43:53

Changing status from needs_work to needs_review.


---

Comment by mkoeppe created at 2022-10-13 01:23:35

3.10.8 is out


---

Comment by git created at 2022-10-13 02:15:48

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by klee created at 2022-10-13 09:19:51

Simple upgrade. LGTM.


---

Comment by klee created at 2022-10-13 09:19:51

Changing priority from minor to major.


---

Comment by klee created at 2022-10-13 09:19:51

Changing status from needs_review to positive_review.


---

Comment by mkoeppe created at 2022-10-13 17:27:19

Thank you!


---

Comment by vbraun created at 2022-10-17 22:44:01

Resolution: fixed
