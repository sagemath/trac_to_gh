# Issue 14839: remove import of is_* in rings.all

archive/issues_014839.json:
```json
{
    "body": "CC:  ppurka ncohen\n\nKeywords: deprecation cleanup\n\nAs a big first step towards #14329, I propose to remove all imports of methods is_[A-Z] in sage/rings/all.py\n\nIssue created by migration from https://trac.sagemath.org/ticket/15076\n\n",
    "created_at": "2013-08-22T10:01:51Z",
    "labels": [
        "build",
        "major",
        "bug"
    ],
    "title": "remove import of is_* in rings.all",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14839",
    "user": "chapoton"
}
```
CC:  ppurka ncohen

Keywords: deprecation cleanup

As a big first step towards #14329, I propose to remove all imports of methods is_[A-Z] in sage/rings/all.py

Issue created by migration from https://trac.sagemath.org/ticket/15076





---

archive/issue_comments_189276.json:
```json
{
    "body": "This should be ok, unless I have made a mistake\n\nThis is a little \"patchbomb\", so it would be great if it could be reviewed quickly.",
    "created_at": "2013-08-22T10:06:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14839#issuecomment-189276",
    "user": "chapoton"
}
```

This should be ok, unless I have made a mistake

This is a little "patchbomb", so it would be great if it could be reviewed quickly.



---

archive/issue_comments_189277.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-08-22T10:06:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14839#issuecomment-189277",
    "user": "chapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_189278.json:
```json
{
    "body": "Well, I have only taken care of what happens at startup !\n\nThere probably remains many imports not triggered at startup.. \n\nLet us see what the bot says.",
    "created_at": "2013-08-22T10:07:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14839#issuecomment-189278",
    "user": "chapoton"
}
```

Well, I have only taken care of what happens at startup !

There probably remains many imports not triggered at startup.. 

Let us see what the bot says.



---

archive/issue_comments_189279.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2013-08-22T11:56:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14839#issuecomment-189279",
    "user": "chapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_189280.json:
```json
{
    "body": "I have made sure that tests pass in\n\n* schemes/elliptic_curves\n* combinat\n\nbut of course, there are many other places where to look ..",
    "created_at": "2013-08-22T11:56:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14839#issuecomment-189280",
    "user": "chapoton"
}
```

I have made sure that tests pass in

* schemes/elliptic_curves
* combinat

but of course, there are many other places where to look ..



---

archive/issue_comments_189281.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-08-22T13:51:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14839#issuecomment-189281",
    "user": "chapoton"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_189282.json:
```json
{
    "body": "ok, this should be ready for review. It would be great if the bot could run on the ticket..\n\n\napply trac_15076_remove_global_is_in_rings.patch",
    "created_at": "2013-08-22T13:51:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14839#issuecomment-189282",
    "user": "chapoton"
}
```

ok, this should be ready for review. It would be great if the bot could run on the ticket..


apply trac_15076_remove_global_is_in_rings.patch



---

archive/issue_comments_189283.json:
```json
{
    "body": "new version of the patch, that hopefully the bot will like",
    "created_at": "2013-08-25T09:44:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14839#issuecomment-189283",
    "user": "chapoton"
}
```

new version of the patch, that hopefully the bot will like



---

archive/issue_comments_189284.json:
```json
{
    "body": "apply only trac_15076_remove_global_is_in_rings.patch\u200b",
    "created_at": "2013-08-25T09:58:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14839#issuecomment-189284",
    "user": "chapoton"
}
```

apply only trac_15076_remove_global_is_in_rings.patchâ€‹



---

archive/issue_comments_189285.json:
```json
{
    "body": "apply only trac_15076_remove_global_is_in_rings.patch",
    "created_at": "2013-08-25T10:01:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14839#issuecomment-189285",
    "user": "chapoton"
}
```

apply only trac_15076_remove_global_is_in_rings.patch



---

archive/issue_comments_189286.json:
```json
{
    "body": "apply only trac_15076_remove_global_is_in_rings.patch",
    "created_at": "2013-08-25T12:18:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14839#issuecomment-189286",
    "user": "chapoton"
}
```

apply only trac_15076_remove_global_is_in_rings.patch



---

archive/issue_comments_189287.json:
```json
{
    "body": "Attachment\n\nreplaces previous patch",
    "created_at": "2013-08-25T12:22:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14839#issuecomment-189287",
    "user": "chapoton"
}
```

Attachment

replaces previous patch



---

archive/issue_comments_189288.json:
```json
{
    "body": "apply only trac_15076_remove_global_is_in_rings.patch",
    "created_at": "2013-08-25T12:23:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14839#issuecomment-189288",
    "user": "chapoton"
}
```

apply only trac_15076_remove_global_is_in_rings.patch



---

archive/issue_comments_189289.json:
```json
{
    "body": "Hey, the bot is happy ! Is there anybody wanting to review this patch ?",
    "created_at": "2013-08-25T13:12:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14839#issuecomment-189289",
    "user": "chapoton"
}
```

Hey, the bot is happy ! Is there anybody wanting to review this patch ?



---

archive/issue_comments_189290.json:
```json
{
    "body": "Oh. Well, if it is happy... `:-)`\n\nNathann",
    "created_at": "2013-09-03T12:32:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14839#issuecomment-189290",
    "user": "ncohen"
}
```

Oh. Well, if it is happy... `:-)`

Nathann



---

archive/issue_comments_189291.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-09-03T12:32:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14839#issuecomment-189291",
    "user": "ncohen"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_189292.json:
```json
{
    "body": "Hmmmmmmmm.... `O_o`\n\nActually I wonder if those methods shouldn't be deprecated first, as those who used them may not know where they moved... `O_o`\n\nI used ``deprecated_callable_import`` in #14499, isn't it what should be used there too ?\n\nNathann",
    "created_at": "2013-09-03T12:35:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14839#issuecomment-189292",
    "user": "ncohen"
}
```

Hmmmmmmmm.... `O_o`

Actually I wonder if those methods shouldn't be deprecated first, as those who used them may not know where they moved... `O_o`

I used ``deprecated_callable_import`` in #14499, isn't it what should be used there too ?

Nathann



---

archive/issue_comments_189293.json:
```json
{
    "body": "Changing status from positive_review to needs_info.",
    "created_at": "2013-09-03T12:35:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14839#issuecomment-189293",
    "user": "ncohen"
}
```

Changing status from positive_review to needs_info.



---

archive/issue_comments_189294.json:
```json
{
    "body": "These were deprecated for many years. Try them in vanilla sage.",
    "created_at": "2013-09-03T14:58:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14839#issuecomment-189294",
    "user": "ppurka"
}
```

These were deprecated for many years. Try them in vanilla sage.



---

archive/issue_comments_189295.json:
```json
{
    "body": "Oh I see ! But then why don't we just remove the deprecated version of the functions too ? It looks like the deprecated functions are not in the namespace anymore, but that they are still defined -- and deprecated somewhere `O_o` ?\n\nNathann",
    "created_at": "2013-09-03T16:35:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14839#issuecomment-189295",
    "user": "ncohen"
}
```

Oh I see ! But then why don't we just remove the deprecated version of the functions too ? It looks like the deprecated functions are not in the namespace anymore, but that they are still defined -- and deprecated somewhere `O_o` ?

Nathann



---

archive/issue_comments_189296.json:
```json
{
    "body": "What do you mean ?\n\nThese functions are not deprecated, it's their import in the global namespace that is.\n\nBy the way, even after these patch, some of them will still be imported in the global namespace, and a follow-up ticket will be needed. I prefer to proceed step-by-step.",
    "created_at": "2013-09-03T18:38:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14839#issuecomment-189296",
    "user": "chapoton"
}
```

What do you mean ?

These functions are not deprecated, it's their import in the global namespace that is.

By the way, even after these patch, some of them will still be imported in the global namespace, and a follow-up ticket will be needed. I prefer to proceed step-by-step.



---

archive/issue_comments_189297.json:
```json
{
    "body": "Oh. Well, what I wondered is which part of the code deprecated the version of these `is_*` functions that appears in the global namespace. I wondered why this code would not be removed by the current patch.\n\nBut I just noticed that it was actually a global piece of code, which deprecated all these `is_*` functions together, and thus is not to be removed by this patch.\n\nAnyway : all is good, and this patch can go. My excuses for the delay `;-)`\n\nNathann",
    "created_at": "2013-09-04T12:19:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14839#issuecomment-189297",
    "user": "ncohen"
}
```

Oh. Well, what I wondered is which part of the code deprecated the version of these `is_*` functions that appears in the global namespace. I wondered why this code would not be removed by the current patch.

But I just noticed that it was actually a global piece of code, which deprecated all these `is_*` functions together, and thus is not to be removed by this patch.

Anyway : all is good, and this patch can go. My excuses for the delay `;-)`

Nathann



---

archive/issue_comments_189298.json:
```json
{
    "body": "Changing status from needs_info to positive_review.",
    "created_at": "2013-09-04T12:19:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14839#issuecomment-189298",
    "user": "ncohen"
}
```

Changing status from needs_info to positive_review.



---

archive/issue_comments_189299.json:
```json
{
    "body": "(and here is where this global piece of code was added, just in case somebody else would like to know : #10107)",
    "created_at": "2013-09-04T12:20:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14839#issuecomment-189299",
    "user": "ncohen"
}
```

(and here is where this global piece of code was added, just in case somebody else would like to know : #10107)



---

archive/issue_comments_189300.json:
```json
{
    "body": "Thanks for looking into this Nathann. I really didn't get time to dig into this patch.",
    "created_at": "2013-09-04T12:34:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14839#issuecomment-189300",
    "user": "ppurka"
}
```

Thanks for looking into this Nathann. I really didn't get time to dig into this patch.



---

archive/issue_comments_189301.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-10-19T09:20:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14839#issuecomment-189301",
    "user": "jdemeyer"
}
```

Resolution: fixed
