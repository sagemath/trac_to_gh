# Issue 12726: Update top-level README.txt

archive/issues_012726.json:
```json
{
    "body": "Assignee: mvngu\n\nCC:  drkirkby\n\nThe file `$SAGE_ROOT/README.txt` still says you need a fortran compiler, except on OSX, with no\nmention of the gcc package, or how one might use or disable it.\n\nIssue created by migration from https://trac.sagemath.org/ticket/12898\n\n",
    "created_at": "2012-05-02T07:10:43Z",
    "labels": [
        "documentation",
        "blocker",
        "bug"
    ],
    "title": "Update top-level README.txt",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12726",
    "user": "jdemeyer"
}
```
Assignee: mvngu

CC:  drkirkby

The file `$SAGE_ROOT/README.txt` still says you need a fortran compiler, except on OSX, with no
mention of the gcc package, or how one might use or disable it.

Issue created by migration from https://trac.sagemath.org/ticket/12898





---

archive/issue_comments_152440.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-05-02T09:47:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12726#issuecomment-152440",
    "user": "jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_152441.json:
```json
{
    "body": "This is a first attempt.",
    "created_at": "2012-05-02T09:47:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12726#issuecomment-152441",
    "user": "jdemeyer"
}
```

This is a first attempt.



---

archive/issue_comments_152442.json:
```json
{
    "body": "This doesn't make sense.\n\n```\nSince includes a GCC (GNU Compiler Collection) package.  In order to \n```\n\nTrivial to fix but I don't know exactly what wording you want here.  Maybe just one sentence instead of two?  Anyway, the first sentence has no verb.",
    "created_at": "2012-05-02T13:03:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12726#issuecomment-152442",
    "user": "kcrisman"
}
```

This doesn't make sense.

```
Since includes a GCC (GNU Compiler Collection) package.  In order to 
```

Trivial to fix but I don't know exactly what wording you want here.  Maybe just one sentence instead of two?  Anyway, the first sentence has no verb.



---

archive/issue_comments_152443.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-05-02T13:03:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12726#issuecomment-152443",
    "user": "kcrisman"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_152444.json:
```json
{
    "body": "Replying to [comment:2 kcrisman]:\n> Anyway, the first sentence has no verb.\n\"includes\" is a verb :-)",
    "created_at": "2012-05-02T14:44:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12726#issuecomment-152444",
    "user": "jdemeyer"
}
```

Replying to [comment:2 kcrisman]:
> Anyway, the first sentence has no verb.
"includes" is a verb :-)



---

archive/issue_comments_152445.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-05-02T14:45:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12726#issuecomment-152445",
    "user": "jdemeyer"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_152446.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-05-02T16:47:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12726#issuecomment-152446",
    "user": "was"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_152447.json:
```json
{
    "body": "It looks good to me.",
    "created_at": "2012-05-02T16:47:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12726#issuecomment-152447",
    "user": "was"
}
```

It looks good to me.



---

archive/issue_comments_152448.json:
```json
{
    "body": "Aah!  I was in the process of submitting...\n\nFor reference:\n----\n> > Anyway, the first sentence has no verb.\n> \"includes\" is a verb :-)\nMain verb, yes.\n\nQuestions/comments:\n* Some things I kind of get are true from previous tickets (3 GB, changing to `--optional` from `-optional` and so forth) but I don't actually *know* they are true; I guess I should just trust the author?  ;-)\n* So Sage compiles with Sun compilers on Solaris now because we build and use GCC?  I don't remember reading that but haven't been paying close attention to the thread, seems plausible.\n* I understand that the `v` flag for untarring is optional, but if you remove that flag, then you should probably tell the user how long they should expect to wait for Sage to untar.  It takes a **long** time (I've done this with a student on a couple occasions and we weren't sure if the connection had timed out!), and I would expect that some of the spkgs inside Sage likewise take at least more than a couple minutes to untar - ?\n\nBut in general this looks good and applies properly etc.  Positive review?  I can't take responsibility for every one of the little changes, like the comment about Ubuntu 12.04, obviously, so I hesitate... but seems like it's ready and certainly helpful.",
    "created_at": "2012-05-02T16:50:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12726#issuecomment-152448",
    "user": "kcrisman"
}
```

Aah!  I was in the process of submitting...

For reference:
----
> > Anyway, the first sentence has no verb.
> "includes" is a verb :-)
Main verb, yes.

Questions/comments:
* Some things I kind of get are true from previous tickets (3 GB, changing to `--optional` from `-optional` and so forth) but I don't actually *know* they are true; I guess I should just trust the author?  ;-)
* So Sage compiles with Sun compilers on Solaris now because we build and use GCC?  I don't remember reading that but haven't been paying close attention to the thread, seems plausible.
* I understand that the `v` flag for untarring is optional, but if you remove that flag, then you should probably tell the user how long they should expect to wait for Sage to untar.  It takes a **long** time (I've done this with a student on a couple occasions and we weren't sure if the connection had timed out!), and I would expect that some of the spkgs inside Sage likewise take at least more than a couple minutes to untar - ?

But in general this looks good and applies properly etc.  Positive review?  I can't take responsibility for every one of the little changes, like the comment about Ubuntu 12.04, obviously, so I hesitate... but seems like it's ready and certainly helpful.



---

archive/issue_comments_152449.json:
```json
{
    "body": "Replying to [comment:6 kcrisman]:\n>  So Sage compiles with Sun compilers on Solaris now because we build and use GCC?\nExactly.  It's even tested on the buildbot (on i386 OpenSolaris at least).\n\n>  I understand that the `v` flag for untarring is optional, but if you remove that flag, then you should probably tell the user how long they should expect to wait for Sage to untar.  It takes a **long** time (I've done this with a student on a couple occasions and we weren't sure if the connection had timed out!), and I would expect that some of the spkgs inside Sage likewise take at least more than a couple minutes to untar - ?\nFair enough, I added back that flag.",
    "created_at": "2012-05-02T17:46:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12726#issuecomment-152449",
    "user": "jdemeyer"
}
```

Replying to [comment:6 kcrisman]:
>  So Sage compiles with Sun compilers on Solaris now because we build and use GCC?
Exactly.  It's even tested on the buildbot (on i386 OpenSolaris at least).

>  I understand that the `v` flag for untarring is optional, but if you remove that flag, then you should probably tell the user how long they should expect to wait for Sage to untar.  It takes a **long** time (I've done this with a student on a couple occasions and we weren't sure if the connection had timed out!), and I would expect that some of the spkgs inside Sage likewise take at least more than a couple minutes to untar - ?
Fair enough, I added back that flag.



---

archive/issue_comments_152450.json:
```json
{
    "body": "> >  I understand that the `v` flag for untarring is optional, but if you remove that flag, then you should probably tell the user how long they should expect to wait for Sage to untar.  It takes a **long** time (I've done this with a student on a couple occasions and we weren't sure if the connection had timed out!), and I would expect that some of the spkgs inside Sage likewise take at least more than a couple minutes to untar - ?\n> Fair enough, I added back that flag.\nEither that or a clarification without `-v` is fine, I just wasn't sure if there was some other reason to get rid of that flag (e.g., the verbosity for some with a lot of image files is VERY verbose).   I assume the `-xj` and `-jx` switch is because the mandatory flag is supposed to come first?  I know little of such things but that seems plausible.\n\nNice that we can build more places.  I wonder if Sage would even build with other compilers, then... say, on Windows or some other Unices... but probably not, due to other issues like linkers etc.?  (About which I also know nothing, but it's fun to speculate.)",
    "created_at": "2012-05-03T01:11:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12726#issuecomment-152450",
    "user": "kcrisman"
}
```

> >  I understand that the `v` flag for untarring is optional, but if you remove that flag, then you should probably tell the user how long they should expect to wait for Sage to untar.  It takes a **long** time (I've done this with a student on a couple occasions and we weren't sure if the connection had timed out!), and I would expect that some of the spkgs inside Sage likewise take at least more than a couple minutes to untar - ?
> Fair enough, I added back that flag.
Either that or a clarification without `-v` is fine, I just wasn't sure if there was some other reason to get rid of that flag (e.g., the verbosity for some with a lot of image files is VERY verbose).   I assume the `-xj` and `-jx` switch is because the mandatory flag is supposed to come first?  I know little of such things but that seems plausible.

Nice that we can build more places.  I wonder if Sage would even build with other compilers, then... say, on Windows or some other Unices... but probably not, due to other issues like linkers etc.?  (About which I also know nothing, but it's fun to speculate.)



---

archive/issue_comments_152451.json:
```json
{
    "body": "Is is true that *\"Each spkg in $SAGE_ROOT/spkg/standard/ is a bzip'd tarball\"*, as stated? I doubt the bzip2 package is. I think that is an uncompressed tarball. I'm not sure if there are any others either. \n\nAlso, I don't know why anyone puts **-xfj** or similar, when **xfj** will do. Tar is not defined by POSIX, so it's impossible to give an authoritative answer, but every tar program I have ever used, does not need the minus sign. The use of x (to extract), c (to create), t (to view), u (to update) or r (to replace) are not options. You **must** have one of them. Since they are not options, you don't need the minus sign. The **j** is an option, but GNU tar does not require the minus sign. So one might as well save a bit of wear on the keyboard, and not put the minus sign. \n\nI thought GNU tar was supposed to be a requirement to build Sage. In which case, one might as well drop the **j** too, since GNU tar will work out for itself that the file is compressed or not. If it's compressed, it will silently uncompress it. \n\nDave",
    "created_at": "2012-05-05T10:06:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12726#issuecomment-152451",
    "user": "drkirkby"
}
```

Is is true that *"Each spkg in $SAGE_ROOT/spkg/standard/ is a bzip'd tarball"*, as stated? I doubt the bzip2 package is. I think that is an uncompressed tarball. I'm not sure if there are any others either. 

Also, I don't know why anyone puts **-xfj** or similar, when **xfj** will do. Tar is not defined by POSIX, so it's impossible to give an authoritative answer, but every tar program I have ever used, does not need the minus sign. The use of x (to extract), c (to create), t (to view), u (to update) or r (to replace) are not options. You **must** have one of them. Since they are not options, you don't need the minus sign. The **j** is an option, but GNU tar does not require the minus sign. So one might as well save a bit of wear on the keyboard, and not put the minus sign. 

I thought GNU tar was supposed to be a requirement to build Sage. In which case, one might as well drop the **j** too, since GNU tar will work out for itself that the file is compressed or not. If it's compressed, it will silently uncompress it. 

Dave



---

archive/issue_comments_152452.json:
```json
{
    "body": "Replying to [comment:10 drkirkby]:\n> Is is true that *\"Each spkg in $SAGE_ROOT/spkg/standard/ is a bzip'd tarball\"*, as stated? I doubt the bzip2 package is. I think that is an uncompressed tarball. I'm not sure if there are any others either.\n`bzip2` is gzip-compressed, the other packages are all bzip2-compressed.",
    "created_at": "2012-05-05T20:57:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12726#issuecomment-152452",
    "user": "jdemeyer"
}
```

Replying to [comment:10 drkirkby]:
> Is is true that *"Each spkg in $SAGE_ROOT/spkg/standard/ is a bzip'd tarball"*, as stated? I doubt the bzip2 package is. I think that is an uncompressed tarball. I'm not sure if there are any others either.
`bzip2` is gzip-compressed, the other packages are all bzip2-compressed.



---

archive/issue_comments_152453.json:
```json
{
    "body": "David, I made some changes you suggested.  Please review.",
    "created_at": "2012-05-05T21:31:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12726#issuecomment-152453",
    "user": "jdemeyer"
}
```

David, I made some changes you suggested.  Please review.



---

archive/issue_comments_152454.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2012-05-05T21:31:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12726#issuecomment-152454",
    "user": "jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_152455.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-05-05T21:32:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12726#issuecomment-152455",
    "user": "jdemeyer"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_152456.json:
```json
{
    "body": "new version says :\n\"recent and equal versions of gcc, g++ and gfortran.\" \n\nIt is not clear what \"equal\" means here...",
    "created_at": "2012-05-07T16:11:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12726#issuecomment-152456",
    "user": "dimpase"
}
```

new version says :
"recent and equal versions of gcc, g++ and gfortran." 

It is not clear what "equal" means here...



---

archive/issue_comments_152457.json:
```json
{
    "body": "Clarified:\n\n```\nIf you don't want to install GCC, you need to have recent\nversions of gcc, g++ and gfortran; moreover, the versions must be equal.\n```\n",
    "created_at": "2012-05-07T18:33:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12726#issuecomment-152457",
    "user": "jdemeyer"
}
```

Clarified:

```
If you don't want to install GCC, you need to have recent
versions of gcc, g++ and gfortran; moreover, the versions must be equal.
```




---

archive/issue_comments_152458.json:
```json
{
    "body": "I think the double space looks a bit too much like emacs, and I removed it. I also made the link to the environment variable page more visible, and I removed the dash in the second tar command, just to be a bit more consequent (the other was removed as well).\n\nApart from this the changes look good.",
    "created_at": "2012-05-07T22:09:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12726#issuecomment-152458",
    "user": "mraum"
}
```

I think the double space looks a bit too much like emacs, and I removed it. I also made the link to the environment variable page more visible, and I removed the dash in the second tar command, just to be a bit more consequent (the other was removed as well).

Apart from this the changes look good.



---

archive/issue_comments_152459.json:
```json
{
    "body": "I made some further changes:\n\n```patch\ndiff --git a/README.txt b/README.txt\n--- a/README.txt\n+++ b/README.txt\n@@ -69,12 +69,12 @@\n\n 1. Make sure you have the dependencies and 3 GB of free disk space.\n\n-   Linux: GCC, make, m4, perl, ranlib, and tar.\n+   Linux: gcc, make, m4, perl, ranlib, and tar.\n    (install these using your package manager)\n    On recent Debian or Ubuntu systems (in particular Ubuntu 12.04\n    \"Precise\"), you need the dpkg-dev package.\n\n-   OS X: Xcode.  Make sure you have installed the most recent version\n+   OS X: Xcode. Make sure you have installed the most recent version\n    of Xcode. For pre-Lion versions of OS X, you can download Xcode\n    from http://developer.apple.com/downloads/. For OS X Lion, you can\n    install it using the App Store. With Xcode 4.3 or later, you need\n@@ -112,12 +112,12 @@\n\n On Linux, if you get this error message:\n\n-    \" restore segment prot after reloc: Permission denied \"\n+    Error: cannot restore segment prot after reloc: Permission denied\n\n the problem is probably related to SELinux. See the following URL for\n further information:\n\n-    http://www.ittvis.com/services/techtip.asp?ttid=3092\n+    http://www.exelisvis.com/Support/HelpArticleDetail/ArticleId/3092.aspx\n\n\n IMPLEMENTATION\n@@ -184,17 +184,15 @@\n        export SAGE_CHECK=\"yes\"\n\n    before starting the Sage build. This will run each test suite and\n-   will raise an error if any failures occur.  Warning: on many\n-   platforms, this will cause failures in the installation of the\n-   Python spkg, so Python's test suite has been disabled by default.\n-   To renable it, set the environment variable SAGE_CHECK_PACKAGES to\n-   'python'.\n-\n+   will raise an error if any failures occur. Python's test suite has\n+   been disabled by default, because it causes failures on most\n+   systems. To renable the Python testsuite, set the environment\n+   variable SAGE_CHECK_PACKAGES to \"python\".\n+\n    To start the build, type:\n\n        make\n\n-\n 4. Wait about 1 hour to 14 days, depending on your computer (it took\n    about 2 weeks to build Sage on the T-Mobile G1 Android cell phone).\n\n@@ -265,7 +263,7 @@\n\n Sage includes a GCC (GNU Compiler Collection) package. In order to\n build Sage, you need a C compiler which can build GCC and its\n-prerequisites. GCC version 4.0.1 or later should probably work. On\n+prerequisites. gcc version 4.0.1 or later should probably work. On\n Solaris or OpenSolaris, building with the Sun compiler should also work.\n\n The GCC package in Sage is not always installed. It is determined\n```\n",
    "created_at": "2012-05-08T06:59:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12726#issuecomment-152459",
    "user": "jdemeyer"
}
```

I made some further changes:

```patch
diff --git a/README.txt b/README.txt
--- a/README.txt
+++ b/README.txt
@@ -69,12 +69,12 @@

 1. Make sure you have the dependencies and 3 GB of free disk space.

-   Linux: GCC, make, m4, perl, ranlib, and tar.
+   Linux: gcc, make, m4, perl, ranlib, and tar.
    (install these using your package manager)
    On recent Debian or Ubuntu systems (in particular Ubuntu 12.04
    "Precise"), you need the dpkg-dev package.

-   OS X: Xcode.  Make sure you have installed the most recent version
+   OS X: Xcode. Make sure you have installed the most recent version
    of Xcode. For pre-Lion versions of OS X, you can download Xcode
    from http://developer.apple.com/downloads/. For OS X Lion, you can
    install it using the App Store. With Xcode 4.3 or later, you need
@@ -112,12 +112,12 @@

 On Linux, if you get this error message:

-    " restore segment prot after reloc: Permission denied "
+    Error: cannot restore segment prot after reloc: Permission denied

 the problem is probably related to SELinux. See the following URL for
 further information:

-    http://www.ittvis.com/services/techtip.asp?ttid=3092
+    http://www.exelisvis.com/Support/HelpArticleDetail/ArticleId/3092.aspx


 IMPLEMENTATION
@@ -184,17 +184,15 @@
        export SAGE_CHECK="yes"

    before starting the Sage build. This will run each test suite and
-   will raise an error if any failures occur.  Warning: on many
-   platforms, this will cause failures in the installation of the
-   Python spkg, so Python's test suite has been disabled by default.
-   To renable it, set the environment variable SAGE_CHECK_PACKAGES to
-   'python'.
-
+   will raise an error if any failures occur. Python's test suite has
+   been disabled by default, because it causes failures on most
+   systems. To renable the Python testsuite, set the environment
+   variable SAGE_CHECK_PACKAGES to "python".
+
    To start the build, type:

        make

-
 4. Wait about 1 hour to 14 days, depending on your computer (it took
    about 2 weeks to build Sage on the T-Mobile G1 Android cell phone).

@@ -265,7 +263,7 @@

 Sage includes a GCC (GNU Compiler Collection) package. In order to
 build Sage, you need a C compiler which can build GCC and its
-prerequisites. GCC version 4.0.1 or later should probably work. On
+prerequisites. gcc version 4.0.1 or later should probably work. On
 Solaris or OpenSolaris, building with the Sun compiler should also work.

 The GCC package in Sage is not always installed. It is determined
```




---

archive/issue_comments_152460.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-05-08T07:19:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12726#issuecomment-152460",
    "user": "mraum"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_152461.json:
```json
{
    "body": "Attachment [12898_readme.patch](tarball://root/attachments/some-uuid/ticket12898/12898_readme.patch) by mraum created at 2012-05-08 07:19:53\n\nLooks good now.",
    "created_at": "2012-05-08T07:19:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12726#issuecomment-152461",
    "user": "mraum"
}
```

Attachment [12898_readme.patch](tarball://root/attachments/some-uuid/ticket12898/12898_readme.patch) by mraum created at 2012-05-08 07:19:53

Looks good now.



---

archive/issue_comments_152462.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2012-05-08T20:30:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12726#issuecomment-152462",
    "user": "jdemeyer"
}
```

Resolution: fixed
