# Issue 15259: Incorrect result for divergent integral

Issue created by migration from Trac.

Original creator: ppurka

Original creation time: 2013-12-09 12:00:32

CC:  kcrisman jakobkroeker slelievre vklein rws tscrim

From google spreadsheet which no one reads `X-(`


```
sage: integrate(x^2/exp(-1/(x^2+1))/(x^2+1),(x,-infinity,infinity)).n()
-3.3357920860949157
```


Wolfram alpha [gives the correct answer](http://www.wolframalpha.com/input/?i=integrate+x<sup>2/exp(-1/(x</sup>2%2B1))/(x^2%2B1)+from+-infinity+to+infinity).


---

Comment by kcrisman created at 2013-12-09 18:09:43

This is not a symbolic Maxima problem, as the integral is just returned, so it's something about how we evaluate `n` on these unevaluated integrals.


---

Comment by chapoton created at 2020-06-24 20:15:52

Changing status from new to needs_review.


---

Comment by chapoton created at 2020-06-24 20:15:52

here is a proposal : check that the limit is zero before doing the numerical integral
----
New commits:


---

Comment by chapoton created at 2020-06-25 06:17:51

green bot, please review


---

Comment by tscrim created at 2020-07-02 03:32:32

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2020-07-02 03:32:32

LGTM.


---

Comment by mkoeppe created at 2020-07-08 23:18:12

Resolution: fixed


---

Comment by mkoeppe created at 2020-07-08 23:18:12

These have been merged into 9.2.beta4
