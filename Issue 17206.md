# Issue 17206: abs(matrix) should not be a shortcut for det

Issue created by migration from https://trac.sagemath.org/ticket/17443

Original creator: vdelecroix

Original creation time: 2014-12-04 07:31:26

We have currently

```
sage: M = matrix([[-1]])
sage: abs(M)
-1
```

Because `matrix.__abs__` is a shortcut for determinant!!

Like it is now in scipy, `__abs__` will be changed to return the matrix that consists of all the absolute values of the coefficients.


---

Comment by vdelecroix created at 2014-12-04 07:51:04

New commits:


---

Comment by vdelecroix created at 2014-12-04 07:51:04

Changing status from new to needs_review.


---

Comment by ncohen created at 2014-12-04 08:52:32

Crazy `O_o`

I will run the tests and see if it breaks anything.

Why do you make "abs" an alias for `__abs__` ? If you believe that it is worth adding a function (given that `abs(M)` works I do not understand why it would be), can you make it `.absolute_value` ? We try to not have full names for methods.

Nathann


---

Comment by vdelecroix created at 2014-12-04 08:56:18

No hurry. Discussion going on on sage-devel...


---

Comment by jdemeyer created at 2014-12-04 15:01:53

The discussions seem to indicate a preference for deprecating `__abs__`.


---

Comment by jdemeyer created at 2014-12-04 15:01:53

Changing status from needs_review to needs_work.


---

Comment by ncohen created at 2014-12-04 16:49:46

> The discussions seem to indicate a preference for deprecating `__abs__`.

Yesyes, this seems to be the wisest thing to do indeed.

Nathann


---

Comment by git created at 2014-12-05 06:53:42

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by vdelecroix created at 2014-12-05 06:55:51

Changing status from needs_work to needs_review.


---

Comment by jdemeyer created at 2014-12-05 09:30:14

Changing status from needs_review to needs_work.


---

Comment by jdemeyer created at 2014-12-05 09:30:14

This should be a [deprecation](http://www.sagemath.org/doc/developer/coding_in_python.html#deprecation), not an error.


---

Comment by git created at 2014-12-06 12:50:31

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by vdelecroix created at 2014-12-06 12:51:11

All right, it is now a deprecation...


---

Comment by vdelecroix created at 2014-12-06 12:51:11

Changing status from needs_work to needs_review.


---

Comment by ncohen created at 2014-12-11 03:14:51

Passes all tests, so positive review.

Do you know of a tool to detect that you only "moved" the code of those two big functions ?

I found no way to do this, so in order to check your patch I moved what you wrote in matrix2 back to matrix_dense, only to see as it was detected as "leaving those function as they were" when merged with your patch.

Nathann


---

Comment by ncohen created at 2014-12-11 03:14:51

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2014-12-15 13:31:30

Resolution: fixed
