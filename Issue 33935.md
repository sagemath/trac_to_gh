# Issue 33935: Fix docstring markup in sage/groups and sage/misc

archive/issues_033935.json:
```json
{
    "body": "CC:  mkoeppe\n\n\n```\nsage/groups/cubic_braid.py:1379:1: RST301 Unexpected indentation.\nsage/groups/cubic_braid.py:1381:1: RST201 Block quote ends without a blank line; unexpected unindent.\nsage/misc/sagedoc.py:594:1: RST214 Inline literal start-string without end-string.\nsage/misc/sagedoc.py:670:1: RST214 Inline literal start-string without end-string.\nsage/misc/profiler.py:63:1: RST303 Unknown directive type \"todo\".\nsage/misc/sage_input.py:1840:1: RST215 Inline interpreted text or phrase reference start-string without end-string.\nsage/misc/sage_input.py:1843:1: RST215 Inline interpreted text or phrase reference start-string without end-string.\nsage/misc/sage_input.py:2139:1: RST215 Inline interpreted text or phrase reference start-string without end-string.\nsage/misc/sage_input.py:2248:1: RST215 Inline interpreted text or phrase reference start-string without end-string.\nsage/misc/call.py:112:1: RST205 Explicit markup ends without a blank line; unexpected unindent.\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/34172\n\n",
    "created_at": "2022-07-12T06:19:14Z",
    "labels": [
        "documentation",
        "major",
        "bug"
    ],
    "title": "Fix docstring markup in sage/groups and sage/misc",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/33935",
    "user": "klee"
}
```
CC:  mkoeppe


```
sage/groups/cubic_braid.py:1379:1: RST301 Unexpected indentation.
sage/groups/cubic_braid.py:1381:1: RST201 Block quote ends without a blank line; unexpected unindent.
sage/misc/sagedoc.py:594:1: RST214 Inline literal start-string without end-string.
sage/misc/sagedoc.py:670:1: RST214 Inline literal start-string without end-string.
sage/misc/profiler.py:63:1: RST303 Unknown directive type "todo".
sage/misc/sage_input.py:1840:1: RST215 Inline interpreted text or phrase reference start-string without end-string.
sage/misc/sage_input.py:1843:1: RST215 Inline interpreted text or phrase reference start-string without end-string.
sage/misc/sage_input.py:2139:1: RST215 Inline interpreted text or phrase reference start-string without end-string.
sage/misc/sage_input.py:2248:1: RST215 Inline interpreted text or phrase reference start-string without end-string.
sage/misc/call.py:112:1: RST205 Explicit markup ends without a blank line; unexpected unindent.
```


Issue created by migration from https://trac.sagemath.org/ticket/34172





---

archive/issue_comments_481963.json:
```json
{
    "body": "I don't understand these:\n\n```\nsage/misc/sagedoc.py:594:1: RST214 Inline literal start-string without end-string.\nsage/misc/sagedoc.py:670:1: RST214 Inline literal start-string without end-string.\n```\n\nThey seem to come from ```noreplace```: if I change the text \"noreplace\" to anything else, the error goes away. I can make the change ```noreplace`` -> ``\"noreplace\"``` to \"fix\" it, but I don't know what's going on.",
    "created_at": "2022-07-12T22:20:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33935",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33935#issuecomment-481963",
    "user": "jhpalmieri"
}
```

I don't understand these:

```
sage/misc/sagedoc.py:594:1: RST214 Inline literal start-string without end-string.
sage/misc/sagedoc.py:670:1: RST214 Inline literal start-string without end-string.
```

They seem to come from ```noreplace```: if I change the text "noreplace" to anything else, the error goes away. I can make the change ```noreplace`` -> ``"noreplace"``` to "fix" it, but I don't know what's going on.



---

archive/issue_comments_481964.json:
```json
{
    "body": "noreplace seems to be our own directiev, as explained in the very same file.\n\nBest solution should be to exclude this file from the rst validator.\n----\nNew commits:",
    "created_at": "2022-07-13T10:22:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33935",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33935#issuecomment-481964",
    "user": "chapoton"
}
```

noreplace seems to be our own directiev, as explained in the very same file.

Best solution should be to exclude this file from the rst validator.
----
New commits:



---

archive/issue_comments_481965.json:
```json
{
    "body": "hmm, at second thought, the problem is not in the first line of the doc. Strange indeed.",
    "created_at": "2022-07-13T10:25:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33935",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33935#issuecomment-481965",
    "user": "chapoton"
}
```

hmm, at second thought, the problem is not in the first line of the doc. Strange indeed.



---

archive/issue_comments_481966.json:
```json
{
    "body": "Does the validator use any of Sage's code, or does it just use `flake8-rst-docstrings`? I really don't understand why `noreplace` is causing problems. (And the actual documentation looks fine.)",
    "created_at": "2022-07-13T15:55:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33935",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33935#issuecomment-481966",
    "user": "jhpalmieri"
}
```

Does the validator use any of Sage's code, or does it just use `flake8-rst-docstrings`? I really don't understand why `noreplace` is causing problems. (And the actual documentation looks fine.)



---

archive/issue_comments_481967.json:
```json
{
    "body": "Replying to [comment:6 jhpalmieri]:\n> Does the validator use any of Sage's code, or does it just use `flake8-rst-docstrings`? \n\nOnly `flake8-rst-docstrings` with customization in src/tox.ini [flake8]",
    "created_at": "2022-07-13T16:08:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33935",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33935#issuecomment-481967",
    "user": "mkoeppe"
}
```

Replying to [comment:6 jhpalmieri]:
> Does the validator use any of Sage's code, or does it just use `flake8-rst-docstrings`? 

Only `flake8-rst-docstrings` with customization in src/tox.ini [flake8]



---

archive/issue_comments_481968.json:
```json
{
    "body": "Then I really have no idea what's going on with `noreplace`.",
    "created_at": "2022-07-13T17:05:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33935",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33935#issuecomment-481968",
    "user": "jhpalmieri"
}
```

Then I really have no idea what's going on with `noreplace`.



---

archive/issue_comments_481969.json:
```json
{
    "body": "Replying to [comment:4 chapoton]:\n> noreplace seems to be our own directiev, as explained in the very same file.\n> \n> Best solution should be to exclude this file from the rst validator.\n\nhttps://flake8.pycqa.org/en/3.1.1/user/ignoring-errors.html#in-line-ignoring-errors\n\nhttps://flake8.pycqa.org/en/3.1.1/user/ignoring-errors.html#ignoring-entire-files",
    "created_at": "2022-07-13T17:55:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33935",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33935#issuecomment-481969",
    "user": "mkoeppe"
}
```

Replying to [comment:4 chapoton]:
> noreplace seems to be our own directiev, as explained in the very same file.
> 
> Best solution should be to exclude this file from the rst validator.

https://flake8.pycqa.org/en/3.1.1/user/ignoring-errors.html#in-line-ignoring-errors

https://flake8.pycqa.org/en/3.1.1/user/ignoring-errors.html#ignoring-entire-files



---

archive/issue_comments_481970.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2022-07-13T18:16:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33935",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33935#issuecomment-481970",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_481971.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-07-13T18:18:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33935",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33935#issuecomment-481971",
    "user": "jhpalmieri"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_481972.json:
```json
{
    "body": "Let's ignore that file, then. (I can't figure out how to ignore a line in a docstring without the \"# noqa ...\" appearing in the documentation.)",
    "created_at": "2022-07-13T18:18:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33935",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33935#issuecomment-481972",
    "user": "jhpalmieri"
}
```

Let's ignore that file, then. (I can't figure out how to ignore a line in a docstring without the "# noqa ..." appearing in the documentation.)



---

archive/issue_comments_481973.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-07-13T19:31:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33935",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33935#issuecomment-481973",
    "user": "mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_481974.json:
```json
{
    "body": "If the potential bug in `flake8-rst-docstrings` cited in #34168 gets fixed, then we can cease ignoring `misc/sagedoc.py`.",
    "created_at": "2022-07-14T00:26:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33935",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33935#issuecomment-481974",
    "user": "jhpalmieri"
}
```

If the potential bug in `flake8-rst-docstrings` cited in #34168 gets fixed, then we can cease ignoring `misc/sagedoc.py`.



---

archive/issue_comments_481975.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-07-28T19:09:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33935",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33935#issuecomment-481975",
    "user": "vbraun"
}
```

Resolution: fixed
