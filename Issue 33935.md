# Issue 33935: Fix docstring markup in sage/groups and sage/misc

Issue created by migration from https://trac.sagemath.org/ticket/34172

Original creator: klee

Original creation time: 2022-07-12 06:19:14

CC:  mkoeppe


```
sage/groups/cubic_braid.py:1379:1: RST301 Unexpected indentation.
sage/groups/cubic_braid.py:1381:1: RST201 Block quote ends without a blank line; unexpected unindent.
sage/misc/sagedoc.py:594:1: RST214 Inline literal start-string without end-string.
sage/misc/sagedoc.py:670:1: RST214 Inline literal start-string without end-string.
sage/misc/profiler.py:63:1: RST303 Unknown directive type "todo".
sage/misc/sage_input.py:1840:1: RST215 Inline interpreted text or phrase reference start-string without end-string.
sage/misc/sage_input.py:1843:1: RST215 Inline interpreted text or phrase reference start-string without end-string.
sage/misc/sage_input.py:2139:1: RST215 Inline interpreted text or phrase reference start-string without end-string.
sage/misc/sage_input.py:2248:1: RST215 Inline interpreted text or phrase reference start-string without end-string.
sage/misc/call.py:112:1: RST205 Explicit markup ends without a blank line; unexpected unindent.
```



---

Comment by jhpalmieri created at 2022-07-12 22:20:07

I don't understand these:

```
sage/misc/sagedoc.py:594:1: RST214 Inline literal start-string without end-string.
sage/misc/sagedoc.py:670:1: RST214 Inline literal start-string without end-string.
```

They seem to come from ```noreplace```: if I change the text "noreplace" to anything else, the error goes away. I can make the change ```noreplace`` -> ``"noreplace"``` to "fix" it, but I don't know what's going on.


---

Comment by chapoton created at 2022-07-13 10:22:18

noreplace seems to be our own directiev, as explained in the very same file.

Best solution should be to exclude this file from the rst validator.
----
New commits:


---

Comment by chapoton created at 2022-07-13 10:25:56

hmm, at second thought, the problem is not in the first line of the doc. Strange indeed.


---

Comment by jhpalmieri created at 2022-07-13 15:55:29

Does the validator use any of Sage's code, or does it just use `flake8-rst-docstrings`? I really don't understand why `noreplace` is causing problems. (And the actual documentation looks fine.)


---

Comment by mkoeppe created at 2022-07-13 16:08:52

Replying to [comment:6 jhpalmieri]:
> Does the validator use any of Sage's code, or does it just use `flake8-rst-docstrings`? 

Only `flake8-rst-docstrings` with customization in src/tox.ini [flake8]


---

Comment by jhpalmieri created at 2022-07-13 17:05:00

Then I really have no idea what's going on with `noreplace`.


---

Comment by mkoeppe created at 2022-07-13 17:55:55

Replying to [comment:4 chapoton]:
> noreplace seems to be our own directiev, as explained in the very same file.
> 
> Best solution should be to exclude this file from the rst validator.

https://flake8.pycqa.org/en/3.1.1/user/ignoring-errors.html#in-line-ignoring-errors

https://flake8.pycqa.org/en/3.1.1/user/ignoring-errors.html#ignoring-entire-files


---

Comment by git created at 2022-07-13 18:16:27

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:


---

Comment by jhpalmieri created at 2022-07-13 18:18:03

Changing status from new to needs_review.


---

Comment by jhpalmieri created at 2022-07-13 18:18:03

Let's ignore that file, then. (I can't figure out how to ignore a line in a docstring without the "# noqa ..." appearing in the documentation.)


---

Comment by mkoeppe created at 2022-07-13 19:31:41

Changing status from needs_review to positive_review.


---

Comment by jhpalmieri created at 2022-07-14 00:26:11

If the potential bug in `flake8-rst-docstrings` cited in #34168 gets fixed, then we can cease ignoring `misc/sagedoc.py`.


---

Comment by vbraun created at 2022-07-28 19:09:54

Resolution: fixed
