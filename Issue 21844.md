# Issue 21844: Add new option to hyperbolic graphics to select the model

archive/issues_021844.json:
```json
{
    "body": "CC:  @tscrim\n\nAs a first approach add the poincare disc model, and an option to select the model to use the drawing hyperbolic arcs and polygons\n\nIssue created by migration from https://trac.sagemath.org/ticket/22081\n\n",
    "created_at": "2016-12-20T18:40:14Z",
    "labels": [
        "graphics",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.6",
    "title": "Add new option to hyperbolic graphics to select the model",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21844",
    "user": "jhonrubia6"
}
```
CC:  @tscrim

As a first approach add the poincare disc model, and an option to select the model to use the drawing hyperbolic arcs and polygons

Issue created by migration from https://trac.sagemath.org/ticket/22081





---

archive/issue_comments_303243.json:
```json
{
    "body": "Changing keywords from \"\" to \"hyperbolic geometry plot\".",
    "created_at": "2017-02-16T18:58:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303243",
    "user": "jhonrubia6"
}
```

Changing keywords from "" to "hyperbolic geometry plot".



---

archive/issue_comments_303244.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-04-25T16:11:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303244",
    "user": "jhonrubia6"
}
```

New commits:



---

archive/issue_comments_303245.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-04-27T18:32:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303245",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_303246.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-04-29T16:43:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303246",
    "user": "jhonrubia6"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_303247.json:
```json
{
    "body": "I like this new functionality.  It would be great if regular polygons could also be drawn in the Poincare disc model.\n\nHere are a few issues with the coding style:\n\nIn hyperbolic_arc.py, HyperbolicArc.__init__, the code\n\n\n```\n        else:\n            if model == \"PD\":\n```\n\n\nwould better be\n\n\n```\n        elif model == \"PD\":\n```\n\n\nwhich then requires less indenting for the following block.\n\nHyperbolicArc.__init__ should also report an error if `model` is neither 'UHP' or 'PD' rather than raising some other error.  For example, `hyperbolic_arc(0, 1, model='foo')` raises an index error rather than reporting the actual user error.\n\nThe same two remarks apply to HyperbolicPolygon.__init__.\n\nThe style guide in PEP 8 says \"Method definitions inside a class are surrounded by a single blank line.\".  Please do that here.\n\nThe coding guideline for docstrings says\n\n  It describes the function or method\u2019s effect as a command (\u201cDo this\u201d, \u201cReturn that\u201d), not as a description like \u201cReturns the pathname ...\u201d.\n\n\nSo for example, the documentation for _PD_hyperbolic_arc, \"Function to construct an hyperbolic arc ...\",  should start \"Construct an hyperbolic arc ...\".  The docstring for _bezier_path, \"Returns the corresponding bezier path\", should not start with \"Returns the\" and in any case should be more informative about the function.  As this function does not in fact return anything, the docstring is quite misleading.\n\nThe docstrings should be more complete as well, for all method definitions, describing the inputs and output and containing at least one example or test.  See http://doc.sagemath.org/html/en/developer/coding_basics.html#section-documentation-strings\n\nThere are several identical methods in hyperbolic_arc.py and hyperbolic_polygon.py.  This code duplication is never a good idea if the functions are truly the same.  Perhaps the two classes could inherit from some new class that contains a singly copy of these definitions---this will make repair easier if an error is discovered in future or some new functionality is to be added.\n\nIt would be useful somewhere to describe  the different coordinate systems used for the two models, as it is not immediately obvious what are legitimate PD coordinates.\n\nIt is too bad that there is no model-independent way to specify the points (which would make it easy to plot the same diagram in the two different models).  However, adding this probably goes beyond the scope of what you are trying to do here.\n\nFinally, file /src/bin/sage-env-config should not be tracked.",
    "created_at": "2017-05-08T17:12:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303247",
    "user": "msaaltink"
}
```

I like this new functionality.  It would be great if regular polygons could also be drawn in the Poincare disc model.

Here are a few issues with the coding style:

In hyperbolic_arc.py, HyperbolicArc.__init__, the code


```
        else:
            if model == "PD":
```


would better be


```
        elif model == "PD":
```


which then requires less indenting for the following block.

HyperbolicArc.__init__ should also report an error if `model` is neither 'UHP' or 'PD' rather than raising some other error.  For example, `hyperbolic_arc(0, 1, model='foo')` raises an index error rather than reporting the actual user error.

The same two remarks apply to HyperbolicPolygon.__init__.

The style guide in PEP 8 says "Method definitions inside a class are surrounded by a single blank line.".  Please do that here.

The coding guideline for docstrings says

  It describes the function or method’s effect as a command (“Do this”, “Return that”), not as a description like “Returns the pathname ...”.


So for example, the documentation for _PD_hyperbolic_arc, "Function to construct an hyperbolic arc ...",  should start "Construct an hyperbolic arc ...".  The docstring for _bezier_path, "Returns the corresponding bezier path", should not start with "Returns the" and in any case should be more informative about the function.  As this function does not in fact return anything, the docstring is quite misleading.

The docstrings should be more complete as well, for all method definitions, describing the inputs and output and containing at least one example or test.  See http://doc.sagemath.org/html/en/developer/coding_basics.html#section-documentation-strings

There are several identical methods in hyperbolic_arc.py and hyperbolic_polygon.py.  This code duplication is never a good idea if the functions are truly the same.  Perhaps the two classes could inherit from some new class that contains a singly copy of these definitions---this will make repair easier if an error is discovered in future or some new functionality is to be added.

It would be useful somewhere to describe  the different coordinate systems used for the two models, as it is not immediately obvious what are legitimate PD coordinates.

It is too bad that there is no model-independent way to specify the points (which would make it easy to plot the same diagram in the two different models).  However, adding this probably goes beyond the scope of what you are trying to do here.

Finally, file /src/bin/sage-env-config should not be tracked.



---

archive/issue_comments_303248.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-05-08T17:12:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303248",
    "user": "msaaltink"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_303249.json:
```json
{
    "body": "thank you for your time reviewing the ticket. I'll work on this issues (one at a time)",
    "created_at": "2017-05-08T18:31:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303249",
    "user": "jhonrubia6"
}
```

thank you for your time reviewing the ticket. I'll work on this issues (one at a time)



---

archive/issue_comments_303250.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-06-19T19:11:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303250",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_303251.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-06-19T19:20:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303251",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_303252.json:
```json
{
    "body": "This is a partial commit, it lacks your suggestion about a description of the different hyperbolic plane models yet.",
    "created_at": "2017-06-19T19:21:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303252",
    "user": "jhonrubia6"
}
```

This is a partial commit, it lacks your suggestion about a description of the different hyperbolic plane models yet.



---

archive/issue_comments_303253.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-04T19:29:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303253",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_303254.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-04T19:33:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303254",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_303255.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-25T19:06:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303255",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_303256.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2017-08-07T15:33:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303256",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_303257.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-08-08T17:22:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303257",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_303258.json:
```json
{
    "body": "This feature was requested at\n\n- [Ask Sage question 54314: Filling a hyperbolic polygon](https://ask.sagemath.org/question/54314)\n\nIt would be nice to revive this ticket. What remains to be done?",
    "created_at": "2020-12-10T06:23:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303258",
    "user": "@slel"
}
```

This feature was requested at

- [Ask Sage question 54314: Filling a hyperbolic polygon](https://ask.sagemath.org/question/54314)

It would be nice to revive this ticket. What remains to be done?



---

archive/issue_comments_303259.json:
```json
{
    "body": "There are some doctests to add for full coverage, some seemingly trivial doctest failures, and perhaps some other cleanup. I have rebased the branch and did a little cleanup. There is still a bit more work to do, but I don't think I have time right now to finish this.\n----\nNew commits:",
    "created_at": "2021-06-11T00:03:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303259",
    "user": "@tscrim"
}
```

There are some doctests to add for full coverage, some seemingly trivial doctest failures, and perhaps some other cleanup. I have rebased the branch and did a little cleanup. There is still a bit more work to do, but I don't think I have time right now to finish this.
----
New commits:



---

archive/issue_comments_303260.json:
```json
{
    "body": "Setting a new milestone for this ticket based on a cursory review.",
    "created_at": "2021-07-19T00:44:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303260",
    "user": "@mkoeppe"
}
```

Setting a new milestone for this ticket based on a cursory review.



---

archive/issue_comments_303261.json:
```json
{
    "body": "Fix author name to match name on other tickets.\n\n- https://trac.sagemath.org/query?order=id&desc=1&author=~Honrubia",
    "created_at": "2021-11-30T23:02:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303261",
    "user": "@slel"
}
```

Fix author name to match name on other tickets.

- https://trac.sagemath.org/query?order=id&desc=1&author=~Honrubia



---

archive/issue_comments_303262.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-12-06T19:48:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303262",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_303263.json:
```json
{
    "body": "Poincar\u00e9 disk model completed",
    "created_at": "2021-12-06T20:24:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303263",
    "user": "jhonrubia6"
}
```

Poincaré disk model completed



---

archive/issue_comments_303264.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-12-06T20:27:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303264",
    "user": "jhonrubia6"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_303265.json:
```json
{
    "body": "I am now wondering a bit why we are not using (and possibly combining with) the code already provided by `HyperbolicPlane` for this. It seems to be doing the same computations and it would be good for code maintenance. I know some of the implementation details need to be different, but I suspect there is code to be shared, which would give the other models essentially for free.",
    "created_at": "2021-12-06T23:11:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303265",
    "user": "@tscrim"
}
```

I am now wondering a bit why we are not using (and possibly combining with) the code already provided by `HyperbolicPlane` for this. It seems to be doing the same computations and it would be good for code maintenance. I know some of the implementation details need to be different, but I suspect there is code to be shared, which would give the other models essentially for free.



---

archive/issue_comments_303266.json:
```json
{
    "body": "I agree. As a matter of fact we had this same doubt in ticket:22002#comment:3 five years ago. I see no trouble in relying on the geometry code, as its .plot()[0] are in fact `<class 'sage.plot.arc.Arc'>` and the same programming logic can be used to transform them in bezier arcs allowing for filling.\nIs this a decision that we alone can make?",
    "created_at": "2021-12-07T12:09:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303266",
    "user": "jhonrubia6"
}
```

I agree. As a matter of fact we had this same doubt in ticket:22002#comment:3 five years ago. I see no trouble in relying on the geometry code, as its .plot()[0] are in fact `<class 'sage.plot.arc.Arc'>` and the same programming logic can be used to transform them in bezier arcs allowing for filling.
Is this a decision that we alone can make?



---

archive/issue_comments_303267.json:
```json
{
    "body": "I thought I had already said something like this. hahaha I don't see any problem with making these design decisions; you are the one working on this code trying to improve it.",
    "created_at": "2021-12-08T01:28:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303267",
    "user": "@tscrim"
}
```

I thought I had already said something like this. hahaha I don't see any problem with making these design decisions; you are the one working on this code trying to improve it.



---

archive/issue_comments_303268.json:
```json
{
    "body": "Ok. I'll work on this line of thinking, using HyperbolicPlane behind the scene",
    "created_at": "2021-12-09T14:13:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303268",
    "user": "jhonrubia6"
}
```

Ok. I'll work on this line of thinking, using HyperbolicPlane behind the scene



---

archive/issue_comments_303269.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-12-20T17:49:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303269",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_303270.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-04T19:31:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303270",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_303271.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-04T19:55:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303271",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_303272.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-13T19:19:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303272",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_303273.json:
```json
{
    "body": "Let me know when this is fully ready for review.\n\nAlso, minor comment:\n\n```diff\n-    A hyperbolic triangle with a vertex at Infinity\n+    A hyperbolic triangle with a vertex at Infinity::\n```\n",
    "created_at": "2022-01-14T01:08:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303273",
    "user": "@tscrim"
}
```

Let me know when this is fully ready for review.

Also, minor comment:

```diff
-    A hyperbolic triangle with a vertex at Infinity
+    A hyperbolic triangle with a vertex at Infinity::
```




---

archive/issue_comments_303274.json:
```json
{
    "body": "Replying to [comment:32 tscrim]:\n> Let me know when this is fully ready for review.\nI'll do. Right now it does work for PD and UHP using the geometry code. Next I will try to make it work for KM too.\n\n> \n> Also, minor comment:\n> {{{#!diff\n> -    A hyperbolic triangle with a vertex at Infinity\n> +    A hyperbolic triangle with a vertex at Infinity::\n> }}}\nok",
    "created_at": "2022-01-19T17:42:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303274",
    "user": "jhonrubia6"
}
```

Replying to [comment:32 tscrim]:
> Let me know when this is fully ready for review.
I'll do. Right now it does work for PD and UHP using the geometry code. Next I will try to make it work for KM too.

> 
> Also, minor comment:
> {{{#!diff
> -    A hyperbolic triangle with a vertex at Infinity
> +    A hyperbolic triangle with a vertex at Infinity::
> }}}
ok



---

archive/issue_comments_303275.json:
```json
{
    "body": "Set assignee to jhonrubia6.",
    "created_at": "2022-01-19T18:26:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303275",
    "user": "jhonrubia6"
}
```

Set assignee to jhonrubia6.



---

archive/issue_comments_303276.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-01-19T18:26:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303276",
    "user": "jhonrubia6"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_303277.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-30T18:49:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303277",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_303278.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-14T18:53:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303278",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_303279.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-18T18:53:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303279",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_303280.json:
```json
{
    "body": "I also cleaned the code using \n\n``` \ntox -e pycodestyle --  src/sage/plot/hyperbolic_polygon.py\ntox -v -e relint src/sage/plot/hyperbolic_polygon.py\n```\n",
    "created_at": "2022-02-18T19:00:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303280",
    "user": "jhonrubia6"
}
```

I also cleaned the code using 

``` 
tox -e pycodestyle --  src/sage/plot/hyperbolic_polygon.py
tox -v -e relint src/sage/plot/hyperbolic_polygon.py
```




---

archive/issue_comments_303281.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-02-18T19:00:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303281",
    "user": "jhonrubia6"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_303282.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-20T06:27:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303282",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_303283.json:
```json
{
    "body": "Thank you for the additional changes. There were still a few bugs dealing with the different input types of `CC` versus vectors. I have tried to make the code more robust, but there are likely to be some other subtle bugs involved with an assumption of one type of input over the other. However, that can wait until another ticket.\n\nI managed to streamline the arc construction with a little bit of refactoring and a well-placed `getattr`.\n\nI made some other documentation tweaks and fixes.\n\nIf the bot comes back green (in particular, I think we should look at the doc output with the new tag above), then we can set a positive review if my changes are good.\n\nAlso, sometimes it can be good to ignore what the any linter/codestyle tool says in favor of readability and consistency with other code. `:)`",
    "created_at": "2022-02-20T06:31:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303283",
    "user": "@tscrim"
}
```

Thank you for the additional changes. There were still a few bugs dealing with the different input types of `CC` versus vectors. I have tried to make the code more robust, but there are likely to be some other subtle bugs involved with an assumption of one type of input over the other. However, that can wait until another ticket.

I managed to streamline the arc construction with a little bit of refactoring and a well-placed `getattr`.

I made some other documentation tweaks and fixes.

If the bot comes back green (in particular, I think we should look at the doc output with the new tag above), then we can set a positive review if my changes are good.

Also, sometimes it can be good to ignore what the any linter/codestyle tool says in favor of readability and consistency with other code. `:)`



---

archive/issue_comments_303284.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-22T00:29:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303284",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_303285.json:
```json
{
    "body": "Doc looked good modulo a few more tweaks I did. I also fixed up some pyflakes, which modulo that the patchbot was green.",
    "created_at": "2022-02-22T00:31:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303285",
    "user": "@tscrim"
}
```

Doc looked good modulo a few more tweaks I did. I also fixed up some pyflakes, which modulo that the patchbot was green.



---

archive/issue_comments_303286.json:
```json
{
    "body": "From the log, the one patchbot docbuild seems like it has an unrelated error. Everything else is green.",
    "created_at": "2022-02-22T04:31:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303286",
    "user": "@tscrim"
}
```

From the log, the one patchbot docbuild seems like it has an unrelated error. Everything else is green.



---

archive/issue_comments_303287.json:
```json
{
    "body": "looks good to me. Thanks for your contribution. I learn new python tricks everyday :-)",
    "created_at": "2022-02-22T18:53:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303287",
    "user": "jhonrubia6"
}
```

looks good to me. Thanks for your contribution. I learn new python tricks everyday :-)



---

archive/issue_comments_303288.json:
```json
{
    "body": "Then positive review?",
    "created_at": "2022-02-23T03:21:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303288",
    "user": "@tscrim"
}
```

Then positive review?



---

archive/issue_comments_303289.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-23T03:45:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303289",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_303290.json:
```json
{
    "body": "Documentation [did build](https://25c0d3225f8d160000f7c446ba4e3c26c2d567ea--sagemath-tobias.netlify.app/) prior to my trivial typo change.",
    "created_at": "2022-02-23T03:46:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303290",
    "user": "@tscrim"
}
```

Documentation [did build](https://25c0d3225f8d160000f7c446ba4e3c26c2d567ea--sagemath-tobias.netlify.app/) prior to my trivial typo change.



---

archive/issue_comments_303291.json:
```json
{
    "body": "Replying to [comment:47 tscrim]:\n> Then positive review?\nI do not understand. Are you asking me to change the status? :-)I don't mind changing it, if you prefer so",
    "created_at": "2022-02-23T10:06:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303291",
    "user": "jhonrubia6"
}
```

Replying to [comment:47 tscrim]:
> Then positive review?
I do not understand. Are you asking me to change the status? :-)I don't mind changing it, if you prefer so



---

archive/issue_comments_303292.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-02-23T13:08:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303292",
    "user": "@tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_303293.json:
```json
{
    "body": "I have changed it, but since you were the one reviewing my changes (as I pushed them last), you are well within your rights to do so. `:)` Thank you.",
    "created_at": "2022-02-23T13:08:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303293",
    "user": "@tscrim"
}
```

I have changed it, but since you were the one reviewing my changes (as I pushed them last), you are well within your rights to do so. `:)` Thank you.



---

archive/issue_comments_303294.json:
```json
{
    "body": "Ok. I were not sure of how the 'etiquette' worked out in this case :-)",
    "created_at": "2022-02-24T17:33:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303294",
    "user": "jhonrubia6"
}
```

Ok. I were not sure of how the 'etiquette' worked out in this case :-)



---

archive/issue_comments_303295.json:
```json
{
    "body": "\n```\n**********************************************************************\nFile \"src/sage/geometry/hyperbolic_space/hyperbolic_geodesic.py\", line 2380, in sage.geometry.hyperbolic_space.hyperbolic_geodesic.HyperbolicGeodesicHM._plot_vertices\nFailed example:\n    g._plot_vertices(5)\nExpected:\n    [(4.0, -4.0, 5.744562646538029),\n     (1.3632131724692114, -1.6370738298435326, 2.353372235315133),\n     (0.13856858387448234, -0.9699800871213693, 1.4000223647674197),\n     (-0.9425338542843988, -1.3076813974501533, 1.8969450977056184),\n     (-3.0, -3.0, 4.358898943540652)]\nGot:\n    [(4.0, -4.0, 5.744562646538029),\n     (1.3632131724692114, -1.6370738298435326, 2.353372235315132),\n     (0.13856858387448057, -0.9699800871213675, 1.4000223647674161),\n     (-0.9425338542843988, -1.3076813974501533, 1.8969450977056184),\n     (-3.0, -3.0, 4.358898943540652)]\n**********************************************************************\n1 item had failures:\n   1 of   6 in sage.geometry.hyperbolic_space.hyperbolic_geodesic.HyperbolicGeodesicHM._plot_vertices\n    [447 tests, 1 failure, 7.70 s]\n----------------------------------------------------------------------\nsage -t --long --random-seed=0 src/sage/geometry/hyperbolic_space/hyperbolic_geodesic.py  # 1 doctest failed\n----------------------------------------------------------------------\n```\n",
    "created_at": "2022-02-26T23:46:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303295",
    "user": "@vbraun"
}
```


```
**********************************************************************
File "src/sage/geometry/hyperbolic_space/hyperbolic_geodesic.py", line 2380, in sage.geometry.hyperbolic_space.hyperbolic_geodesic.HyperbolicGeodesicHM._plot_vertices
Failed example:
    g._plot_vertices(5)
Expected:
    [(4.0, -4.0, 5.744562646538029),
     (1.3632131724692114, -1.6370738298435326, 2.353372235315133),
     (0.13856858387448234, -0.9699800871213693, 1.4000223647674197),
     (-0.9425338542843988, -1.3076813974501533, 1.8969450977056184),
     (-3.0, -3.0, 4.358898943540652)]
Got:
    [(4.0, -4.0, 5.744562646538029),
     (1.3632131724692114, -1.6370738298435326, 2.353372235315132),
     (0.13856858387448057, -0.9699800871213675, 1.4000223647674161),
     (-0.9425338542843988, -1.3076813974501533, 1.8969450977056184),
     (-3.0, -3.0, 4.358898943540652)]
**********************************************************************
1 item had failures:
   1 of   6 in sage.geometry.hyperbolic_space.hyperbolic_geodesic.HyperbolicGeodesicHM._plot_vertices
    [447 tests, 1 failure, 7.70 s]
----------------------------------------------------------------------
sage -t --long --random-seed=0 src/sage/geometry/hyperbolic_space/hyperbolic_geodesic.py  # 1 doctest failed
----------------------------------------------------------------------
```




---

archive/issue_comments_303296.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2022-02-26T23:46:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303296",
    "user": "@vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_303297.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-27T00:31:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303297",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_303298.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2022-02-27T00:32:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303298",
    "user": "@tscrim"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_303299.json:
```json
{
    "body": "This should take care of any numerical noise.",
    "created_at": "2022-02-27T00:32:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303299",
    "user": "@tscrim"
}
```

This should take care of any numerical noise.



---

archive/issue_comments_303300.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-02-27T22:00:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21844#issuecomment-303300",
    "user": "@vbraun"
}
```

Resolution: fixed
