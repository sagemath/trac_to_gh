# Issue 17248: Poset: Documentation of characteristic_polynomial

archive/issues_017248.json:
```json
{
    "body": "CC:  @nathanncohen @fchapoton\n\nKeywords: poset\n\nDocumentation says first \"Return the characteristic polynomial of a **graded** poset - -\", then later \"If P is a **graded poset with - -  a unique minimal element**\"  and the function can throw \"the poset should be **ranked**\". Somebody understanding what is characteristic polynomial should check this.\n\nAlso the list of poset functions at the beginning of the file does not contain this function.\n\nIssue created by migration from https://trac.sagemath.org/ticket/17485\n\n",
    "created_at": "2014-12-12T08:35:24Z",
    "labels": [
        "component: combinatorics",
        "trivial",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.8",
    "title": "Poset: Documentation of characteristic_polynomial",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17248",
    "user": "https://github.com/jm58660"
}
```
CC:  @nathanncohen @fchapoton

Keywords: poset

Documentation says first "Return the characteristic polynomial of a **graded** poset - -", then later "If P is a **graded poset with - -  a unique minimal element**"  and the function can throw "the poset should be **ranked**". Somebody understanding what is characteristic polynomial should check this.

Also the list of poset functions at the beginning of the file does not contain this function.

Issue created by migration from https://trac.sagemath.org/ticket/17485





---

archive/issue_comments_229289.json:
```json
{
    "body": "See also #17487. It needs a check, including this ranked-vs-graded -thing.",
    "created_at": "2014-12-12T12:16:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17248",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17248#issuecomment-229289",
    "user": "https://github.com/jm58660"
}
```

See also #17487. It needs a check, including this ranked-vs-graded -thing.



---

archive/issue_comments_229290.json:
```json
{
    "body": "chapoton, I found your name by `git blame`. :=) Can you check this --- is the code OK, so only documentation (and exact phrasing of exception) should be corrected?",
    "created_at": "2015-05-22T11:44:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17248",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17248#issuecomment-229290",
    "user": "https://github.com/jm58660"
}
```

chapoton, I found your name by `git blame`. :=) Can you check this --- is the code OK, so only documentation (and exact phrasing of exception) should be corrected?



---

archive/issue_comments_229291.json:
```json
{
    "body": "I can see no problem with the doc.\n\nThe method is defined for graded posets with exactly one minimal element, as explained.\n\nSuch a poset will be ranked. If it is not, the method raises an error.\n\nThe only \"problem\" I can see is that it will return something (not interesting) for posets with are ranked but not graded with one minimal element. I do not care, but it would be possible to add more checks to prevent this to happen.",
    "created_at": "2015-05-22T12:32:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17248",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17248#issuecomment-229291",
    "user": "https://github.com/fchapoton"
}
```

I can see no problem with the doc.

The method is defined for graded posets with exactly one minimal element, as explained.

Such a poset will be ranked. If it is not, the method raises an error.

The only "problem" I can see is that it will return something (not interesting) for posets with are ranked but not graded with one minimal element. I do not care, but it would be possible to add more checks to prevent this to happen.



---

archive/issue_comments_229292.json:
```json
{
    "body": "Replying to [comment:6 chapoton]:\n\n> I can see no problem with the doc.\n> \n> The method is defined for graded posets with exactly one minimal element, as explained.\n> \n> Such a poset will be ranked. If it is not, the method raises an error.\n\nThen either it should say \"If `P` is a **ranked** poset with rank `n` and - -\" OR raise \"the poset should be **graded**\", whichever you seem to be correct.\n\nShould this kind of function be defined with one-line description \"Return the characteristic polynomial of the poset\" and longer explanation starting with \"The poset is assumed to be - - and - -. If it is not, an exception is raised.\"?",
    "created_at": "2015-05-22T16:33:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17248",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17248#issuecomment-229292",
    "user": "https://github.com/jm58660"
}
```

Replying to [comment:6 chapoton]:

> I can see no problem with the doc.
> 
> The method is defined for graded posets with exactly one minimal element, as explained.
> 
> Such a poset will be ranked. If it is not, the method raises an error.

Then either it should say "If `P` is a **ranked** poset with rank `n` and - -" OR raise "the poset should be **graded**", whichever you seem to be correct.

Should this kind of function be defined with one-line description "Return the characteristic polynomial of the poset" and longer explanation starting with "The poset is assumed to be - - and - -. If it is not, an exception is raised."?



---

archive/issue_comments_229293.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-07-24T12:28:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17248",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17248#issuecomment-229293",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_229294.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-07-24T12:31:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17248",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17248#issuecomment-229294",
    "user": "https://github.com/jm58660"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_229295.json:
```json
{
    "body": "Changing priority from trivial to minor.",
    "created_at": "2015-07-24T12:31:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17248",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17248#issuecomment-229295",
    "user": "https://github.com/jm58660"
}
```

Changing priority from trivial to minor.



---

archive/issue_comments_229296.json:
```json
{
    "body": "A ranked poset is not necessarily graded. The code did not complain of `Poset({1:[2,3],2:[4]})` nor of `Poset({1:[2], 3:[4]})`. This is corrected with this patch.",
    "created_at": "2015-07-24T12:31:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17248",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17248#issuecomment-229296",
    "user": "https://github.com/jm58660"
}
```

A ranked poset is not necessarily graded. The code did not complain of `Poset({1:[2,3],2:[4]})` nor of `Poset({1:[2], 3:[4]})`. This is corrected with this patch.



---

archive/issue_comments_229297.json:
```json
{
    "body": "excpected",
    "created_at": "2015-07-24T19:00:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17248",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17248#issuecomment-229297",
    "user": "https://github.com/fchapoton"
}
```

excpected



---

archive/issue_comments_229298.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-07-24T19:29:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17248",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17248#issuecomment-229298",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_229299.json:
```json
{
    "body": "Replying to [comment:11 chapoton]:\n> excpected\n\nDuh. This corrected.",
    "created_at": "2015-07-25T03:55:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17248",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17248#issuecomment-229299",
    "user": "https://github.com/jm58660"
}
```

Replying to [comment:11 chapoton]:
> excpected

Duh. This corrected.



---

archive/issue_comments_229300.json:
```json
{
    "body": "to to be graded",
    "created_at": "2015-07-25T06:05:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17248",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17248#issuecomment-229300",
    "user": "https://github.com/fchapoton"
}
```

to to be graded



---

archive/issue_comments_229301.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-07-25T07:57:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17248",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17248#issuecomment-229301",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_229302.json:
```json
{
    "body": "Replying to [comment:14 chapoton]:\n> to to be graded\n\n`raise TypeError('developer should not be blind like %s' %jmantysalo)`\n\nCorrected.",
    "created_at": "2015-07-25T08:00:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17248",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17248#issuecomment-229302",
    "user": "https://github.com/jm58660"
}
```

Replying to [comment:14 chapoton]:
> to to be graded

`raise TypeError('developer should not be blind like %s' %jmantysalo)`

Corrected.



---

archive/issue_comments_229303.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-07-25T08:54:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17248",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17248#issuecomment-229303",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_016652.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-07-27T15:15:42Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/17248",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17248#event-16652"
}
```



---

archive/issue_comments_229304.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-07-27T15:15:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17248",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17248#issuecomment-229304",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
