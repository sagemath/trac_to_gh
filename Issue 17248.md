# Issue 17248: Poset: Documentation of characteristic_polynomial

Issue created by migration from https://trac.sagemath.org/ticket/17485

Original creator: jmantysalo

Original creation time: 2014-12-12 08:35:24

CC:  ncohen chapoton

Keywords: poset

Documentation says first "Return the characteristic polynomial of a *graded* poset - -", then later "If P is a *graded poset with - -  a unique minimal element*"  and the function can throw "the poset should be *ranked*". Somebody understanding what is characteristic polynomial should check this.

Also the list of poset functions at the beginning of the file does not contain this function.


---

Comment by jmantysalo created at 2014-12-12 12:16:45

See also #17487. It needs a check, including this ranked-vs-graded -thing.


---

Comment by jmantysalo created at 2015-05-22 11:44:13

chapoton, I found your name by `git blame`. :=) Can you check this --- is the code OK, so only documentation (and exact phrasing of exception) should be corrected?


---

Comment by chapoton created at 2015-05-22 12:32:44

I can see no problem with the doc.

The method is defined for graded posets with exactly one minimal element, as explained.

Such a poset will be ranked. If it is not, the method raises an error.

The only "problem" I can see is that it will return something (not interesting) for posets with are ranked but not graded with one minimal element. I do not care, but it would be possible to add more checks to prevent this to happen.


---

Comment by jmantysalo created at 2015-05-22 16:33:21

Replying to [comment:6 chapoton]:

> I can see no problem with the doc.
> 
> The method is defined for graded posets with exactly one minimal element, as explained.
> 
> Such a poset will be ranked. If it is not, the method raises an error.

Then either it should say "If `P` is a *ranked* poset with rank `n` and - -" OR raise "the poset should be *graded*", whichever you seem to be correct.

Should this kind of function be defined with one-line description "Return the characteristic polynomial of the poset" and longer explanation starting with "The poset is assumed to be - - and - -. If it is not, an exception is raised."?


---

Comment by git created at 2015-07-24 12:28:17

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jmantysalo created at 2015-07-24 12:31:41

Changing status from new to needs_review.


---

Comment by jmantysalo created at 2015-07-24 12:31:41

Changing priority from trivial to minor.


---

Comment by jmantysalo created at 2015-07-24 12:31:41

A ranked poset is not necessarily graded. The code did not complain of `Poset({1:[2,3],2:[4]})` nor of `Poset({1:[2], 3:[4]})`. This is corrected with this patch.


---

Comment by chapoton created at 2015-07-24 19:00:37

excpected


---

Comment by git created at 2015-07-24 19:29:18

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jmantysalo created at 2015-07-25 03:55:19

Replying to [comment:11 chapoton]:
> excpected

Duh. This corrected.


---

Comment by chapoton created at 2015-07-25 06:05:22

to to be graded


---

Comment by git created at 2015-07-25 07:57:27

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jmantysalo created at 2015-07-25 08:00:02

Replying to [comment:14 chapoton]:
> to to be graded

`raise TypeError('developer should not be blind like %s' %jmantysalo)`

Corrected.


---

Comment by chapoton created at 2015-07-25 08:54:25

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2015-07-27 15:15:42

Resolution: fixed
