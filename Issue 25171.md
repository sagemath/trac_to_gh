# Issue 25171: some magma doctests now fail

Issue created by migration from Trac.

Original creator: davidloeffler

Original creation time: 2018-05-20 14:39:24

CC:  cremona davidloeffler

Keywords: magma

Running "`sage -tp --all --optional=sage,magma`", with Sage 8.3.beta2 and Magma V2.23-8, I get the following failures:

```
sage/rings/polynomial/multi_polynomial_ideal.py  # 1 doctest failed
sage/interfaces/magma.py  # 8 doctests failed
sage/rings/polynomial/pbori.pyx  # 1 doctest failed
sage/schemes/plane_conics/con_field.py  # 2 doctests failed
```



---

Comment by chapoton created at 2018-05-20 14:48:17

please review #25306


---

Comment by davidloeffler created at 2018-05-20 15:48:25

I'm afraid that doesn't solve the problem -- all four files still fail with the branch from #25306 applied.


---

Comment by chapoton created at 2018-08-28 15:15:23

`@`cremona, `@`davidloeffler: as owners of the patchbot **fermat**, you seem to have access to magma. Your patchbot is apparently very fast and powerful, but it always fails these magma optional doctests. Could you please help with this ticket ?


---

Comment by chapoton created at 2018-08-28 15:15:23

Changing status from new to needs_info.


---

Comment by cremona created at 2018-08-28 19:48:56

Replying to [comment:4 chapoton]:
> `@`cremona, `@`davidloeffler: as owners of the patchbot **fermat**, you seem to have access to magma. Your patchbot is apparently very fast and powerful, but it always fails these magma optional doctests. Could you please help with this ticket ?

That is our oldest / slowest machine but for that reason mostly unused by our group.  Will be able to help, but not this week.


---

Comment by davidloeffler created at 2018-08-29 07:58:24

I did have a look at this a couple of months back, but it is not at all easy to fix. The problem is that the Sage code for handling communication with Magma is spread around five or six different files and written in a totally baffling fashion (N layers deep in "handlers" and "frameworks" and other software-engineering abstractions of non-obvious purpose). Since no actual flesh-and-blood user has so far complained about these functions not working properly, I decided I had better things to do with my time than untangle this knot.


---

Comment by chapoton created at 2018-09-05 07:47:51

see also #26191 and the old #10631
