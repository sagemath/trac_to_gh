# Issue 31096: sage.env.sage_include_directories: Remove hard dependency on numpy

Issue created by migration from https://trac.sagemath.org/ticket/31333

Original creator: mkoeppe

Original creation time: 2021-02-03 22:57:29

CC:  fbissey @tobiasdiez




---

Comment by mkoeppe created at 2021-02-04 00:04:58

New commits:


---

Comment by mkoeppe created at 2021-02-04 00:04:58

Changing status from new to needs_review.


---

Comment by git created at 2021-02-04 00:22:06

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2021-02-04 00:22:52

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by @tobiasdiez created at 2021-02-13 13:34:23

I think there should still be a log message if numpy couldn't be found, since otherwise errors further down the compile chain might be hard to track down.


---

Comment by git created at 2021-06-25 22:14:04

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by fbissey created at 2021-06-26 01:07:05

The branch looks fine. Can the description be a bit more verbose on what this change will achieve? Obviously it makes the thing touched more resilient but for what purpose.


---

Comment by fbissey created at 2021-06-26 01:19:37

Changing status from needs_review to positive_review.


---

Comment by fbissey created at 2021-06-26 01:19:37

LGTM.


---

Comment by mkoeppe created at 2021-06-26 01:22:36

Thanks!


---

Comment by @tobiasdiez created at 2021-06-26 05:25:26


```
+    try:
+        import numpy
+        dirs.append(numpy.get_include())
+    except ModuleNotFoundError:
+        pass
```


Should this not better print an error message in case numpy is not found?


---

Comment by mkoeppe created at 2021-06-26 05:55:17

No, the whole point of this ticket is that it's not an error.


---

Comment by vbraun created at 2021-06-29 23:08:49

Resolution: fixed
