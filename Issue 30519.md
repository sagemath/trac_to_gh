# Issue 30519: flake8 details in matroids

Issue created by migration from https://trac.sagemath.org/ticket/30756

Original creator: chapoton

Original creation time: 2020-10-11 14:17:02

CC:  slelievre

to make code there just a little more clean


---

Comment by chapoton created at 2020-10-11 14:17:54

New commits:


---

Comment by chapoton created at 2020-10-11 14:17:54

Changing status from new to needs_review.


---

Comment by slelievre created at 2020-10-11 16:35:39

This improves things, so positive review on my behalf if the bots are happy.

If you want to go further, but no pressure to do so here, more suggestions below.

Maybe change `xrange` to `range` in `src/sage/matroids/matroid.pyx`?

Mabye check whether this alert should be taken care of, or removed:

```
# TODO: Alert: this sort of thing will break in Python 3, I think. --SvZ
```


More possible minor code changes in or around the proposed changes:


```diff
-        if (self.size() != other.size() or other.groundset().difference(self.groundset())):
+        if self.size() != other.size() or other.groundset().difference(self.groundset()):
```



```diff
-        if (not isinstance(contractions, str) and not hasattr(contractions, '__iter__') and contractions is not None):
+        if not isinstance(contractions, str) and not hasattr(contractions, '__iter__') and contractions is not None:

```



```diff
-        if (not isinstance(deletions, str) and not hasattr(deletions, '__iter__') and deletions is not None):
+        if not isinstance(deletions, str) and not hasattr(deletions, '__iter__') and deletions is not None:
```



```diff
-        bdx = {basis[i]: i for i in range(len(basis))}
+        bdx = {b: i for i, b in enumerate(basis)}
```



```diff
-                if i % 2 == 0:
-                    x = x * A.get(bdx[path[i]], idx[path[i+1]])
-                else:
-                    x = x * A.get(bdx[path[i+1]], idx[path[i]])
+                if i % 2:
+                    x *= A.get(bdx[path[i + 1]], idx[path[i]])
+                else:
+                    x *= A.get(bdx[path[i]], idx[path[i + 1]])
```


These last two might require importing `polygen`:


```diff
-        z = ZZ['z'].gen()
+        z = polygen(ZZ, 'z')
```



```diff
-        t = QQ['t'].gen()
+        t = polygen(QQ, 't')
```



---

Comment by chapoton created at 2020-10-12 06:55:12

bot is green, I am setting to positive, keeping further things for later


---

Comment by chapoton created at 2020-10-12 06:55:12

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2020-11-01 00:42:42

Resolution: fixed
