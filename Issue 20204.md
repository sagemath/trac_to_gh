# Issue 20204: Fast conversion  ℚ[√a] → arb balls

Issue created by migration from https://trac.sagemath.org/ticket/20441

Original creator: mmezzarobba

Original creation time: 2016-04-14 07:50:01

Before:

```
sage: QQi.<i> = QuadraticField(-1)
sage: %timeit CBF(i)
The slowest run took 5.04 times longer than the fastest. This could mean that an intermediate result is being cached.
100 loops, best of 3: 2.45 ms per loop
sage: NF.<a> = QuadraticField(2)
sage: RBF((a-1)^100)
[+/- 3.78e+22]
```

After:

```
sage: QQi.<i> = QuadraticField(-1)
sage: %timeit CBF(i)
The slowest run took 1175.13 times longer than the fastest. This could mean that an intermediate result is being cached.
1000000 loops, best of 3: 791 ns per loop
sage: NF.<a> = QuadraticField(2)
sage: RBF((a-1)^100)
[5.27753918069144e-39 +/- 2.15e-54]
```



---

Comment by mmezzarobba created at 2016-04-14 07:53:06

Changing status from new to needs_review.


---

Comment by mmezzarobba created at 2016-04-14 09:36:09

Changing component from numerical to number fields.


---

Comment by fredrik.johansson created at 2016-04-14 23:46:15

Nothing to complain about.


---

Comment by fredrik.johansson created at 2016-04-14 23:46:15

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2016-04-15 07:32:35

Nice commit message ;-)


---

Comment by mmezzarobba created at 2016-04-15 07:38:21

Thanks for the review!


---

Comment by git created at 2016-04-15 07:43:06

Changing status from positive_review to needs_review.


---

Comment by git created at 2016-04-15 07:43:06

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:


---

Comment by mmezzarobba created at 2016-04-15 07:47:05

Oops, I just noticed that I used a flint integer after clearing it. Since the tests still pass, I am taking the liberty to set the ticket back to `positive_review`.


---

Comment by mmezzarobba created at 2016-04-15 07:47:05

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2016-04-15 21:15:06

Resolution: fixed
