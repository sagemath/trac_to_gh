# Issue 32381: Some micro-optimizations and cleanup to (skew) tableau

archive/issues_032381.json:
```json
{
    "body": "CC:  @fchapoton\n\nThe usual: avoid transient objects, less calls to `__getitem__`, using `not self` instead of `len(self) == 0`.\n\nIssue created by migration from https://trac.sagemath.org/ticket/32618\n\n",
    "created_at": "2021-10-04T00:28:41Z",
    "labels": [
        "combinatorics",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.5",
    "title": "Some micro-optimizations and cleanup to (skew) tableau",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32381",
    "user": "@tscrim"
}
```
CC:  @fchapoton

The usual: avoid transient objects, less calls to `__getitem__`, using `not self` instead of `len(self) == 0`.

Issue created by migration from https://trac.sagemath.org/ticket/32618





---

archive/issue_comments_462023.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-10-04T00:29:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32381",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32381#issuecomment-462023",
    "user": "@tscrim"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_462024.json:
```json
{
    "body": "Should be fairly easy to review. Please feel free to provide any additional suggestions of things to improve/fix/etc.\n----\nNew commits:",
    "created_at": "2021-10-04T00:29:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32381",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32381#issuecomment-462024",
    "user": "@tscrim"
}
```

Should be fairly easy to review. Please feel free to provide any additional suggestions of things to improve/fix/etc.
----
New commits:



---

archive/issue_comments_462025.json:
```json
{
    "body": "could use an iterator inside, here:\n\n```diff\n@@ -708,9 +703,8 @@ class SkewTableau(ClonableList,\n             sage: SkewTableau([[None,1],[1],[2]]).restrict(1)\n             [[None, 1], [1]]\n         \"\"\"\n-        t = self[:]\n         return SkewTableau([z for z in [[y for y in x if y is None or y <= n]\n-                                        for x in t] if z])\n+                                        for x in self] if z])\n```\n",
    "created_at": "2021-10-04T06:40:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32381",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32381#issuecomment-462025",
    "user": "@fchapoton"
}
```

could use an iterator inside, here:

```diff
@@ -708,9 +703,8 @@ class SkewTableau(ClonableList,
             sage: SkewTableau([[None,1],[1],[2]]).restrict(1)
             [[None, 1], [1]]
         """
-        t = self[:]
         return SkewTableau([z for z in [[y for y in x if y is None or y <= n]
-                                        for x in t] if z])
+                                        for x in self] if z])
```




---

archive/issue_comments_462026.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-04T06:46:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32381",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32381#issuecomment-462026",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_462027.json:
```json
{
    "body": "Good idea; done.",
    "created_at": "2021-10-04T06:46:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32381",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32381#issuecomment-462027",
    "user": "@tscrim"
}
```

Good idea; done.



---

archive/issue_comments_462028.json:
```json
{
    "body": "ok",
    "created_at": "2021-10-04T11:24:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32381",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32381#issuecomment-462028",
    "user": "@fchapoton"
}
```

ok



---

archive/issue_comments_462029.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-10-04T11:24:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32381",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32381#issuecomment-462029",
    "user": "@fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_462030.json:
```json
{
    "body": "Thank you!",
    "created_at": "2021-10-04T11:46:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32381",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32381#issuecomment-462030",
    "user": "@tscrim"
}
```

Thank you!



---

archive/issue_comments_462031.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-10-13T22:50:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32381",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32381#issuecomment-462031",
    "user": "@vbraun"
}
```

Resolution: fixed
