# Issue 32381: Some micro-optimizations and cleanup to (skew) tableau

Issue created by migration from https://trac.sagemath.org/ticket/32618

Original creator: tscrim

Original creation time: 2021-10-04 00:28:41

CC:  chapoton

The usual: avoid transient objects, less calls to `__getitem__`, using `not self` instead of `len(self) == 0`.


---

Comment by tscrim created at 2021-10-04 00:29:41

Changing status from new to needs_review.


---

Comment by tscrim created at 2021-10-04 00:29:41

Should be fairly easy to review. Please feel free to provide any additional suggestions of things to improve/fix/etc.
----
New commits:


---

Comment by chapoton created at 2021-10-04 06:40:09

could use an iterator inside, here:

```diff
@@ -708,9 +703,8 @@ class SkewTableau(ClonableList,
             sage: SkewTableau([[None,1],[1],[2]]).restrict(1)
             [[None, 1], [1]]
         """
-        t = self[:]
         return SkewTableau([z for z in [[y for y in x if y is None or y <= n]
-                                        for x in t] if z])
+                                        for x in self] if z])
```



---

Comment by git created at 2021-10-04 06:46:25

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2021-10-04 06:46:37

Good idea; done.


---

Comment by chapoton created at 2021-10-04 11:24:06

ok


---

Comment by chapoton created at 2021-10-04 11:24:06

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2021-10-04 11:46:36

Thank you!


---

Comment by vbraun created at 2021-10-13 22:50:05

Resolution: fixed
