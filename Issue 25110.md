# Issue 25110: Package hol-light (and dependency camlp5)

Issue created by migration from Trac.

Original creator: mkoeppe

Original creation time: 2018-05-11 18:52:30

Experimental package for the HOL Light theorem prover (http://www.cl.cam.ac.uk/~jrh13/hol-light/)

Assuming distribution package for OCaml is available. Tested on Homebrew, which has version 4.06.1.

Adding package `camlp5`. The package available in Homebrew does not seem to work for HOL light, probably because it has not been built in strict mode (https://github.com/jrh13/hol-light/blob/master/README)

```
(cd upstream && wget https://github.com/camlp5/camlp5/archive/rel705.tar.gz -O camlp5-7.05.tar.gz )
```


Adding package `hol-light`. Upstream () has no releases. For now we pull directly from their git. Alternatively, could use Debian's `.orig.tar.gz` (https://packages.debian.org/stretch/hol-light) as our upstream.


---

Comment by mkoeppe created at 2018-05-11 19:28:50

New commits:


---

Comment by git created at 2018-05-11 19:43:45

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by mkoeppe created at 2018-05-11 21:01:05

Earliest error:

```
Exception: Failure "tryfind".
Error in included file /Users/mkoeppe/s/sage/some-sage-install-prefix/share/hol-light/Multivariate/realanalysis.ml
- : unit = ()
File "/Users/mkoeppe/s/sage/some-sage-install-prefix/share/formal_ineqs/trig/series.hl", line 318, characters 55-84:
Error: Unbound value REAL_INTEGRABLE_UNIFORM_LIMIT
Error in included file /Users/mkoeppe/s/sage/some-sage-install-prefix/share/formal_ineqs/trig/series.hl
- : unit = ()
File "_none_", line 1:
Error: Unbound module Series
```



---

Comment by jdemeyer created at 2018-05-12 12:17:24

Just a comment on the installer scripts: you should use the `sdh_...` functions (grep for `sdh_make_install` for example).


---

Comment by jdemeyer created at 2018-05-12 12:27:07

I don't really like how you pull from git at install time. Better just make a proper package from the git repo. For `script` packages, there is no dependency or version checking.

And even if you do want to pull from git, this is really bad:

```
if [ -n "${FORMAL_INEQS_COMMIT}" ]; then
    git checkout ${FORMAL_INEQS_COMMIT}
else
    git pull --ff-only
fi
```

You really should fix a commit, not just pull whatever is on the master branch.

(NOTE: for experimental packages, you can do whatever you want. So take these comments as advice, not as a requirement)


---

Comment by mkoeppe created at 2018-05-12 20:12:04

Thanks for the comments; yes, these are very preliminary scripts and before I would set this ticket to review, it would be replaced by using a tarball.


---

Comment by mkoeppe created at 2018-05-12 22:38:26

Loading Formal_ineqs also fails in Debian's version of the package. https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=898514


---

Comment by git created at 2018-05-13 15:17:16

Branch pushed to git repo; I updated commit sha1. New commits:
