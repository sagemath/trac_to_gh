# Issue 26709: cardinality of finite multivariate polynomial quotients is broken

Issue created by migration from https://trac.sagemath.org/ticket/26946

Original creator: mantepse

Original creation time: 2018-12-23 14:49:08

CC:  tscrim


```
sage: R.<a> = PolynomialRing(GF(2)); R.quotient((a^2+a)*R).cardinality()
4
sage: R.<a,b> = PolynomialRing(GF(2)); R.quotient((a^2+a, b^2+b)*R).cardinality()
---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)
<ipython-input-12-0d4ecbf62612> in <module>()
----> 1 R = PolynomialRing(GF(Integer(2)), names=('a', 'b',)); (a, b,) = R._first_ngens(2); R.quotient((a**Integer(2)+a, b**Integer(2)+b)*R).cardinality()

/home/martin/sage-develop/local/lib/python2.7/site-packages/sage/rings/ring.pyx in sage.rings.ring.Ring.cardinality (build/cythonized/sage/rings/ring.c:9050)()
    932             +Infinity
    933         """
--> 934         if not self.is_finite():
    935             from .infinity import Infinity
    936             return Infinity

/home/martin/sage-develop/local/lib/python2.7/site-packages/sage/rings/ring.pyx in sage.rings.ring.Ring.is_finite (build/cythonized/sage/rings/ring.c:8953)()
    915         if self.is_zero():
    916             return True
--> 917         return super(Ring, self).is_finite()
    918 
    919     def cardinality(self):

AttributeError: 'super' object has no attribute 'is_finite'
```



---

Comment by embray created at 2019-01-15 18:15:21

Retarging tickets optimistically to the next milestone.  If you are responsible for this ticket (either its reporter or owner) and don't believe you are likely to complete this ticket before the next release (8.7) please retarget this ticket's milestone to sage-pending or sage-wishlist.


---

Comment by embray created at 2019-03-25 10:56:15

Ticket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)


---

Comment by embray created at 2019-06-14 14:54:19

As the Sage-8.8 release milestone is pending, we should delete the sage-8.8 milestone for tickets that are not actively being worked on or that still require significant work to move forward.  If you feel that this ticket should be included in the next Sage release at the soonest please set its milestone to the next release milestone (sage-8.9).


---

Comment by chapoton created at 2022-03-06 20:21:14

now returns an error in 9.6.b3 ; so maybe we can close as invalid ?


---

Comment by chapoton created at 2022-03-06 20:21:14

Changing status from new to needs_review.


---

Comment by tscrim created at 2022-03-07 03:29:41

I am not sure this should return an error. We can use the `I.vector_space_dimension()` to compute the `cardinality()`, where `I` is the defining ideal. So it would be

```python
def cardinality(self):
    return self.base_ring().cardinality() ** self.defining_ideal().vector_space_dimension()
```


For non-fields, this is a harder question that we can raise a `NotImplementedError` for (which means either we catch the `TypeError` from the above or do some other kind of check).

What do you think about this? I can do the commit if you agree.

I also noticed the documentation for `vector_space_dimension()` is wrong: it does not raise an error for nonzero dimensional ideals.


---

Comment by tscrim created at 2022-03-07 03:29:41

Changing status from needs_review to needs_work.
