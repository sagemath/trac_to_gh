# Issue 25758: update installation guide

Issue created by migration from https://trac.sagemath.org/ticket/25995

Original creator: vdelecroix

Original creation time: 2018-08-03 23:03:40

CC:  slelievre

Update the instructions in the installation guide

- mention the cygwin windows binaries
- mention package manager installation (Debian >= 9, Ubuntu >= 18.04, archlinux)
- clearer explanations for OS X (what to choose between `tar.gz`, `app.dmg` or `dmg`)


---

Comment by vdelecroix created at 2018-08-03 23:29:25

New commits:


---

Comment by kcrisman created at 2018-08-04 16:27:04


```
+OS X dmg
+--------
+
+A possible alternive on OS X is to use ``app.dmg`` or ``dmg`` files. Such
+installation will automtically create shortcuts on your desktops. Simply
+follow the section "Download Guide" above and download the ``dmg`` file
+corresponding to your system.
+
+TO BE FINISHED
```


And earlier you also have something about which one is best.  There is a separate readmeosx file somewhere which will answer many of your questions here; the short version is that app.dmg is better for those wanting a GUI, dmg is better for those only wanting command line access.  tar.gz is definitely not preferred for mac


---

Comment by vdelecroix created at 2018-08-07 00:54:18

Replying to [comment:5 kcrisman]:
> {{{
> +OS X dmg
> +--------
> +
> +A possible alternive on OS X is to use ``app.dmg`` or ``dmg`` files. Such
> +installation will automtically create shortcuts on your desktops. Simply
> +follow the section "Download Guide" above and download the ``dmg`` file
> +corresponding to your system.
> +
> +TO BE FINISHED
> }}}
> 
> And earlier you also have something about which one is best.  There is a separate readmeosx file somewhere which will answer many of your questions here; the short version is that app.dmg is better for those wanting a GUI, dmg is better for those only wanting command line access.  tar.gz is definitely not preferred for mac

The only `README.txt` I found is on the sagemath website when going to "Download" and then "Mac OSX". It does not tell anything about the three different format of installation.


---

Comment by slelievre created at 2018-08-07 09:33:00

Searching the Sage repo on GitHub for "readme":

- search: https://github.com/sagemath/sage/search?q=readme

reveals three files

- [README.md](https://github.com/sagemath/sage/blob/master/README.md)
- [build/README.txt](https://github.com/sagemath/sage/blob/master/build/README.txt)
- [src/sage/ext/mac-app/README](https://github.com/sagemath/sage/blob/master/src/sage/ext/mac-app/README)

The last one might the one kcrisman has in mind.


---

Comment by slelievre created at 2018-08-07 09:50:01

Oops, I missed some. Searching again for "mac"

- search: https://github.com/sagemath/sage/search?q=mac

I found these two too:

- [src/bin/sage-README-osx.txt](https://github.com/sagemath/sage/blob/master/src/bin/sage-README-osx.txt)
- [src/mac-app/tools/createDSStore/README.txt](https://github.com/sagemath/sage/blob/master/src/mac-app/tools/createDSStore/README.txt)


---

Comment by vdelecroix created at 2018-08-07 19:44:30

Thanks Samuel! It is definitely `src/bin/sage-README-osx.txt` and this file will be removed by this ticket (or more precisely, replace its content with "go read the installation manual").


---

Comment by kcrisman created at 2018-08-07 20:57:44

Whoah Nelly!  But note that that file actually shows up in the dmg created (if you open it it appears in a nice Mac-specific Finder way).  So be careful about this, and be sure to have someone test with a Mac on a app dmg, possibly also regular dmg.


---

Comment by git created at 2018-08-12 15:12:43

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by vdelecroix created at 2018-08-12 15:12:58

Changing status from new to needs_review.


---

Comment by vdelecroix created at 2018-08-12 15:12:58

Ready for a relecture!


---

Comment by saraedum created at 2018-08-22 02:48:09

`This content of this file has been moved to the installation guide`. That's not correct, is it? It has been moved to the mac-app README hasn't it? Should we just delete this file?


---

Comment by saraedum created at 2018-08-22 03:37:05

I added a few more things that I know about. I made quite a few minor changes, mostly related to the correct spelling/casing of trademarks and fixed some sentences that I stumbled upon.

Something that I am still not sure about: Should we consistently call this thing Sage or [SageMath](SageMath)? Currently it's still a bit of a mix though I replaced most instances of Sage with SageMath…something that we might want to revert.

Anyway, I don't think we should strive for perfection here. This had already been quite an improvement :)
----
New commits:


---

Comment by vdelecroix created at 2018-08-22 13:28:26

Replying to [comment:16 saraedum]:
> `This content of this file has been moved to the installation guide`. That's not correct, is it? It has been moved to the mac-app README hasn't it? Should we just delete this file?

No! This file is distributed together with the macOS applications. You can see that in `25995`

```diff
diff --git a/src/mac-app/Makefile b/src/mac-app/Makefile
index 3f2dc22..4b8a5b3 100644
--- a/src/mac-app/Makefile
+++ b/src/mac-app/Makefile
@@ -99,7 +99,7 @@ $(TARGET)/Applications:
 	ln -s /Applications/ $(TARGET)/Applications
 
 # Add the readme file
-$(TARGET)/README.txt: $(SAGE_ROOT)/src/bin/sage-README-osx.txt
+$(TARGET)/README.txt: sage-README-osx.txt
 	cp $^ $@
```



---

Comment by vdelecroix created at 2018-08-22 13:29:52

Replying to [comment:19 vdelecroix]:
> Replying to [comment:16 saraedum]:
> > `This content of this file has been moved to the installation guide`. That's not correct, is it? It has been moved to the mac-app README hasn't it? Should we just delete this file?

Let just write that this file has moved then...


---

Comment by vdelecroix created at 2018-08-22 13:35:57

New commits:


---

Comment by git created at 2018-08-22 13:40:34

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-08-22 13:56:07

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by vdelecroix created at 2018-08-22 13:57:50

I moved the Linux instructions and updated the fact that you absolutely need the documentation (otherwise `?` is just broken).

I think this is in good enough shape for now. What do you think?

In the future we might want to update instructions for optional packages (Arch Linux provide some with `pacman` and `pip install` does work).


---

Comment by saraedum created at 2018-08-23 16:47:14

Replying to [comment:19 vdelecroix]:
> Replying to [comment:16 saraedum]:
> > `This content of this file has been moved to the installation guide`. That's not correct, is it? It has been moved to the mac-app README hasn't it? Should we just delete this file?
> 
> No! This file is distributed together with the macOS applications. You can see that in `25995`
> {{{#!diff
> diff --git a/src/mac-app/Makefile b/src/mac-app/Makefile
> index 3f2dc22..4b8a5b3 100644
> --- a/src/mac-app/Makefile
> +++ b/src/mac-app/Makefile
> `@``@` -99,7 +99,7 `@``@` $(TARGET)/Applications:
>  	ln -s /Applications/ $(TARGET)/Applications
>  
>  # Add the readme file
> -$(TARGET)/README.txt: $(SAGE_ROOT)/src/bin/sage-README-osx.txt
> +$(TARGET)/README.txt: sage-README-osx.txt
>  	cp $^ $`@`
> }}}

I don't understand. The file in `src/bin/` is not distributed with the macOS app anymore. So why do we need it?


---

Comment by saraedum created at 2018-08-23 16:50:27

Replying to [comment:24 vdelecroix]:
> I moved the Linux instructions and updated the fact that you absolutely need the documentation (otherwise `?` is just broken).
Sure. It's fine to tell people to install documentation. Note that the `?` bug is fixed in #25786 which needs review :).

> I think this is in good enough shape for now. What do you think?
Yes, it looks good to me. Have you had a look at the generated HTML?

> In the future we might want to update instructions for optional packages (Arch Linux provide some with `pacman` and `pip install` does work).
Sounds good. But let's put this into another ticket.


---

Comment by vdelecroix created at 2018-08-23 16:53:57

Replying to [comment:25 saraedum]:
> Replying to [comment:19 vdelecroix]:
> > Replying to [comment:16 saraedum]:
> > > `This content of this file has been moved to the installation guide`. That's not correct, is it? It has been moved to the mac-app README hasn't it? Should we just delete this file?
> > 
> > No! This file is distributed together with the macOS applications. You can see that in `25995`
> > {{{#!diff
> > diff --git a/src/mac-app/Makefile b/src/mac-app/Makefile
> > index 3f2dc22..4b8a5b3 100644
> > --- a/src/mac-app/Makefile
> > +++ b/src/mac-app/Makefile
> > `@``@` -99,7 +99,7 `@``@` $(TARGET)/Applications:
> >  	ln -s /Applications/ $(TARGET)/Applications
> >  
> >  # Add the readme file
> > -$(TARGET)/README.txt: $(SAGE_ROOT)/src/bin/sage-README-osx.txt
> > +$(TARGET)/README.txt: sage-README-osx.txt
> >  	cp $^ $`@`
> > }}}
> 
> I don't understand. The file in `src/bin/` is not distributed with the macOS app anymore. So why do we need it?

I tought it was (my modification in the Makefile is just changing the path). I don't have a mac and I will not try to find one to test it. Let me post something on sage-devel.


---

Comment by saraedum created at 2018-08-23 16:56:13

I can test it on a mac if you want me to.


---

Comment by vdelecroix created at 2018-08-23 16:57:54

Replying to [comment:28 saraedum]:
> I can test it on a mac if you want me to.

If you have time to do so, please do! See also [this post on sage-devel](https://groups.google.com/forum/#!topic/sage-devel/S3afK1C-bnA).


---

Comment by jhpalmieri created at 2018-08-23 18:36:05

I'm not quite sure what the question is here, but here are my comments: first, running `make` from `src/mac-app` works for me with this branch. Second, I think you could just delete the (now very small) file `src/bin/sage-README-osx.txt`, since you've moved the important parts to `src/mac-app/`, and that's the natural place for that information.


---

Comment by vdelecroix created at 2018-08-23 18:39:24

Replying to [comment:30 jhpalmieri]:
> I'm not quite sure what the question is here, but here are my comments: first, running `make` from `src/mac-app` works for me with this branch. Second, I think you could just delete the (now very small) file `src/bin/sage-README-osx.txt`, since you've moved the important parts to `src/mac-app/`, and that's the natural place for that information.

Thanks for checking! Does the sage-README-osx.txt is inside the mac-app produced?

I will delete the one in `src/bin` following your advice.


---

Comment by jhpalmieri created at 2018-08-23 18:42:40

The correct `README.txt` file is produced in the top-level of the `.dmg` file. (And the tiny `sage-README-osx.txt` file in `src/bin` is present in the app, also.)


---

Comment by saraedum created at 2018-08-23 22:59:36

Hm…I don't see what could possibly break™, but let me try to build it anyway.


---

Comment by kcrisman created at 2018-08-24 00:12:16

Thanks esp. to jhpalmieri for checking out that this all is still working!


---

Comment by saraedum created at 2018-08-24 00:26:57

Sorry, I can't test this on my macOS as I cannot upgrade to a version that is supports xcode (and I don't want to hack around to install an old xcode.)


---

Comment by vdelecroix created at 2018-09-01 15:07:57

Could we set to positive review then?


---

Comment by saraedum created at 2018-10-03 12:48:23

Changing status from needs_review to positive_review.


---

Comment by vdelecroix created at 2018-10-03 12:54:14

Great news! Thank you :-)


---

Comment by vbraun created at 2018-10-04 21:54:16

Resolution: fixed
