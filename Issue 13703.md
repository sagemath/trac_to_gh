# Issue 13703: Fix docstrings in sage/ext/fast_eval.pyx

Issue created by migration from https://trac.sagemath.org/ticket/13907

Original creator: ppurka

Original creation time: 2013-01-04 11:06:06

Assignee: mvngu

The docstrings in this file are quite messed up. Changes are needed throughout the file, since the output documentation is never formatted correctly.


---

Comment by knsam created at 2013-02-06 16:43:20

Changing keywords from "" to "beginner".


---

Comment by knsam created at 2013-02-06 18:01:55

Just so that we don't duplicate work, I am working on this one. :)


---

Comment by knsam created at 2013-02-24 20:04:17

Well, I am afraid, at the moment, this file is not a part of the documentation that we build. Do you intend this ticket to serve for the addition of this file into our documentation or am I missing something? 

~KnS


---

Comment by knsam created at 2013-02-24 20:04:17

Changing status from new to needs_info.


---

Comment by ppurka created at 2013-02-25 01:16:13

I know that it doesn't add to the documentation. But, documentation is not the only place where a well-formatted docstring is needed. I stumbled across this when checking some function's help in the notebook. It's a mess. Because it is not present in the main documentation, it has been a low priority job for me too. If you have already fixed the docs, then put it up here and I will review it.


---

Comment by knsam created at 2013-03-14 19:43:14

Hello! 

I am having difficulty how I'd go around verifying if I am doing it right. I build after modifying and check the docs from the notebook -- it is the same, although I expect some improvement! Should I commit? Please leave some pointers so I could work on this, when I get time.


---

Comment by ppurka created at 2013-03-14 21:27:54

Replying to [comment:5 knsam]:
> Hello! 
> 
> I am having difficulty how I'd go around verifying if I am doing it right. I build after modifying and check the docs from the notebook -- it is the same, although I expect some improvement! Should I commit? Please leave some pointers so I could work on this, when I get time.  
Hello, you need to do the following.
1. Start a notebook and open a new worksheet.
2. Do your modifications to the file. Save it and rebuild it using `sage -b`
3. Go to the worksheet and select `Action -> Restart worksheet`.
4. Go to step 2 until done. `:-)`

To test your modifications:
1. For the stuff at the top of the file, simply evaluate `sage.ext.fast_eval?` (or press TAB after typing that path). If there are stuff like "Traceback...." in the doctest, then evaluating it might not show the full documentation. This is a bug in the notebook. In this case, either simply press TAB, or click to the left of the cell output just once, and you will see the full doctest.
2. For classes within that file, again simply evaluate them or press TAB, for instance you would see the output of the docstring in the class `FastDoubleFunc` by running `sage.ext.fast_eval.FastDoubleFunc?`.
3. For the methods within a class, use the full path to the method again, for example `sage.ext.fast_eval.FastDoubleFunc.__cmp__?`.
4. Finally, for functions within the file, again give the full path `sage.ext.fast_eval.fast_float?`.
5. If you have written each of those functions, methods, etc, in a different cell, then after selecting "Action -> Restart worksheet" after a rebuild of sage, you can select "Action -> Evaluate all" to evaluate all the cells. It is fast way to check your modifications.

The functions or methods which are starting with `cdef` are never visible from the python interface, so it is up to you whether you want to fix the docstrings in them or not. For a first pass, just leave them alone since there is no way to verify whether they are fixed or not.

EDIT: You *do not* need to build the docs with `sage -docbuild`, `make doc`, etc. You just need to build sage using `sage -b`.


---

Comment by Fougeroc created at 2014-04-08 00:25:17

Changing status from needs_info to needs_review.


---

Comment by Fougeroc created at 2014-04-08 00:25:17

New commits:


---

Comment by vdelecroix created at 2014-04-08 00:47:16

Changing status from needs_review to needs_work.


---

Comment by vdelecroix created at 2014-04-08 00:47:16

Changing keywords from "beginner" to "beginner, days57".


---

Comment by vdelecroix created at 2014-04-08 00:47:16

For string formatting, you should look at the developer's guide
http://www.sagemath.org/doc/developer/coding_basics.html#docstring-markup-with-rest-and-sphinx

Comments:

- remove trailing whitespaces (line 27, 42, ...)

- the docstring at the begining of the file should not be indented
 
- NOTE, AUTHOR field is not appropriately formated
 
- in `_richcmp_`  (line 928), you should add a linebreak between the description
  "Compare left and right." and the beginig of the examples

More to come at your next commit...


---

Comment by git created at 2014-04-08 01:07:47

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by Fougeroc created at 2014-04-08 08:30:58

Changing status from needs_work to needs_review.


---

Comment by Fougeroc created at 2014-04-08 10:04:08

I now get an error when creating the doc



```
sage -docbuild reference/libs html

OSError: [libs     ] /src/sage-6.1.1/src/doc/en/reference/libs/sage/ext/fast_eval.rst:11: 
WARNING: error while formatting signature for sage.ext.fast_eval.FastDoubleFunc.abs: 
The given source does not contain 'def'
```


I don't know how to solve it.


---

Comment by Fougeroc created at 2014-04-08 10:04:08

Changing status from needs_review to needs_info.


---

Comment by chapoton created at 2014-12-29 21:15:21

I made a few more changes, including correct python3 formatting of raise statements.

----
New commits:


---

Comment by git created at 2015-01-17 13:54:18

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2015-01-17 13:55:43

This seems to be ok. I do not see the above problem with

```
sage -docbuild reference/libs html
```



---

Comment by chapoton created at 2015-01-17 13:55:43

Changing status from needs_info to needs_review.


---

Comment by jdemeyer created at 2015-01-20 14:47:48

author name please...


---

Comment by mmezzarobba created at 2015-02-05 10:34:44

The period at the end of the title should be removed for consistency, but I can take care of that in another ticket I'm working on, no need to further delay this one.


---

Comment by mmezzarobba created at 2015-02-05 10:34:44

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2015-02-08 15:26:24

Resolution: fixed
