# Issue 22598: molien series for finite matrix gap groups in char 0

archive/issues_022598.json:
```json
{
    "body": "CC:  rlmiller\n\nCompute the molien series for any finite matrix group that has a _gap_ function. This includes the computation of molien series relative to nontrivial characters\n\nIssue created by migration from https://trac.sagemath.org/ticket/22835\n\n",
    "created_at": "2017-04-19T19:13:46Z",
    "labels": [
        "group theory",
        "minor",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.0",
    "title": "molien series for finite matrix gap groups in char 0",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/22598",
    "user": "@bhutz"
}
```
CC:  rlmiller

Compute the molien series for any finite matrix group that has a _gap_ function. This includes the computation of molien series relative to nontrivial characters

Issue created by migration from https://trac.sagemath.org/ticket/22835





---

archive/issue_comments_315270.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-04-19T19:15:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22598#issuecomment-315270",
    "user": "@bhutz"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_315271.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-04-19T19:15:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22598#issuecomment-315271",
    "user": "@bhutz"
}
```

New commits:



---

archive/issue_comments_315272.json:
```json
{
    "body": "This requires #22783, which is already closed.",
    "created_at": "2017-04-19T19:15:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22598#issuecomment-315272",
    "user": "@bhutz"
}
```

This requires #22783, which is already closed.



---

archive/issue_comments_315273.json:
```json
{
    "body": "A few comments:\n\n- Why restrict to characteristic `0`? From the Wikipedia page, it just requires the characteristic of the field not to divide the order of the group (which you need anyways).\n- You should use:\n  {{{\n        INPUT:\n\n        - ``xi`` -- (default: trivial character) a linear group character of this group\n\n        - ``return_series`` -- boolean (default: ``True``) if ``True``, then returns\n          the Molien series as a power series, ``False`` as a rational function\n\n        - ``prec`` -- integer (default: 20); power series default precision\n\n        - ``variable`` -- string (default: ``'t'``); Variable name for the Molien series\n  }}}\n- I would use\n  {{{#!diff\n-mol = 1/self.order() * mol\n+mol /= self.order()\n  }}}\n- You have some inconsistent spacing around the operators, and there are a number of unnecessary parentheses that (IMO) makes it harder to read.",
    "created_at": "2017-04-19T20:13:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22598#issuecomment-315273",
    "user": "@tscrim"
}
```

A few comments:

- Why restrict to characteristic `0`? From the Wikipedia page, it just requires the characteristic of the field not to divide the order of the group (which you need anyways).
- You should use:
  {{{
        INPUT:

        - ``xi`` -- (default: trivial character) a linear group character of this group

        - ``return_series`` -- boolean (default: ``True``) if ``True``, then returns
          the Molien series as a power series, ``False`` as a rational function

        - ``prec`` -- integer (default: 20); power series default precision

        - ``variable`` -- string (default: ``'t'``); Variable name for the Molien series
  }}}
- I would use
  {{{#!diff
-mol = 1/self.order() * mol
+mol /= self.order()
  }}}
- You have some inconsistent spacing around the operators, and there are a number of unnecessary parentheses that (IMO) makes it harder to read.



---

archive/issue_comments_315274.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-04-19T22:26:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22598#issuecomment-315274",
    "user": "@bhutz"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_315275.json:
```json
{
    "body": "Thanks for the comments.\n\nFor the characteristic: there are a number of problems with the Molien series entry in wikipedia, one of which is the formula for char p. While there is a formula assuming non-divisibility, I think it is somewhat more complicated that than. Dekker-deJong is the reference. I was just going to leave it for the future, but I'll take another look at their paper and see how hard it would be.",
    "created_at": "2017-04-19T22:26:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22598#issuecomment-315275",
    "user": "@bhutz"
}
```

Thanks for the comments.

For the characteristic: there are a number of problems with the Molien series entry in wikipedia, one of which is the formula for char p. While there is a formula assuming non-divisibility, I think it is somewhat more complicated that than. Dekker-deJong is the reference. I was just going to leave it for the future, but I'll take another look at their paper and see how hard it would be.



---

archive/issue_comments_315276.json:
```json
{
    "body": "Ah, okay. Don't worry too much if positive characteristic seems like a lot of work.",
    "created_at": "2017-04-19T22:45:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22598#issuecomment-315276",
    "user": "@tscrim"
}
```

Ah, okay. Don't worry too much if positive characteristic seems like a lot of work.



---

archive/issue_comments_315277.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-04-20T15:45:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22598#issuecomment-315277",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_315278.json:
```json
{
    "body": "It wasn't too bad to add char>0 support. I also added a substantial amount of documentation to go with as it is a non-trivial computation.",
    "created_at": "2017-04-20T15:47:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22598#issuecomment-315278",
    "user": "@bhutz"
}
```

It wasn't too bad to add char>0 support. I also added a substantial amount of documentation to go with as it is a non-trivial computation.



---

archive/issue_comments_315279.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-04-20T15:47:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22598#issuecomment-315279",
    "user": "@bhutz"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_315280.json:
```json
{
    "body": "Great, thanks. Three small comments: ``N`-th root` (although this isn't such a big deal, but I think it looks a little better), typo `copmputed`, and put the reference in the master reference file (and a nitpick, missing commas after each math formula). You can set a positive review on my behalf.",
    "created_at": "2017-04-20T15:54:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22598#issuecomment-315280",
    "user": "@tscrim"
}
```

Great, thanks. Three small comments: ``N`-th root` (although this isn't such a big deal, but I think it looks a little better), typo `copmputed`, and put the reference in the master reference file (and a nitpick, missing commas after each math formula). You can set a positive review on my behalf.



---

archive/issue_comments_315281.json:
```json
{
    "body": "err...where is the master reference file?",
    "created_at": "2017-04-20T15:59:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22598#issuecomment-315281",
    "user": "@bhutz"
}
```

err...where is the master reference file?



---

archive/issue_comments_315282.json:
```json
{
    "body": "`src/doc/en/reference/references/index.rst`",
    "created_at": "2017-04-20T16:00:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22598#issuecomment-315282",
    "user": "@tscrim"
}
```

`src/doc/en/reference/references/index.rst`



---

archive/issue_comments_315283.json:
```json
{
    "body": "ok. will do.",
    "created_at": "2017-04-20T16:04:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22598#issuecomment-315283",
    "user": "@bhutz"
}
```

ok. will do.



---

archive/issue_comments_315284.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-04-20T22:12:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22598#issuecomment-315284",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_315285.json:
```json
{
    "body": "You might want to look at it again since I forgot to add the characters for the relative series in the mod p case earlier.",
    "created_at": "2017-04-20T22:14:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22598#issuecomment-315285",
    "user": "@bhutz"
}
```

You might want to look at it again since I forgot to add the characters for the relative series in the mod p case earlier.



---

archive/issue_comments_315286.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-04-21T03:26:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22598#issuecomment-315286",
    "user": "@tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_315287.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-04-25T17:40:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22598#issuecomment-315287",
    "user": "@vbraun"
}
```

Resolution: fixed
