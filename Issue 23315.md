# Issue 23315: Wrong ValueErrors for faliing factorial with float second parameter

Issue created by migration from Trac.

Original creator: pelegm

Original creation time: 2017-07-30 15:05:58

Keywords: falling_factorial

Try this:

```python
sage: falling_factorial(-2, 4.)
```


The result is a ValueError:

```pytb
Traceback (most recent call last):
  File "<ipython-input-13-3cbd1e33dd6f>", line 1, in <module>
    falling_factorial(-Integer(2), RealNumber('4.'))
  File "/home/peleg/sage/local/lib/python2.7/site-packages/sage/arith/misc.py", line 4230, in falling_factorial
    return gamma(x+1) / gamma(x-a+1)
  File "sage/structure/element.pyx", line 1640, in sage.structure.element.Element.__div__ (/home/peleg/sage/src/build/cythonized/sage/structure/element.c:13015)
    return coercion_model.bin_op(left, right, div)
  File "sage/structure/coerce.pyx", line 1052, in sage.structure.coerce.CoercionModel_cache_maps.bin_op (/home/peleg/sage/src/build/cythonized/sage/structure/coerce.c:9344)
    return PyObject_CallObject(op, xy)
  File "sage/structure/element.pyx", line 1638, in sage.structure.element.Element.__div__ (/home/peleg/sage/src/build/cythonized/sage/structure/element.c:12980)
    return (<Element>left)._div_(right)
  File "sage/structure/element.pyx", line 2453, in sage.structure.element.RingElement._div_ (/home/peleg/sage/src/build/cythonized/sage/structure/element.c:17685)
    cpdef _div_(self, other):
  File "/home/peleg/sage/local/lib/python2.7/site-packages/sage/rings/infinity.py", line 490, in _div_
    return self * ~other
  File "sage/structure/element.pyx", line 2464, in sage.structure.element.RingElement.__invert__ (/home/peleg/sage/src/build/cythonized/sage/structure/element.c:18016)
    return self._parent.one() / self
  File "sage/structure/element.pyx", line 1709, in sage.structure.element.Element.__truediv__ (/home/peleg/sage/src/build/cythonized/sage/structure/element.c:13227)
    return (<Element>left)._div_(right)
  File "sage/structure/element.pyx", line 2453, in sage.structure.element.RingElement._div_ (/home/peleg/sage/src/build/cythonized/sage/structure/element.c:17685)
    cpdef _div_(self, other):
  File "/home/peleg/sage/local/lib/python2.7/site-packages/sage/rings/infinity.py", line 863, in _div_
    raise ValueError("quotient of number < oo by number < oo not defined")
ValueError: quotient of number < oo by number < oo not defined
```


A more appropriate ValueError would be something like **the second parameter should be a non-negative integer**.

Similar issue arises when trying

```python
falling_factorial(-2, -1)
```

which gives

```pytb
Traceback (most recent call last):
  File "<ipython-input-17-aab0ef8cbbaa>", line 1, in <module>
    falling_factorial(-Integer(2), -Integer(1))
  File "/home/peleg/sage/local/lib/python2.7/site-packages/sage/arith/misc.py", line 4230, in falling_factorial
    return gamma(x+1) / gamma(x-a+1)
  File "sage/structure/element.pyx", line 1638, in sage.structure.element.Element.__div__ (/home/peleg/sage/src/build/cythonized/sage/structure/element.c:12980)
    return (<Element>left)._div_(right)
  File "sage/structure/element.pyx", line 2453, in sage.structure.element.RingElement._div_ (/home/peleg/sage/src/build/cythonized/sage/structure/element.c:17685)
    cpdef _div_(self, other):
  File "/home/peleg/sage/local/lib/python2.7/site-packages/sage/rings/infinity.py", line 490, in _div_
    return self * ~other
  File "sage/structure/element.pyx", line 1515, in sage.structure.element.Element.__mul__ (/home/peleg/sage/src/build/cythonized/sage/structure/element.c:12445)
    return coercion_model.bin_op(left, right, mul)
  File "sage/structure/coerce.pyx", line 1052, in sage.structure.coerce.CoercionModel_cache_maps.bin_op (/home/peleg/sage/src/build/cythonized/sage/structure/coerce.c:9344)
    return PyObject_CallObject(op, xy)
  File "sage/structure/element.pyx", line 1513, in sage.structure.element.Element.__mul__ (/home/peleg/sage/src/build/cythonized/sage/structure/element.c:12410)
    return (<Element>left)._mul_(right)
  File "sage/structure/element.pyx", line 1554, in sage.structure.element.Element._mul_ (/home/peleg/sage/src/build/cythonized/sage/structure/element.c:12744)
    return python_op(other)
  File "/home/peleg/sage/local/lib/python2.7/site-packages/sage/rings/infinity.py", line 924, in _mul_
    raise ValueError("unsigned oo times smaller number not defined")
ValueError: unsigned oo times smaller number not defined
```

