# Issue 17286: Symbolic exponent of None will crash

Issue created by migration from https://trac.sagemath.org/ticket/17523

Original creator: gagern

Original creation time: 2014-12-18 11:22:08

Computing a symbolic exponent in a situation where the base is None will cause Sage to crash:


```
sage: None^pi
```



---

Comment by jdemeyer created at 2014-12-18 14:21:45

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2014-12-18 14:21:45

New commits:


---

Comment by gagern created at 2014-12-18 18:13:39

I consider it better to restrict the `try` block to just the very thing you anticipate, namely `self` not being of type `Expression`. An error raised when converting the exponent should not lead to the `catch` block with reversed roles.

I hadn't known of the lack of reverse arithmetic operations in Cython until I read about [this here](http://docs.cython.org/src/reference/extension_types.html#arithmetic-methods). Good to know that you can't rely on the type of `self`! That manual also suggests (or even requires?) raising `NotImplemented` for mismatched operand types. Presumably so that the opposite order can be tried as well. Should we in some cases raise that instead of the current `TypeError`? Does anyone have an idea of the benefits and drawbacks of doing so?
----
New commits:


---

Comment by jdemeyer created at 2014-12-18 18:34:00

I agree with your patch.


---

Comment by gagern created at 2014-12-19 08:39:44

Changing status from needs_review to positive_review.


---

Comment by gagern created at 2014-12-19 08:39:44

I'm happy with your work, doctests are happy with both of us, so everything's fine.


---

Comment by vbraun created at 2014-12-21 21:45:08

Resolution: fixed
