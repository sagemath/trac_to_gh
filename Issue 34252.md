# Issue 34252: Update sympy to 1.12

Issue created by migration from https://trac.sagemath.org/ticket/34489

Original creator: mkoeppe

Original creation time: 2022-09-03 22:38:12

CC:  fbissey @oscarbenjamin arojas @davewittemorris




---

Comment by @oscarbenjamin created at 2022-09-05 18:10:54

I just tried to push a commit here to update a doctest but it failed with:

```
$ git push trac update_sympy_1_12:u/mkoeppe/update_sympy_to_1_12
Warning: the ECDSA host key for 'trac.sagemath.org' differs from the key for the IP address '104.197.143.230'
Offending key for IP in /home/oscar/.ssh/known_hosts:26
Matching host key in /home/oscar/.ssh/known_hosts:27
Are you sure you want to continue connecting (yes/no)? yes
Counting objects: 6, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (6/6), done.
Writing objects: 100% (6/6), 601 bytes | 0 bytes/s, done.
Total 6 (delta 5), reused 0 (delta 0)
remote: FATAL: W refs/heads/u/mkoeppe/update_sympy_to_1_12 sage gh-oscarbenjamin DENIED by fallthru
remote: error: hook declined to update refs/heads/u/mkoeppe/update_sympy_to_1_12
To git@trac.sagemath.org:sage.git
 ! [remote rejected] update_sympy_1_12 -> u/mkoeppe/update_sympy_to_1_12 (hook declined)
error: failed to push some refs to 'git@trac.sagemath.org:sage.git'
```

Is there something I need to do first before I can push?
----
New commits:


---

Comment by @oscarbenjamin created at 2022-09-05 18:13:44

This is the diff I wanted to push:

```
diff --git a/src/sage/calculus/calculus.py b/src/sage/calculus/calculus.py
index 76cd898..439543e 100644
--- a/src/sage/calculus/calculus.py
+++ b/src/sage/calculus/calculus.py
@@ -1691,7 +1691,7 @@ def laplace(ex, t, s, algorithm='maxima'):
     Testing SymPy::
 
         sage: laplace(t^n, t, s, algorithm='sympy')
-        (gamma(n + 1)/(s*s^n), 0, re(n) > -1)
+        (s^(-n - 1)*gamma(n + 1), 0, re(n) > -1)
 
     Testing Maxima::
```

It is due to this change in SymPy:
https://github.com/sympy/sympy/pull/23962


---

Comment by mkoeppe created at 2022-09-05 18:22:33

The warning is because our Trac server has been upgraded and has new host keys - see https://groups.google.com/g/sage-devel/c/GMmG95o7tE8/m/Gt3zWlGCBwAJ


---

Comment by mkoeppe created at 2022-09-05 18:24:29

The error is because of a branch protection rule. You can't push to a branch named `u/mkoeppe/...`. Instead push to a branch that uses your username, or use a "public" branch


---

Comment by mkoeppe created at 2022-09-05 18:24:57

see https://doc.sagemath.org/html/en/developer/workflows.html#public-repository


---

Comment by @oscarbenjamin created at 2022-09-05 19:07:16

I remember now it's `git trac checkout/push` that I needed.
----
New commits:
