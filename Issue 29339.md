# Issue 29339: Missing js objects on doc search page

Issue created by migration from https://trac.sagemath.org/ticket/29576

Original creator: arojas

Original creation time: 2020-04-25 07:52:49

CC:  @jcamp0x2a klee schilly slelievre was

Go to 
https://doc.sagemath.org/html/en/reference/search.html?q=modules

and see the many [object Object] labels throughout the page.


---

Comment by slelievre created at 2020-10-02 09:09:54

Changing priority from major to critical.


---

Comment by slelievre created at 2020-10-02 09:09:54

Changing keywords from "" to "online_documentation, search, js".


---

Comment by slelievre created at 2020-10-02 09:09:54

Restoring the online documentation's search box
seems critical to me.

Can anyone help with that?


---

Comment by klee created at 2021-04-14 01:00:27

Replying to [comment:4 slelievre]:
> Restoring the online documentation's search box
> seems critical to me.
> 
> Can anyone help with that?

What is the normal result of the search box? What should be shown? Would you explain?


---

Comment by mkoeppe created at 2021-05-10 17:42:09

Moving to 9.4, as 9.3 has been released.


---

Comment by mkoeppe created at 2021-11-11 00:18:59

Reported again in https://groups.google.com/g/sage-devel/c/FxjVDtqxw1U/m/t_K6IDjUAAAJ


---

Comment by mkoeppe created at 2021-11-11 01:25:06

See also: #31415


---

Comment by git created at 2021-11-11 07:54:21

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by klee created at 2021-11-11 08:04:46

The patch revives search page. 

For this, I had to turn off Thebe (see changes in `layout.html`), which seems to conflict with `underline.js`. Actually it seems old Thebe javascript file is to blame, as with the latest one from CDN works fine with the search page.

I am not sure if Thebe still works with Sage. See related #24593. If we cannot turn off Thebe, then please provide updated javascript (here or to #24593).


---

Comment by klee created at 2021-11-11 08:05:06

Changing status from new to needs_info.


---

Comment by klee created at 2021-11-11 08:10:23

What I did is mostly to make our customized `layout.html` and `search.html` to be close to original ones from Sphinx.


---

Comment by jhpalmieri created at 2021-11-12 17:51:53

See also #32854.


---

Comment by slelievre created at 2022-01-30 15:44:20

Set milestone to sage-9.6 after Sage 9.5 release.


---

Comment by klee created at 2022-02-10 12:37:50

Changing status from needs_info to needs_review.


---

Comment by klee created at 2022-02-10 12:37:50

The code in this ticket is now merged to the branch of #33309. Hence we close this ticket.


---

Comment by mkoeppe created at 2022-02-13 17:48:25

Changing status from needs_review to positive_review.


---

Comment by mkoeppe created at 2022-02-26 18:53:04

Resolution: invalid
