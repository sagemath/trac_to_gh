# Issue 15355: Birational rowmotion

archive/issues_015355.json:
```json
{
    "body": "CC:  sage-combinat @tscrim @jessicapalencia @anneschilling @vbraun\n\nKeywords: birational rowmotion, posets, combinat\n\nThis is a heavily refactored version of the code Tom and I used in studying birational rowmotion and showed around in Bures-sur-Yvette. It is missing some of the hacky research-related methods but the main features are there.\n\nIssue created by migration from https://trac.sagemath.org/ticket/15592\n\n",
    "created_at": "2013-12-26T00:56:56Z",
    "labels": [
        "component: categories"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.2",
    "title": "Birational rowmotion",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15355",
    "user": "https://github.com/darijgr"
}
```
CC:  sage-combinat @tscrim @jessicapalencia @anneschilling @vbraun

Keywords: birational rowmotion, posets, combinat

This is a heavily refactored version of the code Tom and I used in studying birational rowmotion and showed around in Bures-sur-Yvette. It is missing some of the hacky research-related methods but the main features are there.

Issue created by migration from https://trac.sagemath.org/ticket/15592





---

archive/issue_comments_197645.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-12-26T00:57:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15355",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15355#issuecomment-197645",
    "user": "https://github.com/darijgr"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_197646.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-01-03T17:50:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15355",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15355#issuecomment-197646",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_197647.json:
```json
{
    "body": "Hey Darij,\n\nI've fixed up the doc and changed the arg `alphabet` to `prefix` in `birational_free_labelling()`. I tried to implement `birational_toggles()` and `birational_rowmotion()` using a `reduce`, but this didn't net any speedup. Somewhat surprisingly to me, this actually slowed it down slightly, even with avoiding the extra `lambda` calls by swapping the order of the arguments in `birational_toggle()`.\n\nAnyways, if you're happy with my changes, then it's a positive review.\n\nBest,\n\nTravis",
    "created_at": "2014-01-03T17:52:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15355",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15355#issuecomment-197647",
    "user": "https://github.com/tscrim"
}
```

Hey Darij,

I've fixed up the doc and changed the arg `alphabet` to `prefix` in `birational_free_labelling()`. I tried to implement `birational_toggles()` and `birational_rowmotion()` using a `reduce`, but this didn't net any speedup. Somewhat surprisingly to me, this actually slowed it down slightly, even with avoiding the extra `lambda` calls by swapping the order of the arguments in `birational_toggle()`.

Anyways, if you're happy with my changes, then it's a positive review.

Best,

Travis



---

archive/issue_comments_197648.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-01-03T19:15:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15355",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15355#issuecomment-197648",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_197649.json:
```json
{
    "body": "Thank you Travis! This was honestly the patch I least expected to get a speedy review...\n\nAre you fine with the last fixes I just made? (I added a reference to an abstract which was just put online today and which, weirdly, has some content the main paper does not.)",
    "created_at": "2014-01-03T19:16:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15355",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15355#issuecomment-197649",
    "user": "https://github.com/darijgr"
}
```

Thank you Travis! This was honestly the patch I least expected to get a speedy review...

Are you fine with the last fixes I just made? (I added a reference to an abstract which was just put online today and which, weirdly, has some content the main paper does not.)



---

archive/issue_comments_197650.json:
```json
{
    "body": "Replying to [comment:6 darij]:\n> Thank you Travis! This was honestly the patch I least expected to get a speedy review...\n\nYour welcome, it is interesting.\n\n> Are you fine with the last fixes I just made? (I added a reference to an abstract which was just put online today and which, weirdly, has some content the main paper does not.)\n\nYep, looks good.",
    "created_at": "2014-01-03T20:17:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15355",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15355#issuecomment-197650",
    "user": "https://github.com/tscrim"
}
```

Replying to [comment:6 darij]:
> Thank you Travis! This was honestly the patch I least expected to get a speedy review...

Your welcome, it is interesting.

> Are you fine with the last fixes I just made? (I added a reference to an abstract which was just put online today and which, weirdly, has some content the main paper does not.)

Yep, looks good.



---

archive/issue_comments_197651.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-01-03T20:17:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15355",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15355#issuecomment-197651",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_197652.json:
```json
{
    "body": "Documentation does not build:\n\n```\n[categorie] /home/release/Sage/local/lib/python2.7/site-packages/sage/categories/finite_posets.py:docstring of sage.categories.finite_posets.FinitePosets.ParentMethods.birational_free_labelling:51: WARNING: Inline emphasis start-string without end-string.\n[categorie] /home/release/Sage/local/lib/python2.7/site-packages/sage/categories/finite_posets.py:docstring of sage.categories.finite_posets.FinitePosets.ParentMethods.birational_free_labelling:51: WARNING: Inline emphasis start-string without end-string.\nTraceback (most recent call last):\n  File \"/home/release/Sage/src/doc/common/builder.py\", line 83, in f\n    execfile(sys.argv[0])\n  File \"/home/release/Sage/src/doc/common/custom-sphinx-build.py\", line 185, in <module>\n    sphinx.cmdline.main(sys.argv)\n  File \"/home/release/Sage/local/lib/python2.7/site-packages/Sphinx-1.1.2-py2.7.egg/sphinx/cmdline.py\", line 206, in main\n    print >>error\n  File \"/home/release/Sage/src/doc/common/custom-sphinx-build.py\", line 165, in write\n    self._write(str)\n  File \"/home/release/Sage/src/doc/common/custom-sphinx-build.py\", line 139, in _write\n    self._log_line(line)\n  File \"/home/release/Sage/src/doc/common/custom-sphinx-build.py\", line 108, in _log_line\n    raise OSError(line)\nOSError: [categorie] /home/release/Sage/local/lib/python2.7/site-packages/sage/categories/finite_posets.py:docstring of sage.categories.finite_posets.FinitePosets.ParentMethods.birational_free_labelling:51: WARNING: Inline emphasis start-string without end-string.\n\n\n[lfunction] building [inventory]: targets for 4 source files that are out of date\n[lfunction] updating environment: 4 added, 0 changed, 0 removed\n[lfunction] reading sources... [ 25%] index\n[interface] loading pickled environment... not yet created\n[lfunction] reading sources... [ 50%] sage/lfunctions/dokchitser\n[interface] building [inventory]: targets for 23 source files that are out of date\n[interface] updating environment: 23 added, 0 changed, 0 removed\n[interface] reading sources... [  4%] index\n[functions] reading sources... [ 81%] sage/functions/spike_function\n[interface] reading sources... [  8%] sage/interfaces/axiom\nError building the documentation.\nTraceback (most recent call last):\n  File \"/home/release/Sage/src/doc/common/builder.py\", line 1474, in <module>\n    getattr(get_builder(name), type)()\n  File \"/home/release/Sage/src/doc/common/builder.py\", line 269, in _wrapper\n    getattr(get_builder(document), 'inventory')(*args, **kwds)\n  File \"/home/release/Sage/src/doc/common/builder.py\", line 485, in _wrapper\n    x.get(99999)\n  File \"/home/release/Sage/local/lib/python/multiprocessing/pool.py\", line 554, in get\n    raise self._value\nOSError: [categorie] /home/release/Sage/local/lib/python2.7/site-packages/sage/categories/finite_posets.py:docstring of sage.categories.finite_posets.FinitePosets.ParentMethods.birational_free_labelling:51: WARNING: Inline emphasis start-string without end-string.\n```\n",
    "created_at": "2014-03-03T16:52:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15355",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15355#issuecomment-197652",
    "user": "https://github.com/vbraun"
}
```

Documentation does not build:

```
[categorie] /home/release/Sage/local/lib/python2.7/site-packages/sage/categories/finite_posets.py:docstring of sage.categories.finite_posets.FinitePosets.ParentMethods.birational_free_labelling:51: WARNING: Inline emphasis start-string without end-string.
[categorie] /home/release/Sage/local/lib/python2.7/site-packages/sage/categories/finite_posets.py:docstring of sage.categories.finite_posets.FinitePosets.ParentMethods.birational_free_labelling:51: WARNING: Inline emphasis start-string without end-string.
Traceback (most recent call last):
  File "/home/release/Sage/src/doc/common/builder.py", line 83, in f
    execfile(sys.argv[0])
  File "/home/release/Sage/src/doc/common/custom-sphinx-build.py", line 185, in <module>
    sphinx.cmdline.main(sys.argv)
  File "/home/release/Sage/local/lib/python2.7/site-packages/Sphinx-1.1.2-py2.7.egg/sphinx/cmdline.py", line 206, in main
    print >>error
  File "/home/release/Sage/src/doc/common/custom-sphinx-build.py", line 165, in write
    self._write(str)
  File "/home/release/Sage/src/doc/common/custom-sphinx-build.py", line 139, in _write
    self._log_line(line)
  File "/home/release/Sage/src/doc/common/custom-sphinx-build.py", line 108, in _log_line
    raise OSError(line)
OSError: [categorie] /home/release/Sage/local/lib/python2.7/site-packages/sage/categories/finite_posets.py:docstring of sage.categories.finite_posets.FinitePosets.ParentMethods.birational_free_labelling:51: WARNING: Inline emphasis start-string without end-string.


[lfunction] building [inventory]: targets for 4 source files that are out of date
[lfunction] updating environment: 4 added, 0 changed, 0 removed
[lfunction] reading sources... [ 25%] index
[interface] loading pickled environment... not yet created
[lfunction] reading sources... [ 50%] sage/lfunctions/dokchitser
[interface] building [inventory]: targets for 23 source files that are out of date
[interface] updating environment: 23 added, 0 changed, 0 removed
[interface] reading sources... [  4%] index
[functions] reading sources... [ 81%] sage/functions/spike_function
[interface] reading sources... [  8%] sage/interfaces/axiom
Error building the documentation.
Traceback (most recent call last):
  File "/home/release/Sage/src/doc/common/builder.py", line 1474, in <module>
    getattr(get_builder(name), type)()
  File "/home/release/Sage/src/doc/common/builder.py", line 269, in _wrapper
    getattr(get_builder(document), 'inventory')(*args, **kwds)
  File "/home/release/Sage/src/doc/common/builder.py", line 485, in _wrapper
    x.get(99999)
  File "/home/release/Sage/local/lib/python/multiprocessing/pool.py", line 554, in get
    raise self._value
OSError: [categorie] /home/release/Sage/local/lib/python2.7/site-packages/sage/categories/finite_posets.py:docstring of sage.categories.finite_posets.FinitePosets.ParentMethods.birational_free_labelling:51: WARNING: Inline emphasis start-string without end-string.
```




---

archive/issue_comments_197653.json:
```json
{
    "body": "Thanks for the catch. Am I right to assume that this\n\n```\n            existing elements of `P` and `1`. Now, a `\\mathbf{K}`*-labelling\n            of* `P` will mean any function from `\\widehat{P}` to `\\mathbf{K}`.\n```\n\nshould be this:\n\n```\n            existing elements of `P` and `1`. Now, a *`\\mathbf{K}`-labelling\n            of* `P` will mean any function from `\\widehat{P}` to `\\mathbf{K}`.\n```\n\n(I can't compile doc fast enough to check this now.)",
    "created_at": "2014-03-03T17:05:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15355",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15355#issuecomment-197653",
    "user": "https://github.com/darijgr"
}
```

Thanks for the catch. Am I right to assume that this

```
            existing elements of `P` and `1`. Now, a `\mathbf{K}`*-labelling
            of* `P` will mean any function from `\widehat{P}` to `\mathbf{K}`.
```

should be this:

```
            existing elements of `P` and `1`. Now, a *`\mathbf{K}`-labelling
            of* `P` will mean any function from `\widehat{P}` to `\mathbf{K}`.
```

(I can't compile doc fast enough to check this now.)



---

archive/issue_comments_197654.json:
```json
{
    "body": "I think this should be the correct way of doing things:\n\n```\n            existing elements of `P` and `1`. Now, a `\\mathbf{K}`-*labelling\n            of* `P` will mean any function from `\\widehat{P}` to `\\mathbf{K}`.\n```\n",
    "created_at": "2014-03-03T22:19:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15355",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15355#issuecomment-197654",
    "user": "https://github.com/tscrim"
}
```

I think this should be the correct way of doing things:

```
            existing elements of `P` and `1`. Now, a `\mathbf{K}`-*labelling
            of* `P` will mean any function from `\widehat{P}` to `\mathbf{K}`.
```




---

archive/issue_comments_197655.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2014-03-03T23:19:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15355",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15355#issuecomment-197655",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_197656.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2014-03-03T23:19:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15355",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15355#issuecomment-197656",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_197657.json:
```json
{
    "body": "Sorry, the bug was on a different line. Apparently Sphinx doesn't like italics beginning or ending in the middle of a word, and I had `*pro*motion`.\n\nI guess it's positive_review due to the insignificance of the edits.",
    "created_at": "2014-03-03T23:20:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15355",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15355#issuecomment-197657",
    "user": "https://github.com/darijgr"
}
```

Sorry, the bug was on a different line. Apparently Sphinx doesn't like italics beginning or ending in the middle of a word, and I had `*pro*motion`.

I guess it's positive_review due to the insignificance of the edits.



---

archive/issue_comments_197658.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-03-03T23:20:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15355",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15355#issuecomment-197658",
    "user": "https://github.com/darijgr"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_015010.json:
```json
{
    "actor": "@vbraun",
    "created_at": "2014-03-04T16:58:47Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/15355",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15355#event-15010"
}
```



---

archive/issue_comments_197659.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-03-04T16:58:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15355",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15355#issuecomment-197659",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
