# Issue 18194: Make new-style packages define their type and dependencies

archive/issues_018194.json:
```json
{
    "body": "CC:  @vbraun\n\nWith this branch, it is not necssary anymore to copy/paste a package's name in four different places in order to make it standard.\n\nThis is done by adding two files in each folder:\n- 'type': can contain either 'base', 'standard', 'optional', or 'experimental'\n- 'dependencies': lists the dependencies of a package in \"Make\" notation.\n\nI regret not having been able to make the 'dependencies' files clearer (they are a copy of the target dependencies form the Makefiles). Making it more human-readable is complicated, as we have to handle the \"|\" Make character (for order-only-prerequisite). Also, some standard packages depend on targets with are not packages themselves (i.e. prereq).\n\nThe commit are split in order to ease the review.\n\nNathann\n\nIssue created by migration from https://trac.sagemath.org/ticket/18431\n\n",
    "created_at": "2015-05-16T19:30:41Z",
    "labels": [
        "build",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.7",
    "title": "Make new-style packages define their type and dependencies",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18194",
    "user": "@nathanncohen"
}
```
CC:  @vbraun

With this branch, it is not necssary anymore to copy/paste a package's name in four different places in order to make it standard.

This is done by adding two files in each folder:
- 'type': can contain either 'base', 'standard', 'optional', or 'experimental'
- 'dependencies': lists the dependencies of a package in "Make" notation.

I regret not having been able to make the 'dependencies' files clearer (they are a copy of the target dependencies form the Makefiles). Making it more human-readable is complicated, as we have to handle the "|" Make character (for order-only-prerequisite). Also, some standard packages depend on targets with are not packages themselves (i.e. prereq).

The commit are split in order to ease the review.

Nathann

Issue created by migration from https://trac.sagemath.org/ticket/18431





---

archive/issue_comments_245529.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-05-16T19:31:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18194#issuecomment-245529",
    "user": "@nathanncohen"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_245530.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-05-16T19:31:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18194#issuecomment-245530",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_245531.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-05-17T06:38:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18194#issuecomment-245531",
    "user": "@a-andre"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_245532.json:
```json
{
    "body": "In **build/pkgs/conway_polynomials/dependencies**\n\n```\nCONWAY_POLYNOMIALS depends on depends on ...\n```\n",
    "created_at": "2015-05-17T06:38:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18194#issuecomment-245532",
    "user": "@a-andre"
}
```

In **build/pkgs/conway_polynomials/dependencies**

```
CONWAY_POLYNOMIALS depends on depends on ...
```




---

archive/issue_comments_245533.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-05-17T06:43:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18194#issuecomment-245533",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_245534.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-05-17T06:43:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18194#issuecomment-245534",
    "user": "@nathanncohen"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_245535.json:
```json
{
    "body": "Can you replace the tabs by spaces in `build/install`. Apart from that, lgtm.",
    "created_at": "2015-05-17T10:10:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18194#issuecomment-245535",
    "user": "@vbraun"
}
```

Can you replace the tabs by spaces in `build/install`. Apart from that, lgtm.



---

archive/issue_comments_245536.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-05-17T10:14:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18194#issuecomment-245536",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_245537.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-05-17T10:17:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18194#issuecomment-245537",
    "user": "@vbraun"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_245538.json:
```json
{
    "body": "Thanks !\n\nNathann",
    "created_at": "2015-05-17T10:18:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18194#issuecomment-245538",
    "user": "@nathanncohen"
}
```

Thanks !

Nathann



---

archive/issue_comments_245539.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-05-18T21:11:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18194#issuecomment-245539",
    "user": "@vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_245540.json:
```json
{
    "body": "Resolution changed from fixed to ",
    "created_at": "2015-05-18T21:41:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18194#issuecomment-245540",
    "user": "@vbraun"
}
```

Resolution changed from fixed to 



---

archive/issue_comments_245541.json:
```json
{
    "body": "Changing status from closed to new.",
    "created_at": "2015-05-18T21:41:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18194#issuecomment-245541",
    "user": "@vbraun"
}
```

Changing status from closed to new.



---

archive/issue_comments_245542.json:
```json
{
    "body": "PATCH is not defined in build/Makefile, so rebuilds from scratch fail",
    "created_at": "2015-05-18T21:41:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18194#issuecomment-245542",
    "user": "@vbraun"
}
```

PATCH is not defined in build/Makefile, so rebuilds from scratch fail



---

archive/issue_comments_245543.json:
```json
{
    "body": "Last 10 new commits:",
    "created_at": "2015-05-18T22:19:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18194#issuecomment-245543",
    "user": "@jdemeyer"
}
```

Last 10 new commits:



---

archive/issue_comments_245544.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-05-18T22:19:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18194#issuecomment-245544",
    "user": "@jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_245545.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-05-18T22:20:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18194#issuecomment-245545",
    "user": "@jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_245546.json:
```json
{
    "body": "I made this ticket the union of #18431 and #18441, both positively reviewed.",
    "created_at": "2015-05-18T22:21:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18194#issuecomment-245546",
    "user": "@jdemeyer"
}
```

I made this ticket the union of #18431 and #18441, both positively reviewed.



---

archive/issue_comments_245547.json:
```json
{
    "body": "So what am I supposed to merge? can you fix dependencies and milestones?",
    "created_at": "2015-05-18T22:44:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18194#issuecomment-245547",
    "user": "@vbraun"
}
```

So what am I supposed to merge? can you fix dependencies and milestones?



---

archive/issue_comments_245548.json:
```json
{
    "body": "> I made this ticket the union of #18431 and #18441, both positively reviewed.\n\nWhy on earth did you di that? `O_o`\n\nThe two were reviewed, the two would have been merged together `O_o`",
    "created_at": "2015-05-19T05:11:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18194#issuecomment-245548",
    "user": "@nathanncohen"
}
```

> I made this ticket the union of #18431 and #18441, both positively reviewed.

Why on earth did you di that? `O_o`

The two were reviewed, the two would have been merged together `O_o`



---

archive/issue_comments_245549.json:
```json
{
    "body": "Replying to [comment:15 vbraun]:\n> So what am I supposed to merge?\nThe branch on this ticket (which was formerly the branch of #18441 and which includes the commits of #18431).\n\n> can you fix dependencies and milestones?\nWell, there is no `sage-6.8` milestone but apart from that, it should be correct as-is.",
    "created_at": "2015-05-19T06:07:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18194#issuecomment-245549",
    "user": "@jdemeyer"
}
```

Replying to [comment:15 vbraun]:
> So what am I supposed to merge?
The branch on this ticket (which was formerly the branch of #18441 and which includes the commits of #18431).

> can you fix dependencies and milestones?
Well, there is no `sage-6.8` milestone but apart from that, it should be correct as-is.



---

archive/issue_comments_245550.json:
```json
{
    "body": "Replying to [comment:16 ncohen]:\n> > I made this ticket the union of #18431 and #18441, both positively reviewed.\n> \n> Why on earth did you di that? `O_o`\nWell, I didn't know the release manager's opinion on forcing tickets to be merged together and I didn't want to risk rejection.",
    "created_at": "2015-05-19T06:09:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18194#issuecomment-245550",
    "user": "@jdemeyer"
}
```

Replying to [comment:16 ncohen]:
> > I made this ticket the union of #18431 and #18441, both positively reviewed.
> 
> Why on earth did you di that? `O_o`
Well, I didn't know the release manager's opinion on forcing tickets to be merged together and I didn't want to risk rejection.



---

archive/issue_comments_245551.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-05-19T22:07:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18194#issuecomment-245551",
    "user": "@vbraun"
}
```

Resolution: fixed
