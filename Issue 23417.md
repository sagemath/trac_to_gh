# Issue 23417: Bug in ClusterAlgebra _coerce_map_from_

Issue created by migration from Trac.

Original creator: etn40ff

Original creation time: 2017-08-19 16:35:47

CC:  drupel

Keywords: ClusterAlgebras, coercion

Right now the method `_coerce_map_from_` of `ClusterAlgebra` references a variable before actually defining it:


```
sage: A = ClusterAlgebra(['A',2])
sage: AA = ClusterAlgebra(['A',3])
sage: A.has_coerce_map_from(AA)
Traceback (most recent call last):
...
UnboundLocalError: local variable 'f' referenced before assignment
```




---

Comment by etn40ff created at 2017-08-19 16:45:55

New commits:


---

Comment by etn40ff created at 2017-08-19 16:45:55

Changing status from new to needs_review.


---

Comment by chapoton created at 2017-08-19 19:25:44

About the added documentation : it is not aligned with the rest ; and there should be an empty line after 

```
+		 Check that :trac:`23654` is fixed::
```



---

Comment by git created at 2017-08-19 19:55:20

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2017-08-19 19:57:59

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by etn40ff created at 2017-08-19 19:58:37

Thank you Frédéric
----
New commits:


---

Comment by chapoton created at 2017-08-20 06:31:03

Changing status from needs_review to positive_review.


---

Comment by chapoton created at 2017-08-20 06:31:03

ok, let it be.


---

Comment by vbraun created at 2017-08-21 19:23:49

Resolution: fixed
