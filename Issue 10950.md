# Issue 10950: Basic implementation of one- and twosided ideals of non-commutative rings

archive/issues_010950.json:
```json
{
    "body": "Assignee: AlexGhitza\n\nCC:  nthiery jhpalmieri\n\nKeywords: onesided twosided ideal noncommutative ring\n\nIt was suggested that my patch for #7797 be split into several parts.\n\nThe first part shall be about ideals in non-commutative rings. Aim, for example:\n\n```\nsage: A = SteenrodAlgebra(2)\nsage: A*[A.0,A.1^2]\nLeft Ideal (Sq(1), Sq(1,1)) of mod 2 Steenrod algebra\nsage: [A.0,A.1^2]*A\nRight Ideal (Sq(1), Sq(1,1)) of mod 2 Steenrod algebra\nsage: A*[A.0,A.1^2]*A\nTwosided Ideal (Sq(1), Sq(1,1)) of mod 2 Steenrod algebra\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/11068\n\n",
    "created_at": "2011-03-28T07:11:28Z",
    "labels": [
        "algebra",
        "major",
        "PLEASE CHANGE"
    ],
    "title": "Basic implementation of one- and twosided ideals of non-commutative rings",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/10950",
    "user": "SimonKing"
}
```
Assignee: AlexGhitza

CC:  nthiery jhpalmieri

Keywords: onesided twosided ideal noncommutative ring

It was suggested that my patch for #7797 be split into several parts.

The first part shall be about ideals in non-commutative rings. Aim, for example:

```
sage: A = SteenrodAlgebra(2)
sage: A*[A.0,A.1^2]
Left Ideal (Sq(1), Sq(1,1)) of mod 2 Steenrod algebra
sage: [A.0,A.1^2]*A
Right Ideal (Sq(1), Sq(1,1)) of mod 2 Steenrod algebra
sage: A*[A.0,A.1^2]*A
Twosided Ideal (Sq(1), Sq(1,1)) of mod 2 Steenrod algebra
```


Issue created by migration from https://trac.sagemath.org/ticket/11068





---

archive/issue_comments_117795.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2011-03-28T07:58:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117795",
    "user": "SimonKing"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_117796.json:
```json
{
    "body": "Depends on #10961\n\nThe patch is incomplete, since proper examples are missing. Proper examples will be provided by #7797, but Nicolas promised to try and find some \"small\" example.\n\nReally, all what we need is a non-commutative ring and something that inherits from `Ideal_nc` and provides a `reduce()` method yielding normal forms.\n\nAlso, that patch is preliminary, since it copies some code from sage/rings/ring.pyx to sage/categories/rings.py, rather than *moving* it.",
    "created_at": "2011-03-28T13:34:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117796",
    "user": "SimonKing"
}
```

Depends on #10961

The patch is incomplete, since proper examples are missing. Proper examples will be provided by #7797, but Nicolas promised to try and find some "small" example.

Really, all what we need is a non-commutative ring and something that inherits from `Ideal_nc` and provides a `reduce()` method yielding normal forms.

Also, that patch is preliminary, since it copies some code from sage/rings/ring.pyx to sage/categories/rings.py, rather than *moving* it.



---

archive/issue_comments_117797.json:
```json
{
    "body": "Changing status from new to needs_work.",
    "created_at": "2011-03-28T13:34:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117797",
    "user": "SimonKing"
}
```

Changing status from new to needs_work.



---

archive/issue_comments_117798.json:
```json
{
    "body": "Concerning examples.\n\nI suggest to make a standard example out of the following emulation of a certain very simple ideals of a free algebra, *without* letterplace:\n\n```\nsage: from sage.rings.noncommutative_ideals import Ideal_nc\n# mainly we need a 'reduce()' method. So, provide one!\nsage: class PowerIdeal(Ideal_nc):\n....:     def __init__(self, R, n):\n....:         self._power = n\n....:         Ideal_nc.__init__(self,R,[x^n for x in R.gens()])\n....:     def reduce(self,x):\n....:         R = self.ring()\n....:         return add([c*R(m) for c,m in x if len(m)<self._power],R(0))\n....:\nsage: F.<x,y,z> = FreeAlgebra(QQ, 3)\nsage: I3 = PowerIdeal(F,3); I3\nTwosided Ideal (x^3, y^3, z^3) of Free Algebra on 3 generators (x, y, z) over Rational Field\n# We need to use super in order to access the generic quotient:\nsage: Q3.<a,b,c> = super(F.__class__,F).quotient(I3)\nsage: Q3\nQuotient of Free Algebra on 3 generators (x, y, z) over Rational Field by the ideal (x^3, y^3, z^3)\nsage: (a+b+2)^4\n16 + 32*x + 32*y + 24*x^2 + 24*x*y + 24*y*x + 24*y^2\nsage: Q3.is_commutative()\nFalse\nsage: I2 = PowerIdeal(F,2); I2\nTwosided Ideal (x^2, y^2, z^2) of Free Algebra on 3 generators (x, y, z) over Rational Field\nsage: Q2.<a,b,c> = super(F.__class__,F).quotient(I2)\nsage: Q2.is_commutative()\nTrue\nsage: (a+b+2)^4\n16 + 32*x + 32*y\n```\n\n\nI think I would be able to add this example as doc test tomorrow, also removing the whole ideal and quotient stuff from `sage.rings.ring.Ring` to `sage.categories.rings.Rings.ParentMethods`.",
    "created_at": "2011-03-28T18:19:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117798",
    "user": "SimonKing"
}
```

Concerning examples.

I suggest to make a standard example out of the following emulation of a certain very simple ideals of a free algebra, *without* letterplace:

```
sage: from sage.rings.noncommutative_ideals import Ideal_nc
# mainly we need a 'reduce()' method. So, provide one!
sage: class PowerIdeal(Ideal_nc):
....:     def __init__(self, R, n):
....:         self._power = n
....:         Ideal_nc.__init__(self,R,[x^n for x in R.gens()])
....:     def reduce(self,x):
....:         R = self.ring()
....:         return add([c*R(m) for c,m in x if len(m)<self._power],R(0))
....:
sage: F.<x,y,z> = FreeAlgebra(QQ, 3)
sage: I3 = PowerIdeal(F,3); I3
Twosided Ideal (x^3, y^3, z^3) of Free Algebra on 3 generators (x, y, z) over Rational Field
# We need to use super in order to access the generic quotient:
sage: Q3.<a,b,c> = super(F.__class__,F).quotient(I3)
sage: Q3
Quotient of Free Algebra on 3 generators (x, y, z) over Rational Field by the ideal (x^3, y^3, z^3)
sage: (a+b+2)^4
16 + 32*x + 32*y + 24*x^2 + 24*x*y + 24*y*x + 24*y^2
sage: Q3.is_commutative()
False
sage: I2 = PowerIdeal(F,2); I2
Twosided Ideal (x^2, y^2, z^2) of Free Algebra on 3 generators (x, y, z) over Rational Field
sage: Q2.<a,b,c> = super(F.__class__,F).quotient(I2)
sage: Q2.is_commutative()
True
sage: (a+b+2)^4
16 + 32*x + 32*y
```


I think I would be able to add this example as doc test tomorrow, also removing the whole ideal and quotient stuff from `sage.rings.ring.Ring` to `sage.categories.rings.Rings.ParentMethods`.



---

archive/issue_comments_117799.json:
```json
{
    "body": "Nice! That sounds like a perfect example indeed.\n\nThanks for removing this item from my TODO list :-)",
    "created_at": "2011-03-28T18:59:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117799",
    "user": "nthiery"
}
```

Nice! That sounds like a perfect example indeed.

Thanks for removing this item from my TODO list :-)



---

archive/issue_comments_117800.json:
```json
{
    "body": "Replying to [comment:3 SimonKing]:\n> ...\n> I think I would be able to add this example as doc test tomorrow, also removing the whole ideal and quotient stuff from `sage.rings.ring.Ring` to `sage.categories.rings.Rings.ParentMethods`.\n\nApparently it took a lot longer. The problem is \"moving the whole ideal and quotient stuff from `sage.rings.ring.Ring` to `sage.categories.rings.Rings.ParentMethods`. Namely, that involves a couple of methods with cached output (the cache being hand-written). One could use the `@`cached_method decorator in the parent methods -- but the problem is that the cache breaks when one has a ring that does not allow attribute assignment.\n\nThat problem is solved at #11115. Moreover, `@`cached_method is now *faster* than a hand-written cache in Python. However, it is slower than a hand-written cache in Cython.\n\nSo, the question is: Can we accept the slow-down that would result from moving code from the ring class to the ring category? Or is it easier to accept some duplication of code?",
    "created_at": "2011-04-10T18:58:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117800",
    "user": "SimonKing"
}
```

Replying to [comment:3 SimonKing]:
> ...
> I think I would be able to add this example as doc test tomorrow, also removing the whole ideal and quotient stuff from `sage.rings.ring.Ring` to `sage.categories.rings.Rings.ParentMethods`.

Apparently it took a lot longer. The problem is "moving the whole ideal and quotient stuff from `sage.rings.ring.Ring` to `sage.categories.rings.Rings.ParentMethods`. Namely, that involves a couple of methods with cached output (the cache being hand-written). One could use the `@`cached_method decorator in the parent methods -- but the problem is that the cache breaks when one has a ring that does not allow attribute assignment.

That problem is solved at #11115. Moreover, `@`cached_method is now *faster* than a hand-written cache in Python. However, it is slower than a hand-written cache in Cython.

So, the question is: Can we accept the slow-down that would result from moving code from the ring class to the ring category? Or is it easier to accept some duplication of code?



---

archive/issue_comments_117801.json:
```json
{
    "body": "Replying to [comment:5 SimonKing]:\n> So, the question is: Can we accept the slow-down that would result from moving code from the ring class to the ring category? Or is it easier to accept some duplication of code?\n\nAny answer? Probably one would first need to see how much of a slow-down we will really find.",
    "created_at": "2011-04-19T08:32:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117801",
    "user": "SimonKing"
}
```

Replying to [comment:5 SimonKing]:
> So, the question is: Can we accept the slow-down that would result from moving code from the ring class to the ring category? Or is it easier to accept some duplication of code?

Any answer? Probably one would first need to see how much of a slow-down we will really find.



---

archive/issue_comments_117802.json:
```json
{
    "body": "Currently I work on the following technical problem:\n\nThe category of a quotient ring is not properly initialised. Thus, a proper `TestSuite` is not available. I guess, a quotient ring of a ring R should belong to the category `R.category().Quotients()`. Doing, so, there are further problems, since some crucial methods such as `lift` have a completely different meaning in sage.rings.quotient_rings and sage.categories.quotients.\n\nSo, that mess needs to be cleaned up.",
    "created_at": "2011-04-19T14:35:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117802",
    "user": "SimonKing"
}
```

Currently I work on the following technical problem:

The category of a quotient ring is not properly initialised. Thus, a proper `TestSuite` is not available. I guess, a quotient ring of a ring R should belong to the category `R.category().Quotients()`. Doing, so, there are further problems, since some crucial methods such as `lift` have a completely different meaning in sage.rings.quotient_rings and sage.categories.quotients.

So, that mess needs to be cleaned up.



---

archive/issue_comments_117803.json:
```json
{
    "body": "I think it should be part of this ticket to properly use categories and the new coercion model for\n\n* quotient rings\n* (free) monoids\n* free algebras\n\nThat has not been done in #9138, but I think it fits here as well, since \"quotients\" is mentioned in the ticket title, and free algebras could provide nice examples, if they would use the category framework.",
    "created_at": "2011-04-19T15:55:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117803",
    "user": "SimonKing"
}
```

I think it should be part of this ticket to properly use categories and the new coercion model for

* quotient rings
* (free) monoids
* free algebras

That has not been done in #9138, but I think it fits here as well, since "quotients" is mentioned in the ticket title, and free algebras could provide nice examples, if they would use the category framework.



---

archive/issue_comments_117804.json:
```json
{
    "body": "Replying to [comment:7 SimonKing]:\n> I guess, a quotient ring of a ring R should belong to the category `R.category().Quotients()`.\n\n+1\n\n> Doing, so, there are further problems, since some crucial methods\n> such as `lift` have a completely different meaning in\n> sage.rings.quotient_rings and sage.categories.quotients.\n\nThat's precisely the issue that stopped me starting the refactoring of\nquotient, because there was a design discussion to be run first on\nsage-devel to see which syntax should be prefered:\n\n- that currently used in the category framework for sub quotients:\n\n    P.lift     either a plain Python method, or better the lift\n               function as a morphism\n    P.lift(x)  lifts x to the ambient space of P\n\n- or that used in sage.rings.quotient_rings:\n\n    P.lift()(x) lifts x to the ambient space of P\n    P.lift()    the lifting morphism\n\nI personally prefer the former, first from a syntactical point of\nview, and because it make it easy in practice to implement lift.\n\nNote: at first sight, it seems easy to make the change in this\ndirection while retaining backward compatibility by just patching\nsage.ring.quotient_rings so that P.lift(x) delegates the work to\nP.lift()(x).\n\nDo you mind running this dicussion on sage-devel?\n\nCheers,\n\t\t\tNicolas",
    "created_at": "2011-04-20T08:49:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117804",
    "user": "nthiery"
}
```

Replying to [comment:7 SimonKing]:
> I guess, a quotient ring of a ring R should belong to the category `R.category().Quotients()`.

+1

> Doing, so, there are further problems, since some crucial methods
> such as `lift` have a completely different meaning in
> sage.rings.quotient_rings and sage.categories.quotients.

That's precisely the issue that stopped me starting the refactoring of
quotient, because there was a design discussion to be run first on
sage-devel to see which syntax should be prefered:

- that currently used in the category framework for sub quotients:

    P.lift     either a plain Python method, or better the lift
               function as a morphism
    P.lift(x)  lifts x to the ambient space of P

- or that used in sage.rings.quotient_rings:

    P.lift()(x) lifts x to the ambient space of P
    P.lift()    the lifting morphism

I personally prefer the former, first from a syntactical point of
view, and because it make it easy in practice to implement lift.

Note: at first sight, it seems easy to make the change in this
direction while retaining backward compatibility by just patching
sage.ring.quotient_rings so that P.lift(x) delegates the work to
P.lift()(x).

Do you mind running this dicussion on sage-devel?

Cheers,
			Nicolas



---

archive/issue_comments_117805.json:
```json
{
    "body": "Replying to [comment:9 nthiery]:\n>  - that currently used in the category framework for sub quotients:\n> \n>      P.lift     either a plain Python method, or better the lift\n>                 function as a morphism\n>      P.lift(x)  lifts x to the ambient space of P\n\nI think the object oriented mantra implies that the correct syntax for lifting an element x of P to the ambient space of P is `x.lift()` (which is implemented). And I am not a fan of providing stuff by attributes (so, I wouldn't like `P.lift` being a morphism).\n\nOn the other hand, `P.lift(x)` could be understood as \"P, please lift x!\".\n\nMoreover:\n \n>  - or that used in sage.rings.quotient_rings:\n> \n>      P.lift()(x) lifts x to the ambient space of P\n>      P.lift()    the lifting morphism\n\nAs you state, it is the \"lifting morphism\", not the \"lift\". The term \"lifting morphism\" is used in the documentation as well. So, explicit being better than implicit, \"P.lift()\" as it is used in sage.rings.quotient_rings, should be renamed as \"P.lifting_morphism()\".\n\nSo, I tend towards using the notions from the subquotient framework.\n\n> Do you mind running this dicussion on sage-devel?\n\nNot at all. I just hope that people will answer.",
    "created_at": "2011-04-20T09:06:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117805",
    "user": "SimonKing"
}
```

Replying to [comment:9 nthiery]:
>  - that currently used in the category framework for sub quotients:
> 
>      P.lift     either a plain Python method, or better the lift
>                 function as a morphism
>      P.lift(x)  lifts x to the ambient space of P

I think the object oriented mantra implies that the correct syntax for lifting an element x of P to the ambient space of P is `x.lift()` (which is implemented). And I am not a fan of providing stuff by attributes (so, I wouldn't like `P.lift` being a morphism).

On the other hand, `P.lift(x)` could be understood as "P, please lift x!".

Moreover:
 
>  - or that used in sage.rings.quotient_rings:
> 
>      P.lift()(x) lifts x to the ambient space of P
>      P.lift()    the lifting morphism

As you state, it is the "lifting morphism", not the "lift". The term "lifting morphism" is used in the documentation as well. So, explicit being better than implicit, "P.lift()" as it is used in sage.rings.quotient_rings, should be renamed as "P.lifting_morphism()".

So, I tend towards using the notions from the subquotient framework.

> Do you mind running this dicussion on sage-devel?

Not at all. I just hope that people will answer.



---

archive/issue_comments_117806.json:
```json
{
    "body": "It was suggested on sage-devel to have both: By making `x` an optional argument, `Q.lift()` could return the lifting map (following the old rules of sage.rings.quotient_ring), and `Q.lift(x)` could return a lift of x (following the old rules of the category framework).\n\nI think I will go for that solution.\n\nUnfortunately, I was not told yet whether I shall duplicate the code, or move it...",
    "created_at": "2011-04-26T17:02:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117806",
    "user": "SimonKing"
}
```

It was suggested on sage-devel to have both: By making `x` an optional argument, `Q.lift()` could return the lifting map (following the old rules of sage.rings.quotient_ring), and `Q.lift(x)` could return a lift of x (following the old rules of the category framework).

I think I will go for that solution.

Unfortunately, I was not told yet whether I shall duplicate the code, or move it...



---

archive/issue_comments_117807.json:
```json
{
    "body": "I updated my patch, now as the background work in #9138 seems settled from my point of view.\n\nIn that patch, I went for the \"duplicate code for speed's sake\" approach. I don't mind beig asked to change it, though (i.e., it seems possible to delete the ideal stuff from sage.rings.ring and move it over to sage.categories.rings).\n\nDepends on #10961 #9138 #11115",
    "created_at": "2011-04-26T21:03:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117807",
    "user": "SimonKing"
}
```

I updated my patch, now as the background work in #9138 seems settled from my point of view.

In that patch, I went for the "duplicate code for speed's sake" approach. I don't mind beig asked to change it, though (i.e., it seems possible to delete the ideal stuff from sage.rings.ring and move it over to sage.categories.rings).

Depends on #10961 #9138 #11115



---

archive/issue_comments_117808.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2011-04-26T21:03:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117808",
    "user": "SimonKing"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_117809.json:
```json
{
    "body": "I noticed that the ticket description stated an incomplete list of dependencies",
    "created_at": "2011-04-28T12:19:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117809",
    "user": "SimonKing"
}
```

I noticed that the ticket description stated an incomplete list of dependencies



---

archive/issue_comments_117810.json:
```json
{
    "body": "I had to rebase my patch, because of #11139 (I don't add it as a dependency for this ticket, since it is already, by #9138).\n\nI am now running doctests. It is still \"needs review\", but I think #11342, #9138 and #11115 need review more urgently.",
    "created_at": "2011-05-25T06:50:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117810",
    "user": "SimonKing"
}
```

I had to rebase my patch, because of #11139 (I don't add it as a dependency for this ticket, since it is already, by #9138).

I am now running doctests. It is still "needs review", but I think #11342, #9138 and #11115 need review more urgently.



---

archive/issue_comments_117811.json:
```json
{
    "body": "I just found one problem that should be fixed.\n\nIn unpatched Sage, we have\n\n```\nsage: R = Integers(8)\nsage: R.quotient(R.ideal(2),['bla'])\nQuotient of Integer Ring by the ideal (2)\n```\n\n\nShouldn't the result rather be the same as `Integers(2)`?\n\nWith my patch as it currently is, the example fails with a type error. But I think I can make it work, so that the result will be \"Ring of integers modulo 2\".",
    "created_at": "2011-05-25T08:43:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117811",
    "user": "SimonKing"
}
```

I just found one problem that should be fixed.

In unpatched Sage, we have

```
sage: R = Integers(8)
sage: R.quotient(R.ideal(2),['bla'])
Quotient of Integer Ring by the ideal (2)
```


Shouldn't the result rather be the same as `Integers(2)`?

With my patch as it currently is, the example fails with a type error. But I think I can make it work, so that the result will be "Ring of integers modulo 2".



---

archive/issue_comments_117812.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2011-05-25T08:43:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117812",
    "user": "SimonKing"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_117813.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2011-05-25T09:08:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117813",
    "user": "SimonKing"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_117814.json:
```json
{
    "body": "Done!\n\nWith the new patch, we have\n\n```\nsage: R = Integers(8)\nsage: I = R.ideal(2)\nsage: R.quotient(I)\nRing of integers modulo 2\n```\n",
    "created_at": "2011-05-25T09:08:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117814",
    "user": "SimonKing"
}
```

Done!

With the new patch, we have

```
sage: R = Integers(8)
sage: I = R.ideal(2)
sage: R.quotient(I)
Ring of integers modulo 2
```




---

archive/issue_comments_117815.json:
```json
{
    "body": "I had to rebase my patch against sage-4.7.1.rc1\n\nReview is still welcome...",
    "created_at": "2011-08-01T16:29:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117815",
    "user": "SimonKing"
}
```

I had to rebase my patch against sage-4.7.1.rc1

Review is still welcome...



---

archive/issue_comments_117816.json:
```json
{
    "body": "I had to rebase my patch.\n\nThat only concerns trivial changes in the doc tests, due to the fact that Steenrod algebras are now (by sage-4.7.1.rc2, at least) naming their basis (\"mod 2 Steenrod algebra\" became \"mod 2 Steenrod algebra, milnor basis\"), and that `Sq(0)` now prints as \"1\".\n\nI still think that having one and twosided ideals of non-commutative rings in Sage is a good think, and thus I'd appreciate a review. That said, reviews of #9138 and #11115 are more urgent...",
    "created_at": "2011-08-15T09:08:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117816",
    "user": "SimonKing"
}
```

I had to rebase my patch.

That only concerns trivial changes in the doc tests, due to the fact that Steenrod algebras are now (by sage-4.7.1.rc2, at least) naming their basis ("mod 2 Steenrod algebra" became "mod 2 Steenrod algebra, milnor basis"), and that `Sq(0)` now prints as "1".

I still think that having one and twosided ideals of non-commutative rings in Sage is a good think, and thus I'd appreciate a review. That said, reviews of #9138 and #11115 are more urgent...



---

archive/issue_comments_117817.json:
```json
{
    "body": "I'm working on testing this (have to recompile nearly everything!) but here are two comments:\n\n1. As far as I can tell, _ideal_class() does not distinguish between left, right, & two-sided ideals. The TO_DO (old lines 503-504 of sage/rings/ring.pyx) aims for this. This would be desirable; have I missed where it happens?\n2. typos: \"synonym\" is misspelled as \"synonyme\" in a few places, \"seves\" should be \"serves\".",
    "created_at": "2011-08-22T22:37:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117817",
    "user": "john_perry"
}
```

I'm working on testing this (have to recompile nearly everything!) but here are two comments:

1. As far as I can tell, _ideal_class() does not distinguish between left, right, & two-sided ideals. The TO_DO (old lines 503-504 of sage/rings/ring.pyx) aims for this. This would be desirable; have I missed where it happens?
2. typos: "synonym" is misspelled as "synonyme" in a few places, "seves" should be "serves".



---

archive/issue_comments_117818.json:
```json
{
    "body": "Update:\n\n1. Now that I think of it, does the request to distinguish left, right, & two-sided ideals makes sense in `_ideal_class()`? This is a method for a ring, not an ideal.\n2. You write,\n\n   It was suggested to also add quotients by twosided ideals, although it will be difficult to provide examples before having letterplace ideals.\n\n  I took the example given above of a two-sided ideal with the Steenrod algebra, and it would not compute the quotient ring; see below. Is this supposed to work?\n\n\n```\nsage: A = SteenrodAlgebra(2)\nsage: A*[A.0,A.1^2]*A\nTwosided Ideal (Sq(1), Sq(1,1)) of mod 2 Steenrod algebra, milnor basis\nsage: I = A*[A.0,A.1^2]*A\nsage: A.quo(I)\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n...\nValueError: variable names have not yet been set using self._assign_names(...)\n```\n",
    "created_at": "2011-08-23T00:35:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117818",
    "user": "john_perry"
}
```

Update:

1. Now that I think of it, does the request to distinguish left, right, & two-sided ideals makes sense in `_ideal_class()`? This is a method for a ring, not an ideal.
2. You write,

   It was suggested to also add quotients by twosided ideals, although it will be difficult to provide examples before having letterplace ideals.

  I took the example given above of a two-sided ideal with the Steenrod algebra, and it would not compute the quotient ring; see below. Is this supposed to work?


```
sage: A = SteenrodAlgebra(2)
sage: A*[A.0,A.1^2]*A
Twosided Ideal (Sq(1), Sq(1,1)) of mod 2 Steenrod algebra, milnor basis
sage: I = A*[A.0,A.1^2]*A
sage: A.quo(I)
---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)
...
ValueError: variable names have not yet been set using self._assign_names(...)
```




---

archive/issue_comments_117819.json:
```json
{
    "body": "Hi John,\n\nReplying to [comment:22 john_perry]:\n>   1. Now that I think of it, does the request to distinguish left, right, & two-sided ideals makes sense in `_ideal_class()`? This is a method for a ring, not an ideal.\n\nYes, _ideal_class is a method of the ring, not of the ideal. However, the returned class already depends (in some cases) on the number of generators (principal ideals versus general ideals). Theoretically, it could allso be made dependent on the sidedness of the ideal-to-be-constructed.\n\nHowever, I think it is better to have a common class for ideals in non-commutative rings. Instances of that class can be left, right or twosided. But (I think) it is not necessary to have one separate class for onesided and another separate class for twosided ideals. \n\n>   I took the example given above of a two-sided ideal with the Steenrod algebra, and it would not compute the quotient ring; see below. Is this supposed to work?\n> ...\n> sage: A.quo(I)\n> ...\n> ValueError: variable names have not yet been set using self._assign_names(...)\n\nIt is not so easy, because the Steenrod algebra has infinitely many generators (the number of generators is given by ngens). The Steenrod algebra can not provide a list of generator names either: The method variable_names() will not work, of course.\n\nBut when you want to construct a general ring quotient, the init method of the quotient ring expects that the ring you started with *knows* its variable names.\n\nIt may be possible to change the init method of quotient rings such that it will no longer be expected. But I think that should be on a different ticket.\n\nHint: You could start with a matrix algebra (say, 2x2 matrices over some field). Here, we have a finite list of generators (namely four matrices). And then, you could assign names to them when constructing the quotient, such as here\n\n```\nsage: MS = MatrixSpace(GF(5),2,2)\nsage: I = MS*[MS.0*MS.1,MS.2+MS.3]*MS\nsage: MS.ngens()\n4\nsage: I\nTwosided Ideal\n(\n  [0 1]\n  [0 0],\n\n  [0 0]\n  [1 1]\n)\n of Full MatrixSpace of 2 by 2 dense matrices over Finite Field of size 5\nsage: Q.<a,b,c,d> = MS.quo(I)\nsage: Q\nQuotient of Full MatrixSpace of 2 by 2 dense matrices over Finite Field of size 5 by the ideal\n(\n  [0 1]\n  [0 0],\n\n  [0 0]\n  [1 1]\n)\n```\n",
    "created_at": "2011-08-23T07:29:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117819",
    "user": "SimonKing"
}
```

Hi John,

Replying to [comment:22 john_perry]:
>   1. Now that I think of it, does the request to distinguish left, right, & two-sided ideals makes sense in `_ideal_class()`? This is a method for a ring, not an ideal.

Yes, _ideal_class is a method of the ring, not of the ideal. However, the returned class already depends (in some cases) on the number of generators (principal ideals versus general ideals). Theoretically, it could allso be made dependent on the sidedness of the ideal-to-be-constructed.

However, I think it is better to have a common class for ideals in non-commutative rings. Instances of that class can be left, right or twosided. But (I think) it is not necessary to have one separate class for onesided and another separate class for twosided ideals. 

>   I took the example given above of a two-sided ideal with the Steenrod algebra, and it would not compute the quotient ring; see below. Is this supposed to work?
> ...
> sage: A.quo(I)
> ...
> ValueError: variable names have not yet been set using self._assign_names(...)

It is not so easy, because the Steenrod algebra has infinitely many generators (the number of generators is given by ngens). The Steenrod algebra can not provide a list of generator names either: The method variable_names() will not work, of course.

But when you want to construct a general ring quotient, the init method of the quotient ring expects that the ring you started with *knows* its variable names.

It may be possible to change the init method of quotient rings such that it will no longer be expected. But I think that should be on a different ticket.

Hint: You could start with a matrix algebra (say, 2x2 matrices over some field). Here, we have a finite list of generators (namely four matrices). And then, you could assign names to them when constructing the quotient, such as here

```
sage: MS = MatrixSpace(GF(5),2,2)
sage: I = MS*[MS.0*MS.1,MS.2+MS.3]*MS
sage: MS.ngens()
4
sage: I
Twosided Ideal
(
  [0 1]
  [0 0],

  [0 0]
  [1 1]
)
 of Full MatrixSpace of 2 by 2 dense matrices over Finite Field of size 5
sage: Q.<a,b,c,d> = MS.quo(I)
sage: Q
Quotient of Full MatrixSpace of 2 by 2 dense matrices over Finite Field of size 5 by the ideal
(
  [0 1]
  [0 0],

  [0 0]
  [1 1]
)
```




---

archive/issue_comments_117820.json:
```json
{
    "body": "That worked. But should `Q.an_element()` produce something printable? I'm getting\n\n```\nsage: x = Q.an_element()\nsage: x\nERROR: An unexpected error occurred while tokenizing input\n...\nValueError: variable names have not yet been set using self._assign_names(...)\n```\n",
    "created_at": "2011-08-23T18:30:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117820",
    "user": "john_perry"
}
```

That worked. But should `Q.an_element()` produce something printable? I'm getting

```
sage: x = Q.an_element()
sage: x
ERROR: An unexpected error occurred while tokenizing input
...
ValueError: variable names have not yet been set using self._assign_names(...)
```




---

archive/issue_comments_117821.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2011-08-23T19:08:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117821",
    "user": "SimonKing"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_117822.json:
```json
{
    "body": "It turns out that, although the variable names are available, Q does not know its generators. And that's clearly strange: MS knows its generators, and hence the quotient Q could simply be generated by the equivalence classes of the generators of MS:\n\n```\nsage: MS.gens()\n(\n[1 0]  [0 1]  [0 0]  [0 0]\n[0 0], [0 0], [1 0], [0 1]\n)\nsage: Q.variable_names()\n('a', 'b', 'c', 'd')\nsage: Q.ngens()\n4\nsage: Q.gens()\nERROR: An unexpected error occurred while tokenizing input\nThe following traceback may be corrupted or invalid\nThe error message is: ('EOF in multi-line statement', (359, 0))\n\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n...\nValueError: variable names have not yet been set using self._assign_names(...)\n```\n\n\nActually, it seems that the problem simply is *printing* the elements:\n\n```\nsage: L = Q.gens()\nsage: L[0]\nERROR: An unexpected error occurred while tokenizing input\nThe following traceback may be corrupted or invalid\nThe error message is: ('EOF in multi-line statement', (359, 0))\n\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n...\nValueError: variable names have not yet been set using self._assign_names(...)\n```\n\n\nIndeed, it seems that the printing method of quotient ring elements expects that the cover ring uses variable names in order to print its elemennts; the variable names of the quotient rings are used to replace the variable names of the cover ring.\n\nHowever, the elements of MS are not printed using any variable names.\n\nI think that's a bug that could be fixed here (I wouldn't open a new ticket for it).\n\nThank you for spotting it!",
    "created_at": "2011-08-23T19:08:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117822",
    "user": "SimonKing"
}
```

It turns out that, although the variable names are available, Q does not know its generators. And that's clearly strange: MS knows its generators, and hence the quotient Q could simply be generated by the equivalence classes of the generators of MS:

```
sage: MS.gens()
(
[1 0]  [0 1]  [0 0]  [0 0]
[0 0], [0 0], [1 0], [0 1]
)
sage: Q.variable_names()
('a', 'b', 'c', 'd')
sage: Q.ngens()
4
sage: Q.gens()
ERROR: An unexpected error occurred while tokenizing input
The following traceback may be corrupted or invalid
The error message is: ('EOF in multi-line statement', (359, 0))

---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)
...
ValueError: variable names have not yet been set using self._assign_names(...)
```


Actually, it seems that the problem simply is *printing* the elements:

```
sage: L = Q.gens()
sage: L[0]
ERROR: An unexpected error occurred while tokenizing input
The following traceback may be corrupted or invalid
The error message is: ('EOF in multi-line statement', (359, 0))

---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)
...
ValueError: variable names have not yet been set using self._assign_names(...)
```


Indeed, it seems that the printing method of quotient ring elements expects that the cover ring uses variable names in order to print its elemennts; the variable names of the quotient rings are used to replace the variable names of the cover ring.

However, the elements of MS are not printed using any variable names.

I think that's a bug that could be fixed here (I wouldn't open a new ticket for it).

Thank you for spotting it!



---

archive/issue_comments_117823.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2011-08-24T16:22:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117823",
    "user": "SimonKing"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_117824.json:
```json
{
    "body": "**Please apply the new patch from #11342 before installing the new patch from here!**\n\nI resolved the problem with printing quotient ring elements of matrix spaces, and while I was at it, I also enabled the creation of quotients of the Steenrod algebras.\n\nHow's that?\n\n__String representation__\n\nThe string representation of a quotient ring element is obtained from its representation in the cover ring. However, the variable names in the cover ring and the quotient ring may be different. That is taken care of by a local environment that temporarily changes the variable names in the cover ring.\n\nHowever, that won't work if the cover ring has no variable names: If there are no names, they can't be changed. And similarly, if the quotient ring has no names then one wouldn't know how to change the names from the cover ring.\n\nWith the new patch, one can do:\n\n```\nsage: MS = MatrixSpace(GF(5),2,2)\nsage: I = MS*[MS.0*MS.1,MS.2+MS.3]*MS\nsage: Q = MS.quo(I)\nsage: Q.an_element()\n[1 0]\n[0 0]\n```\n\n\n__Cover rings with infinitely many generators__\n\nWith the patch, we don't require the list of generators of the cover ring at initialisation time of the quotient ring. Hence, we can form quotient rings of Steenrod algebras. Here is a case where one has no variable names. Thus, the string representation of a quotient ring element must coincide with the string representation of a corresponding element in the cover ring.\n\nThat's to say:\n\n```\nsage: S = SteenrodAlgebra(2)\nsage: I = S*[S.0+S.1]*S\nsage: Q = S.quo(I)\nsage: Q.an_element()\nSq(1)\n```\n\n\nNote, however, that in order to be able to do *real* computations in the quotient ring, someone needs to implement a method `reduce()` for the involved ideal class!\n\n__Coping with #11342 in conjunction with #9138__\n\n#11342 is a dependency for #11115, which is a dependency for this ticket.\n\nSince today, there is a new patch at #11342, that fixes a problem with the Pari interface: On some machines, that problem would result in a segfault.\n\nThe new patches at #11342 add a doctest, that needs to be modified if #11342 is combined with #9138 (reason: Some element class introduce at #11342 gets a different name when #9138 adds the category framework).\n\nSince both are dependencies for the ticket here, the new patch fixes the test.\n\nNeeds review, again...",
    "created_at": "2011-08-24T16:22:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117824",
    "user": "SimonKing"
}
```

**Please apply the new patch from #11342 before installing the new patch from here!**

I resolved the problem with printing quotient ring elements of matrix spaces, and while I was at it, I also enabled the creation of quotients of the Steenrod algebras.

How's that?

__String representation__

The string representation of a quotient ring element is obtained from its representation in the cover ring. However, the variable names in the cover ring and the quotient ring may be different. That is taken care of by a local environment that temporarily changes the variable names in the cover ring.

However, that won't work if the cover ring has no variable names: If there are no names, they can't be changed. And similarly, if the quotient ring has no names then one wouldn't know how to change the names from the cover ring.

With the new patch, one can do:

```
sage: MS = MatrixSpace(GF(5),2,2)
sage: I = MS*[MS.0*MS.1,MS.2+MS.3]*MS
sage: Q = MS.quo(I)
sage: Q.an_element()
[1 0]
[0 0]
```


__Cover rings with infinitely many generators__

With the patch, we don't require the list of generators of the cover ring at initialisation time of the quotient ring. Hence, we can form quotient rings of Steenrod algebras. Here is a case where one has no variable names. Thus, the string representation of a quotient ring element must coincide with the string representation of a corresponding element in the cover ring.

That's to say:

```
sage: S = SteenrodAlgebra(2)
sage: I = S*[S.0+S.1]*S
sage: Q = S.quo(I)
sage: Q.an_element()
Sq(1)
```


Note, however, that in order to be able to do *real* computations in the quotient ring, someone needs to implement a method `reduce()` for the involved ideal class!

__Coping with #11342 in conjunction with #9138__

#11342 is a dependency for #11115, which is a dependency for this ticket.

Since today, there is a new patch at #11342, that fixes a problem with the Pari interface: On some machines, that problem would result in a segfault.

The new patches at #11342 add a doctest, that needs to be modified if #11342 is combined with #9138 (reason: Some element class introduce at #11342 gets a different name when #9138 adds the category framework).

Since both are dependencies for the ticket here, the new patch fixes the test.

Needs review, again...



---

archive/issue_comments_117825.json:
```json
{
    "body": "PS concerning string representation: I wrote \"If there are no names, they can't be changed. And similarly, if the quotient ring has no names then one wouldn't know how to change the names from the cover ring.\"\n\nI forgot to add: \"Hence, with the new patch, the local environment simply ignores the error that would result from changing names that don't exist.\"",
    "created_at": "2011-08-24T16:25:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117825",
    "user": "SimonKing"
}
```

PS concerning string representation: I wrote "If there are no names, they can't be changed. And similarly, if the quotient ring has no names then one wouldn't know how to change the names from the cover ring."

I forgot to add: "Hence, with the new patch, the local environment simply ignores the error that would result from changing names that don't exist."



---

archive/issue_comments_117826.json:
```json
{
    "body": "Changing keywords from \"onesided twosided ideal noncommutative ring\" to \"onesided twosided ideal noncommutative ring sd32\".",
    "created_at": "2011-08-25T19:29:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117826",
    "user": "john_perry"
}
```

Changing keywords from "onesided twosided ideal noncommutative ring" to "onesided twosided ideal noncommutative ring sd32".



---

archive/issue_comments_117827.json:
```json
{
    "body": "I'm not sure this is an error, but here goes:\n\n```\nsage: QA.<i,j,k> = QuaternionAlgebra(2,3)\nsage: QI = QA*[i]*QA\n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\n...\nAttributeError: 'QuaternionFractionalIdeal_rational' object has no attribute '_scale'\n```\n\nThis seems odd, since\n\n```\nsage: QI = QA.ideal([i])\n```\n\nworks fine, **but** the discussion in #11342 makes me wonder if this is because, in the second case, QI is a \"fractional ideal\":\n\n```\nsage: QI\nFractional ideal (i,)\n```\n\nThis is beyond my expertise, so I have to ask: is this appropriate behavior?",
    "created_at": "2011-08-30T16:56:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117827",
    "user": "john_perry"
}
```

I'm not sure this is an error, but here goes:

```
sage: QA.<i,j,k> = QuaternionAlgebra(2,3)
sage: QI = QA*[i]*QA
---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)
...
AttributeError: 'QuaternionFractionalIdeal_rational' object has no attribute '_scale'
```

This seems odd, since

```
sage: QI = QA.ideal([i])
```

works fine, **but** the discussion in #11342 makes me wonder if this is because, in the second case, QI is a "fractional ideal":

```
sage: QI
Fractional ideal (i,)
```

This is beyond my expertise, so I have to ask: is this appropriate behavior?



---

archive/issue_comments_117828.json:
```json
{
    "body": "Replying to [comment:29 john_perry]:\n> works fine, **but** the discussion in #11342 makes me wonder if this is because, in the second case, QI is a \"fractional ideal\":\n> {{{\n> sage: QI\n> Fractional ideal (i,)\n> }}}\n> This is beyond my expertise, so I have to ask: is this appropriate behavior?\n\nHm. I think it would be nice to make fractional ideals constructible in the same way as usual ideals are constructible. But they belong to a different Python class; hence, the functionality can not so easily be provided.\n\nSince `QI = QA.ideal([i])` works, I'd prefer to keep it as is, and would consider `QA*i*QA` as syntactical sugar that might be added on a different ticket.",
    "created_at": "2011-08-31T10:28:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117828",
    "user": "SimonKing"
}
```

Replying to [comment:29 john_perry]:
> works fine, **but** the discussion in #11342 makes me wonder if this is because, in the second case, QI is a "fractional ideal":
> {{{
> sage: QI
> Fractional ideal (i,)
> }}}
> This is beyond my expertise, so I have to ask: is this appropriate behavior?

Hm. I think it would be nice to make fractional ideals constructible in the same way as usual ideals are constructible. But they belong to a different Python class; hence, the functionality can not so easily be provided.

Since `QI = QA.ideal([i])` works, I'd prefer to keep it as is, and would consider `QA*i*QA` as syntactical sugar that might be added on a different ticket.



---

archive/issue_comments_117829.json:
```json
{
    "body": "Here's another one. Given the ring as defined so far:\n\n```\nsage: x = MS.0; y = MS.1\nsage: x + y\n[1 1]\n[0 0]\nsage: x * y\nERROR: An unexpected error occurred while tokenizing input\nThe following traceback may be corrupted or invalid\nThe error message is: ('EOF in multi-line statement', (64, 0))\n\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n...\nTypeError: Cannot convert MatrixSpace_generic_with_category to sage.rings.ring.Ring\n```\n\nThe thing is, we get\n\n```\nsage: x in Q\nTrue\nsage: y in Q\nTrue\n```\n\nwhere `Q` is as above.\n1. Should `MatrixSpace()` notice when it is generating a ring?\n2. Should `x` and `y` be elements of `Q`? Is this due to coercion?\n3. Are these completely separate issues?",
    "created_at": "2011-09-01T16:12:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117829",
    "user": "john_perry"
}
```

Here's another one. Given the ring as defined so far:

```
sage: x = MS.0; y = MS.1
sage: x + y
[1 1]
[0 0]
sage: x * y
ERROR: An unexpected error occurred while tokenizing input
The following traceback may be corrupted or invalid
The error message is: ('EOF in multi-line statement', (64, 0))

---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
...
TypeError: Cannot convert MatrixSpace_generic_with_category to sage.rings.ring.Ring
```

The thing is, we get

```
sage: x in Q
True
sage: y in Q
True
```

where `Q` is as above.
1. Should `MatrixSpace()` notice when it is generating a ring?
2. Should `x` and `y` be elements of `Q`? Is this due to coercion?
3. Are these completely separate issues?



---

archive/issue_comments_117830.json:
```json
{
    "body": "Replying to [comment:31 john_perry]:\n> Here's another one. Given the ring as defined so far:\n> ---------------------------------------------------------------------------\n> TypeError                                 Traceback (most recent call last)\n> ...\n> TypeError: Cannot convert MatrixSpace_generic_with_category to sage.rings.ring.Ring\n\nCould you please state precisely what you did?\n\nWhen I start sage with the patches applied, I get\n\n```\nsage: MS = MatrixSpace(GF(5),2)\nsage: MS.0+MS.1\n[1 1]\n[0 0]\nsage: MS.0*MS.1\n[0 1]\n[0 0]\n```\n\n\n> The thing is, we get\n> {{{\n> sage: x in Q\n\nWhat is Q?\n\n>   1. Should `MatrixSpace()` notice when it is generating a ring?\n\nIt obviously does. We have\n\n```\nsage: MS in Rings()\nTrue\n```\n\neven without my patch.",
    "created_at": "2011-09-01T16:29:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117830",
    "user": "SimonKing"
}
```

Replying to [comment:31 john_perry]:
> Here's another one. Given the ring as defined so far:
> ---------------------------------------------------------------------------
> TypeError                                 Traceback (most recent call last)
> ...
> TypeError: Cannot convert MatrixSpace_generic_with_category to sage.rings.ring.Ring

Could you please state precisely what you did?

When I start sage with the patches applied, I get

```
sage: MS = MatrixSpace(GF(5),2)
sage: MS.0+MS.1
[1 1]
[0 0]
sage: MS.0*MS.1
[0 1]
[0 0]
```


> The thing is, we get
> {{{
> sage: x in Q

What is Q?

>   1. Should `MatrixSpace()` notice when it is generating a ring?

It obviously does. We have

```
sage: MS in Rings()
True
```

even without my patch.



---

archive/issue_comments_117831.json:
```json
{
    "body": "> Could you please state precisely what you did?\nSure.\n\n```\nsage: MS = MatrixSpace(GF(5),2,2)\nsage: I = MS*[MS.0*MS.1,MS.2+MS.3]*MS\nsage: Q = MS.quo(I)\nsage: x = Q.an_element()\nsage: y = MS.1\nsage: x in Q, y in Q\n(True, True)\nsage: x*y\n```\n\n...and we get the error generated above.\n\nApparently this was **not** a problem with `x=MS.1`; I seem to have mistyped `x==MS.1` when I was testing that.",
    "created_at": "2011-09-01T17:05:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117831",
    "user": "john_perry"
}
```

> Could you please state precisely what you did?
Sure.

```
sage: MS = MatrixSpace(GF(5),2,2)
sage: I = MS*[MS.0*MS.1,MS.2+MS.3]*MS
sage: Q = MS.quo(I)
sage: x = Q.an_element()
sage: y = MS.1
sage: x in Q, y in Q
(True, True)
sage: x*y
```

...and we get the error generated above.

Apparently this was **not** a problem with `x=MS.1`; I seem to have mistyped `x==MS.1` when I was testing that.



---

archive/issue_comments_117832.json:
```json
{
    "body": "Replying to [comment:33 john_perry]:\n> Apparently this was **not** a problem with `x=MS.1`; I seem to have mistyped `x==MS.1` when I was testing that.\n\nSorry, I meant `x=MS.0` there.",
    "created_at": "2011-09-01T17:06:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117832",
    "user": "john_perry"
}
```

Replying to [comment:33 john_perry]:
> Apparently this was **not** a problem with `x=MS.1`; I seem to have mistyped `x==MS.1` when I was testing that.

Sorry, I meant `x=MS.0` there.



---

archive/issue_comments_117833.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2011-09-01T18:00:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117833",
    "user": "SimonKing"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_117834.json:
```json
{
    "body": "Now I understand the problem.\n\nAddition in Q works, but multiplication in Q doesn't. That is because the current multiplication of quotient ring elements relies on a generic implementation. Multiplication of `Q.0` with `Q.1` is essentially the same as\n\n```\nsage: Q(Q.lift(Q.0)*Q.lift(Q.1))\n```\n\n\nThe problem is: `Q.lift(Q.0)` tries to call `Q.lifting_map()`, which should return the lift map - but fails. I guess the failure comes from a cdef attribute that can only take an instance of type `Ring`; so, one couldn't assign `MS` to it.\n\nHowever, multiplication of `Q.0` with `Q.1` could also be done as follows:\n\n```\nsage: Q(Q.0.lift()*Q.1.lift())\n[0 1]\n[0 0]\n```\n\nThe difference is that `Q.lift(Q.0)` is a generic method of quotient rings, whereas Q.0.lift() is a generic method of quotient ring elements.\n\nObvious solution: If `Q.lifting_map()` can not construct the lifting map via `sage.rings.morphism.RingMap_lift`, then it should try `sage.categories.morphism.SetMorphism`.\n\nThanks for spotting it! I hope I can soon provide a new patch!",
    "created_at": "2011-09-01T18:00:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117834",
    "user": "SimonKing"
}
```

Now I understand the problem.

Addition in Q works, but multiplication in Q doesn't. That is because the current multiplication of quotient ring elements relies on a generic implementation. Multiplication of `Q.0` with `Q.1` is essentially the same as

```
sage: Q(Q.lift(Q.0)*Q.lift(Q.1))
```


The problem is: `Q.lift(Q.0)` tries to call `Q.lifting_map()`, which should return the lift map - but fails. I guess the failure comes from a cdef attribute that can only take an instance of type `Ring`; so, one couldn't assign `MS` to it.

However, multiplication of `Q.0` with `Q.1` could also be done as follows:

```
sage: Q(Q.0.lift()*Q.1.lift())
[0 1]
[0 0]
```

The difference is that `Q.lift(Q.0)` is a generic method of quotient rings, whereas Q.0.lift() is a generic method of quotient ring elements.

Obvious solution: If `Q.lifting_map()` can not construct the lifting map via `sage.rings.morphism.RingMap_lift`, then it should try `sage.categories.morphism.SetMorphism`.

Thanks for spotting it! I hope I can soon provide a new patch!



---

archive/issue_comments_117835.json:
```json
{
    "body": "It is not as easy as I had hoped. I was able to make `Q.lift(Q.0)` work. But when multiplying `Q.0*Q.1`, it is also attempted to construct a cover map (from MS to Q). The cover map comes with a section -- and the section is expected to be of type `sage.rings.morphism.RingMap_lift`.\n\nBad luck.",
    "created_at": "2011-09-01T18:15:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117835",
    "user": "SimonKing"
}
```

It is not as easy as I had hoped. I was able to make `Q.lift(Q.0)` work. But when multiplying `Q.0*Q.1`, it is also attempted to construct a cover map (from MS to Q). The cover map comes with a section -- and the section is expected to be of type `sage.rings.morphism.RingMap_lift`.

Bad luck.



---

archive/issue_comments_117836.json:
```json
{
    "body": "Another approach: It turns out that `sage.rings.morphism.RingMap_lift` does have a cdef attribute S of type Ring. However, it is not needed that it is of type ring. I am thus replacing it by type `CategoryObject`, which should be perfectly alright.",
    "created_at": "2011-09-01T18:40:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117836",
    "user": "SimonKing"
}
```

Another approach: It turns out that `sage.rings.morphism.RingMap_lift` does have a cdef attribute S of type Ring. However, it is not needed that it is of type ring. I am thus replacing it by type `CategoryObject`, which should be perfectly alright.



---

archive/issue_comments_117837.json:
```json
{
    "body": "Lifting map for quotients of rings not inheriting from sage.rings.ring.Ring",
    "created_at": "2011-09-01T18:57:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117837",
    "user": "SimonKing"
}
```

Lifting map for quotients of rings not inheriting from sage.rings.ring.Ring



---

archive/issue_comments_117838.json:
```json
{
    "body": "Attachment\n\nI submitted a third patch, and I think it works now!\n\nWe have the new doctest\n\n```\nsage: MS = MatrixSpace(GF(5),2,2)\n            sage: I = MS*[MS.0*MS.1,MS.2+MS.3]*MS\n            sage: Q = MS.quo(I)\n            sage: Q.lift()\nSet-theoretic ring morphism:\n  From: Quotient of Full MatrixSpace of 2 by 2 dense matrices over Finite Field of size 5 by the ideal\n(\n  [0 1]\n  [0 0],\n\n  [0 0]\n  [1 1]\n)\n  To:   Full MatrixSpace of 2 by 2 dense matrices over Finite Field of size 5\n  Defn: Choice of lifting map\n```\n\n\nThe tests in sage/rings/ pass (didn't run the other tests yet). Ready for review again!",
    "created_at": "2011-09-01T19:01:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117838",
    "user": "SimonKing"
}
```

Attachment

I submitted a third patch, and I think it works now!

We have the new doctest

```
sage: MS = MatrixSpace(GF(5),2,2)
            sage: I = MS*[MS.0*MS.1,MS.2+MS.3]*MS
            sage: Q = MS.quo(I)
            sage: Q.lift()
Set-theoretic ring morphism:
  From: Quotient of Full MatrixSpace of 2 by 2 dense matrices over Finite Field of size 5 by the ideal
(
  [0 1]
  [0 0],

  [0 0]
  [1 1]
)
  To:   Full MatrixSpace of 2 by 2 dense matrices over Finite Field of size 5
  Defn: Choice of lifting map
```


The tests in sage/rings/ pass (didn't run the other tests yet). Ready for review again!



---

archive/issue_comments_117839.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2011-09-01T19:01:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117839",
    "user": "SimonKing"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_117840.json:
```json
{
    "body": "PS: Multiplying `Q.0*Q.1` now works as well.",
    "created_at": "2011-09-01T19:51:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117840",
    "user": "SimonKing"
}
```

PS: Multiplying `Q.0*Q.1` now works as well.



---

archive/issue_comments_117841.json:
```json
{
    "body": "Bad news. On OSX 10.6.8, the development version of sage (alpha2) fails three tests with these patches:\n\n```\n...\nThe following tests failed:\n\n\tsage -t -long devel/sage-main/sage/matrix/matrix2.pyx # 1 doctests failed\n\tsage -t -long devel/sage-main/sage/matrix/matrix_double_dense.pyx # 3 doctests failed\n\tsage -t -long devel/sage-main/sage/rings/polynomial/pbori.pyx # 2 doctests failed\n----------------------------------------------------------------------\n```\n\nThis makes some sense.",
    "created_at": "2011-09-03T00:12:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117841",
    "user": "john_perry"
}
```

Bad news. On OSX 10.6.8, the development version of sage (alpha2) fails three tests with these patches:

```
...
The following tests failed:

	sage -t -long devel/sage-main/sage/matrix/matrix2.pyx # 1 doctests failed
	sage -t -long devel/sage-main/sage/matrix/matrix_double_dense.pyx # 3 doctests failed
	sage -t -long devel/sage-main/sage/rings/polynomial/pbori.pyx # 2 doctests failed
----------------------------------------------------------------------
```

This makes some sense.



---

archive/issue_comments_117842.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2011-09-03T00:12:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117842",
    "user": "john_perry"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_117843.json:
```json
{
    "body": "And how do they fail?",
    "created_at": "2011-09-03T07:04:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117843",
    "user": "SimonKing"
}
```

And how do they fail?



---

archive/issue_comments_117844.json:
```json
{
    "body": "That wasn't smart of me. I looked at them, and they turned out to be numerical issues; I've seen the first reported elsewhere (0.0 v. -0.0). So this doesn't strike me as being caused by a change to categories & rings. If you want details, I'll copy them.\n\nI'm not done with the other architectures; I started one last night before leaving the office, & have another to do here at home. I hope to wrap this up tonight.",
    "created_at": "2011-09-03T14:17:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117844",
    "user": "john_perry"
}
```

That wasn't smart of me. I looked at them, and they turned out to be numerical issues; I've seen the first reported elsewhere (0.0 v. -0.0). So this doesn't strike me as being caused by a change to categories & rings. If you want details, I'll copy them.

I'm not done with the other architectures; I started one last night before leaving the office, & have another to do here at home. I hope to wrap this up tonight.



---

archive/issue_comments_117845.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2011-09-03T15:04:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117845",
    "user": "SimonKing"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_117846.json:
```json
{
    "body": "Replying to [comment:42 john_perry]:\n> That wasn't smart of me. I looked at them, and they turned out to be numerical issues; I've seen the first reported elsewhere (0.0 v. -0.0). So this doesn't strike me as being caused by a change to categories & rings.\n\nI remember that I had the same problem with one of the alpha versions.\n\nBy the way: Four days ago, I had updated the patch at #9138. Do you use the new version? With the old version, one would get an error on sage.math.\n\nCan you test at what point in the patch chain the test starts to fail, and report appropriately? That's to say, if it fails with  unpatched sage-4.7.2.alpha2 then report to sage-release; if it fails with #11115 or #11342 only, then report there.",
    "created_at": "2011-09-03T15:04:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117846",
    "user": "SimonKing"
}
```

Replying to [comment:42 john_perry]:
> That wasn't smart of me. I looked at them, and they turned out to be numerical issues; I've seen the first reported elsewhere (0.0 v. -0.0). So this doesn't strike me as being caused by a change to categories & rings.

I remember that I had the same problem with one of the alpha versions.

By the way: Four days ago, I had updated the patch at #9138. Do you use the new version? With the old version, one would get an error on sage.math.

Can you test at what point in the patch chain the test starts to fail, and report appropriately? That's to say, if it fails with  unpatched sage-4.7.2.alpha2 then report to sage-release; if it fails with #11115 or #11342 only, then report there.



---

archive/issue_comments_117847.json:
```json
{
    "body": "Replying to [comment:43 SimonKing]:\n> Can you test at what point in the patch chain the test starts to fail, and report appropriately?\n\nIf I have problems, I'll do that. Unfortunately, as I relayed to you in email, my OSX installation of sage no longer works after popping all the patches. Next time I'll pop only one at a time. I'm trying to rebuild it by reinstalling those patches, & hope something works.\n\nSome good news: these three doctests work fine on Fedora-13. I'm now running all doctests there. More news as it comes.",
    "created_at": "2011-09-03T16:52:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117847",
    "user": "john_perry"
}
```

Replying to [comment:43 SimonKing]:
> Can you test at what point in the patch chain the test starts to fail, and report appropriately?

If I have problems, I'll do that. Unfortunately, as I relayed to you in email, my OSX installation of sage no longer works after popping all the patches. Next time I'll pop only one at a time. I'm trying to rebuild it by reinstalling those patches, & hope something works.

Some good news: these three doctests work fine on Fedora-13. I'm now running all doctests there. More news as it comes.



---

archive/issue_comments_117848.json:
```json
{
    "body": "*All* doctests pass on the Phenom X4 running Fedora 13.",
    "created_at": "2011-09-03T18:16:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117848",
    "user": "john_perry"
}
```

*All* doctests pass on the Phenom X4 running Fedora 13.



---

archive/issue_comments_117849.json:
```json
{
    "body": "*All* doctests pass on Intel Core 2 running Ubuntu 10.04.",
    "created_at": "2011-09-03T21:11:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117849",
    "user": "john_perry"
}
```

*All* doctests pass on Intel Core 2 running Ubuntu 10.04.



---

archive/issue_comments_117850.json:
```json
{
    "body": "*Two* of the doctests I reported earlier fail on an unpatched 4.7.2alpha on an Intel Core 2 MacBook Pro running OSX 10.6.8. That they still fail after this patch, which is wholly unrelated, is not a cause for concern. I tried looking for where these patches are discussed, but I didn't find them.\n\nThe regression I reported with `pbori.pyx` no longer appears with the more recent patch for #9138.\n\nThanks for the help fixing my installation. `:-)`",
    "created_at": "2011-09-04T01:52:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117850",
    "user": "john_perry"
}
```

*Two* of the doctests I reported earlier fail on an unpatched 4.7.2alpha on an Intel Core 2 MacBook Pro running OSX 10.6.8. That they still fail after this patch, which is wholly unrelated, is not a cause for concern. I tried looking for where these patches are discussed, but I didn't find them.

The regression I reported with `pbori.pyx` no longer appears with the more recent patch for #9138.

Thanks for the help fixing my installation. `:-)`



---

archive/issue_comments_117851.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2011-09-04T01:52:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117851",
    "user": "john_perry"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_117852.json:
```json
{
    "body": "There has been a short discussion on [sage-devel](http://groups.google.com/group/sage-devel/browse_thread/thread/3635c832b051f9c6). The aim was to make quotient rings unique parents, which also means that a better framework should be provided for testing equality of ideals.\n\nFirst, I thought it would be best to do it on top of #9138 and add it as a new dependency for this ticket.\n\nOn the other hand, #11342 already has a positive review, and I hope that #9138 will soon be off my plate as well. Hence, the only dependency left for this ticket is #11115. Probably it will be better to do the new stuff on top of this ticket.",
    "created_at": "2011-09-08T08:48:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117852",
    "user": "SimonKing"
}
```

There has been a short discussion on [sage-devel](http://groups.google.com/group/sage-devel/browse_thread/thread/3635c832b051f9c6). The aim was to make quotient rings unique parents, which also means that a better framework should be provided for testing equality of ideals.

First, I thought it would be best to do it on top of #9138 and add it as a new dependency for this ticket.

On the other hand, #11342 already has a positive review, and I hope that #9138 will soon be off my plate as well. Hence, the only dependency left for this ticket is #11115. Probably it will be better to do the new stuff on top of this ticket.



---

archive/issue_comments_117853.json:
```json
{
    "body": "I am  afraid that the ticket needs to be rebased. There has been a change in #9138, that must now be coped with here.",
    "created_at": "2011-09-08T10:55:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117853",
    "user": "SimonKing"
}
```

I am  afraid that the ticket needs to be rebased. There has been a change in #9138, that must now be coped with here.



---

archive/issue_comments_117854.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2011-09-08T10:55:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117854",
    "user": "SimonKing"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_117855.json:
```json
{
    "body": "Add support for quotient rings without named generators",
    "created_at": "2011-09-08T11:17:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117855",
    "user": "SimonKing"
}
```

Add support for quotient rings without named generators



---

archive/issue_comments_117856.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2011-09-08T11:21:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117856",
    "user": "SimonKing"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_117857.json:
```json
{
    "body": "Attachment\n\nI have rebased the patches. I guess it needs a new review. Note that the patches from #9138 have changed as well.",
    "created_at": "2011-09-08T11:21:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117857",
    "user": "SimonKing"
}
```

Attachment

I have rebased the patches. I guess it needs a new review. Note that the patches from #9138 have changed as well.



---

archive/issue_comments_117858.json:
```json
{
    "body": "PS: After rebasing, the tests still pass for me. But I think I am not entitled to reinstate the positive review.",
    "created_at": "2011-09-08T12:52:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117858",
    "user": "SimonKing"
}
```

PS: After rebasing, the tests still pass for me. But I think I am not entitled to reinstate the positive review.



---

archive/issue_comments_117859.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2011-09-08T22:36:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117859",
    "user": "john_perry"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_117860.json:
```json
{
    "body": "The tests pass for me as well.",
    "created_at": "2011-09-08T22:36:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117860",
    "user": "john_perry"
}
```

The tests pass for me as well.



---

archive/issue_comments_117861.json:
```json
{
    "body": "By the way, I took a look at #11115, and while it looked good to me & the doctests pass, I don't feel I know enough about the workings of the cache to say for sure.",
    "created_at": "2011-09-08T22:38:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117861",
    "user": "john_perry"
}
```

By the way, I took a look at #11115, and while it looked good to me & the doctests pass, I don't feel I know enough about the workings of the cache to say for sure.



---

archive/issue_comments_117862.json:
```json
{
    "body": "There was a conflict of the first patch with some cosmetical change that was done at #11339. Since #11339 has a positive review as well, I was changing the first patch. Since the code did not change (only the line breaks changed), I keep the positive review, but to be on the safe side I'll run doc tests now.\n\nApply trac11068_nc_ideals_and_quotients.patch trac11068_quotient_ring_without_names.patch trac11068_lifting_map.patch",
    "created_at": "2011-10-04T09:21:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117862",
    "user": "SimonKing"
}
```

There was a conflict of the first patch with some cosmetical change that was done at #11339. Since #11339 has a positive review as well, I was changing the first patch. Since the code did not change (only the line breaks changed), I keep the positive review, but to be on the safe side I'll run doc tests now.

Apply trac11068_nc_ideals_and_quotients.patch trac11068_quotient_ring_without_names.patch trac11068_lifting_map.patch



---

archive/issue_comments_117863.json:
```json
{
    "body": "Today is really not a good day for work. I had rebased my patch against #11339, but it turns out that #11339 needs work -- it creates some doctest errors with sage-4.7.2.alpha3-prerelease. So, I guess it would be better to return to the original patch version, which unfortunately is now lost.",
    "created_at": "2011-10-04T11:51:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117863",
    "user": "SimonKing"
}
```

Today is really not a good day for work. I had rebased my patch against #11339, but it turns out that #11339 needs work -- it creates some doctest errors with sage-4.7.2.alpha3-prerelease. So, I guess it would be better to return to the original patch version, which unfortunately is now lost.



---

archive/issue_comments_117864.json:
```json
{
    "body": "Replying to [comment:57 SimonKing]:\n> Today is really not a good day for work. I had rebased my patch against #11339, but it turns out that #11339 needs work -- it creates some doctest errors with sage-4.7.2.alpha3-prerelease. So, I guess it would be better to return to the original patch version, which unfortunately is now lost.\n\nIn case they are of any help, I have some old versions here:\n\n```\n-rw-r--r-- 1 leif leif  3236 2011-09-09 04:33 trac11068_lifting_map.patch\n-rw-r--r-- 1 leif leif 65984 2011-09-09 04:33 trac11068_nc_ideals_and_quotients.patch\n-rw-r--r-- 1 leif leif  3861 2011-09-09 04:33 trac11068_quotient_ring_without_names.patch\n```\n\n(The date refers to the time of download, CEST.)",
    "created_at": "2011-10-04T11:59:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117864",
    "user": "leif"
}
```

Replying to [comment:57 SimonKing]:
> Today is really not a good day for work. I had rebased my patch against #11339, but it turns out that #11339 needs work -- it creates some doctest errors with sage-4.7.2.alpha3-prerelease. So, I guess it would be better to return to the original patch version, which unfortunately is now lost.

In case they are of any help, I have some old versions here:

```
-rw-r--r-- 1 leif leif  3236 2011-09-09 04:33 trac11068_lifting_map.patch
-rw-r--r-- 1 leif leif 65984 2011-09-09 04:33 trac11068_nc_ideals_and_quotients.patch
-rw-r--r-- 1 leif leif  3861 2011-09-09 04:33 trac11068_quotient_ring_without_names.patch
```

(The date refers to the time of download, CEST.)



---

archive/issue_comments_117865.json:
```json
{
    "body": "I've now copied them into `sage:/home/leif/tmp/` ([http://boxen.math.washington.edu/home/leif/tmp/](http://boxen.math.washington.edu/home/leif/tmp/)).",
    "created_at": "2011-10-04T12:06:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117865",
    "user": "leif"
}
```

I've now copied them into `sage:/home/leif/tmp/` ([http://boxen.math.washington.edu/home/leif/tmp/](http://boxen.math.washington.edu/home/leif/tmp/)).



---

archive/issue_comments_117866.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2011-10-04T12:24:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117866",
    "user": "SimonKing"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_117867.json:
```json
{
    "body": "Thank you, Leif!\n\nI think it make sense to take the time and use the occasion to start on top of sage-4.7.2.alpha3, not alpha3-prerelease. After all, the milestone has already been shifted by Jeroen to 4.7.3. So, I refuse being in a hurry now - that wouldn't be healthy.",
    "created_at": "2011-10-04T12:24:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117867",
    "user": "SimonKing"
}
```

Thank you, Leif!

I think it make sense to take the time and use the occasion to start on top of sage-4.7.2.alpha3, not alpha3-prerelease. After all, the milestone has already been shifted by Jeroen to 4.7.3. So, I refuse being in a hurry now - that wouldn't be healthy.



---

archive/issue_comments_117868.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2011-10-04T17:38:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117868",
    "user": "SimonKing"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_117869.json:
```json
{
    "body": "The trouble with #11339 has been resolved: #11339 can in fact only be used in conjunction with #10903. The patches here can remain as they are now. #10903 should be added as a new dependency (#11339 is a dependency of #10903).\n\nAll doc tests succeeded with sage-4.7.2.alpha3 plus #11339, #10903, #11856, #11115 and #11068. So, I hope that it is alright that I now reinstate the positive review.\n\nApply trac11068_nc_ideals_and_quotients.patch trac11068_quotient_ring_without_names.patch trac11068_lifting_map.patch",
    "created_at": "2011-10-04T17:38:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117869",
    "user": "SimonKing"
}
```

The trouble with #11339 has been resolved: #11339 can in fact only be used in conjunction with #10903. The patches here can remain as they are now. #10903 should be added as a new dependency (#11339 is a dependency of #10903).

All doc tests succeeded with sage-4.7.2.alpha3 plus #11339, #10903, #11856, #11115 and #11068. So, I hope that it is alright that I now reinstate the positive review.

Apply trac11068_nc_ideals_and_quotients.patch trac11068_quotient_ring_without_names.patch trac11068_lifting_map.patch



---

archive/issue_comments_117870.json:
```json
{
    "body": "Replying to [comment:61 SimonKing]:\n> All doc tests succeeded with sage-4.7.2.alpha3 plus #11339, #10903, #11856, #11115 and #11068. So, I hope that it is alright that I now reinstate the positive review.\n\nI gave the positive review, and I am fine with that. I can run the doctests on my own machine if someone likes, but since I'm working on something else, I'm unable to do it at the moment.\n\nOut of curiosity, why was the milestone changed to 4.7.3?",
    "created_at": "2011-10-04T17:48:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117870",
    "user": "john_perry"
}
```

Replying to [comment:61 SimonKing]:
> All doc tests succeeded with sage-4.7.2.alpha3 plus #11339, #10903, #11856, #11115 and #11068. So, I hope that it is alright that I now reinstate the positive review.

I gave the positive review, and I am fine with that. I can run the doctests on my own machine if someone likes, but since I'm working on something else, I'm unable to do it at the moment.

Out of curiosity, why was the milestone changed to 4.7.3?



---

archive/issue_comments_117871.json:
```json
{
    "body": "Replying to [comment:62 john_perry]:\n> Out of curiosity, why was the milestone changed to 4.7.3?\n\nMainly because I would like to finish the sage-4.7.2 release.  I do not see a compelling reason for this to be merged quickly, so it will be in sage-4.7.3.",
    "created_at": "2011-10-04T18:18:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117871",
    "user": "jdemeyer"
}
```

Replying to [comment:62 john_perry]:
> Out of curiosity, why was the milestone changed to 4.7.3?

Mainly because I would like to finish the sage-4.7.2 release.  I do not see a compelling reason for this to be merged quickly, so it will be in sage-4.7.3.



---

archive/issue_comments_117872.json:
```json
{
    "body": "This will eventually need to be rebased to #11900.",
    "created_at": "2011-10-19T07:11:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117872",
    "user": "jdemeyer"
}
```

This will eventually need to be rebased to #11900.



---

archive/issue_comments_117873.json:
```json
{
    "body": "Replying to [comment:65 jdemeyer]:\n> This will eventually need to be rebased to #11900.\n\nI just did so. Only the first patch has changed.\n\nFor me, all tests pass, and thus I keep the positive review. But I would appreciate if someone could test it.\n\nApply trac11068_nc_ideals_and_quotients.patch trac11068_quotient_ring_without_names.patch trac11068_lifting_map.patch",
    "created_at": "2011-10-26T15:37:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117873",
    "user": "SimonKing"
}
```

Replying to [comment:65 jdemeyer]:
> This will eventually need to be rebased to #11900.

I just did so. Only the first patch has changed.

For me, all tests pass, and thus I keep the positive review. But I would appreciate if someone could test it.

Apply trac11068_nc_ideals_and_quotients.patch trac11068_quotient_ring_without_names.patch trac11068_lifting_map.patch



---

archive/issue_comments_117874.json:
```json
{
    "body": "Replying to [comment:66 SimonKing]:\n> For me, all tests pass, and thus I keep the positive review. But I would appreciate if someone could test it.\n> \n> Apply trac11068_nc_ideals_and_quotients.patch trac11068_quotient_ring_without_names.patch trac11068_lifting_map.patch \n\nI will try this at some point. Do I need to download the latest alpha, or mere #11900?",
    "created_at": "2011-11-03T13:52:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117874",
    "user": "john_perry"
}
```

Replying to [comment:66 SimonKing]:
> For me, all tests pass, and thus I keep the positive review. But I would appreciate if someone could test it.
> 
> Apply trac11068_nc_ideals_and_quotients.patch trac11068_quotient_ring_without_names.patch trac11068_lifting_map.patch 

I will try this at some point. Do I need to download the latest alpha, or mere #11900?



---

archive/issue_comments_117875.json:
```json
{
    "body": "Replying to [comment:67 john_perry]:\n> Replying to [comment:66 SimonKing]:\n> > For me, all tests pass, and thus I keep the positive review. But I would appreciate if someone could test it.\n> > \n> > Apply trac11068_nc_ideals_and_quotients.patch trac11068_quotient_ring_without_names.patch trac11068_lifting_map.patch \n> \n> I will try this at some point. Do I need to download the latest alpha, or mere #11900?\n\nThere is an \"inofficial\" sage-4.7.3.alpha1, which actually contains #11068. So, you may test with this, if you like. If all tests pass with sage-4.7.3.alpha1, then (I think) it is justified to keep your original positive review.",
    "created_at": "2011-11-03T14:08:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117875",
    "user": "SimonKing"
}
```

Replying to [comment:67 john_perry]:
> Replying to [comment:66 SimonKing]:
> > For me, all tests pass, and thus I keep the positive review. But I would appreciate if someone could test it.
> > 
> > Apply trac11068_nc_ideals_and_quotients.patch trac11068_quotient_ring_without_names.patch trac11068_lifting_map.patch 
> 
> I will try this at some point. Do I need to download the latest alpha, or mere #11900?

There is an "inofficial" sage-4.7.3.alpha1, which actually contains #11068. So, you may test with this, if you like. If all tests pass with sage-4.7.3.alpha1, then (I think) it is justified to keep your original positive review.



---

archive/issue_comments_117876.json:
```json
{
    "body": "On sage.math, all short and long tests pass.  If all Simon did was an obvious rebase (I did not check this), then it is certainly okay to keep the positive_review.",
    "created_at": "2011-11-03T14:14:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117876",
    "user": "jdemeyer"
}
```

On sage.math, all short and long tests pass.  If all Simon did was an obvious rebase (I did not check this), then it is certainly okay to keep the positive_review.



---

archive/issue_comments_117877.json:
```json
{
    "body": "Replying to [comment:68 SimonKing]:\n> There is an \"inofficial\" sage-4.7.3.alpha1, which actually contains #11068. So, you may test with this, if you like. If all tests pass with sage-4.7.3.alpha1, then (I think) it is justified to keep your original positive review.\n\nYes, but keep in mind that this 4.7.3.alpha1 contains much more than just this ticket.  If all tests pass, that's great but if not, you wouldn't know that it's because of this ticket.  So for actually testing this ticket, it would be better to use sage-4.7.2 (which is now official) and apply the dependencies of this ticket: #9138, #11900, #11115.",
    "created_at": "2011-11-03T14:18:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117877",
    "user": "jdemeyer"
}
```

Replying to [comment:68 SimonKing]:
> There is an "inofficial" sage-4.7.3.alpha1, which actually contains #11068. So, you may test with this, if you like. If all tests pass with sage-4.7.3.alpha1, then (I think) it is justified to keep your original positive review.

Yes, but keep in mind that this 4.7.3.alpha1 contains much more than just this ticket.  If all tests pass, that's great but if not, you wouldn't know that it's because of this ticket.  So for actually testing this ticket, it would be better to use sage-4.7.2 (which is now official) and apply the dependencies of this ticket: #9138, #11900, #11115.



---

archive/issue_comments_117878.json:
```json
{
    "body": "Since apparently sage-4.7.3.alpha1 is not relevant, I took into account sage-4.8.alpha0 instead. I worked on top of #11935, but I hope I did the rebase (yes, really not more than a trivial rebase) such that it should not matter whether one has #11935 applied or not. I will test this in two hours...\n\nApply trac11068_nc_ideals_and_quotients.patch trac11068_quotient_ring_without_names.patch trac11068_lifting_map.patch",
    "created_at": "2011-11-08T13:16:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117878",
    "user": "SimonKing"
}
```

Since apparently sage-4.7.3.alpha1 is not relevant, I took into account sage-4.8.alpha0 instead. I worked on top of #11935, but I hope I did the rebase (yes, really not more than a trivial rebase) such that it should not matter whether one has #11935 applied or not. I will test this in two hours...

Apply trac11068_nc_ideals_and_quotients.patch trac11068_quotient_ring_without_names.patch trac11068_lifting_map.patch



---

archive/issue_comments_117879.json:
```json
{
    "body": "Meanwhile I have updated my patches both here and at #11943. I just verified that the new patches do commute, so that it does not matter whether this ticket is merged before or after #11943 and #11935.\n\nAgain, the change was trivial (actually involving a blank space that I had accidentally introduced at #11943).\n\nApply trac11068_nc_ideals_and_quotients.patch trac11068_quotient_ring_without_names.patch trac11068_lifting_map.patch",
    "created_at": "2011-11-08T15:03:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117879",
    "user": "SimonKing"
}
```

Meanwhile I have updated my patches both here and at #11943. I just verified that the new patches do commute, so that it does not matter whether this ticket is merged before or after #11943 and #11935.

Again, the change was trivial (actually involving a blank space that I had accidentally introduced at #11943).

Apply trac11068_nc_ideals_and_quotients.patch trac11068_quotient_ring_without_names.patch trac11068_lifting_map.patch



---

archive/issue_comments_117880.json:
```json
{
    "body": "Attachment\n\nNon-commutative ideals and quotient rings",
    "created_at": "2012-01-18T11:11:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117880",
    "user": "jdemeyer"
}
```

Attachment

Non-commutative ideals and quotient rings



---

archive/issue_comments_117881.json:
```json
{
    "body": "Patch rebased to latest version of #11900.",
    "created_at": "2012-01-18T11:11:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117881",
    "user": "jdemeyer"
}
```

Patch rebased to latest version of #11900.



---

archive/issue_comments_117882.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2012-01-21T23:37:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117882",
    "user": "jdemeyer"
}
```

Resolution: fixed



---

archive/issue_comments_117883.json:
```json
{
    "body": "The reduce function of the two doctests\n\nAll failures will probably be fixed if these three tests pass\n\n```\nsage: MS = MatrixSpace(GF(5),2,2)\nsage: I = MS*[MS.0*MS.1,MS.2+MS.3]*MS\nsage: Q = MS.quo(I)\nsage: Q.0*Q.1   # indirect doctest\n[0 1]\n[0 0]\n```\n\n and\n\n```\nsage: S = SteenrodAlgebra(2)\nsage: I = S*[S.0+S.1]*S\nsage: Q = S.quo(I)\nsage: Q.0\nSq(1)\n```\n\nAdded by this ticket both do not satisfy the condition on `reduce` as documented in this ticket\n\n```\nIn :trac:`11068`, non-commutative quotient rings `R/I` were\nimplemented.  The only requirement is that the two-sided ideal `I`\nprovides a ``reduce`` method so that ``I.reduce(x)`` is the normal\nform of an element `x` with respect to `I` (i.e., we have\n``I.reduce(x) == I.reduce(y)`` if `x-y \\in I`, and\n``x - I.reduce(x) in I``).\n```\n\nThis issue is now tracked at #23621",
    "created_at": "2017-08-31T09:07:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117883",
    "user": "mderickx"
}
```

The reduce function of the two doctests

All failures will probably be fixed if these three tests pass

```
sage: MS = MatrixSpace(GF(5),2,2)
sage: I = MS*[MS.0*MS.1,MS.2+MS.3]*MS
sage: Q = MS.quo(I)
sage: Q.0*Q.1   # indirect doctest
[0 1]
[0 0]
```

 and

```
sage: S = SteenrodAlgebra(2)
sage: I = S*[S.0+S.1]*S
sage: Q = S.quo(I)
sage: Q.0
Sq(1)
```

Added by this ticket both do not satisfy the condition on `reduce` as documented in this ticket

```
In :trac:`11068`, non-commutative quotient rings `R/I` were
implemented.  The only requirement is that the two-sided ideal `I`
provides a ``reduce`` method so that ``I.reduce(x)`` is the normal
form of an element `x` with respect to `I` (i.e., we have
``I.reduce(x) == I.reduce(y)`` if `x-y \in I`, and
``x - I.reduce(x) in I``).
```

This issue is now tracked at #23621



---

archive/issue_comments_117884.json:
```json
{
    "body": "Wrong ticket? This one was closed six years ago...\n\nReplying to [comment:77 mderickx]:\n> The reduce function of the two doctests\n> \n> All failures will probably be fixed if these three tests pass\n> {{{\n> sage: MS = MatrixSpace(GF(5),2,2)\n> sage: I = MS*[MS.0*MS.1,MS.2+MS.3]*MS\n> sage: Q = MS.quo(I)\n> sage: Q.0*Q.1   # indirect doctest\n> [0 1]\n> [0 0]\n> }}}\n>  and\n> {{{\n> sage: S = SteenrodAlgebra(2)\n> sage: I = S*[S.0+S.1]*S\n> sage: Q = S.quo(I)\n> sage: Q.0\n> Sq(1)\n> }}}\n> Added by this ticket both do not satisfy the condition on `reduce` as documented in this ticket\n> {{{\n> In :trac:`11068`, non-commutative quotient rings `R/I` were\n> implemented.  The only requirement is that the two-sided ideal `I`\n> provides a ``reduce`` method so that ``I.reduce(x)`` is the normal\n> form of an element `x` with respect to `I` (i.e., we have\n> ``I.reduce(x) == I.reduce(y)`` if `x-y \\in I`, and\n> ``x - I.reduce(x) in I``).\n> }}}\n> This issue is now tracked at #23621",
    "created_at": "2017-08-31T09:36:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10950#issuecomment-117884",
    "user": "SimonKing"
}
```

Wrong ticket? This one was closed six years ago...

Replying to [comment:77 mderickx]:
> The reduce function of the two doctests
> 
> All failures will probably be fixed if these three tests pass
> {{{
> sage: MS = MatrixSpace(GF(5),2,2)
> sage: I = MS*[MS.0*MS.1,MS.2+MS.3]*MS
> sage: Q = MS.quo(I)
> sage: Q.0*Q.1   # indirect doctest
> [0 1]
> [0 0]
> }}}
>  and
> {{{
> sage: S = SteenrodAlgebra(2)
> sage: I = S*[S.0+S.1]*S
> sage: Q = S.quo(I)
> sage: Q.0
> Sq(1)
> }}}
> Added by this ticket both do not satisfy the condition on `reduce` as documented in this ticket
> {{{
> In :trac:`11068`, non-commutative quotient rings `R/I` were
> implemented.  The only requirement is that the two-sided ideal `I`
> provides a ``reduce`` method so that ``I.reduce(x)`` is the normal
> form of an element `x` with respect to `I` (i.e., we have
> ``I.reduce(x) == I.reduce(y)`` if `x-y \in I`, and
> ``x - I.reduce(x) in I``).
> }}}
> This issue is now tracked at #23621
