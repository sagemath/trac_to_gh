# Issue 13971: Fix color option for 2D polyhedron

archive/issues_013971.json:
```json
{
    "body": "Assignee: mhampton\n\nCC:  sage-combinat\n\nCurrently, the color option for ploting 2D polyhedron triggers a warning::\n\n```\nsage: p1 = Polyhedron(vertices=[[1,1]], rays=[[1,1]])\nsage: p1.plot(color=\"red\")\nverbose 0 (138: primitive.py, options) WARNING: Ignoring option 'color'=red\nverbose 0 (138: primitive.py, options) \nThe allowed options for Polygon defined by 3 points are:\n    alpha          How transparent the figure is.                              \n    fill           Whether or not to fill the polygon.                         \n    hue            The color given as a hue.                                   \n    legend_label   The label for this item in the legend.                      \n    rgbcolor       The color as an RGB tuple.                                  \n    thickness      How thick the border line is.                               \n    zorder         The layer level in which to draw                            \n```\n\nThe attached patch fixes this.\n\nIssue created by migration from https://trac.sagemath.org/ticket/14175\n\n",
    "created_at": "2013-02-24T17:43:07Z",
    "labels": [
        "component: geometry",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.9",
    "title": "Fix color option for 2D polyhedron",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/13971",
    "user": "https://github.com/nthiery"
}
```
Assignee: mhampton

CC:  sage-combinat

Currently, the color option for ploting 2D polyhedron triggers a warning::

```
sage: p1 = Polyhedron(vertices=[[1,1]], rays=[[1,1]])
sage: p1.plot(color="red")
verbose 0 (138: primitive.py, options) WARNING: Ignoring option 'color'=red
verbose 0 (138: primitive.py, options) 
The allowed options for Polygon defined by 3 points are:
    alpha          How transparent the figure is.                              
    fill           Whether or not to fill the polygon.                         
    hue            The color given as a hue.                                   
    legend_label   The label for this item in the legend.                      
    rgbcolor       The color as an RGB tuple.                                  
    thickness      How thick the border line is.                               
    zorder         The layer level in which to draw                            
```

The attached patch fixes this.

Issue created by migration from https://trac.sagemath.org/ticket/14175





---

archive/issue_comments_174126.json:
```json
{
    "body": "This is needed for #4327. Thanks!",
    "created_at": "2013-02-24T17:46:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13971#issuecomment-174126",
    "user": "https://github.com/nthiery"
}
```

This is needed for #4327. Thanks!



---

archive/issue_comments_174127.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-02-24T17:47:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13971#issuecomment-174127",
    "user": "https://github.com/nthiery"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_174128.json:
```json
{
    "body": "By default the outline should be drawn in a different color than the fill for visual contrast.",
    "created_at": "2013-02-25T20:51:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13971#issuecomment-174128",
    "user": "https://github.com/vbraun"
}
```

By default the outline should be drawn in a different color than the fill for visual contrast.



---

archive/issue_comments_174129.json:
```json
{
    "body": "Replying to [comment:4 vbraun]:\n> By default the outline should be drawn in a different color than the fill for visual contrast.\n\n\nIs this a comment about #14781?",
    "created_at": "2013-02-25T22:03:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13971#issuecomment-174129",
    "user": "https://github.com/nthiery"
}
```

Replying to [comment:4 vbraun]:
> By default the outline should be drawn in a different color than the fill for visual contrast.


Is this a comment about #14781?



---

archive/issue_comments_174130.json:
```json
{
    "body": "No, about this ticket. So far, interior=green and outline=blue. With this patch everything is blue by default.",
    "created_at": "2013-02-25T22:06:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13971#issuecomment-174130",
    "user": "https://github.com/vbraun"
}
```

No, about this ticket. So far, interior=green and outline=blue. With this patch everything is blue by default.



---

archive/issue_comments_174131.json:
```json
{
    "body": "Replying to [comment:6 vbraun]:\n> No, about this ticket. So far, interior=green and outline=blue. With this patch everything is blue by default.\n\n\nOops, I had missed the default option for the interior! What about this new version of this patch?\n\nCheers,\n                                     Nicolas",
    "created_at": "2013-02-26T00:25:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13971#issuecomment-174131",
    "user": "https://github.com/nthiery"
}
```

Replying to [comment:6 vbraun]:
> No, about this ticket. So far, interior=green and outline=blue. With this patch everything is blue by default.


Oops, I had missed the default option for the interior! What about this new version of this patch?

Cheers,
                                     Nicolas



---

archive/issue_comments_174132.json:
```json
{
    "body": "Actually, I also needed that for 3D. The uploaded patch handles this!",
    "created_at": "2013-02-26T03:58:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13971#issuecomment-174132",
    "user": "https://github.com/nthiery"
}
```

Actually, I also needed that for 3D. The uploaded patch handles this!



---

archive/issue_comments_174133.json:
```json
{
    "body": "Hellooooooooooooooooooo !!!\n\nIt looks like there is absolutely no way to guess from looking at [1] which options are accepted by all these methods... Would it be possible to add a list of them, or at least a pointer toward a place where those options are defined ?\n\nNathann\n\n[1] http://www.sagemath.org/doc/reference/sage/geometry/polyhedron/plot.html",
    "created_at": "2013-02-26T09:01:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13971#issuecomment-174133",
    "user": "https://github.com/nathanncohen"
}
```

Hellooooooooooooooooooo !!!

It looks like there is absolutely no way to guess from looking at [1] which options are accepted by all these methods... Would it be possible to add a list of them, or at least a pointer toward a place where those options are defined ?

Nathann

[1] http://www.sagemath.org/doc/reference/sage/geometry/polyhedron/plot.html



---

archive/issue_comments_174134.json:
```json
{
    "body": "Replying to [comment:9 ncohen]:\n> Hellooooooooooooooooooo !!!\n> \n> It looks like there is absolutely no way to guess from looking at [1] which options are accepted by all these methods... Would it be possible to add a list of them, or at least a pointer toward a place where those options are defined ?\n> \n> Nathann\n> \n> [1] http://www.sagemath.org/doc/reference/sage/geometry/polyhedron/plot.html\n\n\nThat would be nice indeed! But that's for another ticket :-)",
    "created_at": "2013-02-26T17:05:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13971#issuecomment-174134",
    "user": "https://github.com/nthiery"
}
```

Replying to [comment:9 ncohen]:
> Hellooooooooooooooooooo !!!
> 
> It looks like there is absolutely no way to guess from looking at [1] which options are accepted by all these methods... Would it be possible to add a list of them, or at least a pointer toward a place where those options are defined ?
> 
> Nathann
> 
> [1] http://www.sagemath.org/doc/reference/sage/geometry/polyhedron/plot.html


That would be nice indeed! But that's for another ticket :-)



---

archive/issue_comments_174135.json:
```json
{
    "body": "> That would be nice indeed! But that's for another ticket :-)\n\n\n....\n\nAnother ticket will add the documentation of an option that you make available in this one ?\n\nNathann",
    "created_at": "2013-02-26T17:08:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13971#issuecomment-174135",
    "user": "https://github.com/nathanncohen"
}
```

> That would be nice indeed! But that's for another ticket :-)


....

Another ticket will add the documentation of an option that you make available in this one ?

Nathann



---

archive/issue_comments_174136.json:
```json
{
    "body": "As you remarked on #14181, this is not quite correct. If you have a 1-d polyhedron in 2-d ambient space then the fill color (and not the outline color) should apply to the line.",
    "created_at": "2013-02-26T17:46:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13971#issuecomment-174136",
    "user": "https://github.com/vbraun"
}
```

As you remarked on #14181, this is not quite correct. If you have a 1-d polyhedron in 2-d ambient space then the fill color (and not the outline color) should apply to the line.



---

archive/issue_comments_174137.json:
```json
{
    "body": "Replying to [comment:12 vbraun]:\n> As you remarked on #14181, this is not quite correct. If you have a 1-d polyhedron in 2-d ambient space then the fill color (and not the outline color) should apply to the line.\n\n\nAll I need for #4327 is to be able to specify the color for all of the polyhedron. The patch implements just that, and leaves things as they were before the patch otherwise. If someone wants to go further and allow for customizing both the fill color and the ouline color, please go ahead!\n\nBut I for myself need to focus on those things were I am already way too late (like #4327, and more importantly the functorial construction patch.\n\nCheers,\n                                Nicolas",
    "created_at": "2013-02-26T18:45:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13971#issuecomment-174137",
    "user": "https://github.com/nthiery"
}
```

Replying to [comment:12 vbraun]:
> As you remarked on #14181, this is not quite correct. If you have a 1-d polyhedron in 2-d ambient space then the fill color (and not the outline color) should apply to the line.


All I need for #4327 is to be able to specify the color for all of the polyhedron. The patch implements just that, and leaves things as they were before the patch otherwise. If someone wants to go further and allow for customizing both the fill color and the ouline color, please go ahead!

But I for myself need to focus on those things were I am already way too late (like #4327, and more importantly the functorial construction patch.

Cheers,
                                Nicolas



---

archive/issue_comments_174138.json:
```json
{
    "body": "Replying to [comment:11 ncohen]:\n> Another ticket will add the documentation of an option that you make available in this one ?\n\n\nIt's documented and tested at a low level. I let Volker decide whether we want to advertise it right now at a high level, or wait until the interface is set in stone.\n\nCheers,\n                                        Nicolas",
    "created_at": "2013-02-26T18:47:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13971#issuecomment-174138",
    "user": "https://github.com/nthiery"
}
```

Replying to [comment:11 ncohen]:
> Another ticket will add the documentation of an option that you make available in this one ?


It's documented and tested at a low level. I let Volker decide whether we want to advertise it right now at a high level, or wait until the interface is set in stone.

Cheers,
                                        Nicolas



---

archive/issue_comments_174139.json:
```json
{
    "body": "Ok I'll work this over a bit.",
    "created_at": "2013-02-26T18:53:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13971#issuecomment-174139",
    "user": "https://github.com/vbraun"
}
```

Ok I'll work this over a bit.



---

archive/issue_comments_174140.json:
```json
{
    "body": "Replying to [comment:15 vbraun]:\n> Ok I'll work this over a bit.\n\n\nThanks, I appreciate that!",
    "created_at": "2013-02-26T19:11:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13971#issuecomment-174140",
    "user": "https://github.com/nthiery"
}
```

Replying to [comment:15 vbraun]:
> Ok I'll work this over a bit.


Thanks, I appreciate that!



---

archive/issue_comments_174141.json:
```json
{
    "body": "For the patchbot:\n\nApply trac_14175_plot_options.patch",
    "created_at": "2013-03-02T09:19:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13971#issuecomment-174141",
    "user": "https://github.com/vbraun"
}
```

For the patchbot:

Apply trac_14175_plot_options.patch



---

archive/issue_comments_174142.json:
```json
{
    "body": "Hi Volker!\n\nYes, the user interface is much better as you did it! Thanks for the gift :-)\n\nI ran some systematic tests and added them to the documentation/tests\nof plot. I stumbled on a couple corner cases, and reworked a bit the\nlogic in plot. In particular, the default value for the colors is now\nhandled by plot. A consequence is that the default coloring is uniform\nfor all dimension, whereas we used to have:\n\n- 2D: blue wireframe, light green (0,1,0) fill\n- 3D: light green (0,1,0) fill, blue wireframe\n- 0D, 1D: everything blue\n\nIs that ok?\n\nThe default is currently set to \"green\" for the fill and \"blue\" for\nthe wireframe, but feel free to change it to your taste. I also did a\ncouple micro improvements to the doc. If you are happy with the\nreviewer patch, feel free to fold it in, customize the default colors\nand set a positive review on my behalf (assuming I did not screw up\nand the patchbot remains green of course).\n\nCheers,\n                       Nicolas",
    "created_at": "2013-03-03T21:16:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13971#issuecomment-174142",
    "user": "https://github.com/nthiery"
}
```

Hi Volker!

Yes, the user interface is much better as you did it! Thanks for the gift :-)

I ran some systematic tests and added them to the documentation/tests
of plot. I stumbled on a couple corner cases, and reworked a bit the
logic in plot. In particular, the default value for the colors is now
handled by plot. A consequence is that the default coloring is uniform
for all dimension, whereas we used to have:

- 2D: blue wireframe, light green (0,1,0) fill
- 3D: light green (0,1,0) fill, blue wireframe
- 0D, 1D: everything blue

Is that ok?

The default is currently set to "green" for the fill and "blue" for
the wireframe, but feel free to change it to your taste. I also did a
couple micro improvements to the doc. If you are happy with the
reviewer patch, feel free to fold it in, customize the default colors
and set a positive review on my behalf (assuming I did not screw up
and the patchbot remains green of course).

Cheers,
                       Nicolas



---

archive/issue_comments_174143.json:
```json
{
    "body": "Oh, just one thing: since there maybe several points, lines, and even polygons (3D), should the options be named ``points``, ``lines``, ``polygones``?",
    "created_at": "2013-03-03T21:25:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13971#issuecomment-174143",
    "user": "https://github.com/nthiery"
}
```

Oh, just one thing: since there maybe several points, lines, and even polygons (3D), should the options be named ``points``, ``lines``, ``polygones``?



---

archive/issue_comments_174144.json:
```json
{
    "body": "There may be multiple points but only one point option setting, which is why I settled on the singular. Also, none of the other plot options are plural afaik. Since you apparently don't have a particular preference either I'd say we keep it in singular.\n\nPositive review to the revewer patch...",
    "created_at": "2013-03-08T20:46:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13971#issuecomment-174144",
    "user": "https://github.com/vbraun"
}
```

There may be multiple points but only one point option setting, which is why I settled on the singular. Also, none of the other plot options are plural afaik. Since you apparently don't have a particular preference either I'd say we keep it in singular.

Positive review to the revewer patch...



---

archive/issue_comments_174145.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-03-08T20:46:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13971#issuecomment-174145",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_174146.json:
```json
{
    "body": "Replying to [comment:22 vbraun]:\n> There may be multiple points but only one point option setting, which is why I settled on the singular. Also, none of the other plot options are plural afaik. Since you apparently don't have a particular preference either I'd say we keep it in singular.\n\n\nOk!\n\n> Positive review to the revewer patch...\n\n\nGreat :-)\n\nThat might well be our first joint patch; it's been a pleasure!\n\nAnd at the end of the day, I am actually going to use the point/line option to get a wireframe root system plot that my daughter can reproduce with her construction kit :-) So you were perfectly right it was to be done in full!",
    "created_at": "2013-03-08T21:04:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13971#issuecomment-174146",
    "user": "https://github.com/nthiery"
}
```

Replying to [comment:22 vbraun]:
> There may be multiple points but only one point option setting, which is why I settled on the singular. Also, none of the other plot options are plural afaik. Since you apparently don't have a particular preference either I'd say we keep it in singular.


Ok!

> Positive review to the revewer patch...


Great :-)

That might well be our first joint patch; it's been a pleasure!

And at the end of the day, I am actually going to use the point/line option to get a wireframe root system plot that my daughter can reproduce with her construction kit :-) So you were perfectly right it was to be done in full!



---

archive/issue_events_040020.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-03-08T22:33:29Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13971",
    "milestone": "sage-5.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13971#event-40020"
}
```



---

archive/issue_comments_174147.json:
```json
{
    "body": "Are you sure the first patch is the one which should be applied?",
    "created_at": "2013-03-08T22:34:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13971#issuecomment-174147",
    "user": "https://github.com/jdemeyer"
}
```

Are you sure the first patch is the one which should be applied?



---

archive/issue_comments_174148.json:
```json
{
    "body": "Attachment [trac_14175_plot_options.patch](tarball://root/attachments/some-uuid/ticket14175/trac_14175_plot_options.patch) by @nthiery created at 2013-03-12 02:42:26\n\nReplying to [comment:25 jdemeyer]:\n> Are you sure the first patch is the one which should be applied?\n\n\nOops. Thanks for catching this. Since anyway the patch header had to be updated for the reviewer's patch, I folded together the two patches and reposted the result. Now it's correct :-)",
    "created_at": "2013-03-12T02:42:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13971#issuecomment-174148",
    "user": "https://github.com/nthiery"
}
```

Attachment [trac_14175_plot_options.patch](tarball://root/attachments/some-uuid/ticket14175/trac_14175_plot_options.patch) by @nthiery created at 2013-03-12 02:42:26

Replying to [comment:25 jdemeyer]:
> Are you sure the first patch is the one which should be applied?


Oops. Thanks for catching this. Since anyway the patch header had to be updated for the reviewer's patch, I folded together the two patches and reposted the result. Now it's correct :-)



---

archive/issue_comments_174149.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-03-13T11:05:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13971#issuecomment-174149",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_events_040021.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-03-13T11:05:37Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/13971",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13971#event-40021"
}
```



---

archive/issue_comments_174150.json:
```json
{
    "body": "Question (likely dumb): could the behavior at [this ask.sagemath question](http://ask.sagemath.org/question/23223/projection_direction-broken-for-polytopes/) be related to this change (or #11634)?  Thanks!",
    "created_at": "2014-07-06T01:40:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13971#issuecomment-174150",
    "user": "https://github.com/kcrisman"
}
```

Question (likely dumb): could the behavior at [this ask.sagemath question](http://ask.sagemath.org/question/23223/projection_direction-broken-for-polytopes/) be related to this change (or #11634)?  Thanks!
