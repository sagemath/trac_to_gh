# Issue 13971: Fix color option for 2D polyhedron

Issue created by migration from https://trac.sagemath.org/ticket/14175

Original creator: nthiery

Original creation time: 2013-02-24 17:43:07

Assignee: mhampton

CC:  sage-combinat

Currently, the color option for ploting 2D polyhedron triggers a warning::

```
sage: p1 = Polyhedron(vertices=[[1,1]], rays=[[1,1]])
sage: p1.plot(color="red")
verbose 0 (138: primitive.py, options) WARNING: Ignoring option 'color'=red
verbose 0 (138: primitive.py, options) 
The allowed options for Polygon defined by 3 points are:
    alpha          How transparent the figure is.                              
    fill           Whether or not to fill the polygon.                         
    hue            The color given as a hue.                                   
    legend_label   The label for this item in the legend.                      
    rgbcolor       The color as an RGB tuple.                                  
    thickness      How thick the border line is.                               
    zorder         The layer level in which to draw                            
```


The attached patch fixes this.


---

Comment by nthiery created at 2013-02-24 17:46:52

This is needed for #4327. Thanks!


---

Comment by nthiery created at 2013-02-24 17:47:04

Changing status from new to needs_review.


---

Comment by vbraun created at 2013-02-25 20:51:59

By default the outline should be drawn in a different color than the fill for visual contrast.


---

Comment by nthiery created at 2013-02-25 22:03:02

Replying to [comment:4 vbraun]:
> By default the outline should be drawn in a different color than the fill for visual contrast.

Is this a comment about #14781?


---

Comment by vbraun created at 2013-02-25 22:06:44

No, about this ticket. So far, interior=green and outline=blue. With this patch everything is blue by default.


---

Comment by nthiery created at 2013-02-26 00:25:53

Replying to [comment:6 vbraun]:
> No, about this ticket. So far, interior=green and outline=blue. With this patch everything is blue by default.

Oops, I had missed the default option for the interior! What about this new version of this patch?

Cheers,
                                     Nicolas


---

Comment by nthiery created at 2013-02-26 03:58:06

Actually, I also needed that for 3D. The uploaded patch handles this!


---

Comment by ncohen created at 2013-02-26 09:01:26

Hellooooooooooooooooooo !!!

It looks like there is absolutely no way to guess from looking at [1] which options are accepted by all these methods... Would it be possible to add a list of them, or at least a pointer toward a place where those options are defined ?

Nathann

[1] http://www.sagemath.org/doc/reference/sage/geometry/polyhedron/plot.html


---

Comment by nthiery created at 2013-02-26 17:05:22

Replying to [comment:9 ncohen]:
> Hellooooooooooooooooooo !!!
> 
> It looks like there is absolutely no way to guess from looking at [1] which options are accepted by all these methods... Would it be possible to add a list of them, or at least a pointer toward a place where those options are defined ?
> 
> Nathann
> 
> [1] http://www.sagemath.org/doc/reference/sage/geometry/polyhedron/plot.html

That would be nice indeed! But that's for another ticket :-)


---

Comment by ncohen created at 2013-02-26 17:08:43

> That would be nice indeed! But that's for another ticket :-)

....

Another ticket will add the documentation of an option that you make available in this one ?

Nathann


---

Comment by vbraun created at 2013-02-26 17:46:46

As you remarked on #14181, this is not quite correct. If you have a 1-d polyhedron in 2-d ambient space then the fill color (and not the outline color) should apply to the line.


---

Comment by nthiery created at 2013-02-26 18:45:07

Replying to [comment:12 vbraun]:
> As you remarked on #14181, this is not quite correct. If you have a 1-d polyhedron in 2-d ambient space then the fill color (and not the outline color) should apply to the line.

All I need for #4327 is to be able to specify the color for all of the polyhedron. The patch implements just that, and leaves things as they were before the patch otherwise. If someone wants to go further and allow for customizing both the fill color and the ouline color, please go ahead!

But I for myself need to focus on those things were I am already way too late (like #4327, and more importantly the functorial construction patch.

Cheers,
                                Nicolas


---

Comment by nthiery created at 2013-02-26 18:47:49

Replying to [comment:11 ncohen]:
> Another ticket will add the documentation of an option that you make available in this one ?

It's documented and tested at a low level. I let Volker decide whether we want to advertise it right now at a high level, or wait until the interface is set in stone.

Cheers,
                                        Nicolas


---

Comment by vbraun created at 2013-02-26 18:53:23

Ok I'll work this over a bit.


---

Comment by nthiery created at 2013-02-26 19:11:11

Replying to [comment:15 vbraun]:
> Ok I'll work this over a bit.

Thanks, I appreciate that!


---

Comment by vbraun created at 2013-03-02 09:19:23

For the patchbot:

Apply trac_14175_plot_options.patch


---

Comment by nthiery created at 2013-03-03 21:16:02

Hi Volker!

Yes, the user interface is much better as you did it! Thanks for the gift :-)

I ran some systematic tests and added them to the documentation/tests
of plot. I stumbled on a couple corner cases, and reworked a bit the
logic in plot. In particular, the default value for the colors is now
handled by plot. A consequence is that the default coloring is uniform
for all dimension, whereas we used to have:

- 2D: blue wireframe, light green (0,1,0) fill
- 3D: light green (0,1,0) fill, blue wireframe
- 0D, 1D: everything blue

Is that ok?

The default is currently set to "green" for the fill and "blue" for
the wireframe, but feel free to change it to your taste. I also did a
couple micro improvements to the doc. If you are happy with the
reviewer patch, feel free to fold it in, customize the default colors
and set a positive review on my behalf (assuming I did not screw up
and the patchbot remains green of course).

Cheers,
                       Nicolas


---

Comment by nthiery created at 2013-03-03 21:25:31

Oh, just one thing: since there maybe several points, lines, and even polygons (3D), should the options be named ``points``, ``lines``, ``polygones``?


---

Comment by vbraun created at 2013-03-08 20:46:05

There may be multiple points but only one point option setting, which is why I settled on the singular. Also, none of the other plot options are plural afaik. Since you apparently don't have a particular preference either I'd say we keep it in singular.

Positive review to the revewer patch...


---

Comment by vbraun created at 2013-03-08 20:46:05

Changing status from needs_review to positive_review.


---

Comment by nthiery created at 2013-03-08 21:04:58

Replying to [comment:22 vbraun]:
> There may be multiple points but only one point option setting, which is why I settled on the singular. Also, none of the other plot options are plural afaik. Since you apparently don't have a particular preference either I'd say we keep it in singular.

Ok!

> Positive review to the revewer patch...

Great :-)

That might well be our first joint patch; it's been a pleasure!

And at the end of the day, I am actually going to use the point/line option to get a wireframe root system plot that my daughter can reproduce with her construction kit :-) So you were perfectly right it was to be done in full!


---

Comment by jdemeyer created at 2013-03-08 22:34:31

Are you sure the first patch is the one which should be applied?


---

Attachment

Replying to [comment:25 jdemeyer]:
> Are you sure the first patch is the one which should be applied?

Oops. Thanks for catching this. Since anyway the patch header had to be updated for the reviewer's patch, I folded together the two patches and reposted the result. Now it's correct :-)


---

Comment by jdemeyer created at 2013-03-13 11:05:37

Resolution: fixed


---

Comment by kcrisman created at 2014-07-06 01:40:52

Question (likely dumb): could the behavior at [this ask.sagemath question](http://ask.sagemath.org/question/23223/projection_direction-broken-for-polytopes/) be related to this change (or #11634)?  Thanks!
