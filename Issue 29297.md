# Issue 29297: Trigger CI workflows on GitHub Actions by pushing tags

Issue created by migration from https://trac.sagemath.org/ticket/29534

Original creator: mkoeppe

Original creation time: 2020-04-20 00:56:12

CC:  dimpase @kliem mjo

1. If a developers wants to run the standard set of CI tests, just pushing a tag is a simpler interface than creating a pull request:  `git tag -f "ci" && git push --force github "ci"`

2. Also this would ensure that releases always trigger a CI test.

3. By specially named tags, a developer could also request a specific set of tests to be run. Perhaps a suffix `/ci/cygwin`, `/ci/fedora`, `/ci/debian,fedora/TARGETS=pynormaliz/`...
(This idea needs to be fleshed out. See https://stackoverflow.com/questions/26382234/what-names-are-valid-git-tags)


---

Comment by mkoeppe created at 2020-04-20 01:36:13

Changing keywords from "" to "ci, ContinuousIntegration".


---

Comment by mkoeppe created at 2020-04-20 01:37:12

Changing status from new to needs_review.


---

Comment by mkoeppe created at 2020-04-20 01:37:53

Last 10 new commits:


---

Comment by git created at 2020-04-20 02:27:15

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2020-04-21 05:21:54

Anyone interested in this?


---

Comment by dimpase created at 2020-04-21 07:30:08

let me try this.


---

Comment by dimpase created at 2020-04-21 16:44:23

This is a bit strange. My (shallow) understanding of tags is that they are kind of immutable branches.
Once a commit is tagged, the tag stays there.
Does pushing the same commit (as a part of another branch, say) trigger CI?


---

Comment by mkoeppe created at 2020-04-21 22:45:35

Yes, the tag doesn't move by itself, but you can move it using `git tag -f`.


---

Comment by mkoeppe created at 2020-04-21 23:01:03

The CI workflow is triggered only by pushes to tags, not branches. 
Pushing the same tag to the same commit is a no-op and will probably not trigger the workflow.
If you want to restart a check of the same commit, just push a different tag.


---

Comment by dimpase created at 2020-04-22 14:10:39

This looks and works OK.


---

Comment by dimpase created at 2020-04-22 14:10:39

Changing status from needs_review to positive_review.


---

Comment by mkoeppe created at 2020-04-22 14:15:20

Thanks!


---

Comment by vbraun created at 2020-04-24 22:28:12

Resolution: fixed
