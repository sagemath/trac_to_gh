# Issue 18192: Add the matroid connectivity function

Issue created by migration from https://trac.sagemath.org/ticket/18429

Original creator: Rudi

Original creation time: 2015-05-16 14:59:05

CC:  stefan chaoxu

There is a simple reduction from matroid connectivity to matroid intersection. Implement the connectivity function using this function. Use the connectivity function to improve the efficiency of is_3connected, which currently has a naive implementation.


---

Comment by git created at 2015-05-16 15:43:40

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2015-05-16 16:26:51

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2015-05-16 19:27:33

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2015-05-16 19:44:50

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by Rudi created at 2015-05-16 19:48:28

Changing status from new to needs_review.


---

Comment by git created at 2015-05-17 18:24:29

Branch pushed to git repo; I updated commit sha1. New commits:


---

Attachment


---

Attachment


---

Comment by Rudi created at 2015-05-20 08:52:36

Finally my sage installation is back on it's feet again. 

Now that I can properly test my own work I see that this patch still needs some work, so I'll upload my improved version later. 

Sorry for the mess.


---

Comment by Rudi created at 2015-05-20 08:52:36

Changing status from needs_review to needs_work.


---

Comment by git created at 2015-05-20 09:08:03

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by Rudi created at 2015-05-20 09:17:36

Happy now.


---

Comment by Rudi created at 2015-05-20 09:17:36

Changing status from needs_work to needs_review.


---

Comment by git created at 2015-05-22 10:43:35

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2015-05-22 11:08:27

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by Rudi created at 2015-05-22 11:13:42

I could not resist adding functionality to is_3connected, namely returning a separation to certify that the matroid is nor 3-connected.
This did involve slightly altering the interface to the matroid intersection augmentation routine, to return the corresponding dual solution of a max-cardinality problem.


---

Comment by Rudi created at 2015-05-24 10:25:14

Set assignee to Rudi.


---

Comment by git created at 2015-05-25 10:12:07

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2015-05-25 23:42:28

Do you have some timings between the current version and your proposed version of `is_3connected`? Also should we just change this to a method `is_k_connected`, as I think all we'd need to change is `< 2` to `< k-1`?
----
New commits:


---

Comment by Rudi created at 2015-05-26 06:44:58

Replying to [comment:17 tscrim]:
> Do you have some timings between the current version and your proposed version of `is_3connected`? 

With the current version:

```
sage: M= matroids.named_matroids.T12()
sage: timeit("M.is_3connected()")
5 loops, best of 3: 91.4 ms per loop
sage: N= matroids.named_matroids.Terrahawk()
sage: timeit("N.is_3connected()")
5 loops, best of 3: 1.4 s per loop
sage: K=matroids.CompleteGraphic(7)
sage: timeit("K.is_3connected()")
5 loops, best of 3: 52.7 s per loop
```

With the proposed one:

```
sage: M=matroids.named_matroids.T12()
sage: timeit("M.is_3connected()")
125 loops, best of 3: 8.12 ms per loop
sage: N=matroids.named_matroids.Terrahawk()
sage: timeit("N.is_3connected()")
25 loops, best of 3: 20.7 ms per loop
sage: K=matroids.CompleteGraphic(7)
sage: timeit("K.is_3connected()")
5 loops, best of 3: 46.9 ms per loop
```

M has 12 elements, N has 16 elements, K has 21 elements. 


>Also should we just change this to a method `is_k_connected`, as I think all we'd need to change is `< 2` to `< k-1`?

It's a bit more work, you should enumerate all partitions of a fixed `(k-1)`-set into two sets, extend each of them them to a pair of disjoint `(k-1)`-sets from the ground set, then compute connectivity between the two sets. If you do this, there may be other optimizations to consider, like the best order in which to process these pairs.

But more importantly, k-connectivity is part of the plans for this 'google summer of code'. I do not want to interfere with those plans.


---

Comment by tscrim created at 2015-05-26 15:51:55

Thanks. Alright, then if you're okay with my changes, positive review.


---

Comment by Rudi created at 2015-05-26 16:04:36

Changing status from needs_review to positive_review.


---

Comment by Rudi created at 2015-05-26 16:04:36

Replying to [comment:19 tscrim]:
> Thanks. Alright, then if you're okay with my changes, positive review.
Absolutely. Thanks for reviewing and for making these changes.


---

Comment by vbraun created at 2015-05-26 23:34:24

Resolution: fixed
