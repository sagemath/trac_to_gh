# Issue 26186: Move some references from combinat to master reference file

Issue created by migration from Trac.

Original creator: jhpalmieri

Original creation time: 2018-10-06 21:18:12

CC:  chapoton

Ideally, we would put all references into the master reference file. This handles some of the references in `sage/combinat`, enough so that a Python 3 build has a chance to succeed in building the documentation.


---

Comment by git created at 2018-10-06 21:21:54

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by jhpalmieri created at 2018-10-06 21:24:16

Regarding building the documentation with Python 3: if I also delete the `sagenb` documentation from the reference manual, then I run into this error:

```
[reference]   File "/Users/palmieri/Desktop/Sage_stuff/sage_builds/PYTHON3/sage-8.4.beta7/local/lib/python3.6/site-packages/sphinx/search/__init__.py", line 174, in loads
[reference]     if not data or not s.startswith(self.PREFIX.encode()) or not \
[reference] TypeError: startswith first arg must be str or a tuple of str, not bytes
```

If I fix this by modifying Sphinx (probably not the right choice), the documentation builds in Python 3.

It would be good to track down where this bytes/str problem is coming from: it's probably some information that we're passing incorrectly to Sphinx.


---

Comment by jhpalmieri created at 2018-10-06 21:24:22

Changing status from new to needs_review.


---

Comment by chapoton created at 2018-10-07 10:02:24

branch is red...


---

Comment by jhpalmieri created at 2018-10-07 19:48:04

I'll try again after #26422 is merged, I think.


---

Comment by jhpalmieri created at 2018-10-09 17:10:15

To make the docs build, I removed a reference to `<facade-sets>`. I shouldn't have done this, so I should restore it once #26422 is merged and this ticket is ready to be worked on again. (So this paragraph is a reminder to myself to do this, and a reminder to anyone else to make sure that I did this.)

I removed it because it produces an error, and I believe that the reason for the error is that in the file `sage/categories/sets_cat.py`, the top-level class is included in the documentation, but the `SubcategoryMethods` are omitted, and those include the location to which `<facade-sets>` is a reference. I don't know why the behavior is different with Python 3 vs. Python 2, but we need a proper fix, and in particular, we don't want to be omitting large chunks of the documentation. (I am guessing that `ElementMethods` are also omitted, etc.)

We should open a new ticket for that.


---

Comment by jhpalmieri created at 2018-10-09 22:12:28

See #26449 for Sphinx issues.


---

Comment by git created at 2018-10-27 20:35:56

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by jhpalmieri created at 2018-10-27 20:36:47

This is now rebased on top of 8.5.beta1.


---

Comment by git created at 2018-10-27 20:38:37

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by tscrim created at 2018-10-27 23:35:46

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2018-10-27 23:35:46

Hopefully this will not have any conflicts...


---

Comment by vbraun created at 2018-10-29 22:46:38

Resolution: fixed
