# Issue 8259: Conversion from symmetric polynomials to basis of monomial symmetric functions

archive/issues_008259.json:
```json
{
    "body": "Currently a function that converts a symmetric polynomial into a symmetric function is missing in sage.\n\n-Added method to convert symmetric polynomial to a symmetric function in monomial basis\n\n-Added shortcut to symmetric functions\n\n-Small fix in crystals\n\n\nAssignee: sage-combinat\n\nCC:  @jbandlow sage-combinat\n\nKeywords: symmetric functions\n\nResolution: fixed\n\nAuthor: Anne Schilling\n\nReviewer: Jason Bandlow\n\nMerged: sage-4.3.4.alpha0\n\nIssue created by migration from https://trac.sagemath.org/ticket/8259\n\n",
    "closed_at": "2010-03-02T21:27:28Z",
    "created_at": "2010-02-14T00:22:35Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.3.4",
    "title": "Conversion from symmetric polynomials to basis of monomial symmetric functions",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/8259",
    "user": "https://github.com/anneschilling"
}
```
Currently a function that converts a symmetric polynomial into a symmetric function is missing in sage.

-Added method to convert symmetric polynomial to a symmetric function in monomial basis

-Added shortcut to symmetric functions

-Small fix in crystals


Assignee: sage-combinat

CC:  @jbandlow sage-combinat

Keywords: symmetric functions

Resolution: fixed

Author: Anne Schilling

Reviewer: Jason Bandlow

Merged: sage-4.3.4.alpha0

Issue created by migration from https://trac.sagemath.org/ticket/8259





---

archive/issue_comments_072967.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2010-02-20T05:30:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8259#issuecomment-72967",
    "user": "https://github.com/anneschilling"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_072968.json:
```json
{
    "body": "<a id='comment:4'></a>Has this been checked on Solaris?\n\nThere's general information about building on Solaris at\n\n http://wiki.sagemath.org/solaris\n\nInformation specifically for 't2' at\n\n http://wiki.sagemath.org/devel/Building-Sage-on-the-T5240-t2\n\nBoth the source (4.3.0.1 is the latest to build on Solaris) and a binary which will run on any SPARC can be found at http://www.sagemath.org/download-source.html\n\nDave",
    "created_at": "2010-02-21T23:44:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8259#issuecomment-72968",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

<a id='comment:4'></a>Has this been checked on Solaris?

There's general information about building on Solaris at

 http://wiki.sagemath.org/solaris

Information specifically for 't2' at

 http://wiki.sagemath.org/devel/Building-Sage-on-the-T5240-t2

Both the source (4.3.0.1 is the latest to build on Solaris) and a binary which will run on any SPARC can be found at http://www.sagemath.org/download-source.html

Dave



---

archive/issue_comments_072969.json:
```json
{
    "body": "<a id='comment:5'></a>Dave,\n\nAre you sure you posted this comment to the correct ticket?\n\nIf so, could you please comment on the relevance of Solaris to \nthe code?\n\nThanks,\n\nAnne\n\nReplying to [comment:4 drkirkby]:\n> Has this been checked on Solaris?\n> \n> There's general information about building on Solaris at\n> \n>  http://wiki.sagemath.org/solaris\n> \n> Information specifically for 't2' at\n> \n>  http://wiki.sagemath.org/devel/Building-Sage-on-the-T5240-t2\n> \n> Both the source (4.3.0.1 is the latest to build on Solaris) and a binary which will run on any SPARC can be found at http://www.sagemath.org/download-source.html\n> \n> Dave",
    "created_at": "2010-02-22T02:54:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8259#issuecomment-72969",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:5'></a>Dave,

Are you sure you posted this comment to the correct ticket?

If so, could you please comment on the relevance of Solaris to 
the code?

Thanks,

Anne

Replying to [comment:4 drkirkby]:
> Has this been checked on Solaris?
> 
> There's general information about building on Solaris at
> 
>  http://wiki.sagemath.org/solaris
> 
> Information specifically for 't2' at
> 
>  http://wiki.sagemath.org/devel/Building-Sage-on-the-T5240-t2
> 
> Both the source (4.3.0.1 is the latest to build on Solaris) and a binary which will run on any SPARC can be found at http://www.sagemath.org/download-source.html
> 
> Dave



---

archive/issue_events_019774.json:
```json
{
    "actor": "https://github.com/jbandlow",
    "created_at": "2010-02-22T20:38:43Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/8259",
    "milestone": "sage-4.3.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/8259#event-19774"
}
```



---

archive/issue_comments_072970.json:
```json
{
    "body": "<a id='comment:6'></a>Hi Anne,\n\nThe fix to crystals.py doesn't apply to either sage 4.3.2 or sage 4.3.3.  Can it be removed from this patch?\n\nThanks,\nJason",
    "created_at": "2010-02-22T20:38:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8259#issuecomment-72970",
    "user": "https://github.com/jbandlow"
}
```

<a id='comment:6'></a>Hi Anne,

The fix to crystals.py doesn't apply to either sage 4.3.2 or sage 4.3.3.  Can it be removed from this patch?

Thanks,
Jason



---

archive/issue_comments_072971.json:
```json
{
    "body": "<a id='comment:7'></a>One more thing.  I would really like to have an option to verify that the input actually is a symmetric function.  In fact I think this should be true by default.  So the key function would look something like this:\n\n```\ndef from_polynomial(self, f, check=True):        \n    assert(self.base_ring() == f.base_ring()\n    d = dict([(e,c) for e,c in f.dict().iteritems() if tuple(sorted(e)) == tuple(reversed(e))]) \n    if not check:\n        return self.sum(d[la]*self(Partition(la)) for la in d.keys())\n    out = self.sum(d[la]*self(Partition(la)) for la in d.keys())\n    assert( out.expand(f.parent().ngens(),f.parent().gens()) == f )\n    return out\n```",
    "created_at": "2010-02-22T21:05:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8259#issuecomment-72971",
    "user": "https://github.com/jbandlow"
}
```

<a id='comment:7'></a>One more thing.  I would really like to have an option to verify that the input actually is a symmetric function.  In fact I think this should be true by default.  So the key function would look something like this:

```
def from_polynomial(self, f, check=True):        
    assert(self.base_ring() == f.base_ring()
    d = dict([(e,c) for e,c in f.dict().iteritems() if tuple(sorted(e)) == tuple(reversed(e))]) 
    if not check:
        return self.sum(d[la]*self(Partition(la)) for la in d.keys())
    out = self.sum(d[la]*self(Partition(la)) for la in d.keys())
    assert( out.expand(f.parent().ngens(),f.parent().gens()) == f )
    return out
```



---

archive/issue_comments_072972.json:
```json
{
    "body": "<a id='comment:8'></a>Hi Jason,\n\nI attached a revised patch which includes your suggestion to add the option to test\nwhether the polynomial is symmetric.\n\nFor me the patch applied to sage-4.3.3. It depends on trac tickets #7978 and #8154\nwhich have been merged in sage-4.3.3. Hence it might not apply cleanly to sage-4.3.2.\n\nAnne",
    "created_at": "2010-02-23T02:42:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8259#issuecomment-72972",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:8'></a>Hi Jason,

I attached a revised patch which includes your suggestion to add the option to test
whether the polynomial is symmetric.

For me the patch applied to sage-4.3.3. It depends on trac tickets #7978 and #8154
which have been merged in sage-4.3.3. Hence it might not apply cleanly to sage-4.3.2.

Anne



---

archive/issue_comments_072973.json:
```json
{
    "body": "Attachment [trac_8259-from_poly_to_sym-as.patch](tarball://root/attachments/some-uuid/ticket8259/trac_8259-from_poly_to_sym-as.patch) by @anneschilling created at 2010-02-23 18:49:25",
    "created_at": "2010-02-23T18:49:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8259#issuecomment-72973",
    "user": "https://github.com/anneschilling"
}
```

Attachment [trac_8259-from_poly_to_sym-as.patch](tarball://root/attachments/some-uuid/ticket8259/trac_8259-from_poly_to_sym-as.patch) by @anneschilling created at 2010-02-23 18:49:25



---

archive/issue_comments_072974.json:
```json
{
    "body": "<a id='comment:9'></a>Hi Jason,\n\nAs we just discussed on the phone, I did revert the indentation of class Element\nin /combinat/sf/monomial.py back to the same level as\nclass SymmetricFunctionAlgebra_monomial\n\nHowever, I did change the indentation to be multiples of 4 rather than multiples \nof 3. I sent an e-mail to sage-combinat-devel to ask about the indentation issues\nin sf.\n\nAnne",
    "created_at": "2010-02-23T18:51:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8259#issuecomment-72974",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:9'></a>Hi Jason,

As we just discussed on the phone, I did revert the indentation of class Element
in /combinat/sf/monomial.py back to the same level as
class SymmetricFunctionAlgebra_monomial

However, I did change the indentation to be multiples of 4 rather than multiples 
of 3. I sent an e-mail to sage-combinat-devel to ask about the indentation issues
in sf.

Anne



---

archive/issue_comments_072975.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2010-02-23T21:54:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8259#issuecomment-72975",
    "user": "https://github.com/jbandlow"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_072976.json:
```json
{
    "body": "<a id='comment:10'></a>Thanks Anne! This looks good to me.  Positive review.\n\n-Jason",
    "created_at": "2010-02-23T21:54:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8259#issuecomment-72976",
    "user": "https://github.com/jbandlow"
}
```

<a id='comment:10'></a>Thanks Anne! This looks good to me.  Positive review.

-Jason



---

archive/issue_comments_072977.json:
```json
{
    "body": "<a id='comment:11'></a>Just two tiny remarks:\n\n- One can write `assert a==b` instead of `assert(a==b)`\n- One could be a bit more specific:  `assert a==b, \"not a symmetric polynomial\"\n- Assertion are not *always* checked (see http://docs.python.org/reference/simple_stmts.html).\n  So I am not sure it is the appropriate idiom here.\n\nThat's minor, so I let you see if you want to add a quick review patch, or just leave things as is.\n\nThanks!",
    "created_at": "2010-02-25T08:43:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8259#issuecomment-72977",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:11'></a>Just two tiny remarks:

- One can write `assert a==b` instead of `assert(a==b)`
- One could be a bit more specific:  `assert a==b, "not a symmetric polynomial"
- Assertion are not *always* checked (see http://docs.python.org/reference/simple_stmts.html).
  So I am not sure it is the appropriate idiom here.

That's minor, so I let you see if you want to add a quick review patch, or just leave things as is.

Thanks!



---

archive/issue_comments_072978.json:
```json
{
    "body": "<a id='comment:12'></a>Attachment [trac_8259-from_poly_to_sym-review-as.patch](tarball://root/attachments/some-uuid/ticket8259/trac_8259-from_poly_to_sym-review-as.patch) by @anneschilling created at 2010-02-25 18:00:10\n\nReplying to [comment:11 nthiery]:\n> Just two tiny remarks:\n> \n> - One can write `assert a==b` instead of `assert(a==b)`\n> - One could be a bit more specific:  `assert a==b, \"not a symmetric polynomial\"\n> - Assertion are not *always* checked (see http://docs.python.org/reference/simple_stmts.html).\n>   So I am not sure it is the appropriate idiom here.\n> \n> That's minor, so I let you see if you want to add a quick review patch, or just leave things as is.\n> \n> Thanks!\n\n\nDone! Please review the review of the review of the review ... oops! Infinite loop!",
    "created_at": "2010-02-25T18:00:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8259#issuecomment-72978",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:12'></a>Attachment [trac_8259-from_poly_to_sym-review-as.patch](tarball://root/attachments/some-uuid/ticket8259/trac_8259-from_poly_to_sym-review-as.patch) by @anneschilling created at 2010-02-25 18:00:10

Replying to [comment:11 nthiery]:
> Just two tiny remarks:
> 
> - One can write `assert a==b` instead of `assert(a==b)`
> - One could be a bit more specific:  `assert a==b, "not a symmetric polynomial"
> - Assertion are not *always* checked (see http://docs.python.org/reference/simple_stmts.html).
>   So I am not sure it is the appropriate idiom here.
> 
> That's minor, so I let you see if you want to add a quick review patch, or just leave things as is.
> 
> Thanks!


Done! Please review the review of the review of the review ... oops! Infinite loop!



---

archive/issue_comments_072979.json:
```json
{
    "body": "<a id='comment:13'></a>Replying to [comment:12 aschilling]:\n> Replying to [comment:11 nthiery]:\n> > Just two tiny remarks:\n> > \n> > - One can write `assert a==b` instead of `assert(a==b)`\n> > - One could be a bit more specific:  `assert a==b, \"not a symmetric polynomial\"\n> > - Assertion are not *always* checked (see http://docs.python.org/reference/simple_stmts.html).\n> >   So I am not sure it is the appropriate idiom here.\n> > \n> > That's minor, so I let you see if you want to add a quick review patch, or just leave things as is.\n> > \n> > Thanks!\n\n> \n> Done! Please review the review of the review of the review ... oops! Infinite loop!\n\n\nThanks! I haven't rerun the tests, but the review patch looks good to me.",
    "created_at": "2010-02-25T18:14:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8259#issuecomment-72979",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:13'></a>Replying to [comment:12 aschilling]:
> Replying to [comment:11 nthiery]:
> > Just two tiny remarks:
> > 
> > - One can write `assert a==b` instead of `assert(a==b)`
> > - One could be a bit more specific:  `assert a==b, "not a symmetric polynomial"
> > - Assertion are not *always* checked (see http://docs.python.org/reference/simple_stmts.html).
> >   So I am not sure it is the appropriate idiom here.
> > 
> > That's minor, so I let you see if you want to add a quick review patch, or just leave things as is.
> > 
> > Thanks!

> 
> Done! Please review the review of the review of the review ... oops! Infinite loop!


Thanks! I haven't rerun the tests, but the review patch looks good to me.



---

archive/issue_events_019775.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mvngu",
    "created_at": "2010-03-02T21:27:28Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/8259",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/8259#event-19775"
}
```



---

archive/issue_comments_072980.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2010-03-02T21:27:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8259#issuecomment-72980",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

Resolution: fixed



---

archive/issue_comments_072981.json:
```json
{
    "body": "<a id='comment:14'></a>Merged in this order:\n\n1. [trac_8259-from_poly_to_sym-as.patch](http://trac.sagemath.org/sage_trac/attachment/ticket/8259/trac_8259-from_poly_to_sym-as.patch)\n2. [trac_8259-from_poly_to_sym-review-as.patch](http://trac.sagemath.org/sage_trac/attachment/ticket/8259/trac_8259-from_poly_to_sym-review-as.patch)",
    "created_at": "2010-03-02T21:27:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8259#issuecomment-72981",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

<a id='comment:14'></a>Merged in this order:

1. [trac_8259-from_poly_to_sym-as.patch](http://trac.sagemath.org/sage_trac/attachment/ticket/8259/trac_8259-from_poly_to_sym-as.patch)
2. [trac_8259-from_poly_to_sym-review-as.patch](http://trac.sagemath.org/sage_trac/attachment/ticket/8259/trac_8259-from_poly_to_sym-review-as.patch)
