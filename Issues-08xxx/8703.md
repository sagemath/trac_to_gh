# Issue 8703: Combinatorial Rooted Ordered and Binary Trees

archive/issues_008703.json:
```json
{
    "body": "The patch defines several new classes for dealing with \n\n- rooted recursive ordered trees (labelled and not)\n\n- binary trees (labelled and not)\n\nIt also add the computation of the binary search tree and the decreasing or increasing tree for a permutation\n\nIt finally defines the bijection to Dyck words\n\n**Apply:**\n- [attachment:trac_8703-trees-rebased.patch]\n\n\nAssignee: @hivert\n\nCC:  @fchapoton sage-combinat vivianepons @darijgr\n\nKeywords: trees, Cernay2012\n\nReviewer: Florent Hivert, Fr\u00e9d\u00e9ric Chapoton, Viviane Pons\n\nAuthor: Florent Hivert, Fr\u00e9d\u00e9ric Chapoton\n\nMerged: sage-5.10.beta0\n\nDependencies: #8702, merge with #14433\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/8703\n\n",
    "closed_at": "2013-04-23T09:40:46Z",
    "created_at": "2010-04-17T09:36:21Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.10",
    "title": "Combinatorial Rooted Ordered and Binary Trees",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/8703",
    "user": "https://github.com/hivert"
}
```
The patch defines several new classes for dealing with 

- rooted recursive ordered trees (labelled and not)

- binary trees (labelled and not)

It also add the computation of the binary search tree and the decreasing or increasing tree for a permutation

It finally defines the bijection to Dyck words

**Apply:**
- [attachment:trac_8703-trees-rebased.patch]


Assignee: @hivert

CC:  @fchapoton sage-combinat vivianepons @darijgr

Keywords: trees, Cernay2012

Reviewer: Florent Hivert, Frédéric Chapoton, Viviane Pons

Author: Florent Hivert, Frédéric Chapoton

Merged: sage-5.10.beta0

Dependencies: #8702, merge with #14433

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/8703





---

archive/issue_comments_093756.json:
```json
{
    "body": "<a id='comment:1'></a>\nThis is an experiment to see if user chapoton is receiving e-mail from trac...",
    "created_at": "2010-06-08T17:07:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93756",
    "user": "https://github.com/hivert"
}
```

<a id='comment:1'></a>
This is an experiment to see if user chapoton is receiving e-mail from trac...



---

archive/issue_comments_093757.json:
```json
{
    "body": "<a id='comment:2'></a>\nUpdated a new patch after modification in #8702. Close to but not ready for review.",
    "created_at": "2010-10-24T09:51:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93757",
    "user": "https://github.com/hivert"
}
```

<a id='comment:2'></a>
Updated a new patch after modification in #8702. Close to but not ready for review.



---

archive/issue_comments_093758.json:
```json
{
    "body": "<a id='comment:3'></a>\nAdded Fr\u00e9d\u00e9ric as an author to make sure not to forget him. He contributed several functions.",
    "created_at": "2010-11-01T15:17:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93758",
    "user": "https://github.com/hivert"
}
```

<a id='comment:3'></a>
Added Frédéric as an author to make sure not to forget him. He contributed several functions.



---

archive/issue_comments_093759.json:
```json
{
    "body": "Changing author from \"Florent Hivert\" to \"Florent Hivert, Fr\u00e9d\u00e9ric Chapoton\"",
    "created_at": "2010-11-01T15:17:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93759",
    "user": "https://github.com/hivert"
}
```

Changing author from "Florent Hivert" to "Florent Hivert, Frédéric Chapoton"



---

archive/issue_comments_093760.json:
```json
{
    "body": "Changing keywords from \"\" to \"trees\".",
    "created_at": "2011-05-31T14:58:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93760",
    "user": "https://github.com/hivert"
}
```

Changing keywords from "" to "trees".



---

archive/issue_events_021130.json:
```json
{
    "actor": "https://github.com/hivert",
    "created_at": "2011-05-31T14:58:24Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "milestone": "sage-4.7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/8703#event-21130"
}
```



---

archive/issue_comments_093761.json:
```json
{
    "body": "Changing type from defect to enhancement.",
    "created_at": "2011-05-31T14:58:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93761",
    "user": "https://github.com/hivert"
}
```

Changing type from defect to enhancement.



---

archive/issue_comments_093762.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#8702\"",
    "created_at": "2011-05-31T14:58:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93762",
    "user": "https://github.com/hivert"
}
```

Changing dependencies from "" to "#8702"



---

archive/issue_comments_093763.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2011-05-31T14:58:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93763",
    "user": "https://github.com/hivert"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_093764.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,9 @@\n-Patch in preparation in sage-combinat queue\n+The patch defines several new classes for dealing with \n \n-Depends on #8702\n+- rooted recursive ordered trees (labelled and not)\n+\n+- binary trees (labelled and not)\n+\n+It also add the computation of the binary search tree and the decreasing or increasing tree for a permutation\n+\n+It finally defines the bijection to Dyck words\n``````\n",
    "created_at": "2011-05-31T14:58:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93764",
    "user": "https://github.com/hivert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,9 @@
-Patch in preparation in sage-combinat queue
+The patch defines several new classes for dealing with 
 
-Depends on #8702
+- rooted recursive ordered trees (labelled and not)
+
+- binary trees (labelled and not)
+
+It also add the computation of the binary search tree and the decreasing or increasing tree for a permutation
+
+It finally defines the bijection to Dyck words
``````




---

archive/issue_comments_093765.json:
```json
{
    "body": "<a id='comment:5'></a>\nI just uploaded a new patch wich speedup element creation and remove some unnecessary imports.",
    "created_at": "2011-06-02T15:36:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93765",
    "user": "https://github.com/hivert"
}
```

<a id='comment:5'></a>
I just uploaded a new patch wich speedup element creation and remove some unnecessary imports.



---

archive/issue_comments_093766.json:
```json
{
    "body": "<a id='comment:6'></a>\nThere seems to be a problem with attributes insert, contains, get, get_min, get_max and contains. Please see the report of the buildbot.",
    "created_at": "2011-06-11T21:21:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93766",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'></a>
There seems to be a problem with attributes insert, contains, get, get_min, get_max and contains. Please see the report of the buildbot.



---

archive/issue_comments_093767.json:
```json
{
    "body": "<a id='comment:7'></a>\nReplying to [chapoton](#comment%3A6):\n> There seems to be a problem with attributes insert, contains, get, get_min, get_max and contains. Please see the report of the buildbot.\n\n\nYes ! There is already something in sage which is called `BinaryTree`. I\njust asked for an incompatible change on\n[sage-devel](https://groups.google.com/group/sage-devel/browse_thread/thread/1856db31a5cc54f2?hl=fr) and\n[sage-combinat-devel](http://groups.google.com/group/sage-combinat-devel/browse_thread/thread/1856db31a5cc54f2)",
    "created_at": "2011-06-13T11:13:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93767",
    "user": "https://github.com/hivert"
}
```

<a id='comment:7'></a>
Replying to [chapoton](#comment%3A6):
> There seems to be a problem with attributes insert, contains, get, get_min, get_max and contains. Please see the report of the buildbot.


Yes ! There is already something in sage which is called `BinaryTree`. I
just asked for an incompatible change on
[sage-devel](https://groups.google.com/group/sage-devel/browse_thread/thread/1856db31a5cc54f2?hl=fr) and
[sage-combinat-devel](http://groups.google.com/group/sage-combinat-devel/browse_thread/thread/1856db31a5cc54f2)



---

archive/issue_comments_093768.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2011-06-13T11:13:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93768",
    "user": "https://github.com/hivert"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_093769.json:
```json
{
    "body": "Changing work_issues from \"\" to \"Backward incompat change decision\"",
    "created_at": "2011-06-13T11:13:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93769",
    "user": "https://github.com/hivert"
}
```

Changing work_issues from "" to "Backward incompat change decision"



---

archive/issue_comments_093770.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2011-06-13T20:44:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93770",
    "user": "https://github.com/hivert"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_093771.json:
```json
{
    "body": "Changing work_issues from \"Backward incompat change decision\" to \"\"",
    "created_at": "2011-11-21T15:15:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93771",
    "user": "https://github.com/hivert"
}
```

Changing work_issues from "Backward incompat change decision" to ""



---

archive/issue_comments_093772.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,3 +7,5 @@\n It also add the computation of the binary search tree and the decreasing or increasing tree for a permutation\n \n It finally defines the bijection to Dyck words\n+\n+**Apply:** [attachment:trac_8703-trees-fh.patch]\n``````\n",
    "created_at": "2011-11-21T15:15:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93772",
    "user": "https://github.com/hivert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,3 +7,5 @@
 It also add the computation of the binary search tree and the decreasing or increasing tree for a permutation
 
 It finally defines the bijection to Dyck words
+
+**Apply:** [attachment:trac_8703-trees-fh.patch]
``````




---

archive/issue_comments_093773.json:
```json
{
    "body": "<a id='comment:10'></a>\nFixed 'labeled' vs 'labelled'",
    "created_at": "2011-11-21T16:52:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93773",
    "user": "https://github.com/hivert"
}
```

<a id='comment:10'></a>
Fixed 'labeled' vs 'labelled'



---

archive/issue_comments_093774.json:
```json
{
    "body": "<a id='comment:11'></a>\nAddressed Frederic Chaponton's remark (private email) about labelled/unlabelled.",
    "created_at": "2011-12-03T14:30:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93774",
    "user": "https://github.com/hivert"
}
```

<a id='comment:11'></a>
Addressed Frederic Chaponton's remark (private email) about labelled/unlabelled.



---

archive/issue_comments_093775.json:
```json
{
    "body": "<a id='comment:12'></a>\nFixed doctests.",
    "created_at": "2012-01-21T12:09:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93775",
    "user": "https://github.com/hivert"
}
```

<a id='comment:12'></a>
Fixed doctests.



---

archive/issue_comments_093776.json:
```json
{
    "body": "Changing keywords from \"trees\" to \"trees, Cernay2012\".",
    "created_at": "2012-02-06T14:51:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93776",
    "user": "https://github.com/hivert"
}
```

Changing keywords from "trees" to "trees, Cernay2012".



---

archive/issue_comments_093777.json:
```json
{
    "body": "<a id='comment:14'></a>\nHellooooooo Florent !\n\nHere is a patch with some more documentation for the class. We discussed it a lot already, and there were two more things I had stored in a file while beginning the review.\n\nSome notes before we forget :\n* The symmetry_factor should not be there, and only works for RootedTrees (not OrderedDDTrees)\n* What about the name itself ? I know \"automorphism_group_size\" is a bit long, but it woul be nice to find something more meaningful.\n* And I probably already forgot what I should have written there. Well, we wll find it again `^^;`\n\nNathann\n\nP.S. : I updated the combinat queue -- how unusual for me !",
    "created_at": "2012-02-07T22:47:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93777",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:14'></a>
Hellooooooo Florent !

Here is a patch with some more documentation for the class. We discussed it a lot already, and there were two more things I had stored in a file while beginning the review.

Some notes before we forget :
* The symmetry_factor should not be there, and only works for RootedTrees (not OrderedDDTrees)
* What about the name itself ? I know "automorphism_group_size" is a bit long, but it woul be nice to find something more meaningful.
* And I probably already forgot what I should have written there. Well, we wll find it again `^^;`

Nathann

P.S. : I updated the combinat queue -- how unusual for me !



---

archive/issue_comments_093778.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-02-07T22:47:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93778",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_093779.json:
```json
{
    "body": "<a id='comment:15'></a>\nHello,\n\nNathan, your review patch has 2 problems :\n\n* there lacks the ticket number in the first line of the description\n\n* there is a trailing whitespace, see the bot report for the exact location\n\nFlorent, it seems the you are using several non-existing options for DiGraph, unless these options are introduced in another ticket ?\n\n```\nDiGraph(loop=False, layout='tree', tree_root=0)\n```\n\nI guess it has to be replaced by\n\n```\nDiGraph(loops=False)\n```",
    "created_at": "2012-06-08T18:59:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93779",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:15'></a>
Hello,

Nathan, your review patch has 2 problems :

* there lacks the ticket number in the first line of the description

* there is a trailing whitespace, see the bot report for the exact location

Florent, it seems the you are using several non-existing options for DiGraph, unless these options are introduced in another ticket ?

```
DiGraph(loop=False, layout='tree', tree_root=0)
```

I guess it has to be replaced by

```
DiGraph(loops=False)
```



---

archive/issue_comments_093780.json:
```json
{
    "body": "<a id='comment:17'></a>\nHi,\n\nI wonder what the the current situation is here: we would very much appreciate if we could have a version of this patch that we can actually review. Do you think this is feasible during this week, or are there any complicated issues remaining?\n\nThanks, Christian",
    "created_at": "2013-02-13T18:29:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93780",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

<a id='comment:17'></a>
Hi,

I wonder what the the current situation is here: we would very much appreciate if we could have a version of this patch that we can actually review. Do you think this is feasible during this week, or are there any complicated issues remaining?

Thanks, Christian



---

archive/issue_comments_093781.json:
```json
{
    "body": "<a id='comment:18'></a>\nHi Christian,\n\nNo there is nothing complicated. The doc still need to be reread. I did some improvement in the train yesterday so I can upload a new version of the patch which can readily stated to be reviewed. However, I won't get time to rework it before the end of the week. So feel free to do whatever you think is good to improve the doc.\n\nFlorent",
    "created_at": "2013-02-13T18:45:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93781",
    "user": "https://github.com/hivert"
}
```

<a id='comment:18'></a>
Hi Christian,

No there is nothing complicated. The doc still need to be reread. I did some improvement in the train yesterday so I can upload a new version of the patch which can readily stated to be reviewed. However, I won't get time to rework it before the end of the week. So feel free to do whatever you think is good to improve the doc.

Florent



---

archive/issue_comments_093782.json:
```json
{
    "body": "<a id='comment:19'></a>\nAlso the LateX output is currently crappy. Jean-Baptiste has a much better tikz output but it needs some cleanup. So I think we should leave this for another ticket.",
    "created_at": "2013-02-13T18:49:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93782",
    "user": "https://github.com/hivert"
}
```

<a id='comment:19'></a>
Also the LateX output is currently crappy. Jean-Baptiste has a much better tikz output but it needs some cleanup. So I think we should leave this for another ticket.



---

archive/issue_comments_093783.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-02-13T18:49:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93783",
    "user": "https://github.com/hivert"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_093784.json:
```json
{
    "body": "<a id='comment:20'></a>\nReplying to [VivianePons](#comment%3A16):\n\nViviane, do you want to take this over, should we do that later together, or should I do this?",
    "created_at": "2013-02-14T10:48:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93784",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

<a id='comment:20'></a>
Replying to [VivianePons](#comment%3A16):

Viviane, do you want to take this over, should we do that later together, or should I do this?



---

archive/issue_comments_093785.json:
```json
{
    "body": "<a id='comment:21'></a>\nAttachment [trac_8703-trees-fh.patch](tarball://root/attachments/some-uuid/ticket8703/trac_8703-trees-fh.patch) by stumpc5 created at 2013-02-16 11:00:01\n\nThe patch looks very complete, thanks you!\n\nOne thing I noticed: I would like to be able to reconstruct a tree from its string representation. I.e.,\n\n```\nsage: BinaryTree(\"[., [[., [., .]], .]]\")\n```\nUnfortunately, this resulted in an infinite recursion. It would be great if you could fix this.\n\n(I am not yet done with my review...)\n\nCheers, Christian",
    "created_at": "2013-02-16T11:00:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93785",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

<a id='comment:21'></a>
Attachment [trac_8703-trees-fh.patch](tarball://root/attachments/some-uuid/ticket8703/trac_8703-trees-fh.patch) by stumpc5 created at 2013-02-16 11:00:01

The patch looks very complete, thanks you!

One thing I noticed: I would like to be able to reconstruct a tree from its string representation. I.e.,

```
sage: BinaryTree("[., [[., [., .]], .]]")
```
Unfortunately, this resulted in an infinite recursion. It would be great if you could fix this.

(I am not yet done with my review...)

Cheers, Christian



---

archive/issue_comments_093786.json:
```json
{
    "body": "<a id='comment:22'></a>\nI added an extra patch to do exactly what you were asking. You can check and merge the two patches.",
    "created_at": "2013-02-16T13:11:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93786",
    "user": "https://github.com/VivianePons"
}
```

<a id='comment:22'></a>
I added an extra patch to do exactly what you were asking. You can check and merge the two patches.



---

archive/issue_comments_093787.json:
```json
{
    "body": "<a id='comment:23'></a>\n(I added the feature for both ordered tree and binary trees)",
    "created_at": "2013-02-16T13:12:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93787",
    "user": "https://github.com/VivianePons"
}
```

<a id='comment:23'></a>
(I added the feature for both ordered tree and binary trees)



---

archive/issue_comments_093788.json:
```json
{
    "body": "<a id='comment:24'></a>\nReplying to [VivianePons](#comment%3A23):\n> (I added the feature for both ordered tree and binary trees)\n\n\nThanks -- I wait for Florent or Fred for approval of your change.",
    "created_at": "2013-02-16T13:15:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93788",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

<a id='comment:24'></a>
Replying to [VivianePons](#comment%3A23):
> (I added the feature for both ordered tree and binary trees)


Thanks -- I wait for Florent or Fred for approval of your change.



---

archive/issue_comments_093789.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -8,4 +8,7 @@\n \n It finally defines the bijection to Dyck words\n \n-**Apply:** [attachment:trac_8703-trees-fh.patch]\n+**Apply:**\n+- [attachment:trac_8703-trees-fh.patch]\n+- [attachment:trac_8703-additional-feature-fh.patch]\n+\n``````\n",
    "created_at": "2013-02-18T17:56:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93789",
    "user": "https://github.com/hivert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -8,4 +8,7 @@
 
 It finally defines the bijection to Dyck words
 
-**Apply:** [attachment:trac_8703-trees-fh.patch]
+**Apply:**
+- [attachment:trac_8703-trees-fh.patch]
+- [attachment:trac_8703-additional-feature-fh.patch]
+
``````




---

archive/issue_comments_093790.json:
```json
{
    "body": "<a id='comment:25'></a>\nAttachment [trac_8703-additional-feature-fh.patch](tarball://root/attachments/some-uuid/ticket8703/trac_8703-additional-feature-fh.patch) by @hivert created at 2013-02-18 17:56:56\n\nReplying to [stumpc5](#comment%3A24):\n> Thanks -- I wait for Florent or Fred for approval of your change.\n\n\nThanks Viviane for this very good idea ! However, I feel that it should be more documented as well as tested. That's why I revamped your patch in a bigger patch. Please review it knowing that I'm Ok with your changes (the tests I added pass :-).\n\nFlorent",
    "created_at": "2013-02-18T17:56:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93790",
    "user": "https://github.com/hivert"
}
```

<a id='comment:25'></a>
Attachment [trac_8703-additional-feature-fh.patch](tarball://root/attachments/some-uuid/ticket8703/trac_8703-additional-feature-fh.patch) by @hivert created at 2013-02-18 17:56:56

Replying to [stumpc5](#comment%3A24):
> Thanks -- I wait for Florent or Fred for approval of your change.


Thanks Viviane for this very good idea ! However, I feel that it should be more documented as well as tested. That's why I revamped your patch in a bigger patch. Please review it knowing that I'm Ok with your changes (the tests I added pass :-).

Florent



---

archive/issue_comments_093791.json:
```json
{
    "body": "<a id='comment:26'></a>\nReplying to [hivert](#comment%3A25):\n\nTwo more things:\n\n- what about lazily importing the new trees as this should be done by default?\n- an_example / some_examples do not exist, so how am I supposed to get some binary tree to see what I can do with it?\n\nbtw: I would be okay with folding trac_8703-additional-feature-fh.patch and removing Viviane's patch in order to keep the ticket organized and the patchbot happy.\n\nCheers, Christian",
    "created_at": "2013-02-18T18:13:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93791",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

<a id='comment:26'></a>
Replying to [hivert](#comment%3A25):

Two more things:

- what about lazily importing the new trees as this should be done by default?
- an_example / some_examples do not exist, so how am I supposed to get some binary tree to see what I can do with it?

btw: I would be okay with folding trac_8703-additional-feature-fh.patch and removing Viviane's patch in order to keep the ticket organized and the patchbot happy.

Cheers, Christian



---

archive/issue_comments_093792.json:
```json
{
    "body": "<a id='comment:27'></a>\nReplying to [stumpc5](#comment%3A26):\n> Replying to [hivert](#comment%3A25):\n> \n> Two more things:\n> \n> - what about lazily importing the new trees as this should be done by default?\n\n\nAll the combinatorial objects are currently imported (not lazily). So I'd rather switching this once for all. Also there are some problems with lazy import (see eg #10906). \n\n> - an_example / some_examples do not exist, so how am I supposed to get some binary tree to see what I can do with it?\n\n\nFor combinatorial sets the convention is element rather than example which is\nfor categories. Anyway, if I had forgotten, `TestSuite` would had\ncomplained.\n\n```\nsage: BinaryTrees().an_element()\n.\nsage: list(BinaryTrees().some_elements())\n[., [., .],\n...\n[., [[[., .], [[., .], .]], .]]]\n```\n\n> btw: I would be okay with folding trac_8703-additional-feature-fh.patch and\n> removing Viviane's patch in order to keep the ticket organized and the\n> patchbot happy.\n\n\nI kept thing separated to ease the review, planning to fold everything at the\nend.\n\nFlorent",
    "created_at": "2013-02-18T19:08:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93792",
    "user": "https://github.com/hivert"
}
```

<a id='comment:27'></a>
Replying to [stumpc5](#comment%3A26):
> Replying to [hivert](#comment%3A25):
> 
> Two more things:
> 
> - what about lazily importing the new trees as this should be done by default?


All the combinatorial objects are currently imported (not lazily). So I'd rather switching this once for all. Also there are some problems with lazy import (see eg #10906). 

> - an_example / some_examples do not exist, so how am I supposed to get some binary tree to see what I can do with it?


For combinatorial sets the convention is element rather than example which is
for categories. Anyway, if I had forgotten, `TestSuite` would had
complained.

```
sage: BinaryTrees().an_element()
.
sage: list(BinaryTrees().some_elements())
[., [., .],
...
[., [[[., .], [[., .], .]], .]]]
```

> btw: I would be okay with folding trac_8703-additional-feature-fh.patch and
> removing Viviane's patch in order to keep the ticket organized and the
> patchbot happy.


I kept thing separated to ease the review, planning to fold everything at the
end.

Florent



---

archive/issue_comments_093793.json:
```json
{
    "body": "<a id='comment:28'></a>\nThis is mostly way over my head, but I'm adding myself to cc because I'm highly interested in what comes out of this.\n\nA bug: The as_digraph method yields not what it should yield when some labels are equal. Example:\n\n```\nsage: Q = LBT([LBT([],label=2),LBT([],label=4)],label=2) \nsage: Q.as_digraph()                                     \nDigraph on 2 vertices\nsage: Q\n2[2[., .], 4[., .]]\n```\n\nWhile small examples suggest that this doesn't happen with \"None\" labels, this isn't actually the case (even though they somehow magically become nonnegative integers):\n\n```\nsage: Z = LabelledOrderedTree([[],[[[],[]], []]])\nsage: Z   \nNone[None[], None[None[None[], None[]], None[]]]\nsage: Z.as_digraph()\nDigraph on 5 vertices\n```\n\nI suggest rewriting as_digraph from scratch, no longer using the labels as unique identifiers for nodes; independently, I think there should be more doctests checking what happens to trees with equal labels.\n\nSome docstring gripes:\n\n- I would add \"BinaryTree([])\" and \"BinaryTree(None)\" to the examples in te docstring of the BinaryTree class. Also, in the \"INPUT\" section, maybe add that [] is the same as [None, None]? I must say the \"INPUT\" part of the docstring for BinaryTree doesn't exactly explain to me how exactly the \"children\" argument is getting parsed; I am used to constructors for trees being free (in the sense of, no two different inputs lead to the same tree), so I wouldn't say this is very intuitive. It's \"explained\" in the __init__ sourcecode, but that's uncommented and I have no idea what it does :(\n\nMight also want to point out that these binary trees are planar aka what you call ordered, i. e., the order of the children on each node matters. \n\n- In the \"show\" method of BinaryTree, can the tree_orientation be passed as a keyword? I know a lot of people who don't draw trees upside down...\n\n- I don't understand from the docstrings what \"make_node\" and \"make_leaf\" do... Just replace the tree by a node resp. leaf? If so, what's the advantage over just redefining the tree?\n\n- Docstring for \"to_dyck_word\": replace \"where `T(l)` and `T(r)` are the trees\" by \"where `T(l)` and `T(r)` are the Dyck words\".\n\n- The docstring for \"canopee\" has a grammar error (\"`1` is a left leaf\" should be \"`1` if the leaf is a left leaf\").\n\n- ordered_tree.py: Isn't this kind of \"ordered trees\" usually called planar trees? (Not like I want anything renamed. But it might be good to point out in the docstring that these ordered trees are not, e. g., Foissy's ordered trees.)\n\n- Couple of typos in the docstring for OrderedTree: \"a constructed\" and \"the the order\".\n\n- This appears weird to me: \"The actual canonical labelling is currently unspecified.\" Isn't it just the left-to-right labelling, or are you saying that we shouldn't count on it staying that way?\n\nSuggestions (I can figure myself working on them as well):\n\nDo we have a checker function that looks if a given labelled binary tree is a binary search tree? A decreasing tree? The RSK-like algorithms from http://arxiv.org/abs/math/0401089 ? An binary_search_tree and an increasing_tree method for arbitrary words, not just permutations? (The \"gen = self[::-1]\" trick won't work here anymore, though.) Oh, well, and forests, of course, even if they can be internally the same as trees with one more vertex...",
    "created_at": "2013-02-19T02:09:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93793",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:28'></a>
This is mostly way over my head, but I'm adding myself to cc because I'm highly interested in what comes out of this.

A bug: The as_digraph method yields not what it should yield when some labels are equal. Example:

```
sage: Q = LBT([LBT([],label=2),LBT([],label=4)],label=2) 
sage: Q.as_digraph()                                     
Digraph on 2 vertices
sage: Q
2[2[., .], 4[., .]]
```

While small examples suggest that this doesn't happen with "None" labels, this isn't actually the case (even though they somehow magically become nonnegative integers):

```
sage: Z = LabelledOrderedTree([[],[[[],[]], []]])
sage: Z   
None[None[], None[None[None[], None[]], None[]]]
sage: Z.as_digraph()
Digraph on 5 vertices
```

I suggest rewriting as_digraph from scratch, no longer using the labels as unique identifiers for nodes; independently, I think there should be more doctests checking what happens to trees with equal labels.

Some docstring gripes:

- I would add "BinaryTree([])" and "BinaryTree(None)" to the examples in te docstring of the BinaryTree class. Also, in the "INPUT" section, maybe add that [] is the same as [None, None]? I must say the "INPUT" part of the docstring for BinaryTree doesn't exactly explain to me how exactly the "children" argument is getting parsed; I am used to constructors for trees being free (in the sense of, no two different inputs lead to the same tree), so I wouldn't say this is very intuitive. It's "explained" in the __init__ sourcecode, but that's uncommented and I have no idea what it does :(

Might also want to point out that these binary trees are planar aka what you call ordered, i. e., the order of the children on each node matters. 

- In the "show" method of BinaryTree, can the tree_orientation be passed as a keyword? I know a lot of people who don't draw trees upside down...

- I don't understand from the docstrings what "make_node" and "make_leaf" do... Just replace the tree by a node resp. leaf? If so, what's the advantage over just redefining the tree?

- Docstring for "to_dyck_word": replace "where `T(l)` and `T(r)` are the trees" by "where `T(l)` and `T(r)` are the Dyck words".

- The docstring for "canopee" has a grammar error ("`1` is a left leaf" should be "`1` if the leaf is a left leaf").

- ordered_tree.py: Isn't this kind of "ordered trees" usually called planar trees? (Not like I want anything renamed. But it might be good to point out in the docstring that these ordered trees are not, e. g., Foissy's ordered trees.)

- Couple of typos in the docstring for OrderedTree: "a constructed" and "the the order".

- This appears weird to me: "The actual canonical labelling is currently unspecified." Isn't it just the left-to-right labelling, or are you saying that we shouldn't count on it staying that way?

Suggestions (I can figure myself working on them as well):

Do we have a checker function that looks if a given labelled binary tree is a binary search tree? A decreasing tree? The RSK-like algorithms from http://arxiv.org/abs/math/0401089 ? An binary_search_tree and an increasing_tree method for arbitrary words, not just permutations? (The "gen = self[::-1]" trick won't work here anymore, though.) Oh, well, and forests, of course, even if they can be internally the same as trees with one more vertex...



---

archive/issue_comments_093794.json:
```json
{
    "body": "<a id='comment:30'></a>\nHi,\n\nThanks for all these comments. Before replying point by point, let me mention\nthat there is a lot of work done around the trees and that several patch are\nwaiting between this one. So we don't need to write everything in this patch\nand we hope to have it in Sage soon.\n\nReplying to [darij](#comment%3A28):\n> This is mostly way over my head, but I'm adding myself to cc because I'm highly interested in what comes out of this.\n> \n> A bug: The as_digraph method yields not what it should yield when some labels are equal. Example:\n> I suggest rewriting as_digraph from scratch, no longer using the labels as unique identifiers for nodes; independently, I think there should be more doctests checking what happens to trees with equal labels.\n\n\nWhen I wrote this function I plan to use it only for graph with distinct\nlabel. I'm not sure what we want when there are repeated label. This must be\ndiscussed. The particular case of None is by chance handled by the graph but\nI'm not sure we should rely on it. In the mean time, I'd like to document that\nthe function currently only work for graph with disctinct label and open a new\nticket for more general cases. What do you think ?\n\n> - I would add \"BinaryTree([])\" and \"BinaryTree(None)\"\n> to the examples in te docstring of the BinaryTree class. Also, in the\n> \"INPUT\" section, maybe add that [] is the same as [None, None]? I must say\n> the \"INPUT\" part of the docstring for BinaryTree doesn't exactly explain to\n> me how exactly the \"children\" argument is getting parsed; I am used to\n> constructors for trees being free (in the sense of, no two different inputs\n> lead to the same tree), so I wouldn't say this is very intuitive. It's\n> \"explained\" in the __init__ sourcecode, but that's uncommented and I have no\n> idea what it does :(\n\n\nThe idea is that to allows for short input, None can be omitted where there is\nno ambiguity. Please, feel free to suggest a patch for doc improvements.\n\n> Might also want to point out that these binary trees are planar aka what you\n> call ordered, i. e., the order of the children on each node matters.\n\n\nWhen you see tree from the graph point of view, all trees are of course planar\n(IE: can be embedded in the plane without crossing). So I rather call them\nordered trees. From this point of view, the proper name is plane tree (See eg\nhttp://en.wikipedia.org/wiki/Tree_%28graph_theory%29#Plane_Tree). Note that\nthey freely mix plane and ordered there. I feel (and I wasn't alone when\ndiscussed on Sage-combinat-devel) that OrderedBinaryTree is too long.\n\n> - In the \"show\" method of BinaryTree, can the tree_orientation be passed as\n> a keyword? I know a lot of people who don't draw trees upside down...\n\n\nUnless a quick fix is proposed, I'd rather leave it for a forthcomming patch.\n\n> - I don't understand from the docstrings what \"make_node\" and \"make_leaf\"\n> do... Just replace the tree by a node resp. leaf? If so, what's the\n> advantage over just redefining the tree?\n\n\nSome times it could be useful for algorithmic reason to modify a tree in place\nwithout allocating a new object.\n\n> - ordered_tree.py: Isn't this kind of \"ordered trees\" usually called planar trees? (Not like I want anything renamed. But it might be good to point out in the docstring that these ordered trees are not, e. g., Foissy's ordered trees.)\n\n\nSee my former comment on planar being improper.\n\n> - This appears weird to me: \"The actual canonical labelling is currently\n> unspecified.\" Isn't it just the left-to-right labelling, or are you saying\n> that we shouldn't count on it staying that way?\n\n\nYes it is for ordered trees, but it is defined in an abtract class and soon\nafter this patch there is another one for rooted unordered tree. Then\nleft-to-right labelling doesn't mean anything. There is also another\nforthcoming patch where you can specify which order you want. I don't want to\nchoose the default now.\n\n> Suggestions (I can figure myself working on them as well):\n\n\n> Do we have a checker function that looks if a given labelled binary tree is\n> a binary search tree? A decreasing tree? The RSK-like algorithms from\n> http://arxiv.org/abs/math/0401089 ? An binary_search_tree and an\n> increasing_tree method for arbitrary words, not just permutations? (The \"gen\n> = self[::-1]\" trick won't work here anymore, though.) Oh, well, and forests,\n> of course, even if they can be internally the same as trees with one more\n> vertex...\n\n\nThere is also several other patch done around those question. In the\nSage-combinat queue there are implementation of the Loday-Ronco algebra, the\ndendriform, prelie operads and more. As I said, this is just the beginning :-).",
    "created_at": "2013-02-19T20:49:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93794",
    "user": "https://github.com/hivert"
}
```

<a id='comment:30'></a>
Hi,

Thanks for all these comments. Before replying point by point, let me mention
that there is a lot of work done around the trees and that several patch are
waiting between this one. So we don't need to write everything in this patch
and we hope to have it in Sage soon.

Replying to [darij](#comment%3A28):
> This is mostly way over my head, but I'm adding myself to cc because I'm highly interested in what comes out of this.
> 
> A bug: The as_digraph method yields not what it should yield when some labels are equal. Example:
> I suggest rewriting as_digraph from scratch, no longer using the labels as unique identifiers for nodes; independently, I think there should be more doctests checking what happens to trees with equal labels.


When I wrote this function I plan to use it only for graph with distinct
label. I'm not sure what we want when there are repeated label. This must be
discussed. The particular case of None is by chance handled by the graph but
I'm not sure we should rely on it. In the mean time, I'd like to document that
the function currently only work for graph with disctinct label and open a new
ticket for more general cases. What do you think ?

> - I would add "BinaryTree([])" and "BinaryTree(None)"
> to the examples in te docstring of the BinaryTree class. Also, in the
> "INPUT" section, maybe add that [] is the same as [None, None]? I must say
> the "INPUT" part of the docstring for BinaryTree doesn't exactly explain to
> me how exactly the "children" argument is getting parsed; I am used to
> constructors for trees being free (in the sense of, no two different inputs
> lead to the same tree), so I wouldn't say this is very intuitive. It's
> "explained" in the __init__ sourcecode, but that's uncommented and I have no
> idea what it does :(


The idea is that to allows for short input, None can be omitted where there is
no ambiguity. Please, feel free to suggest a patch for doc improvements.

> Might also want to point out that these binary trees are planar aka what you
> call ordered, i. e., the order of the children on each node matters.


When you see tree from the graph point of view, all trees are of course planar
(IE: can be embedded in the plane without crossing). So I rather call them
ordered trees. From this point of view, the proper name is plane tree (See eg
http://en.wikipedia.org/wiki/Tree_%28graph_theory%29#Plane_Tree). Note that
they freely mix plane and ordered there. I feel (and I wasn't alone when
discussed on Sage-combinat-devel) that OrderedBinaryTree is too long.

> - In the "show" method of BinaryTree, can the tree_orientation be passed as
> a keyword? I know a lot of people who don't draw trees upside down...


Unless a quick fix is proposed, I'd rather leave it for a forthcomming patch.

> - I don't understand from the docstrings what "make_node" and "make_leaf"
> do... Just replace the tree by a node resp. leaf? If so, what's the
> advantage over just redefining the tree?


Some times it could be useful for algorithmic reason to modify a tree in place
without allocating a new object.

> - ordered_tree.py: Isn't this kind of "ordered trees" usually called planar trees? (Not like I want anything renamed. But it might be good to point out in the docstring that these ordered trees are not, e. g., Foissy's ordered trees.)


See my former comment on planar being improper.

> - This appears weird to me: "The actual canonical labelling is currently
> unspecified." Isn't it just the left-to-right labelling, or are you saying
> that we shouldn't count on it staying that way?


Yes it is for ordered trees, but it is defined in an abtract class and soon
after this patch there is another one for rooted unordered tree. Then
left-to-right labelling doesn't mean anything. There is also another
forthcoming patch where you can specify which order you want. I don't want to
choose the default now.

> Suggestions (I can figure myself working on them as well):


> Do we have a checker function that looks if a given labelled binary tree is
> a binary search tree? A decreasing tree? The RSK-like algorithms from
> http://arxiv.org/abs/math/0401089 ? An binary_search_tree and an
> increasing_tree method for arbitrary words, not just permutations? (The "gen
> = self[::-1]" trick won't work here anymore, though.) Oh, well, and forests,
> of course, even if they can be internally the same as trees with one more
> vertex...


There is also several other patch done around those question. In the
Sage-combinat queue there are implementation of the Loday-Ronco algebra, the
dendriform, prelie operads and more. As I said, this is just the beginning :-).



---

archive/issue_comments_093795.json:
```json
{
    "body": "<a id='comment:31'></a>\nHi Florent! Thanks for the reply. One reason why I did not propose any concrete changes to the code is that I have no idea what patches are currently dependent on this one (I only knew of Viviane's new one with the Dyck paths) and I want to avoid merge conflicts. I hoped some of you had a better overview of what's happening with trees these days. If you tell me there's no danger of conflicting changes, I can add the fixes I'd like to see; otherwise I'd prefer someone else to do it or to wait until the current slew of tree patches is merged. I'll try to come up with a doc for the initialization later today, though, provided I can wrap my head around it.\n\n> When I wrote this function I plan to use it only for graph with\n> distinct label. I'm not sure what we want when there are\n> repeated label. This must be discussed.\n\n\nCan we have a docstring warning about this, or a _ in the function name so as to avoid people getting a wrong impression?\n\n> The particular case of None is by chance handled by the graph\n> but I'm not sure we should rely on it.\n\n\nAs my second example shows, we should definitely *not* rely on it. Apparently None labels get translated into 0, 1, 2, 3, ..., but this translation starts anew for every subtree, so the resulting graph isn't the one you would expect.\n\n> In the mean time, I'd like to document that the function\n> currently only work for graph with disctinct label and open\n> a new ticket for more general cases. What do you think ? \n\n\nGood idea.\n\nI completely agree with you that planar/plane aren't good terms for this kind of trees. What I'd like is a mention in the docstring that these terms are occasionally used, whereas \"ordered\" is occasionally used for something else.\n\nI can't wait to work with a real Loday-Ronco Hopf algebra rather than my hacky implementation from a year ago...",
    "created_at": "2013-02-19T21:15:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93795",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:31'></a>
Hi Florent! Thanks for the reply. One reason why I did not propose any concrete changes to the code is that I have no idea what patches are currently dependent on this one (I only knew of Viviane's new one with the Dyck paths) and I want to avoid merge conflicts. I hoped some of you had a better overview of what's happening with trees these days. If you tell me there's no danger of conflicting changes, I can add the fixes I'd like to see; otherwise I'd prefer someone else to do it or to wait until the current slew of tree patches is merged. I'll try to come up with a doc for the initialization later today, though, provided I can wrap my head around it.

> When I wrote this function I plan to use it only for graph with
> distinct label. I'm not sure what we want when there are
> repeated label. This must be discussed.


Can we have a docstring warning about this, or a _ in the function name so as to avoid people getting a wrong impression?

> The particular case of None is by chance handled by the graph
> but I'm not sure we should rely on it.


As my second example shows, we should definitely *not* rely on it. Apparently None labels get translated into 0, 1, 2, 3, ..., but this translation starts anew for every subtree, so the resulting graph isn't the one you would expect.

> In the mean time, I'd like to document that the function
> currently only work for graph with disctinct label and open
> a new ticket for more general cases. What do you think ? 


Good idea.

I completely agree with you that planar/plane aren't good terms for this kind of trees. What I'd like is a mention in the docstring that these terms are occasionally used, whereas "ordered" is occasionally used for something else.

I can't wait to work with a real Loday-Ronco Hopf algebra rather than my hacky implementation from a year ago...



---

archive/issue_comments_093796.json:
```json
{
    "body": "<a id='comment:32'></a>\nHi Darij,\n\nReplying to [darij](#comment%3A31):\n> Hi Florent! Thanks for the reply. One reason why I did not propose any\n> concrete changes to the code is that I have no idea what patches are\n> currently dependent on this one (I only knew of Viviane's new one with the\n> Dyck paths) and I want to avoid merge conflicts. I hoped some of you had a\n> better overview of what's happening with trees these days.\n\n\nHere is some basic overview :-)\n\n```\npopcorn-*inat/.hg/patches $ grep -l Trees *.patch\nalgebras_over_operads-fc.patch\nfinite_semigroup-nt.patch\noperads-fh.patch\noperads_more-fc.patch\nposet-from-tree-fc.patch\npretty_console_print-EliX-jbp.patch\nq_tree_factorial-fc.patch\nsage-demos-and-tutorials-nt.patch\nshape_tree-fc.patch\nshuffle-operads-fc.patch\ntrac_11529-rooted_trees-fh.patch\ntrac_13855_planar_binary_trees_hopf_algebra-EliX-jbp.patch\ntrac_13987_mary_trees-vp.patch\ntrac_14086-parking_functions-dm.patch\ntrac_8703-trees-fh.patch\ntrees_symmetry_factor-fh.patch\n```\n\n\n> If you tell me there's no danger of conflicting changes, I can add the fixes\n> I'd like to see; otherwise I'd prefer someone else to do it or to wait until\n> the current slew of tree patches is merged. I'll try to come up with a doc\n> for the initialization later today, though, provided I can wrap my head\n> around it.\n\n\nI think if it's just docstring, there will only be trivial rebasing. Anyway,\nthey must be fixed. Unfortunately, I'm moving from my flat from a new house on\nSaturday and Sunday so I won't have a lot of time working on trees... If you\ncan take care of all the docstring problem you mentioned once for all in a\nreview patch, I will really appreciate.",
    "created_at": "2013-02-19T21:34:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93796",
    "user": "https://github.com/hivert"
}
```

<a id='comment:32'></a>
Hi Darij,

Replying to [darij](#comment%3A31):
> Hi Florent! Thanks for the reply. One reason why I did not propose any
> concrete changes to the code is that I have no idea what patches are
> currently dependent on this one (I only knew of Viviane's new one with the
> Dyck paths) and I want to avoid merge conflicts. I hoped some of you had a
> better overview of what's happening with trees these days.


Here is some basic overview :-)

```
popcorn-*inat/.hg/patches $ grep -l Trees *.patch
algebras_over_operads-fc.patch
finite_semigroup-nt.patch
operads-fh.patch
operads_more-fc.patch
poset-from-tree-fc.patch
pretty_console_print-EliX-jbp.patch
q_tree_factorial-fc.patch
sage-demos-and-tutorials-nt.patch
shape_tree-fc.patch
shuffle-operads-fc.patch
trac_11529-rooted_trees-fh.patch
trac_13855_planar_binary_trees_hopf_algebra-EliX-jbp.patch
trac_13987_mary_trees-vp.patch
trac_14086-parking_functions-dm.patch
trac_8703-trees-fh.patch
trees_symmetry_factor-fh.patch
```


> If you tell me there's no danger of conflicting changes, I can add the fixes
> I'd like to see; otherwise I'd prefer someone else to do it or to wait until
> the current slew of tree patches is merged. I'll try to come up with a doc
> for the initialization later today, though, provided I can wrap my head
> around it.


I think if it's just docstring, there will only be trivial rebasing. Anyway,
they must be fixed. Unfortunately, I'm moving from my flat from a new house on
Saturday and Sunday so I won't have a lot of time working on trees... If you
can take care of all the docstring problem you mentioned once for all in a
review patch, I will really appreciate.



---

archive/issue_comments_093797.json:
```json
{
    "body": "attempting manual override",
    "created_at": "2013-02-20T06:56:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93797",
    "user": "https://github.com/darijgr"
}
```

attempting manual override



---

archive/issue_comments_093798.json:
```json
{
    "body": "<a id='comment:33'></a>\nAttachment [trees.tar.gz](tarball://root/attachments/some-uuid/ticket8703/trees.tar.gz) by @darijgr created at 2013-02-20 06:57:22\n\nOK, I'm really not getting this:\n\n```\ndarij@travis-virtualbox:~/sage-5.6/devel/sage-combinat$ hg commit\nabort: cannot commit over an applied mq patch\n```\n\nAnyway, attaching my changed versions as a tar.gz [trees.tar.gz] containing the three relevant .py files (I only modified docstrings). Sorry for the format :( Hope someone transforms it into a .patch.\n\nHere's something else I'm finding weird:\n\n```\nsage: a = []\nsage: BinaryTree(a)\n[., .]\nsage: b = ()\nsage: BinaryTree(b)\n.\n```\nOr shouldn't lists and tuples behave alike here?",
    "created_at": "2013-02-20T06:57:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93798",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:33'></a>
Attachment [trees.tar.gz](tarball://root/attachments/some-uuid/ticket8703/trees.tar.gz) by @darijgr created at 2013-02-20 06:57:22

OK, I'm really not getting this:

```
darij@travis-virtualbox:~/sage-5.6/devel/sage-combinat$ hg commit
abort: cannot commit over an applied mq patch
```

Anyway, attaching my changed versions as a tar.gz [trees.tar.gz] containing the three relevant .py files (I only modified docstrings). Sorry for the format :( Hope someone transforms it into a .patch.

Here's something else I'm finding weird:

```
sage: a = []
sage: BinaryTree(a)
[., .]
sage: b = ()
sage: BinaryTree(b)
.
```
Or shouldn't lists and tuples behave alike here?



---

archive/issue_comments_093799.json:
```json
{
    "body": "<a id='comment:34'></a>\nHi Darij,\n\nI looked at your files, but you seemed to have also other patches applied because I see methods in your file that are not in mine. I don't want to mess everything up, so I would prefer if you put your changes into a patch: the reason it was not working is because the right command is \"hg qrefresh\". Thank's for reading the doc by the way.\n\nAlso, does anyone have sage 5.8.b2 to see why it is not applying ?",
    "created_at": "2013-03-01T15:18:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93799",
    "user": "https://github.com/VivianePons"
}
```

<a id='comment:34'></a>
Hi Darij,

I looked at your files, but you seemed to have also other patches applied because I see methods in your file that are not in mine. I don't want to mess everything up, so I would prefer if you put your changes into a patch: the reason it was not working is because the right command is "hg qrefresh". Thank's for reading the doc by the way.

Also, does anyone have sage 5.8.b2 to see why it is not applying ?



---

archive/issue_comments_093800.json:
```json
{
    "body": "<a id='comment:35'></a>\nHmm......\n\n```\ndarij@travis-virtualbox:~/sage-5.6$ ./sage -hg qrefresh\n/bin/sh: 1: [[: not found\nAre you sure you want to refresh the following changes:\ninto the patch: no patches applied\n(y/n)y\nno patches applied\ndarij@travis-virtualbox:~/sage-5.6$ \n```\n\nBut maybe it's the wrong folder?\n\n```\ndarij@travis-virtualbox:~/sage-5.6$ cd devel/sage-combinat/\ndarij@travis-virtualbox:~/sage-5.6/devel/sage-combinat$ ../../sage -hg qrefresh\n/bin/sh: 1: [[: not found\nAre you sure you want to refresh the following changes:\ninto the patch: patch.patch\n(y/n)y\ndarij@travis-virtualbox:~/sage-5.6/devel/sage-combinat$ \n```\n\nThe fact that I have a newer file than you, Viviane, surprises me a bit since I remember the last trees-related activity on Sage to be from you...",
    "created_at": "2013-03-01T17:04:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93800",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:35'></a>
Hmm......

```
darij@travis-virtualbox:~/sage-5.6$ ./sage -hg qrefresh
/bin/sh: 1: [[: not found
Are you sure you want to refresh the following changes:
into the patch: no patches applied
(y/n)y
no patches applied
darij@travis-virtualbox:~/sage-5.6$ 
```

But maybe it's the wrong folder?

```
darij@travis-virtualbox:~/sage-5.6$ cd devel/sage-combinat/
darij@travis-virtualbox:~/sage-5.6/devel/sage-combinat$ ../../sage -hg qrefresh
/bin/sh: 1: [[: not found
Are you sure you want to refresh the following changes:
into the patch: patch.patch
(y/n)y
darij@travis-virtualbox:~/sage-5.6/devel/sage-combinat$ 
```

The fact that I have a newer file than you, Viviane, surprises me a bit since I remember the last trees-related activity on Sage to be from you...



---

archive/issue_comments_093801.json:
```json
{
    "body": "<a id='comment:36'></a>\nI think you're working on sage-combinat and you have other patches applied. There are patches on sage-combinat that are changing these files. I work on sage with only these two patches applied. \n\nI think your problem comes from the fact that you made changes but didn't create a patch beforehand to put your changes into.",
    "created_at": "2013-03-01T17:14:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93801",
    "user": "https://github.com/VivianePons"
}
```

<a id='comment:36'></a>
I think you're working on sage-combinat and you have other patches applied. There are patches on sage-combinat that are changing these files. I work on sage with only these two patches applied. 

I think your problem comes from the fact that you made changes but didn't create a patch beforehand to put your changes into.



---

archive/issue_comments_093802.json:
```json
{
    "body": "<a id='comment:37'></a>\nThanks! Looks like I missed qnew.\nWill redo when sage 5.7 is finished installing.",
    "created_at": "2013-03-01T17:22:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93802",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:37'></a>
Thanks! Looks like I missed qnew.
Will redo when sage 5.7 is finished installing.



---

archive/issue_comments_093803.json:
```json
{
    "body": "<a id='comment:38'></a>\nAnd by the way, you don't have to install sage-combinat to do that. You can clone your sage version and apply only the two patches which are on the ticket (this way, you're sure you don't have other changes to these files applied).",
    "created_at": "2013-03-01T17:28:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93803",
    "user": "https://github.com/VivianePons"
}
```

<a id='comment:38'></a>
And by the way, you don't have to install sage-combinat to do that. You can clone your sage version and apply only the two patches which are on the ticket (this way, you're sure you don't have other changes to these files applied).



---

archive/issue_comments_093804.json:
```json
{
    "body": "<a id='comment:39'></a>\nViviane: thanks -- but I was installing 5.7 anyway due to the conference in a couple of days.\n\nIt seems I'm getting crazy or something, but now that I reinstalled sage again (and, yes, sage-combinat), there is no abstract_tree.py file in my devel/sage-combinat/sage/combinat folder. What did I do wrong? And how can I manually apply a patch that I've downloaded from trac?",
    "created_at": "2013-03-02T05:27:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93804",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:39'></a>
Viviane: thanks -- but I was installing 5.7 anyway due to the conference in a couple of days.

It seems I'm getting crazy or something, but now that I reinstalled sage again (and, yes, sage-combinat), there is no abstract_tree.py file in my devel/sage-combinat/sage/combinat folder. What did I do wrong? And how can I manually apply a patch that I've downloaded from trac?



---

archive/issue_comments_093805.json:
```json
{
    "body": "<a id='comment:40'></a>\nReplying to [darij](#comment%3A39):\n> Viviane: thanks -- but I was installing 5.7 anyway due to the conference in a couple of days.\n> \n> It seems I'm getting crazy or something, but now that I reinstalled sage again (and, yes, sage-combinat), there is no abstract_tree.py file in my devel/sage-combinat/sage/combinat folder. What did I do wrong? And how can I manually apply a patch that I've downloaded from trac?\n\n\nI think you should\n- build the main Sage branch\n\n```\n$ sage -b main\n```\n- and clone it\n\n```\n$ sage -clone 8703\n```\n- then apply the patches\n\n```\n$ cd SAGEROOT/devel/sage-8703\n$ hg qimport http://trac.sagemath.org/sage_trac/raw-attachment/ticket/8703/trac_8703-trees-fh.patch\n$ hg qimport http://trac.sagemath.org/sage_trac/raw-attachment/ticket/8703/trac_8703-additional-feature-fh.patch\n```\nYou should then have everything set to work on your features...\n\nCheers, Christian",
    "created_at": "2013-03-02T05:55:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93805",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

<a id='comment:40'></a>
Replying to [darij](#comment%3A39):
> Viviane: thanks -- but I was installing 5.7 anyway due to the conference in a couple of days.
> 
> It seems I'm getting crazy or something, but now that I reinstalled sage again (and, yes, sage-combinat), there is no abstract_tree.py file in my devel/sage-combinat/sage/combinat folder. What did I do wrong? And how can I manually apply a patch that I've downloaded from trac?


I think you should
- build the main Sage branch

```
$ sage -b main
```
- and clone it

```
$ sage -clone 8703
```
- then apply the patches

```
$ cd SAGEROOT/devel/sage-8703
$ hg qimport http://trac.sagemath.org/sage_trac/raw-attachment/ticket/8703/trac_8703-trees-fh.patch
$ hg qimport http://trac.sagemath.org/sage_trac/raw-attachment/ticket/8703/trac_8703-additional-feature-fh.patch
```
You should then have everything set to work on your features...

Cheers, Christian



---

archive/issue_comments_093806.json:
```json
{
    "body": "<a id='comment:41'></a>\nThank you, at least I've got the trees patch on my machine now... too bad hg still considers the patch itself, rather than only my meager additions to it, as my changes. Well, I guess it's easier if you just show me the right workflow in Providence in about 2 days; I'm groping in the dark for now as far as hg mq is concerned.",
    "created_at": "2013-03-02T06:59:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93806",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:41'></a>
Thank you, at least I've got the trees patch on my machine now... too bad hg still considers the patch itself, rather than only my meager additions to it, as my changes. Well, I guess it's easier if you just show me the right workflow in Providence in about 2 days; I'm groping in the dark for now as far as hg mq is concerned.



---

archive/issue_comments_093807.json:
```json
{
    "body": "<a id='comment:42'></a>\nReplying to [darij](#comment%3A41):\n> Thank you, at least I've got the trees patch on my machine now... too bad hg still considers the patch itself, rather than only my meager additions to it, as my changes. Well, I guess it's easier if you just show me the right workflow in Providence in about 2 days; I'm groping in the dark for now as far as hg mq is concerned.\n\n\nOkay. After the above steps, you have to start a new patch\n\n```\n$ hg qnew trac_8703-trees_addition-dg.patch\n```\nand then you do your changes. Afterwards, you can review which files you have changed\n\n```\n$ hg status\n```\nand what you changed\n\n```\n$ hg diff\n```\nIf you are happy with your changes, save them in the path using\n\n```\n$ hg qrefresh\n```\nand save this patch in your home folder\n\n```\n$ hg export tip > ~/trac_8703-trees_addition-dg.patch\n```\nFinally, upload it to trac!",
    "created_at": "2013-03-02T07:13:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93807",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

<a id='comment:42'></a>
Replying to [darij](#comment%3A41):
> Thank you, at least I've got the trees patch on my machine now... too bad hg still considers the patch itself, rather than only my meager additions to it, as my changes. Well, I guess it's easier if you just show me the right workflow in Providence in about 2 days; I'm groping in the dark for now as far as hg mq is concerned.


Okay. After the above steps, you have to start a new patch

```
$ hg qnew trac_8703-trees_addition-dg.patch
```
and then you do your changes. Afterwards, you can review which files you have changed

```
$ hg status
```
and what you changed

```
$ hg diff
```
If you are happy with your changes, save them in the path using

```
$ hg qrefresh
```
and save this patch in your home folder

```
$ hg export tip > ~/trac_8703-trees_addition-dg.patch
```
Finally, upload it to trac!



---

archive/issue_comments_093808.json:
```json
{
    "body": "<a id='comment:43'></a>\nFinally, it worked. Thank you!!\n\nIs there a quick way to check the validity of the patch? I ended up with some changes I didn't want to make due to being new to kdiff3's merging function; I sanitized them out of the .patch file manually. Here's hoping I didn't corrupt it...\n\nEDIT: Ooops... The changes to ordered_tree.py look weird to me; I certainly did not delete stuff but I added a sentence and fixed two typos. Am I reading the diff wrong or does it really have rogue changes?",
    "created_at": "2013-03-02T07:32:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93808",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:43'></a>
Finally, it worked. Thank you!!

Is there a quick way to check the validity of the patch? I ended up with some changes I didn't want to make due to being new to kdiff3's merging function; I sanitized them out of the .patch file manually. Here's hoping I didn't corrupt it...

EDIT: Ooops... The changes to ordered_tree.py look weird to me; I certainly did not delete stuff but I added a sentence and fixed two typos. Am I reading the diff wrong or does it really have rogue changes?



---

archive/issue_comments_093809.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -11,4 +11,4 @@\n **Apply:**\n - [attachment:trac_8703-trees-fh.patch]\n - [attachment:trac_8703-additional-feature-fh.patch]\n-\n+- [attachment:trac_8703-trees_addition-dg.patch]\n``````\n",
    "created_at": "2013-03-02T07:35:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93809",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -11,4 +11,4 @@
 **Apply:**
 - [attachment:trac_8703-trees-fh.patch]
 - [attachment:trac_8703-additional-feature-fh.patch]
-
+- [attachment:trac_8703-trees_addition-dg.patch]
``````




---

archive/issue_comments_093810.json:
```json
{
    "body": "Attachment [trac_8703-trees_addition-dg.patch](tarball://root/attachments/some-uuid/ticket8703/trac_8703-trees_addition-dg.patch) by @darijgr created at 2013-03-02 08:23:11\n\ndocstrings improved. let's see if this works...",
    "created_at": "2013-03-02T08:23:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93810",
    "user": "https://github.com/darijgr"
}
```

Attachment [trac_8703-trees_addition-dg.patch](tarball://root/attachments/some-uuid/ticket8703/trac_8703-trees_addition-dg.patch) by @darijgr created at 2013-03-02 08:23:11

docstrings improved. let's see if this works...



---

archive/issue_comments_093811.json:
```json
{
    "body": "<a id='comment:45'></a>\nFile updated. Please ignore trees.tar.gz (no longer relevant), trac_8703-trees_addition-dg.2.patch (accidentally created by forgetting to check the \"Replace existing file\" toolbox) and trac_8703-trees_addition-dg.2.2.patch (accidentally created by trying to overwrite previous file).\n\nRogue edits are gone (they were due to me incorrectly resolving a conflict with fh's changes).",
    "created_at": "2013-03-02T08:26:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93811",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:45'></a>
File updated. Please ignore trees.tar.gz (no longer relevant), trac_8703-trees_addition-dg.2.patch (accidentally created by forgetting to check the "Replace existing file" toolbox) and trac_8703-trees_addition-dg.2.2.patch (accidentally created by trying to overwrite previous file).

Rogue edits are gone (they were due to me incorrectly resolving a conflict with fh's changes).



---

archive/issue_comments_093812.json:
```json
{
    "body": "Attachment [trac_8703-trees-fh-rebase.patch](tarball://root/attachments/some-uuid/ticket8703/trac_8703-trees-fh-rebase.patch) by @VivianePons created at 2013-03-20 10:16:39",
    "created_at": "2013-03-20T10:16:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93812",
    "user": "https://github.com/VivianePons"
}
```

Attachment [trac_8703-trees-fh-rebase.patch](tarball://root/attachments/some-uuid/ticket8703/trac_8703-trees-fh-rebase.patch) by @VivianePons created at 2013-03-20 10:16:39



---

archive/issue_comments_093813.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -9,6 +9,6 @@\n It finally defines the bijection to Dyck words\n \n **Apply:**\n-- [attachment:trac_8703-trees-fh.patch]\n+- [attachment:trac_8703-trees-fh-rebase.patch]\n - [attachment:trac_8703-additional-feature-fh.patch]\n - [attachment:trac_8703-trees_addition-dg.patch]\n``````\n",
    "created_at": "2013-03-20T10:17:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93813",
    "user": "https://github.com/VivianePons"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -9,6 +9,6 @@
 It finally defines the bijection to Dyck words
 
 **Apply:**
-- [attachment:trac_8703-trees-fh.patch]
+- [attachment:trac_8703-trees-fh-rebase.patch]
 - [attachment:trac_8703-additional-feature-fh.patch]
 - [attachment:trac_8703-trees_addition-dg.patch]
``````




---

archive/issue_comments_093814.json:
```json
{
    "body": "<a id='comment:47'></a>\nI have rebased trac_8703-trees-fh.patch so that it applies on sage-5.8. I cannot get trac_8703-trees_addition-dg.patch to apply, I get a \"bad hunck\" error and really, I just don't know what is wrong...",
    "created_at": "2013-03-20T10:19:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93814",
    "user": "https://github.com/VivianePons"
}
```

<a id='comment:47'></a>
I have rebased trac_8703-trees-fh.patch so that it applies on sage-5.8. I cannot get trac_8703-trees_addition-dg.patch to apply, I get a "bad hunck" error and really, I just don't know what is wrong...



---

archive/issue_comments_093815.json:
```json
{
    "body": "<a id='comment:48'></a>\nI have redone the dg review patch (with one or two more things)\n\nfor the bot:\n\napply trac_8703-trees-fh-rebase.patch trac_8703-additional-feature-fh.patch trac_8703-trees_addition-dg-v2.patch",
    "created_at": "2013-03-20T20:24:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93815",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:48'></a>
I have redone the dg review patch (with one or two more things)

for the bot:

apply trac_8703-trees-fh-rebase.patch trac_8703-additional-feature-fh.patch trac_8703-trees_addition-dg-v2.patch



---

archive/issue_comments_093816.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -11,4 +11,4 @@\n **Apply:**\n - [attachment:trac_8703-trees-fh-rebase.patch]\n - [attachment:trac_8703-additional-feature-fh.patch]\n-- [attachment:trac_8703-trees_addition-dg.patch]\n+- [attachment:trac_8703-trees_addition-dg-v2.patch]\n``````\n",
    "created_at": "2013-03-20T20:24:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93816",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -11,4 +11,4 @@
 **Apply:**
 - [attachment:trac_8703-trees-fh-rebase.patch]
 - [attachment:trac_8703-additional-feature-fh.patch]
-- [attachment:trac_8703-trees_addition-dg.patch]
+- [attachment:trac_8703-trees_addition-dg-v2.patch]
``````




---

archive/issue_comments_093817.json:
```json
{
    "body": "<a id='comment:49'></a>\nThanks, Fr\u00e9d\u00e9ric! I was about to tell Viviane not to bother fixing my patch, as it was way more trouble than it was ever worth.\n\n(I'm not surprised it had bank hunk errors since I messed around with the ,patch file in a text editor...)",
    "created_at": "2013-03-20T20:32:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93817",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:49'></a>
Thanks, Frédéric! I was about to tell Viviane not to bother fixing my patch, as it was way more trouble than it was ever worth.

(I'm not surprised it had bank hunk errors since I messed around with the ,patch file in a text editor...)



---

archive/issue_comments_093818.json:
```json
{
    "body": "<a id='comment:50'></a>\nAttachment [trac_8703-additional-feature-vp.patch](tarball://root/attachments/some-uuid/ticket8703/trac_8703-additional-feature-vp.patch) by @VivianePons created at 2013-03-21 09:01:51\n\nThanks a lot Fr\u00e9d\u00e9ric.\n\nI just uploaded a new version of \"additional feature\", it's just a small fix about the \"eval\" function. I was using the \"eval\" function to transform a string into an object, I changed it to use \"litteral_eval\" which is more secured (it won't eval just any python code, it is restricted to simple objects).\n\nOnce the bot is happy, is there anything else to do on this patch or can it go with \"positive review\" ?\n\n for the bot:\n\napply trac_8703-trees-fh-rebase.patch trac_8703-additional-feature-vp.patch trac_8703-trees_addition-dg-v2.patch",
    "created_at": "2013-03-21T09:01:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93818",
    "user": "https://github.com/VivianePons"
}
```

<a id='comment:50'></a>
Attachment [trac_8703-additional-feature-vp.patch](tarball://root/attachments/some-uuid/ticket8703/trac_8703-additional-feature-vp.patch) by @VivianePons created at 2013-03-21 09:01:51

Thanks a lot Frédéric.

I just uploaded a new version of "additional feature", it's just a small fix about the "eval" function. I was using the "eval" function to transform a string into an object, I changed it to use "litteral_eval" which is more secured (it won't eval just any python code, it is restricted to simple objects).

Once the bot is happy, is there anything else to do on this patch or can it go with "positive review" ?

 for the bot:

apply trac_8703-trees-fh-rebase.patch trac_8703-additional-feature-vp.patch trac_8703-trees_addition-dg-v2.patch



---

archive/issue_comments_093819.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -10,5 +10,5 @@\n \n **Apply:**\n - [attachment:trac_8703-trees-fh-rebase.patch]\n-- [attachment:trac_8703-additional-feature-fh.patch]\n+- [attachment:trac_8703-additional-feature-vp.patch]\n - [attachment:trac_8703-trees_addition-dg-v2.patch]\n``````\n",
    "created_at": "2013-03-21T09:04:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93819",
    "user": "https://github.com/VivianePons"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -10,5 +10,5 @@
 
 **Apply:**
 - [attachment:trac_8703-trees-fh-rebase.patch]
-- [attachment:trac_8703-additional-feature-fh.patch]
+- [attachment:trac_8703-additional-feature-vp.patch]
 - [attachment:trac_8703-trees_addition-dg-v2.patch]
``````




---

archive/issue_comments_093820.json:
```json
{
    "body": "<a id='comment:52'></a>\nbetter not import all of ast, but rather\n\n```\nfrom ast import literal_eval\n```",
    "created_at": "2013-03-21T13:11:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93820",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:52'></a>
better not import all of ast, but rather

```
from ast import literal_eval
```



---

archive/issue_comments_093821.json:
```json
{
    "body": "<a id='comment:53'></a>\nThere is still work to be done\n\n* a whole paragraph about partitions at the beginning of BinaryTrees should be removed\n\n* one should avoid using AssertionError\n\n* a typo \"only if they canonical labelled trees\"\n\n* a typo \"labellel ordered tree\"\n\nI will try to make a review patch later.",
    "created_at": "2013-03-21T13:46:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93821",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:53'></a>
There is still work to be done

* a whole paragraph about partitions at the beginning of BinaryTrees should be removed

* one should avoid using AssertionError

* a typo "only if they canonical labelled trees"

* a typo "labellel ordered tree"

I will try to make a review patch later.



---

archive/issue_comments_093822.json:
```json
{
    "body": "<a id='comment:54'></a>\nHas anyone looked at the weirdness in http://trac.sagemath.org/sage_trac/ticket/8703#comment:33 ? It's not a serious problem, but might deserve documentation.",
    "created_at": "2013-03-21T15:49:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93822",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:54'></a>
Has anyone looked at the weirdness in http://trac.sagemath.org/sage_trac/ticket/8703#comment:33 ? It's not a serious problem, but might deserve documentation.



---

archive/issue_comments_093823.json:
```json
{
    "body": "<a id='comment:55'></a>\nI have made more changes in the new review patch. And yes, comment 33 should be clarified.",
    "created_at": "2013-03-21T18:26:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93823",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:55'></a>
I have made more changes in the new review patch. And yes, comment 33 should be clarified.



---

archive/issue_comments_093824.json:
```json
{
    "body": "<a id='comment:56'></a>\nAttachment [trac_8703-trees_addition-dg-v2.patch](tarball://root/attachments/some-uuid/ticket8703/trac_8703-trees_addition-dg-v2.patch) by @fchapoton created at 2013-03-21 18:37:12\n\nnew patch, solving all issues in comments 33,52 and 53",
    "created_at": "2013-03-21T18:37:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93824",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:56'></a>
Attachment [trac_8703-trees_addition-dg-v2.patch](tarball://root/attachments/some-uuid/ticket8703/trac_8703-trees_addition-dg-v2.patch) by @fchapoton created at 2013-03-21 18:37:12

new patch, solving all issues in comments 33,52 and 53



---

archive/issue_comments_093825.json:
```json
{
    "body": "<a id='comment:57'></a>\na new small review patch, with typos essentially\n\nMaybe this is good to go ?\n\nfor the bot:\n\napply trac_8703-trees-fh-rebase.patch trac_8703-additional-feature-vp.patch trac_8703-trees_addition-dg-v2.patch trac_8703-review-fc.patch",
    "created_at": "2013-03-31T19:27:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93825",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:57'></a>
a new small review patch, with typos essentially

Maybe this is good to go ?

for the bot:

apply trac_8703-trees-fh-rebase.patch trac_8703-additional-feature-vp.patch trac_8703-trees_addition-dg-v2.patch trac_8703-review-fc.patch



---

archive/issue_comments_093826.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -12,3 +12,4 @@\n - [attachment:trac_8703-trees-fh-rebase.patch]\n - [attachment:trac_8703-additional-feature-vp.patch]\n - [attachment:trac_8703-trees_addition-dg-v2.patch]\n+- [attachment:trac_8703-review-fc.patch]\n``````\n",
    "created_at": "2013-03-31T19:27:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93826",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -12,3 +12,4 @@
 - [attachment:trac_8703-trees-fh-rebase.patch]
 - [attachment:trac_8703-additional-feature-vp.patch]
 - [attachment:trac_8703-trees_addition-dg-v2.patch]
+- [attachment:trac_8703-review-fc.patch]
``````




---

archive/issue_comments_093827.json:
```json
{
    "body": "Attachment [trac_8703-review-fc.patch](tarball://root/attachments/some-uuid/ticket8703/trac_8703-review-fc.patch) by @fchapoton created at 2013-03-31 19:29:18",
    "created_at": "2013-03-31T19:29:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93827",
    "user": "https://github.com/fchapoton"
}
```

Attachment [trac_8703-review-fc.patch](tarball://root/attachments/some-uuid/ticket8703/trac_8703-review-fc.patch) by @fchapoton created at 2013-03-31 19:29:18



---

archive/issue_comments_093828.json:
```json
{
    "body": "<a id='comment:58'></a>\nThanks Fr\u00e9d\u00e9ric for the review patches.\n\nI have had a quick look and it seems alright. Anyway, Florent should look at the state of things now to see if he's happy and maybe we can go for a positive review!",
    "created_at": "2013-04-09T14:59:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93828",
    "user": "https://github.com/VivianePons"
}
```

<a id='comment:58'></a>
Thanks Frédéric for the review patches.

I have had a quick look and it seems alright. Anyway, Florent should look at the state of things now to see if he's happy and maybe we can go for a positive review!



---

archive/issue_comments_093829.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Florent Hivert, Fr\u00e9d\u00e9ric Chapoton, Viviane Pons\"",
    "created_at": "2013-04-09T19:53:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93829",
    "user": "https://github.com/hivert"
}
```

Changing reviewer from "" to "Florent Hivert, Frédéric Chapoton, Viviane Pons"



---

archive/issue_comments_093830.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-04-09T19:53:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93830",
    "user": "https://github.com/hivert"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_021131.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-04-09T20:54:45Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "milestone": "sage-4.7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/8703#event-21131"
}
```



---

archive/issue_events_021132.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-04-09T20:54:45Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "milestone": "sage-5.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/8703#event-21132"
}
```



---

archive/issue_comments_093831.json:
```json
{
    "body": "<a id='comment:61'></a>\nAttachment [trac_8703-trees-folded.patch](tarball://root/attachments/some-uuid/ticket8703/trac_8703-trees-folded.patch) by @hivert created at 2013-04-11 10:19:26\n\nI folded the patches for the release manager.\n\nFlorent",
    "created_at": "2013-04-11T10:19:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93831",
    "user": "https://github.com/hivert"
}
```

<a id='comment:61'></a>
Attachment [trac_8703-trees-folded.patch](tarball://root/attachments/some-uuid/ticket8703/trac_8703-trees-folded.patch) by @hivert created at 2013-04-11 10:19:26

I folded the patches for the release manager.

Florent



---

archive/issue_comments_093832.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -9,7 +9,5 @@\n It finally defines the bijection to Dyck words\n \n **Apply:**\n-- [attachment:trac_8703-trees-fh-rebase.patch]\n-- [attachment:trac_8703-additional-feature-vp.patch]\n-- [attachment:trac_8703-trees_addition-dg-v2.patch]\n-- [attachment:trac_8703-review-fc.patch]\n+- [attachment:trac_8703-trees-folded.patch]\n+\n``````\n",
    "created_at": "2013-04-11T10:19:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93832",
    "user": "https://github.com/hivert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -9,7 +9,5 @@
 It finally defines the bijection to Dyck words
 
 **Apply:**
-- [attachment:trac_8703-trees-fh-rebase.patch]
-- [attachment:trac_8703-additional-feature-vp.patch]
-- [attachment:trac_8703-trees_addition-dg-v2.patch]
-- [attachment:trac_8703-review-fc.patch]
+- [attachment:trac_8703-trees-folded.patch]
+
``````




---

archive/issue_comments_093833.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2013-04-11T13:01:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93833",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_093834.json:
```json
{
    "body": "<a id='comment:62'></a>\nThis shouldn't be in the commit message:\n\n```\n[mq]: trac_8703-additional-feature-vp.patch\n```",
    "created_at": "2013-04-11T13:01:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93834",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:62'></a>
This shouldn't be in the commit message:

```
[mq]: trac_8703-additional-feature-vp.patch
```



---

archive/issue_comments_093835.json:
```json
{
    "body": "<a id='comment:63'></a>\nAnd this patch should be rebased to sage-5.9.beta5.",
    "created_at": "2013-04-12T07:12:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93835",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:63'></a>
And this patch should be rebased to sage-5.9.beta5.



---

archive/issue_comments_093836.json:
```json
{
    "body": "Changing dependencies from \"#8702\" to \"#8702, merge with #14433\"",
    "created_at": "2013-04-13T14:43:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93836",
    "user": "https://github.com/jdemeyer"
}
```

Changing dependencies from "#8702" to "#8702, merge with #14433"



---

archive/issue_comments_093837.json:
```json
{
    "body": "<a id='comment:65'></a>\nAttachment [trac_8703-trees-rebased.patch](tarball://root/attachments/some-uuid/ticket8703/trac_8703-trees-rebased.patch) by @tscrim created at 2013-04-15 00:32:40\n\nRebased patch.\n\nFor patchbot:\n\nApply: trac_8703-trees-rebased.patch",
    "created_at": "2013-04-15T00:32:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93837",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:65'></a>
Attachment [trac_8703-trees-rebased.patch](tarball://root/attachments/some-uuid/ticket8703/trac_8703-trees-rebased.patch) by @tscrim created at 2013-04-15 00:32:40

Rebased patch.

For patchbot:

Apply: trac_8703-trees-rebased.patch



---

archive/issue_comments_093838.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -9,5 +9,5 @@\n It finally defines the bijection to Dyck words\n \n **Apply:**\n-- [attachment:trac_8703-trees-folded.patch]\n+- [attachment:trac_8703-trees-rebased.patch]\n \n``````\n",
    "created_at": "2013-04-15T00:32:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93838",
    "user": "https://github.com/tscrim"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -9,5 +9,5 @@
 It finally defines the bijection to Dyck words
 
 **Apply:**
-- [attachment:trac_8703-trees-folded.patch]
+- [attachment:trac_8703-trees-rebased.patch]
 
``````




---

archive/issue_comments_093839.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2013-04-15T00:32:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93839",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_093840.json:
```json
{
    "body": "<a id='comment:66'></a>\nPlease review #14433, otherwise this patch cannot be merged.",
    "created_at": "2013-04-15T08:42:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93840",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:66'></a>
Please review #14433, otherwise this patch cannot be merged.



---

archive/issue_comments_093841.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-04-23T09:40:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93841",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_comments_093842.json:
```json
{
    "body": "Changing merged from \"\" to \"sage-5.10.beta0\"",
    "created_at": "2013-04-23T09:40:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8703#issuecomment-93842",
    "user": "https://github.com/jdemeyer"
}
```

Changing merged from "" to "sage-5.10.beta0"



---

archive/issue_events_021133.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-04-23T09:40:46Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/8703",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/8703#event-21133"
}
```
