# Issue 8218: Finite Field move

archive/issues_008218.json:
```json
{
    "assignees": [
        "https://github.com/loefflerd"
    ],
    "body": "Moves all of the finite field files, the integer_mod files and the base classes from sage.rings.ring and sage.structure.element into their own folder in sage.rings.  In preparation for more work on finite fields.\n\nCC:  @robertwb\n\nKeywords: **finite fields**\n\nComponent: **algebra**\n\nAuthor: **David Roe**\n\nReviewer: **David Loeffler**\n\nMerged: **sage-4.4.alpha0**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/8218_\n\n",
    "closed_at": "2010-04-15T05:18:00Z",
    "created_at": "2010-02-09T03:39:15Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20algebra",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Finite Field move",
    "type": "issue",
    "updated_at": "2010-04-15T05:18:00Z",
    "url": "https://github.com/sagemath/sage/issues/8218",
    "user": "https://github.com/roed314"
}
```
Moves all of the finite field files, the integer_mod files and the base classes from sage.rings.ring and sage.structure.element into their own folder in sage.rings.  In preparation for more work on finite fields.

CC:  @robertwb

Keywords: **finite fields**

Component: **algebra**

Author: **David Roe**

Reviewer: **David Loeffler**

Merged: **sage-4.4.alpha0**

_Issue created by migration from https://trac.sagemath.org/ticket/8218_





---

archive/issue_events_102392.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2010-02-09T03:39:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "milestone_number": null,
    "milestone_title": "sage-4.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8218#event-102392"
}
```



---

archive/issue_events_102393.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2010-02-09T03:39:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20algebra",
    "label_color": "0000ff",
    "label_name": "c: algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8218#event-102393"
}
```



---

archive/issue_events_102394.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2010-02-09T03:39:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8218#event-102394"
}
```



---

archive/issue_events_102395.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2010-02-09T03:39:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8218#event-102395"
}
```



---

archive/issue_events_102396.json:
```json
{
    "actor": "https://github.com/aghitza",
    "created_at": "2010-02-09T03:39:15Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "subject": "https://github.com/roed314",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8218#event-102396"
}
```



---

archive/issue_comments_063708.json:
```json
{
    "body": "Attachment: **[trac_8218_move.patch.gz](https://github.com/sagemath/sage/files/ticket8218/trac_8218_move.patch.gz)**\n\nJust moves the files",
    "created_at": "2010-02-09T04:06:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8218#issuecomment-63708",
    "user": "https://github.com/roed314"
}
```

Attachment: **[trac_8218_move.patch.gz](https://github.com/sagemath/sage/files/ticket8218/trac_8218_move.patch.gz)**

Just moves the files



---

archive/issue_events_102397.json:
```json
{
    "actor": "https://github.com/aghitza",
    "created_at": "2010-02-09T04:16:01Z",
    "event": "unassigned",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "subject": "https://github.com/roed314",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8218#event-102397"
}
```



---

archive/issue_events_102398.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2010-02-09T04:16:01Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "subject": "https://github.com/roed314",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8218#event-102398"
}
```



---

archive/issue_comments_063709.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nThe files that are moved into sage.rings.finite_rings are:\n\n```\ninteger_mod.pyx -> finite_rings/integer_mod.pyx\ninteger_mod.pxd -> finite_rings/integer_mod.pxd\ninteger_mod_ring.py -> finite_rings/integer_mod_ring.py\nfinite_field.py -> finite_rings/constructor.py\nfinite_field_prime_modn.py -> finite_rings/finite_field_prime_modn.py\nfinite_field_element.py -> finite_rings/element_ext_pari.py\nfinite_field_ext_pari.py -> finite_rings/finite_field_ext_pari.py\nfinite_field_givaro.pyx -> finite_rings/element_givaro.pyx\nfinite_field_givaro.pxd -> finite_rings/element_givaro.pxd\nfinite_field_ntl_gf2e.pyx -> finite_rings/finite_field_ntl_gf2e.pyx\nfinite_field_ntl_gf2e.pxd -> finite_rings/finite_field_ntl_gf2e.pxd\nfinite_field_morphism.py -> finite_rings/homset.py\npart of ring.pyx -> finite_rings/finite_field_base.pyx\npart of ring.pxd -> finite_rings/finite_field_base.pxd\npart of sage/structure/element.pyx -> sage/rings/finite_rings/element_base.pyx\npart of sage/structure/element.pxd -> sage/rings/finite_rings/element_base.pxd\n```",
    "created_at": "2010-02-09T04:16:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8218#issuecomment-63709",
    "user": "https://github.com/roed314"
}
```

<div id="comment:1" align="right">comment:1</div>

The files that are moved into sage.rings.finite_rings are:

```
integer_mod.pyx -> finite_rings/integer_mod.pyx
integer_mod.pxd -> finite_rings/integer_mod.pxd
integer_mod_ring.py -> finite_rings/integer_mod_ring.py
finite_field.py -> finite_rings/constructor.py
finite_field_prime_modn.py -> finite_rings/finite_field_prime_modn.py
finite_field_element.py -> finite_rings/element_ext_pari.py
finite_field_ext_pari.py -> finite_rings/finite_field_ext_pari.py
finite_field_givaro.pyx -> finite_rings/element_givaro.pyx
finite_field_givaro.pxd -> finite_rings/element_givaro.pxd
finite_field_ntl_gf2e.pyx -> finite_rings/finite_field_ntl_gf2e.pyx
finite_field_ntl_gf2e.pxd -> finite_rings/finite_field_ntl_gf2e.pxd
finite_field_morphism.py -> finite_rings/homset.py
part of ring.pyx -> finite_rings/finite_field_base.pyx
part of ring.pxd -> finite_rings/finite_field_base.pxd
part of sage/structure/element.pyx -> sage/rings/finite_rings/element_base.pyx
part of sage/structure/element.pxd -> sage/rings/finite_rings/element_base.pxd
```



---

archive/issue_comments_063710.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nIt would be good to do this as a mercurial bundle, so that the history and other merges will follow correctly.",
    "created_at": "2010-02-09T18:37:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8218#issuecomment-63710",
    "user": "https://github.com/robertwb"
}
```

<div id="comment:2" align="right">comment:2</div>

It would be good to do this as a mercurial bundle, so that the history and other merges will follow correctly.



---

archive/issue_comments_063711.json:
```json
{
    "body": "Bundle replacing trac_8218_move.patch.  This should allow us to keep the repository information.",
    "created_at": "2010-02-09T20:07:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8218#issuecomment-63711",
    "user": "https://github.com/roed314"
}
```

Bundle replacing trac_8218_move.patch.  This should allow us to keep the repository information.



---

archive/issue_events_102399.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2010-02-09T20:09:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8218#event-102399"
}
```



---

archive/issue_comments_063712.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nAttachment: **[trac_8218_move.bundle.gz](https://github.com/sagemath/sage/files/ticket8218/trac_8218_move.bundle.gz)**\n\nI created the bundle with \n\n```\nsage -hg bundle -r 13801 --base 13800 ~/patches-out/trac_8218_move.bundle\n```\nI believe this is right, but it's been a while since I used bundles.",
    "created_at": "2010-02-09T20:09:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8218#issuecomment-63712",
    "user": "https://github.com/roed314"
}
```

<div id="comment:3" align="right">comment:3</div>

Attachment: **[trac_8218_move.bundle.gz](https://github.com/sagemath/sage/files/ticket8218/trac_8218_move.bundle.gz)**

I created the bundle with 

```
sage -hg bundle -r 13801 --base 13800 ~/patches-out/trac_8218_move.bundle
```
I believe this is right, but it's been a while since I used bundles.



---

archive/issue_events_102400.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2010-02-09T20:15:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8218#event-102400"
}
```



---

archive/issue_events_102401.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2010-02-09T20:15:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8218#event-102401"
}
```



---

archive/issue_comments_063713.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nOops.  Forgot to fix pickles.  Doing so now...",
    "created_at": "2010-02-09T20:15:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8218#issuecomment-63713",
    "user": "https://github.com/roed314"
}
```

<div id="comment:4" align="right">comment:4</div>

Oops.  Forgot to fix pickles.  Doing so now...



---

archive/issue_comments_063714.json:
```json
{
    "body": "Attachment: **[trac_8218_fixes.patch.gz](https://github.com/sagemath/sage/files/ticket8218/trac_8218_fixes.patch.gz)**\n\nFixes the imports.",
    "created_at": "2010-02-09T21:37:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8218#issuecomment-63714",
    "user": "https://github.com/roed314"
}
```

Attachment: **[trac_8218_fixes.patch.gz](https://github.com/sagemath/sage/files/ticket8218/trac_8218_fixes.patch.gz)**

Fixes the imports.



---

archive/issue_events_102402.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2010-02-09T21:38:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8218#event-102402"
}
```



---

archive/issue_events_102403.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2010-02-09T21:38:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8218#event-102403"
}
```



---

archive/issue_comments_063715.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nPickling should work now.",
    "created_at": "2010-02-09T21:38:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8218#issuecomment-63715",
    "user": "https://github.com/roed314"
}
```

<div id="comment:5" align="right">comment:5</div>

Pickling should work now.



---

archive/issue_comments_063716.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nHas this been checked on Solaris? The patches are huge, so there is a good chance this will break on one platform or another. \n\nThere's general information about building on Solaris at\n\nhttp://wiki.sagemath.org/solaris\n\nInformation specifically for 't2' at\n\nhttp://wiki.sagemath.org/devel/Building-Sage-on-the-T5240-t2\n\nBoth the source (4.3.0.1 is the latest to build on Solaris) and a binary\nwhich will run on any SPARC can be found at http://www.sagemath.org/download-source.html\n\nDave",
    "created_at": "2010-02-22T00:45:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8218#issuecomment-63716",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<div id="comment:6" align="right">comment:6</div>

Has this been checked on Solaris? The patches are huge, so there is a good chance this will break on one platform or another. 

There's general information about building on Solaris at

http://wiki.sagemath.org/solaris

Information specifically for 't2' at

http://wiki.sagemath.org/devel/Building-Sage-on-the-T5240-t2

Both the source (4.3.0.1 is the latest to build on Solaris) and a binary
which will run on any SPARC can be found at http://www.sagemath.org/download-source.html

Dave



---

archive/issue_events_102404.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2010-02-22T00:45:12Z",
    "event": "unassigned",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "subject": "https://github.com/sagetrac-drkirkby",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8218#event-102404"
}
```



---

archive/issue_events_102405.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2010-02-22T00:45:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8218#event-102405"
}
```



---

archive/issue_events_102406.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2010-02-22T00:45:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8218#event-102406"
}
```



---

archive/issue_events_102407.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2010-02-22T19:30:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8218#event-102407"
}
```



---

archive/issue_events_102408.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2010-02-22T19:30:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8218#event-102408"
}
```



---

archive/issue_comments_063717.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nThe content, not the size, of the patches would determine whether there's any platform-dependent code here, and I highly doubt there is. \n\nWhat I've looked at so far looks good (I started to do this myself once, but unfortunately there was some hitch and by the time I got to it again rebasing was neigh impossible). I hope to be able to get a review on this soon (just a matter of finding time).",
    "created_at": "2010-02-22T19:30:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8218#issuecomment-63717",
    "user": "https://github.com/robertwb"
}
```

<div id="comment:8" align="right">comment:8</div>

The content, not the size, of the patches would determine whether there's any platform-dependent code here, and I highly doubt there is. 

What I've looked at so far looks good (I started to do this myself once, but unfortunately there was some hitch and by the time I got to it again rebasing was neigh impossible). I hope to be able to get a review on this soon (just a matter of finding time).



---

archive/issue_comments_063718.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nI do realise it is the content, not the size, but small innocuous looking patches have screwed up the build either on not only Solaris, but also Linux and OS X too. \n\nIt's difficult to me to see how we can know unless it is tested.",
    "created_at": "2010-02-22T19:46:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8218#issuecomment-63718",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<div id="comment:9" align="right">comment:9</div>

I do realise it is the content, not the size, but small innocuous looking patches have screwed up the build either on not only Solaris, but also Linux and OS X too. 

It's difficult to me to see how we can know unless it is tested.



---

archive/issue_comments_063719.json:
```json
{
    "body": "Rebased against 4.3.3: a bundle including all the moves; should be applied first",
    "created_at": "2010-02-23T14:44:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8218#issuecomment-63719",
    "user": "https://github.com/roed314"
}
```

Rebased against 4.3.3: a bundle including all the moves; should be applied first



---

archive/issue_comments_063720.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nAttachment: **[trac_8218_move_433.bundle.gz](https://github.com/sagemath/sage/files/ticket8218/trac_8218_move_433.bundle.gz)**\n\nHow do I apply a bundle?  Can it be done in queues?",
    "created_at": "2010-03-02T17:26:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8218#issuecomment-63720",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:10" align="right">comment:10</div>

Attachment: **[trac_8218_move_433.bundle.gz](https://github.com/sagemath/sage/files/ticket8218/trac_8218_move_433.bundle.gz)**

How do I apply a bundle?  Can it be done in queues?



---

archive/issue_comments_063721.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nWithin the deve/sage directory,\n\n```\nsage -hg unbundle trac_8218_move_433.bundle\n```",
    "created_at": "2010-03-02T17:34:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8218#issuecomment-63721",
    "user": "https://github.com/roed314"
}
```

<div id="comment:11" align="right">comment:11</div>

Within the deve/sage directory,

```
sage -hg unbundle trac_8218_move_433.bundle
```



---

archive/issue_comments_063722.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nOh, and it can't be done in queues.  If you want to work with a patch, use `trac_8218_move.patch` instead.  I think that should apply; if not the only thing that patch or the bundle do is move a bunch of files (see a previous comment for the list).  If one of the hunks fails, just use `sage -hg rename`.",
    "created_at": "2010-03-02T17:50:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8218#issuecomment-63722",
    "user": "https://github.com/roed314"
}
```

<div id="comment:12" align="right">comment:12</div>

Oh, and it can't be done in queues.  If you want to work with a patch, use `trac_8218_move.patch` instead.  I think that should apply; if not the only thing that patch or the bundle do is move a bunch of files (see a previous comment for the list).  If one of the hunks fails, just use `sage -hg rename`.



---

archive/issue_comments_063723.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nSorry, still failing.  After I unbundle the bundle I can neither run Sage nor rebuild it nor apply the \"fix\" patch, and have to delete the entire clone.  The \"move\" patch does not apply to 4.3.3.\n\nIf you could post the exact sequence of commands needs to go from a fresh 4.3.3, starting with (say) sage -clone 8218  and ending with sage -br (or similar), then I'll willingly test it.",
    "created_at": "2010-03-02T20:02:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8218#issuecomment-63723",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:13" align="right">comment:13</div>

Sorry, still failing.  After I unbundle the bundle I can neither run Sage nor rebuild it nor apply the "fix" patch, and have to delete the entire clone.  The "move" patch does not apply to 4.3.3.

If you could post the exact sequence of commands needs to go from a fresh 4.3.3, starting with (say) sage -clone 8218  and ending with sage -br (or similar), then I'll willingly test it.



---

archive/issue_comments_063724.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nTry the following (and let me know if it doesn't work):\n\n```\ncd $SAGE-ROOT\nsage -clone 8218\ncd devel/sage-8218/\nsage -hg unbundle trac_8218_move.bundle\nsage -hg merge\nsage -hg commit -m \"Merge\"\nsage -hg qinit\nsage -hg qimport trac_8218_fixes_433.patch\nsage -hg qpush\nsage -br\n```",
    "created_at": "2010-03-05T20:35:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8218#issuecomment-63724",
    "user": "https://github.com/roed314"
}
```

<div id="comment:14" align="right">comment:14</div>

Try the following (and let me know if it doesn't work):

```
cd $SAGE-ROOT
sage -clone 8218
cd devel/sage-8218/
sage -hg unbundle trac_8218_move.bundle
sage -hg merge
sage -hg commit -m "Merge"
sage -hg qinit
sage -hg qimport trac_8218_fixes_433.patch
sage -hg qpush
sage -br
```



---

archive/issue_comments_063725.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nOK, I did that (except with the bundle trac_8218_move_433.bundle),  applying it all to 4.3.4.alpha0.  The merge is ok (one piece of fuzz).  The rebuild took a long time.  But sage -br ended up not running properly:\n\n```\nAttributeError                            Traceback (most recent call last)\n\n/home/john/sage-current/local/lib/python2.6/site-packages/IPython/ipmaker.pyc in force_import(modname)\n     64         reload(sys.modules[modname])\n     65     else:\n---> 66         __import__(modname)\n     67 \n     68 \n\n/home/john/sage-4.3.4.alpha0/local/bin/ipy_profile_sage.py in <module>()\n      5     preparser(True)\n      6 \n----> 7     import sage.all_cmdline\n      8     sage.all_cmdline._init_cmdline(globals())\n      9 \n\n/home/john/sage-current/local/lib/python2.6/site-packages/sage/all_cmdline.py in <module>()\n     12 try:\n     13 \n---> 14     from sage.all import *\n     15     from sage.calculus.predefined import x\n     16     preparser(on=True)\n\n/home/john/sage-current/local/lib/python2.6/site-packages/sage/all.py in <module>()\n     70 get_sigs()\n     71 \n---> 72 from sage.rings.all      import *\n     73 from sage.matrix.all     import *\n     74 \n\n/home/john/sage-current/local/lib/python2.6/site-packages/sage/rings/all.py in <module>()\n     88 \n     89 # Algebraic numbers\n\n---> 90 from qqbar import (AlgebraicRealField, is_AlgebraicRealField, AA,\n     91                    AlgebraicReal, is_AlgebraicReal,\n     92                    AlgebraicField, is_AlgebraicField, QQbar,\n\n/home/john/sage-current/local/lib/python2.6/site-packages/sage/rings/qqbar.py in <module>()\n   1410 \n   1411 # Cache some commonly-used polynomial rings\n\n-> 1412 QQx = QQ['x']\n   1413 QQx_x = QQx.gen()\n   1414 QQy = QQ['y']\n\n/home/john/sage-current/local/lib/python2.6/site-packages/sage/rings/ring.so in sage.rings.ring.Ring.__getitem__ (sage/rings/ring.c:2551)()\n\n/home/john/sage-current/local/lib/python2.6/site-packages/sage/rings/polynomial/polynomial_ring_constructor.pyc in PolynomialRing(base_ring, arg1, arg2, sparse, order, names, name, implementation)\n    341                 raise TypeError, \"if second arguments is a string with no commas, then there must be no other non-optional arguments\"\n    342             name = arg1\n--> 343             R = _single_variate(base_ring, name, sparse, implementation)\n    344         else:\n    345             # 2-4. PolynomialRing(base_ring, names, order='degrevlex'):\n\n\n/home/john/sage-current/local/lib/python2.6/site-packages/sage/rings/polynomial/polynomial_ring_constructor.pyc in _single_variate(base_ring, name, sparse, implementation)\n    421 \n    422         elif base_ring.is_field(proof = False):\n--> 423             R = m.PolynomialRing_field(base_ring, name, sparse, implementation=implementation)\n    424 \n    425         elif base_ring.is_integral_domain(proof = False):\n\n/home/john/sage-current/local/lib/python2.6/site-packages/sage/rings/polynomial/polynomial_ring.pyc in __init__(self, base_ring, name, sparse, element_class, implementation)\n   1194         if implementation is None: implementation=\"NTL\"\n   1195         if implementation == \"NTL\" and \\\n-> 1196                 sage.rings.finite_field.is_FiniteField(base_ring):\n   1197             p=base_ring.characteristic()\n   1198             from sage.libs.ntl.ntl_ZZ_pEContext import ntl_ZZ_pEContext\n\nAttributeError: 'module' object has no attribute 'finite_field'\nError importing ipy_profile_sage - perhaps you should run %upgrade?\nWARNING: Loading of ipy_profile_sage failed.\n```",
    "created_at": "2010-03-06T22:05:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8218#issuecomment-63725",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:15" align="right">comment:15</div>

OK, I did that (except with the bundle trac_8218_move_433.bundle),  applying it all to 4.3.4.alpha0.  The merge is ok (one piece of fuzz).  The rebuild took a long time.  But sage -br ended up not running properly:

```
AttributeError                            Traceback (most recent call last)

/home/john/sage-current/local/lib/python2.6/site-packages/IPython/ipmaker.pyc in force_import(modname)
     64         reload(sys.modules[modname])
     65     else:
---> 66         __import__(modname)
     67 
     68 

/home/john/sage-4.3.4.alpha0/local/bin/ipy_profile_sage.py in <module>()
      5     preparser(True)
      6 
----> 7     import sage.all_cmdline
      8     sage.all_cmdline._init_cmdline(globals())
      9 

/home/john/sage-current/local/lib/python2.6/site-packages/sage/all_cmdline.py in <module>()
     12 try:
     13 
---> 14     from sage.all import *
     15     from sage.calculus.predefined import x
     16     preparser(on=True)

/home/john/sage-current/local/lib/python2.6/site-packages/sage/all.py in <module>()
     70 get_sigs()
     71 
---> 72 from sage.rings.all      import *
     73 from sage.matrix.all     import *
     74 

/home/john/sage-current/local/lib/python2.6/site-packages/sage/rings/all.py in <module>()
     88 
     89 # Algebraic numbers

---> 90 from qqbar import (AlgebraicRealField, is_AlgebraicRealField, AA,
     91                    AlgebraicReal, is_AlgebraicReal,
     92                    AlgebraicField, is_AlgebraicField, QQbar,

/home/john/sage-current/local/lib/python2.6/site-packages/sage/rings/qqbar.py in <module>()
   1410 
   1411 # Cache some commonly-used polynomial rings

-> 1412 QQx = QQ['x']
   1413 QQx_x = QQx.gen()
   1414 QQy = QQ['y']

/home/john/sage-current/local/lib/python2.6/site-packages/sage/rings/ring.so in sage.rings.ring.Ring.__getitem__ (sage/rings/ring.c:2551)()

/home/john/sage-current/local/lib/python2.6/site-packages/sage/rings/polynomial/polynomial_ring_constructor.pyc in PolynomialRing(base_ring, arg1, arg2, sparse, order, names, name, implementation)
    341                 raise TypeError, "if second arguments is a string with no commas, then there must be no other non-optional arguments"
    342             name = arg1
--> 343             R = _single_variate(base_ring, name, sparse, implementation)
    344         else:
    345             # 2-4. PolynomialRing(base_ring, names, order='degrevlex'):


/home/john/sage-current/local/lib/python2.6/site-packages/sage/rings/polynomial/polynomial_ring_constructor.pyc in _single_variate(base_ring, name, sparse, implementation)
    421 
    422         elif base_ring.is_field(proof = False):
--> 423             R = m.PolynomialRing_field(base_ring, name, sparse, implementation=implementation)
    424 
    425         elif base_ring.is_integral_domain(proof = False):

/home/john/sage-current/local/lib/python2.6/site-packages/sage/rings/polynomial/polynomial_ring.pyc in __init__(self, base_ring, name, sparse, element_class, implementation)
   1194         if implementation is None: implementation="NTL"
   1195         if implementation == "NTL" and \
-> 1196                 sage.rings.finite_field.is_FiniteField(base_ring):
   1197             p=base_ring.characteristic()
   1198             from sage.libs.ntl.ntl_ZZ_pEContext import ntl_ZZ_pEContext

AttributeError: 'module' object has no attribute 'finite_field'
Error importing ipy_profile_sage - perhaps you should run %upgrade?
WARNING: Loading of ipy_profile_sage failed.
```



---

archive/issue_events_102409.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2010-03-06T22:05:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8218#event-102409"
}
```



---

archive/issue_events_102410.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2010-03-06T22:05:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8218#event-102410"
}
```



---

archive/issue_comments_063726.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nIt looks like some additional patches got applied after what I based mine on...  Sorry about that.  I'll update the patch and post a new one soon.\n\nThis does illustrate why I'd like to get this reviewed.  :-)",
    "created_at": "2010-03-07T05:17:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8218#issuecomment-63726",
    "user": "https://github.com/roed314"
}
```

<div id="comment:16" align="right">comment:16</div>

It looks like some additional patches got applied after what I based mine on...  Sorry about that.  I'll update the patch and post a new one soon.

This does illustrate why I'd like to get this reviewed.  :-)



---

archive/issue_comments_063727.json:
```json
{
    "body": "Attachment: **[trac_8218_fixes_433.patch.gz](https://github.com/sagemath/sage/files/ticket8218/trac_8218_fixes_433.patch.gz)**\n\nRebased against 4.3.3: should be applied after the bundle.",
    "created_at": "2010-03-12T01:00:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8218#issuecomment-63727",
    "user": "https://github.com/roed314"
}
```

Attachment: **[trac_8218_fixes_433.patch.gz](https://github.com/sagemath/sage/files/ticket8218/trac_8218_fixes_433.patch.gz)**

Rebased against 4.3.3: should be applied after the bundle.



---

archive/issue_events_102411.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2010-03-12T01:03:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8218#event-102411"
}
```



---

archive/issue_events_102412.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2010-03-12T01:03:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8218#event-102412"
}
```



---

archive/issue_comments_063728.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nYou may need to clear out old files in the $SAGE_ROOT/devel/sage-8218/build directory.",
    "created_at": "2010-03-12T01:03:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8218#issuecomment-63728",
    "user": "https://github.com/roed314"
}
```

<div id="comment:17" align="right">comment:17</div>

You may need to clear out old files in the $SAGE_ROOT/devel/sage-8218/build directory.



---

archive/issue_comments_063729.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nSorry about this.  I made a new clone of 4.3.4.alpha1 and followed the instructions to the letter, but the final qpush gave this:\n\n```\napplying trac_8218_fixes_433.patch\npatching file sage/crypto/util.py\nHunk #1 FAILED at 31\n1 out of 1 hunks FAILED -- saving rejects to file sage/crypto/util.py.rej\npatching file sage/homology/chain_complex.py\nHunk #1 succeeded at 382 with fuzz 1 (offset 3 lines).\npatch failed, unable to continue (try -v)\npatch failed, rejects left in working dir\nerrors during apply, please fix and refresh trac_8218_fixes_433.patch\n```\n\nIt might be better if someone who had any idea what they were doing took over this review -- I am clearly not competent!  For a start, if I depart in the slightest way from the list of commands then it does not work at all, but I don't understand why.\n\nMeanwhile I'll keep this clone in case sending any of the files will help (but despite the message here, there is nothing left in the \"working directory\").",
    "created_at": "2010-03-13T14:54:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8218#issuecomment-63729",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:18" align="right">comment:18</div>

Sorry about this.  I made a new clone of 4.3.4.alpha1 and followed the instructions to the letter, but the final qpush gave this:

```
applying trac_8218_fixes_433.patch
patching file sage/crypto/util.py
Hunk #1 FAILED at 31
1 out of 1 hunks FAILED -- saving rejects to file sage/crypto/util.py.rej
patching file sage/homology/chain_complex.py
Hunk #1 succeeded at 382 with fuzz 1 (offset 3 lines).
patch failed, unable to continue (try -v)
patch failed, rejects left in working dir
errors during apply, please fix and refresh trac_8218_fixes_433.patch
```

It might be better if someone who had any idea what they were doing took over this review -- I am clearly not competent!  For a start, if I depart in the slightest way from the list of commands then it does not work at all, but I don't understand why.

Meanwhile I'll keep this clone in case sending any of the files will help (but despite the message here, there is nothing left in the "working directory").



---

archive/issue_comments_063730.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nI managed to successfully build this under 4.3.4.alpha1. I had the same failure at the final qpush as John above, but I found the .rej file and merged it by hand. Build was fine, but time-consuming (why doesn't sage -b know about parallel processing?). I got just two doctest failures, one in /sage/crypto/public_key/blum_goldwasser.py and one in doc/en/reference/coercion.rst; both were trivial to fix. \n\nI will upload a new patch replacing trac_8218_fixes_433.patch, which fixes the merge fuzz problems and corrects the two doctests.",
    "created_at": "2010-03-16T12:39:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8218#issuecomment-63730",
    "user": "https://github.com/loefflerd"
}
```

<div id="comment:19" align="right">comment:19</div>

I managed to successfully build this under 4.3.4.alpha1. I had the same failure at the final qpush as John above, but I found the .rej file and merged it by hand. Build was fine, but time-consuming (why doesn't sage -b know about parallel processing?). I got just two doctest failures, one in /sage/crypto/public_key/blum_goldwasser.py and one in doc/en/reference/coercion.rst; both were trivial to fix. 

I will upload a new patch replacing trac_8218_fixes_433.patch, which fixes the merge fuzz problems and corrects the two doctests.



---

archive/issue_events_102413.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2010-03-16T12:39:18Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "subject": "https://github.com/loefflerd",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8218#event-102413"
}
```



---

archive/issue_comments_063731.json:
```json
{
    "body": "Attachment: **[trac_8218_fixes_434alpha1.patch.gz](https://github.com/sagemath/sage/files/ticket8218/trac_8218_fixes_434alpha1.patch.gz)**\n\napply after bundle (instead of trac_8218_fixes_433.patch)",
    "created_at": "2010-03-16T12:40:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8218#issuecomment-63731",
    "user": "https://github.com/loefflerd"
}
```

Attachment: **[trac_8218_fixes_434alpha1.patch.gz](https://github.com/sagemath/sage/files/ticket8218/trac_8218_fixes_434alpha1.patch.gz)**

apply after bundle (instead of trac_8218_fixes_433.patch)



---

archive/issue_comments_063732.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nAs for drkirkby's comment above: naturally it doesn't have a chance of building on 4.3.0.1 on T2. (I checked, just to make sure). I don't think it's reasonable to expect new patches to apply identically on two increasingly different forks of the Sage code base. (Isn't this what Mercurial's branching and merging tools are supposed to be for?)",
    "created_at": "2010-03-16T13:45:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8218#issuecomment-63732",
    "user": "https://github.com/loefflerd"
}
```

<div id="comment:20" align="right">comment:20</div>

As for drkirkby's comment above: naturally it doesn't have a chance of building on 4.3.0.1 on T2. (I checked, just to make sure). I don't think it's reasonable to expect new patches to apply identically on two increasingly different forks of the Sage code base. (Isn't this what Mercurial's branching and merging tools are supposed to be for?)



---

archive/issue_events_102414.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2010-03-16T13:45:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8218#event-102414"
}
```



---

archive/issue_events_102415.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2010-03-16T13:45:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8218#event-102415"
}
```



---

archive/issue_comments_063733.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@loefflerd](#comment:20):\n> As for drkirkby's comment above: naturally it doesn't have a chance of building on 4.3.0.1 on T2. (I checked, just to make sure). I don't think it's reasonable to expect new patches to apply identically on two increasingly different forks of the Sage code base. (Isn't this what Mercurial's branching and merging tools are supposed to be for?)\n\nThere are not two different forks of the code base.  There are no Mercurial branches. \n\nBe aware, given 4.3.4.alpha1 builds on Solaris, and passes all the doc tests, so I suspect if this breaks the build it will not be merged. \n\nDave",
    "created_at": "2010-03-16T15:58:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8218#issuecomment-63733",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@loefflerd](#comment:20):
> As for drkirkby's comment above: naturally it doesn't have a chance of building on 4.3.0.1 on T2. (I checked, just to make sure). I don't think it's reasonable to expect new patches to apply identically on two increasingly different forks of the Sage code base. (Isn't this what Mercurial's branching and merging tools are supposed to be for?)

There are not two different forks of the code base.  There are no Mercurial branches. 

Be aware, given 4.3.4.alpha1 builds on Solaris, and passes all the doc tests, so I suspect if this breaks the build it will not be merged. 

Dave



---

archive/issue_comments_063734.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nReplying to [@sagetrac-drkirkby](#comment:21):\n> There are not two different forks of the code base.  There are no Mercurial branches. \n> \n> Be aware, given 4.3.4.alpha1 builds on Solaris, and passes all the doc tests, so I suspect if this breaks the build it will not be merged. \n\nAh! That's a totally different story then. Somehow I had got the incorrect impression that 4.3.0.1 was the latest Solaris version. I will run some tests on T2 and see what happens. Perhaps I had better do the same for the other tickets I have reviewed lately. My apologies!\n\nDavid",
    "created_at": "2010-03-16T16:46:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8218#issuecomment-63734",
    "user": "https://github.com/loefflerd"
}
```

<div id="comment:22" align="right">comment:22</div>

Replying to [@sagetrac-drkirkby](#comment:21):
> There are not two different forks of the code base.  There are no Mercurial branches. 
> 
> Be aware, given 4.3.4.alpha1 builds on Solaris, and passes all the doc tests, so I suspect if this breaks the build it will not be merged. 

Ah! That's a totally different story then. Somehow I had got the incorrect impression that 4.3.0.1 was the latest Solaris version. I will run some tests on T2 and see what happens. Perhaps I had better do the same for the other tickets I have reviewed lately. My apologies!

David



---

archive/issue_events_102416.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2010-03-16T16:46:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8218#event-102416"
}
```



---

archive/issue_events_102417.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2010-03-16T16:46:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8218#event-102417"
}
```



---

archive/issue_events_102418.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2010-03-16T16:54:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8218#event-102418"
}
```



---

archive/issue_events_102419.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2010-03-16T16:54:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8218#event-102419"
}
```



---

archive/issue_comments_063735.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nAargh! 19 hours later, my copy of 4.3.4.alpha1 I was building on T2 for testing is still only half-compiled, and in the meantime 4.3.4.rc0 has come out which is going to break this again!",
    "created_at": "2010-03-17T11:56:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8218#issuecomment-63735",
    "user": "https://github.com/loefflerd"
}
```

<div id="comment:24" align="right">comment:24</div>

Aargh! 19 hours later, my copy of 4.3.4.alpha1 I was building on T2 for testing is still only half-compiled, and in the meantime 4.3.4.rc0 has come out which is going to break this again!



---

archive/issue_comments_063736.json:
```json
{
    "body": "Attachment: **[trac_8218_doc.patch.gz](https://github.com/sagemath/sage/files/ticket8218/trac_8218_doc.patch.gz)**\n\napply after bundle + trac_8218_fixes_434alpha1.patch",
    "created_at": "2010-03-18T15:34:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8218#issuecomment-63736",
    "user": "https://github.com/loefflerd"
}
```

Attachment: **[trac_8218_doc.patch.gz](https://github.com/sagemath/sage/files/ticket8218/trac_8218_doc.patch.gz)**

apply after bundle + trac_8218_fixes_434alpha1.patch



---

archive/issue_comments_063737.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nHere's a sneaky thing which I only discovered by accident: the reference manual index still points to the removed files in sage/rings that have been moved to sage/rings/finite_rings. This doesn't show up as an error if you install the bundle + patch and then build docs, because the old files are still floating around in the build directory.\n\nI'm putting this back to \"needs_review\"; once I can get a fully working Sage running on T2 I will test it on that and put it back to \"positive review\" if it passes.",
    "created_at": "2010-03-18T15:37:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8218#issuecomment-63737",
    "user": "https://github.com/loefflerd"
}
```

<div id="comment:25" align="right">comment:25</div>

Here's a sneaky thing which I only discovered by accident: the reference manual index still points to the removed files in sage/rings that have been moved to sage/rings/finite_rings. This doesn't show up as an error if you install the bundle + patch and then build docs, because the old files are still floating around in the build directory.

I'm putting this back to "needs_review"; once I can get a fully working Sage running on T2 I will test it on that and put it back to "positive review" if it passes.



---

archive/issue_events_102420.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2010-03-18T15:37:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8218#event-102420"
}
```



---

archive/issue_events_102421.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2010-03-18T15:37:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8218#event-102421"
}
```



---

archive/issue_events_102422.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2010-03-21T14:20:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8218#event-102422"
}
```



---

archive/issue_events_102423.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2010-03-21T14:20:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8218#event-102423"
}
```



---

archive/issue_comments_063738.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nAll seems to be well.",
    "created_at": "2010-03-21T14:20:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8218#issuecomment-63738",
    "user": "https://github.com/loefflerd"
}
```

<div id="comment:26" align="right">comment:26</div>

All seems to be well.



---

archive/issue_comments_063739.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@loefflerd](#comment:26):\n> All seems to be well.\n\nDavid,\n\nCan you list here exactly what needs to be applied (and how)?  I want to start looking at the derivative patches for finite fields, so I have to get a clone with this one installed first -- and as you can see from earlier comments, I have not had much success so far.",
    "created_at": "2010-04-03T14:00:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8218#issuecomment-63739",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@loefflerd](#comment:26):
> All seems to be well.

David,

Can you list here exactly what needs to be applied (and how)?  I want to start looking at the derivative patches for finite fields, so I have to get a clone with this one installed first -- and as you can see from earlier comments, I have not had much success so far.



---

archive/issue_comments_063740.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nHi John,\n\nFirst apply the bundle trac_8218_move_433.bundle, using the commands:\n\n```\nhg unbundle https://github.com/sagemath/sage/files/ticket8218/trac_8218_move_433.bundle.gz\nhg merge\nhg ci -m \"merged finite field bundle\"\n```\nThen use queues in the normal way to import the patches `trac_8218_fixes_434alpha1.patch` and `trac_8218_doc.patch` (in that order). This does work on 4.3.5, I just checked.\n\nBut the ball is in David Roe's court as far as the finite field patches are concerned. The sequence is #8218 --> #8332 -> #7880 -> #7883 -> #8333 -> #8334 -> #8335. So far\n\n- #8218 has a positive review\n- #7880 has a positive review\n- #7883 has been looked at by both me and Rob Bradshaw and we both agree that it needs more work.\n\nFurther downstream, #8333 builds independently of #7883, but many things in #8333 are horribly broken unless you also apply #8334, which does *not* build independently of #7883.\n\nDavid",
    "created_at": "2010-04-04T09:32:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8218#issuecomment-63740",
    "user": "https://github.com/loefflerd"
}
```

<div id="comment:28" align="right">comment:28</div>

Hi John,

First apply the bundle trac_8218_move_433.bundle, using the commands:

```
hg unbundle https://github.com/sagemath/sage/files/ticket8218/trac_8218_move_433.bundle.gz
hg merge
hg ci -m "merged finite field bundle"
```
Then use queues in the normal way to import the patches `trac_8218_fixes_434alpha1.patch` and `trac_8218_doc.patch` (in that order). This does work on 4.3.5, I just checked.

But the ball is in David Roe's court as far as the finite field patches are concerned. The sequence is #8218 --> #8332 -> #7880 -> #7883 -> #8333 -> #8334 -> #8335. So far

- #8218 has a positive review
- #7880 has a positive review
- #7883 has been looked at by both me and Rob Bradshaw and we both agree that it needs more work.

Further downstream, #8333 builds independently of #7883, but many things in #8333 are horribly broken unless you also apply #8334, which does *not* build independently of #7883.

David



---

archive/issue_comments_063741.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nReplying to [@loefflerd](#comment:28):\n> Hi John,\n> \n\n...\n> \n> David\n> \n\nThanks!  I saw that some of the later patches had had positive reviews too, so maybe it's a bit late for me to join in.  But I thought that for a complicated interrelated set of patches like this, which non-trivial mathematical content, it would be good to have a small set of people looking at it rather than individuals.",
    "created_at": "2010-04-04T09:43:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8218#issuecomment-63741",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:29" align="right">comment:29</div>

Replying to [@loefflerd](#comment:28):
> Hi John,
> 

...
> 
> David
> 

Thanks!  I saw that some of the later patches had had positive reviews too, so maybe it's a bit late for me to join in.  But I thought that for a complicated interrelated set of patches like this, which non-trivial mathematical content, it would be good to have a small set of people looking at it rather than individuals.



---

archive/issue_comments_063742.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nI built this fine (following David L's instructions above).  Rebuilding the docs produced this:\n\n```\n/home/john/sage-current/devel/sage/doc/en/reference/sage/rings/finite_field.rst:: WARNING: document isn't included in any toctree\n/home/john/sage-current/devel/sage/doc/en/reference/sage/rings/finite_field_element.rst:: WARNING: document isn't included in any toctree\n/home/john/sage-current/devel/sage/doc/en/reference/sage/rings/integer_mod.rst:: WARNING: document isn't included in any toctree\n/home/john/sage-current/devel/sage/doc/en/reference/sage/rings/integer_mod_ring.rst:: WARNING: document isn't included in any toctree\n```\nIs this fixed later in the series?  If not, it should be fixed here.  So I am putting this back to \"needs work\".",
    "created_at": "2010-04-04T11:12:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8218#issuecomment-63742",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:30" align="right">comment:30</div>

I built this fine (following David L's instructions above).  Rebuilding the docs produced this:

```
/home/john/sage-current/devel/sage/doc/en/reference/sage/rings/finite_field.rst:: WARNING: document isn't included in any toctree
/home/john/sage-current/devel/sage/doc/en/reference/sage/rings/finite_field_element.rst:: WARNING: document isn't included in any toctree
/home/john/sage-current/devel/sage/doc/en/reference/sage/rings/integer_mod.rst:: WARNING: document isn't included in any toctree
/home/john/sage-current/devel/sage/doc/en/reference/sage/rings/integer_mod_ring.rst:: WARNING: document isn't included in any toctree
```
Is this fixed later in the series?  If not, it should be fixed here.  So I am putting this back to "needs work".



---

archive/issue_events_102424.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2010-04-04T11:12:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8218#event-102424"
}
```



---

archive/issue_events_102425.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2010-04-04T11:12:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8218#event-102425"
}
```



---

archive/issue_comments_063743.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nI had this too. I don't think it's a problem with the patch, it is because our documentation build system doesn't do the right thing when source files are removed and produces spurious warnings.",
    "created_at": "2010-04-04T12:28:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8218#issuecomment-63743",
    "user": "https://github.com/loefflerd"
}
```

<div id="comment:31" align="right">comment:31</div>

I had this too. I don't think it's a problem with the patch, it is because our documentation build system doesn't do the right thing when source files are removed and produces spurious warnings.



---

archive/issue_events_102426.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2010-04-04T12:28:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8218#event-102426"
}
```



---

archive/issue_events_102427.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2010-04-04T12:28:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8218#event-102427"
}
```



---

archive/issue_events_102428.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2010-04-04T12:28:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8218#event-102428"
}
```



---

archive/issue_events_102429.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2010-04-04T12:28:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8218#event-102429"
}
```



---

archive/issue_events_102430.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2010-04-15T05:18:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8218#event-102430"
}
```



---

archive/issue_events_102431.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2010-04-15T05:18:00Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8218#event-102431"
}
```



---

archive/issue_comments_063744.json:
```json
{
    "body": "Reviewer: **David Loeffler**",
    "created_at": "2010-04-15T05:18:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8218#issuecomment-63744",
    "user": "https://github.com/jhpalmieri"
}
```

Reviewer: **David Loeffler**



---

archive/issue_comments_063745.json:
```json
{
    "body": "Merged: **sage-4.4.alpha0**",
    "created_at": "2010-04-15T05:18:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8218#issuecomment-63745",
    "user": "https://github.com/jhpalmieri"
}
```

Merged: **sage-4.4.alpha0**



---

archive/issue_comments_063746.json:
```json
{
    "body": "Changed author from **roed** to **David Roe**",
    "created_at": "2010-04-15T05:18:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8218#issuecomment-63746",
    "user": "https://github.com/jhpalmieri"
}
```

Changed author from **roed** to **David Roe**



---

archive/issue_comments_063747.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nMerged in 4.4.alpha0:\n\n- trac_8218_move_433.bundle\n- trac_8218_fixes_434alpha1.patch\n- trac_8218_doc.patch",
    "created_at": "2010-04-15T05:18:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8218#issuecomment-63747",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:33" align="right">comment:33</div>

Merged in 4.4.alpha0:

- trac_8218_move_433.bundle
- trac_8218_fixes_434alpha1.patch
- trac_8218_doc.patch
