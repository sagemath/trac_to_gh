# Issue 8567: Change iconv so it builds on Cygwin and Solaris only

archive/issues_008567.json:
```json
{
    "assignees": [
        "https://github.com/sagetrac-drkirkby"
    ],
    "body": "<div id=\"comment:0\"></div>\n\nSince iconv was added to Sage (#8432) as a standard package (needed due to Karl-Dieter Crisman updating R in #6532 whilst overlooking the warning message from the configure script and without testing on Solaris), there have been some problems on Fedora and OpenSuse which look to be related to problems building gd when there are two copies of iconv to be found on the system. Since there is an option to gd's configure script specify the location of the iconv that seemed the most logical option. However, that did not work, so changing iconv to only build on Cygwin and Solaris seemed the most logical. \n\nDave \n\nCC:  @kcrisman\n\nComponent: **build**\n\nAuthor: **David Kirkby**\n\nReviewer: **Jaap Spies, Florent Hivert**\n\nMerged: **sage-4.3.5**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/8567_\n\n",
    "closed_at": "2010-03-29T22:08:20Z",
    "created_at": "2010-03-20T14:21:49Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20build",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.3.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Change iconv so it builds on Cygwin and Solaris only",
    "type": "issue",
    "updated_at": "2019-05-13T15:12:27Z",
    "url": "https://github.com/sagemath/sage/issues/8567",
    "user": "https://github.com/sagetrac-drkirkby"
}
```
<div id="comment:0"></div>

Since iconv was added to Sage (#8432) as a standard package (needed due to Karl-Dieter Crisman updating R in #6532 whilst overlooking the warning message from the configure script and without testing on Solaris), there have been some problems on Fedora and OpenSuse which look to be related to problems building gd when there are two copies of iconv to be found on the system. Since there is an option to gd's configure script specify the location of the iconv that seemed the most logical option. However, that did not work, so changing iconv to only build on Cygwin and Solaris seemed the most logical. 

Dave 

CC:  @kcrisman

Component: **build**

Author: **David Kirkby**

Reviewer: **Jaap Spies, Florent Hivert**

Merged: **sage-4.3.5**

_Issue created by migration from https://trac.sagemath.org/ticket/8567_





---

archive/issue_events_106833.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2010-03-20T14:21:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "milestone_number": null,
    "milestone_title": "sage-4.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8567#event-106833"
}
```



---

archive/issue_events_106834.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2010-03-20T14:21:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build",
    "label_color": "0000b0",
    "label_name": "c: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8567#event-106834"
}
```



---

archive/issue_events_106835.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2010-03-20T14:21:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8567#event-106835"
}
```



---

archive/issue_events_106836.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2010-03-20T14:21:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8567#event-106836"
}
```



---

archive/issue_events_106837.json:
```json
{
    "actor": "https://github.com/sagetrac-GeorgSWeber",
    "created_at": "2010-03-20T14:21:49Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "subject": "https://github.com/sagetrac-drkirkby",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8567#event-106837"
}
```



---

archive/issue_comments_068490.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\n--with-libiconv-prefix=SAGE_LOCAL\n\ndoes not work for me on Fedora 12 64 bit.\n\n\n```\nIt was created by GD configure 2.0.35, which was\ngenerated by GNU Autoconf 2.61.  Invocation command line was\n\n  $ ./configure --prefix=/home/jaap/downloads/sage-4.3.4.rc0/local --without-jpeg --with-libiconv-prefix=/home/jaap/downloads/sage-4.3.4.rc0/local --without-x --with-zlib=/home/jaap/downloads/sage-4.3.4.rc0/local --with-freetype=/home/jaap/downloads/sage-4.3.4.rc0/local --without-xpm\n\n```\n\n```\ngcc -fPIC -g -I/home/jaap/downloads/sage-4.3.4.rc0/local/include -I/home/jaap/downloads/sage-4.3.4.rc0/local/include/freetype2/ -Wl,--rpath -Wl,/home/jaap/downloads/sage-4.3.4.rc0/local/lib -o .libs/annotate annotate.o  -L/home/jaap/downloads/sage-4.3.4.rc0/local/lib ./.libs/libgd.so -lfontconfig /home/jaap/downloads/sage-4.3.4.rc0/local/lib/libfreetype.so /home/jaap/downloads/sage-4.3.4.rc0/local/lib/libpng12.so -lz -lm -Wl,--rpath -Wl,/home/jaap/downloads/sage-4.3.4.rc0/local/lib\n./.libs/libgd.so: undefined reference to `libiconv'\n./.libs/libgd.so: undefined reference to `libiconv_close'\n./.libs/libgd.so: undefined reference to `libiconv_open'\ncollect2: ld returned 1 exit status\n\n```\n\n\nJaap",
    "created_at": "2010-03-20T16:29:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8567#issuecomment-68490",
    "user": "https://github.com/jaapspies"
}
```

<div id="comment:1" align="right">comment:1</div>

--with-libiconv-prefix=SAGE_LOCAL

does not work for me on Fedora 12 64 bit.


```
It was created by GD configure 2.0.35, which was
generated by GNU Autoconf 2.61.  Invocation command line was

  $ ./configure --prefix=/home/jaap/downloads/sage-4.3.4.rc0/local --without-jpeg --with-libiconv-prefix=/home/jaap/downloads/sage-4.3.4.rc0/local --without-x --with-zlib=/home/jaap/downloads/sage-4.3.4.rc0/local --with-freetype=/home/jaap/downloads/sage-4.3.4.rc0/local --without-xpm

```

```
gcc -fPIC -g -I/home/jaap/downloads/sage-4.3.4.rc0/local/include -I/home/jaap/downloads/sage-4.3.4.rc0/local/include/freetype2/ -Wl,--rpath -Wl,/home/jaap/downloads/sage-4.3.4.rc0/local/lib -o .libs/annotate annotate.o  -L/home/jaap/downloads/sage-4.3.4.rc0/local/lib ./.libs/libgd.so -lfontconfig /home/jaap/downloads/sage-4.3.4.rc0/local/lib/libfreetype.so /home/jaap/downloads/sage-4.3.4.rc0/local/lib/libpng12.so -lz -lm -Wl,--rpath -Wl,/home/jaap/downloads/sage-4.3.4.rc0/local/lib
./.libs/libgd.so: undefined reference to `libiconv'
./.libs/libgd.so: undefined reference to `libiconv_close'
./.libs/libgd.so: undefined reference to `libiconv_open'
collect2: ld returned 1 exit status

```


Jaap



---

archive/issue_comments_068491.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nmoving /usr/bin/iconv and /usr/include/iconv.h out of the way made it possible to build\ngd\n\nSo nothing wrong with the libiconv in SAGE_LOCAL\n\nJaap",
    "created_at": "2010-03-20T16:41:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8567#issuecomment-68491",
    "user": "https://github.com/jaapspies"
}
```

<div id="comment:2" align="right">comment:2</div>

moving /usr/bin/iconv and /usr/include/iconv.h out of the way made it possible to build
gd

So nothing wrong with the libiconv in SAGE_LOCAL

Jaap



---

archive/issue_comments_068492.json:
```json
{
    "body": "Replying to [@sagetrac-drkirkby](https://github.com/sagemath/sage/issues/8567#comment:0):\n> Since iconv was added to Sage (#8432) as a standard package (needing due to someone updating R without checking it fully), there have been some problems on Fedora and OpenSuse which look to be related to problems building gd when there are two copies of iconv to be found on the system. \n\nFirst of all I have the same problem on Gentoo. Ther is also a report of someone having the same problem on Mandriva.\n\nI manage to get it work by the following workaround:\nI replaced\n\n```\n$MAKE\n``` \nby\n\n```\nLIBICONV=\"$SAGE_LOCAL\"/lib/libiconv.so $MAKE\n```\nin spkg-install. I've no idea how robust this workaround is. I posted a spkg with the fix.\n\nFlorent",
    "created_at": "2010-03-20T17:12:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8567#issuecomment-68492",
    "user": "https://github.com/hivert"
}
```

Replying to [@sagetrac-drkirkby](https://github.com/sagemath/sage/issues/8567#comment:0):
> Since iconv was added to Sage (#8432) as a standard package (needing due to someone updating R without checking it fully), there have been some problems on Fedora and OpenSuse which look to be related to problems building gd when there are two copies of iconv to be found on the system. 

First of all I have the same problem on Gentoo. Ther is also a report of someone having the same problem on Mandriva.

I manage to get it work by the following workaround:
I replaced

```
$MAKE
``` 
by

```
LIBICONV="$SAGE_LOCAL"/lib/libiconv.so $MAKE
```
in spkg-install. I've no idea how robust this workaround is. I posted a spkg with the fix.

Florent



---

archive/issue_comments_068493.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nBy the way, in spkg-install, I think it should say \"--with-x=no\" rather than \"--without-x\", and the same for jpeg and xpm.",
    "created_at": "2010-03-20T17:13:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8567#issuecomment-68493",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:4" align="right">comment:4</div>

By the way, in spkg-install, I think it should say "--with-x=no" rather than "--without-x", and the same for jpeg and xpm.



---

archive/issue_comments_068494.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nReplying to [@hivert](#comment%3A3):\n> First of all I have the same problem on Gentoo. Ther is also a report of someone having the same problem on Mandriva.\n> \n> I manage to get it work by the following workaround:\n> I replaced\n> \n> ```\n> $MAKE\n> ``` \n> by\n> \n> ```\n> LIBICONV=\"$SAGE_LOCAL\"/lib/libiconv.so $MAKE\n> ```\n> in spkg-install. I've no idea how robust this workaround is. I posted a spkg with the fix.\n\nSorry ! This spkg is completely broken... I'm trying to put a working one.\n\nFlorent",
    "created_at": "2010-03-20T17:34:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8567#issuecomment-68494",
    "user": "https://github.com/hivert"
}
```

<div id="comment:5" align="right">comment:5</div>

Replying to [@hivert](#comment%3A3):
> First of all I have the same problem on Gentoo. Ther is also a report of someone having the same problem on Mandriva.
> 
> I manage to get it work by the following workaround:
> I replaced
> 
> ```
> $MAKE
> ``` 
> by
> 
> ```
> LIBICONV="$SAGE_LOCAL"/lib/libiconv.so $MAKE
> ```
> in spkg-install. I've no idea how robust this workaround is. I posted a spkg with the fix.

Sorry ! This spkg is completely broken... I'm trying to put a working one.

Florent



---

archive/issue_comments_068495.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nDon't put an spkg as attachment! Please give a link to the spkg.\n\nJaap",
    "created_at": "2010-03-20T17:38:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8567#issuecomment-68495",
    "user": "https://github.com/jaapspies"
}
```

<div id="comment:6" align="right">comment:6</div>

Don't put an spkg as attachment! Please give a link to the spkg.

Jaap



---

archive/issue_comments_068496.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@jaapspies](#comment%3A6):\n> Don't put an spkg as attachment! Please give a link to the spkg.\n> \n> Jaap\n\nOops sorry ! My workaround does work actually. I find out that python distutils have the same problems much later...",
    "created_at": "2010-03-20T18:15:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8567#issuecomment-68496",
    "user": "https://github.com/hivert"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@jaapspies](#comment%3A6):
> Don't put an spkg as attachment! Please give a link to the spkg.
> 
> Jaap

Oops sorry ! My workaround does work actually. I find out that python distutils have the same problems much later...



---

archive/issue_comments_068497.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nThis doesn't help on these systems (output from uname -a):\n\n```\nLinux eno 2.6.31.12-174.2.22.fc12.x86_64 #1 SMP Fri Feb 19 18:55:03 UTC 2010 x86_64 x86_64 x86_64 GNU/Linux\nLinux lena 2.6.31.12-174.2.19.fc12.x86_64 #1 SMP Thu Feb 11 07:07:16 UTC 2010 x86_64 x86_64 x86_64 GNU/Linux\n```\nI also don't know why it's about 50% bigger than the previous spkg.",
    "created_at": "2010-03-20T18:22:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8567#issuecomment-68497",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:8" align="right">comment:8</div>

This doesn't help on these systems (output from uname -a):

```
Linux eno 2.6.31.12-174.2.22.fc12.x86_64 #1 SMP Fri Feb 19 18:55:03 UTC 2010 x86_64 x86_64 x86_64 GNU/Linux
Linux lena 2.6.31.12-174.2.19.fc12.x86_64 #1 SMP Thu Feb 11 07:07:16 UTC 2010 x86_64 x86_64 x86_64 GNU/Linux
```
I also don't know why it's about 50% bigger than the previous spkg.



---

archive/issue_comments_068498.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nIn Fedora 12 x86_64 the installation of libiconv is not complete:\n\n\n```\n[root@vrede jaap]# find /usr/bin -name \"*iconv*\"\n/usr/bin/iconv.bak\n/usr/bin/piconv\n[root@vrede jaap]# find /usr/include -name \"*iconv*\"\n/usr/include/evolution-data-server-2.28/camel/camel-iconv.h\n/usr/include/evolution-data-server-2.28/libedataserver/e-iconv.h\n/usr/include/Qt3Support/q3iconview.h\n/usr/include/c++/4.4.3/gnu/gcj/convert/Output_iconv.h\n/usr/include/c++/4.4.3/gnu/gcj/convert/Input_iconv.h\n/usr/include/gtk-2.0/gtk/gtkiconview.h\n/usr/include/Qt/q3iconview.h\n/usr/include/xulrunner-sdk-1.9.1/system_wrappers_js/iconv.h\n/usr/include/xulrunner-sdk-1.9.1/system_wrappers/iconv.h\n/usr/include/iconv.h.bak\n[root@vrede jaap]# find /usr/lib -name \"*iconv*\"\n/usr/lib/ruby/1.8/xsd/iconvcharset.rb\n[root@vrede jaap]# \n\n```\n\nJaap",
    "created_at": "2010-03-20T19:46:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8567#issuecomment-68498",
    "user": "https://github.com/jaapspies"
}
```

<div id="comment:9" align="right">comment:9</div>

In Fedora 12 x86_64 the installation of libiconv is not complete:


```
[root@vrede jaap]# find /usr/bin -name "*iconv*"
/usr/bin/iconv.bak
/usr/bin/piconv
[root@vrede jaap]# find /usr/include -name "*iconv*"
/usr/include/evolution-data-server-2.28/camel/camel-iconv.h
/usr/include/evolution-data-server-2.28/libedataserver/e-iconv.h
/usr/include/Qt3Support/q3iconview.h
/usr/include/c++/4.4.3/gnu/gcj/convert/Output_iconv.h
/usr/include/c++/4.4.3/gnu/gcj/convert/Input_iconv.h
/usr/include/gtk-2.0/gtk/gtkiconview.h
/usr/include/Qt/q3iconview.h
/usr/include/xulrunner-sdk-1.9.1/system_wrappers_js/iconv.h
/usr/include/xulrunner-sdk-1.9.1/system_wrappers/iconv.h
/usr/include/iconv.h.bak
[root@vrede jaap]# find /usr/lib -name "*iconv*"
/usr/lib/ruby/1.8/xsd/iconvcharset.rb
[root@vrede jaap]# 

```

Jaap



---

archive/issue_comments_068499.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nI maybe manage to have something working by a hack. Could someone try the following spkg:\nhttp://sage.math.washington.edu/home/hivert/spkg/gd-2.0.35.p4.spkg",
    "created_at": "2010-03-20T23:00:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8567#issuecomment-68499",
    "user": "https://github.com/hivert"
}
```

<div id="comment:10" align="right">comment:10</div>

I maybe manage to have something working by a hack. Could someone try the following spkg:
http://sage.math.washington.edu/home/hivert/spkg/gd-2.0.35.p4.spkg



---

archive/issue_comments_068500.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nThat appears to work on the two systems I mentioned before.  I'll know for sure when a full Sage build is completed...",
    "created_at": "2010-03-20T23:14:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8567#issuecomment-68500",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:11" align="right">comment:11</div>

That appears to work on the two systems I mentioned before.  I'll know for sure when a full Sage build is completed...



---

archive/issue_comments_068501.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@hivert](#comment%3A3):\n> Replying to [@sagetrac-drkirkby](https://github.com/sagemath/sage/issues/8567#comment:0):\n> > Since iconv was added to Sage (#8432) as a standard package (needing due to someone updating R without checking it fully), there have been some problems on Fedora and OpenSuse which look to be related to problems building gd when there are two copies of iconv to be found on the system. \n> \n> \n> First of all I have the same problem on Gentoo. Ther is also a report of someone having the same problem on Mandriva.\n> \n> I manage to get it work by the following workaround:\n> I replaced\n> \n> ```\n> $MAKE\n> ``` \n> by\n> \n> ```\n> LIBICONV=\"$SAGE_LOCAL\"/lib/libiconv.so $MAKE\n> ```\n> in spkg-install. I've no idea how robust this workaround is. I posted a spkg with the fix.\n> \n> Florent\n\nI've got no idea if setting LIBICOV shoudl be set, but if it is, the way to do it should be:\n\n```\nLIBICONV=\"$SAGE_LOCAL/lib/libiconv.so\"\n```\n\nand not\n\n```\nLIBICONV=\"$SAGE_LOCAL\"/lib/libiconv.so\n```\n\nDave",
    "created_at": "2010-03-20T23:29:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8567#issuecomment-68501",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@hivert](#comment%3A3):
> Replying to [@sagetrac-drkirkby](https://github.com/sagemath/sage/issues/8567#comment:0):
> > Since iconv was added to Sage (#8432) as a standard package (needing due to someone updating R without checking it fully), there have been some problems on Fedora and OpenSuse which look to be related to problems building gd when there are two copies of iconv to be found on the system. 
> 
> 
> First of all I have the same problem on Gentoo. Ther is also a report of someone having the same problem on Mandriva.
> 
> I manage to get it work by the following workaround:
> I replaced
> 
> ```
> $MAKE
> ``` 
> by
> 
> ```
> LIBICONV="$SAGE_LOCAL"/lib/libiconv.so $MAKE
> ```
> in spkg-install. I've no idea how robust this workaround is. I posted a spkg with the fix.
> 
> Florent

I've got no idea if setting LIBICOV shoudl be set, but if it is, the way to do it should be:

```
LIBICONV="$SAGE_LOCAL/lib/libiconv.so"
```

and not

```
LIBICONV="$SAGE_LOCAL"/lib/libiconv.so
```

Dave



---

archive/issue_comments_068502.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@jaapspies](#comment%3A1):\n>   --with-libiconv-prefix=SAGE_LOCAL\n> \n> does not work for me on Fedora 12 64 bit.\n\n> Jaap\n> \n\nJaap, \n\nis that a typo in the trac ticket, or was it in the package? There should be a $ sign in front if SAGE_LOCAL.",
    "created_at": "2010-03-20T23:31:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8567#issuecomment-68502",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@jaapspies](#comment%3A1):
>   --with-libiconv-prefix=SAGE_LOCAL
> 
> does not work for me on Fedora 12 64 bit.

> Jaap
> 

Jaap, 

is that a typo in the trac ticket, or was it in the package? There should be a $ sign in front if SAGE_LOCAL.



---

archive/issue_comments_068503.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nIf this gets too much of a mess, we could consider creating a ticket to get the R package reverted to the older version. I've cc'ed Karl-Dieter Crisman who updated R, whilst ignoring the warning from the configure script and not testing on Solaris. \n\nHopefully iconv can be sorted out, but if it can't be done properly, then reverting the R version is always an option, then iconv will not be needed. We could change iconv's spkg-install to simply exit with an exit code of 0. That would make it relatively easy to do, whilst leaving iconv in Sage to allow it to be sorted out properly prior to updating R. \n\nDave",
    "created_at": "2010-03-21T00:13:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8567#issuecomment-68503",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<div id="comment:14" align="right">comment:14</div>

If this gets too much of a mess, we could consider creating a ticket to get the R package reverted to the older version. I've cc'ed Karl-Dieter Crisman who updated R, whilst ignoring the warning from the configure script and not testing on Solaris. 

Hopefully iconv can be sorted out, but if it can't be done properly, then reverting the R version is always an option, then iconv will not be needed. We could change iconv's spkg-install to simply exit with an exit code of 0. That would make it relatively easy to do, whilst leaving iconv in Sage to allow it to be sorted out properly prior to updating R. 

Dave



---

archive/issue_comments_068504.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n-Since iconv was added to Sage (#8432) as a standard package (needing due to someone updating R without checking it fully), there have been some problems on Fedora and OpenSuse which look to be related to problems building gd when there are two copies of iconv to be found on the system. Since there is an option to specify the location of the iconv package in gd's configure script, this is probably worth doing, though it needs checking carefully. \n+Since iconv was added to Sage (#8432) as a standard package (needed due to Karl-Dieter Crisman updating R in #6532 whilst overlooking the warning message from the configure script and without testing on Solaris), there have been some problems on Fedora and OpenSuse which look to be related to problems building gd when there are two copies of iconv to be found on the system. Since there is an option to specify the location of the iconv package in gd's configure script, this is probably worth doing, though it needs checking carefully. \n \n Dave \n``````\n",
    "created_at": "2010-03-21T00:13:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8567#issuecomment-68504",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
-Since iconv was added to Sage (#8432) as a standard package (needing due to someone updating R without checking it fully), there have been some problems on Fedora and OpenSuse which look to be related to problems building gd when there are two copies of iconv to be found on the system. Since there is an option to specify the location of the iconv package in gd's configure script, this is probably worth doing, though it needs checking carefully. 
+Since iconv was added to Sage (#8432) as a standard package (needed due to Karl-Dieter Crisman updating R in #6532 whilst overlooking the warning message from the configure script and without testing on Solaris), there have been some problems on Fedora and OpenSuse which look to be related to problems building gd when there are two copies of iconv to be found on the system. Since there is an option to specify the location of the iconv package in gd's configure script, this is probably worth doing, though it needs checking carefully. 
 
 Dave 
``````




---

archive/issue_events_106838.json:
```json
{
    "actor": "https://github.com/sagetrac-GeorgSWeber",
    "created_at": "2010-03-21T00:13:42Z",
    "event": "unassigned",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "subject": "https://github.com/sagetrac-drkirkby",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8567#event-106838"
}
```



---

archive/issue_events_106839.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2010-03-21T00:13:42Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "subject": "https://github.com/sagetrac-drkirkby",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8567#event-106839"
}
```



---

archive/issue_comments_068505.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nFor me, the Sage build completed, but the documentation won't build because Sage doesn't start successfully:\n\n```\nTraceback (most recent call last):\n  File \"/home/palmieri/lena/sage-4.3.4.alpha1/local/bin/sphinx-build\", line 6, in <module>\n    import sage.all\n  File \"/home/palmieri/lena/sage-4.3.4.alpha1/local/lib/python2.6/site-packages/sage/all.py\", line 73, in <module>\n    from sage.matrix.all     import *\n  File \"/home/palmieri/lena/sage-4.3.4.alpha1/local/lib/python2.6/site-packages/sage/matrix/all.py\", line 1, in <module>\n    from matrix_space import MatrixSpace, is_MatrixSpace\n  File \"/home/palmieri/lena/sage-4.3.4.alpha1/local/lib/python2.6/site-packages/sage/matrix/matrix_space.py\", line 40, in <module>\n    import matrix_mod2_dense\nImportError: /home/palmieri/lena/sage-4.3.4.alpha1/local/lib/libgd.so.2: undefined symbol: libiconv\n```\nRunning\n\n```\nexport LIBICONV=\"$SAGE_LOCAL/lib/libiconv.so\"\n```\nright before running Sage doesn't help.",
    "created_at": "2010-03-21T01:12:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8567#issuecomment-68505",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:15" align="right">comment:15</div>

For me, the Sage build completed, but the documentation won't build because Sage doesn't start successfully:

```
Traceback (most recent call last):
  File "/home/palmieri/lena/sage-4.3.4.alpha1/local/bin/sphinx-build", line 6, in <module>
    import sage.all
  File "/home/palmieri/lena/sage-4.3.4.alpha1/local/lib/python2.6/site-packages/sage/all.py", line 73, in <module>
    from sage.matrix.all     import *
  File "/home/palmieri/lena/sage-4.3.4.alpha1/local/lib/python2.6/site-packages/sage/matrix/all.py", line 1, in <module>
    from matrix_space import MatrixSpace, is_MatrixSpace
  File "/home/palmieri/lena/sage-4.3.4.alpha1/local/lib/python2.6/site-packages/sage/matrix/matrix_space.py", line 40, in <module>
    import matrix_mod2_dense
ImportError: /home/palmieri/lena/sage-4.3.4.alpha1/local/lib/libgd.so.2: undefined symbol: libiconv
```
Running

```
export LIBICONV="$SAGE_LOCAL/lib/libiconv.so"
```
right before running Sage doesn't help.



---

archive/issue_comments_068506.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@jaapspies](#comment%3A2):\n> moving /usr/bin/iconv and /usr/include/iconv.h out of the way made it possible to build\n> gd\n> \n> So nothing wrong with the libiconv in SAGE_LOCAL\n> \n> Jaap\n> \n\nI had a discussion with a libtool developer about a similar issue once before. He said it is wrong to have two copies of a library, so the problem may be more fundamental. However, it is strange gd ignores the option to look for iconv in $SAGE_LOCAL. \n\nOne disadvantage of reverting R and not installing iconv is that iconv is needed to build gd on Cygwin, and there is effort into porting Sage to Cygwin. \n\nWe could consider only installing iconv on Solaris and Cygwin, though I'm tempted to suggest reverting R and getting the problem solved properly at a later date, rather than a hack now. \n\nDave",
    "created_at": "2010-03-21T02:05:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8567#issuecomment-68506",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@jaapspies](#comment%3A2):
> moving /usr/bin/iconv and /usr/include/iconv.h out of the way made it possible to build
> gd
> 
> So nothing wrong with the libiconv in SAGE_LOCAL
> 
> Jaap
> 

I had a discussion with a libtool developer about a similar issue once before. He said it is wrong to have two copies of a library, so the problem may be more fundamental. However, it is strange gd ignores the option to look for iconv in $SAGE_LOCAL. 

One disadvantage of reverting R and not installing iconv is that iconv is needed to build gd on Cygwin, and there is effort into porting Sage to Cygwin. 

We could consider only installing iconv on Solaris and Cygwin, though I'm tempted to suggest reverting R and getting the problem solved properly at a later date, rather than a hack now. 

Dave



---

archive/issue_comments_068507.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@jhpalmieri](#comment%3A15):\n> For me, the Sage build completed, but the documentation won't build because Sage doesn't start successfully:\n\nI got the same behavior on openSuSE 11.1 and Gentoo 1.12.9 both x86_64. The build appears to be complete but sage itself is broken.\n\nI don't know what to do and I've no more time to investigate. My vote is to revert R, remove gd and make as soon as possible a fix release until this is sorted out. We can't seriously make a release which is broken on half the distro.",
    "created_at": "2010-03-21T09:39:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8567#issuecomment-68507",
    "user": "https://github.com/hivert"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@jhpalmieri](#comment%3A15):
> For me, the Sage build completed, but the documentation won't build because Sage doesn't start successfully:

I got the same behavior on openSuSE 11.1 and Gentoo 1.12.9 both x86_64. The build appears to be complete but sage itself is broken.

I don't know what to do and I've no more time to investigate. My vote is to revert R, remove gd and make as soon as possible a fix release until this is sorted out. We can't seriously make a release which is broken on half the distro.



---

archive/issue_comments_068508.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nReplying to [@sagetrac-drkirkby](#comment%3A16):\n\n> I had a discussion with a libtool developer about a similar issue once before. He said it is wrong to have two copies of a library, so the problem may be more fundamental. However, it is strange gd ignores the option to look for iconv in $SAGE_LOCAL. \n> \n\nI'm not so sure anymore I didn't make another typo in spkg-install.\n\nI'll try again.\n\nJaap",
    "created_at": "2010-03-21T10:41:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8567#issuecomment-68508",
    "user": "https://github.com/jaapspies"
}
```

<div id="comment:18" align="right">comment:18</div>

Replying to [@sagetrac-drkirkby](#comment%3A16):

> I had a discussion with a libtool developer about a similar issue once before. He said it is wrong to have two copies of a library, so the problem may be more fundamental. However, it is strange gd ignores the option to look for iconv in $SAGE_LOCAL. 
> 

I'm not so sure anymore I didn't make another typo in spkg-install.

I'll try again.

Jaap



---

archive/issue_comments_068509.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nAnother way to solve the fallout from updating R, will probably be to add\n\n```\nif [ \"x$UNAME\" != xSunOS ] && [ \"x$UNAME\" != xCYGWIN ] then ; \n  exit 0\nfi\n```\n\nto the top of the *iconv* spkg-install file. That's probably the simplest hack. This is untested and I don't have time to do this until around 2100 GMT today, so if someone beats me to it, go ahead and try it. **Make sure it is tested on both Solaris and Linux. It should build iconv on Solaris, but not on Linux**\n\nDave",
    "created_at": "2010-03-21T12:26:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8567#issuecomment-68509",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<div id="comment:19" align="right">comment:19</div>

Another way to solve the fallout from updating R, will probably be to add

```
if [ "x$UNAME" != xSunOS ] && [ "x$UNAME" != xCYGWIN ] then ; 
  exit 0
fi
```

to the top of the *iconv* spkg-install file. That's probably the simplest hack. This is untested and I don't have time to do this until around 2100 GMT today, so if someone beats me to it, go ahead and try it. **Make sure it is tested on both Solaris and Linux. It should build iconv on Solaris, but not on Linux**

Dave



---

archive/issue_comments_068510.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nAbout iconv(): according to the man pages the function is part of glibc\n\n```\nVERSIONS\n       This function is available in glibc since version 2.1.\n\nCONFORMING TO\n       POSIX.1-2001.\n\nSEE ALSO\n       iconv_close(3), iconv_open(3)\n\n\n```\n\nSo for most systems there is no need to have a local libiconv!\nLet's say only Solaris and Cygwin.\n\nJaap",
    "created_at": "2010-03-21T12:31:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8567#issuecomment-68510",
    "user": "https://github.com/jaapspies"
}
```

<div id="comment:20" align="right">comment:20</div>

About iconv(): according to the man pages the function is part of glibc

```
VERSIONS
       This function is available in glibc since version 2.1.

CONFORMING TO
       POSIX.1-2001.

SEE ALSO
       iconv_close(3), iconv_open(3)


```

So for most systems there is no need to have a local libiconv!
Let's say only Solaris and Cygwin.

Jaap



---

archive/issue_comments_068511.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@sagetrac-drkirkby](#comment%3A19):\n> Another way to solve the fallout from updating R, will probably be to add\n> \n> ```\n> if [ \"x$UNAME\" != xSunOS ] && [ \"x$UNAME\" != xCYGWIN ] then ; \n>   exit 0\n> fi\n> ```\n> \n\nThis probably will cause trouble on Open Solaris.\n\nJaap",
    "created_at": "2010-03-21T12:46:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8567#issuecomment-68511",
    "user": "https://github.com/jaapspies"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@sagetrac-drkirkby](#comment%3A19):
> Another way to solve the fallout from updating R, will probably be to add
> 
> ```
> if [ "x$UNAME" != xSunOS ] && [ "x$UNAME" != xCYGWIN ] then ; 
>   exit 0
> fi
> ```
> 

This probably will cause trouble on Open Solaris.

Jaap



---

archive/issue_comments_068512.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nReplying to [@sagetrac-drkirkby](#comment%3A19):\n> Another way to solve the fallout from updating R, will probably be to add\n> \n> ```\n> if [ \"x$UNAME\" != xSunOS ] && [ \"x$UNAME\" != xCYGWIN ] then ; \n>   exit 0\n> fi\n> ```\n> \n> to the top of the *iconv* spkg-install file. That's probably the simplest hack. This is untested and I don't have time to do this until around 2100 GMT today, so if someone beats me to it, go ahead and try it. **Make sure it is tested on both Solaris and Linux. It should build iconv on Solaris, but not on Linux**\n> \n> Dave \n\nYes, I definitely prefer this way, too. The OpenSolaris topic may be solved later (what does $UNAME give there as output?), and it might be nice to remove any leftovers in \"$SAGE_ROOT/bin/\" from earlier (especially v3.4.3) Sage installs. Which might be tricky in a \"Sage upgrade\" use case. But never mind, the road to go is clear now!\n\nCheers,\nGeorg",
    "created_at": "2010-03-21T13:03:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8567#issuecomment-68512",
    "user": "https://github.com/sagetrac-GeorgSWeber"
}
```

<div id="comment:22" align="right">comment:22</div>

Replying to [@sagetrac-drkirkby](#comment%3A19):
> Another way to solve the fallout from updating R, will probably be to add
> 
> ```
> if [ "x$UNAME" != xSunOS ] && [ "x$UNAME" != xCYGWIN ] then ; 
>   exit 0
> fi
> ```
> 
> to the top of the *iconv* spkg-install file. That's probably the simplest hack. This is untested and I don't have time to do this until around 2100 GMT today, so if someone beats me to it, go ahead and try it. **Make sure it is tested on both Solaris and Linux. It should build iconv on Solaris, but not on Linux**
> 
> Dave 

Yes, I definitely prefer this way, too. The OpenSolaris topic may be solved later (what does $UNAME give there as output?), and it might be nice to remove any leftovers in "$SAGE_ROOT/bin/" from earlier (especially v3.4.3) Sage installs. Which might be tricky in a "Sage upgrade" use case. But never mind, the road to go is clear now!

Cheers,
Georg



---

archive/issue_comments_068513.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nReplying to [@sagetrac-GeorgSWeber](#comment%3A22):\n> Replying to [@sagetrac-drkirkby](#comment%3A19):\n> > Another way to solve the fallout from updating R, will probably be to add\n> > \n> > ```\n> > if [ \"x$UNAME\" != xSunOS ] && [ \"x$UNAME\" != xCYGWIN ] then ; \n> >   exit 0\n> > fi\n> > ```\n> > \n\n> \n> Yes, I definitely prefer this way, too. The OpenSolaris topic may be solved later (what does $UNAME give there as output?)\n\nSunOS\n\nRemoving local/bin/iconv, local/lib/libiconv.* and local/include/iconv.h made the\ngd spkg work on Fedora 12.\n\nJaap",
    "created_at": "2010-03-21T13:16:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8567#issuecomment-68513",
    "user": "https://github.com/jaapspies"
}
```

<div id="comment:23" align="right">comment:23</div>

Replying to [@sagetrac-GeorgSWeber](#comment%3A22):
> Replying to [@sagetrac-drkirkby](#comment%3A19):
> > Another way to solve the fallout from updating R, will probably be to add
> > 
> > ```
> > if [ "x$UNAME" != xSunOS ] && [ "x$UNAME" != xCYGWIN ] then ; 
> >   exit 0
> > fi
> > ```
> > 

> 
> Yes, I definitely prefer this way, too. The OpenSolaris topic may be solved later (what does $UNAME give there as output?)

SunOS

Removing local/bin/iconv, local/lib/libiconv.* and local/include/iconv.h made the
gd spkg work on Fedora 12.

Jaap



---

archive/issue_comments_068514.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nJaap, \n\nI don't have time to test it now (really am tied up), but if you can test on OpenSolaris, then make a decision whether iconv needs installing or not. \n\n```\ndrkirkby@kestrel:~$ uname -r\n5.10\n```\n\non Solaris 10, and \n\n```\ndrkirkby@hawk:~$ uname -r\n5.11\n```\n\non OpenSolaris (aka Solaris 11). So just put an additional clause if needed. \n\nThe -r option to uname is POSIX, so we can rely on that. Don't use 'uname -p' since\n\n* The i386 processor is used on Solaris 10 too. \n* -p is not a POSIX option to uname, so can cause hassles on other systems. \n\nAlso worth checking, in preference to this are whether the version of 'gd' in Sage is old and furthermore the 'gd' developers have fixed the bug that prevents '--with-libiconv-prefix' working properly. If so, consider updating gd. \n\nHad R been properly tested, none of this would have been necessary. \n\nWhen I wrote the iconv package, it clears out debris, like libraries and binaries, so there should be no need to do that again - just make sure the cleaning up is done before exiting. \n\nSince Jaap and I are looking to port Sage to OpenSolaris, we are not keen to introduce more problems for the future. Let's sort it out now. \n\nDave",
    "created_at": "2010-03-21T14:18:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8567#issuecomment-68514",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<div id="comment:24" align="right">comment:24</div>

Jaap, 

I don't have time to test it now (really am tied up), but if you can test on OpenSolaris, then make a decision whether iconv needs installing or not. 

```
drkirkby@kestrel:~$ uname -r
5.10
```

on Solaris 10, and 

```
drkirkby@hawk:~$ uname -r
5.11
```

on OpenSolaris (aka Solaris 11). So just put an additional clause if needed. 

The -r option to uname is POSIX, so we can rely on that. Don't use 'uname -p' since

* The i386 processor is used on Solaris 10 too. 
* -p is not a POSIX option to uname, so can cause hassles on other systems. 

Also worth checking, in preference to this are whether the version of 'gd' in Sage is old and furthermore the 'gd' developers have fixed the bug that prevents '--with-libiconv-prefix' working properly. If so, consider updating gd. 

Had R been properly tested, none of this would have been necessary. 

When I wrote the iconv package, it clears out debris, like libraries and binaries, so there should be no need to do that again - just make sure the cleaning up is done before exiting. 

Since Jaap and I are looking to port Sage to OpenSolaris, we are not keen to introduce more problems for the future. Let's sort it out now. 

Dave



---

archive/issue_comments_068515.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@sagetrac-drkirkby](#comment%3A24):\n> Jaap, \n> \n> I don't have time to test it now (really am tied up), but if you can test on OpenSolaris, then make a decision whether iconv needs installing or not. \n> \n\nOpensolaris has it's own iconv included in glibc.\n\n\n> on OpenSolaris (aka Solaris 11). So just put an additional clause if needed. \n> \n\nYes we should put an extra test in\n\n> The -r option to uname is POSIX, so we can rely on that. Don't use 'uname -p' since\n> \n\nOk.\n\n> * The i386 processor is used on Solaris 10 too. \n> * -p is not a POSIX option to uname, so can cause hassles on other systems. \n> \n> Also worth checking, in preference to this are whether the version of 'gd' in Sage is old and furthermore the 'gd' developers have fixed the bug that prevents '--with-libiconv-prefix' working properly. If so, consider updating gd. \n> \n\nLet's go for the proposed option and leave alone the gd package for the moment.\n\n> Had R been properly tested, none of this would have been necessary. \n> \n\nYou are repeating your self :-)!\n\nMy proposal is you update the iconv spkg and I and evt. others review it.\n\nI think we can wait some more hours.\n\nJaap",
    "created_at": "2010-03-21T18:06:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8567#issuecomment-68515",
    "user": "https://github.com/jaapspies"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@sagetrac-drkirkby](#comment%3A24):
> Jaap, 
> 
> I don't have time to test it now (really am tied up), but if you can test on OpenSolaris, then make a decision whether iconv needs installing or not. 
> 

Opensolaris has it's own iconv included in glibc.


> on OpenSolaris (aka Solaris 11). So just put an additional clause if needed. 
> 

Yes we should put an extra test in

> The -r option to uname is POSIX, so we can rely on that. Don't use 'uname -p' since
> 

Ok.

> * The i386 processor is used on Solaris 10 too. 
> * -p is not a POSIX option to uname, so can cause hassles on other systems. 
> 
> Also worth checking, in preference to this are whether the version of 'gd' in Sage is old and furthermore the 'gd' developers have fixed the bug that prevents '--with-libiconv-prefix' working properly. If so, consider updating gd. 
> 

Let's go for the proposed option and leave alone the gd package for the moment.

> Had R been properly tested, none of this would have been necessary. 
> 

You are repeating your self :-)!

My proposal is you update the iconv spkg and I and evt. others review it.

I think we can wait some more hours.

Jaap



---

archive/issue_comments_068516.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nReplying to [@sagetrac-drkirkby](#comment%3A19):\n> Another way to solve the fallout from updating R, will probably be to add\n> \n\n```\nif [ \"x$UNAME\" != xSunOS ] && [ \"x$UNAME\" != xCYGWIN ] then ; \n  exit 0\nfi\n```\n> \n> to the top of the *iconv* spkg-install file. \n\nInformally (that is, I threw together a quick spkg), this works on at least one of the linux boxes I had troubles with before, and it also works on sage.math.  I haven't tested it on Solaris, and I probably won't have time to; I don't have access to a Windows/Cygwin machine.  I would suggest that the spkg-install file actually say \n\n```\nif [ \"x$UNAME\" != xSunOS ] && [ \"x$UNAME\" != xCYGWIN ] ; then\n  echo \"Not installing iconv -- on systems other than Solaris and Cygwin, use the system's iconv\"\n  exit 0\nfi\n```\nOr something like that -- I'm not sure exactly what the message should say.",
    "created_at": "2010-03-21T18:26:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8567#issuecomment-68516",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:26" align="right">comment:26</div>

Replying to [@sagetrac-drkirkby](#comment%3A19):
> Another way to solve the fallout from updating R, will probably be to add
> 

```
if [ "x$UNAME" != xSunOS ] && [ "x$UNAME" != xCYGWIN ] then ; 
  exit 0
fi
```
> 
> to the top of the *iconv* spkg-install file. 

Informally (that is, I threw together a quick spkg), this works on at least one of the linux boxes I had troubles with before, and it also works on sage.math.  I haven't tested it on Solaris, and I probably won't have time to; I don't have access to a Windows/Cygwin machine.  I would suggest that the spkg-install file actually say 

```
if [ "x$UNAME" != xSunOS ] && [ "x$UNAME" != xCYGWIN ] ; then
  echo "Not installing iconv -- on systems other than Solaris and Cygwin, use the system's iconv"
  exit 0
fi
```
Or something like that -- I'm not sure exactly what the message should say.



---

archive/issue_comments_068517.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@jhpalmieri](#comment%3A26):\n> Replying to [@sagetrac-drkirkby](#comment%3A19):\n> > Another way to solve the fallout from updating R, will probably be to add\n> > \n\n```\nif [ \"x$UNAME\" != xSunOS ] && [ \"x$UNAME\" != xCYGWIN ] then ; \n  exit 0\nfi\n```\nThe \";\" should be before \"then\"..\n.\n\n```\nif [ \"x$UNAME\" != xSunOS ] && [ \"x$UNAME\" != xCYGWIN ] ; then\n  echo \"Not installing iconv -- on systems other than Solaris and Cygwin, use the system's iconv\"\n  exit 0\nfi\n```\n> Or something like that -- I'm not sure exactly what the message should say.\n\nI'm trying this on gentoo and it seems to work... I'm waiting for the build to finish.\n\nFlorent",
    "created_at": "2010-03-21T18:56:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8567#issuecomment-68517",
    "user": "https://github.com/hivert"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@jhpalmieri](#comment%3A26):
> Replying to [@sagetrac-drkirkby](#comment%3A19):
> > Another way to solve the fallout from updating R, will probably be to add
> > 

```
if [ "x$UNAME" != xSunOS ] && [ "x$UNAME" != xCYGWIN ] then ; 
  exit 0
fi
```
The ";" should be before "then"..
.

```
if [ "x$UNAME" != xSunOS ] && [ "x$UNAME" != xCYGWIN ] ; then
  echo "Not installing iconv -- on systems other than Solaris and Cygwin, use the system's iconv"
  exit 0
fi
```
> Or something like that -- I'm not sure exactly what the message should say.

I'm trying this on gentoo and it seems to work... I'm waiting for the build to finish.

Florent



---

archive/issue_comments_068518.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n-Since iconv was added to Sage (#8432) as a standard package (needed due to Karl-Dieter Crisman updating R in #6532 whilst overlooking the warning message from the configure script and without testing on Solaris), there have been some problems on Fedora and OpenSuse which look to be related to problems building gd when there are two copies of iconv to be found on the system. Since there is an option to specify the location of the iconv package in gd's configure script, this is probably worth doing, though it needs checking carefully. \n+Since iconv was added to Sage (#8432) as a standard package (needed due to Karl-Dieter Crisman updating R in #6532 whilst overlooking the warning message from the configure script and without testing on Solaris), there have been some problems on Fedora and OpenSuse which look to be related to problems building gd when there are two copies of iconv to be found on the system. Since there is an option to gd's configure script specify the location of the iconv that seemed the most logical option. However, that did not work, so changing iconv to only build on Cygwin and Solaris seemed the most logical. \n \n Dave \n``````\n",
    "created_at": "2010-03-21T19:07:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8567#issuecomment-68518",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
-Since iconv was added to Sage (#8432) as a standard package (needed due to Karl-Dieter Crisman updating R in #6532 whilst overlooking the warning message from the configure script and without testing on Solaris), there have been some problems on Fedora and OpenSuse which look to be related to problems building gd when there are two copies of iconv to be found on the system. Since there is an option to specify the location of the iconv package in gd's configure script, this is probably worth doing, though it needs checking carefully. 
+Since iconv was added to Sage (#8432) as a standard package (needed due to Karl-Dieter Crisman updating R in #6532 whilst overlooking the warning message from the configure script and without testing on Solaris), there have been some problems on Fedora and OpenSuse which look to be related to problems building gd when there are two copies of iconv to be found on the system. Since there is an option to gd's configure script specify the location of the iconv that seemed the most logical option. However, that did not work, so changing iconv to only build on Cygwin and Solaris seemed the most logical. 
 
 Dave 
``````




---

archive/issue_comments_068519.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nI've change the title and description and are in the process of creating a package for others to review.",
    "created_at": "2010-03-21T19:07:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8567#issuecomment-68519",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<div id="comment:28" align="right">comment:28</div>

I've change the title and description and are in the process of creating a package for others to review.



---

archive/issue_events_106840.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2010-03-21T19:07:21Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "title_is": "Change iconv so it builds on Cygwin and Solaris only",
    "title_was": "Specify the location of iconv for 'gd'",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8567#event-106840"
}
```



---

archive/issue_comments_068520.json:
```json
{
    "body": "Author: **David Kirkby**",
    "created_at": "2010-03-21T19:07:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8567#issuecomment-68520",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

Author: **David Kirkby**



---

archive/issue_comments_068521.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nI've stuck a package here: \n\nhttp://sage.math.washington.edu/home/kirkby/iconv/iconv-1.13.1.p0.spkg",
    "created_at": "2010-03-21T19:38:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8567#issuecomment-68521",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<div id="comment:29" align="right">comment:29</div>

I've stuck a package here: 

http://sage.math.washington.edu/home/kirkby/iconv/iconv-1.13.1.p0.spkg



---

archive/issue_comments_068522.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nReplying to [@sagetrac-drkirkby](#comment%3A29):\n> I've stuck a package here: \n> \n> http://sage.math.washington.edu/home/kirkby/iconv/iconv-1.13.1.p0.spkg\n> \n\nI'll try it asap.\n\nJaap",
    "created_at": "2010-03-21T19:41:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8567#issuecomment-68522",
    "user": "https://github.com/jaapspies"
}
```

<div id="comment:30" align="right">comment:30</div>

Replying to [@sagetrac-drkirkby](#comment%3A29):
> I've stuck a package here: 
> 
> http://sage.math.washington.edu/home/kirkby/iconv/iconv-1.13.1.p0.spkg
> 

I'll try it asap.

Jaap



---

archive/issue_comments_068523.json:
```json
{
    "body": "Mercurial patch to ensure iconv builds on Solaris and Cygwin only",
    "created_at": "2010-03-21T19:44:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8567#issuecomment-68523",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

Mercurial patch to ensure iconv builds on Solaris and Cygwin only



---

archive/issue_events_106841.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2010-03-21T19:47:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8567#event-106841"
}
```



---

archive/issue_comments_068524.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nAttachment: **[iconv.patch.gz](https://github.com/sagemath/sage/files/ticket8567/iconv.patch.gz)**\n\nI've not tested this extensively, but it builds on Solaris and hopefully does not on Linux. I don't have time to do much testing, so others can. \n\nI don't have a Cygwin system set up.",
    "created_at": "2010-03-21T19:47:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8567#issuecomment-68524",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<div id="comment:31" align="right">comment:31</div>

Attachment: **[iconv.patch.gz](https://github.com/sagemath/sage/files/ticket8567/iconv.patch.gz)**

I've not tested this extensively, but it builds on Solaris and hopefully does not on Linux. I don't have time to do much testing, so others can. 

I don't have a Cygwin system set up.



---

archive/issue_comments_068525.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\n************\nRemoving old iconv files if they exist\niconv will not be installed, as it is only installed on\nSolaris and Cygwin - see:\nhttps://github.com/sagemath/sage/issues/8567\n\nreal\t0m0.078\n\n```\ngcc version 4.4.3 20100127 (Red Hat 4.4.3-4) (GCC) \n****************************************s\nuser\t0m0.008s\nsys\t0m0.015s\nSuccessfully installed iconv-1.13.1.p0\n\n```\n\n\n```\necho \"Removing old iconv files if they exist\"\n# If iconv is updated, please double-check these are still necessary\n# and that there are no extra files added.\n\nrm -f $SAGE_LOCAL/bin/iconv  $SAGE_LOCAL/lib/charset.alias\nrm -f $SAGE_LOCAL/lib/*libiconv*  $SAGE_LOCAL/lib/libcharset*\nrm -f $SAGE_LOCAL/include/iconv.h  $SAGE_LOCAL/include/libcharset.h\nrm -f $SAGE_LOCAL/include/localcharset.h\nrm -rf  $SAGE_LOCAL/share/doc/libiconv\nrm -f $SAGE_LOCAL/share/man/man1/iconv* $SAGE_LOCAL/share/man/man3/iconv*\n\n\n```\n\nThis looks ok for me on Fedora (Linux in general?)\n\nThe Opensolaris issue is not resolved, but I think this deserves a positive review.\n\nJaap",
    "created_at": "2010-03-21T19:57:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8567#issuecomment-68525",
    "user": "https://github.com/jaapspies"
}
```

<div id="comment:32" align="right">comment:32</div>

************
Removing old iconv files if they exist
iconv will not be installed, as it is only installed on
Solaris and Cygwin - see:
https://github.com/sagemath/sage/issues/8567

real	0m0.078

```
gcc version 4.4.3 20100127 (Red Hat 4.4.3-4) (GCC) 
****************************************s
user	0m0.008s
sys	0m0.015s
Successfully installed iconv-1.13.1.p0

```


```
echo "Removing old iconv files if they exist"
# If iconv is updated, please double-check these are still necessary
# and that there are no extra files added.

rm -f $SAGE_LOCAL/bin/iconv  $SAGE_LOCAL/lib/charset.alias
rm -f $SAGE_LOCAL/lib/*libiconv*  $SAGE_LOCAL/lib/libcharset*
rm -f $SAGE_LOCAL/include/iconv.h  $SAGE_LOCAL/include/libcharset.h
rm -f $SAGE_LOCAL/include/localcharset.h
rm -rf  $SAGE_LOCAL/share/doc/libiconv
rm -f $SAGE_LOCAL/share/man/man1/iconv* $SAGE_LOCAL/share/man/man3/iconv*


```

This looks ok for me on Fedora (Linux in general?)

The Opensolaris issue is not resolved, but I think this deserves a positive review.

Jaap



---

archive/issue_comments_068526.json:
```json
{
    "body": "Reviewer: **Jaap Spies**",
    "created_at": "2010-03-21T19:58:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8567#issuecomment-68526",
    "user": "https://github.com/jaapspies"
}
```

Reviewer: **Jaap Spies**



---

archive/issue_comments_068527.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nWith the spkg here, from a fresh Sage source:\n- iconv build is successfully skipped,\n- gd is successfully build\non openSuSE 11.1 and Gentoo 1.12.9. I'm waiting the whole build to finish, but it should be ok... I'll then agree with Jaap on positive review.\n\nThanks",
    "created_at": "2010-03-21T20:07:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8567#issuecomment-68527",
    "user": "https://github.com/hivert"
}
```

<div id="comment:34" align="right">comment:34</div>

With the spkg here, from a fresh Sage source:
- iconv build is successfully skipped,
- gd is successfully build
on openSuSE 11.1 and Gentoo 1.12.9. I'm waiting the whole build to finish, but it should be ok... I'll then agree with Jaap on positive review.

Thanks



---

archive/issue_comments_068528.json:
```json
{
    "body": "Changed reviewer from **Jaap Spies** to **Jaap Spies, Florent Hivert**",
    "created_at": "2010-03-21T20:07:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8567#issuecomment-68528",
    "user": "https://github.com/hivert"
}
```

Changed reviewer from **Jaap Spies** to **Jaap Spies, Florent Hivert**



---

archive/issue_comments_068529.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nReplying to [@hivert](#comment%3A34):\n> With the spkg here, from a fresh Sage source:\n> - iconv build is successfully skipped,\n> - gd is successfully build\n> on openSuSE 11.1 and Gentoo 1.12.9. I'm waiting the whole build to finish, but it should be ok... I'll then agree with Jaap on positive review.\n> \n> Thanks\n\nMy build finished successful, so let's do it! I leave it to you to give the positive review.\n\nJaap",
    "created_at": "2010-03-21T20:13:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8567#issuecomment-68529",
    "user": "https://github.com/jaapspies"
}
```

<div id="comment:35" align="right">comment:35</div>

Replying to [@hivert](#comment%3A34):
> With the spkg here, from a fresh Sage source:
> - iconv build is successfully skipped,
> - gd is successfully build
> on openSuSE 11.1 and Gentoo 1.12.9. I'm waiting the whole build to finish, but it should be ok... I'll then agree with Jaap on positive review.
> 
> Thanks

My build finished successful, so let's do it! I leave it to you to give the positive review.

Jaap



---

archive/issue_comments_068530.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nReplying to [@jaapspies](#comment%3A35):\n> My build finished successful, so let's do it! I leave it to you to give the positive review.\n\nMine too on openSuSE and gentoo. I'm ready to give positive review but should it be tested on Cygwin ? Unfortunately, I've no access to this kind of machine.\n\nCheers,\n\nFlorent",
    "created_at": "2010-03-21T21:42:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8567#issuecomment-68530",
    "user": "https://github.com/hivert"
}
```

<div id="comment:36" align="right">comment:36</div>

Replying to [@jaapspies](#comment%3A35):
> My build finished successful, so let's do it! I leave it to you to give the positive review.

Mine too on openSuSE and gentoo. I'm ready to give positive review but should it be tested on Cygwin ? Unfortunately, I've no access to this kind of machine.

Cheers,

Florent



---

archive/issue_comments_068531.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nReplying to [@hivert](#comment%3A36):\n> Replying to [@jaapspies](#comment%3A35):\n> > My build finished successful, so let's do it! I leave it to you to give the positive review.\n> \n> \n> Mine too on openSuSE and gentoo. I'm ready to give positive review but should it be tested on Cygwin ? Unfortunately, I've no access to this kind of machine.\n> \n> Cheers,\n> \n> Florent\n\nPlease do! There is no change in SunOS and Cygwin. In both cases iconv spkg will be build as before.\n\nJaap",
    "created_at": "2010-03-21T21:46:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8567#issuecomment-68531",
    "user": "https://github.com/jaapspies"
}
```

<div id="comment:37" align="right">comment:37</div>

Replying to [@hivert](#comment%3A36):
> Replying to [@jaapspies](#comment%3A35):
> > My build finished successful, so let's do it! I leave it to you to give the positive review.
> 
> 
> Mine too on openSuSE and gentoo. I'm ready to give positive review but should it be tested on Cygwin ? Unfortunately, I've no access to this kind of machine.
> 
> Cheers,
> 
> Florent

Please do! There is no change in SunOS and Cygwin. In both cases iconv spkg will be build as before.

Jaap



---

archive/issue_events_106842.json:
```json
{
    "actor": "https://github.com/hivert",
    "created_at": "2010-03-21T21:50:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8567#event-106842"
}
```



---

archive/issue_events_106843.json:
```json
{
    "actor": "https://github.com/hivert",
    "created_at": "2010-03-21T21:50:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8567#event-106843"
}
```



---

archive/issue_events_106844.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2010-03-29T22:08:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8567#event-106844"
}
```



---

archive/issue_events_106845.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2010-03-29T22:08:20Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8567#event-106845"
}
```



---

archive/issue_comments_068532.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nMerged into sage-4.3.5.",
    "created_at": "2010-03-29T22:08:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8567#issuecomment-68532",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:39" align="right">comment:39</div>

Merged into sage-4.3.5.



---

archive/issue_comments_068533.json:
```json
{
    "body": "Merged: **sage-4.3.5**",
    "created_at": "2010-03-30T08:40:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8567#issuecomment-68533",
    "user": "https://github.com/sagetrac-mvngu"
}
```

Merged: **sage-4.3.5**



---

archive/issue_events_106846.json:
```json
{
    "actor": "https://github.com/sagetrac-mvngu",
    "created_at": "2010-03-30T12:11:27Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "milestone_number": null,
    "milestone_title": "sage-4.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8567#event-106846"
}
```



---

archive/issue_events_106847.json:
```json
{
    "actor": "https://github.com/sagetrac-mvngu",
    "created_at": "2010-03-30T12:11:27Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "milestone_number": null,
    "milestone_title": "sage-4.3.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8567#event-106847"
}
```



---

archive/issue_comments_068534.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\n[deleted spam]",
    "created_at": "2010-05-26T08:43:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8567#issuecomment-68534",
    "user": "https://github.com/sagetrac-bascorp2"
}
```

<div id="comment:42" align="right">comment:42</div>

[deleted spam]
