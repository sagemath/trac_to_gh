# Issue 8720: CC and CDF do not display numeric 0

archive/issues_008720.json:
```json
{
    "assignees": [
        "https://github.com/aghitza"
    ],
    "body": "Look at the inconsistency:\n\n```\nsage: RR(0)\n0.000000000000000\nsage: RDF(0)\n0.0\n```\n\nversus\n\n```\nsage: CDF(0)\n0\nsage: CC(0)\n0\n```\n\n\n---\n\nApply [attachment: trac-8720-printing-complex-zero.patch](https://github.com/sagemath/sage/files/ticket8720/trac-8720-printing-complex-zero.patch.gz), [attachment: trac_8720-doctests.patch](https://github.com/sagemath/sage/files/ticket8720/trac_8720-doctests.patch.gz), [attachment: trac_8720-doctests-2.patch](https://github.com/sagemath/sage/files/ticket8720/trac_8720-doctests-2.patch.gz)\nand [attachment: trac_8720-doctests-3.patch](https://github.com/sagemath/sage/files/ticket8720/trac_8720-doctests-3.patch.gz).\n\nCC:  @zimmermann6 @mwhansen\n\nReviewer: **Paul Zimmermann, Karl-Dieter Crisman**\n\nAuthor: **Jason Grout, Mike Hansen, Paul Zimmermann**\n\nMerged: **sage-5.0.beta14**\n\nComponent: **basic arithmetic**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/8720_\n\n",
    "closed_at": "2012-04-19T06:43:48Z",
    "created_at": "2010-04-20T02:42:33Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20basic%20arithmetic",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.0",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "CC and CDF do not display numeric 0",
    "type": "issue",
    "updated_at": "2012-04-19T06:43:48Z",
    "url": "https://github.com/sagemath/sage/issues/8720",
    "user": "https://github.com/jasongrout"
}
```
Look at the inconsistency:

```
sage: RR(0)
0.000000000000000
sage: RDF(0)
0.0
```

versus

```
sage: CDF(0)
0
sage: CC(0)
0
```


---

Apply [attachment: trac-8720-printing-complex-zero.patch](https://github.com/sagemath/sage/files/ticket8720/trac-8720-printing-complex-zero.patch.gz), [attachment: trac_8720-doctests.patch](https://github.com/sagemath/sage/files/ticket8720/trac_8720-doctests.patch.gz), [attachment: trac_8720-doctests-2.patch](https://github.com/sagemath/sage/files/ticket8720/trac_8720-doctests-2.patch.gz)
and [attachment: trac_8720-doctests-3.patch](https://github.com/sagemath/sage/files/ticket8720/trac_8720-doctests-3.patch.gz).

CC:  @zimmermann6 @mwhansen

Reviewer: **Paul Zimmermann, Karl-Dieter Crisman**

Author: **Jason Grout, Mike Hansen, Paul Zimmermann**

Merged: **sage-5.0.beta14**

Component: **basic arithmetic**

_Issue created by migration from https://trac.sagemath.org/ticket/8720_





---

archive/issue_events_109105.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2010-04-20T02:42:33Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "milestone_number": null,
    "milestone_title": "sage-5.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8720#event-109105"
}
```



---

archive/issue_events_109106.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2010-04-20T02:42:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20basic%20arithmetic",
    "label_color": "0000ff",
    "label_name": "c: basic arithmetic",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8720#event-109106"
}
```



---

archive/issue_events_109107.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2010-04-20T02:42:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8720#event-109107"
}
```



---

archive/issue_events_109108.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2010-04-20T02:42:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8720#event-109108"
}
```



---

archive/issue_events_109109.json:
```json
{
    "actor": "https://github.com/aghitza",
    "created_at": "2010-04-20T02:42:33Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "subject": "https://github.com/jasongrout",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8720#event-109109"
}
```



---

archive/issue_comments_070543.json:
```json
{
    "body": "Author: **Jason Grout**",
    "created_at": "2010-04-20T03:02:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8720#issuecomment-70543",
    "user": "https://github.com/jasongrout"
}
```

Author: **Jason Grout**



---

archive/issue_comments_070544.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nI think CDF and CC should display the same output as RDF and RR, respectively.\n\nCCing zimmerma since he may be interested in reviewing this.",
    "created_at": "2010-04-20T03:02:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8720#issuecomment-70544",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:1" align="right">comment:1</div>

I think CDF and CC should display the same output as RDF and RR, respectively.

CCing zimmerma since he may be interested in reviewing this.



---

archive/issue_comments_070545.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nsince I was asked to review this ticket, I first notice that some doctests do not pass any more,\nfor example:\n\n```\nsage -t  gsl/dft.py\n**********************************************************************\nFile \"/usr/local/sage-4.3.5-core2/devel/sage-8720/sage/gsl/dft.py\", line 528:\n    sage: t = s.fft(); t\nExpected:\n    Indexed sequence: [5.00000000000000, 0, 0, 0, 0]\n     indexed by [0, 1, 2, 3, 4]\nGot:\n    Indexed sequence: [5.00000000000000, 0.000000000000000, 0.000000000000000, \\\n0.000000000000000, 0.000000000000000]\n        indexed by [0, 1, 2, 3, 4]\n```\nthus some more work is needed. Please check all doctests still pass.",
    "created_at": "2010-04-20T10:55:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8720#issuecomment-70545",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:2" align="right">comment:2</div>

since I was asked to review this ticket, I first notice that some doctests do not pass any more,
for example:

```
sage -t  gsl/dft.py
**********************************************************************
File "/usr/local/sage-4.3.5-core2/devel/sage-8720/sage/gsl/dft.py", line 528:
    sage: t = s.fft(); t
Expected:
    Indexed sequence: [5.00000000000000, 0, 0, 0, 0]
     indexed by [0, 1, 2, 3, 4]
Got:
    Indexed sequence: [5.00000000000000, 0.000000000000000, 0.000000000000000, \
0.000000000000000, 0.000000000000000]
        indexed by [0, 1, 2, 3, 4]
```
thus some more work is needed. Please check all doctests still pass.



---

archive/issue_events_109110.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2010-04-20T10:55:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8720#event-109110"
}
```



---

archive/issue_comments_070546.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nThanks for looking at it.  When I ran the doctests, a number of them failed, so I posted to sage-devel and kept this ticket as \"needs work\".  I will set it to \"needs review\" when I've taken care of the failing doctests.\n\nThanks again.",
    "created_at": "2010-04-20T13:22:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8720#issuecomment-70546",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:3" align="right">comment:3</div>

Thanks for looking at it.  When I ran the doctests, a number of them failed, so I posted to sage-devel and kept this ticket as "needs work".  I will set it to "needs review" when I've taken care of the failing doctests.

Thanks again.



---

archive/issue_comments_070547.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nI'm going to run the tests shortly and produce an doctest fixing patch.",
    "created_at": "2011-12-18T16:01:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8720#issuecomment-70547",
    "user": "https://github.com/mwhansen"
}
```

<div id="comment:4" align="right">comment:4</div>

I'm going to run the tests shortly and produce an doctest fixing patch.



---

archive/issue_comments_070548.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nI've attached a patch which should fix all of the doctests in 4.8.alpha4.",
    "created_at": "2011-12-18T23:29:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8720#issuecomment-70548",
    "user": "https://github.com/mwhansen"
}
```

<div id="comment:6" align="right">comment:6</div>

I've attached a patch which should fix all of the doctests in 4.8.alpha4.



---

archive/issue_events_109111.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2011-12-18T23:29:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8720#event-109111"
}
```



---

archive/issue_events_109112.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2011-12-18T23:29:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8720#event-109112"
}
```



---

archive/issue_comments_070549.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nnote that a consequence of that ticket is that coefficients 0 that were not displayed in Taylor\nseries are now displayed, for example:\n\n```\nsage: E = EllipticCurve('37a')\nsage: L = E.lseries().dokchitser()\nsage: L.taylor_series(1,4)\n0.0000000000000 + 0.305999773834052*z + 0.186547797268162*z^2 - 0.136791463097188*z^3 + O(z^4)\n```\n(Before this ticket, the leading `0.000000000000000` was not printed.)\n\nI find it good, since those 0.0 values can come from numerical cancellation.\n\nPaul",
    "created_at": "2011-12-19T11:09:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8720#issuecomment-70549",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:7" align="right">comment:7</div>

note that a consequence of that ticket is that coefficients 0 that were not displayed in Taylor
series are now displayed, for example:

```
sage: E = EllipticCurve('37a')
sage: L = E.lseries().dokchitser()
sage: L.taylor_series(1,4)
0.0000000000000 + 0.305999773834052*z + 0.186547797268162*z^2 - 0.136791463097188*z^3 + O(z^4)
```
(Before this ticket, the leading `0.000000000000000` was not printed.)

I find it good, since those 0.0 values can come from numerical cancellation.

Paul



---

archive/issue_comments_070550.json:
```json
{
    "body": "Reviewer: **Paul Zimmermann**",
    "created_at": "2011-12-19T11:53:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8720#issuecomment-70550",
    "user": "https://github.com/zimmermann6"
}
```

Reviewer: **Paul Zimmermann**



---

archive/issue_comments_070551.json:
```json
{
    "body": "Changed author from **Jason Grout** to **Jason Grout, Mike Hansen**",
    "created_at": "2011-12-19T11:53:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8720#issuecomment-70551",
    "user": "https://github.com/zimmermann6"
}
```

Changed author from **Jason Grout** to **Jason Grout, Mike Hansen**



---

archive/issue_comments_070552.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nall tests work on top of Sage 4.7.2, I give a positive review.\n\nPaul",
    "created_at": "2011-12-19T11:53:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8720#issuecomment-70552",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:8" align="right">comment:8</div>

all tests work on top of Sage 4.7.2, I give a positive review.

Paul



---

archive/issue_events_109113.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2011-12-19T17:47:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8720#event-109113"
}
```



---

archive/issue_events_109114.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2011-12-19T17:47:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8720#event-109114"
}
```



---

archive/issue_comments_070553.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\n> all tests work on top of Sage 4.7.2, I give a positive review.\n\nJust doing the radio button for this.  Nice teamwork on this!",
    "created_at": "2011-12-19T17:47:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8720#issuecomment-70553",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:9" align="right">comment:9</div>

> all tests work on top of Sage 4.7.2, I give a positive review.

Just doing the radio button for this.  Nice teamwork on this!



---

archive/issue_events_109115.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-12-23T16:26:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8720#event-109115"
}
```



---

archive/issue_events_109116.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-12-23T16:26:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8720#event-109116"
}
```



---

archive/issue_comments_070554.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nA few more doctests need to be fixed:\n\n```\nsage -t  -force_lib devel/sage/sage/matrix/matrix2.pyx\n**********************************************************************\nFile \"/mnt/usb1/scratch/jdemeyer/merger/sage-4.8.alpha6/devel/sage-main/sage/matrix/matrix2.pyx\", line 7987:\n    sage: M.round(6).zero_at(10^-6)\nExpected:\n    [             -1.528503                      0                      0]\n    [  0.459974 - 0.40061*I              -1.741233                      0]\n    [-0.934304 + 0.148868*I   0.54833 + 0.073202*I              -0.550725]\nGot:\n    [             -1.528503                    0.0                    0.0]\n    [  0.459974 - 0.40061*I              -1.741233                    0.0]\n    [-0.934304 + 0.148868*I   0.54833 + 0.073202*I              -0.550725]\n**********************************************************************\nFile \"/mnt/usb1/scratch/jdemeyer/merger/sage-4.8.alpha6/devel/sage-main/sage/matrix/matrix2.pyx\", line 7991:\n    sage: (A - M*G).zero_at(10^-12)\nExpected:\n    [0 0 0]\n    [0 0 0]\n    [0 0 0]\nGot:\n    [0.0 0.0 0.0]\n    [0.0 0.0 0.0]\n    [0.0 0.0 0.0]\n**********************************************************************\nFile \"/mnt/usb1/scratch/jdemeyer/merger/sage-4.8.alpha6/devel/sage-main/sage/matrix/matrix2.pyx\", line 7995:\n    sage: (G*G.conjugate().transpose()).zero_at(10^-12)\nExpected:\n    [1.0   0   0]\n    [  0 1.0   0]\n    [  0   0 1.0]\nGot:\n    [1.0 0.0 0.0]\n    [0.0 1.0 0.0]\n    [0.0 0.0 1.0]\n**********************************************************************\n\n```",
    "created_at": "2011-12-23T16:26:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8720#issuecomment-70554",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:10" align="right">comment:10</div>

A few more doctests need to be fixed:

```
sage -t  -force_lib devel/sage/sage/matrix/matrix2.pyx
**********************************************************************
File "/mnt/usb1/scratch/jdemeyer/merger/sage-4.8.alpha6/devel/sage-main/sage/matrix/matrix2.pyx", line 7987:
    sage: M.round(6).zero_at(10^-6)
Expected:
    [             -1.528503                      0                      0]
    [  0.459974 - 0.40061*I              -1.741233                      0]
    [-0.934304 + 0.148868*I   0.54833 + 0.073202*I              -0.550725]
Got:
    [             -1.528503                    0.0                    0.0]
    [  0.459974 - 0.40061*I              -1.741233                    0.0]
    [-0.934304 + 0.148868*I   0.54833 + 0.073202*I              -0.550725]
**********************************************************************
File "/mnt/usb1/scratch/jdemeyer/merger/sage-4.8.alpha6/devel/sage-main/sage/matrix/matrix2.pyx", line 7991:
    sage: (A - M*G).zero_at(10^-12)
Expected:
    [0 0 0]
    [0 0 0]
    [0 0 0]
Got:
    [0.0 0.0 0.0]
    [0.0 0.0 0.0]
    [0.0 0.0 0.0]
**********************************************************************
File "/mnt/usb1/scratch/jdemeyer/merger/sage-4.8.alpha6/devel/sage-main/sage/matrix/matrix2.pyx", line 7995:
    sage: (G*G.conjugate().transpose()).zero_at(10^-12)
Expected:
    [1.0   0   0]
    [  0 1.0   0]
    [  0   0 1.0]
Got:
    [1.0 0.0 0.0]
    [0.0 1.0 0.0]
    [0.0 0.0 1.0]
**********************************************************************

```



---

archive/issue_comments_070555.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nsorry, but there is no such doctest in 4.7.2. There must be some interaction with some\nother patch which you included. My positive review was valid for 4.7.2 only.\n\nPaul",
    "created_at": "2011-12-23T16:40:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8720#issuecomment-70555",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:11" align="right">comment:11</div>

sorry, but there is no such doctest in 4.7.2. There must be some interaction with some
other patch which you included. My positive review was valid for 4.7.2 only.

Paul



---

archive/issue_comments_070556.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@zimmermann6](#comment:11):\n> sorry, but there is no such doctest in 4.7.2. There must be some interaction with some\n> other patch which you included. My positive review was valid for 4.7.2 only.\n\nProbably Jeroen is referring to doctests in the latest alpha, on which (for better or for worse) patches need to be based on.",
    "created_at": "2011-12-23T16:57:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8720#issuecomment-70556",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@zimmermann6](#comment:11):
> sorry, but there is no such doctest in 4.7.2. There must be some interaction with some
> other patch which you included. My positive review was valid for 4.7.2 only.

Probably Jeroen is referring to doctests in the latest alpha, on which (for better or for worse) patches need to be based on.



---

archive/issue_comments_070557.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\n*** bump ***",
    "created_at": "2012-02-07T22:30:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8720#issuecomment-70557",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:13" align="right">comment:13</div>

*** bump ***



---

archive/issue_comments_070558.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nI posted a patch fixing these problems.",
    "created_at": "2012-02-08T01:28:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8720#issuecomment-70558",
    "user": "https://github.com/mwhansen"
}
```

<div id="comment:14" align="right">comment:14</div>

I posted a patch fixing these problems.



---

archive/issue_events_109117.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2012-02-08T01:28:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8720#event-109117"
}
```



---

archive/issue_events_109118.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2012-02-08T01:28:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8720#event-109118"
}
```



---

archive/issue_comments_070559.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nNote that the second patch applies with a little fuzz.\n\n```\n$ hg qpush\napplying trac_8720-doctests.patch\npatching file sage/matrix/matrix_double_dense.pyx\nHunk #1 succeeded at 189 with fuzz 2 (offset 9 lines).\nnow at: trac_8720-doctests.patch\n```\nI'll run tests and check.  I should have set `sage -b` to do parallel building",
    "created_at": "2012-02-08T01:34:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8720#issuecomment-70559",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:15" align="right">comment:15</div>

Note that the second patch applies with a little fuzz.

```
$ hg qpush
applying trac_8720-doctests.patch
patching file sage/matrix/matrix_double_dense.pyx
Hunk #1 succeeded at 189 with fuzz 2 (offset 9 lines).
now at: trac_8720-doctests.patch
```
I'll run tests and check.  I should have set `sage -b` to do parallel building



---

archive/issue_comments_070560.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -17,3 +17,6 @@\n ```\n \n \n+---\n+\n+Apply [attachment: trac-8720-printing-complex-zero.patch](https://github.com/sagemath/sage/files/ticket8720/trac-8720-printing-complex-zero.patch.gz), [attachment: trac_8720-doctests.patch](https://github.com/sagemath/sage/files/ticket8720/trac_8720-doctests.patch.gz), and [attachment: trac_8720-doctests-2.patch](https://github.com/sagemath/sage/files/ticket8720/trac_8720-doctests-2.patch.gz).\n``````\n",
    "created_at": "2012-02-08T01:34:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8720#issuecomment-70560",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -17,3 +17,6 @@
 ```
 
 
+---
+
+Apply [attachment: trac-8720-printing-complex-zero.patch](https://github.com/sagemath/sage/files/ticket8720/trac-8720-printing-complex-zero.patch.gz), [attachment: trac_8720-doctests.patch](https://github.com/sagemath/sage/files/ticket8720/trac_8720-doctests.patch.gz), and [attachment: trac_8720-doctests-2.patch](https://github.com/sagemath/sage/files/ticket8720/trac_8720-doctests-2.patch.gz).
``````




---

archive/issue_comments_070561.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\n{{[\n\nDoctesting 1 file using 1 thread\nsage -t  devel/sage-main/sage/matrix/matrix_double_dense.pyx\n\t [19.7 s]\n \n}}}\n\nNow running full long doctests.",
    "created_at": "2012-02-08T02:16:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8720#issuecomment-70561",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:16" align="right">comment:16</div>

{{[

Doctesting 1 file using 1 thread
sage -t  devel/sage-main/sage/matrix/matrix_double_dense.pyx
	 [19.7 s]
 
}}}

Now running full long doctests.



---

archive/issue_events_109119.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2012-02-08T03:24:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8720#event-109119"
}
```



---

archive/issue_events_109120.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2012-02-08T03:24:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8720#event-109120"
}
```



---

archive/issue_comments_070562.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\n\n```\n\n$ ../../sage -tp 4 -long sage/lfunctions/lcalc.py \nGlobal iterations: 1\nFile iterations: 1\nUsing long cached timings to run longest doctests first.\nDoctesting 1 file using 1 thread\nsage -t -long devel/sage-main/sage/lfunctions/lcalc.py\n  ***   Warning: new stack size = 1028976 (0.981 Mbytes).\n  ***   Warning: new stack size = 1003360 (0.957 Mbytes).\n  ***   Warning: new stack size = 1001472 (0.955 Mbytes).\n**********************************************************************\nFile \"/Users/.../sage-5.0.beta2/devel/sage-main/sage/lfunctions/lcalc.py\", line 229:\n    sage: E.lseries().values_along_line(0.5, 3, 5)\nExpected:\n    [(0.000000000, 0.209951303), (0.500000000, -2.92081722e-16), (1.00000000, 0.133768433), (1.50000000, 0.360092864), (2.00000000, 0.552975867)]\nGot:\n    [(0.000000000, 0.209951303), (0.500000000, -2.92081723e-16), (1.00000000, 0.133768433), (1.50000000, 0.360092864), (2.00000000, 0.552975867)]\n**********************************************************************\n1 items had failures:\n   1 of   7 in __main__.example_5\n***Test Failed*** 1 failures.\nFor whitespace errors, see the file /Users/.../.sage/tmp/new_host_2.home-37994/lcalc_37997.py\n\t [3.0 s]\n```\nThe difference was in the e-16 one. I think there is a reason that one used to be `-...e-16` in the old doctest.  I'm going to ignore the stack size warnings, since they don't seem to have affected the outcome, though I'm sure they're not ideal.\n\nAll else is fine!",
    "created_at": "2012-02-08T03:24:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8720#issuecomment-70562",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:17" align="right">comment:17</div>


```

$ ../../sage -tp 4 -long sage/lfunctions/lcalc.py 
Global iterations: 1
File iterations: 1
Using long cached timings to run longest doctests first.
Doctesting 1 file using 1 thread
sage -t -long devel/sage-main/sage/lfunctions/lcalc.py
  ***   Warning: new stack size = 1028976 (0.981 Mbytes).
  ***   Warning: new stack size = 1003360 (0.957 Mbytes).
  ***   Warning: new stack size = 1001472 (0.955 Mbytes).
**********************************************************************
File "/Users/.../sage-5.0.beta2/devel/sage-main/sage/lfunctions/lcalc.py", line 229:
    sage: E.lseries().values_along_line(0.5, 3, 5)
Expected:
    [(0.000000000, 0.209951303), (0.500000000, -2.92081722e-16), (1.00000000, 0.133768433), (1.50000000, 0.360092864), (2.00000000, 0.552975867)]
Got:
    [(0.000000000, 0.209951303), (0.500000000, -2.92081723e-16), (1.00000000, 0.133768433), (1.50000000, 0.360092864), (2.00000000, 0.552975867)]
**********************************************************************
1 items had failures:
   1 of   7 in __main__.example_5
***Test Failed*** 1 failures.
For whitespace errors, see the file /Users/.../.sage/tmp/new_host_2.home-37994/lcalc_37997.py
	 [3.0 s]
```
The difference was in the e-16 one. I think there is a reason that one used to be `-...e-16` in the old doctest.  I'm going to ignore the stack size warnings, since they don't seem to have affected the outcome, though I'm sure they're not ideal.

All else is fine!



---

archive/issue_comments_070563.json:
```json
{
    "body": "Changed reviewer from **Paul Zimmermann** to **Paul Zimmermann, Karl-Dieter Crisman**",
    "created_at": "2012-02-08T03:24:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8720#issuecomment-70563",
    "user": "https://github.com/kcrisman"
}
```

Changed reviewer from **Paul Zimmermann** to **Paul Zimmermann, Karl-Dieter Crisman**



---

archive/issue_comments_070564.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nCan you double-check to make sure that test was passing before the patches?  It seems odd to me that error would have been triggered by this patch.",
    "created_at": "2012-02-08T03:39:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8720#issuecomment-70564",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:18" align="right">comment:18</div>

Can you double-check to make sure that test was passing before the patches?  It seems odd to me that error would have been triggered by this patch.



---

archive/issue_comments_070565.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\n> Can you double-check to make sure that test was passing before the patches?  It seems odd to me that error would have been triggered by this patch.\n\nNotice that the test now fails because we used to ignore all digits before the exponent, not because of the stack thing - the doc even points out that warnings might happen, it's no big deal for now.\n\n```\n        Sometimes warnings are printed (by lcalc) when this command is\n        run::\n        \n            sage: E = EllipticCurve('389a')\n            sage: E.lseries().values_along_line(0.5, 3, 5)\n            [(0, 0.209951303),\n             (0.500000000, -...e-16),\n             (1.00000000, 0.133768433),\n             (1.50000000, 0.360092864),\n             (2.00000000, 0.552975867)]\n```\nHere is 5.0.beta1:\n\n```\n$ ./sage -t -long devel/sage/sage/lfunctions/lcalc.py \nsage -t -long \"devel/sage/sage/lfunctions/lcalc.py\"         \n\t [20.4 s]\n \n----------------------------------------------------------------------\nAll tests passed!\nTotal time for all tests: 20.5 seconds\n<snip>\nsage:             sage: E = EllipticCurve('389a')\nsage:             sage: E.lseries().values_along_line(0.5, 3, 5)\n  ***   Warning: new stack size = 1003360 (0.957 Mbytes).\n[(0, 0.209951303), (0.500000000, -2.92081723e-16), (1.00000000, 0.133768433), (1.50000000, 0.360092864), (2.00000000, 0.552975867)]\n```\nso we can see that all that has to be done is go back to the previous doctest for that one number (not even the whole list).",
    "created_at": "2012-02-08T03:45:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8720#issuecomment-70565",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:19" align="right">comment:19</div>

> Can you double-check to make sure that test was passing before the patches?  It seems odd to me that error would have been triggered by this patch.

Notice that the test now fails because we used to ignore all digits before the exponent, not because of the stack thing - the doc even points out that warnings might happen, it's no big deal for now.

```
        Sometimes warnings are printed (by lcalc) when this command is
        run::
        
            sage: E = EllipticCurve('389a')
            sage: E.lseries().values_along_line(0.5, 3, 5)
            [(0, 0.209951303),
             (0.500000000, -...e-16),
             (1.00000000, 0.133768433),
             (1.50000000, 0.360092864),
             (2.00000000, 0.552975867)]
```
Here is 5.0.beta1:

```
$ ./sage -t -long devel/sage/sage/lfunctions/lcalc.py 
sage -t -long "devel/sage/sage/lfunctions/lcalc.py"         
	 [20.4 s]
 
----------------------------------------------------------------------
All tests passed!
Total time for all tests: 20.5 seconds
<snip>
sage:             sage: E = EllipticCurve('389a')
sage:             sage: E.lseries().values_along_line(0.5, 3, 5)
  ***   Warning: new stack size = 1003360 (0.957 Mbytes).
[(0, 0.209951303), (0.500000000, -2.92081723e-16), (1.00000000, 0.133768433), (1.50000000, 0.360092864), (2.00000000, 0.552975867)]
```
so we can see that all that has to be done is go back to the previous doctest for that one number (not even the whole list).



---

archive/issue_comments_070566.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nAh, I understand.  Mike made this test much more rigid, and that is what is failing here.  Yeah, I agree with your conclusion, Karl-Dieter.",
    "created_at": "2012-02-08T04:02:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8720#issuecomment-70566",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:20" align="right">comment:20</div>

Ah, I understand.  Mike made this test much more rigid, and that is what is failing here.  Yeah, I agree with your conclusion, Karl-Dieter.



---

archive/issue_events_109121.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2012-03-28T21:01:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8720#event-109121"
}
```



---

archive/issue_events_109122.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2012-03-28T21:01:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8720#event-109122"
}
```



---

archive/issue_comments_070567.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nI've gone ahead and fixed that doctest.",
    "created_at": "2012-03-28T21:01:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8720#issuecomment-70567",
    "user": "https://github.com/mwhansen"
}
```

<div id="comment:21" align="right">comment:21</div>

I've gone ahead and fixed that doctest.



---

archive/issue_comments_070568.json:
```json
{
    "body": "Work Issues: **rebase to current beta**",
    "created_at": "2012-03-29T17:14:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8720#issuecomment-70568",
    "user": "https://github.com/loefflerd"
}
```

Work Issues: **rebase to current beta**



---

archive/issue_comments_070569.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nI'm afraid that, according to the patchbot, this new patch works on latest release (4.8) but fails a doctest on 5.0.beta3, and doesn't even apply to 5.0.beta11.",
    "created_at": "2012-03-29T17:14:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8720#issuecomment-70569",
    "user": "https://github.com/loefflerd"
}
```

<div id="comment:22" align="right">comment:22</div>

I'm afraid that, according to the patchbot, this new patch works on latest release (4.8) but fails a doctest on 5.0.beta3, and doesn't even apply to 5.0.beta11.



---

archive/issue_events_109123.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2012-03-29T17:14:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8720#event-109123"
}
```



---

archive/issue_events_109124.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2012-03-29T17:14:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8720#event-109124"
}
```



---

archive/issue_comments_070570.json:
```json
{
    "body": "Attachment: **[trac-8720-printing-complex-zero.patch.gz](https://github.com/sagemath/sage/files/ticket8720/trac-8720-printing-complex-zero.patch.gz)**",
    "created_at": "2012-03-29T20:20:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8720#issuecomment-70570",
    "user": "https://github.com/mwhansen"
}
```

Attachment: **[trac-8720-printing-complex-zero.patch.gz](https://github.com/sagemath/sage/files/ticket8720/trac-8720-printing-complex-zero.patch.gz)**



---

archive/issue_comments_070571.json:
```json
{
    "body": "Attachment: **[trac_8720-doctests.patch.gz](https://github.com/sagemath/sage/files/ticket8720/trac_8720-doctests.patch.gz)**\n\nAttachment: **[trac_8720-doctests-2.patch.gz](https://github.com/sagemath/sage/files/ticket8720/trac_8720-doctests-2.patch.gz)**",
    "created_at": "2012-03-29T20:20:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8720#issuecomment-70571",
    "user": "https://github.com/mwhansen"
}
```

Attachment: **[trac_8720-doctests.patch.gz](https://github.com/sagemath/sage/files/ticket8720/trac_8720-doctests.patch.gz)**

Attachment: **[trac_8720-doctests-2.patch.gz](https://github.com/sagemath/sage/files/ticket8720/trac_8720-doctests-2.patch.gz)**



---

archive/issue_comments_070572.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nI've rebased the files on beta11.",
    "created_at": "2012-03-29T20:20:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8720#issuecomment-70572",
    "user": "https://github.com/mwhansen"
}
```

<div id="comment:23" align="right">comment:23</div>

I've rebased the files on beta11.



---

archive/issue_comments_070573.json:
```json
{
    "body": "Changed work issues from **rebase to current beta** to none",
    "created_at": "2012-03-29T20:20:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8720#issuecomment-70573",
    "user": "https://github.com/mwhansen"
}
```

Changed work issues from **rebase to current beta** to none



---

archive/issue_events_109125.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2012-03-29T20:20:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8720#event-109125"
}
```



---

archive/issue_events_109126.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2012-03-29T20:20:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8720#event-109126"
}
```



---

archive/issue_events_109127.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2012-03-30T07:33:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8720#event-109127"
}
```



---

archive/issue_events_109128.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2012-03-30T07:33:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8720#event-109128"
}
```



---

archive/issue_comments_070574.json:
```json
{
    "body": "Work Issues: **fix doctests**",
    "created_at": "2012-03-30T07:33:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8720#issuecomment-70574",
    "user": "https://github.com/loefflerd"
}
```

Work Issues: **fix doctests**



---

archive/issue_comments_070575.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nThe beta11 patchbot brings up some doctest failures:\n\n```\nThe following tests failed:\n\n\tsage -t  -force_lib devel/sage-8720/sage/plot/hyperbolic_triangle.py # 2 doctests failed\n\tsage -t  -force_lib devel/sage-8720/sage/plot/hyperbolic_arc.py # 1 doctests failed\n\tsage -t  -force_lib devel/sage-8720/sage/matrix/matrix_space.py # 1 doctests failed\n\tsage -t  -force_lib devel/sage-8720/sage/matrix/constructor.py # 1 doctests failed\n```",
    "created_at": "2012-03-30T07:33:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8720#issuecomment-70575",
    "user": "https://github.com/loefflerd"
}
```

<div id="comment:24" align="right">comment:24</div>

The beta11 patchbot brings up some doctest failures:

```
The following tests failed:

	sage -t  -force_lib devel/sage-8720/sage/plot/hyperbolic_triangle.py # 2 doctests failed
	sage -t  -force_lib devel/sage-8720/sage/plot/hyperbolic_arc.py # 1 doctests failed
	sage -t  -force_lib devel/sage-8720/sage/matrix/matrix_space.py # 1 doctests failed
	sage -t  -force_lib devel/sage-8720/sage/matrix/constructor.py # 1 doctests failed
```



---

archive/issue_comments_070576.json:
```json
{
    "body": "Attachment: **[trac_8720-doctests-3.patch.gz](https://github.com/sagemath/sage/files/ticket8720/trac_8720-doctests-3.patch.gz)**\n\napply this patch on top of the other three",
    "created_at": "2012-04-03T06:57:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8720#issuecomment-70576",
    "user": "https://github.com/zimmermann6"
}
```

Attachment: **[trac_8720-doctests-3.patch.gz](https://github.com/sagemath/sage/files/ticket8720/trac_8720-doctests-3.patch.gz)**

apply this patch on top of the other three



---

archive/issue_comments_070577.json:
```json
{
    "body": "Changed author from **Jason Grout, Mike Hansen** to **Jason Grout, Mike Hansen, Paul Zimmermann**",
    "created_at": "2012-04-03T06:59:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8720#issuecomment-70577",
    "user": "https://github.com/zimmermann6"
}
```

Changed author from **Jason Grout, Mike Hansen** to **Jason Grout, Mike Hansen, Paul Zimmermann**



---

archive/issue_events_109129.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2012-04-03T06:59:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8720#event-109129"
}
```



---

archive/issue_events_109130.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2012-04-03T06:59:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8720#event-109130"
}
```



---

archive/issue_comments_070578.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nI have attached a patch for sage-5.0.beta11, which makes the 4 doctests from comment [comment:24] work. Note that the change in `matrix/constructor.py` seems to indicate it\nwas not working properly before this ticket. Please review.\n\nPaul",
    "created_at": "2012-04-03T06:59:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8720#issuecomment-70578",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:25" align="right">comment:25</div>

I have attached a patch for sage-5.0.beta11, which makes the 4 doctests from comment [comment:24] work. Note that the change in `matrix/constructor.py` seems to indicate it
was not working properly before this ticket. Please review.

Paul



---

archive/issue_comments_070579.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nchanged description for the patchbot.\n\nPaul",
    "created_at": "2012-04-03T07:03:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8720#issuecomment-70579",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:26" align="right">comment:26</div>

changed description for the patchbot.

Paul



---

archive/issue_comments_070580.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -19,4 +19,5 @@\n \n ---\n \n-Apply [attachment: trac-8720-printing-complex-zero.patch](https://github.com/sagemath/sage/files/ticket8720/trac-8720-printing-complex-zero.patch.gz), [attachment: trac_8720-doctests.patch](https://github.com/sagemath/sage/files/ticket8720/trac_8720-doctests.patch.gz), and [attachment: trac_8720-doctests-2.patch](https://github.com/sagemath/sage/files/ticket8720/trac_8720-doctests-2.patch.gz).\n+Apply [attachment: trac-8720-printing-complex-zero.patch](https://github.com/sagemath/sage/files/ticket8720/trac-8720-printing-complex-zero.patch.gz), [attachment: trac_8720-doctests.patch](https://github.com/sagemath/sage/files/ticket8720/trac_8720-doctests.patch.gz), [attachment: trac_8720-doctests-2.patch](https://github.com/sagemath/sage/files/ticket8720/trac_8720-doctests-2.patch.gz)\n+and [attachment: trac_8720-doctests-3.patch](https://github.com/sagemath/sage/files/ticket8720/trac_8720-doctests-3.patch.gz).\n``````\n",
    "created_at": "2012-04-03T07:03:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8720#issuecomment-70580",
    "user": "https://github.com/zimmermann6"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -19,4 +19,5 @@
 
 ---
 
-Apply [attachment: trac-8720-printing-complex-zero.patch](https://github.com/sagemath/sage/files/ticket8720/trac-8720-printing-complex-zero.patch.gz), [attachment: trac_8720-doctests.patch](https://github.com/sagemath/sage/files/ticket8720/trac_8720-doctests.patch.gz), and [attachment: trac_8720-doctests-2.patch](https://github.com/sagemath/sage/files/ticket8720/trac_8720-doctests-2.patch.gz).
+Apply [attachment: trac-8720-printing-complex-zero.patch](https://github.com/sagemath/sage/files/ticket8720/trac-8720-printing-complex-zero.patch.gz), [attachment: trac_8720-doctests.patch](https://github.com/sagemath/sage/files/ticket8720/trac_8720-doctests.patch.gz), [attachment: trac_8720-doctests-2.patch](https://github.com/sagemath/sage/files/ticket8720/trac_8720-doctests-2.patch.gz)
+and [attachment: trac_8720-doctests-3.patch](https://github.com/sagemath/sage/files/ticket8720/trac_8720-doctests-3.patch.gz).
``````




---

archive/issue_comments_070581.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nSeems to work fine on these files.  Running long doctests now but I don't anticipate any more problems.\n\nAs to constructor.py, the `-0.1` was removed in the first doctest patch, so the problem was in the test, not the behavior.",
    "created_at": "2012-04-03T13:05:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8720#issuecomment-70581",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:27" align="right">comment:27</div>

Seems to work fine on these files.  Running long doctests now but I don't anticipate any more problems.

As to constructor.py, the `-0.1` was removed in the first doctest patch, so the problem was in the test, not the behavior.



---

archive/issue_events_109131.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2012-04-03T16:13:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8720#event-109131"
}
```



---

archive/issue_events_109132.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2012-04-03T16:13:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8720#event-109132"
}
```



---

archive/issue_comments_070582.json:
```json
{
    "body": "Changed work issues from **fix doctests** to none",
    "created_at": "2012-04-03T16:13:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8720#issuecomment-70582",
    "user": "https://github.com/kcrisman"
}
```

Changed work issues from **fix doctests** to none



---

archive/issue_comments_070583.json:
```json
{
    "body": "Merged: **sage-5.0.beta14**",
    "created_at": "2012-04-19T06:43:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8720#issuecomment-70583",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-5.0.beta14**



---

archive/issue_events_109133.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-04-19T06:43:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8720#event-109133"
}
```



---

archive/issue_events_109134.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-04-19T06:43:48Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/8720",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8720#event-109134"
}
```
