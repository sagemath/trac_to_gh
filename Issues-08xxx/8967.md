# Issue 8967: Make extensions of general rings work in the same way as they do for number fields

archive/issues_008967.json:
```json
{
    "body": "\n```\nsage: P.<t> = GF(5)[]\nsage: GF(5).extension(t^2 - 2, name='a')\nUnivariate Quotient Polynomial Ring in a over Finite Field of size 5 with modulus a^2 + 3\nsage: F.<a> = GF(5).extension(t^2 - 2)\nTraceback (most recent call last)\n...\nValueError: variable names must be alphanumeric, but one is '('a' which is not.\n```\nand\n\n```\nsage: GF(5).extension(x^2 - 2, name='a')\nTraceback (most recent call last)\n...\nAttributeError: 'sage.symbolic.expression.Expression' object has no attribute 'list'\n```\nThe patch solves both these problems, and provides a more useful error  message for mistakes like `GF(5).extension(\"not_a_poly\", name='a'),` by  splicing in code from the number field version.\n\nAssignee: @aghitza\n\nCC:  @mstreng\n\nResolution: fixed\n\nAuthor: Francis Clarke\n\nReviewer: Marco Streng\n\nMerged: sage-4.5.2.alpha0\n\nIssue created by migration from https://trac.sagemath.org/ticket/8967\n\n",
    "closed_at": "2010-07-20T09:25:40Z",
    "created_at": "2010-05-14T18:28:12Z",
    "labels": [
        "component: algebra",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.5.2",
    "title": "Make extensions of general rings work in the same way as they do for number fields",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/8967",
    "user": "https://trac.sagemath.org/admin/accounts/users/fwclarke"
}
```

```
sage: P.<t> = GF(5)[]
sage: GF(5).extension(t^2 - 2, name='a')
Univariate Quotient Polynomial Ring in a over Finite Field of size 5 with modulus a^2 + 3
sage: F.<a> = GF(5).extension(t^2 - 2)
Traceback (most recent call last)
...
ValueError: variable names must be alphanumeric, but one is '('a' which is not.
```
and

```
sage: GF(5).extension(x^2 - 2, name='a')
Traceback (most recent call last)
...
AttributeError: 'sage.symbolic.expression.Expression' object has no attribute 'list'
```
The patch solves both these problems, and provides a more useful error  message for mistakes like `GF(5).extension("not_a_poly", name='a'),` by  splicing in code from the number field version.

Assignee: @aghitza

CC:  @mstreng

Resolution: fixed

Author: Francis Clarke

Reviewer: Marco Streng

Merged: sage-4.5.2.alpha0

Issue created by migration from https://trac.sagemath.org/ticket/8967





---

archive/issue_comments_098149.json:
```json
{
    "body": "Attachment [trac_8967.patch](tarball://root/attachments/some-uuid/ticket8967/trac_8967.patch) by fwclarke created at 2010-05-14 18:35:25",
    "created_at": "2010-05-14T18:35:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8967",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8967#issuecomment-98149",
    "user": "https://trac.sagemath.org/admin/accounts/users/fwclarke"
}
```

Attachment [trac_8967.patch](tarball://root/attachments/some-uuid/ticket8967/trac_8967.patch) by fwclarke created at 2010-05-14 18:35:25



---

archive/issue_events_021899.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mvngu",
    "created_at": "2010-05-15T02:58:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/8967",
    "milestone": "sage-4.4.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/8967#event-21899"
}
```



---

archive/issue_comments_098150.json:
```json
{
    "body": "<a id='comment:1'></a>Is this ready for review?",
    "created_at": "2010-05-15T02:58:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8967",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8967#issuecomment-98150",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

<a id='comment:1'></a>Is this ready for review?



---

archive/issue_comments_098151.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2010-05-15T06:35:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8967",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8967#issuecomment-98151",
    "user": "https://trac.sagemath.org/admin/accounts/users/fwclarke"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_098152.json:
```json
{
    "body": "<a id='comment:2'></a>Yes",
    "created_at": "2010-05-15T06:35:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8967",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8967#issuecomment-98152",
    "user": "https://trac.sagemath.org/admin/accounts/users/fwclarke"
}
```

<a id='comment:2'></a>Yes



---

archive/issue_comments_098153.json:
```json
{
    "body": "<a id='comment:3'></a>This patch does what it says. It did however take over a bad habit of \"extension\" for number fields. See the examples below, where I think the behavior of QQ is preferred.\n\n```\nsage: QQ.extension(x^2-2, ('a', 'b'))\nIndexError: the number of names must equal the number of generators\nsage: GF(3).extension(x^2-2, ('a', 'b'))\nUnivariate Quotient Polynomial Ring in a over Finite Field of size 3 with modulus a^2 + 1\nsage: QuadraticField(-1, 'i').extension(x^2 - 2, ('a', 'b'))\nNumber Field in a with defining polynomial x^2 - 2 over its base field\n\nsage: QQ.extension(x^2 - 2, ('a', QQ))\nValueError: variable names must be alphanumeric, but one is 'Rational Field' which is not.\nsage: GF(3).extension(x^2 - 2, ('a', QQ))\nUnivariate Quotient Polynomial Ring in a over Finite Field of size 3 with modulus a^2 + 1\nsage: QuadraticField(-1, 'i').extension(x^2 - 2, ('a', QQ))\nNumber Field in a with defining polynomial x^2 - 2 over its base field\n```",
    "created_at": "2010-07-12T14:06:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8967",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8967#issuecomment-98153",
    "user": "https://github.com/mstreng"
}
```

<a id='comment:3'></a>This patch does what it says. It did however take over a bad habit of "extension" for number fields. See the examples below, where I think the behavior of QQ is preferred.

```
sage: QQ.extension(x^2-2, ('a', 'b'))
IndexError: the number of names must equal the number of generators
sage: GF(3).extension(x^2-2, ('a', 'b'))
Univariate Quotient Polynomial Ring in a over Finite Field of size 3 with modulus a^2 + 1
sage: QuadraticField(-1, 'i').extension(x^2 - 2, ('a', 'b'))
Number Field in a with defining polynomial x^2 - 2 over its base field

sage: QQ.extension(x^2 - 2, ('a', QQ))
ValueError: variable names must be alphanumeric, but one is 'Rational Field' which is not.
sage: GF(3).extension(x^2 - 2, ('a', QQ))
Univariate Quotient Polynomial Ring in a over Finite Field of size 3 with modulus a^2 + 1
sage: QuadraticField(-1, 'i').extension(x^2 - 2, ('a', QQ))
Number Field in a with defining polynomial x^2 - 2 over its base field
```



---

archive/issue_comments_098154.json:
```json
{
    "body": "<a id='comment:4'></a>All tests pass, and as I said before: the patch does what it claims. I've tried a couple more examples and everything seems fine.\n\nThe bad behavior in my previous comment was there for number fields already and I don't consider it to be a blocker for this patch.",
    "created_at": "2010-07-12T15:44:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8967",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8967#issuecomment-98154",
    "user": "https://github.com/mstreng"
}
```

<a id='comment:4'></a>All tests pass, and as I said before: the patch does what it claims. I've tried a couple more examples and everything seems fine.

The bad behavior in my previous comment was there for number fields already and I don't consider it to be a blocker for this patch.



---

archive/issue_comments_098155.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2010-07-12T15:44:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8967",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8967#issuecomment-98155",
    "user": "https://github.com/mstreng"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_098156.json:
```json
{
    "body": "Changing reviewer from \"\" to \"mstreng\"",
    "created_at": "2010-07-14T11:06:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8967",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8967#issuecomment-98156",
    "user": "https://github.com/mstreng"
}
```

Changing reviewer from "" to "mstreng"



---

archive/issue_comments_098157.json:
```json
{
    "body": "<a id='comment:6'></a>I've updated the Author(s) and Reviewer(s) fields, which should contain full names.  Please correct the fields, if I'm wrong.",
    "created_at": "2010-07-20T09:25:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8967",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8967#issuecomment-98157",
    "user": "https://github.com/qed777"
}
```

<a id='comment:6'></a>I've updated the Author(s) and Reviewer(s) fields, which should contain full names.  Please correct the fields, if I'm wrong.



---

archive/issue_comments_098158.json:
```json
{
    "body": "Changing merged from \"\" to \"sage-4.5.2.alpha0\"",
    "created_at": "2010-07-20T09:25:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8967",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8967#issuecomment-98158",
    "user": "https://github.com/qed777"
}
```

Changing merged from "" to "sage-4.5.2.alpha0"



---

archive/issue_comments_098159.json:
```json
{
    "body": "Changing author from \"\" to \"Francis Clarke\"",
    "created_at": "2010-07-20T09:25:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8967",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8967#issuecomment-98159",
    "user": "https://github.com/qed777"
}
```

Changing author from "" to "Francis Clarke"



---

archive/issue_comments_098160.json:
```json
{
    "body": "Changing reviewer from \"mstreng\" to \"Marco Streng\"",
    "created_at": "2010-07-20T09:25:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8967",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8967#issuecomment-98160",
    "user": "https://github.com/qed777"
}
```

Changing reviewer from "mstreng" to "Marco Streng"



---

archive/issue_comments_098161.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2010-07-20T09:25:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8967",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8967#issuecomment-98161",
    "user": "https://github.com/qed777"
}
```

Resolution: fixed



---

archive/issue_events_021900.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-07-20T09:25:40Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/8967",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/8967#event-21900"
}
```
