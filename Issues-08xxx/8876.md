# Issue 8876: Allows triangular morphisms to have domain and codomain with different index sets

archive/issues_008876.json:
```json
{
    "body": "Currently triangular morphisms required to have domain and codomain with the\nsame index sets. The patch remove this limitation by having\nTriangularMorphism accept a new argument `inverse_on_support`. It is\nsupposed to be a function `r : J |--> I` returning the leading term `i`\nfrom the one of `j = on_basis(i)`. This is used by: `preimage` and\n`section`.\n\nI also wrote the methods `co_kernel_projection`, `co_reduced`, and\n`_test_triangular`. \n\nDepend on #8881 and #8742, Apply patch in that order:\n- [trac_8876-triangular_morphisms_improve-fh.patch](http://trac.sagemath.org/sage_trac/attachment/ticket/8876/trac_8876-triangular_morphisms_improve-fh.patch)\n- [trac_8876-reviewer_patch-jb.patch](http://trac.sagemath.org/sage_trac/attachment/ticket/8876/trac_8876-reviewer_patch-jb.patch)\n\n\nAssignee: @hivert\n\nKeywords: Triangular Morphisms\n\nResolution: fixed\n\nAuthor: Florent Hivert\n\nReviewer: Jason Bandlow\n\nMerged: sage-4.4.4.alpha0\n\nIssue created by migration from https://trac.sagemath.org/ticket/8876\n\n",
    "closed_at": "2010-06-05T21:51:42Z",
    "created_at": "2010-05-04T22:37:22Z",
    "labels": [
        "component: categories"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.4.4",
    "title": "Allows triangular morphisms to have domain and codomain with different index sets",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/8876",
    "user": "https://github.com/hivert"
}
```
Currently triangular morphisms required to have domain and codomain with the
same index sets. The patch remove this limitation by having
TriangularMorphism accept a new argument `inverse_on_support`. It is
supposed to be a function `r : J |--> I` returning the leading term `i`
from the one of `j = on_basis(i)`. This is used by: `preimage` and
`section`.

I also wrote the methods `co_kernel_projection`, `co_reduced`, and
`_test_triangular`. 

Depend on #8881 and #8742, Apply patch in that order:
- [trac_8876-triangular_morphisms_improve-fh.patch](http://trac.sagemath.org/sage_trac/attachment/ticket/8876/trac_8876-triangular_morphisms_improve-fh.patch)
- [trac_8876-reviewer_patch-jb.patch](http://trac.sagemath.org/sage_trac/attachment/ticket/8876/trac_8876-reviewer_patch-jb.patch)


Assignee: @hivert

Keywords: Triangular Morphisms

Resolution: fixed

Author: Florent Hivert

Reviewer: Jason Bandlow

Merged: sage-4.4.4.alpha0

Issue created by migration from https://trac.sagemath.org/ticket/8876





---

archive/issue_comments_081437.json:
```json
{
    "body": "<a id='comment:1'></a>Attachment [trac_8876-triangular_morphisms_improve-fh.patch](tarball://root/attachments/some-uuid/ticket8876/trac_8876-triangular_morphisms_improve-fh.patch) by @hivert created at 2010-06-02 10:15:19",
    "created_at": "2010-06-02T10:15:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8876#issuecomment-81437",
    "user": "https://github.com/hivert"
}
```

<a id='comment:1'></a>Attachment [trac_8876-triangular_morphisms_improve-fh.patch](tarball://root/attachments/some-uuid/ticket8876/trac_8876-triangular_morphisms_improve-fh.patch) by @hivert created at 2010-06-02 10:15:19



---

archive/issue_comments_081438.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2010-06-02T10:15:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8876#issuecomment-81438",
    "user": "https://github.com/hivert"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_081439.json:
```json
{
    "body": "<a id='comment:2'></a>Attachment [trac_8876-reviewer_patch-jb.patch](tarball://root/attachments/some-uuid/ticket8876/trac_8876-reviewer_patch-jb.patch) by @jbandlow created at 2010-06-03 22:44:36\n\nHi Florent, I found some issues with the file as I was going through it, which I've fixed in the attached reviewer patch. (Many were probably my fault to begin with.)  Everything else looks good to me.  If you approve my reviewer patch and verify that all tests pass on massena without prereqs, you can set a positive review.  (I will post my reviewer patch on the combinat queue immediately below yours right now.)",
    "created_at": "2010-06-03T22:44:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8876#issuecomment-81439",
    "user": "https://github.com/jbandlow"
}
```

<a id='comment:2'></a>Attachment [trac_8876-reviewer_patch-jb.patch](tarball://root/attachments/some-uuid/ticket8876/trac_8876-reviewer_patch-jb.patch) by @jbandlow created at 2010-06-03 22:44:36

Hi Florent, I found some issues with the file as I was going through it, which I've fixed in the attached reviewer patch. (Many were probably my fault to begin with.)  Everything else looks good to me.  If you approve my reviewer patch and verify that all tests pass on massena without prereqs, you can set a positive review.  (I will post my reviewer patch on the combinat queue immediately below yours right now.)



---

archive/issue_comments_081440.json:
```json
{
    "body": "<a id='comment:3'></a>Everything was ok with the following patch applied:\n\n```\ntrac_8881-functorial_constructions-nt.patch\ntrac_8742-lazy_format-fh.patch\ntrac_8742-lazy_format-review-nt.patch\ntrac_8876-triangular_morphisms_improve-fh.patch\ntrac_8876-reviewer_patch-jb.patch\n```\n\nThanks for the review and the corrections. Your patch is good. Positive review",
    "created_at": "2010-06-04T08:19:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8876#issuecomment-81440",
    "user": "https://github.com/hivert"
}
```

<a id='comment:3'></a>Everything was ok with the following patch applied:

```
trac_8881-functorial_constructions-nt.patch
trac_8742-lazy_format-fh.patch
trac_8742-lazy_format-review-nt.patch
trac_8876-triangular_morphisms_improve-fh.patch
trac_8876-reviewer_patch-jb.patch
```

Thanks for the review and the corrections. Your patch is good. Positive review



---

archive/issue_comments_081441.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2010-06-04T08:19:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8876#issuecomment-81441",
    "user": "https://github.com/hivert"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_021672.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2010-06-05T21:51:42Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/8876",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/8876#event-21672"
}
```



---

archive/issue_comments_081442.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2010-06-05T21:51:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8876#issuecomment-81442",
    "user": "https://github.com/mwhansen"
}
```

Resolution: fixed
