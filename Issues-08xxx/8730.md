# Issue 8730: cddlib makefile looks for gmp in /usr/local, should be $SAGE_LOCAL

archive/issues_008730.json:
```json
{
    "assignees": [],
    "body": "The current problem with this spkg is that gmp must be in SAGE_LOCAL, and not in /usr/local This stops the thing building on Solaris, see http://groups.google.com/group/sage-release/msg/35b0c600a5ef250f and other messages in this thread. And gmpdir=/usr/local is hardwired in Makefile.am.\n\n\n\nAssignee: **@aghitza**\n\nCC:  @dimpase drkirkby\n\nUpstream: **Not yet reported upstream; Will do shortly.**\n\nReviewer: **Dmitrii Pasechnik, David Kirkby, John Palmieri**\n\nAuthor: **Volker Braun**\n\nMerged: **sage-4.4.alpha2**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/8730_\n\n",
    "closed_at": "2010-04-24T00:05:13Z",
    "created_at": "2010-04-20T17:30:50Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p1%20%E2%80%93%20blocker",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "cddlib makefile looks for gmp in /usr/local, should be $SAGE_LOCAL",
    "type": "issue",
    "updated_at": "2017-07-19T09:04:39Z",
    "url": "https://github.com/sagemath/sage/issues/8730",
    "user": "https://github.com/vbraun"
}
```
The current problem with this spkg is that gmp must be in SAGE_LOCAL, and not in /usr/local This stops the thing building on Solaris, see http://groups.google.com/group/sage-release/msg/35b0c600a5ef250f and other messages in this thread. And gmpdir=/usr/local is hardwired in Makefile.am.



Assignee: **@aghitza**

CC:  @dimpase drkirkby

Upstream: **Not yet reported upstream; Will do shortly.**

Reviewer: **Dmitrii Pasechnik, David Kirkby, John Palmieri**

Author: **Volker Braun**

Merged: **sage-4.4.alpha2**

_Issue created by migration from https://trac.sagemath.org/ticket/8730_





---

archive/issue_events_100481.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2010-04-20T17:30:50Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/8730",
    "milestone_number": null,
    "milestone_title": "sage-4.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8730#event-100481"
}
```



---

archive/issue_events_100482.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2010-04-20T17:30:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8730",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20algebra",
    "label_color": "0000ff",
    "label_name": "component: algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8730#event-100482"
}
```



---

archive/issue_events_100483.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2010-04-20T17:30:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8730",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8730#event-100483"
}
```



---

archive/issue_events_100484.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2010-04-20T17:30:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8730",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8730#event-100484"
}
```



---

archive/issue_comments_072520.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nUpdated spkg is at \n\nhttp://www.stp.dias.ie/~vbraun/Sage/spkg/cddlib-094f.p6.spkg\n\nI changed gmplib in Makefile.am, re-ran autotools, and added the updated files to patches/. It should work now, but I have no Solaris machine to test on. Please let us know if this fixes the build problem.",
    "created_at": "2010-04-20T17:33:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8730#issuecomment-72520",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:1'>Comment 1:</a>
Updated spkg is at 

http://www.stp.dias.ie/~vbraun/Sage/spkg/cddlib-094f.p6.spkg

I changed gmplib in Makefile.am, re-ran autotools, and added the updated files to patches/. It should work now, but I have no Solaris machine to test on. Please let us know if this fixes the build problem.



---

archive/issue_comments_072521.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nIt builds on t2.math.washington.edu now.",
    "created_at": "2010-04-20T21:43:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8730#issuecomment-72521",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:2'>Comment 2:</a>
It builds on t2.math.washington.edu now.



---

archive/issue_comments_072522.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nThe hg repository in the spkg has unchecked-in changes.  Other than this, is this ready for review?",
    "created_at": "2010-04-21T17:31:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8730#issuecomment-72522",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:3'>Comment 3:</a>
The hg repository in the spkg has unchecked-in changes.  Other than this, is this ready for review?



---

archive/issue_comments_072523.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nReplying to [@jhpalmieri](#comment%3A3):\n> The hg repository in the spkg has unchecked-in changes.  Other than this, is this ready for review?\n\n \nIMHO there should be a short explanation (in SPKG.txt?) on how to make modifications to patches. The whole autoconf/automake machinery is not so trivial...\n\nThanks,\nDima",
    "created_at": "2010-04-21T17:38:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8730#issuecomment-72523",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:4'>Comment 4:</a>
Replying to [@jhpalmieri](#comment%3A3):
> The hg repository in the spkg has unchecked-in changes.  Other than this, is this ready for review?

 
IMHO there should be a short explanation (in SPKG.txt?) on how to make modifications to patches. The whole autoconf/automake machinery is not so trivial...

Thanks,
Dima



---

archive/issue_comments_072524.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nThis fixes my build problem under 64-bit Fedora 10, where /usr/local/lib was providing 32-bit libraries and causing linking errors.",
    "created_at": "2010-04-21T18:41:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8730#issuecomment-72524",
    "user": "https://github.com/kedlaya"
}
```

<a id='comment:5'>Comment 5:</a>
This fixes my build problem under 64-bit Fedora 10, where /usr/local/lib was providing 32-bit libraries and causing linking errors.



---

archive/issue_events_100485.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2010-04-21T20:03:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8730",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8730#event-100485"
}
```



---

archive/issue_comments_072525.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nDima: \"autoreconf -f\" regenerates all auto-generated files. If you want to make changes to the autotools sources you need to read the autoconf manual or ask the friendly package maintainer. Once you understand what autoconf does the organization of the patches/ directory should be self-explanatory (but then, I'm biased :-)\n\nI checked in the changes and the package is ready for review.",
    "created_at": "2010-04-21T20:03:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8730#issuecomment-72525",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:6'>Comment 6:</a>
Dima: "autoreconf -f" regenerates all auto-generated files. If you want to make changes to the autotools sources you need to read the autoconf manual or ask the friendly package maintainer. Once you understand what autoconf does the organization of the patches/ directory should be self-explanatory (but then, I'm biased :-)

I checked in the changes and the package is ready for review.



---

archive/issue_comments_072526.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nReplying to [@vbraun](#comment%3A6):\n> Dima: \"autoreconf -f\" regenerates all auto-generated files. If you want to make changes to the autotools sources you need to read the autoconf manual or ask the friendly package maintainer. Once you understand what autoconf does the organization of the patches/ directory should be self-explanatory (but then, I'm biased :-)\n\nIMHO it is unusual to have sources and configuration files reside in a directory tree like this one.\nE.g. it's unclear in which directory autoreconf must be run...\nAlthough I must admit last time I messed around with autotools config files 11 years ago. :-)\n\n\n> \n> I checked in the changes and the package is ready for review.",
    "created_at": "2010-04-22T04:29:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8730#issuecomment-72526",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:7'>Comment 7:</a>
Replying to [@vbraun](#comment%3A6):
> Dima: "autoreconf -f" regenerates all auto-generated files. If you want to make changes to the autotools sources you need to read the autoconf manual or ask the friendly package maintainer. Once you understand what autoconf does the organization of the patches/ directory should be self-explanatory (but then, I'm biased :-)

IMHO it is unusual to have sources and configuration files reside in a directory tree like this one.
E.g. it's unclear in which directory autoreconf must be run...
Although I must admit last time I messed around with autotools config files 11 years ago. :-)


> 
> I checked in the changes and the package is ready for review.



---

archive/issue_comments_072527.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nFor the record, autoreconf needs to be run in the build directory. The auto(re)generated files then need to be copied into patches/autogenerated/\n\nIf anybody with a good grasp of autotools has a better idea of how to organize things, I'd be happy to hear your opinion. Ideally we'd fix the automake sources upstream, and take upstream's autogenerated files. I'll try to communicate our patches upstream once we make sure our changes build on all Sage-supported platforms.",
    "created_at": "2010-04-22T09:49:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8730#issuecomment-72527",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:8'>Comment 8:</a>
For the record, autoreconf needs to be run in the build directory. The auto(re)generated files then need to be copied into patches/autogenerated/

If anybody with a good grasp of autotools has a better idea of how to organize things, I'd be happy to hear your opinion. Ideally we'd fix the automake sources upstream, and take upstream's autogenerated files. I'll try to communicate our patches upstream once we make sure our changes build on all Sage-supported platforms.



---

archive/issue_events_100486.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2010-04-22T09:53:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8730",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8730#event-100486"
}
```



---

archive/issue_events_100487.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2010-04-22T09:53:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8730",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8730#event-100487"
}
```



---

archive/issue_comments_072528.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nI agree with Dima in that the fact patches/autogenerated has files autogenerated by running autoreconf should be stated in SPKG.txt - not just the tickets. It is not obvious to someone that does not know autoconf/automake well.\n\nAlso, I believe the directory autom4te.cache should be copied too. When 'autoreconf' is run, it creates that directory. The only file in there which says it can be safely removed is autom4te.cache/requests. There is nothing to indicate to me that is is safe to remove the other files from autom4te.cache. One might get away with it, but I think it is wrong to not include them. Note this directory is created by autoreconf - not when one runs the configure script.\n\nWhoever wrote the cddlib package in the first place clearly did not understand autoconf/automake. The whole point of using autoconf/automake is to create a configure script where things like the locations of the libraries can be specified as options - they should not be hard-coded in Makefile.am like they are. The file Makefile.am starts with \"Site customizations:\" which should not be necessary.\n\nAlso, there is a file \"ChangeLog?\" and another \"ChangeLog? (Autosaved)\" in the src directory. Couple that with facts there is no LICENSE file, History/News/ChangeLog are all the same, and you get the feeling the developers did not understand autoconf/automake.\n\nWhat I find strange is that libgmp has been in /usr/local/lib for almost 10 months on 't2'\n\nkirkby@t2:[/usr/local/lib] $ ls -l /usr/local/lib/libgmp*\n-rw-r--r--   1 nobody   nobody    659804 Jun 27  2009 /usr/local/lib/libgmp.a\n-rwxr-xr-x   1 nobody   nobody       785 Jun 27  2009 /usr/local/lib/libgmp.la\nlrwxrwxrwx   1 nobody   nobody        15 Jun 27  2009 /usr/local/lib/libgmp.so -> libgmp.so.3.5.0\nlrwxrwxrwx   1 nobody   nobody        15 Jun 27  2009 /usr/local/lib/libgmp.so.3 -> libgmp.so.3.5.0\n-rwxr-xr-x   1 nobody   nobody    355108 Jun 27  2009 /usr/local/lib/libgmp.so.3.5.0\nkirkby@t2:[/usr/local/lib] $\n\nWhy this should suddenly be a problem is a bit puzzling to me, given cddlib-094f.p5.spkg was merged into sage 4.3.4 and 4.3.4 built on 't2' OK.\n\nDoes anyone know why this suddenly stops working?\n\nBut in principle, I think changing Kakefile.am and regenerating the files with autoreconf is the way to go. I'm just a bit concerned that the autom4te.cache directory is not included. \n\nI think it is important to point out to the upstream developers that having a site customisation file Makefile.am goes totally against the principle of using autoconf/automake. \n\n\nDave",
    "created_at": "2010-04-22T09:53:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8730#issuecomment-72528",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<a id='comment:9'>Comment 9:</a>
I agree with Dima in that the fact patches/autogenerated has files autogenerated by running autoreconf should be stated in SPKG.txt - not just the tickets. It is not obvious to someone that does not know autoconf/automake well.

Also, I believe the directory autom4te.cache should be copied too. When 'autoreconf' is run, it creates that directory. The only file in there which says it can be safely removed is autom4te.cache/requests. There is nothing to indicate to me that is is safe to remove the other files from autom4te.cache. One might get away with it, but I think it is wrong to not include them. Note this directory is created by autoreconf - not when one runs the configure script.

Whoever wrote the cddlib package in the first place clearly did not understand autoconf/automake. The whole point of using autoconf/automake is to create a configure script where things like the locations of the libraries can be specified as options - they should not be hard-coded in Makefile.am like they are. The file Makefile.am starts with "Site customizations:" which should not be necessary.

Also, there is a file "ChangeLog?" and another "ChangeLog? (Autosaved)" in the src directory. Couple that with facts there is no LICENSE file, History/News/ChangeLog are all the same, and you get the feeling the developers did not understand autoconf/automake.

What I find strange is that libgmp has been in /usr/local/lib for almost 10 months on 't2'

kirkby@t2:[/usr/local/lib] $ ls -l /usr/local/lib/libgmp*
-rw-r--r--   1 nobody   nobody    659804 Jun 27  2009 /usr/local/lib/libgmp.a
-rwxr-xr-x   1 nobody   nobody       785 Jun 27  2009 /usr/local/lib/libgmp.la
lrwxrwxrwx   1 nobody   nobody        15 Jun 27  2009 /usr/local/lib/libgmp.so -> libgmp.so.3.5.0
lrwxrwxrwx   1 nobody   nobody        15 Jun 27  2009 /usr/local/lib/libgmp.so.3 -> libgmp.so.3.5.0
-rwxr-xr-x   1 nobody   nobody    355108 Jun 27  2009 /usr/local/lib/libgmp.so.3.5.0
kirkby@t2:[/usr/local/lib] $

Why this should suddenly be a problem is a bit puzzling to me, given cddlib-094f.p5.spkg was merged into sage 4.3.4 and 4.3.4 built on 't2' OK.

Does anyone know why this suddenly stops working?

But in principle, I think changing Kakefile.am and regenerating the files with autoreconf is the way to go. I'm just a bit concerned that the autom4te.cache directory is not included. 

I think it is important to point out to the upstream developers that having a site customisation file Makefile.am goes totally against the principle of using autoconf/automake. 


Dave



---

archive/issue_comments_072529.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nHave any of these issues with cddlib been reported upstream?  The configure script should allow \"--with-gmp=...\" -- we shouldn't have to hack it in ourselves.  Can someone please contact the cddlib people about this, and then change the \"Report Upstream\" field accordingly?\n\n> Why this should suddenly be a problem is a bit puzzling to me, given cddlib-094f.p5.spkg was merged into sage 4.3.4 and 4.3.4 built on 't2' OK.\n\nWell, maybe it's something in my setup on t2 in particular; I haven't heard that Minh (for example) has had this trouble building on t2.  (It also seems to fix Kiran's problem on his linux box.)",
    "created_at": "2010-04-22T15:27:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8730#issuecomment-72529",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:10'>Comment 10:</a>
Have any of these issues with cddlib been reported upstream?  The configure script should allow "--with-gmp=..." -- we shouldn't have to hack it in ourselves.  Can someone please contact the cddlib people about this, and then change the "Report Upstream" field accordingly?

> Why this should suddenly be a problem is a bit puzzling to me, given cddlib-094f.p5.spkg was merged into sage 4.3.4 and 4.3.4 built on 't2' OK.

Well, maybe it's something in my setup on t2 in particular; I haven't heard that Minh (for example) has had this trouble building on t2.  (It also seems to fix Kiran's problem on his linux box.)



---

archive/issue_comments_072530.json:
```json
{
    "body": "Upstream: **Not yet reported upstream; Will do shortly.**",
    "created_at": "2010-04-22T15:27:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8730#issuecomment-72530",
    "user": "https://github.com/jhpalmieri"
}
```

Upstream: **Not yet reported upstream; Will do shortly.**



---

archive/issue_comments_072531.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nReplying to [@jhpalmieri](#comment%3A10):\n> Have any of these issues with cddlib been reported upstream?  The configure script should allow \"--with-gmp=...\" -- we shouldn't have to hack it in ourselves.  Can someone please contact the cddlib people about this, and then change the \"Report Upstream\" field accordingly?\n\nI happen to know Komei Fukuda, the cdd(lib) author, (even had a joint paper with him quite a while ago).\nI'll write to him, once the spkg is ready.\n\nDima\n\n\n> \n> > Why this should suddenly be a problem is a bit puzzling to me, given cddlib-094f.p5.spkg was merged into sage 4.3.4 and 4.3.4 built on 't2' OK.\n\n> \n> Well, maybe it's something in my setup on t2 in particular; I haven't heard that Minh (for example) has had this trouble building on t2.  (It also seems to fix Kiran's problem on his linux box.)",
    "created_at": "2010-04-22T16:05:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8730#issuecomment-72531",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:11'>Comment 11:</a>
Replying to [@jhpalmieri](#comment%3A10):
> Have any of these issues with cddlib been reported upstream?  The configure script should allow "--with-gmp=..." -- we shouldn't have to hack it in ourselves.  Can someone please contact the cddlib people about this, and then change the "Report Upstream" field accordingly?

I happen to know Komei Fukuda, the cdd(lib) author, (even had a joint paper with him quite a while ago).
I'll write to him, once the spkg is ready.

Dima


> 
> > Why this should suddenly be a problem is a bit puzzling to me, given cddlib-094f.p5.spkg was merged into sage 4.3.4 and 4.3.4 built on 't2' OK.

> 
> Well, maybe it's something in my setup on t2 in particular; I haven't heard that Minh (for example) has had this trouble building on t2.  (It also seems to fix Kiran's problem on his linux box.)



---

archive/issue_comments_072532.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nReplying to [@jhpalmieri](#comment%3A10):\n> Have any of these issues with cddlib been reported upstream?  The configure script should allow \"--with-gmp=...\" -- we shouldn't have to hack it in ourselves.  Can someone please contact the cddlib people about this, and then change the \"Report Upstream\" field accordingly?\n> \n> > Why this should suddenly be a problem is a bit puzzling to me, given cddlib-094f.p5.spkg was merged into sage 4.3.4 and 4.3.4 built on 't2' OK.\n\n> \n> Well, maybe it's something in my setup on t2 in particular; I haven't heard that Minh (for example) has had this trouble building on t2.  (It also seems to fix Kiran's problem on his linux box.)\n\nFor the record, I started having those problems on my Fedora box already at 4.3.4 (probably when the cddlib spkg was merged).",
    "created_at": "2010-04-22T16:15:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8730#issuecomment-72532",
    "user": "https://github.com/kedlaya"
}
```

<a id='comment:12'>Comment 12:</a>
Replying to [@jhpalmieri](#comment%3A10):
> Have any of these issues with cddlib been reported upstream?  The configure script should allow "--with-gmp=..." -- we shouldn't have to hack it in ourselves.  Can someone please contact the cddlib people about this, and then change the "Report Upstream" field accordingly?
> 
> > Why this should suddenly be a problem is a bit puzzling to me, given cddlib-094f.p5.spkg was merged into sage 4.3.4 and 4.3.4 built on 't2' OK.

> 
> Well, maybe it's something in my setup on t2 in particular; I haven't heard that Minh (for example) has had this trouble building on t2.  (It also seems to fix Kiran's problem on his linux box.)

For the record, I started having those problems on my Fedora box already at 4.3.4 (probably when the cddlib spkg was merged).



---

archive/issue_comments_072533.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nReplying to [@dimpase](#comment%3A11):\n> I happen to know Komei Fukuda, the cdd(lib) author, (even had a joint paper with him quite a while ago).\n> I'll write to him, once the spkg is ready.\n> \n> Dima\n\nI think he needs to add an AC_ARG_WITH into configure.ac. There must be many packages in Sage which allow the location of gmp to be specified, so there must be plenty of examples of how to do it. I suspect mpfr is probably the best place to look, as the mpfr developers seem to know what they are doing with autoconf/automake. \n\nBut I agree with Dima, that there should be an explanation of what files are in the patches/autogenerated directory. \n\nThere also needs to be a Mercurial patch added on the ticket once the wording is sorted out. \n\nDave",
    "created_at": "2010-04-22T21:42:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8730#issuecomment-72533",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<a id='comment:13'>Comment 13:</a>
Replying to [@dimpase](#comment%3A11):
> I happen to know Komei Fukuda, the cdd(lib) author, (even had a joint paper with him quite a while ago).
> I'll write to him, once the spkg is ready.
> 
> Dima

I think he needs to add an AC_ARG_WITH into configure.ac. There must be many packages in Sage which allow the location of gmp to be specified, so there must be plenty of examples of how to do it. I suspect mpfr is probably the best place to look, as the mpfr developers seem to know what they are doing with autoconf/automake. 

But I agree with Dima, that there should be an explanation of what files are in the patches/autogenerated directory. 

There also needs to be a Mercurial patch added on the ticket once the wording is sorted out. 

Dave



---

archive/issue_events_100488.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2010-04-22T23:15:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8730",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20algebra",
    "label_color": "0000ff",
    "label_name": "component: algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8730#event-100488"
}
```



---

archive/issue_events_100489.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2010-04-22T23:15:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8730",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20packages",
    "label_color": "000080",
    "label_name": "component: packages",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8730#event-100489"
}
```



---

archive/issue_comments_072534.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nBy the way, this is my main blocker ticket for Sage 4.4: without it, Sage doesn't build (for me) on Solaris, nor on certain Fedora setups.  With it, it does.  So if the issues (whether the \"autom4te.cache\" directory is included, and the contents of SPKG.txt) can be settled quickly, that would be great.  Otherwise, we can merge it more or less as is and then deal with follow-up issues on another ticket.",
    "created_at": "2010-04-22T23:15:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8730#issuecomment-72534",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:14'>Comment 14:</a>
By the way, this is my main blocker ticket for Sage 4.4: without it, Sage doesn't build (for me) on Solaris, nor on certain Fedora setups.  With it, it does.  So if the issues (whether the "autom4te.cache" directory is included, and the contents of SPKG.txt) can be settled quickly, that would be great.  Otherwise, we can merge it more or less as is and then deal with follow-up issues on another ticket.



---

archive/issue_events_100490.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2010-04-22T23:15:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8730",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8730#event-100490"
}
```



---

archive/issue_events_100491.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2010-04-22T23:15:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8730",
    "label": "https://github.com/sagemath/sage/labels/p1%20%E2%80%93%20blocker",
    "label_color": "ff0000",
    "label_name": "p1 \u2013 blocker",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8730#event-100491"
}
```



---

archive/issue_comments_072535.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nAfter talking with John about this, let's move followup to a new ticket.    This is just what we have to do because of limited time by the release manager, etc.    Please somebody make a new ticket and summarize what needs to be done next to make this stuff perfect.\n\nAnd David K. -- many thanks for your careful comments above.",
    "created_at": "2010-04-23T23:38:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8730#issuecomment-72535",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:15'>Comment 15:</a>
After talking with John about this, let's move followup to a new ticket.    This is just what we have to do because of limited time by the release manager, etc.    Please somebody make a new ticket and summarize what needs to be done next to make this stuff perfect.

And David K. -- many thanks for your careful comments above.



---

archive/issue_events_100492.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2010-04-23T23:38:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8730",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8730#event-100492"
}
```



---

archive/issue_events_100493.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2010-04-23T23:38:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8730",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8730#event-100493"
}
```



---

archive/issue_events_100494.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2010-04-23T23:39:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8730",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8730#event-100494"
}
```



---

archive/issue_events_100495.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2010-04-23T23:39:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8730",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8730#event-100495"
}
```



---

archive/issue_comments_072536.json:
```json
{
    "body": "Reviewer: **Dmitrii Pasechnik, David Kirkby, John Palmieri**",
    "created_at": "2010-04-24T00:05:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8730#issuecomment-72536",
    "user": "https://github.com/jhpalmieri"
}
```

Reviewer: **Dmitrii Pasechnik, David Kirkby, John Palmieri**



---

archive/issue_comments_072537.json:
```json
{
    "body": "Merged: **sage-4.4.alpha2**",
    "created_at": "2010-04-24T00:05:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8730#issuecomment-72537",
    "user": "https://github.com/jhpalmieri"
}
```

Merged: **sage-4.4.alpha2**



---

archive/issue_events_100496.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2010-04-24T00:05:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8730",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8730#event-100496"
}
```



---

archive/issue_events_100497.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2010-04-24T00:05:13Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/8730",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8730#event-100497"
}
```



---

archive/issue_comments_072538.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nFollowup for the remaining issues raised in this ticket is at #9177",
    "created_at": "2010-06-07T11:49:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8730#issuecomment-72538",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:18'>Comment 18:</a>
Followup for the remaining issues raised in this ticket is at #9177



---

archive/issue_comments_072539.json:
```json
{
    "body": "Changed author from **vbraun** to **Volker Braun**",
    "created_at": "2017-07-19T09:04:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8730#issuecomment-72539",
    "user": "https://github.com/fchapoton"
}
```

Changed author from **vbraun** to **Volker Braun**



---

archive/issue_comments_072540.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nfull author name",
    "created_at": "2017-07-19T09:04:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8730#issuecomment-72540",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:19'>Comment 19:</a>
full author name
