# Issue 8950: new function for sage.calculus.desolve module

archive/issues_008950.json:
```json
{
    "body": "I've done a new function, named desolve_numerical, that solves a system of first order differential equations numerically. It seems to be quite more efficient than the function desolve_system_rk4, included in the same module. It can be seen in the following example (Lotka-Volterra Equations):\n\nsage: x,y,t=var('x,y,t')\u00a0\nsage: des=[x*(1-y),-y*(1-x)]\nsage: ics=[1,0.5] \nsage: times=srange(0,10.1,0.1)\n\nWith the new function we get:\u00a0\n\nsage: timeit('desolve_numerical(des,ics,times,(x,y))') \n125 loops, best of 3: **5.81 ms per loop**\n\nwhile with desolve_system_rk4 the result is:\n\nsage: timeit('desolve_system_rk4(des,[x,y],ics=[0,1,0.5],ivar=t)')\u00a0\n5 loops, best of 3: **558 ms per loop**\n\nAssignee: @burcin\n\nKeywords: desolve\n\nResolution: fixed\n\nAuthor: Oriol Castejon\n\nReviewer: Burcin Erocal, Pablo Angulo, Marshall Hampton\n\nMerged: sage-4.6.alpha1\n\nIssue created by migration from https://trac.sagemath.org/ticket/8950\n\n",
    "closed_at": "2010-09-15T11:13:32Z",
    "created_at": "2010-05-11T15:51:19Z",
    "labels": [
        "component: calculus",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.6",
    "title": "new function for sage.calculus.desolve module",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/8950",
    "user": "https://trac.sagemath.org/admin/accounts/users/uri"
}
```
I've done a new function, named desolve_numerical, that solves a system of first order differential equations numerically. It seems to be quite more efficient than the function desolve_system_rk4, included in the same module. It can be seen in the following example (Lotka-Volterra Equations):

sage: x,y,t=var('x,y,t') 
sage: des=[x*(1-y),-y*(1-x)]
sage: ics=[1,0.5] 
sage: times=srange(0,10.1,0.1)

With the new function we get: 

sage: timeit('desolve_numerical(des,ics,times,(x,y))') 
125 loops, best of 3: **5.81 ms per loop**

while with desolve_system_rk4 the result is:

sage: timeit('desolve_system_rk4(des,[x,y],ics=[0,1,0.5],ivar=t)') 
5 loops, best of 3: **558 ms per loop**

Assignee: @burcin

Keywords: desolve

Resolution: fixed

Author: Oriol Castejon

Reviewer: Burcin Erocal, Pablo Angulo, Marshall Hampton

Merged: sage-4.6.alpha1

Issue created by migration from https://trac.sagemath.org/ticket/8950





---

archive/issue_comments_097851.json:
```json
{
    "body": "<a id='comment:1'></a>Attachment [desolve_numerical.py](tarball://root/attachments/some-uuid/ticket8950/desolve_numerical.py) by mvngu created at 2010-05-11 22:30:36\n\nIs this ready for review?",
    "created_at": "2010-05-11T22:30:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8950#issuecomment-97851",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

<a id='comment:1'></a>Attachment [desolve_numerical.py](tarball://root/attachments/some-uuid/ticket8950/desolve_numerical.py) by mvngu created at 2010-05-11 22:30:36

Is this ready for review?



---

archive/issue_comments_097852.json:
```json
{
    "body": "Changing merged from \"desolvers.py\" to \"\"",
    "created_at": "2010-05-11T22:30:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8950#issuecomment-97852",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

Changing merged from "desolvers.py" to ""



---

archive/issue_comments_097853.json:
```json
{
    "body": "<a id='comment:2'></a>Yes, I think so. I've been using it for a while and I didn't find any problem. Automatic testing works also.\n\nReplying to [mvngu](#comment%3A1):\n\n> Is this ready for review?",
    "created_at": "2010-05-12T08:56:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8950#issuecomment-97853",
    "user": "https://trac.sagemath.org/admin/accounts/users/uri"
}
```

<a id='comment:2'></a>Yes, I think so. I've been using it for a while and I didn't find any problem. Automatic testing works also.

Replying to [mvngu](#comment%3A1):

> Is this ready for review?



---

archive/issue_comments_097854.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2010-05-12T10:53:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8950#issuecomment-97854",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_097855.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2010-05-12T21:20:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8950#issuecomment-97855",
    "user": "https://github.com/wdjoyner"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_097856.json:
```json
{
    "body": "<a id='comment:4'></a>Just as a point of convention, typically new sage methods should have docstrings which illustrate all the options avaialble. So if there are optional arguments x, y, z, then there should be docstring examples illustrating these with non-default arguments. This method is great in the sense that it has a huge number of optional arguments. However, only a few of them are used in the examples. Could you please expand the examples to illustrate more of the optional variables?",
    "created_at": "2010-05-12T21:20:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8950#issuecomment-97856",
    "user": "https://github.com/wdjoyner"
}
```

<a id='comment:4'></a>Just as a point of convention, typically new sage methods should have docstrings which illustrate all the options avaialble. So if there are optional arguments x, y, z, then there should be docstring examples illustrating these with non-default arguments. This method is great in the sense that it has a huge number of optional arguments. However, only a few of them are used in the examples. Could you please expand the examples to illustrate more of the optional variables?



---

archive/issue_comments_097857.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2010-05-16T19:33:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8950#issuecomment-97857",
    "user": "https://trac.sagemath.org/admin/accounts/users/uri"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_097858.json:
```json
{
    "body": "<a id='comment:5'></a>Attachment [trac_8950_desolve_numerical.patch](tarball://root/attachments/some-uuid/ticket8950/trac_8950_desolve_numerical.patch) by uri created at 2010-05-16 19:33:11\n\nOk, I added information of the optional parameters and an example using non default ones.\n\nReplying to [wdj](#comment%3A4):\n\n> Just as a point of convention, typically new sage methods should have docstrings which illustrate all the options avaialble. So if there are optional arguments x, y, z, then there should be docstring examples illustrating these with non-default arguments. This method is great in the sense that it has a huge number of optional arguments. However, only a few of them are used in the examples. Could you please expand the examples to illustrate more of the optional variables?",
    "created_at": "2010-05-16T19:33:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8950#issuecomment-97858",
    "user": "https://trac.sagemath.org/admin/accounts/users/uri"
}
```

<a id='comment:5'></a>Attachment [trac_8950_desolve_numerical.patch](tarball://root/attachments/some-uuid/ticket8950/trac_8950_desolve_numerical.patch) by uri created at 2010-05-16 19:33:11

Ok, I added information of the optional parameters and an example using non default ones.

Replying to [wdj](#comment%3A4):

> Just as a point of convention, typically new sage methods should have docstrings which illustrate all the options avaialble. So if there are optional arguments x, y, z, then there should be docstring examples illustrating these with non-default arguments. This method is great in the sense that it has a huge number of optional arguments. However, only a few of them are used in the examples. Could you please expand the examples to illustrate more of the optional variables?



---

archive/issue_comments_097859.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2010-05-24T11:42:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8950#issuecomment-97859",
    "user": "https://github.com/burcin"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_events_021865.json:
```json
{
    "actor": "https://github.com/burcin",
    "created_at": "2010-05-24T11:42:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/8950",
    "milestone": "sage-4.4.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/8950#event-21865"
}
```



---

archive/issue_comments_097860.json:
```json
{
    "body": "<a id='comment:6'></a>Thanks for the patch, it looks like a good start.\n\nHere are a few comments (not a formal review):\n\n* You should change your code to conform to the Python coding conventions: http://sagemath.org/doc/developer/conventions.html#python-coding-conventions\n  In particular,\n  * use 4 spaces for indentation\n  * try not to have lines exceeding 80 characters (some of us use old fashioned command line editors)\n  * change the ComputeJacobian argument.\n* Your function doesn't seem to do anything, comparing with the previous attachment:desolve_numerical.py a whole chunk of code starting with the `else` clause corresponding to the second `if` statement seems to be missing\n* You should use y[:] to copy a list\n* Other functions in the same file also solve differential equations numerically. Choosing a more specific name for your function might be more appropriate.\n\nSomeone who uses this functionality more often should comment on the content and the name of the function.",
    "created_at": "2010-05-24T11:42:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8950#issuecomment-97860",
    "user": "https://github.com/burcin"
}
```

<a id='comment:6'></a>Thanks for the patch, it looks like a good start.

Here are a few comments (not a formal review):

* You should change your code to conform to the Python coding conventions: http://sagemath.org/doc/developer/conventions.html#python-coding-conventions
  In particular,
  * use 4 spaces for indentation
  * try not to have lines exceeding 80 characters (some of us use old fashioned command line editors)
  * change the ComputeJacobian argument.
* Your function doesn't seem to do anything, comparing with the previous attachment:desolve_numerical.py a whole chunk of code starting with the `else` clause corresponding to the second `if` statement seems to be missing
* You should use y[:] to copy a list
* Other functions in the same file also solve differential equations numerically. Choosing a more specific name for your function might be more appropriate.

Someone who uses this functionality more often should comment on the content and the name of the function.



---

archive/issue_comments_097861.json:
```json
{
    "body": "Attachment [trac_8950_desolve_numerical.2.patch](tarball://root/attachments/some-uuid/ticket8950/trac_8950_desolve_numerical.2.patch) by uri created at 2010-06-30 08:49:39",
    "created_at": "2010-06-30T08:49:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8950#issuecomment-97861",
    "user": "https://trac.sagemath.org/admin/accounts/users/uri"
}
```

Attachment [trac_8950_desolve_numerical.2.patch](tarball://root/attachments/some-uuid/ticket8950/trac_8950_desolve_numerical.2.patch) by uri created at 2010-06-30 08:49:39



---

archive/issue_comments_097862.json:
```json
{
    "body": "<a id='comment:7'></a>After a while, I've been able to make the changes proposed by burcin (by the way, thanks for your suggestions):\n\n* use 4 spaces for indentation -> Done\n* try not to have lines exceeding 80 characters (some of us use old fashioned command line editors) -> Done, except for a line in the examples. I couldn't break that line, because then the automatic testing wouldn't work. I guess it's not a big deal, since it is not part of the code, though.\n* change the\u00a0ComputeJacobian\u00a0argument -> Done\n* Your function doesn't seem to do anything, comparing with the previous[attachment:desolve_numerical.py attachment:desolve_numerical.py]\u00a0a whole chunk of code starting with the\u00a0`else`\u00a0clause corresponding to the second\u00a0`if`\u00a0statement seems to be missing -> I don't get your point here... I think there's no problem with the second if statement. Could you be more precise?\n* You should use y[:] to copy a list -> Done\n* Other functions in the same file also solve differential equations numerically. Choosing a more specific name for your function might be more appropriate. -> You're right. I changed the name to **desolve_odeint**, since the it uses the integrate function from odeint module (from scipy).\n\n\n\nI will be grateful for any other comments!",
    "created_at": "2010-06-30T08:59:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8950#issuecomment-97862",
    "user": "https://trac.sagemath.org/admin/accounts/users/uri"
}
```

<a id='comment:7'></a>After a while, I've been able to make the changes proposed by burcin (by the way, thanks for your suggestions):

* use 4 spaces for indentation -> Done
* try not to have lines exceeding 80 characters (some of us use old fashioned command line editors) -> Done, except for a line in the examples. I couldn't break that line, because then the automatic testing wouldn't work. I guess it's not a big deal, since it is not part of the code, though.
* change the ComputeJacobian argument -> Done
* Your function doesn't seem to do anything, comparing with the previous[attachment:desolve_numerical.py attachment:desolve_numerical.py] a whole chunk of code starting with the `else` clause corresponding to the second `if` statement seems to be missing -> I don't get your point here... I think there's no problem with the second if statement. Could you be more precise?
* You should use y[:] to copy a list -> Done
* Other functions in the same file also solve differential equations numerically. Choosing a more specific name for your function might be more appropriate. -> You're right. I changed the name to **desolve_odeint**, since the it uses the integrate function from odeint module (from scipy).



I will be grateful for any other comments!



---

archive/issue_comments_097863.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2010-06-30T08:59:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8950#issuecomment-97863",
    "user": "https://trac.sagemath.org/admin/accounts/users/uri"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_097864.json:
```json
{
    "body": "<a id='comment:8'></a>Oriol, it seems that your trac_8950_desolve_numerical.2.patch is exactly the same as trac_8950_desolve_numerical.patch.",
    "created_at": "2010-07-20T06:46:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8950#issuecomment-97864",
    "user": "https://trac.sagemath.org/admin/accounts/users/pang"
}
```

<a id='comment:8'></a>Oriol, it seems that your trac_8950_desolve_numerical.2.patch is exactly the same as trac_8950_desolve_numerical.patch.



---

archive/issue_comments_097865.json:
```json
{
    "body": "<a id='comment:9'></a>Thanks, I hadn't realised I just uploaded the old patch...\u00a0\n\nI'll upload the correct one now, I hope I do it right this time :)",
    "created_at": "2010-07-22T14:57:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8950#issuecomment-97865",
    "user": "https://trac.sagemath.org/admin/accounts/users/uri"
}
```

<a id='comment:9'></a>Thanks, I hadn't realised I just uploaded the old patch... 

I'll upload the correct one now, I hope I do it right this time :)



---

archive/issue_comments_097866.json:
```json
{
    "body": "<a id='comment:10'></a>I got an error when applying your patch:\n\n```\napplying trac_8950_desolve_odeint.patch abort: malformed patch\n```\n\nThe patch says: \n\n```\ndiff -r eb27a39a6df4 -r 15f9c1da9cc9 sage/calculus/desolvers.py\n--- a/sage/calculus/desolvers.py\tWed Jan 20 15:09:32 2010 -0800\n+++ b/sage/calculus/desolvers.py\tWed Jun 30 10:47:17 2010 +0200\n@@ -1053,3 +1053,270 @@\n     sol.extend(sol_2)\n \n     return sol\n+\n+def desolve_odeint(des, ics, times, dvars, ivar=None, compute_jac=False, args=()\n```\n\n\nbut the file desolvers.py has now more lines, and sol.extend is now on line 1220, not on line 1053. I'm not an expert on version control, but this makes me think that the patch was not applied because I'm using a more recent version of Sage than the one you used when you exported the patch. Maybe if you upgrade before exporting the patch I'll be able to apply it. I've tried to modify the patch manually but failed.",
    "created_at": "2010-07-22T21:04:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8950#issuecomment-97866",
    "user": "https://trac.sagemath.org/admin/accounts/users/pang"
}
```

<a id='comment:10'></a>I got an error when applying your patch:

```
applying trac_8950_desolve_odeint.patch abort: malformed patch
```

The patch says: 

```
diff -r eb27a39a6df4 -r 15f9c1da9cc9 sage/calculus/desolvers.py
--- a/sage/calculus/desolvers.py	Wed Jan 20 15:09:32 2010 -0800
+++ b/sage/calculus/desolvers.py	Wed Jun 30 10:47:17 2010 +0200
@@ -1053,3 +1053,270 @@
     sol.extend(sol_2)
 
     return sol
+
+def desolve_odeint(des, ics, times, dvars, ivar=None, compute_jac=False, args=()
```


but the file desolvers.py has now more lines, and sol.extend is now on line 1220, not on line 1053. I'm not an expert on version control, but this makes me think that the patch was not applied because I'm using a more recent version of Sage than the one you used when you exported the patch. Maybe if you upgrade before exporting the patch I'll be able to apply it. I've tried to modify the patch manually but failed.



---

archive/issue_comments_097867.json:
```json
{
    "body": "<a id='comment:11'></a>Attachment [trac_8950_desolve_odeint.patch](tarball://root/attachments/some-uuid/ticket8950/trac_8950_desolve_odeint.patch) by uri created at 2010-07-26 11:55:03\n\nYou were right, I had an old version of Sage. Now I've created the patch in the last version (4.5), so I think it should work. Please, let me know if everything is allright this time.\n\nThanks for your time!",
    "created_at": "2010-07-26T11:55:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8950#issuecomment-97867",
    "user": "https://trac.sagemath.org/admin/accounts/users/uri"
}
```

<a id='comment:11'></a>Attachment [trac_8950_desolve_odeint.patch](tarball://root/attachments/some-uuid/ticket8950/trac_8950_desolve_odeint.patch) by uri created at 2010-07-26 11:55:03

You were right, I had an old version of Sage. Now I've created the patch in the last version (4.5), so I think it should work. Please, let me know if everything is allright this time.

Thanks for your time!



---

archive/issue_comments_097868.json:
```json
{
    "body": "<a id='comment:12'></a>The patch is a little weird now: it contains first the old one and then the same code, but with instructions to include it in a different place. I couldn't use it, and I think trac has trouble with it, too, because it doesn't render the patch if you click on it, like it does usually. I can produce a patch from a fresh install if you want, but let's talk about the content first:\n\nIt pretty much works, but:\n\n1. I'm concerned about using the variable 't' if the argument ivar is not set explicitely. Is it safe to assume that nobody would use the name 't' for a dependent variable? Is it safe to assume that everybody would use the name 't' for the independent variable? I would prefer either of these two approaches:\n\n   * Always require the parameter ivar\n   * Use some code like in `desolve_system_rk4` to try to guess the independent var:\n\n   1. compute all variables used in the functions passed as arguments:\n\n```\nall_vars = set([])\n\nfor de in des:\n    all_vars.update(set(de.variables()))\n```\n2. if there is exactly one variable in all_vars not in dvars, assume it is the independent var:\n2. if all_vars is contained in dvars, create an adhoc independent variable that is not used elsewhere. I've thought of a safe way to pick up a new var, which maybe overkill. It seems like this is not necessary thanks to the particular way in which fast_float works, but IMHO it's better to be on the safe side:\n2. otherwise raise an error\n\n```\n...\nivars = all_vars - set(dvars)\nif len(ivars) == 1:\n    ivar = ivars.pop()\nelif not ivars:\n    safe_name = 't_' + str(dvars)\n    ivar = var(safe_name)\nelse:\n    raise ...\n\n```\nOriol: what's your opinion on this issue? \n\n2. I'd use:\n\n```\nJ=diff(des,dvars)\n```\n\ninstead of\n\n```\nJ=jacobian(des,dvars)\nJ=J[0][0]\n```\n\n3. In my opinion, the parameters to ``odeint`` mu and ml should not be used. Those parameters do not make sense if you don't pass Dfun as an argument. But please correct me if I'm wrong.\n\n4. I've introduced a few ``is_SymbolicVariable(dvars)`` tests. I think the test ``len(dvars)==0`` is a lousy test for a Symbolic Variable.\n\n5. The documentation wasn't building correctly. Sphinx is a bit rigid, and we need to follow the indentation rules, etc. I've fixed that already.\n\nI'm attaching a patch file with the changes above included. It probably won't merge cleanly into your Sage install, so I'm attaching the plain file desolvers.py directly. Please tell me what you think, and then we will ask for another reviewer.",
    "created_at": "2010-07-28T19:48:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8950#issuecomment-97868",
    "user": "https://trac.sagemath.org/admin/accounts/users/pang"
}
```

<a id='comment:12'></a>The patch is a little weird now: it contains first the old one and then the same code, but with instructions to include it in a different place. I couldn't use it, and I think trac has trouble with it, too, because it doesn't render the patch if you click on it, like it does usually. I can produce a patch from a fresh install if you want, but let's talk about the content first:

It pretty much works, but:

1. I'm concerned about using the variable 't' if the argument ivar is not set explicitely. Is it safe to assume that nobody would use the name 't' for a dependent variable? Is it safe to assume that everybody would use the name 't' for the independent variable? I would prefer either of these two approaches:

   * Always require the parameter ivar
   * Use some code like in `desolve_system_rk4` to try to guess the independent var:

   1. compute all variables used in the functions passed as arguments:

```
all_vars = set([])

for de in des:
    all_vars.update(set(de.variables()))
```
2. if there is exactly one variable in all_vars not in dvars, assume it is the independent var:
2. if all_vars is contained in dvars, create an adhoc independent variable that is not used elsewhere. I've thought of a safe way to pick up a new var, which maybe overkill. It seems like this is not necessary thanks to the particular way in which fast_float works, but IMHO it's better to be on the safe side:
2. otherwise raise an error

```
...
ivars = all_vars - set(dvars)
if len(ivars) == 1:
    ivar = ivars.pop()
elif not ivars:
    safe_name = 't_' + str(dvars)
    ivar = var(safe_name)
else:
    raise ...

```
Oriol: what's your opinion on this issue? 

2. I'd use:

```
J=diff(des,dvars)
```

instead of

```
J=jacobian(des,dvars)
J=J[0][0]
```

3. In my opinion, the parameters to ``odeint`` mu and ml should not be used. Those parameters do not make sense if you don't pass Dfun as an argument. But please correct me if I'm wrong.

4. I've introduced a few ``is_SymbolicVariable(dvars)`` tests. I think the test ``len(dvars)==0`` is a lousy test for a Symbolic Variable.

5. The documentation wasn't building correctly. Sphinx is a bit rigid, and we need to follow the indentation rules, etc. I've fixed that already.

I'm attaching a patch file with the changes above included. It probably won't merge cleanly into your Sage install, so I'm attaching the plain file desolvers.py directly. Please tell me what you think, and then we will ask for another reviewer.



---

archive/issue_comments_097869.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2010-07-28T19:48:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8950#issuecomment-97869",
    "user": "https://trac.sagemath.org/admin/accounts/users/pang"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_097870.json:
```json
{
    "body": "Attachment [trac_8950_desolve_odeint_2.patch](tarball://root/attachments/some-uuid/ticket8950/trac_8950_desolve_odeint_2.patch) by pang created at 2010-07-28 19:48:38",
    "created_at": "2010-07-28T19:48:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8950#issuecomment-97870",
    "user": "https://trac.sagemath.org/admin/accounts/users/pang"
}
```

Attachment [trac_8950_desolve_odeint_2.patch](tarball://root/attachments/some-uuid/ticket8950/trac_8950_desolve_odeint_2.patch) by pang created at 2010-07-28 19:48:38



---

archive/issue_comments_097871.json:
```json
{
    "body": "Attachment [desolvers.py](tarball://root/attachments/some-uuid/ticket8950/desolvers.py) by pang created at 2010-07-28 19:50:47",
    "created_at": "2010-07-28T19:50:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8950#issuecomment-97871",
    "user": "https://trac.sagemath.org/admin/accounts/users/pang"
}
```

Attachment [desolvers.py](tarball://root/attachments/some-uuid/ticket8950/desolvers.py) by pang created at 2010-07-28 19:50:47



---

archive/issue_comments_097872.json:
```json
{
    "body": "<a id='comment:13'></a>Attachment [trac_8950_desolve_odeint_3.patch](tarball://root/attachments/some-uuid/ticket8950/trac_8950_desolve_odeint_3.patch) by pang created at 2010-07-28 19:54:08\n\nI just made a mistake you might find funny: I exported the patch to a file without deleting the file first, and then the changes were appended to the existing file. The resulting patch: ``trac_8950_desolve_odeint_2.patch`` contains duplicated information.\n\nThe patch ``trac_8950_desolve_odeint_3.patch`` is correct.",
    "created_at": "2010-07-28T19:54:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8950#issuecomment-97872",
    "user": "https://trac.sagemath.org/admin/accounts/users/pang"
}
```

<a id='comment:13'></a>Attachment [trac_8950_desolve_odeint_3.patch](tarball://root/attachments/some-uuid/ticket8950/trac_8950_desolve_odeint_3.patch) by pang created at 2010-07-28 19:54:08

I just made a mistake you might find funny: I exported the patch to a file without deleting the file first, and then the changes were appended to the existing file. The resulting patch: ``trac_8950_desolve_odeint_2.patch`` contains duplicated information.

The patch ``trac_8950_desolve_odeint_3.patch`` is correct.



---

archive/issue_comments_097873.json:
```json
{
    "body": "<a id='comment:14'></a>Thanks pang, I think the changes you've done are great! Here's my opinion:\n\nReplying to [pang](#comment%3A12):\n\n> 1. I'm concerned about using the variable 't' if the argument ivar is not set explicitely. Is it safe to assume that nobody would use the name 't' for a dependent variable? Is it safe to assume that everybody would use the name 't' for the independent variable? \n\n\nYes, I think you're right, it's not safe to use the name 't' as default for the independent variable.\n\n\n> I would prefer either of these two approaches:\n> \n> * Always require the parameter ivar\n> * Use some code like in `desolve_system_rk4` to try to guess the independent var:\n\n\nI prefer the second approach, because in a lot of cases the independent variable is in fact (almost) meaningless. Besides, the code you've written is great, and I think it should work perfectly (well I've made a small correction, I'll explain later).\n\n\n> 2. I'd use:\n> \n> \n> ```\n> J=diff(des,dvars)\n> ```\n> \n> instead of\n> \n> \n> ```\n> J=jacobian(des,dvars)\n> J=J[0][0]\n> ```\n\n\nI agree, I just didn't think about that.\n\n\n> 3. In my opinion, the parameters to ``odeint`` mu and ml should not be used. Those parameters do not make sense if you don't pass Dfun as an argument. But please correct me if I'm wrong.\n\n\nAgain, totally agree.\n\n\n> 4. I've introduced a few ``is_SymbolicVariable(dvars)`` tests. I think the test ``len(dvars)==0`` is a lousy test for a Symbolic Variable.\n\n\nI still don't really understand why you don't like the test ``len(dvars)==0``, but it's true that the ``is_SymbolicVariable(dvars)`` test is more elegant. By the way, the first ``len(dvars)==0`` test is still there; is there any reason why the other one cannot be used?\n\n\n> 5. The documentation wasn't building correctly. Sphinx is a bit rigid, and we need to follow the indentation rules, etc. I've fixed that already.\n\n\nThanks, I didn't know that.\n\n\nI attach a new patch (trac_8950_odeint_4.patch), because I made some small changes:\n\n1. In the documentation, the description of 'ivar' said ' default is t', which is not anymore, so I changed it to just 'optional'.\n\n2. In one of the examples there was a mistake, because it used the time vector 'times' which was defined in a previous example and not the one that was defined in it, which was called 't'.\n\n3. At the beggining there was:\n\n```\nif ivar==None:\n    if len(dvars)==0 or len(dvars)==1:\n        all_vars = set(des.variables())\n    else:\n        ...\n```\n\nHowever, in the case that ``len(dvars)==1`` is true, 'des.variables()' will give an error. So instead I wrote:\n\n```\nif ivar==None:\n    if len(dvars)==0 or len(dvars)==1:\n        if len(dvars)==1:\n            des=des[0]\n            dvars=dvars[0]\n        all_vars = set(des.variables())\n    else:\n        ...\n```\n\nAs the redefinition 'dvars=dvars[0]' was already done afterwards, I moved it to here for simplicity.\n\nPlease, let me know your opinion. And thanks again for your work!",
    "created_at": "2010-08-02T11:49:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8950#issuecomment-97873",
    "user": "https://trac.sagemath.org/admin/accounts/users/uri"
}
```

<a id='comment:14'></a>Thanks pang, I think the changes you've done are great! Here's my opinion:

Replying to [pang](#comment%3A12):

> 1. I'm concerned about using the variable 't' if the argument ivar is not set explicitely. Is it safe to assume that nobody would use the name 't' for a dependent variable? Is it safe to assume that everybody would use the name 't' for the independent variable? 


Yes, I think you're right, it's not safe to use the name 't' as default for the independent variable.


> I would prefer either of these two approaches:
> 
> * Always require the parameter ivar
> * Use some code like in `desolve_system_rk4` to try to guess the independent var:


I prefer the second approach, because in a lot of cases the independent variable is in fact (almost) meaningless. Besides, the code you've written is great, and I think it should work perfectly (well I've made a small correction, I'll explain later).


> 2. I'd use:
> 
> 
> ```
> J=diff(des,dvars)
> ```
> 
> instead of
> 
> 
> ```
> J=jacobian(des,dvars)
> J=J[0][0]
> ```


I agree, I just didn't think about that.


> 3. In my opinion, the parameters to ``odeint`` mu and ml should not be used. Those parameters do not make sense if you don't pass Dfun as an argument. But please correct me if I'm wrong.


Again, totally agree.


> 4. I've introduced a few ``is_SymbolicVariable(dvars)`` tests. I think the test ``len(dvars)==0`` is a lousy test for a Symbolic Variable.


I still don't really understand why you don't like the test ``len(dvars)==0``, but it's true that the ``is_SymbolicVariable(dvars)`` test is more elegant. By the way, the first ``len(dvars)==0`` test is still there; is there any reason why the other one cannot be used?


> 5. The documentation wasn't building correctly. Sphinx is a bit rigid, and we need to follow the indentation rules, etc. I've fixed that already.


Thanks, I didn't know that.


I attach a new patch (trac_8950_odeint_4.patch), because I made some small changes:

1. In the documentation, the description of 'ivar' said ' default is t', which is not anymore, so I changed it to just 'optional'.

2. In one of the examples there was a mistake, because it used the time vector 'times' which was defined in a previous example and not the one that was defined in it, which was called 't'.

3. At the beggining there was:

```
if ivar==None:
    if len(dvars)==0 or len(dvars)==1:
        all_vars = set(des.variables())
    else:
        ...
```

However, in the case that ``len(dvars)==1`` is true, 'des.variables()' will give an error. So instead I wrote:

```
if ivar==None:
    if len(dvars)==0 or len(dvars)==1:
        if len(dvars)==1:
            des=des[0]
            dvars=dvars[0]
        all_vars = set(des.variables())
    else:
        ...
```

As the redefinition 'dvars=dvars[0]' was already done afterwards, I moved it to here for simplicity.

Please, let me know your opinion. And thanks again for your work!



---

archive/issue_comments_097874.json:
```json
{
    "body": "<a id='comment:15'></a>Attachment [trac_8950_desolve_odeint_4.patch](tarball://root/attachments/some-uuid/ticket8950/trac_8950_desolve_odeint_4.patch) by uri created at 2010-08-03 16:23:26",
    "created_at": "2010-08-03T16:23:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8950#issuecomment-97874",
    "user": "https://trac.sagemath.org/admin/accounts/users/uri"
}
```

<a id='comment:15'></a>Attachment [trac_8950_desolve_odeint_4.patch](tarball://root/attachments/some-uuid/ticket8950/trac_8950_desolve_odeint_4.patch) by uri created at 2010-08-03 16:23:26



---

archive/issue_comments_097875.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2010-08-03T16:23:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8950#issuecomment-97875",
    "user": "https://trac.sagemath.org/admin/accounts/users/uri"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_097876.json:
```json
{
    "body": "<a id='comment:16'></a>Is it possible to have a unified patch?  It is very difficult to follow exactly what is happening for someone who just discovered this ticket :)  \n\nAlso, this is the Scipy one, correct?  Is there also a GSL desolver which could be wrapped and put here (I think the current ones are all from Maxima)?  That would be very natural, or perhaps as an `algorithm=` argument.",
    "created_at": "2010-08-06T19:28:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8950#issuecomment-97876",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:16'></a>Is it possible to have a unified patch?  It is very difficult to follow exactly what is happening for someone who just discovered this ticket :)  

Also, this is the Scipy one, correct?  Is there also a GSL desolver which could be wrapped and put here (I think the current ones are all from Maxima)?  That would be very natural, or perhaps as an `algorithm=` argument.



---

archive/issue_comments_097877.json:
```json
{
    "body": "<a id='comment:17'></a>Replying to [kcrisman](#comment%3A16):\n> Is it possible to have a unified patch?  It is very difficult to follow exactly what is happening for someone who just discovered this ticket :)  \n\n\nI attached the file trac_8950_desolve_odeint_unified_4.patch, it contains all the changes contained in the previous patches. I'll be glad to hear your opinion!\n\n> Also, this is the Scipy one, correct?  Is there also a GSL desolver which could be wrapped and put here (I think the current ones are all from Maxima)?  That would be very natural, or perhaps as an `algorithm=` argument.\n\n\nYes, this is the Scipy one. I think the class ode_solver uses the GSL desolver. I'm not sure if it's necessary to put it here too... however, I did a routine to initialize this class (from my point of view the initialization is a little bit tedious, particularly if you want to use symbolic functions but still want it to be fast). It needs some improvement though, when I finish it I'll tell you :)",
    "created_at": "2010-08-09T14:40:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8950#issuecomment-97877",
    "user": "https://trac.sagemath.org/admin/accounts/users/uri"
}
```

<a id='comment:17'></a>Replying to [kcrisman](#comment%3A16):
> Is it possible to have a unified patch?  It is very difficult to follow exactly what is happening for someone who just discovered this ticket :)  


I attached the file trac_8950_desolve_odeint_unified_4.patch, it contains all the changes contained in the previous patches. I'll be glad to hear your opinion!

> Also, this is the Scipy one, correct?  Is there also a GSL desolver which could be wrapped and put here (I think the current ones are all from Maxima)?  That would be very natural, or perhaps as an `algorithm=` argument.


Yes, this is the Scipy one. I think the class ode_solver uses the GSL desolver. I'm not sure if it's necessary to put it here too... however, I did a routine to initialize this class (from my point of view the initialization is a little bit tedious, particularly if you want to use symbolic functions but still want it to be fast). It needs some improvement though, when I finish it I'll tell you :)



---

archive/issue_comments_097878.json:
```json
{
    "body": "<a id='comment:18'></a>This looks good to me - applied cleanly on sage-4.5.3.alpha1, seems to work well, documentation for the reference manual looks fine.\n\nI am going to give this a positive review, but if you previously reviewed this you might want to take a final look and make sure I'm not missing anything.",
    "created_at": "2010-08-30T20:51:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8950#issuecomment-97878",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhampton"
}
```

<a id='comment:18'></a>This looks good to me - applied cleanly on sage-4.5.3.alpha1, seems to work well, documentation for the reference manual looks fine.

I am going to give this a positive review, but if you previously reviewed this you might want to take a final look and make sure I'm not missing anything.



---

archive/issue_comments_097879.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2010-08-30T20:51:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8950#issuecomment-97879",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhampton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_097880.json:
```json
{
    "body": "<a id='comment:19'></a>Replying to [mhampton](#comment%3A18):\n> This looks good to me - applied cleanly on sage-4.5.3.alpha1, seems to work well, documentation for the reference manual looks fine.\n> \n> I am going to give this a positive review, but if you previously reviewed this you might want to take a final look and make sure I'm not missing anything.\n\n\nGreat, thanks. Maybe pang or kcrisman have some comments still.",
    "created_at": "2010-08-31T11:34:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8950#issuecomment-97880",
    "user": "https://trac.sagemath.org/admin/accounts/users/uri"
}
```

<a id='comment:19'></a>Replying to [mhampton](#comment%3A18):
> This looks good to me - applied cleanly on sage-4.5.3.alpha1, seems to work well, documentation for the reference manual looks fine.
> 
> I am going to give this a positive review, but if you previously reviewed this you might want to take a final look and make sure I'm not missing anything.


Great, thanks. Maybe pang or kcrisman have some comments still.



---

archive/issue_comments_097881.json:
```json
{
    "body": "<a id='comment:20'></a>Which patch(es) should the release manager merge?  The attachment [attachment:trac_8950_desolve_odeint_unified_4.patch] is missing a Mercurial header.  In case it helps: [This wiki page](http://wiki.sagemath.org/MercurialQueues) shows how to fold together multiple patches.\n\nAlso, can someone fill in the \"Reviewer(s)\" field?",
    "created_at": "2010-09-05T03:40:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8950#issuecomment-97881",
    "user": "https://github.com/qed777"
}
```

<a id='comment:20'></a>Which patch(es) should the release manager merge?  The attachment [attachment:trac_8950_desolve_odeint_unified_4.patch] is missing a Mercurial header.  In case it helps: [This wiki page](http://wiki.sagemath.org/MercurialQueues) shows how to fold together multiple patches.

Also, can someone fill in the "Reviewer(s)" field?



---

archive/issue_comments_097882.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2010-09-05T03:40:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8950#issuecomment-97882",
    "user": "https://github.com/qed777"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_097883.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2010-09-07T14:24:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8950#issuecomment-97883",
    "user": "https://trac.sagemath.org/admin/accounts/users/uri"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_097884.json:
```json
{
    "body": "<a id='comment:21'></a>Replying to [mpatel](#comment%3A20):\n> Which patch(es) should the release manager merge?  The attachment [attachment:trac_8950_desolve_odeint_unified_4.patch] is missing a Mercurial header.  In case it helps: [This wiki page](http://wiki.sagemath.org/MercurialQueues) shows how to fold together multiple patches.\n\n\nThanks for the help. Now [attachment:trac_8950_desolve_odeint_unified_4.patch] contains the Mercurial header. This is the patch that the release manager should merge.",
    "created_at": "2010-09-07T14:24:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8950#issuecomment-97884",
    "user": "https://trac.sagemath.org/admin/accounts/users/uri"
}
```

<a id='comment:21'></a>Replying to [mpatel](#comment%3A20):
> Which patch(es) should the release manager merge?  The attachment [attachment:trac_8950_desolve_odeint_unified_4.patch] is missing a Mercurial header.  In case it helps: [This wiki page](http://wiki.sagemath.org/MercurialQueues) shows how to fold together multiple patches.


Thanks for the help. Now [attachment:trac_8950_desolve_odeint_unified_4.patch] contains the Mercurial header. This is the patch that the release manager should merge.



---

archive/issue_comments_097885.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Burcin Erocal, Pablo Angulo, Marshall Hampton\"",
    "created_at": "2010-09-07T14:44:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8950#issuecomment-97885",
    "user": "https://github.com/qed777"
}
```

Changing reviewer from "" to "Burcin Erocal, Pablo Angulo, Marshall Hampton"



---

archive/issue_comments_097886.json:
```json
{
    "body": "<a id='comment:22'></a>Replying to [uri](#comment%3A21):\n> Thanks for the help. Now [attachment:trac_8950_desolve_odeint_unified_4.patch] contains the Mercurial header. This is the patch that the release manager should merge.\n\n\nCould you check this?  I still see a header-less patch.",
    "created_at": "2010-09-07T14:44:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8950#issuecomment-97886",
    "user": "https://github.com/qed777"
}
```

<a id='comment:22'></a>Replying to [uri](#comment%3A21):
> Thanks for the help. Now [attachment:trac_8950_desolve_odeint_unified_4.patch] contains the Mercurial header. This is the patch that the release manager should merge.


Could you check this?  I still see a header-less patch.



---

archive/issue_comments_097887.json:
```json
{
    "body": "<a id='comment:23'></a>Replying to [mpatel](#comment%3A22):\n> Replying to [uri](#comment%3A21):\n> > Thanks for the help. Now [attachment:trac_8950_desolve_odeint_unified_4.patch] contains the Mercurial header. This is the patch that the release manager should merge.\n\n> \n> Could you check this?  I still see a header-less patch.\n\n\nYou're right, I must have re-uploaded the old patch, sorry. Now it's the correct one.",
    "created_at": "2010-09-07T15:12:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8950#issuecomment-97887",
    "user": "https://trac.sagemath.org/admin/accounts/users/uri"
}
```

<a id='comment:23'></a>Replying to [mpatel](#comment%3A22):
> Replying to [uri](#comment%3A21):
> > Thanks for the help. Now [attachment:trac_8950_desolve_odeint_unified_4.patch] contains the Mercurial header. This is the patch that the release manager should merge.

> 
> Could you check this?  I still see a header-less patch.


You're right, I must have re-uploaded the old patch, sorry. Now it's the correct one.



---

archive/issue_comments_097888.json:
```json
{
    "body": "<a id='comment:24'></a>Great!  Could you fix the commit string so that the first line contains the ticket number and a brief (< 80 characters) summary of the changes?  We need to do this to keep `hg log` output informative.  Of course, additional explanatory lines are definitely allowed in the commit string; they'll be displayed by `hg log -p`.",
    "created_at": "2010-09-07T15:16:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8950#issuecomment-97888",
    "user": "https://github.com/qed777"
}
```

<a id='comment:24'></a>Great!  Could you fix the commit string so that the first line contains the ticket number and a brief (< 80 characters) summary of the changes?  We need to do this to keep `hg log` output informative.  Of course, additional explanatory lines are definitely allowed in the commit string; they'll be displayed by `hg log -p`.



---

archive/issue_comments_097889.json:
```json
{
    "body": "<a id='comment:25'></a>Attachment [trac_8950_desolve_odeint_unified_4.patch](tarball://root/attachments/some-uuid/ticket8950/trac_8950_desolve_odeint_unified_4.patch) by uri created at 2010-09-07 15:43:13\n\nReplying to [mpatel](#comment%3A24):\n> Great!  Could you fix the commit string so that the first line contains the ticket number and a brief (< 80 characters) summary of the changes?  We need to do this to keep `hg log` output informative.  Of course, additional explanatory lines are definitely allowed in the commit string; they'll be displayed by `hg log -p`.\n\n\nI'm not sure I did what you asked for: I created the patch again but edited the commit string using the \"-e\" command. Is that correct?",
    "created_at": "2010-09-07T15:43:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8950#issuecomment-97889",
    "user": "https://trac.sagemath.org/admin/accounts/users/uri"
}
```

<a id='comment:25'></a>Attachment [trac_8950_desolve_odeint_unified_4.patch](tarball://root/attachments/some-uuid/ticket8950/trac_8950_desolve_odeint_unified_4.patch) by uri created at 2010-09-07 15:43:13

Replying to [mpatel](#comment%3A24):
> Great!  Could you fix the commit string so that the first line contains the ticket number and a brief (< 80 characters) summary of the changes?  We need to do this to keep `hg log` output informative.  Of course, additional explanatory lines are definitely allowed in the commit string; they'll be displayed by `hg log -p`.


I'm not sure I did what you asked for: I created the patch again but edited the commit string using the "-e" command. Is that correct?



---

archive/issue_comments_097890.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2010-09-07T15:46:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8950#issuecomment-97890",
    "user": "https://github.com/qed777"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_097891.json:
```json
{
    "body": "<a id='comment:26'></a>Replying to [uri](#comment%3A25):\n> Replying to [mpatel](#comment%3A24):\n> > Great!  Could you fix the commit string so that the first line contains the ticket number and a brief (< 80 characters) summary of the changes?  We need to do this to keep `hg log` output informative.  Of course, additional explanatory lines are definitely allowed in the commit string; they'll be displayed by `hg log -p`.\n\n> \n> I'm not sure I did what you asked for: I created the patch again but edited the commit string using the \"-e\" command. Is that correct?\n\n\nYes, that works.  Thanks!",
    "created_at": "2010-09-07T15:46:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8950#issuecomment-97891",
    "user": "https://github.com/qed777"
}
```

<a id='comment:26'></a>Replying to [uri](#comment%3A25):
> Replying to [mpatel](#comment%3A24):
> > Great!  Could you fix the commit string so that the first line contains the ticket number and a brief (< 80 characters) summary of the changes?  We need to do this to keep `hg log` output informative.  Of course, additional explanatory lines are definitely allowed in the commit string; they'll be displayed by `hg log -p`.

> 
> I'm not sure I did what you asked for: I created the patch again but edited the commit string using the "-e" command. Is that correct?


Yes, that works.  Thanks!



---

archive/issue_comments_097892.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2010-09-15T11:13:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8950#issuecomment-97892",
    "user": "https://github.com/qed777"
}
```

Resolution: fixed



---

archive/issue_events_021866.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-09-15T11:13:32Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/8950",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/8950#event-21866"
}
```



---

archive/issue_comments_097893.json:
```json
{
    "body": "Changing merged from \"\" to \"sage-4.6.alpha1\"",
    "created_at": "2010-09-15T11:13:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8950#issuecomment-97893",
    "user": "https://github.com/qed777"
}
```

Changing merged from "" to "sage-4.6.alpha1"
