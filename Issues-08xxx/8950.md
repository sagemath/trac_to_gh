# Issue 8950: new function for sage.calculus.desolve module

archive/issues_008950.json:
```json
{
    "assignees": [
        "https://github.com/burcin"
    ],
    "body": "<div id=\"comment:0\"></div>\n\nI've done a new function, named desolve_numerical, that solves a system of first order differential equations numerically. It seems to be quite more efficient than the function desolve_system_rk4, included in the same module. It can be seen in the following example (Lotka-Volterra Equations):\n\nsage: x,y,t=var('x,y,t')\u00a0\nsage: des=[x*(1-y),-y*(1-x)]\nsage: ics=[1,0.5] \nsage: times=srange(0,10.1,0.1)\n\nWith the new function we get:\u00a0\n\nsage: timeit('desolve_numerical(des,ics,times,(x,y))') \n125 loops, best of 3: **5.81 ms per loop**\n\nwhile with desolve_system_rk4 the result is:\n\nsage: timeit('desolve_system_rk4(des,[x,y],ics=[0,1,0.5],ivar=t)')\u00a0\n5 loops, best of 3: **558 ms per loop**\n\nComponent: **calculus**\n\nKeywords: **desolve**\n\nAuthor: **Oriol Castejon**\n\nReviewer: **Burcin Erocal, Pablo Angulo, Marshall Hampton**\n\nMerged: **sage-4.6.alpha1**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/8950_\n\n",
    "closed_at": "2010-09-15T11:13:32Z",
    "created_at": "2010-05-11T15:51:19Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20calculus",
        "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.6",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "new function for sage.calculus.desolve module",
    "type": "issue",
    "updated_at": "2010-09-15T11:13:32Z",
    "url": "https://github.com/sagemath/sage/issues/8950",
    "user": "https://github.com/sagetrac-uri"
}
```
<div id="comment:0"></div>

I've done a new function, named desolve_numerical, that solves a system of first order differential equations numerically. It seems to be quite more efficient than the function desolve_system_rk4, included in the same module. It can be seen in the following example (Lotka-Volterra Equations):

sage: x,y,t=var('x,y,t') 
sage: des=[x*(1-y),-y*(1-x)]
sage: ics=[1,0.5] 
sage: times=srange(0,10.1,0.1)

With the new function we get: 

sage: timeit('desolve_numerical(des,ics,times,(x,y))') 
125 loops, best of 3: **5.81 ms per loop**

while with desolve_system_rk4 the result is:

sage: timeit('desolve_system_rk4(des,[x,y],ics=[0,1,0.5],ivar=t)') 
5 loops, best of 3: **558 ms per loop**

Component: **calculus**

Keywords: **desolve**

Author: **Oriol Castejon**

Reviewer: **Burcin Erocal, Pablo Angulo, Marshall Hampton**

Merged: **sage-4.6.alpha1**

_Issue created by migration from https://trac.sagemath.org/ticket/8950_





---

archive/issue_events_112481.json:
```json
{
    "actor": "https://github.com/sagetrac-uri",
    "created_at": "2010-05-11T15:51:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20calculus",
    "label_color": "0000ff",
    "label_name": "c: calculus",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8950#event-112481"
}
```



---

archive/issue_events_112482.json:
```json
{
    "actor": "https://github.com/sagetrac-uri",
    "created_at": "2010-05-11T15:51:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
    "label_color": "ffe799",
    "label_name": "p: minor / 4",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8950#event-112482"
}
```



---

archive/issue_events_112483.json:
```json
{
    "actor": "https://github.com/sagetrac-uri",
    "created_at": "2010-05-11T15:51:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8950#event-112483"
}
```



---

archive/issue_events_112484.json:
```json
{
    "actor": "https://github.com/burcin",
    "created_at": "2010-05-11T15:51:19Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "subject": "https://github.com/sagetrac-uri",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8950#event-112484"
}
```



---

archive/issue_comments_073359.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nAttachment: **[desolve_numerical.py.gz](https://github.com/sagemath/sage/files/ticket8950/desolve_numerical.py.gz)**\n\nIs this ready for review?",
    "created_at": "2010-05-11T22:30:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8950#issuecomment-73359",
    "user": "https://github.com/sagetrac-mvngu"
}
```

<div id="comment:1" align="right">comment:1</div>

Attachment: **[desolve_numerical.py.gz](https://github.com/sagemath/sage/files/ticket8950/desolve_numerical.py.gz)**

Is this ready for review?



---

archive/issue_comments_073360.json:
```json
{
    "body": "Changed merged from **desolvers.py** to none",
    "created_at": "2010-05-11T22:30:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8950#issuecomment-73360",
    "user": "https://github.com/sagetrac-mvngu"
}
```

Changed merged from **desolvers.py** to none



---

archive/issue_comments_073361.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nYes, I think so. I've been using it for a while and I didn't find any problem. Automatic testing works also.\n\nReplying to [@sagetrac-mvngu](#comment%3A1):\n\n> Is this ready for review?",
    "created_at": "2010-05-12T08:56:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8950#issuecomment-73361",
    "user": "https://github.com/sagetrac-uri"
}
```

<div id="comment:2" align="right">comment:2</div>

Yes, I think so. I've been using it for a while and I didn't find any problem. Automatic testing works also.

Replying to [@sagetrac-mvngu](#comment%3A1):

> Is this ready for review?



---

archive/issue_events_112485.json:
```json
{
    "actor": "https://github.com/sagetrac-mvngu",
    "created_at": "2010-05-12T10:53:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8950#event-112485"
}
```



---

archive/issue_events_112486.json:
```json
{
    "actor": "https://github.com/wdjoyner",
    "created_at": "2010-05-12T21:20:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8950#event-112486"
}
```



---

archive/issue_events_112487.json:
```json
{
    "actor": "https://github.com/wdjoyner",
    "created_at": "2010-05-12T21:20:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8950#event-112487"
}
```



---

archive/issue_comments_073362.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nJust as a point of convention, typically new sage methods should have docstrings which illustrate all the options avaialble. So if there are optional arguments x, y, z, then there should be docstring examples illustrating these with non-default arguments. This method is great in the sense that it has a huge number of optional arguments. However, only a few of them are used in the examples. Could you please expand the examples to illustrate more of the optional variables?",
    "created_at": "2010-05-12T21:20:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8950#issuecomment-73362",
    "user": "https://github.com/wdjoyner"
}
```

<div id="comment:4" align="right">comment:4</div>

Just as a point of convention, typically new sage methods should have docstrings which illustrate all the options avaialble. So if there are optional arguments x, y, z, then there should be docstring examples illustrating these with non-default arguments. This method is great in the sense that it has a huge number of optional arguments. However, only a few of them are used in the examples. Could you please expand the examples to illustrate more of the optional variables?



---

archive/issue_events_112488.json:
```json
{
    "actor": "https://github.com/sagetrac-uri",
    "created_at": "2010-05-16T19:33:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8950#event-112488"
}
```



---

archive/issue_events_112489.json:
```json
{
    "actor": "https://github.com/sagetrac-uri",
    "created_at": "2010-05-16T19:33:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8950#event-112489"
}
```



---

archive/issue_comments_073363.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nAttachment: **[trac_8950_desolve_numerical.patch.gz](https://github.com/sagemath/sage/files/ticket8950/trac_8950_desolve_numerical.patch.gz)**\n\nOk, I added information of the optional parameters and an example using non default ones.\n\nReplying to [@wdjoyner](#comment%3A4):\n\n> Just as a point of convention, typically new sage methods should have docstrings which illustrate all the options avaialble. So if there are optional arguments x, y, z, then there should be docstring examples illustrating these with non-default arguments. This method is great in the sense that it has a huge number of optional arguments. However, only a few of them are used in the examples. Could you please expand the examples to illustrate more of the optional variables?",
    "created_at": "2010-05-16T19:33:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8950#issuecomment-73363",
    "user": "https://github.com/sagetrac-uri"
}
```

<div id="comment:5" align="right">comment:5</div>

Attachment: **[trac_8950_desolve_numerical.patch.gz](https://github.com/sagemath/sage/files/ticket8950/trac_8950_desolve_numerical.patch.gz)**

Ok, I added information of the optional parameters and an example using non default ones.

Replying to [@wdjoyner](#comment%3A4):

> Just as a point of convention, typically new sage methods should have docstrings which illustrate all the options avaialble. So if there are optional arguments x, y, z, then there should be docstring examples illustrating these with non-default arguments. This method is great in the sense that it has a huge number of optional arguments. However, only a few of them are used in the examples. Could you please expand the examples to illustrate more of the optional variables?



---

archive/issue_events_112490.json:
```json
{
    "actor": "https://github.com/burcin",
    "created_at": "2010-05-24T11:42:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8950#event-112490"
}
```



---

archive/issue_events_112491.json:
```json
{
    "actor": "https://github.com/burcin",
    "created_at": "2010-05-24T11:42:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8950#event-112491"
}
```



---

archive/issue_events_112492.json:
```json
{
    "actor": "https://github.com/burcin",
    "created_at": "2010-05-24T11:42:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "milestone_number": null,
    "milestone_title": "sage-4.4.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8950#event-112492"
}
```



---

archive/issue_comments_073364.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nThanks for the patch, it looks like a good start.\n\nHere are a few comments (not a formal review):\n\n* You should change your code to conform to the Python coding conventions: http://sagemath.org/doc/developer/conventions.html#python-coding-conventions\n  In particular,\n  * use 4 spaces for indentation\n  * try not to have lines exceeding 80 characters (some of us use old fashioned command line editors)\n  * change the ComputeJacobian argument.\n* Your function doesn't seem to do anything, comparing with the previous [attachment: desolve_numerical.py](https://github.com/sagemath/sage/files/ticket8950/desolve_numerical.py.gz) a whole chunk of code starting with the `else` clause corresponding to the second `if` statement seems to be missing\n* You should use y[:] to copy a list\n* Other functions in the same file also solve differential equations numerically. Choosing a more specific name for your function might be more appropriate.\n\nSomeone who uses this functionality more often should comment on the content and the name of the function.",
    "created_at": "2010-05-24T11:42:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8950#issuecomment-73364",
    "user": "https://github.com/burcin"
}
```

<div id="comment:6" align="right">comment:6</div>

Thanks for the patch, it looks like a good start.

Here are a few comments (not a formal review):

* You should change your code to conform to the Python coding conventions: http://sagemath.org/doc/developer/conventions.html#python-coding-conventions
  In particular,
  * use 4 spaces for indentation
  * try not to have lines exceeding 80 characters (some of us use old fashioned command line editors)
  * change the ComputeJacobian argument.
* Your function doesn't seem to do anything, comparing with the previous [attachment: desolve_numerical.py](https://github.com/sagemath/sage/files/ticket8950/desolve_numerical.py.gz) a whole chunk of code starting with the `else` clause corresponding to the second `if` statement seems to be missing
* You should use y[:] to copy a list
* Other functions in the same file also solve differential equations numerically. Choosing a more specific name for your function might be more appropriate.

Someone who uses this functionality more often should comment on the content and the name of the function.



---

archive/issue_comments_073365.json:
```json
{
    "body": "Attachment: **[trac_8950_desolve_numerical.2.patch.gz](https://github.com/sagemath/sage/files/ticket8950/trac_8950_desolve_numerical.2.patch.gz)**",
    "created_at": "2010-06-30T08:49:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8950#issuecomment-73365",
    "user": "https://github.com/sagetrac-uri"
}
```

Attachment: **[trac_8950_desolve_numerical.2.patch.gz](https://github.com/sagemath/sage/files/ticket8950/trac_8950_desolve_numerical.2.patch.gz)**



---

archive/issue_comments_073366.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nAfter a while, I've been able to make the changes proposed by burcin (by the way, thanks for your suggestions):\n\n* use 4 spaces for indentation -> Done\n* try not to have lines exceeding 80 characters (some of us use old fashioned command line editors) -> Done, except for a line in the examples. I couldn't break that line, because then the automatic testing wouldn't work. I guess it's not a big deal, since it is not part of the code, though.\n* change the\u00a0ComputeJacobian\u00a0argument -> Done\n* Your function doesn't seem to do anything, comparing with the previous[attachment: desolve_numerical.py](https://github.com/sagemath/sage/files/ticket8950/desolve_numerical.py.gz)(https://github.com/sagemath/sage/files/ticket8950/desolve_numerical.py.gz)\u00a0a whole chunk of code starting with the\u00a0`else`\u00a0clause corresponding to the second\u00a0`if`\u00a0statement seems to be missing -> I don't get your point here... I think there's no problem with the second if statement. Could you be more precise?\n* You should use y[:] to copy a list -> Done\n* Other functions in the same file also solve differential equations numerically. Choosing a more specific name for your function might be more appropriate. -> You're right. I changed the name to **desolve_odeint**, since the it uses the integrate function from odeint module (from scipy).\n\n\n\nI will be grateful for any other comments!",
    "created_at": "2010-06-30T08:59:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8950#issuecomment-73366",
    "user": "https://github.com/sagetrac-uri"
}
```

<div id="comment:7" align="right">comment:7</div>

After a while, I've been able to make the changes proposed by burcin (by the way, thanks for your suggestions):

* use 4 spaces for indentation -> Done
* try not to have lines exceeding 80 characters (some of us use old fashioned command line editors) -> Done, except for a line in the examples. I couldn't break that line, because then the automatic testing wouldn't work. I guess it's not a big deal, since it is not part of the code, though.
* change the ComputeJacobian argument -> Done
* Your function doesn't seem to do anything, comparing with the previous[attachment: desolve_numerical.py](https://github.com/sagemath/sage/files/ticket8950/desolve_numerical.py.gz)(https://github.com/sagemath/sage/files/ticket8950/desolve_numerical.py.gz) a whole chunk of code starting with the `else` clause corresponding to the second `if` statement seems to be missing -> I don't get your point here... I think there's no problem with the second if statement. Could you be more precise?
* You should use y[:] to copy a list -> Done
* Other functions in the same file also solve differential equations numerically. Choosing a more specific name for your function might be more appropriate. -> You're right. I changed the name to **desolve_odeint**, since the it uses the integrate function from odeint module (from scipy).



I will be grateful for any other comments!



---

archive/issue_events_112493.json:
```json
{
    "actor": "https://github.com/sagetrac-uri",
    "created_at": "2010-06-30T08:59:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8950#event-112493"
}
```



---

archive/issue_events_112494.json:
```json
{
    "actor": "https://github.com/sagetrac-uri",
    "created_at": "2010-06-30T08:59:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8950#event-112494"
}
```



---

archive/issue_comments_073367.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nOriol, it seems that your trac_8950_desolve_numerical.2.patch is exactly the same as trac_8950_desolve_numerical.patch.",
    "created_at": "2010-07-20T06:46:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8950#issuecomment-73367",
    "user": "https://github.com/sagetrac-pang"
}
```

<div id="comment:8" align="right">comment:8</div>

Oriol, it seems that your trac_8950_desolve_numerical.2.patch is exactly the same as trac_8950_desolve_numerical.patch.



---

archive/issue_comments_073368.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nThanks, I hadn't realised I just uploaded the old patch...\u00a0\n\nI'll upload the correct one now, I hope I do it right this time :)",
    "created_at": "2010-07-22T14:57:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8950#issuecomment-73368",
    "user": "https://github.com/sagetrac-uri"
}
```

<div id="comment:9" align="right">comment:9</div>

Thanks, I hadn't realised I just uploaded the old patch... 

I'll upload the correct one now, I hope I do it right this time :)



---

archive/issue_comments_073369.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nI got an error when applying your patch:\n\n```\napplying trac_8950_desolve_odeint.patch abort: malformed patch\n```\n\nThe patch says: \n\n```\ndiff -r eb27a39a6df4 -r 15f9c1da9cc9 sage/calculus/desolvers.py\n--- a/sage/calculus/desolvers.py\tWed Jan 20 15:09:32 2010 -0800\n+++ b/sage/calculus/desolvers.py\tWed Jun 30 10:47:17 2010 +0200\n@@ -1053,3 +1053,270 @@\n     sol.extend(sol_2)\n \n     return sol\n+\n+def desolve_odeint(des, ics, times, dvars, ivar=None, compute_jac=False, args=()\n```\n\n\nbut the file desolvers.py has now more lines, and sol.extend is now on line 1220, not on line 1053. I'm not an expert on version control, but this makes me think that the patch was not applied because I'm using a more recent version of Sage than the one you used when you exported the patch. Maybe if you upgrade before exporting the patch I'll be able to apply it. I've tried to modify the patch manually but failed.",
    "created_at": "2010-07-22T21:04:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8950#issuecomment-73369",
    "user": "https://github.com/sagetrac-pang"
}
```

<div id="comment:10" align="right">comment:10</div>

I got an error when applying your patch:

```
applying trac_8950_desolve_odeint.patch abort: malformed patch
```

The patch says: 

```
diff -r eb27a39a6df4 -r 15f9c1da9cc9 sage/calculus/desolvers.py
--- a/sage/calculus/desolvers.py	Wed Jan 20 15:09:32 2010 -0800
+++ b/sage/calculus/desolvers.py	Wed Jun 30 10:47:17 2010 +0200
@@ -1053,3 +1053,270 @@
     sol.extend(sol_2)
 
     return sol
+
+def desolve_odeint(des, ics, times, dvars, ivar=None, compute_jac=False, args=()
```


but the file desolvers.py has now more lines, and sol.extend is now on line 1220, not on line 1053. I'm not an expert on version control, but this makes me think that the patch was not applied because I'm using a more recent version of Sage than the one you used when you exported the patch. Maybe if you upgrade before exporting the patch I'll be able to apply it. I've tried to modify the patch manually but failed.



---

archive/issue_comments_073370.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nAttachment: **[trac_8950_desolve_odeint.patch.gz](https://github.com/sagemath/sage/files/ticket8950/trac_8950_desolve_odeint.patch.gz)**\n\nYou were right, I had an old version of Sage. Now I've created the patch in the last version (4.5), so I think it should work. Please, let me know if everything is allright this time.\n\nThanks for your time!",
    "created_at": "2010-07-26T11:55:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8950#issuecomment-73370",
    "user": "https://github.com/sagetrac-uri"
}
```

<div id="comment:11" align="right">comment:11</div>

Attachment: **[trac_8950_desolve_odeint.patch.gz](https://github.com/sagemath/sage/files/ticket8950/trac_8950_desolve_odeint.patch.gz)**

You were right, I had an old version of Sage. Now I've created the patch in the last version (4.5), so I think it should work. Please, let me know if everything is allright this time.

Thanks for your time!



---

archive/issue_comments_073371.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nThe patch is a little weird now: it contains first the old one and then the same code, but with instructions to include it in a different place. I couldn't use it, and I think trac has trouble with it, too, because it doesn't render the patch if you click on it, like it does usually. I can produce a patch from a fresh install if you want, but let's talk about the content first:\n\nIt pretty much works, but:\n\n1. I'm concerned about using the variable 't' if the argument ivar is not set explicitely. Is it safe to assume that nobody would use the name 't' for a dependent variable? Is it safe to assume that everybody would use the name 't' for the independent variable? I would prefer either of these two approaches:\n\n   * Always require the parameter ivar\n   * Use some code like in `desolve_system_rk4` to try to guess the independent var:\n\n   1. compute all variables used in the functions passed as arguments:\n\n```\nall_vars = set([])\n\nfor de in des:\n    all_vars.update(set(de.variables()))\n```\n2. if there is exactly one variable in all_vars not in dvars, assume it is the independent var:\n2. if all_vars is contained in dvars, create an adhoc independent variable that is not used elsewhere. I've thought of a safe way to pick up a new var, which maybe overkill. It seems like this is not necessary thanks to the particular way in which fast_float works, but IMHO it's better to be on the safe side:\n2. otherwise raise an error\n\n```\n...\nivars = all_vars - set(dvars)\nif len(ivars) == 1:\n    ivar = ivars.pop()\nelif not ivars:\n    safe_name = 't_' + str(dvars)\n    ivar = var(safe_name)\nelse:\n    raise ...\n\n```\nOriol: what's your opinion on this issue? \n\n2. I'd use:\n\n```\nJ=diff(des,dvars)\n```\n\ninstead of\n\n```\nJ=jacobian(des,dvars)\nJ=J[0][0]\n```\n\n3. In my opinion, the parameters to ``odeint`` mu and ml should not be used. Those parameters do not make sense if you don't pass Dfun as an argument. But please correct me if I'm wrong.\n\n4. I've introduced a few ``is_SymbolicVariable(dvars)`` tests. I think the test ``len(dvars)==0`` is a lousy test for a Symbolic Variable.\n\n5. The documentation wasn't building correctly. Sphinx is a bit rigid, and we need to follow the indentation rules, etc. I've fixed that already.\n\nI'm attaching a patch file with the changes above included. It probably won't merge cleanly into your Sage install, so I'm attaching the plain file desolvers.py directly. Please tell me what you think, and then we will ask for another reviewer.",
    "created_at": "2010-07-28T19:48:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8950#issuecomment-73371",
    "user": "https://github.com/sagetrac-pang"
}
```

<div id="comment:12" align="right">comment:12</div>

The patch is a little weird now: it contains first the old one and then the same code, but with instructions to include it in a different place. I couldn't use it, and I think trac has trouble with it, too, because it doesn't render the patch if you click on it, like it does usually. I can produce a patch from a fresh install if you want, but let's talk about the content first:

It pretty much works, but:

1. I'm concerned about using the variable 't' if the argument ivar is not set explicitely. Is it safe to assume that nobody would use the name 't' for a dependent variable? Is it safe to assume that everybody would use the name 't' for the independent variable? I would prefer either of these two approaches:

   * Always require the parameter ivar
   * Use some code like in `desolve_system_rk4` to try to guess the independent var:

   1. compute all variables used in the functions passed as arguments:

```
all_vars = set([])

for de in des:
    all_vars.update(set(de.variables()))
```
2. if there is exactly one variable in all_vars not in dvars, assume it is the independent var:
2. if all_vars is contained in dvars, create an adhoc independent variable that is not used elsewhere. I've thought of a safe way to pick up a new var, which maybe overkill. It seems like this is not necessary thanks to the particular way in which fast_float works, but IMHO it's better to be on the safe side:
2. otherwise raise an error

```
...
ivars = all_vars - set(dvars)
if len(ivars) == 1:
    ivar = ivars.pop()
elif not ivars:
    safe_name = 't_' + str(dvars)
    ivar = var(safe_name)
else:
    raise ...

```
Oriol: what's your opinion on this issue? 

2. I'd use:

```
J=diff(des,dvars)
```

instead of

```
J=jacobian(des,dvars)
J=J[0][0]
```

3. In my opinion, the parameters to ``odeint`` mu and ml should not be used. Those parameters do not make sense if you don't pass Dfun as an argument. But please correct me if I'm wrong.

4. I've introduced a few ``is_SymbolicVariable(dvars)`` tests. I think the test ``len(dvars)==0`` is a lousy test for a Symbolic Variable.

5. The documentation wasn't building correctly. Sphinx is a bit rigid, and we need to follow the indentation rules, etc. I've fixed that already.

I'm attaching a patch file with the changes above included. It probably won't merge cleanly into your Sage install, so I'm attaching the plain file desolvers.py directly. Please tell me what you think, and then we will ask for another reviewer.



---

archive/issue_events_112495.json:
```json
{
    "actor": "https://github.com/sagetrac-pang",
    "created_at": "2010-07-28T19:48:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8950#event-112495"
}
```



---

archive/issue_events_112496.json:
```json
{
    "actor": "https://github.com/sagetrac-pang",
    "created_at": "2010-07-28T19:48:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8950#event-112496"
}
```



---

archive/issue_comments_073372.json:
```json
{
    "body": "Attachment: **[trac_8950_desolve_odeint_2.patch.gz](https://github.com/sagemath/sage/files/ticket8950/trac_8950_desolve_odeint_2.patch.gz)**",
    "created_at": "2010-07-28T19:48:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8950#issuecomment-73372",
    "user": "https://github.com/sagetrac-pang"
}
```

Attachment: **[trac_8950_desolve_odeint_2.patch.gz](https://github.com/sagemath/sage/files/ticket8950/trac_8950_desolve_odeint_2.patch.gz)**



---

archive/issue_comments_073373.json:
```json
{
    "body": "Attachment: **[desolvers.py.gz](https://github.com/sagemath/sage/files/ticket8950/desolvers.py.gz)**",
    "created_at": "2010-07-28T19:50:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8950#issuecomment-73373",
    "user": "https://github.com/sagetrac-pang"
}
```

Attachment: **[desolvers.py.gz](https://github.com/sagemath/sage/files/ticket8950/desolvers.py.gz)**



---

archive/issue_comments_073374.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nAttachment: **[trac_8950_desolve_odeint_3.patch.gz](https://github.com/sagemath/sage/files/ticket8950/trac_8950_desolve_odeint_3.patch.gz)**\n\nI just made a mistake you might find funny: I exported the patch to a file without deleting the file first, and then the changes were appended to the existing file. The resulting patch: ``trac_8950_desolve_odeint_2.patch`` contains duplicated information.\n\nThe patch ``trac_8950_desolve_odeint_3.patch`` is correct.",
    "created_at": "2010-07-28T19:54:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8950#issuecomment-73374",
    "user": "https://github.com/sagetrac-pang"
}
```

<div id="comment:13" align="right">comment:13</div>

Attachment: **[trac_8950_desolve_odeint_3.patch.gz](https://github.com/sagemath/sage/files/ticket8950/trac_8950_desolve_odeint_3.patch.gz)**

I just made a mistake you might find funny: I exported the patch to a file without deleting the file first, and then the changes were appended to the existing file. The resulting patch: ``trac_8950_desolve_odeint_2.patch`` contains duplicated information.

The patch ``trac_8950_desolve_odeint_3.patch`` is correct.



---

archive/issue_comments_073375.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nThanks pang, I think the changes you've done are great! Here's my opinion:\n\nReplying to [@sagetrac-pang](#comment%3A12):\n\n> 1. I'm concerned about using the variable 't' if the argument ivar is not set explicitely. Is it safe to assume that nobody would use the name 't' for a dependent variable? Is it safe to assume that everybody would use the name 't' for the independent variable? \n\nYes, I think you're right, it's not safe to use the name 't' as default for the independent variable.\n\n\n> I would prefer either of these two approaches:\n> \n> * Always require the parameter ivar\n> * Use some code like in `desolve_system_rk4` to try to guess the independent var:\n\nI prefer the second approach, because in a lot of cases the independent variable is in fact (almost) meaningless. Besides, the code you've written is great, and I think it should work perfectly (well I've made a small correction, I'll explain later).\n\n\n> 2. I'd use:\n> \n> ```\n> J=diff(des,dvars)\n> ```\n> \n> instead of\n> \n> ```\n> J=jacobian(des,dvars)\n> J=J[0][0]\n> ```\n\nI agree, I just didn't think about that.\n\n\n> 3. In my opinion, the parameters to ``odeint`` mu and ml should not be used. Those parameters do not make sense if you don't pass Dfun as an argument. But please correct me if I'm wrong.\n\nAgain, totally agree.\n\n\n> 4. I've introduced a few ``is_SymbolicVariable(dvars)`` tests. I think the test ``len(dvars)==0`` is a lousy test for a Symbolic Variable.\n\nI still don't really understand why you don't like the test ``len(dvars)==0``, but it's true that the ``is_SymbolicVariable(dvars)`` test is more elegant. By the way, the first ``len(dvars)==0`` test is still there; is there any reason why the other one cannot be used?\n\n\n> 5. The documentation wasn't building correctly. Sphinx is a bit rigid, and we need to follow the indentation rules, etc. I've fixed that already.\n\nThanks, I didn't know that.\n\n\nI attach a new patch (trac_8950_odeint_4.patch), because I made some small changes:\n\n1. In the documentation, the description of 'ivar' said ' default is t', which is not anymore, so I changed it to just 'optional'.\n\n2. In one of the examples there was a mistake, because it used the time vector 'times' which was defined in a previous example and not the one that was defined in it, which was called 't'.\n\n3. At the beggining there was:\n\n```\nif ivar==None:\n    if len(dvars)==0 or len(dvars)==1:\n        all_vars = set(des.variables())\n    else:\n        ...\n```\n\nHowever, in the case that ``len(dvars)==1`` is true, 'des.variables()' will give an error. So instead I wrote:\n\n```\nif ivar==None:\n    if len(dvars)==0 or len(dvars)==1:\n        if len(dvars)==1:\n            des=des[0]\n            dvars=dvars[0]\n        all_vars = set(des.variables())\n    else:\n        ...\n```\n\nAs the redefinition 'dvars=dvars[0]' was already done afterwards, I moved it to here for simplicity.\n\nPlease, let me know your opinion. And thanks again for your work!",
    "created_at": "2010-08-02T11:49:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8950#issuecomment-73375",
    "user": "https://github.com/sagetrac-uri"
}
```

<div id="comment:14" align="right">comment:14</div>

Thanks pang, I think the changes you've done are great! Here's my opinion:

Replying to [@sagetrac-pang](#comment%3A12):

> 1. I'm concerned about using the variable 't' if the argument ivar is not set explicitely. Is it safe to assume that nobody would use the name 't' for a dependent variable? Is it safe to assume that everybody would use the name 't' for the independent variable? 

Yes, I think you're right, it's not safe to use the name 't' as default for the independent variable.


> I would prefer either of these two approaches:
> 
> * Always require the parameter ivar
> * Use some code like in `desolve_system_rk4` to try to guess the independent var:

I prefer the second approach, because in a lot of cases the independent variable is in fact (almost) meaningless. Besides, the code you've written is great, and I think it should work perfectly (well I've made a small correction, I'll explain later).


> 2. I'd use:
> 
> ```
> J=diff(des,dvars)
> ```
> 
> instead of
> 
> ```
> J=jacobian(des,dvars)
> J=J[0][0]
> ```

I agree, I just didn't think about that.


> 3. In my opinion, the parameters to ``odeint`` mu and ml should not be used. Those parameters do not make sense if you don't pass Dfun as an argument. But please correct me if I'm wrong.

Again, totally agree.


> 4. I've introduced a few ``is_SymbolicVariable(dvars)`` tests. I think the test ``len(dvars)==0`` is a lousy test for a Symbolic Variable.

I still don't really understand why you don't like the test ``len(dvars)==0``, but it's true that the ``is_SymbolicVariable(dvars)`` test is more elegant. By the way, the first ``len(dvars)==0`` test is still there; is there any reason why the other one cannot be used?


> 5. The documentation wasn't building correctly. Sphinx is a bit rigid, and we need to follow the indentation rules, etc. I've fixed that already.

Thanks, I didn't know that.


I attach a new patch (trac_8950_odeint_4.patch), because I made some small changes:

1. In the documentation, the description of 'ivar' said ' default is t', which is not anymore, so I changed it to just 'optional'.

2. In one of the examples there was a mistake, because it used the time vector 'times' which was defined in a previous example and not the one that was defined in it, which was called 't'.

3. At the beggining there was:

```
if ivar==None:
    if len(dvars)==0 or len(dvars)==1:
        all_vars = set(des.variables())
    else:
        ...
```

However, in the case that ``len(dvars)==1`` is true, 'des.variables()' will give an error. So instead I wrote:

```
if ivar==None:
    if len(dvars)==0 or len(dvars)==1:
        if len(dvars)==1:
            des=des[0]
            dvars=dvars[0]
        all_vars = set(des.variables())
    else:
        ...
```

As the redefinition 'dvars=dvars[0]' was already done afterwards, I moved it to here for simplicity.

Please, let me know your opinion. And thanks again for your work!



---

archive/issue_comments_073376.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nAttachment: **[trac_8950_desolve_odeint_4.patch.gz](https://github.com/sagemath/sage/files/ticket8950/trac_8950_desolve_odeint_4.patch.gz)**",
    "created_at": "2010-08-03T16:23:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8950#issuecomment-73376",
    "user": "https://github.com/sagetrac-uri"
}
```

<div id="comment:15" align="right">comment:15</div>

Attachment: **[trac_8950_desolve_odeint_4.patch.gz](https://github.com/sagemath/sage/files/ticket8950/trac_8950_desolve_odeint_4.patch.gz)**



---

archive/issue_events_112497.json:
```json
{
    "actor": "https://github.com/sagetrac-uri",
    "created_at": "2010-08-03T16:23:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8950#event-112497"
}
```



---

archive/issue_events_112498.json:
```json
{
    "actor": "https://github.com/sagetrac-uri",
    "created_at": "2010-08-03T16:23:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8950#event-112498"
}
```



---

archive/issue_comments_073377.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nIs it possible to have a unified patch?  It is very difficult to follow exactly what is happening for someone who just discovered this ticket :)  \n\nAlso, this is the Scipy one, correct?  Is there also a GSL desolver which could be wrapped and put here (I think the current ones are all from Maxima)?  That would be very natural, or perhaps as an `algorithm=` argument.",
    "created_at": "2010-08-06T19:28:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8950#issuecomment-73377",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:16" align="right">comment:16</div>

Is it possible to have a unified patch?  It is very difficult to follow exactly what is happening for someone who just discovered this ticket :)  

Also, this is the Scipy one, correct?  Is there also a GSL desolver which could be wrapped and put here (I think the current ones are all from Maxima)?  That would be very natural, or perhaps as an `algorithm=` argument.



---

archive/issue_comments_073378.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@kcrisman](#comment%3A16):\n> Is it possible to have a unified patch?  It is very difficult to follow exactly what is happening for someone who just discovered this ticket :)  \n\nI attached the file trac_8950_desolve_odeint_unified_4.patch, it contains all the changes contained in the previous patches. I'll be glad to hear your opinion!\n\n> Also, this is the Scipy one, correct?  Is there also a GSL desolver which could be wrapped and put here (I think the current ones are all from Maxima)?  That would be very natural, or perhaps as an `algorithm=` argument.\n\nYes, this is the Scipy one. I think the class ode_solver uses the GSL desolver. I'm not sure if it's necessary to put it here too... however, I did a routine to initialize this class (from my point of view the initialization is a little bit tedious, particularly if you want to use symbolic functions but still want it to be fast). It needs some improvement though, when I finish it I'll tell you :)",
    "created_at": "2010-08-09T14:40:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8950#issuecomment-73378",
    "user": "https://github.com/sagetrac-uri"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@kcrisman](#comment%3A16):
> Is it possible to have a unified patch?  It is very difficult to follow exactly what is happening for someone who just discovered this ticket :)  

I attached the file trac_8950_desolve_odeint_unified_4.patch, it contains all the changes contained in the previous patches. I'll be glad to hear your opinion!

> Also, this is the Scipy one, correct?  Is there also a GSL desolver which could be wrapped and put here (I think the current ones are all from Maxima)?  That would be very natural, or perhaps as an `algorithm=` argument.

Yes, this is the Scipy one. I think the class ode_solver uses the GSL desolver. I'm not sure if it's necessary to put it here too... however, I did a routine to initialize this class (from my point of view the initialization is a little bit tedious, particularly if you want to use symbolic functions but still want it to be fast). It needs some improvement though, when I finish it I'll tell you :)



---

archive/issue_comments_073379.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nThis looks good to me - applied cleanly on sage-4.5.3.alpha1, seems to work well, documentation for the reference manual looks fine.\n\nI am going to give this a positive review, but if you previously reviewed this you might want to take a final look and make sure I'm not missing anything.",
    "created_at": "2010-08-30T20:51:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8950#issuecomment-73379",
    "user": "https://github.com/sagetrac-mhampton"
}
```

<div id="comment:18" align="right">comment:18</div>

This looks good to me - applied cleanly on sage-4.5.3.alpha1, seems to work well, documentation for the reference manual looks fine.

I am going to give this a positive review, but if you previously reviewed this you might want to take a final look and make sure I'm not missing anything.



---

archive/issue_events_112499.json:
```json
{
    "actor": "https://github.com/sagetrac-mhampton",
    "created_at": "2010-08-30T20:51:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8950#event-112499"
}
```



---

archive/issue_events_112500.json:
```json
{
    "actor": "https://github.com/sagetrac-mhampton",
    "created_at": "2010-08-30T20:51:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8950#event-112500"
}
```



---

archive/issue_comments_073380.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nReplying to [@sagetrac-mhampton](#comment%3A18):\n> This looks good to me - applied cleanly on sage-4.5.3.alpha1, seems to work well, documentation for the reference manual looks fine.\n> \n> I am going to give this a positive review, but if you previously reviewed this you might want to take a final look and make sure I'm not missing anything.\n\nGreat, thanks. Maybe pang or kcrisman have some comments still.",
    "created_at": "2010-08-31T11:34:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8950#issuecomment-73380",
    "user": "https://github.com/sagetrac-uri"
}
```

<div id="comment:19" align="right">comment:19</div>

Replying to [@sagetrac-mhampton](#comment%3A18):
> This looks good to me - applied cleanly on sage-4.5.3.alpha1, seems to work well, documentation for the reference manual looks fine.
> 
> I am going to give this a positive review, but if you previously reviewed this you might want to take a final look and make sure I'm not missing anything.

Great, thanks. Maybe pang or kcrisman have some comments still.



---

archive/issue_comments_073381.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nWhich patch(es) should the release manager merge?  The attachment [attachment: trac_8950_desolve_odeint_unified_4.patch](https://github.com/sagemath/sage/files/ticket8950/trac_8950_desolve_odeint_unified_4.patch.gz) is missing a Mercurial header.  In case it helps: [This wiki page](http://wiki.sagemath.org/MercurialQueues) shows how to fold together multiple patches.\n\nAlso, can someone fill in the \"Reviewer(s)\" field?",
    "created_at": "2010-09-05T03:40:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8950#issuecomment-73381",
    "user": "https://github.com/qed777"
}
```

<div id="comment:20" align="right">comment:20</div>

Which patch(es) should the release manager merge?  The attachment [attachment: trac_8950_desolve_odeint_unified_4.patch](https://github.com/sagemath/sage/files/ticket8950/trac_8950_desolve_odeint_unified_4.patch.gz) is missing a Mercurial header.  In case it helps: [This wiki page](http://wiki.sagemath.org/MercurialQueues) shows how to fold together multiple patches.

Also, can someone fill in the "Reviewer(s)" field?



---

archive/issue_events_112501.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-09-05T03:40:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8950#event-112501"
}
```



---

archive/issue_events_112502.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-09-05T03:40:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8950#event-112502"
}
```



---

archive/issue_events_112503.json:
```json
{
    "actor": "https://github.com/sagetrac-uri",
    "created_at": "2010-09-07T14:24:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8950#event-112503"
}
```



---

archive/issue_events_112504.json:
```json
{
    "actor": "https://github.com/sagetrac-uri",
    "created_at": "2010-09-07T14:24:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8950#event-112504"
}
```



---

archive/issue_comments_073382.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@qed777](#comment%3A20):\n> Which patch(es) should the release manager merge?  The attachment [attachment: trac_8950_desolve_odeint_unified_4.patch](https://github.com/sagemath/sage/files/ticket8950/trac_8950_desolve_odeint_unified_4.patch.gz) is missing a Mercurial header.  In case it helps: [This wiki page](http://wiki.sagemath.org/MercurialQueues) shows how to fold together multiple patches.\n\nThanks for the help. Now [attachment: trac_8950_desolve_odeint_unified_4.patch](https://github.com/sagemath/sage/files/ticket8950/trac_8950_desolve_odeint_unified_4.patch.gz) contains the Mercurial header. This is the patch that the release manager should merge.",
    "created_at": "2010-09-07T14:24:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8950#issuecomment-73382",
    "user": "https://github.com/sagetrac-uri"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@qed777](#comment%3A20):
> Which patch(es) should the release manager merge?  The attachment [attachment: trac_8950_desolve_odeint_unified_4.patch](https://github.com/sagemath/sage/files/ticket8950/trac_8950_desolve_odeint_unified_4.patch.gz) is missing a Mercurial header.  In case it helps: [This wiki page](http://wiki.sagemath.org/MercurialQueues) shows how to fold together multiple patches.

Thanks for the help. Now [attachment: trac_8950_desolve_odeint_unified_4.patch](https://github.com/sagemath/sage/files/ticket8950/trac_8950_desolve_odeint_unified_4.patch.gz) contains the Mercurial header. This is the patch that the release manager should merge.



---

archive/issue_comments_073383.json:
```json
{
    "body": "Reviewer: **Burcin Erocal, Pablo Angulo, Marshall Hampton**",
    "created_at": "2010-09-07T14:44:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8950#issuecomment-73383",
    "user": "https://github.com/qed777"
}
```

Reviewer: **Burcin Erocal, Pablo Angulo, Marshall Hampton**



---

archive/issue_comments_073384.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nReplying to [@sagetrac-uri](#comment%3A21):\n> Thanks for the help. Now [attachment: trac_8950_desolve_odeint_unified_4.patch](https://github.com/sagemath/sage/files/ticket8950/trac_8950_desolve_odeint_unified_4.patch.gz) contains the Mercurial header. This is the patch that the release manager should merge.\n\nCould you check this?  I still see a header-less patch.",
    "created_at": "2010-09-07T14:44:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8950#issuecomment-73384",
    "user": "https://github.com/qed777"
}
```

<div id="comment:22" align="right">comment:22</div>

Replying to [@sagetrac-uri](#comment%3A21):
> Thanks for the help. Now [attachment: trac_8950_desolve_odeint_unified_4.patch](https://github.com/sagemath/sage/files/ticket8950/trac_8950_desolve_odeint_unified_4.patch.gz) contains the Mercurial header. This is the patch that the release manager should merge.

Could you check this?  I still see a header-less patch.



---

archive/issue_comments_073385.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nReplying to [@qed777](#comment%3A22):\n> Replying to [@sagetrac-uri](#comment%3A21):\n> > Thanks for the help. Now [attachment: trac_8950_desolve_odeint_unified_4.patch](https://github.com/sagemath/sage/files/ticket8950/trac_8950_desolve_odeint_unified_4.patch.gz) contains the Mercurial header. This is the patch that the release manager should merge.\n> \n> \n> Could you check this?  I still see a header-less patch.\n\nYou're right, I must have re-uploaded the old patch, sorry. Now it's the correct one.",
    "created_at": "2010-09-07T15:12:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8950#issuecomment-73385",
    "user": "https://github.com/sagetrac-uri"
}
```

<div id="comment:23" align="right">comment:23</div>

Replying to [@qed777](#comment%3A22):
> Replying to [@sagetrac-uri](#comment%3A21):
> > Thanks for the help. Now [attachment: trac_8950_desolve_odeint_unified_4.patch](https://github.com/sagemath/sage/files/ticket8950/trac_8950_desolve_odeint_unified_4.patch.gz) contains the Mercurial header. This is the patch that the release manager should merge.
> 
> 
> Could you check this?  I still see a header-less patch.

You're right, I must have re-uploaded the old patch, sorry. Now it's the correct one.



---

archive/issue_comments_073386.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nGreat!  Could you fix the commit string so that the first line contains the ticket number and a brief (< 80 characters) summary of the changes?  We need to do this to keep `hg log` output informative.  Of course, additional explanatory lines are definitely allowed in the commit string; they'll be displayed by `hg log -p`.",
    "created_at": "2010-09-07T15:16:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8950#issuecomment-73386",
    "user": "https://github.com/qed777"
}
```

<div id="comment:24" align="right">comment:24</div>

Great!  Could you fix the commit string so that the first line contains the ticket number and a brief (< 80 characters) summary of the changes?  We need to do this to keep `hg log` output informative.  Of course, additional explanatory lines are definitely allowed in the commit string; they'll be displayed by `hg log -p`.



---

archive/issue_comments_073387.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nAttachment: **[trac_8950_desolve_odeint_unified_4.patch.gz](https://github.com/sagemath/sage/files/ticket8950/trac_8950_desolve_odeint_unified_4.patch.gz)**\n\nReplying to [@qed777](#comment%3A24):\n> Great!  Could you fix the commit string so that the first line contains the ticket number and a brief (< 80 characters) summary of the changes?  We need to do this to keep `hg log` output informative.  Of course, additional explanatory lines are definitely allowed in the commit string; they'll be displayed by `hg log -p`.\n\nI'm not sure I did what you asked for: I created the patch again but edited the commit string using the \"-e\" command. Is that correct?",
    "created_at": "2010-09-07T15:43:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8950#issuecomment-73387",
    "user": "https://github.com/sagetrac-uri"
}
```

<div id="comment:25" align="right">comment:25</div>

Attachment: **[trac_8950_desolve_odeint_unified_4.patch.gz](https://github.com/sagemath/sage/files/ticket8950/trac_8950_desolve_odeint_unified_4.patch.gz)**

Replying to [@qed777](#comment%3A24):
> Great!  Could you fix the commit string so that the first line contains the ticket number and a brief (< 80 characters) summary of the changes?  We need to do this to keep `hg log` output informative.  Of course, additional explanatory lines are definitely allowed in the commit string; they'll be displayed by `hg log -p`.

I'm not sure I did what you asked for: I created the patch again but edited the commit string using the "-e" command. Is that correct?



---

archive/issue_events_112505.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-09-07T15:46:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8950#event-112505"
}
```



---

archive/issue_events_112506.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-09-07T15:46:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8950#event-112506"
}
```



---

archive/issue_comments_073388.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nReplying to [@sagetrac-uri](#comment%3A25):\n> Replying to [@qed777](#comment%3A24):\n> > Great!  Could you fix the commit string so that the first line contains the ticket number and a brief (< 80 characters) summary of the changes?  We need to do this to keep `hg log` output informative.  Of course, additional explanatory lines are definitely allowed in the commit string; they'll be displayed by `hg log -p`.\n> \n> \n> I'm not sure I did what you asked for: I created the patch again but edited the commit string using the \"-e\" command. Is that correct?\n\nYes, that works.  Thanks!",
    "created_at": "2010-09-07T15:46:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8950#issuecomment-73388",
    "user": "https://github.com/qed777"
}
```

<div id="comment:26" align="right">comment:26</div>

Replying to [@sagetrac-uri](#comment%3A25):
> Replying to [@qed777](#comment%3A24):
> > Great!  Could you fix the commit string so that the first line contains the ticket number and a brief (< 80 characters) summary of the changes?  We need to do this to keep `hg log` output informative.  Of course, additional explanatory lines are definitely allowed in the commit string; they'll be displayed by `hg log -p`.
> 
> 
> I'm not sure I did what you asked for: I created the patch again but edited the commit string using the "-e" command. Is that correct?

Yes, that works.  Thanks!



---

archive/issue_events_112507.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-09-15T11:13:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8950#event-112507"
}
```



---

archive/issue_events_112508.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-09-15T11:13:32Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8950#event-112508"
}
```



---

archive/issue_comments_073389.json:
```json
{
    "body": "Merged: **sage-4.6.alpha1**",
    "created_at": "2010-09-15T11:13:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8950#issuecomment-73389",
    "user": "https://github.com/qed777"
}
```

Merged: **sage-4.6.alpha1**
