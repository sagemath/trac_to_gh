# Issue 8734: make sage variables unique in maxima

archive/issues_008734.json:
```json
{
    "assignees": [
        "https://github.com/jasongrout"
    ],
    "body": "<div id=\"comment:0\"></div>\n\nThis patch prepends a unique string, \"_SAGE_VAR_\", to each variable name in maxima, to avoid conflicts with existing variables in maxima.\n\nDepends on #6882\n\nCC:  @williamstein @sagetrac-acleone @kcrisman @robert-marik @burcin @saliola\n\nComponent: **interfaces**\n\nAuthor: **Jason Grout, Ralf Stephan**\n\nBranch/Commit: **[`7a6696b`](https://github.com/sagemath/sagetrac-mirror/commit/7a6696b714e638461cf4f77adbb65ecf413a2e4e)**\n\nReviewer: **Volker Braun, Paul Zimmermann, Karl-Dieter Crisman**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/8734_\n\n",
    "closed_at": "2014-07-06T17:55:56Z",
    "created_at": "2010-04-21T05:45:14Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20interfaces",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "make sage variables unique in maxima",
    "type": "issue",
    "updated_at": "2014-07-06T17:55:56Z",
    "url": "https://github.com/sagemath/sage/issues/8734",
    "user": "https://github.com/jasongrout"
}
```
<div id="comment:0"></div>

This patch prepends a unique string, "_SAGE_VAR_", to each variable name in maxima, to avoid conflicts with existing variables in maxima.

Depends on #6882

CC:  @williamstein @sagetrac-acleone @kcrisman @robert-marik @burcin @saliola

Component: **interfaces**

Author: **Jason Grout, Ralf Stephan**

Branch/Commit: **[`7a6696b`](https://github.com/sagemath/sagetrac-mirror/commit/7a6696b714e638461cf4f77adbb65ecf413a2e4e)**

Reviewer: **Volker Braun, Paul Zimmermann, Karl-Dieter Crisman**

_Issue created by migration from https://trac.sagemath.org/ticket/8734_





---

archive/issue_events_109327.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2010-04-21T05:45:14Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8734#event-109327"
}
```



---

archive/issue_events_109328.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2010-04-21T05:45:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20interfaces",
    "label_color": "0000ff",
    "label_name": "c: interfaces",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8734#event-109328"
}
```



---

archive/issue_events_109329.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2010-04-21T05:45:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8734#event-109329"
}
```



---

archive/issue_events_109330.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2010-04-21T05:45:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8734#event-109330"
}
```



---

archive/issue_events_109331.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2010-04-21T05:45:14Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "subject": "https://github.com/jasongrout",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8734#event-109331"
}
```



---

archive/issue_events_109332.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2010-04-21T05:54:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8734#event-109332"
}
```



---

archive/issue_comments_070782.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nAttachment: **[trac-8734-maxima-vars.patch.gz](https://github.com/sagemath/sage/files/ticket8734/trac-8734-maxima-vars.patch.gz)**\n\nI haven't run doctests on everything, but this patch is a start, if one of you wants to take it from here.",
    "created_at": "2010-04-21T05:54:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70782",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:1" align="right">comment:1</div>

Attachment: **[trac-8734-maxima-vars.patch.gz](https://github.com/sagemath/sage/files/ticket8734/trac-8734-maxima-vars.patch.gz)**

I haven't run doctests on everything, but this patch is a start, if one of you wants to take it from here.



---

archive/issue_comments_070783.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nI think there might also be another ticket about this somewhere...",
    "created_at": "2010-04-21T13:03:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70783",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:2" align="right">comment:2</div>

I think there might also be another ticket about this somewhere...



---

archive/issue_comments_070784.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nHi, it is also #8634 and there is a dicussion at [sage-devel](http://groups.google.com/group/sage-devel/browse_thread/thread/67f0a63d00b8d835/06557a921a582f87)",
    "created_at": "2010-04-21T13:23:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70784",
    "user": "https://github.com/robert-marik"
}
```

<div id="comment:3" align="right">comment:3</div>

Hi, it is also #8634 and there is a dicussion at [sage-devel](http://groups.google.com/group/sage-devel/browse_thread/thread/67f0a63d00b8d835/06557a921a582f87)



---

archive/issue_events_109333.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2010-05-03T17:36:09Z",
    "event": "unassigned",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "subject": "https://github.com/jasongrout",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8734#event-109333"
}
```



---

archive/issue_events_109334.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2010-05-03T17:36:09Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "subject": "https://github.com/jasongrout",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8734#event-109334"
}
```



---

archive/issue_comments_070785.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nThis should fix #6882",
    "created_at": "2010-05-03T17:36:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70785",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:5" align="right">comment:5</div>

This should fix #6882



---

archive/issue_comments_070786.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nReplying to [@jasongrout](#comment%3A5):\n> This should fix #6882\n\nWell, or at least *help* with the solution, anyway.",
    "created_at": "2010-05-03T17:37:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70786",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:6" align="right">comment:6</div>

Replying to [@jasongrout](#comment%3A5):
> This should fix #6882

Well, or at least *help* with the solution, anyway.



---

archive/issue_comments_070787.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nThis ticket may also fix #9538.",
    "created_at": "2010-08-12T22:47:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70787",
    "user": "https://github.com/qed777"
}
```

<div id="comment:9" align="right">comment:9</div>

This ticket may also fix #9538.



---

archive/issue_events_109335.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8734#event-109335"
}
```



---

archive/issue_events_109336.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8734#event-109336"
}
```



---

archive/issue_comments_070788.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\npatch should be rebased, it fails to apply to Sage 5.11:\n\n```\nsage: hg_sage.import_patch(\"/tmp/trac-8734-maxima-vars.patch\")\ncd \"/home/zimmerma/Downloads/sage-5.11/devel/sage\" && sage --hg import   \"/tmp/trac-8734-maxima-vars.patch\"\napplying /tmp/trac-8734-maxima-vars.patch\npatching file sage/calculus/calculus.py\nHunk #1 FAILED at 1450\nHunk #2 FAILED at 1461\n2 out of 2 hunks FAILED -- saving rejects to file sage/calculus/calculus.py.rej\npatching file sage/symbolic/assumptions.py\nHunk #1 FAILED at 100\n1 out of 1 hunks FAILED -- saving rejects to file sage/symbolic/assumptions.py.rej\nabort: patch failed to apply\n```\nPaul",
    "created_at": "2013-08-25T13:09:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70788",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:11" align="right">comment:11</div>

patch should be rebased, it fails to apply to Sage 5.11:

```
sage: hg_sage.import_patch("/tmp/trac-8734-maxima-vars.patch")
cd "/home/zimmerma/Downloads/sage-5.11/devel/sage" && sage --hg import   "/tmp/trac-8734-maxima-vars.patch"
applying /tmp/trac-8734-maxima-vars.patch
patching file sage/calculus/calculus.py
Hunk #1 FAILED at 1450
Hunk #2 FAILED at 1461
2 out of 2 hunks FAILED -- saving rejects to file sage/calculus/calculus.py.rej
patching file sage/symbolic/assumptions.py
Hunk #1 FAILED at 100
1 out of 1 hunks FAILED -- saving rejects to file sage/symbolic/assumptions.py.rej
abort: patch failed to apply
```
Paul



---

archive/issue_comments_070789.json:
```json
{
    "body": "Work Issues: **rebase**",
    "created_at": "2013-08-25T13:09:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70789",
    "user": "https://github.com/zimmermann6"
}
```

Work Issues: **rebase**



---

archive/issue_events_109337.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8734#event-109337"
}
```



---

archive/issue_events_109338.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8734#event-109338"
}
```



---

archive/issue_comments_070790.json:
```json
{
    "body": "Branch: **[u/rws/ticket/8734](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/ticket/8734)**",
    "created_at": "2014-03-08T08:28:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70790",
    "user": "https://github.com/rwst"
}
```

Branch: **[u/rws/ticket/8734](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/ticket/8734)**



---

archive/issue_comments_070791.json:
```json
{
    "body": "Reviewer: **Ralf Stephan**",
    "created_at": "2014-03-08T08:30:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70791",
    "user": "https://github.com/rwst"
}
```

Reviewer: **Ralf Stephan**



---

archive/issue_comments_070792.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nRebased on 6.2.beta3\n\nPatch doesn't seem ready:\n\n```\nsage -t --long src/sage/symbolic/integration/integral.py  # 3 doctests failed\nsage -t --long src/sage/symbolic/assumptions.py  # 26 doctests failed\nsage -t --long src/sage/symbolic/pynac.pyx  # 1 doctest failed\nsage -t --long src/sage/symbolic/expression.pyx  # 21 doctests failed\nsage -t --long src/sage/calculus/desolvers.py  # 63 doctests failed\nsage -t --long src/sage/calculus/calculus.py  # 13 doctests failed\nsage -t --long src/sage/calculus/functional.py  # 1 doctest failed\n```\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/87d944ffbe59afe29de2faea2b569f7eaa904295\"><code>87d944f</code></a></td><td><code>Trac #8734: Make sage variables unique in maxima.</code></td></tr></table>\n",
    "created_at": "2014-03-08T08:30:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70792",
    "user": "https://github.com/rwst"
}
```

<div id="comment:14" align="right">comment:14</div>

Rebased on 6.2.beta3

Patch doesn't seem ready:

```
sage -t --long src/sage/symbolic/integration/integral.py  # 3 doctests failed
sage -t --long src/sage/symbolic/assumptions.py  # 26 doctests failed
sage -t --long src/sage/symbolic/pynac.pyx  # 1 doctest failed
sage -t --long src/sage/symbolic/expression.pyx  # 21 doctests failed
sage -t --long src/sage/calculus/desolvers.py  # 63 doctests failed
sage -t --long src/sage/calculus/calculus.py  # 13 doctests failed
sage -t --long src/sage/calculus/functional.py  # 1 doctest failed
```

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/87d944ffbe59afe29de2faea2b569f7eaa904295"><code>87d944f</code></a></td><td><code>Trac #8734: Make sage variables unique in maxima.</code></td></tr></table>




---

archive/issue_comments_070793.json:
```json
{
    "body": "Commit: **[`87d944f`](https://github.com/sagemath/sagetrac-mirror/commit/87d944ffbe59afe29de2faea2b569f7eaa904295)**",
    "created_at": "2014-03-08T08:30:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70793",
    "user": "https://github.com/rwst"
}
```

Commit: **[`87d944f`](https://github.com/sagemath/sagetrac-mirror/commit/87d944ffbe59afe29de2faea2b569f7eaa904295)**



---

archive/issue_comments_070794.json:
```json
{
    "body": "<div id=\"comment:15\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5b76872db43bcba752a6d72d5801cb3e0f8243fb\"><code>5b76872</code></a></td><td><code>Merge branch 'develop' into needswork/8734</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ca6a22176283d83b78998c17ad7a1335f390da40\"><code>ca6a221</code></a></td><td><code>factor out missing assumption error handling; filter _SAGE_VAR_</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3b7e91613a1cc43009d8f0fd89cf1f40e5ed452f\"><code>3b7e916</code></a></td><td><code>fix typo leading to error</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0ee7f20ff6a003d52224c84510e667483c6ddc2b\"><code>0ee7f20</code></a></td><td><code>two further maxima calls adapted; two more doctests fixed</code></td></tr></table>\n",
    "created_at": "2014-03-22T15:29:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70794",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5b76872db43bcba752a6d72d5801cb3e0f8243fb"><code>5b76872</code></a></td><td><code>Merge branch 'develop' into needswork/8734</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ca6a22176283d83b78998c17ad7a1335f390da40"><code>ca6a221</code></a></td><td><code>factor out missing assumption error handling; filter _SAGE_VAR_</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3b7e91613a1cc43009d8f0fd89cf1f40e5ed452f"><code>3b7e916</code></a></td><td><code>fix typo leading to error</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0ee7f20ff6a003d52224c84510e667483c6ddc2b"><code>0ee7f20</code></a></td><td><code>two further maxima calls adapted; two more doctests fixed</code></td></tr></table>




---

archive/issue_comments_070795.json:
```json
{
    "body": "Changed commit from **[`87d944f`](https://github.com/sagemath/sagetrac-mirror/commit/87d944ffbe59afe29de2faea2b569f7eaa904295)** to **[`0ee7f20`](https://github.com/sagemath/sagetrac-mirror/commit/0ee7f20ff6a003d52224c84510e667483c6ddc2b)**",
    "created_at": "2014-03-22T15:29:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70795",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`87d944f`](https://github.com/sagemath/sagetrac-mirror/commit/87d944ffbe59afe29de2faea2b569f7eaa904295)** to **[`0ee7f20`](https://github.com/sagemath/sagetrac-mirror/commit/0ee7f20ff6a003d52224c84510e667483c6ddc2b)**



---

archive/issue_comments_070796.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nThis fixes the errors in symbolic. More to come...",
    "created_at": "2014-03-22T15:31:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70796",
    "user": "https://github.com/rwst"
}
```

<div id="comment:16" align="right">comment:16</div>

This fixes the errors in symbolic. More to come...



---

archive/issue_comments_070797.json:
```json
{
    "body": "Changed work issues from **rebase** to **fix doctest problems**",
    "created_at": "2014-03-22T15:31:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70797",
    "user": "https://github.com/rwst"
}
```

Changed work issues from **rebase** to **fix doctest problems**



---

archive/issue_comments_070798.json:
```json
{
    "body": "Changed reviewer from **Ralf Stephan** to none",
    "created_at": "2014-03-22T15:31:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70798",
    "user": "https://github.com/rwst"
}
```

Changed reviewer from **Ralf Stephan** to none



---

archive/issue_comments_070799.json:
```json
{
    "body": "Changed author from **Jason Grout** to **Jason Grout, Ralf Stephan**",
    "created_at": "2014-03-22T15:31:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70799",
    "user": "https://github.com/rwst"
}
```

Changed author from **Jason Grout** to **Jason Grout, Ralf Stephan**



---

archive/issue_comments_070800.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nThanks for working on this!  This could also then eventually lead to a way to deal with the extra variables that come from e.g. differential equation solvers in Maxima - if we picked up a non-existent (in Sage) variable, we could perhaps do something with it.  (There are tickets about this out there, so I won't repeat that discussion.)",
    "created_at": "2014-03-22T15:59:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70800",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:17" align="right">comment:17</div>

Thanks for working on this!  This could also then eventually lead to a way to deal with the extra variables that come from e.g. differential equation solvers in Maxima - if we picked up a non-existent (in Sage) variable, we could perhaps do something with it.  (There are tickets about this out there, so I won't repeat that discussion.)



---

archive/issue_comments_070801.json:
```json
{
    "body": "Changed commit from **[`0ee7f20`](https://github.com/sagemath/sagetrac-mirror/commit/0ee7f20ff6a003d52224c84510e667483c6ddc2b)** to **[`a5f27ee`](https://github.com/sagemath/sagetrac-mirror/commit/a5f27eed1dfb83e1c979ecb23ad2854ccd00400b)**",
    "created_at": "2014-03-24T15:10:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70801",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0ee7f20`](https://github.com/sagemath/sagetrac-mirror/commit/0ee7f20ff6a003d52224c84510e667483c6ddc2b)** to **[`a5f27ee`](https://github.com/sagemath/sagetrac-mirror/commit/a5f27eed1dfb83e1c979ecb23ad2854ccd00400b)**



---

archive/issue_comments_070802.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b1cd2bfb21798eb7a4f5ffa28e4c7635dc9471dc\"><code>b1cd2bf</code></a></td><td><code>fix and generalize missing_assumption(); resp. doctest adaptions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b4df332a957c9ecd211e535f82fa6c62d3f1fc62\"><code>b4df332</code></a></td><td><code>Merge branch 'develop' into needswork/8734</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a5f27eed1dfb83e1c979ecb23ad2854ccd00400b\"><code>a5f27ee</code></a></td><td><code>add even more cases to add _SAGE_VAR_; fix doctests</code></td></tr></table>\n",
    "created_at": "2014-03-24T15:10:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70802",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b1cd2bfb21798eb7a4f5ffa28e4c7635dc9471dc"><code>b1cd2bf</code></a></td><td><code>fix and generalize missing_assumption(); resp. doctest adaptions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b4df332a957c9ecd211e535f82fa6c62d3f1fc62"><code>b4df332</code></a></td><td><code>Merge branch 'develop' into needswork/8734</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a5f27eed1dfb83e1c979ecb23ad2854ccd00400b"><code>a5f27ee</code></a></td><td><code>add even more cases to add _SAGE_VAR_; fix doctests</code></td></tr></table>




---

archive/issue_events_109339.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-03-24T15:13:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8734#event-109339"
}
```



---

archive/issue_events_109340.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-03-24T15:13:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8734#event-109340"
}
```



---

archive/issue_comments_070803.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nThis fixes the last doctests, mainly by handling the desolver entry points.",
    "created_at": "2014-03-24T15:13:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70803",
    "user": "https://github.com/rwst"
}
```

<div id="comment:19" align="right">comment:19</div>

This fixes the last doctests, mainly by handling the desolver entry points.



---

archive/issue_comments_070804.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nMerge conflict, please merge in the latest beta",
    "created_at": "2014-04-14T22:49:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70804",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:20" align="right">comment:20</div>

Merge conflict, please merge in the latest beta



---

archive/issue_comments_070805.json:
```json
{
    "body": "Changed branch from **[u/rws/ticket/8734](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/ticket/8734)** to **[u/rws/ticket/8734-1](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/ticket/8734-1)**",
    "created_at": "2014-04-15T06:17:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70805",
    "user": "https://github.com/rwst"
}
```

Changed branch from **[u/rws/ticket/8734](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/ticket/8734)** to **[u/rws/ticket/8734-1](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/ticket/8734-1)**



---

archive/issue_comments_070806.json:
```json
{
    "body": "Changed commit from **[`a5f27ee`](https://github.com/sagemath/sagetrac-mirror/commit/a5f27eed1dfb83e1c979ecb23ad2854ccd00400b)** to **[`f00cd8d`](https://github.com/sagemath/sagetrac-mirror/commit/f00cd8d5dc695dee49f59164251772db46bf48c3)**",
    "created_at": "2014-04-15T06:17:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70806",
    "user": "https://github.com/rwst"
}
```

Changed commit from **[`a5f27ee`](https://github.com/sagemath/sagetrac-mirror/commit/a5f27eed1dfb83e1c979ecb23ad2854ccd00400b)** to **[`f00cd8d`](https://github.com/sagemath/sagetrac-mirror/commit/f00cd8d5dc695dee49f59164251772db46bf48c3)**



---

archive/issue_comments_070807.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3d90c49bc248680a90f2788697311e65f297234f\"><code>3d90c49</code></a></td><td><code>Trac #8734: Make sage variables unique in maxima.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a6cbf80ccf71dac48cc8cd352cb39bd913ecf651\"><code>a6cbf80</code></a></td><td><code>factor out missing assumption error handling; filter _SAGE_VAR_</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3f24835a9c82aeccde6135249bf1557cb9ced788\"><code>3f24835</code></a></td><td><code>fix typo leading to error</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f36c6b52d6795d81b9c7918926e9a92ac5220cdd\"><code>f36c6b5</code></a></td><td><code>two further maxima calls adapted; two more doctests fixed</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ced268db4e1e150b453297d05bc42ab31abbeba5\"><code>ced268d</code></a></td><td><code>fix and generalize missing_assumption(); resp. doctest adaptions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a74ec004d982cebddcd5cbb6d489f1b5978451c7\"><code>a74ec00</code></a></td><td><code>add even more cases to add _SAGE_VAR_; fix doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f00cd8d5dc695dee49f59164251772db46bf48c3\"><code>f00cd8d</code></a></td><td><code>Merge branch 'rev/8734' into tmp</code></td></tr></table>\n",
    "created_at": "2014-04-15T06:17:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70807",
    "user": "https://github.com/rwst"
}
```

<div id="comment:21"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3d90c49bc248680a90f2788697311e65f297234f"><code>3d90c49</code></a></td><td><code>Trac #8734: Make sage variables unique in maxima.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a6cbf80ccf71dac48cc8cd352cb39bd913ecf651"><code>a6cbf80</code></a></td><td><code>factor out missing assumption error handling; filter _SAGE_VAR_</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3f24835a9c82aeccde6135249bf1557cb9ced788"><code>3f24835</code></a></td><td><code>fix typo leading to error</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f36c6b52d6795d81b9c7918926e9a92ac5220cdd"><code>f36c6b5</code></a></td><td><code>two further maxima calls adapted; two more doctests fixed</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ced268db4e1e150b453297d05bc42ab31abbeba5"><code>ced268d</code></a></td><td><code>fix and generalize missing_assumption(); resp. doctest adaptions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a74ec004d982cebddcd5cbb6d489f1b5978451c7"><code>a74ec00</code></a></td><td><code>add even more cases to add _SAGE_VAR_; fix doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f00cd8d5dc695dee49f59164251772db46bf48c3"><code>f00cd8d</code></a></td><td><code>Merge branch 'rev/8734' into tmp</code></td></tr></table>




---

archive/issue_comments_070808.json:
```json
{
    "body": "Changed work issues from **fix doctest problems** to none",
    "created_at": "2014-04-15T06:17:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70808",
    "user": "https://github.com/rwst"
}
```

Changed work issues from **fix doctest problems** to none



---

archive/issue_comments_070809.json:
```json
{
    "body": "Reviewer: **Volker Braun**",
    "created_at": "2014-04-15T09:45:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70809",
    "user": "https://github.com/vbraun"
}
```

Reviewer: **Volker Braun**



---

archive/issue_comments_070810.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\n\n```\nsage -t --long src/sage/functions/bessel.py  # 3 doctests failed\nsage -t --long src/sage/interfaces/maxima_abstract.py  # 16 doctests failed\nsage -t --long src/sage/tests/french_book/recequadiff.py  # 1 doctest failed\nsage -t --long src/sage/interfaces/maxima.py  # 2 doctests failed\nsage -t --long src/doc/en/constructions/calculus.rst  # 2 doctests failed\nsage -t --long src/sage/interfaces/maxima_lib.py  # 11 doctests failed\nsage -t --long src/sage/functions/other.py  # 4 doctests failed\nsage -t --long src/sage/functions/orthogonal_polys.py  # 5 doctests failed\nsage -t --long src/sage/symbolic/expression_conversions.py  # 2 doctests failed\nsage -t --long src/sage/interfaces/interface.py  # 10 doctests failed\n```",
    "created_at": "2014-04-15T11:02:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70810",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:23" align="right">comment:23</div>


```
sage -t --long src/sage/functions/bessel.py  # 3 doctests failed
sage -t --long src/sage/interfaces/maxima_abstract.py  # 16 doctests failed
sage -t --long src/sage/tests/french_book/recequadiff.py  # 1 doctest failed
sage -t --long src/sage/interfaces/maxima.py  # 2 doctests failed
sage -t --long src/doc/en/constructions/calculus.rst  # 2 doctests failed
sage -t --long src/sage/interfaces/maxima_lib.py  # 11 doctests failed
sage -t --long src/sage/functions/other.py  # 4 doctests failed
sage -t --long src/sage/functions/orthogonal_polys.py  # 5 doctests failed
sage -t --long src/sage/symbolic/expression_conversions.py  # 2 doctests failed
sage -t --long src/sage/interfaces/interface.py  # 10 doctests failed
```



---

archive/issue_events_109341.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-04-15T11:02:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8734#event-109341"
}
```



---

archive/issue_events_109342.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-04-15T11:02:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8734#event-109342"
}
```



---

archive/issue_comments_070811.json:
```json
{
    "body": "Changed commit from **[`f00cd8d`](https://github.com/sagemath/sagetrac-mirror/commit/f00cd8d5dc695dee49f59164251772db46bf48c3)** to **[`be9367f`](https://github.com/sagemath/sagetrac-mirror/commit/be9367f966fc76ba6028b57ab4317530cfd1205e)**",
    "created_at": "2014-04-15T16:44:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70811",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f00cd8d`](https://github.com/sagemath/sagetrac-mirror/commit/f00cd8d5dc695dee49f59164251772db46bf48c3)** to **[`be9367f`](https://github.com/sagemath/sagetrac-mirror/commit/be9367f966fc76ba6028b57ab4317530cfd1205e)**



---

archive/issue_comments_070812.json:
```json
{
    "body": "<div id=\"comment:25\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4a570d870ac2d06f9562b612ce6685e68a0b000d\"><code>4a570d8</code></a></td><td><code>8734: more additions of `_SAGE_VAR_` in doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/be9367f966fc76ba6028b57ab4317530cfd1205e\"><code>be9367f</code></a></td><td><code>8734: one more maxima call adapted; more doctests fixed</code></td></tr></table>\n",
    "created_at": "2014-04-15T16:44:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70812",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:25"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4a570d870ac2d06f9562b612ce6685e68a0b000d"><code>4a570d8</code></a></td><td><code>8734: more additions of `_SAGE_VAR_` in doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/be9367f966fc76ba6028b57ab4317530cfd1205e"><code>be9367f</code></a></td><td><code>8734: one more maxima call adapted; more doctests fixed</code></td></tr></table>




---

archive/issue_comments_070813.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nConcerning the remaining doctests in `interfaces/maxima_abstract.py` I am at a loss at what to do. For example this\n\n```\nsage: x,y = var('x,y'); f = maxima.function('x','sin(x)')\nsage: type(f)\n<class 'sage.interfaces.maxima.MaximaElementFunction'>\nsage: g=maxima.cos(x)\nsage: type(g)\n<class 'sage.interfaces.maxima.MaximaElement'>\nsage: f+g\ncos(_SAGE_VAR_x)+sin(x)\nsage: (f+g)(2)\ncos(_SAGE_VAR_x)+sin(2)\n```\nshows that while the `MaximaElementFunction f` has the variable `x` which is associated with `_SAGE_VAR_x` in Maxima (and calling the function works as expected), the `MaximaElement g` shows `_SAGE_VAR_x` which has of course no Maxima pendant (and calling the function bombs). Naively both should behave identically.\n\n```\nsage: h=SR(maxima.cos(x))\nsage: h\ncos(x)\nsage: h(2)\ncos(2)\nsage: f+h\ncos(_SAGE_VAR_x)+sin(x)\nsage: (f+h)(2)\ncos(_SAGE_VAR_x)+sin(2)\n```\nMoreover, if `g` gets converted to `SR` it behaves fine but when converted to `type(f)` by using it as rhs it gets `_SAGE_VAR_x` as parameter. What is the next step?",
    "created_at": "2014-04-17T08:50:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70813",
    "user": "https://github.com/rwst"
}
```

<div id="comment:26" align="right">comment:26</div>

Concerning the remaining doctests in `interfaces/maxima_abstract.py` I am at a loss at what to do. For example this

```
sage: x,y = var('x,y'); f = maxima.function('x','sin(x)')
sage: type(f)
<class 'sage.interfaces.maxima.MaximaElementFunction'>
sage: g=maxima.cos(x)
sage: type(g)
<class 'sage.interfaces.maxima.MaximaElement'>
sage: f+g
cos(_SAGE_VAR_x)+sin(x)
sage: (f+g)(2)
cos(_SAGE_VAR_x)+sin(2)
```
shows that while the `MaximaElementFunction f` has the variable `x` which is associated with `_SAGE_VAR_x` in Maxima (and calling the function works as expected), the `MaximaElement g` shows `_SAGE_VAR_x` which has of course no Maxima pendant (and calling the function bombs). Naively both should behave identically.

```
sage: h=SR(maxima.cos(x))
sage: h
cos(x)
sage: h(2)
cos(2)
sage: f+h
cos(_SAGE_VAR_x)+sin(x)
sage: (f+h)(2)
cos(_SAGE_VAR_x)+sin(2)
```
Moreover, if `g` gets converted to `SR` it behaves fine but when converted to `type(f)` by using it as rhs it gets `_SAGE_VAR_x` as parameter. What is the next step?



---

archive/issue_comments_070814.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nAs far as I understand now, a `MaximaElementFunction` is a function defined within the Maxima process, and so `x` is the parameter name, not a registered variable. Thus the output `sin(x)` makes sense. OTOH any `_SAGE_VAR_x` that appears in a `MaximaElement` repr refers to a registered variable within Maxima that is associated with a registered Sage var named `x`. Let's interpret the above output in the light of this.\n> \n> ```\n> sage: f+g\n> cos(_SAGE_VAR_x)+sin(x)\n> ```\n\nCorrect but can the user make sense of it?\n> \n> ```\n> sage: (f+g)(2)\n> cos(_SAGE_VAR_x)+sin(2)\n> ```\n\nThat is not less correct than\n\n```\nsage: (sin(x)+cos(y))(2)\ncos(y) + sin(2)\n```\nand it just seems to be another case of `SR._call_element_()` where is stated: \"Note that you make get unexpected results when calling symbolic expressions and not explicitly giving the variables.\"\n\nMoreover, it was a hack that this worked at all in the `MaximaAbstractElementFunction._add_()` doctests because\n\n```\nsage: f = maxima.function('z','sin(z)')\nsage: f\nsin(z)\nsage: f(2)\nsin(2)\nsage: (sin(z))(2)\n---------------------------------------------------------------------------\nNameError                                 Traceback (most recent call last)\nNameError: name 'z' is not defined\n```",
    "created_at": "2014-04-18T14:33:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70814",
    "user": "https://github.com/rwst"
}
```

<div id="comment:27" align="right">comment:27</div>

As far as I understand now, a `MaximaElementFunction` is a function defined within the Maxima process, and so `x` is the parameter name, not a registered variable. Thus the output `sin(x)` makes sense. OTOH any `_SAGE_VAR_x` that appears in a `MaximaElement` repr refers to a registered variable within Maxima that is associated with a registered Sage var named `x`. Let's interpret the above output in the light of this.
> 
> ```
> sage: f+g
> cos(_SAGE_VAR_x)+sin(x)
> ```

Correct but can the user make sense of it?
> 
> ```
> sage: (f+g)(2)
> cos(_SAGE_VAR_x)+sin(2)
> ```

That is not less correct than

```
sage: (sin(x)+cos(y))(2)
cos(y) + sin(2)
```
and it just seems to be another case of `SR._call_element_()` where is stated: "Note that you make get unexpected results when calling symbolic expressions and not explicitly giving the variables."

Moreover, it was a hack that this worked at all in the `MaximaAbstractElementFunction._add_()` doctests because

```
sage: f = maxima.function('z','sin(z)')
sage: f
sin(z)
sage: f(2)
sin(2)
sage: (sin(z))(2)
---------------------------------------------------------------------------
NameError                                 Traceback (most recent call last)
NameError: name 'z' is not defined
```



---

archive/issue_comments_070815.json:
```json
{
    "body": "Changed commit from **[`be9367f`](https://github.com/sagemath/sagetrac-mirror/commit/be9367f966fc76ba6028b57ab4317530cfd1205e)** to **[`06b9528`](https://github.com/sagemath/sagetrac-mirror/commit/06b952805ab10b7f30b4c06c1fcd487cbf1b7dce)**",
    "created_at": "2014-04-18T14:57:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70815",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`be9367f`](https://github.com/sagemath/sagetrac-mirror/commit/be9367f966fc76ba6028b57ab4317530cfd1205e)** to **[`06b9528`](https://github.com/sagemath/sagetrac-mirror/commit/06b952805ab10b7f30b4c06c1fcd487cbf1b7dce)**



---

archive/issue_comments_070816.json:
```json
{
    "body": "<div id=\"comment:28\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1e9b54bca59e9b69cd10a08a60255012a90c4f01\"><code>1e9b54b</code></a></td><td><code>8734: more doctests fixed</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/06b952805ab10b7f30b4c06c1fcd487cbf1b7dce\"><code>06b9528</code></a></td><td><code>8734: fix doctests</code></td></tr></table>\n",
    "created_at": "2014-04-18T14:57:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70816",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:28"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1e9b54bca59e9b69cd10a08a60255012a90c4f01"><code>1e9b54b</code></a></td><td><code>8734: more doctests fixed</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/06b952805ab10b7f30b4c06c1fcd487cbf1b7dce"><code>06b9528</code></a></td><td><code>8734: fix doctests</code></td></tr></table>




---

archive/issue_events_109343.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-04-18T14:58:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8734#event-109343"
}
```



---

archive/issue_events_109344.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-04-18T14:58:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8734#event-109344"
}
```



---

archive/issue_events_109345.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8734#event-109345"
}
```



---

archive/issue_events_109346.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8734#event-109346"
}
```



---

archive/issue_comments_070817.json:
```json
{
    "body": "<div id=\"comment:31\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6fffc21fbfe9a72f40f51ba22efec6dd9ec28ac5\"><code>6fffc21</code></a></td><td><code>Merge branch 'develop' into t/8734/ticket/8734-1</code></td></tr></table>\n",
    "created_at": "2014-05-26T09:29:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70817",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:31"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6fffc21fbfe9a72f40f51ba22efec6dd9ec28ac5"><code>6fffc21</code></a></td><td><code>Merge branch 'develop' into t/8734/ticket/8734-1</code></td></tr></table>




---

archive/issue_comments_070818.json:
```json
{
    "body": "Changed commit from **[`06b9528`](https://github.com/sagemath/sagetrac-mirror/commit/06b952805ab10b7f30b4c06c1fcd487cbf1b7dce)** to **[`6fffc21`](https://github.com/sagemath/sagetrac-mirror/commit/6fffc21fbfe9a72f40f51ba22efec6dd9ec28ac5)**",
    "created_at": "2014-05-26T09:29:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70818",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`06b9528`](https://github.com/sagemath/sagetrac-mirror/commit/06b952805ab10b7f30b4c06c1fcd487cbf1b7dce)** to **[`6fffc21`](https://github.com/sagemath/sagetrac-mirror/commit/6fffc21fbfe9a72f40f51ba22efec6dd9ec28ac5)**



---

archive/issue_comments_070819.json:
```json
{
    "body": "<div id=\"comment:32\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3d74cad55ddc6d1a0c64356a59c88cdac1a6f2d9\"><code>3d74cad</code></a></td><td><code>8734: rename private function, doctest it</code></td></tr></table>\n",
    "created_at": "2014-05-26T13:57:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70819",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:32"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3d74cad55ddc6d1a0c64356a59c88cdac1a6f2d9"><code>3d74cad</code></a></td><td><code>8734: rename private function, doctest it</code></td></tr></table>




---

archive/issue_comments_070820.json:
```json
{
    "body": "Changed commit from **[`6fffc21`](https://github.com/sagemath/sagetrac-mirror/commit/6fffc21fbfe9a72f40f51ba22efec6dd9ec28ac5)** to **[`3d74cad`](https://github.com/sagemath/sagetrac-mirror/commit/3d74cad55ddc6d1a0c64356a59c88cdac1a6f2d9)**",
    "created_at": "2014-05-26T13:57:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70820",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6fffc21`](https://github.com/sagemath/sagetrac-mirror/commit/6fffc21fbfe9a72f40f51ba22efec6dd9ec28ac5)** to **[`3d74cad`](https://github.com/sagemath/sagetrac-mirror/commit/3d74cad55ddc6d1a0c64356a59c88cdac1a6f2d9)**



---

archive/issue_comments_070821.json:
```json
{
    "body": "Changed commit from **[`3d74cad`](https://github.com/sagemath/sagetrac-mirror/commit/3d74cad55ddc6d1a0c64356a59c88cdac1a6f2d9)** to **[`cec9681`](https://github.com/sagemath/sagetrac-mirror/commit/cec9681b1ebb379ed6eccec389981512acd527cb)**",
    "created_at": "2014-06-06T13:23:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70821",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3d74cad`](https://github.com/sagemath/sagetrac-mirror/commit/3d74cad55ddc6d1a0c64356a59c88cdac1a6f2d9)** to **[`cec9681`](https://github.com/sagemath/sagetrac-mirror/commit/cec9681b1ebb379ed6eccec389981512acd527cb)**



---

archive/issue_comments_070822.json:
```json
{
    "body": "<div id=\"comment:33\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3180e7b9ed36763261d579fafcb9cc67f7a887e8\"><code>3180e7b</code></a></td><td><code>Merge branch 'develop' into t/8734/ticket/8734-1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cec9681b1ebb379ed6eccec389981512acd527cb\"><code>cec9681</code></a></td><td><code>8734: merge conflicts</code></td></tr></table>\n",
    "created_at": "2014-06-06T13:23:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70822",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:33"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3180e7b9ed36763261d579fafcb9cc67f7a887e8"><code>3180e7b</code></a></td><td><code>Merge branch 'develop' into t/8734/ticket/8734-1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cec9681b1ebb379ed6eccec389981512acd527cb"><code>cec9681</code></a></td><td><code>8734: merge conflicts</code></td></tr></table>




---

archive/issue_comments_070823.json:
```json
{
    "body": "<div id=\"comment:34\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f70208835cb64305fc90524a9b67c5a86aed0c1e\"><code>f702088</code></a></td><td><code>take back unrelated change</code></td></tr></table>\n",
    "created_at": "2014-06-06T13:50:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70823",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:34"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f70208835cb64305fc90524a9b67c5a86aed0c1e"><code>f702088</code></a></td><td><code>take back unrelated change</code></td></tr></table>




---

archive/issue_comments_070824.json:
```json
{
    "body": "Changed commit from **[`cec9681`](https://github.com/sagemath/sagetrac-mirror/commit/cec9681b1ebb379ed6eccec389981512acd527cb)** to **[`f702088`](https://github.com/sagemath/sagetrac-mirror/commit/f70208835cb64305fc90524a9b67c5a86aed0c1e)**",
    "created_at": "2014-06-06T13:50:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70824",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`cec9681`](https://github.com/sagemath/sagetrac-mirror/commit/cec9681b1ebb379ed6eccec389981512acd527cb)** to **[`f702088`](https://github.com/sagemath/sagetrac-mirror/commit/f70208835cb64305fc90524a9b67c5a86aed0c1e)**



---

archive/issue_comments_070825.json:
```json
{
    "body": "Changed reviewer from **Volker Braun** to **Volker Braun, Paul Zimmerman, Karl-Dieter Crisman**",
    "created_at": "2014-06-06T14:40:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70825",
    "user": "https://github.com/kcrisman"
}
```

Changed reviewer from **Volker Braun** to **Volker Braun, Paul Zimmerman, Karl-Dieter Crisman**



---

archive/issue_comments_070826.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nHi!  Thanks for keeping at this.  I'll try to look at it one final time soon - waiting for the latest beta to compile.  In the meantime:\n\nI like the renaming and doctesting of the missing assumption function, and I agree with your analysis of the Maxima 'parameters', as you call them - yes, those are completely separate from Sage.  I would encourage you to be even more explicit than\n\n```\nThe parameter ``x`` is different from the symbolic variable::\n```\nby saying something about it being a *Maxima* parameter versus *Sage* symbolic variable.  Does that make sense?\n\nAlso, don't worry too much about the 'todo' in `doc/en/constructions/calculus.rst`.  That is truly ancient, from the days where legendary heroes of yore managed to bring calculus functionality, despite awkward syntax, into an algebraic geometry program... meaning eventually that should be just rewritten to use \"native syntax\" or just folded into the calculus documentation.",
    "created_at": "2014-06-06T14:40:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70826",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:35" align="right">comment:35</div>

Hi!  Thanks for keeping at this.  I'll try to look at it one final time soon - waiting for the latest beta to compile.  In the meantime:

I like the renaming and doctesting of the missing assumption function, and I agree with your analysis of the Maxima 'parameters', as you call them - yes, those are completely separate from Sage.  I would encourage you to be even more explicit than

```
The parameter ``x`` is different from the symbolic variable::
```
by saying something about it being a *Maxima* parameter versus *Sage* symbolic variable.  Does that make sense?

Also, don't worry too much about the 'todo' in `doc/en/constructions/calculus.rst`.  That is truly ancient, from the days where legendary heroes of yore managed to bring calculus functionality, despite awkward syntax, into an algebraic geometry program... meaning eventually that should be just rewritten to use "native syntax" or just folded into the calculus documentation.



---

archive/issue_comments_070827.json:
```json
{
    "body": "<div id=\"comment:36\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2d31fb12b7a2932624a4ba2b310582d190d70824\"><code>2d31fb1</code></a></td><td><code>8734: doc cosmetics</code></td></tr></table>\n",
    "created_at": "2014-06-07T05:32:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70827",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:36"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2d31fb12b7a2932624a4ba2b310582d190d70824"><code>2d31fb1</code></a></td><td><code>8734: doc cosmetics</code></td></tr></table>




---

archive/issue_comments_070828.json:
```json
{
    "body": "Changed commit from **[`f702088`](https://github.com/sagemath/sagetrac-mirror/commit/f70208835cb64305fc90524a9b67c5a86aed0c1e)** to **[`2d31fb1`](https://github.com/sagemath/sagetrac-mirror/commit/2d31fb12b7a2932624a4ba2b310582d190d70824)**",
    "created_at": "2014-06-07T05:32:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70828",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f702088`](https://github.com/sagemath/sagetrac-mirror/commit/f70208835cb64305fc90524a9b67c5a86aed0c1e)** to **[`2d31fb1`](https://github.com/sagemath/sagetrac-mirror/commit/2d31fb12b7a2932624a4ba2b310582d190d70824)**



---

archive/issue_comments_070829.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nOkay, here are a few questions.  I am pretty sure the answers are very straightforward, but I want to make sure it's clear - in case we might want to add a doctest, for instance.\n* Commit \tbe9367 (where you add a try/except clause in `_create`) - what sort of situation is that catching?  (Also, did you change all of the doctests with assumptions, or leave a few just so people see what the full form looks like?)\n* Commit \tced268 (where you generalized the missing assumptions) - what situation is that additionally catching?  Was that a case of Maxima asking questions which we didn't catch (and hence doctest) before?\n* I assume you are more than happy with Jason's original patch doing the basic functionality, right?\n\nThe only part I haven't had a chance to really dig into is the differential equations changes (Commit a74ec0).  I assume there isn't an obvious more modular way to deal with those :( but I don't have time currently to go through this in detail.  My main issue (not really a concern, just my lack of being convinced yet) is just seeing that we really aren't over-replacing or under-replacing in that.\n\nSo these are pretty minor things and hopefully I'll be able to find some time for the DE part (or someone else will!) and we'll be on our way!  It certainly looks like you were VERY thorough in finding places that might cause trouble.  The difficulty is that one might miss some places it is needed because in the absence of adding `_SAGE_VAR_` things should still work, so one might not know if we missed one.  Thanks!",
    "created_at": "2014-06-17T15:11:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70829",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:37" align="right">comment:37</div>

Okay, here are a few questions.  I am pretty sure the answers are very straightforward, but I want to make sure it's clear - in case we might want to add a doctest, for instance.
* Commit 	be9367 (where you add a try/except clause in `_create`) - what sort of situation is that catching?  (Also, did you change all of the doctests with assumptions, or leave a few just so people see what the full form looks like?)
* Commit 	ced268 (where you generalized the missing assumptions) - what situation is that additionally catching?  Was that a case of Maxima asking questions which we didn't catch (and hence doctest) before?
* I assume you are more than happy with Jason's original patch doing the basic functionality, right?

The only part I haven't had a chance to really dig into is the differential equations changes (Commit a74ec0).  I assume there isn't an obvious more modular way to deal with those :( but I don't have time currently to go through this in detail.  My main issue (not really a concern, just my lack of being convinced yet) is just seeing that we really aren't over-replacing or under-replacing in that.

So these are pretty minor things and hopefully I'll be able to find some time for the DE part (or someone else will!) and we'll be on our way!  It certainly looks like you were VERY thorough in finding places that might cause trouble.  The difficulty is that one might miss some places it is needed because in the absence of adding `_SAGE_VAR_` things should still work, so one might not know if we missed one.  Thanks!



---

archive/issue_comments_070830.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nReplying to [@kcrisman](#comment%3A37):\n> Okay, here are a few questions.  I am pretty sure the answers are very straightforward, but I want to make sure it's clear - in case we might want to add a doctest, for instance.\n\nSure, as long as you remember \"The perfect is the enemy of the good.\" \n> * Commit \tbe9367 (where you add a try/except clause in `_create`) - what sort of situation is that catching?\n\nThere are several places where maxima.eval() is called and where exceptions are thrown. This one was simply overlooked, so that change fixes an unreported bug.\n>(Also, did you change all of the doctests with assumptions, or leave a few just so people see what the full form looks like?)\n\nYes.\n> * Commit \tced268 (where you generalized the missing assumptions) - what situation is that additionally catching?  Was that a case of Maxima asking questions which we didn't catch (and hence doctest) before?\n\nNo, it reduces code duplication. Recommended reading: https://en.wikipedia.org/wiki/Code_refactoring\n> * I assume you are more than happy with Jason's original patch doing the basic functionality, right?\n\nYes and no. A lot was missing.\n> ...\n> So these are pretty minor things and hopefully I'll be able to find some time for the DE part (or someone else will!) and we'll be on our way!  It certainly looks like you were VERY thorough in finding places that might cause trouble.  The difficulty is that one might miss some places it is needed because in the absence of adding `_SAGE_VAR_` things should still work, so one might not know if we missed one.  Thanks!\n\nI would assume this is caught by all those doctests using maxima.",
    "created_at": "2014-06-17T15:45:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70830",
    "user": "https://github.com/rwst"
}
```

<div id="comment:38" align="right">comment:38</div>

Replying to [@kcrisman](#comment%3A37):
> Okay, here are a few questions.  I am pretty sure the answers are very straightforward, but I want to make sure it's clear - in case we might want to add a doctest, for instance.

Sure, as long as you remember "The perfect is the enemy of the good." 
> * Commit 	be9367 (where you add a try/except clause in `_create`) - what sort of situation is that catching?

There are several places where maxima.eval() is called and where exceptions are thrown. This one was simply overlooked, so that change fixes an unreported bug.
>(Also, did you change all of the doctests with assumptions, or leave a few just so people see what the full form looks like?)

Yes.
> * Commit 	ced268 (where you generalized the missing assumptions) - what situation is that additionally catching?  Was that a case of Maxima asking questions which we didn't catch (and hence doctest) before?

No, it reduces code duplication. Recommended reading: https://en.wikipedia.org/wiki/Code_refactoring
> * I assume you are more than happy with Jason's original patch doing the basic functionality, right?

Yes and no. A lot was missing.
> ...
> So these are pretty minor things and hopefully I'll be able to find some time for the DE part (or someone else will!) and we'll be on our way!  It certainly looks like you were VERY thorough in finding places that might cause trouble.  The difficulty is that one might miss some places it is needed because in the absence of adding `_SAGE_VAR_` things should still work, so one might not know if we missed one.  Thanks!

I would assume this is caught by all those doctests using maxima.



---

archive/issue_comments_070831.json:
```json
{
    "body": "Changed commit from **[`2d31fb1`](https://github.com/sagemath/sagetrac-mirror/commit/2d31fb12b7a2932624a4ba2b310582d190d70824)** to **[`2c68026`](https://github.com/sagemath/sagetrac-mirror/commit/2c68026320ba3c516cd94fa1721e886ecd732804)**",
    "created_at": "2014-06-17T15:47:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70831",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2d31fb1`](https://github.com/sagemath/sagetrac-mirror/commit/2d31fb12b7a2932624a4ba2b310582d190d70824)** to **[`2c68026`](https://github.com/sagemath/sagetrac-mirror/commit/2c68026320ba3c516cd94fa1721e886ecd732804)**



---

archive/issue_comments_070832.json:
```json
{
    "body": "<div id=\"comment:39\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2c68026320ba3c516cd94fa1721e886ecd732804\"><code>2c68026</code></a></td><td><code>8734: adapt doctest to recent change of output</code></td></tr></table>\n",
    "created_at": "2014-06-17T15:47:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70832",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:39"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2c68026320ba3c516cd94fa1721e886ecd732804"><code>2c68026</code></a></td><td><code>8734: adapt doctest to recent change of output</code></td></tr></table>




---

archive/issue_comments_070833.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nThe output changed recently and I forgot to fix one doctest.",
    "created_at": "2014-06-17T15:48:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70833",
    "user": "https://github.com/rwst"
}
```

<div id="comment:40" align="right">comment:40</div>

The output changed recently and I forgot to fix one doctest.



---

archive/issue_comments_070834.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\n> > Okay, here are a few questions.  I am pretty sure the answers are very straightforward, but I want to make sure it's clear - in case we might want to add a doctest, for instance.\n> \n> Sure, as long as you remember \"The perfect is the enemy of the good.\" \n\nOf course!\n> > * Commit \tbe9367 (where you add a try/except clause in `_create`) - what sort of situation is that catching?\n> \n> There are several places where maxima.eval() is called and where exceptions are thrown. This one was simply overlooked, so that change fixes an unreported bug.\n\nHmm, okay.  I don't see how `_create` could have asked for an evaluation of this type, but I suppose.\n> > * Commit \tced268 (where you generalized the missing assumptions) - what situation is that additionally catching?  Was that a case of Maxima asking questions which we didn't catch (and hence doctest) before?\n> \n> No, it reduces code duplication. Recommended reading: https://en.wikipedia.org/wiki/Code_refactoring\n\nI'm not referring to that; in fact, I fully agreed with that strategy in earlier comments.  My question is specifically about `jj=2` - since usually `jj=3` seems to be the old case.  We should test a new branch, which this appears to be (though it may just be something obvious I'm not seeing).\n> > * I assume you are more than happy with Jason's original patch doing the basic functionality, right?\n> \n> Yes and no. A lot was missing.\n\nI mean in terms of reviewing that for the *basic* functionality for proper conversion.  Naturally you provided a huge amount of missing stuff!\n> > So these are pretty minor things and hopefully I'll be able to find some time for the DE part (or someone else will!) and we'll be on our way!  It certainly looks like you were VERY thorough in finding places that might cause trouble.  The difficulty is that one might miss some places it is needed because in the absence of adding `_SAGE_VAR_` things should still work, so one might not know if we missed one.  Thanks!\n> \n> I would assume this is caught by all those doctests using maxima.\n\nThat's my point - they may NOT catch a missing one, since we only remove things via search-and-replace-with-empty-string, and everything worked before.",
    "created_at": "2014-06-17T16:04:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70834",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:41" align="right">comment:41</div>

> > Okay, here are a few questions.  I am pretty sure the answers are very straightforward, but I want to make sure it's clear - in case we might want to add a doctest, for instance.
> 
> Sure, as long as you remember "The perfect is the enemy of the good." 

Of course!
> > * Commit 	be9367 (where you add a try/except clause in `_create`) - what sort of situation is that catching?
> 
> There are several places where maxima.eval() is called and where exceptions are thrown. This one was simply overlooked, so that change fixes an unreported bug.

Hmm, okay.  I don't see how `_create` could have asked for an evaluation of this type, but I suppose.
> > * Commit 	ced268 (where you generalized the missing assumptions) - what situation is that additionally catching?  Was that a case of Maxima asking questions which we didn't catch (and hence doctest) before?
> 
> No, it reduces code duplication. Recommended reading: https://en.wikipedia.org/wiki/Code_refactoring

I'm not referring to that; in fact, I fully agreed with that strategy in earlier comments.  My question is specifically about `jj=2` - since usually `jj=3` seems to be the old case.  We should test a new branch, which this appears to be (though it may just be something obvious I'm not seeing).
> > * I assume you are more than happy with Jason's original patch doing the basic functionality, right?
> 
> Yes and no. A lot was missing.

I mean in terms of reviewing that for the *basic* functionality for proper conversion.  Naturally you provided a huge amount of missing stuff!
> > So these are pretty minor things and hopefully I'll be able to find some time for the DE part (or someone else will!) and we'll be on our way!  It certainly looks like you were VERY thorough in finding places that might cause trouble.  The difficulty is that one might miss some places it is needed because in the absence of adding `_SAGE_VAR_` things should still work, so one might not know if we missed one.  Thanks!
> 
> I would assume this is caught by all those doctests using maxima.

That's my point - they may NOT catch a missing one, since we only remove things via search-and-replace-with-empty-string, and everything worked before.



---

archive/issue_comments_070835.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nReplying to [@kcrisman](#comment%3A41):\n> > > * Commit \tbe9367 (where you add a try/except clause in `_create`) - what sort of situation is that catching?\n> > \n> > There are several places where maxima.eval() is called and where exceptions are thrown. This one was simply overlooked, so that change fixes an unreported bug.\n> \n> Hmm, okay.  I don't see how `_create` could have asked for an evaluation of this type, but I suppose.\n\nIt is really easy to find it out yourself: just change `RuntimeError` to something different like `NotImplementedError`, doctest, and you'll get:\n\n```\nsage -t src/sage/tests/french_book/recequadiff.py\n**********************************************************************\nFile \"src/sage/tests/french_book/recequadiff.py\", line 247, in sage.tests.french_book.recequadiff\nFailed example:\n    desolve(eq1,[f,x])\nExpected:\n    Traceback (most recent call last):\n      ...\n    TypeError: Computation failed ...\n    Is k positive, negative or zero?\nGot:\n    <BLANKLINE>\n    Traceback (most recent call last):\n      File \"/home/ralf/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 480, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/home/ralf/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 839, in execute\n        exec compiled in globs\n      File \"<doctest sage.tests.french_book.recequadiff[64]>\", line 1, in <module>\n        desolve(eq1,[f,x])\n      File \"/home/ralf/sage/local/lib/python2.7/site-packages/sage/calculus/desolvers.py\", line 436, in desolve\n        soln = P(cmd)\n      File \"/home/ralf/sage/local/lib/python2.7/site-packages/sage/interfaces/interface.py\", line 199, in __call__\n        return cls(self, x, name=name)\n      File \"/home/ralf/sage/local/lib/python2.7/site-packages/sage/interfaces/interface.py\", line 626, in __init__\n        raise TypeError(x)\n    TypeError: ECL says: Maxima asks: Is _SAGE_VAR_k positive, negative or zero?\n```\n> > > * Commit \tced268 (where you generalized the missing assumptions) - what situation is that additionally catching?  Was that a case of Maxima asking questions which we didn't catch (and hence doctest) before?\n> > \n> > No, it reduces code duplication. Recommended reading: https://en.wikipedia.org/wiki/Code_refactoring\n> \n> I'm not referring to that; in fact, I fully agreed with that strategy in earlier comments.  My question is specifically about `jj=2` - since usually `jj=3` seems to be the old case.  We should test a new branch, which this appears to be (though it may just be something obvious I'm not seeing).\n\nThere were cases where there were two spaces in the output after 'Is '.\n> > > * I assume you are more than happy with Jason's original patch doing the basic functionality, right?\n> > \n> > Yes and no. A lot was missing.\n> \n> I mean in terms of reviewing that for the *basic* functionality for proper conversion.  Naturally you provided a huge amount of missing stuff!\n\nI think his ansatz was what I would have done, too.\n> > > So these are pretty minor things and hopefully I'll be able to find some time for the DE part (or someone else will!) and we'll be on our way!  It certainly looks like you were VERY thorough in finding places that might cause trouble.  The difficulty is that one might miss some places it is needed because in the absence of adding `_SAGE_VAR_` things should still work, so one might not know if we missed one.  Thanks!\n> > \n> > I would assume this is caught by all those doctests using maxima.\n> \n> That's my point - they may NOT catch a missing one, since we only remove things via search-and-replace-with-empty-string, and everything worked before.\n\nCan you please clarify: \"one might miss some places it is needed\"---what's the it here?",
    "created_at": "2014-06-18T08:39:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70835",
    "user": "https://github.com/rwst"
}
```

<div id="comment:42" align="right">comment:42</div>

Replying to [@kcrisman](#comment%3A41):
> > > * Commit 	be9367 (where you add a try/except clause in `_create`) - what sort of situation is that catching?
> > 
> > There are several places where maxima.eval() is called and where exceptions are thrown. This one was simply overlooked, so that change fixes an unreported bug.
> 
> Hmm, okay.  I don't see how `_create` could have asked for an evaluation of this type, but I suppose.

It is really easy to find it out yourself: just change `RuntimeError` to something different like `NotImplementedError`, doctest, and you'll get:

```
sage -t src/sage/tests/french_book/recequadiff.py
**********************************************************************
File "src/sage/tests/french_book/recequadiff.py", line 247, in sage.tests.french_book.recequadiff
Failed example:
    desolve(eq1,[f,x])
Expected:
    Traceback (most recent call last):
      ...
    TypeError: Computation failed ...
    Is k positive, negative or zero?
Got:
    <BLANKLINE>
    Traceback (most recent call last):
      File "/home/ralf/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 480, in _run
        self.execute(example, compiled, test.globs)
      File "/home/ralf/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 839, in execute
        exec compiled in globs
      File "<doctest sage.tests.french_book.recequadiff[64]>", line 1, in <module>
        desolve(eq1,[f,x])
      File "/home/ralf/sage/local/lib/python2.7/site-packages/sage/calculus/desolvers.py", line 436, in desolve
        soln = P(cmd)
      File "/home/ralf/sage/local/lib/python2.7/site-packages/sage/interfaces/interface.py", line 199, in __call__
        return cls(self, x, name=name)
      File "/home/ralf/sage/local/lib/python2.7/site-packages/sage/interfaces/interface.py", line 626, in __init__
        raise TypeError(x)
    TypeError: ECL says: Maxima asks: Is _SAGE_VAR_k positive, negative or zero?
```
> > > * Commit 	ced268 (where you generalized the missing assumptions) - what situation is that additionally catching?  Was that a case of Maxima asking questions which we didn't catch (and hence doctest) before?
> > 
> > No, it reduces code duplication. Recommended reading: https://en.wikipedia.org/wiki/Code_refactoring
> 
> I'm not referring to that; in fact, I fully agreed with that strategy in earlier comments.  My question is specifically about `jj=2` - since usually `jj=3` seems to be the old case.  We should test a new branch, which this appears to be (though it may just be something obvious I'm not seeing).

There were cases where there were two spaces in the output after 'Is '.
> > > * I assume you are more than happy with Jason's original patch doing the basic functionality, right?
> > 
> > Yes and no. A lot was missing.
> 
> I mean in terms of reviewing that for the *basic* functionality for proper conversion.  Naturally you provided a huge amount of missing stuff!

I think his ansatz was what I would have done, too.
> > > So these are pretty minor things and hopefully I'll be able to find some time for the DE part (or someone else will!) and we'll be on our way!  It certainly looks like you were VERY thorough in finding places that might cause trouble.  The difficulty is that one might miss some places it is needed because in the absence of adding `_SAGE_VAR_` things should still work, so one might not know if we missed one.  Thanks!
> > 
> > I would assume this is caught by all those doctests using maxima.
> 
> That's my point - they may NOT catch a missing one, since we only remove things via search-and-replace-with-empty-string, and everything worked before.

Can you please clarify: "one might miss some places it is needed"---what's the it here?



---

archive/issue_comments_070836.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\n> There were cases where there were two spaces in the output after 'Is '.\n\nAnnoying.\n> > That's my point - they may NOT catch a missing one, since we only remove things via search-and-replace-with-empty-string, and everything worked before.\n> \n> Can you please clarify: \"one might miss some places it is needed\"---what's the it here? \n\nWhat I mean is that if one had missed a place where we should have added `SAGE_VAR` but didn't, we might not know because the result would not need `SAGE_VAR` stripped from it, so it would perhaps still work.  But I'm not overly concerned about this ... because it would still work.\n\n---\n\nAnyway, if someone reviews the diffeq part before me (I won't have time before next week), that is all I think still needs review.  This will be great to finally have in!",
    "created_at": "2014-06-18T15:26:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70836",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:43" align="right">comment:43</div>

> There were cases where there were two spaces in the output after 'Is '.

Annoying.
> > That's my point - they may NOT catch a missing one, since we only remove things via search-and-replace-with-empty-string, and everything worked before.
> 
> Can you please clarify: "one might miss some places it is needed"---what's the it here? 

What I mean is that if one had missed a place where we should have added `SAGE_VAR` but didn't, we might not know because the result would not need `SAGE_VAR` stripped from it, so it would perhaps still work.  But I'm not overly concerned about this ... because it would still work.

---

Anyway, if someone reviews the diffeq part before me (I won't have time before next week), that is all I think still needs review.  This will be great to finally have in!



---

archive/issue_comments_070837.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nFor the\n\n```\ntry:\n ....\nexcept ... as error:\n ...\n    raise error\n```\nin maxima_lib.py (and possibly elsewhere):\nIt's *much* better to reraise an error with a bare `raise` rather than `raise error`, since the bare raise will leave the original traceback intact, whereas the `raise error` will create a new traceback, obscuring the actual source of the error.",
    "created_at": "2014-06-18T20:47:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70837",
    "user": "https://github.com/nbruin"
}
```

<div id="comment:44" align="right">comment:44</div>

For the

```
try:
 ....
except ... as error:
 ...
    raise error
```
in maxima_lib.py (and possibly elsewhere):
It's *much* better to reraise an error with a bare `raise` rather than `raise error`, since the bare raise will leave the original traceback intact, whereas the `raise error` will create a new traceback, obscuring the actual source of the error.



---

archive/issue_comments_070838.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nReplying to [@nbruin](#comment%3A44):\n> For the\n> \n> ```\n> try:\n>  ....\n> except ... as error:\n>  ...\n>     raise error\n> ```\n> in maxima_lib.py (and possibly elsewhere):\n> It's *much* better to reraise an error with a bare `raise` rather than `raise error`, since the bare raise will leave the original traceback intact, whereas the `raise error` will create a new traceback, obscuring the actual source of the error.\n\nIn this case, yes. Else, are you requesting to rethrow the `RuntimeError` from Maxima in all cases as `RuntimeError`? I'm asking because it appears that preserving the stacktrace and throwing the more specific `ValueError` appears possible:\nhttp://www.gossamer-threads.com/lists/python/python/947257\n\n```\nIn Python 3 you could chain the exceptions with: \n\nexcept Exception as e: \nraise CustomException() from e \n\nThere is no such syntax in Python 2, but you could manually store and \nretrieve the __cause__ and __traceback__ attributes similarly to the \nway Python 3 does it. See PEP 3134 for full details. \n```\nhttp://legacy.python.org/dev/peps/pep-3134/\n\n```\nSometimes it can be useful for an exception handler to intentionally\n    re-raise an exception, either to provide extra information or to\n    translate an exception to another type. ...\n```",
    "created_at": "2014-06-19T09:20:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70838",
    "user": "https://github.com/rwst"
}
```

<div id="comment:45" align="right">comment:45</div>

Replying to [@nbruin](#comment%3A44):
> For the
> 
> ```
> try:
>  ....
> except ... as error:
>  ...
>     raise error
> ```
> in maxima_lib.py (and possibly elsewhere):
> It's *much* better to reraise an error with a bare `raise` rather than `raise error`, since the bare raise will leave the original traceback intact, whereas the `raise error` will create a new traceback, obscuring the actual source of the error.

In this case, yes. Else, are you requesting to rethrow the `RuntimeError` from Maxima in all cases as `RuntimeError`? I'm asking because it appears that preserving the stacktrace and throwing the more specific `ValueError` appears possible:
http://www.gossamer-threads.com/lists/python/python/947257

```
In Python 3 you could chain the exceptions with: 

except Exception as e: 
raise CustomException() from e 

There is no such syntax in Python 2, but you could manually store and 
retrieve the __cause__ and __traceback__ attributes similarly to the 
way Python 3 does it. See PEP 3134 for full details. 
```
http://legacy.python.org/dev/peps/pep-3134/

```
Sometimes it can be useful for an exception handler to intentionally
    re-raise an exception, either to provide extra information or to
    translate an exception to another type. ...
```



---

archive/issue_comments_070839.json:
```json
{
    "body": "<div id=\"comment:46\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/793bb058a06b3dfb31c6029f6c30960d1dee8cc7\"><code>793bb05</code></a></td><td><code>8734: reraise in \"other\" cases with bare \"raise\"</code></td></tr></table>\n",
    "created_at": "2014-06-19T09:22:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70839",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:46"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/793bb058a06b3dfb31c6029f6c30960d1dee8cc7"><code>793bb05</code></a></td><td><code>8734: reraise in "other" cases with bare "raise"</code></td></tr></table>




---

archive/issue_comments_070840.json:
```json
{
    "body": "Changed commit from **[`2c68026`](https://github.com/sagemath/sagetrac-mirror/commit/2c68026320ba3c516cd94fa1721e886ecd732804)** to **[`793bb05`](https://github.com/sagemath/sagetrac-mirror/commit/793bb058a06b3dfb31c6029f6c30960d1dee8cc7)**",
    "created_at": "2014-06-19T09:22:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70840",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2c68026`](https://github.com/sagemath/sagetrac-mirror/commit/2c68026320ba3c516cd94fa1721e886ecd732804)** to **[`793bb05`](https://github.com/sagemath/sagetrac-mirror/commit/793bb058a06b3dfb31c6029f6c30960d1dee8cc7)**



---

archive/issue_comments_070841.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nReplying to [@rwst](#comment%3A45):\n> In this case, yes. Else, are you requesting to rethrow the `RuntimeError` from Maxima in all cases as `RuntimeError`? I'm asking because it appears that preserving the stacktrace and throwing the more specific `ValueError` appears possible:\n\nGood to know! I don't have a strong opinion what type of error to return. However, without further inspection, I don't think you would know if the error is more appropriately a `ValueError`. You could get `RuntimeError(\"ECL says: I'm tired\")`for as far as you know at this point. So my guess is that it's not worth trying to do something with the error type.",
    "created_at": "2014-06-19T13:19:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70841",
    "user": "https://github.com/nbruin"
}
```

<div id="comment:47" align="right">comment:47</div>

Replying to [@rwst](#comment%3A45):
> In this case, yes. Else, are you requesting to rethrow the `RuntimeError` from Maxima in all cases as `RuntimeError`? I'm asking because it appears that preserving the stacktrace and throwing the more specific `ValueError` appears possible:

Good to know! I don't have a strong opinion what type of error to return. However, without further inspection, I don't think you would know if the error is more appropriately a `ValueError`. You could get `RuntimeError("ECL says: I'm tired")`for as far as you know at this point. So my guess is that it's not worth trying to do something with the error type.



---

archive/issue_comments_070842.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nAll the following is modulo my Python newbieness.\n\nWhat I wrote about legal tricks to preserve the traceback would work IF Sage was purely Python-2 or Python-3. With the momentary transition to Py-3, the form `raise Error, message, traceback` of the raise command is considered a bug. OTOH there is no way to supply two arguments in parentheses. Finally, the form `raise Error from previous_error` is only possible with Py-3.\n\nSecondly, to ask interactively for a missing assumption a message has to be given in the terminal different from the error message tied to the original `RuntimeError`. So, simply re-raising is not an option if you do not like `RuntimeError: ECL says: Maxima asks: Is _SAGE_VAR_a an integer?`.\n\nSo, in my opinion, unless someone comes up with a better solution, this ticket will have to wait until Sage is Py-3.",
    "created_at": "2014-06-20T07:28:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70842",
    "user": "https://github.com/rwst"
}
```

<div id="comment:48" align="right">comment:48</div>

All the following is modulo my Python newbieness.

What I wrote about legal tricks to preserve the traceback would work IF Sage was purely Python-2 or Python-3. With the momentary transition to Py-3, the form `raise Error, message, traceback` of the raise command is considered a bug. OTOH there is no way to supply two arguments in parentheses. Finally, the form `raise Error from previous_error` is only possible with Py-3.

Secondly, to ask interactively for a missing assumption a message has to be given in the terminal different from the error message tied to the original `RuntimeError`. So, simply re-raising is not an option if you do not like `RuntimeError: ECL says: Maxima asks: Is _SAGE_VAR_a an integer?`.

So, in my opinion, unless someone comes up with a better solution, this ticket will have to wait until Sage is Py-3.



---

archive/issue_comments_070843.json:
```json
{
    "body": "Dependencies: **#15530**",
    "created_at": "2014-06-20T07:28:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70843",
    "user": "https://github.com/rwst"
}
```

Dependencies: **#15530**



---

archive/issue_comments_070844.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nReplying to [@rwst](#comment%3A48):\n> Secondly, to ask interactively for a missing assumption a message has to be given in the terminal different from the error message tied to the original `RuntimeError`. So, simply re-raising is not an option if you do not like `RuntimeError: ECL says: Maxima asks: Is _SAGE_VAR_a an integer?`.\n\nIn that case we know exactly what happened and the original traceback doesn't have to be kept. Raising a a fresh exception with a fresh traceback should be fine. It's when you find that the `RuntimeError` you've just caught is *not* the one you expected that the original traceback is valuable. And in that case you probably don't want to mess with the exception object itself either, so a bare `raise` should do the trick. The scenario of changing the error object but keeping the original traceback should be quite rare.\n\n> So, in my opinion, unless someone comes up with a better solution, this ticket will have to wait until Sage is Py-3.\n\nwhich may be a very long time. It nice to do things in a Py2/Py3 compatible way if possible (which can be done here, I think), but if not we'll just have to fix it if/when sage transitions from Py2 to Py3.",
    "created_at": "2014-06-20T12:54:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70844",
    "user": "https://github.com/nbruin"
}
```

<div id="comment:49" align="right">comment:49</div>

Replying to [@rwst](#comment%3A48):
> Secondly, to ask interactively for a missing assumption a message has to be given in the terminal different from the error message tied to the original `RuntimeError`. So, simply re-raising is not an option if you do not like `RuntimeError: ECL says: Maxima asks: Is _SAGE_VAR_a an integer?`.

In that case we know exactly what happened and the original traceback doesn't have to be kept. Raising a a fresh exception with a fresh traceback should be fine. It's when you find that the `RuntimeError` you've just caught is *not* the one you expected that the original traceback is valuable. And in that case you probably don't want to mess with the exception object itself either, so a bare `raise` should do the trick. The scenario of changing the error object but keeping the original traceback should be quite rare.

> So, in my opinion, unless someone comes up with a better solution, this ticket will have to wait until Sage is Py-3.

which may be a very long time. It nice to do things in a Py2/Py3 compatible way if possible (which can be done here, I think), but if not we'll just have to fix it if/when sage transitions from Py2 to Py3.



---

archive/issue_comments_070845.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\n> > So, in my opinion, unless someone comes up with a better solution, this ticket will have to wait until Sage is Py-3.\n> \n> \n> which may be a very long time. \n\nIndeed.\n> It nice to do things in a Py2/Py3 compatible way if possible (which can be done here, I think), but if not we'll just have to fix it if/when sage transitions from Py2 to Py3.\n\nI'm not quite clear on why this is the case.  I thought you said above to not let the perfect be the enemy of the good ;-)  It seems like just raising the original exception is a good compromise here; at the very least it should give *some* information, right?",
    "created_at": "2014-06-20T13:08:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70845",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:50" align="right">comment:50</div>

> > So, in my opinion, unless someone comes up with a better solution, this ticket will have to wait until Sage is Py-3.
> 
> 
> which may be a very long time. 

Indeed.
> It nice to do things in a Py2/Py3 compatible way if possible (which can be done here, I think), but if not we'll just have to fix it if/when sage transitions from Py2 to Py3.

I'm not quite clear on why this is the case.  I thought you said above to not let the perfect be the enemy of the good ;-)  It seems like just raising the original exception is a good compromise here; at the very least it should give *some* information, right?



---

archive/issue_comments_070846.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nI agree I was the perfectionist this time so, with the bare raise patch already uploaded, it remains for me to thank you and ask for positive review.",
    "created_at": "2014-06-20T13:46:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70846",
    "user": "https://github.com/rwst"
}
```

<div id="comment:51" align="right">comment:51</div>

I agree I was the perfectionist this time so, with the bare raise patch already uploaded, it remains for me to thank you and ask for positive review.



---

archive/issue_comments_070847.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nAgain, for me, all is positive review except the diffeq commit, and that only because I haven't had time to look carefully at it, not because I suspect any problems - it looks quite thorough.",
    "created_at": "2014-06-20T17:20:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70847",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:52" align="right">comment:52</div>

Again, for me, all is positive review except the diffeq commit, and that only because I haven't had time to look carefully at it, not because I suspect any problems - it looks quite thorough.



---

archive/issue_comments_070848.json:
```json
{
    "body": "Changed dependencies from **#15530** to none",
    "created_at": "2014-06-22T07:24:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70848",
    "user": "https://github.com/rwst"
}
```

Changed dependencies from **#15530** to none



---

archive/issue_comments_070849.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nOkay, I have a few questions about [the ode changes](https://github.com/sagemath/sagetrac-mirror/blob/610fb79bfc9fde84dea1200fdfcd4bceb25bd77f/src/sage/calculus/desolvers.py).   I assume the answer to all of them is \"it would have been even messier any other way\", but I just wanted to check.\n* In some of the sanitizing functions, you replace things like `'_SAGE_VAR_f` with `f`, but in others you only replace the independent variable that way.  Is that because of specific examples that didn't work, or was the context different, or... ? \n* I'm wondering whether the Sage translation would have just taken care of this in `soln.sage()`, but I guess it didn't.   Was there any possible change to the translation that could have done this, rather than getting into the ode wrapper code directly (which makes it harder to read)?  For instance, in `desolve_laplace` we convert the `de` to Maxima (presumably adding `SAGE_VAR`, add another `SAGE_VAR` from `f(x)` to `f(_SAGE_VAR_x)` (I think), and then proceed to remove only the `SAGE_VAR` from the *de*pendent variable.  So... that part isn't taken care of by the translation, but the independent variable still somehow is translated back correctly, but not forward within `de0=de._maxima_()`?  Yet in the `rk4` types this isn't a problem, apparently.\n* We should probably just remove `desolve_system_strings`, see #8132 where it was first said to be obsolete, and it hasn't been in the global namespace since before 2010.  That is pretty much equivalent to a deprecation to me.  However, we should keep any non-overlapping examples - so maybe removal should be another ticket...\nBut it seems good, assuming I didn't miss any tests that fail...",
    "created_at": "2014-06-26T14:06:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70849",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:54" align="right">comment:54</div>

Okay, I have a few questions about [the ode changes](https://github.com/sagemath/sagetrac-mirror/blob/610fb79bfc9fde84dea1200fdfcd4bceb25bd77f/src/sage/calculus/desolvers.py).   I assume the answer to all of them is "it would have been even messier any other way", but I just wanted to check.
* In some of the sanitizing functions, you replace things like `'_SAGE_VAR_f` with `f`, but in others you only replace the independent variable that way.  Is that because of specific examples that didn't work, or was the context different, or... ? 
* I'm wondering whether the Sage translation would have just taken care of this in `soln.sage()`, but I guess it didn't.   Was there any possible change to the translation that could have done this, rather than getting into the ode wrapper code directly (which makes it harder to read)?  For instance, in `desolve_laplace` we convert the `de` to Maxima (presumably adding `SAGE_VAR`, add another `SAGE_VAR` from `f(x)` to `f(_SAGE_VAR_x)` (I think), and then proceed to remove only the `SAGE_VAR` from the *de*pendent variable.  So... that part isn't taken care of by the translation, but the independent variable still somehow is translated back correctly, but not forward within `de0=de._maxima_()`?  Yet in the `rk4` types this isn't a problem, apparently.
* We should probably just remove `desolve_system_strings`, see #8132 where it was first said to be obsolete, and it hasn't been in the global namespace since before 2010.  That is pretty much equivalent to a deprecation to me.  However, we should keep any non-overlapping examples - so maybe removal should be another ticket...
But it seems good, assuming I didn't miss any tests that fail...



---

archive/issue_comments_070850.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\n> But it seems good, assuming I didn't miss any tests that fail...\n\nI didn't.  So as long as you give the answers I expect, we are all set here.",
    "created_at": "2014-06-26T14:54:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70850",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:55" align="right">comment:55</div>

> But it seems good, assuming I didn't miss any tests that fail...

I didn't.  So as long as you give the answers I expect, we are all set here.



---

archive/issue_comments_070851.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nWorking from the bottom up ...\n\nReplying to [@kcrisman](#comment%3A54):\n> * We should probably just remove `desolve_system_strings`, see #8132 where it was first said to be obsolete, and it hasn't been in the global namespace since before 2010.  That is pretty much equivalent to a deprecation to me.  However, we should keep any non-overlapping examples - so maybe removal should be another ticket...\n\nThis is now #16568.",
    "created_at": "2014-06-27T14:28:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70851",
    "user": "https://github.com/rwst"
}
```

<div id="comment:56" align="right">comment:56</div>

Working from the bottom up ...

Replying to [@kcrisman](#comment%3A54):
> * We should probably just remove `desolve_system_strings`, see #8132 where it was first said to be obsolete, and it hasn't been in the global namespace since before 2010.  That is pretty much equivalent to a deprecation to me.  However, we should keep any non-overlapping examples - so maybe removal should be another ticket...

This is now #16568.



---

archive/issue_comments_070852.json:
```json
{
    "body": "Changed commit from **[`793bb05`](https://github.com/sagemath/sagetrac-mirror/commit/793bb058a06b3dfb31c6029f6c30960d1dee8cc7)** to **[`a195985`](https://github.com/sagemath/sagetrac-mirror/commit/a195985c0617bf14a5d644f5c065bea896340ce4)**",
    "created_at": "2014-06-29T08:29:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70852",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`793bb05`](https://github.com/sagemath/sagetrac-mirror/commit/793bb058a06b3dfb31c6029f6c30960d1dee8cc7)** to **[`a195985`](https://github.com/sagemath/sagetrac-mirror/commit/a195985c0617bf14a5d644f5c065bea896340ce4)**



---

archive/issue_comments_070853.json:
```json
{
    "body": "<div id=\"comment:57\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a195985c0617bf14a5d644f5c065bea896340ce4\"><code>a195985</code></a></td><td><code>8734: remove superfluous code</code></td></tr></table>\n",
    "created_at": "2014-06-29T08:29:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70853",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:57"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a195985c0617bf14a5d644f5c065bea896340ce4"><code>a195985</code></a></td><td><code>8734: remove superfluous code</code></td></tr></table>




---

archive/issue_comments_070854.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">comment:58</div>\n\nReplying to [@kcrisman](#comment%3A54):\n> * In some of the sanitizing functions, you replace things like `'_SAGE_VAR_f` with `f`, but in others you only replace the independent variable that way.  Is that because of specific examples that didn't work, or was the context different, or... ? \n\nIt certainly was then because of specific examples. The removal of the code I think you mean makes no difference now, however.\n> * I'm wondering whether the Sage translation would have just taken care of this in `soln.sage()`, but I guess it didn't.   Was there any possible change to the translation that could have done this, rather than getting into the ode wrapper code directly (which makes it harder to read)?  For instance, in `desolve_laplace` we convert the `de` to Maxima (presumably adding `SAGE_VAR`, add another `SAGE_VAR` from `f(x)` to `f(_SAGE_VAR_x)` (I think), and then proceed to remove only the `SAGE_VAR` from the *de*pendent variable.  So... that part isn't taken care of by the translation, but the independent variable still somehow is translated back correctly, but not forward within `de0=de._maxima_()`?  Yet in the `rk4` types this isn't a problem, apparently.\n\nWith the above removal of superfluous code I don't see any different behaviour in the three functions `laplace/system/rk4`. There is always the marking of the dependent var to prepare for the call to solve. You cannot remove this because `maxima(cmd)` does no translation, it's the low-level call. The translation has to be done here, as far as I understand.",
    "created_at": "2014-06-29T08:50:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70854",
    "user": "https://github.com/rwst"
}
```

<div id="comment:58" align="right">comment:58</div>

Replying to [@kcrisman](#comment%3A54):
> * In some of the sanitizing functions, you replace things like `'_SAGE_VAR_f` with `f`, but in others you only replace the independent variable that way.  Is that because of specific examples that didn't work, or was the context different, or... ? 

It certainly was then because of specific examples. The removal of the code I think you mean makes no difference now, however.
> * I'm wondering whether the Sage translation would have just taken care of this in `soln.sage()`, but I guess it didn't.   Was there any possible change to the translation that could have done this, rather than getting into the ode wrapper code directly (which makes it harder to read)?  For instance, in `desolve_laplace` we convert the `de` to Maxima (presumably adding `SAGE_VAR`, add another `SAGE_VAR` from `f(x)` to `f(_SAGE_VAR_x)` (I think), and then proceed to remove only the `SAGE_VAR` from the *de*pendent variable.  So... that part isn't taken care of by the translation, but the independent variable still somehow is translated back correctly, but not forward within `de0=de._maxima_()`?  Yet in the `rk4` types this isn't a problem, apparently.

With the above removal of superfluous code I don't see any different behaviour in the three functions `laplace/system/rk4`. There is always the marking of the dependent var to prepare for the call to solve. You cannot remove this because `maxima(cmd)` does no translation, it's the low-level call. The translation has to be done here, as far as I understand.



---

archive/issue_comments_070855.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">comment:59</div>\n\n> With the above removal of superfluous code I don't see any different behaviour in the three functions `laplace/system/rk4`. There is always the marking of the dependent var to prepare for the call to solve. You cannot remove this because `maxima(cmd)` does no translation, it's the low-level call. The translation has to be done here, as far as I understand.\n\nAgain, I'm just confused because in `laplace/rk4` the dependent variable gets `_SAGE_VAR_` but in `desolve` it doesn't.  Maybe this isn't important, though.  And is the last change in `desolve` ok because putting things into Maxima takes care of the `_SAGE_VAR_` already?",
    "created_at": "2014-07-02T02:55:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70855",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:59" align="right">comment:59</div>

> With the above removal of superfluous code I don't see any different behaviour in the three functions `laplace/system/rk4`. There is always the marking of the dependent var to prepare for the call to solve. You cannot remove this because `maxima(cmd)` does no translation, it's the low-level call. The translation has to be done here, as far as I understand.

Again, I'm just confused because in `laplace/rk4` the dependent variable gets `_SAGE_VAR_` but in `desolve` it doesn't.  Maybe this isn't important, though.  And is the last change in `desolve` ok because putting things into Maxima takes care of the `_SAGE_VAR_` already?



---

archive/issue_comments_070856.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">comment:60</div>\n\nPasses all tests.",
    "created_at": "2014-07-02T12:52:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70856",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:60" align="right">comment:60</div>

Passes all tests.



---

archive/issue_comments_070857.json:
```json
{
    "body": "<div id=\"comment:61\" align=\"right\">comment:61</div>\n\nAfter studying this in detail, the reason why the last change makes no difference is the following: in `desolve` and `desolve_laplace` the translation to Maxima is applied several times using `maxima()` and `P()` (which is the parent of the first translation result, i.e. of a Maxima expression). `P()` is also applied to `dvar.operator()` resulting in `dvar_str` which already has `_SAGE_VAR_` and is template for sanitization. Appending `_SAGE_VAR_` to `dvar_str` and replacing it thus was useless.\n\nIn `desolve_rk4` the `cmd` is constructed from two parts: the `de0` that gets translated via `._maxima()_` and the construction via string concatenation. So, there is no difference between `desolve` and `desolve_rk4` because `desolve` gets `_SAGE_VAR_` everywhere and `desolve_rk4` too.",
    "created_at": "2014-07-02T15:13:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70857",
    "user": "https://github.com/rwst"
}
```

<div id="comment:61" align="right">comment:61</div>

After studying this in detail, the reason why the last change makes no difference is the following: in `desolve` and `desolve_laplace` the translation to Maxima is applied several times using `maxima()` and `P()` (which is the parent of the first translation result, i.e. of a Maxima expression). `P()` is also applied to `dvar.operator()` resulting in `dvar_str` which already has `_SAGE_VAR_` and is template for sanitization. Appending `_SAGE_VAR_` to `dvar_str` and replacing it thus was useless.

In `desolve_rk4` the `cmd` is constructed from two parts: the `de0` that gets translated via `._maxima()_` and the construction via string concatenation. So, there is no difference between `desolve` and `desolve_rk4` because `desolve` gets `_SAGE_VAR_` everywhere and `desolve_rk4` too.



---

archive/issue_events_109347.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-07-02T15:45:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8734#event-109347"
}
```



---

archive/issue_events_109348.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-07-02T15:45:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8734#event-109348"
}
```



---

archive/issue_comments_070858.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">comment:62</div>\n\nLet's make it so, then.  I was kind of suspecting there were extra `_SAGE_VAR_`s.",
    "created_at": "2014-07-02T15:45:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70858",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:62" align="right">comment:62</div>

Let's make it so, then.  I was kind of suspecting there were extra `_SAGE_VAR_`s.



---

archive/issue_events_109349.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-07-03T02:07:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8734#event-109349"
}
```



---

archive/issue_events_109350.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-07-03T02:07:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8734#event-109350"
}
```



---

archive/issue_comments_070859.json:
```json
{
    "body": "<div id=\"comment:63\" align=\"right\">comment:63</div>\n\nconflicts with #6882",
    "created_at": "2014-07-03T02:07:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70859",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:63" align="right">comment:63</div>

conflicts with #6882



---

archive/issue_comments_070860.json:
```json
{
    "body": "<div id=\"comment:64\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/65107d4bac54adbceb615c7bdb0af6f4ca30d93c\"><code>65107d4</code></a></td><td><code>Merge branch 'develop' into t/8734/ticket/8734-1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4e0738355f228ea068bea927f3025dcccb955b1c\"><code>4e07383</code></a></td><td><code>6882: add rules for e, i, I</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e5a53435bde170e774c4e1dafba8f333a9653330\"><code>e5a5343</code></a></td><td><code>6882: do word search/replace for symtable keys</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4c1b0eb5d6ff4b2b95487440c27c9879edb0131e\"><code>4c1b0eb</code></a></td><td><code>6882: correction to previous commit</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/518de3e62533cd209997107f903192f1a31d118c\"><code>518de3e</code></a></td><td><code>6882: add symable rules for e,i,I; fix maxima_var; add doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7a6696b714e638461cf4f77adbb65ecf413a2e4e\"><code>7a6696b</code></a></td><td><code>Merge branch 'u/rws/bugs_in_conversion_of_variable_names_from_maxima_to_sage' of trac.sagemath.org:sage into t/8734/ticket/8734-1</code></td></tr></table>\n",
    "created_at": "2014-07-03T06:12:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70860",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:64"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/65107d4bac54adbceb615c7bdb0af6f4ca30d93c"><code>65107d4</code></a></td><td><code>Merge branch 'develop' into t/8734/ticket/8734-1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4e0738355f228ea068bea927f3025dcccb955b1c"><code>4e07383</code></a></td><td><code>6882: add rules for e, i, I</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e5a53435bde170e774c4e1dafba8f333a9653330"><code>e5a5343</code></a></td><td><code>6882: do word search/replace for symtable keys</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4c1b0eb5d6ff4b2b95487440c27c9879edb0131e"><code>4c1b0eb</code></a></td><td><code>6882: correction to previous commit</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/518de3e62533cd209997107f903192f1a31d118c"><code>518de3e</code></a></td><td><code>6882: add symable rules for e,i,I; fix maxima_var; add doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7a6696b714e638461cf4f77adbb65ecf413a2e4e"><code>7a6696b</code></a></td><td><code>Merge branch 'u/rws/bugs_in_conversion_of_variable_names_from_maxima_to_sage' of trac.sagemath.org:sage into t/8734/ticket/8734-1</code></td></tr></table>




---

archive/issue_comments_070861.json:
```json
{
    "body": "Changed commit from **[`a195985`](https://github.com/sagemath/sagetrac-mirror/commit/a195985c0617bf14a5d644f5c065bea896340ce4)** to **[`7a6696b`](https://github.com/sagemath/sagetrac-mirror/commit/7a6696b714e638461cf4f77adbb65ecf413a2e4e)**",
    "created_at": "2014-07-03T06:12:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70861",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a195985`](https://github.com/sagemath/sagetrac-mirror/commit/a195985c0617bf14a5d644f5c065bea896340ce4)** to **[`7a6696b`](https://github.com/sagemath/sagetrac-mirror/commit/7a6696b714e638461cf4f77adbb65ecf413a2e4e)**



---

archive/issue_events_109351.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-07-03T06:17:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8734#event-109351"
}
```



---

archive/issue_events_109352.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-07-03T06:17:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8734#event-109352"
}
```



---

archive/issue_comments_070862.json:
```json
{
    "body": "<div id=\"comment:65\" align=\"right\">comment:65</div>\n\nSince the reviewed #6882 is orthogonal I set positive again. Thanks Karl-Dieter for this review! I would be happy if you could have a look at #2516 too.",
    "created_at": "2014-07-03T06:17:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70862",
    "user": "https://github.com/rwst"
}
```

<div id="comment:65" align="right">comment:65</div>

Since the reviewed #6882 is orthogonal I set positive again. Thanks Karl-Dieter for this review! I would be happy if you could have a look at #2516 too.



---

archive/issue_comments_070863.json:
```json
{
    "body": "Dependencies: **#6882**",
    "created_at": "2014-07-03T06:17:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70863",
    "user": "https://github.com/rwst"
}
```

Dependencies: **#6882**



---

archive/issue_comments_070864.json:
```json
{
    "body": "Changed reviewer from **Volker Braun, Paul Zimmerman, Karl-Dieter Crisman** to **Volker Braun, Paul Zimmermann, Karl-Dieter Crisman**",
    "created_at": "2014-07-03T07:07:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70864",
    "user": "https://github.com/zimmermann6"
}
```

Changed reviewer from **Volker Braun, Paul Zimmerman, Karl-Dieter Crisman** to **Volker Braun, Paul Zimmermann, Karl-Dieter Crisman**



---

archive/issue_comments_070865.json:
```json
{
    "body": "<div id=\"comment:67\" align=\"right\">comment:67</div>\n\n> I would be happy if you could have a look at #2516 too.\n\nSorry, that one I definitely like the idea of and have reviewed many similar ones in the past, but just don't have the time currently to review much new functionality carefully. :(",
    "created_at": "2014-07-03T13:17:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70865",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:67" align="right">comment:67</div>

> I would be happy if you could have a look at #2516 too.

Sorry, that one I definitely like the idea of and have reviewed many similar ones in the past, but just don't have the time currently to review much new functionality carefully. :(



---

archive/issue_events_109353.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-07-06T17:55:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8734#event-109353"
}
```



---

archive/issue_events_109354.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "716a409dd22649a55f38713049e9c90967c7e8c3",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-07-06T17:55:56Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8734#event-109354"
}
```



---

archive/issue_comments_070866.json:
```json
{
    "body": "Changed branch from **[u/rws/ticket/8734-1](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/ticket/8734-1)** to **[`7a6696b`](https://github.com/sagemath/sagetrac-mirror/commit/7a6696b714e638461cf4f77adbb65ecf413a2e4e)**",
    "created_at": "2014-07-06T17:55:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8734#issuecomment-70866",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/rws/ticket/8734-1](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/ticket/8734-1)** to **[`7a6696b`](https://github.com/sagemath/sagetrac-mirror/commit/7a6696b714e638461cf4f77adbb65ecf413a2e4e)**
