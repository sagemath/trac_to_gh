# Issue 8579: Add the categories of magmas and additive magmas

archive/issues_008579.json:
```json
{
    "assignees": [
        "https://github.com/nthiery"
    ],
    "body": "This patch adds the categories Magmas() and AdditiveMagmas()\n(sets with a plain binary operation * or +).\n\nIt factors out some of the code previously in Semigroups / CommutativeAdditiveSemigroups.\n\nThis is used by the updated #7555 to make it more general.\n\nDepends trivially on #7880.\n\nCC:  @sagetrac-sage-combinat @roed314\n\nKeywords: **magma**\n\nComponent: **categories**\n\nAuthor: **Nicolas M. Thi\u00e9ry**\n\nReviewer: **Robert Beezer, Florent Hivert**\n\nMerged: **sage-4.4.alpha0**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/8579_\n\n",
    "closed_at": "2010-04-15T20:14:02Z",
    "created_at": "2010-03-22T16:33:34Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20categories",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/c%3A%20categories"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Add the categories of magmas and additive magmas",
    "type": "issue",
    "updated_at": "2010-04-15T20:14:02Z",
    "url": "https://github.com/sagemath/sage/issues/8579",
    "user": "https://github.com/nthiery"
}
```
This patch adds the categories Magmas() and AdditiveMagmas()
(sets with a plain binary operation * or +).

It factors out some of the code previously in Semigroups / CommutativeAdditiveSemigroups.

This is used by the updated #7555 to make it more general.

Depends trivially on #7880.

CC:  @sagetrac-sage-combinat @roed314

Keywords: **magma**

Component: **categories**

Author: **Nicolas M. Thi√©ry**

Reviewer: **Robert Beezer, Florent Hivert**

Merged: **sage-4.4.alpha0**

_Issue created by migration from https://trac.sagemath.org/ticket/8579_





---

archive/issue_events_108437.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2010-03-22T16:33:34Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/8579",
    "milestone_number": null,
    "milestone_title": "sage-4.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8579#event-108437"
}
```



---

archive/issue_events_108438.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2010-03-22T16:33:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8579",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20categories",
    "label_color": "0000ff",
    "label_name": "c: categories",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8579#event-108438"
}
```



---

archive/issue_events_108439.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2010-03-22T16:33:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8579",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8579#event-108439"
}
```



---

archive/issue_events_108440.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2010-03-22T16:33:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8579",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8579#event-108440"
}
```



---

archive/issue_events_108441.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2010-03-22T16:33:34Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/8579",
    "subject": "https://github.com/nthiery",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8579#event-108441"
}
```



---

archive/issue_events_108442.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2010-03-22T20:50:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8579",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8579#event-108442"
}
```



---

archive/issue_comments_068635.json:
```json
{
    "body": "Changed keywords from none to **magma**",
    "created_at": "2010-03-22T20:50:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8579#issuecomment-68635",
    "user": "https://github.com/nthiery"
}
```

Changed keywords from none to **magma**



---

archive/issue_comments_068636.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,4 +3,4 @@\n \n It factors out some of the code previously in Semigroups / CommutativeAdditiveSemigroups.\n \n-\n+This is used by the updated #7555 to make it more general.\n``````\n",
    "created_at": "2010-03-22T20:50:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8579#issuecomment-68636",
    "user": "https://github.com/nthiery"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,4 +3,4 @@
 
 It factors out some of the code previously in Semigroups / CommutativeAdditiveSemigroups.
 
-
+This is used by the updated #7555 to make it more general.
``````




---

archive/issue_comments_068637.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nHi Nicolas,\n\nI get about 10 \"hunk failures\" trying to apply this to a stock 4.3.4.\n\nI noticed a \"-git\" in the diff commands in the patch, which I don't see in the patches I usually make.  Is it it me, or does this patch need some attention?\n\nRob",
    "created_at": "2010-03-23T04:28:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8579#issuecomment-68637",
    "user": "https://github.com/rbeezer"
}
```

<div id="comment:2" align="right">comment:2</div>

Hi Nicolas,

I get about 10 "hunk failures" trying to apply this to a stock 4.3.4.

I noticed a "-git" in the diff commands in the patch, which I don't see in the patches I usually make.  Is it it me, or does this patch need some attention?

Rob



---

archive/issue_comments_068638.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,3 +4,5 @@\n It factors out some of the code previously in Semigroups / CommutativeAdditiveSemigroups.\n \n This is used by the updated #7555 to make it more general.\n+\n+Depends trivially on #7880.\n``````\n",
    "created_at": "2010-03-23T07:14:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8579#issuecomment-68638",
    "user": "https://github.com/nthiery"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,3 +4,5 @@
 It factors out some of the code previously in Semigroups / CommutativeAdditiveSemigroups.
 
 This is used by the updated #7555 to make it more general.
+
+Depends trivially on #7880.
``````




---

archive/issue_comments_068639.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nThanks, Nicolas, I'll test tonight with #7880.",
    "created_at": "2010-03-23T14:35:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8579#issuecomment-68639",
    "user": "https://github.com/rbeezer"
}
```

<div id="comment:4" align="right">comment:4</div>

Thanks, Nicolas, I'll test tonight with #7880.



---

archive/issue_comments_068640.json:
```json
{
    "body": "Attachment: **[trac_8579-category-magmas-nt.patch.gz](https://github.com/sagemath/sage/files/ticket8579/trac_8579-category-magmas-nt.patch.gz)**\n\nThis updated patch fixes the copyright headers",
    "created_at": "2010-03-24T08:52:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8579#issuecomment-68640",
    "user": "https://github.com/nthiery"
}
```

Attachment: **[trac_8579-category-magmas-nt.patch.gz](https://github.com/sagemath/sage/files/ticket8579/trac_8579-category-magmas-nt.patch.gz)**

This updated patch fixes the copyright headers



---

archive/issue_comments_068641.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nThis passes all tests on 4.3.4.final and docs build without any problems.  It also works well when the fairly extensive #7555 is applied on top of it.  So there should be no surprises for the interested reviewer.\n\nI can't say at the moment that I know enough about implementing categories to verify its completeness, so right now it either (a) needs a quick review from a knowledgeable category specialist, or (b) I need to get more education on categories so #7555 can go in.\n\nRob",
    "created_at": "2010-03-24T14:50:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8579#issuecomment-68641",
    "user": "https://github.com/rbeezer"
}
```

<div id="comment:5" align="right">comment:5</div>

This passes all tests on 4.3.4.final and docs build without any problems.  It also works well when the fairly extensive #7555 is applied on top of it.  So there should be no surprises for the interested reviewer.

I can't say at the moment that I know enough about implementing categories to verify its completeness, so right now it either (a) needs a quick review from a knowledgeable category specialist, or (b) I need to get more education on categories so #7555 can go in.

Rob



---

archive/issue_comments_068642.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nFinally, Magma gets included in Sage!!",
    "created_at": "2010-03-29T07:33:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8579#issuecomment-68642",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:6" align="right">comment:6</div>

Finally, Magma gets included in Sage!!



---

archive/issue_comments_068643.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nHi Rob,\n\nReplying to [@rbeezer](#comment:5):\n> This passes all tests on 4.3.4.final and docs build without any problems.  It also works well when the fairly extensive #7555 is applied on top of it.  So there should be no surprises for the interested reviewer.\n\nThanks for checking this.\n\n> I can't say at the moment that I know enough about implementing categories to verify its completeness, so right now it either (a) needs a quick review from a knowledgeable category specialist, or (b) I need to get more education on categories so #7555 can go in.\n\nFrom the category implementation point of view, everything looks fine upto the\nfollowing small problem which can be left for a future patch: the\n`SubQuotient` code in `Semigroups()` is sufficiently general to work\nin magmas (computing product by lifting/retracting). It should be moved in\n`Magmas()`.\n\nOtherwise, I'm okay to give a positive review. I'll ask Nicolas directly.\n\nFlorent",
    "created_at": "2010-03-31T10:06:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8579#issuecomment-68643",
    "user": "https://github.com/hivert"
}
```

<div id="comment:7" align="right">comment:7</div>

Hi Rob,

Replying to [@rbeezer](#comment:5):
> This passes all tests on 4.3.4.final and docs build without any problems.  It also works well when the fairly extensive #7555 is applied on top of it.  So there should be no surprises for the interested reviewer.

Thanks for checking this.

> I can't say at the moment that I know enough about implementing categories to verify its completeness, so right now it either (a) needs a quick review from a knowledgeable category specialist, or (b) I need to get more education on categories so #7555 can go in.

From the category implementation point of view, everything looks fine upto the
following small problem which can be left for a future patch: the
`SubQuotient` code in `Semigroups()` is sufficiently general to work
in magmas (computing product by lifting/retracting). It should be moved in
`Magmas()`.

Otherwise, I'm okay to give a positive review. I'll ask Nicolas directly.

Florent



---

archive/issue_comments_068644.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nReplying to [@hivert](#comment:7):\n> From the category implementation point of view, everything looks fine upto the\n> following small problem which can be left for a future patch: the\n> `SubQuotient` code in `Semigroups()` is sufficiently general to work\n> in magmas (computing product by lifting/retracting). It should be moved in\n> `Magmas()`.\n\nAh, right, I forgot to mention that. I decided to implement this moving in the upcoming functorial construction patch instead, in order to avoid potential conflicts between the two patches.",
    "created_at": "2010-04-01T12:12:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8579#issuecomment-68644",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:8" align="right">comment:8</div>

Replying to [@hivert](#comment:7):
> From the category implementation point of view, everything looks fine upto the
> following small problem which can be left for a future patch: the
> `SubQuotient` code in `Semigroups()` is sufficiently general to work
> in magmas (computing product by lifting/retracting). It should be moved in
> `Magmas()`.

Ah, right, I forgot to mention that. I decided to implement this moving in the upcoming functorial construction patch instead, in order to avoid potential conflicts between the two patches.



---

archive/issue_comments_068645.json:
```json
{
    "body": "Reviewer: **Robert Beezer, Florent Hivert**",
    "created_at": "2010-04-01T12:13:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8579#issuecomment-68645",
    "user": "https://github.com/nthiery"
}
```

Reviewer: **Robert Beezer, Florent Hivert**



---

archive/issue_events_108443.json:
```json
{
    "actor": "https://github.com/hivert",
    "created_at": "2010-04-01T15:14:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8579",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8579#event-108443"
}
```



---

archive/issue_events_108444.json:
```json
{
    "actor": "https://github.com/hivert",
    "created_at": "2010-04-01T15:14:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8579",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8579#event-108444"
}
```



---

archive/issue_comments_068646.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@nthiery](#comment:8):\n> Ah, right, I forgot to mention that. I decided to implement this moving in the upcoming functorial construction patch instead, in order to avoid potential conflicts between the two patches.\n\nThen It's ok ! positive review.",
    "created_at": "2010-04-01T15:14:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8579#issuecomment-68646",
    "user": "https://github.com/hivert"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@nthiery](#comment:8):
> Ah, right, I forgot to mention that. I decided to implement this moving in the upcoming functorial construction patch instead, in order to avoid potential conflicts between the two patches.

Then It's ok ! positive review.



---

archive/issue_comments_068647.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@hivert](#comment:10):\n> Then It's ok ! positive review.\n\nFlorent,\n\nThanks for finishing this one off!\n\nRob",
    "created_at": "2010-04-01T17:01:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8579#issuecomment-68647",
    "user": "https://github.com/rbeezer"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@hivert](#comment:10):
> Then It's ok ! positive review.

Florent,

Thanks for finishing this one off!

Rob



---

archive/issue_comments_068648.json:
```json
{
    "body": "Merged: **sage-4.4.alpha0**",
    "created_at": "2010-04-15T20:14:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8579#issuecomment-68648",
    "user": "https://github.com/jhpalmieri"
}
```

Merged: **sage-4.4.alpha0**



---

archive/issue_comments_068649.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nMerged \"trac_8579-category-magmas-nt.patch\" in 4.4.alpha0",
    "created_at": "2010-04-15T20:14:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8579#issuecomment-68649",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:12" align="right">comment:12</div>

Merged "trac_8579-category-magmas-nt.patch" in 4.4.alpha0



---

archive/issue_events_108445.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2010-04-15T20:14:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8579",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8579#event-108445"
}
```



---

archive/issue_events_108446.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2010-04-15T20:14:02Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/8579",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8579#event-108446"
}
```
