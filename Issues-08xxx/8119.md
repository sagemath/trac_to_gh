# Issue 8119: Rename change the hash value of some objects

archive/issues_008119.json:
```json
{
    "assignees": [],
    "body": "For many objects the hash value is computed from `__repr__`. This is a bad idea since renaming the object change its hash value.\n\n```\nsage: bla = PolynomialRing(ZZ,\"x\")\nsage: hash(bla)\n-1525918542791298668\nsage: bla.rename(\"toto\")\nsage: hash(bla)\n2314052222105390764\n```\n\n**Apply Only:**\n1. [attachment: 8119-parent-hash-final.patch](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-final.patch.gz)\n\n\nCC:  @jasongrout @simon-king-jena\n\nReviewer: **Florent Hivert, Nicolas M. Thi\u00e9ry, Nicolas Borie**\n\nAuthor: **Robert Bradshaw**\n\nMerged: **sage-5.0.rc0**\n\nComponent: **misc**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/8119_\n\n",
    "closed_at": "2012-04-30T09:51:35Z",
    "created_at": "2010-01-29T15:22:48Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.0",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Rename change the hash value of some objects",
    "type": "issue",
    "updated_at": "2012-04-30T09:51:35Z",
    "url": "https://github.com/sagemath/sage/issues/8119",
    "user": "https://github.com/hivert"
}
```
For many objects the hash value is computed from `__repr__`. This is a bad idea since renaming the object change its hash value.

```
sage: bla = PolynomialRing(ZZ,"x")
sage: hash(bla)
-1525918542791298668
sage: bla.rename("toto")
sage: hash(bla)
2314052222105390764
```

**Apply Only:**
1. [attachment: 8119-parent-hash-final.patch](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-final.patch.gz)


CC:  @jasongrout @simon-king-jena

Reviewer: **Florent Hivert, Nicolas M. Thiéry, Nicolas Borie**

Author: **Robert Bradshaw**

Merged: **sage-5.0.rc0**

Component: **misc**

_Issue created by migration from https://trac.sagemath.org/ticket/8119_





---

archive/issue_events_100113.json:
```json
{
    "actor": "https://github.com/hivert",
    "created_at": "2010-01-29T15:22:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-100113"
}
```



---

archive/issue_events_100114.json:
```json
{
    "actor": "https://github.com/hivert",
    "created_at": "2010-01-29T15:22:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-100114"
}
```



---

archive/issue_comments_062615.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nFor immutable objects, like Parents, the default `__hash__` could store the value used the first time it is computed. This doesn't solve the problem of \n\n```\nsage: bla = PolynomialRing(ZZ,\"x\")\nsage: hash(bla['t'])\n-1733828288\nsage: bla.rename(\"toto\")\nsage: hash(bla['t'])\n-1924319844\n```",
    "created_at": "2010-03-12T09:34:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-62615",
    "user": "https://github.com/robertwb"
}
```

<div id="comment:1" align="right">comment:1</div>

For immutable objects, like Parents, the default `__hash__` could store the value used the first time it is computed. This doesn't solve the problem of 

```
sage: bla = PolynomialRing(ZZ,"x")
sage: hash(bla['t'])
-1733828288
sage: bla.rename("toto")
sage: hash(bla['t'])
-1924319844
```



---

archive/issue_comments_062616.json:
```json
{
    "body": "Attachment: **[8119-parent-hash.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash.patch.gz)**",
    "created_at": "2010-03-12T09:57:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-62616",
    "user": "https://github.com/robertwb"
}
```

Attachment: **[8119-parent-hash.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash.patch.gz)**



---

archive/issue_comments_062617.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nThis is a partial fix (that won't work for SageObject in general, unless we enforce that mutable objects maintain their own hash, and I don't think we want to put an extra field on all Elements), but resolves the most important case. It's also a performance gain.",
    "created_at": "2010-03-12T09:59:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-62617",
    "user": "https://github.com/robertwb"
}
```

<div id="comment:2" align="right">comment:2</div>

This is a partial fix (that won't work for SageObject in general, unless we enforce that mutable objects maintain their own hash, and I don't think we want to put an extra field on all Elements), but resolves the most important case. It's also a performance gain.



---

archive/issue_events_100115.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2010-03-12T09:59:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "milestone_number": null,
    "milestone_title": "sage-4.3.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-100115"
}
```



---

archive/issue_events_100116.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2010-03-12T09:59:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-100116"
}
```



---

archive/issue_comments_062618.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nHi Robert,\n\nI've one question related to this and I like to have the confirmation from an expert. After your patch, upon pickling/unpickling the hash value can change because it is not pickled and neither is the name, right ? As far as I manage to test this is not harmful to pickle a dict containing a renamed parent. Indeed, trying to read `cPickle.c`, I understood that the dict is reconstructed from it's items and thus even if the hash changed the element is inserted correctly in the dict during unpickling. Can you confirm this ?\n\nIf this is not both this patch and #8120 are broken.\n\nAlso, after this, do you still need #8506 ?\n\nFlorent",
    "created_at": "2010-03-12T22:32:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-62618",
    "user": "https://github.com/hivert"
}
```

<div id="comment:3" align="right">comment:3</div>

Hi Robert,

I've one question related to this and I like to have the confirmation from an expert. After your patch, upon pickling/unpickling the hash value can change because it is not pickled and neither is the name, right ? As far as I manage to test this is not harmful to pickle a dict containing a renamed parent. Indeed, trying to read `cPickle.c`, I understood that the dict is reconstructed from it's items and thus even if the hash changed the element is inserted correctly in the dict during unpickling. Can you confirm this ?

If this is not both this patch and #8120 are broken.

Also, after this, do you still need #8506 ?

Florent



---

archive/issue_comments_062619.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nReplying to [@hivert](#comment:3):\n> Hi Robert,\n> \n> I've one question related to this and I like to have the confirmation from an expert. After your patch, upon pickling/unpickling the hash value can change because it is not pickled and neither is the name, right ? As far as I manage to test this is not harmful to pickle a dict containing a renamed parent. Indeed, trying to read `cPickle.c`, I understood that the dict is reconstructed from it's items and thus even if the hash changed the element is inserted correctly in the dict during unpickling. Can you confirm this ?\n\nThat is correct. Hashes in general are not guaranteed to be consistent from run to run, all that really matters is that they satisfy (to the best they can) the equality constraints. \n\n> If this is not both this patch and #8120 are broken.\n> \n> Also, after this, do you still need #8506 ?\n\nYes, #8506 is still important--in my case I'm reducing a curve mod many, many primes, doing just a bit of stuff on each before throwing them away. I suppose eventually caching the hash value would eventually be a win, but that's a separate optimization.",
    "created_at": "2010-03-13T09:44:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-62619",
    "user": "https://github.com/robertwb"
}
```

<div id="comment:4" align="right">comment:4</div>

Replying to [@hivert](#comment:3):
> Hi Robert,
> 
> I've one question related to this and I like to have the confirmation from an expert. After your patch, upon pickling/unpickling the hash value can change because it is not pickled and neither is the name, right ? As far as I manage to test this is not harmful to pickle a dict containing a renamed parent. Indeed, trying to read `cPickle.c`, I understood that the dict is reconstructed from it's items and thus even if the hash changed the element is inserted correctly in the dict during unpickling. Can you confirm this ?

That is correct. Hashes in general are not guaranteed to be consistent from run to run, all that really matters is that they satisfy (to the best they can) the equality constraints. 

> If this is not both this patch and #8120 are broken.
> 
> Also, after this, do you still need #8506 ?

Yes, #8506 is still important--in my case I'm reducing a curve mod many, many primes, doing just a bit of stuff on each before throwing them away. I suppose eventually caching the hash value would eventually be a win, but that's a separate optimization.



---

archive/issue_comments_062620.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nhivert: do you want to review this ticket?",
    "created_at": "2010-10-02T19:57:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-62620",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:6" align="right">comment:6</div>

hivert: do you want to review this ticket?



---

archive/issue_events_100117.json:
```json
{
    "actor": "https://github.com/hivert",
    "created_at": "2011-04-04T17:24:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-100117"
}
```



---

archive/issue_events_100118.json:
```json
{
    "actor": "https://github.com/hivert",
    "created_at": "2011-04-04T17:24:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-100118"
}
```



---

archive/issue_comments_062621.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\n> hivert: do you want to review this ticket?\n\nSure ! I completely forgot about this one. Sorry !\n\nThey are a few place where we should remove the bad implementation using `__repr__` since they all inherits from `CategoryObject`: \n\n```\npopcorn-*ge-combinat/sage $ grep \"hash(self.__repr__())\" **/*.py*\ngroups/group.pyx:        return hash(self.__repr__())\nmodules/module.pyx:        return hash(self.__repr__())\nmodules/module.pyx:        return hash(self.__repr__())\nrings/polynomial/multi_polynomial_libsingular.pyx:        return hash(self.__repr__())\nrings/ring.pyx:        return hash(self.__repr__())\nstructure/sage_object.pyx:        return hash(self.__repr__())\n```\nI don't have time to do it right now. I'll do it soon if you don't beat me.",
    "created_at": "2011-04-04T17:24:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-62621",
    "user": "https://github.com/hivert"
}
```

<div id="comment:7" align="right">comment:7</div>

> hivert: do you want to review this ticket?

Sure ! I completely forgot about this one. Sorry !

They are a few place where we should remove the bad implementation using `__repr__` since they all inherits from `CategoryObject`: 

```
popcorn-*ge-combinat/sage $ grep "hash(self.__repr__())" **/*.py*
groups/group.pyx:        return hash(self.__repr__())
modules/module.pyx:        return hash(self.__repr__())
modules/module.pyx:        return hash(self.__repr__())
rings/polynomial/multi_polynomial_libsingular.pyx:        return hash(self.__repr__())
rings/ring.pyx:        return hash(self.__repr__())
structure/sage_object.pyx:        return hash(self.__repr__())
```
I don't have time to do it right now. I'll do it soon if you don't beat me.



---

archive/issue_comments_062622.json:
```json
{
    "body": "Reviewer: **Florent Hivert**",
    "created_at": "2011-04-04T17:24:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-62622",
    "user": "https://github.com/hivert"
}
```

Reviewer: **Florent Hivert**



---

archive/issue_events_100119.json:
```json
{
    "actor": "https://github.com/hivert",
    "created_at": "2011-04-04T18:48:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-100119"
}
```



---

archive/issue_events_100120.json:
```json
{
    "actor": "https://github.com/hivert",
    "created_at": "2011-04-04T18:48:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-100120"
}
```



---

archive/issue_comments_062623.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\n> They are a few place where we should remove the bad implementation using\n> `__repr__` since they all inherits from `CategoryObject`:\n\nI just added a review patch which removes the wrong hash methods.\n\nPlease review. I'm ok with the original patch, so if my review patch is ok\nyou can put a positive review on my behalf.",
    "created_at": "2011-04-04T18:48:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-62623",
    "user": "https://github.com/hivert"
}
```

<div id="comment:8" align="right">comment:8</div>

> They are a few place where we should remove the bad implementation using
> `__repr__` since they all inherits from `CategoryObject`:

I just added a review patch which removes the wrong hash methods.

Please review. I'm ok with the original patch, so if my review patch is ok
you can put a positive review on my behalf.



---

archive/issue_comments_062624.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -8,3 +8,8 @@\n sage: hash(bla)\n 2314052222105390764\n ```\n+\n+**Apply:**\n+1. [attachment: 8119-parent-hash.patch](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash.patch.gz)\n+2. [attachment: 8119-parent-hash-review.patch](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-review.patch.gz)\n+\n``````\n",
    "created_at": "2011-04-04T18:48:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-62624",
    "user": "https://github.com/hivert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -8,3 +8,8 @@
 sage: hash(bla)
 2314052222105390764
 ```
+
+**Apply:**
+1. [attachment: 8119-parent-hash.patch](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash.patch.gz)
+2. [attachment: 8119-parent-hash-review.patch](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-review.patch.gz)
+
``````




---

archive/issue_comments_062625.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nAttachment: **[8119-parent-hash-review.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-review.patch.gz)**\n\nFlorent's review patch looks good. However ``consistant* should be written ``consistent* in the first patch. I also did not yet set a positive review because of the ongoing discussion on sage-devel. Please feel free to go ahead and set a positive review once the typo is fixed and if it is decided that the PolynomialRing issue shall be fixed in a follow up patch.\n\nCheers,\n                                   Nicolas",
    "created_at": "2011-04-21T01:45:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-62625",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:9" align="right">comment:9</div>

Attachment: **[8119-parent-hash-review.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-review.patch.gz)**

Florent's review patch looks good. However ``consistant* should be written ``consistent* in the first patch. I also did not yet set a positive review because of the ongoing discussion on sage-devel. Please feel free to go ahead and set a positive review once the typo is fixed and if it is decided that the PolynomialRing issue shall be fixed in a follow up patch.

Cheers,
                                   Nicolas



---

archive/issue_comments_062626.json:
```json
{
    "body": "Author: **Robert Bradshaw**",
    "created_at": "2011-04-21T01:45:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-62626",
    "user": "https://github.com/nthiery"
}
```

Author: **Robert Bradshaw**



---

archive/issue_events_100121.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2011-04-21T01:45:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-100121"
}
```



---

archive/issue_events_100122.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2011-04-21T01:45:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-100122"
}
```



---

archive/issue_comments_062627.json:
```json
{
    "body": "Changed reviewer from **Florent Hivert** to **Florent Hivert, Nicolas M. Thi\u00e9ry**",
    "created_at": "2011-04-21T01:45:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-62627",
    "user": "https://github.com/nthiery"
}
```

Changed reviewer from **Florent Hivert** to **Florent Hivert, Nicolas M. Thiéry**



---

archive/issue_events_100123.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2011-04-21T09:27:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-100123"
}
```



---

archive/issue_events_100124.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2011-04-21T09:27:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-100124"
}
```



---

archive/issue_comments_062628.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nAttachment: **[8119-parent-hash.2.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash.2.patch.gz)**\n\nFixed the typo, I don't think the issue with sparse PolynomialRing #11231 should hold this ticket up any longer (it's had a patch sitting on it for over a year...)",
    "created_at": "2011-04-21T09:27:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-62628",
    "user": "https://github.com/robertwb"
}
```

<div id="comment:10" align="right">comment:10</div>

Attachment: **[8119-parent-hash.2.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash.2.patch.gz)**

Fixed the typo, I don't think the issue with sparse PolynomialRing #11231 should hold this ticket up any longer (it's had a patch sitting on it for over a year...)



---

archive/issue_comments_062629.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -10,6 +10,6 @@\n ```\n \n **Apply:**\n-1. [attachment: 8119-parent-hash.patch](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash.patch.gz)\n+1. [attachment: 8119-parent-hash.2.patch](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash.2.patch.gz)\n 2. [attachment: 8119-parent-hash-review.patch](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-review.patch.gz)\n \n``````\n",
    "created_at": "2011-04-21T19:36:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-62629",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -10,6 +10,6 @@
 ```
 
 **Apply:**
-1. [attachment: 8119-parent-hash.patch](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash.patch.gz)
+1. [attachment: 8119-parent-hash.2.patch](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash.2.patch.gz)
 2. [attachment: 8119-parent-hash-review.patch](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-review.patch.gz)
 
``````




---

archive/issue_comments_062630.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nI'm assuming the \"apply\" should be changed...",
    "created_at": "2011-04-21T19:36:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-62630",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:11" align="right">comment:11</div>

I'm assuming the "apply" should be changed...



---

archive/issue_events_100125.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-04-21T19:36:29Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "milestone_number": null,
    "milestone_title": "sage-4.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-100125"
}
```



---

archive/issue_events_100126.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-04-21T19:36:29Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "milestone_number": null,
    "milestone_title": "sage-4.7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-100126"
}
```



---

archive/issue_events_100127.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-04-22T19:38:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-100127"
}
```



---

archive/issue_events_100128.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-04-22T19:38:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-100128"
}
```



---

archive/issue_comments_062631.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nPlease change the commit message of [attachment: 8119-parent-hash.2.patch](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash.2.patch.gz) (use hg qrefresh -e for that).",
    "created_at": "2011-04-22T19:38:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-62631",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:12" align="right">comment:12</div>

Please change the commit message of [attachment: 8119-parent-hash.2.patch](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash.2.patch.gz) (use hg qrefresh -e for that).



---

archive/issue_events_100129.json:
```json
{
    "actor": "https://github.com/hivert",
    "created_at": "2011-04-23T10:47:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-100129"
}
```



---

archive/issue_events_100130.json:
```json
{
    "actor": "https://github.com/hivert",
    "created_at": "2011-04-23T10:47:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-100130"
}
```



---

archive/issue_comments_062632.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nAttachment: **[8119-parent-hash.3.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash.3.patch.gz)**\n\nI just re-uploaded roberts patch with a correct log message. I'm not sure I'm allowed to put a positive review though. \n\nFlorent",
    "created_at": "2011-04-23T10:47:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-62632",
    "user": "https://github.com/hivert"
}
```

<div id="comment:13" align="right">comment:13</div>

Attachment: **[8119-parent-hash.3.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash.3.patch.gz)**

I just re-uploaded roberts patch with a correct log message. I'm not sure I'm allowed to put a positive review though. 

Florent



---

archive/issue_comments_062633.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -10,6 +10,6 @@\n ```\n \n **Apply:**\n-1. [attachment: 8119-parent-hash.2.patch](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash.2.patch.gz)\n+1. [attachment: 8119-parent-hash.3.patch](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash.3.patch.gz)\n 2. [attachment: 8119-parent-hash-review.patch](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-review.patch.gz)\n \n``````\n",
    "created_at": "2011-04-23T10:47:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-62633",
    "user": "https://github.com/hivert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -10,6 +10,6 @@
 ```
 
 **Apply:**
-1. [attachment: 8119-parent-hash.2.patch](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash.2.patch.gz)
+1. [attachment: 8119-parent-hash.3.patch](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash.3.patch.gz)
 2. [attachment: 8119-parent-hash-review.patch](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-review.patch.gz)
 
``````




---

archive/issue_comments_062634.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nBonjour Florent!\n\nI am not sure the log message for 8119-parent-hash-review.patch is proper. While you are at it, I'd suggest to just fold it in the other patch. The review history does not bring much information here, so having a single patch will give a better overview to the future reader.\n\nI'll set a positive review right after.",
    "created_at": "2011-04-23T13:12:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-62634",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:14" align="right">comment:14</div>

Bonjour Florent!

I am not sure the log message for 8119-parent-hash-review.patch is proper. While you are at it, I'd suggest to just fold it in the other patch. The review history does not bring much information here, so having a single patch will give a better overview to the future reader.

I'll set a positive review right after.



---

archive/issue_events_100131.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2011-04-23T13:12:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-100131"
}
```



---

archive/issue_events_100132.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2011-04-23T13:12:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-100132"
}
```



---

archive/issue_comments_062635.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -9,7 +9,6 @@\n 2314052222105390764\n ```\n \n-**Apply:**\n-1. [attachment: 8119-parent-hash.3.patch](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash.3.patch.gz)\n-2. [attachment: 8119-parent-hash-review.patch](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-review.patch.gz)\n+**Apply Only:**\n+1. [attachment: 8119-parent-hash-final.patch](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-final.patch.gz)\n \n``````\n",
    "created_at": "2011-04-23T13:47:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-62635",
    "user": "https://github.com/hivert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -9,7 +9,6 @@
 2314052222105390764
 ```
 
-**Apply:**
-1. [attachment: 8119-parent-hash.3.patch](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash.3.patch.gz)
-2. [attachment: 8119-parent-hash-review.patch](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-review.patch.gz)
+**Apply Only:**
+1. [attachment: 8119-parent-hash-final.patch](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-final.patch.gz)
 
``````




---

archive/issue_comments_062636.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\n> I'd suggest to just fold it in the other patch.\n\nDone.",
    "created_at": "2011-04-23T13:47:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-62636",
    "user": "https://github.com/hivert"
}
```

<div id="comment:15" align="right">comment:15</div>

> I'd suggest to just fold it in the other patch.

Done.



---

archive/issue_events_100133.json:
```json
{
    "actor": "https://github.com/hivert",
    "created_at": "2011-04-23T13:48:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-100133"
}
```



---

archive/issue_events_100134.json:
```json
{
    "actor": "https://github.com/hivert",
    "created_at": "2011-04-23T13:48:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-100134"
}
```



---

archive/issue_comments_062637.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nThanks!\n\nIt seems the buildbot is getting confused about which patch to apply though.",
    "created_at": "2011-04-23T15:18:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-62637",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:17" align="right">comment:17</div>

Thanks!

It seems the buildbot is getting confused about which patch to apply though.



---

archive/issue_events_100135.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2011-04-23T15:18:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-100135"
}
```



---

archive/issue_events_100136.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2011-04-23T15:18:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-100136"
}
```



---

archive/issue_comments_062638.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nApply 8119-parent-hash-final.patch\n\nGranted, the patchbot doesn't bother testing positively reviewed tickets (not that anything it's concerned with changed). Thanks for getting to this for me.",
    "created_at": "2011-04-24T05:05:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-62638",
    "user": "https://github.com/robertwb"
}
```

<div id="comment:18" align="right">comment:18</div>

Apply 8119-parent-hash-final.patch

Granted, the patchbot doesn't bother testing positively reviewed tickets (not that anything it's concerned with changed). Thanks for getting to this for me.



---

archive/issue_comments_062639.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nSome of these doctests should be differentiated on 32-bit systems (in particular, all the results of `hash()`).",
    "created_at": "2011-05-03T08:46:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-62639",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:19" align="right">comment:19</div>

Some of these doctests should be differentiated on 32-bit systems (in particular, all the results of `hash()`).



---

archive/issue_events_100137.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-05-03T08:46:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-100137"
}
```



---

archive/issue_events_100138.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-05-03T08:46:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-100138"
}
```



---

archive/issue_comments_062640.json:
```json
{
    "body": "Work Issues: **fix on 32-bit**",
    "created_at": "2011-05-03T08:46:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-62640",
    "user": "https://github.com/jdemeyer"
}
```

Work Issues: **fix on 32-bit**



---

archive/issue_comments_062641.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\n*bump*",
    "created_at": "2011-05-19T08:31:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-62641",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:20" align="right">comment:20</div>

*bump*



---

archive/issue_comments_062642.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -10,5 +10,5 @@\n ```\n \n **Apply Only:**\n-1. [attachment: 8119-parent-hash-final.patch](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-final.patch.gz)\n+1. [attachment: 8119-parent-hash-final-fix32.patch](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-final-fix32.patch.gz)\n \n``````\n",
    "created_at": "2012-03-29T14:48:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-62642",
    "user": "https://github.com/sagetrac-nborie"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -10,5 +10,5 @@
 ```
 
 **Apply Only:**
-1. [attachment: 8119-parent-hash-final.patch](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-final.patch.gz)
+1. [attachment: 8119-parent-hash-final-fix32.patch](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-final-fix32.patch.gz)
 
``````




---

archive/issue_events_100139.json:
```json
{
    "actor": "https://github.com/sagetrac-nborie",
    "created_at": "2012-03-29T14:48:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-100139"
}
```



---

archive/issue_events_100140.json:
```json
{
    "actor": "https://github.com/sagetrac-nborie",
    "created_at": "2012-03-29T14:48:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-100140"
}
```



---

archive/issue_events_100141.json:
```json
{
    "actor": "https://github.com/hivert",
    "created_at": "2012-03-29T14:54:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-100141"
}
```



---

archive/issue_events_100142.json:
```json
{
    "actor": "https://github.com/hivert",
    "created_at": "2012-03-29T14:54:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-100142"
}
```



---

archive/issue_comments_062643.json:
```json
{
    "body": "Changed work issues from **fix on 32-bit** to none",
    "created_at": "2012-03-29T14:54:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-62643",
    "user": "https://github.com/hivert"
}
```

Changed work issues from **fix on 32-bit** to none



---

archive/issue_comments_062644.json:
```json
{
    "body": "Changed reviewer from **Florent Hivert, Nicolas M. Thi\u00e9ry** to **Florent Hivert, Nicolas M. Thi\u00e9ry, Nicolas Borie**",
    "created_at": "2012-03-29T14:54:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-62644",
    "user": "https://github.com/hivert"
}
```

Changed reviewer from **Florent Hivert, Nicolas M. Thiéry** to **Florent Hivert, Nicolas M. Thiéry, Nicolas Borie**



---

archive/issue_comments_062645.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nOn boxen (Linux x86_64), I get:\n\n```\nsage -t  -force_lib devel/sage/sage/structure/category_object.pyx\n**********************************************************************\nFile \"/padic/scratch/jdemeyer/merger/sage-5.0.beta14/devel/sage-main/sage/structure/category_object.pyx\", line 757:\n    sage: hash(bla)\nExpected:\n    -1525918542791298668\nGot:\n    -5279516879544852222\n**********************************************************************\nFile \"/padic/scratch/jdemeyer/merger/sage-5.0.beta14/devel/sage-main/sage/structure/category_object.pyx\", line 761:\n    sage: hash(bla)\nExpected:\n    -1525918542791298668\nGot:\n    -5279516879544852222\n**********************************************************************\n```",
    "created_at": "2012-04-06T06:19:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-62645",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:23" align="right">comment:23</div>

On boxen (Linux x86_64), I get:

```
sage -t  -force_lib devel/sage/sage/structure/category_object.pyx
**********************************************************************
File "/padic/scratch/jdemeyer/merger/sage-5.0.beta14/devel/sage-main/sage/structure/category_object.pyx", line 757:
    sage: hash(bla)
Expected:
    -1525918542791298668
Got:
    -5279516879544852222
**********************************************************************
File "/padic/scratch/jdemeyer/merger/sage-5.0.beta14/devel/sage-main/sage/structure/category_object.pyx", line 761:
    sage: hash(bla)
Expected:
    -1525918542791298668
Got:
    -5279516879544852222
**********************************************************************
```



---

archive/issue_events_100143.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-04-06T06:19:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-100143"
}
```



---

archive/issue_events_100144.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-04-06T06:19:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-100144"
}
```



---

archive/issue_comments_062646.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nAttachment: **[8119-parent-hash-final-fix32.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-final-fix32.patch.gz)**\n\nReplying to [@jdemeyer](#comment:23):\n> On boxen (Linux x86_64), I get:\n> \n> ```\n> sage -t  -force_lib devel/sage/sage/structure/category_object.pyx\n> **********************************************************************\n> File \"/padic/scratch/jdemeyer/merger/sage-5.0.beta14/devel/sage-main/sage/structure/category_object.pyx\", line 757:\n>     sage: hash(bla)\n> Expected:\n>     -1525918542791298668\n> Got:\n>     -5279516879544852222\n> **********************************************************************\n> File \"/padic/scratch/jdemeyer/merger/sage-5.0.beta14/devel/sage-main/sage/structure/category_object.pyx\", line 761:\n>     sage: hash(bla)\n> Expected:\n>     -1525918542791298668\n> Got:\n>     -5279516879544852222\n> **********************************************************************\n> ```\n\nWeird, I get here the same result as you on boxen, both with 4.8 and 5.0.beta8. I don't know how a wrong return value ended up in the patch. \n\nOh well, I updated the patch to expect the result obtained on boxen.",
    "created_at": "2012-04-06T14:45:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-62646",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:24" align="right">comment:24</div>

Attachment: **[8119-parent-hash-final-fix32.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-final-fix32.patch.gz)**

Replying to [@jdemeyer](#comment:23):
> On boxen (Linux x86_64), I get:
> 
> ```
> sage -t  -force_lib devel/sage/sage/structure/category_object.pyx
> **********************************************************************
> File "/padic/scratch/jdemeyer/merger/sage-5.0.beta14/devel/sage-main/sage/structure/category_object.pyx", line 757:
>     sage: hash(bla)
> Expected:
>     -1525918542791298668
> Got:
>     -5279516879544852222
> **********************************************************************
> File "/padic/scratch/jdemeyer/merger/sage-5.0.beta14/devel/sage-main/sage/structure/category_object.pyx", line 761:
>     sage: hash(bla)
> Expected:
>     -1525918542791298668
> Got:
>     -5279516879544852222
> **********************************************************************
> ```

Weird, I get here the same result as you on boxen, both with 4.8 and 5.0.beta8. I don't know how a wrong return value ended up in the patch. 

Oh well, I updated the patch to expect the result obtained on boxen.



---

archive/issue_events_100145.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2012-04-06T14:51:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-100145"
}
```



---

archive/issue_events_100146.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2012-04-06T14:51:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-100146"
}
```



---

archive/issue_comments_062647.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nApply 8119-parent-hash-final-fix32.patch\n\n(for patchbot)",
    "created_at": "2012-04-07T12:04:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-62647",
    "user": "https://github.com/loefflerd"
}
```

<div id="comment:26" align="right">comment:26</div>

Apply 8119-parent-hash-final-fix32.patch

(for patchbot)



---

archive/issue_comments_062648.json:
```json
{
    "body": "Attachment: **[8119-parent-hash-final.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-final.patch.gz)**",
    "created_at": "2012-04-26T22:17:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-62648",
    "user": "https://github.com/hivert"
}
```

Attachment: **[8119-parent-hash-final.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-final.patch.gz)**



---

archive/issue_events_100147.json:
```json
{
    "actor": "https://github.com/hivert",
    "created_at": "2012-04-26T22:21:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-100147"
}
```



---

archive/issue_events_100148.json:
```json
{
    "actor": "https://github.com/hivert",
    "created_at": "2012-04-26T22:21:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-100148"
}
```



---

archive/issue_comments_062649.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -10,5 +10,5 @@\n ```\n \n **Apply Only:**\n-1. [attachment: 8119-parent-hash-final-fix32.patch](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-final-fix32.patch.gz)\n+1. [attachment: 8119-parent-hash-final.patch](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-final.patch.gz)\n \n``````\n",
    "created_at": "2012-04-26T22:21:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-62649",
    "user": "https://github.com/hivert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -10,5 +10,5 @@
 ```
 
 **Apply Only:**
-1. [attachment: 8119-parent-hash-final-fix32.patch](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-final-fix32.patch.gz)
+1. [attachment: 8119-parent-hash-final.patch](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-final.patch.gz)
 
``````




---

archive/issue_comments_062650.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nHi there,\n\nI'm setting a positive review here but I uploaded a new patch removing a\ntrailling whitespace which bothered the patchbot. The only difference between\n[attachment: 8119-parent-hash-final-fix32.patch](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-final-fix32.patch.gz) and\n[attachment: 8119-parent-hash-final.patch](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-final.patch.gz) is the trailling space (and of course\nMercurials header), so I don't think a new review is needed.\n\nFlorent",
    "created_at": "2012-04-26T22:21:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-62650",
    "user": "https://github.com/hivert"
}
```

<div id="comment:28" align="right">comment:28</div>

Hi there,

I'm setting a positive review here but I uploaded a new patch removing a
trailling whitespace which bothered the patchbot. The only difference between
[attachment: 8119-parent-hash-final-fix32.patch](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-final-fix32.patch.gz) and
[attachment: 8119-parent-hash-final.patch](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-final.patch.gz) is the trailling space (and of course
Mercurials header), so I don't think a new review is needed.

Florent



---

archive/issue_comments_062651.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nThanks for the final review!",
    "created_at": "2012-04-27T17:43:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-62651",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:29" align="right">comment:29</div>

Thanks for the final review!



---

archive/issue_comments_062652.json:
```json
{
    "body": "Merged: **sage-5.0.rc0**",
    "created_at": "2012-04-30T09:51:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-62652",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-5.0.rc0**



---

archive/issue_events_100149.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-04-30T09:51:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-100149"
}
```



---

archive/issue_events_100150.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-04-30T09:51:35Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-100150"
}
```
