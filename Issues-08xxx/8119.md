# Issue 8119: Rename change the hash value of some objects

archive/issues_008119.json:
```json
{
    "assignees": [],
    "body": "For many objects the hash value is computed from `__repr__`. This is a bad idea since renaming the object change its hash value.\n\n```\nsage: bla = PolynomialRing(ZZ,\"x\")\nsage: hash(bla)\n-1525918542791298668\nsage: bla.rename(\"toto\")\nsage: hash(bla)\n2314052222105390764\n```\n\n**Apply Only:**\n1. [attachment: 8119-parent-hash-final.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-final.patch.gz)\n\n\nCC:  @jasongrout @simon-king-jena\n\nReviewer: **Florent Hivert, Nicolas M. Thi\u00e9ry, Nicolas Borie**\n\nAuthor: **Robert Bradshaw**\n\nMerged: **sage-5.0.rc0**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/8119_\n\n",
    "closed_at": "2012-04-30T09:51:35Z",
    "created_at": "2010-01-29T15:22:48Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.0",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Rename change the hash value of some objects",
    "type": "issue",
    "updated_at": "2012-04-30T09:51:35Z",
    "url": "https://github.com/sagemath/sage/issues/8119",
    "user": "https://github.com/hivert"
}
```
For many objects the hash value is computed from `__repr__`. This is a bad idea since renaming the object change its hash value.

```
sage: bla = PolynomialRing(ZZ,"x")
sage: hash(bla)
-1525918542791298668
sage: bla.rename("toto")
sage: hash(bla)
2314052222105390764
```

**Apply Only:**
1. [attachment: 8119-parent-hash-final.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-final.patch.gz)


CC:  @jasongrout @simon-king-jena

Reviewer: **Florent Hivert, Nicolas M. Thiéry, Nicolas Borie**

Author: **Robert Bradshaw**

Merged: **sage-5.0.rc0**

_Issue created by migration from https://trac.sagemath.org/ticket/8119_





---

archive/issue_events_091924.json:
```json
{
    "actor": "https://github.com/hivert",
    "created_at": "2010-01-29T15:22:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-91924"
}
```



---

archive/issue_events_091925.json:
```json
{
    "actor": "https://github.com/hivert",
    "created_at": "2010-01-29T15:22:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-91925"
}
```



---

archive/issue_comments_064323.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nFor immutable objects, like Parents, the default `__hash__` could store the value used the first time it is computed. This doesn't solve the problem of \n\n```\nsage: bla = PolynomialRing(ZZ,\"x\")\nsage: hash(bla['t'])\n-1733828288\nsage: bla.rename(\"toto\")\nsage: hash(bla['t'])\n-1924319844\n```",
    "created_at": "2010-03-12T09:34:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-64323",
    "user": "https://github.com/robertwb"
}
```

<a id='comment:1'>Comment 1:</a>
For immutable objects, like Parents, the default `__hash__` could store the value used the first time it is computed. This doesn't solve the problem of 

```
sage: bla = PolynomialRing(ZZ,"x")
sage: hash(bla['t'])
-1733828288
sage: bla.rename("toto")
sage: hash(bla['t'])
-1924319844
```



---

archive/issue_comments_064324.json:
```json
{
    "body": "Attachment: **[8119-parent-hash.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash.patch.gz)**",
    "created_at": "2010-03-12T09:57:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-64324",
    "user": "https://github.com/robertwb"
}
```

Attachment: **[8119-parent-hash.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash.patch.gz)**



---

archive/issue_comments_064325.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nThis is a partial fix (that won't work for SageObject in general, unless we enforce that mutable objects maintain their own hash, and I don't think we want to put an extra field on all Elements), but resolves the most important case. It's also a performance gain.",
    "created_at": "2010-03-12T09:59:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-64325",
    "user": "https://github.com/robertwb"
}
```

<a id='comment:2'>Comment 2:</a>
This is a partial fix (that won't work for SageObject in general, unless we enforce that mutable objects maintain their own hash, and I don't think we want to put an extra field on all Elements), but resolves the most important case. It's also a performance gain.



---

archive/issue_events_091926.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2010-03-12T09:59:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "milestone_number": null,
    "milestone_title": "sage-4.3.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-91926"
}
```



---

archive/issue_events_091927.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2010-03-12T09:59:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-91927"
}
```



---

archive/issue_comments_064326.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nHi Robert,\n\nI've one question related to this and I like to have the confirmation from an expert. After your patch, upon pickling/unpickling the hash value can change because it is not pickled and neither is the name, right ? As far as I manage to test this is not harmful to pickle a dict containing a renamed parent. Indeed, trying to read `cPickle.c`, I understood that the dict is reconstructed from it's items and thus even if the hash changed the element is inserted correctly in the dict during unpickling. Can you confirm this ?\n\nIf this is not both this patch and #8120 are broken.\n\nAlso, after this, do you still need #8506 ?\n\nFlorent",
    "created_at": "2010-03-12T22:32:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-64326",
    "user": "https://github.com/hivert"
}
```

<a id='comment:3'>Comment 3:</a>
Hi Robert,

I've one question related to this and I like to have the confirmation from an expert. After your patch, upon pickling/unpickling the hash value can change because it is not pickled and neither is the name, right ? As far as I manage to test this is not harmful to pickle a dict containing a renamed parent. Indeed, trying to read `cPickle.c`, I understood that the dict is reconstructed from it's items and thus even if the hash changed the element is inserted correctly in the dict during unpickling. Can you confirm this ?

If this is not both this patch and #8120 are broken.

Also, after this, do you still need #8506 ?

Florent



---

archive/issue_comments_064327.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nReplying to [@hivert](#comment%3A3):\n> Hi Robert,\n> \n> I've one question related to this and I like to have the confirmation from an expert. After your patch, upon pickling/unpickling the hash value can change because it is not pickled and neither is the name, right ? As far as I manage to test this is not harmful to pickle a dict containing a renamed parent. Indeed, trying to read `cPickle.c`, I understood that the dict is reconstructed from it's items and thus even if the hash changed the element is inserted correctly in the dict during unpickling. Can you confirm this ?\n\nThat is correct. Hashes in general are not guaranteed to be consistent from run to run, all that really matters is that they satisfy (to the best they can) the equality constraints. \n\n> If this is not both this patch and #8120 are broken.\n> \n> Also, after this, do you still need #8506 ?\n\nYes, #8506 is still important--in my case I'm reducing a curve mod many, many primes, doing just a bit of stuff on each before throwing them away. I suppose eventually caching the hash value would eventually be a win, but that's a separate optimization.",
    "created_at": "2010-03-13T09:44:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-64327",
    "user": "https://github.com/robertwb"
}
```

<a id='comment:4'>Comment 4:</a>
Replying to [@hivert](#comment%3A3):
> Hi Robert,
> 
> I've one question related to this and I like to have the confirmation from an expert. After your patch, upon pickling/unpickling the hash value can change because it is not pickled and neither is the name, right ? As far as I manage to test this is not harmful to pickle a dict containing a renamed parent. Indeed, trying to read `cPickle.c`, I understood that the dict is reconstructed from it's items and thus even if the hash changed the element is inserted correctly in the dict during unpickling. Can you confirm this ?

That is correct. Hashes in general are not guaranteed to be consistent from run to run, all that really matters is that they satisfy (to the best they can) the equality constraints. 

> If this is not both this patch and #8120 are broken.
> 
> Also, after this, do you still need #8506 ?

Yes, #8506 is still important--in my case I'm reducing a curve mod many, many primes, doing just a bit of stuff on each before throwing them away. I suppose eventually caching the hash value would eventually be a win, but that's a separate optimization.



---

archive/issue_comments_064328.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nhivert: do you want to review this ticket?",
    "created_at": "2010-10-02T19:57:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-64328",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:6'>Comment 6:</a>
hivert: do you want to review this ticket?



---

archive/issue_events_091928.json:
```json
{
    "actor": "https://github.com/hivert",
    "created_at": "2011-04-04T17:24:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-91928"
}
```



---

archive/issue_events_091929.json:
```json
{
    "actor": "https://github.com/hivert",
    "created_at": "2011-04-04T17:24:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-91929"
}
```



---

archive/issue_comments_064329.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\n> hivert: do you want to review this ticket?\n\nSure ! I completely forgot about this one. Sorry !\n\nThey are a few place where we should remove the bad implementation using `__repr__` since they all inherits from `CategoryObject`: \n\n```\npopcorn-*ge-combinat/sage $ grep \"hash(self.__repr__())\" **/*.py*\ngroups/group.pyx:        return hash(self.__repr__())\nmodules/module.pyx:        return hash(self.__repr__())\nmodules/module.pyx:        return hash(self.__repr__())\nrings/polynomial/multi_polynomial_libsingular.pyx:        return hash(self.__repr__())\nrings/ring.pyx:        return hash(self.__repr__())\nstructure/sage_object.pyx:        return hash(self.__repr__())\n```\nI don't have time to do it right now. I'll do it soon if you don't beat me.",
    "created_at": "2011-04-04T17:24:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-64329",
    "user": "https://github.com/hivert"
}
```

<a id='comment:7'>Comment 7:</a>
> hivert: do you want to review this ticket?

Sure ! I completely forgot about this one. Sorry !

They are a few place where we should remove the bad implementation using `__repr__` since they all inherits from `CategoryObject`: 

```
popcorn-*ge-combinat/sage $ grep "hash(self.__repr__())" **/*.py*
groups/group.pyx:        return hash(self.__repr__())
modules/module.pyx:        return hash(self.__repr__())
modules/module.pyx:        return hash(self.__repr__())
rings/polynomial/multi_polynomial_libsingular.pyx:        return hash(self.__repr__())
rings/ring.pyx:        return hash(self.__repr__())
structure/sage_object.pyx:        return hash(self.__repr__())
```
I don't have time to do it right now. I'll do it soon if you don't beat me.



---

archive/issue_comments_064330.json:
```json
{
    "body": "Reviewer: **Florent Hivert**",
    "created_at": "2011-04-04T17:24:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-64330",
    "user": "https://github.com/hivert"
}
```

Reviewer: **Florent Hivert**



---

archive/issue_events_091930.json:
```json
{
    "actor": "https://github.com/hivert",
    "created_at": "2011-04-04T18:48:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-91930"
}
```



---

archive/issue_events_091931.json:
```json
{
    "actor": "https://github.com/hivert",
    "created_at": "2011-04-04T18:48:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-91931"
}
```



---

archive/issue_comments_064331.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\n> They are a few place where we should remove the bad implementation using\n> `__repr__` since they all inherits from `CategoryObject`:\n\nI just added a review patch which removes the wrong hash methods.\n\nPlease review. I'm ok with the original patch, so if my review patch is ok\nyou can put a positive review on my behalf.",
    "created_at": "2011-04-04T18:48:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-64331",
    "user": "https://github.com/hivert"
}
```

<a id='comment:8'>Comment 8:</a>
> They are a few place where we should remove the bad implementation using
> `__repr__` since they all inherits from `CategoryObject`:

I just added a review patch which removes the wrong hash methods.

Please review. I'm ok with the original patch, so if my review patch is ok
you can put a positive review on my behalf.



---

archive/issue_comments_064332.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -8,3 +8,8 @@\n sage: hash(bla)\n 2314052222105390764\n ```\n+\n+**Apply:**\n+1. [attachment: 8119-parent-hash.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash.patch.gz)\n+2. [attachment: 8119-parent-hash-review.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-review.patch.gz)\n+\n``````\n",
    "created_at": "2011-04-04T18:48:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-64332",
    "user": "https://github.com/hivert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -8,3 +8,8 @@
 sage: hash(bla)
 2314052222105390764
 ```
+
+**Apply:**
+1. [attachment: 8119-parent-hash.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash.patch.gz)
+2. [attachment: 8119-parent-hash-review.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-review.patch.gz)
+
``````




---

archive/issue_comments_064333.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nAttachment: **[8119-parent-hash-review.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-review.patch.gz)**\n\nFlorent's review patch looks good. However ``consistant* should be written ``consistent* in the first patch. I also did not yet set a positive review because of the ongoing discussion on sage-devel. Please feel free to go ahead and set a positive review once the typo is fixed and if it is decided that the PolynomialRing issue shall be fixed in a follow up patch.\n\nCheers,\n                                   Nicolas",
    "created_at": "2011-04-21T01:45:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-64333",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:9'>Comment 9:</a>
Attachment: **[8119-parent-hash-review.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-review.patch.gz)**

Florent's review patch looks good. However ``consistant* should be written ``consistent* in the first patch. I also did not yet set a positive review because of the ongoing discussion on sage-devel. Please feel free to go ahead and set a positive review once the typo is fixed and if it is decided that the PolynomialRing issue shall be fixed in a follow up patch.

Cheers,
                                   Nicolas



---

archive/issue_comments_064334.json:
```json
{
    "body": "Author: **Robert Bradshaw**",
    "created_at": "2011-04-21T01:45:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-64334",
    "user": "https://github.com/nthiery"
}
```

Author: **Robert Bradshaw**



---

archive/issue_events_091932.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2011-04-21T01:45:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-91932"
}
```



---

archive/issue_events_091933.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2011-04-21T01:45:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-91933"
}
```



---

archive/issue_comments_064335.json:
```json
{
    "body": "Changed reviewer from **Florent Hivert** to **Florent Hivert, Nicolas M. Thi\u00e9ry**",
    "created_at": "2011-04-21T01:45:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-64335",
    "user": "https://github.com/nthiery"
}
```

Changed reviewer from **Florent Hivert** to **Florent Hivert, Nicolas M. Thiéry**



---

archive/issue_events_091934.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2011-04-21T09:27:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-91934"
}
```



---

archive/issue_events_091935.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2011-04-21T09:27:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-91935"
}
```



---

archive/issue_comments_064336.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nAttachment: **[8119-parent-hash.2.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash.2.patch.gz)**\n\nFixed the typo, I don't think the issue with sparse PolynomialRing #11231 should hold this ticket up any longer (it's had a patch sitting on it for over a year...)",
    "created_at": "2011-04-21T09:27:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-64336",
    "user": "https://github.com/robertwb"
}
```

<a id='comment:10'>Comment 10:</a>
Attachment: **[8119-parent-hash.2.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash.2.patch.gz)**

Fixed the typo, I don't think the issue with sparse PolynomialRing #11231 should hold this ticket up any longer (it's had a patch sitting on it for over a year...)



---

archive/issue_comments_064337.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -10,6 +10,6 @@\n ```\n \n **Apply:**\n-1. [attachment: 8119-parent-hash.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash.patch.gz)\n+1. [attachment: 8119-parent-hash.2.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash.2.patch.gz)\n 2. [attachment: 8119-parent-hash-review.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-review.patch.gz)\n \n``````\n",
    "created_at": "2011-04-21T19:36:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-64337",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -10,6 +10,6 @@
 ```
 
 **Apply:**
-1. [attachment: 8119-parent-hash.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash.patch.gz)
+1. [attachment: 8119-parent-hash.2.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash.2.patch.gz)
 2. [attachment: 8119-parent-hash-review.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-review.patch.gz)
 
``````




---

archive/issue_comments_064338.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nI'm assuming the \"apply\" should be changed...",
    "created_at": "2011-04-21T19:36:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-64338",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:11'>Comment 11:</a>
I'm assuming the "apply" should be changed...



---

archive/issue_events_091936.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-04-21T19:36:29Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "milestone_number": null,
    "milestone_title": "sage-4.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-91936"
}
```



---

archive/issue_events_091937.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-04-21T19:36:29Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "milestone_number": null,
    "milestone_title": "sage-4.7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-91937"
}
```



---

archive/issue_events_091938.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-04-22T19:38:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-91938"
}
```



---

archive/issue_events_091939.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-04-22T19:38:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-91939"
}
```



---

archive/issue_comments_064339.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nPlease change the commit message of [attachment: 8119-parent-hash.2.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash.2.patch.gz) (use hg qrefresh -e for that).",
    "created_at": "2011-04-22T19:38:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-64339",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:12'>Comment 12:</a>
Please change the commit message of [attachment: 8119-parent-hash.2.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash.2.patch.gz) (use hg qrefresh -e for that).



---

archive/issue_events_091940.json:
```json
{
    "actor": "https://github.com/hivert",
    "created_at": "2011-04-23T10:47:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-91940"
}
```



---

archive/issue_events_091941.json:
```json
{
    "actor": "https://github.com/hivert",
    "created_at": "2011-04-23T10:47:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-91941"
}
```



---

archive/issue_comments_064340.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nAttachment: **[8119-parent-hash.3.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash.3.patch.gz)**\n\nI just re-uploaded roberts patch with a correct log message. I'm not sure I'm allowed to put a positive review though. \n\nFlorent",
    "created_at": "2011-04-23T10:47:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-64340",
    "user": "https://github.com/hivert"
}
```

<a id='comment:13'>Comment 13:</a>
Attachment: **[8119-parent-hash.3.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash.3.patch.gz)**

I just re-uploaded roberts patch with a correct log message. I'm not sure I'm allowed to put a positive review though. 

Florent



---

archive/issue_comments_064341.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -10,6 +10,6 @@\n ```\n \n **Apply:**\n-1. [attachment: 8119-parent-hash.2.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash.2.patch.gz)\n+1. [attachment: 8119-parent-hash.3.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash.3.patch.gz)\n 2. [attachment: 8119-parent-hash-review.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-review.patch.gz)\n \n``````\n",
    "created_at": "2011-04-23T10:47:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-64341",
    "user": "https://github.com/hivert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -10,6 +10,6 @@
 ```
 
 **Apply:**
-1. [attachment: 8119-parent-hash.2.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash.2.patch.gz)
+1. [attachment: 8119-parent-hash.3.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash.3.patch.gz)
 2. [attachment: 8119-parent-hash-review.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-review.patch.gz)
 
``````




---

archive/issue_comments_064342.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nBonjour Florent!\n\nI am not sure the log message for 8119-parent-hash-review.patch is proper. While you are at it, I'd suggest to just fold it in the other patch. The review history does not bring much information here, so having a single patch will give a better overview to the future reader.\n\nI'll set a positive review right after.",
    "created_at": "2011-04-23T13:12:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-64342",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:14'>Comment 14:</a>
Bonjour Florent!

I am not sure the log message for 8119-parent-hash-review.patch is proper. While you are at it, I'd suggest to just fold it in the other patch. The review history does not bring much information here, so having a single patch will give a better overview to the future reader.

I'll set a positive review right after.



---

archive/issue_events_091942.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2011-04-23T13:12:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-91942"
}
```



---

archive/issue_events_091943.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2011-04-23T13:12:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-91943"
}
```



---

archive/issue_comments_064343.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -9,7 +9,6 @@\n 2314052222105390764\n ```\n \n-**Apply:**\n-1. [attachment: 8119-parent-hash.3.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash.3.patch.gz)\n-2. [attachment: 8119-parent-hash-review.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-review.patch.gz)\n+**Apply Only:**\n+1. [attachment: 8119-parent-hash-final.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-final.patch.gz)\n \n``````\n",
    "created_at": "2011-04-23T13:47:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-64343",
    "user": "https://github.com/hivert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -9,7 +9,6 @@
 2314052222105390764
 ```
 
-**Apply:**
-1. [attachment: 8119-parent-hash.3.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash.3.patch.gz)
-2. [attachment: 8119-parent-hash-review.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-review.patch.gz)
+**Apply Only:**
+1. [attachment: 8119-parent-hash-final.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-final.patch.gz)
 
``````




---

archive/issue_comments_064344.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\n> I'd suggest to just fold it in the other patch.\n\nDone.",
    "created_at": "2011-04-23T13:47:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-64344",
    "user": "https://github.com/hivert"
}
```

<a id='comment:15'>Comment 15:</a>
> I'd suggest to just fold it in the other patch.

Done.



---

archive/issue_events_091944.json:
```json
{
    "actor": "https://github.com/hivert",
    "created_at": "2011-04-23T13:48:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-91944"
}
```



---

archive/issue_events_091945.json:
```json
{
    "actor": "https://github.com/hivert",
    "created_at": "2011-04-23T13:48:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-91945"
}
```



---

archive/issue_comments_064345.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nThanks!\n\nIt seems the buildbot is getting confused about which patch to apply though.",
    "created_at": "2011-04-23T15:18:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-64345",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:17'>Comment 17:</a>
Thanks!

It seems the buildbot is getting confused about which patch to apply though.



---

archive/issue_events_091946.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2011-04-23T15:18:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-91946"
}
```



---

archive/issue_events_091947.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2011-04-23T15:18:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-91947"
}
```



---

archive/issue_comments_064346.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nApply 8119-parent-hash-final.patch\n\nGranted, the patchbot doesn't bother testing positively reviewed tickets (not that anything it's concerned with changed). Thanks for getting to this for me.",
    "created_at": "2011-04-24T05:05:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-64346",
    "user": "https://github.com/robertwb"
}
```

<a id='comment:18'>Comment 18:</a>
Apply 8119-parent-hash-final.patch

Granted, the patchbot doesn't bother testing positively reviewed tickets (not that anything it's concerned with changed). Thanks for getting to this for me.



---

archive/issue_comments_064347.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nSome of these doctests should be differentiated on 32-bit systems (in particular, all the results of `hash()`).",
    "created_at": "2011-05-03T08:46:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-64347",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:19'>Comment 19:</a>
Some of these doctests should be differentiated on 32-bit systems (in particular, all the results of `hash()`).



---

archive/issue_events_091948.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-05-03T08:46:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-91948"
}
```



---

archive/issue_events_091949.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-05-03T08:46:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-91949"
}
```



---

archive/issue_comments_064348.json:
```json
{
    "body": "Work Issues: **fix on 32-bit**",
    "created_at": "2011-05-03T08:46:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-64348",
    "user": "https://github.com/jdemeyer"
}
```

Work Issues: **fix on 32-bit**



---

archive/issue_comments_064349.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\n*bump*",
    "created_at": "2011-05-19T08:31:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-64349",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:20'>Comment 20:</a>
*bump*



---

archive/issue_comments_064350.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -10,5 +10,5 @@\n ```\n \n **Apply Only:**\n-1. [attachment: 8119-parent-hash-final.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-final.patch.gz)\n+1. [attachment: 8119-parent-hash-final-fix32.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-final-fix32.patch.gz)\n \n``````\n",
    "created_at": "2012-03-29T14:48:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-64350",
    "user": "https://github.com/sagetrac-nborie"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -10,5 +10,5 @@
 ```
 
 **Apply Only:**
-1. [attachment: 8119-parent-hash-final.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-final.patch.gz)
+1. [attachment: 8119-parent-hash-final-fix32.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-final-fix32.patch.gz)
 
``````




---

archive/issue_events_091950.json:
```json
{
    "actor": "https://github.com/sagetrac-nborie",
    "created_at": "2012-03-29T14:48:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-91950"
}
```



---

archive/issue_events_091951.json:
```json
{
    "actor": "https://github.com/sagetrac-nborie",
    "created_at": "2012-03-29T14:48:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-91951"
}
```



---

archive/issue_events_091952.json:
```json
{
    "actor": "https://github.com/hivert",
    "created_at": "2012-03-29T14:54:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-91952"
}
```



---

archive/issue_events_091953.json:
```json
{
    "actor": "https://github.com/hivert",
    "created_at": "2012-03-29T14:54:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-91953"
}
```



---

archive/issue_comments_064351.json:
```json
{
    "body": "Changed work issues from **fix on 32-bit** to none",
    "created_at": "2012-03-29T14:54:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-64351",
    "user": "https://github.com/hivert"
}
```

Changed work issues from **fix on 32-bit** to none



---

archive/issue_comments_064352.json:
```json
{
    "body": "Changed reviewer from **Florent Hivert, Nicolas M. Thi\u00e9ry** to **Florent Hivert, Nicolas M. Thi\u00e9ry, Nicolas Borie**",
    "created_at": "2012-03-29T14:54:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-64352",
    "user": "https://github.com/hivert"
}
```

Changed reviewer from **Florent Hivert, Nicolas M. Thiéry** to **Florent Hivert, Nicolas M. Thiéry, Nicolas Borie**



---

archive/issue_comments_064353.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nOn boxen (Linux x86_64), I get:\n\n```\nsage -t  -force_lib devel/sage/sage/structure/category_object.pyx\n**********************************************************************\nFile \"/padic/scratch/jdemeyer/merger/sage-5.0.beta14/devel/sage-main/sage/structure/category_object.pyx\", line 757:\n    sage: hash(bla)\nExpected:\n    -1525918542791298668\nGot:\n    -5279516879544852222\n**********************************************************************\nFile \"/padic/scratch/jdemeyer/merger/sage-5.0.beta14/devel/sage-main/sage/structure/category_object.pyx\", line 761:\n    sage: hash(bla)\nExpected:\n    -1525918542791298668\nGot:\n    -5279516879544852222\n**********************************************************************\n```",
    "created_at": "2012-04-06T06:19:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-64353",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:23'>Comment 23:</a>
On boxen (Linux x86_64), I get:

```
sage -t  -force_lib devel/sage/sage/structure/category_object.pyx
**********************************************************************
File "/padic/scratch/jdemeyer/merger/sage-5.0.beta14/devel/sage-main/sage/structure/category_object.pyx", line 757:
    sage: hash(bla)
Expected:
    -1525918542791298668
Got:
    -5279516879544852222
**********************************************************************
File "/padic/scratch/jdemeyer/merger/sage-5.0.beta14/devel/sage-main/sage/structure/category_object.pyx", line 761:
    sage: hash(bla)
Expected:
    -1525918542791298668
Got:
    -5279516879544852222
**********************************************************************
```



---

archive/issue_events_091954.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-04-06T06:19:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-91954"
}
```



---

archive/issue_events_091955.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-04-06T06:19:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-91955"
}
```



---

archive/issue_comments_064354.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nAttachment: **[8119-parent-hash-final-fix32.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-final-fix32.patch.gz)**\n\nReplying to [@jdemeyer](#comment%3A23):\n> On boxen (Linux x86_64), I get:\n> \n> ```\n> sage -t  -force_lib devel/sage/sage/structure/category_object.pyx\n> **********************************************************************\n> File \"/padic/scratch/jdemeyer/merger/sage-5.0.beta14/devel/sage-main/sage/structure/category_object.pyx\", line 757:\n>     sage: hash(bla)\n> Expected:\n>     -1525918542791298668\n> Got:\n>     -5279516879544852222\n> **********************************************************************\n> File \"/padic/scratch/jdemeyer/merger/sage-5.0.beta14/devel/sage-main/sage/structure/category_object.pyx\", line 761:\n>     sage: hash(bla)\n> Expected:\n>     -1525918542791298668\n> Got:\n>     -5279516879544852222\n> **********************************************************************\n> ```\n\nWeird, I get here the same result as you on boxen, both with 4.8 and 5.0.beta8. I don't know how a wrong return value ended up in the patch. \n\nOh well, I updated the patch to expect the result obtained on boxen.",
    "created_at": "2012-04-06T14:45:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-64354",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:24'>Comment 24:</a>
Attachment: **[8119-parent-hash-final-fix32.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-final-fix32.patch.gz)**

Replying to [@jdemeyer](#comment%3A23):
> On boxen (Linux x86_64), I get:
> 
> ```
> sage -t  -force_lib devel/sage/sage/structure/category_object.pyx
> **********************************************************************
> File "/padic/scratch/jdemeyer/merger/sage-5.0.beta14/devel/sage-main/sage/structure/category_object.pyx", line 757:
>     sage: hash(bla)
> Expected:
>     -1525918542791298668
> Got:
>     -5279516879544852222
> **********************************************************************
> File "/padic/scratch/jdemeyer/merger/sage-5.0.beta14/devel/sage-main/sage/structure/category_object.pyx", line 761:
>     sage: hash(bla)
> Expected:
>     -1525918542791298668
> Got:
>     -5279516879544852222
> **********************************************************************
> ```

Weird, I get here the same result as you on boxen, both with 4.8 and 5.0.beta8. I don't know how a wrong return value ended up in the patch. 

Oh well, I updated the patch to expect the result obtained on boxen.



---

archive/issue_events_091956.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2012-04-06T14:51:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-91956"
}
```



---

archive/issue_events_091957.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2012-04-06T14:51:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-91957"
}
```



---

archive/issue_comments_064355.json:
```json
{
    "body": "<a id='comment:26'>Comment 26:</a>\nApply 8119-parent-hash-final-fix32.patch\n\n(for patchbot)",
    "created_at": "2012-04-07T12:04:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-64355",
    "user": "https://github.com/loefflerd"
}
```

<a id='comment:26'>Comment 26:</a>
Apply 8119-parent-hash-final-fix32.patch

(for patchbot)



---

archive/issue_comments_064356.json:
```json
{
    "body": "Attachment: **[8119-parent-hash-final.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-final.patch.gz)**",
    "created_at": "2012-04-26T22:17:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-64356",
    "user": "https://github.com/hivert"
}
```

Attachment: **[8119-parent-hash-final.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-final.patch.gz)**



---

archive/issue_events_091958.json:
```json
{
    "actor": "https://github.com/hivert",
    "created_at": "2012-04-26T22:21:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-91958"
}
```



---

archive/issue_events_091959.json:
```json
{
    "actor": "https://github.com/hivert",
    "created_at": "2012-04-26T22:21:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-91959"
}
```



---

archive/issue_comments_064357.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -10,5 +10,5 @@\n ```\n \n **Apply Only:**\n-1. [attachment: 8119-parent-hash-final-fix32.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-final-fix32.patch.gz)\n+1. [attachment: 8119-parent-hash-final.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-final.patch.gz)\n \n``````\n",
    "created_at": "2012-04-26T22:21:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-64357",
    "user": "https://github.com/hivert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -10,5 +10,5 @@
 ```
 
 **Apply Only:**
-1. [attachment: 8119-parent-hash-final-fix32.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-final-fix32.patch.gz)
+1. [attachment: 8119-parent-hash-final.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-final.patch.gz)
 
``````




---

archive/issue_comments_064358.json:
```json
{
    "body": "<a id='comment:28'>Comment 28:</a>\nHi there,\n\nI'm setting a positive review here but I uploaded a new patch removing a\ntrailling whitespace which bothered the patchbot. The only difference between\n[attachment: 8119-parent-hash-final-fix32.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-final-fix32.patch.gz) and\n[attachment: 8119-parent-hash-final.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-final.patch.gz) is the trailling space (and of course\nMercurials header), so I don't think a new review is needed.\n\nFlorent",
    "created_at": "2012-04-26T22:21:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-64358",
    "user": "https://github.com/hivert"
}
```

<a id='comment:28'>Comment 28:</a>
Hi there,

I'm setting a positive review here but I uploaded a new patch removing a
trailling whitespace which bothered the patchbot. The only difference between
[attachment: 8119-parent-hash-final-fix32.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-final-fix32.patch.gz) and
[attachment: 8119-parent-hash-final.patch.gz](https://github.com/sagemath/sage/files/ticket8119/8119-parent-hash-final.patch.gz) is the trailling space (and of course
Mercurials header), so I don't think a new review is needed.

Florent



---

archive/issue_comments_064359.json:
```json
{
    "body": "<a id='comment:29'>Comment 29:</a>\nThanks for the final review!",
    "created_at": "2012-04-27T17:43:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-64359",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:29'>Comment 29:</a>
Thanks for the final review!



---

archive/issue_comments_064360.json:
```json
{
    "body": "Merged: **sage-5.0.rc0**",
    "created_at": "2012-04-30T09:51:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8119#issuecomment-64360",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-5.0.rc0**



---

archive/issue_events_091960.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-04-30T09:51:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-91960"
}
```



---

archive/issue_events_091961.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-04-30T09:51:35Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/8119",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8119#event-91961"
}
```
