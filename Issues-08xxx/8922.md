# Issue 8922: induced subgraph search

archive/issues_008922.json:
```json
{
    "assignees": [
        "https://github.com/jasongrout",
        "https://github.com/nathanncohen",
        "https://github.com/rlmill"
    ],
    "body": "This patch add to Sage the method Graph.induced_subgraph_search which looks for a given graph as an induced subgraph of \"self\".\n\nThis is done through exhaustive search, using a very basic new graph class hand-made to efficiently stand such repetitive operations !\n\nI tried to document the code so that it could be somewhat easy to review, but feel free to ask any question about it ! :-)\n\n**Apply:**\n\n1. #7529\n2. [trac_8922.patch](https://github.com/sagemath/sage/files/ticket8922/trac_8922.patch.gz)\n3. [trac_8922-reviewer.patch](https://github.com/sagemath/sage/files/ticket8922/trac_8922-reviewer.patch.gz)\n\nComponent: **graph theory**\n\nAuthor: **Nathann Cohen**\n\nReviewer: **Minh Van Nguyen**\n\nMerged: **sage-4.4.4.alpha0**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/8922_\n\n",
    "closed_at": "2010-06-06T07:14:21Z",
    "created_at": "2010-05-07T18:58:33Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
        "https://github.com/sagemath/sage/labels/p%3A%202%20%E2%80%93%20critical",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.4.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "induced subgraph search",
    "type": "issue",
    "updated_at": "2010-06-06T07:14:21Z",
    "url": "https://github.com/sagemath/sage/issues/8922",
    "user": "https://github.com/nathanncohen"
}
```
This patch add to Sage the method Graph.induced_subgraph_search which looks for a given graph as an induced subgraph of "self".

This is done through exhaustive search, using a very basic new graph class hand-made to efficiently stand such repetitive operations !

I tried to document the code so that it could be somewhat easy to review, but feel free to ask any question about it ! :-)

**Apply:**

1. #7529
2. [trac_8922.patch](https://github.com/sagemath/sage/files/ticket8922/trac_8922.patch.gz)
3. [trac_8922-reviewer.patch](https://github.com/sagemath/sage/files/ticket8922/trac_8922-reviewer.patch.gz)

Component: **graph theory**

Author: **Nathann Cohen**

Reviewer: **Minh Van Nguyen**

Merged: **sage-4.4.4.alpha0**

_Issue created by migration from https://trac.sagemath.org/ticket/8922_





---

archive/issue_events_113618.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2010-05-07T18:58:33Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/8922",
    "milestone_number": null,
    "milestone_title": "sage-4.4.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8922#event-113618"
}
```



---

archive/issue_events_113619.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2010-05-07T18:58:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8922",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
    "label_color": "eeeeee",
    "label_name": "c: graph theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8922#event-113619"
}
```



---

archive/issue_events_113620.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2010-05-07T18:58:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8922",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8922#event-113620"
}
```



---

archive/issue_events_113621.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2010-05-07T18:58:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8922",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8922#event-113621"
}
```



---

archive/issue_events_113622.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2010-05-07T18:58:33Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/8922",
    "subject": "https://github.com/nathanncohen",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8922#event-113622"
}
```



---

archive/issue_events_113623.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2010-05-07T18:58:33Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/8922",
    "subject": "https://github.com/nathanncohen",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8922#event-113623"
}
```



---

archive/issue_events_113624.json:
```json
{
    "actor": "https://github.com/rlmill",
    "created_at": "2010-05-07T18:58:33Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/8922",
    "subject": "https://github.com/nathanncohen",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8922#event-113624"
}
```



---

archive/issue_events_113625.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2010-05-07T19:01:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8922",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8922#event-113625"
}
```



---

archive/issue_events_113626.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2010-05-20T20:06:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8922",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8922#event-113626"
}
```



---

archive/issue_events_113627.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2010-05-20T20:06:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8922",
    "label": "https://github.com/sagemath/sage/labels/p%3A%202%20%E2%80%93%20critical",
    "label_color": "ff7700",
    "label_name": "p: 2 \u2013 critical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8922#event-113627"
}
```



---

archive/issue_comments_073168.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nUpdated ! Changes :\n\n* it took me some time, but I tested the new graph classes StaticDenseGraph this patch introduced against the already implemented DenseGraph.... Which turned out to be more efficient.. So this new class has disappeared, and the new code is now written into the usual Sage files instead of new ones\n\n* a -- very nasty -- memory leak -- now fixed\n\n* add functions to test for induced as well as non-induced subgraphs, as it is the same.. Also works with DiGraphs, by the way !\n\nAnd once this patch will be merged into Sage... I will have many other things to write on top of it :-)\n\nNathann",
    "created_at": "2010-05-25T23:39:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8922#issuecomment-73168",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:3" align="right">comment:3</div>

Updated ! Changes :

* it took me some time, but I tested the new graph classes StaticDenseGraph this patch introduced against the already implemented DenseGraph.... Which turned out to be more efficient.. So this new class has disappeared, and the new code is now written into the usual Sage files instead of new ones

* a -- very nasty -- memory leak -- now fixed

* add functions to test for induced as well as non-induced subgraphs, as it is the same.. Also works with DiGraphs, by the way !

And once this patch will be merged into Sage... I will have many other things to write on top of it :-)

Nathann



---

archive/issue_comments_073169.json:
```json
{
    "body": "Author: **Nathann Cohen**",
    "created_at": "2010-05-26T00:05:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8922#issuecomment-73169",
    "user": "https://github.com/sagetrac-mvngu"
}
```

Author: **Nathann Cohen**



---

archive/issue_comments_073170.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nReplying to [@nathanncohen](#comment:3):\n> * it took me some time, but I tested the new graph classes StaticDenseGraph this patch introduced against the already implemented DenseGraph.... Which turned out to be more efficient.. So this new class has disappeared, and the new code is now written into the usual Sage files instead of new ones\n\nI have been reviewing your previous patch for over two days and went the same route as you have done in your current patch. That is, I rewrote your StaticDenseGraph to use the C graph based DenseGraph class, as it is very efficient in terms of storage. The reason why I have not uploaded my reviewer patch is that I was thinking about and playing with how to make the method `adjacency_list` more efficient in terms of storage. An array of ints is wasteful for the intended purpose, when a bitset is more suited to the purpose. What has been bugging me is trying to get my bitset implementation of `adjacency_list` to compile and work.\n\n\n\n\n> * a -- very nasty -- memory leak -- now fixed\n\nAgain, I went the same route in my reviewer patch.\n\n\n\n\n\n> * add functions to test for induced as well as non-induced subgraphs, as it is the same.. Also works with DiGraphs, by the way !\n\nAgain, I went the same route in my reviewer patch.\n\n\n\n\nSeems like you anticipated my changes. Anyway, I'll have a careful look at your updated patch.",
    "created_at": "2010-05-26T00:05:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8922#issuecomment-73170",
    "user": "https://github.com/sagetrac-mvngu"
}
```

<div id="comment:4" align="right">comment:4</div>

Replying to [@nathanncohen](#comment:3):
> * it took me some time, but I tested the new graph classes StaticDenseGraph this patch introduced against the already implemented DenseGraph.... Which turned out to be more efficient.. So this new class has disappeared, and the new code is now written into the usual Sage files instead of new ones

I have been reviewing your previous patch for over two days and went the same route as you have done in your current patch. That is, I rewrote your StaticDenseGraph to use the C graph based DenseGraph class, as it is very efficient in terms of storage. The reason why I have not uploaded my reviewer patch is that I was thinking about and playing with how to make the method `adjacency_list` more efficient in terms of storage. An array of ints is wasteful for the intended purpose, when a bitset is more suited to the purpose. What has been bugging me is trying to get my bitset implementation of `adjacency_list` to compile and work.




> * a -- very nasty -- memory leak -- now fixed

Again, I went the same route in my reviewer patch.





> * add functions to test for induced as well as non-induced subgraphs, as it is the same.. Also works with DiGraphs, by the way !

Again, I went the same route in my reviewer patch.




Seems like you anticipated my changes. Anyway, I'll have a careful look at your updated patch.



---

archive/issue_comments_073171.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nHello !!\n\nWell, first thank you for your work on this patch... I know it's a bit heavy all at once, and I hope the comments were clear enough :-)\n\nAbout the ``adjacency_list`` method : I was more worried about speed than storage, but anyway DenseGraph were faster than my matrix of integers..  Don't you think working on integers as it is done inside of DenseGraph could be more efficient than it currently is ? I have never used operations such as << and >> as it is done in DenseGraph, but I thought it would be the next step if one wanted to improve the speed for a bit. I'll trust you on this one !\n\nI also took some notes for future improvements... For example several tricks to reduce the number of attempts, or the initial graph, but I intended to wait for this patch to be merged before adding them. It will be easier to read in another one anyway :-)\n\nThank you again\n\nNathann",
    "created_at": "2010-05-26T04:31:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8922#issuecomment-73171",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:5" align="right">comment:5</div>

Hello !!

Well, first thank you for your work on this patch... I know it's a bit heavy all at once, and I hope the comments were clear enough :-)

About the ``adjacency_list`` method : I was more worried about speed than storage, but anyway DenseGraph were faster than my matrix of integers..  Don't you think working on integers as it is done inside of DenseGraph could be more efficient than it currently is ? I have never used operations such as << and >> as it is done in DenseGraph, but I thought it would be the next step if one wanted to improve the speed for a bit. I'll trust you on this one !

I also took some notes for future improvements... For example several tricks to reduce the number of attempts, or the initial graph, but I intended to wait for this patch to be merged before adding them. It will be easier to read in another one anyway :-)

Thank you again

Nathann



---

archive/issue_comments_073172.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,4 +4,7 @@\n \n I tried to document the code so that it could be somewhat easy to review, but feel free to ask any question about it ! :-)\n \n-Nathann\n+**Apply:**\n+\n+1. #7529\n+2. [trac_8922.patch](https://github.com/sagemath/sage/files/ticket8922/trac_8922.patch.gz)\n``````\n",
    "created_at": "2010-05-29T11:23:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8922#issuecomment-73172",
    "user": "https://github.com/sagetrac-mvngu"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,4 +4,7 @@
 
 I tried to document the code so that it could be somewhat easy to review, but feel free to ask any question about it ! :-)
 
-Nathann
+**Apply:**
+
+1. #7529
+2. [trac_8922.patch](https://github.com/sagemath/sage/files/ticket8922/trac_8922.patch.gz)
``````




---

archive/issue_comments_073173.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nI applied patches in the order suggested in the ticket description. Running doctests on the whole graph theory module resulted in these failures. This failure results from ncohen's updated patch, which does not update the doctests:\n\n```\nsage -t -long \"devel/sage-main/sage/graphs/generic_graph_pyx.pyx\"\n**********************************************************************\nFile \"/dev/shm/mvngu/sandbox/sage-4.4.3.alpha0.sandbox0/devel/sage-main/sage/graphs/generic_graph_pyx.pyx\", line 491:\n    sage: from sage.graphs.induced_subgraphs.induced_subgraphs import find_induced\nException raised:\n    Traceback (most recent call last):\n      File \"/dev/shm/mvngu/sandbox/sage-4.4.3.alpha0.sandbox0/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/dev/shm/mvngu/sandbox/sage-4.4.3.alpha0.sandbox0/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/dev/shm/mvngu/sandbox/sage-4.4.3.alpha0.sandbox0/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_10[2]>\", line 1, in <module>\n        from sage.graphs.induced_subgraphs.induced_subgraphs import find_induced###line 491:\n    sage: from sage.graphs.induced_subgraphs.induced_subgraphs import find_induced\n    ImportError: No module named induced_subgraphs.induced_subgraphs\n**********************************************************************\nFile \"/dev/shm/mvngu/sandbox/sage-4.4.3.alpha0.sandbox0/devel/sage-main/sage/graphs/generic_graph_pyx.pyx\", line 492:\n    sage: find_induced(graphs.PetersenGraph(), graphs.PathGraph(5))\nException raised:\n    Traceback (most recent call last):\n      File \"/dev/shm/mvngu/sandbox/sage-4.4.3.alpha0.sandbox0/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/dev/shm/mvngu/sandbox/sage-4.4.3.alpha0.sandbox0/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/dev/shm/mvngu/sandbox/sage-4.4.3.alpha0.sandbox0/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_10[3]>\", line 1, in <module>\n        find_induced(graphs.PetersenGraph(), graphs.PathGraph(Integer(5)))###line 492:\n    sage: find_induced(graphs.PetersenGraph(), graphs.PathGraph(5))\n    NameError: name 'find_induced' is not defined\n**********************************************************************\nFile \"/dev/shm/mvngu/sandbox/sage-4.4.3.alpha0.sandbox0/devel/sage-main/sage/graphs/generic_graph_pyx.pyx\", line 497:\n    sage: find_induced(graphs.PetersenGraph(), graphs.ClawGraph())\nException raised:\n    Traceback (most recent call last):\n      File \"/dev/shm/mvngu/sandbox/sage-4.4.3.alpha0.sandbox0/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/dev/shm/mvngu/sandbox/sage-4.4.3.alpha0.sandbox0/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/dev/shm/mvngu/sandbox/sage-4.4.3.alpha0.sandbox0/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_10[4]>\", line 1, in <module>\n        find_induced(graphs.PetersenGraph(), graphs.ClawGraph())###line 497:\n    sage: find_induced(graphs.PetersenGraph(), graphs.ClawGraph())\n    NameError: name 'find_induced' is not defined\n**********************************************************************\nFile \"/dev/shm/mvngu/sandbox/sage-4.4.3.alpha0.sandbox0/devel/sage-main/sage/graphs/generic_graph_pyx.pyx\", line 502:\n    sage: find_induced(graphs.PetersenGraph(), graphs.PathGraph(6))\nException raised:\n    Traceback (most recent call last):\n      File \"/dev/shm/mvngu/sandbox/sage-4.4.3.alpha0.sandbox0/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/dev/shm/mvngu/sandbox/sage-4.4.3.alpha0.sandbox0/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/dev/shm/mvngu/sandbox/sage-4.4.3.alpha0.sandbox0/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_10[5]>\", line 1, in <module>\n        find_induced(graphs.PetersenGraph(), graphs.PathGraph(Integer(6)))###line 502:\n    sage: find_induced(graphs.PetersenGraph(), graphs.PathGraph(6))\n    NameError: name 'find_induced' is not defined\n```\n\nThis is a known failure:\n\n```\nsage -t -long \"devel/sage-main/sage/graphs/generic_graph.py\"\n**********************************************************************\nFile \"/dev/shm/mvngu/sandbox/sage-4.4.3.alpha0.sandbox0/devel/sage-main/sage/graphs/generic_graph.py\", line 10754:\n    sage: print G.graphviz_string(labels=\"latex\",edge_labels=True)\nExpected:\n    digraph {\n      node [shape=\"plaintext\"];\n      \"2/3\" [label=\" \", texlbl=\"$\\frac{2}{3}$\"];\n      \"1/3\" [label=\" \", texlbl=\"$\\frac{1}{3}$\"];\n      \"1/2\" [label=\" \", texlbl=\"$\\frac{1}{2}$\"];\n      \"1\" [label=\" \", texlbl=\"$1$\"];\n      \"1/4\" [label=\" \", texlbl=\"$\\frac{1}{4}$\"];\n      \"4/5\" [label=\" \", texlbl=\"$\\frac{4}{5}$\"];\n      \"-4\" [label=\" \", texlbl=\"$-4$\"];\n      \"2\" [label=\" \", texlbl=\"$2$\"];\n      \"-2\" [label=\" \", texlbl=\"$-2$\"];\n      \"-1/2\" [label=\" \", texlbl=\"$-\\frac{1}{2}$\"];\n      \"-1\" [label=\" \", texlbl=\"$-1$\"];\n    <BLANKLINE>\n      \"1/2\" -> \"-2\" [label=\" \", texlbl=\"$x \\ {\\mapsto}\\ \\frac{-1}{x}$\"];\n      \"1/2\" -> \"2/3\" [label=\" \", texlbl=\"$x \\ {\\mapsto}\\ \\frac{1}{x + 1}$\"];\n      \"1\" -> \"-1\" [label=\" \", texlbl=\"$x \\ {\\mapsto}\\ \\frac{-1}{x}$\"];\n      \"1\" -> \"1/2\" [label=\" \", texlbl=\"$x \\ {\\mapsto}\\ \\frac{1}{x + 1}$\"];\n      \"1/4\" -> \"-4\" [label=\" \", texlbl=\"$x \\ {\\mapsto}\\ \\frac{-1}{x}$\"];\n      \"1/4\" -> \"4/5\" [label=\" \", texlbl=\"$x \\ {\\mapsto}\\ \\frac{1}{x + 1}$\"];\n      \"2\" -> \"-1/2\" [label=\" \", texlbl=\"$x \\ {\\mapsto}\\ \\frac{-1}{x}$\"];\n      \"2\" -> \"1/3\" [label=\" \", texlbl=\"$x \\ {\\mapsto}\\ \\frac{1}{x + 1}$\"];\n    }\nGot:\n    digraph {\n      node [shape=\"plaintext\"];\n      \"2/3\" [label=\" \", texlbl=\"$\\frac{2}{3}$\"];\n      \"1/3\" [label=\" \", texlbl=\"$\\frac{1}{3}$\"];\n      \"1/2\" [label=\" \", texlbl=\"$\\frac{1}{2}$\"];\n      \"1\" [label=\" \", texlbl=\"$1$\"];\n      \"1/4\" [label=\" \", texlbl=\"$\\frac{1}{4}$\"];\n      \"4/5\" [label=\" \", texlbl=\"$\\frac{4}{5}$\"];\n      \"-4\" [label=\" \", texlbl=\"$-4$\"];\n      \"2\" [label=\" \", texlbl=\"$2$\"];\n      \"-2\" [label=\" \", texlbl=\"$-2$\"];\n      \"-1/2\" [label=\" \", texlbl=\"$-\\frac{1}{2}$\"];\n      \"-1\" [label=\" \", texlbl=\"$-1$\"];\n    <BLANKLINE>\n      \"1/2\" -> \"-2\" [label=\" \", texlbl=\"$x \\ {\\mapsto}\\ \\frac{1}{x}$\"];\n      \"1/2\" -> \"2/3\" [label=\" \", texlbl=\"$x \\ {\\mapsto}\\ \\frac{1}{x + 1}$\"];\n      \"1\" -> \"-1\" [label=\" \", texlbl=\"$x \\ {\\mapsto}\\ \\frac{1}{x}$\"];\n      \"1\" -> \"1/2\" [label=\" \", texlbl=\"$x \\ {\\mapsto}\\ \\frac{1}{x + 1}$\"];\n      \"1/4\" -> \"-4\" [label=\" \", texlbl=\"$x \\ {\\mapsto}\\ \\frac{1}{x}$\"];\n      \"1/4\" -> \"4/5\" [label=\" \", texlbl=\"$x \\ {\\mapsto}\\ \\frac{1}{x + 1}$\"];\n      \"2\" -> \"-1/2\" [label=\" \", texlbl=\"$x \\ {\\mapsto}\\ \\frac{1}{x}$\"];\n      \"2\" -> \"1/3\" [label=\" \", texlbl=\"$x \\ {\\mapsto}\\ \\frac{1}{x + 1}$\"];\n    }\n```\n\nThis one should be optional, I think, and results from #8166:\n\n```\nFile \"/dev/shm/mvngu/sandbox/sage-4.4.3.alpha0.sandbox0/devel/sage-main/sage/graphs/generic_graph.py\", line 4213:\n    sage: g.matching(algorithm=\"LP\", value_only=True)\nException raised:\n    Traceback (most recent call last):\n      File \"/dev/shm/mvngu/sandbox/sage-4.4.3.alpha0.sandbox0/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/dev/shm/mvngu/sandbox/sage-4.4.3.alpha0.sandbox0/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/dev/shm/mvngu/sandbox/sage-4.4.3.alpha0.sandbox0/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_70[5]>\", line 1, in <module>\n        g.matching(algorithm=\"LP\", value_only=True)###line 4213:\n    sage: g.matching(algorithm=\"LP\", value_only=True)\n      File \"/dev/shm/mvngu/sandbox/sage-4.4.3.alpha0.sandbox0/local/lib/python/site-packages/sage/graphs/generic_graph.py\", line 4264, in matching\n        return p.solve(objective_only=True, solver=solver, log=verbose)\n      File \"mip.pyx\", line 1051, in sage.numerical.mip.MixedIntegerLinearProgram.solve (sage/numerical/mip.c:7884)\n    ValueError: There does not seem to be any (Mixed) Integer Linear Program solver installed. Please visit http://www.sagemath.org/doc/constructions/linear_programming.html to learn more about the solvers available.\n```",
    "created_at": "2010-06-01T18:49:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8922#issuecomment-73173",
    "user": "https://github.com/sagetrac-mvngu"
}
```

<div id="comment:7" align="right">comment:7</div>

I applied patches in the order suggested in the ticket description. Running doctests on the whole graph theory module resulted in these failures. This failure results from ncohen's updated patch, which does not update the doctests:

```
sage -t -long "devel/sage-main/sage/graphs/generic_graph_pyx.pyx"
**********************************************************************
File "/dev/shm/mvngu/sandbox/sage-4.4.3.alpha0.sandbox0/devel/sage-main/sage/graphs/generic_graph_pyx.pyx", line 491:
    sage: from sage.graphs.induced_subgraphs.induced_subgraphs import find_induced
Exception raised:
    Traceback (most recent call last):
      File "/dev/shm/mvngu/sandbox/sage-4.4.3.alpha0.sandbox0/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/dev/shm/mvngu/sandbox/sage-4.4.3.alpha0.sandbox0/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/dev/shm/mvngu/sandbox/sage-4.4.3.alpha0.sandbox0/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_10[2]>", line 1, in <module>
        from sage.graphs.induced_subgraphs.induced_subgraphs import find_induced###line 491:
    sage: from sage.graphs.induced_subgraphs.induced_subgraphs import find_induced
    ImportError: No module named induced_subgraphs.induced_subgraphs
**********************************************************************
File "/dev/shm/mvngu/sandbox/sage-4.4.3.alpha0.sandbox0/devel/sage-main/sage/graphs/generic_graph_pyx.pyx", line 492:
    sage: find_induced(graphs.PetersenGraph(), graphs.PathGraph(5))
Exception raised:
    Traceback (most recent call last):
      File "/dev/shm/mvngu/sandbox/sage-4.4.3.alpha0.sandbox0/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/dev/shm/mvngu/sandbox/sage-4.4.3.alpha0.sandbox0/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/dev/shm/mvngu/sandbox/sage-4.4.3.alpha0.sandbox0/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_10[3]>", line 1, in <module>
        find_induced(graphs.PetersenGraph(), graphs.PathGraph(Integer(5)))###line 492:
    sage: find_induced(graphs.PetersenGraph(), graphs.PathGraph(5))
    NameError: name 'find_induced' is not defined
**********************************************************************
File "/dev/shm/mvngu/sandbox/sage-4.4.3.alpha0.sandbox0/devel/sage-main/sage/graphs/generic_graph_pyx.pyx", line 497:
    sage: find_induced(graphs.PetersenGraph(), graphs.ClawGraph())
Exception raised:
    Traceback (most recent call last):
      File "/dev/shm/mvngu/sandbox/sage-4.4.3.alpha0.sandbox0/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/dev/shm/mvngu/sandbox/sage-4.4.3.alpha0.sandbox0/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/dev/shm/mvngu/sandbox/sage-4.4.3.alpha0.sandbox0/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_10[4]>", line 1, in <module>
        find_induced(graphs.PetersenGraph(), graphs.ClawGraph())###line 497:
    sage: find_induced(graphs.PetersenGraph(), graphs.ClawGraph())
    NameError: name 'find_induced' is not defined
**********************************************************************
File "/dev/shm/mvngu/sandbox/sage-4.4.3.alpha0.sandbox0/devel/sage-main/sage/graphs/generic_graph_pyx.pyx", line 502:
    sage: find_induced(graphs.PetersenGraph(), graphs.PathGraph(6))
Exception raised:
    Traceback (most recent call last):
      File "/dev/shm/mvngu/sandbox/sage-4.4.3.alpha0.sandbox0/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/dev/shm/mvngu/sandbox/sage-4.4.3.alpha0.sandbox0/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/dev/shm/mvngu/sandbox/sage-4.4.3.alpha0.sandbox0/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_10[5]>", line 1, in <module>
        find_induced(graphs.PetersenGraph(), graphs.PathGraph(Integer(6)))###line 502:
    sage: find_induced(graphs.PetersenGraph(), graphs.PathGraph(6))
    NameError: name 'find_induced' is not defined
```

This is a known failure:

```
sage -t -long "devel/sage-main/sage/graphs/generic_graph.py"
**********************************************************************
File "/dev/shm/mvngu/sandbox/sage-4.4.3.alpha0.sandbox0/devel/sage-main/sage/graphs/generic_graph.py", line 10754:
    sage: print G.graphviz_string(labels="latex",edge_labels=True)
Expected:
    digraph {
      node [shape="plaintext"];
      "2/3" [label=" ", texlbl="$\frac{2}{3}$"];
      "1/3" [label=" ", texlbl="$\frac{1}{3}$"];
      "1/2" [label=" ", texlbl="$\frac{1}{2}$"];
      "1" [label=" ", texlbl="$1$"];
      "1/4" [label=" ", texlbl="$\frac{1}{4}$"];
      "4/5" [label=" ", texlbl="$\frac{4}{5}$"];
      "-4" [label=" ", texlbl="$-4$"];
      "2" [label=" ", texlbl="$2$"];
      "-2" [label=" ", texlbl="$-2$"];
      "-1/2" [label=" ", texlbl="$-\frac{1}{2}$"];
      "-1" [label=" ", texlbl="$-1$"];
    <BLANKLINE>
      "1/2" -> "-2" [label=" ", texlbl="$x \ {\mapsto}\ \frac{-1}{x}$"];
      "1/2" -> "2/3" [label=" ", texlbl="$x \ {\mapsto}\ \frac{1}{x + 1}$"];
      "1" -> "-1" [label=" ", texlbl="$x \ {\mapsto}\ \frac{-1}{x}$"];
      "1" -> "1/2" [label=" ", texlbl="$x \ {\mapsto}\ \frac{1}{x + 1}$"];
      "1/4" -> "-4" [label=" ", texlbl="$x \ {\mapsto}\ \frac{-1}{x}$"];
      "1/4" -> "4/5" [label=" ", texlbl="$x \ {\mapsto}\ \frac{1}{x + 1}$"];
      "2" -> "-1/2" [label=" ", texlbl="$x \ {\mapsto}\ \frac{-1}{x}$"];
      "2" -> "1/3" [label=" ", texlbl="$x \ {\mapsto}\ \frac{1}{x + 1}$"];
    }
Got:
    digraph {
      node [shape="plaintext"];
      "2/3" [label=" ", texlbl="$\frac{2}{3}$"];
      "1/3" [label=" ", texlbl="$\frac{1}{3}$"];
      "1/2" [label=" ", texlbl="$\frac{1}{2}$"];
      "1" [label=" ", texlbl="$1$"];
      "1/4" [label=" ", texlbl="$\frac{1}{4}$"];
      "4/5" [label=" ", texlbl="$\frac{4}{5}$"];
      "-4" [label=" ", texlbl="$-4$"];
      "2" [label=" ", texlbl="$2$"];
      "-2" [label=" ", texlbl="$-2$"];
      "-1/2" [label=" ", texlbl="$-\frac{1}{2}$"];
      "-1" [label=" ", texlbl="$-1$"];
    <BLANKLINE>
      "1/2" -> "-2" [label=" ", texlbl="$x \ {\mapsto}\ \frac{1}{x}$"];
      "1/2" -> "2/3" [label=" ", texlbl="$x \ {\mapsto}\ \frac{1}{x + 1}$"];
      "1" -> "-1" [label=" ", texlbl="$x \ {\mapsto}\ \frac{1}{x}$"];
      "1" -> "1/2" [label=" ", texlbl="$x \ {\mapsto}\ \frac{1}{x + 1}$"];
      "1/4" -> "-4" [label=" ", texlbl="$x \ {\mapsto}\ \frac{1}{x}$"];
      "1/4" -> "4/5" [label=" ", texlbl="$x \ {\mapsto}\ \frac{1}{x + 1}$"];
      "2" -> "-1/2" [label=" ", texlbl="$x \ {\mapsto}\ \frac{1}{x}$"];
      "2" -> "1/3" [label=" ", texlbl="$x \ {\mapsto}\ \frac{1}{x + 1}$"];
    }
```

This one should be optional, I think, and results from #8166:

```
File "/dev/shm/mvngu/sandbox/sage-4.4.3.alpha0.sandbox0/devel/sage-main/sage/graphs/generic_graph.py", line 4213:
    sage: g.matching(algorithm="LP", value_only=True)
Exception raised:
    Traceback (most recent call last):
      File "/dev/shm/mvngu/sandbox/sage-4.4.3.alpha0.sandbox0/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/dev/shm/mvngu/sandbox/sage-4.4.3.alpha0.sandbox0/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/dev/shm/mvngu/sandbox/sage-4.4.3.alpha0.sandbox0/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_70[5]>", line 1, in <module>
        g.matching(algorithm="LP", value_only=True)###line 4213:
    sage: g.matching(algorithm="LP", value_only=True)
      File "/dev/shm/mvngu/sandbox/sage-4.4.3.alpha0.sandbox0/local/lib/python/site-packages/sage/graphs/generic_graph.py", line 4264, in matching
        return p.solve(objective_only=True, solver=solver, log=verbose)
      File "mip.pyx", line 1051, in sage.numerical.mip.MixedIntegerLinearProgram.solve (sage/numerical/mip.c:7884)
    ValueError: There does not seem to be any (Mixed) Integer Linear Program solver installed. Please visit http://www.sagemath.org/doc/constructions/linear_programming.html to learn more about the solvers available.
```



---

archive/issue_events_113628.json:
```json
{
    "actor": "https://github.com/sagetrac-mvngu",
    "created_at": "2010-06-01T18:49:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8922",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8922#event-113628"
}
```



---

archive/issue_events_113629.json:
```json
{
    "actor": "https://github.com/sagetrac-mvngu",
    "created_at": "2010-06-01T18:49:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8922",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8922#event-113629"
}
```



---

archive/issue_events_113630.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2010-06-01T19:11:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8922",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8922#event-113630"
}
```



---

archive/issue_events_113631.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2010-06-01T19:11:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8922",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8922#event-113631"
}
```



---

archive/issue_comments_073174.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nSorry for that Minh :-/\n\nHere is an updated patch... God, I'm eager to have all these dependencies merged into Sage !\n\nNathann",
    "created_at": "2010-06-01T19:11:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8922#issuecomment-73174",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:8" align="right">comment:8</div>

Sorry for that Minh :-/

Here is an updated patch... God, I'm eager to have all these dependencies merged into Sage !

Nathann



---

archive/issue_comments_073175.json:
```json
{
    "body": "Attachment: **[trac_8922.patch.gz](https://github.com/sagemath/sage/files/ticket8922/trac_8922.patch.gz)**",
    "created_at": "2010-06-01T19:11:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8922#issuecomment-73175",
    "user": "https://github.com/nathanncohen"
}
```

Attachment: **[trac_8922.patch.gz](https://github.com/sagemath/sage/files/ticket8922/trac_8922.patch.gz)**



---

archive/issue_comments_073176.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nIt looks like everything in the dependencies except this patch is now reviewed.  Minh, are you reviewing this patch as well?",
    "created_at": "2010-06-04T21:54:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8922#issuecomment-73176",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:9" align="right">comment:9</div>

It looks like everything in the dependencies except this patch is now reviewed.  Minh, are you reviewing this patch as well?



---

archive/issue_comments_073177.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@jasongrout](#comment:9):\n> Minh, are you reviewing this patch as well?\n\nYes. I'm finalizing a reviewer patch.",
    "created_at": "2010-06-04T21:56:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8922#issuecomment-73177",
    "user": "https://github.com/sagetrac-mvngu"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@jasongrout](#comment:9):
> Minh, are you reviewing this patch as well?

Yes. I'm finalizing a reviewer patch.



---

archive/issue_comments_073178.json:
```json
{
    "body": "Reviewer: **Minh Van Nguyen**",
    "created_at": "2010-06-05T01:16:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8922#issuecomment-73178",
    "user": "https://github.com/sagetrac-mvngu"
}
```

Reviewer: **Minh Van Nguyen**



---

archive/issue_comments_073179.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -8,3 +8,4 @@\n \n 1. #7529\n 2. [trac_8922.patch](https://github.com/sagemath/sage/files/ticket8922/trac_8922.patch.gz)\n+3. [trac_8922-reviewer.patch](https://github.com/sagemath/sage/files/ticket8922/trac_8922-reviewer.patch.gz)\n``````\n",
    "created_at": "2010-06-05T01:16:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8922#issuecomment-73179",
    "user": "https://github.com/sagetrac-mvngu"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -8,3 +8,4 @@
 
 1. #7529
 2. [trac_8922.patch](https://github.com/sagemath/sage/files/ticket8922/trac_8922.patch.gz)
+3. [trac_8922-reviewer.patch](https://github.com/sagemath/sage/files/ticket8922/trac_8922-reviewer.patch.gz)
``````




---

archive/issue_comments_073180.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nAttachment: **[trac_8922-reviewer.patch.gz](https://github.com/sagemath/sage/files/ticket8922/trac_8922-reviewer.patch.gz)**\n\nChanges in reviewer patch:\n\n* Move the method `adjacency_sequence()` to the class `CGraph`, as I think that method is useful for both dense and sparse graphs.\n* Clean-up coding style in accordance with PEP 008.\n* In describing the algorithm used in `subgraph_search()` of the module `generic_graph_pyx.pyx`, you have the formula:\n\n ```\n `\\binom k!{|V(G)|}{k}`\n ```\n That won't typeset in LaTeX as you expected. Do you mean this?\n\n ```\n `k! \\binom{|V(G)|}{k}`\n ```\n I have used the latter formula in my reviewer patch. Please correct me if I'm wrong.\n* Unit tests for the `cdef` functions `vectors_equal()` and `vectors_inferior()`, and the method `adjacency_sequence()`. These functions/methods are defined using `cdef` and the doctest coverage script don't pick them up in its analysis. However, I still think it's important to provide unit tests for such functions/methods.\n* Amalgamate the methods `induced_subgraph_search()` and `subgraph_search()`. Their definitions are almost identical, except for the keyword `induced`. The combined method is defined to take the boolean keyword `induced` and pass it on to the relevant method.\n\nAnother pair of eyes is needed to look over my reviewer patch.",
    "created_at": "2010-06-05T01:16:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8922#issuecomment-73180",
    "user": "https://github.com/sagetrac-mvngu"
}
```

<div id="comment:11" align="right">comment:11</div>

Attachment: **[trac_8922-reviewer.patch.gz](https://github.com/sagemath/sage/files/ticket8922/trac_8922-reviewer.patch.gz)**

Changes in reviewer patch:

* Move the method `adjacency_sequence()` to the class `CGraph`, as I think that method is useful for both dense and sparse graphs.
* Clean-up coding style in accordance with PEP 008.
* In describing the algorithm used in `subgraph_search()` of the module `generic_graph_pyx.pyx`, you have the formula:

 ```
 `\binom k!{|V(G)|}{k}`
 ```
 That won't typeset in LaTeX as you expected. Do you mean this?

 ```
 `k! \binom{|V(G)|}{k}`
 ```
 I have used the latter formula in my reviewer patch. Please correct me if I'm wrong.
* Unit tests for the `cdef` functions `vectors_equal()` and `vectors_inferior()`, and the method `adjacency_sequence()`. These functions/methods are defined using `cdef` and the doctest coverage script don't pick them up in its analysis. However, I still think it's important to provide unit tests for such functions/methods.
* Amalgamate the methods `induced_subgraph_search()` and `subgraph_search()`. Their definitions are almost identical, except for the keyword `induced`. The combined method is defined to take the boolean keyword `induced` and pass it on to the relevant method.

Another pair of eyes is needed to look over my reviewer patch.



---

archive/issue_comments_073181.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nWow, your reviewer patch is twice the size of the original patch!",
    "created_at": "2010-06-05T02:16:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8922#issuecomment-73181",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:12" align="right">comment:12</div>

Wow, your reviewer patch is twice the size of the original patch!



---

archive/issue_comments_073182.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nHello !!\n\nFirst, I want to thank you for the amount of time your must have spent on this :-)\n\n> * Move the method `adjacency_sequence()` to the class `CGraph`, as I think that method is useful for both dense and sparse graphs.\n\nIt can be, though systematically testing adjacencies (and most importantly -- non-adjacencies) in sparse graph can be a problem... Perhaps we will have to split this function in two copies, one for each class, one day or another. I have been talking with Alexandre Blondin Masse who could need such a feature for Sparse graphs :-)\n\n> * In describing the algorithm used in `subgraph_search()` of the module `generic_graph_pyx.pyx`, you have the formula:\n> \n>  ```\n>  `\\binom k!{|V(G)|}{k}`\n>  ```\n>  That won't typeset in LaTeX as you expected. Do you mean this?\n> \n>  ```\n>  `k! \\binom{|V(G)|}{k}`\n>  ```\n\nIndeed\n\n>  I have used the latter formula in my reviewer patch. Please correct me if I'm wrong.\n\nYou almost never are :-)\n\n> * Unit tests for the `cdef` functions `vectors_equal()` and `vectors_inferior()`, and the method `adjacency_sequence()`. These functions/methods are defined using `cdef` and the doctest coverage script don't pick them up in its analysis. However, I still think it's important to provide unit tests for such functions/methods.\n\nWell, if there is anything wrong in these functions your tests will show it, though given their length I wouldn't have thought necessary to add such tests.... Are you doubting Cython itself ? :-)\n\n> * Amalgamate the methods `induced_subgraph_search()` and `subgraph_search()`. Their definitions are almost identical, except for the keyword `induced`. The combined method is defined to take the boolean keyword `induced` and pass it on to the relevant method.\n\nI was thinking of someone working on induced subgraphs, and not seeing any occurence of this word among the functions.... But he will get interested in subgraph search sooner or later ;-)\n\n> Another pair of eyes is needed to look over my reviewer patch.\n\nI already spent some time over it, and agreed with what I saw.... Considering its length, I may do this once or twice again before setting it to \"positive review\". and... Thank you again :-)\n\nNathann",
    "created_at": "2010-06-05T09:03:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8922#issuecomment-73182",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:13" align="right">comment:13</div>

Hello !!

First, I want to thank you for the amount of time your must have spent on this :-)

> * Move the method `adjacency_sequence()` to the class `CGraph`, as I think that method is useful for both dense and sparse graphs.

It can be, though systematically testing adjacencies (and most importantly -- non-adjacencies) in sparse graph can be a problem... Perhaps we will have to split this function in two copies, one for each class, one day or another. I have been talking with Alexandre Blondin Masse who could need such a feature for Sparse graphs :-)

> * In describing the algorithm used in `subgraph_search()` of the module `generic_graph_pyx.pyx`, you have the formula:
> 
>  ```
>  `\binom k!{|V(G)|}{k}`
>  ```
>  That won't typeset in LaTeX as you expected. Do you mean this?
> 
>  ```
>  `k! \binom{|V(G)|}{k}`
>  ```

Indeed

>  I have used the latter formula in my reviewer patch. Please correct me if I'm wrong.

You almost never are :-)

> * Unit tests for the `cdef` functions `vectors_equal()` and `vectors_inferior()`, and the method `adjacency_sequence()`. These functions/methods are defined using `cdef` and the doctest coverage script don't pick them up in its analysis. However, I still think it's important to provide unit tests for such functions/methods.

Well, if there is anything wrong in these functions your tests will show it, though given their length I wouldn't have thought necessary to add such tests.... Are you doubting Cython itself ? :-)

> * Amalgamate the methods `induced_subgraph_search()` and `subgraph_search()`. Their definitions are almost identical, except for the keyword `induced`. The combined method is defined to take the boolean keyword `induced` and pass it on to the relevant method.

I was thinking of someone working on induced subgraphs, and not seeing any occurence of this word among the functions.... But he will get interested in subgraph search sooner or later ;-)

> Another pair of eyes is needed to look over my reviewer patch.

I already spent some time over it, and agreed with what I saw.... Considering its length, I may do this once or twice again before setting it to "positive review". and... Thank you again :-)

Nathann



---

archive/issue_events_113632.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2010-06-05T10:58:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8922",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8922#event-113632"
}
```



---

archive/issue_events_113633.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2010-06-05T10:58:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8922",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8922#event-113633"
}
```



---

archive/issue_comments_073183.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nAgreeeeeeed !! I expect this function to receive a lot of improvements in future patches :-)\n\nNathann",
    "created_at": "2010-06-05T10:58:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8922#issuecomment-73183",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:14" align="right">comment:14</div>

Agreeeeeeed !! I expect this function to receive a lot of improvements in future patches :-)

Nathann



---

archive/issue_events_113634.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2010-06-06T07:14:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8922",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8922#event-113634"
}
```



---

archive/issue_events_113635.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2010-06-06T07:14:21Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/8922",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8922#event-113635"
}
```



---

archive/issue_comments_073184.json:
```json
{
    "body": "Merged: **sage-4.4.4.alpha0**",
    "created_at": "2010-06-06T07:14:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8922#issuecomment-73184",
    "user": "https://github.com/mwhansen"
}
```

Merged: **sage-4.4.4.alpha0**
