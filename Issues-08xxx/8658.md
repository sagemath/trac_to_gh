# Issue 8658: opencdk spkg has incorrect DSO linking

archive/issues_008658.json:
```json
{
    "assignees": [],
    "body": "opencdk fails to explicitly link against libgcrypt. This is exposed by the changed ld behavior in Fedora 13 (beta), see https://fedoraproject.org/wiki/UnderstandingDSOLinkChange\n\nThe new version fixes this and is necessary to compile on F13. You can get it at\n\nhttp://www.stp.dias.ie/~vbraun/Sage/spkg/opencdk-0.6.6.p4.spkg\n\nAssignee: **@aghitza**\n\nKeywords: **DSO**\n\nAuthor: **Volker Braun**\n\nReviewer: **Mike Hansen**\n\nMerged: **sage-4.4.4.alpha1**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/8658_\n\n",
    "closed_at": "2010-06-11T18:24:17Z",
    "created_at": "2010-04-07T22:24:48Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20algebra",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.4.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "opencdk spkg has incorrect DSO linking",
    "type": "issue",
    "updated_at": "2010-06-11T18:24:17Z",
    "url": "https://github.com/sagemath/sage/issues/8658",
    "user": "https://github.com/vbraun"
}
```
opencdk fails to explicitly link against libgcrypt. This is exposed by the changed ld behavior in Fedora 13 (beta), see https://fedoraproject.org/wiki/UnderstandingDSOLinkChange

The new version fixes this and is necessary to compile on F13. You can get it at

http://www.stp.dias.ie/~vbraun/Sage/spkg/opencdk-0.6.6.p4.spkg

Assignee: **@aghitza**

Keywords: **DSO**

Author: **Volker Braun**

Reviewer: **Mike Hansen**

Merged: **sage-4.4.4.alpha1**

_Issue created by migration from https://trac.sagemath.org/ticket/8658_





---

archive/issue_events_096292.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2010-04-07T22:24:48Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/8658",
    "milestone_number": null,
    "milestone_title": "sage-4.4.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8658#event-96292"
}
```



---

archive/issue_events_096293.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2010-04-07T22:24:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8658",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20algebra",
    "label_color": "0000ff",
    "label_name": "component: algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8658#event-96293"
}
```



---

archive/issue_events_096294.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2010-04-07T22:24:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8658",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8658#event-96294"
}
```



---

archive/issue_events_096295.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2010-04-07T22:24:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8658",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8658#event-96295"
}
```



---

archive/issue_comments_071271.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nI'd like to get this in 4.4.4.  There are a couple of issues. `/bin/sh` on boxen doesn't like ` Makefile.{am,in} `.  Also, sed on Solaris doesn't support `-i`.  While the Makefiles don't need to be used on Solaris, it be nice to not have those fail.  Also, we should check the exit status to make sure the command successfully ran.",
    "created_at": "2010-06-09T18:12:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8658",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8658#issuecomment-71271",
    "user": "https://github.com/mwhansen"
}
```

<a id='comment:1'>Comment 1:</a>
I'd like to get this in 4.4.4.  There are a couple of issues. `/bin/sh` on boxen doesn't like ` Makefile.{am,in} `.  Also, sed on Solaris doesn't support `-i`.  While the Makefiles don't need to be used on Solaris, it be nice to not have those fail.  Also, we should check the exit status to make sure the command successfully ran.



---

archive/issue_comments_071272.json:
```json
{
    "body": "Reviewer: **Mike Hansen**",
    "created_at": "2010-06-09T18:12:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8658",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8658#issuecomment-71272",
    "user": "https://github.com/mwhansen"
}
```

Reviewer: **Mike Hansen**



---

archive/issue_events_096296.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2010-06-09T18:12:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8658",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8658#event-96296"
}
```



---

archive/issue_comments_071273.json:
```json
{
    "body": "Changed author from **vbraun** to **Volker Braun**",
    "created_at": "2010-06-09T18:12:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8658",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8658#issuecomment-71273",
    "user": "https://github.com/mwhansen"
}
```

Changed author from **vbraun** to **Volker Braun**



---

archive/issue_events_096297.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2010-06-09T19:29:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8658",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8658#event-96297"
}
```



---

archive/issue_events_096298.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2010-06-09T19:29:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8658",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8658#event-96298"
}
```



---

archive/issue_comments_071274.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nOk updated version now copies a suitable Makefile.in file from patches/ instead of the sed hack:\n\nhttp://www.stp.dias.ie/~vbraun/Sage/spkg/opencdk-0.6.6.p4.spkg\n\nThe Makefile.am is not needed, so I did not change it. Hopefully upstream will make a new release before we have to edit this again. The Fedora people are trying to push these changes upstream.",
    "created_at": "2010-06-09T19:29:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8658",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8658#issuecomment-71274",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:2'>Comment 2:</a>
Ok updated version now copies a suitable Makefile.in file from patches/ instead of the sed hack:

http://www.stp.dias.ie/~vbraun/Sage/spkg/opencdk-0.6.6.p4.spkg

The Makefile.am is not needed, so I did not change it. Hopefully upstream will make a new release before we have to edit this again. The Fedora people are trying to push these changes upstream.



---

archive/issue_events_096299.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2010-06-11T18:23:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8658",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8658#event-96299"
}
```



---

archive/issue_events_096300.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2010-06-11T18:23:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8658",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8658#event-96300"
}
```



---

archive/issue_events_096301.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2010-06-11T18:24:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8658",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8658#event-96301"
}
```



---

archive/issue_events_096302.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2010-06-11T18:24:17Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/8658",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8658#event-96302"
}
```



---

archive/issue_comments_071275.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nI've merged http://sage.math.washington.edu/home/mhansen/opencdk-0.6.6.p4.spkg",
    "created_at": "2010-06-11T18:24:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8658",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8658#issuecomment-71275",
    "user": "https://github.com/mwhansen"
}
```

<a id='comment:4'>Comment 4:</a>
I've merged http://sage.math.washington.edu/home/mhansen/opencdk-0.6.6.p4.spkg



---

archive/issue_comments_071276.json:
```json
{
    "body": "Merged: **sage-4.4.4.alpha1**",
    "created_at": "2010-06-11T18:24:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8658",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8658#issuecomment-71276",
    "user": "https://github.com/mwhansen"
}
```

Merged: **sage-4.4.4.alpha1**
