# Issue 8589: New feature : Hopf algebra structure on group algebras

archive/issues_008589.json:
```json
{
    "assignees": [],
    "body": "This patch gives its Hopf algebra structure to the group algebra of `G` over `R` created in the following way\n\n```\n   sage: G.algebra(R)\n```\n\nAnother feature is a method is_central on elements of the algebra (which works also for monoid algebras so is in the file sage.categories.monoids)\n\nAssignee: **@sagetrac-sage-combinat**\n\nCC:  @nilesjohnson @sagetrac-sage-combinat\n\nReviewer: **Nicolas M. Thi\u00e9ry**\n\nAuthor: **Valentin F\u00e9ray**\n\nMerged: **sage-4.6.1.alpha0**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/8589_\n\n",
    "closed_at": "2010-11-01T10:06:12Z",
    "created_at": "2010-03-23T17:16:37Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.6.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "New feature : Hopf algebra structure on group algebras",
    "type": "issue",
    "updated_at": "2017-07-19T08:25:27Z",
    "url": "https://github.com/sagemath/sage/issues/8589",
    "user": "https://github.com/sagetrac-vferay"
}
```
This patch gives its Hopf algebra structure to the group algebra of `G` over `R` created in the following way

```
   sage: G.algebra(R)
```

Another feature is a method is_central on elements of the algebra (which works also for monoid algebras so is in the file sage.categories.monoids)

Assignee: **@sagetrac-sage-combinat**

CC:  @nilesjohnson @sagetrac-sage-combinat

Reviewer: **Nicolas M. Thiéry**

Author: **Valentin Féray**

Merged: **sage-4.6.1.alpha0**

_Issue created by migration from https://trac.sagemath.org/ticket/8589_





---

archive/issue_events_098506.json:
```json
{
    "actor": "https://github.com/sagetrac-vferay",
    "created_at": "2010-03-23T17:16:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8589",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "component: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8589#event-98506"
}
```



---

archive/issue_events_098507.json:
```json
{
    "actor": "https://github.com/sagetrac-vferay",
    "created_at": "2010-03-23T17:16:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8589",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8589#event-98507"
}
```



---

archive/issue_events_098508.json:
```json
{
    "actor": "https://github.com/sagetrac-vferay",
    "created_at": "2010-03-23T17:16:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8589",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8589#event-98508"
}
```



---

archive/issue_comments_070516.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nDoing this, I have encountered and solved some problems:\n\n* The generators of permutation groups were returned as a list and not as a family, which is the case for other types of groups. They are now returned as a family.\n\n* The Hopf algebra structure didn't include counit. This has been corrected.\n\n* There was a bug in module_morphism which didn't work when the codomain was the ring itself (because it is not considered as a module by sage). It has been corrected.",
    "created_at": "2010-03-23T17:35:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8589#issuecomment-70516",
    "user": "https://github.com/sagetrac-vferay"
}
```

<div id="comment:1" align="right">Comment 1</div>

Doing this, I have encountered and solved some problems:

* The generators of permutation groups were returned as a list and not as a family, which is the case for other types of groups. They are now returned as a family.

* The Hopf algebra structure didn't include counit. This has been corrected.

* There was a bug in module_morphism which didn't work when the codomain was the ring itself (because it is not considered as a module by sage). It has been corrected.



---

archive/issue_events_098509.json:
```json
{
    "actor": "https://github.com/sagetrac-vferay",
    "created_at": "2010-03-23T17:35:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8589",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8589#event-98509"
}
```



---

archive/issue_comments_070517.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nIs line 919 in sage/categories/modules_with_basis.py a typo?\n\n```\n:meth:`rodulesWithBasis.HomCategory.ElementMethods.on_basis`. \n       ^\n```\nAlso, at the start of sage/groups/perm_gps/permgroup.py, the line \n\n```\nfrom sage.combinat.family import Family\n```\nmight be changed to \n\n```\nfrom sage.sets.family import Family\n```\n(since sage.combinat.family says \"This is a backward compatibility stub. Use :mod:`sage.sets.family` instead\").",
    "created_at": "2010-04-02T16:20:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8589#issuecomment-70517",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:2" align="right">Comment 2</div>

Is line 919 in sage/categories/modules_with_basis.py a typo?

```
:meth:`rodulesWithBasis.HomCategory.ElementMethods.on_basis`. 
       ^
```
Also, at the start of sage/groups/perm_gps/permgroup.py, the line 

```
from sage.combinat.family import Family
```
might be changed to 

```
from sage.sets.family import Family
```
(since sage.combinat.family says "This is a backward compatibility stub. Use :mod:`sage.sets.family` instead").



---

archive/issue_comments_070518.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nYou're right! A new version of the patch has been uploaded\n\nThanks for these comments!\n\nValentin",
    "created_at": "2010-04-07T16:03:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8589#issuecomment-70518",
    "user": "https://github.com/sagetrac-vferay"
}
```

<div id="comment:3" align="right">Comment 3</div>

You're right! A new version of the patch has been uploaded

Thanks for these comments!

Valentin



---

archive/issue_comments_070519.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nReplying to [@sagetrac-vferay](#comment%3A3):\n> You're right! A new version of the patch has been uploaded\n\nThe feature here depends on the Algebra functorial constructions #8881 which are not yet finished.",
    "created_at": "2010-05-05T02:23:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8589#issuecomment-70519",
    "user": "https://github.com/hivert"
}
```

<div id="comment:4" align="right">Comment 4</div>

Replying to [@sagetrac-vferay](#comment%3A3):
> You're right! A new version of the patch has been uploaded

The feature here depends on the Algebra functorial constructions #8881 which are not yet finished.



---

archive/issue_comments_070520.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nOk I wait until the Algebra functorial constructions are finished to finalize the patch",
    "created_at": "2010-05-05T09:06:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8589#issuecomment-70520",
    "user": "https://github.com/sagetrac-vferay"
}
```

<div id="comment:5" align="right">Comment 5</div>

Ok I wait until the Algebra functorial constructions are finished to finalize the patch



---

archive/issue_events_098510.json:
```json
{
    "actor": "https://github.com/sagetrac-vferay",
    "created_at": "2010-05-05T09:06:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8589",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8589#event-98510"
}
```



---

archive/issue_events_098511.json:
```json
{
    "actor": "https://github.com/sagetrac-vferay",
    "created_at": "2010-05-05T09:06:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8589",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8589#event-98511"
}
```



---

archive/issue_comments_070521.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nReplying to [@sagetrac-vferay](#comment%3A5):\n> Ok I wait until the Algebra functorial constructions are finished to finalize the patch\n\n#8881 was just merged in sage 4.4.4!",
    "created_at": "2010-06-09T15:32:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8589#issuecomment-70521",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:6" align="right">Comment 6</div>

Replying to [@sagetrac-vferay](#comment%3A5):
> Ok I wait until the Algebra functorial constructions are finished to finalize the patch

#8881 was just merged in sage 4.4.4!



---

archive/issue_comments_070522.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nFor the record with 4.4.3 and this patch applied,\n\n```\nsage: SymmetricGroup(3).algebra(QQ)\n```\ntriggers an error about _basis_keys",
    "created_at": "2010-06-14T23:03:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8589#issuecomment-70522",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:7" align="right">Comment 7</div>

For the record with 4.4.3 and this patch applied,

```
sage: SymmetricGroup(3).algebra(QQ)
```
triggers an error about _basis_keys



---

archive/issue_comments_070523.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nHello,\n\nIs there any new progress on this?  \n\nI'd like to help, but I think I have to start by understanding `Family`:  \n\nReplying to [@sagetrac-vferay](#comment%3A1):\n> * The generators of permutation groups were returned as a list and not as a family, which is the case for other types of groups. They are now returned as a family.\n\n`DihedralGroup` and `CyclicPermutationGroup` both return `gens` as lists, and polynomial/power series rings return `gens` as tuples . . . could someone tell me if there is an effort under way to convert all of these to `Family`, or what sorts of things do already return `gens` as a `Family`?\n\nAre there other work issues for this patch (other than the bug with 4.4.3 reported by nthiery), or is it otherwise ready for review?\n\nthanks,\nNiles",
    "created_at": "2010-10-10T20:15:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8589#issuecomment-70523",
    "user": "https://github.com/nilesjohnson"
}
```

<div id="comment:8" align="right">Comment 8</div>

Hello,

Is there any new progress on this?  

I'd like to help, but I think I have to start by understanding `Family`:  

Replying to [@sagetrac-vferay](#comment%3A1):
> * The generators of permutation groups were returned as a list and not as a family, which is the case for other types of groups. They are now returned as a family.

`DihedralGroup` and `CyclicPermutationGroup` both return `gens` as lists, and polynomial/power series rings return `gens` as tuples . . . could someone tell me if there is an effort under way to convert all of these to `Family`, or what sorts of things do already return `gens` as a `Family`?

Are there other work issues for this patch (other than the bug with 4.4.3 reported by nthiery), or is it otherwise ready for review?

thanks,
Niles



---

archive/issue_comments_070524.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nHello,\n\n   finishing this patch is on my todo list of the week.\n\n>  could someone tell me if there is an effort under way to convert all of these to Family, or \n> what sorts of things do already return gens as a Family?\n\nIf we are only interested with groups, there is no interest to return things as a Family, but it is the natural structure when we work with algebra generators. So the change was to unify this but I confess that I don't remember for which function I wanted to do that.\n\nmore soon,\n\nValentin",
    "created_at": "2010-10-11T15:57:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8589#issuecomment-70524",
    "user": "https://github.com/sagetrac-vferay"
}
```

<div id="comment:9" align="right">Comment 9</div>

Hello,

   finishing this patch is on my todo list of the week.

>  could someone tell me if there is an effort under way to convert all of these to Family, or 
> what sorts of things do already return gens as a Family?

If we are only interested with groups, there is no interest to return things as a Family, but it is the natural structure when we work with algebra generators. So the change was to unify this but I confess that I don't remember for which function I wanted to do that.

more soon,

Valentin



---

archive/issue_comments_070525.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nReplying to [@sagetrac-vferay](#comment%3A9):\n> > could someone tell me if there is an effort under way to convert all of these to Family, or \n> > what sorts of things do already return gens as a Family?\n\n> If we are only interested with groups, there is no interest to\n> return things as a Family, but it is the natural structure when we\n> work with algebra generators. So the change was to unify this but I\n> confess that I don't remember for which function I wanted to do\n> that.\n\nThe current convention is for algebra_generators,\nsemigroup_generators, and the like to return families.\n\nThere definitely is a plan for the long run (at least a wish from the\nsage-combinat group :-)) to have .gens() return a family as well. But\nthis will require some serious coordination to maintain backward\ncompatibility, and I'd rather have it done in a separate patch.\n\nValentin: do you really need this feature right now?",
    "created_at": "2010-10-12T16:18:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8589#issuecomment-70525",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:10" align="right">Comment 10</div>

Replying to [@sagetrac-vferay](#comment%3A9):
> > could someone tell me if there is an effort under way to convert all of these to Family, or 
> > what sorts of things do already return gens as a Family?

> If we are only interested with groups, there is no interest to
> return things as a Family, but it is the natural structure when we
> work with algebra generators. So the change was to unify this but I
> confess that I don't remember for which function I wanted to do
> that.

The current convention is for algebra_generators,
semigroup_generators, and the like to return families.

There definitely is a plan for the long run (at least a wish from the
sage-combinat group :-)) to have .gens() return a family as well. But
this will require some serious coordination to maintain backward
compatibility, and I'd rather have it done in a separate patch.

Valentin: do you really need this feature right now?



---

archive/issue_comments_070526.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nHello,\n\n> Valentin: do you really need this feature right now? \n\nIt was needed in the function algebra_generators() which can be called on a group or semi-group algebra. But I changed this function such that it works in both cases.\n\nI splitted the patch in 2 and keep just the part on group algebra and Hopf algebra (and not the part turning group generators into a family).\n\nEverything seems to work now (I have one error in the test of hopf_algebra_with_basis.py :\n\"... still using old coercion framework) when the patch is applied in the sage-combinat queue. But it seems to depend on other patches (because import it when no other patches are applied lead to a lot of mistakes. Nicolas, do you know which ones and what I should do.\n\nI attach the new version of the patch",
    "created_at": "2010-10-13T13:36:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8589#issuecomment-70526",
    "user": "https://github.com/sagetrac-vferay"
}
```

<div id="comment:11" align="right">Comment 11</div>

Hello,

> Valentin: do you really need this feature right now? 

It was needed in the function algebra_generators() which can be called on a group or semi-group algebra. But I changed this function such that it works in both cases.

I splitted the patch in 2 and keep just the part on group algebra and Hopf algebra (and not the part turning group generators into a family).

Everything seems to work now (I have one error in the test of hopf_algebra_with_basis.py :
"... still using old coercion framework) when the patch is applied in the sage-combinat queue. But it seems to depend on other patches (because import it when no other patches are applied lead to a lot of mistakes. Nicolas, do you know which ones and what I should do.

I attach the new version of the patch



---

archive/issue_comments_070527.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nReplying to [@sagetrac-vferay](#comment%3A11):\n> It was needed in the function algebra_generators() which can be\n> called on a group or semi-group algebra. But I changed this function\n> such that it works in both cases.\n\nThanks. Do you mind fixing instead semigroup_generators?\n\n> I splitted the patch in 2 and keep just the part on group algebra\n> and Hopf algebra (and not the part turning group generators into a\n> family).\n\nThanks.\n\n> Everything seems to work now (I have one error in the test of\n> hopf_algebra_with_basis.py : \"... still using old coercion\n> framework) when the patch is applied in the sage-combinat queue. But\n> it seems to depend on other patches (because import it when no other\n> patches are applied lead to a lot of mistakes. Nicolas, do you know\n> which ones and what I should do.\n\nAfter investigation, your patch depends on:\n\n- trac_9648_modulemorphism_codomain_extension-cs.patch # Needs review\n- free_module_basis_key_initialisation-nb.patch\n\n#9648 just needs a last pass of proofreading + rerunning the tests\nwith the latest Sage. Do you volunteer for the former?\n\nI just created #10127 for the second. We should be able to finalize it\nsoon with Nicolas B.\n\nWith those patches applied, I only get two trivial errors in sage/categories:\n\n```\nsage -t  \"devel/sage-combinat/sage/categories/groups.py\"    \n**********************************************************************\nFile \"/opt/sage-4.5.2/devel/sage-combinat/sage/categories/groups.py\", line 69:\n    sage: A.group_generators()\nExpected:\n    [(2,3,4), (1,2,3)]\nGot:\n    [(1,2,3), (2,3,4)]\nsage -t  \"devel/sage-combinat/sage/categories/algebra_functor.py\"\n**********************************************************************\nFile \"/opt/sage-4.5.2/devel/sage-combinat/sage/categories/algebra_functor.py\", line 37:\n    sage: Groups().Algebras(QQ) # todo: update once there will be a category for group algebras\nExpected:\n    Category of monoid algebras over Rational Field\nGot:\n    Category of group algebras over Rational Field\n```\n\nCheers,\n\t\t\tNicolas",
    "created_at": "2010-10-13T14:19:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8589#issuecomment-70527",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:12" align="right">Comment 12</div>

Replying to [@sagetrac-vferay](#comment%3A11):
> It was needed in the function algebra_generators() which can be
> called on a group or semi-group algebra. But I changed this function
> such that it works in both cases.

Thanks. Do you mind fixing instead semigroup_generators?

> I splitted the patch in 2 and keep just the part on group algebra
> and Hopf algebra (and not the part turning group generators into a
> family).

Thanks.

> Everything seems to work now (I have one error in the test of
> hopf_algebra_with_basis.py : "... still using old coercion
> framework) when the patch is applied in the sage-combinat queue. But
> it seems to depend on other patches (because import it when no other
> patches are applied lead to a lot of mistakes. Nicolas, do you know
> which ones and what I should do.

After investigation, your patch depends on:

- trac_9648_modulemorphism_codomain_extension-cs.patch # Needs review
- free_module_basis_key_initialisation-nb.patch

#9648 just needs a last pass of proofreading + rerunning the tests
with the latest Sage. Do you volunteer for the former?

I just created #10127 for the second. We should be able to finalize it
soon with Nicolas B.

With those patches applied, I only get two trivial errors in sage/categories:

```
sage -t  "devel/sage-combinat/sage/categories/groups.py"    
**********************************************************************
File "/opt/sage-4.5.2/devel/sage-combinat/sage/categories/groups.py", line 69:
    sage: A.group_generators()
Expected:
    [(2,3,4), (1,2,3)]
Got:
    [(1,2,3), (2,3,4)]
sage -t  "devel/sage-combinat/sage/categories/algebra_functor.py"
**********************************************************************
File "/opt/sage-4.5.2/devel/sage-combinat/sage/categories/algebra_functor.py", line 37:
    sage: Groups().Algebras(QQ) # todo: update once there will be a category for group algebras
Expected:
    Category of monoid algebras over Rational Field
Got:
    Category of group algebras over Rational Field
```

Cheers,
			Nicolas



---

archive/issue_comments_070528.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nHi\n\n> Thanks. Do you mind fixing instead semigroup_generators? \n\nYou mean that you want semigroup_generators to return a list. I assume that this will need to change a few things in all the semigroup file. Another solution is also to overload the algebra_generators function for group algebras.\n\n> #9648 just needs a last pass of proofreading + rerunning the tests with the latest Sage. Do you > volunteer for the former? \n\nok I will try to do that.\n\n> With those patches applied, I only get two trivial errors in sage/categories: \n\nthe first one does not appear on my computer (?). I corrected the second one.\n\nValentin",
    "created_at": "2010-10-14T10:09:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8589#issuecomment-70528",
    "user": "https://github.com/sagetrac-vferay"
}
```

<div id="comment:13" align="right">Comment 13</div>

Hi

> Thanks. Do you mind fixing instead semigroup_generators? 

You mean that you want semigroup_generators to return a list. I assume that this will need to change a few things in all the semigroup file. Another solution is also to overload the algebra_generators function for group algebras.

> #9648 just needs a last pass of proofreading + rerunning the tests with the latest Sage. Do you > volunteer for the former? 

ok I will try to do that.

> With those patches applied, I only get two trivial errors in sage/categories: 

the first one does not appear on my computer (?). I corrected the second one.

Valentin



---

archive/issue_comments_070529.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nReplying to [@sagetrac-vferay](#comment%3A13):\n> > Thanks. Do you mind fixing instead semigroup_generators? \n\n> You mean that you want semigroup_generators to return a list. I assume that this will need to change a few things in all the semigroup file. Another solution is also to overload the algebra_generators function for group algebras.\n\nOops, I investigated this too quickly. The culprit is actually Groups.ParentMethods.group_generators which returns self.gens() directly, instead of making the result first into a family.\n\n> > #9648 just needs a last pass of proofreading + rerunning the tests with the latest Sage. > > Do you volunteer for the former? \n\n> ok I will try to do that.\n\nThanks!\n\n> > With those patches applied, I only get two trivial errors in sage/categories: \n\n> the first one does not appear on my computer (?). \n\nHmm. Which patches did you have applied when you tried? Which version of Sage?\n\n> I corrected the second one.\n\nThanks!",
    "created_at": "2010-10-14T12:57:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8589#issuecomment-70529",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:14" align="right">Comment 14</div>

Replying to [@sagetrac-vferay](#comment%3A13):
> > Thanks. Do you mind fixing instead semigroup_generators? 

> You mean that you want semigroup_generators to return a list. I assume that this will need to change a few things in all the semigroup file. Another solution is also to overload the algebra_generators function for group algebras.

Oops, I investigated this too quickly. The culprit is actually Groups.ParentMethods.group_generators which returns self.gens() directly, instead of making the result first into a family.

> > #9648 just needs a last pass of proofreading + rerunning the tests with the latest Sage. > > Do you volunteer for the former? 

> ok I will try to do that.

Thanks!

> > With those patches applied, I only get two trivial errors in sage/categories: 

> the first one does not appear on my computer (?). 

Hmm. Which patches did you have applied when you tried? Which version of Sage?

> I corrected the second one.

Thanks!



---

archive/issue_comments_070530.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\nReplying to nthiery:\n\n> Oops, I investigated this too quickly. The culprit is actually\n> Groups.ParentMethods?.group_generators which returns self.gens() directly, instead of making the > result first into a family. \n\nok I have changed this function and every test pass...\n\nI think the patch is ready now, I am waiting that the other patches are included in sage to set it as need_review .\n\n\n> > > With those patches applied, I only get two trivial errors in sage/categories:\n\n> > the first one does not appear on my computer (?).\n\n> Hmm. Which patches did you have applied when you tried? Which version of Sage? \n\nversion 4.5.3, patches up to this one were applied. But now, I find the same result as you do (except that now, it has been transformed into a family)...\n\nValentin",
    "created_at": "2010-10-14T13:28:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8589#issuecomment-70530",
    "user": "https://github.com/sagetrac-vferay"
}
```

<div id="comment:15" align="right">Comment 15</div>

Replying to nthiery:

> Oops, I investigated this too quickly. The culprit is actually
> Groups.ParentMethods?.group_generators which returns self.gens() directly, instead of making the > result first into a family. 

ok I have changed this function and every test pass...

I think the patch is ready now, I am waiting that the other patches are included in sage to set it as need_review .


> > > With those patches applied, I only get two trivial errors in sage/categories:

> > the first one does not appear on my computer (?).

> Hmm. Which patches did you have applied when you tried? Which version of Sage? 

version 4.5.3, patches up to this one were applied. But now, I find the same result as you do (except that now, it has been transformed into a family)...

Valentin



---

archive/issue_comments_070531.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">Comment 16</div>\n\nAll test pass on 4.5.3, with the following patches applied:\n\n```\ntrac_9648_modulemorphism_codomain_extension-cs.patch # Needs review\ntrac_10127_free_module_basis_key_initialisation-nb.patch # Under review\ntrac_8589_feature_group_algebras_vf.patch  #-4_5    # Under review\ntrac_8589_feature_group_algebras-reviewer-nt.patch\n```\n\nGenerally speaking, the patch is good to go, up to missing documentation and tests for Coalgebras.ElementMethods.counit. Valentin, please fold in my reviewer's patch, add doc and test, check that the documentation compiles smoothly, and upload here. \n\nThen you can set a positive review on my behalf. Thanks for your work on that!\n\nNiles: feel free to make a last check up!",
    "created_at": "2010-10-15T13:56:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8589#issuecomment-70531",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:16" align="right">Comment 16</div>

All test pass on 4.5.3, with the following patches applied:

```
trac_9648_modulemorphism_codomain_extension-cs.patch # Needs review
trac_10127_free_module_basis_key_initialisation-nb.patch # Under review
trac_8589_feature_group_algebras_vf.patch  #-4_5    # Under review
trac_8589_feature_group_algebras-reviewer-nt.patch
```

Generally speaking, the patch is good to go, up to missing documentation and tests for Coalgebras.ElementMethods.counit. Valentin, please fold in my reviewer's patch, add doc and test, check that the documentation compiles smoothly, and upload here. 

Then you can set a positive review on my behalf. Thanks for your work on that!

Niles: feel free to make a last check up!



---

archive/issue_comments_070532.json:
```json
{
    "body": "Reviewer: **Nicolas M. Thi\u00e9ry**",
    "created_at": "2010-10-15T13:56:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8589#issuecomment-70532",
    "user": "https://github.com/nthiery"
}
```

Reviewer: **Nicolas M. Thiéry**



---

archive/issue_events_098512.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2010-10-15T13:56:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/8589",
    "milestone_number": null,
    "milestone_title": "sage-4.6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8589#event-98512"
}
```



---

archive/issue_events_098513.json:
```json
{
    "actor": "https://github.com/sagetrac-vferay",
    "created_at": "2010-10-18T13:20:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8589",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8589#event-98513"
}
```



---

archive/issue_events_098514.json:
```json
{
    "actor": "https://github.com/sagetrac-vferay",
    "created_at": "2010-10-18T13:20:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8589",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8589#event-98514"
}
```



---

archive/issue_comments_070533.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">Comment 17</div>\n\n> Valentin, please fold in my reviewer's patch, add doc and test, check that the documentation\n> compiles smoothly, and upload here.\n\nDone!",
    "created_at": "2010-10-18T13:20:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8589#issuecomment-70533",
    "user": "https://github.com/sagetrac-vferay"
}
```

<div id="comment:17" align="right">Comment 17</div>

> Valentin, please fold in my reviewer's patch, add doc and test, check that the documentation
> compiles smoothly, and upload here.

Done!



---

archive/issue_comments_070534.json:
```json
{
    "body": "Attachment: **[trac_8589_feature_group_algebras_vf.2.patch.gz](https://github.com/sagemath/sage/files/ticket8589/trac_8589_feature_group_algebras_vf.2.patch.gz)**",
    "created_at": "2010-10-18T13:21:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8589#issuecomment-70534",
    "user": "https://github.com/sagetrac-vferay"
}
```

Attachment: **[trac_8589_feature_group_algebras_vf.2.patch.gz](https://github.com/sagemath/sage/files/ticket8589/trac_8589_feature_group_algebras_vf.2.patch.gz)**



---

archive/issue_comments_070535.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">Comment 18</div>\n\nAttachment: **[trac_8589_feature_group_algebras_vf.patch.gz](https://github.com/sagemath/sage/files/ticket8589/trac_8589_feature_group_algebras_vf.patch.gz)**\n\nWhich of the patches should be applied?",
    "created_at": "2010-10-23T11:58:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8589#issuecomment-70535",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:18" align="right">Comment 18</div>

Attachment: **[trac_8589_feature_group_algebras_vf.patch.gz](https://github.com/sagemath/sage/files/ticket8589/trac_8589_feature_group_algebras_vf.patch.gz)**

Which of the patches should be applied?



---

archive/issue_events_098515.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2010-10-23T11:58:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8589",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8589#event-98515"
}
```



---

archive/issue_events_098516.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2010-10-23T11:58:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8589",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8589#event-98516"
}
```



---

archive/issue_events_098517.json:
```json
{
    "actor": "https://github.com/sagetrac-vferay",
    "created_at": "2010-10-26T08:16:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8589",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8589#event-98517"
}
```



---

archive/issue_events_098518.json:
```json
{
    "actor": "https://github.com/sagetrac-vferay",
    "created_at": "2010-10-26T08:16:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8589",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8589#event-98518"
}
```



---

archive/issue_comments_070536.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">Comment 19</div>\n\nThe two files are the same. I did wrong manipulation. Sorry for that",
    "created_at": "2010-10-26T08:16:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8589#issuecomment-70536",
    "user": "https://github.com/sagetrac-vferay"
}
```

<div id="comment:19" align="right">Comment 19</div>

The two files are the same. I did wrong manipulation. Sorry for that



---

archive/issue_events_098519.json:
```json
{
    "actor": "https://github.com/sagetrac-vferay",
    "created_at": "2010-10-26T08:16:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8589",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8589#event-98519"
}
```



---

archive/issue_events_098520.json:
```json
{
    "actor": "https://github.com/sagetrac-vferay",
    "created_at": "2010-10-26T08:16:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8589",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8589#event-98520"
}
```



---

archive/issue_events_098521.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2010-11-01T10:06:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8589",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8589#event-98521"
}
```



---

archive/issue_events_098522.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2010-11-01T10:06:12Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/8589",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8589#event-98522"
}
```



---

archive/issue_comments_070537.json:
```json
{
    "body": "Merged: **sage-4.6.1.alpha0**",
    "created_at": "2010-11-01T10:06:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8589#issuecomment-70537",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-4.6.1.alpha0**



---

archive/issue_comments_070538.json:
```json
{
    "body": "Changed author from **Valentin Feray** to **Valentin F\u00e9ray**",
    "created_at": "2017-07-19T08:25:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8589#issuecomment-70538",
    "user": "https://github.com/fchapoton"
}
```

Changed author from **Valentin Feray** to **Valentin Féray**



---

archive/issue_comments_070539.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">Comment 22</div>\n\nname with accent",
    "created_at": "2017-07-19T08:25:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8589#issuecomment-70539",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:22" align="right">Comment 22</div>

name with accent
