# Issue 8270: 'make check' exits with exit code 0 on a failure.

archive/issues_008270.json:
```json
{
    "body": "The iconv package, which will soon be added to sage (#8191) has the facility to run \n\n```\nmake check\n```\n\nHowever, despite getting a test failure on Solaris 10 (SPARC), the makefile is still exiting with an exit code of 0, so any scripts which rely on testing iconv by relying on a failure of 'make check' to exit properly with a non-zero exit code will not work as desired. \n\nI'll report this to the iconv developers. \n\n\n\n**Assignee:** GeorgSWeber\n\n**Upstream:** Reported upstream. Developers deny it's a bug.\n\nIssue created by migration from https://trac.sagemath.org/ticket/8270\n\n",
    "closed_at": "2010-02-16T23:30:14Z",
    "created_at": "2010-02-15T10:23:56Z",
    "labels": [
        "component: build",
        "bug",
        "invalid"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "'make check' exits with exit code 0 on a failure.",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/8270",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```
The iconv package, which will soon be added to sage (#8191) has the facility to run 

```
make check
```

However, despite getting a test failure on Solaris 10 (SPARC), the makefile is still exiting with an exit code of 0, so any scripts which rely on testing iconv by relying on a failure of 'make check' to exit properly with a non-zero exit code will not work as desired. 

I'll report this to the iconv developers. 



**Assignee:** GeorgSWeber

**Upstream:** Reported upstream. Developers deny it's a bug.

Issue created by migration from https://trac.sagemath.org/ticket/8270





---

archive/issue_events_024166.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/8270",
    "rename": {
        "from": "'make check' on exits with 0 on a failure.",
        "to": "'make check' exits with exit code 0 on a failure."
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/8270#event-24166"
}
```



---

archive/attachments_010214.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "install",
    "asset_url": "tarball://root/attachments/some-uuid/ticket8270/install",
    "created_at": "2010-02-15T11:46:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8270",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```



---

archive/issue_comments_084687.json:
```json
{
    "body": "The file spkg/install  The iconv package is added.",
    "created_at": "2010-02-15T11:46:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8270#issuecomment-84687",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

The file spkg/install  The iconv package is added.



---

archive/attachments_010215.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "install.diff",
    "asset_url": "tarball://root/attachments/some-uuid/ticket8270/install.diff",
    "created_at": "2010-02-15T11:47:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8270",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.diff",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```



---

archive/issue_comments_084688.json:
```json
{
    "body": "Diff between the old spkg/install and the updated spkg/install for iconv support",
    "created_at": "2010-02-15T11:47:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8270#issuecomment-84688",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

Diff between the old spkg/install and the updated spkg/install for iconv support



---

archive/issue_comments_084689.json:
```json
{
    "body": "spkg/standard/deps to show packages which depend on iconv.",
    "created_at": "2010-02-15T11:47:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8270#issuecomment-84689",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

spkg/standard/deps to show packages which depend on iconv.



---

archive/attachments_010216.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "deps",
    "asset_url": "tarball://root/attachments/some-uuid/ticket8270/deps",
    "created_at": "2010-02-15T11:48:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8270",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```



---

archive/issue_comments_084690.json:
```json
{
    "body": "Diff between the old spkg/standard/deps and the new one with iconv",
    "created_at": "2010-02-15T11:48:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8270#issuecomment-84690",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

Diff between the old spkg/standard/deps and the new one with iconv



---

archive/attachments_010217.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "deps.diff",
    "asset_url": "tarball://root/attachments/some-uuid/ticket8270/deps.diff",
    "created_at": "2010-02-15T11:49:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8270",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.diff",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```



---

archive/issue_comments_084691.json:
```json
{
    "body": "<a id='comment:2'></a>\nIgnore all these file - they were attached to the wrong ticket!! \nSorry about that.",
    "created_at": "2010-02-15T11:49:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8270#issuecomment-84691",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

<a id='comment:2'></a>
Ignore all these file - they were attached to the wrong ticket!! 
Sorry about that.



---

archive/issue_events_024167.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/drkirkby",
    "created_at": "2010-02-16T23:30:14Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/8270",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/8270#event-24167"
}
```



---

archive/issue_comments_084692.json:
```json
{
    "body": "<a id='comment:3'></a>\nI'm told by the iconv developers this is not a bug. The core dumps are expected and ignored.",
    "created_at": "2010-02-16T23:30:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8270#issuecomment-84692",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

<a id='comment:3'></a>
I'm told by the iconv developers this is not a bug. The core dumps are expected and ignored.



---

archive/issue_events_024168.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mvngu",
    "created_at": "2010-02-17T01:18:28Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/8270",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/8270#event-24168"
}
```



---

archive/issue_comments_084693.json:
```json
{
    "body": "**Changing upstream** from \"Not yet reported upstream; Will do shortly.\" to \"Reported upstream. Developers deny it's a bug.\".",
    "created_at": "2010-02-17T01:47:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8270#issuecomment-84693",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

**Changing upstream** from "Not yet reported upstream; Will do shortly." to "Reported upstream. Developers deny it's a bug.".
