# Issue 8747: Speedup testsuite using LazyFormat

archive/issues_008747.json:
```json
{
    "assignees": [
        "https://github.com/hivert"
    ],
    "body": "Thanks to #8742 one can speed up TestSuite by using `LazyFormat` to report failure. \n\nKeywords: **testsuite, lazy format strings**\n\nComponent: **categories**\n\nAuthor: **Florent Hivert**\n\nReviewer: **Nicolas M. Thi\u00e9ry**\n\nMerged: **sage-4.4.4.alpha1**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/8747_\n\n",
    "closed_at": "2010-06-09T02:22:44Z",
    "created_at": "2010-04-22T19:58:57Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20categories",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.4.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Speedup testsuite using LazyFormat",
    "type": "issue",
    "updated_at": "2010-06-09T02:22:44Z",
    "url": "https://github.com/sagemath/sage/issues/8747",
    "user": "https://github.com/hivert"
}
```
Thanks to #8742 one can speed up TestSuite by using `LazyFormat` to report failure. 

Keywords: **testsuite, lazy format strings**

Component: **categories**

Author: **Florent Hivert**

Reviewer: **Nicolas M. Thiéry**

Merged: **sage-4.4.4.alpha1**

_Issue created by migration from https://trac.sagemath.org/ticket/8747_





---

archive/issue_events_111012.json:
```json
{
    "actor": "https://github.com/hivert",
    "created_at": "2010-04-22T19:58:57Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/8747",
    "milestone_number": null,
    "milestone_title": "sage-4.4.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8747#event-111012"
}
```



---

archive/issue_events_111013.json:
```json
{
    "actor": "https://github.com/hivert",
    "created_at": "2010-04-22T19:58:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8747",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20categories",
    "label_color": "0000ff",
    "label_name": "c: categories",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8747#event-111013"
}
```



---

archive/issue_events_111014.json:
```json
{
    "actor": "https://github.com/hivert",
    "created_at": "2010-04-22T19:58:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8747",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8747#event-111014"
}
```



---

archive/issue_events_111015.json:
```json
{
    "actor": "https://github.com/hivert",
    "created_at": "2010-04-22T19:58:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8747",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8747#event-111015"
}
```



---

archive/issue_events_111016.json:
```json
{
    "actor": "https://github.com/hivert",
    "created_at": "2010-04-22T19:58:57Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/8747",
    "subject": "https://github.com/hivert",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8747#event-111016"
}
```



---

archive/issue_comments_071014.json:
```json
{
    "body": "Attachment: **[trac_8747-testsuite-speedup-fh.patch.gz](https://github.com/sagemath/sage/files/ticket8747/trac_8747-testsuite-speedup-fh.patch.gz)**",
    "created_at": "2010-04-30T21:53:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8747#issuecomment-71014",
    "user": "https://github.com/hivert"
}
```

Attachment: **[trac_8747-testsuite-speedup-fh.patch.gz](https://github.com/sagemath/sage/files/ticket8747/trac_8747-testsuite-speedup-fh.patch.gz)**



---

archive/issue_events_111017.json:
```json
{
    "actor": "https://github.com/hivert",
    "created_at": "2010-05-12T17:45:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8747",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8747#event-111017"
}
```



---

archive/issue_comments_071015.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nPrivate e-mail from Nicolas\n\n```\n- trac_8747-testsuite-speedup-fh.patch\n\n   \u00c7a m'a l'air bon! Est-ce que l'on veut syst\u00e9matiquement utiliser\n   des lazy-format dans tous les tests, ou seulement ceux o\u00f9 il y a un\n   impact de vitesse? Par exemple, Parent._test_category n'est\n   probablement pas critique.\n```\n\nTranslation: All looks good. Do we want to systematically use LazyFormat for all tests or only those impacting speed ? For example, Parent._test_category isn't critical.\n\n\nAnswer: I put them in parent to advertise the feature....",
    "created_at": "2010-05-12T17:45:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8747#issuecomment-71015",
    "user": "https://github.com/hivert"
}
```

<div id="comment:1" align="right">comment:1</div>

Private e-mail from Nicolas

```
- trac_8747-testsuite-speedup-fh.patch

   Ça m'a l'air bon! Est-ce que l'on veut systématiquement utiliser
   des lazy-format dans tous les tests, ou seulement ceux où il y a un
   impact de vitesse? Par exemple, Parent._test_category n'est
   probablement pas critique.
```

Translation: All looks good. Do we want to systematically use LazyFormat for all tests or only those impacting speed ? For example, Parent._test_category isn't critical.


Answer: I put them in parent to advertise the feature....



---

archive/issue_comments_071016.json:
```json
{
    "body": "Reviewer: **Nicolas M. Thi\u00e9ry**",
    "created_at": "2010-05-12T17:45:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8747#issuecomment-71016",
    "user": "https://github.com/hivert"
}
```

Reviewer: **Nicolas M. Thiéry**



---

archive/issue_comments_071017.json:
```json
{
    "body": "Changed keywords from none to **testsuite, lazy format strings**",
    "created_at": "2010-05-12T17:45:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8747#issuecomment-71017",
    "user": "https://github.com/hivert"
}
```

Changed keywords from none to **testsuite, lazy format strings**



---

archive/issue_events_111018.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2010-06-07T17:57:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8747",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8747#event-111018"
}
```



---

archive/issue_events_111019.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2010-06-07T17:57:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8747",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8747#event-111019"
}
```



---

archive/issue_comments_071018.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nAll tests patch on Sage 4.4.3, with the following patches applied:\n\n```\ntrac_8704-integer_range_print-fh.patch\ntrac_9104_freemod_name-fix-nt.patch\ntrac_8881-functorial_constructions-nt.patch\ntrac_8742-lazy_format-fh.patch\ntrac_8742-lazy_format-review-nt.patch\ntrac_8930-enumerated_set_deprecate-fh.patch\n8691_permutation_plainchange_tjb.patch\ntrac_8926_family_repr-fh.patch\ntrac_8902-subsets_call_fix-fh.patch\ntrac_8888_partition_rim-fh.patch\ntrac_8888_reviewer_jb.patch\ntrac_8811_reduced_word_of_translations-nt.patch\ntrac_8500_transitive_groups-final.patch\ntrac_8549_cycle_enumerator-nb.patch\ntrac_8490_square_free-vd.patch\ntrac_9096_disj_union_sphinx_fix-fh.patch\ntrac_8954-nilTemperley-as.patch\ntrac_8913-cayley_graph_twosided_labels-nt.patch\ntrac_8887-typo_monoid_prod-fh.patch\ntrac_9106-UniqueRep_sphinx_fix-fh.patch\ntrac_8876-triangular_morphisms_improve-fh.patch\ntrac_8876-reviewer_patch-jb.patch\nsage-5.0.patch\ntrac_9178-attrcall_hash_fix-nt.patch\ngap3_interface_v4.3.3.patch\ngap3_interface_patch2.patch\ntrac_8747-testsuite-speedup-fh.patch\n```\n\nExcept maybe on sage.misc.sagedoc, but that's most likely a glitch from building the doc previously with later patches applied.",
    "created_at": "2010-06-07T17:57:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8747#issuecomment-71018",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:2" align="right">comment:2</div>

All tests patch on Sage 4.4.3, with the following patches applied:

```
trac_8704-integer_range_print-fh.patch
trac_9104_freemod_name-fix-nt.patch
trac_8881-functorial_constructions-nt.patch
trac_8742-lazy_format-fh.patch
trac_8742-lazy_format-review-nt.patch
trac_8930-enumerated_set_deprecate-fh.patch
8691_permutation_plainchange_tjb.patch
trac_8926_family_repr-fh.patch
trac_8902-subsets_call_fix-fh.patch
trac_8888_partition_rim-fh.patch
trac_8888_reviewer_jb.patch
trac_8811_reduced_word_of_translations-nt.patch
trac_8500_transitive_groups-final.patch
trac_8549_cycle_enumerator-nb.patch
trac_8490_square_free-vd.patch
trac_9096_disj_union_sphinx_fix-fh.patch
trac_8954-nilTemperley-as.patch
trac_8913-cayley_graph_twosided_labels-nt.patch
trac_8887-typo_monoid_prod-fh.patch
trac_9106-UniqueRep_sphinx_fix-fh.patch
trac_8876-triangular_morphisms_improve-fh.patch
trac_8876-reviewer_patch-jb.patch
sage-5.0.patch
trac_9178-attrcall_hash_fix-nt.patch
gap3_interface_v4.3.3.patch
gap3_interface_patch2.patch
trac_8747-testsuite-speedup-fh.patch
```

Except maybe on sage.misc.sagedoc, but that's most likely a glitch from building the doc previously with later patches applied.



---

archive/issue_events_111020.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2010-06-09T02:22:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8747",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8747#event-111020"
}
```



---

archive/issue_events_111021.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2010-06-09T02:22:44Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/8747",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8747#event-111021"
}
```



---

archive/issue_comments_071019.json:
```json
{
    "body": "Merged: **sage-4.4.4.alpha1**",
    "created_at": "2010-06-09T02:22:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8747#issuecomment-71019",
    "user": "https://github.com/mwhansen"
}
```

Merged: **sage-4.4.4.alpha1**
