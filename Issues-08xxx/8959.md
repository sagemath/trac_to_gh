# Issue 8959: interact layouts with arbitrary html

archive/issues_008959.json:
```json
{
    "body": "The layout argument of an interact should also accept a string, maybe a string in the format of either standard python formats (i.e., \"<table><tr><td>{a}</td></tr></table>\"), or using the simple template classes that come with python (i.e., \"<table><tr><td>$a</td></tr></table>\").  Whichever convention is chosen, the string is given the dictionary of {'variable name': 'html for variable control'}, or maybe {'variable name': {'label': HTML label, 'control': 'html for control'}}, so you could do \"<td>{a.label}</td><td>{a.control}</td>\".\n\nAssignee: itolkov, jason\n\nCC:  @williamstein @TimDumol mhampton\n\nResolution: fixed\n\nAuthor: Jason Grout\n\nMerged: SageNB 0.8.1\n\nIssue created by migration from https://trac.sagemath.org/ticket/8959\n\n",
    "closed_at": "2010-07-11T06:06:38Z",
    "created_at": "2010-05-13T09:05:55Z",
    "labels": [
        "component: interact"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.5",
    "title": "interact layouts with arbitrary html",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/8959",
    "user": "https://github.com/jasongrout"
}
```
The layout argument of an interact should also accept a string, maybe a string in the format of either standard python formats (i.e., "<table><tr><td>{a}</td></tr></table>"), or using the simple template classes that come with python (i.e., "<table><tr><td>$a</td></tr></table>").  Whichever convention is chosen, the string is given the dictionary of {'variable name': 'html for variable control'}, or maybe {'variable name': {'label': HTML label, 'control': 'html for control'}}, so you could do "<td>{a.label}</td><td>{a.control}</td>".

Assignee: itolkov, jason

CC:  @williamstein @TimDumol mhampton

Resolution: fixed

Author: Jason Grout

Merged: SageNB 0.8.1

Issue created by migration from https://trac.sagemath.org/ticket/8959





---

archive/issue_comments_082442.json:
```json
{
    "body": "<a id='comment:1'></a>See #7379 for the initial implementation of this feature.",
    "created_at": "2010-05-13T09:07:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8959#issuecomment-82442",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:1'></a>See #7379 for the initial implementation of this feature.



---

archive/issue_comments_082443.json:
```json
{
    "body": "<a id='comment:2'></a>Okay, the attached patch lets you specify controls on each side, as well as the width of the interact.  The following code gives the interact in the screenshot attached.\n\n```\n\nvar('x')\n@interact(layout=dict(top=[['f'],['r','plot_points']], bottom=[['color','thickness'],['adaptive_recursion','adaptive_tolerance']], left=[['gridlines'],['fill'],['frame'],['axes']], right=[['linestyle']]))\ndef plot_example(f=sin(x^2),r=range_slider(-5,5,step_size=1/4,default=(-3,3)), \n                 color=color_selector(widget='colorpicker'),\n                 thickness=(3,(1..10)),\n                 adaptive_recursion=(5,(0..10)), adaptive_tolerance=(0.01,(0.001,1)),\n                 plot_points=(20,(1..100)),\n                 linestyle=['-','--','-.',':'],\n                 gridlines=False, fill=False,\n                 frame=False, axes=True\n                 ):\n    show(plot(f, (x,r[0],r[1]), color=color, thickness=thickness, \n                 adaptive_recursion=adaptive_recursion,\n                 adaptive_tolerance=adaptive_tolerance, plot_points=plot_points,\n                 linestyle=linestyle, fill=fill if fill else None), \n                 gridlines=gridlines, frame=frame, axes=axes)\n```",
    "created_at": "2010-05-14T03:17:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8959#issuecomment-82443",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:2'></a>Okay, the attached patch lets you specify controls on each side, as well as the width of the interact.  The following code gives the interact in the screenshot attached.

```

var('x')
@interact(layout=dict(top=[['f'],['r','plot_points']], bottom=[['color','thickness'],['adaptive_recursion','adaptive_tolerance']], left=[['gridlines'],['fill'],['frame'],['axes']], right=[['linestyle']]))
def plot_example(f=sin(x^2),r=range_slider(-5,5,step_size=1/4,default=(-3,3)), 
                 color=color_selector(widget='colorpicker'),
                 thickness=(3,(1..10)),
                 adaptive_recursion=(5,(0..10)), adaptive_tolerance=(0.01,(0.001,1)),
                 plot_points=(20,(1..100)),
                 linestyle=['-','--','-.',':'],
                 gridlines=False, fill=False,
                 frame=False, axes=True
                 ):
    show(plot(f, (x,r[0],r[1]), color=color, thickness=thickness, 
                 adaptive_recursion=adaptive_recursion,
                 adaptive_tolerance=adaptive_tolerance, plot_points=plot_points,
                 linestyle=linestyle, fill=fill if fill else None), 
                 gridlines=gridlines, frame=frame, axes=axes)
```



---

archive/issue_comments_082444.json:
```json
{
    "body": "Attachment [Interact Layouts.png](tarball://root/attachments/some-uuid/ticket8959/Interact Layouts.png) by @jasongrout created at 2010-05-14 03:23:28",
    "created_at": "2010-05-14T03:23:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8959#issuecomment-82444",
    "user": "https://github.com/jasongrout"
}
```

Attachment [Interact Layouts.png](tarball://root/attachments/some-uuid/ticket8959/Interact Layouts.png) by @jasongrout created at 2010-05-14 03:23:28



---

archive/issue_comments_082445.json:
```json
{
    "body": "<a id='comment:3'></a>Jason,\n\nNice work - this will improve the utilization of screen real estate.\n\nWas there a patch to include?\n\nRob",
    "created_at": "2010-05-14T04:45:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8959#issuecomment-82445",
    "user": "https://github.com/rbeezer"
}
```

<a id='comment:3'></a>Jason,

Nice work - this will improve the utilization of screen real estate.

Was there a patch to include?

Rob



---

archive/issue_comments_082446.json:
```json
{
    "body": "for SAGENB repository",
    "created_at": "2010-05-14T07:14:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8959#issuecomment-82446",
    "user": "https://github.com/jasongrout"
}
```

for SAGENB repository



---

archive/issue_comments_082447.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2010-05-14T07:15:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8959#issuecomment-82447",
    "user": "https://github.com/jasongrout"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_082448.json:
```json
{
    "body": "<a id='comment:4'></a>Attachment [trac-8959-interact-layout-align.patch](tarball://root/attachments/some-uuid/ticket8959/trac-8959-interact-layout-align.patch) by @jasongrout created at 2010-05-14 07:15:15\n\nThis patch depends on #7379 and extends the functionality there.",
    "created_at": "2010-05-14T07:15:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8959#issuecomment-82448",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:4'></a>Attachment [trac-8959-interact-layout-align.patch](tarball://root/attachments/some-uuid/ticket8959/trac-8959-interact-layout-align.patch) by @jasongrout created at 2010-05-14 07:15:15

This patch depends on #7379 and extends the functionality there.



---

archive/issue_comments_082449.json:
```json
{
    "body": "apply on top of previous patches",
    "created_at": "2010-05-16T04:46:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8959#issuecomment-82449",
    "user": "https://github.com/jasongrout"
}
```

apply on top of previous patches



---

archive/issue_comments_082450.json:
```json
{
    "body": "<a id='comment:5'></a>Attachment [trac-8959-handle-update-button.patch](tarball://root/attachments/some-uuid/ticket8959/trac-8959-handle-update-button.patch) by @jasongrout created at 2010-05-16 04:48:16\n\nThe handle-update-button patch takes care of the auto_update problem mhampton pointed out on #7379.  At least, I think it does; the feature seems to work.  I don't know how to doctest the notebook after I've done \"sage -python setup.py develop\" to work on notebook files.  When I try to run sage -t, there's just an error about importing jsmath.",
    "created_at": "2010-05-16T04:48:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8959#issuecomment-82450",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:5'></a>Attachment [trac-8959-handle-update-button.patch](tarball://root/attachments/some-uuid/ticket8959/trac-8959-handle-update-button.patch) by @jasongrout created at 2010-05-16 04:48:16

The handle-update-button patch takes care of the auto_update problem mhampton pointed out on #7379.  At least, I think it does; the feature seems to work.  I don't know how to doctest the notebook after I've done "sage -python setup.py develop" to work on notebook files.  When I try to run sage -t, there's just an error about importing jsmath.



---

archive/issue_comments_082451.json:
```json
{
    "body": "<a id='comment:6'></a>You can do:\n\nsage -t -sagenb\n\nto test the notebook.  I'll try to check the patch out today.",
    "created_at": "2010-05-16T13:57:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8959#issuecomment-82451",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhampton"
}
```

<a id='comment:6'></a>You can do:

sage -t -sagenb

to test the notebook.  I'll try to check the patch out today.



---

archive/issue_comments_082452.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2010-05-16T14:31:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8959#issuecomment-82452",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhampton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_082453.json:
```json
{
    "body": "<a id='comment:7'></a>Tests pass now and a variety of interacts from the wiki work fine as well.  \n\nIt would be nice if there was an easy way to pack things in various ways.  It also makes me desire an option for slider and range_slider to change their lengths, but that's for another day.",
    "created_at": "2010-05-16T14:31:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8959#issuecomment-82453",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhampton"
}
```

<a id='comment:7'></a>Tests pass now and a variety of interacts from the wiki work fine as well.  

It would be nice if there was an easy way to pack things in various ways.  It also makes me desire an option for slider and range_slider to change their lengths, but that's for another day.



---

archive/issue_events_021877.json:
```json
{
    "actor": "https://github.com/TimDumol",
    "created_at": "2010-07-11T06:06:38Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/8959",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/8959#event-21877"
}
```



---

archive/issue_comments_082454.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2010-07-11T06:06:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8959#issuecomment-82454",
    "user": "https://github.com/TimDumol"
}
```

Resolution: fixed
