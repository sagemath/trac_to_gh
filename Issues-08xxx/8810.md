# Issue 8810: Implementation of Stanley symmetric functions

archive/issues_008810.json:
```json
{
    "assignees": [
        "https://github.com/sagetrac-sage-combinat"
    ],
    "body": "#8810: Implementation of Stanley symmetric functions for types A,B and A/B/C/D affine\n\nDepends on #8811.\n\nBased on the combinatorics of Pieri factors (sage/combinat/root_systems/pieri_factors.py)\n\nCurrently, there are two implementations of the maximal Pieri factors:\na combinatorial implementation and a type-free implementation using translations in the affine Weyl group.  Type D affine Stanley symmetric functions are still conjectural, but type D affine Pieri factors have been established rigorously.\n\n\nCC:  @sagetrac-sage-combinat\n\nComponent: **combinatorics**\n\nAuthor: **Steve Pon, Anne Schilling,  Nicolas M. Thi\u00e9ry**\n\nReviewer: **Nicolas M. Thi\u00e9ry, Thomas Lam**\n\nMerged: **sage-4.5.2.alpha0**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/8810_\n\n",
    "closed_at": "2010-07-21T10:27:51Z",
    "created_at": "2010-04-28T22:20:45Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.5.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Implementation of Stanley symmetric functions",
    "type": "issue",
    "updated_at": "2010-07-21T10:27:51Z",
    "url": "https://github.com/sagemath/sage/issues/8810",
    "user": "https://github.com/anneschilling"
}
```
#8810: Implementation of Stanley symmetric functions for types A,B and A/B/C/D affine

Depends on #8811.

Based on the combinatorics of Pieri factors (sage/combinat/root_systems/pieri_factors.py)

Currently, there are two implementations of the maximal Pieri factors:
a combinatorial implementation and a type-free implementation using translations in the affine Weyl group.  Type D affine Stanley symmetric functions are still conjectural, but type D affine Pieri factors have been established rigorously.


CC:  @sagetrac-sage-combinat

Component: **combinatorics**

Author: **Steve Pon, Anne Schilling,  Nicolas M. Thiéry**

Reviewer: **Nicolas M. Thiéry, Thomas Lam**

Merged: **sage-4.5.2.alpha0**

_Issue created by migration from https://trac.sagemath.org/ticket/8810_





---

archive/issue_events_111586.json:
```json
{
    "actor": "https://github.com/anneschilling",
    "created_at": "2010-04-28T22:20:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8810",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "c: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8810#event-111586"
}
```



---

archive/issue_events_111587.json:
```json
{
    "actor": "https://github.com/anneschilling",
    "created_at": "2010-04-28T22:20:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8810",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8810#event-111587"
}
```



---

archive/issue_events_111588.json:
```json
{
    "actor": "https://github.com/anneschilling",
    "created_at": "2010-04-28T22:20:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8810",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8810#event-111588"
}
```



---

archive/issue_events_111589.json:
```json
{
    "actor": "https://github.com/sagetrac-sage-combinat",
    "created_at": "2010-04-28T22:20:45Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/8810",
    "subject": "https://github.com/anneschilling",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8810#event-111589"
}
```



---

archive/issue_events_111590.json:
```json
{
    "actor": "https://github.com/sagetrac-stevenpon",
    "created_at": "2010-05-14T20:57:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8810",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8810#event-111590"
}
```



---

archive/issue_comments_071883.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,9 @@\n-This patch implements (affine) Stanley symmetric functions for type A,B,C,D.\n+#8810: Implementation of Stanley symmetric functions for types A,B and A/B/C/D affine\n+\n+Depends on #8811.\n+\n+Based on the combinatorics of Pieri factors (sage/combinat/root_systems/pieri_factors.py)\n+\n+Currently, there are two implementations of the maximal Pieri factors:\n+a combinatorial implementation and a type-free implementation using translations in the affine Weyl group.  Type D affine Stanley symmetric functions are still conjectural, but type D affine Pieri factors have been established rigorously.\n+\n``````\n",
    "created_at": "2010-05-14T20:57:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8810",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8810#issuecomment-71883",
    "user": "https://github.com/sagetrac-stevenpon"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,9 @@
-This patch implements (affine) Stanley symmetric functions for type A,B,C,D.
+#8810: Implementation of Stanley symmetric functions for types A,B and A/B/C/D affine
+
+Depends on #8811.
+
+Based on the combinatorics of Pieri factors (sage/combinat/root_systems/pieri_factors.py)
+
+Currently, there are two implementations of the maximal Pieri factors:
+a combinatorial implementation and a type-free implementation using translations in the affine Weyl group.  Type D affine Stanley symmetric functions are still conjectural, but type D affine Pieri factors have been established rigorously.
+
``````




---

archive/issue_comments_071884.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nDepends on #8811, which needs review.",
    "created_at": "2010-05-14T20:57:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8810",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8810#issuecomment-71884",
    "user": "https://github.com/sagetrac-stevenpon"
}
```

<div id="comment:1" align="right">comment:1</div>

Depends on #8811, which needs review.



---

archive/issue_comments_071885.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nThere's no patch up at #8811, though.",
    "created_at": "2010-05-15T01:40:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8810",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8810#issuecomment-71885",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:2" align="right">comment:2</div>

There's no patch up at #8811, though.



---

archive/issue_comments_071886.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nI'm just starting this review, and I will probably have more to say, but here some initial issues.  In the file weyl_groups.py:\n* The methods `exp_poly_to_sym`, `pieri_factors`, and `is_pieri_factor` are missing doctests.\n* Do you think `exp_poly_to_sym` has general use?  If so, it should probably be placed in the symmetric function code somewhere.  If not, it should probably be made private (eg. `_exp_poly_to_sym`)\n* In `exp_poly_to_sym`, you should replace\n` R._from_dict(dict( ... ) `\nwith\n` R.sum_of_terms( ... ) `\n* In the doc for `pieri_factors`:  \"Those are used..\" should be \"These are used..\", \"For any types\" should be \"For any type\"\n* In each of the methods `pieri_factors`, `is_pieri_factor`, and `left_pieri_factorizations` a reference in the doc to the 'pieri_factors.py` file (where pieri factors are described in more detail) would be nice.\n* Some reference to a definition of a Stanley symmetric function should be given in the doc to the `stanley_symmetric_..` methods.\n* The latex in the doc for `left_pieri_factoriztions` is not properly marked up.\n* In the doc for `stanley_symmetric_function_as_polynomial`, I don't understand the phrase \"The results is given in the ring of symmetric functions in the elementary basis, each factorization having weight prod_i x_i\". Can you explain this more fully?\n\nThere is a lot of really cool new functionality here.  I'm looking forward to it getting in to sage.  I'll try to finish this review soon.",
    "created_at": "2010-06-03T14:44:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8810",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8810#issuecomment-71886",
    "user": "https://github.com/jbandlow"
}
```

<div id="comment:3" align="right">comment:3</div>

I'm just starting this review, and I will probably have more to say, but here some initial issues.  In the file weyl_groups.py:
* The methods `exp_poly_to_sym`, `pieri_factors`, and `is_pieri_factor` are missing doctests.
* Do you think `exp_poly_to_sym` has general use?  If so, it should probably be placed in the symmetric function code somewhere.  If not, it should probably be made private (eg. `_exp_poly_to_sym`)
* In `exp_poly_to_sym`, you should replace
` R._from_dict(dict( ... ) `
with
` R.sum_of_terms( ... ) `
* In the doc for `pieri_factors`:  "Those are used.." should be "These are used..", "For any types" should be "For any type"
* In each of the methods `pieri_factors`, `is_pieri_factor`, and `left_pieri_factorizations` a reference in the doc to the 'pieri_factors.py` file (where pieri factors are described in more detail) would be nice.
* Some reference to a definition of a Stanley symmetric function should be given in the doc to the `stanley_symmetric_..` methods.
* The latex in the doc for `left_pieri_factoriztions` is not properly marked up.
* In the doc for `stanley_symmetric_function_as_polynomial`, I don't understand the phrase "The results is given in the ring of symmetric functions in the elementary basis, each factorization having weight prod_i x_i". Can you explain this more fully?

There is a lot of really cool new functionality here.  I'm looking forward to it getting in to sage.  I'll try to finish this review soon.



---

archive/issue_events_111591.json:
```json
{
    "actor": "https://github.com/jbandlow",
    "created_at": "2010-06-03T14:44:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8810",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8810#event-111591"
}
```



---

archive/issue_events_111592.json:
```json
{
    "actor": "https://github.com/jbandlow",
    "created_at": "2010-06-03T14:44:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8810",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8810#event-111592"
}
```



---

archive/issue_comments_071887.json:
```json
{
    "body": "Changed author from **Steve Pon, Nicolas Thiery, Anne Schilling** to **Steve Pon, Anne Schilling,  Nicolas M. Thi\u00e9ry**",
    "created_at": "2010-06-03T21:46:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8810",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8810#issuecomment-71887",
    "user": "https://github.com/nthiery"
}
```

Changed author from **Steve Pon, Nicolas Thiery, Anne Schilling** to **Steve Pon, Anne Schilling,  Nicolas M. Thiéry**



---

archive/issue_comments_071888.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nAnother point--I'm concerned about the following doctest in `stanley_symmetric_function_as_polynomial`:\n\n```\n    sage: W = WeylGroup(['B',3,1]) \n    sage: W.from_reduced_word([3,2,1]).stanley_symmetric_function_as_polynomial() \n    2.0*x1^3 + x1*x2 + 0.5*x3\n```\nThe coefficients should be in QQ, I think.  Probably you can replace\n` return sum(...) ` with ` return R(sum( ... )) `.",
    "created_at": "2010-06-04T13:58:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8810",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8810#issuecomment-71888",
    "user": "https://github.com/jbandlow"
}
```

<div id="comment:5" align="right">comment:5</div>

Another point--I'm concerned about the following doctest in `stanley_symmetric_function_as_polynomial`:

```
    sage: W = WeylGroup(['B',3,1]) 
    sage: W.from_reduced_word([3,2,1]).stanley_symmetric_function_as_polynomial() 
    2.0*x1^3 + x1*x2 + 0.5*x3
```
The coefficients should be in QQ, I think.  Probably you can replace
` return sum(...) ` with ` return R(sum( ... )) `.



---

archive/issue_comments_071889.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nI updated the docs and addressed your concerns about exp_poly_to_sym (it's now included with symmetric functions), as well as putting coefficients in QQ.  The patch is also in the combinat queue but currently disabled until Nicolas takes a quick look at my work.  It should be back soon, though.",
    "created_at": "2010-06-09T22:17:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8810",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8810#issuecomment-71889",
    "user": "https://github.com/sagetrac-stevenpon"
}
```

<div id="comment:6" align="right">comment:6</div>

I updated the docs and addressed your concerns about exp_poly_to_sym (it's now included with symmetric functions), as well as putting coefficients in QQ.  The patch is also in the combinat queue but currently disabled until Nicolas takes a quick look at my work.  It should be back soon, though.



---

archive/issue_events_111593.json:
```json
{
    "actor": "https://github.com/sagetrac-stevenpon",
    "created_at": "2010-06-09T22:17:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8810",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8810#event-111593"
}
```



---

archive/issue_events_111594.json:
```json
{
    "actor": "https://github.com/sagetrac-stevenpon",
    "created_at": "2010-06-09T22:17:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8810",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8810#event-111594"
}
```



---

archive/issue_comments_071890.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nHi!\n\nI am currently going through the patch, and will post shortly a reviewer's patch.",
    "created_at": "2010-06-10T08:22:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8810",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8810#issuecomment-71890",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:7" align="right">comment:7</div>

Hi!

I am currently going through the patch, and will post shortly a reviewer's patch.



---

archive/issue_events_111595.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2010-06-10T17:27:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8810",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8810#event-111595"
}
```



---

archive/issue_events_111596.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2010-06-10T17:27:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8810",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8810#event-111596"
}
```



---

archive/issue_comments_071891.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nHi Steve!\n\nI pushed a reviewers patch on the Sage-Combinat server. It fixes a bug\nor two, improves doctests, removes some unneeded imports, and removes\nsome unneeded code. By the way, I have rebased the Grothendieck patch.\n\nThere are still quite a few missing doctests:\n\n```\n> sage -coverage combinat/root_system/pieri_factors.py                          \n----------------------------------------------------------------------\ncombinat/root_system/pieri_factors.py\nSCORE combinat/root_system/pieri_factors.py: 77% (28 of 36)\nMissing documentation:\n\t * elements(self):\n\t * __classcall__(cls, W, min_length = 0, max_length = infinity, min_support = frozenset([]), max_support = None):\n\t * maximal_elements_combinatorial(self):\nMissing doctests:\n\t * __iter__(self):\n\t * __iter__(self):\n\t * stanley_symm_poly_weight(self,w):\n\t * maximal_elements_combinatorial(self):\n\t * stanley_symm_poly_weight(self, w):\n```\n\nPlease fix them, and look for TODO's in the file!",
    "created_at": "2010-06-10T17:27:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8810",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8810#issuecomment-71891",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:8" align="right">comment:8</div>

Hi Steve!

I pushed a reviewers patch on the Sage-Combinat server. It fixes a bug
or two, improves doctests, removes some unneeded imports, and removes
some unneeded code. By the way, I have rebased the Grothendieck patch.

There are still quite a few missing doctests:

```
> sage -coverage combinat/root_system/pieri_factors.py                          
----------------------------------------------------------------------
combinat/root_system/pieri_factors.py
SCORE combinat/root_system/pieri_factors.py: 77% (28 of 36)
Missing documentation:
	 * elements(self):
	 * __classcall__(cls, W, min_length = 0, max_length = infinity, min_support = frozenset([]), max_support = None):
	 * maximal_elements_combinatorial(self):
Missing doctests:
	 * __iter__(self):
	 * __iter__(self):
	 * stanley_symm_poly_weight(self,w):
	 * maximal_elements_combinatorial(self):
	 * stanley_symm_poly_weight(self, w):
```

Please fix them, and look for TODO's in the file!



---

archive/issue_comments_071892.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nAttachment: **[trac_8810_stanley_symmetric_functions-sp-as.patch.gz](https://github.com/sagemath/sage/files/ticket8810/trac_8810_stanley_symmetric_functions-sp-as.patch.gz)**\n\nThanks Nicolas!\n\nI was not sure how one usually goes about incorporating modifications from a reviewer's patch, so I hope what I did was alright.  I incorporated your changes into my patch, added documentation and fixed the TODO's, and then disabled your reviewer patch in the combinat queue.  The latest patch is now in the combinat queue and on the trac server.",
    "created_at": "2010-06-20T01:02:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8810",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8810#issuecomment-71892",
    "user": "https://github.com/sagetrac-stevenpon"
}
```

<div id="comment:9" align="right">comment:9</div>

Attachment: **[trac_8810_stanley_symmetric_functions-sp-as.patch.gz](https://github.com/sagemath/sage/files/ticket8810/trac_8810_stanley_symmetric_functions-sp-as.patch.gz)**

Thanks Nicolas!

I was not sure how one usually goes about incorporating modifications from a reviewer's patch, so I hope what I did was alright.  I incorporated your changes into my patch, added documentation and fixed the TODO's, and then disabled your reviewer patch in the combinat queue.  The latest patch is now in the combinat queue and on the trac server.



---

archive/issue_events_111597.json:
```json
{
    "actor": "https://github.com/sagetrac-stevenpon",
    "created_at": "2010-06-20T01:02:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8810",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8810#event-111597"
}
```



---

archive/issue_events_111598.json:
```json
{
    "actor": "https://github.com/sagetrac-stevenpon",
    "created_at": "2010-06-20T01:02:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8810",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8810#event-111598"
}
```



---

archive/issue_comments_071893.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@sagetrac-stevenpon](#comment:9):\n> Thanks Nicolas!\n> \n> I was not sure how one usually goes about incorporating modifications from a reviewer's patch, so I hope what I did was alright.  I incorporated your changes into my patch, added documentation and fixed the TODO's, and then disabled your reviewer patch in the combinat queue.  The latest patch is now in the combinat queue and on the trac server.\n\nSee `hg qfold`, in the patch server documentation.\n\nI have just added a new reviewer's patch, fixing the lack of tests for `__classcall__`, and a couple other small issues. Please review, fold, and reupload here. With that, this patch is good to go from a technical view point. I am now running all tests.\n\nAnne: do you think we need further review from the mathematical view point? If yes, do you have suggestions for a reviewer?",
    "created_at": "2010-06-21T23:05:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8810",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8810#issuecomment-71893",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@sagetrac-stevenpon](#comment:9):
> Thanks Nicolas!
> 
> I was not sure how one usually goes about incorporating modifications from a reviewer's patch, so I hope what I did was alright.  I incorporated your changes into my patch, added documentation and fixed the TODO's, and then disabled your reviewer patch in the combinat queue.  The latest patch is now in the combinat queue and on the trac server.

See `hg qfold`, in the patch server documentation.

I have just added a new reviewer's patch, fixing the lack of tests for `__classcall__`, and a couple other small issues. Please review, fold, and reupload here. With that, this patch is good to go from a technical view point. I am now running all tests.

Anne: do you think we need further review from the mathematical view point? If yes, do you have suggestions for a reviewer?



---

archive/issue_comments_071894.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nFor the record, all test pass on 4.4.3 on ubuntu linux with the following patches applied:\n\n```\ntrac_8704-integer_range_print-fh.patch\ntrac_9104_freemod_name-fix-nt.patch\ntrac_8881-functorial_constructions-nt.patch\ntrac_8742-lazy_format-fh.patch\ntrac_8742-lazy_format-review-nt.patch\ntrac_8930-enumerated_set_deprecate-fh.patch\n8691_permutation_plainchange_tjb.patch\ntrac_8926_family_repr-fh.patch\ntrac_8902-subsets_call_fix-fh.patch\ntrac_8910-combinatorial_class_parent-fh.patch\ntrac_8910-subsets_an_element-fh.patch\ntrac_8888_partition_rim-fh.patch\ntrac_8888_reviewer_jb.patch\ntrac_8811_reduced_word_of_translations-nt.patch\ntrac_8500_transitive_groups-final.patch\ntrac_8549_cycle_enumerator-nb.patch\ntrac_8490_square_free-vd.patch\ntrac_8490_review-sl.patch\ntrac_9096_disj_union_sphinx_fix-fh.patch\ntrac_8890-free_module-cleanup-nt.patch\ntrac_8954-nilTemperley-as.patch\ntrac_8913-cayley_graph_twosided_labels-nt.patch\ntrac_8887-typo_monoid_prod-fh.patch\ntrac_9106-UniqueRep_sphinx_fix-fh.patch\ntrac_8876-triangular_morphisms_improve-fh.patch\ntrac_8876-reviewer_patch-jb.patch\ntrac_9178-attrcall_hash_fix-nt.patch\ntrac_8911_categorification_crystals-as.patch\ntrac_8380_gap3_interface.patch\ntrac_9056_semirings_category-nb.patch\ntrac_9056_semirings_category-review-nt.patch\ntrac_8747-testsuite-speedup-fh.patch\ntrac_9105-categories-primer-improvements-nt.patch\ntrac_9213-doc_poset_elements-sl.patch\ntrac_9214-doc_lyndon_word-sl.patch\ntrac_8984_crystals_alcove_path_model_bj.patch\ntrac_9215_doc_animate-sl.patch\ntrac_9216_doc_group_pyx-sl.patch\ntrac_8562-rebased.patch\ntrac_9259-combinatorialclass_doc_fix-fh.patch\ntrac_8810_stanley_symmetric_functions-sp-as.patch\ntrac_8810_stanley_symmetric_functions-review-nt.patch\n```",
    "created_at": "2010-06-21T23:19:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8810",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8810#issuecomment-71894",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:11" align="right">comment:11</div>

For the record, all test pass on 4.4.3 on ubuntu linux with the following patches applied:

```
trac_8704-integer_range_print-fh.patch
trac_9104_freemod_name-fix-nt.patch
trac_8881-functorial_constructions-nt.patch
trac_8742-lazy_format-fh.patch
trac_8742-lazy_format-review-nt.patch
trac_8930-enumerated_set_deprecate-fh.patch
8691_permutation_plainchange_tjb.patch
trac_8926_family_repr-fh.patch
trac_8902-subsets_call_fix-fh.patch
trac_8910-combinatorial_class_parent-fh.patch
trac_8910-subsets_an_element-fh.patch
trac_8888_partition_rim-fh.patch
trac_8888_reviewer_jb.patch
trac_8811_reduced_word_of_translations-nt.patch
trac_8500_transitive_groups-final.patch
trac_8549_cycle_enumerator-nb.patch
trac_8490_square_free-vd.patch
trac_8490_review-sl.patch
trac_9096_disj_union_sphinx_fix-fh.patch
trac_8890-free_module-cleanup-nt.patch
trac_8954-nilTemperley-as.patch
trac_8913-cayley_graph_twosided_labels-nt.patch
trac_8887-typo_monoid_prod-fh.patch
trac_9106-UniqueRep_sphinx_fix-fh.patch
trac_8876-triangular_morphisms_improve-fh.patch
trac_8876-reviewer_patch-jb.patch
trac_9178-attrcall_hash_fix-nt.patch
trac_8911_categorification_crystals-as.patch
trac_8380_gap3_interface.patch
trac_9056_semirings_category-nb.patch
trac_9056_semirings_category-review-nt.patch
trac_8747-testsuite-speedup-fh.patch
trac_9105-categories-primer-improvements-nt.patch
trac_9213-doc_poset_elements-sl.patch
trac_9214-doc_lyndon_word-sl.patch
trac_8984_crystals_alcove_path_model_bj.patch
trac_9215_doc_animate-sl.patch
trac_9216_doc_group_pyx-sl.patch
trac_8562-rebased.patch
trac_9259-combinatorialclass_doc_fix-fh.patch
trac_8810_stanley_symmetric_functions-sp-as.patch
trac_8810_stanley_symmetric_functions-review-nt.patch
```



---

archive/issue_comments_071895.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\n> Anne: do you think we need further review from the mathematical view point? If yes, do you have suggestions for a reviewer?\n\nIf a mathematical review is needed, then Mark Shimozono or Jason Bandlow might be good candidates.",
    "created_at": "2010-06-22T08:00:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8810",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8810#issuecomment-71895",
    "user": "https://github.com/anneschilling"
}
```

<div id="comment:12" align="right">comment:12</div>

> Anne: do you think we need further review from the mathematical view point? If yes, do you have suggestions for a reviewer?

If a mathematical review is needed, then Mark Shimozono or Jason Bandlow might be good candidates.



---

archive/issue_comments_071896.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@anneschilling](#comment:12):\n> > Anne: do you think we need further review from the mathematical view point? If yes, do you have suggestions for a reviewer?\n\n> \n> If a mathematical review is needed, then Mark Shimozono or Jason Bandlow might be good candidates.\n\nGood idea. Let's try to save Jason some time for other reviews. Can you please send a quick e-mail to Mark?",
    "created_at": "2010-06-22T08:06:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8810",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8810#issuecomment-71896",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@anneschilling](#comment:12):
> > Anne: do you think we need further review from the mathematical view point? If yes, do you have suggestions for a reviewer?

> 
> If a mathematical review is needed, then Mark Shimozono or Jason Bandlow might be good candidates.

Good idea. Let's try to save Jason some time for other reviews. Can you please send a quick e-mail to Mark?



---

archive/issue_events_111599.json:
```json
{
    "actor": "https://github.com/anneschilling",
    "created_at": "2010-06-25T03:14:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8810",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8810#event-111599"
}
```



---

archive/issue_events_111600.json:
```json
{
    "actor": "https://github.com/anneschilling",
    "created_at": "2010-06-25T03:14:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8810",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8810#event-111600"
}
```



---

archive/issue_comments_071897.json:
```json
{
    "body": "Reviewer: **Nicolas M. Thi\u00e9ry, Thomas Lam**",
    "created_at": "2010-06-25T03:14:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8810",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8810#issuecomment-71897",
    "user": "https://github.com/anneschilling"
}
```

Reviewer: **Nicolas M. Thiéry, Thomas Lam**



---

archive/issue_comments_071898.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nAttachment: **[trac_8810_stanley_symmetric_functions-sp-as.2.patch.gz](https://github.com/sagemath/sage/files/ticket8810/trac_8810_stanley_symmetric_functions-sp-as.2.patch.gz)**\n\nNicolas Thiery did the technical review of this patch.\nThomas Lam did the mathematical review of this patch. His comments are:\n\nAnne,\n\nI dont really know with the code, but I looked at some of the examples\nand I could not find any problem.\n\nThomas\n\nHence I am setting a positive review on this patch.\n\nRelease manager, please merge only:\n\ntrac_8810_stanley_symmetric_functions-sp-as.2.patch",
    "created_at": "2010-06-25T03:14:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8810",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8810#issuecomment-71898",
    "user": "https://github.com/anneschilling"
}
```

<div id="comment:14" align="right">comment:14</div>

Attachment: **[trac_8810_stanley_symmetric_functions-sp-as.2.patch.gz](https://github.com/sagemath/sage/files/ticket8810/trac_8810_stanley_symmetric_functions-sp-as.2.patch.gz)**

Nicolas Thiery did the technical review of this patch.
Thomas Lam did the mathematical review of this patch. His comments are:

Anne,

I dont really know with the code, but I looked at some of the examples
and I could not find any problem.

Thomas

Hence I am setting a positive review on this patch.

Release manager, please merge only:

trac_8810_stanley_symmetric_functions-sp-as.2.patch



---

archive/issue_comments_071899.json:
```json
{
    "body": "Attachment: **[trac_8810_stanley_symmetric_functions-untabified.patch.gz](https://github.com/sagemath/sage/files/ticket8810/trac_8810_stanley_symmetric_functions-untabified.patch.gz)**\n\nVersion without tabs - apply only this patch",
    "created_at": "2010-06-30T17:16:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8810",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8810#issuecomment-71899",
    "user": "https://github.com/loefflerd"
}
```

Attachment: **[trac_8810_stanley_symmetric_functions-untabified.patch.gz](https://github.com/sagemath/sage/files/ticket8810/trac_8810_stanley_symmetric_functions-untabified.patch.gz)**

Version without tabs - apply only this patch



---

archive/issue_comments_071900.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nThe patch `trac_8810_stanley_symmetric_functions-sp-as.2.patch` uses tabs for indentation, which is against sage library coding conventions. I have uploaded a version using spaces instead of tabs.",
    "created_at": "2010-06-30T17:18:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8810",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8810#issuecomment-71900",
    "user": "https://github.com/loefflerd"
}
```

<div id="comment:15" align="right">comment:15</div>

The patch `trac_8810_stanley_symmetric_functions-sp-as.2.patch` uses tabs for indentation, which is against sage library coding conventions. I have uploaded a version using spaces instead of tabs.



---

archive/issue_comments_071901.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nThanks for spotting this!\n\nSteve: please update the patch on the queue!",
    "created_at": "2010-07-01T09:23:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8810",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8810#issuecomment-71901",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:16" align="right">comment:16</div>

Thanks for spotting this!

Steve: please update the patch on the queue!



---

archive/issue_comments_071902.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nYou might want to go through your combinat queue and check that none of the other patches introduce tabs, because rlm is going to merge #8680 in the next alpha, after which the doctest script will reject any source file that contains a tab character.",
    "created_at": "2010-07-01T09:33:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8810",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8810#issuecomment-71902",
    "user": "https://github.com/loefflerd"
}
```

<div id="comment:17" align="right">comment:17</div>

You might want to go through your combinat queue and check that none of the other patches introduce tabs, because rlm is going to merge #8680 in the next alpha, after which the doctest script will reject any source file that contains a tab character.



---

archive/issue_events_111601.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2010-07-01T09:33:14Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/8810",
    "milestone_number": null,
    "milestone_title": "sage-4.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8810#event-111601"
}
```



---

archive/issue_comments_071903.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nReplying to [@loefflerd](#comment:17):\n> You might want to go through your combinat queue and check that none of the other patches introduce tabs, because rlm is going to merge #8680 in the next alpha, after which the doctest script will reject any source file that contains a tab character.\n\nGreat, I can't wait until #8680 is merged and our devs get early notices about tabs!",
    "created_at": "2010-07-01T10:17:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8810",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8810#issuecomment-71903",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:18" align="right">comment:18</div>

Replying to [@loefflerd](#comment:17):
> You might want to go through your combinat queue and check that none of the other patches introduce tabs, because rlm is going to merge #8680 in the next alpha, after which the doctest script will reject any source file that contains a tab character.

Great, I can't wait until #8680 is merged and our devs get early notices about tabs!



---

archive/issue_events_111602.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-07-21T01:39:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8810",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8810#event-111602"
}
```



---

archive/issue_events_111603.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-07-21T01:39:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8810",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8810#event-111603"
}
```



---

archive/issue_comments_071904.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nWith [attachment: trac_8810_stanley_symmetric_functions-untabified.patch](https://github.com/sagemath/sage/files/ticket8810/trac_8810_stanley_symmetric_functions-untabified.patch.gz), I get one docbuild warning:\n\n```\n/mnt/usb1/scratch/mpatel/tmp/sage-4.5.1-rm/local/lib/python2.6/site-packages/sage/combinat/sf/monomial.py:docstring of sage.combinat.sf.monomial.SymmetricFunctionAlgebra_monomial.from_polynomial_exp:36: (ERROR/3) Unknown interpreted text role \"function\".\n```\nI'm about to attach a small patch that should fix this.",
    "created_at": "2010-07-21T01:39:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8810",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8810#issuecomment-71904",
    "user": "https://github.com/qed777"
}
```

<div id="comment:19" align="right">comment:19</div>

With [attachment: trac_8810_stanley_symmetric_functions-untabified.patch](https://github.com/sagemath/sage/files/ticket8810/trac_8810_stanley_symmetric_functions-untabified.patch.gz), I get one docbuild warning:

```
/mnt/usb1/scratch/mpatel/tmp/sage-4.5.1-rm/local/lib/python2.6/site-packages/sage/combinat/sf/monomial.py:docstring of sage.combinat.sf.monomial.SymmetricFunctionAlgebra_monomial.from_polynomial_exp:36: (ERROR/3) Unknown interpreted text role "function".
```
I'm about to attach a small patch that should fix this.



---

archive/issue_comments_071905.json:
```json
{
    "body": "Small doc fix.  Apply on top of \"untabified\" patch.",
    "created_at": "2010-07-21T01:39:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8810",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8810#issuecomment-71905",
    "user": "https://github.com/qed777"
}
```

Small doc fix.  Apply on top of "untabified" patch.



---

archive/issue_events_111604.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-07-21T01:40:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8810",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8810#event-111604"
}
```



---

archive/issue_events_111605.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-07-21T01:40:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8810",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8810#event-111605"
}
```



---

archive/issue_comments_071906.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nAttachment: **[trac_8810_stanley_symmetric_functions-docfix.patch.gz](https://github.com/sagemath/sage/files/ticket8810/trac_8810_stanley_symmetric_functions-docfix.patch.gz)**",
    "created_at": "2010-07-21T01:40:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8810",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8810#issuecomment-71906",
    "user": "https://github.com/qed777"
}
```

<div id="comment:20" align="right">comment:20</div>

Attachment: **[trac_8810_stanley_symmetric_functions-docfix.patch.gz](https://github.com/sagemath/sage/files/ticket8810/trac_8810_stanley_symmetric_functions-docfix.patch.gz)**



---

archive/issue_comments_071907.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nThanks for the fix! I did not rerun the test, but I don't see how the changes could break them either. Positive review!",
    "created_at": "2010-07-21T03:55:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8810",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8810#issuecomment-71907",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:21" align="right">comment:21</div>

Thanks for the fix! I did not rerun the test, but I don't see how the changes could break them either. Positive review!



---

archive/issue_events_111606.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2010-07-21T03:55:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8810",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8810#event-111606"
}
```



---

archive/issue_events_111607.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2010-07-21T03:55:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8810",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8810#event-111607"
}
```



---

archive/issue_events_111608.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-07-21T10:27:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8810",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8810#event-111608"
}
```



---

archive/issue_events_111609.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-07-21T10:27:51Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/8810",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8810#event-111609"
}
```



---

archive/issue_comments_071908.json:
```json
{
    "body": "Merged: **sage-4.5.2.alpha0**",
    "created_at": "2010-07-21T10:27:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8810",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8810#issuecomment-71908",
    "user": "https://github.com/qed777"
}
```

Merged: **sage-4.5.2.alpha0**
