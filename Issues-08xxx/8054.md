# Issue 8054: roots(algorithm='numpy') does not work in arbitrary precision

archive/issues_008054.json:
```json
{
    "assignees": [
        "https://github.com/sagetrac-jkantor"
    ],
    "body": "Consider the following example:\n\n```\nsage: R.<x> = PolynomialRing(ComplexField(3322))\nsage: p=x^4+54*x^2+154\nsage: z=p.roots(algorithm='pari')\nsage: e=p-mul([x-z[i][0] for i in range(4)])\nsage: n(max(abs(e.coeffs()[i]) for i in range(0,e.degree()+1)))\n6.08883742371831e-999\n```\nThis is ok. Compare now with:\n\n```\nsage: R.<x> = PolynomialRing(ComplexField(3322))\nsage: p=x^4+54*x^2+154\nsage: z=p.roots(algorithm='numpy')\nsage: e=p-mul([x-z[i][0] for i in range(4)])\nsage: n(max(abs(e.coeffs()[i]) for i in range(0,e.degree()+1)))\n6.06533797844328e-14\n```\nClearly the precision given by numpy is only 14 digits, not 1000\ndigits as expected.\n\nCC:  @rbeezer\n\nComponent: **numerical**\n\nAuthor: **Mike Hansen**\n\nReviewer: **Paul Zimmermann**\n\nMerged: **sage-4.6.alpha2**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/8054_\n\n",
    "closed_at": "2010-09-28T09:11:15Z",
    "created_at": "2010-01-25T12:08:01Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20numerical",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.6",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "roots(algorithm='numpy') does not work in arbitrary precision",
    "type": "issue",
    "updated_at": "2010-10-04T22:00:16Z",
    "url": "https://github.com/sagemath/sage/issues/8054",
    "user": "https://github.com/zimmermann6"
}
```
Consider the following example:

```
sage: R.<x> = PolynomialRing(ComplexField(3322))
sage: p=x^4+54*x^2+154
sage: z=p.roots(algorithm='pari')
sage: e=p-mul([x-z[i][0] for i in range(4)])
sage: n(max(abs(e.coeffs()[i]) for i in range(0,e.degree()+1)))
6.08883742371831e-999
```
This is ok. Compare now with:

```
sage: R.<x> = PolynomialRing(ComplexField(3322))
sage: p=x^4+54*x^2+154
sage: z=p.roots(algorithm='numpy')
sage: e=p-mul([x-z[i][0] for i in range(4)])
sage: n(max(abs(e.coeffs()[i]) for i in range(0,e.degree()+1)))
6.06533797844328e-14
```
Clearly the precision given by numpy is only 14 digits, not 1000
digits as expected.

CC:  @rbeezer

Component: **numerical**

Author: **Mike Hansen**

Reviewer: **Paul Zimmermann**

Merged: **sage-4.6.alpha2**

_Issue created by migration from https://trac.sagemath.org/ticket/8054_





---

archive/issue_events_100117.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2010-01-25T12:08:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/8054",
    "milestone_number": null,
    "milestone_title": "sage-4.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8054#event-100117"
}
```



---

archive/issue_events_100118.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2010-01-25T12:08:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8054",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20numerical",
    "label_color": "0000ff",
    "label_name": "c: numerical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8054#event-100118"
}
```



---

archive/issue_events_100119.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2010-01-25T12:08:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8054",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8054#event-100119"
}
```



---

archive/issue_events_100120.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2010-01-25T12:08:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8054",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8054#event-100120"
}
```



---

archive/issue_events_100121.json:
```json
{
    "actor": "https://github.com/sagetrac-jkantor",
    "created_at": "2010-01-25T12:08:01Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/8054",
    "subject": "https://github.com/zimmermann6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8054#event-100121"
}
```



---

archive/issue_comments_061843.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nNumpy does not do arbitrary precision things.  So I suppose we should just document this.",
    "created_at": "2010-01-25T13:28:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8054",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8054#issuecomment-61843",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:1" align="right">comment:1</div>

Numpy does not do arbitrary precision things.  So I suppose we should just document this.



---

archive/issue_comments_061844.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\n> Numpy does not do arbitrary precision things. So I suppose we should just document this. \n\nstill not done in 4.3.1.",
    "created_at": "2010-02-05T20:25:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8054",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8054#issuecomment-61844",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:2" align="right">comment:2</div>

> Numpy does not do arbitrary precision things. So I suppose we should just document this. 

still not done in 4.3.1.



---

archive/issue_events_100122.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2010-08-26T19:02:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8054",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8054#event-100122"
}
```



---

archive/issue_comments_061845.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nAttachment: **[trac_8054.patch.gz](https://github.com/sagemath/sage/files/ticket8054/trac_8054.patch.gz)**",
    "created_at": "2010-08-26T19:02:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8054",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8054#issuecomment-61845",
    "user": "https://github.com/mwhansen"
}
```

<div id="comment:3" align="right">comment:3</div>

Attachment: **[trac_8054.patch.gz](https://github.com/sagemath/sage/files/ticket8054/trac_8054.patch.gz)**



---

archive/issue_comments_061846.json:
```json
{
    "body": "Author: **Mike Hansen**",
    "created_at": "2010-08-26T19:02:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8054",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8054#issuecomment-61846",
    "user": "https://github.com/mwhansen"
}
```

Author: **Mike Hansen**



---

archive/issue_comments_061847.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nMike, the warning message is just printed once, i.e., if one calls roots(algorithm='numpy') twice,\nit is not printed the second time. Is it wanted?\n\nPaul",
    "created_at": "2010-08-30T13:56:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8054",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8054#issuecomment-61847",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:4" align="right">comment:4</div>

Mike, the warning message is just printed once, i.e., if one calls roots(algorithm='numpy') twice,
it is not printed the second time. Is it wanted?

Paul



---

archive/issue_comments_061848.json:
```json
{
    "body": "Reviewer: **Paul Zimmermann**",
    "created_at": "2010-08-30T14:19:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8054",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8054#issuecomment-61848",
    "user": "https://github.com/zimmermann6"
}
```

Reviewer: **Paul Zimmermann**



---

archive/issue_events_100123.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2010-08-30T14:19:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8054",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8054#event-100123"
}
```



---

archive/issue_events_100124.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2010-08-30T14:19:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8054",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8054#event-100124"
}
```



---

archive/issue_comments_061849.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nAll test pass (with Sage 4.4.4). Thus I give a positive review.",
    "created_at": "2010-08-30T14:19:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8054",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8054#issuecomment-61849",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:5" align="right">comment:5</div>

All test pass (with Sage 4.4.4). Thus I give a positive review.



---

archive/issue_events_100125.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-09-18T07:49:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8054",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8054#event-100125"
}
```



---

archive/issue_events_100126.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-09-18T07:49:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8054",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8054#event-100126"
}
```



---

archive/issue_comments_061850.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nCould someone rebase the patch against 4.6.alpha1 when it's released (soon) and restore the positive review?",
    "created_at": "2010-09-18T07:49:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8054",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8054#issuecomment-61850",
    "user": "https://github.com/qed777"
}
```

<div id="comment:6" align="right">comment:6</div>

Could someone rebase the patch against 4.6.alpha1 when it's released (soon) and restore the positive review?



---

archive/issue_comments_061851.json:
```json
{
    "body": "Work Issues: **rebas**",
    "created_at": "2010-09-18T07:49:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8054",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8054#issuecomment-61851",
    "user": "https://github.com/qed777"
}
```

Work Issues: **rebas**



---

archive/issue_comments_061852.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nIf someone is rebasing it, they might also correct a typo:\n\nNote that one should not use NumPy when wanting high precicion -> precision",
    "created_at": "2010-09-18T12:34:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8054",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8054#issuecomment-61852",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:7" align="right">comment:7</div>

If someone is rebasing it, they might also correct a typo:

Note that one should not use NumPy when wanting high precicion -> precision



---

archive/issue_comments_061853.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nby the way, is there a documentation somewhere explaining how to rebase a patch?\n\nPaul",
    "created_at": "2010-09-18T19:59:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8054",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8054#issuecomment-61853",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:8" align="right">comment:8</div>

by the way, is there a documentation somewhere explaining how to rebase a patch?

Paul



---

archive/issue_comments_061854.json:
```json
{
    "body": "Changed work issues from **rebas** to **rebase**",
    "created_at": "2010-09-18T22:11:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8054",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8054#issuecomment-61854",
    "user": "https://github.com/qed777"
}
```

Changed work issues from **rebas** to **rebase**



---

archive/issue_comments_061855.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nReplying to [@zimmermann6](#comment:8):\n> by the way, is there a documentation somewhere explaining how to rebase a patch?\n\nOne way is to use [Mercurial queues](http://wiki.sagemath.org/MercurialQueues):\n\n```sh\n$ cd SAGE_ROOT/devel/sage\n$ hg qimport https://github.com/sagemath/sage/files/ticket8054/trac_8054.patch.gz\nadding trac_8054.patch to series file\n$ hg qpush\napplying trac_8054.patch\npatching file sage/rings/polynomial/polynomial_element.pyx\nHunk #2 FAILED at 4256\n1 out of 4 hunks FAILED -- saving rejects to file sage/rings/polynomial/polynomial_element.pyx.rej\npatch failed, unable to continue (try -v)\npatch failed, rejects left in working dir\nerrors during apply, please fix and refresh trac_8054.patch\n```\nThe file `polynomial_element.pyx.rej` is a diff of the changes that Mercurial was unable to apply.  Editing `polynomial_element.pyx` by hand to incorporate the leftover changes and then doing\n\n```sh\n$ hg qrefresh\n$ hg export qtip > /path/to/trac_8054.2.patch\n$ hg qpop\n$ hg qdelete trac_8054.patch\n```\nshould write out an updated patch and restore the original state of the repository.  If you choose not to delete the patch from the queue, e.g., for doctesting, then for convenience you can use\n\n```sh\n$ hg qrename trac_8054.2.patch\n```\nto rename it in the queue.  After this, `hg qseries`, `hg qapplied`, and `hg qunapplied` will use the updated name (until you `qdelete` the patch).\n\nThere's more on using queues in the [Developer's Guide](http://www.sagemath.org/doc/developer/walk_through.html#being-more-efficient-mercurial-queues), but as far as I can tell, there's no mention of rebasing patches.  Let us know if you have questions.",
    "created_at": "2010-09-18T22:11:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8054",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8054#issuecomment-61855",
    "user": "https://github.com/qed777"
}
```

<div id="comment:9" align="right">comment:9</div>

Replying to [@zimmermann6](#comment:8):
> by the way, is there a documentation somewhere explaining how to rebase a patch?

One way is to use [Mercurial queues](http://wiki.sagemath.org/MercurialQueues):

```sh
$ cd SAGE_ROOT/devel/sage
$ hg qimport https://github.com/sagemath/sage/files/ticket8054/trac_8054.patch.gz
adding trac_8054.patch to series file
$ hg qpush
applying trac_8054.patch
patching file sage/rings/polynomial/polynomial_element.pyx
Hunk #2 FAILED at 4256
1 out of 4 hunks FAILED -- saving rejects to file sage/rings/polynomial/polynomial_element.pyx.rej
patch failed, unable to continue (try -v)
patch failed, rejects left in working dir
errors during apply, please fix and refresh trac_8054.patch
```
The file `polynomial_element.pyx.rej` is a diff of the changes that Mercurial was unable to apply.  Editing `polynomial_element.pyx` by hand to incorporate the leftover changes and then doing

```sh
$ hg qrefresh
$ hg export qtip > /path/to/trac_8054.2.patch
$ hg qpop
$ hg qdelete trac_8054.patch
```
should write out an updated patch and restore the original state of the repository.  If you choose not to delete the patch from the queue, e.g., for doctesting, then for convenience you can use

```sh
$ hg qrename trac_8054.2.patch
```
to rename it in the queue.  After this, `hg qseries`, `hg qapplied`, and `hg qunapplied` will use the updated name (until you `qdelete` the patch).

There's more on using queues in the [Developer's Guide](http://www.sagemath.org/doc/developer/walk_through.html#being-more-efficient-mercurial-queues), but as far as I can tell, there's no mention of rebasing patches.  Let us know if you have questions.



---

archive/issue_comments_061856.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@qed777](#comment:9):\n\nthank you. I will try when 4.6.alpha1 is available. Do you know when?\n\nPaul",
    "created_at": "2010-09-19T08:17:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8054",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8054#issuecomment-61856",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@qed777](#comment:9):

thank you. I will try when 4.6.alpha1 is available. Do you know when?

Paul



---

archive/issue_comments_061857.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@zimmermann6](#comment:10):\n> Replying to [@qed777](#comment:9):\n> thank you. I will try when 4.6.alpha1 is available. Do you know when?\n\nNo problem.  I hope I haven't made any mistakes!\n\nI very recently [announced 4.6.alpha1 on sage-release](http://groups.google.com/group/sage-release/browse_thread/thread/1a01378099b9d5e).\n\nI've cc'd Rob Beezer about [rebasing patches](#comment:8).",
    "created_at": "2010-09-19T08:25:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8054",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8054#issuecomment-61857",
    "user": "https://github.com/qed777"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@zimmermann6](#comment:10):
> Replying to [@qed777](#comment:9):
> thank you. I will try when 4.6.alpha1 is available. Do you know when?

No problem.  I hope I haven't made any mistakes!

I very recently [announced 4.6.alpha1 on sage-release](http://groups.google.com/group/sage-release/browse_thread/thread/1a01378099b9d5e).

I've cc'd Rob Beezer about [rebasing patches](#comment:8).



---

archive/issue_comments_061858.json:
```json
{
    "body": "Attachment: **[trac_8054.2.patch.gz](https://github.com/sagemath/sage/files/ticket8054/trac_8054.2.patch.gz)**\n\noriginal patch rebased on 4.6.alpha1",
    "created_at": "2010-09-19T18:56:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8054",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8054#issuecomment-61858",
    "user": "https://github.com/zimmermann6"
}
```

Attachment: **[trac_8054.2.patch.gz](https://github.com/sagemath/sage/files/ticket8054/trac_8054.2.patch.gz)**

original patch rebased on 4.6.alpha1



---

archive/issue_events_100127.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2010-09-19T18:58:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8054",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8054#event-100127"
}
```



---

archive/issue_events_100128.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2010-09-19T18:58:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8054",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8054#event-100128"
}
```



---

archive/issue_comments_061859.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@qed777](#comment:6):\n> Could someone rebase the patch against 4.6.alpha1 when it's released (soon) and restore the positive review? \n\ndone.\n\nPaul",
    "created_at": "2010-09-19T18:58:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8054",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8054#issuecomment-61859",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@qed777](#comment:6):
> Could someone rebase the patch against 4.6.alpha1 when it's released (soon) and restore the positive review? 

done.

Paul



---

archive/issue_comments_061860.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nI'll try to send Paul some rebase instructions that he might look over and then and maybe grow those into something for the Developer's Guide.\n\nRob",
    "created_at": "2010-09-19T19:32:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8054",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8054#issuecomment-61860",
    "user": "https://github.com/rbeezer"
}
```

<div id="comment:13" align="right">comment:13</div>

I'll try to send Paul some rebase instructions that he might look over and then and maybe grow those into something for the Developer's Guide.

Rob



---

archive/issue_comments_061861.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nThe rebased patch applies cleanly to 4.6.alpha1.  But testing just the changed file, I get\n\n```\nsage -t -long \"devel/sage-main/sage/rings/polynomial/polynomial_element.pyx\"\n**********************************************************************\nError: TAB character found.\n\n         [13.2 s]\n \n----------------------------------------------------------------------\nThe following tests failed:\n\n\n        sage -t -long \"devel/sage-main/sage/rings/polynomial/polynomial_element.pyx\"\nTotal time for all tests: 13.2 seconds\n```\nThere's a stray tab in this line\n\n```diff\n+       ``algorithm='numpy'`` with high-precision types.)                       \n```\n(in the patch).",
    "created_at": "2010-09-19T21:24:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8054",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8054#issuecomment-61861",
    "user": "https://github.com/qed777"
}
```

<div id="comment:14" align="right">comment:14</div>

The rebased patch applies cleanly to 4.6.alpha1.  But testing just the changed file, I get

```
sage -t -long "devel/sage-main/sage/rings/polynomial/polynomial_element.pyx"
**********************************************************************
Error: TAB character found.

         [13.2 s]
 
----------------------------------------------------------------------
The following tests failed:


        sage -t -long "devel/sage-main/sage/rings/polynomial/polynomial_element.pyx"
Total time for all tests: 13.2 seconds
```
There's a stray tab in this line

```diff
+       ``algorithm='numpy'`` with high-precision types.)                       
```
(in the patch).



---

archive/issue_comments_061862.json:
```json
{
    "body": "Changed work issues from **rebase** to none",
    "created_at": "2010-09-19T21:24:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8054",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8054#issuecomment-61862",
    "user": "https://github.com/qed777"
}
```

Changed work issues from **rebase** to none



---

archive/issue_comments_061863.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@rbeezer](#comment:13):\n> I'll try to send Paul some rebase instructions that he might look over and then and maybe grow those into something for the Developer's Guide.\n\nThanks, Rob.  I wasn't sure whether this is in the Guide.  I should reread it in full, soon.",
    "created_at": "2010-09-19T21:27:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8054",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8054#issuecomment-61863",
    "user": "https://github.com/qed777"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@rbeezer](#comment:13):
> I'll try to send Paul some rebase instructions that he might look over and then and maybe grow those into something for the Developer's Guide.

Thanks, Rob.  I wasn't sure whether this is in the Guide.  I should reread it in full, soon.



---

archive/issue_comments_061864.json:
```json
{
    "body": "Attachment: **[trac_8054.3.patch.gz](https://github.com/sagemath/sage/files/ticket8054/trac_8054.3.patch.gz)**",
    "created_at": "2010-09-20T07:47:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8054",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8054#issuecomment-61864",
    "user": "https://github.com/zimmermann6"
}
```

Attachment: **[trac_8054.3.patch.gz](https://github.com/sagemath/sage/files/ticket8054/trac_8054.3.patch.gz)**



---

archive/issue_comments_061865.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nsorry, I've replaced the tab. Apply only the last patch.\n\nPaul",
    "created_at": "2010-09-20T07:50:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8054",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8054#issuecomment-61865",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:16" align="right">comment:16</div>

sorry, I've replaced the tab. Apply only the last patch.

Paul



---

archive/issue_events_100129.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-09-28T09:11:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8054",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8054#event-100129"
}
```



---

archive/issue_events_100130.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-09-28T09:11:15Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/8054",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8054#event-100130"
}
```



---

archive/issue_comments_061866.json:
```json
{
    "body": "Merged: **sage-4.6.alpha2**",
    "created_at": "2010-09-28T09:11:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8054",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8054#issuecomment-61866",
    "user": "https://github.com/qed777"
}
```

Merged: **sage-4.6.alpha2**



---

archive/issue_comments_061867.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nReplying to [@qed777](#comment:9):\n> Replying to [@zimmermann6](#comment:8):\n> > by the way, is there a documentation somewhere explaining how to rebase a patch?\n\n> \n> One way is to use [Mercurial queues](http://wiki.sagemath.org/MercurialQueues):\n\nAnother possible way:\n\n```sh\n$ hg import --no-commit filename.patch\n```\nwhich just updates the working directory.  Then you can check the .rej file, make changes, re-commit, and export anew.",
    "created_at": "2010-10-04T22:00:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8054",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8054#issuecomment-61867",
    "user": "https://github.com/qed777"
}
```

<div id="comment:18" align="right">comment:18</div>

Replying to [@qed777](#comment:9):
> Replying to [@zimmermann6](#comment:8):
> > by the way, is there a documentation somewhere explaining how to rebase a patch?

> 
> One way is to use [Mercurial queues](http://wiki.sagemath.org/MercurialQueues):

Another possible way:

```sh
$ hg import --no-commit filename.patch
```
which just updates the working directory.  Then you can check the .rej file, make changes, re-commit, and export anew.
