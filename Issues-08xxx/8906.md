# Issue 8906: Optional package for gap3

archive/issues_008906.json:
```json
{
    "body": "Here is a (new) spkg which contains Jean Michel's \"pre-packaged GAP3 with everything you need\". From his webpage:\n\n  To help people who are just interested in GAP3 because they need a package which has not been ported to GAP4, I have prepared an easy-to install minimal GAP3 distribution containing an up-to-date versions of the packages:\n\n  anusq, arep, autag, chevie, cryst, dce, grim, matrix, meataxe, monoid, nq, pcqa, sisyphos, specht, ve, vkcurve.\n\n  These packages have been chosen since most have no equivalent in GAP4. They are autoloaded when starting gap.This distribution includes only partial lists of small groups, 2-groups, 3-groups, character tables from the Atlas and tables of marks. It does not include either the packages:\n\n  anupq, grape, kbmag, xgap, cohomolo, gliss, guava, xmod\n\n  which have some equivalent in GAP4. You can get these extra features at\n\n  http://www.math.rwth-aachen.de/~Frank.Luebeck/gap/GAP3\n\nHere is a link to the corresponding upstream tarball:\n\n```\nhttp://webusers.imj-prg.fr/~jean.michel/gap3/gap3-jm5.tar.gz\n```\n\nAssignee: tbd\n\nCC:  @burcin @AndrewAtLarge\n\nKeywords: gap3\n\nReviewer: Burcin Erocal, Christian Stump\n\nAuthor: Jean Michel, Marco Robado, Franco Saliola, Nicolas M. Thi\u00e9ry\n\nBranch: 0defcc158d537cd66ee67471191c5c45ff041951\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/8906\n\n",
    "closed_at": "2015-09-02T17:25:36Z",
    "created_at": "2010-05-06T14:07:54Z",
    "labels": [
        "component: packages: optional"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.9",
    "title": "Optional package for gap3",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/8906",
    "user": "https://trac.sagemath.org/admin/accounts/users/mrobado"
}
```
Here is a (new) spkg which contains Jean Michel's "pre-packaged GAP3 with everything you need". From his webpage:

  To help people who are just interested in GAP3 because they need a package which has not been ported to GAP4, I have prepared an easy-to install minimal GAP3 distribution containing an up-to-date versions of the packages:

  anusq, arep, autag, chevie, cryst, dce, grim, matrix, meataxe, monoid, nq, pcqa, sisyphos, specht, ve, vkcurve.

  These packages have been chosen since most have no equivalent in GAP4. They are autoloaded when starting gap.This distribution includes only partial lists of small groups, 2-groups, 3-groups, character tables from the Atlas and tables of marks. It does not include either the packages:

  anupq, grape, kbmag, xgap, cohomolo, gliss, guava, xmod

  which have some equivalent in GAP4. You can get these extra features at

  http://www.math.rwth-aachen.de/~Frank.Luebeck/gap/GAP3

Here is a link to the corresponding upstream tarball:

```
http://webusers.imj-prg.fr/~jean.michel/gap3/gap3-jm5.tar.gz
```

Assignee: tbd

CC:  @burcin @AndrewAtLarge

Keywords: gap3

Reviewer: Burcin Erocal, Christian Stump

Author: Jean Michel, Marco Robado, Franco Saliola, Nicolas M. Thiéry

Branch: 0defcc158d537cd66ee67471191c5c45ff041951

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/8906





---

archive/issue_comments_095550.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Burcin Erocal\"",
    "created_at": "2010-05-06T16:27:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95550",
    "user": "https://github.com/burcin"
}
```

Changing reviewer from "" to "Burcin Erocal"



---

archive/issue_comments_095551.json:
```json
{
    "body": "Changing status from new to needs_work.",
    "created_at": "2010-05-06T16:27:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95551",
    "user": "https://github.com/burcin"
}
```

Changing status from new to needs_work.



---

archive/issue_comments_095552.json:
```json
{
    "body": "<a id='comment:1'></a>\nThanks a lot for the package, and a good example of how to write `spkg-install` in Python.\n\nHere are a few comments:\n* Version numbers for the GAP4 package are of the form gap-4.4.10.p17, so we should name this gap.3.4.4.p0 and keep increasing the \"patch level\" at the end for updates.\n* The package has a single mercurial repository at the top, which contains spkg-install, SPKG.txt, etc. and the GAP3 source files. The convention is to keep two separate repositories, one with only \"packaging\" material, spkg-install and so on, another one to track changes to the upstream sources.\n* Does GAP3 have a test suite? Can we add an spkg-check which runs this? Another option is to copy the spkg-check which just tries to start GAP from the spkg mentioned in[comment:9](#comment%3A9):ticket:8380.\n* SPKG.txt should be based on the template here: http://wiki.sagemath.org/spkgTemplate\n  In particular:\n  * the changelog should have an entry conforming to the standard\n  * TODO list (in the file TODO) should be moved in the SPKG.txt\n  * There should be an explanation of what changes were made to the upstream sources, even though they are already documented in the mercurial repository log.\n  * SPKG.txt should note that src/bin/gap.sh hardcodes version `gap3r4p4` in the `GAP_DIR` variable\n* I don't see why these lines at the end of `spkg-install` are necessary:\n {{{\n if not os.path.exists(gap3_base):\n     os.makedirs(gap3_base)\n }}}",
    "created_at": "2010-05-06T16:27:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95552",
    "user": "https://github.com/burcin"
}
```

<a id='comment:1'></a>
Thanks a lot for the package, and a good example of how to write `spkg-install` in Python.

Here are a few comments:
* Version numbers for the GAP4 package are of the form gap-4.4.10.p17, so we should name this gap.3.4.4.p0 and keep increasing the "patch level" at the end for updates.
* The package has a single mercurial repository at the top, which contains spkg-install, SPKG.txt, etc. and the GAP3 source files. The convention is to keep two separate repositories, one with only "packaging" material, spkg-install and so on, another one to track changes to the upstream sources.
* Does GAP3 have a test suite? Can we add an spkg-check which runs this? Another option is to copy the spkg-check which just tries to start GAP from the spkg mentioned in[comment:9](#comment%3A9):ticket:8380.
* SPKG.txt should be based on the template here: http://wiki.sagemath.org/spkgTemplate
  In particular:
  * the changelog should have an entry conforming to the standard
  * TODO list (in the file TODO) should be moved in the SPKG.txt
  * There should be an explanation of what changes were made to the upstream sources, even though they are already documented in the mercurial repository log.
  * SPKG.txt should note that src/bin/gap.sh hardcodes version `gap3r4p4` in the `GAP_DIR` variable
* I don't see why these lines at the end of `spkg-install` are necessary:
 {{{
 if not os.path.exists(gap3_base):
     os.makedirs(gap3_base)
 }}}



---

archive/issue_comments_095553.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2010-05-06T21:26:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95553",
    "user": "https://trac.sagemath.org/admin/accounts/users/mrobado"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_095554.json:
```json
{
    "body": "<a id='comment:2'></a>\nI uploaded a new version of the package with the issues fixed at this address [http://thales.math.uqam.ca/~robado/gap-3.4.4.p0.spkg](http://thales.math.uqam.ca/~robado/gap-3.4.4.p0.spkg) . Maybe we should merge this package with the one posted on #8380.",
    "created_at": "2010-05-06T21:26:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95554",
    "user": "https://trac.sagemath.org/admin/accounts/users/mrobado"
}
```

<a id='comment:2'></a>
I uploaded a new version of the package with the issues fixed at this address [http://thales.math.uqam.ca/~robado/gap-3.4.4.p0.spkg](http://thales.math.uqam.ca/~robado/gap-3.4.4.p0.spkg) . Maybe we should merge this package with the one posted on #8380.



---

archive/issue_comments_095555.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2010-05-06T21:39:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95555",
    "user": "https://github.com/burcin"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_095556.json:
```json
{
    "body": "<a id='comment:3'></a>\nI don't know what the exact requirements for an optional package are. Especially the difference between an optional and an experimental package is not clear to me. I can't find them anywhere in the documentation either.\n\nThe package at http://thales.math.uqam.ca/~robado/gap-3.4.4.p0.spkg looks good to me, switching to positive review. :)",
    "created_at": "2010-05-06T21:39:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95556",
    "user": "https://github.com/burcin"
}
```

<a id='comment:3'></a>
I don't know what the exact requirements for an optional package are. Especially the difference between an optional and an experimental package is not clear to me. I can't find them anywhere in the documentation either.

The package at http://thales.math.uqam.ca/~robado/gap-3.4.4.p0.spkg looks good to me, switching to positive review. :)



---

archive/issue_comments_095557.json:
```json
{
    "body": "<a id='comment:4'></a>\nSome problems with gap-3.4.4.p0.spkg:\n\n1. All changes have not been checked in:\n {{{#!sh\n[mvngu`@`sage gap-3.4.4.p0]$ hg status\nM SPKG.txt\n? spkg-check\n }}}\n You must check in all changes.\n1. The license file `COPYING` needs to go under the directory `src/`.\n2. The directory `src/` contains one package within another:\n {{{#!sh\n[mvngu`@`sage src]$ pwd\n/home/mvngu/spkg/optional/gap/gap-3.4.4.p0/src\n[mvngu`@`sage src]$ ls\nbin            description12  description4  description8  grp  sml  tom\ndescription1   description13  description5  description9  htm  src  tst\ndescription10  description2   description6  doc           lib  tbl  two\ndescription11  description3   description7  etc           pkg  thr  utl\n[mvngu`@`sage src]$ ls src\nagcollec.c     description12  function.c     pcpresen.c  record.h    tietze.h\nagcollec.h     description13  function.h     pcpresen.h  scanner.c   tom\naggroup.c      description2   gap.c          permutat.c  scanner.h   tst\naggroup.h      description3   gasman.c       permutat.h  set.c       two\nbin            description4   gasman.h       pkg         set.h       unknown.c\nblister.c      description5   grp            plist.c     sml         unknown.h\nblister.h      description6   htm            plist.h     src         utl\ncoding.c       description7   idents.c       polynom.c   statemen.c  vecffe.c\ncoding.h       description8   idents.h       polynom.h   statemen.h  vecffe.h\ncostab.c       description9   integer.c      range.c     string.c    vector.c\ncostab.h       doc            integer.h      range.h     string.h    vector.h\ncyclotom.c     etc            lib            rational.c  system.c    word.c\ncyclotom.h     eval.c         list.c         rational.h  system.h    word.h\ndescription1   eval.h         list.h         read.c      tbl\ndescription10  finfield.c     Makefile       read.h      thr\ndescription11  finfield.h     Makefile.orig  record.c    tietze.c\n }}}\n1. You don't have any patches on top of the upstream GAP 3 package, so you need to start the spkg numbering at `gap-3.4.4.spkg`, not at `gap-3.4.4.p0.spkg`. The name `gap-3.4.4.p0.spkg` implies that you have a patch to be applied on top of the upstream GAP 3 package. See this chapter [Producing New Sage Packages](http://www.sagemath.org/doc/developer/producing_spkgs.html) and chapter [Patching a Sage Package](http://www.sagemath.org/doc/developer/patching_spkgs.html) of the Developer's Guide.",
    "created_at": "2010-05-08T22:43:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95557",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

<a id='comment:4'></a>
Some problems with gap-3.4.4.p0.spkg:

1. All changes have not been checked in:
 {{{#!sh
[mvngu`@`sage gap-3.4.4.p0]$ hg status
M SPKG.txt
? spkg-check
 }}}
 You must check in all changes.
1. The license file `COPYING` needs to go under the directory `src/`.
2. The directory `src/` contains one package within another:
 {{{#!sh
[mvngu`@`sage src]$ pwd
/home/mvngu/spkg/optional/gap/gap-3.4.4.p0/src
[mvngu`@`sage src]$ ls
bin            description12  description4  description8  grp  sml  tom
description1   description13  description5  description9  htm  src  tst
description10  description2   description6  doc           lib  tbl  two
description11  description3   description7  etc           pkg  thr  utl
[mvngu`@`sage src]$ ls src
agcollec.c     description12  function.c     pcpresen.c  record.h    tietze.h
agcollec.h     description13  function.h     pcpresen.h  scanner.c   tom
aggroup.c      description2   gap.c          permutat.c  scanner.h   tst
aggroup.h      description3   gasman.c       permutat.h  set.c       two
bin            description4   gasman.h       pkg         set.h       unknown.c
blister.c      description5   grp            plist.c     sml         unknown.h
blister.h      description6   htm            plist.h     src         utl
coding.c       description7   idents.c       polynom.c   statemen.c  vecffe.c
coding.h       description8   idents.h       polynom.h   statemen.h  vecffe.h
costab.c       description9   integer.c      range.c     string.c    vector.c
costab.h       doc            integer.h      range.h     string.h    vector.h
cyclotom.c     etc            lib            rational.c  system.c    word.c
cyclotom.h     eval.c         list.c         rational.h  system.h    word.h
description1   eval.h         list.h         read.c      tbl
description10  finfield.c     Makefile       read.h      thr
description11  finfield.h     Makefile.orig  record.c    tietze.c
 }}}
1. You don't have any patches on top of the upstream GAP 3 package, so you need to start the spkg numbering at `gap-3.4.4.spkg`, not at `gap-3.4.4.p0.spkg`. The name `gap-3.4.4.p0.spkg` implies that you have a patch to be applied on top of the upstream GAP 3 package. See this chapter [Producing New Sage Packages](http://www.sagemath.org/doc/developer/producing_spkgs.html) and chapter [Patching a Sage Package](http://www.sagemath.org/doc/developer/patching_spkgs.html) of the Developer's Guide.



---

archive/issue_comments_095558.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2010-05-08T22:43:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95558",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_095559.json:
```json
{
    "body": "<a id='comment:5'></a>\nHi Minh,\n\nReplying to [mvngu](#comment%3A4):\n> Some problems with gap-3.4.4.p0.spkg:\n> \n> 1. All changes have not been checked in:\n>  {{{\n> #!sh\n> [mvngu`@`sage gap-3.4.4.p0]$ hg status\n> M SPKG.txt\n> ? spkg-check\n>  }}}\n>  You must check in all changes.\n> 1. The license file `COPYING` needs to go under the directory `src/`.\n\n\nFair enough, I didn't check these again myself. Note that the COPYING file doesn't exist in the original gap3 distribution. We decided to make one after it took us a while to discover the license has a non-commercial use restriction.\n\n>  1. The directory `src/` contains one package within another:\n\n\nThis is just how the gap3 source is laid out. There are gap library files, and gap packages in the other directories. I don't see why this is a problem.\n\n>  1. You don't have any patches on top of the upstream GAP 3 package, so you need to start the spkg numbering at `gap-3.4.4.spkg`, not at `gap-3.4.4.p0.spkg`. The name `gap-3.4.4.p0.spkg` implies that you have a patch to be applied on top of the upstream GAP 3 package.\n\n\nWhat is in the spkg is very far from the original gap3 distribution. The changes couldn't be tracked with patches, so there is a mercurial repository in the src directory. Marco did a tremendous job creating a GAP package which actually compiles and works on different platforms, and includes the latest versions of various GAP packages still being maintained.\n\n\nI agree with your points 1 and 2, but IMHO 3 and 4 are not problems that need to be addressed before this is accepted.\n\nThanks. \n\nBurcin",
    "created_at": "2010-05-08T23:03:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95559",
    "user": "https://github.com/burcin"
}
```

<a id='comment:5'></a>
Hi Minh,

Replying to [mvngu](#comment%3A4):
> Some problems with gap-3.4.4.p0.spkg:
> 
> 1. All changes have not been checked in:
>  {{{
> #!sh
> [mvngu`@`sage gap-3.4.4.p0]$ hg status
> M SPKG.txt
> ? spkg-check
>  }}}
>  You must check in all changes.
> 1. The license file `COPYING` needs to go under the directory `src/`.


Fair enough, I didn't check these again myself. Note that the COPYING file doesn't exist in the original gap3 distribution. We decided to make one after it took us a while to discover the license has a non-commercial use restriction.

>  1. The directory `src/` contains one package within another:


This is just how the gap3 source is laid out. There are gap library files, and gap packages in the other directories. I don't see why this is a problem.

>  1. You don't have any patches on top of the upstream GAP 3 package, so you need to start the spkg numbering at `gap-3.4.4.spkg`, not at `gap-3.4.4.p0.spkg`. The name `gap-3.4.4.p0.spkg` implies that you have a patch to be applied on top of the upstream GAP 3 package.


What is in the spkg is very far from the original gap3 distribution. The changes couldn't be tracked with patches, so there is a mercurial repository in the src directory. Marco did a tremendous job creating a GAP package which actually compiles and works on different platforms, and includes the latest versions of various GAP packages still being maintained.


I agree with your points 1 and 2, but IMHO 3 and 4 are not problems that need to be addressed before this is accepted.

Thanks. 

Burcin



---

archive/issue_comments_095560.json:
```json
{
    "body": "<a id='comment:6'></a>\nReplying to [burcin](#comment%3A5):\n> Note that the COPYING file doesn't exist in the original gap3 distribution. We decided to make one after it took us a while to discover the license has a non-commercial use restriction.\n\n\nCould you document that in the file `SPKG.txt`? Future reviewers/maintainers might not know about this.\n\n\n\n\n> >  1. The directory `src/` contains one package within another:\n  \n> \n> This is just how the gap3 source is laid out. There are gap library files, and gap packages in the other directories. I don't see why this is a problem.\n\n\nCould you document that in the file `SPKG.txt`? Future reviewers/maintainers might not know about this.\n\n\n\n\n\n> What is in the spkg is very far from the original gap3 distribution. The changes couldn't be tracked with patches, so there is a mercurial repository in the src directory. \n\n\nCould you document that in the file `SPKG.txt`? Future reviewers/maintainers might not know about this.\n\n\n\nAs you can tell, I raised the above objections because the file `SPKG.txt` did not document the reasons why the spkg was structured as given.",
    "created_at": "2010-05-08T23:11:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95560",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

<a id='comment:6'></a>
Replying to [burcin](#comment%3A5):
> Note that the COPYING file doesn't exist in the original gap3 distribution. We decided to make one after it took us a while to discover the license has a non-commercial use restriction.


Could you document that in the file `SPKG.txt`? Future reviewers/maintainers might not know about this.




> >  1. The directory `src/` contains one package within another:
  
> 
> This is just how the gap3 source is laid out. There are gap library files, and gap packages in the other directories. I don't see why this is a problem.


Could you document that in the file `SPKG.txt`? Future reviewers/maintainers might not know about this.





> What is in the spkg is very far from the original gap3 distribution. The changes couldn't be tracked with patches, so there is a mercurial repository in the src directory. 


Could you document that in the file `SPKG.txt`? Future reviewers/maintainers might not know about this.



As you can tell, I raised the above objections because the file `SPKG.txt` did not document the reasons why the spkg was structured as given.



---

archive/issue_comments_095561.json:
```json
{
    "body": "<a id='comment:7'></a>\nHi!\n\nThanks Marco for your work!\n\nWith Jean-Michel, we have merged Marco's changes into our original spkg (with the changes to the sources upstreamed in Jean's distribution). We will upload the result shortly here.\n\nAbout the spkg name. Since the gap3 spkg is completely different from the gap4 one, and is supposed to cohabit with it, I would argue for calling the spkg gap3-???? to make a clear distinction. It is further based on Jean's gap3 distribution. So, would you recommend:\ncalling it `gap3-jm2.spkg` or `gap3-3.4.4-jm2.spkg` ?\n\nJean would prefer the first option, since anyway gap3's version has not changed since 1997, and won't ever change again.",
    "created_at": "2010-06-17T21:19:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95561",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:7'></a>
Hi!

Thanks Marco for your work!

With Jean-Michel, we have merged Marco's changes into our original spkg (with the changes to the sources upstreamed in Jean's distribution). We will upload the result shortly here.

About the spkg name. Since the gap3 spkg is completely different from the gap4 one, and is supposed to cohabit with it, I would argue for calling the spkg gap3-???? to make a clear distinction. It is further based on Jean's gap3 distribution. So, would you recommend:
calling it `gap3-jm2.spkg` or `gap3-3.4.4-jm2.spkg` ?

Jean would prefer the first option, since anyway gap3's version has not changed since 1997, and won't ever change again.



---

archive/issue_comments_095562.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,7 @@\n Here is an spkg wich contains a patched version of gap3 that compiles on linux/x86 and macosx/x86.\n \n [http://thales.math.uqam.ca/~robado/gap3-0.3.spkg](http://thales.math.uqam.ca/~robado/gap3-0.3.spkg)\n+\n+Jean's spkg merged with the above:\n+\n+[http://sage.math.washington.edu/home/nthiery/gap3-jm2.spkg](http://sage.math.washington.edu/home/nthiery/gap3-jm2.spkg)\n``````\n",
    "created_at": "2010-06-21T23:22:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95562",
    "user": "https://github.com/nthiery"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,7 @@
 Here is an spkg wich contains a patched version of gap3 that compiles on linux/x86 and macosx/x86.
 
 [http://thales.math.uqam.ca/~robado/gap3-0.3.spkg](http://thales.math.uqam.ca/~robado/gap3-0.3.spkg)
+
+Jean's spkg merged with the above:
+
+[http://sage.math.washington.edu/home/nthiery/gap3-jm2.spkg](http://sage.math.washington.edu/home/nthiery/gap3-jm2.spkg)
``````




---

archive/issue_comments_095563.json:
```json
{
    "body": "Changing author from \"Marco Robado\" to \"Jean Michel, Marco Robado, Nicolas M. Thi\u00e9ry\"",
    "created_at": "2010-06-21T23:22:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95563",
    "user": "https://github.com/nthiery"
}
```

Changing author from "Marco Robado" to "Jean Michel, Marco Robado, Nicolas M. Thiéry"



---

archive/issue_comments_095564.json:
```json
{
    "body": "<a id='comment:9'></a>\nHi!\n\nI just obtained the following with gap3 on winxp1 (win XP + cygwin host in the Sage build farm):\n\n```\ngap> W := CoxeterGroup(\"E\",8);\nCoxeterGroup(\"E\",8)\ngap> Size(W);                \n696729600\n```\n\nFor the record: I did not have Sage installed, so I did not try directly the spkg. Instead, I built and ran it by hand, using something like:\n\n```\ntar xvf gap3-jm2.spkg\ncd gap3-jm2/src/src\nmake ibm-i386-linux-gcc\ncd ..\ncp src/gap.exe bin\n<EDIT bin/gap.sh>\nbin/gap.sh\n```\n\nIn bin/gap.sh, I set GAP_PRG=gap.exe, and downgraded GAP_MEM=512m to GAP_MEM=64m (otherwise I was getting an error Gasman: can not get memory for the initial workspace).\n\nSo I assume that it should be easy to adapt the spkg to also work on windows+cygwin once sage will be more publicly available there (windows 7 still to be tested).",
    "created_at": "2010-06-22T21:24:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95564",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:9'></a>
Hi!

I just obtained the following with gap3 on winxp1 (win XP + cygwin host in the Sage build farm):

```
gap> W := CoxeterGroup("E",8);
CoxeterGroup("E",8)
gap> Size(W);                
696729600
```

For the record: I did not have Sage installed, so I did not try directly the spkg. Instead, I built and ran it by hand, using something like:

```
tar xvf gap3-jm2.spkg
cd gap3-jm2/src/src
make ibm-i386-linux-gcc
cd ..
cp src/gap.exe bin
<EDIT bin/gap.sh>
bin/gap.sh
```

In bin/gap.sh, I set GAP_PRG=gap.exe, and downgraded GAP_MEM=512m to GAP_MEM=64m (otherwise I was getting an error Gasman: can not get memory for the initial workspace).

So I assume that it should be easy to adapt the spkg to also work on windows+cygwin once sage will be more publicly available there (windows 7 still to be tested).



---

archive/issue_comments_095565.json:
```json
{
    "body": "<a id='comment:10'></a>\nWhat is the status of this spkg? I've used this with several versions of sage with Ubuntu and MacOSX (pre-Lion), and I have had no problems. I would be great if this appeared in the optional spkg list.\n\n[Aside: the trac preview claims I deleted the dependencies, but I did not.]",
    "created_at": "2011-08-24T17:10:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95565",
    "user": "https://github.com/saliola"
}
```

<a id='comment:10'></a>
What is the status of this spkg? I've used this with several versions of sage with Ubuntu and MacOSX (pre-Lion), and I have had no problems. I would be great if this appeared in the optional spkg list.

[Aside: the trac preview claims I deleted the dependencies, but I did not.]



---

archive/issue_comments_095566.json:
```json
{
    "body": "Changing status from needs_work to needs_info.",
    "created_at": "2011-08-24T17:10:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95566",
    "user": "https://github.com/saliola"
}
```

Changing status from needs_work to needs_info.



---

archive/issue_events_034350.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/8906#event-34350"
}
```



---

archive/issue_events_034351.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/8906#event-34351"
}
```



---

archive/issue_events_034352.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/8906#event-34352"
}
```



---

archive/issue_events_034353.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/8906#event-34353"
}
```



---

archive/issue_events_034354.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/8906#event-34354"
}
```



---

archive/issue_events_034355.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/8906#event-34355"
}
```



---

archive/issue_events_034356.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/8906#event-34356"
}
```



---

archive/issue_comments_095567.json:
```json
{
    "body": "<a id='comment:15'></a>\nIs anyone still working on this spkg?  I'm interested in being able to use CHEVIE from Sage....",
    "created_at": "2015-05-14T02:37:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95567",
    "user": "https://github.com/roed314"
}
```

<a id='comment:15'></a>
Is anyone still working on this spkg?  I'm interested in being able to use CHEVIE from Sage....



---

archive/issue_comments_095568.json:
```json
{
    "body": "<a id='comment:16'></a>\nIt would be great to make this an official package!\n\nI tried the spkg quickly on two machines and it didn't work on either:\n\n- I tried `sage -i http://sage.math.washington.edu/home/nthiery/gap3-jm2.spkg` on Mac OSX and got an error\n\n```\nimac: sage --version\nSage Version 6.2, Release Date: 2014-05-06\n\nimac: sage -i http://sage.math.washington.edu/home/nthiery/gap3-jm2.spkg\nAttempting to download package gap3-jm2\n>>> Trying to download http://sage.math.washington.edu/home/nthiery/gap3-jm2.spkg\n[............................................................]\ngap3-jm2\n====================================================\nExtracting package /Users/saliola/Applications/sage/upstream/gap3-jm2.spkg\n-rw-r--r--  1 saliola  staff  12234482 May 14 21:16 /Users/saliola/Applications/sage/upstream/gap3-jm2.spkg\nFinished extraction\n****************************************************\nHost system:\nDarwin imac.local 14.3.0 Darwin Kernel Version 14.3.0: Mon Mar 23 11:59:05 PDT 2015; root:xnu-2782.20.48~5/RELEASE_X86_64 x86_64\n****************************************************\nC compiler: gcc\nC compiler version:\nUsing built-in specs.\nCOLLECT_GCC=/Users/saliola/Applications/sage/local/bin/gcc\nCOLLECT_LTO_WRAPPER=/Users/saliola/Applications/sage/local/libexec/gcc/x86_64-apple-darwin12.5.0/4.7.3/lto-wrapper\nTarget: x86_64-apple-darwin12.5.0\nConfigured with: ../src/configure --prefix=/Users/saliola/Applications/sage/local --with-local-prefix=/Users/saliola/Applications/sage/local --with-gmp=/Users/saliola/Applications/sage/local --with-mpfr=/Users/saliola/Applications/sage/local --with-mpc=/Users/saliola/Applications/sage/local --with-system-zlib --disable-multilib --disable-nls  \nThread model: posix\ngcc version 4.7.3 (GCC) \n****************************************************\ndyld: Symbol not found: _sqlite3_intarray_bind\n  Referenced from: /System/Library/Frameworks/CoreData.framework/Versions/A/CoreData\n  Expected in: /Users/saliola/Applications/sage/local/lib/libsqlite3.dylib\n in /System/Library/Frameworks/CoreData.framework/Versions/A/CoreData\nmake: error: unable to locate xcodebuild, please make sure the path to the Xcode folder is set correctly!\nmake: error: You can set the path to the Xcode folder using /usr/bin/xcode-select -switch\nCompiling target macosx-gcc-686-optimized\n18176\nError compiling Gap3\n```\n\n- I tried `sage -i http://sage.math.washington.edu/home/nthiery/gap3-jm2.spkg` with on Ubuntu 14.04 and got an error\n\n```\nT7600: sage --version\nExecuting: /home/saliola/Applications/sage/sage\nSageMath Version 6.7.beta2, Release Date: 2015-04-21\n\nT7600: sage -i http://sage.math.washington.edu/home/nthiery/gap3-jm2.spkg\nExecuting: /home/saliola/Applications/sage/sage\nAttempting to download package gap3-jm2\n>>> Trying to download http://sage.math.washington.edu/home/nthiery/gap3-jm2.spkg\n[............................................................]\ngap3-jm2\n====================================================\nExtracting package /home/saliola/Applications/sage/upstream/gap3-jm2.spkg\n-rw-rw-r-- 1 saliola saliola 12234482 May 14 21:14 /home/saliola/Applications/sage/upstream/gap3-jm2.spkg\nFinished extraction\n****************************************************\nHost system:\nLinux T7600 3.13.0-45-generic #74-Ubuntu SMP Tue Jan 13 19:36:28 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux\n****************************************************\nC compiler: gcc\nC compiler version:\nUsing built-in specs.\nCOLLECT_GCC=/usr/bin/gcc\nCOLLECT_LTO_WRAPPER=/usr/lib/gcc/x86_64-linux-gnu/4.8/lto-wrapper\nTarget: x86_64-linux-gnu\nConfigured with: ../src/configure -v --with-pkgversion='Ubuntu 4.8.2-19ubuntu1' --with-bugurl=file:///usr/share/doc/gcc-4.8/README.Bugs --enable-languages=c,c++,java,go,d,fortran,objc,obj-c++ --prefix=/usr --program-suffix=-4.8 --enable-shared --enable-linker-build-id --libexecdir=/usr/lib --without-included-gettext --enable-threads=posix --with-gxx-include-dir=/usr/include/c++/4.8 --libdir=/usr/lib --enable-nls --with-sysroot=/ --enable-clocale=gnu --enable-libstdcxx-debug --enable-libstdcxx-time=yes --enable-gnu-unique-object --disable-libmudflap --enable-plugin --with-system-zlib --disable-browser-plugin --enable-java-awt=gtk --enable-gtk-cairo --with-java-home=/usr/lib/jvm/java-1.5.0-gcj-4.8-amd64/jre --enable-java-home --with-jvm-root-dir=/usr/lib/jvm/java-1.5.0-gcj-4.8-amd64 --with-jvm-jar-dir=/usr/lib/jvm-exports/java-1.5.0-gcj-4.8-amd64 --with-arch-directory=amd64 --with-ecj-jar=/usr/share/java/eclipse-ecj.jar --enable-objc-gc --enable-multiarch --disable-werror --with-arch-32=i686 --with-abi=m64 --with-multilib-list=m32,m64,mx32 --with-tune=generic --enable-checking=release --build=x86_64-linux-gnu --host=x86_64-linux-gnu --target=x86_64-linux-gnu\nThread model: posix\ngcc version 4.8.2 (Ubuntu 4.8.2-19ubuntu1) \n****************************************************\nmake[1]: Entering directory `/home/saliola/Applications/sage/local/var/tmp/sage/build/gap3-jm2/src/src'\ngcc -m32 -O3 -fomit-frame-pointer -pipe -fno-strength-reduce -march=i686 -DCPU=686 -g -O2 -DSYS_IS_USG -DSYS_HAS_TIME_PROTO -DSYS_HAS_SIGNAL_PROTO -DSYS_HAS_IOCTL_PROTO   -c -o system.o system.c\nIn file included from /usr/include/features.h:398:0,\n                 from /usr/include/ctype.h:25,\n                 from system.h:241,\n                 from system.c:157:\n/usr/include/x86_64-linux-gnu/gnu/stubs.h:7:27: fatal error: gnu/stubs-32.h: No such file or directory\n # include <gnu/stubs-32.h>\n                           ^\ncompilation terminated.\nmake[1]: *** [system.o] Error 1\nmake[1]: Leaving directory `/home/saliola/Applications/sage/local/var/tmp/sage/build/gap3-jm2/src/src'\nmake: *** [ibm-i386-linux-gcc-optimized] Error 2\nCompiling target ibm-i386-linux-gcc-optimized\n512\nError compiling Gap3\n\n```",
    "created_at": "2015-05-15T01:22:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95568",
    "user": "https://github.com/saliola"
}
```

<a id='comment:16'></a>
It would be great to make this an official package!

I tried the spkg quickly on two machines and it didn't work on either:

- I tried `sage -i http://sage.math.washington.edu/home/nthiery/gap3-jm2.spkg` on Mac OSX and got an error

```
imac: sage --version
Sage Version 6.2, Release Date: 2014-05-06

imac: sage -i http://sage.math.washington.edu/home/nthiery/gap3-jm2.spkg
Attempting to download package gap3-jm2
>>> Trying to download http://sage.math.washington.edu/home/nthiery/gap3-jm2.spkg
[............................................................]
gap3-jm2
====================================================
Extracting package /Users/saliola/Applications/sage/upstream/gap3-jm2.spkg
-rw-r--r--  1 saliola  staff  12234482 May 14 21:16 /Users/saliola/Applications/sage/upstream/gap3-jm2.spkg
Finished extraction
****************************************************
Host system:
Darwin imac.local 14.3.0 Darwin Kernel Version 14.3.0: Mon Mar 23 11:59:05 PDT 2015; root:xnu-2782.20.48~5/RELEASE_X86_64 x86_64
****************************************************
C compiler: gcc
C compiler version:
Using built-in specs.
COLLECT_GCC=/Users/saliola/Applications/sage/local/bin/gcc
COLLECT_LTO_WRAPPER=/Users/saliola/Applications/sage/local/libexec/gcc/x86_64-apple-darwin12.5.0/4.7.3/lto-wrapper
Target: x86_64-apple-darwin12.5.0
Configured with: ../src/configure --prefix=/Users/saliola/Applications/sage/local --with-local-prefix=/Users/saliola/Applications/sage/local --with-gmp=/Users/saliola/Applications/sage/local --with-mpfr=/Users/saliola/Applications/sage/local --with-mpc=/Users/saliola/Applications/sage/local --with-system-zlib --disable-multilib --disable-nls  
Thread model: posix
gcc version 4.7.3 (GCC) 
****************************************************
dyld: Symbol not found: _sqlite3_intarray_bind
  Referenced from: /System/Library/Frameworks/CoreData.framework/Versions/A/CoreData
  Expected in: /Users/saliola/Applications/sage/local/lib/libsqlite3.dylib
 in /System/Library/Frameworks/CoreData.framework/Versions/A/CoreData
make: error: unable to locate xcodebuild, please make sure the path to the Xcode folder is set correctly!
make: error: You can set the path to the Xcode folder using /usr/bin/xcode-select -switch
Compiling target macosx-gcc-686-optimized
18176
Error compiling Gap3
```

- I tried `sage -i http://sage.math.washington.edu/home/nthiery/gap3-jm2.spkg` with on Ubuntu 14.04 and got an error

```
T7600: sage --version
Executing: /home/saliola/Applications/sage/sage
SageMath Version 6.7.beta2, Release Date: 2015-04-21

T7600: sage -i http://sage.math.washington.edu/home/nthiery/gap3-jm2.spkg
Executing: /home/saliola/Applications/sage/sage
Attempting to download package gap3-jm2
>>> Trying to download http://sage.math.washington.edu/home/nthiery/gap3-jm2.spkg
[............................................................]
gap3-jm2
====================================================
Extracting package /home/saliola/Applications/sage/upstream/gap3-jm2.spkg
-rw-rw-r-- 1 saliola saliola 12234482 May 14 21:14 /home/saliola/Applications/sage/upstream/gap3-jm2.spkg
Finished extraction
****************************************************
Host system:
Linux T7600 3.13.0-45-generic #74-Ubuntu SMP Tue Jan 13 19:36:28 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux
****************************************************
C compiler: gcc
C compiler version:
Using built-in specs.
COLLECT_GCC=/usr/bin/gcc
COLLECT_LTO_WRAPPER=/usr/lib/gcc/x86_64-linux-gnu/4.8/lto-wrapper
Target: x86_64-linux-gnu
Configured with: ../src/configure -v --with-pkgversion='Ubuntu 4.8.2-19ubuntu1' --with-bugurl=file:///usr/share/doc/gcc-4.8/README.Bugs --enable-languages=c,c++,java,go,d,fortran,objc,obj-c++ --prefix=/usr --program-suffix=-4.8 --enable-shared --enable-linker-build-id --libexecdir=/usr/lib --without-included-gettext --enable-threads=posix --with-gxx-include-dir=/usr/include/c++/4.8 --libdir=/usr/lib --enable-nls --with-sysroot=/ --enable-clocale=gnu --enable-libstdcxx-debug --enable-libstdcxx-time=yes --enable-gnu-unique-object --disable-libmudflap --enable-plugin --with-system-zlib --disable-browser-plugin --enable-java-awt=gtk --enable-gtk-cairo --with-java-home=/usr/lib/jvm/java-1.5.0-gcj-4.8-amd64/jre --enable-java-home --with-jvm-root-dir=/usr/lib/jvm/java-1.5.0-gcj-4.8-amd64 --with-jvm-jar-dir=/usr/lib/jvm-exports/java-1.5.0-gcj-4.8-amd64 --with-arch-directory=amd64 --with-ecj-jar=/usr/share/java/eclipse-ecj.jar --enable-objc-gc --enable-multiarch --disable-werror --with-arch-32=i686 --with-abi=m64 --with-multilib-list=m32,m64,mx32 --with-tune=generic --enable-checking=release --build=x86_64-linux-gnu --host=x86_64-linux-gnu --target=x86_64-linux-gnu
Thread model: posix
gcc version 4.8.2 (Ubuntu 4.8.2-19ubuntu1) 
****************************************************
make[1]: Entering directory `/home/saliola/Applications/sage/local/var/tmp/sage/build/gap3-jm2/src/src'
gcc -m32 -O3 -fomit-frame-pointer -pipe -fno-strength-reduce -march=i686 -DCPU=686 -g -O2 -DSYS_IS_USG -DSYS_HAS_TIME_PROTO -DSYS_HAS_SIGNAL_PROTO -DSYS_HAS_IOCTL_PROTO   -c -o system.o system.c
In file included from /usr/include/features.h:398:0,
                 from /usr/include/ctype.h:25,
                 from system.h:241,
                 from system.c:157:
/usr/include/x86_64-linux-gnu/gnu/stubs.h:7:27: fatal error: gnu/stubs-32.h: No such file or directory
 # include <gnu/stubs-32.h>
                           ^
compilation terminated.
make[1]: *** [system.o] Error 1
make[1]: Leaving directory `/home/saliola/Applications/sage/local/var/tmp/sage/build/gap3-jm2/src/src'
make: *** [ibm-i386-linux-gcc-optimized] Error 2
Compiling target ibm-i386-linux-gcc-optimized
512
Error compiling Gap3

```



---

archive/issue_comments_095569.json:
```json
{
    "body": "Changing status from needs_info to needs_work.",
    "created_at": "2015-05-15T01:22:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95569",
    "user": "https://github.com/saliola"
}
```

Changing status from needs_info to needs_work.



---

archive/issue_comments_095570.json:
```json
{
    "body": "<a id='comment:17'></a>\nIt may very well be that the problems with the above are related to unmet system-wide dependencies / configurations, but we should figure them out and update the installation instructions appropriately since I can compile Sage on these systems.",
    "created_at": "2015-05-15T01:27:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95570",
    "user": "https://github.com/saliola"
}
```

<a id='comment:17'></a>
It may very well be that the problems with the above are related to unmet system-wide dependencies / configurations, but we should figure them out and update the installation instructions appropriately since I can compile Sage on these systems.



---

archive/issue_comments_095571.json:
```json
{
    "body": "<a id='comment:18'></a>\nReplying to [roed](#comment%3A15):\n> Is anyone still working on this spkg?  I'm interested in being able to use CHEVIE from Sage....\n\n\nTo get yourself up and running quickly without waiting for this spkg to be finalized, just install GAP3 system-wide using one of the following options and you should be good to go.\n\n- http://www.math.rwth-aachen.de/~Frank.Luebeck/gap/GAP3\n\n- http://people.math.jussieu.fr/~jmichel/chevie/chevie.html",
    "created_at": "2015-05-15T01:29:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95571",
    "user": "https://github.com/saliola"
}
```

<a id='comment:18'></a>
Replying to [roed](#comment%3A15):
> Is anyone still working on this spkg?  I'm interested in being able to use CHEVIE from Sage....


To get yourself up and running quickly without waiting for this spkg to be finalized, just install GAP3 system-wide using one of the following options and you should be good to go.

- http://www.math.rwth-aachen.de/~Frank.Luebeck/gap/GAP3

- http://people.math.jussieu.fr/~jmichel/chevie/chevie.html



---

archive/issue_comments_095572.json:
```json
{
    "body": "<a id='comment:19'></a>\nFranco and Nicolas, do you plan to make the aim of this ticket happen? It would be great to have for #11187 which I would like to have finished soon.\n\nThanks, Christian",
    "created_at": "2015-06-18T19:36:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95572",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

<a id='comment:19'></a>
Franco and Nicolas, do you plan to make the aim of this ticket happen? It would be great to have for #11187 which I would like to have finished soon.

Thanks, Christian



---

archive/issue_comments_095573.json:
```json
{
    "body": "<a id='comment:20'></a>\nNicolas, what do you think? Should we package this? If so, which version (Luebeck's or Michel's)?\n\nAlso, what would be required to maintain this over time? Test it with every stable release of Sage? It would be good to have a plan going forward on maintaining this package.",
    "created_at": "2015-06-18T19:49:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95573",
    "user": "https://github.com/saliola"
}
```

<a id='comment:20'></a>
Nicolas, what do you think? Should we package this? If so, which version (Luebeck's or Michel's)?

Also, what would be required to maintain this over time? Test it with every stable release of Sage? It would be good to have a plan going forward on maintaining this package.



---

archive/issue_comments_095574.json:
```json
{
    "body": "<a id='comment:21'></a>\nI'd vote for Jean Michel's last version since I regularly send him bug reports in the `chevie` code (found through the code now in #11187, and usually in dark corners of complex reflection group computations) and which he then very quickly fixes and provides on his webside.",
    "created_at": "2015-06-18T19:57:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95574",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

<a id='comment:21'></a>
I'd vote for Jean Michel's last version since I regularly send him bug reports in the `chevie` code (found through the code now in #11187, and usually in dark corners of complex reflection group computations) and which he then very quickly fixes and provides on his webside.



---

archive/issue_comments_095575.json:
```json
{
    "body": "<a id='comment:22'></a>\nI agree it would be good to have. Alas I don't have the manpower to work on this.\n\nI would go for Jean Michel's version indeed. I believe the main stopgap is to make this compile reasonably robustly. The compilation error in[comment:16](#comment%3A16) on Ubuntu is a missing dependency: since gap3 is 32bit it needs to be compiled with the 32bits C library headers. See\ne.g. http://www.cyberciti.biz/tips/compile-32bit-application-using-gcc-64-bit-linux.html for details.",
    "created_at": "2015-06-20T12:27:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95575",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:22'></a>
I agree it would be good to have. Alas I don't have the manpower to work on this.

I would go for Jean Michel's version indeed. I believe the main stopgap is to make this compile reasonably robustly. The compilation error in[comment:16](#comment%3A16) on Ubuntu is a missing dependency: since gap3 is 32bit it needs to be compiled with the 32bits C library headers. See
e.g. http://www.cyberciti.biz/tips/compile-32bit-application-using-gcc-64-bit-linux.html for details.



---

archive/issue_comments_095576.json:
```json
{
    "body": "<a id='comment:23'></a>\nI could try doing it, but I'd be glad if you were taking that over, Franco... Christian",
    "created_at": "2015-06-20T16:17:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95576",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

<a id='comment:23'></a>
I could try doing it, but I'd be glad if you were taking that over, Franco... Christian



---

archive/issue_comments_095577.json:
```json
{
    "body": "<a id='comment:24'></a>\nFrom what I gather from [Frank Leubeck's site](http://www.math.rwth-aachen.de/~Frank.Luebeck/gap/GAP3/index.html):\n* Frank Leubeck's package includes some optimizations and is statically linked;\n* Jean Michel's version has a newer version of CHEVIE;\n* Andrew Mathas provided a Makefile target to compile GAP3 on Mac OSX machines.\n\nI guess these should all be combined at some point?\n\nI'm adding Andrew Mathas to the CC list. Andrew, what is your opinion on this?",
    "created_at": "2015-06-23T01:51:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95577",
    "user": "https://github.com/saliola"
}
```

<a id='comment:24'></a>
From what I gather from [Frank Leubeck's site](http://www.math.rwth-aachen.de/~Frank.Luebeck/gap/GAP3/index.html):
* Frank Leubeck's package includes some optimizations and is statically linked;
* Jean Michel's version has a newer version of CHEVIE;
* Andrew Mathas provided a Makefile target to compile GAP3 on Mac OSX machines.

I guess these should all be combined at some point?

I'm adding Andrew Mathas to the CC list. Andrew, what is your opinion on this?



---

archive/issue_comments_095578.json:
```json
{
    "body": "<a id='comment:25'></a>\nSo Franco -- are we going to do something here?",
    "created_at": "2015-07-20T12:02:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95578",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

<a id='comment:25'></a>
So Franco -- are we going to do something here?



---

archive/issue_comments_095579.json:
```json
{
    "body": "Changing branch from \"\" to \"u/saliola/optional_package_for_gap3\"",
    "created_at": "2015-07-25T03:23:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95579",
    "user": "https://github.com/saliola"
}
```

Changing branch from "" to "u/saliola/optional_package_for_gap3"



---

archive/issue_comments_095580.json:
```json
{
    "body": "<a id='comment:27'></a>\nOK, so besides the fact that I don't know what I am doing, I think this is ready for review.\n\nHere is what you have to do to test this.\n\n1. Checkout this branch: use your favourite method; for instance, with git-trac,\n\n```\ngit trac checkout 8906\n```\n\n2. Download the upstream tarball http://webusers.imj-prg.fr/~jean.michel/gap3/gap3-jm5.tar.gz and copy it into `SAGE_ROOT/upstream`; or just run the following commands:\n\n```\ncd $(sage --root)/upstream\ncurl -O http://webusers.imj-prg.fr/~jean.michel/gap3/gap3-jm5.tar.gz\n```\n\n3. Install the spkg:\n\n```\nsage -i gap3\n```\n\n**Question:** where do I put the upstream tarball so that people don't have to do step 2?\n\n---\nNew commits:\n|                                                                                                                                          |                                                    |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------|\n|[711cf2c](https://github.com/sagemath/sagetrac-mirror/commit/711cf2c1caa7062d45fb40ea9835781becb98bc1)|`8906: create file ``type`` declaring spkg optional`|\n|[f2777b8](https://github.com/sagemath/sagetrac-mirror/commit/f2777b8f396c851c5d12fa408b34ca6626f65bd6)|`8906: create package-version.txt file containing the version`|\n|[c5addcf](https://github.com/sagemath/sagetrac-mirror/commit/c5addcf5fd2fc030f3836c46b19e90d3da42d7c2)|`8906: generate checksums.ini`|\n|[af16d79](https://github.com/sagemath/sagetrac-mirror/commit/af16d7902b7d617d0a36aa960e55fee107933537)|`8906: create SPKG.txt file with package description, etc.`|\n|[ddbe1d5](https://github.com/sagemath/sagetrac-mirror/commit/ddbe1d5fa73f092d34dbe5128143063c11e9e415)|`8906: create spkg-install script, patches and increment patch level`|\n|[0defcc1](https://github.com/sagemath/sagetrac-mirror/commit/0defcc158d537cd66ee67471191c5c45ff041951)|`8906: add gap3 commandline option to sage startup script`|",
    "created_at": "2015-07-25T03:45:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95580",
    "user": "https://github.com/saliola"
}
```

<a id='comment:27'></a>
OK, so besides the fact that I don't know what I am doing, I think this is ready for review.

Here is what you have to do to test this.

1. Checkout this branch: use your favourite method; for instance, with git-trac,

```
git trac checkout 8906
```

2. Download the upstream tarball http://webusers.imj-prg.fr/~jean.michel/gap3/gap3-jm5.tar.gz and copy it into `SAGE_ROOT/upstream`; or just run the following commands:

```
cd $(sage --root)/upstream
curl -O http://webusers.imj-prg.fr/~jean.michel/gap3/gap3-jm5.tar.gz
```

3. Install the spkg:

```
sage -i gap3
```

**Question:** where do I put the upstream tarball so that people don't have to do step 2?

---
New commits:
|                                                                                                                                          |                                                    |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------|
|[711cf2c](https://github.com/sagemath/sagetrac-mirror/commit/711cf2c1caa7062d45fb40ea9835781becb98bc1)|`8906: create file ``type`` declaring spkg optional`|
|[f2777b8](https://github.com/sagemath/sagetrac-mirror/commit/f2777b8f396c851c5d12fa408b34ca6626f65bd6)|`8906: create package-version.txt file containing the version`|
|[c5addcf](https://github.com/sagemath/sagetrac-mirror/commit/c5addcf5fd2fc030f3836c46b19e90d3da42d7c2)|`8906: generate checksums.ini`|
|[af16d79](https://github.com/sagemath/sagetrac-mirror/commit/af16d7902b7d617d0a36aa960e55fee107933537)|`8906: create SPKG.txt file with package description, etc.`|
|[ddbe1d5](https://github.com/sagemath/sagetrac-mirror/commit/ddbe1d5fa73f092d34dbe5128143063c11e9e415)|`8906: create spkg-install script, patches and increment patch level`|
|[0defcc1](https://github.com/sagemath/sagetrac-mirror/commit/0defcc158d537cd66ee67471191c5c45ff041951)|`8906: add gap3 commandline option to sage startup script`|



---

archive/issue_comments_095581.json:
```json
{
    "body": "Changing commit from \"\" to \"0defcc158d537cd66ee67471191c5c45ff041951\"",
    "created_at": "2015-07-25T03:45:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95581",
    "user": "https://github.com/saliola"
}
```

Changing commit from "" to "0defcc158d537cd66ee67471191c5c45ff041951"



---

archive/issue_comments_095582.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-07-25T03:45:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95582",
    "user": "https://github.com/saliola"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_095583.json:
```json
{
    "body": "<a id='comment:28'></a>\nSo is that tarball the official release and the one you want mirrored once this ticket is merged? If so, then please add it to the ticket description. The release manager will add it to the tarball mirror list so a user will only have to do `sage -i gap3` once this is merged.",
    "created_at": "2015-07-25T15:54:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95583",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:28'></a>
So is that tarball the official release and the one you want mirrored once this ticket is merged? If so, then please add it to the ticket description. The release manager will add it to the tarball mirror list so a user will only have to do `sage -i gap3` once this is merged.



---

archive/issue_comments_095584.json:
```json
{
    "body": "<a id='comment:29'></a>\nI am certainly not the right one to do a review since I don't know either whether everything is correct here. Nevertheless, it seems to work like a charm, thanks for preparing it!\n\nDo you know why the first call of `gap3` doesn't appear to work properly?\n\n```\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 SageMath Version 6.8.rc1, Release Date: 2015-07-22                 \u2502\n\u2502 Type \"notebook()\" for the browser-based notebook interface.        \u2502\n\u2502 Type \"help()\" for help.                                            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503 Warning: this is a prerelease version, and it may be unstable.     \u2503\n\u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251b\nsage: gap3\nGap3\nsage: gap3.execute(\"1+1\")\n''\nsage: gap3.execute(\"1+1\")\n'2'\nsage: \n```",
    "created_at": "2015-07-26T22:06:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95584",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

<a id='comment:29'></a>
I am certainly not the right one to do a review since I don't know either whether everything is correct here. Nevertheless, it seems to work like a charm, thanks for preparing it!

Do you know why the first call of `gap3` doesn't appear to work properly?

```
┌────────────────────────────────────────────────────────────────────┐
│ SageMath Version 6.8.rc1, Release Date: 2015-07-22                 │
│ Type "notebook()" for the browser-based notebook interface.        │
│ Type "help()" for help.                                            │
└────────────────────────────────────────────────────────────────────┘
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃ Warning: this is a prerelease version, and it may be unstable.     ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
sage: gap3
Gap3
sage: gap3.execute("1+1")
''
sage: gap3.execute("1+1")
'2'
sage: 
```



---

archive/issue_comments_095585.json:
```json
{
    "body": "<a id='comment:30'></a>\nAs this is confusing the only running patchbot, I temporarily put this into 'needs_info'",
    "created_at": "2015-07-30T12:07:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95585",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:30'></a>
As this is confusing the only running patchbot, I temporarily put this into 'needs_info'



---

archive/issue_comments_095586.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2015-07-30T12:07:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95586",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_095587.json:
```json
{
    "body": "<a id='comment:31'></a>\nReplying to [stumpc5](#comment%3A29):\n> I am certainly not the right one to do a review since I don't know either whether everything is correct here. Nevertheless, it seems to work like a charm, thanks for preparing it!\n> \n> Do you know why the first call of `gap3` doesn't appear to work properly?\n> \n> \n> ```\n> \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n> \u2502 SageMath Version 6.8.rc1, Release Date: 2015-07-22                 \u2502\n> \u2502 Type \"notebook()\" for the browser-based notebook interface.        \u2502\n> \u2502 Type \"help()\" for help.                                            \u2502\n> \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n> \u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n> \u2503 Warning: this is a prerelease version, and it may be unstable.     \u2503\n> \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251b\n> sage: gap3\n> Gap3\n> sage: gap3.execute(\"1+1\")\n> ''\n> sage: gap3.execute(\"1+1\")\n> '2'\n> sage: \n> ```\n\n\nThis is not an issue with the proposed SPKG. In fact, it is a problem even with the first proposed SPKG from Marco Robado.\n\nSo this should be a separate ticket.\n\nEdit: I created a ticket: #18971.",
    "created_at": "2015-07-30T22:14:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95587",
    "user": "https://github.com/saliola"
}
```

<a id='comment:31'></a>
Replying to [stumpc5](#comment%3A29):
> I am certainly not the right one to do a review since I don't know either whether everything is correct here. Nevertheless, it seems to work like a charm, thanks for preparing it!
> 
> Do you know why the first call of `gap3` doesn't appear to work properly?
> 
> 
> ```
> ┌────────────────────────────────────────────────────────────────────┐
> │ SageMath Version 6.8.rc1, Release Date: 2015-07-22                 │
> │ Type "notebook()" for the browser-based notebook interface.        │
> │ Type "help()" for help.                                            │
> └────────────────────────────────────────────────────────────────────┘
> ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
> ┃ Warning: this is a prerelease version, and it may be unstable.     ┃
> ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
> sage: gap3
> Gap3
> sage: gap3.execute("1+1")
> ''
> sage: gap3.execute("1+1")
> '2'
> sage: 
> ```


This is not an issue with the proposed SPKG. In fact, it is a problem even with the first proposed SPKG from Marco Robado.

So this should be a separate ticket.

Edit: I created a ticket: #18971.



---

archive/issue_comments_095588.json:
```json
{
    "body": "<a id='comment:32'></a>\nReplying to [chapoton](#comment%3A30):\n> As this is confusing the only running patchbot, I temporarily put this into 'needs_info'\n\n\nOK, but this still \"needs review\". :-)",
    "created_at": "2015-07-30T22:20:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95588",
    "user": "https://github.com/saliola"
}
```

<a id='comment:32'></a>
Replying to [chapoton](#comment%3A30):
> As this is confusing the only running patchbot, I temporarily put this into 'needs_info'


OK, but this still "needs review". :-)



---

archive/issue_comments_095589.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,7 +1,19 @@\n-Here is an spkg wich contains a patched version of gap3 that compiles on linux/x86 and macosx/x86.\n+Here is a (new) spkg which contains Jean Michel's \"pre-packaged GAP3 with everything you need\". From his webpage:\n \n-[http://thales.math.uqam.ca/~robado/gap3-0.3.spkg](http://thales.math.uqam.ca/~robado/gap3-0.3.spkg)\n+  To help people who are just interested in GAP3 because they need a package which has not been ported to GAP4, I have prepared an easy-to install minimal GAP3 distribution containing an up-to-date versions of the packages:\n \n-Jean's spkg merged with the above:\n+  anusq, arep, autag, chevie, cryst, dce, grim, matrix, meataxe, monoid, nq, pcqa, sisyphos, specht, ve, vkcurve.\n \n-[http://sage.math.washington.edu/home/nthiery/gap3-jm2.spkg](http://sage.math.washington.edu/home/nthiery/gap3-jm2.spkg)\n+  These packages have been chosen since most have no equivalent in GAP4. They are autoloaded when starting gap.This distribution includes only partial lists of small groups, 2-groups, 3-groups, character tables from the Atlas and tables of marks. It does not include either the packages:\n+\n+  anupq, grape, kbmag, xgap, cohomolo, gliss, guava, xmod\n+\n+  which have some equivalent in GAP4. You can get these extra features at\n+\n+  http://www.math.rwth-aachen.de/~Frank.Luebeck/gap/GAP3\n+\n+Here is a link to the corresponding upstream tarball:\n+\n+```\n+http://webusers.imj-prg.fr/~jean.michel/gap3/gap3-jm5.tar.gz\n+```\n``````\n",
    "created_at": "2015-07-30T22:26:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95589",
    "user": "https://github.com/saliola"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,7 +1,19 @@
-Here is an spkg wich contains a patched version of gap3 that compiles on linux/x86 and macosx/x86.
+Here is a (new) spkg which contains Jean Michel's "pre-packaged GAP3 with everything you need". From his webpage:
 
-[http://thales.math.uqam.ca/~robado/gap3-0.3.spkg](http://thales.math.uqam.ca/~robado/gap3-0.3.spkg)
+  To help people who are just interested in GAP3 because they need a package which has not been ported to GAP4, I have prepared an easy-to install minimal GAP3 distribution containing an up-to-date versions of the packages:
 
-Jean's spkg merged with the above:
+  anusq, arep, autag, chevie, cryst, dce, grim, matrix, meataxe, monoid, nq, pcqa, sisyphos, specht, ve, vkcurve.
 
-[http://sage.math.washington.edu/home/nthiery/gap3-jm2.spkg](http://sage.math.washington.edu/home/nthiery/gap3-jm2.spkg)
+  These packages have been chosen since most have no equivalent in GAP4. They are autoloaded when starting gap.This distribution includes only partial lists of small groups, 2-groups, 3-groups, character tables from the Atlas and tables of marks. It does not include either the packages:
+
+  anupq, grape, kbmag, xgap, cohomolo, gliss, guava, xmod
+
+  which have some equivalent in GAP4. You can get these extra features at
+
+  http://www.math.rwth-aachen.de/~Frank.Luebeck/gap/GAP3
+
+Here is a link to the corresponding upstream tarball:
+
+```
+http://webusers.imj-prg.fr/~jean.michel/gap3/gap3-jm5.tar.gz
+```
``````




---

archive/issue_comments_095590.json:
```json
{
    "body": "<a id='comment:33'></a>\nReplying to [tscrim](#comment%3A28):\n> So is that tarball the official release and the one you want mirrored once this ticket is merged? If so, then please add it to the ticket description. The release manager will add it to the tarball mirror list so a user will only have to do `sage -i gap3` once this is merged.\n\n\nThanks, Travis. I'll modify the description.",
    "created_at": "2015-07-30T22:26:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95590",
    "user": "https://github.com/saliola"
}
```

<a id='comment:33'></a>
Replying to [tscrim](#comment%3A28):
> So is that tarball the official release and the one you want mirrored once this ticket is merged? If so, then please add it to the ticket description. The release manager will add it to the tarball mirror list so a user will only have to do `sage -i gap3` once this is merged.


Thanks, Travis. I'll modify the description.



---

archive/issue_comments_095591.json:
```json
{
    "body": "<a id='comment:34'></a>\n> Replying to [tscrim](#comment%3A28): Thanks, Travis. I'll modify the description.\n\n\nHi there -- is anything missing here (except a positive review) in order to get this merged? tscrim, would you be able to do the review if necessary? Thanks, Christian",
    "created_at": "2015-08-24T09:55:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95591",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

<a id='comment:34'></a>
> Replying to [tscrim](#comment%3A28): Thanks, Travis. I'll modify the description.


Hi there -- is anything missing here (except a positive review) in order to get this merged? tscrim, would you be able to do the review if necessary? Thanks, Christian



---

archive/issue_comments_095592.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2015-08-31T15:29:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95592",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_095593.json:
```json
{
    "body": "<a id='comment:35'></a>\nplease someone put this into positive review",
    "created_at": "2015-08-31T15:29:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95593",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:35'></a>
please someone put this into positive review



---

archive/issue_comments_095594.json:
```json
{
    "body": "<a id='comment:36'></a>\nIt seems to work as it is supposed to. Also, the files and their content are as described to be at http://doc.sagemath.org/html/en/developer/packaging.html#directory-structure.\n\nI think it is ready to go!",
    "created_at": "2015-09-01T19:15:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95594",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

<a id='comment:36'></a>
It seems to work as it is supposed to. Also, the files and their content are as described to be at http://doc.sagemath.org/html/en/developer/packaging.html#directory-structure.

I think it is ready to go!



---

archive/issue_comments_095595.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-09-01T19:15:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95595",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_034357.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-09-02T06:49:43Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/8906#event-34357"
}
```



---

archive/issue_events_034358.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-09-02T06:49:43Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "milestone": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/8906#event-34358"
}
```



---

archive/issue_comments_095596.json:
```json
{
    "body": "Changing reviewer from \"Burcin Erocal\" to \"Burcin Erocal, Christian Stump\"",
    "created_at": "2015-09-02T06:49:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95596",
    "user": "https://github.com/fchapoton"
}
```

Changing reviewer from "Burcin Erocal" to "Burcin Erocal, Christian Stump"



---

archive/issue_events_034359.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-09-02T17:25:36Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/8906#event-34359"
}
```



---

archive/issue_comments_095597.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-09-02T17:25:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95597",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_095598.json:
```json
{
    "body": "Changing branch from \"u/saliola/optional_package_for_gap3\" to \"0defcc158d537cd66ee67471191c5c45ff041951\"",
    "created_at": "2015-09-02T17:25:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95598",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/saliola/optional_package_for_gap3" to "0defcc158d537cd66ee67471191c5c45ff041951"



---

archive/issue_comments_095599.json:
```json
{
    "body": "Changing author from \"Jean Michel, Marco Robado, Nicolas M. Thi\u00e9ry\" to \"Jean Michel, Marco Robado, Franco Saliola, Nicolas M. Thi\u00e9ry\"",
    "created_at": "2015-09-02T21:46:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95599",
    "user": "https://github.com/saliola"
}
```

Changing author from "Jean Michel, Marco Robado, Nicolas M. Thiéry" to "Jean Michel, Marco Robado, Franco Saliola, Nicolas M. Thiéry"



---

archive/issue_comments_095600.json:
```json
{
    "body": "Changing commit from \"0defcc158d537cd66ee67471191c5c45ff041951\" to \"\"",
    "created_at": "2015-09-02T21:46:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95600",
    "user": "https://github.com/saliola"
}
```

Changing commit from "0defcc158d537cd66ee67471191c5c45ff041951" to ""



---

archive/issue_comments_095601.json:
```json
{
    "body": "<a id='comment:40'></a>\nthere is a lot of crud left in bin/ subdir.",
    "created_at": "2015-09-08T18:36:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95601",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:40'></a>
there is a lot of crud left in bin/ subdir.



---

archive/issue_comments_095602.json:
```json
{
    "body": "<a id='comment:41'></a>\nthis is scary. This package distributes executables. IMHO it should have never been accepted this way.",
    "created_at": "2015-09-08T18:43:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95602",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:41'></a>
this is scary. This package distributes executables. IMHO it should have never been accepted this way.



---

archive/issue_comments_095603.json:
```json
{
    "body": "<a id='comment:42'></a>\nHaving said that, I can also point out that some packages included only contain executables for x86_64, while they are advertised to be included regardless of the platform.",
    "created_at": "2015-09-08T18:52:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95603",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:42'></a>
Having said that, I can also point out that some packages included only contain executables for x86_64, while they are advertised to be included regardless of the platform.



---

archive/issue_comments_095604.json:
```json
{
    "body": "<a id='comment:43'></a>\n(this was reverted in #19164)",
    "created_at": "2015-09-09T21:54:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95604",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:43'></a>
(this was reverted in #19164)



---

archive/issue_comments_095605.json:
```json
{
    "body": "<a id='comment:44'></a>\nReplying to [saliola](#comment%3A31):\n> Replying to [stumpc5](#comment%3A29):\n> > I am certainly not the right one to do a review since I don't know either whether everything is correct here. Nevertheless, it seems to work like a charm, thanks for preparing it!\n> > \n> > Do you know why the first call of `gap3` doesn't appear to work properly?\n> > \n> > \n> > ```\n> > \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n> > \u2502 SageMath Version 6.8.rc1, Release Date: 2015-07-22                 \u2502\n> > \u2502 Type \"notebook()\" for the browser-based notebook interface.        \u2502\n> > \u2502 Type \"help()\" for help.                                            \u2502\n> > \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n> > \u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n> > \u2503 Warning: this is a prerelease version, and it may be unstable.     \u2503\n> > \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251b\n> > sage: gap3\n> > Gap3\n> > sage: gap3.execute(\"1+1\")\n> > ''\n> > sage: gap3.execute(\"1+1\")\n> > '2'\n> > sage: \n> > ```\n\n> \n> This is not an issue with the proposed SPKG. In fact, it is a problem even with the first proposed SPKG from Marco Robado.\n> \n> So this should be a separate ticket.\n> \n> Edit: I created a ticket: #18971.\n\n\nFixed in #23142.",
    "created_at": "2017-06-06T21:08:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8906#issuecomment-95605",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:44'></a>
Replying to [saliola](#comment%3A31):
> Replying to [stumpc5](#comment%3A29):
> > I am certainly not the right one to do a review since I don't know either whether everything is correct here. Nevertheless, it seems to work like a charm, thanks for preparing it!
> > 
> > Do you know why the first call of `gap3` doesn't appear to work properly?
> > 
> > 
> > ```
> > ┌────────────────────────────────────────────────────────────────────┐
> > │ SageMath Version 6.8.rc1, Release Date: 2015-07-22                 │
> > │ Type "notebook()" for the browser-based notebook interface.        │
> > │ Type "help()" for help.                                            │
> > └────────────────────────────────────────────────────────────────────┘
> > ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
> > ┃ Warning: this is a prerelease version, and it may be unstable.     ┃
> > ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
> > sage: gap3
> > Gap3
> > sage: gap3.execute("1+1")
> > ''
> > sage: gap3.execute("1+1")
> > '2'
> > sage: 
> > ```

> 
> This is not an issue with the proposed SPKG. In fact, it is a problem even with the first proposed SPKG from Marco Robado.
> 
> So this should be a separate ticket.
> 
> Edit: I created a ticket: #18971.


Fixed in #23142.
