# Issue 8109: wrap NTL's lzz_pE and lzz_pEX and use them

archive/issues_008109.json:
```json
{
    "assignees": [
        "https://github.com/aghitza"
    ],
    "body": "This should fasten polynomial arithmetic over finite fields of small characteristic.\n\nKeywords: **ntl**\n\nComponent: **algebra**\n\nAuthor: **Yann Laigle-Chapuy**\n\nReviewer: **roed**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/8109_\n\n",
    "created_at": "2010-01-28T08:02:42Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20algebra",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/needs%20work"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "wrap NTL's lzz_pE and lzz_pEX and use them",
    "type": "issue",
    "updated_at": "2022-12-29T01:28:25Z",
    "url": "https://github.com/sagemath/sage/issues/8109",
    "user": "https://github.com/sagetrac-ylchapuy"
}
```
This should fasten polynomial arithmetic over finite fields of small characteristic.

Keywords: **ntl**

Component: **algebra**

Author: **Yann Laigle-Chapuy**

Reviewer: **roed**

_Issue created by migration from https://trac.sagemath.org/ticket/8109_





---

archive/issue_events_099934.json:
```json
{
    "actor": "https://github.com/sagetrac-ylchapuy",
    "created_at": "2010-01-28T08:02:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8109",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20algebra",
    "label_color": "0000ff",
    "label_name": "c: algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8109#event-99934"
}
```



---

archive/issue_events_099935.json:
```json
{
    "actor": "https://github.com/sagetrac-ylchapuy",
    "created_at": "2010-01-28T08:02:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8109",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8109#event-99935"
}
```



---

archive/issue_events_099936.json:
```json
{
    "actor": "https://github.com/sagetrac-ylchapuy",
    "created_at": "2010-01-28T08:02:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8109",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8109#event-99936"
}
```



---

archive/issue_events_099937.json:
```json
{
    "actor": "https://github.com/sagetrac-ylchapuy",
    "created_at": "2010-01-28T08:02:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8109",
    "label": "https://github.com/sagemath/sage/labels/wishlist%20item",
    "label_color": "e81ff9",
    "label_name": "wishlist item",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8109#event-99937"
}
```



---

archive/issue_events_099938.json:
```json
{
    "actor": "https://github.com/aghitza",
    "created_at": "2010-01-28T08:02:42Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/8109",
    "subject": "https://github.com/sagetrac-ylchapuy",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8109#event-99938"
}
```



---

archive/issue_comments_062469.json:
```json
{
    "body": "Attachment: **[trac_8109-lzz_pEX.patch.gz](https://github.com/sagemath/sage/files/ticket8109/trac_8109-lzz_pEX.patch.gz)**\n\nneeds #7841 (I guess)",
    "created_at": "2010-01-29T23:27:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8109#issuecomment-62469",
    "user": "https://github.com/sagetrac-ylchapuy"
}
```

Attachment: **[trac_8109-lzz_pEX.patch.gz](https://github.com/sagemath/sage/files/ticket8109/trac_8109-lzz_pEX.patch.gz)**

needs #7841 (I guess)



---

archive/issue_events_099939.json:
```json
{
    "actor": "https://github.com/sagetrac-ylchapuy",
    "created_at": "2010-01-29T23:31:59Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/8109",
    "milestone_number": null,
    "milestone_title": "sage-4.3.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8109#event-99939"
}
```



---

archive/issue_events_099940.json:
```json
{
    "actor": "https://github.com/sagetrac-ylchapuy",
    "created_at": "2010-01-29T23:31:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8109",
    "label": "https://github.com/sagemath/sage/labels/wishlist%20item",
    "label_color": "e81ff9",
    "label_name": "wishlist item",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8109#event-99940"
}
```



---

archive/issue_comments_062470.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nPreliminary version.\n\nnote: this is mostly a copy of existing files for wrapping ZZ_pE and ZZ_pEX with\n'sed s/ZZ/zz/g' applied.\n\nwarning: there is no test (yet) for checking that the modulus is < NTL_SP_BOUND\n\nstill, doctests pass and here are some results:\n\n```\nsage: c=ntl.zz_pEContext(ntl.zz_pX([1,1,1,1,1], 19800713)) \nsage: a = ntl.zz_pE([3,2], c); b = ntl.zz_pE([1,2], c)\nsage: f = ntl.zz_pEX([a, b, b])\nsage: p = f**123\nsage: q = p+f**77+f\nsage: \nsage: C=ntl.ZZ_pEContext(ntl.ZZ_pX([1,1,1,1,1], 19800713)) \nsage: A = ntl.ZZ_pE([3,2], C); B = ntl.ZZ_pE([1,2], C)\nsage: F = ntl.ZZ_pEX([A, B, B])\nsage: P = F**123\nsage: Q = P+F**77+F\nsage: \nsage: %timeit p+q\n625 loops, best of 3: 59.6 \u00b5s per loop\nsage: %timeit P+Q\n625 loops, best of 3: 180 \u00b5s per loop\nsage: \nsage: %timeit p*q\n125 loops, best of 3: 2.62 ms per loop\nsage: %timeit P*Q\n125 loops, best of 3: 5.65 ms per loop\nsage: \nsage: %timeit p.gcd(q)\n125 loops, best of 3: 7.28 ms per loop\nsage: %timeit P.gcd(Q)\n5 loops, best of 3: 62.5 ms per loop\nsage: \nsage: %timeit p**17\n5 loops, best of 3: 58 ms per loop\nsage: %timeit P**17\n5 loops, best of 3: 129 ms per loop\n```",
    "created_at": "2010-01-29T23:31:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8109#issuecomment-62470",
    "user": "https://github.com/sagetrac-ylchapuy"
}
```

<div id="comment:1" align="right">comment:1</div>

Preliminary version.

note: this is mostly a copy of existing files for wrapping ZZ_pE and ZZ_pEX with
'sed s/ZZ/zz/g' applied.

warning: there is no test (yet) for checking that the modulus is < NTL_SP_BOUND

still, doctests pass and here are some results:

```
sage: c=ntl.zz_pEContext(ntl.zz_pX([1,1,1,1,1], 19800713)) 
sage: a = ntl.zz_pE([3,2], c); b = ntl.zz_pE([1,2], c)
sage: f = ntl.zz_pEX([a, b, b])
sage: p = f**123
sage: q = p+f**77+f
sage: 
sage: C=ntl.ZZ_pEContext(ntl.ZZ_pX([1,1,1,1,1], 19800713)) 
sage: A = ntl.ZZ_pE([3,2], C); B = ntl.ZZ_pE([1,2], C)
sage: F = ntl.ZZ_pEX([A, B, B])
sage: P = F**123
sage: Q = P+F**77+F
sage: 
sage: %timeit p+q
625 loops, best of 3: 59.6 µs per loop
sage: %timeit P+Q
625 loops, best of 3: 180 µs per loop
sage: 
sage: %timeit p*q
125 loops, best of 3: 2.62 ms per loop
sage: %timeit P*Q
125 loops, best of 3: 5.65 ms per loop
sage: 
sage: %timeit p.gcd(q)
125 loops, best of 3: 7.28 ms per loop
sage: %timeit P.gcd(Q)
5 loops, best of 3: 62.5 ms per loop
sage: 
sage: %timeit p**17
5 loops, best of 3: 58 ms per loop
sage: %timeit P**17
5 loops, best of 3: 129 ms per loop
```



---

archive/issue_comments_062471.json:
```json
{
    "body": "Changed keywords from none to **ntl**",
    "created_at": "2010-01-29T23:31:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8109#issuecomment-62471",
    "user": "https://github.com/sagetrac-ylchapuy"
}
```

Changed keywords from none to **ntl**



---

archive/issue_comments_062472.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nReplying to [@sagetrac-ylchapuy](#comment%3A1):\n\n> warning: there is no test (yet) for checking that the modulus is < NTL_SP_BOUND\n\nI must be tired... there is a check, it's done in the lzz_p class.\n\nI guess this one is ready for review then. I will open another ticket to do the same as #7841 latter.",
    "created_at": "2010-01-29T23:42:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8109#issuecomment-62472",
    "user": "https://github.com/sagetrac-ylchapuy"
}
```

<div id="comment:2" align="right">comment:2</div>

Replying to [@sagetrac-ylchapuy](#comment%3A1):

> warning: there is no test (yet) for checking that the modulus is < NTL_SP_BOUND

I must be tired... there is a check, it's done in the lzz_p class.

I guess this one is ready for review then. I will open another ticket to do the same as #7841 latter.



---

archive/issue_events_099941.json:
```json
{
    "actor": "https://github.com/sagetrac-ylchapuy",
    "created_at": "2010-01-29T23:42:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8109",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8109#event-99941"
}
```



---

archive/issue_comments_062473.json:
```json
{
    "body": "use both patches",
    "created_at": "2010-02-01T19:47:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8109#issuecomment-62473",
    "user": "https://github.com/sagetrac-ylchapuy"
}
```

use both patches



---

archive/issue_comments_062474.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nAttachment: **[trac_8109-lzz_pEX-part2.patch.gz](https://github.com/sagemath/sage/files/ticket8109/trac_8109-lzz_pEX-part2.patch.gz)**\n\nFinally, this is such a small patch that I add it here.\nWith both patches applied, the default implementation for polynomial ring is now based on NTL, and uses type ZZ or lzz depending on the characteristic (tested against NTL_SP_BOUND).",
    "created_at": "2010-02-01T20:01:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8109#issuecomment-62474",
    "user": "https://github.com/sagetrac-ylchapuy"
}
```

<div id="comment:3" align="right">comment:3</div>

Attachment: **[trac_8109-lzz_pEX-part2.patch.gz](https://github.com/sagemath/sage/files/ticket8109/trac_8109-lzz_pEX-part2.patch.gz)**

Finally, this is such a small patch that I add it here.
With both patches applied, the default implementation for polynomial ring is now based on NTL, and uses type ZZ or lzz depending on the characteristic (tested against NTL_SP_BOUND).



---

archive/issue_comments_062475.json:
```json
{
    "body": "Reviewer: **roed**",
    "created_at": "2010-02-08T22:32:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8109#issuecomment-62475",
    "user": "https://github.com/roed314"
}
```

Reviewer: **roed**



---

archive/issue_comments_062476.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nI'll review this.  I'm working on multiple related things actually: improving finite fields (which I'm thinking of doing with a new templating class) and p-adic polynomials.",
    "created_at": "2010-02-08T22:32:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8109#issuecomment-62476",
    "user": "https://github.com/roed314"
}
```

<div id="comment:4" align="right">comment:4</div>

I'll review this.  I'm working on multiple related things actually: improving finite fields (which I'm thinking of doing with a new templating class) and p-adic polynomials.



---

archive/issue_events_099942.json:
```json
{
    "actor": "https://github.com/sagetrac-ylchapuy",
    "created_at": "2010-02-09T17:40:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8109",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8109#event-99942"
}
```



---

archive/issue_events_099943.json:
```json
{
    "actor": "https://github.com/sagetrac-ylchapuy",
    "created_at": "2010-02-09T17:40:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8109",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8109#event-99943"
}
```



---

archive/issue_comments_062477.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nI see that you changed it to \"needs work.\"  One thing I noticed looking at the patch was that sage/libs/ntl/ntl_lzz_decl.pxd seems generally broken: shouldn't those be zz_p and lzz_p, not zz and lzz?",
    "created_at": "2010-02-09T22:49:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8109#issuecomment-62477",
    "user": "https://github.com/roed314"
}
```

<div id="comment:6" align="right">comment:6</div>

I see that you changed it to "needs work."  One thing I noticed looking at the patch was that sage/libs/ntl/ntl_lzz_decl.pxd seems generally broken: shouldn't those be zz_p and lzz_p, not zz and lzz?



---

archive/issue_comments_062478.json:
```json
{
    "body": "Attachment: **[trac_8109-lzz_pEX-part3.patch.gz](https://github.com/sagemath/sage/files/ticket8109/trac_8109-lzz_pEX-part3.patch.gz)**\n\nreplacing all previous ones",
    "created_at": "2010-02-10T18:38:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8109#issuecomment-62478",
    "user": "https://github.com/sagetrac-ylchapuy"
}
```

Attachment: **[trac_8109-lzz_pEX-part3.patch.gz](https://github.com/sagemath/sage/files/ticket8109/trac_8109-lzz_pEX-part3.patch.gz)**

replacing all previous ones



---

archive/issue_comments_062479.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nAttachment: **[trac_8109-lzz_pEX-all_in_one.patch.gz](https://github.com/sagemath/sage/files/ticket8109/trac_8109-lzz_pEX-all_in_one.patch.gz)**\n\nReplying to [@roed314](#comment%3A6):\n> I see that you changed it to \"needs work.\"  One thing I noticed looking at the patch was that sage/libs/ntl/ntl_lzz_decl.pxd seems generally broken: shouldn't those be zz_p and lzz_p, not zz and lzz?\n\nIt's even worse than that, this file just shouldn't exist :)\nThe last patch replaces all previous ones and should be almost ready for review. I will just check and address the comments made on #7841 before.",
    "created_at": "2010-02-10T18:41:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8109#issuecomment-62479",
    "user": "https://github.com/sagetrac-ylchapuy"
}
```

<div id="comment:7" align="right">comment:7</div>

Attachment: **[trac_8109-lzz_pEX-all_in_one.patch.gz](https://github.com/sagemath/sage/files/ticket8109/trac_8109-lzz_pEX-all_in_one.patch.gz)**

Replying to [@roed314](#comment%3A6):
> I see that you changed it to "needs work."  One thing I noticed looking at the patch was that sage/libs/ntl/ntl_lzz_decl.pxd seems generally broken: shouldn't those be zz_p and lzz_p, not zz and lzz?

It's even worse than that, this file just shouldn't exist :)
The last patch replaces all previous ones and should be almost ready for review. I will just check and address the comments made on #7841 before.



---

archive/issue_comments_062480.json:
```json
{
    "body": "Author: **Yann Laigle-Chapuy**",
    "created_at": "2010-03-10T11:45:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8109#issuecomment-62480",
    "user": "https://github.com/sagetrac-ylchapuy"
}
```

Author: **Yann Laigle-Chapuy**



---

archive/issue_events_099944.json:
```json
{
    "actor": "https://github.com/sagetrac-ylchapuy",
    "created_at": "2010-03-10T11:45:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8109",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8109#event-99944"
}
```



---

archive/issue_events_099945.json:
```json
{
    "actor": "https://github.com/sagetrac-ylchapuy",
    "created_at": "2010-03-10T11:45:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8109",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8109#event-99945"
}
```



---

archive/issue_comments_062481.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nAttachment: **[trac_8109-lzz_pEX-copyrights.patch.gz](https://github.com/sagemath/sage/files/ticket8109/trac_8109-lzz_pEX-copyrights.patch.gz)**\n\nApply only:\n\n* trac_8109-lzz_pEX-all_in_one.patch\n* trac_8109-lzz_pEX-copyrights.patch\n\nin this order.",
    "created_at": "2010-03-10T11:45:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8109#issuecomment-62481",
    "user": "https://github.com/sagetrac-ylchapuy"
}
```

<div id="comment:8" align="right">comment:8</div>

Attachment: **[trac_8109-lzz_pEX-copyrights.patch.gz](https://github.com/sagemath/sage/files/ticket8109/trac_8109-lzz_pEX-copyrights.patch.gz)**

Apply only:

* trac_8109-lzz_pEX-all_in_one.patch
* trac_8109-lzz_pEX-copyrights.patch

in this order.



---

archive/issue_comments_062482.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nI get doctest failures on sage.math:\n\n```\nsage -t  devel/sage/sage/graphs/graph_list.py # 0 doctests failed\nsage -t  devel/sage/sage/schemes/elliptic_curves/ell_curve_isogeny.py # Killed/crashed\nsage -t  devel/sage/sage/libs/ntl/ntl_lzz_pX.pyx # 5 doctests failed\nsage -t  devel/sage/sage/libs/ntl/ntl_lzz_pEX_linkage.pxi # 3 doctests failed\n```\n\nLooks like a 64-bit thing?\n\n```\nsage -t  devel/sage/sage/libs/ntl/ntl_lzz_pEX_linkage.pxi\n**********************************************************************\nFile \"/mnt/usb1/scratch/malb/sage-4.3.3/devel/sage-main/sage/libs/ntl/ntl_lzz_pEX_linkage.pxi\", line 178:\n    sage: (1+a+a^2)*x - (1+x+x^2)\nExpected:\n    1152921504606847008*x^2 + (a^2 + a)*x + 1152921504606847008\nGot:\n    1030*x^2 + (a^2 + a)*x + 1030\n**********************************************************************\nFile \"/mnt/usb1/scratch/malb/sage-4.3.3/devel/sage-main/sage/libs/ntl/ntl_lzz_pEX_linkage.pxi\", line 189:\n    sage: -x\nExpected:\n    1152921504606847008*x\nGot:\n    1030*x\n**********************************************************************\nFile \"/mnt/usb1/scratch/malb/sage-4.3.3/devel/sage-main/sage/libs/ntl/ntl_lzz_pEX_linkage.pxi\", line 308:\n    sage: (a+1+x).xgcd(a+x)\nExpected:\n    (1, 1, 1152921504606847008)\nGot:\n    (1, 1, 1030)\n**********************************************************************\n```",
    "created_at": "2010-04-14T10:48:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8109#issuecomment-62482",
    "user": "https://github.com/malb"
}
```

<div id="comment:9" align="right">comment:9</div>

I get doctest failures on sage.math:

```
sage -t  devel/sage/sage/graphs/graph_list.py # 0 doctests failed
sage -t  devel/sage/sage/schemes/elliptic_curves/ell_curve_isogeny.py # Killed/crashed
sage -t  devel/sage/sage/libs/ntl/ntl_lzz_pX.pyx # 5 doctests failed
sage -t  devel/sage/sage/libs/ntl/ntl_lzz_pEX_linkage.pxi # 3 doctests failed
```

Looks like a 64-bit thing?

```
sage -t  devel/sage/sage/libs/ntl/ntl_lzz_pEX_linkage.pxi
**********************************************************************
File "/mnt/usb1/scratch/malb/sage-4.3.3/devel/sage-main/sage/libs/ntl/ntl_lzz_pEX_linkage.pxi", line 178:
    sage: (1+a+a^2)*x - (1+x+x^2)
Expected:
    1152921504606847008*x^2 + (a^2 + a)*x + 1152921504606847008
Got:
    1030*x^2 + (a^2 + a)*x + 1030
**********************************************************************
File "/mnt/usb1/scratch/malb/sage-4.3.3/devel/sage-main/sage/libs/ntl/ntl_lzz_pEX_linkage.pxi", line 189:
    sage: -x
Expected:
    1152921504606847008*x
Got:
    1030*x
**********************************************************************
File "/mnt/usb1/scratch/malb/sage-4.3.3/devel/sage-main/sage/libs/ntl/ntl_lzz_pEX_linkage.pxi", line 308:
    sage: (a+1+x).xgcd(a+x)
Expected:
    (1, 1, 1152921504606847008)
Got:
    (1, 1, 1030)
**********************************************************************
```



---

archive/issue_events_099946.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2010-04-14T10:48:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8109",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8109#event-99946"
}
```



---

archive/issue_events_099947.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2010-04-14T10:48:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8109",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8109#event-99947"
}
```



---

archive/issue_comments_062483.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nThe patch needs to be rebased as well.",
    "created_at": "2011-08-19T12:05:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8109#issuecomment-62483",
    "user": "https://github.com/sagetrac-johanbosman"
}
```

<div id="comment:10" align="right">comment:10</div>

The patch needs to be rebased as well.



---

archive/issue_events_099948.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/8109",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8109#event-99948"
}
```



---

archive/issue_events_099949.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/8109",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8109#event-99949"
}
```



---

archive/issue_events_099950.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/8109",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8109#event-99950"
}
```



---

archive/issue_events_099951.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/8109",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8109#event-99951"
}
```



---

archive/issue_events_099952.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/8109",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8109#event-99952"
}
```



---

archive/issue_events_099953.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/8109",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8109#event-99953"
}
```



---

archive/issue_events_099954.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/8109",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8109#event-99954"
}
```



---

archive/issue_events_099955.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/8109",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8109#event-99955"
}
```



---

archive/issue_events_099956.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-12-29T01:28:25Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/8109",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8109#event-99956"
}
```
