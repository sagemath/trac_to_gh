# Issue 8252: names parameter in optimized_representation is tweaked,

archive/issues_008252.json:
```json
{
    "body": "Here is a bit of annoyance:\n\n```\nsage: K.<a>=NumberField(x^2+1)\nsage: L.<b>=K.extension(x^2+5)\nsage: Labs.<tau> = L.absolute_field()\nsage: Lnice = Labs.optimized_representation(names='t')\nsage: Lnice[0]\nNumber Field in t3 with defining polynomial x^4 + 3*x^2 + 1\n```\n\nWhile the more reasonable output should be \n\n```\nNumber Field in t with defining polynomial x^4 + 3*x^2 + 1\n```\n\nI've looked at the code, and the problem is that the helper function that finds the optimized number field calculates all sorts of other fields, and needs to make sure the names don't conflict with each other, so the output makes sense in that front. However, the output is still unexpected for the user. \n\nThere is an obvious hack that can solve this problem (edit Lnice._names before returning from optimized_representation), but I'm not sure if that's the best approach (side effects scare me).\n\nAssignee: @loefflerd\n\nKeywords: number fields\n\nAuthor: Alex Ghitza\n\nBranch: u/AlexGhitza/ticket/8252\n\nStatus: needs_work\n\nCommit: e7db903ad58aecb2224f5eb9608ce08f12b8c703\n\nIssue created by migration from https://trac.sagemath.org/ticket/8252\n\n",
    "created_at": "2010-02-12T22:17:51Z",
    "labels": [
        "component: number fields",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.4",
    "title": "names parameter in optimized_representation is tweaked,",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/8252",
    "user": "https://github.com/syazdani77"
}
```
Here is a bit of annoyance:

```
sage: K.<a>=NumberField(x^2+1)
sage: L.<b>=K.extension(x^2+5)
sage: Labs.<tau> = L.absolute_field()
sage: Lnice = Labs.optimized_representation(names='t')
sage: Lnice[0]
Number Field in t3 with defining polynomial x^4 + 3*x^2 + 1
```

While the more reasonable output should be 

```
Number Field in t with defining polynomial x^4 + 3*x^2 + 1
```

I've looked at the code, and the problem is that the helper function that finds the optimized number field calculates all sorts of other fields, and needs to make sure the names don't conflict with each other, so the output makes sense in that front. However, the output is still unexpected for the user. 

There is an obvious hack that can solve this problem (edit Lnice._names before returning from optimized_representation), but I'm not sure if that's the best approach (side effects scare me).

Assignee: @loefflerd

Keywords: number fields

Author: Alex Ghitza

Branch: u/AlexGhitza/ticket/8252

Status: needs_work

Commit: e7db903ad58aecb2224f5eb9608ce08f12b8c703

Issue created by migration from https://trac.sagemath.org/ticket/8252





---

archive/issue_comments_075521.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-04-18T05:29:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8252#issuecomment-75521",
    "user": "https://github.com/aghitza"
}
```

Changing status from new to needs_review.



---

archive/issue_events_019735.json:
```json
{
    "actor": "https://github.com/aghitza",
    "created_at": "2014-04-18T05:29:45Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/8252",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/8252#event-19735"
}
```



---

archive/issue_comments_075522.json:
```json
{
    "body": "<a id='comment:2'></a>New commits:",
    "created_at": "2014-04-18T05:29:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8252#issuecomment-75522",
    "user": "https://github.com/aghitza"
}
```

<a id='comment:2'></a>New commits:



---

archive/issue_events_019736.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/8252",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/8252#event-19736"
}
```



---

archive/issue_events_019737.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/8252",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/8252#event-19737"
}
```



---

archive/issue_comments_075523.json:
```json
{
    "body": "<a id='comment:4'></a>\n```\nsage -t --long src/sage/schemes/elliptic_curves/heegner.py  # 2 doctests failed\n```",
    "created_at": "2014-05-20T13:03:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8252#issuecomment-75523",
    "user": "https://github.com/rwst"
}
```

<a id='comment:4'></a>
```
sage -t --long src/sage/schemes/elliptic_curves/heegner.py  # 2 doctests failed
```



---

archive/issue_comments_075524.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-05-20T13:03:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8252#issuecomment-75524",
    "user": "https://github.com/rwst"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_events_019738.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/8252",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/8252#event-19738"
}
```



---

archive/issue_events_019739.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/8252",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/8252#event-19739"
}
```
