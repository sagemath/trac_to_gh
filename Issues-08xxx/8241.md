# Issue 8241: p-adic fields should have Witt Frobenius

archive/issues_008241.json:
```json
{
    "body": "If K is an unramified extension of Qp, there should be a function that computes the canonical Witt p-Frobenius:\n\n```\nsage: K.<a> = Qp(25)\nsage: a.witt_frobenius()\n???\n```\n\n---\n\nApply [attachment:trac_8241-frobenius.patch] to the Sage library.\n\n\nAssignee: @roed314\n\nReviewer: Kiran Kedlaya, David Loeffler\n\nAuthor: David Roe\n\nMerged: sage-5.0.beta9\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/8241\n\n",
    "closed_at": "2012-03-21T22:03:40Z",
    "created_at": "2010-02-11T19:54:03Z",
    "labels": [
        "component: padics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.0",
    "title": "p-adic fields should have Witt Frobenius",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/8241",
    "user": "https://trac.sagemath.org/admin/accounts/users/dmharvey"
}
```
If K is an unramified extension of Qp, there should be a function that computes the canonical Witt p-Frobenius:

```
sage: K.<a> = Qp(25)
sage: a.witt_frobenius()
???
```

---

Apply [attachment:trac_8241-frobenius.patch] to the Sage library.


Assignee: @roed314

Reviewer: Kiran Kedlaya, David Loeffler

Author: David Roe

Merged: sage-5.0.beta9

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/8241





---

archive/issue_comments_092044.json:
```json
{
    "body": "<a id='comment:1'></a>\n(oops the Qp above should be Qq)",
    "created_at": "2010-02-11T19:54:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8241#issuecomment-92044",
    "user": "https://trac.sagemath.org/admin/accounts/users/dmharvey"
}
```

<a id='comment:1'></a>
(oops the Qp above should be Qq)



---

archive/issue_comments_092045.json:
```json
{
    "body": "Changing author from \"\" to \"David Roe\"",
    "created_at": "2010-11-22T09:51:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8241#issuecomment-92045",
    "user": "https://github.com/roed314"
}
```

Changing author from "" to "David Roe"



---

archive/issue_comments_092046.json:
```json
{
    "body": "<a id='comment:2'></a>\nI called the function `frobenius` rather than `witt_frobenius`.",
    "created_at": "2010-11-22T09:51:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8241#issuecomment-92046",
    "user": "https://github.com/roed314"
}
```

<a id='comment:2'></a>
I called the function `frobenius` rather than `witt_frobenius`.



---

archive/issue_events_024585.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2010-11-22T09:51:23Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/8241",
    "milestone": "sage-4.6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/8241#event-24585"
}
```



---

archive/issue_comments_092047.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2010-11-22T09:51:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8241#issuecomment-92047",
    "user": "https://github.com/roed314"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_092048.json:
```json
{
    "body": "<a id='comment:3'></a>\nFixed a small problem revealed by the test-bot.",
    "created_at": "2010-12-03T13:52:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8241#issuecomment-92048",
    "user": "https://github.com/roed314"
}
```

<a id='comment:3'></a>
Fixed a small problem revealed by the test-bot.



---

archive/issue_comments_092049.json:
```json
{
    "body": "<a id='comment:4'></a>\nFor consistency, these methods should also apply to Qp, with Frobenius acting as the identity map. For instance, the following should not raise an exception:\n\n```\nsage: Qp(7)(2).frobenius()\n```",
    "created_at": "2011-06-17T15:43:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8241#issuecomment-92049",
    "user": "https://github.com/kedlaya"
}
```

<a id='comment:4'></a>
For consistency, these methods should also apply to Qp, with Frobenius acting as the identity map. For instance, the following should not raise an exception:

```
sage: Qp(7)(2).frobenius()
```



---

archive/issue_comments_092050.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2011-06-17T15:43:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8241#issuecomment-92050",
    "user": "https://github.com/kedlaya"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_092051.json:
```json
{
    "body": "<a id='comment:6'></a>\nThere's now a frobenius method for p-adic base rings and fields.",
    "created_at": "2011-06-21T19:44:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8241#issuecomment-92051",
    "user": "https://github.com/roed314"
}
```

<a id='comment:6'></a>
There's now a frobenius method for p-adic base rings and fields.



---

archive/issue_comments_092052.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2011-06-21T19:44:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8241#issuecomment-92052",
    "user": "https://github.com/roed314"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_092053.json:
```json
{
    "body": "<a id='comment:7'></a>\nI have no idea why adding a method to Qp causes a test in sage/libs/fplll/fplll.py to fail.",
    "created_at": "2011-06-22T07:53:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8241#issuecomment-92053",
    "user": "https://github.com/roed314"
}
```

<a id='comment:7'></a>
I have no idea why adding a method to Qp causes a test in sage/libs/fplll/fplll.py to fail.



---

archive/issue_comments_092054.json:
```json
{
    "body": "<a id='comment:8'></a>\nReplying to [roed](#comment%3A7):\n> I have no idea why adding a method to Qp causes a test in sage/libs/fplll/fplll.py to fail.\n\n\nSee #10195.",
    "created_at": "2011-08-24T22:02:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8241#issuecomment-92054",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:8'></a>
Replying to [roed](#comment%3A7):
> I have no idea why adding a method to Qp causes a test in sage/libs/fplll/fplll.py to fail.


See #10195.



---

archive/issue_comments_092055.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Kiran Kedlaya\"",
    "created_at": "2011-09-16T17:20:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8241#issuecomment-92055",
    "user": "https://github.com/nexttime"
}
```

Changing reviewer from "" to "Kiran Kedlaya"



---

archive/issue_comments_092056.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,3 +6,7 @@\n ???\n ```\n \n+---\n+\n+Apply [attachment:8241.patch] to the Sage library.\n+\n``````\n",
    "created_at": "2011-09-16T17:20:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8241#issuecomment-92056",
    "user": "https://github.com/nexttime"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,3 +6,7 @@
 ???
 ```
 
+---
+
+Apply [attachment:8241.patch] to the Sage library.
+
``````




---

archive/issue_comments_092057.json:
```json
{
    "body": "<a id='comment:9'></a>\nPing. (#11586, which has positive review, depends on this one.)",
    "created_at": "2011-09-16T17:20:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8241#issuecomment-92057",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:9'></a>
Ping. (#11586, which has positive review, depends on this one.)



---

archive/issue_comments_092058.json:
```json
{
    "body": "<a id='comment:10'></a>\nAttachment [8241.patch](tarball://root/attachments/some-uuid/ticket8241/8241.patch) by @roed314 created at 2012-02-21 12:33:12\n\nAs Sebastian Pancratz noted in his talk, it would be great if someone wrote a better implementation of this.",
    "created_at": "2012-02-21T12:33:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8241#issuecomment-92058",
    "user": "https://github.com/roed314"
}
```

<a id='comment:10'></a>
Attachment [8241.patch](tarball://root/attachments/some-uuid/ticket8241/8241.patch) by @roed314 created at 2012-02-21 12:33:12

As Sebastian Pancratz noted in his talk, it would be great if someone wrote a better implementation of this.



---

archive/issue_comments_092059.json:
```json
{
    "body": "<a id='comment:11'></a>\nThe patchbot finds some Sphinx formatting errors in the docstrings:\n\n```\ndocstring of sage.rings.padics.padic_ZZ_pX_CA_element.pAdicZZpXCAElement.teichmuller_list:4: WARNING: Inline interpreted text or phrase reference start-string without end-string.\ndocstring of sage.rings.padics.padic_ZZ_pX_CA_element:2: WARNING: Block quote ends without a blank line; unexpected unindent.\ndocstring of sage.rings.padics.padic_ZZ_pX_CR_element.pAdicZZpXCRElement.teichmuller_list:4: WARNING: Inline interpreted text or phrase reference start-string without end-string.\ndocstring of sage.rings.padics.padic_ZZ_pX_CR_element:2: WARNING: Block quote ends without a blank line; unexpected unindent.\ndocstring of sage.rings.padics.padic_ext_element.pAdicExtElement.frobenius:6: WARNING: Inline interpreted text or phrase reference start-string without end-string.\n```\n\nIt's also harping on about trailing whitespace (which is apparently now a Bad Thing, although Sage has been tolerating it cheerfully for years).",
    "created_at": "2012-03-10T17:25:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8241#issuecomment-92059",
    "user": "https://github.com/loefflerd"
}
```

<a id='comment:11'></a>
The patchbot finds some Sphinx formatting errors in the docstrings:

```
docstring of sage.rings.padics.padic_ZZ_pX_CA_element.pAdicZZpXCAElement.teichmuller_list:4: WARNING: Inline interpreted text or phrase reference start-string without end-string.
docstring of sage.rings.padics.padic_ZZ_pX_CA_element:2: WARNING: Block quote ends without a blank line; unexpected unindent.
docstring of sage.rings.padics.padic_ZZ_pX_CR_element.pAdicZZpXCRElement.teichmuller_list:4: WARNING: Inline interpreted text or phrase reference start-string without end-string.
docstring of sage.rings.padics.padic_ZZ_pX_CR_element:2: WARNING: Block quote ends without a blank line; unexpected unindent.
docstring of sage.rings.padics.padic_ext_element.pAdicExtElement.frobenius:6: WARNING: Inline interpreted text or phrase reference start-string without end-string.
```

It's also harping on about trailing whitespace (which is apparently now a Bad Thing, although Sage has been tolerating it cheerfully for years).



---

archive/issue_comments_092060.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -8,5 +8,5 @@\n \n ---\n \n-Apply [attachment:8241.patch] to the Sage library.\n+Apply [attachment:trac_8241-frobenius.patch] to the Sage library.\n \n``````\n",
    "created_at": "2012-03-12T18:47:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8241#issuecomment-92060",
    "user": "https://github.com/loefflerd"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -8,5 +8,5 @@
 
 ---
 
-Apply [attachment:8241.patch] to the Sage library.
+Apply [attachment:trac_8241-frobenius.patch] to the Sage library.
 
``````




---

archive/issue_comments_092061.json:
```json
{
    "body": "Changing reviewer from \"Kiran Kedlaya\" to \"Kiran Kedlaya, David Loeffler\"",
    "created_at": "2012-03-12T18:54:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8241#issuecomment-92061",
    "user": "https://github.com/loefflerd"
}
```

Changing reviewer from "Kiran Kedlaya" to "Kiran Kedlaya, David Loeffler"



---

archive/issue_comments_092062.json:
```json
{
    "body": "<a id='comment:13'></a>\nHere's a new patch with the docstrings straightened out and trailing whitespace removed. I've also added a doctest to show that an error is raised when \"frobenius\" is called on an element of a ramified extension. I'm happy with the rest of the code, so if David's happy with my changes we can call this that's a positive review.",
    "created_at": "2012-03-12T18:54:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8241#issuecomment-92062",
    "user": "https://github.com/loefflerd"
}
```

<a id='comment:13'></a>
Here's a new patch with the docstrings straightened out and trailing whitespace removed. I've also added a doctest to show that an error is raised when "frobenius" is called on an element of a ramified extension. I'm happy with the rest of the code, so if David's happy with my changes we can call this that's a positive review.



---

archive/issue_comments_092063.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-03-12T19:41:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8241#issuecomment-92063",
    "user": "https://github.com/roed314"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_092064.json:
```json
{
    "body": "<a id='comment:14'></a>\nLooks good to me.  I've created #12657: write a more efficient implementation of Frobenius.",
    "created_at": "2012-03-12T19:41:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8241#issuecomment-92064",
    "user": "https://github.com/roed314"
}
```

<a id='comment:14'></a>
Looks good to me.  I've created #12657: write a more efficient implementation of Frobenius.



---

archive/issue_comments_092065.json:
```json
{
    "body": "Attachment [trac_8241-frobenius.patch](tarball://root/attachments/some-uuid/ticket8241/trac_8241-frobenius.patch) by @loefflerd created at 2012-03-12 19:47:42\n\nApply only this patch. Patch against 5.0.beta7",
    "created_at": "2012-03-12T19:47:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8241#issuecomment-92065",
    "user": "https://github.com/loefflerd"
}
```

Attachment [trac_8241-frobenius.patch](tarball://root/attachments/some-uuid/ticket8241/trac_8241-frobenius.patch) by @loefflerd created at 2012-03-12 19:47:42

Apply only this patch. Patch against 5.0.beta7



---

archive/issue_comments_092066.json:
```json
{
    "body": "<a id='comment:15'></a>\nPatchbot's grumbling about trailing whitespace again, so I removed one single space character and re-uploaded the patch.",
    "created_at": "2012-03-12T19:48:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8241#issuecomment-92066",
    "user": "https://github.com/loefflerd"
}
```

<a id='comment:15'></a>
Patchbot's grumbling about trailing whitespace again, so I removed one single space character and re-uploaded the patch.



---

archive/issue_comments_092067.json:
```json
{
    "body": "Changing merged from \"\" to \"sage-5.0.beta9\"",
    "created_at": "2012-03-21T22:03:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8241#issuecomment-92067",
    "user": "https://github.com/jdemeyer"
}
```

Changing merged from "" to "sage-5.0.beta9"



---

archive/issue_comments_092068.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2012-03-21T22:03:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8241#issuecomment-92068",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_events_024586.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-03-21T22:03:40Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/8241",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/8241#event-24586"
}
```
