# Issue 8241: p-adic fields should have Witt Frobenius

archive/issues_008241.json:
```json
{
    "body": "If K is an unramified extension of Qp, there should be a function that computes the canonical Witt p-Frobenius:\n\n```\nsage: K.<a> = Qp(25)\nsage: a.witt_frobenius()\n???\n```\n\n---\n\nApply [attachment:trac_8241-frobenius.patch] to the Sage library.\n\n\nAssignee: @roed314\n\nReviewer: Kiran Kedlaya, David Loeffler\n\nAuthor: David Roe\n\nMerged: sage-5.0.beta9\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/8241\n\n",
    "closed_at": "2012-03-21T22:03:40Z",
    "created_at": "2010-02-11T19:54:03Z",
    "labels": [
        "component: padics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.0",
    "title": "p-adic fields should have Witt Frobenius",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/8241",
    "user": "https://trac.sagemath.org/admin/accounts/users/dmharvey"
}
```
If K is an unramified extension of Qp, there should be a function that computes the canonical Witt p-Frobenius:

```
sage: K.<a> = Qp(25)
sage: a.witt_frobenius()
???
```

---

Apply [attachment:trac_8241-frobenius.patch] to the Sage library.


Assignee: @roed314

Reviewer: Kiran Kedlaya, David Loeffler

Author: David Roe

Merged: sage-5.0.beta9

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/8241





---

archive/issue_comments_075362.json:
```json
{
    "body": "<a id='comment:1'></a>(oops the Qp above should be Qq)",
    "created_at": "2010-02-11T19:54:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8241#issuecomment-75362",
    "user": "https://trac.sagemath.org/admin/accounts/users/dmharvey"
}
```

<a id='comment:1'></a>(oops the Qp above should be Qq)



---

archive/issue_comments_075363.json:
```json
{
    "body": "<a id='comment:2'></a>I called the function `frobenius` rather than `witt_frobenius`.",
    "created_at": "2010-11-22T09:51:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8241#issuecomment-75363",
    "user": "https://github.com/roed314"
}
```

<a id='comment:2'></a>I called the function `frobenius` rather than `witt_frobenius`.



---

archive/issue_events_019712.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2010-11-22T09:51:23Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/8241",
    "milestone": "sage-4.6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/8241#event-19712"
}
```



---

archive/issue_comments_075364.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2010-11-22T09:51:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8241#issuecomment-75364",
    "user": "https://github.com/roed314"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_075365.json:
```json
{
    "body": "<a id='comment:3'></a>Fixed a small problem revealed by the test-bot.",
    "created_at": "2010-12-03T13:52:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8241#issuecomment-75365",
    "user": "https://github.com/roed314"
}
```

<a id='comment:3'></a>Fixed a small problem revealed by the test-bot.



---

archive/issue_comments_075366.json:
```json
{
    "body": "<a id='comment:4'></a>For consistency, these methods should also apply to Qp, with Frobenius acting as the identity map. For instance, the following should not raise an exception:\n\n```\nsage: Qp(7)(2).frobenius()\n```",
    "created_at": "2011-06-17T15:43:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8241#issuecomment-75366",
    "user": "https://github.com/kedlaya"
}
```

<a id='comment:4'></a>For consistency, these methods should also apply to Qp, with Frobenius acting as the identity map. For instance, the following should not raise an exception:

```
sage: Qp(7)(2).frobenius()
```



---

archive/issue_comments_075367.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2011-06-17T15:43:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8241#issuecomment-75367",
    "user": "https://github.com/kedlaya"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_075368.json:
```json
{
    "body": "<a id='comment:6'></a>There's now a frobenius method for p-adic base rings and fields.",
    "created_at": "2011-06-21T19:44:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8241#issuecomment-75368",
    "user": "https://github.com/roed314"
}
```

<a id='comment:6'></a>There's now a frobenius method for p-adic base rings and fields.



---

archive/issue_comments_075369.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2011-06-21T19:44:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8241#issuecomment-75369",
    "user": "https://github.com/roed314"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_075370.json:
```json
{
    "body": "<a id='comment:7'></a>I have no idea why adding a method to Qp causes a test in sage/libs/fplll/fplll.py to fail.",
    "created_at": "2011-06-22T07:53:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8241#issuecomment-75370",
    "user": "https://github.com/roed314"
}
```

<a id='comment:7'></a>I have no idea why adding a method to Qp causes a test in sage/libs/fplll/fplll.py to fail.



---

archive/issue_comments_075371.json:
```json
{
    "body": "<a id='comment:8'></a>Replying to [comment:7 roed]:\n> I have no idea why adding a method to Qp causes a test in sage/libs/fplll/fplll.py to fail.\n\n\nSee #10195.",
    "created_at": "2011-08-24T22:02:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8241#issuecomment-75371",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:8'></a>Replying to [comment:7 roed]:
> I have no idea why adding a method to Qp causes a test in sage/libs/fplll/fplll.py to fail.


See #10195.



---

archive/issue_comments_075372.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,6 +6,11 @@\n ???\n ```\n \n+---\n+\n+Apply [attachment:8241.patch] to the Sage library.\n+\n+\n Comment: 1\n \n Issue created by migration from https://trac.sagemath.org/ticket/8241\n``````\n",
    "created_at": "2011-09-16T17:20:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8241#issuecomment-75372",
    "user": "https://github.com/nexttime"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,6 +6,11 @@
 ???
 ```
 
+---
+
+Apply [attachment:8241.patch] to the Sage library.
+
+
 Comment: 1
 
 Issue created by migration from https://trac.sagemath.org/ticket/8241
``````




---

archive/issue_comments_075373.json:
```json
{
    "body": "<a id='comment:9'></a>Ping. (#11586, which has positive review, depends on this one.)",
    "created_at": "2011-09-16T17:20:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8241#issuecomment-75373",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:9'></a>Ping. (#11586, which has positive review, depends on this one.)



---

archive/issue_comments_075374.json:
```json
{
    "body": "<a id='comment:10'></a>Attachment [8241.patch](tarball://root/attachments/some-uuid/ticket8241/8241.patch) by @roed314 created at 2012-02-21 12:33:12\n\nAs Sebastian Pancratz noted in his talk, it would be great if someone wrote a better implementation of this.",
    "created_at": "2012-02-21T12:33:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8241#issuecomment-75374",
    "user": "https://github.com/roed314"
}
```

<a id='comment:10'></a>Attachment [8241.patch](tarball://root/attachments/some-uuid/ticket8241/8241.patch) by @roed314 created at 2012-02-21 12:33:12

As Sebastian Pancratz noted in his talk, it would be great if someone wrote a better implementation of this.



---

archive/issue_comments_075375.json:
```json
{
    "body": "<a id='comment:11'></a>The patchbot finds some Sphinx formatting errors in the docstrings:\n\n```\ndocstring of sage.rings.padics.padic_ZZ_pX_CA_element.pAdicZZpXCAElement.teichmuller_list:4: WARNING: Inline interpreted text or phrase reference start-string without end-string.\ndocstring of sage.rings.padics.padic_ZZ_pX_CA_element:2: WARNING: Block quote ends without a blank line; unexpected unindent.\ndocstring of sage.rings.padics.padic_ZZ_pX_CR_element.pAdicZZpXCRElement.teichmuller_list:4: WARNING: Inline interpreted text or phrase reference start-string without end-string.\ndocstring of sage.rings.padics.padic_ZZ_pX_CR_element:2: WARNING: Block quote ends without a blank line; unexpected unindent.\ndocstring of sage.rings.padics.padic_ext_element.pAdicExtElement.frobenius:6: WARNING: Inline interpreted text or phrase reference start-string without end-string.\n```\n\nIt's also harping on about trailing whitespace (which is apparently now a Bad Thing, although Sage has been tolerating it cheerfully for years).",
    "created_at": "2012-03-10T17:25:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8241#issuecomment-75375",
    "user": "https://github.com/loefflerd"
}
```

<a id='comment:11'></a>The patchbot finds some Sphinx formatting errors in the docstrings:

```
docstring of sage.rings.padics.padic_ZZ_pX_CA_element.pAdicZZpXCAElement.teichmuller_list:4: WARNING: Inline interpreted text or phrase reference start-string without end-string.
docstring of sage.rings.padics.padic_ZZ_pX_CA_element:2: WARNING: Block quote ends without a blank line; unexpected unindent.
docstring of sage.rings.padics.padic_ZZ_pX_CR_element.pAdicZZpXCRElement.teichmuller_list:4: WARNING: Inline interpreted text or phrase reference start-string without end-string.
docstring of sage.rings.padics.padic_ZZ_pX_CR_element:2: WARNING: Block quote ends without a blank line; unexpected unindent.
docstring of sage.rings.padics.padic_ext_element.pAdicExtElement.frobenius:6: WARNING: Inline interpreted text or phrase reference start-string without end-string.
```

It's also harping on about trailing whitespace (which is apparently now a Bad Thing, although Sage has been tolerating it cheerfully for years).



---

archive/issue_comments_075376.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,14 @@\n+If K is an unramified extension of Qp, there should be a function that computes the canonical Witt p-Frobenius:\n+\n+```\n+sage: K.<a> = Qp(25)\n+sage: a.witt_frobenius()\n+???\n+```\n+\n+---\n+\n+Apply [attachment:trac_8241-frobenius.patch] to the Sage library.\n \n \n Comment: 1\n``````\n",
    "created_at": "2012-03-12T18:47:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8241#issuecomment-75376",
    "user": "https://github.com/loefflerd"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,14 @@
+If K is an unramified extension of Qp, there should be a function that computes the canonical Witt p-Frobenius:
+
+```
+sage: K.<a> = Qp(25)
+sage: a.witt_frobenius()
+???
+```
+
+---
+
+Apply [attachment:trac_8241-frobenius.patch] to the Sage library.
 
 
 Comment: 1
``````




---

archive/issue_comments_075377.json:
```json
{
    "body": "<a id='comment:13'></a>Here's a new patch with the docstrings straightened out and trailing whitespace removed. I've also added a doctest to show that an error is raised when \"frobenius\" is called on an element of a ramified extension. I'm happy with the rest of the code, so if David's happy with my changes we can call this that's a positive review.",
    "created_at": "2012-03-12T18:54:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8241#issuecomment-75377",
    "user": "https://github.com/loefflerd"
}
```

<a id='comment:13'></a>Here's a new patch with the docstrings straightened out and trailing whitespace removed. I've also added a doctest to show that an error is raised when "frobenius" is called on an element of a ramified extension. I'm happy with the rest of the code, so if David's happy with my changes we can call this that's a positive review.



---

archive/issue_comments_075378.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-03-12T19:41:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8241#issuecomment-75378",
    "user": "https://github.com/roed314"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_075379.json:
```json
{
    "body": "<a id='comment:14'></a>Looks good to me.  I've created #12657: write a more efficient implementation of Frobenius.",
    "created_at": "2012-03-12T19:41:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8241#issuecomment-75379",
    "user": "https://github.com/roed314"
}
```

<a id='comment:14'></a>Looks good to me.  I've created #12657: write a more efficient implementation of Frobenius.



---

archive/issue_comments_075380.json:
```json
{
    "body": "Attachment [trac_8241-frobenius.patch](tarball://root/attachments/some-uuid/ticket8241/trac_8241-frobenius.patch) by @loefflerd created at 2012-03-12 19:47:42\n\nApply only this patch. Patch against 5.0.beta7",
    "created_at": "2012-03-12T19:47:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8241#issuecomment-75380",
    "user": "https://github.com/loefflerd"
}
```

Attachment [trac_8241-frobenius.patch](tarball://root/attachments/some-uuid/ticket8241/trac_8241-frobenius.patch) by @loefflerd created at 2012-03-12 19:47:42

Apply only this patch. Patch against 5.0.beta7



---

archive/issue_comments_075381.json:
```json
{
    "body": "<a id='comment:15'></a>Patchbot's grumbling about trailing whitespace again, so I removed one single space character and re-uploaded the patch.",
    "created_at": "2012-03-12T19:48:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8241#issuecomment-75381",
    "user": "https://github.com/loefflerd"
}
```

<a id='comment:15'></a>Patchbot's grumbling about trailing whitespace again, so I removed one single space character and re-uploaded the patch.



---

archive/issue_comments_075382.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2012-03-21T22:03:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8241#issuecomment-75382",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_events_019713.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-03-21T22:03:40Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/8241",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/8241#event-19713"
}
```
