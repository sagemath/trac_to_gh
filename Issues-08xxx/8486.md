# Issue 8486: Xelatex and Sage notebook

archive/issues_008486.json:
```json
{
    "body": "I think I want, e.g., the following works in Sage notebook.\n\n%latex \n\n\uc2e4\uc218 $x$\uc5d0 \ub300\ud574\uc11c \ub2e4\uc74c\uc774 \uc131\ub9bd\ud55c\ub2e4. \n\n\\[\n\n  \\sqrt{x<sup>2}=|x|</sup>\n\n\\]\n\nDan writes:\n\nI've recently learned about xelatex and think it's awesome -- I can *finally* include Hangeul in my documents! We should definitely have a xelatex function, although it would usually be necessary to add stuff to the preamble to get the right fonts set up. But we already have latex.add_to_preamble(), so it should be easy to get xelatex working.\n\nAssignee: tbd\n\nResolution: fixed\n\nAuthor: Kwankyu Lee\n\nReviewer: Dan Drake, John Palmieri\n\nMerged: sage-4.4.alpha0\n\nIssue created by migration from https://trac.sagemath.org/ticket/8486\n\n",
    "closed_at": "2010-04-15T23:55:03Z",
    "created_at": "2010-03-10T07:38:38Z",
    "labels": [
        "component: misc",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.4",
    "title": "Xelatex and Sage notebook",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/8486",
    "user": "https://github.com/kwankyu"
}
```
I think I want, e.g., the following works in Sage notebook.

%latex 

실수 $x$에 대해서 다음이 성립한다. 

\[

  \sqrt{x<sup>2}=|x|</sup>

\]

Dan writes:

I've recently learned about xelatex and think it's awesome -- I can *finally* include Hangeul in my documents! We should definitely have a xelatex function, although it would usually be necessary to add stuff to the preamble to get the right fonts set up. But we already have latex.add_to_preamble(), so it should be easy to get xelatex working.

Assignee: tbd

Resolution: fixed

Author: Kwankyu Lee

Reviewer: Dan Drake, John Palmieri

Merged: sage-4.4.alpha0

Issue created by migration from https://trac.sagemath.org/ticket/8486





---

archive/issue_comments_090098.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,7 @@\n I think I want, e.g., the following works in Sage notebook.\n \n %latex\n+\n \uc2e4\uc218 $x$\uc5d0 \ub300\ud574\uc11c \ub2e4\uc74c\uc774 \uc131\ub9bd\ud55c\ub2e4.\n \\[\n     \\sqrt{x^2}=|x|\n@@ -12,6 +13,7 @@\n *finally* include Hangeul in my documents! We should definitely have a xelatex function, although it would usually be necessary to add stuff to the preamble to get the right fonts set up. But we already have\n latex.add_to_preamble(), so it should be easy to get xelatex working.\n \n+\n Comment: 1\n \n Issue created by migration from https://trac.sagemath.org/ticket/8486\n``````\n",
    "created_at": "2010-03-10T07:39:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8486#issuecomment-90098",
    "user": "https://github.com/kwankyu"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,7 @@
 I think I want, e.g., the following works in Sage notebook.
 
 %latex
+
 실수 $x$에 대해서 다음이 성립한다.
 \[
     \sqrt{x^2}=|x|
@@ -12,6 +13,7 @@
 *finally* include Hangeul in my documents! We should definitely have a xelatex function, although it would usually be necessary to add stuff to the preamble to get the right fonts set up. But we already have
 latex.add_to_preamble(), so it should be easy to get xelatex working.
 
+
 Comment: 1
 
 Issue created by migration from https://trac.sagemath.org/ticket/8486
``````




---

archive/issue_comments_090099.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,16 @@\n+I think I want, e.g., the following works in Sage notebook.\n+\n+%latex\n+\uc2e4\uc218 $x$\uc5d0 \ub300\ud574\uc11c \ub2e4\uc74c\uc774 \uc131\ub9bd\ud55c\ub2e4.\n+\\[\n+    \\sqrt{x^2}=|x|\n+\\] \n+\n+Dan writes:\n+\n+I've recently learned about xelatex and think it's awesome -- I can\n+*finally* include Hangeul in my documents! We should definitely have a xelatex function, although it would usually be necessary to add stuff to the preamble to get the right fonts set up. But we already have\n+latex.add_to_preamble(), so it should be easy to get xelatex working.\n \n \n Comment: 1\n``````\n",
    "created_at": "2010-03-10T07:39:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8486#issuecomment-90099",
    "user": "https://github.com/kwankyu"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,16 @@
+I think I want, e.g., the following works in Sage notebook.
+
+%latex
+실수 $x$에 대해서 다음이 성립한다.
+\[
+    \sqrt{x^2}=|x|
+\] 
+
+Dan writes:
+
+I've recently learned about xelatex and think it's awesome -- I can
+*finally* include Hangeul in my documents! We should definitely have a xelatex function, although it would usually be necessary to add stuff to the preamble to get the right fonts set up. But we already have
+latex.add_to_preamble(), so it should be easy to get xelatex working.
 
 
 Comment: 1
``````




---

archive/issue_comments_090100.json:
```json
{
    "body": "Example Sage notebook",
    "created_at": "2010-03-10T07:45:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8486#issuecomment-90100",
    "user": "https://github.com/kwankyu"
}
```

Example Sage notebook



---

archive/issue_comments_090101.json:
```json
{
    "body": "<a id='comment:3'></a>Attachment [download_worksheets.zip](tarball://root/attachments/some-uuid/ticket8486/download_worksheets.zip) by @kwankyu created at 2010-03-10 07:46:41",
    "created_at": "2010-03-10T07:46:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8486#issuecomment-90101",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:3'></a>Attachment [download_worksheets.zip](tarball://root/attachments/some-uuid/ticket8486/download_worksheets.zip) by @kwankyu created at 2010-03-10 07:46:41



---

archive/issue_comments_090102.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2010-03-10T07:46:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8486#issuecomment-90102",
    "user": "https://github.com/kwankyu"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_090103.json:
```json
{
    "body": "Changing author from \"\" to \"Kwankyu Lee\"",
    "created_at": "2010-03-10T07:46:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8486#issuecomment-90103",
    "user": "https://github.com/kwankyu"
}
```

Changing author from "" to "Kwankyu Lee"



---

archive/issue_comments_090104.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,18 @@\n+I think I want, e.g., the following works in Sage notebook.\n \n+%latex \n+\n+\uc2e4\uc218 $x$\uc5d0 \ub300\ud574\uc11c \ub2e4\uc74c\uc774 \uc131\ub9bd\ud55c\ub2e4. \n+\n+\\[\n+\n+  \\sqrt{x<sup>2}=|x|</sup>\n+\n+\\]\n+\n+Dan writes:\n+\n+I've recently learned about xelatex and think it's awesome -- I can *finally* include Hangeul in my documents! We should definitely have a xelatex function, although it would usually be necessary to add stuff to the preamble to get the right fonts set up. But we already have latex.add_to_preamble(), so it should be easy to get xelatex working.\n \n Comment: 1\n \n``````\n",
    "created_at": "2010-03-10T07:47:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8486#issuecomment-90104",
    "user": "https://github.com/kwankyu"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,18 @@
+I think I want, e.g., the following works in Sage notebook.
 
+%latex 
+
+실수 $x$에 대해서 다음이 성립한다. 
+
+\[
+
+  \sqrt{x<sup>2}=|x|</sup>
+
+\]
+
+Dan writes:
+
+I've recently learned about xelatex and think it's awesome -- I can *finally* include Hangeul in my documents! We should definitely have a xelatex function, although it would usually be necessary to add stuff to the preamble to get the right fonts set up. But we already have latex.add_to_preamble(), so it should be easy to get xelatex working.
 
 Comment: 1
 
``````




---

archive/issue_comments_090105.json:
```json
{
    "body": "<a id='comment:5'></a>The example Sage notebook use the font AppleGothic which is perhaps only found in Mac OS.",
    "created_at": "2010-03-10T07:58:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8486#issuecomment-90105",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:5'></a>The example Sage notebook use the font AppleGothic which is perhaps only found in Mac OS.



---

archive/issue_comments_090106.json:
```json
{
    "body": "<a id='comment:6'></a>This looks pretty good. I have some comments and it will need some minor changes, but already it seems to work!\n\nFor anyone else wanting to test this who's using Linux, you can replace the `latex.extra_preamble` with something like\n\n```\nlatex.extra_preamble(\"\\\\\"+r\"usepackage{fontspec,xunicode,xltxtra}\\setmainfont[Mapping=tex-text]{UnBatang}\\setmonofont[Mapping=tex-text,Colour=0000AA]{UnDotum}\")\n```\nIn Linux, you should be able to do `fc-list :lang=ko` to get a list of fonts installed that support Korean; pick one and put that in and try this out. XeTeX is a standard part of TeXLive as of TL 2008, so it's not too hard to get.\n\nI'll look over this patch and post my comments soon.",
    "created_at": "2010-03-12T07:36:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8486#issuecomment-90106",
    "user": "https://github.com/dandrake"
}
```

<a id='comment:6'></a>This looks pretty good. I have some comments and it will need some minor changes, but already it seems to work!

For anyone else wanting to test this who's using Linux, you can replace the `latex.extra_preamble` with something like

```
latex.extra_preamble("\\"+r"usepackage{fontspec,xunicode,xltxtra}\setmainfont[Mapping=tex-text]{UnBatang}\setmonofont[Mapping=tex-text,Colour=0000AA]{UnDotum}")
```
In Linux, you should be able to do `fc-list :lang=ko` to get a list of fonts installed that support Korean; pick one and put that in and try this out. XeTeX is a standard part of TeXLive as of TL 2008, so it's not too hard to get.

I'll look over this patch and post my comments soon.



---

archive/issue_comments_090107.json:
```json
{
    "body": "<a id='comment:7'></a>Hrm, this doesn't pass doctests. The first problem is that the \"official\" way to do deprecation is like this: for the `pdflatex` function (line 1188), you should do:\n\n```\nfrom sage.misc.misc import deprecation\ndeprecation('Use engine(\"pdflatex\") instead.')\nif t is None:\n    return _Latex_prefs._option[\"engine\"] == \"pdflatex\"\nself.engine(\"pdflatex\")\n```\nand then in the first doctest that uses the function:\n\n```\nsage: latex.pdflatex()\ndoctest:1: DeprecationWarning: Use engine(\"pdflatex\") instead.\nFalse\n```\nAlso, I see that the `pdflatex` function never unsets the pdflatex engine -- I think we need\n\n```\nif t is None:\n    return _Latex_prefs._option[\"engine\"] == \"pdflatex\"\nelif t:\n    self.engine(\"pdflatex\")\nelse:\n    self.engine(\"latex\")\n```\nso that `pdflatex(False)` does properly reset the engine.\n\nFinally, in the `png` function (line 1749 or so), you need to change the pdflatex keyword to engine, and change the `_run_latex_` command on line 1795 or so.\n\nHmmm, it seems like the `view` command can call {{{png}} with the pdflatex keyword: see line 1721 or so (I've fiddled with latex.py, so my line numbers are a bit off):\n\n```\npng(objects, os.path.join(base_dir, png_file),\n                debug=debug, do_in_background=False, pdflatex=pdflatex)\n```\nI think you'll need to move up the little snippet where you use the pdflatex keyword to decide what engine to use.\n\nWith these changes, doctests should pass.",
    "created_at": "2010-03-16T02:35:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8486#issuecomment-90107",
    "user": "https://github.com/dandrake"
}
```

<a id='comment:7'></a>Hrm, this doesn't pass doctests. The first problem is that the "official" way to do deprecation is like this: for the `pdflatex` function (line 1188), you should do:

```
from sage.misc.misc import deprecation
deprecation('Use engine("pdflatex") instead.')
if t is None:
    return _Latex_prefs._option["engine"] == "pdflatex"
self.engine("pdflatex")
```
and then in the first doctest that uses the function:

```
sage: latex.pdflatex()
doctest:1: DeprecationWarning: Use engine("pdflatex") instead.
False
```
Also, I see that the `pdflatex` function never unsets the pdflatex engine -- I think we need

```
if t is None:
    return _Latex_prefs._option["engine"] == "pdflatex"
elif t:
    self.engine("pdflatex")
else:
    self.engine("latex")
```
so that `pdflatex(False)` does properly reset the engine.

Finally, in the `png` function (line 1749 or so), you need to change the pdflatex keyword to engine, and change the `_run_latex_` command on line 1795 or so.

Hmmm, it seems like the `view` command can call {{{png}} with the pdflatex keyword: see line 1721 or so (I've fiddled with latex.py, so my line numbers are a bit off):

```
png(objects, os.path.join(base_dir, png_file),
                debug=debug, do_in_background=False, pdflatex=pdflatex)
```
I think you'll need to move up the little snippet where you use the pdflatex keyword to decide what engine to use.

With these changes, doctests should pass.



---

archive/issue_comments_090108.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2010-03-16T02:35:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8486#issuecomment-90108",
    "user": "https://github.com/dandrake"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_090109.json:
```json
{
    "body": "<a id='comment:8'></a>Thank you, Dan. I will work on that.",
    "created_at": "2010-03-16T03:58:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8486#issuecomment-90109",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:8'></a>Thank you, Dan. I will work on that.



---

archive/issue_comments_090110.json:
```json
{
    "body": "<a id='comment:9'></a>Attachment [trac_8486.patch](tarball://root/attachments/some-uuid/ticket8486/trac_8486.patch) by @kwankyu created at 2010-03-16 13:17:40\n\nUpdated the patch. Now all doctests pass.",
    "created_at": "2010-03-16T13:17:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8486#issuecomment-90110",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:9'></a>Attachment [trac_8486.patch](tarball://root/attachments/some-uuid/ticket8486/trac_8486.patch) by @kwankyu created at 2010-03-16 13:17:40

Updated the patch. Now all doctests pass.



---

archive/issue_comments_090111.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2010-03-16T13:17:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8486#issuecomment-90111",
    "user": "https://github.com/kwankyu"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_090112.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Dan Drake\"",
    "created_at": "2010-03-17T08:25:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8486#issuecomment-90112",
    "user": "https://github.com/dandrake"
}
```

Changing reviewer from "" to "Dan Drake"



---

archive/issue_comments_090113.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2010-03-17T08:25:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8486#issuecomment-90113",
    "user": "https://github.com/dandrake"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_090114.json:
```json
{
    "body": "<a id='comment:10'></a>Doctests pass, and the code looks good. Positive review.\n\nI did write up a little bit of extra documentation; I'll post that patch in a moment. Could you look it over? It just adds a bit of explanation about adding to the preamble.",
    "created_at": "2010-03-17T08:25:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8486#issuecomment-90114",
    "user": "https://github.com/dandrake"
}
```

<a id='comment:10'></a>Doctests pass, and the code looks good. Positive review.

I did write up a little bit of extra documentation; I'll post that patch in a moment. Could you look it over? It just adds a bit of explanation about adding to the preamble.



---

archive/issue_comments_090115.json:
```json
{
    "body": "add a bit of new documentation.",
    "created_at": "2010-03-17T08:26:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8486#issuecomment-90115",
    "user": "https://github.com/dandrake"
}
```

add a bit of new documentation.



---

archive/issue_comments_090116.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2010-03-17T15:47:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8486#issuecomment-90116",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_090117.json:
```json
{
    "body": "<a id='comment:11'></a>Attachment [trac_8486_extra_documentation.patch](tarball://root/attachments/some-uuid/ticket8486/trac_8486_extra_documentation.patch) by @jhpalmieri created at 2010-03-17 15:47:19\n\nUsing `os.system('which xelatex >/dev/null')` won't work right on Solaris: on that OS, \"which\" has a return value of 0 even if the command is not found, so \n\n```\nnot bool(os.system('which xelatex >/dev/null'))\n```\nwill always return True there.  Use the function `have_program` from #8474 instead.",
    "created_at": "2010-03-17T15:47:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8486#issuecomment-90117",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:11'></a>Attachment [trac_8486_extra_documentation.patch](tarball://root/attachments/some-uuid/ticket8486/trac_8486_extra_documentation.patch) by @jhpalmieri created at 2010-03-17 15:47:19

Using `os.system('which xelatex >/dev/null')` won't work right on Solaris: on that OS, "which" has a return value of 0 even if the command is not found, so 

```
not bool(os.system('which xelatex >/dev/null'))
```
will always return True there.  Use the function `have_program` from #8474 instead.



---

archive/issue_comments_090118.json:
```json
{
    "body": "<a id='comment:12'></a>Expanding on this a bit: there has been a fair amount of work getting Sage to work on Solaris, and I think it does as of version 4.3.4.alpha1.  So I think that it is not a good time to put in a patch that doesn't work on Solaris; hence I've marked this as \"needs work\".  All you have to do to fix it is apply the patch at #8474 (now merged in 4.3.4.rc0) and then make the obvious change to this one line of the program...",
    "created_at": "2010-03-17T16:43:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8486#issuecomment-90118",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:12'></a>Expanding on this a bit: there has been a fair amount of work getting Sage to work on Solaris, and I think it does as of version 4.3.4.alpha1.  So I think that it is not a good time to put in a patch that doesn't work on Solaris; hence I've marked this as "needs work".  All you have to do to fix it is apply the patch at #8474 (now merged in 4.3.4.rc0) and then make the obvious change to this one line of the program...



---

archive/issue_comments_090119.json:
```json
{
    "body": "<a id='comment:13'></a>Replying to [comment:12 jhpalmieri]:\n> Expanding on this a bit: there has been a fair amount of work getting Sage to work on Solaris, and I think it does as of version 4.3.4.alpha1.  So I think that it is not a good time to put in a patch that doesn't work on Solaris; hence I've marked this as \"needs work\".  All you have to do to fix it is apply the patch at #8474 (now merged in 4.3.4.rc0) and then make the obvious change to this one line of the program...\n\n\nThat sounds good. I was aware of #8474 and decided to ignore that problem and open #8552, so that Kwankyu wouldn't have to rebase his patch -- but if it's a simple one-line change, then I suppose that's more reasonable.\n\nIf I rebase his patch, will you do a quick review?",
    "created_at": "2010-03-17T23:10:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8486#issuecomment-90119",
    "user": "https://github.com/dandrake"
}
```

<a id='comment:13'></a>Replying to [comment:12 jhpalmieri]:
> Expanding on this a bit: there has been a fair amount of work getting Sage to work on Solaris, and I think it does as of version 4.3.4.alpha1.  So I think that it is not a good time to put in a patch that doesn't work on Solaris; hence I've marked this as "needs work".  All you have to do to fix it is apply the patch at #8474 (now merged in 4.3.4.rc0) and then make the obvious change to this one line of the program...


That sounds good. I was aware of #8474 and decided to ignore that problem and open #8552, so that Kwankyu wouldn't have to rebase his patch -- but if it's a simple one-line change, then I suppose that's more reasonable.

If I rebase his patch, will you do a quick review?



---

archive/issue_comments_090120.json:
```json
{
    "body": "<a id='comment:14'></a>Replying to [comment:13 ddrake]:\n> If I rebase his patch, will you do a quick review? \n\n\nSure, and thanks for offering to rebase it.  (I understand your point, but I don't want to break Solaris support right away.  Let's wait a few weeks instead.  :)",
    "created_at": "2010-03-17T23:29:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8486#issuecomment-90120",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:14'></a>Replying to [comment:13 ddrake]:
> If I rebase his patch, will you do a quick review? 


Sure, and thanks for offering to rebase it.  (I understand your point, but I don't want to break Solaris support right away.  Let's wait a few weeks instead.  :)



---

archive/issue_comments_090121.json:
```json
{
    "body": "Attachment [trac_8486_use_have_program.patch](tarball://root/attachments/some-uuid/ticket8486/trac_8486_use_have_program.patch) by @dandrake created at 2010-03-18 01:08:09\n\none-line change to use have_program",
    "created_at": "2010-03-18T01:08:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8486#issuecomment-90121",
    "user": "https://github.com/dandrake"
}
```

Attachment [trac_8486_use_have_program.patch](tarball://root/attachments/some-uuid/ticket8486/trac_8486_use_have_program.patch) by @dandrake created at 2010-03-18 01:08:09

one-line change to use have_program



---

archive/issue_comments_090122.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2010-03-18T01:13:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8486#issuecomment-90122",
    "user": "https://github.com/dandrake"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_090123.json:
```json
{
    "body": "<a id='comment:15'></a>John, could you take a look at attachment:trac_8486_use_have_program.patch and attachment:trac_8486_extra_documentation.patch? The first fixes the problem you mentioned and preserves Solaris compatibility (I'm sure Dave Kirkby will appreciate that) and the second just adds a bit of extra documentation.",
    "created_at": "2010-03-18T01:13:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8486#issuecomment-90123",
    "user": "https://github.com/dandrake"
}
```

<a id='comment:15'></a>John, could you take a look at attachment:trac_8486_use_have_program.patch and attachment:trac_8486_extra_documentation.patch? The first fixes the problem you mentioned and preserves Solaris compatibility (I'm sure Dave Kirkby will appreciate that) and the second just adds a bit of extra documentation.



---

archive/issue_comments_090124.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2010-03-18T01:53:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8486#issuecomment-90124",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_090125.json:
```json
{
    "body": "<a id='comment:16'></a>Looks good to me.  One docstring is missing the \"r\" before the triple quotes, so I've added that.",
    "created_at": "2010-03-18T01:53:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8486#issuecomment-90125",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:16'></a>Looks good to me.  One docstring is missing the "r" before the triple quotes, so I've added that.



---

archive/issue_comments_090126.json:
```json
{
    "body": "Attachment [trac_8486-referee.patch](tarball://root/attachments/some-uuid/ticket8486/trac_8486-referee.patch) by @kwankyu created at 2010-03-18 01:56:27\n\ncombines and replaces all previous patches",
    "created_at": "2010-03-18T01:56:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8486#issuecomment-90126",
    "user": "https://github.com/kwankyu"
}
```

Attachment [trac_8486-referee.patch](tarball://root/attachments/some-uuid/ticket8486/trac_8486-referee.patch) by @kwankyu created at 2010-03-18 01:56:27

combines and replaces all previous patches



---

archive/issue_comments_090127.json:
```json
{
    "body": "<a id='comment:17'></a>Attachment [trac_8486_v2.patch](tarball://root/attachments/some-uuid/ticket8486/trac_8486_v2.patch) by @kwankyu created at 2010-03-18 02:04:27\n\nI looked at Dan's extra documentation. It is nice. But I deleted the last comment in the doc of \"engine\" because r\"\\usepackage...\" only fails in the notebook. See the discussion in \n\n!http://groups.google.com/group/sage-devel/browse_frm/thread/71cd8ec6313b7e16/da96b8c19ab45224#da96b8c19ab45224\n\nSee also the ticket 3154 at \n\nhttp://trac.sagemath.org/sage_trac/ticket/3154\n\nSo I think the problem of \"\\u\" in the raw string in notebook is only temporary, assuming the ticket 3154 is reviewed sooner or later.",
    "created_at": "2010-03-18T02:04:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8486#issuecomment-90127",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:17'></a>Attachment [trac_8486_v2.patch](tarball://root/attachments/some-uuid/ticket8486/trac_8486_v2.patch) by @kwankyu created at 2010-03-18 02:04:27

I looked at Dan's extra documentation. It is nice. But I deleted the last comment in the doc of "engine" because r"\usepackage..." only fails in the notebook. See the discussion in 

!http://groups.google.com/group/sage-devel/browse_frm/thread/71cd8ec6313b7e16/da96b8c19ab45224#da96b8c19ab45224

See also the ticket 3154 at 

http://trac.sagemath.org/sage_trac/ticket/3154

So I think the problem of "\u" in the raw string in notebook is only temporary, assuming the ticket 3154 is reviewed sooner or later.



---

archive/issue_comments_090128.json:
```json
{
    "body": "Changing reviewer from \"Dan Drake\" to \"Dan Drake, John Palmieri\"",
    "created_at": "2010-03-18T02:06:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8486#issuecomment-90128",
    "user": "https://github.com/jhpalmieri"
}
```

Changing reviewer from "Dan Drake" to "Dan Drake, John Palmieri"



---

archive/issue_comments_090129.json:
```json
{
    "body": "<a id='comment:18'></a>Okay, the new \"v2\" patch doesn't require the \"referee\" patch.  Only apply the \"v2\" patch.",
    "created_at": "2010-03-18T02:06:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8486#issuecomment-90129",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:18'></a>Okay, the new "v2" patch doesn't require the "referee" patch.  Only apply the "v2" patch.



---

archive/issue_comments_090130.json:
```json
{
    "body": "Changing merged from \"\" to \"sage-4.4.alpha0\"",
    "created_at": "2010-04-15T23:55:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8486#issuecomment-90130",
    "user": "https://github.com/jhpalmieri"
}
```

Changing merged from "" to "sage-4.4.alpha0"



---

archive/issue_comments_090131.json:
```json
{
    "body": "<a id='comment:19'></a>Merged \"trac_8486_v2.patch\" into 4.4.alpha0.",
    "created_at": "2010-04-15T23:55:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8486#issuecomment-90131",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:19'></a>Merged "trac_8486_v2.patch" into 4.4.alpha0.



---

archive/issue_comments_090132.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2010-04-15T23:55:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8486#issuecomment-90132",
    "user": "https://github.com/jhpalmieri"
}
```

Resolution: fixed



---

archive/issue_events_020386.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2010-04-15T23:55:03Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/8486",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/8486#event-20386"
}
```
