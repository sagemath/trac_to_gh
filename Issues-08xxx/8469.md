# Issue 8469: add "Number Theory and the RSA Public Key Cryptosystem" to "Thematic Tutorials"

archive/issues_008469.json:
```json
{
    "assignees": [],
    "body": "Add the document [Number Theory and the RSA Public Key Cryptosystem](http://sites.google.com/site/nguyenminh2/numtheory-crypto-sage.pdf) to the documentation category \"Thematic Tutorials\". The original proposal can be found on [sage-devel](http://groups.google.com/group/sage-devel/browse_thread/thread/95afb345e872f9af) and [sage-combinat-devel](http://groups.google.com/group/sage-combinat-devel/msg/662eb0246c7bf9fc).\n\n\n\n**Notes:** The current ticket needs to be coordinated with #8470.\n\n\n\n**Prerequisites:** #8465\n\n**Apply:**\n\n1. [attachment: trac_8469-rsa-rebase.patch](https://github.com/sagemath/sage/files/ticket8469/trac_8469-rsa-rebase.patch.gz)\n2. [attachment: trac_8469-review-rebased.patch](https://github.com/sagemath/sage/files/ticket8469/trac_8469-review-rebased.patch.gz)\n3. [attachment: trac_8469-rsa-bibliography.patch](https://github.com/sagemath/sage/files/ticket8469/trac_8469-rsa-bibliography.patch.gz)\n\nAssignee: **@sagetrac-mvngu**\n\nCC:  @malb\n\nKeywords: **RSA, public-key cryptosystem, sd32**\n\nAuthor: **Minh Van Nguyen**\n\nReviewer: **Pablo Angulo, Rob Beezer, Martin Albrecht**\n\nMerged: **sage-4.7.2.alpha3**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/8469_\n\n",
    "closed_at": "2011-09-12T19:35:15Z",
    "created_at": "2010-03-07T02:25:47Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20documentation",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.7.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "add \"Number Theory and the RSA Public Key Cryptosystem\" to \"Thematic Tutorials\"",
    "type": "issue",
    "updated_at": "2011-09-12T19:35:15Z",
    "url": "https://github.com/sagemath/sage/issues/8469",
    "user": "https://github.com/sagetrac-mvngu"
}
```
Add the document [Number Theory and the RSA Public Key Cryptosystem](http://sites.google.com/site/nguyenminh2/numtheory-crypto-sage.pdf) to the documentation category "Thematic Tutorials". The original proposal can be found on [sage-devel](http://groups.google.com/group/sage-devel/browse_thread/thread/95afb345e872f9af) and [sage-combinat-devel](http://groups.google.com/group/sage-combinat-devel/msg/662eb0246c7bf9fc).



**Notes:** The current ticket needs to be coordinated with #8470.



**Prerequisites:** #8465

**Apply:**

1. [attachment: trac_8469-rsa-rebase.patch](https://github.com/sagemath/sage/files/ticket8469/trac_8469-rsa-rebase.patch.gz)
2. [attachment: trac_8469-review-rebased.patch](https://github.com/sagemath/sage/files/ticket8469/trac_8469-review-rebased.patch.gz)
3. [attachment: trac_8469-rsa-bibliography.patch](https://github.com/sagemath/sage/files/ticket8469/trac_8469-rsa-bibliography.patch.gz)

Assignee: **@sagetrac-mvngu**

CC:  @malb

Keywords: **RSA, public-key cryptosystem, sd32**

Author: **Minh Van Nguyen**

Reviewer: **Pablo Angulo, Rob Beezer, Martin Albrecht**

Merged: **sage-4.7.2.alpha3**

_Issue created by migration from https://trac.sagemath.org/ticket/8469_





---

archive/issue_events_096755.json:
```json
{
    "actor": "https://github.com/sagetrac-mvngu",
    "created_at": "2010-03-07T02:25:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/8469",
    "milestone_number": null,
    "milestone_title": "sage-4.7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8469#event-96755"
}
```



---

archive/issue_events_096756.json:
```json
{
    "actor": "https://github.com/sagetrac-mvngu",
    "created_at": "2010-03-07T02:25:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8469",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20documentation",
    "label_color": "0075ca",
    "label_name": "component: documentation",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8469#event-96756"
}
```



---

archive/issue_events_096757.json:
```json
{
    "actor": "https://github.com/sagetrac-mvngu",
    "created_at": "2010-03-07T02:25:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8469",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8469#event-96757"
}
```



---

archive/issue_events_096758.json:
```json
{
    "actor": "https://github.com/sagetrac-mvngu",
    "created_at": "2010-03-07T02:25:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8469",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8469#event-96758"
}
```



---

archive/issue_comments_069085.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,5 @@\n Add the document [Number Theory and the RSA Public Key Cryptosystem](http://sites.google.com/site/nguyenminh2/numtheory-crypto-sage.pdf) to the documentation category \"Sage HOWTOs\". The original proposal can be found on [sage-devel](http://groups.google.com/group/sage-devel/browse_thread/thread/95afb345e872f9af) and [sage-combinat-devel](http://groups.google.com/group/sage-combinat-devel/msg/662eb0246c7bf9fc).\n+\n+\n+\n+**Notes:** The current ticket needs to be coordinated with #8470.\n``````\n",
    "created_at": "2010-03-07T02:47:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8469#issuecomment-69085",
    "user": "https://github.com/sagetrac-mvngu"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,5 @@
 Add the document [Number Theory and the RSA Public Key Cryptosystem](http://sites.google.com/site/nguyenminh2/numtheory-crypto-sage.pdf) to the documentation category "Sage HOWTOs". The original proposal can be found on [sage-devel](http://groups.google.com/group/sage-devel/browse_thread/thread/95afb345e872f9af) and [sage-combinat-devel](http://groups.google.com/group/sage-combinat-devel/msg/662eb0246c7bf9fc).
+
+
+
+**Notes:** The current ticket needs to be coordinated with #8470.
``````




---

archive/issue_comments_069086.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-Add the document [Number Theory and the RSA Public Key Cryptosystem](http://sites.google.com/site/nguyenminh2/numtheory-crypto-sage.pdf) to the documentation category \"Sage HOWTOs\". The original proposal can be found on [sage-devel](http://groups.google.com/group/sage-devel/browse_thread/thread/95afb345e872f9af) and [sage-combinat-devel](http://groups.google.com/group/sage-combinat-devel/msg/662eb0246c7bf9fc).\n+Add the document [Number Theory and the RSA Public Key Cryptosystem](http://sites.google.com/site/nguyenminh2/numtheory-crypto-sage.pdf) to the documentation category \"Thematic Tutorials\". The original proposal can be found on [sage-devel](http://groups.google.com/group/sage-devel/browse_thread/thread/95afb345e872f9af) and [sage-combinat-devel](http://groups.google.com/group/sage-combinat-devel/msg/662eb0246c7bf9fc).\n \n \n \n``````\n",
    "created_at": "2010-03-09T22:09:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8469#issuecomment-69086",
    "user": "https://github.com/sagetrac-mvngu"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-Add the document [Number Theory and the RSA Public Key Cryptosystem](http://sites.google.com/site/nguyenminh2/numtheory-crypto-sage.pdf) to the documentation category "Sage HOWTOs". The original proposal can be found on [sage-devel](http://groups.google.com/group/sage-devel/browse_thread/thread/95afb345e872f9af) and [sage-combinat-devel](http://groups.google.com/group/sage-combinat-devel/msg/662eb0246c7bf9fc).
+Add the document [Number Theory and the RSA Public Key Cryptosystem](http://sites.google.com/site/nguyenminh2/numtheory-crypto-sage.pdf) to the documentation category "Thematic Tutorials". The original proposal can be found on [sage-devel](http://groups.google.com/group/sage-devel/browse_thread/thread/95afb345e872f9af) and [sage-combinat-devel](http://groups.google.com/group/sage-combinat-devel/msg/662eb0246c7bf9fc).
 
 
 
``````




---

archive/issue_events_096759.json:
```json
{
    "actor": "https://github.com/sagetrac-mvngu",
    "created_at": "2010-03-09T22:09:01Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/8469",
    "title_is": "add \"Number Theory and the RSA Public Key Cryptosystem\" to \"Thematic Tutorials\"",
    "title_was": "add \"Number Theory and the RSA Public Key Cryptosystem\" to \"Sage HOWTOs\"",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8469#event-96759"
}
```



---

archive/issue_comments_069087.json:
```json
{
    "body": "Author: **Minh Van Nguyen**",
    "created_at": "2010-03-10T06:00:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8469#issuecomment-69087",
    "user": "https://github.com/sagetrac-mvngu"
}
```

Author: **Minh Van Nguyen**



---

archive/issue_events_096760.json:
```json
{
    "actor": "https://github.com/sagetrac-mvngu",
    "created_at": "2010-03-10T06:00:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8469",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8469#event-96760"
}
```



---

archive/issue_comments_069088.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,3 +3,7 @@\n \n \n **Notes:** The current ticket needs to be coordinated with #8470.\n+\n+\n+\n+**Prerequisites:** #8465\n``````\n",
    "created_at": "2010-03-10T06:00:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8469#issuecomment-69088",
    "user": "https://github.com/sagetrac-mvngu"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,3 +3,7 @@
 
 
 **Notes:** The current ticket needs to be coordinated with #8470.
+
+
+
+**Prerequisites:** #8465
``````




---

archive/issue_comments_069089.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nLooks good and builds fine. Nice job!\n~Mark",
    "created_at": "2010-05-04T06:32:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8469#issuecomment-69089",
    "user": "https://github.com/sagetrac-mjordan7"
}
```

<div id="comment:4" align="right">Comment 4</div>

Looks good and builds fine. Nice job!
~Mark



---

archive/issue_comments_069090.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nTwo comments: \n* In this tutorial, euler_phi(n) is called several times. The whole security of RSA lies in the fact that euler_phi takes a long time if you don't know the factorization. I'd suggest using a variable:\n\n```\nphi = (p-1)*(q-1)\n```\n\nWhen I've taught about RSA, I've used big primes:\n\n```\np = next_prime(randint(10^100,10^101))\nq = next_prime(randint(10^100,10^101))\n```\n\nand euler_phi would take for ever, of course. If this is reasonable to you, I'll be glad to write a patch, of course.\n\n* A missing space was generating a minor problem with latex. I attach a patch only for that, waiting for your opinions on the first item.",
    "created_at": "2010-05-12T15:36:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8469#issuecomment-69090",
    "user": "https://github.com/sagetrac-pang"
}
```

<div id="comment:5" align="right">Comment 5</div>

Two comments: 
* In this tutorial, euler_phi(n) is called several times. The whole security of RSA lies in the fact that euler_phi takes a long time if you don't know the factorization. I'd suggest using a variable:

```
phi = (p-1)*(q-1)
```

When I've taught about RSA, I've used big primes:

```
p = next_prime(randint(10^100,10^101))
q = next_prime(randint(10^100,10^101))
```

and euler_phi would take for ever, of course. If this is reasonable to you, I'll be glad to write a patch, of course.

* A missing space was generating a minor problem with latex. I attach a patch only for that, waiting for your opinions on the first item.



---

archive/issue_comments_069091.json:
```json
{
    "body": "Reviewer: **pang**",
    "created_at": "2010-05-12T15:37:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8469#issuecomment-69091",
    "user": "https://github.com/sagetrac-pang"
}
```

Reviewer: **pang**



---

archive/issue_comments_069092.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nAttachment: **[trac_8469_add_a_space.patch.gz](https://github.com/sagemath/sage/files/ticket8469/trac_8469_add_a_space.patch.gz)**",
    "created_at": "2010-05-12T15:37:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8469#issuecomment-69092",
    "user": "https://github.com/sagetrac-pang"
}
```

<div id="comment:6" align="right">Comment 6</div>

Attachment: **[trac_8469_add_a_space.patch.gz](https://github.com/sagemath/sage/files/ticket8469/trac_8469_add_a_space.patch.gz)**



---

archive/issue_comments_069093.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nReplying to [@sagetrac-pang](#comment%3A5):\n> If this is reasonable to you, I'll be glad to write a patch, of course.\n\nThat would be nice. Thank you.\n\n\n\n\n\n> * A missing space was generating a minor problem with latex. I attach a patch only for that\n\nYour patch looks OK to me.\n\n\n\nAlso, could you put your real name in the \"Reviewer(s):\" field? That way, it makes it easier to credit you for your contribution.",
    "created_at": "2010-05-15T04:11:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8469#issuecomment-69093",
    "user": "https://github.com/sagetrac-mvngu"
}
```

<div id="comment:7" align="right">Comment 7</div>

Replying to [@sagetrac-pang](#comment%3A5):
> If this is reasonable to you, I'll be glad to write a patch, of course.

That would be nice. Thank you.





> * A missing space was generating a minor problem with latex. I attach a patch only for that

Your patch looks OK to me.



Also, could you put your real name in the "Reviewer(s):" field? That way, it makes it easier to credit you for your contribution.



---

archive/issue_comments_069094.json:
```json
{
    "body": "Changed reviewer from **pang** to **Pablo Angulo**",
    "created_at": "2010-05-15T22:47:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8469#issuecomment-69094",
    "user": "https://github.com/sagetrac-pang"
}
```

Changed reviewer from **pang** to **Pablo Angulo**



---

archive/issue_comments_069095.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nAttachment: **[trac_8469_review.patch.gz](https://github.com/sagemath/sage/files/ticket8469/trac_8469_review.patch.gz)**\n\nThe last patch includes the previous one (I can't find a wat to delete it).",
    "created_at": "2010-05-15T22:47:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8469#issuecomment-69095",
    "user": "https://github.com/sagetrac-pang"
}
```

<div id="comment:8" align="right">Comment 8</div>

Attachment: **[trac_8469_review.patch.gz](https://github.com/sagemath/sage/files/ticket8469/trac_8469_review.patch.gz)**

The last patch includes the previous one (I can't find a wat to delete it).



---

archive/issue_comments_069096.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nAttachment: **[trac_8469_review_final.patch.gz](https://github.com/sagemath/sage/files/ticket8469/trac_8469_review_final.patch.gz)**\n\nOnly the last patch is needed. Sorry for the noise.",
    "created_at": "2010-05-16T18:56:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8469#issuecomment-69096",
    "user": "https://github.com/sagetrac-pang"
}
```

<div id="comment:9" align="right">Comment 9</div>

Attachment: **[trac_8469_review_final.patch.gz](https://github.com/sagemath/sage/files/ticket8469/trac_8469_review_final.patch.gz)**

Only the last patch is needed. Sorry for the noise.



---

archive/issue_comments_069097.json:
```json
{
    "body": "Attachment: **[trac_8469-rsa.patch.gz](https://github.com/sagemath/sage/files/ticket8469/trac_8469-rsa.patch.gz)**\n\nbased on Sage 4.5.2.rc0",
    "created_at": "2010-08-03T12:07:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8469#issuecomment-69097",
    "user": "https://github.com/sagetrac-mvngu"
}
```

Attachment: **[trac_8469-rsa.patch.gz](https://github.com/sagemath/sage/files/ticket8469/trac_8469-rsa.patch.gz)**

based on Sage 4.5.2.rc0



---

archive/issue_comments_069098.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nAttachment: **[trac_8469-review-rebased.patch.gz](https://github.com/sagemath/sage/files/ticket8469/trac_8469-review-rebased.patch.gz)**\n\nWhen applying the previous version of my patch on top of Sage 4.5.2.rc0, I got the following failure:\n\n```sh\n[mvngu@sage sage-main]$ hg qimport https://github.com/sagemath/sage/files/ticket8469/trac_8469-rsa.patch.gz && hg qpush \nadding trac_8469-rsa.patch to series file\napplying trac_8469-rsa.patch\npatching file doc/en/thematic_tutorials/index.rst\nHunk #1 FAILED at 13\n1 out of 1 hunks FAILED -- saving rejects to file doc/en/thematic_tutorials/index.rst.rej\npatch failed, unable to continue (try -v)\npatch failed, rejects left in working dir\nerrors during apply, please fix and refresh trac_8469-rsa.patch\n```\nI have rebased my patch against Sage 4.5.2.rc0 in order to resolve the above failure.\n\n\n\nThe content of pang's patch [attachment: trac_8469_review_final.patch](https://github.com/sagemath/sage/files/ticket8469/trac_8469_review_final.patch.gz) is mostly OK, but the way the patch itself is structured is frowned upon. From the way it looks, I guess that the patch was put together by concatenating many patches together into one file. That's not how you should put patches together. Use Mercurial queue to concatenate patches into one patch. I have done this and uploaded an updated version of pang's patch, which also fixes some typos found in his original patch. For reference, here are the fixed typos:\n\n```diff\n--- a/doc/en/thematic_tutorials/numtheory_rsa.rst\n+++ b/doc/en/thematic_tutorials/numtheory_rsa.rst\n@@ -295,8 +295,8 @@\n pseudo-random integer uniformly distributed within the closed interval\n `[0, n-1]`.  \n \n-We can compute the value `\\varphi(n)` calling the sage function\n-``euler_phi(n)``, but for arbitrary large prime numbers `p` and `q`,\n+We can compute the value `\\varphi(n)` by calling the sage function\n+``euler_phi(n)``, but for arbitrarily large prime numbers `p` and `q`,\n this can take an enormous amount of time. Indeed, the private key\n can be quickly deduced from the public key once you know `\\varphi(n)`,\n so it is an important part of the security of the RSA cryptosystem that\n```\nPang's updated patch and the typo fixes are all rolled into one patch. See the ticket description for instructions on applying the relevant patches.\n\n\n\nFor ticket to be closed, the following must happen:\n\n1. Someone needs to sign off on [attachment: trac_8469-rsa.patch](https://github.com/sagemath/sage/files/ticket8469/trac_8469-rsa.patch.gz). This is my patch, so it requires a reviewer other than myself.\n2. Someone needs to sign off on [attachment: trac_8469-review-rebased.patch](https://github.com/sagemath/sage/files/ticket8469/trac_8469-review-rebased.patch.gz). This is pang's original patch together with some typo fixes by me. I'm happy with pang's content. But someone other than myself needs to go over the fixes I included in this updated patch.",
    "created_at": "2010-08-03T12:13:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8469#issuecomment-69098",
    "user": "https://github.com/sagetrac-mvngu"
}
```

<div id="comment:10" align="right">Comment 10</div>

Attachment: **[trac_8469-review-rebased.patch.gz](https://github.com/sagemath/sage/files/ticket8469/trac_8469-review-rebased.patch.gz)**

When applying the previous version of my patch on top of Sage 4.5.2.rc0, I got the following failure:

```sh
[mvngu@sage sage-main]$ hg qimport https://github.com/sagemath/sage/files/ticket8469/trac_8469-rsa.patch.gz && hg qpush 
adding trac_8469-rsa.patch to series file
applying trac_8469-rsa.patch
patching file doc/en/thematic_tutorials/index.rst
Hunk #1 FAILED at 13
1 out of 1 hunks FAILED -- saving rejects to file doc/en/thematic_tutorials/index.rst.rej
patch failed, unable to continue (try -v)
patch failed, rejects left in working dir
errors during apply, please fix and refresh trac_8469-rsa.patch
```
I have rebased my patch against Sage 4.5.2.rc0 in order to resolve the above failure.



The content of pang's patch [attachment: trac_8469_review_final.patch](https://github.com/sagemath/sage/files/ticket8469/trac_8469_review_final.patch.gz) is mostly OK, but the way the patch itself is structured is frowned upon. From the way it looks, I guess that the patch was put together by concatenating many patches together into one file. That's not how you should put patches together. Use Mercurial queue to concatenate patches into one patch. I have done this and uploaded an updated version of pang's patch, which also fixes some typos found in his original patch. For reference, here are the fixed typos:

```diff
--- a/doc/en/thematic_tutorials/numtheory_rsa.rst
+++ b/doc/en/thematic_tutorials/numtheory_rsa.rst
@@ -295,8 +295,8 @@
 pseudo-random integer uniformly distributed within the closed interval
 `[0, n-1]`.  
 
-We can compute the value `\varphi(n)` calling the sage function
-``euler_phi(n)``, but for arbitrary large prime numbers `p` and `q`,
+We can compute the value `\varphi(n)` by calling the sage function
+``euler_phi(n)``, but for arbitrarily large prime numbers `p` and `q`,
 this can take an enormous amount of time. Indeed, the private key
 can be quickly deduced from the public key once you know `\varphi(n)`,
 so it is an important part of the security of the RSA cryptosystem that
```
Pang's updated patch and the typo fixes are all rolled into one patch. See the ticket description for instructions on applying the relevant patches.



For ticket to be closed, the following must happen:

1. Someone needs to sign off on [attachment: trac_8469-rsa.patch](https://github.com/sagemath/sage/files/ticket8469/trac_8469-rsa.patch.gz). This is my patch, so it requires a reviewer other than myself.
2. Someone needs to sign off on [attachment: trac_8469-review-rebased.patch](https://github.com/sagemath/sage/files/ticket8469/trac_8469-review-rebased.patch.gz). This is pang's original patch together with some typo fixes by me. I'm happy with pang's content. But someone other than myself needs to go over the fixes I included in this updated patch.



---

archive/issue_comments_069099.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,3 +7,8 @@\n \n \n **Prerequisites:** #8465\n+\n+**Apply:**\n+\n+1. [attachment: trac_8469-rsa.patch](https://github.com/sagemath/sage/files/ticket8469/trac_8469-rsa.patch.gz)\n+2. [attachment: trac_8469-review-rebased.patch](https://github.com/sagemath/sage/files/ticket8469/trac_8469-review-rebased.patch.gz)\n``````\n",
    "created_at": "2010-08-03T12:15:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8469#issuecomment-69099",
    "user": "https://github.com/sagetrac-mvngu"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,3 +7,8 @@
 
 
 **Prerequisites:** #8465
+
+**Apply:**
+
+1. [attachment: trac_8469-rsa.patch](https://github.com/sagemath/sage/files/ticket8469/trac_8469-rsa.patch.gz)
+2. [attachment: trac_8469-review-rebased.patch](https://github.com/sagemath/sage/files/ticket8469/trac_8469-review-rebased.patch.gz)
``````




---

archive/issue_comments_069100.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nApply trac_8469-rsa.patch, trac_8469-review-rebased.patch\n\n(for patchbot)",
    "created_at": "2010-12-31T17:24:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8469#issuecomment-69100",
    "user": "https://github.com/loefflerd"
}
```

<div id="comment:12" align="right">Comment 12</div>

Apply trac_8469-rsa.patch, trac_8469-review-rebased.patch

(for patchbot)



---

archive/issue_comments_069101.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nI suspect that this patch needs to be rebased.  When I tried to apply [attachment: trac_8469-rsa.patch](https://github.com/sagemath/sage/files/ticket8469/trac_8469-rsa.patch.gz) to sage-4.7.rc3 I got\n\n\n```\nsage: hg_sage.apply(\"/home/mariah/trac_8469-rsa.patch\")\ncd \"/home/mariah/sage/sage-4.7.rc3-x86_64-Linux-core2-fc-review-8469/devel/sage\" && hg status\ncd \"/home/mariah/sage/sage-4.7.rc3-x86_64-Linux-core2-fc-review-8469/devel/sage\" && hg status\ncd \"/home/mariah/sage/sage-4.7.rc3-x86_64-Linux-core2-fc-review-8469/devel/sage\" && hg import   \"/home/mariah/trac_8469-rsa.patch\"\napplying /home/mariah/trac_8469-rsa.patch\npatching file doc/en/thematic_tutorials/index.rst\nHunk #1 FAILED at 16\n1 out of 1 hunks FAILED -- saving rejects to file doc/en/thematic_tutorials/index.rst.rej\nabort: patch failed to apply\nsage:\n```",
    "created_at": "2011-05-23T20:15:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8469#issuecomment-69101",
    "user": "https://github.com/sagetrac-mariah"
}
```

<div id="comment:13" align="right">Comment 13</div>

I suspect that this patch needs to be rebased.  When I tried to apply [attachment: trac_8469-rsa.patch](https://github.com/sagemath/sage/files/ticket8469/trac_8469-rsa.patch.gz) to sage-4.7.rc3 I got


```
sage: hg_sage.apply("/home/mariah/trac_8469-rsa.patch")
cd "/home/mariah/sage/sage-4.7.rc3-x86_64-Linux-core2-fc-review-8469/devel/sage" && hg status
cd "/home/mariah/sage/sage-4.7.rc3-x86_64-Linux-core2-fc-review-8469/devel/sage" && hg status
cd "/home/mariah/sage/sage-4.7.rc3-x86_64-Linux-core2-fc-review-8469/devel/sage" && hg import   "/home/mariah/trac_8469-rsa.patch"
applying /home/mariah/trac_8469-rsa.patch
patching file doc/en/thematic_tutorials/index.rst
Hunk #1 FAILED at 16
1 out of 1 hunks FAILED -- saving rejects to file doc/en/thematic_tutorials/index.rst.rej
abort: patch failed to apply
sage:
```



---

archive/issue_events_096761.json:
```json
{
    "actor": "https://github.com/sagetrac-mariah",
    "created_at": "2011-05-23T20:15:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8469",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8469#event-96761"
}
```



---

archive/issue_events_096762.json:
```json
{
    "actor": "https://github.com/sagetrac-mariah",
    "created_at": "2011-05-23T20:15:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8469",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8469#event-96762"
}
```



---

archive/issue_comments_069102.json:
```json
{
    "body": "Changed reviewer from **Pablo Angulo** to **Pablo Angulo, Rob Beezer**",
    "created_at": "2011-08-22T04:52:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8469#issuecomment-69102",
    "user": "https://github.com/rbeezer"
}
```

Changed reviewer from **Pablo Angulo** to **Pablo Angulo, Rob Beezer**



---

archive/issue_comments_069103.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nThis all looks very good.  I have posted a rebase of the main patch, it was just a matter of getting the table of contents aligned with new additions.\n\nThe \"Menezes\" citation appears twice, it seems to be in the bibliography for the Lie group stuff, so that needs to be removed.\n\nThe RSA bibliography appears as a section of its own at the same level as the different topics.  Maybe it should just be added directly into the new file of RSA material at the end?  (In other words, not in its own file that is included at a level I think is one too high.)\n\nI am at Bug Days 32 and this is on the list of priority tickets.  I can make a patch rearranging the bibliography or I can review a change.  If there is interest, please respond and let me know which approach to take.\n\nRob",
    "created_at": "2011-08-22T04:52:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8469#issuecomment-69103",
    "user": "https://github.com/rbeezer"
}
```

<div id="comment:14" align="right">Comment 14</div>

This all looks very good.  I have posted a rebase of the main patch, it was just a matter of getting the table of contents aligned with new additions.

The "Menezes" citation appears twice, it seems to be in the bibliography for the Lie group stuff, so that needs to be removed.

The RSA bibliography appears as a section of its own at the same level as the different topics.  Maybe it should just be added directly into the new file of RSA material at the end?  (In other words, not in its own file that is included at a level I think is one too high.)

I am at Bug Days 32 and this is on the list of priority tickets.  I can make a patch rearranging the bibliography or I can review a change.  If there is interest, please respond and let me know which approach to take.

Rob



---

archive/issue_events_096763.json:
```json
{
    "actor": "https://github.com/rbeezer",
    "created_at": "2011-08-22T04:52:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8469",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8469#event-96763"
}
```



---

archive/issue_events_096764.json:
```json
{
    "actor": "https://github.com/rbeezer",
    "created_at": "2011-08-22T04:52:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8469",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8469#event-96764"
}
```



---

archive/issue_comments_069104.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -10,5 +10,5 @@\n \n **Apply:**\n \n-1. [attachment: trac_8469-rsa.patch](https://github.com/sagemath/sage/files/ticket8469/trac_8469-rsa.patch.gz)\n+1. [attachment: trac_8469-rsa-rebase.patch](https://github.com/sagemath/sage/files/ticket8469/trac_8469-rsa-rebase.patch.gz)\n 2. [attachment: trac_8469-review-rebased.patch](https://github.com/sagemath/sage/files/ticket8469/trac_8469-review-rebased.patch.gz)\n``````\n",
    "created_at": "2011-08-22T04:52:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8469#issuecomment-69104",
    "user": "https://github.com/rbeezer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -10,5 +10,5 @@
 
 **Apply:**
 
-1. [attachment: trac_8469-rsa.patch](https://github.com/sagemath/sage/files/ticket8469/trac_8469-rsa.patch.gz)
+1. [attachment: trac_8469-rsa-rebase.patch](https://github.com/sagemath/sage/files/ticket8469/trac_8469-rsa-rebase.patch.gz)
 2. [attachment: trac_8469-review-rebased.patch](https://github.com/sagemath/sage/files/ticket8469/trac_8469-review-rebased.patch.gz)
``````




---

archive/issue_comments_069105.json:
```json
{
    "body": "Attachment: **[trac_8469-rsa-rebase.patch.gz](https://github.com/sagemath/sage/files/ticket8469/trac_8469-rsa-rebase.patch.gz)**",
    "created_at": "2011-08-23T17:52:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8469#issuecomment-69105",
    "user": "https://github.com/rbeezer"
}
```

Attachment: **[trac_8469-rsa-rebase.patch.gz](https://github.com/sagemath/sage/files/ticket8469/trac_8469-rsa-rebase.patch.gz)**



---

archive/issue_comments_069106.json:
```json
{
    "body": "Attachment: **[trac_8469-rsa-bibliography.patch.gz](https://github.com/sagemath/sage/files/ticket8469/trac_8469-rsa-bibliography.patch.gz)**",
    "created_at": "2011-08-23T17:52:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8469#issuecomment-69106",
    "user": "https://github.com/rbeezer"
}
```

Attachment: **[trac_8469-rsa-bibliography.patch.gz](https://github.com/sagemath/sage/files/ticket8469/trac_8469-rsa-bibliography.patch.gz)**



---

archive/issue_events_096765.json:
```json
{
    "actor": "https://github.com/rbeezer",
    "created_at": "2011-08-23T17:56:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8469",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8469#event-96765"
}
```



---

archive/issue_events_096766.json:
```json
{
    "actor": "https://github.com/rbeezer",
    "created_at": "2011-08-23T17:56:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8469",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8469#event-96766"
}
```



---

archive/issue_comments_069107.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -12,3 +12,4 @@\n \n 1. [attachment: trac_8469-rsa-rebase.patch](https://github.com/sagemath/sage/files/ticket8469/trac_8469-rsa-rebase.patch.gz)\n 2. [attachment: trac_8469-review-rebased.patch](https://github.com/sagemath/sage/files/ticket8469/trac_8469-review-rebased.patch.gz)\n+3. [attachment: trac_8469-rsa-bibliography.patch](https://github.com/sagemath/sage/files/ticket8469/trac_8469-rsa-bibliography.patch.gz)\n``````\n",
    "created_at": "2011-08-23T17:56:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8469#issuecomment-69107",
    "user": "https://github.com/rbeezer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -12,3 +12,4 @@
 
 1. [attachment: trac_8469-rsa-rebase.patch](https://github.com/sagemath/sage/files/ticket8469/trac_8469-rsa-rebase.patch.gz)
 2. [attachment: trac_8469-review-rebased.patch](https://github.com/sagemath/sage/files/ticket8469/trac_8469-review-rebased.patch.gz)
+3. [attachment: trac_8469-rsa-bibliography.patch](https://github.com/sagemath/sage/files/ticket8469/trac_8469-rsa-bibliography.patch.gz)
``````




---

archive/issue_comments_069108.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\nForgot to post the rebased patch.  That is fixed.\n\n\"rebase\" patch:  removes RSA bibliography file from top-level.  Reviewer should check that there is no \"bibliography.html\" at the same level as the four or five other tutorial files.  Still fixes rebasing problem.\n\n\"bibliography\" patch:  moves RSA bibliography to the end of the actual tutorial file.  Removed duplicate citation from the Lie group bibliography file.",
    "created_at": "2011-08-23T17:56:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8469#issuecomment-69108",
    "user": "https://github.com/rbeezer"
}
```

<div id="comment:15" align="right">Comment 15</div>

Forgot to post the rebased patch.  That is fixed.

"rebase" patch:  removes RSA bibliography file from top-level.  Reviewer should check that there is no "bibliography.html" at the same level as the four or five other tutorial files.  Still fixes rebasing problem.

"bibliography" patch:  moves RSA bibliography to the end of the actual tutorial file.  Removed duplicate citation from the Lie group bibliography file.



---

archive/issue_comments_069109.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">Comment 16</div>\n\nI read the patches and skimmed the produced HTML which suffices for me to give a positive review.",
    "created_at": "2011-08-23T19:31:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8469#issuecomment-69109",
    "user": "https://github.com/malb"
}
```

<div id="comment:16" align="right">Comment 16</div>

I read the patches and skimmed the produced HTML which suffices for me to give a positive review.



---

archive/issue_comments_069110.json:
```json
{
    "body": "Changed reviewer from **Pablo Angulo, Rob Beezer** to **Pablo Angulo, Rob Beezer, Martin Albrecht**",
    "created_at": "2011-08-23T19:31:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8469#issuecomment-69110",
    "user": "https://github.com/malb"
}
```

Changed reviewer from **Pablo Angulo, Rob Beezer** to **Pablo Angulo, Rob Beezer, Martin Albrecht**



---

archive/issue_events_096767.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2011-08-23T19:31:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8469",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8469#event-96767"
}
```



---

archive/issue_events_096768.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2011-08-23T19:31:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8469",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8469#event-96768"
}
```



---

archive/issue_comments_069111.json:
```json
{
    "body": "Changed keywords from **RSA, public-key cryptosystem** to **RSA, public-key cryptosystem, sd32**",
    "created_at": "2011-08-24T23:44:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8469#issuecomment-69111",
    "user": "https://github.com/williamstein"
}
```

Changed keywords from **RSA, public-key cryptosystem** to **RSA, public-key cryptosystem, sd32**



---

archive/issue_events_096769.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2011-09-12T19:35:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8469",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8469#event-96769"
}
```



---

archive/issue_events_096770.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2011-09-12T19:35:15Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/8469",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8469#event-96770"
}
```



---

archive/issue_comments_069112.json:
```json
{
    "body": "Merged: **sage-4.7.2.alpha3**",
    "created_at": "2011-09-12T19:35:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8469#issuecomment-69112",
    "user": "https://github.com/nexttime"
}
```

Merged: **sage-4.7.2.alpha3**
