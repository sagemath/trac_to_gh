# Issue 8984: Implementation of the Lenart--Postnikov alcove path crystal

archive/issues_008984.json:
```json
{
    "assignees": [],
    "body": "This is an implementation of the Lenart--Postnikov alcove path model as described in:\n\nA combinatorial model for crystals of Kac-Moody algebras. Trans. Amer. Math. Soc.  360  (2008).\n\nIt also implements to_coroot_lattice_morphism() and associated_coroot() in root_lattice_realization.py.\n\nDepends on #8911 (trac_8911_categorification_crystals-as.patch).\n\n\n**Assignee:** sage-combinat\n\n**CC:**  sage-combinat brant@math.ucdavis.edu @rlmill\n\n**Keywords:** combinat, crystals\n\n**Author:** Brant Jones\n\n**Reviewer:** Anne Schilling\n\n**Merged:** sage-4.5.2.alpha0\n\nIssue created by migration from https://trac.sagemath.org/ticket/8984\n\n",
    "closed_at": "2010-07-21T01:55:28Z",
    "created_at": "2010-05-18T00:26:22Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.5.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Implementation of the Lenart--Postnikov alcove path crystal",
    "type": "issue",
    "updated_at": "2010-07-21T01:55:28Z",
    "url": "https://github.com/sagemath/sage/issues/8984",
    "user": "https://github.com/sagetrac-brant-c-jones"
}
```
This is an implementation of the Lenart--Postnikov alcove path model as described in:

A combinatorial model for crystals of Kac-Moody algebras. Trans. Amer. Math. Soc.  360  (2008).

It also implements to_coroot_lattice_morphism() and associated_coroot() in root_lattice_realization.py.

Depends on #8911 (trac_8911_categorification_crystals-as.patch).


**Assignee:** sage-combinat

**CC:**  sage-combinat brant@math.ucdavis.edu @rlmill

**Keywords:** combinat, crystals

**Author:** Brant Jones

**Reviewer:** Anne Schilling

**Merged:** sage-4.5.2.alpha0

Issue created by migration from https://trac.sagemath.org/ticket/8984





---

archive/issue_events_064891.json:
```json
{
    "actor": "https://github.com/sagetrac-brant-c-jones",
    "created_at": "2010-05-18T00:38:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8984",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8984#event-64891"
}
```



---

archive/issue_comments_075643.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -4,3 +4,5 @@\n \n It also implements to_coroot_lattice_morphism() and associated_coroot() in root_lattice_realization.py.\n \n+Depends on #8911 (trac_8911_categorification_crystals-as.patch).\n+\n``````\n",
    "created_at": "2010-05-18T00:41:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8984#issuecomment-75643",
    "user": "https://github.com/sagetrac-brant-c-jones"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -4,3 +4,5 @@
 
 It also implements to_coroot_lattice_morphism() and associated_coroot() in root_lattice_realization.py.
 
+Depends on #8911 (trac_8911_categorification_crystals-as.patch).
+
``````




---

archive/issue_comments_075644.json:
```json
{
    "body": "<a id='comment:3'></a>\nTest whether Brant gets this message.",
    "created_at": "2010-05-18T00:43:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8984#issuecomment-75644",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:3'></a>
Test whether Brant gets this message.



---

archive/issue_events_064892.json:
```json
{
    "actor": "https://github.com/anneschilling",
    "created_at": "2010-06-06T16:56:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8984",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8984#event-64892"
}
```



---

archive/issue_events_064893.json:
```json
{
    "actor": "https://github.com/anneschilling",
    "created_at": "2010-06-06T16:56:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8984",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8984#event-64893"
}
```



---

archive/issue_comments_075645.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"combinat, crystals\".",
    "created_at": "2010-06-06T16:56:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8984#issuecomment-75645",
    "user": "https://github.com/anneschilling"
}
```

**Changing keywords** from "" to "combinat, crystals".



---

archive/issue_comments_075646.json:
```json
{
    "body": "<a id='comment:5'></a>\nThank you for implementing the alcove path model by Lenart and Postnikov.\nThis will be a useful addition to sage.\n\nIt might be useful to add a few more words about the model you implemented\nin the documentation of ClassicalCrystalOfAlcovePaths. For example, you could\nadd that these are highest weight crystals for classical types\n`A_n`, `B_n`, `C_n`, `D_n` and the exceptional types `F_4`, `G_2`, `E_6`,\n`E_7`, `E_8`.\n\nAlso, for the user it would be helpful to say how precisely one should\nenter the input data. For example, you could say\n\nINPUT:\n  \n- ``cartan_type`` is the Cartan type of a classical Dynkin diagram \n- ``highest_weight`` is a dominant weight as a list of coefficients of \n   the fundamental weights `Lambda_i`\n\nIt might also be good to briefly describe how the crystal elements\nare represented so that the user can interpret the output.\n\nSome technical comments:\n\n(1) In combinat/crystals/alcove_path.py, it might be safer to only \nimport the methods/classes that you really need for:\n\nfrom sage.rings.integer import * (which appears twice, so please remove one!)\nfrom sage.misc.misc import *\nfrom sage.calculus.calculus import *\n\n(2) All methods need EXAMPLES or TESTS. Please add them to the following\nmethods in combinat/crystals/alcove_path.py for\n\n__classcall__\nget_initial_chain\nfold\ncompare_graphs\n\n(3) Perhaps remove the commented out lines by # in\n\n__init__\nlist\n\n(4) Add extra line after EXAMPLES:: get_chain_from_subset\n\n(5) Remove the commented out `weight` function\n\n(6) You need TESTS or EXAMPLES to_coroot_lattice_morphism in \nsage/combinat/root_system/root_lattice_realization.py",
    "created_at": "2010-06-06T16:56:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8984#issuecomment-75646",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:5'></a>
Thank you for implementing the alcove path model by Lenart and Postnikov.
This will be a useful addition to sage.

It might be useful to add a few more words about the model you implemented
in the documentation of ClassicalCrystalOfAlcovePaths. For example, you could
add that these are highest weight crystals for classical types
`A_n`, `B_n`, `C_n`, `D_n` and the exceptional types `F_4`, `G_2`, `E_6`,
`E_7`, `E_8`.

Also, for the user it would be helpful to say how precisely one should
enter the input data. For example, you could say

INPUT:
  
- ``cartan_type`` is the Cartan type of a classical Dynkin diagram 
- ``highest_weight`` is a dominant weight as a list of coefficients of 
   the fundamental weights `Lambda_i`

It might also be good to briefly describe how the crystal elements
are represented so that the user can interpret the output.

Some technical comments:

(1) In combinat/crystals/alcove_path.py, it might be safer to only 
import the methods/classes that you really need for:

from sage.rings.integer import * (which appears twice, so please remove one!)
from sage.misc.misc import *
from sage.calculus.calculus import *

(2) All methods need EXAMPLES or TESTS. Please add them to the following
methods in combinat/crystals/alcove_path.py for

__classcall__
get_initial_chain
fold
compare_graphs

(3) Perhaps remove the commented out lines by # in

__init__
list

(4) Add extra line after EXAMPLES:: get_chain_from_subset

(5) Remove the commented out `weight` function

(6) You need TESTS or EXAMPLES to_coroot_lattice_morphism in 
sage/combinat/root_system/root_lattice_realization.py



---

archive/issue_events_064894.json:
```json
{
    "actor": "https://github.com/sagetrac-brant-c-jones",
    "created_at": "2010-06-08T00:23:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8984",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8984#event-64894"
}
```



---

archive/issue_events_064895.json:
```json
{
    "actor": "https://github.com/sagetrac-brant-c-jones",
    "created_at": "2010-06-08T00:23:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8984",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8984#event-64895"
}
```



---

archive/issue_comments_075647.json:
```json
{
    "body": "<a id='comment:6'></a>\n**Attachment:** [trac_8984_crystals_alcove_path_model_bj.patch.gz](https://github.com/sagemath/sage/files/ticket8984/trac_8984_crystals_alcove_path_model_bj.patch.gz)\n\nI have implemented all of the suggestions given by the reviewer above.\n\nPlease review the new version.",
    "created_at": "2010-06-08T00:23:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8984#issuecomment-75647",
    "user": "https://github.com/sagetrac-brant-c-jones"
}
```

<a id='comment:6'></a>
**Attachment:** [trac_8984_crystals_alcove_path_model_bj.patch.gz](https://github.com/sagemath/sage/files/ticket8984/trac_8984_crystals_alcove_path_model_bj.patch.gz)

I have implemented all of the suggestions given by the reviewer above.

Please review the new version.



---

archive/issue_events_064896.json:
```json
{
    "actor": "https://github.com/anneschilling",
    "created_at": "2010-06-09T03:49:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8984",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8984#event-64896"
}
```



---

archive/issue_events_064897.json:
```json
{
    "actor": "https://github.com/anneschilling",
    "created_at": "2010-06-09T03:49:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8984",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8984#event-64897"
}
```



---

archive/issue_comments_075648.json:
```json
{
    "body": "**Reviewer:** Anne Schilling",
    "created_at": "2010-06-09T03:49:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8984#issuecomment-75648",
    "user": "https://github.com/anneschilling"
}
```

**Reviewer:** Anne Schilling



---

archive/issue_comments_075649.json:
```json
{
    "body": "<a id='comment:7'></a>\nThis patch implements the Lenart-Postnikov model for highest weight crystals for finite-dimensional Lie algebras. There are extensive tests to test that this gives the same crystal graph as other models.\n\nAll tests pass with sage-4.4.2 and the sage-combinat queue applied to this patch.",
    "created_at": "2010-06-09T03:49:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8984#issuecomment-75649",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:7'></a>
This patch implements the Lenart-Postnikov model for highest weight crystals for finite-dimensional Lie algebras. There are extensive tests to test that this gives the same crystal graph as other models.

All tests pass with sage-4.4.2 and the sage-combinat queue applied to this patch.



---

archive/issue_comments_075650.json:
```json
{
    "body": "**Merged:** sage-4.4.4.alpha1",
    "created_at": "2010-06-09T03:58:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8984#issuecomment-75650",
    "user": "https://github.com/mwhansen"
}
```

**Merged:** sage-4.4.4.alpha1



---

archive/issue_events_064898.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2010-06-09T03:58:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8984",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8984#event-64898"
}
```



---

archive/issue_events_064899.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2010-06-09T03:58:54Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/8984",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8984#event-64899"
}
```



---

archive/issue_events_064900.json:
```json
{
    "actor": "https://github.com/sagetrac-mvngu",
    "created_at": "2010-06-09T04:37:14Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/8984",
    "milestone_number": null,
    "milestone_title": "sage-4.4.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8984#event-64900"
}
```



---

archive/issue_comments_075651.json:
```json
{
    "body": "<a id='comment:10'></a>\nI had to backout this change from 4.4.4 for now.  I was getting weird failures with random_element in matrix_group.py.  I'm trying to figure out why this patch was causing it.",
    "created_at": "2010-06-09T19:18:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8984#issuecomment-75651",
    "user": "https://github.com/mwhansen"
}
```

<a id='comment:10'></a>
I had to backout this change from 4.4.4 for now.  I was getting weird failures with random_element in matrix_group.py.  I'm trying to figure out why this patch was causing it.



---

archive/issue_comments_075652.json:
```json
{
    "body": "**Changing merged** from \"sage-4.4.4.alpha1\" to \"\".",
    "created_at": "2010-06-09T19:18:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8984#issuecomment-75652",
    "user": "https://github.com/mwhansen"
}
```

**Changing merged** from "sage-4.4.4.alpha1" to "".



---

archive/issue_events_064901.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2010-06-09T19:18:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8984",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8984#event-64901"
}
```



---

archive/issue_events_064902.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2010-06-09T19:18:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8984",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8984#event-64902"
}
```



---

archive/issue_events_064903.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2010-06-09T19:18:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8984",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8984#event-64903"
}
```



---

archive/issue_comments_075653.json:
```json
{
    "body": "<a id='comment:13'></a>\nReplying to [@mwhansen](#comment%3A12):\n\nHi Mike,\n\nWhat is the status on this now? Do you know why there were the strange failures in random_element in matrix_group.py?\n\nAnne",
    "created_at": "2010-06-13T22:39:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8984#issuecomment-75653",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:13'></a>
Replying to [@mwhansen](#comment%3A12):

Hi Mike,

What is the status on this now? Do you know why there were the strange failures in random_element in matrix_group.py?

Anne



---

archive/issue_comments_075654.json:
```json
{
    "body": "<a id='comment:14'></a>\nSee #9310",
    "created_at": "2010-06-22T22:39:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8984#issuecomment-75654",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<a id='comment:14'></a>
See #9310



---

archive/issue_comments_075655.json:
```json
{
    "body": "<a id='comment:15'></a>\nReplying to [drkirkby](#comment%3A14):\n> See #9310\n\nIs this patch the cause of the failure in #9310 though? It was not\nmerged into sage-4.4.4 and still the error is there.",
    "created_at": "2010-06-25T02:58:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8984#issuecomment-75655",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:15'></a>
Replying to [drkirkby](#comment%3A14):
> See #9310

Is this patch the cause of the failure in #9310 though? It was not
merged into sage-4.4.4 and still the error is there.



---

archive/issue_comments_075656.json:
```json
{
    "body": "<a id='comment:16'></a>\nHi Robert!\n\nAny chances to merge this patch, since it does not seem any more related to the failures than any other?\n\nThanks!",
    "created_at": "2010-07-10T01:50:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8984#issuecomment-75656",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:16'></a>
Hi Robert!

Any chances to merge this patch, since it does not seem any more related to the failures than any other?

Thanks!



---

archive/issue_comments_075657.json:
```json
{
    "body": "<a id='comment:17'></a>\nsage-4.5 is in feature freeze mode. Nothing but essential fixes will be merged until final release. I am strongly suggesting that the next release be patches to the sage library only (other than essential spkg fixes), and tickets like these deserve to go in then. (I would have had an alpha for such tickets in the 4.5 series, but the spkg issues are already holding things up long enough.)",
    "created_at": "2010-07-11T21:08:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8984#issuecomment-75657",
    "user": "https://github.com/rlmill"
}
```

<a id='comment:17'></a>
sage-4.5 is in feature freeze mode. Nothing but essential fixes will be merged until final release. I am strongly suggesting that the next release be patches to the sage library only (other than essential spkg fixes), and tickets like these deserve to go in then. (I would have had an alpha for such tickets in the 4.5 series, but the spkg issues are already holding things up long enough.)



---

archive/issue_comments_075658.json:
```json
{
    "body": "**Merged:** sage-4.5.2.alpha0",
    "created_at": "2010-07-21T01:43:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8984#issuecomment-75658",
    "user": "https://github.com/qed777"
}
```

**Merged:** sage-4.5.2.alpha0



---

archive/issue_events_064904.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-07-21T01:55:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8984",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8984#event-64904"
}
```



---

archive/issue_events_064905.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-07-21T01:55:28Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/8984",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8984#event-64905"
}
```
