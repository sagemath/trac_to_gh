# Issue 8360: Add an interface to Jean-Eric Pin's Semigroupe package

archive/issues_008360.json:
```json
{
    "assignees": [
        "https://github.com/nthiery"
    ],
    "body": "Add an interface to Jean-Eric Pin's Semigroupe package\n\nhttp://www.liafa.jussieu.fr/~jep/semigroupes.html\n\nAn experimental spkg is now on trac; here is the patch taken from the old Sage-Combinat patch server:\n\n:attachment:trac_8360_semigroupe-interface-nt.patch\n\nStatus: advanced proof of concept, with interactions in both directions (building a semigroup in Semigroupe from Sage data). Main show stopper: one can only manipulate one semigroup at a time.\n\nThe following should hopefully get you started:\n\n```\n   sage -f https://github.com/sagemath/sage/files/ticket8360/semigroupe-2.0-2.spkg.gz\n   sage -combinat update\n   sage -br\n\n   sage: semigroupe?\n   sage: semigroupe.tutorial?\n```\n\nBeware 'sage -f an_url' does not redownload the package if sage\nalready has a copy of it. So you may have to first do:\n\n```\n        rm <SAGE_ROOT>/spkg/optional/semigroupe-2.0.spkg\n```\n\n\nUpdate 2016-12-05: James Mitchel is reimplementing Semigroupe in C++, which will lift the main limitation (a single semigroup at a time):\nhttps://james-d-mitchell.github.io/semigroupsplusplus/\n\nThis could be the occasion to revive this old code.\n\nCC:  @sagetrac-sage-combinat Jean-Eric.Pin@liafa.jussieu.fr @sagetrac-abmasse @tscrim\n\nKeywords: **Semigroupes**\n\nAuthor: **Florent Hivert, Jean-Eric Pin, Nicolas M. Thi\u00e9ry**\n\nComponent: **algebra**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/8360_\n\n",
    "created_at": "2010-02-25T09:00:20Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20algebra",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/feature",
        "https://github.com/sagemath/sage/labels/needs%20work"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Add an interface to Jean-Eric Pin's Semigroupe package",
    "type": "issue",
    "updated_at": "2016-12-06T01:12:45Z",
    "url": "https://github.com/sagemath/sage/issues/8360",
    "user": "https://github.com/nthiery"
}
```
Add an interface to Jean-Eric Pin's Semigroupe package

http://www.liafa.jussieu.fr/~jep/semigroupes.html

An experimental spkg is now on trac; here is the patch taken from the old Sage-Combinat patch server:

:attachment:trac_8360_semigroupe-interface-nt.patch

Status: advanced proof of concept, with interactions in both directions (building a semigroup in Semigroupe from Sage data). Main show stopper: one can only manipulate one semigroup at a time.

The following should hopefully get you started:

```
   sage -f https://github.com/sagemath/sage/files/ticket8360/semigroupe-2.0-2.spkg.gz
   sage -combinat update
   sage -br

   sage: semigroupe?
   sage: semigroupe.tutorial?
```

Beware 'sage -f an_url' does not redownload the package if sage
already has a copy of it. So you may have to first do:

```
        rm <SAGE_ROOT>/spkg/optional/semigroupe-2.0.spkg
```


Update 2016-12-05: James Mitchel is reimplementing Semigroupe in C++, which will lift the main limitation (a single semigroup at a time):
https://james-d-mitchell.github.io/semigroupsplusplus/

This could be the occasion to revive this old code.

CC:  @sagetrac-sage-combinat Jean-Eric.Pin@liafa.jussieu.fr @sagetrac-abmasse @tscrim

Keywords: **Semigroupes**

Author: **Florent Hivert, Jean-Eric Pin, Nicolas M. Thi√©ry**

Component: **algebra**

_Issue created by migration from https://trac.sagemath.org/ticket/8360_





---

archive/issue_events_104965.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2010-02-25T09:00:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8360",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20algebra",
    "label_color": "0000ff",
    "label_name": "c: algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8360#event-104965"
}
```



---

archive/issue_events_104966.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2010-02-25T09:00:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8360",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8360#event-104966"
}
```



---

archive/issue_events_104967.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2010-02-25T09:00:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8360",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8360#event-104967"
}
```



---

archive/issue_events_104968.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2010-02-25T09:00:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8360",
    "label": "https://github.com/sagemath/sage/labels/feature",
    "label_color": "008080",
    "label_name": "feature",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8360#event-104968"
}
```



---

archive/issue_events_104969.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2010-02-25T09:00:20Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/8360",
    "subject": "https://github.com/nthiery",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8360#event-104969"
}
```



---

archive/issue_comments_065760.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nAttachment: **[Semigroupe-2.0.spkg.gz](https://github.com/sagemath/sage/files/ticket8360/Semigroupe-2.0.spkg.gz)**",
    "created_at": "2010-03-16T13:04:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8360#issuecomment-65760",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:1" align="right">comment:1</div>

Attachment: **[Semigroupe-2.0.spkg.gz](https://github.com/sagemath/sage/files/ticket8360/Semigroupe-2.0.spkg.gz)**



---

archive/issue_comments_065761.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,4 +2,8 @@\n \n http://www.liafa.jussieu.fr/~jep/semigroupes.html\n \n-Patch and spkg under development on the Sage-Combinat server.\n+Patch and spkg under development on the Sage-Combinat server:\n+\n+http://combinat.sagemath.org/hgwebdir.cgi/patches/file/tip/trac_8360_semigroupe-interface-nt.patch\n+\n+Status: more than a proof of concept, with interactions in both directions (building a semigroup in Semigroupe from Sage data). Main show stopper: one can only manipulate one semigroup at a time.\n``````\n",
    "created_at": "2010-03-16T13:04:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8360#issuecomment-65761",
    "user": "https://github.com/nthiery"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,4 +2,8 @@
 
 http://www.liafa.jussieu.fr/~jep/semigroupes.html
 
-Patch and spkg under development on the Sage-Combinat server.
+Patch and spkg under development on the Sage-Combinat server:
+
+http://combinat.sagemath.org/hgwebdir.cgi/patches/file/tip/trac_8360_semigroupe-interface-nt.patch
+
+Status: more than a proof of concept, with interactions in both directions (building a semigroup in Semigroupe from Sage data). Main show stopper: one can only manipulate one semigroup at a time.
``````




---

archive/issue_events_104970.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2010-03-16T13:04:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8360",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8360#event-104970"
}
```



---

archive/issue_comments_065762.json:
```json
{
    "body": "Superceedes the previous spkg",
    "created_at": "2010-03-17T20:23:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8360#issuecomment-65762",
    "user": "https://github.com/nthiery"
}
```

Superceedes the previous spkg



---

archive/issue_comments_065763.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nAttachment: **[semigroupe-2.0.spkg.gz](https://github.com/sagemath/sage/files/ticket8360/semigroupe-2.0.spkg.gz)**",
    "created_at": "2010-03-17T20:26:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8360#issuecomment-65763",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:2" align="right">comment:2</div>

Attachment: **[semigroupe-2.0.spkg.gz](https://github.com/sagemath/sage/files/ticket8360/semigroupe-2.0.spkg.gz)**



---

archive/issue_comments_065764.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,8 +2,21 @@\n \n http://www.liafa.jussieu.fr/~jep/semigroupes.html\n \n-Patch and spkg under development on the Sage-Combinat server:\n+An experimental spkg is now on trac, and the patch is up and unguarded\n+on the Sage-Combinat patch server:\n \n http://combinat.sagemath.org/hgwebdir.cgi/patches/file/tip/trac_8360_semigroupe-interface-nt.patch\n \n-Status: more than a proof of concept, with interactions in both directions (building a semigroup in Semigroupe from Sage data). Main show stopper: one can only manipulate one semigroup at a time.\n+So the following should hopefully get you started:\n+\n+   sage -f https://github.com/sagemath/sage/files/ticket8360/semigroupe-2.0.spkg.gz\n+   sage -combinat update\n+   sage -br\n+\n+   sage: semigroupe?\n+   sage: semigroupe.tutorial?\n+\n+Status: advanced proof of concept, with interactions in both directions (building a semigroup in Semigroupe from Sage data). Main show stopper: one can only manipulate one semigroup at a time.\n+\n+\n+\n``````\n",
    "created_at": "2010-03-17T20:26:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8360#issuecomment-65764",
    "user": "https://github.com/nthiery"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,8 +2,21 @@
 
 http://www.liafa.jussieu.fr/~jep/semigroupes.html
 
-Patch and spkg under development on the Sage-Combinat server:
+An experimental spkg is now on trac, and the patch is up and unguarded
+on the Sage-Combinat patch server:
 
 http://combinat.sagemath.org/hgwebdir.cgi/patches/file/tip/trac_8360_semigroupe-interface-nt.patch
 
-Status: more than a proof of concept, with interactions in both directions (building a semigroup in Semigroupe from Sage data). Main show stopper: one can only manipulate one semigroup at a time.
+So the following should hopefully get you started:
+
+   sage -f https://github.com/sagemath/sage/files/ticket8360/semigroupe-2.0.spkg.gz
+   sage -combinat update
+   sage -br
+
+   sage: semigroupe?
+   sage: semigroupe.tutorial?
+
+Status: advanced proof of concept, with interactions in both directions (building a semigroup in Semigroupe from Sage data). Main show stopper: one can only manipulate one semigroup at a time.
+
+
+
``````




---

archive/issue_comments_065765.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -9,12 +9,14 @@\n \n So the following should hopefully get you started:\n \n+```\n    sage -f https://github.com/sagemath/sage/files/ticket8360/semigroupe-2.0.spkg.gz\n    sage -combinat update\n    sage -br\n \n    sage: semigroupe?\n    sage: semigroupe.tutorial?\n+```\n \n Status: advanced proof of concept, with interactions in both directions (building a semigroup in Semigroupe from Sage data). Main show stopper: one can only manipulate one semigroup at a time.\n \n``````\n",
    "created_at": "2010-03-17T20:26:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8360#issuecomment-65765",
    "user": "https://github.com/nthiery"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -9,12 +9,14 @@
 
 So the following should hopefully get you started:
 
+```
    sage -f https://github.com/sagemath/sage/files/ticket8360/semigroupe-2.0.spkg.gz
    sage -combinat update
    sage -br
 
    sage: semigroupe?
    sage: semigroupe.tutorial?
+```
 
 Status: advanced proof of concept, with interactions in both directions (building a semigroup in Semigroupe from Sage data). Main show stopper: one can only manipulate one semigroup at a time.
 
``````




---

archive/issue_comments_065766.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,7 +7,9 @@\n \n http://combinat.sagemath.org/hgwebdir.cgi/patches/file/tip/trac_8360_semigroupe-interface-nt.patch\n \n-So the following should hopefully get you started:\n+Status: advanced proof of concept, with interactions in both directions (building a semigroup in Semigroupe from Sage data). Main show stopper: one can only manipulate one semigroup at a time.\n+\n+The following should hopefully get you started:\n \n ```\n    sage -f https://github.com/sagemath/sage/files/ticket8360/semigroupe-2.0.spkg.gz\n@@ -18,7 +20,14 @@\n    sage: semigroupe.tutorial?\n ```\n \n-Status: advanced proof of concept, with interactions in both directions (building a semigroup in Semigroupe from Sage data). Main show stopper: one can only manipulate one semigroup at a time.\n+Beware 'sage -f an_url' does not redownload the package if sage\n+already has a copy of it. So you may have to first do:\n+\n+```\n+        rm <SAGE_ROOT>/spkg/optional/semigroupe-2.0.spkg\n+```\n \n \n \n+\n+\n``````\n",
    "created_at": "2010-03-17T20:30:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8360#issuecomment-65766",
    "user": "https://github.com/nthiery"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,7 +7,9 @@
 
 http://combinat.sagemath.org/hgwebdir.cgi/patches/file/tip/trac_8360_semigroupe-interface-nt.patch
 
-So the following should hopefully get you started:
+Status: advanced proof of concept, with interactions in both directions (building a semigroup in Semigroupe from Sage data). Main show stopper: one can only manipulate one semigroup at a time.
+
+The following should hopefully get you started:
 
 ```
    sage -f https://github.com/sagemath/sage/files/ticket8360/semigroupe-2.0.spkg.gz
@@ -18,7 +20,14 @@
    sage: semigroupe.tutorial?
 ```
 
-Status: advanced proof of concept, with interactions in both directions (building a semigroup in Semigroupe from Sage data). Main show stopper: one can only manipulate one semigroup at a time.
+Beware 'sage -f an_url' does not redownload the package if sage
+already has a copy of it. So you may have to first do:
+
+```
+        rm <SAGE_ROOT>/spkg/optional/semigroupe-2.0.spkg
+```
 
 
 
+
+
``````




---

archive/issue_comments_065767.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nThere seems to be a problem on a 64bit machine. After installing the spkg, the following commands will cause Sage to segfault:\n\n```\nsage: W = CoxeterGroup([\"H\",4])\nsage: S = semigroupe.AutomaticSemigroup(W.semigroup_generators(), W.one(), category = FiniteCoxeterGroups())\nsage: S.cardinality()\n------------------------------------------------------------\nUnhandled SIGSEGV: A segmentation fault occured in Sage.\n...\n```\n\nThe problem seems to be with compiling Semigroupe on a 64bit machine. After installing the package, the following segfaults:\n\n```\nkarkwa: cd $SAGE_ROOT/local/bin\nkarkwa: Semigroupe\nkarkwa: ./Semigroupe\nSegmentation fault\nkarkwa: ./SelfContainedTest \nToto\na | 2  3  1 \nb | 2  1  3 \nc | 1  2  1 \n\nSegmentation fault\nkarkwa: ./SemigroupeModuleTest \n\na | 2  1 \nb | 1  1 \n\nSegmentation fault \n```\nI think that the two test suites (I think they are test suites...) should be run by the `spkg-check` script.",
    "created_at": "2010-05-11T20:43:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8360#issuecomment-65767",
    "user": "https://github.com/saliola"
}
```

<div id="comment:5" align="right">comment:5</div>

There seems to be a problem on a 64bit machine. After installing the spkg, the following commands will cause Sage to segfault:

```
sage: W = CoxeterGroup(["H",4])
sage: S = semigroupe.AutomaticSemigroup(W.semigroup_generators(), W.one(), category = FiniteCoxeterGroups())
sage: S.cardinality()
------------------------------------------------------------
Unhandled SIGSEGV: A segmentation fault occured in Sage.
...
```

The problem seems to be with compiling Semigroupe on a 64bit machine. After installing the package, the following segfaults:

```
karkwa: cd $SAGE_ROOT/local/bin
karkwa: Semigroupe
karkwa: ./Semigroupe
Segmentation fault
karkwa: ./SelfContainedTest 
Toto
a | 2  3  1 
b | 2  1  3 
c | 1  2  1 

Segmentation fault
karkwa: ./SemigroupeModuleTest 

a | 2  1 
b | 1  1 

Segmentation fault 
```
I think that the two test suites (I think they are test suites...) should be run by the `spkg-check` script.



---

archive/issue_comments_065768.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nOn a 32-bit machine, I obtain the following error:\n\nsage: S = semigroupe.AutomaticSemigroup(W.semigroup_generators(), W.one(), category = FiniteCoxeterGroups())\nsage: S.cardinality()\npython(24860) malloc: *** vm_allocate(size=262144) failed (error code=3)\npython(24860) malloc: *** error: can't allocate region\npython(24860) malloc: *** set a breakpoint in szone_error to debug\nmemory allocation failed\nmemory usage :\n\nsize : 2^       used/allocated \n  0              310/312       \n  1               21/22        \n  2              109/109       \n  3               73/73        \n  4               49/50        \n  5                5/6         \n  6                9/9         \n  7                3/3         \n  8                1/1         \n  9                1/1         \n 10                1/2         \n 11                0/1         \n 12                0/0         \n 13                0/1         \n 14                1/1         \n 15            25959/25959     \n 16                0/0         \n 17                0/0         \n 18                0/0         \n 19                0/0         \n 20                0/0         \n 21                0/0         \n 22                0/0         \n 23                0/0         \n 24                0/0         \n 25                0/0         \n 26                0/0         \n 27                0/0         \n 28                0/0         \n 29                0/0         \n 30                0/0         \n 31                0/0         \n\ntotal :  850645964/850657280  4-byte units used/allocated\n.../Applications/sage-4.4/devel/sage-combinat/sage/combinat/crystals$ \n\nAnne",
    "created_at": "2010-05-12T02:43:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8360#issuecomment-65768",
    "user": "https://github.com/anneschilling"
}
```

<div id="comment:6" align="right">comment:6</div>

On a 32-bit machine, I obtain the following error:

sage: S = semigroupe.AutomaticSemigroup(W.semigroup_generators(), W.one(), category = FiniteCoxeterGroups())
sage: S.cardinality()
python(24860) malloc: *** vm_allocate(size=262144) failed (error code=3)
python(24860) malloc: *** error: can't allocate region
python(24860) malloc: *** set a breakpoint in szone_error to debug
memory allocation failed
memory usage :

size : 2^       used/allocated 
  0              310/312       
  1               21/22        
  2              109/109       
  3               73/73        
  4               49/50        
  5                5/6         
  6                9/9         
  7                3/3         
  8                1/1         
  9                1/1         
 10                1/2         
 11                0/1         
 12                0/0         
 13                0/1         
 14                1/1         
 15            25959/25959     
 16                0/0         
 17                0/0         
 18                0/0         
 19                0/0         
 20                0/0         
 21                0/0         
 22                0/0         
 23                0/0         
 24                0/0         
 25                0/0         
 26                0/0         
 27                0/0         
 28                0/0         
 29                0/0         
 30                0/0         
 31                0/0         

total :  850645964/850657280  4-byte units used/allocated
.../Applications/sage-4.4/devel/sage-combinat/sage/combinat/crystals$ 

Anne



---

archive/issue_comments_065769.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nIn case this helps track down the issue: things seem to be working correctly in a 32bit virtual machine. I created a 32bit VirtualBox virtual machine, installed Ubuntu 10.04, then I installed the sage-4.4.1 binary, the gap3 spkg from #8906, and the semigroupe spkg here.",
    "created_at": "2010-05-13T16:46:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8360#issuecomment-65769",
    "user": "https://github.com/saliola"
}
```

<div id="comment:7" align="right">comment:7</div>

In case this helps track down the issue: things seem to be working correctly in a 32bit virtual machine. I created a 32bit VirtualBox virtual machine, installed Ubuntu 10.04, then I installed the sage-4.4.1 binary, the gap3 spkg from #8906, and the semigroupe spkg here.



---

archive/issue_comments_065770.json:
```json
{
    "body": "Changed author from **Florent Hivert, Jean-Eric Pin Nicolas M. Thi\u00e9ry** to **Florent Hivert, Jean-Eric Pin, Nicolas M. Thi\u00e9ry**",
    "created_at": "2010-05-26T19:20:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8360#issuecomment-65770",
    "user": "https://github.com/nthiery"
}
```

Changed author from **Florent Hivert, Jean-Eric Pin Nicolas M. Thi√©ry** to **Florent Hivert, Jean-Eric Pin, Nicolas M. Thi√©ry**



---

archive/issue_comments_065771.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\n> I think that the two test suites (I think they are test suites...) should be run by the `spkg-check` script.\n\nThose are little self contained test programs we had written with Florent to understand how semigroupe was working. Yes, they eventually should be turned into test suites, and run from `spkg-check`.",
    "created_at": "2010-05-26T19:20:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8360#issuecomment-65771",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:8" align="right">comment:8</div>

> I think that the two test suites (I think they are test suites...) should be run by the `spkg-check` script.

Those are little self contained test programs we had written with Florent to understand how semigroupe was working. Yes, they eventually should be turned into test suites, and run from `spkg-check`.



---

archive/issue_comments_065772.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -12,7 +12,7 @@\n The following should hopefully get you started:\n \n ```\n-   sage -f https://github.com/sagemath/sage/files/ticket8360/semigroupe-2.0.spkg.gz\n+   sage -f https://github.com/sagemath/sage/files/ticket8360/semigroupe-2.0-2.spkg.gz\n    sage -combinat update\n    sage -br\n \n``````\n",
    "created_at": "2010-05-26T19:24:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8360#issuecomment-65772",
    "user": "https://github.com/nthiery"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -12,7 +12,7 @@
 The following should hopefully get you started:
 
 ```
-   sage -f https://github.com/sagemath/sage/files/ticket8360/semigroupe-2.0.spkg.gz
+   sage -f https://github.com/sagemath/sage/files/ticket8360/semigroupe-2.0-2.spkg.gz
    sage -combinat update
    sage -br
 
``````




---

archive/issue_comments_065773.json:
```json
{
    "body": "Attachment: **[semigroupe-2.0-2.spkg.gz](https://github.com/sagemath/sage/files/ticket8360/semigroupe-2.0-2.spkg.gz)**\n\nSame as previous one, working on both 32bits and 64bits, but managing the patches on the semigroupe sources in a mercurial queue",
    "created_at": "2011-03-02T11:53:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8360#issuecomment-65773",
    "user": "https://github.com/nthiery"
}
```

Attachment: **[semigroupe-2.0-2.spkg.gz](https://github.com/sagemath/sage/files/ticket8360/semigroupe-2.0-2.spkg.gz)**

Same as previous one, working on both 32bits and 64bits, but managing the patches on the semigroupe sources in a mercurial queue



---

archive/issue_comments_065774.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nNote that semigroupe is now part of the experimental packages:\n\nhttp://www.sagemath.org/packages/experimental/\n\nOne can install it with the usual `sage -i semigroupe-2.0-2.spkg`.\n\nnext step is to make the code in sage-combinat go into sage...",
    "created_at": "2014-02-06T12:51:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8360#issuecomment-65774",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:11" align="right">comment:11</div>

Note that semigroupe is now part of the experimental packages:

http://www.sagemath.org/packages/experimental/

One can install it with the usual `sage -i semigroupe-2.0-2.spkg`.

next step is to make the code in sage-combinat go into sage...



---

archive/issue_comments_065775.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nGreat, thanks S\u00e9bastien for taking care of this!\n\nThe next step is actually just to make a branch out of the patch. I am not sure about actually getting this branch into Sage until Semigroupe will be fixed one way or the other to support several semigroups simultaneously.\n\nCheers,\n                                Nicolas",
    "created_at": "2014-02-06T13:00:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8360#issuecomment-65775",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:12" align="right">comment:12</div>

Great, thanks S√©bastien for taking care of this!

The next step is actually just to make a branch out of the patch. I am not sure about actually getting this branch into Sage until Semigroupe will be fixed one way or the other to support several semigroups simultaneously.

Cheers,
                                Nicolas



---

archive/issue_comments_065776.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@nthiery](#comment:12):\n> Great, thanks S\u00e9bastien for taking care of this!\n> \n> The next step is actually just to make a branch out of the patch.\n\nyou mean a git branch?\n\nwhich patch? is it finite_semigroup-nt.patch ?\n\nI don't see how this patch uses semigroupe.\n\n> I am not sure about actually getting this branch into Sage until \n> Semigroupe will be fixed one way or the other to support several \n> semigroups simultaneously.\n\nI think I don't agree. I think the goal of the actual ticket #8360 is to make the actual semigroup into sage as it is. semigroupe was written for something no? Let's first make this available!\n\nThen I suggest to open a ticket showing with sage command line code illustrating how the bug for creating two semigroup simultaneously is obtained. The new ticket would ask for an upstream fix.\n\nS\u00e9bastien",
    "created_at": "2014-02-06T13:42:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8360#issuecomment-65776",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@nthiery](#comment:12):
> Great, thanks S√©bastien for taking care of this!
> 
> The next step is actually just to make a branch out of the patch.

you mean a git branch?

which patch? is it finite_semigroup-nt.patch ?

I don't see how this patch uses semigroupe.

> I am not sure about actually getting this branch into Sage until 
> Semigroupe will be fixed one way or the other to support several 
> semigroups simultaneously.

I think I don't agree. I think the goal of the actual ticket #8360 is to make the actual semigroup into sage as it is. semigroupe was written for something no? Let's first make this available!

Then I suggest to open a ticket showing with sage command line code illustrating how the bug for creating two semigroup simultaneously is obtained. The new ticket would ask for an upstream fix.

S√©bastien



---

archive/issue_comments_065777.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@seblabbe](#comment:13):\n> Replying to [@nthiery](#comment:12):\n> > The next step is actually just to make a branch out of the patch.\n\n> you mean a git branch?\n\nYup.\n\n> which patch? is it finite_semigroup-nt.patch ?\n> I don't see how this patch uses semigroupe.\n\ntrac_8360_semigroupe-interface-nt.patch\n\n> > I am not sure about actually getting this branch into Sage until \n> > Semigroupe will be fixed one way or the other to support several \n> > semigroups simultaneously.\n\n> I think I don't agree. I think the goal of the actual ticket #8360\n> is to make the actual semigroup into sage as it is. semigroupe was\n> written for something no? Let's first make this available!\n\nIndeed, the interface was written for something. But in practice, even\nif I spent quite some time on it, I am actually seldom using it\nbecause that misfeature is making it relatively unusable (at least in\nmy use-cases).\n\n> Then I suggest to open a ticket showing with sage command line code\n> illustrating how the bug for creating two semigroup simultaneously\n> is obtained. The new ticket would ask for an upstream fix.\n\nThat's an option. If you are convinced that:\n\n- At some point not to far in the future the bug will be fixed upstream (upstream meaning possibly us taking the time to do the fix).\n\n- The current code won't need serious interface change then.\n\nThen let's go ahead. I'd love to have this code always under my fingertips. Otherwise I am a bit reluctant to put in Sage some code that we might need to remove (because unused) or change a\nlot later on.\n\nAt the end of the day, this would actually be best handled by putting\nthe interface code in the spkg and not in the Sage library. I haven't\nchecked how hard/easy it would be to handle.\n\nCheers,\n                            Nicolas",
    "created_at": "2014-02-06T14:04:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8360#issuecomment-65777",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@seblabbe](#comment:13):
> Replying to [@nthiery](#comment:12):
> > The next step is actually just to make a branch out of the patch.

> you mean a git branch?

Yup.

> which patch? is it finite_semigroup-nt.patch ?
> I don't see how this patch uses semigroupe.

trac_8360_semigroupe-interface-nt.patch

> > I am not sure about actually getting this branch into Sage until 
> > Semigroupe will be fixed one way or the other to support several 
> > semigroups simultaneously.

> I think I don't agree. I think the goal of the actual ticket #8360
> is to make the actual semigroup into sage as it is. semigroupe was
> written for something no? Let's first make this available!

Indeed, the interface was written for something. But in practice, even
if I spent quite some time on it, I am actually seldom using it
because that misfeature is making it relatively unusable (at least in
my use-cases).

> Then I suggest to open a ticket showing with sage command line code
> illustrating how the bug for creating two semigroup simultaneously
> is obtained. The new ticket would ask for an upstream fix.

That's an option. If you are convinced that:

- At some point not to far in the future the bug will be fixed upstream (upstream meaning possibly us taking the time to do the fix).

- The current code won't need serious interface change then.

Then let's go ahead. I'd love to have this code always under my fingertips. Otherwise I am a bit reluctant to put in Sage some code that we might need to remove (because unused) or change a
lot later on.

At the end of the day, this would actually be best handled by putting
the interface code in the spkg and not in the Sage library. I haven't
checked how hard/easy it would be to handle.

Cheers,
                            Nicolas



---

archive/issue_comments_065778.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,7 +5,7 @@\n An experimental spkg is now on trac, and the patch is up and unguarded\n on the Sage-Combinat patch server:\n \n-http://combinat.sagemath.org/hgwebdir.cgi/patches/file/tip/trac_8360_semigroupe-interface-nt.patch\n+:attachement:trac_8360_semigroupe-interface-nt.patch\n \n Status: advanced proof of concept, with interactions in both directions (building a semigroup in Semigroupe from Sage data). Main show stopper: one can only manipulate one semigroup at a time.\n \n@@ -28,6 +28,7 @@\n ```\n \n \n+Update 2016-12-05: James Mitchel is reimplementing Semigroupe in C++, which will lift the main limitation (a single semigroup at a time):\n+https://james-d-mitchell.github.io/semigroupsplusplus/\n \n-\n-\n+This could be the occasion to revive this old interface.\n``````\n",
    "created_at": "2016-12-05T20:46:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8360#issuecomment-65778",
    "user": "https://github.com/nthiery"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,7 +5,7 @@
 An experimental spkg is now on trac, and the patch is up and unguarded
 on the Sage-Combinat patch server:
 
-http://combinat.sagemath.org/hgwebdir.cgi/patches/file/tip/trac_8360_semigroupe-interface-nt.patch
+:attachement:trac_8360_semigroupe-interface-nt.patch
 
 Status: advanced proof of concept, with interactions in both directions (building a semigroup in Semigroupe from Sage data). Main show stopper: one can only manipulate one semigroup at a time.
 
@@ -28,6 +28,7 @@
 ```
 
 
+Update 2016-12-05: James Mitchel is reimplementing Semigroupe in C++, which will lift the main limitation (a single semigroup at a time):
+https://james-d-mitchell.github.io/semigroupsplusplus/
 
-
-
+This could be the occasion to revive this old interface.
``````




---

archive/issue_comments_065779.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nAttachment: **[trac_8360_semigroupe-interface-nt.patch.gz](https://github.com/sagemath/sage/files/ticket8360/trac_8360_semigroupe-interface-nt.patch.gz)**",
    "created_at": "2016-12-05T20:46:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8360#issuecomment-65779",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:15" align="right">comment:15</div>

Attachment: **[trac_8360_semigroupe-interface-nt.patch.gz](https://github.com/sagemath/sage/files/ticket8360/trac_8360_semigroupe-interface-nt.patch.gz)**



---

archive/issue_comments_065780.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,7 +5,7 @@\n An experimental spkg is now on trac, and the patch is up and unguarded\n on the Sage-Combinat patch server:\n \n-:attachement:trac_8360_semigroupe-interface-nt.patch\n+:attachment:trac_8360_semigroupe-interface-nt.patch\n \n Status: advanced proof of concept, with interactions in both directions (building a semigroup in Semigroupe from Sage data). Main show stopper: one can only manipulate one semigroup at a time.\n \n@@ -31,4 +31,4 @@\n Update 2016-12-05: James Mitchel is reimplementing Semigroupe in C++, which will lift the main limitation (a single semigroup at a time):\n https://james-d-mitchell.github.io/semigroupsplusplus/\n \n-This could be the occasion to revive this old interface.\n+This could be the occasion to revive this old code.\n``````\n",
    "created_at": "2016-12-05T20:46:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8360#issuecomment-65780",
    "user": "https://github.com/nthiery"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,7 +5,7 @@
 An experimental spkg is now on trac, and the patch is up and unguarded
 on the Sage-Combinat patch server:
 
-:attachement:trac_8360_semigroupe-interface-nt.patch
+:attachment:trac_8360_semigroupe-interface-nt.patch
 
 Status: advanced proof of concept, with interactions in both directions (building a semigroup in Semigroupe from Sage data). Main show stopper: one can only manipulate one semigroup at a time.
 
@@ -31,4 +31,4 @@
 Update 2016-12-05: James Mitchel is reimplementing Semigroupe in C++, which will lift the main limitation (a single semigroup at a time):
 https://james-d-mitchell.github.io/semigroupsplusplus/
 
-This could be the occasion to revive this old interface.
+This could be the occasion to revive this old code.
``````




---

archive/issue_comments_065781.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,8 +2,7 @@\n \n http://www.liafa.jussieu.fr/~jep/semigroupes.html\n \n-An experimental spkg is now on trac, and the patch is up and unguarded\n-on the Sage-Combinat patch server:\n+An experimental spkg is now on trac; here is the patch taken from the old Sage-Combinat patch server:\n \n :attachment:trac_8360_semigroupe-interface-nt.patch\n \n``````\n",
    "created_at": "2016-12-05T20:47:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8360#issuecomment-65781",
    "user": "https://github.com/nthiery"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,8 +2,7 @@
 
 http://www.liafa.jussieu.fr/~jep/semigroupes.html
 
-An experimental spkg is now on trac, and the patch is up and unguarded
-on the Sage-Combinat patch server:
+An experimental spkg is now on trac; here is the patch taken from the old Sage-Combinat patch server:
 
 :attachment:trac_8360_semigroupe-interface-nt.patch
 
``````

