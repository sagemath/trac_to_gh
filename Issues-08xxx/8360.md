# Issue 8360: Add an interface to Jean-Eric Pin's Semigroupe package

archive/issues_008360.json:
```json
{
    "body": "Add an interface to Jean-Eric Pin's Semigroupe package\n\nhttp://www.liafa.jussieu.fr/~jep/semigroupes.html\n\nAn experimental spkg is now on trac; here is the patch taken from the old Sage-Combinat patch server:\n\n:attachment:trac_8360_semigroupe-interface-nt.patch\n\nStatus: advanced proof of concept, with interactions in both directions (building a semigroup in Semigroupe from Sage data). Main show stopper: one can only manipulate one semigroup at a time.\n\nThe following should hopefully get you started:\n\n```\n   sage -f http://trac.sagemath.org/sage_trac/raw-attachment/ticket/8360/semigroupe-2.0-2.spkg\n   sage -combinat update\n   sage -br\n\n   sage: semigroupe?\n   sage: semigroupe.tutorial?\n```\n\nBeware 'sage -f an_url' does not redownload the package if sage\nalready has a copy of it. So you may have to first do:\n\n```\n        rm <SAGE_ROOT>/spkg/optional/semigroupe-2.0.spkg\n```\n\n\nUpdate 2016-12-05: James Mitchel is reimplementing Semigroupe in C++, which will lift the main limitation (a single semigroup at a time):\nhttps://james-d-mitchell.github.io/semigroupsplusplus/\n\nThis could be the occasion to revive this old code.\n\nAssignee: @nthiery\n\nCC:  sage-combinat jean-eric.pin@liafa.jussieu.fr abmasse @tscrim\n\nKeywords: Semigroupes\n\nAuthor: Florent Hivert, Jean-Eric Pin, Nicolas M. Thi\u00e9ry\n\nStatus: needs_work\n\nIssue created by migration from https://trac.sagemath.org/ticket/8360\n\n",
    "created_at": "2010-02-25T09:00:20Z",
    "labels": [
        "component: algebra"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-feature",
    "title": "Add an interface to Jean-Eric Pin's Semigroupe package",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/8360",
    "user": "https://github.com/nthiery"
}
```
Add an interface to Jean-Eric Pin's Semigroupe package

http://www.liafa.jussieu.fr/~jep/semigroupes.html

An experimental spkg is now on trac; here is the patch taken from the old Sage-Combinat patch server:

:attachment:trac_8360_semigroupe-interface-nt.patch

Status: advanced proof of concept, with interactions in both directions (building a semigroup in Semigroupe from Sage data). Main show stopper: one can only manipulate one semigroup at a time.

The following should hopefully get you started:

```
   sage -f http://trac.sagemath.org/sage_trac/raw-attachment/ticket/8360/semigroupe-2.0-2.spkg
   sage -combinat update
   sage -br

   sage: semigroupe?
   sage: semigroupe.tutorial?
```

Beware 'sage -f an_url' does not redownload the package if sage
already has a copy of it. So you may have to first do:

```
        rm <SAGE_ROOT>/spkg/optional/semigroupe-2.0.spkg
```


Update 2016-12-05: James Mitchel is reimplementing Semigroupe in C++, which will lift the main limitation (a single semigroup at a time):
https://james-d-mitchell.github.io/semigroupsplusplus/

This could be the occasion to revive this old code.

Assignee: @nthiery

CC:  sage-combinat jean-eric.pin@liafa.jussieu.fr abmasse @tscrim

Keywords: Semigroupes

Author: Florent Hivert, Jean-Eric Pin, Nicolas M. Thiéry

Status: needs_work

Issue created by migration from https://trac.sagemath.org/ticket/8360





---

archive/issue_comments_077309.json:
```json
{
    "body": "<a id='comment:1'></a>Attachment [Semigroupe-2.0.spkg](tarball://root/attachments/some-uuid/ticket8360/Semigroupe-2.0.spkg) by @nthiery created at 2010-03-16 13:04:44",
    "created_at": "2010-03-16T13:04:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8360#issuecomment-77309",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:1'></a>Attachment [Semigroupe-2.0.spkg](tarball://root/attachments/some-uuid/ticket8360/Semigroupe-2.0.spkg) by @nthiery created at 2010-03-16 13:04:44



---

archive/issue_comments_077310.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,7 +2,11 @@\n \n http://www.liafa.jussieu.fr/~jep/semigroupes.html\n \n-Patch and spkg under development on the Sage-Combinat server.\n+Patch and spkg under development on the Sage-Combinat server:\n+\n+http://combinat.sagemath.org/hgwebdir.cgi/patches/file/tip/trac_8360_semigroupe-interface-nt.patch\n+\n+Status: more than a proof of concept, with interactions in both directions (building a semigroup in Semigroupe from Sage data). Main show stopper: one can only manipulate one semigroup at a time.\n \n Author: Florent Hivert, Jean-Eric Pin Nicolas M. Thi\u00e9ry\n \n``````\n",
    "created_at": "2010-03-16T13:04:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8360#issuecomment-77310",
    "user": "https://github.com/nthiery"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,7 +2,11 @@
 
 http://www.liafa.jussieu.fr/~jep/semigroupes.html
 
-Patch and spkg under development on the Sage-Combinat server.
+Patch and spkg under development on the Sage-Combinat server:
+
+http://combinat.sagemath.org/hgwebdir.cgi/patches/file/tip/trac_8360_semigroupe-interface-nt.patch
+
+Status: more than a proof of concept, with interactions in both directions (building a semigroup in Semigroupe from Sage data). Main show stopper: one can only manipulate one semigroup at a time.
 
 Author: Florent Hivert, Jean-Eric Pin Nicolas M. Thiéry
 
``````




---

archive/issue_comments_077311.json:
```json
{
    "body": "Changing status from new to needs_work.",
    "created_at": "2010-03-16T13:04:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8360#issuecomment-77311",
    "user": "https://github.com/nthiery"
}
```

Changing status from new to needs_work.



---

archive/issue_comments_077312.json:
```json
{
    "body": "Superceedes the previous spkg",
    "created_at": "2010-03-17T20:23:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8360#issuecomment-77312",
    "user": "https://github.com/nthiery"
}
```

Superceedes the previous spkg



---

archive/issue_comments_077313.json:
```json
{
    "body": "<a id='comment:2'></a>Attachment [semigroupe-2.0.spkg](tarball://root/attachments/some-uuid/ticket8360/semigroupe-2.0.spkg) by @nthiery created at 2010-03-17 20:26:28",
    "created_at": "2010-03-17T20:26:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8360#issuecomment-77313",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:2'></a>Attachment [semigroupe-2.0.spkg](tarball://root/attachments/some-uuid/ticket8360/semigroupe-2.0.spkg) by @nthiery created at 2010-03-17 20:26:28



---

archive/issue_comments_077314.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,24 @@\n+Add an interface to Jean-Eric Pin's Semigroupe package\n+\n+http://www.liafa.jussieu.fr/~jep/semigroupes.html\n+\n+An experimental spkg is now on trac, and the patch is up and unguarded\n+on the Sage-Combinat patch server:\n+\n+http://combinat.sagemath.org/hgwebdir.cgi/patches/file/tip/trac_8360_semigroupe-interface-nt.patch\n+\n+So the following should hopefully get you started:\n+\n+   sage -f http://trac.sagemath.org/sage_trac/raw-attachment/ticket/8360/semigroupe-2.0.spkg\n+   sage -combinat update\n+   sage -br\n+\n+   sage: semigroupe?\n+   sage: semigroupe.tutorial?\n+\n+Status: advanced proof of concept, with interactions in both directions (building a semigroup in Semigroupe from Sage data). Main show stopper: one can only manipulate one semigroup at a time.\n+\n+\n \n \n Author: Florent Hivert, Jean-Eric Pin Nicolas M. Thi\u00e9ry\n``````\n",
    "created_at": "2010-03-17T20:26:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8360#issuecomment-77314",
    "user": "https://github.com/nthiery"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,24 @@
+Add an interface to Jean-Eric Pin's Semigroupe package
+
+http://www.liafa.jussieu.fr/~jep/semigroupes.html
+
+An experimental spkg is now on trac, and the patch is up and unguarded
+on the Sage-Combinat patch server:
+
+http://combinat.sagemath.org/hgwebdir.cgi/patches/file/tip/trac_8360_semigroupe-interface-nt.patch
+
+So the following should hopefully get you started:
+
+   sage -f http://trac.sagemath.org/sage_trac/raw-attachment/ticket/8360/semigroupe-2.0.spkg
+   sage -combinat update
+   sage -br
+
+   sage: semigroupe?
+   sage: semigroupe.tutorial?
+
+Status: advanced proof of concept, with interactions in both directions (building a semigroup in Semigroupe from Sage data). Main show stopper: one can only manipulate one semigroup at a time.
+
+
 
 
 Author: Florent Hivert, Jean-Eric Pin Nicolas M. Thiéry
``````




---

archive/issue_comments_077315.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,26 @@\n+Add an interface to Jean-Eric Pin's Semigroupe package\n+\n+http://www.liafa.jussieu.fr/~jep/semigroupes.html\n+\n+An experimental spkg is now on trac, and the patch is up and unguarded\n+on the Sage-Combinat patch server:\n+\n+http://combinat.sagemath.org/hgwebdir.cgi/patches/file/tip/trac_8360_semigroupe-interface-nt.patch\n+\n+So the following should hopefully get you started:\n+\n+```\n+   sage -f http://trac.sagemath.org/sage_trac/raw-attachment/ticket/8360/semigroupe-2.0.spkg\n+   sage -combinat update\n+   sage -br\n+\n+   sage: semigroupe?\n+   sage: semigroupe.tutorial?\n+```\n+\n+Status: advanced proof of concept, with interactions in both directions (building a semigroup in Semigroupe from Sage data). Main show stopper: one can only manipulate one semigroup at a time.\n+\n+\n \n \n Author: Florent Hivert, Jean-Eric Pin Nicolas M. Thi\u00e9ry\n``````\n",
    "created_at": "2010-03-17T20:26:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8360#issuecomment-77315",
    "user": "https://github.com/nthiery"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,26 @@
+Add an interface to Jean-Eric Pin's Semigroupe package
+
+http://www.liafa.jussieu.fr/~jep/semigroupes.html
+
+An experimental spkg is now on trac, and the patch is up and unguarded
+on the Sage-Combinat patch server:
+
+http://combinat.sagemath.org/hgwebdir.cgi/patches/file/tip/trac_8360_semigroupe-interface-nt.patch
+
+So the following should hopefully get you started:
+
+```
+   sage -f http://trac.sagemath.org/sage_trac/raw-attachment/ticket/8360/semigroupe-2.0.spkg
+   sage -combinat update
+   sage -br
+
+   sage: semigroupe?
+   sage: semigroupe.tutorial?
+```
+
+Status: advanced proof of concept, with interactions in both directions (building a semigroup in Semigroupe from Sage data). Main show stopper: one can only manipulate one semigroup at a time.
+
+
 
 
 Author: Florent Hivert, Jean-Eric Pin Nicolas M. Thiéry
``````




---

archive/issue_comments_077316.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,35 @@\n+Add an interface to Jean-Eric Pin's Semigroupe package\n+\n+http://www.liafa.jussieu.fr/~jep/semigroupes.html\n+\n+An experimental spkg is now on trac, and the patch is up and unguarded\n+on the Sage-Combinat patch server:\n+\n+http://combinat.sagemath.org/hgwebdir.cgi/patches/file/tip/trac_8360_semigroupe-interface-nt.patch\n+\n+Status: advanced proof of concept, with interactions in both directions (building a semigroup in Semigroupe from Sage data). Main show stopper: one can only manipulate one semigroup at a time.\n+\n+The following should hopefully get you started:\n+\n+```\n+   sage -f http://trac.sagemath.org/sage_trac/raw-attachment/ticket/8360/semigroupe-2.0.spkg\n+   sage -combinat update\n+   sage -br\n+\n+   sage: semigroupe?\n+   sage: semigroupe.tutorial?\n+```\n+\n+Beware 'sage -f an_url' does not redownload the package if sage\n+already has a copy of it. So you may have to first do:\n+\n+```\n+        rm <SAGE_ROOT>/spkg/optional/semigroupe-2.0.spkg\n+```\n+\n+\n+\n+\n \n \n Author: Florent Hivert, Jean-Eric Pin Nicolas M. Thi\u00e9ry\n``````\n",
    "created_at": "2010-03-17T20:30:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8360#issuecomment-77316",
    "user": "https://github.com/nthiery"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,35 @@
+Add an interface to Jean-Eric Pin's Semigroupe package
+
+http://www.liafa.jussieu.fr/~jep/semigroupes.html
+
+An experimental spkg is now on trac, and the patch is up and unguarded
+on the Sage-Combinat patch server:
+
+http://combinat.sagemath.org/hgwebdir.cgi/patches/file/tip/trac_8360_semigroupe-interface-nt.patch
+
+Status: advanced proof of concept, with interactions in both directions (building a semigroup in Semigroupe from Sage data). Main show stopper: one can only manipulate one semigroup at a time.
+
+The following should hopefully get you started:
+
+```
+   sage -f http://trac.sagemath.org/sage_trac/raw-attachment/ticket/8360/semigroupe-2.0.spkg
+   sage -combinat update
+   sage -br
+
+   sage: semigroupe?
+   sage: semigroupe.tutorial?
+```
+
+Beware 'sage -f an_url' does not redownload the package if sage
+already has a copy of it. So you may have to first do:
+
+```
+        rm <SAGE_ROOT>/spkg/optional/semigroupe-2.0.spkg
+```
+
+
+
+
 
 
 Author: Florent Hivert, Jean-Eric Pin Nicolas M. Thiéry
``````




---

archive/issue_comments_077317.json:
```json
{
    "body": "<a id='comment:5'></a>There seems to be a problem on a 64bit machine. After installing the spkg, the following commands will cause Sage to segfault:\n\n```\nsage: W = CoxeterGroup([\"H\",4])\nsage: S = semigroupe.AutomaticSemigroup(W.semigroup_generators(), W.one(), category = FiniteCoxeterGroups())\nsage: S.cardinality()\n------------------------------------------------------------\nUnhandled SIGSEGV: A segmentation fault occured in Sage.\n...\n```\n\nThe problem seems to be with compiling Semigroupe on a 64bit machine. After installing the package, the following segfaults:\n\n```\nkarkwa: cd $SAGE_ROOT/local/bin\nkarkwa: Semigroupe\nkarkwa: ./Semigroupe\nSegmentation fault\nkarkwa: ./SelfContainedTest \nToto\na | 2  3  1 \nb | 2  1  3 \nc | 1  2  1 \n\nSegmentation fault\nkarkwa: ./SemigroupeModuleTest \n\na | 2  1 \nb | 1  1 \n\nSegmentation fault \n```\nI think that the two test suites (I think they are test suites...) should be run by the `spkg-check` script.",
    "created_at": "2010-05-11T20:43:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8360#issuecomment-77317",
    "user": "https://github.com/saliola"
}
```

<a id='comment:5'></a>There seems to be a problem on a 64bit machine. After installing the spkg, the following commands will cause Sage to segfault:

```
sage: W = CoxeterGroup(["H",4])
sage: S = semigroupe.AutomaticSemigroup(W.semigroup_generators(), W.one(), category = FiniteCoxeterGroups())
sage: S.cardinality()
------------------------------------------------------------
Unhandled SIGSEGV: A segmentation fault occured in Sage.
...
```

The problem seems to be with compiling Semigroupe on a 64bit machine. After installing the package, the following segfaults:

```
karkwa: cd $SAGE_ROOT/local/bin
karkwa: Semigroupe
karkwa: ./Semigroupe
Segmentation fault
karkwa: ./SelfContainedTest 
Toto
a | 2  3  1 
b | 2  1  3 
c | 1  2  1 

Segmentation fault
karkwa: ./SemigroupeModuleTest 

a | 2  1 
b | 1  1 

Segmentation fault 
```
I think that the two test suites (I think they are test suites...) should be run by the `spkg-check` script.



---

archive/issue_comments_077318.json:
```json
{
    "body": "<a id='comment:6'></a>On a 32-bit machine, I obtain the following error:\n\nsage: S = semigroupe.AutomaticSemigroup(W.semigroup_generators(), W.one(), category = FiniteCoxeterGroups())\nsage: S.cardinality()\npython(24860) malloc: *** vm_allocate(size=262144) failed (error code=3)\npython(24860) malloc: *** error: can't allocate region\npython(24860) malloc: *** set a breakpoint in szone_error to debug\nmemory allocation failed\nmemory usage :\n\nsize : 2^       used/allocated \n  0              310/312       \n  1               21/22        \n  2              109/109       \n  3               73/73        \n  4               49/50        \n  5                5/6         \n  6                9/9         \n  7                3/3         \n  8                1/1         \n  9                1/1         \n 10                1/2         \n 11                0/1         \n 12                0/0         \n 13                0/1         \n 14                1/1         \n 15            25959/25959     \n 16                0/0         \n 17                0/0         \n 18                0/0         \n 19                0/0         \n 20                0/0         \n 21                0/0         \n 22                0/0         \n 23                0/0         \n 24                0/0         \n 25                0/0         \n 26                0/0         \n 27                0/0         \n 28                0/0         \n 29                0/0         \n 30                0/0         \n 31                0/0         \n\ntotal :  850645964/850657280  4-byte units used/allocated\n.../Applications/sage-4.4/devel/sage-combinat/sage/combinat/crystals$ \n\nAnne",
    "created_at": "2010-05-12T02:43:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8360#issuecomment-77318",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:6'></a>On a 32-bit machine, I obtain the following error:

sage: S = semigroupe.AutomaticSemigroup(W.semigroup_generators(), W.one(), category = FiniteCoxeterGroups())
sage: S.cardinality()
python(24860) malloc: *** vm_allocate(size=262144) failed (error code=3)
python(24860) malloc: *** error: can't allocate region
python(24860) malloc: *** set a breakpoint in szone_error to debug
memory allocation failed
memory usage :

size : 2^       used/allocated 
  0              310/312       
  1               21/22        
  2              109/109       
  3               73/73        
  4               49/50        
  5                5/6         
  6                9/9         
  7                3/3         
  8                1/1         
  9                1/1         
 10                1/2         
 11                0/1         
 12                0/0         
 13                0/1         
 14                1/1         
 15            25959/25959     
 16                0/0         
 17                0/0         
 18                0/0         
 19                0/0         
 20                0/0         
 21                0/0         
 22                0/0         
 23                0/0         
 24                0/0         
 25                0/0         
 26                0/0         
 27                0/0         
 28                0/0         
 29                0/0         
 30                0/0         
 31                0/0         

total :  850645964/850657280  4-byte units used/allocated
.../Applications/sage-4.4/devel/sage-combinat/sage/combinat/crystals$ 

Anne



---

archive/issue_comments_077319.json:
```json
{
    "body": "<a id='comment:7'></a>In case this helps track down the issue: things seem to be working correctly in a 32bit virtual machine. I created a 32bit VirtualBox virtual machine, installed Ubuntu 10.04, then I installed the sage-4.4.1 binary, the gap3 spkg from #8906, and the semigroupe spkg here.",
    "created_at": "2010-05-13T16:46:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8360#issuecomment-77319",
    "user": "https://github.com/saliola"
}
```

<a id='comment:7'></a>In case this helps track down the issue: things seem to be working correctly in a 32bit virtual machine. I created a 32bit VirtualBox virtual machine, installed Ubuntu 10.04, then I installed the sage-4.4.1 binary, the gap3 spkg from #8906, and the semigroupe spkg here.



---

archive/issue_comments_077320.json:
```json
{
    "body": "<a id='comment:8'></a>> I think that the two test suites (I think they are test suites...) should be run by the `spkg-check` script.\n\n\nThose are little self contained test programs we had written with Florent to understand how semigroupe was working. Yes, they eventually should be turned into test suites, and run from `spkg-check`.",
    "created_at": "2010-05-26T19:20:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8360#issuecomment-77320",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:8'></a>> I think that the two test suites (I think they are test suites...) should be run by the `spkg-check` script.


Those are little self contained test programs we had written with Florent to understand how semigroupe was working. Yes, they eventually should be turned into test suites, and run from `spkg-check`.



---

archive/issue_comments_077321.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,35 @@\n+Add an interface to Jean-Eric Pin's Semigroupe package\n+\n+http://www.liafa.jussieu.fr/~jep/semigroupes.html\n+\n+An experimental spkg is now on trac, and the patch is up and unguarded\n+on the Sage-Combinat patch server:\n+\n+http://combinat.sagemath.org/hgwebdir.cgi/patches/file/tip/trac_8360_semigroupe-interface-nt.patch\n+\n+Status: advanced proof of concept, with interactions in both directions (building a semigroup in Semigroupe from Sage data). Main show stopper: one can only manipulate one semigroup at a time.\n+\n+The following should hopefully get you started:\n+\n+```\n+   sage -f http://trac.sagemath.org/sage_trac/raw-attachment/ticket/8360/semigroupe-2.0-2.spkg\n+   sage -combinat update\n+   sage -br\n+\n+   sage: semigroupe?\n+   sage: semigroupe.tutorial?\n+```\n+\n+Beware 'sage -f an_url' does not redownload the package if sage\n+already has a copy of it. So you may have to first do:\n+\n+```\n+        rm <SAGE_ROOT>/spkg/optional/semigroupe-2.0.spkg\n+```\n+\n+\n+\n+\n \n \n Author: Florent Hivert, Jean-Eric Pin Nicolas M. Thi\u00e9ry\n``````\n",
    "created_at": "2010-05-26T19:24:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8360#issuecomment-77321",
    "user": "https://github.com/nthiery"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,35 @@
+Add an interface to Jean-Eric Pin's Semigroupe package
+
+http://www.liafa.jussieu.fr/~jep/semigroupes.html
+
+An experimental spkg is now on trac, and the patch is up and unguarded
+on the Sage-Combinat patch server:
+
+http://combinat.sagemath.org/hgwebdir.cgi/patches/file/tip/trac_8360_semigroupe-interface-nt.patch
+
+Status: advanced proof of concept, with interactions in both directions (building a semigroup in Semigroupe from Sage data). Main show stopper: one can only manipulate one semigroup at a time.
+
+The following should hopefully get you started:
+
+```
+   sage -f http://trac.sagemath.org/sage_trac/raw-attachment/ticket/8360/semigroupe-2.0-2.spkg
+   sage -combinat update
+   sage -br
+
+   sage: semigroupe?
+   sage: semigroupe.tutorial?
+```
+
+Beware 'sage -f an_url' does not redownload the package if sage
+already has a copy of it. So you may have to first do:
+
+```
+        rm <SAGE_ROOT>/spkg/optional/semigroupe-2.0.spkg
+```
+
+
+
+
 
 
 Author: Florent Hivert, Jean-Eric Pin Nicolas M. Thiéry
``````




---

archive/issue_comments_077322.json:
```json
{
    "body": "Attachment [semigroupe-2.0-2.spkg](tarball://root/attachments/some-uuid/ticket8360/semigroupe-2.0-2.spkg) by @nthiery created at 2011-03-02 11:53:17\n\nSame as previous one, working on both 32bits and 64bits, but managing the patches on the semigroupe sources in a mercurial queue",
    "created_at": "2011-03-02T11:53:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8360#issuecomment-77322",
    "user": "https://github.com/nthiery"
}
```

Attachment [semigroupe-2.0-2.spkg](tarball://root/attachments/some-uuid/ticket8360/semigroupe-2.0-2.spkg) by @nthiery created at 2011-03-02 11:53:17

Same as previous one, working on both 32bits and 64bits, but managing the patches on the semigroupe sources in a mercurial queue



---

archive/issue_comments_077323.json:
```json
{
    "body": "<a id='comment:11'></a>Note that semigroupe is now part of the experimental packages:\n\nhttp://www.sagemath.org/packages/experimental/\n\nOne can install it with the usual `sage -i semigroupe-2.0-2.spkg`.\n\nnext step is to make the code in sage-combinat go into sage...",
    "created_at": "2014-02-06T12:51:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8360#issuecomment-77323",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:11'></a>Note that semigroupe is now part of the experimental packages:

http://www.sagemath.org/packages/experimental/

One can install it with the usual `sage -i semigroupe-2.0-2.spkg`.

next step is to make the code in sage-combinat go into sage...



---

archive/issue_comments_077324.json:
```json
{
    "body": "<a id='comment:12'></a>Great, thanks S\u00e9bastien for taking care of this!\n\nThe next step is actually just to make a branch out of the patch. I am not sure about actually getting this branch into Sage until Semigroupe will be fixed one way or the other to support several semigroups simultaneously.\n\nCheers,\n                                Nicolas",
    "created_at": "2014-02-06T13:00:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8360#issuecomment-77324",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:12'></a>Great, thanks Sébastien for taking care of this!

The next step is actually just to make a branch out of the patch. I am not sure about actually getting this branch into Sage until Semigroupe will be fixed one way or the other to support several semigroups simultaneously.

Cheers,
                                Nicolas



---

archive/issue_comments_077325.json:
```json
{
    "body": "<a id='comment:13'></a>Replying to [comment:12 nthiery]:\n> Great, thanks S\u00e9bastien for taking care of this!\n> \n> The next step is actually just to make a branch out of the patch.\n\n\nyou mean a git branch?\n\nwhich patch? is it finite_semigroup-nt.patch ?\n\nI don't see how this patch uses semigroupe.\n\n> I am not sure about actually getting this branch into Sage until \n> Semigroupe will be fixed one way or the other to support several \n> semigroups simultaneously.\n\n\nI think I don't agree. I think the goal of the actual ticket #8360 is to make the actual semigroup into sage as it is. semigroupe was written for something no? Let's first make this available!\n\nThen I suggest to open a ticket showing with sage command line code illustrating how the bug for creating two semigroup simultaneously is obtained. The new ticket would ask for an upstream fix.\n\nS\u00e9bastien",
    "created_at": "2014-02-06T13:42:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8360#issuecomment-77325",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:13'></a>Replying to [comment:12 nthiery]:
> Great, thanks Sébastien for taking care of this!
> 
> The next step is actually just to make a branch out of the patch.


you mean a git branch?

which patch? is it finite_semigroup-nt.patch ?

I don't see how this patch uses semigroupe.

> I am not sure about actually getting this branch into Sage until 
> Semigroupe will be fixed one way or the other to support several 
> semigroups simultaneously.


I think I don't agree. I think the goal of the actual ticket #8360 is to make the actual semigroup into sage as it is. semigroupe was written for something no? Let's first make this available!

Then I suggest to open a ticket showing with sage command line code illustrating how the bug for creating two semigroup simultaneously is obtained. The new ticket would ask for an upstream fix.

Sébastien



---

archive/issue_comments_077326.json:
```json
{
    "body": "<a id='comment:14'></a>Replying to [comment:13 slabbe]:\n> Replying to [comment:12 nthiery]:\n> > The next step is actually just to make a branch out of the patch.\n\n> you mean a git branch?\n\nYup.\n\n> which patch? is it finite_semigroup-nt.patch ?\n> I don't see how this patch uses semigroupe.\n\n\ntrac_8360_semigroupe-interface-nt.patch\n\n> > I am not sure about actually getting this branch into Sage until \n> > Semigroupe will be fixed one way or the other to support several \n> > semigroups simultaneously.\n\n> I think I don't agree. I think the goal of the actual ticket #8360\n> is to make the actual semigroup into sage as it is. semigroupe was\n> written for something no? Let's first make this available!\n\n\nIndeed, the interface was written for something. But in practice, even\nif I spent quite some time on it, I am actually seldom using it\nbecause that misfeature is making it relatively unusable (at least in\nmy use-cases).\n\n> Then I suggest to open a ticket showing with sage command line code\n> illustrating how the bug for creating two semigroup simultaneously\n> is obtained. The new ticket would ask for an upstream fix.\n\n\nThat's an option. If you are convinced that:\n\n- At some point not to far in the future the bug will be fixed upstream (upstream meaning possibly us taking the time to do the fix).\n\n- The current code won't need serious interface change then.\n\nThen let's go ahead. I'd love to have this code always under my fingertips. Otherwise I am a bit reluctant to put in Sage some code that we might need to remove (because unused) or change a\nlot later on.\n\nAt the end of the day, this would actually be best handled by putting\nthe interface code in the spkg and not in the Sage library. I haven't\nchecked how hard/easy it would be to handle.\n\nCheers,\n                            Nicolas",
    "created_at": "2014-02-06T14:04:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8360#issuecomment-77326",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:14'></a>Replying to [comment:13 slabbe]:
> Replying to [comment:12 nthiery]:
> > The next step is actually just to make a branch out of the patch.

> you mean a git branch?

Yup.

> which patch? is it finite_semigroup-nt.patch ?
> I don't see how this patch uses semigroupe.


trac_8360_semigroupe-interface-nt.patch

> > I am not sure about actually getting this branch into Sage until 
> > Semigroupe will be fixed one way or the other to support several 
> > semigroups simultaneously.

> I think I don't agree. I think the goal of the actual ticket #8360
> is to make the actual semigroup into sage as it is. semigroupe was
> written for something no? Let's first make this available!


Indeed, the interface was written for something. But in practice, even
if I spent quite some time on it, I am actually seldom using it
because that misfeature is making it relatively unusable (at least in
my use-cases).

> Then I suggest to open a ticket showing with sage command line code
> illustrating how the bug for creating two semigroup simultaneously
> is obtained. The new ticket would ask for an upstream fix.


That's an option. If you are convinced that:

- At some point not to far in the future the bug will be fixed upstream (upstream meaning possibly us taking the time to do the fix).

- The current code won't need serious interface change then.

Then let's go ahead. I'd love to have this code always under my fingertips. Otherwise I am a bit reluctant to put in Sage some code that we might need to remove (because unused) or change a
lot later on.

At the end of the day, this would actually be best handled by putting
the interface code in the spkg and not in the Sage library. I haven't
checked how hard/easy it would be to handle.

Cheers,
                            Nicolas



---

archive/issue_comments_077327.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,37 @@\n+Add an interface to Jean-Eric Pin's Semigroupe package\n \n+http://www.liafa.jussieu.fr/~jep/semigroupes.html\n+\n+An experimental spkg is now on trac, and the patch is up and unguarded\n+on the Sage-Combinat patch server:\n+\n+:attachement:trac_8360_semigroupe-interface-nt.patch\n+\n+Status: advanced proof of concept, with interactions in both directions (building a semigroup in Semigroupe from Sage data). Main show stopper: one can only manipulate one semigroup at a time.\n+\n+The following should hopefully get you started:\n+\n+```\n+   sage -f http://trac.sagemath.org/sage_trac/raw-attachment/ticket/8360/semigroupe-2.0-2.spkg\n+   sage -combinat update\n+   sage -br\n+\n+   sage: semigroupe?\n+   sage: semigroupe.tutorial?\n+```\n+\n+Beware 'sage -f an_url' does not redownload the package if sage\n+already has a copy of it. So you may have to first do:\n+\n+```\n+        rm <SAGE_ROOT>/spkg/optional/semigroupe-2.0.spkg\n+```\n+\n+\n+Update 2016-12-05: James Mitchel is reimplementing Semigroupe in C++, which will lift the main limitation (a single semigroup at a time):\n+https://james-d-mitchell.github.io/semigroupsplusplus/\n+\n+This could be the occasion to revive this old interface.\n \n Author: Florent Hivert, Jean-Eric Pin Nicolas M. Thi\u00e9ry\n \n``````\n",
    "created_at": "2016-12-05T20:46:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8360#issuecomment-77327",
    "user": "https://github.com/nthiery"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,37 @@
+Add an interface to Jean-Eric Pin's Semigroupe package
 
+http://www.liafa.jussieu.fr/~jep/semigroupes.html
+
+An experimental spkg is now on trac, and the patch is up and unguarded
+on the Sage-Combinat patch server:
+
+:attachement:trac_8360_semigroupe-interface-nt.patch
+
+Status: advanced proof of concept, with interactions in both directions (building a semigroup in Semigroupe from Sage data). Main show stopper: one can only manipulate one semigroup at a time.
+
+The following should hopefully get you started:
+
+```
+   sage -f http://trac.sagemath.org/sage_trac/raw-attachment/ticket/8360/semigroupe-2.0-2.spkg
+   sage -combinat update
+   sage -br
+
+   sage: semigroupe?
+   sage: semigroupe.tutorial?
+```
+
+Beware 'sage -f an_url' does not redownload the package if sage
+already has a copy of it. So you may have to first do:
+
+```
+        rm <SAGE_ROOT>/spkg/optional/semigroupe-2.0.spkg
+```
+
+
+Update 2016-12-05: James Mitchel is reimplementing Semigroupe in C++, which will lift the main limitation (a single semigroup at a time):
+https://james-d-mitchell.github.io/semigroupsplusplus/
+
+This could be the occasion to revive this old interface.
 
 Author: Florent Hivert, Jean-Eric Pin Nicolas M. Thiéry
 
``````




---

archive/issue_comments_077328.json:
```json
{
    "body": "<a id='comment:15'></a>Attachment [trac_8360_semigroupe-interface-nt.patch](tarball://root/attachments/some-uuid/ticket8360/trac_8360_semigroupe-interface-nt.patch) by @nthiery created at 2016-12-05 20:46:03",
    "created_at": "2016-12-05T20:46:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8360#issuecomment-77328",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:15'></a>Attachment [trac_8360_semigroupe-interface-nt.patch](tarball://root/attachments/some-uuid/ticket8360/trac_8360_semigroupe-interface-nt.patch) by @nthiery created at 2016-12-05 20:46:03



---

archive/issue_comments_077329.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,37 @@\n+Add an interface to Jean-Eric Pin's Semigroupe package\n \n+http://www.liafa.jussieu.fr/~jep/semigroupes.html\n+\n+An experimental spkg is now on trac, and the patch is up and unguarded\n+on the Sage-Combinat patch server:\n+\n+:attachment:trac_8360_semigroupe-interface-nt.patch\n+\n+Status: advanced proof of concept, with interactions in both directions (building a semigroup in Semigroupe from Sage data). Main show stopper: one can only manipulate one semigroup at a time.\n+\n+The following should hopefully get you started:\n+\n+```\n+   sage -f http://trac.sagemath.org/sage_trac/raw-attachment/ticket/8360/semigroupe-2.0-2.spkg\n+   sage -combinat update\n+   sage -br\n+\n+   sage: semigroupe?\n+   sage: semigroupe.tutorial?\n+```\n+\n+Beware 'sage -f an_url' does not redownload the package if sage\n+already has a copy of it. So you may have to first do:\n+\n+```\n+        rm <SAGE_ROOT>/spkg/optional/semigroupe-2.0.spkg\n+```\n+\n+\n+Update 2016-12-05: James Mitchel is reimplementing Semigroupe in C++, which will lift the main limitation (a single semigroup at a time):\n+https://james-d-mitchell.github.io/semigroupsplusplus/\n+\n+This could be the occasion to revive this old code.\n \n Author: Florent Hivert, Jean-Eric Pin Nicolas M. Thi\u00e9ry\n \n``````\n",
    "created_at": "2016-12-05T20:46:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8360#issuecomment-77329",
    "user": "https://github.com/nthiery"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,37 @@
+Add an interface to Jean-Eric Pin's Semigroupe package
 
+http://www.liafa.jussieu.fr/~jep/semigroupes.html
+
+An experimental spkg is now on trac, and the patch is up and unguarded
+on the Sage-Combinat patch server:
+
+:attachment:trac_8360_semigroupe-interface-nt.patch
+
+Status: advanced proof of concept, with interactions in both directions (building a semigroup in Semigroupe from Sage data). Main show stopper: one can only manipulate one semigroup at a time.
+
+The following should hopefully get you started:
+
+```
+   sage -f http://trac.sagemath.org/sage_trac/raw-attachment/ticket/8360/semigroupe-2.0-2.spkg
+   sage -combinat update
+   sage -br
+
+   sage: semigroupe?
+   sage: semigroupe.tutorial?
+```
+
+Beware 'sage -f an_url' does not redownload the package if sage
+already has a copy of it. So you may have to first do:
+
+```
+        rm <SAGE_ROOT>/spkg/optional/semigroupe-2.0.spkg
+```
+
+
+Update 2016-12-05: James Mitchel is reimplementing Semigroupe in C++, which will lift the main limitation (a single semigroup at a time):
+https://james-d-mitchell.github.io/semigroupsplusplus/
+
+This could be the occasion to revive this old code.
 
 Author: Florent Hivert, Jean-Eric Pin Nicolas M. Thiéry
 
``````




---

archive/issue_comments_077330.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,36 @@\n+Add an interface to Jean-Eric Pin's Semigroupe package\n \n+http://www.liafa.jussieu.fr/~jep/semigroupes.html\n+\n+An experimental spkg is now on trac; here is the patch taken from the old Sage-Combinat patch server:\n+\n+:attachment:trac_8360_semigroupe-interface-nt.patch\n+\n+Status: advanced proof of concept, with interactions in both directions (building a semigroup in Semigroupe from Sage data). Main show stopper: one can only manipulate one semigroup at a time.\n+\n+The following should hopefully get you started:\n+\n+```\n+   sage -f http://trac.sagemath.org/sage_trac/raw-attachment/ticket/8360/semigroupe-2.0-2.spkg\n+   sage -combinat update\n+   sage -br\n+\n+   sage: semigroupe?\n+   sage: semigroupe.tutorial?\n+```\n+\n+Beware 'sage -f an_url' does not redownload the package if sage\n+already has a copy of it. So you may have to first do:\n+\n+```\n+        rm <SAGE_ROOT>/spkg/optional/semigroupe-2.0.spkg\n+```\n+\n+\n+Update 2016-12-05: James Mitchel is reimplementing Semigroupe in C++, which will lift the main limitation (a single semigroup at a time):\n+https://james-d-mitchell.github.io/semigroupsplusplus/\n+\n+This could be the occasion to revive this old code.\n \n Author: Florent Hivert, Jean-Eric Pin Nicolas M. Thi\u00e9ry\n \n``````\n",
    "created_at": "2016-12-05T20:47:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8360#issuecomment-77330",
    "user": "https://github.com/nthiery"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,36 @@
+Add an interface to Jean-Eric Pin's Semigroupe package
 
+http://www.liafa.jussieu.fr/~jep/semigroupes.html
+
+An experimental spkg is now on trac; here is the patch taken from the old Sage-Combinat patch server:
+
+:attachment:trac_8360_semigroupe-interface-nt.patch
+
+Status: advanced proof of concept, with interactions in both directions (building a semigroup in Semigroupe from Sage data). Main show stopper: one can only manipulate one semigroup at a time.
+
+The following should hopefully get you started:
+
+```
+   sage -f http://trac.sagemath.org/sage_trac/raw-attachment/ticket/8360/semigroupe-2.0-2.spkg
+   sage -combinat update
+   sage -br
+
+   sage: semigroupe?
+   sage: semigroupe.tutorial?
+```
+
+Beware 'sage -f an_url' does not redownload the package if sage
+already has a copy of it. So you may have to first do:
+
+```
+        rm <SAGE_ROOT>/spkg/optional/semigroupe-2.0.spkg
+```
+
+
+Update 2016-12-05: James Mitchel is reimplementing Semigroupe in C++, which will lift the main limitation (a single semigroup at a time):
+https://james-d-mitchell.github.io/semigroupsplusplus/
+
+This could be the occasion to revive this old code.
 
 Author: Florent Hivert, Jean-Eric Pin Nicolas M. Thiéry
 
``````

