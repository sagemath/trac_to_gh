# Issue 8632: .save ignores ymin etc.

archive/issues_008632.json:
```json
{
    "body": "a sage (4.3.3) notebook shows the correct picture of\n\n```\nplot(x^2-5,(x,0,5),ymin=0)\n```\n\n\nThe save method ignores the ymin parameter:\n\n```\nplot(x^2-5,(x,0,5),ymin=0).save(\"/tmp/test.png\")\n```\n\n**Dependency**: #7981\n\nAssignee: @williamstein\n\nCC:  @kcrisman\n\nResolution: fixed\n\nAuthor: Andrey Novoseltsev\n\nReviewer: Karl-Dieter Crisman\n\nMerged: sage-4.6.2.alpha2\n\nIssue created by migration from https://trac.sagemath.org/ticket/8632\n\n",
    "closed_at": "2011-01-25T08:14:11Z",
    "created_at": "2010-03-30T17:12:08Z",
    "labels": [
        "component: graphics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.6.2",
    "title": ".save ignores ymin etc.",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/8632",
    "user": "https://trac.sagemath.org/admin/accounts/users/damm"
}
```
a sage (4.3.3) notebook shows the correct picture of

```
plot(x^2-5,(x,0,5),ymin=0)
```


The save method ignores the ymin parameter:

```
plot(x^2-5,(x,0,5),ymin=0).save("/tmp/test.png")
```

**Dependency**: #7981

Assignee: @williamstein

CC:  @kcrisman

Resolution: fixed

Author: Andrey Novoseltsev

Reviewer: Karl-Dieter Crisman

Merged: sage-4.6.2.alpha2

Issue created by migration from https://trac.sagemath.org/ticket/8632





---

archive/issue_comments_092384.json:
```json
{
    "body": "<a id='comment:1'></a>See also #7981.",
    "created_at": "2010-11-19T03:55:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-92384",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:1'></a>See also #7981.



---

archive/issue_comments_092385.json:
```json
{
    "body": "<a id='comment:2'></a>With the current patch at #7981 this problem is gone. The graph goes a bit below ymin=0, but it happens in both cases in the same way, so save does not ignore the parameter anymore.",
    "created_at": "2011-01-13T05:47:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-92385",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:2'></a>With the current patch at #7981 this problem is gone. The graph goes a bit below ymin=0, but it happens in both cases in the same way, so save does not ignore the parameter anymore.



---

archive/issue_comments_092386.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2011-01-13T05:47:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-92386",
    "user": "https://github.com/novoselt"
}
```

Changing status from new to needs_review.



---

archive/issue_events_020899.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2011-01-13T05:47:30Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "milestone": "sage-4.6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/8632#event-20899"
}
```



---

archive/issue_comments_092387.json:
```json
{
    "body": "<a id='comment:3'></a>Easy review with #7981 applied ;-)",
    "created_at": "2011-01-13T05:52:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-92387",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:3'></a>Easy review with #7981 applied ;-)



---

archive/issue_comments_092388.json:
```json
{
    "body": "Changing work_issues from \"\" to \"needs patch\"",
    "created_at": "2011-01-13T15:00:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-92388",
    "user": "https://github.com/kcrisman"
}
```

Changing work_issues from "" to "needs patch"



---

archive/issue_comments_092389.json:
```json
{
    "body": "Changing author from \"\" to \"Andrey Novoseltsev\"",
    "created_at": "2011-01-13T15:00:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-92389",
    "user": "https://github.com/kcrisman"
}
```

Changing author from "" to "Andrey Novoseltsev"



---

archive/issue_comments_092390.json:
```json
{
    "body": "<a id='comment:4'></a>Except we need a patch :-)  It could go in the TESTS section; it would need to use the usual temp directory for Sage.",
    "created_at": "2011-01-13T15:00:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-92390",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:4'></a>Except we need a patch :-)  It could go in the TESTS section; it would need to use the usual temp directory for Sage.



---

archive/issue_comments_092391.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Karl-Dieter Crisman\"",
    "created_at": "2011-01-13T15:00:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-92391",
    "user": "https://github.com/kcrisman"
}
```

Changing reviewer from "" to "Karl-Dieter Crisman"



---

archive/issue_comments_092392.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2011-01-13T15:00:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-92392",
    "user": "https://github.com/kcrisman"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_092393.json:
```json
{
    "body": "<a id='comment:5'></a>Could you please remind me what is the usual temp directory for Sage?\n\nAlso, what exactly should the test do? How do I verify that images from `show` and `save` are the same? It seems like a waste of time on tests if it is only checked that these commands don't raise an exception - they were working before as well, just not as they should.",
    "created_at": "2011-01-13T16:36:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-92393",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:5'></a>Could you please remind me what is the usual temp directory for Sage?

Also, what exactly should the test do? How do I verify that images from `show` and `save` are the same? It seems like a waste of time on tests if it is only checked that these commands don't raise an exception - they were working before as well, just not as they should.



---

archive/issue_comments_092394.json:
```json
{
    "body": "<a id='comment:6'></a>Replying to [comment:5 novoselt]:\n> Could you please remind me what is the usual temp directory for Sage?\n\nSee line 1732 of your patch for #7981 ;-)  - `kwds.setdefault('filename', sage.misc.misc.tmp_filename() + '.png') `\n> Also, what exactly should the test do? How do I verify that images from `show` and `save` are the same? It seems like a waste of time on tests if it is only checked that these commands don't raise an exception - they were working before as well, just not as they should.\n\nSadly, we can't do that yet.  (Matplotlib apparently does do this with Nose, but we don't have the capability yet.)   Partly this could be useful for the future day when we CAN check things like this...\n\nBut for now the point is that at least someone can visually verify that there is a different min than $y=-5$ if they care to look.  We want to document that we have done something about the particular one. \n\nAlternately, you could try to ask a release manager to close this as a duplicate of #7981.  Personally, I think it would be worth adding an example to the save documentation that one can choose to either put the commands in `.save(foo=bar)` or to pass it one from `plot(f,foo=bar)`; that could be useful for a complete newbie to the code to see, so that they don't have to follow code around.",
    "created_at": "2011-01-13T17:05:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-92394",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:6'></a>Replying to [comment:5 novoselt]:
> Could you please remind me what is the usual temp directory for Sage?

See line 1732 of your patch for #7981 ;-)  - `kwds.setdefault('filename', sage.misc.misc.tmp_filename() + '.png') `
> Also, what exactly should the test do? How do I verify that images from `show` and `save` are the same? It seems like a waste of time on tests if it is only checked that these commands don't raise an exception - they were working before as well, just not as they should.

Sadly, we can't do that yet.  (Matplotlib apparently does do this with Nose, but we don't have the capability yet.)   Partly this could be useful for the future day when we CAN check things like this...

But for now the point is that at least someone can visually verify that there is a different min than $y=-5$ if they care to look.  We want to document that we have done something about the particular one. 

Alternately, you could try to ask a release manager to close this as a duplicate of #7981.  Personally, I think it would be worth adding an example to the save documentation that one can choose to either put the commands in `.save(foo=bar)` or to pass it one from `plot(f,foo=bar)`; that could be useful for a complete newbie to the code to see, so that they don't have to follow code around.



---

archive/issue_comments_092395.json:
```json
{
    "body": "Attachment [trac_8632_save_ignores_options_from_plot.patch](tarball://root/attachments/some-uuid/ticket8632/trac_8632_save_ignores_options_from_plot.patch) by @novoselt created at 2011-01-13 17:39:10",
    "created_at": "2011-01-13T17:39:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-92395",
    "user": "https://github.com/novoselt"
}
```

Attachment [trac_8632_save_ignores_options_from_plot.patch](tarball://root/attachments/some-uuid/ticket8632/trac_8632_save_ignores_options_from_plot.patch) by @novoselt created at 2011-01-13 17:39:10



---

archive/issue_comments_092396.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2011-01-13T17:40:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-92396",
    "user": "https://github.com/novoselt"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_092397.json:
```json
{
    "body": "<a id='comment:7'></a>Thank you! How about this patch?",
    "created_at": "2011-01-13T17:40:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-92397",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:7'></a>Thank you! How about this patch?



---

archive/issue_comments_092398.json:
```json
{
    "body": "<a id='comment:8'></a>I assume the patch depends on #7981, correct?",
    "created_at": "2011-01-13T17:59:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-92398",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:8'></a>I assume the patch depends on #7981, correct?



---

archive/issue_comments_092399.json:
```json
{
    "body": "Changing work_issues from \"needs patch\" to \"\"",
    "created_at": "2011-01-13T17:59:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-92399",
    "user": "https://github.com/kcrisman"
}
```

Changing work_issues from "needs patch" to ""



---

archive/issue_comments_092400.json:
```json
{
    "body": "<a id='comment:9'></a>Yes!",
    "created_at": "2011-01-13T18:04:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-92400",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:9'></a>Yes!



---

archive/issue_comments_092401.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2011-01-14T02:30:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-92401",
    "user": "https://github.com/kcrisman"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_092402.json:
```json
{
    "body": "<a id='comment:10'></a>Positive review.  \n\nTo buildbot: depends on #7981, apply trac_8632_save_ignores_options_from_plot.patch",
    "created_at": "2011-01-14T02:30:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-92402",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:10'></a>Positive review.  

To buildbot: depends on #7981, apply trac_8632_save_ignores_options_from_plot.patch



---

archive/issue_comments_092403.json:
```json
{
    "body": "<a id='comment:11'></a>Scratch that.  Need to change the patch a bit so documentation looks ok - a missing colon.",
    "created_at": "2011-01-14T02:37:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-92403",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:11'></a>Scratch that.  Need to change the patch a bit so documentation looks ok - a missing colon.



---

archive/issue_comments_092404.json:
```json
{
    "body": "Attachment [trac_8632-reviewer.patch](tarball://root/attachments/some-uuid/ticket8632/trac_8632-reviewer.patch) by @kcrisman created at 2011-01-14 02:41:34\n\nreviewer patch",
    "created_at": "2011-01-14T02:41:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-92404",
    "user": "https://github.com/kcrisman"
}
```

Attachment [trac_8632-reviewer.patch](tarball://root/attachments/some-uuid/ticket8632/trac_8632-reviewer.patch) by @kcrisman created at 2011-01-14 02:41:34

reviewer patch



---

archive/issue_comments_092405.json:
```json
{
    "body": "<a id='comment:12'></a>Okay, now all is well.  \n\nto buildbot: depends on #7981, apply trac_8632_save_ignores_options_from_plot.patch and trac_8632-reviewer.patch",
    "created_at": "2011-01-14T02:42:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-92405",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:12'></a>Okay, now all is well.  

to buildbot: depends on #7981, apply trac_8632_save_ignores_options_from_plot.patch and trac_8632-reviewer.patch



---

archive/issue_comments_092406.json:
```json
{
    "body": "<a id='comment:13'></a>Thanks for the corrections, sorry for sloppiness!",
    "created_at": "2011-01-14T03:21:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-92406",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:13'></a>Thanks for the corrections, sorry for sloppiness!



---

archive/issue_comments_092407.json:
```json
{
    "body": "<a id='comment:14'></a>Just FYI - still applies fine on 4.6.2.alpha0.",
    "created_at": "2011-01-15T03:21:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-92407",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:14'></a>Just FYI - still applies fine on 4.6.2.alpha0.



---

archive/issue_comments_092408.json:
```json
{
    "body": "<a id='comment:15'></a>Replying to [comment:14 kcrisman]:\n> Just FYI - still applies fine on 4.6.2.alpha0.\n\n\nActually, it doesn't:\n\n```\npatching file sage/plot/plot.py\nHunk #1 FAILED at 2394.\n1 out of 1 hunk FAILED -- saving rejects to file sage/plot/plot.py.rej\n```",
    "created_at": "2011-01-19T01:42:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-92408",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:15'></a>Replying to [comment:14 kcrisman]:
> Just FYI - still applies fine on 4.6.2.alpha0.


Actually, it doesn't:

```
patching file sage/plot/plot.py
Hunk #1 FAILED at 2394.
1 out of 1 hunk FAILED -- saving rejects to file sage/plot/plot.py.rej
```



---

archive/issue_comments_092409.json:
```json
{
    "body": "Changing work_issues from \"\" to \"rebase\"",
    "created_at": "2011-01-19T01:42:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-92409",
    "user": "https://github.com/jdemeyer"
}
```

Changing work_issues from "" to "rebase"



---

archive/issue_comments_092410.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2011-01-19T01:42:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-92410",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_092411.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -11,6 +11,8 @@\n plot(x^2-5,(x,0,5),ymin=0).save(\"/tmp/test.png\")\n ```\n \n+**Dependency**: #7981\n+\n Comment: 1\n \n Issue created by migration from https://trac.sagemath.org/ticket/8632\n``````\n",
    "created_at": "2011-01-19T01:45:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-92411",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -11,6 +11,8 @@
 plot(x^2-5,(x,0,5),ymin=0).save("/tmp/test.png")
 ```
 
+**Dependency**: #7981
+
 Comment: 1
 
 Issue created by migration from https://trac.sagemath.org/ticket/8632
``````




---

archive/issue_comments_092412.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2011-01-19T01:45:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-92412",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_092413.json:
```json
{
    "body": "<a id='comment:16'></a>Sorry, I missed the dependency on #7981.",
    "created_at": "2011-01-19T01:45:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-92413",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:16'></a>Sorry, I missed the dependency on #7981.



---

archive/issue_comments_092414.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2011-01-25T08:14:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-92414",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_events_020900.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-01-25T08:14:11Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/8632#event-20900"
}
```



---

archive/issue_comments_092415.json:
```json
{
    "body": "Changing merged from \"\" to \"sage-4.6.2.alpha2\"",
    "created_at": "2011-01-25T08:14:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-92415",
    "user": "https://github.com/jdemeyer"
}
```

Changing merged from "" to "sage-4.6.2.alpha2"



---

archive/issue_comments_092416.json:
```json
{
    "body": "Changing work_issues from \"rebase\" to \"\"",
    "created_at": "2011-01-25T09:51:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-92416",
    "user": "https://github.com/jdemeyer"
}
```

Changing work_issues from "rebase" to ""
