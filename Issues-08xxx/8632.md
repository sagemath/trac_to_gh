# Issue 8632: .save ignores ymin etc.

archive/issues_008632.json:
```json
{
    "body": "a sage (4.3.3) notebook shows the correct picture of\n\n```\nplot(x^2-5,(x,0,5),ymin=0)\n```\n\n\nThe save method ignores the ymin parameter:\n\n```\nplot(x^2-5,(x,0,5),ymin=0).save(\"/tmp/test.png\")\n```\n\n**Dependency**: #7981\n\n**Assignee:** @williamstein\n\n**CC:**  @kcrisman\n\n**Author:** Andrey Novoseltsev\n\n**Reviewer:** Karl-Dieter Crisman\n\n**Merged:** sage-4.6.2.alpha2\n\nIssue created by migration from https://trac.sagemath.org/ticket/8632\n\n",
    "closed_at": "2011-01-25T08:14:11Z",
    "created_at": "2010-03-30T17:12:08Z",
    "labels": [
        "component: graphics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.6.2",
    "title": ".save ignores ymin etc.",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/8632",
    "user": "https://trac.sagemath.org/admin/accounts/users/damm"
}
```
a sage (4.3.3) notebook shows the correct picture of

```
plot(x^2-5,(x,0,5),ymin=0)
```


The save method ignores the ymin parameter:

```
plot(x^2-5,(x,0,5),ymin=0).save("/tmp/test.png")
```

**Dependency**: #7981

**Assignee:** @williamstein

**CC:**  @kcrisman

**Author:** Andrey Novoseltsev

**Reviewer:** Karl-Dieter Crisman

**Merged:** sage-4.6.2.alpha2

Issue created by migration from https://trac.sagemath.org/ticket/8632





---

archive/issue_comments_090700.json:
```json
{
    "body": "<a id='comment:1'></a>\nSee also #7981.",
    "created_at": "2010-11-19T03:55:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-90700",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:1'></a>
See also #7981.



---

archive/issue_comments_090701.json:
```json
{
    "body": "<a id='comment:2'></a>\nWith the current patch at #7981 this problem is gone. The graph goes a bit below ymin=0, but it happens in both cases in the same way, so save does not ignore the parameter anymore.",
    "created_at": "2011-01-13T05:47:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-90701",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:2'></a>
With the current patch at #7981 this problem is gone. The graph goes a bit below ymin=0, but it happens in both cases in the same way, so save does not ignore the parameter anymore.



---

archive/issue_comments_090702.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2011-01-13T05:47:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-90702",
    "user": "https://github.com/novoselt"
}
```

**Changing status** from new to needs_review.



---

archive/issue_events_025396.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2011-01-13T05:47:30Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "milestone": "sage-4.6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/8632#event-25396"
}
```



---

archive/issue_comments_090703.json:
```json
{
    "body": "<a id='comment:3'></a>\nEasy review with #7981 applied ;-)",
    "created_at": "2011-01-13T05:52:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-90703",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:3'></a>
Easy review with #7981 applied ;-)



---

archive/issue_comments_090704.json:
```json
{
    "body": "**Work_Issues:** needs patch",
    "created_at": "2011-01-13T15:00:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-90704",
    "user": "https://github.com/kcrisman"
}
```

**Work_Issues:** needs patch



---

archive/issue_comments_090705.json:
```json
{
    "body": "**Author:** Andrey Novoseltsev",
    "created_at": "2011-01-13T15:00:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-90705",
    "user": "https://github.com/kcrisman"
}
```

**Author:** Andrey Novoseltsev



---

archive/issue_comments_090706.json:
```json
{
    "body": "<a id='comment:4'></a>\nExcept we need a patch :-)  It could go in the TESTS section; it would need to use the usual temp directory for Sage.",
    "created_at": "2011-01-13T15:00:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-90706",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:4'></a>
Except we need a patch :-)  It could go in the TESTS section; it would need to use the usual temp directory for Sage.



---

archive/issue_comments_090707.json:
```json
{
    "body": "**Reviewer:** Karl-Dieter Crisman",
    "created_at": "2011-01-13T15:00:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-90707",
    "user": "https://github.com/kcrisman"
}
```

**Reviewer:** Karl-Dieter Crisman



---

archive/issue_comments_090708.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2011-01-13T15:00:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-90708",
    "user": "https://github.com/kcrisman"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_090709.json:
```json
{
    "body": "<a id='comment:5'></a>\nCould you please remind me what is the usual temp directory for Sage?\n\nAlso, what exactly should the test do? How do I verify that images from `show` and `save` are the same? It seems like a waste of time on tests if it is only checked that these commands don't raise an exception - they were working before as well, just not as they should.",
    "created_at": "2011-01-13T16:36:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-90709",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:5'></a>
Could you please remind me what is the usual temp directory for Sage?

Also, what exactly should the test do? How do I verify that images from `show` and `save` are the same? It seems like a waste of time on tests if it is only checked that these commands don't raise an exception - they were working before as well, just not as they should.



---

archive/issue_comments_090710.json:
```json
{
    "body": "<a id='comment:6'></a>\nReplying to [novoselt](#comment%3A5):\n> Could you please remind me what is the usual temp directory for Sage?\n\nSee line 1732 of your patch for #7981 ;-)  - `kwds.setdefault('filename', sage.misc.misc.tmp_filename() + '.png') `\n> Also, what exactly should the test do? How do I verify that images from `show` and `save` are the same? It seems like a waste of time on tests if it is only checked that these commands don't raise an exception - they were working before as well, just not as they should.\n\nSadly, we can't do that yet.  (Matplotlib apparently does do this with Nose, but we don't have the capability yet.)   Partly this could be useful for the future day when we CAN check things like this...\n\nBut for now the point is that at least someone can visually verify that there is a different min than $y=-5$ if they care to look.  We want to document that we have done something about the particular one. \n\nAlternately, you could try to ask a release manager to close this as a duplicate of #7981.  Personally, I think it would be worth adding an example to the save documentation that one can choose to either put the commands in `.save(foo=bar)` or to pass it one from `plot(f,foo=bar)`; that could be useful for a complete newbie to the code to see, so that they don't have to follow code around.",
    "created_at": "2011-01-13T17:05:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-90710",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:6'></a>
Replying to [novoselt](#comment%3A5):
> Could you please remind me what is the usual temp directory for Sage?

See line 1732 of your patch for #7981 ;-)  - `kwds.setdefault('filename', sage.misc.misc.tmp_filename() + '.png') `
> Also, what exactly should the test do? How do I verify that images from `show` and `save` are the same? It seems like a waste of time on tests if it is only checked that these commands don't raise an exception - they were working before as well, just not as they should.

Sadly, we can't do that yet.  (Matplotlib apparently does do this with Nose, but we don't have the capability yet.)   Partly this could be useful for the future day when we CAN check things like this...

But for now the point is that at least someone can visually verify that there is a different min than $y=-5$ if they care to look.  We want to document that we have done something about the particular one. 

Alternately, you could try to ask a release manager to close this as a duplicate of #7981.  Personally, I think it would be worth adding an example to the save documentation that one can choose to either put the commands in `.save(foo=bar)` or to pass it one from `plot(f,foo=bar)`; that could be useful for a complete newbie to the code to see, so that they don't have to follow code around.



---

archive/attachments_010786.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_8632_save_ignores_options_from_plot.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket8632/trac_8632_save_ignores_options_from_plot.patch",
    "created_at": "2011-01-13T17:39:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/novoselt"
}
```



---

archive/issue_comments_090711.json:
```json
{
    "body": "",
    "created_at": "2011-01-13T17:39:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-90711",
    "user": "https://github.com/novoselt"
}
```





---

archive/issue_comments_090712.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2011-01-13T17:40:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-90712",
    "user": "https://github.com/novoselt"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_090713.json:
```json
{
    "body": "<a id='comment:7'></a>\nThank you! How about this patch?",
    "created_at": "2011-01-13T17:40:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-90713",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:7'></a>
Thank you! How about this patch?



---

archive/issue_comments_090714.json:
```json
{
    "body": "<a id='comment:8'></a>\nI assume the patch depends on #7981, correct?",
    "created_at": "2011-01-13T17:59:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-90714",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:8'></a>
I assume the patch depends on #7981, correct?



---

archive/issue_comments_090715.json:
```json
{
    "body": "**Changing work_issues** from \"needs patch\" to \"\".",
    "created_at": "2011-01-13T17:59:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-90715",
    "user": "https://github.com/kcrisman"
}
```

**Changing work_issues** from "needs patch" to "".



---

archive/issue_comments_090716.json:
```json
{
    "body": "<a id='comment:9'></a>\nYes!",
    "created_at": "2011-01-13T18:04:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-90716",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:9'></a>
Yes!



---

archive/issue_comments_090717.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2011-01-14T02:30:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-90717",
    "user": "https://github.com/kcrisman"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_090718.json:
```json
{
    "body": "<a id='comment:10'></a>\nPositive review.  \n\nTo buildbot: depends on #7981, apply trac_8632_save_ignores_options_from_plot.patch",
    "created_at": "2011-01-14T02:30:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-90718",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:10'></a>
Positive review.  

To buildbot: depends on #7981, apply trac_8632_save_ignores_options_from_plot.patch



---

archive/issue_comments_090719.json:
```json
{
    "body": "<a id='comment:11'></a>\nScratch that.  Need to change the patch a bit so documentation looks ok - a missing colon.",
    "created_at": "2011-01-14T02:37:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-90719",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:11'></a>
Scratch that.  Need to change the patch a bit so documentation looks ok - a missing colon.



---

archive/attachments_010787.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_8632-reviewer.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket8632/trac_8632-reviewer.patch",
    "created_at": "2011-01-14T02:41:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/kcrisman"
}
```



---

archive/issue_comments_090720.json:
```json
{
    "body": "reviewer patch",
    "created_at": "2011-01-14T02:41:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-90720",
    "user": "https://github.com/kcrisman"
}
```

reviewer patch



---

archive/issue_comments_090721.json:
```json
{
    "body": "<a id='comment:12'></a>\nOkay, now all is well.  \n\nto buildbot: depends on #7981, apply trac_8632_save_ignores_options_from_plot.patch and trac_8632-reviewer.patch",
    "created_at": "2011-01-14T02:42:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-90721",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:12'></a>
Okay, now all is well.  

to buildbot: depends on #7981, apply trac_8632_save_ignores_options_from_plot.patch and trac_8632-reviewer.patch



---

archive/issue_comments_090722.json:
```json
{
    "body": "<a id='comment:13'></a>\nThanks for the corrections, sorry for sloppiness!",
    "created_at": "2011-01-14T03:21:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-90722",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:13'></a>
Thanks for the corrections, sorry for sloppiness!



---

archive/issue_comments_090723.json:
```json
{
    "body": "<a id='comment:14'></a>\nJust FYI - still applies fine on 4.6.2.alpha0.",
    "created_at": "2011-01-15T03:21:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-90723",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:14'></a>
Just FYI - still applies fine on 4.6.2.alpha0.



---

archive/issue_comments_090724.json:
```json
{
    "body": "<a id='comment:15'></a>\nReplying to [kcrisman](#comment%3A14):\n> Just FYI - still applies fine on 4.6.2.alpha0.\n\n\nActually, it doesn't:\n\n```\npatching file sage/plot/plot.py\nHunk #1 FAILED at 2394.\n1 out of 1 hunk FAILED -- saving rejects to file sage/plot/plot.py.rej\n```",
    "created_at": "2011-01-19T01:42:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-90724",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:15'></a>
Replying to [kcrisman](#comment%3A14):
> Just FYI - still applies fine on 4.6.2.alpha0.


Actually, it doesn't:

```
patching file sage/plot/plot.py
Hunk #1 FAILED at 2394.
1 out of 1 hunk FAILED -- saving rejects to file sage/plot/plot.py.rej
```



---

archive/issue_comments_090725.json:
```json
{
    "body": "**Work_Issues:** rebase",
    "created_at": "2011-01-19T01:42:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-90725",
    "user": "https://github.com/jdemeyer"
}
```

**Work_Issues:** rebase



---

archive/issue_comments_090726.json:
```json
{
    "body": "**Changing status** from positive_review to needs_work.",
    "created_at": "2011-01-19T01:42:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-90726",
    "user": "https://github.com/jdemeyer"
}
```

**Changing status** from positive_review to needs_work.



---

archive/issue_comments_090727.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -11,3 +11,4 @@\n plot(x^2-5,(x,0,5),ymin=0).save(\"/tmp/test.png\")\n ```\n \n+**Dependency**: #7981\n``````\n",
    "created_at": "2011-01-19T01:45:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-90727",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -11,3 +11,4 @@
 plot(x^2-5,(x,0,5),ymin=0).save("/tmp/test.png")
 ```
 
+**Dependency**: #7981
``````




---

archive/issue_comments_090728.json:
```json
{
    "body": "**Changing status** from needs_work to positive_review.",
    "created_at": "2011-01-19T01:45:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-90728",
    "user": "https://github.com/jdemeyer"
}
```

**Changing status** from needs_work to positive_review.



---

archive/issue_comments_090729.json:
```json
{
    "body": "<a id='comment:16'></a>\nSorry, I missed the dependency on #7981.",
    "created_at": "2011-01-19T01:45:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-90729",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:16'></a>
Sorry, I missed the dependency on #7981.



---

archive/issue_events_025397.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-01-25T08:14:11Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/8632#event-25397"
}
```



---

archive/issue_comments_090730.json:
```json
{
    "body": "**Merged:** sage-4.6.2.alpha2",
    "created_at": "2011-01-25T08:14:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-90730",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-4.6.2.alpha2



---

archive/issue_comments_090731.json:
```json
{
    "body": "**Changing work_issues** from \"rebase\" to \"\".",
    "created_at": "2011-01-25T09:51:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8632",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8632#issuecomment-90731",
    "user": "https://github.com/jdemeyer"
}
```

**Changing work_issues** from "rebase" to "".
