# Issue 8088: sage library 4.3.1 failing to build on Open Solaris x64

archive/issues_008088.json:
```json
{
    "assignees": [
        "https://github.com/sagetrac-drkirkby"
    ],
    "body": "## Build environment\n* Sun Ultra 27 3.33 GHz Intel W3580 Xeon. Quad core. 8 threads. 12 GB RAM\n* OpenSolaris 2009.06 snv_111b X86\n* Sage 4.3.1 (with a few packages hacked to work on 64-bit)\n* gcc 4.3.4 configured with Sun linker and GNU assembler from binutils version 2.20.\n* 64-bit build. SAGE64 was set to yes, plus various other tricks to get -m64 into packages. \n\n## The problem\nThe sage library is failing to build on Open Solaris on the x64 platform. It has recently been broken on Solaris 10 SPARC too, for other reasons - see #7990 \n\n```\n../src/kernel/none/level1.h: In function \u2018mpsub\u2019:\n../src/kernel/none/level1.h:973: warning: right shift count >= width of type\n../src/kernel/none/level1.h:974: warning: right shift count >= width of type\n../src/kernel/none/level1.h:975: warning: right shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018mpmul\u2019:\n../src/kernel/none/level1.h:981: warning: right shift count >= width of type\n../src/kernel/none/level1.h:982: warning: right shift count >= width of type\n../src/kernel/none/level1.h:983: warning: right shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018mpdiv\u2019:\n../src/kernel/none/level1.h:989: warning: right shift count >= width of type\n../src/kernel/none/level1.h:990: warning: right shift count >= width of type\n../src/kernel/none/level1.h:991: warning: right shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018dvdiiz\u2019:\n../src/kernel/none/level1.h:1001: warning: right shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018itou\u2019:\n../src/kernel/none/level1.h:1012: warning: right shift count >= width of type\n../src/kernel/none/level1.h:1015: warning: left shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018affui\u2019:\n../src/kernel/none/level1.h:1022: warning: left shift count >= width of type\n../src/kernel/none/level1.h:1023: warning: left shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018gtodouble\u2019:\n../src/kernel/none/level1.h:1049: warning: left shift count >= width of type\n../src/kernel/none/level1.h:1051: warning: right shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018expi\u2019:\n../src/kernel/none/level1.h:1111: warning: left shift count >= width of type\n../src/kernel/none/level1.h:1112: warning: left shift count >= width of type\n../src/kernel/none/level1.h:1112: warning: left shift count >= width of type\nsrc/convert.c: In function \u2018t_INT_to_ZZ\u2019:\nsrc/convert.c:29: warning: left shift count >= width of type\nsrc/convert.c:34: warning: right shift count >= width of type\nsrc/convert.c: In function \u2018ZZ_to_t_INT\u2019:\nsrc/convert.c:47: warning: left shift count >= width of type\nsrc/convert.c:47: warning: left shift count >= width of type\nsrc/convert.c:48: warning: left shift count >= width of type\nsrc/convert.c:49: warning: left shift count >= width of type\nsrc/convert.c:49: warning: left shift count >= width of type\ngcc -o src/interrupt.pic.o -c -fPIC -I/export/home/drkirkby/sage-4.3.1/local/include -I/export/home/drkirkby/sage-4.3.1/local/include/python2.6 -I/export/home/drkirkby/sage-4.3.1/local/include/NTL -Iinclude src/interrupt.c\nIn file included from /export/home/drkirkby/sage-4.3.1/local/include/python2.6/Python.h:58,\n                 from include/stdsage.h:35,\n                 from src/interrupt.c:12:\n/export/home/drkirkby/sage-4.3.1/local/include/python2.6/pyport.h:685:2: error: #error \"LONG_BIT definition appears wrong for platform (bad gcc/glibc config?).\"\nscons: *** [src/interrupt.pic.o] Error 1\npulling from /export/home/drkirkby/sage-4.3.1/spkg/build/sage-4.3.1\nsearching for changes\nno changes found\nabort: can't merge with ancestor\nnothing changed\n0 files updated, 0 files merged, 0 files removed, 0 files unresolved\nDeleting the scons target.\nRemoved src/convert.pic.o\nscons: Reading SConscript files ...\nscons: done reading SConscript files.\nscons: Cleaning targets ...\nscons: done cleaning targets.\nBuilding Sage on Solaris in 64-bit mode\nCreating SAGE_LOCAL/lib/sage-64.txt since it does not exist\nDetected SAGE64 flag\nBuilding Sage on Solaris in 64-bit mode\n\n----------------------------------------------------------\nsage: Building and installing modified Sage library files.\n\n\nInstalling c_lib\ngcc -o src/convert.pic.o -c -fPIC -I/export/home/drkirkby/sage-4.3.1/local/include -I/export/home/drkirkby/sage-4.3.1/local/include/python2.6 -I/export/home/drkirkby/sage-4.3.1/local/include/NTL -Iinclude src/convert.c\nIn file included from /export/home/drkirkby/sage-4.3.1/local/include/pari/pari.h:76,\n                 from include/convert.h:12,\n                 from src/convert.c:14:\n../src/kernel/none/level1.h: In function \u2018evallg\u2019:\n../src/kernel/none/level1.h:180: warning: left shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018evalvalp\u2019:\n../src/kernel/none/level1.h:187: warning: left shift count >= width of type\n../src/kernel/none/level1.h:188: warning: left shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018evalexpo\u2019:\n../src/kernel/none/level1.h:195: warning: left shift count >= width of type\n../src/kernel/none/level1.h:196: warning: left shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018constant_term\u2019:\n../src/kernel/none/level1.h:201: warning: right shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018leading_term\u2019:\n../src/kernel/none/level1.h:203: warning: left shift count >= width of type\n../src/kernel/none/level1.h:203: warning: left shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018stackdummy\u2019:\n../src/kernel/none/level1.h:218: warning: left shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018cgetg_copy\u2019:\n../src/kernel/none/level1.h:252: warning: left shift count >= width of type\n../src/kernel/none/level1.h:252: warning: left shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018init_gen_op\u2019:\n../src/kernel/none/level1.h:257: warning: left shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018cgetg\u2019:\n../src/kernel/none/level1.h:266: warning: left shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018cgeti\u2019:\n../src/kernel/none/level1.h:274: warning: left shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018cgetr\u2019:\n../src/kernel/none/level1.h:282: warning: left shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018zeropadic\u2019:\n../src/kernel/none/level1.h:354: warning: left shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018zeroser\u2019:\n../src/kernel/none/level1.h:362: warning: left shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018zeropol\u2019:\n../src/kernel/none/level1.h:369: warning: left shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018mpcopy\u2019:\n../src/kernel/none/level1.h:414: warning: left shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018icopy\u2019:\n../src/kernel/none/level1.h:423: warning: left shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018icopy_av\u2019:\n../src/kernel/none/level1.h:433: warning: left shift count >= width of type\n../src/kernel/none/level1.h:437: warning: left shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018mpneg\u2019:\n../src/kernel/none/level1.h:445: warning: left shift count >= width of type\n../src/kernel/none/level1.h:445: warning: right shift count >= width of type\n../src/kernel/none/level1.h:445: warning: left shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018mpabs\u2019:\n../src/kernel/none/level1.h:452: warning: right shift count >= width of type\n../src/kernel/none/level1.h:452: warning: left shift count >= width of type\n../src/kernel/none/level1.h:452: warning: left shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018utoineg\u2019:\n../src/kernel/none/level1.h:476: warning: left shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018utoipos\u2019:\n../src/kernel/none/level1.h:483: warning: left shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018stosmall\u2019:\n../src/kernel/none/level1.h:513: warning: left shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018itos\u2019:\n../src/kernel/none/level1.h:520: warning: right shift count >= width of type\n../src/kernel/none/level1.h:524: warning: left shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018itos_or_0\u2019:\n../src/kernel/none/level1.h:532: warning: left shift count >= width of type\n../src/kernel/none/level1.h:532: warning: left shift count >= width of type\n../src/kernel/none/level1.h:533: warning: right shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018itou_or_0\u2019:\n../src/kernel/none/level1.h:538: warning: left shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018affii\u2019:\n../src/kernel/none/level1.h:554: warning: left shift count >= width of type\n../src/kernel/none/level1.h:554: warning: left shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018affsi\u2019:\n../src/kernel/none/level1.h:561: warning: left shift count >= width of type\n../src/kernel/none/level1.h:564: warning: left shift count >= width of type\n../src/kernel/none/level1.h:565: warning: left shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018affsr\u2019:\n../src/kernel/none/level1.h:572: warning: left shift count >= width of type\n../src/kernel/none/level1.h:581: warning: left shift count >= width of type\n../src/kernel/none/level1.h:581: warning: left shift count >= width of type\n../src/kernel/none/level1.h:586: warning: left shift count >= width of type\n../src/kernel/none/level1.h:586: warning: left shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018affur\u2019:\n../src/kernel/none/level1.h:594: warning: left shift count >= width of type\n../src/kernel/none/level1.h:602: warning: left shift count >= width of type\n../src/kernel/none/level1.h:602: warning: left shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018affiz\u2019:\n../src/kernel/none/level1.h:607: warning: right shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018affsz\u2019:\n../src/kernel/none/level1.h:609: warning: right shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018mpaff\u2019:\n../src/kernel/none/level1.h:611: warning: right shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018real_1\u2019:\n../src/kernel/none/level1.h:621: warning: left shift count >= width of type\n../src/kernel/none/level1.h:621: warning: left shift count >= width of type\n../src/kernel/none/level1.h:622: warning: left shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018real_m1\u2019:\n../src/kernel/none/level1.h:629: warning: left shift count >= width of type\n../src/kernel/none/level1.h:629: warning: left shift count >= width of type\n../src/kernel/none/level1.h:630: warning: left shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018real2n\u2019:\n../src/kernel/none/level1.h:635: warning: left shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018shiftr\u2019:\n../src/kernel/none/level1.h:653: warning: left shift count >= width of type\n../src/kernel/none/level1.h:653: warning: left shift count >= width of type\n../src/kernel/none/level1.h:656: warning: left shift count >= width of type\n../src/kernel/none/level1.h:657: warning: left shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018cmpir\u2019:\n../src/kernel/none/level1.h:666: warning: right shift count >= width of type\n../src/kernel/none/level1.h:666: warning: right shift count >= width of type\n../src/kernel/none/level1.h:667: warning: right shift count >= width of type\n../src/kernel/none/level1.h:667: warning: right shift count >= width of type\n../src/kernel/none/level1.h:668: warning: left shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018cmpsr\u2019:\n../src/kernel/none/level1.h:678: warning: right shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018subii\u2019:\n../src/kernel/none/level1.h:692: warning: right shift count >= width of type\n../src/kernel/none/level1.h:692: warning: right shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018addii\u2019:\n../src/kernel/none/level1.h:695: warning: right shift count >= width of type\n../src/kernel/none/level1.h:695: warning: right shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018addrr\u2019:\n../src/kernel/none/level1.h:697: warning: right shift count >= width of type\n../src/kernel/none/level1.h:697: warning: right shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018subrr\u2019:\n../src/kernel/none/level1.h:699: warning: right shift count >= width of type\n../src/kernel/none/level1.h:699: warning: right shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018addir\u2019:\n../src/kernel/none/level1.h:701: warning: right shift count >= width of type\n../src/kernel/none/level1.h:701: warning: right shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018subir\u2019:\n../src/kernel/none/level1.h:703: warning: right shift count >= width of type\n../src/kernel/none/level1.h:703: warning: right shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018subri\u2019:\n../src/kernel/none/level1.h:705: warning: right shift count >= width of type\n../src/kernel/none/level1.h:705: warning: right shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018addsi\u2019:\n../src/kernel/none/level1.h:707: warning: right shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018subsi\u2019:\n../src/kernel/none/level1.h:709: warning: right shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018vali\u2019:\n../src/kernel/none/level1.h:717: warning: right shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018sdivsi_rem\u2019:\n../src/kernel/none/level1.h:752: warning: right shift count >= width of type\n../src/kernel/none/level1.h:756: warning: left shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018sdivsi\u2019:\n../src/kernel/none/level1.h:766: warning: right shift count >= width of type\n../src/kernel/none/level1.h:769: warning: left shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018umodui\u2019:\n../src/kernel/none/level1.h:845: warning: right shift count >= width of type\n../src/kernel/none/level1.h:846: warning: left shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018rdiviiz\u2019:\n../src/kernel/none/level1.h:907: warning: left shift count >= width of type\n../src/kernel/none/level1.h:909: warning: left shift count >= width of type\n../src/kernel/none/level1.h:909: warning: left shift count >= width of type\n../src/kernel/none/level1.h:909: warning: left shift count >= width of type\n../src/kernel/none/level1.h:911: warning: right shift count >= width of type\n../src/kernel/none/level1.h:911: warning: left shift count >= width of type\n../src/kernel/none/level1.h:911: warning: right shift count >= width of type\n../src/kernel/none/level1.h:911: warning: left shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018mpcmp\u2019:\n../src/kernel/none/level1.h:948: warning: right shift count >= width of type\n../src/kernel/none/level1.h:949: warning: right shift count >= width of type\n../src/kernel/none/level1.h:950: warning: right shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018mptrunc\u2019:\n../src/kernel/none/level1.h:954: warning: right shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018mpfloor\u2019:\n../src/kernel/none/level1.h:956: warning: right shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018mpceil\u2019:\n../src/kernel/none/level1.h:958: warning: right shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018mpround\u2019:\n../src/kernel/none/level1.h:960: warning: right shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018mpadd\u2019:\n../src/kernel/none/level1.h:965: warning: right shift count >= width of type\n../src/kernel/none/level1.h:966: warning: right shift count >= width of type\n../src/kernel/none/level1.h:967: warning: right shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018mpsub\u2019:\n../src/kernel/none/level1.h:973: warning: right shift count >= width of type\n../src/kernel/none/level1.h:974: warning: right shift count >= width of type\n../src/kernel/none/level1.h:975: warning: right shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018mpmul\u2019:\n../src/kernel/none/level1.h:981: warning: right shift count >= width of type\n../src/kernel/none/level1.h:982: warning: right shift count >= width of type\n../src/kernel/none/level1.h:983: warning: right shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018mpdiv\u2019:\n../src/kernel/none/level1.h:989: warning: right shift count >= width of type\n../src/kernel/none/level1.h:990: warning: right shift count >= width of type\n../src/kernel/none/level1.h:991: warning: right shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018dvdiiz\u2019:\n../src/kernel/none/level1.h:1001: warning: right shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018itou\u2019:\n../src/kernel/none/level1.h:1012: warning: right shift count >= width of type\n../src/kernel/none/level1.h:1015: warning: left shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018affui\u2019:\n../src/kernel/none/level1.h:1022: warning: left shift count >= width of type\n../src/kernel/none/level1.h:1023: warning: left shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018gtodouble\u2019:\n../src/kernel/none/level1.h:1049: warning: left shift count >= width of type\n../src/kernel/none/level1.h:1051: warning: right shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018expi\u2019:\n../src/kernel/none/level1.h:1111: warning: left shift count >= width of type\n../src/kernel/none/level1.h:1112: warning: left shift count >= width of type\n../src/kernel/none/level1.h:1112: warning: left shift count >= width of type\nsrc/convert.c: In function \u2018t_INT_to_ZZ\u2019:\nsrc/convert.c:29: warning: left shift count >= width of type\nsrc/convert.c:34: warning: right shift count >= width of type\nsrc/convert.c: In function \u2018ZZ_to_t_INT\u2019:\nsrc/convert.c:47: warning: left shift count >= width of type\nsrc/convert.c:47: warning: left shift count >= width of type\nsrc/convert.c:48: warning: left shift count >= width of type\nsrc/convert.c:49: warning: left shift count >= width of type\nsrc/convert.c:49: warning: left shift count >= width of type\ngcc -o src/interrupt.pic.o -c -fPIC -I/export/home/drkirkby/sage-4.3.1/local/include -I/export/home/drkirkby/sage-4.3.1/local/include/python2.6 -I/export/home/drkirkby/sage-4.3.1/local/include/NTL -Iinclude src/interrupt.c\nIn file included from /export/home/drkirkby/sage-4.3.1/local/include/python2.6/Python.h:58,\n                 from include/stdsage.h:35,\n                 from src/interrupt.c:12:\n/export/home/drkirkby/sage-4.3.1/local/include/python2.6/pyport.h:685:2: error: #error \"LONG_BIT definition appears wrong for platform (bad gcc/glibc config?).\"\nscons: *** [src/interrupt.pic.o] Error 1\nERROR: There was an error building c_lib.\n\n\nreal\t0m0.508s\nuser\t0m0.287s\nsys\t0m0.215s\nError building new version of SAGE.\nYou might try typing 'sage -ba' or write to sage-support with as much information as possible.\n\nreal\t0m2.600s\nuser\t0m1.453s\nsys\t0m1.106s\nsage: An error occurred while installing sage-4.3.1\n```\n\n\nCC:  @jasongrout @jaapspies @williamstein\n\nComponent: **porting: Solaris**\n\nReviewer: **David Kirkby**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/8088_\n\n",
    "closed_at": "2010-12-12T12:24:43Z",
    "created_at": "2010-01-27T04:05:18Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/c%3A%20porting%3A%20solaris",
        "https://github.com/sagemath/sage/labels/worksforme"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "sage library 4.3.1 failing to build on Open Solaris x64",
    "type": "issue",
    "updated_at": "2010-12-12T22:11:14Z",
    "url": "https://github.com/sagemath/sage/issues/8088",
    "user": "https://github.com/sagetrac-drkirkby"
}
```
## Build environment
* Sun Ultra 27 3.33 GHz Intel W3580 Xeon. Quad core. 8 threads. 12 GB RAM
* OpenSolaris 2009.06 snv_111b X86
* Sage 4.3.1 (with a few packages hacked to work on 64-bit)
* gcc 4.3.4 configured with Sun linker and GNU assembler from binutils version 2.20.
* 64-bit build. SAGE64 was set to yes, plus various other tricks to get -m64 into packages. 

## The problem
The sage library is failing to build on Open Solaris on the x64 platform. It has recently been broken on Solaris 10 SPARC too, for other reasons - see #7990 

```
../src/kernel/none/level1.h: In function ‘mpsub’:
../src/kernel/none/level1.h:973: warning: right shift count >= width of type
../src/kernel/none/level1.h:974: warning: right shift count >= width of type
../src/kernel/none/level1.h:975: warning: right shift count >= width of type
../src/kernel/none/level1.h: In function ‘mpmul’:
../src/kernel/none/level1.h:981: warning: right shift count >= width of type
../src/kernel/none/level1.h:982: warning: right shift count >= width of type
../src/kernel/none/level1.h:983: warning: right shift count >= width of type
../src/kernel/none/level1.h: In function ‘mpdiv’:
../src/kernel/none/level1.h:989: warning: right shift count >= width of type
../src/kernel/none/level1.h:990: warning: right shift count >= width of type
../src/kernel/none/level1.h:991: warning: right shift count >= width of type
../src/kernel/none/level1.h: In function ‘dvdiiz’:
../src/kernel/none/level1.h:1001: warning: right shift count >= width of type
../src/kernel/none/level1.h: In function ‘itou’:
../src/kernel/none/level1.h:1012: warning: right shift count >= width of type
../src/kernel/none/level1.h:1015: warning: left shift count >= width of type
../src/kernel/none/level1.h: In function ‘affui’:
../src/kernel/none/level1.h:1022: warning: left shift count >= width of type
../src/kernel/none/level1.h:1023: warning: left shift count >= width of type
../src/kernel/none/level1.h: In function ‘gtodouble’:
../src/kernel/none/level1.h:1049: warning: left shift count >= width of type
../src/kernel/none/level1.h:1051: warning: right shift count >= width of type
../src/kernel/none/level1.h: In function ‘expi’:
../src/kernel/none/level1.h:1111: warning: left shift count >= width of type
../src/kernel/none/level1.h:1112: warning: left shift count >= width of type
../src/kernel/none/level1.h:1112: warning: left shift count >= width of type
src/convert.c: In function ‘t_INT_to_ZZ’:
src/convert.c:29: warning: left shift count >= width of type
src/convert.c:34: warning: right shift count >= width of type
src/convert.c: In function ‘ZZ_to_t_INT’:
src/convert.c:47: warning: left shift count >= width of type
src/convert.c:47: warning: left shift count >= width of type
src/convert.c:48: warning: left shift count >= width of type
src/convert.c:49: warning: left shift count >= width of type
src/convert.c:49: warning: left shift count >= width of type
gcc -o src/interrupt.pic.o -c -fPIC -I/export/home/drkirkby/sage-4.3.1/local/include -I/export/home/drkirkby/sage-4.3.1/local/include/python2.6 -I/export/home/drkirkby/sage-4.3.1/local/include/NTL -Iinclude src/interrupt.c
In file included from /export/home/drkirkby/sage-4.3.1/local/include/python2.6/Python.h:58,
                 from include/stdsage.h:35,
                 from src/interrupt.c:12:
/export/home/drkirkby/sage-4.3.1/local/include/python2.6/pyport.h:685:2: error: #error "LONG_BIT definition appears wrong for platform (bad gcc/glibc config?)."
scons: *** [src/interrupt.pic.o] Error 1
pulling from /export/home/drkirkby/sage-4.3.1/spkg/build/sage-4.3.1
searching for changes
no changes found
abort: can't merge with ancestor
nothing changed
0 files updated, 0 files merged, 0 files removed, 0 files unresolved
Deleting the scons target.
Removed src/convert.pic.o
scons: Reading SConscript files ...
scons: done reading SConscript files.
scons: Cleaning targets ...
scons: done cleaning targets.
Building Sage on Solaris in 64-bit mode
Creating SAGE_LOCAL/lib/sage-64.txt since it does not exist
Detected SAGE64 flag
Building Sage on Solaris in 64-bit mode

----------------------------------------------------------
sage: Building and installing modified Sage library files.


Installing c_lib
gcc -o src/convert.pic.o -c -fPIC -I/export/home/drkirkby/sage-4.3.1/local/include -I/export/home/drkirkby/sage-4.3.1/local/include/python2.6 -I/export/home/drkirkby/sage-4.3.1/local/include/NTL -Iinclude src/convert.c
In file included from /export/home/drkirkby/sage-4.3.1/local/include/pari/pari.h:76,
                 from include/convert.h:12,
                 from src/convert.c:14:
../src/kernel/none/level1.h: In function ‘evallg’:
../src/kernel/none/level1.h:180: warning: left shift count >= width of type
../src/kernel/none/level1.h: In function ‘evalvalp’:
../src/kernel/none/level1.h:187: warning: left shift count >= width of type
../src/kernel/none/level1.h:188: warning: left shift count >= width of type
../src/kernel/none/level1.h: In function ‘evalexpo’:
../src/kernel/none/level1.h:195: warning: left shift count >= width of type
../src/kernel/none/level1.h:196: warning: left shift count >= width of type
../src/kernel/none/level1.h: In function ‘constant_term’:
../src/kernel/none/level1.h:201: warning: right shift count >= width of type
../src/kernel/none/level1.h: In function ‘leading_term’:
../src/kernel/none/level1.h:203: warning: left shift count >= width of type
../src/kernel/none/level1.h:203: warning: left shift count >= width of type
../src/kernel/none/level1.h: In function ‘stackdummy’:
../src/kernel/none/level1.h:218: warning: left shift count >= width of type
../src/kernel/none/level1.h: In function ‘cgetg_copy’:
../src/kernel/none/level1.h:252: warning: left shift count >= width of type
../src/kernel/none/level1.h:252: warning: left shift count >= width of type
../src/kernel/none/level1.h: In function ‘init_gen_op’:
../src/kernel/none/level1.h:257: warning: left shift count >= width of type
../src/kernel/none/level1.h: In function ‘cgetg’:
../src/kernel/none/level1.h:266: warning: left shift count >= width of type
../src/kernel/none/level1.h: In function ‘cgeti’:
../src/kernel/none/level1.h:274: warning: left shift count >= width of type
../src/kernel/none/level1.h: In function ‘cgetr’:
../src/kernel/none/level1.h:282: warning: left shift count >= width of type
../src/kernel/none/level1.h: In function ‘zeropadic’:
../src/kernel/none/level1.h:354: warning: left shift count >= width of type
../src/kernel/none/level1.h: In function ‘zeroser’:
../src/kernel/none/level1.h:362: warning: left shift count >= width of type
../src/kernel/none/level1.h: In function ‘zeropol’:
../src/kernel/none/level1.h:369: warning: left shift count >= width of type
../src/kernel/none/level1.h: In function ‘mpcopy’:
../src/kernel/none/level1.h:414: warning: left shift count >= width of type
../src/kernel/none/level1.h: In function ‘icopy’:
../src/kernel/none/level1.h:423: warning: left shift count >= width of type
../src/kernel/none/level1.h: In function ‘icopy_av’:
../src/kernel/none/level1.h:433: warning: left shift count >= width of type
../src/kernel/none/level1.h:437: warning: left shift count >= width of type
../src/kernel/none/level1.h: In function ‘mpneg’:
../src/kernel/none/level1.h:445: warning: left shift count >= width of type
../src/kernel/none/level1.h:445: warning: right shift count >= width of type
../src/kernel/none/level1.h:445: warning: left shift count >= width of type
../src/kernel/none/level1.h: In function ‘mpabs’:
../src/kernel/none/level1.h:452: warning: right shift count >= width of type
../src/kernel/none/level1.h:452: warning: left shift count >= width of type
../src/kernel/none/level1.h:452: warning: left shift count >= width of type
../src/kernel/none/level1.h: In function ‘utoineg’:
../src/kernel/none/level1.h:476: warning: left shift count >= width of type
../src/kernel/none/level1.h: In function ‘utoipos’:
../src/kernel/none/level1.h:483: warning: left shift count >= width of type
../src/kernel/none/level1.h: In function ‘stosmall’:
../src/kernel/none/level1.h:513: warning: left shift count >= width of type
../src/kernel/none/level1.h: In function ‘itos’:
../src/kernel/none/level1.h:520: warning: right shift count >= width of type
../src/kernel/none/level1.h:524: warning: left shift count >= width of type
../src/kernel/none/level1.h: In function ‘itos_or_0’:
../src/kernel/none/level1.h:532: warning: left shift count >= width of type
../src/kernel/none/level1.h:532: warning: left shift count >= width of type
../src/kernel/none/level1.h:533: warning: right shift count >= width of type
../src/kernel/none/level1.h: In function ‘itou_or_0’:
../src/kernel/none/level1.h:538: warning: left shift count >= width of type
../src/kernel/none/level1.h: In function ‘affii’:
../src/kernel/none/level1.h:554: warning: left shift count >= width of type
../src/kernel/none/level1.h:554: warning: left shift count >= width of type
../src/kernel/none/level1.h: In function ‘affsi’:
../src/kernel/none/level1.h:561: warning: left shift count >= width of type
../src/kernel/none/level1.h:564: warning: left shift count >= width of type
../src/kernel/none/level1.h:565: warning: left shift count >= width of type
../src/kernel/none/level1.h: In function ‘affsr’:
../src/kernel/none/level1.h:572: warning: left shift count >= width of type
../src/kernel/none/level1.h:581: warning: left shift count >= width of type
../src/kernel/none/level1.h:581: warning: left shift count >= width of type
../src/kernel/none/level1.h:586: warning: left shift count >= width of type
../src/kernel/none/level1.h:586: warning: left shift count >= width of type
../src/kernel/none/level1.h: In function ‘affur’:
../src/kernel/none/level1.h:594: warning: left shift count >= width of type
../src/kernel/none/level1.h:602: warning: left shift count >= width of type
../src/kernel/none/level1.h:602: warning: left shift count >= width of type
../src/kernel/none/level1.h: In function ‘affiz’:
../src/kernel/none/level1.h:607: warning: right shift count >= width of type
../src/kernel/none/level1.h: In function ‘affsz’:
../src/kernel/none/level1.h:609: warning: right shift count >= width of type
../src/kernel/none/level1.h: In function ‘mpaff’:
../src/kernel/none/level1.h:611: warning: right shift count >= width of type
../src/kernel/none/level1.h: In function ‘real_1’:
../src/kernel/none/level1.h:621: warning: left shift count >= width of type
../src/kernel/none/level1.h:621: warning: left shift count >= width of type
../src/kernel/none/level1.h:622: warning: left shift count >= width of type
../src/kernel/none/level1.h: In function ‘real_m1’:
../src/kernel/none/level1.h:629: warning: left shift count >= width of type
../src/kernel/none/level1.h:629: warning: left shift count >= width of type
../src/kernel/none/level1.h:630: warning: left shift count >= width of type
../src/kernel/none/level1.h: In function ‘real2n’:
../src/kernel/none/level1.h:635: warning: left shift count >= width of type
../src/kernel/none/level1.h: In function ‘shiftr’:
../src/kernel/none/level1.h:653: warning: left shift count >= width of type
../src/kernel/none/level1.h:653: warning: left shift count >= width of type
../src/kernel/none/level1.h:656: warning: left shift count >= width of type
../src/kernel/none/level1.h:657: warning: left shift count >= width of type
../src/kernel/none/level1.h: In function ‘cmpir’:
../src/kernel/none/level1.h:666: warning: right shift count >= width of type
../src/kernel/none/level1.h:666: warning: right shift count >= width of type
../src/kernel/none/level1.h:667: warning: right shift count >= width of type
../src/kernel/none/level1.h:667: warning: right shift count >= width of type
../src/kernel/none/level1.h:668: warning: left shift count >= width of type
../src/kernel/none/level1.h: In function ‘cmpsr’:
../src/kernel/none/level1.h:678: warning: right shift count >= width of type
../src/kernel/none/level1.h: In function ‘subii’:
../src/kernel/none/level1.h:692: warning: right shift count >= width of type
../src/kernel/none/level1.h:692: warning: right shift count >= width of type
../src/kernel/none/level1.h: In function ‘addii’:
../src/kernel/none/level1.h:695: warning: right shift count >= width of type
../src/kernel/none/level1.h:695: warning: right shift count >= width of type
../src/kernel/none/level1.h: In function ‘addrr’:
../src/kernel/none/level1.h:697: warning: right shift count >= width of type
../src/kernel/none/level1.h:697: warning: right shift count >= width of type
../src/kernel/none/level1.h: In function ‘subrr’:
../src/kernel/none/level1.h:699: warning: right shift count >= width of type
../src/kernel/none/level1.h:699: warning: right shift count >= width of type
../src/kernel/none/level1.h: In function ‘addir’:
../src/kernel/none/level1.h:701: warning: right shift count >= width of type
../src/kernel/none/level1.h:701: warning: right shift count >= width of type
../src/kernel/none/level1.h: In function ‘subir’:
../src/kernel/none/level1.h:703: warning: right shift count >= width of type
../src/kernel/none/level1.h:703: warning: right shift count >= width of type
../src/kernel/none/level1.h: In function ‘subri’:
../src/kernel/none/level1.h:705: warning: right shift count >= width of type
../src/kernel/none/level1.h:705: warning: right shift count >= width of type
../src/kernel/none/level1.h: In function ‘addsi’:
../src/kernel/none/level1.h:707: warning: right shift count >= width of type
../src/kernel/none/level1.h: In function ‘subsi’:
../src/kernel/none/level1.h:709: warning: right shift count >= width of type
../src/kernel/none/level1.h: In function ‘vali’:
../src/kernel/none/level1.h:717: warning: right shift count >= width of type
../src/kernel/none/level1.h: In function ‘sdivsi_rem’:
../src/kernel/none/level1.h:752: warning: right shift count >= width of type
../src/kernel/none/level1.h:756: warning: left shift count >= width of type
../src/kernel/none/level1.h: In function ‘sdivsi’:
../src/kernel/none/level1.h:766: warning: right shift count >= width of type
../src/kernel/none/level1.h:769: warning: left shift count >= width of type
../src/kernel/none/level1.h: In function ‘umodui’:
../src/kernel/none/level1.h:845: warning: right shift count >= width of type
../src/kernel/none/level1.h:846: warning: left shift count >= width of type
../src/kernel/none/level1.h: In function ‘rdiviiz’:
../src/kernel/none/level1.h:907: warning: left shift count >= width of type
../src/kernel/none/level1.h:909: warning: left shift count >= width of type
../src/kernel/none/level1.h:909: warning: left shift count >= width of type
../src/kernel/none/level1.h:909: warning: left shift count >= width of type
../src/kernel/none/level1.h:911: warning: right shift count >= width of type
../src/kernel/none/level1.h:911: warning: left shift count >= width of type
../src/kernel/none/level1.h:911: warning: right shift count >= width of type
../src/kernel/none/level1.h:911: warning: left shift count >= width of type
../src/kernel/none/level1.h: In function ‘mpcmp’:
../src/kernel/none/level1.h:948: warning: right shift count >= width of type
../src/kernel/none/level1.h:949: warning: right shift count >= width of type
../src/kernel/none/level1.h:950: warning: right shift count >= width of type
../src/kernel/none/level1.h: In function ‘mptrunc’:
../src/kernel/none/level1.h:954: warning: right shift count >= width of type
../src/kernel/none/level1.h: In function ‘mpfloor’:
../src/kernel/none/level1.h:956: warning: right shift count >= width of type
../src/kernel/none/level1.h: In function ‘mpceil’:
../src/kernel/none/level1.h:958: warning: right shift count >= width of type
../src/kernel/none/level1.h: In function ‘mpround’:
../src/kernel/none/level1.h:960: warning: right shift count >= width of type
../src/kernel/none/level1.h: In function ‘mpadd’:
../src/kernel/none/level1.h:965: warning: right shift count >= width of type
../src/kernel/none/level1.h:966: warning: right shift count >= width of type
../src/kernel/none/level1.h:967: warning: right shift count >= width of type
../src/kernel/none/level1.h: In function ‘mpsub’:
../src/kernel/none/level1.h:973: warning: right shift count >= width of type
../src/kernel/none/level1.h:974: warning: right shift count >= width of type
../src/kernel/none/level1.h:975: warning: right shift count >= width of type
../src/kernel/none/level1.h: In function ‘mpmul’:
../src/kernel/none/level1.h:981: warning: right shift count >= width of type
../src/kernel/none/level1.h:982: warning: right shift count >= width of type
../src/kernel/none/level1.h:983: warning: right shift count >= width of type
../src/kernel/none/level1.h: In function ‘mpdiv’:
../src/kernel/none/level1.h:989: warning: right shift count >= width of type
../src/kernel/none/level1.h:990: warning: right shift count >= width of type
../src/kernel/none/level1.h:991: warning: right shift count >= width of type
../src/kernel/none/level1.h: In function ‘dvdiiz’:
../src/kernel/none/level1.h:1001: warning: right shift count >= width of type
../src/kernel/none/level1.h: In function ‘itou’:
../src/kernel/none/level1.h:1012: warning: right shift count >= width of type
../src/kernel/none/level1.h:1015: warning: left shift count >= width of type
../src/kernel/none/level1.h: In function ‘affui’:
../src/kernel/none/level1.h:1022: warning: left shift count >= width of type
../src/kernel/none/level1.h:1023: warning: left shift count >= width of type
../src/kernel/none/level1.h: In function ‘gtodouble’:
../src/kernel/none/level1.h:1049: warning: left shift count >= width of type
../src/kernel/none/level1.h:1051: warning: right shift count >= width of type
../src/kernel/none/level1.h: In function ‘expi’:
../src/kernel/none/level1.h:1111: warning: left shift count >= width of type
../src/kernel/none/level1.h:1112: warning: left shift count >= width of type
../src/kernel/none/level1.h:1112: warning: left shift count >= width of type
src/convert.c: In function ‘t_INT_to_ZZ’:
src/convert.c:29: warning: left shift count >= width of type
src/convert.c:34: warning: right shift count >= width of type
src/convert.c: In function ‘ZZ_to_t_INT’:
src/convert.c:47: warning: left shift count >= width of type
src/convert.c:47: warning: left shift count >= width of type
src/convert.c:48: warning: left shift count >= width of type
src/convert.c:49: warning: left shift count >= width of type
src/convert.c:49: warning: left shift count >= width of type
gcc -o src/interrupt.pic.o -c -fPIC -I/export/home/drkirkby/sage-4.3.1/local/include -I/export/home/drkirkby/sage-4.3.1/local/include/python2.6 -I/export/home/drkirkby/sage-4.3.1/local/include/NTL -Iinclude src/interrupt.c
In file included from /export/home/drkirkby/sage-4.3.1/local/include/python2.6/Python.h:58,
                 from include/stdsage.h:35,
                 from src/interrupt.c:12:
/export/home/drkirkby/sage-4.3.1/local/include/python2.6/pyport.h:685:2: error: #error "LONG_BIT definition appears wrong for platform (bad gcc/glibc config?)."
scons: *** [src/interrupt.pic.o] Error 1
ERROR: There was an error building c_lib.


real	0m0.508s
user	0m0.287s
sys	0m0.215s
Error building new version of SAGE.
You might try typing 'sage -ba' or write to sage-support with as much information as possible.

real	0m2.600s
user	0m1.453s
sys	0m1.106s
sage: An error occurred while installing sage-4.3.1
```


CC:  @jasongrout @jaapspies @williamstein

Component: **porting: Solaris**

Reviewer: **David Kirkby**

_Issue created by migration from https://trac.sagemath.org/ticket/8088_





---

archive/issue_events_099660.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2010-01-27T04:05:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8088",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20porting%3A%20solaris",
    "label_color": "0000b0",
    "label_name": "c: porting: solaris",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8088#event-99660"
}
```



---

archive/issue_events_099661.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2010-01-27T04:05:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8088",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8088#event-99661"
}
```



---

archive/issue_events_099662.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2010-01-27T04:05:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8088",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8088#event-99662"
}
```



---

archive/issue_events_099663.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2010-01-27T04:05:18Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/8088",
    "subject": "https://github.com/sagetrac-drkirkby",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8088#event-99663"
}
```



---

archive/issue_events_099664.json:
```json
{
    "actor": "https://github.com/sagetrac-mvngu",
    "created_at": "2010-01-28T13:06:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/8088",
    "milestone_number": null,
    "milestone_title": "sage-4.3.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8088#event-99664"
}
```



---

archive/issue_comments_062191.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nWhat I see happening is that CFLAGS are not propagated.\n\nWhat I tried to do is adapting SConstruct:\n\n\n```\n## the details.\nif env['PLATFORM']==\"darwin\":\n    if os.environ['SAGE64']==\"yes\":\n        # We want the debug and optimization flags, since debug symbols are so useful, etc.\n        print \"MacIntel in 64 bit mode\"\n        env.Append( CFLAGS=\"-O2 -g -m64\" )\n        env.Append( CXXFLAGS=\"-O2 -g -m64\" )\n        env.Append( LINKFLAGS=\"-m64 -single_module -flat_namespace -undefined dynamic_lookup\" )\n    else:\n        env.Append( LINKFLAGS=\"-single_module -flat_namespace -undefined dynamic_lookup\" )\n\nif env['PLATFORM']==\"SunOS\":\n    if os.environ['SAGE64']==\"yes\":\n        # We want the debug and optimization flags, since debug symbols are so useful, etc.\n        print \"Open Solaris in 64 bit mode\"\n        env.Append( CFLAGS=\"-O2 -g -m64\" )\n        env.Append( CXXFLAGS=\"-O2 -g -m64\" )\n        env.Append( LDFLAGS=\"-m64 \" )\n\n# SCons doesn't automatically pull in system environment variables\n# However, we only need SAGE_LOCAL, so that's easy.\nenv['SAGE_LOCAL'] = os.environ['SAGE_LOCAL']\n\n```\n\n\nI think there is nothing wrong with this flags.\n\nBut I must admit I'm not very knowledgeable with scons nor the library build system.\n\n\n\nJaap",
    "created_at": "2010-02-01T20:14:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8088",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8088#issuecomment-62191",
    "user": "https://github.com/jaapspies"
}
```

<div id="comment:2" align="right">comment:2</div>

What I see happening is that CFLAGS are not propagated.

What I tried to do is adapting SConstruct:


```
## the details.
if env['PLATFORM']=="darwin":
    if os.environ['SAGE64']=="yes":
        # We want the debug and optimization flags, since debug symbols are so useful, etc.
        print "MacIntel in 64 bit mode"
        env.Append( CFLAGS="-O2 -g -m64" )
        env.Append( CXXFLAGS="-O2 -g -m64" )
        env.Append( LINKFLAGS="-m64 -single_module -flat_namespace -undefined dynamic_lookup" )
    else:
        env.Append( LINKFLAGS="-single_module -flat_namespace -undefined dynamic_lookup" )

if env['PLATFORM']=="SunOS":
    if os.environ['SAGE64']=="yes":
        # We want the debug and optimization flags, since debug symbols are so useful, etc.
        print "Open Solaris in 64 bit mode"
        env.Append( CFLAGS="-O2 -g -m64" )
        env.Append( CXXFLAGS="-O2 -g -m64" )
        env.Append( LDFLAGS="-m64 " )

# SCons doesn't automatically pull in system environment variables
# However, we only need SAGE_LOCAL, so that's easy.
env['SAGE_LOCAL'] = os.environ['SAGE_LOCAL']

```


I think there is nothing wrong with this flags.

But I must admit I'm not very knowledgeable with scons nor the library build system.



Jaap



---

archive/issue_comments_062192.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nSCons by design ignores all environment settings - CC, CFLAGS - aboslutely everything. I don't know how to use it, but I can assure you, even if you import CC/CFLAGS etc, into the Sconscript file, SCons will ignore them. That is how it is designed. \n\nI have found it very frustrating. \n\nTake a look at #6595 - it might give you some clues as to the problem of SCons and encvironment variables. \n\nDave",
    "created_at": "2010-02-01T20:25:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8088",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8088#issuecomment-62192",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<div id="comment:3" align="right">comment:3</div>

SCons by design ignores all environment settings - CC, CFLAGS - aboslutely everything. I don't know how to use it, but I can assure you, even if you import CC/CFLAGS etc, into the Sconscript file, SCons will ignore them. That is how it is designed. 

I have found it very frustrating. 

Take a look at #6595 - it might give you some clues as to the problem of SCons and encvironment variables. 

Dave



---

archive/issue_comments_062193.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nI mimicked the Darwin approach, assuming there was some sense in it :(\n\nJaap\n\n\n```\nsage subshell$ ./spkg-install 2>&1 | tee -a build.log\ngcc -o src/interrupt.pic.o -c -fPIC -I/export/home/jaap/Downloads/sage-4.3.2.alpha0/local/include -I/export/home/jaap/Downloads/sage-4.3.2.alpha0/local/include/python2.6 -I/export/home/jaap/Downloads/sage-4.3.2.alpha0/local/include/NTL -Iinclude src/interrupt.c\nIn file included from /export/home/jaap/Downloads/sage-4.3.2.alpha0/local/include/python2.6/Python.h:58,\n                 from include/stdsage.h:35,\n                 from src/interrupt.c:12:\n/export/home/jaap/Downloads/sage-4.3.2.alpha0/local/include/python2.6/pyport.h:685:2: error: #error \"LONG_BIT definition appears wrong for platform (bad gcc/glibc config?).\"\nscons: *** [src/interrupt.pic.o] Error 1\npulling from /export/home/jaap/Downloads/sage-4.3.2.alpha0/spkg/build/sage-4.3.2.alpha0\nsearching for changes\nno changes found\nabort: can't merge with ancestor\nnothing changed\n0 files updated, 0 files merged, 0 files removed, 0 files unresolved\nDeleting the scons target.\nRemoved src/convert.pic.o\nscons: Reading SConscript files ...\nscons: done reading SConscript files.\nscons: Cleaning targets ...\nscons: done cleaning targets.\nBuilding Sage on Solaris in 64-bit mode\nCreating SAGE_LOCAL/lib/sage-64.txt since it does not exist\nDetected SAGE64 flag\nBuilding Sage on Solaris in 64-bit mode\n\n----------------------------------------------------------\nsage: Building and installing modified Sage library files.\n\n\nInstalling c_lib\ngcc -o src/convert.pic.o -c -fPIC -I/export/home/jaap/Downloads/sage-4.3.2.alpha0/local/include -I/export/home/jaap/Downloads/sage-4.3.2.alpha0/local/include/python2.6 -I/export/home/jaap/Downloads/sage-4.3.2.alpha0/local/include/NTL -Iinclude src/convert.c\nIn file included from /export/home/jaap/Downloads/sage-4.3.2.alpha0/local/include/pari/pari.h:76,\n                 from include/convert.h:12,\n                 from src/convert.c:14:\n../src/kernel/none/level1.h: In function \u2018evallg\u2019:\n../src/kernel/none/level1.h:180: warning: left shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018evalvalp\u2019:\n../src/kernel/none/level1.h:187: warning: left shift count >= width of type\n../src/kernel/none/level1.h:188: warning: left shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018evalexpo\u2019:\n../src/kernel/none/level1.h:195: warning: left shift count >= width of type\n../src/kernel/none/level1.h:196: warning: left shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018constant_term\u2019:\n../src/kernel/none/level1.h:201: warning: right shift count >= width of type\n../src/kernel/none/level1.h: In function \u2018leading_term\u2019:\n[...]\n../src/kernel/none/level1.h:1111: warning: left shift count >= width of type\n../src/kernel/none/level1.h:1112: warning: left shift count >= width of type\n../src/kernel/none/level1.h:1112: warning: left shift count >= width of type\nsrc/convert.c: In function \u2018t_INT_to_ZZ\u2019:\nsrc/convert.c:29: warning: left shift count >= width of type\nsrc/convert.c:34: warning: right shift count >= width of type\nsrc/convert.c: In function \u2018ZZ_to_t_INT\u2019:\nsrc/convert.c:47: warning: left shift count >= width of type\nsrc/convert.c:47: warning: left shift count >= width of type\nsrc/convert.c:48: warning: left shift count >= width of type\nsrc/convert.c:49: warning: left shift count >= width of type\nsrc/convert.c:49: warning: left shift count >= width of type\ngcc -o src/interrupt.pic.o -c -fPIC -I/export/home/jaap/Downloads/sage-4.3.2.alpha0/local/include -I/export/home/jaap/Downloads/sage-4.3.2.alpha0/local/include/python2.6 -I/export/home/jaap/Downloads/sage-4.3.2.alpha0/local/include/NTL -Iinclude src/interrupt.c\nIn file included from /export/home/jaap/Downloads/sage-4.3.2.alpha0/local/include/python2.6/Python.h:58,\n                 from include/stdsage.h:35,\n                 from src/interrupt.c:12:\n/export/home/jaap/Downloads/sage-4.3.2.alpha0/local/include/python2.6/pyport.h:685:2: error: #error \"LONG_BIT definition appears wrong for platform (bad gcc/glibc config?).\"\nscons: *** [src/interrupt.pic.o] Error 1\nERROR: There was an error building c_lib.\n\n\nreal\t0m1.228s\nuser\t0m0.400s\nsys\t0m0.489s\nError building new version of SAGE.\nYou might try typing 'sage -ba' or write to sage-support with as much information as possible.\n/export/home/jaap/Downloads/sage-4.3.2.alpha0\nsage subshell$ \n\n\n```",
    "created_at": "2010-02-01T20:55:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8088",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8088#issuecomment-62193",
    "user": "https://github.com/jaapspies"
}
```

<div id="comment:4" align="right">comment:4</div>

I mimicked the Darwin approach, assuming there was some sense in it :(

Jaap


```
sage subshell$ ./spkg-install 2>&1 | tee -a build.log
gcc -o src/interrupt.pic.o -c -fPIC -I/export/home/jaap/Downloads/sage-4.3.2.alpha0/local/include -I/export/home/jaap/Downloads/sage-4.3.2.alpha0/local/include/python2.6 -I/export/home/jaap/Downloads/sage-4.3.2.alpha0/local/include/NTL -Iinclude src/interrupt.c
In file included from /export/home/jaap/Downloads/sage-4.3.2.alpha0/local/include/python2.6/Python.h:58,
                 from include/stdsage.h:35,
                 from src/interrupt.c:12:
/export/home/jaap/Downloads/sage-4.3.2.alpha0/local/include/python2.6/pyport.h:685:2: error: #error "LONG_BIT definition appears wrong for platform (bad gcc/glibc config?)."
scons: *** [src/interrupt.pic.o] Error 1
pulling from /export/home/jaap/Downloads/sage-4.3.2.alpha0/spkg/build/sage-4.3.2.alpha0
searching for changes
no changes found
abort: can't merge with ancestor
nothing changed
0 files updated, 0 files merged, 0 files removed, 0 files unresolved
Deleting the scons target.
Removed src/convert.pic.o
scons: Reading SConscript files ...
scons: done reading SConscript files.
scons: Cleaning targets ...
scons: done cleaning targets.
Building Sage on Solaris in 64-bit mode
Creating SAGE_LOCAL/lib/sage-64.txt since it does not exist
Detected SAGE64 flag
Building Sage on Solaris in 64-bit mode

----------------------------------------------------------
sage: Building and installing modified Sage library files.


Installing c_lib
gcc -o src/convert.pic.o -c -fPIC -I/export/home/jaap/Downloads/sage-4.3.2.alpha0/local/include -I/export/home/jaap/Downloads/sage-4.3.2.alpha0/local/include/python2.6 -I/export/home/jaap/Downloads/sage-4.3.2.alpha0/local/include/NTL -Iinclude src/convert.c
In file included from /export/home/jaap/Downloads/sage-4.3.2.alpha0/local/include/pari/pari.h:76,
                 from include/convert.h:12,
                 from src/convert.c:14:
../src/kernel/none/level1.h: In function ‘evallg’:
../src/kernel/none/level1.h:180: warning: left shift count >= width of type
../src/kernel/none/level1.h: In function ‘evalvalp’:
../src/kernel/none/level1.h:187: warning: left shift count >= width of type
../src/kernel/none/level1.h:188: warning: left shift count >= width of type
../src/kernel/none/level1.h: In function ‘evalexpo’:
../src/kernel/none/level1.h:195: warning: left shift count >= width of type
../src/kernel/none/level1.h:196: warning: left shift count >= width of type
../src/kernel/none/level1.h: In function ‘constant_term’:
../src/kernel/none/level1.h:201: warning: right shift count >= width of type
../src/kernel/none/level1.h: In function ‘leading_term’:
[...]
../src/kernel/none/level1.h:1111: warning: left shift count >= width of type
../src/kernel/none/level1.h:1112: warning: left shift count >= width of type
../src/kernel/none/level1.h:1112: warning: left shift count >= width of type
src/convert.c: In function ‘t_INT_to_ZZ’:
src/convert.c:29: warning: left shift count >= width of type
src/convert.c:34: warning: right shift count >= width of type
src/convert.c: In function ‘ZZ_to_t_INT’:
src/convert.c:47: warning: left shift count >= width of type
src/convert.c:47: warning: left shift count >= width of type
src/convert.c:48: warning: left shift count >= width of type
src/convert.c:49: warning: left shift count >= width of type
src/convert.c:49: warning: left shift count >= width of type
gcc -o src/interrupt.pic.o -c -fPIC -I/export/home/jaap/Downloads/sage-4.3.2.alpha0/local/include -I/export/home/jaap/Downloads/sage-4.3.2.alpha0/local/include/python2.6 -I/export/home/jaap/Downloads/sage-4.3.2.alpha0/local/include/NTL -Iinclude src/interrupt.c
In file included from /export/home/jaap/Downloads/sage-4.3.2.alpha0/local/include/python2.6/Python.h:58,
                 from include/stdsage.h:35,
                 from src/interrupt.c:12:
/export/home/jaap/Downloads/sage-4.3.2.alpha0/local/include/python2.6/pyport.h:685:2: error: #error "LONG_BIT definition appears wrong for platform (bad gcc/glibc config?)."
scons: *** [src/interrupt.pic.o] Error 1
ERROR: There was an error building c_lib.


real	0m1.228s
user	0m0.400s
sys	0m0.489s
Error building new version of SAGE.
You might try typing 'sage -ba' or write to sage-support with as much information as possible.
/export/home/jaap/Downloads/sage-4.3.2.alpha0
sage subshell$ 


```



---

archive/issue_comments_062194.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nI'm not convinced there is any logic to the Darwin approach. I think the fact Sage builds 64-bit on some OS X platforms is that it builds 64-bit by default. The problem is, nobody working on the Sage project seems to really know how to use SCons. \n\nI think the best approach is to ask on the SCons users list (users@scons.tigris.org) and hope you get an answer. It took me months to solve the issue of just getting SCons to use the right C compiler. Setting CC is totally pointless - it gets ignored. So I'm not really surprised this fails. \n\nDave",
    "created_at": "2010-02-20T23:56:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8088",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8088#issuecomment-62194",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<div id="comment:5" align="right">comment:5</div>

I'm not convinced there is any logic to the Darwin approach. I think the fact Sage builds 64-bit on some OS X platforms is that it builds 64-bit by default. The problem is, nobody working on the Sage project seems to really know how to use SCons. 

I think the best approach is to ask on the SCons users list (users@scons.tigris.org) and hope you get an answer. It took me months to solve the issue of just getting SCons to use the right C compiler. Setting CC is totally pointless - it gets ignored. So I'm not really surprised this fails. 

Dave



---

archive/issue_events_099665.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2010-12-09T21:49:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8088",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8088#event-99665"
}
```



---

archive/issue_comments_062195.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nIs this bug report still valid?",
    "created_at": "2010-12-09T21:49:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8088",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8088#issuecomment-62195",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:6" align="right">comment:6</div>

Is this bug report still valid?



---

archive/issue_events_099666.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2010-12-09T21:49:06Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/8088",
    "milestone_number": null,
    "milestone_title": "sage-4.6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8088#event-99666"
}
```



---

archive/issue_comments_062196.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nNo. I'#ve managed to build all of Sage (except R and ECL/Maxima) 64-bit on Solaris x64. It does not work very well at all, but it does all build, with those exceptions. ECL/Maxima issue should soon be resolved. R may need to be compiled with the Sun compiler. But I expect there will be other issues too. \n\nDave",
    "created_at": "2010-12-12T12:24:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8088",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8088#issuecomment-62196",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<div id="comment:7" align="right">comment:7</div>

No. I'#ve managed to build all of Sage (except R and ECL/Maxima) 64-bit on Solaris x64. It does not work very well at all, but it does all build, with those exceptions. ECL/Maxima issue should soon be resolved. R may need to be compiled with the Sun compiler. But I expect there will be other issues too. 

Dave



---

archive/issue_events_099667.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2010-12-12T12:24:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8088",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8088#event-99667"
}
```



---

archive/issue_events_099668.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2010-12-12T12:24:43Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/8088",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8088#event-99668"
}
```



---

archive/issue_comments_062197.json:
```json
{
    "body": "Reviewer: **David Kirkby**",
    "created_at": "2010-12-12T22:11:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8088",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8088#issuecomment-62197",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **David Kirkby**



---

archive/issue_events_099669.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2010-12-12T22:11:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8088",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8088#event-99669"
}
```



---

archive/issue_events_099670.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2010-12-12T22:11:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8088",
    "label": "https://github.com/sagemath/sage/labels/worksforme",
    "label_color": "c6c6c6",
    "label_name": "worksforme",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8088#event-99670"
}
```
