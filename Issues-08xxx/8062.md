# Issue 8062: New givaro-3.2.13rc2.p0.spkg works with Open Solaris 64 bit, SAGE64="yes"

archive/issues_008062.json:
```json
{
    "assignees": [
        "https://github.com/sagetrac-drkirkby"
    ],
    "body": "Let spkg-install work with SAGE64=\"yes\" on Open Solaris.\n\n[http://boxen.math.washington.edu/home/jsp/ports/givaro-3.2.13rc2.p0.spkg](http://boxen.math.washington.edu/home/jsp/ports/givaro-3.2.13rc2.p0.spkg)\n\nJaap\n\n\n\nComponent: **porting**\n\nAuthor: **Jaap Spies**\n\nReviewer: **David Kirkby**\n\nMerged: **sage-4.3.3.alpha0**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/8062_\n\n",
    "closed_at": "2010-02-11T15:16:55Z",
    "created_at": "2010-01-25T21:23:19Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20porting",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.3.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "New givaro-3.2.13rc2.p0.spkg works with Open Solaris 64 bit, SAGE64=\"yes\"",
    "type": "issue",
    "updated_at": "2010-02-11T15:16:55Z",
    "url": "https://github.com/sagemath/sage/issues/8062",
    "user": "https://github.com/jaapspies"
}
```
Let spkg-install work with SAGE64="yes" on Open Solaris.

[http://boxen.math.washington.edu/home/jsp/ports/givaro-3.2.13rc2.p0.spkg](http://boxen.math.washington.edu/home/jsp/ports/givaro-3.2.13rc2.p0.spkg)

Jaap



Component: **porting**

Author: **Jaap Spies**

Reviewer: **David Kirkby**

Merged: **sage-4.3.3.alpha0**

_Issue created by migration from https://trac.sagemath.org/ticket/8062_





---

archive/issue_events_099333.json:
```json
{
    "actor": "https://github.com/jaapspies",
    "created_at": "2010-01-25T21:23:19Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/8062",
    "milestone_number": null,
    "milestone_title": "sage-4.3.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8062#event-99333"
}
```



---

archive/issue_events_099334.json:
```json
{
    "actor": "https://github.com/jaapspies",
    "created_at": "2010-01-25T21:23:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8062",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20porting",
    "label_color": "0000b0",
    "label_name": "c: porting",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8062#event-99334"
}
```



---

archive/issue_events_099335.json:
```json
{
    "actor": "https://github.com/jaapspies",
    "created_at": "2010-01-25T21:23:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8062",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8062#event-99335"
}
```



---

archive/issue_events_099336.json:
```json
{
    "actor": "https://github.com/jaapspies",
    "created_at": "2010-01-25T21:23:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8062",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8062#event-99336"
}
```



---

archive/issue_events_099337.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2010-01-25T21:23:19Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/8062",
    "subject": "https://github.com/jaapspies",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8062#event-99337"
}
```



---

archive/issue_events_099338.json:
```json
{
    "actor": "https://github.com/jaapspies",
    "created_at": "2010-01-25T21:23:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8062",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8062#event-99338"
}
```



---

archive/issue_comments_062003.json:
```json
{
    "body": "Attachment: **[givaro-3.2.13rc2.p0,patch.gz](https://github.com/sagemath/sage/files/ticket8062/e68bd5fbc4db2c5bf6bcaa2a690498f8.gz)**",
    "created_at": "2010-01-26T20:54:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8062#issuecomment-62003",
    "user": "https://github.com/jaapspies"
}
```

Attachment: **[givaro-3.2.13rc2.p0,patch.gz](https://github.com/sagemath/sage/files/ticket8062/e68bd5fbc4db2c5bf6bcaa2a690498f8.gz)**



---

archive/issue_events_099339.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2010-01-28T08:44:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8062",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8062#event-99339"
}
```



---

archive/issue_events_099340.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2010-01-28T08:44:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8062",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8062#event-99340"
}
```



---

archive/issue_comments_062004.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nAttachment: **[givaro-3.2.13rc2.p0.patch.gz](https://github.com/sagemath/sage/files/ticket8062/givaro-3.2.13rc2.p0.patch.gz)**\n\nThe comment in SPKG.txt is inaccurate, as the patch is not specific to Open Solaris. \n\n\nA more accurate comment would be. \n\nEnsures the compiler flag -m64 is added when the environment variable SAGE64 was set to yes - previously this was only happening on OS X. This should aid building 64-bit on any platform, though it has only been tested on Open Solaris. \n\nAlso, add the trac ticket number #8062 to the comment. \n\nIt's far better to open a ticket for the bug first, before trying to fix it. Then the ticket number can be placed in the comments in SPKG.txt. \n\nYou might want to remove Martin Albrecht as a maintainer, as his name is duplicated.",
    "created_at": "2010-01-28T08:44:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8062#issuecomment-62004",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<div id="comment:2" align="right">comment:2</div>

Attachment: **[givaro-3.2.13rc2.p0.patch.gz](https://github.com/sagemath/sage/files/ticket8062/givaro-3.2.13rc2.p0.patch.gz)**

The comment in SPKG.txt is inaccurate, as the patch is not specific to Open Solaris. 


A more accurate comment would be. 

Ensures the compiler flag -m64 is added when the environment variable SAGE64 was set to yes - previously this was only happening on OS X. This should aid building 64-bit on any platform, though it has only been tested on Open Solaris. 

Also, add the trac ticket number #8062 to the comment. 

It's far better to open a ticket for the bug first, before trying to fix it. Then the ticket number can be placed in the comments in SPKG.txt. 

You might want to remove Martin Albrecht as a maintainer, as his name is duplicated.



---

archive/issue_comments_062005.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nReplying to [@sagetrac-drkirkby](#comment:2):\n> The comment in SPKG.txt is inaccurate, as the patch is not specific to Open Solaris. \n> \n> \n> A more accurate comment would be. \n> \n> Ensures the compiler flag -m64 is added when the environment variable SAGE64 was set to yes - previously this was only happening on OS X. This should aid building 64-bit on any platform, though it has only been tested on Open Solaris. \n\n>\n\nThat maybe better, but rather long for a short comment.\n \n> Also, add the trac ticket number #8062 to the comment. \n> \n> It's far better to open a ticket for the bug first, before trying to fix it. Then the ticket number can be placed in the comments in SPKG.txt. \n\n>\n\nSure that is a possibility. I've seen a lot of SPKG.txt files without trac numbers.\n\n> You might want to remove Martin Albrecht as a maintainer, as his name is duplicated. \n\nThat is what I did. As you can see in the patch.\n\nJaap",
    "created_at": "2010-01-28T11:42:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8062#issuecomment-62005",
    "user": "https://github.com/jaapspies"
}
```

<div id="comment:3" align="right">comment:3</div>

Replying to [@sagetrac-drkirkby](#comment:2):
> The comment in SPKG.txt is inaccurate, as the patch is not specific to Open Solaris. 
> 
> 
> A more accurate comment would be. 
> 
> Ensures the compiler flag -m64 is added when the environment variable SAGE64 was set to yes - previously this was only happening on OS X. This should aid building 64-bit on any platform, though it has only been tested on Open Solaris. 

>

That maybe better, but rather long for a short comment.
 
> Also, add the trac ticket number #8062 to the comment. 
> 
> It's far better to open a ticket for the bug first, before trying to fix it. Then the ticket number can be placed in the comments in SPKG.txt. 

>

Sure that is a possibility. I've seen a lot of SPKG.txt files without trac numbers.

> You might want to remove Martin Albrecht as a maintainer, as his name is duplicated. 

That is what I did. As you can see in the patch.

Jaap



---

archive/issue_events_099341.json:
```json
{
    "actor": "https://github.com/jaapspies",
    "created_at": "2010-01-28T13:11:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8062",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8062#event-99341"
}
```



---

archive/issue_events_099342.json:
```json
{
    "actor": "https://github.com/jaapspies",
    "created_at": "2010-01-28T13:11:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8062",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8062#event-99342"
}
```



---

archive/issue_comments_062006.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nAttachment: **[givaro-3.2.13rc2.p0+.patch.gz](https://github.com/sagemath/sage/files/ticket8062/931997fd2f6f54726291c174843c023e.gz)**\n\nUpdated SPKG.txt\n\nLeft patch level p0.\n\nLink is still\n[http://boxen.math.washington.edu/home/jsp/ports/givaro-3.2.13rc2.p0.spkg](http://boxen.math.washington.edu/home/jsp/ports/givaro-3.2.13rc2.p0.spkg)\n\n\nJaap",
    "created_at": "2010-01-28T13:11:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8062#issuecomment-62006",
    "user": "https://github.com/jaapspies"
}
```

<div id="comment:4" align="right">comment:4</div>

Attachment: **[givaro-3.2.13rc2.p0+.patch.gz](https://github.com/sagemath/sage/files/ticket8062/931997fd2f6f54726291c174843c023e.gz)**

Updated SPKG.txt

Left patch level p0.

Link is still
[http://boxen.math.washington.edu/home/jsp/ports/givaro-3.2.13rc2.p0.spkg](http://boxen.math.washington.edu/home/jsp/ports/givaro-3.2.13rc2.p0.spkg)


Jaap



---

archive/issue_comments_062007.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nPositive review. All dynamic libraries are 64-bit. I don't know how one can determine this with static libraries, as 'ldd' does not indicate anything about them. But I assume they are probably ok\n\n```\ndrkirkby@hawk:~/sage-4.3.1$ file local/lib/libgivaro*\nlocal/lib/libgivaro.a:\tcurrent ar archive, not a dynamic executable or shared object\nlocal/lib/libgivaro.la:\tcommands text\nlocal/lib/libgivaro.so:\tELF 64-bit LSB dynamic lib AMD64 Version 1, dynamically linked, not stripped\nlocal/lib/libgivaro.so.0:\tELF 64-bit LSB dynamic lib AMD64 Version 1, dynamically linked, not stripped\nlocal/lib/libgivaro.so.0.0.2:\tELF 64-bit LSB dynamic lib AMD64 Version 1, dynamically linked, not stripped\n```\n\nIt would be worth trying to find out a way of confirming the exact type of static libraries, but I think the fact the shared libraries are ok, this patch is fine. \n\nDave",
    "created_at": "2010-01-28T13:39:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8062#issuecomment-62007",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<div id="comment:5" align="right">comment:5</div>

Positive review. All dynamic libraries are 64-bit. I don't know how one can determine this with static libraries, as 'ldd' does not indicate anything about them. But I assume they are probably ok

```
drkirkby@hawk:~/sage-4.3.1$ file local/lib/libgivaro*
local/lib/libgivaro.a:	current ar archive, not a dynamic executable or shared object
local/lib/libgivaro.la:	commands text
local/lib/libgivaro.so:	ELF 64-bit LSB dynamic lib AMD64 Version 1, dynamically linked, not stripped
local/lib/libgivaro.so.0:	ELF 64-bit LSB dynamic lib AMD64 Version 1, dynamically linked, not stripped
local/lib/libgivaro.so.0.0.2:	ELF 64-bit LSB dynamic lib AMD64 Version 1, dynamically linked, not stripped
```

It would be worth trying to find out a way of confirming the exact type of static libraries, but I think the fact the shared libraries are ok, this patch is fine. 

Dave



---

archive/issue_events_099343.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2010-01-28T13:39:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8062",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8062#event-99343"
}
```



---

archive/issue_events_099344.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2010-01-28T13:39:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8062",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8062#event-99344"
}
```



---

archive/issue_comments_062008.json:
```json
{
    "body": "Reviewer: **David Kirkby**",
    "created_at": "2010-01-28T13:58:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8062#issuecomment-62008",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

Reviewer: **David Kirkby**



---

archive/issue_comments_062009.json:
```json
{
    "body": "Merged: **sage-4.3.3.alpha0**",
    "created_at": "2010-02-11T15:16:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8062#issuecomment-62009",
    "user": "https://github.com/qed777"
}
```

Merged: **sage-4.3.3.alpha0**



---

archive/issue_events_099345.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-02-11T15:16:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8062",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8062#event-99345"
}
```



---

archive/issue_events_099346.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-02-11T15:16:55Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/8062",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8062#event-99346"
}
```
