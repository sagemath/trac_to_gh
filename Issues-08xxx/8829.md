# Issue 8829: Saturation for MW-groups of elliptic curves over number fields.

archive/issues_008829.json:
```json
{
    "assignees": [
        "https://github.com/JohnCremona"
    ],
    "body": "Implementation of saturation of points on elliptic curves over number fields.  Original patch by Robert Bradshaw in 2010, refactored and made into a git branch by John Cremona in 2015.\n\nI also implemented the simple case of E.gens() for E(K) when E/Q and [K:Q] = 2. \n\n\nCC:  @pjbruin @kedlaya\n\nKeywords: **saturation**\n\nBranch: **[`ae6b11c`](https://github.com/sagemath/sagetrac-mirror/commit/ae6b11c67e43a3a9ffeb3b34d2b46b627967d432)**\n\nReviewer: **David Roe, Kiran Kedlaya, Fr\u00e9d\u00e9ric Chapoton**\n\nAuthor: **Robert Bradshaw, John Cremona**\n\nComponent: **elliptic curves**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/8829_\n\n",
    "closed_at": "2017-08-29T19:51:22Z",
    "created_at": "2010-04-30T06:49:16Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20elliptic%20curves",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Saturation for MW-groups of elliptic curves over number fields.",
    "type": "issue",
    "updated_at": "2017-09-12T14:40:17Z",
    "url": "https://github.com/sagemath/sage/issues/8829",
    "user": "https://github.com/robertwb"
}
```
Implementation of saturation of points on elliptic curves over number fields.  Original patch by Robert Bradshaw in 2010, refactored and made into a git branch by John Cremona in 2015.

I also implemented the simple case of E.gens() for E(K) when E/Q and [K:Q] = 2. 


CC:  @pjbruin @kedlaya

Keywords: **saturation**

Branch: **[`ae6b11c`](https://github.com/sagemath/sagetrac-mirror/commit/ae6b11c67e43a3a9ffeb3b34d2b46b627967d432)**

Reviewer: **David Roe, Kiran Kedlaya, Frédéric Chapoton**

Author: **Robert Bradshaw, John Cremona**

Component: **elliptic curves**

_Issue created by migration from https://trac.sagemath.org/ticket/8829_





---

archive/issue_events_111858.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2010-04-30T06:49:16Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8829#event-111858"
}
```



---

archive/issue_events_111859.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2010-04-30T06:49:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20elliptic%20curves",
    "label_color": "0000ff",
    "label_name": "c: elliptic curves",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8829#event-111859"
}
```



---

archive/issue_events_111860.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2010-04-30T06:49:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8829#event-111860"
}
```



---

archive/issue_events_111861.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2010-04-30T06:49:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8829#event-111861"
}
```



---

archive/issue_events_111862.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2010-04-30T06:49:16Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "subject": "https://github.com/robertwb",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8829#event-111862"
}
```



---

archive/issue_comments_072140.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nSome dependance on #8828.",
    "created_at": "2010-04-30T06:50:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72140",
    "user": "https://github.com/robertwb"
}
```

<div id="comment:1" align="right">comment:1</div>

Some dependance on #8828.



---

archive/issue_events_111863.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2010-04-30T06:50:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8829#event-111863"
}
```



---

archive/issue_comments_072141.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nI have had a quick look and will go through this in more detail later (after #8828 is completed, probably).  I spent a long time on my C++ implementation of this (over QQ but the algorithm is general) so am quite familiar with the details.\n\nHere are two references you should give:  [1] S. Siksek \"Infinite descent on elliptic curves\", Rocky Mountain J of M, Vol 25 No. 4 (1995), 1501-1538.  [2] M. Prickett, \"Saturation of Mordell-Weil groups of elliptic curves over number fields\", U of Nottingham PhD thesis (2004), http://etheses.nottingham.ac.uk/52/.\n\nMartin Prickett implemented this in Magma, but the code was very slow and hard to read so it never got incorporated into Magma releases.\n\nIncidentally, it was for this that I implemented group structure for curves over GF(q) in the first place!  In my C++ implementation I cache a lot of the information of this group structure so that when you do p-saturation for larger and larger p, the structures are already there.  A good example is to take one of those curves of very high rank:  I think I once successfully p-saturated the rank 24 curve at all p < `10^6`  (the bound was totally out of reach, something like `10^100`).\n\nAnother point which might be useful over number fields:  it suffices to use degree one primes to reduce modulo.",
    "created_at": "2010-04-30T08:29:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72141",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:2" align="right">comment:2</div>

I have had a quick look and will go through this in more detail later (after #8828 is completed, probably).  I spent a long time on my C++ implementation of this (over QQ but the algorithm is general) so am quite familiar with the details.

Here are two references you should give:  [1] S. Siksek "Infinite descent on elliptic curves", Rocky Mountain J of M, Vol 25 No. 4 (1995), 1501-1538.  [2] M. Prickett, "Saturation of Mordell-Weil groups of elliptic curves over number fields", U of Nottingham PhD thesis (2004), http://etheses.nottingham.ac.uk/52/.

Martin Prickett implemented this in Magma, but the code was very slow and hard to read so it never got incorporated into Magma releases.

Incidentally, it was for this that I implemented group structure for curves over GF(q) in the first place!  In my C++ implementation I cache a lot of the information of this group structure so that when you do p-saturation for larger and larger p, the structures are already there.  A good example is to take one of those curves of very high rank:  I think I once successfully p-saturated the rank 24 curve at all p < `10^6`  (the bound was totally out of reach, something like `10^100`).

Another point which might be useful over number fields:  it suffices to use degree one primes to reduce modulo.



---

archive/issue_comments_072142.json:
```json
{
    "body": "Attachment: **[8829-ec-nf-sat.patch.gz](https://github.com/sagemath/sage/files/ticket8829/8829-ec-nf-sat.patch.gz)**",
    "created_at": "2010-04-30T08:39:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72142",
    "user": "https://github.com/robertwb"
}
```

Attachment: **[8829-ec-nf-sat.patch.gz](https://github.com/sagemath/sage/files/ticket8829/8829-ec-nf-sat.patch.gz)**



---

archive/issue_comments_072143.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nReplying to [@JohnCremona](#comment:2):\n> I have had a quick look and will go through this in more detail later (after #8828 is completed, probably).  I spent a long time on my C++ implementation of this (over QQ but the algorithm is general) so am quite familiar with the details.\n> \n> Here are two references you should give:  [1] S. Siksek \"Infinite descent on elliptic curves\", Rocky Mountain J of M, Vol 25 No. 4 (1995), 1501-1538.  [2] M. Prickett, \"Saturation of Mordell-Weil groups of elliptic curves over number fields\", U of Nottingham PhD thesis (2004), http://etheses.nottingham.ac.uk/52/.\n\nAh, those look like good references to read too :). \n\n> Martin Prickett implemented this in Magma, but the code was very slow and hard to read so it never got incorporated into Magma releases.\n> \n> Incidentally, it was for this that I implemented group structure for curves over GF(q) in the first place!  In my C++ implementation I cache a lot of the information of this group structure so that when you do p-saturation for larger and larger p, the structures are already there.  \n\nThe way I do it is consider many p at once, and for each curve over GF(q) I see which primes in my set it could help with, though this won't scale as far. I'm sure there's still lots of room for improvement. \n\n> A good example is to take one of those curves of very high rank:  I think I once successfully p-saturated the rank 24 curve at all p < `10^6`  (the bound was totally out of reach, something like `10^100`).\n\nThat reminds me--I was wondering if there's any way to go from min(h(P)) to a bound on the regulator for rank > 1. \n\n> Another point which might be useful over number fields:  it suffices to use degree one primes to reduce modulo.\n\nGood point. Those get pretty rare for large degree number fields though, right?",
    "created_at": "2010-04-30T08:46:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72143",
    "user": "https://github.com/robertwb"
}
```

<div id="comment:3" align="right">comment:3</div>

Replying to [@JohnCremona](#comment:2):
> I have had a quick look and will go through this in more detail later (after #8828 is completed, probably).  I spent a long time on my C++ implementation of this (over QQ but the algorithm is general) so am quite familiar with the details.
> 
> Here are two references you should give:  [1] S. Siksek "Infinite descent on elliptic curves", Rocky Mountain J of M, Vol 25 No. 4 (1995), 1501-1538.  [2] M. Prickett, "Saturation of Mordell-Weil groups of elliptic curves over number fields", U of Nottingham PhD thesis (2004), http://etheses.nottingham.ac.uk/52/.

Ah, those look like good references to read too :). 

> Martin Prickett implemented this in Magma, but the code was very slow and hard to read so it never got incorporated into Magma releases.
> 
> Incidentally, it was for this that I implemented group structure for curves over GF(q) in the first place!  In my C++ implementation I cache a lot of the information of this group structure so that when you do p-saturation for larger and larger p, the structures are already there.  

The way I do it is consider many p at once, and for each curve over GF(q) I see which primes in my set it could help with, though this won't scale as far. I'm sure there's still lots of room for improvement. 

> A good example is to take one of those curves of very high rank:  I think I once successfully p-saturated the rank 24 curve at all p < `10^6`  (the bound was totally out of reach, something like `10^100`).

That reminds me--I was wondering if there's any way to go from min(h(P)) to a bound on the regulator for rank > 1. 

> Another point which might be useful over number fields:  it suffices to use degree one primes to reduce modulo.

Good point. Those get pretty rare for large degree number fields though, right?



---

archive/issue_comments_072144.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nYou might also like to look at my C++ code which is in eclib, in src/qcurves.  I can point to the right files if it is not clear.  In case you wonder, \"TLSS\" stands for \"Tate-Lichtenbaum-Samir_Siksek\" since I use the TL map when the p-torsion in E(GF(q)) is not cyclic and Samir's original method when it is.  Samir only used reduction modulo primes where p exactly divided the order, and in particular for which the reduction had cyclic p-part.  But Martin and I discovered that this can fail when there is a p-isogeny.  Here, fail means in the sense that there can exist points which are not multiples of p in E(QQ) but which map to zero in E(GF(q))/p for all q.\n\nIn MP's thesis he proves that this cannot happen if you use all q, or all but a finite number, or all but a finite number of degree 1 primes, .... some of these  results we then found had been proved elsewhere (3 or 4 times, independently, within 3 or 4 years!).  But it can happen if you leave out the q for which the quotient has non-cyclic p-part.",
    "created_at": "2010-04-30T11:41:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72144",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:4" align="right">comment:4</div>

You might also like to look at my C++ code which is in eclib, in src/qcurves.  I can point to the right files if it is not clear.  In case you wonder, "TLSS" stands for "Tate-Lichtenbaum-Samir_Siksek" since I use the TL map when the p-torsion in E(GF(q)) is not cyclic and Samir's original method when it is.  Samir only used reduction modulo primes where p exactly divided the order, and in particular for which the reduction had cyclic p-part.  But Martin and I discovered that this can fail when there is a p-isogeny.  Here, fail means in the sense that there can exist points which are not multiples of p in E(QQ) but which map to zero in E(GF(q))/p for all q.

In MP's thesis he proves that this cannot happen if you use all q, or all but a finite number, or all but a finite number of degree 1 primes, .... some of these  results we then found had been proved elsewhere (3 or 4 times, independently, within 3 or 4 years!).  But it can happen if you leave out the q for which the quotient has non-cyclic p-part.



---

archive/issue_events_111864.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2010-05-09T17:49:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8829#event-111864"
}
```



---

archive/issue_events_111865.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2010-05-09T17:49:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8829#event-111865"
}
```



---

archive/issue_comments_072145.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nPatch applies fine to 4.4.1 and tests pass.\n\nThis functionality is badly needed!\n\nWe now have heights for points on curves defined over number_fields\nbut no associated regulator function.  I suggest that the function\nregulator_of_points() be moved up from ell_rational_field to\nell_number_field.  This tcan then be called instead of the code in\nlines 424-432 [line numbers are from the patched file, not the patch].\n\nLine 439 uses a function self.height_function() which does not exist.\nThis block needs to be replaced by something sensible.  If one has a lower bound on the height of non-torsion\npoints, then a bound on the index can be deduced from standard\ngeometry of numbers estimates.   To get such a lower bound, see papers\nof Cremona & Siksek (over Q) and Thongjunthug (over number fields) for\nan algorithm which would need to be implemented.  (Not hard over Q,\nnot much harder for totally real fields, quite a lot worse over fields\nwith a complex embedding).  Until this is done, I don't think this\nsaturation function can allow maxprime==0.\n\nIn the rank one code:   when large primes p (say, over 20!) are being\ntested then the division_points code will be expensive since it\ninvolves constructing the multiplication-by-p map.  I would recommend\nusing a reduction strategy here just as in the general case.  To check\np-saturation just find primes q such that #E(Fq) is divisible by p and\nthen see if the reduction of P mod q is a multiple of p.  This will\nalmost always prove saturation very quickly.  If it fails for several\n(say 5) q then try to divide P by p;  else use more q, and so on.\nThere is one theoretical drawback here:  this strategy might fail if\nthere is a rational p-isogeny.  Over Q,  we know which p this might\nhappen for and I would first test for the existence of isogenies of\nprimes degree, and use the division test (as here) for any primes that\nshow up.  Over number fields that's harder to deal with, but again we\ncan fall back on the division test to rpove that P cannot be divided\nby p.\n\nThe function list_of_multiples(P,n) duplicated the generic function\nmultiples() which I wrote for just this sort of purpose!\n\nI don't like the loop through all linear combinations for small\nprimes.  Even with p=2 there are curves with 24 independent points out\nthere and `2^24` divisions is not nice to contemplate.  If you want this\nshort cut, do it based on the size of `p^r`.\n\nThe main code with reduction etc looks fine to me (but I did not check\nthe logic rigorously).\n\nThe gens function for E(K) when E is defined over Q and [K:Q]=2 looks\nfine.  For a more general case we could always try using\nsimon_two_descent (followed by saturation).  Trying such an examples\nled me to:\n\n```\nsage: K.<a> = NumberField(x^2-2)\nsage: E = EllipticCurve([a,0])\nsage: P = E(0,0)\nsage: P.has_finite_order()\nTrue\nsage: P.order()\n2\nsage: P.height()\n0\nsage: E.saturation([P], verbose=True, max_prime=5)\n## infinite loop\n```\nThis is caused as follows:   The height matrix is [0] with det=0 but\nreg / min(heights) is NaN so reg / min(heights) < 1e-6 is False!.\nThis will need fixing.  At the very least, I would discard any points\nof finite order before doing anything else with them.  Then\nmin(heights) will never be 0.\n\nMost of the above is easy to deal with.  The hard part is computing a\nsuitable max_prime form a lower height bound on points.  I suggest\nthat for now you make it compulsory to have a positive max_prime and\nadd a TODO.",
    "created_at": "2010-05-09T17:49:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72145",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:5" align="right">comment:5</div>

Patch applies fine to 4.4.1 and tests pass.

This functionality is badly needed!

We now have heights for points on curves defined over number_fields
but no associated regulator function.  I suggest that the function
regulator_of_points() be moved up from ell_rational_field to
ell_number_field.  This tcan then be called instead of the code in
lines 424-432 [line numbers are from the patched file, not the patch].

Line 439 uses a function self.height_function() which does not exist.
This block needs to be replaced by something sensible.  If one has a lower bound on the height of non-torsion
points, then a bound on the index can be deduced from standard
geometry of numbers estimates.   To get such a lower bound, see papers
of Cremona & Siksek (over Q) and Thongjunthug (over number fields) for
an algorithm which would need to be implemented.  (Not hard over Q,
not much harder for totally real fields, quite a lot worse over fields
with a complex embedding).  Until this is done, I don't think this
saturation function can allow maxprime==0.

In the rank one code:   when large primes p (say, over 20!) are being
tested then the division_points code will be expensive since it
involves constructing the multiplication-by-p map.  I would recommend
using a reduction strategy here just as in the general case.  To check
p-saturation just find primes q such that #E(Fq) is divisible by p and
then see if the reduction of P mod q is a multiple of p.  This will
almost always prove saturation very quickly.  If it fails for several
(say 5) q then try to divide P by p;  else use more q, and so on.
There is one theoretical drawback here:  this strategy might fail if
there is a rational p-isogeny.  Over Q,  we know which p this might
happen for and I would first test for the existence of isogenies of
primes degree, and use the division test (as here) for any primes that
show up.  Over number fields that's harder to deal with, but again we
can fall back on the division test to rpove that P cannot be divided
by p.

The function list_of_multiples(P,n) duplicated the generic function
multiples() which I wrote for just this sort of purpose!

I don't like the loop through all linear combinations for small
primes.  Even with p=2 there are curves with 24 independent points out
there and `2^24` divisions is not nice to contemplate.  If you want this
short cut, do it based on the size of `p^r`.

The main code with reduction etc looks fine to me (but I did not check
the logic rigorously).

The gens function for E(K) when E is defined over Q and [K:Q]=2 looks
fine.  For a more general case we could always try using
simon_two_descent (followed by saturation).  Trying such an examples
led me to:

```
sage: K.<a> = NumberField(x^2-2)
sage: E = EllipticCurve([a,0])
sage: P = E(0,0)
sage: P.has_finite_order()
True
sage: P.order()
2
sage: P.height()
0
sage: E.saturation([P], verbose=True, max_prime=5)
## infinite loop
```
This is caused as follows:   The height matrix is [0] with det=0 but
reg / min(heights) is NaN so reg / min(heights) < 1e-6 is False!.
This will need fixing.  At the very least, I would discard any points
of finite order before doing anything else with them.  Then
min(heights) will never be 0.

Most of the above is easy to deal with.  The hard part is computing a
suitable max_prime form a lower height bound on points.  I suggest
that for now you make it compulsory to have a positive max_prime and
add a TODO.



---

archive/issue_comments_072146.json:
```json
{
    "body": "Author: **Robert Bradshaw**",
    "created_at": "2010-05-09T17:49:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72146",
    "user": "https://github.com/JohnCremona"
}
```

Author: **Robert Bradshaw**



---

archive/issue_comments_072147.json:
```json
{
    "body": "Reviewer: **John Cremona**",
    "created_at": "2010-05-09T17:49:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72147",
    "user": "https://github.com/JohnCremona"
}
```

Reviewer: **John Cremona**



---

archive/issue_comments_072148.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nThank you for all your input. `self.height_function` comes from #8828, though as you suggest we could make max_prime mandatory for now (and for rank > 1 once that goes in). That's a good point about large primes in the rank one case. I found the loop through all linear combinations to be much faster in practice for small primes, but the hard coded `p == 2` case was left by accident, I meant to cap that on `p^r` as I did the others. \n\nI probably won't fix and polish this up before finishing my thesis, but at the latest we should be able to get it done during the workshop at MSRI next month.",
    "created_at": "2010-05-11T18:17:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72148",
    "user": "https://github.com/robertwb"
}
```

<div id="comment:6" align="right">comment:6</div>

Thank you for all your input. `self.height_function` comes from #8828, though as you suggest we could make max_prime mandatory for now (and for rank > 1 once that goes in). That's a good point about large primes in the rank one case. I found the loop through all linear combinations to be much faster in practice for small primes, but the hard coded `p == 2` case was left by accident, I meant to cap that on `p^r` as I did the others. 

I probably won't fix and polish this up before finishing my thesis, but at the latest we should be able to get it done during the workshop at MSRI next month.



---

archive/issue_comments_072149.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@robertwb](#comment:6):\n> Thank you for all your input. `self.height_function` comes from #8828, though as you suggest we could make max_prime mandatory for now (and for rank > 1 once that goes in). That's a good point about large primes in the rank one case. I found the loop through all linear combinations to be much faster in practice for small primes, but the hard coded `p == 2` case was left by accident, I meant to cap that on `p^r` as I did the others. \n> \n> I probably won't fix and polish this up before finishing my thesis, but at the latest we should be able to get it done during the workshop at MSRI next month. \n\nOK -- looking forward to it!  I'll take a look at #8828 by then as well.",
    "created_at": "2010-05-11T20:48:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72149",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@robertwb](#comment:6):
> Thank you for all your input. `self.height_function` comes from #8828, though as you suggest we could make max_prime mandatory for now (and for rank > 1 once that goes in). That's a good point about large primes in the rank one case. I found the loop through all linear combinations to be much faster in practice for small primes, but the hard coded `p == 2` case was left by accident, I meant to cap that on `p^r` as I did the others. 
> 
> I probably won't fix and polish this up before finishing my thesis, but at the latest we should be able to get it done during the workshop at MSRI next month. 

OK -- looking forward to it!  I'll take a look at #8828 by then as well.



---

archive/issue_comments_072150.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nSince rwb is now busy at Google, and I want this functionality, I am now implementing the changes I suggested above!",
    "created_at": "2010-06-29T04:54:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72150",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:8" align="right">comment:8</div>

Since rwb is now busy at Google, and I want this functionality, I am now implementing the changes I suggested above!



---

archive/issue_comments_072151.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nI made a separate ticket for the regulator functions.  See #9372.",
    "created_at": "2010-06-29T04:59:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72151",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:9" align="right">comment:9</div>

I made a separate ticket for the regulator functions.  See #9372.



---

archive/issue_comments_072152.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nHow is this going John?  It seems to have been awhile....",
    "created_at": "2012-10-15T09:36:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72152",
    "user": "https://github.com/roed314"
}
```

<div id="comment:10" align="right">comment:10</div>

How is this going John?  It seems to have been awhile....



---

archive/issue_comments_072153.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nSee #12509: until we can fix the height computation, saturation cannot be carried out properly.  It's still on my to-do list though.",
    "created_at": "2013-01-08T09:28:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72153",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:11" align="right">comment:11</div>

See #12509: until we can fix the height computation, saturation cannot be carried out properly.  It's still on my to-do list though.



---

archive/issue_comments_072154.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@JohnCremona](#comment:11):\n> See #12509: until we can fix the height computation, saturation cannot be carried out properly.  It's still on my to-do list though.\n\n#12509 is now up for review.",
    "created_at": "2013-01-10T09:30:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72154",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@JohnCremona](#comment:11):
> See #12509: until we can fix the height computation, saturation cannot be carried out properly.  It's still on my to-do list though.

#12509 is now up for review.



---

archive/issue_events_111866.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8829#event-111866"
}
```



---

archive/issue_events_111867.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8829#event-111867"
}
```



---

archive/issue_comments_072155.json:
```json
{
    "body": "Dependencies: **#8828**",
    "created_at": "2014-01-07T14:48:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72155",
    "user": "https://github.com/JohnCremona"
}
```

Dependencies: **#8828**



---

archive/issue_events_111868.json:
```json
{
    "actor": "https://github.com/nbruin",
    "created_at": "2014-01-08T15:28:11Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "title_is": "Saturation for MW-groups of elliptic curves over number fields.",
    "title_was": "Saturation for curves over number fields.",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8829#event-111868"
}
```



---

archive/issue_events_111869.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8829#event-111869"
}
```



---

archive/issue_events_111870.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8829#event-111870"
}
```



---

archive/issue_events_111871.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8829#event-111871"
}
```



---

archive/issue_events_111872.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8829#event-111872"
}
```



---

archive/issue_events_111873.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8829#event-111873"
}
```



---

archive/issue_events_111874.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8829#event-111874"
}
```



---

archive/issue_comments_072156.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nI do not know why this was left drifting, but I really need it myself now so will look at it again, rebase on 6.8 and see what we can do.  But I only have one day before a week off, so...",
    "created_at": "2015-08-13T16:05:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72156",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:20" align="right">comment:20</div>

I do not know why this was left drifting, but I really need it myself now so will look at it again, rebase on 6.8 and see what we can do.  But I only have one day before a week off, so...



---

archive/issue_comments_072157.json:
```json
{
    "body": "Commit: **[`0e1e35f`](https://github.com/sagemath/sagetrac-mirror/commit/0e1e35f624edb087d3fb1ddc21226fec7acfafad)**",
    "created_at": "2015-09-11T16:16:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72157",
    "user": "https://github.com/JohnCremona"
}
```

Commit: **[`0e1e35f`](https://github.com/sagemath/sagetrac-mirror/commit/0e1e35f624edb087d3fb1ddc21226fec7acfafad)**



---

archive/issue_comments_072158.json:
```json
{
    "body": "Changed keywords from none to **saturation**",
    "created_at": "2015-09-11T16:16:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72158",
    "user": "https://github.com/JohnCremona"
}
```

Changed keywords from none to **saturation**



---

archive/issue_comments_072159.json:
```json
{
    "body": "Branch: **[u/cremona/8829](https://github.com/sagemath/sagetrac-mirror/tree/u/cremona/8829)**",
    "created_at": "2015-09-11T16:16:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72159",
    "user": "https://github.com/JohnCremona"
}
```

Branch: **[u/cremona/8829](https://github.com/sagemath/sagetrac-mirror/tree/u/cremona/8829)**



---

archive/issue_comments_072160.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/be41e01ce73b35489e0deb11e13740a9a5b2944e\">be41e01</a></td><td><code>first work on updating #9929 to a working branch (not done yet)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4b4fc2157b2e514d27a3458a86dcfff2620df967\">4b4fc21</a></td><td><code>#8829: ell_height now passes its doctests...</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0e1e35f624edb087d3fb1ddc21226fec7acfafad\">0e1e35f</a></td><td><code>#8829: refactored saturation;  ell_number_field passes its doctests but more testing and tests needed...</code></td></tr></table>\n",
    "created_at": "2015-09-11T16:16:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72160",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:21"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/be41e01ce73b35489e0deb11e13740a9a5b2944e">be41e01</a></td><td><code>first work on updating #9929 to a working branch (not done yet)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4b4fc2157b2e514d27a3458a86dcfff2620df967">4b4fc21</a></td><td><code>#8829: ell_height now passes its doctests...</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0e1e35f624edb087d3fb1ddc21226fec7acfafad">0e1e35f</a></td><td><code>#8829: refactored saturation;  ell_number_field passes its doctests but more testing and tests needed...</code></td></tr></table>




---

archive/issue_comments_072161.json:
```json
{
    "body": "Changed author from **Robert Bradshaw** to **Robert Bradshaw, John Cremona**",
    "created_at": "2015-09-11T16:16:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72161",
    "user": "https://github.com/JohnCremona"
}
```

Changed author from **Robert Bradshaw** to **Robert Bradshaw, John Cremona**



---

archive/issue_comments_072162.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,4 @@\n+Implementation of saturation of points on elliptic curves over number fields.  Originap patch by Robert Bradshaw in 2010, refactored and made into a git branch by John Cremona in 2015.\n+\n I also implemented the simple case of E.gens() for E(K) when E/Q and [K:Q] = 2. \n+\n``````\n",
    "created_at": "2015-09-11T16:16:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72162",
    "user": "https://github.com/JohnCremona"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,4 @@
+Implementation of saturation of points on elliptic curves over number fields.  Originap patch by Robert Bradshaw in 2010, refactored and made into a git branch by John Cremona in 2015.
+
 I also implemented the simple case of E.gens() for E(K) when E/Q and [K:Q] = 2. 
+
``````




---

archive/issue_comments_072163.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nCurrent branch works but more doctests and testing are needed; so not ready for review yet.\n\nI did a lot of rewriting of the main saturation routine, separating off p-saturation and also allowing saturation to be done at just one prime.  This is a useful special case, since if you take the images of some saturated points under a p-isogeny the images may not be p-saturated but will still be saturated at all other primes.\n\nThe code for computing E(K) when K is quadratic and E is a base change has been completely rewritten and will now work in many more cases (not just when the coefficients of E are in Q).",
    "created_at": "2015-09-11T16:18:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72163",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:22" align="right">comment:22</div>

Current branch works but more doctests and testing are needed; so not ready for review yet.

I did a lot of rewriting of the main saturation routine, separating off p-saturation and also allowing saturation to be done at just one prime.  This is a useful special case, since if you take the images of some saturated points under a p-isogeny the images may not be p-saturated but will still be saturated at all other primes.

The code for computing E(K) when K is quadratic and E is a base change has been completely rewritten and will now work in many more cases (not just when the coefficients of E are in Q).



---

archive/issue_comments_072164.json:
```json
{
    "body": "<div id=\"comment:23\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a85f40629df89da829e3a38d9e0443576bced01d\">a85f406</a></td><td><code>#8829: finished doctests for ec/nf saturation</code></td></tr></table>\n",
    "created_at": "2015-09-14T16:09:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72164",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a85f40629df89da829e3a38d9e0443576bced01d">a85f406</a></td><td><code>#8829: finished doctests for ec/nf saturation</code></td></tr></table>




---

archive/issue_comments_072165.json:
```json
{
    "body": "Changed commit from **[`0e1e35f`](https://github.com/sagemath/sagetrac-mirror/commit/0e1e35f624edb087d3fb1ddc21226fec7acfafad)** to **[`a85f406`](https://github.com/sagemath/sagetrac-mirror/commit/a85f40629df89da829e3a38d9e0443576bced01d)**",
    "created_at": "2015-09-14T16:09:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72165",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0e1e35f`](https://github.com/sagemath/sagetrac-mirror/commit/0e1e35f624edb087d3fb1ddc21226fec7acfafad)** to **[`a85f406`](https://github.com/sagemath/sagetrac-mirror/commit/a85f40629df89da829e3a38d9e0443576bced01d)**



---

archive/issue_comments_072166.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nThe latest commit involves more than adding more doctests to the new functions, since bugs were revealed which led to a rewrite of the sieving code for the two cases where the p-rank of the reduction is 1 or 2; the former uses discrete log in the reduction, the latter uses Weil pairing and discrte log in the multiplicative group.  In the sieve I restrict to primes of degree 1.  It is a Theorem (see http://eprints.nottingham.ac.uk/10052/) that this will suffice to prove p-saturation, provided that one does use reductions with p-rank 2 and not just those of p-rank 1 as originally suggested by Siksek in https://ore.exeter.ac.uk/repository/handle/10871/8323 .\n\nI will mark this as ready for review so the bots get to work on it, and of course humans are welcome to look at the new code, but I will now test it thoroughly on the LMFDB curves and report back.",
    "created_at": "2015-09-14T16:16:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72166",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:24" align="right">comment:24</div>

The latest commit involves more than adding more doctests to the new functions, since bugs were revealed which led to a rewrite of the sieving code for the two cases where the p-rank of the reduction is 1 or 2; the former uses discrete log in the reduction, the latter uses Weil pairing and discrte log in the multiplicative group.  In the sieve I restrict to primes of degree 1.  It is a Theorem (see http://eprints.nottingham.ac.uk/10052/) that this will suffice to prove p-saturation, provided that one does use reductions with p-rank 2 and not just those of p-rank 1 as originally suggested by Siksek in https://ore.exeter.ac.uk/repository/handle/10871/8323 .

I will mark this as ready for review so the bots get to work on it, and of course humans are welcome to look at the new code, but I will now test it thoroughly on the LMFDB curves and report back.



---

archive/issue_comments_072167.json:
```json
{
    "body": "Changed reviewer from **John Cremona** to none",
    "created_at": "2015-09-14T16:17:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72167",
    "user": "https://github.com/JohnCremona"
}
```

Changed reviewer from **John Cremona** to none



---

archive/issue_events_111875.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2015-09-14T16:17:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8829#event-111875"
}
```



---

archive/issue_events_111876.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2015-09-14T16:17:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8829#event-111876"
}
```



---

archive/issue_comments_072168.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nHello,\n\n1) indent correctly the INPUT and OUTPUT fields:\n\n```\nINPUT:\n\n- first thing\n  goes one there (note the shift of 2 characters)\n```\n\n2) use the new syntax for raise:\n\n```\nraise MyError(\"is rich\")\n```\n\nPoint 1 may be the source of the doc build failure found by the bot:\n\nOSError: [plane_cur] /home/patchbot/sage-patchbot/local/lib/python2.7/site-packages/sage/schemes/elliptic_curves/ell_number_field.py:docstring of sage.schemes.elliptic_curves.ell_number_field.EllipticCurve_number_field.saturation:9: WARNING: Bullet list ends without a blank line; unexpected unindent.",
    "created_at": "2015-09-14T17:52:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72168",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:26" align="right">comment:26</div>

Hello,

1) indent correctly the INPUT and OUTPUT fields:

```
INPUT:

- first thing
  goes one there (note the shift of 2 characters)
```

2) use the new syntax for raise:

```
raise MyError("is rich")
```

Point 1 may be the source of the doc build failure found by the bot:

OSError: [plane_cur] /home/patchbot/sage-patchbot/local/lib/python2.7/site-packages/sage/schemes/elliptic_curves/ell_number_field.py:docstring of sage.schemes.elliptic_curves.ell_number_field.EllipticCurve_number_field.saturation:9: WARNING: Bullet list ends without a blank line; unexpected unindent.



---

archive/issue_comments_072169.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@fchapoton](#comment:26):\n> Hello,\n> \n> 1) indent correctly the INPUT and OUTPUT fields:\n> \n> ```\n> INPUT:\n> \n> - first thing\n>   goes one there (note the shift of 2 characters)\n> ```\n> \n> 2) use the new syntax for raise:\n> \n> ```\n> raise MyError(\"is rich\")\n> ```\n> \n> Point 1 may be the source of the doc build failure found by the bot:\n> \n> OSError: [plane_cur] /home/patchbot/sage-patchbot/local/lib/python2.7/site-packages/sage/schemes/elliptic_curves/ell_number_field.py:docstring of sage.schemes.elliptic_curves.ell_number_field.EllipticCurve_number_field.saturation:9: WARNING: Bullet list ends without a blank line; unexpected unindent.\n\nThanks, I will fix those.",
    "created_at": "2015-09-14T18:34:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72169",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@fchapoton](#comment:26):
> Hello,
> 
> 1) indent correctly the INPUT and OUTPUT fields:
> 
> ```
> INPUT:
> 
> - first thing
>   goes one there (note the shift of 2 characters)
> ```
> 
> 2) use the new syntax for raise:
> 
> ```
> raise MyError("is rich")
> ```
> 
> Point 1 may be the source of the doc build failure found by the bot:
> 
> OSError: [plane_cur] /home/patchbot/sage-patchbot/local/lib/python2.7/site-packages/sage/schemes/elliptic_curves/ell_number_field.py:docstring of sage.schemes.elliptic_curves.ell_number_field.EllipticCurve_number_field.saturation:9: WARNING: Bullet list ends without a blank line; unexpected unindent.

Thanks, I will fix those.



---

archive/issue_comments_072170.json:
```json
{
    "body": "Changed commit from **[`a85f406`](https://github.com/sagemath/sagetrac-mirror/commit/a85f40629df89da829e3a38d9e0443576bced01d)** to **[`4f511b8`](https://github.com/sagemath/sagetrac-mirror/commit/4f511b89fd199d070bad0d1054efa148d765fdf6)**",
    "created_at": "2015-09-14T19:01:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72170",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a85f406`](https://github.com/sagemath/sagetrac-mirror/commit/a85f40629df89da829e3a38d9e0443576bced01d)** to **[`4f511b8`](https://github.com/sagemath/sagetrac-mirror/commit/4f511b89fd199d070bad0d1054efa148d765fdf6)**



---

archive/issue_comments_072171.json:
```json
{
    "body": "<div id=\"comment:28\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4f511b89fd199d070bad0d1054efa148d765fdf6\">4f511b8</a></td><td><code>fixup doc errors and raise() syntax</code></td></tr></table>\n",
    "created_at": "2015-09-14T19:01:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72171",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:28"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4f511b89fd199d070bad0d1054efa148d765fdf6">4f511b8</a></td><td><code>fixup doc errors and raise() syntax</code></td></tr></table>




---

archive/issue_events_111877.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-09-15T09:57:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8829#event-111877"
}
```



---

archive/issue_events_111878.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-09-15T09:57:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8829#event-111878"
}
```



---

archive/issue_comments_072172.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nmany failing doctests, see bot report",
    "created_at": "2015-09-15T09:57:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72172",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:29" align="right">comment:29</div>

many failing doctests, see bot report



---

archive/issue_comments_072173.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nApologies, it was a mistake to set this to needs_review prematurely.  Next time I do, I will mean it.",
    "created_at": "2015-09-15T10:33:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72173",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:30" align="right">comment:30</div>

Apologies, it was a mistake to set this to needs_review prematurely.  Next time I do, I will mean it.



---

archive/issue_comments_072174.json:
```json
{
    "body": "Changed commit from **[`4f511b8`](https://github.com/sagemath/sagetrac-mirror/commit/4f511b89fd199d070bad0d1054efa148d765fdf6)** to **[`2f20f73`](https://github.com/sagemath/sagetrac-mirror/commit/2f20f7373a13e2267bc5ae3d2a7cae93278a76c4)**",
    "created_at": "2015-09-15T11:09:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72174",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4f511b8`](https://github.com/sagemath/sagetrac-mirror/commit/4f511b89fd199d070bad0d1054efa148d765fdf6)** to **[`2f20f73`](https://github.com/sagemath/sagetrac-mirror/commit/2f20f7373a13e2267bc5ae3d2a7cae93278a76c4)**



---

archive/issue_comments_072175.json:
```json
{
    "body": "<div id=\"comment:31\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1647ce23fc11efbeb62cb64e1d6f8fe0984d47e3\">1647ce2</a></td><td><code>#8829: rewrote projections() so dlogs computed in smaller subgroups</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2f20f7373a13e2267bc5ae3d2a7cae93278a76c4\">2f20f73</a></td><td><code>Merge branch 'develop' (6.9.beta6) into saturate</code></td></tr></table>\n",
    "created_at": "2015-09-15T11:09:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72175",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:31"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1647ce23fc11efbeb62cb64e1d6f8fe0984d47e3">1647ce2</a></td><td><code>#8829: rewrote projections() so dlogs computed in smaller subgroups</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2f20f7373a13e2267bc5ae3d2a7cae93278a76c4">2f20f73</a></td><td><code>Merge branch 'develop' (6.9.beta6) into saturate</code></td></tr></table>




---

archive/issue_comments_072176.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nProgress report:  I am currently running the p-saturation (for single primes) on lots of LMFDB curves and all is well so far.  This is almost always for very small p (mainly 2 and 3) though, since I am starting with some saturated points on one curve (provided by Magma) and using p-isogenies to map to other curves in the isogeny class.  Higher degree isogenies are not so common.\n\nI did start to veryify that the points from Magma were fully saturated, but ran into problems computing the saturation index, using (line 3717) the lower bound on the height of all non-torsion points -- previously implemented and merged i n6.3 (see #8828).  For example, I had a curve where the value of 5 in that line was insufficient *and led to an infinite loop in the call to min()*, while 10 worked fine, but now I have a curve where I have not yet found a value which gives anything.  For the record I will give that example here:\n\n```\nK.<phi> = NumberField(x^2-x-1) # Q(sqrt(5))\nE = EllipticCurve([phi + 1, -phi + 1, 1, 20*phi - 39, 196*phi + 237])\nH = E.height_function()\nH.min(.1,10,verbose=True) #  does not appear to terminate\n```\n\nStrictly this is about the code merged in #8828, but it will need fixing here before we can let this (useful!) function out into the world.",
    "created_at": "2015-09-16T11:38:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72176",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:32" align="right">comment:32</div>

Progress report:  I am currently running the p-saturation (for single primes) on lots of LMFDB curves and all is well so far.  This is almost always for very small p (mainly 2 and 3) though, since I am starting with some saturated points on one curve (provided by Magma) and using p-isogenies to map to other curves in the isogeny class.  Higher degree isogenies are not so common.

I did start to veryify that the points from Magma were fully saturated, but ran into problems computing the saturation index, using (line 3717) the lower bound on the height of all non-torsion points -- previously implemented and merged i n6.3 (see #8828).  For example, I had a curve where the value of 5 in that line was insufficient *and led to an infinite loop in the call to min()*, while 10 worked fine, but now I have a curve where I have not yet found a value which gives anything.  For the record I will give that example here:

```
K.<phi> = NumberField(x^2-x-1) # Q(sqrt(5))
E = EllipticCurve([phi + 1, -phi + 1, 1, 20*phi - 39, 196*phi + 237])
H = E.height_function()
H.min(.1,10,verbose=True) #  does not appear to terminate
```

Strictly this is about the code merged in #8828, but it will need fixing here before we can let this (useful!) function out into the world.



---

archive/issue_comments_072177.json:
```json
{
    "body": "<div id=\"comment:33\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7dbb186ac35a7b1ac71040d404717d36406c5a0d\">7dbb186</a></td><td><code>Merge branch 'develop' of trac.sagemath.org:sage into isogs</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c66d49f8c804718e083f042dcb8af46db9174f6b\">c66d49f</a></td><td><code>Merge branch 'develop' of trac.sagemath.org:sage into isogs</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ce2472b51bc712f4568eccd9abef26cef3f400da\">ce2472b</a></td><td><code>Merge branch 'isogs' into sat+isogs</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8c80b6fc455a9c512a07f0e4686f38d5b5ba71aa\">8c80b6f</a></td><td><code>Merge branch 'saturate' into sat+isogs</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8686677fa5cdf4359fd6f6b8d8e25925f6893a4c\">8686677</a></td><td><code>8829: two bug fixes, more tests</code></td></tr></table>\n",
    "created_at": "2015-09-17T13:55:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72177",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:33"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7dbb186ac35a7b1ac71040d404717d36406c5a0d">7dbb186</a></td><td><code>Merge branch 'develop' of trac.sagemath.org:sage into isogs</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c66d49f8c804718e083f042dcb8af46db9174f6b">c66d49f</a></td><td><code>Merge branch 'develop' of trac.sagemath.org:sage into isogs</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ce2472b51bc712f4568eccd9abef26cef3f400da">ce2472b</a></td><td><code>Merge branch 'isogs' into sat+isogs</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8c80b6fc455a9c512a07f0e4686f38d5b5ba71aa">8c80b6f</a></td><td><code>Merge branch 'saturate' into sat+isogs</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8686677fa5cdf4359fd6f6b8d8e25925f6893a4c">8686677</a></td><td><code>8829: two bug fixes, more tests</code></td></tr></table>




---

archive/issue_comments_072178.json:
```json
{
    "body": "Changed commit from **[`2f20f73`](https://github.com/sagemath/sagetrac-mirror/commit/2f20f7373a13e2267bc5ae3d2a7cae93278a76c4)** to **[`8686677`](https://github.com/sagemath/sagetrac-mirror/commit/8686677fa5cdf4359fd6f6b8d8e25925f6893a4c)**",
    "created_at": "2015-09-17T13:55:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72178",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2f20f73`](https://github.com/sagemath/sagetrac-mirror/commit/2f20f7373a13e2267bc5ae3d2a7cae93278a76c4)** to **[`8686677`](https://github.com/sagemath/sagetrac-mirror/commit/8686677fa5cdf4359fd6f6b8d8e25925f6893a4c)**



---

archive/issue_comments_072179.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nThe latest branch I just pushed has some merges in it which were not intended but I hope that will not cause any problems -- as well as merging 6.9.beta6 I also merged by branch 'isogs' which has been merged into beta7.\n\nOne bug fix addresses the previous comment -- after re-reading my own 2006 paper I found that the original implementer from #8828 had missed one point (when mu is halved one must increment n_max in order to guarantee termination).   A small additional improvement in the same place (the method min_gr() in height.py) now gives a small improvement in the bound, which is why one doctest there has been changed.\n\nThe second bug was to do with mutability of lists giving unwanted side effects, and is commented at the point in the source which has changed.\n\nIt is likely that users who call the saturation() method will also want to lll_reduce() the output but I have not made that automatic.\n\nI will set this to needs_review once my own full test has completed.",
    "created_at": "2015-09-17T14:06:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72179",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:34" align="right">comment:34</div>

The latest branch I just pushed has some merges in it which were not intended but I hope that will not cause any problems -- as well as merging 6.9.beta6 I also merged by branch 'isogs' which has been merged into beta7.

One bug fix addresses the previous comment -- after re-reading my own 2006 paper I found that the original implementer from #8828 had missed one point (when mu is halved one must increment n_max in order to guarantee termination).   A small additional improvement in the same place (the method min_gr() in height.py) now gives a small improvement in the bound, which is why one doctest there has been changed.

The second bug was to do with mutability of lists giving unwanted side effects, and is commented at the point in the source which has changed.

It is likely that users who call the saturation() method will also want to lll_reduce() the output but I have not made that automatic.

I will set this to needs_review once my own full test has completed.



---

archive/issue_events_111879.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2015-09-17T14:13:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8829#event-111879"
}
```



---

archive/issue_events_111880.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2015-09-17T14:13:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8829#event-111880"
}
```



---

archive/issue_events_111881.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2015-09-19T09:00:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8829#event-111881"
}
```



---

archive/issue_events_111882.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2015-09-19T09:00:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8829#event-111882"
}
```



---

archive/issue_comments_072180.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-Implementation of saturation of points on elliptic curves over number fields.  Originap patch by Robert Bradshaw in 2010, refactored and made into a git branch by John Cremona in 2015.\n+Implementation of saturation of points on elliptic curves over number fields.  Original patch by Robert Bradshaw in 2010, refactored and made into a git branch by John Cremona in 2015.\n \n I also implemented the simple case of E.gens() for E(K) when E/Q and [K:Q] = 2. \n \n``````\n",
    "created_at": "2015-09-19T09:00:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72180",
    "user": "https://github.com/JohnCremona"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-Implementation of saturation of points on elliptic curves over number fields.  Originap patch by Robert Bradshaw in 2010, refactored and made into a git branch by John Cremona in 2015.
+Implementation of saturation of points on elliptic curves over number fields.  Original patch by Robert Bradshaw in 2010, refactored and made into a git branch by John Cremona in 2015.
 
 I also implemented the simple case of E.gens() for E(K) when E/Q and [K:Q] = 2. 
 
``````




---

archive/issue_comments_072181.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nAfter further testing (on many thousands of curves but only p-saturating for small p) I saw that it was bad to use discrete_log_lambda() for the dlog in the multiplcative group (in the rarer case where the p-rank of the reduction is 2 and the Weil pairing is used), both unnecessary and less efficient than simply w.log(zeta).\nOne additional commit coming up...",
    "created_at": "2015-09-19T09:00:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72181",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:36" align="right">comment:36</div>

After further testing (on many thousands of curves but only p-saturating for small p) I saw that it was bad to use discrete_log_lambda() for the dlog in the multiplcative group (in the rarer case where the p-rank of the reduction is 2 and the Weil pairing is used), both unnecessary and less efficient than simply w.log(zeta).
One additional commit coming up...



---

archive/issue_comments_072182.json:
```json
{
    "body": "Changed commit from **[`8686677`](https://github.com/sagemath/sagetrac-mirror/commit/8686677fa5cdf4359fd6f6b8d8e25925f6893a4c)** to **[`9915881`](https://github.com/sagemath/sagetrac-mirror/commit/99158817c3895207ebae8f3dc06e83f0b7c6a1cb)**",
    "created_at": "2015-09-19T10:35:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72182",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8686677`](https://github.com/sagemath/sagetrac-mirror/commit/8686677fa5cdf4359fd6f6b8d8e25925f6893a4c)** to **[`9915881`](https://github.com/sagemath/sagetrac-mirror/commit/99158817c3895207ebae8f3dc06e83f0b7c6a1cb)**



---

archive/issue_comments_072183.json:
```json
{
    "body": "<div id=\"comment:37\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/99158817c3895207ebae8f3dc06e83f0b7c6a1cb\">9915881</a></td><td><code>changed multiplicative dlog to not use discrte_log_lambda</code></td></tr></table>\n",
    "created_at": "2015-09-19T10:35:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72183",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:37"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/99158817c3895207ebae8f3dc06e83f0b7c6a1cb">9915881</a></td><td><code>changed multiplicative dlog to not use discrte_log_lambda</code></td></tr></table>




---

archive/issue_events_111883.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2015-09-19T10:37:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8829#event-111883"
}
```



---

archive/issue_events_111884.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2015-09-19T10:37:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8829#event-111884"
}
```



---

archive/issue_events_111885.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2015-09-25T17:09:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8829#event-111885"
}
```



---

archive/issue_events_111886.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2015-09-25T17:09:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8829#event-111886"
}
```



---

archive/issue_comments_072184.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nThere's some bug in the Weil pairing section which I don't have time to fix now, and this has missed 6.9 anyway.",
    "created_at": "2015-09-25T17:09:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72184",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:39" align="right">comment:39</div>

There's some bug in the Weil pairing section which I don't have time to fix now, and this has missed 6.9 anyway.



---

archive/issue_comments_072185.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nI did do more work on that but did not get to the bottom of it.  Just keeping the ticket alive!",
    "created_at": "2015-12-10T16:43:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72185",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:40" align="right">comment:40</div>

I did do more work on that but did not get to the bottom of it.  Just keeping the ticket alive!



---

archive/issue_comments_072186.json:
```json
{
    "body": "Changed commit from **[`9915881`](https://github.com/sagemath/sagetrac-mirror/commit/99158817c3895207ebae8f3dc06e83f0b7c6a1cb)** to **[`f3eb76a`](https://github.com/sagemath/sagetrac-mirror/commit/f3eb76aaffcd66e55aa48a0ca3fce51f1a4d3a19)**",
    "created_at": "2015-12-28T13:53:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72186",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9915881`](https://github.com/sagemath/sagetrac-mirror/commit/99158817c3895207ebae8f3dc06e83f0b7c6a1cb)** to **[`f3eb76a`](https://github.com/sagemath/sagetrac-mirror/commit/f3eb76aaffcd66e55aa48a0ca3fce51f1a4d3a19)**



---

archive/issue_comments_072187.json:
```json
{
    "body": "<div id=\"comment:41\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e481c40e132acee0fe35d8a6ebcacfc9ddd4f893\">e481c40</a></td><td><code>first work on updating #9929 to a working branch (not done yet)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/00b6ac6ea2d4d516add0c751494a326d0fae26c8\">00b6ac6</a></td><td><code>#8829: ell_height now passes its doctests...</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8c44155ad2e84a7d1901e13166faa0681722537e\">8c44155</a></td><td><code>#8829: refactored saturation;  ell_number_field passes its doctests but more testing and tests needed...</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a64e3c93f4ad7f305a5c4d8de538909a0acad5d1\">a64e3c9</a></td><td><code>#8829: finished doctests for ec/nf saturation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/573d4b7124ccc199975ab4244621796755ed8082\">573d4b7</a></td><td><code>fixup doc errors and raise() syntax</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7b2f1de2e720172e7abb6a1e0d82ddb14d2b00d0\">7b2f1de</a></td><td><code>#8829: rewrote projections() so dlogs computed in smaller subgroups</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f3eb76aaffcd66e55aa48a0ca3fce51f1a4d3a19\">f3eb76a</a></td><td><code>added check to catch Weil pairing errors during saturation</code></td></tr></table>\n",
    "created_at": "2015-12-28T13:53:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72187",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:41"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e481c40e132acee0fe35d8a6ebcacfc9ddd4f893">e481c40</a></td><td><code>first work on updating #9929 to a working branch (not done yet)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/00b6ac6ea2d4d516add0c751494a326d0fae26c8">00b6ac6</a></td><td><code>#8829: ell_height now passes its doctests...</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8c44155ad2e84a7d1901e13166faa0681722537e">8c44155</a></td><td><code>#8829: refactored saturation;  ell_number_field passes its doctests but more testing and tests needed...</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a64e3c93f4ad7f305a5c4d8de538909a0acad5d1">a64e3c9</a></td><td><code>#8829: finished doctests for ec/nf saturation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/573d4b7124ccc199975ab4244621796755ed8082">573d4b7</a></td><td><code>fixup doc errors and raise() syntax</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7b2f1de2e720172e7abb6a1e0d82ddb14d2b00d0">7b2f1de</a></td><td><code>#8829: rewrote projections() so dlogs computed in smaller subgroups</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f3eb76aaffcd66e55aa48a0ca3fce51f1a4d3a19">f3eb76a</a></td><td><code>added check to catch Weil pairing errors during saturation</code></td></tr></table>




---

archive/issue_comments_072188.json:
```json
{
    "body": "Changed commit from **[`f3eb76a`](https://github.com/sagemath/sagetrac-mirror/commit/f3eb76aaffcd66e55aa48a0ca3fce51f1a4d3a19)** to **[`a135224`](https://github.com/sagemath/sagetrac-mirror/commit/a135224f6a7b28c913b4fbe77ade7ed1d15094c3)**",
    "created_at": "2016-01-04T15:25:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72188",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f3eb76a`](https://github.com/sagemath/sagetrac-mirror/commit/f3eb76aaffcd66e55aa48a0ca3fce51f1a4d3a19)** to **[`a135224`](https://github.com/sagemath/sagetrac-mirror/commit/a135224f6a7b28c913b4fbe77ade7ed1d15094c3)**



---

archive/issue_comments_072189.json:
```json
{
    "body": "<div id=\"comment:42\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e986230ada9dee6162e88183d23efea87ff3880f\">e986230</a></td><td><code>8829: two bug fixes, more tests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a135224f6a7b28c913b4fbe77ade7ed1d15094c3\">a135224</a></td><td><code>changed multiplicative dlog to not use discrete_log_lambda</code></td></tr></table>\n",
    "created_at": "2016-01-04T15:25:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72189",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:42"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e986230ada9dee6162e88183d23efea87ff3880f">e986230</a></td><td><code>8829: two bug fixes, more tests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a135224f6a7b28c913b4fbe77ade7ed1d15094c3">a135224</a></td><td><code>changed multiplicative dlog to not use discrete_log_lambda</code></td></tr></table>




---

archive/issue_comments_072190.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nMerging with 7.1.beta3....",
    "created_at": "2016-02-17T13:20:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72190",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:43" align="right">comment:43</div>

Merging with 7.1.beta3....



---

archive/issue_comments_072191.json:
```json
{
    "body": "<div id=\"comment:44\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/70bb203a14669ff411b2035e33112462c7053707\">70bb203</a></td><td><code>fix merge conflicts in ell_number_field</code></td></tr></table>\n",
    "created_at": "2016-02-17T16:49:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72191",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:44"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/70bb203a14669ff411b2035e33112462c7053707">70bb203</a></td><td><code>fix merge conflicts in ell_number_field</code></td></tr></table>




---

archive/issue_comments_072192.json:
```json
{
    "body": "Changed commit from **[`a135224`](https://github.com/sagemath/sagetrac-mirror/commit/a135224f6a7b28c913b4fbe77ade7ed1d15094c3)** to **[`70bb203`](https://github.com/sagemath/sagetrac-mirror/commit/70bb203a14669ff411b2035e33112462c7053707)**",
    "created_at": "2016-02-17T16:49:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72192",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a135224`](https://github.com/sagemath/sagetrac-mirror/commit/a135224f6a7b28c913b4fbe77ade7ed1d15094c3)** to **[`70bb203`](https://github.com/sagemath/sagetrac-mirror/commit/70bb203a14669ff411b2035e33112462c7053707)**



---

archive/issue_comments_072193.json:
```json
{
    "body": "Changed commit from **[`70bb203`](https://github.com/sagemath/sagetrac-mirror/commit/70bb203a14669ff411b2035e33112462c7053707)** to **[`4a7bdc2`](https://github.com/sagemath/sagetrac-mirror/commit/4a7bdc29883e72ceb8e65a8608c6ea3deef4b5fd)**",
    "created_at": "2016-11-20T08:23:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72193",
    "user": "https://github.com/fchapoton"
}
```

Changed commit from **[`70bb203`](https://github.com/sagemath/sagetrac-mirror/commit/70bb203a14669ff411b2035e33112462c7053707)** to **[`4a7bdc2`](https://github.com/sagemath/sagetrac-mirror/commit/4a7bdc29883e72ceb8e65a8608c6ea3deef4b5fd)**



---

archive/issue_comments_072194.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\njust rebased on 7.5.b3\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4a7bdc29883e72ceb8e65a8608c6ea3deef4b5fd\">4a7bdc2</a></td><td><code>Merge branch 'u/cremona/8829' in 7.5.b3</code></td></tr></table>\n",
    "created_at": "2016-11-20T08:23:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72194",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:45" align="right">comment:45</div>

just rebased on 7.5.b3

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4a7bdc29883e72ceb8e65a8608c6ea3deef4b5fd">4a7bdc2</a></td><td><code>Merge branch 'u/cremona/8829' in 7.5.b3</code></td></tr></table>




---

archive/issue_comments_072195.json:
```json
{
    "body": "Changed branch from **[u/cremona/8829](https://github.com/sagemath/sagetrac-mirror/tree/u/cremona/8829)** to **[public/8829](https://github.com/sagemath/sagetrac-mirror/tree/public/8829)**",
    "created_at": "2016-11-20T08:23:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72195",
    "user": "https://github.com/fchapoton"
}
```

Changed branch from **[u/cremona/8829](https://github.com/sagemath/sagetrac-mirror/tree/u/cremona/8829)** to **[public/8829](https://github.com/sagemath/sagetrac-mirror/tree/public/8829)**



---

archive/issue_comments_072196.json:
```json
{
    "body": "Changed commit from **[`4a7bdc2`](https://github.com/sagemath/sagetrac-mirror/commit/4a7bdc29883e72ceb8e65a8608c6ea3deef4b5fd)** to **[`9d66f35`](https://github.com/sagemath/sagetrac-mirror/commit/9d66f355dfcba972495f8a459928aeb9488a4baa)**",
    "created_at": "2016-12-11T11:36:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72196",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4a7bdc2`](https://github.com/sagemath/sagetrac-mirror/commit/4a7bdc29883e72ceb8e65a8608c6ea3deef4b5fd)** to **[`9d66f35`](https://github.com/sagemath/sagetrac-mirror/commit/9d66f355dfcba972495f8a459928aeb9488a4baa)**



---

archive/issue_comments_072197.json:
```json
{
    "body": "<div id=\"comment:46\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/47b7d2b5b90e34f2707c5db98a84f6982e8bfe2f\">47b7d2b</a></td><td><code>Merge branch 'public/8829' in 7.5.b6</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9d66f355dfcba972495f8a459928aeb9488a4baa\">9d66f35</a></td><td><code>trac 8829 fix for py3</code></td></tr></table>\n",
    "created_at": "2016-12-11T11:36:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72197",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:46"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/47b7d2b5b90e34f2707c5db98a84f6982e8bfe2f">47b7d2b</a></td><td><code>Merge branch 'public/8829' in 7.5.b6</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9d66f355dfcba972495f8a459928aeb9488a4baa">9d66f35</a></td><td><code>trac 8829 fix for py3</code></td></tr></table>




---

archive/issue_comments_072198.json:
```json
{
    "body": "<div id=\"comment:47\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a2f50232fc1289a9beec3a488a1cec9907f25f59\">a2f5023</a></td><td><code>Merge branch 'develop' into 8829</code></td></tr></table>\n",
    "created_at": "2017-08-06T15:58:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72198",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:47"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a2f50232fc1289a9beec3a488a1cec9907f25f59">a2f5023</a></td><td><code>Merge branch 'develop' into 8829</code></td></tr></table>




---

archive/issue_comments_072199.json:
```json
{
    "body": "Changed commit from **[`9d66f35`](https://github.com/sagemath/sagetrac-mirror/commit/9d66f355dfcba972495f8a459928aeb9488a4baa)** to **[`a2f5023`](https://github.com/sagemath/sagetrac-mirror/commit/a2f50232fc1289a9beec3a488a1cec9907f25f59)**",
    "created_at": "2017-08-06T15:58:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72199",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9d66f35`](https://github.com/sagemath/sagetrac-mirror/commit/9d66f355dfcba972495f8a459928aeb9488a4baa)** to **[`a2f5023`](https://github.com/sagemath/sagetrac-mirror/commit/a2f50232fc1289a9beec3a488a1cec9907f25f59)**



---

archive/issue_comments_072200.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nI just merged 8,0 into the branch prior to looking at it again.",
    "created_at": "2017-08-06T15:59:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72200",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:48" align="right">comment:48</div>

I just merged 8,0 into the branch prior to looking at it again.



---

archive/issue_comments_072201.json:
```json
{
    "body": "<div id=\"comment:49\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5b40a83c70bee0fc21e1057c2b50475fca5f8a5b\">5b40a83</a></td><td><code>#8829: move p-saturation code to a new file and fix tests and imports</code></td></tr></table>\n",
    "created_at": "2017-08-06T20:05:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72201",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:49"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5b40a83c70bee0fc21e1057c2b50475fca5f8a5b">5b40a83</a></td><td><code>#8829: move p-saturation code to a new file and fix tests and imports</code></td></tr></table>




---

archive/issue_comments_072202.json:
```json
{
    "body": "Changed commit from **[`a2f5023`](https://github.com/sagemath/sagetrac-mirror/commit/a2f50232fc1289a9beec3a488a1cec9907f25f59)** to **[`5b40a83`](https://github.com/sagemath/sagetrac-mirror/commit/5b40a83c70bee0fc21e1057c2b50475fca5f8a5b)**",
    "created_at": "2017-08-06T20:05:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72202",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a2f5023`](https://github.com/sagemath/sagetrac-mirror/commit/a2f50232fc1289a9beec3a488a1cec9907f25f59)** to **[`5b40a83`](https://github.com/sagemath/sagetrac-mirror/commit/5b40a83c70bee0fc21e1057c2b50475fca5f8a5b)**



---

archive/issue_events_111887.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2017-08-06T20:08:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8829#event-111887"
}
```



---

archive/issue_events_111888.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2017-08-06T20:08:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8829#event-111888"
}
```



---

archive/issue_comments_072203.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nAfter merging into 8.0 I fixed some newly failing doctests (trivial things caused by the usual pari number field changes).  I moved the two p-saturation functions to a new file saturation.py, and added that to the reference manual.\nReady for review.  I intend to use this a lot soon over number fields of degree up to 6 for the LMFDB and it would be most helpful to have it merged into 8.1.",
    "created_at": "2017-08-06T20:08:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72203",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:50" align="right">comment:50</div>

After merging into 8.0 I fixed some newly failing doctests (trivial things caused by the usual pari number field changes).  I moved the two p-saturation functions to a new file saturation.py, and added that to the reference manual.
Ready for review.  I intend to use this a lot soon over number fields of degree up to 6 for the LMFDB and it would be most helpful to have it merged into 8.1.



---

archive/issue_comments_072204.json:
```json
{
    "body": "Changed dependencies from **#8828** to none",
    "created_at": "2017-08-06T20:09:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72204",
    "user": "https://github.com/fchapoton"
}
```

Changed dependencies from **#8828** to none



---

archive/issue_events_111889.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-08-06T20:09:13Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8829#event-111889"
}
```



---

archive/issue_events_111890.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-08-06T20:09:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "milestone_number": null,
    "milestone_title": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8829#event-111890"
}
```



---

archive/issue_comments_072205.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nQuick comments :\n\n* dot not use $ but backticks\n\n* every function must be doctested",
    "created_at": "2017-08-06T20:13:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72205",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:52" align="right">comment:52</div>

Quick comments :

* dot not use $ but backticks

* every function must be doctested



---

archive/issue_comments_072206.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\n!!! New docstrings use backticks, and new functions are doctested. !!!  The file ell_number_field is 3800 lines  long.  Both the files I just worked on have 100% coverage.",
    "created_at": "2017-08-06T20:16:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72206",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:53" align="right">comment:53</div>

!!! New docstrings use backticks, and new functions are doctested. !!!  The file ell_number_field is 3800 lines  long.  Both the files I just worked on have 100% coverage.



---

archive/issue_comments_072207.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nHello ! some dollars there :\n\n```\n+        For rank 1 subgroups, simply do trial divison up to the maximal\n+        prime divisor. For higher rank subgroups, perform trial divison\n+        on all linear combinations for small primes, and look for\n+        projections $E(K) \\rightarrow \\oplus E(k) \\otimes \\FF_p$ which\n+        are either full rank or provide p-divisble linear combinations,\n+        where the $k$ here are residue fields of $K$.\n```\nand no doc for\n\n```\n+    def projections(Q, p):\n```\nwhich is indeed an inner function, but quite a complicated one. Maybe just explain its input and output ?",
    "created_at": "2017-08-07T06:16:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72207",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:54" align="right">comment:54</div>

Hello ! some dollars there :

```
+        For rank 1 subgroups, simply do trial divison up to the maximal
+        prime divisor. For higher rank subgroups, perform trial divison
+        on all linear combinations for small primes, and look for
+        projections $E(K) \rightarrow \oplus E(k) \otimes \FF_p$ which
+        are either full rank or provide p-divisble linear combinations,
+        where the $k$ here are residue fields of $K$.
```
and no doc for

```
+    def projections(Q, p):
```
which is indeed an inner function, but quite a complicated one. Maybe just explain its input and output ?



---

archive/issue_comments_072208.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nI stand corrected and will see to this.",
    "created_at": "2017-08-07T08:18:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72208",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:55" align="right">comment:55</div>

I stand corrected and will see to this.



---

archive/issue_comments_072209.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nFor the inner function projections(Q, p) there is already a docstring:\n\n```\n        Project points onto (E mod Q)(K mod Q) \\otimes \\F_p.\n\n        Returns a list of 0, 1 or 2 vectors in \\F_p^n\n```\nwhich explains what it does.  I'll make sure that all the other inner functions are explained.",
    "created_at": "2017-08-07T08:39:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72209",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:56" align="right">comment:56</div>

For the inner function projections(Q, p) there is already a docstring:

```
        Project points onto (E mod Q)(K mod Q) \otimes \F_p.

        Returns a list of 0, 1 or 2 vectors in \F_p^n
```
which explains what it does.  I'll make sure that all the other inner functions are explained.



---

archive/issue_comments_072210.json:
```json
{
    "body": "<div id=\"comment:57\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8abe3dcf12c2e096cdc563cd5e071a8c35564501\">8abe3dc</a></td><td><code>#8829 fix some docstrings and remove some internal functions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/847d27665a592638b7767a2a88d1575e5f5544b1\">847d276</a></td><td><code>#8829 fix a bug (typo n for p)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8c715855e54b1b1a12d82364a004f428c9a80097\">8c71585</a></td><td><code>#8829: put back a one-line internal function</code></td></tr></table>\n",
    "created_at": "2017-08-07T11:33:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72210",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:57"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8abe3dcf12c2e096cdc563cd5e071a8c35564501">8abe3dc</a></td><td><code>#8829 fix some docstrings and remove some internal functions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/847d27665a592638b7767a2a88d1575e5f5544b1">847d276</a></td><td><code>#8829 fix a bug (typo n for p)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8c715855e54b1b1a12d82364a004f428c9a80097">8c71585</a></td><td><code>#8829: put back a one-line internal function</code></td></tr></table>




---

archive/issue_comments_072211.json:
```json
{
    "body": "Changed commit from **[`5b40a83`](https://github.com/sagemath/sagetrac-mirror/commit/5b40a83c70bee0fc21e1057c2b50475fca5f8a5b)** to **[`8c71585`](https://github.com/sagemath/sagetrac-mirror/commit/8c715855e54b1b1a12d82364a004f428c9a80097)**",
    "created_at": "2017-08-07T11:33:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72211",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5b40a83`](https://github.com/sagemath/sagetrac-mirror/commit/5b40a83c70bee0fc21e1057c2b50475fca5f8a5b)** to **[`8c71585`](https://github.com/sagemath/sagetrac-mirror/commit/8c715855e54b1b1a12d82364a004f428c9a80097)**



---

archive/issue_comments_072212.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">comment:58</div>\n\nI hope the latest commits do what was wanted for docstrings.  I did remove some rather unnecessary one-liner internal functions.\nIn the course of doing this I found at least 2 bugs ;)  which is good because the reason this was not finished with 18 months ago was the existence of a bug.\n\nPlease review!",
    "created_at": "2017-08-07T11:34:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72212",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:58" align="right">comment:58</div>

I hope the latest commits do what was wanted for docstrings.  I did remove some rather unnecessary one-liner internal functions.
In the course of doing this I found at least 2 bugs ;)  which is good because the reason this was not finished with 18 months ago was the existence of a bug.

Please review!



---

archive/issue_comments_072213.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">comment:59</div>\n\na typo here:\n\n```\ntrial divison\n```\nand also a missing line break here after `r\"\"\"`:\n\n```\n+        r\"\"\" Given a list of rational points on `E` over `K`, compute the\n```\nsame here:\n\n```\n        \"\"\"Return generators for the Mordell-Weil group modulo torsion, for a\n```\nsame there:\n\n```\n+    r\"\"\" Checks whether the list of points is `p`-saturated.\n```\nand\n\n```\n+    r\"\"\" Full `p`-saturation of ``Plist``.\n```\n\nanother typo:\n\n```\ndivisble\n```\nThis :\n\n```\n+        if len(EE)==0:\n```\ncan be replaced by `if not EE`\n\nanother typo:\n\n```\nalgirithm\n```",
    "created_at": "2017-08-07T11:47:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72213",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:59" align="right">comment:59</div>

a typo here:

```
trial divison
```
and also a missing line break here after `r"""`:

```
+        r""" Given a list of rational points on `E` over `K`, compute the
```
same here:

```
        """Return generators for the Mordell-Weil group modulo torsion, for a
```
same there:

```
+    r""" Checks whether the list of points is `p`-saturated.
```
and

```
+    r""" Full `p`-saturation of ``Plist``.
```

another typo:

```
divisble
```
This :

```
+        if len(EE)==0:
```
can be replaced by `if not EE`

another typo:

```
algirithm
```



---

archive/issue_comments_072214.json:
```json
{
    "body": "<div id=\"comment:60\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7b3c1886b7dbd481f7248c2271233c73ca483c01\">7b3c188</a></td><td><code>#8829 fix docstring typos</code></td></tr></table>\n",
    "created_at": "2017-08-07T12:15:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72214",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:60"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7b3c1886b7dbd481f7248c2271233c73ca483c01">7b3c188</a></td><td><code>#8829 fix docstring typos</code></td></tr></table>




---

archive/issue_comments_072215.json:
```json
{
    "body": "Changed commit from **[`8c71585`](https://github.com/sagemath/sagetrac-mirror/commit/8c715855e54b1b1a12d82364a004f428c9a80097)** to **[`7b3c188`](https://github.com/sagemath/sagetrac-mirror/commit/7b3c1886b7dbd481f7248c2271233c73ca483c01)**",
    "created_at": "2017-08-07T12:15:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72215",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8c71585`](https://github.com/sagemath/sagetrac-mirror/commit/8c715855e54b1b1a12d82364a004f428c9a80097)** to **[`7b3c188`](https://github.com/sagemath/sagetrac-mirror/commit/7b3c1886b7dbd481f7248c2271233c73ca483c01)**



---

archive/issue_comments_072216.json:
```json
{
    "body": "<div id=\"comment:61\" align=\"right\">comment:61</div>\n\nI fixed those, and at least one more.  Thanks",
    "created_at": "2017-08-07T12:16:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72216",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:61" align="right">comment:61</div>

I fixed those, and at least one more.  Thanks



---

archive/issue_comments_072217.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">comment:62</div>\n\n\"trial divison\" is still there",
    "created_at": "2017-08-07T20:21:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72217",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:62" align="right">comment:62</div>

"trial divison" is still there



---

archive/issue_comments_072218.json:
```json
{
    "body": "<div id=\"comment:63\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d2421238e6f1f174d90f8f81cbbc0606e79171b3\">d242123</a></td><td><code>#8829 correct spelling divison (*4)</code></td></tr></table>\n",
    "created_at": "2017-08-08T16:46:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72218",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:63"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d2421238e6f1f174d90f8f81cbbc0606e79171b3">d242123</a></td><td><code>#8829 correct spelling divison (*4)</code></td></tr></table>




---

archive/issue_comments_072219.json:
```json
{
    "body": "Changed commit from **[`7b3c188`](https://github.com/sagemath/sagetrac-mirror/commit/7b3c1886b7dbd481f7248c2271233c73ca483c01)** to **[`d242123`](https://github.com/sagemath/sagetrac-mirror/commit/d2421238e6f1f174d90f8f81cbbc0606e79171b3)**",
    "created_at": "2017-08-08T16:46:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72219",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7b3c188`](https://github.com/sagemath/sagetrac-mirror/commit/7b3c1886b7dbd481f7248c2271233c73ca483c01)** to **[`d242123`](https://github.com/sagemath/sagetrac-mirror/commit/d2421238e6f1f174d90f8f81cbbc0606e79171b3)**



---

archive/issue_comments_072220.json:
```json
{
    "body": "<div id=\"comment:64\" align=\"right\">comment:64</div>\n\nNot now it isn't.  I also used \"grep -r\" to catch 3 more (not mine).\n\nOne day I might get a review of the __code__!",
    "created_at": "2017-08-08T16:47:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72220",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:64" align="right">comment:64</div>

Not now it isn't.  I also used "grep -r" to catch 3 more (not mine).

One day I might get a review of the __code__!



---

archive/issue_comments_072221.json:
```json
{
    "body": "<div id=\"comment:66\" align=\"right\">comment:66</div>\n\nSome comments on code:\n\n* There's something weird with the indentation at `for Q in K.primes_above(q, degree=1):` in `p_saturation` (it looks only indented one space).\n* There are various points where you don't have spaces around `==` and `+=`.  If you feel like fixing it, I think that spaces are the Python coding standard.\n* At various points you add commented out code (either verbose print statements or the definition of `pair_max`).  I'm fine with what you have, but I could also see just deleting it.  I just wanted to make sure that the decision to include it, commented out, was conscious.\n\nThere are also test failures.\n\nOther than these comments, the code looks good to me and I'm happy to give it a positive review once they're addressed.",
    "created_at": "2017-08-22T22:23:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72221",
    "user": "https://github.com/roed314"
}
```

<div id="comment:66" align="right">comment:66</div>

Some comments on code:

* There's something weird with the indentation at `for Q in K.primes_above(q, degree=1):` in `p_saturation` (it looks only indented one space).
* There are various points where you don't have spaces around `==` and `+=`.  If you feel like fixing it, I think that spaces are the Python coding standard.
* At various points you add commented out code (either verbose print statements or the definition of `pair_max`).  I'm fine with what you have, but I could also see just deleting it.  I just wanted to make sure that the decision to include it, commented out, was conscious.

There are also test failures.

Other than these comments, the code looks good to me and I'm happy to give it a positive review once they're addressed.



---

archive/issue_comments_072222.json:
```json
{
    "body": "<div id=\"comment:67\" align=\"right\">comment:67</div>\n\nAlso, the example from comment 5 still seems to go into an infinite loop.",
    "created_at": "2017-08-23T00:42:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72222",
    "user": "https://github.com/kedlaya"
}
```

<div id="comment:67" align="right">comment:67</div>

Also, the example from comment 5 still seems to go into an infinite loop.



---

archive/issue_events_111891.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2017-08-23T08:21:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8829#event-111891"
}
```



---

archive/issue_events_111892.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2017-08-23T08:21:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8829#event-111892"
}
```



---

archive/issue_comments_072223.json:
```json
{
    "body": "<div id=\"comment:68\" align=\"right\">comment:68</div>\n\nThanks to both for the reviews.  I'll look into the spacing issues and the example.  I really really want to get finished with this!",
    "created_at": "2017-08-23T08:21:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72223",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:68" align="right">comment:68</div>

Thanks to both for the reviews.  I'll look into the spacing issues and the example.  I really really want to get finished with this!



---

archive/issue_comments_072224.json:
```json
{
    "body": "<div id=\"comment:69\" align=\"right\">comment:69</div>\n\nI first merged in the current develop (and fixed one small conflict).  this required a rebuild (i.e. 'make' not just './sage -b' which failed).\n\nI fixed that indentation issue -- logically correct but of course non-standard to have just one space of indentation.  I hope the result is OK, that indented block was very long and had a lot of subsidiary indented parts.\n\nI have fixed all (I hope) the == and += spacing.\n\nI changed some commented-out debugging print statements into comments.  I like having lots of comments since the logic is quite complicated (and if further bugs are found it may well be me who has to fix them so I might as well be helpful).\n\nI'll test the example from comment 5 once the rebuild has finished.",
    "created_at": "2017-08-23T08:59:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72224",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:69" align="right">comment:69</div>

I first merged in the current develop (and fixed one small conflict).  this required a rebuild (i.e. 'make' not just './sage -b' which failed).

I fixed that indentation issue -- logically correct but of course non-standard to have just one space of indentation.  I hope the result is OK, that indented block was very long and had a lot of subsidiary indented parts.

I have fixed all (I hope) the == and += spacing.

I changed some commented-out debugging print statements into comments.  I like having lots of comments since the logic is quite complicated (and if further bugs are found it may well be me who has to fix them so I might as well be helpful).

I'll test the example from comment 5 once the rebuild has finished.



---

archive/issue_comments_072225.json:
```json
{
    "body": "<div id=\"comment:70\" align=\"right\">comment:70</div>\n\nDammit, I always use trac branch names of the form u/cremona/nnnnn where nnnnn is the ticket number, but at some point the branch here became public/8829, so I have just been fixing the wrong version.  What a waste of time.  Back soon.",
    "created_at": "2017-08-23T11:38:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72225",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:70" align="right">comment:70</div>

Dammit, I always use trac branch names of the form u/cremona/nnnnn where nnnnn is the ticket number, but at some point the branch here became public/8829, so I have just been fixing the wrong version.  What a waste of time.  Back soon.



---

archive/issue_comments_072226.json:
```json
{
    "body": "<div id=\"comment:71\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c93717d95b90638eec426528b7da527d158cde2f\">c93717d</a></td><td><code>Merge branch 'develop' into 8829</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cd2b023195b23ff4fcf753f67a9acff9c5d87d6b\">cd2b023</a></td><td><code>#8829 edits after review</code></td></tr></table>\n",
    "created_at": "2017-08-23T11:43:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72226",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:71"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c93717d95b90638eec426528b7da527d158cde2f">c93717d</a></td><td><code>Merge branch 'develop' into 8829</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cd2b023195b23ff4fcf753f67a9acff9c5d87d6b">cd2b023</a></td><td><code>#8829 edits after review</code></td></tr></table>




---

archive/issue_comments_072227.json:
```json
{
    "body": "Changed commit from **[`d242123`](https://github.com/sagemath/sagetrac-mirror/commit/d2421238e6f1f174d90f8f81cbbc0606e79171b3)** to **[`cd2b023`](https://github.com/sagemath/sagetrac-mirror/commit/cd2b023195b23ff4fcf753f67a9acff9c5d87d6b)**",
    "created_at": "2017-08-23T11:43:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72227",
    "user": "https://github.com/JohnCremona"
}
```

Changed commit from **[`d242123`](https://github.com/sagemath/sagetrac-mirror/commit/d2421238e6f1f174d90f8f81cbbc0606e79171b3)** to **[`cd2b023`](https://github.com/sagemath/sagetrac-mirror/commit/cd2b023195b23ff4fcf753f67a9acff9c5d87d6b)**



---

archive/issue_events_111893.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2017-08-23T11:43:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8829#event-111893"
}
```



---

archive/issue_events_111894.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2017-08-23T11:43:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8829#event-111894"
}
```



---

archive/issue_comments_072228.json:
```json
{
    "body": "Changed branch from **[public/8829](https://github.com/sagemath/sagetrac-mirror/tree/public/8829)** to **[u/cremona/8829](https://github.com/sagemath/sagetrac-mirror/tree/u/cremona/8829)**",
    "created_at": "2017-08-23T11:43:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72228",
    "user": "https://github.com/JohnCremona"
}
```

Changed branch from **[public/8829](https://github.com/sagemath/sagetrac-mirror/tree/public/8829)** to **[u/cremona/8829](https://github.com/sagemath/sagetrac-mirror/tree/u/cremona/8829)**



---

archive/issue_comments_072229.json:
```json
{
    "body": "<div id=\"comment:72\" align=\"right\">comment:72</div>\n\nOK, back to review.  Note that the branch is now u/cremona/8829.",
    "created_at": "2017-08-23T11:47:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72229",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:72" align="right">comment:72</div>

OK, back to review.  Note that the branch is now u/cremona/8829.



---

archive/issue_comments_072230.json:
```json
{
    "body": "<div id=\"comment:73\" align=\"right\">comment:73</div>\n\n\"trial divison\" is back, and probably all the other fixes went away.... Sorry for nitpicking, really..",
    "created_at": "2017-08-23T11:51:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72230",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:73" align="right">comment:73</div>

"trial divison" is back, and probably all the other fixes went away.... Sorry for nitpicking, really..



---

archive/issue_events_111895.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2017-08-23T12:19:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8829#event-111895"
}
```



---

archive/issue_events_111896.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2017-08-23T12:19:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8829#event-111896"
}
```



---

archive/issue_comments_072231.json:
```json
{
    "body": "<div id=\"comment:74\" align=\"right\">comment:74</div>\n\n!@$#!.  OK, I will check out commit d242123 by hash to be sure that is what was most recently reviewed, and redo the work I did before.  It's the only way to be certain.",
    "created_at": "2017-08-23T12:19:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72231",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:74" align="right">comment:74</div>

!@$#!.  OK, I will check out commit d242123 by hash to be sure that is what was most recently reviewed, and redo the work I did before.  It's the only way to be certain.



---

archive/issue_comments_072232.json:
```json
{
    "body": "<div id=\"comment:75\" align=\"right\">comment:75</div>\n\nI hope I got it right this time.  The correct branch is public/8829 and I basically redid the edits I had already done this morning on the wrong branch.\n\n---\nLast 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9d66f355dfcba972495f8a459928aeb9488a4baa\">9d66f35</a></td><td><code>trac 8829 fix for py3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a2f50232fc1289a9beec3a488a1cec9907f25f59\">a2f5023</a></td><td><code>Merge branch 'develop' into 8829</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5b40a83c70bee0fc21e1057c2b50475fca5f8a5b\">5b40a83</a></td><td><code>#8829: move p-saturation code to a new file and fix tests and imports</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8abe3dcf12c2e096cdc563cd5e071a8c35564501\">8abe3dc</a></td><td><code>#8829 fix some docstrings and remove some internal functions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/847d27665a592638b7767a2a88d1575e5f5544b1\">847d276</a></td><td><code>#8829 fix a bug (typo n for p)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8c715855e54b1b1a12d82364a004f428c9a80097\">8c71585</a></td><td><code>#8829: put back a one-line internal function</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7b3c1886b7dbd481f7248c2271233c73ca483c01\">7b3c188</a></td><td><code>#8829 fix docstring typos</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d2421238e6f1f174d90f8f81cbbc0606e79171b3\">d242123</a></td><td><code>#8829 correct spelling divison (*4)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/63770c349a6688f74cfe7ac654f61e3334f3292a\">63770c3</a></td><td><code>Merge branch 'develop' into 8829-new</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/37e22852ecaf466e9d9ce22bc66ffa94f2d7f652\">37e2285</a></td><td><code>#8829 after review (2)</code></td></tr></table>\n",
    "created_at": "2017-08-23T14:05:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72232",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:75" align="right">comment:75</div>

I hope I got it right this time.  The correct branch is public/8829 and I basically redid the edits I had already done this morning on the wrong branch.

---
Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9d66f355dfcba972495f8a459928aeb9488a4baa">9d66f35</a></td><td><code>trac 8829 fix for py3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a2f50232fc1289a9beec3a488a1cec9907f25f59">a2f5023</a></td><td><code>Merge branch 'develop' into 8829</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5b40a83c70bee0fc21e1057c2b50475fca5f8a5b">5b40a83</a></td><td><code>#8829: move p-saturation code to a new file and fix tests and imports</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8abe3dcf12c2e096cdc563cd5e071a8c35564501">8abe3dc</a></td><td><code>#8829 fix some docstrings and remove some internal functions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/847d27665a592638b7767a2a88d1575e5f5544b1">847d276</a></td><td><code>#8829 fix a bug (typo n for p)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8c715855e54b1b1a12d82364a004f428c9a80097">8c71585</a></td><td><code>#8829: put back a one-line internal function</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7b3c1886b7dbd481f7248c2271233c73ca483c01">7b3c188</a></td><td><code>#8829 fix docstring typos</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d2421238e6f1f174d90f8f81cbbc0606e79171b3">d242123</a></td><td><code>#8829 correct spelling divison (*4)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/63770c349a6688f74cfe7ac654f61e3334f3292a">63770c3</a></td><td><code>Merge branch 'develop' into 8829-new</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/37e22852ecaf466e9d9ce22bc66ffa94f2d7f652">37e2285</a></td><td><code>#8829 after review (2)</code></td></tr></table>




---

archive/issue_comments_072233.json:
```json
{
    "body": "Changed commit from **[`cd2b023`](https://github.com/sagemath/sagetrac-mirror/commit/cd2b023195b23ff4fcf753f67a9acff9c5d87d6b)** to **[`37e2285`](https://github.com/sagemath/sagetrac-mirror/commit/37e22852ecaf466e9d9ce22bc66ffa94f2d7f652)**",
    "created_at": "2017-08-23T14:05:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72233",
    "user": "https://github.com/JohnCremona"
}
```

Changed commit from **[`cd2b023`](https://github.com/sagemath/sagetrac-mirror/commit/cd2b023195b23ff4fcf753f67a9acff9c5d87d6b)** to **[`37e2285`](https://github.com/sagemath/sagetrac-mirror/commit/37e22852ecaf466e9d9ce22bc66ffa94f2d7f652)**



---

archive/issue_comments_072234.json:
```json
{
    "body": "Changed branch from **[u/cremona/8829](https://github.com/sagemath/sagetrac-mirror/tree/u/cremona/8829)** to **[public/8829](https://github.com/sagemath/sagetrac-mirror/tree/public/8829)**",
    "created_at": "2017-08-23T14:05:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72234",
    "user": "https://github.com/JohnCremona"
}
```

Changed branch from **[u/cremona/8829](https://github.com/sagemath/sagetrac-mirror/tree/u/cremona/8829)** to **[public/8829](https://github.com/sagemath/sagetrac-mirror/tree/public/8829)**



---

archive/issue_events_111897.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2017-08-23T14:05:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8829#event-111897"
}
```



---

archive/issue_events_111898.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2017-08-23T14:05:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8829#event-111898"
}
```



---

archive/issue_comments_072235.json:
```json
{
    "body": "Reviewer: **David Roe, Kiran Kedlaya, Fr\u00e9d\u00e9ric Chapoton**",
    "created_at": "2017-08-23T15:28:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72235",
    "user": "https://github.com/roed314"
}
```

Reviewer: **David Roe, Kiran Kedlaya, Frédéric Chapoton**



---

archive/issue_comments_072236.json:
```json
{
    "body": "<div id=\"comment:76\" align=\"right\">comment:76</div>\n\nIt looks like you've addressed everything.  I ran all tests and checked that the loop in comment 5 is no longer a problem.",
    "created_at": "2017-08-23T15:28:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72236",
    "user": "https://github.com/roed314"
}
```

<div id="comment:76" align="right">comment:76</div>

It looks like you've addressed everything.  I ran all tests and checked that the loop in comment 5 is no longer a problem.



---

archive/issue_events_111899.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2017-08-23T15:28:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8829#event-111899"
}
```



---

archive/issue_events_111900.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2017-08-23T15:28:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8829#event-111900"
}
```



---

archive/issue_comments_072237.json:
```json
{
    "body": "<div id=\"comment:77\" align=\"right\">comment:77</div>\n\nThanks a lot!  This ticket was opened in 2010, so I'll be celebrating.  Now, if any of you would like to head on over to #22345...",
    "created_at": "2017-08-23T15:38:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72237",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:77" align="right">comment:77</div>

Thanks a lot!  This ticket was opened in 2010, so I'll be celebrating.  Now, if any of you would like to head on over to #22345...



---

archive/issue_comments_072238.json:
```json
{
    "body": "<div id=\"comment:78\" align=\"right\">comment:78</div>\n\nVery well, and I share your joy, but you introduced a .next(), which is not compatible with python3 (see patchbot plugin report). To be fixed in a later ticket, please.",
    "created_at": "2017-08-23T18:07:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72238",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:78" align="right">comment:78</div>

Very well, and I share your joy, but you introduced a .next(), which is not compatible with python3 (see patchbot plugin report). To be fixed in a later ticket, please.



---

archive/issue_comments_072239.json:
```json
{
    "body": "<div id=\"comment:79\" align=\"right\">comment:79</div>\n\nThat's a pity I thought the next () was rather neat. You can fix it here if you want.",
    "created_at": "2017-08-23T18:39:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72239",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:79" align="right">comment:79</div>

That's a pity I thought the next () was rather neat. You can fix it here if you want.



---

archive/issue_comments_072240.json:
```json
{
    "body": "<div id=\"comment:80\" align=\"right\">comment:80</div>\n\nno, no, let us wait and do that later",
    "created_at": "2017-08-23T18:40:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72240",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:80" align="right">comment:80</div>

no, no, let us wait and do that later



---

archive/issue_comments_072241.json:
```json
{
    "body": "<div id=\"comment:81\" align=\"right\">comment:81</div>\n\nBy the way, John, could you tell LMFDB people about #23671, please ?",
    "created_at": "2017-08-23T18:51:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72241",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:81" align="right">comment:81</div>

By the way, John, could you tell LMFDB people about #23671, please ?



---

archive/issue_events_111901.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2017-08-23T20:45:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8829#event-111901"
}
```



---

archive/issue_events_111902.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2017-08-23T20:45:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8829#event-111902"
}
```



---

archive/issue_comments_072242.json:
```json
{
    "body": "<div id=\"comment:82\"></div>\n\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ae6b11c67e43a3a9ffeb3b34d2b46b627967d432\">ae6b11c</a></td><td><code>Changed .next() to next() in saturation.py for py3 compatibility</code></td></tr></table>\n",
    "created_at": "2017-08-23T20:45:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72242",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:82"></div>

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ae6b11c67e43a3a9ffeb3b34d2b46b627967d432">ae6b11c</a></td><td><code>Changed .next() to next() in saturation.py for py3 compatibility</code></td></tr></table>




---

archive/issue_comments_072243.json:
```json
{
    "body": "Changed commit from **[`37e2285`](https://github.com/sagemath/sagetrac-mirror/commit/37e22852ecaf466e9d9ce22bc66ffa94f2d7f652)** to **[`ae6b11c`](https://github.com/sagemath/sagetrac-mirror/commit/ae6b11c67e43a3a9ffeb3b34d2b46b627967d432)**",
    "created_at": "2017-08-23T20:45:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72243",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`37e2285`](https://github.com/sagemath/sagetrac-mirror/commit/37e22852ecaf466e9d9ce22bc66ffa94f2d7f652)** to **[`ae6b11c`](https://github.com/sagemath/sagetrac-mirror/commit/ae6b11c67e43a3a9ffeb3b34d2b46b627967d432)**



---

archive/issue_comments_072244.json:
```json
{
    "body": "<div id=\"comment:83\" align=\"right\">comment:83</div>\n\nReplying to [@fchapoton](#comment:80):\n> no, no, let us wait and do that later\n\nIsn't it just this one-line change? If so, no reason to postpone it...",
    "created_at": "2017-08-23T20:46:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72244",
    "user": "https://github.com/kedlaya"
}
```

<div id="comment:83" align="right">comment:83</div>

Replying to [@fchapoton](#comment:80):
> no, no, let us wait and do that later

Isn't it just this one-line change? If so, no reason to postpone it...



---

archive/issue_comments_072245.json:
```json
{
    "body": "<div id=\"comment:84\" align=\"right\">comment:84</div>\n\nLooks good to me!",
    "created_at": "2017-08-23T22:58:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72245",
    "user": "https://github.com/roed314"
}
```

<div id="comment:84" align="right">comment:84</div>

Looks good to me!



---

archive/issue_events_111903.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2017-08-23T22:58:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8829#event-111903"
}
```



---

archive/issue_events_111904.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2017-08-23T22:58:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8829#event-111904"
}
```



---

archive/issue_comments_072246.json:
```json
{
    "body": "Changed branch from **[public/8829](https://github.com/sagemath/sagetrac-mirror/tree/public/8829)** to **[`ae6b11c`](https://github.com/sagemath/sagetrac-mirror/commit/ae6b11c67e43a3a9ffeb3b34d2b46b627967d432)**",
    "created_at": "2017-08-29T19:51:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72246",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/8829](https://github.com/sagemath/sagetrac-mirror/tree/public/8829)** to **[`ae6b11c`](https://github.com/sagemath/sagetrac-mirror/commit/ae6b11c67e43a3a9ffeb3b34d2b46b627967d432)**



---

archive/issue_events_111905.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-08-29T19:51:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8829#event-111905"
}
```



---

archive/issue_events_111906.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "e11408766700438fd856f6e550b7b2f7c48cd72e",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2017-08-29T19:51:22Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8829#event-111906"
}
```



---

archive/issue_comments_072247.json:
```json
{
    "body": "Changed commit from **[`ae6b11c`](https://github.com/sagemath/sagetrac-mirror/commit/ae6b11c67e43a3a9ffeb3b34d2b46b627967d432)** to none",
    "created_at": "2017-09-12T14:03:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72247",
    "user": "https://github.com/jdemeyer"
}
```

Changed commit from **[`ae6b11c`](https://github.com/sagemath/sagetrac-mirror/commit/ae6b11c67e43a3a9ffeb3b34d2b46b627967d432)** to none



---

archive/issue_comments_072248.json:
```json
{
    "body": "<div id=\"comment:86\" align=\"right\">comment:86</div>\n\nThis is causing doctest failures: #23840.",
    "created_at": "2017-09-12T14:03:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72248",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:86" align="right">comment:86</div>

This is causing doctest failures: #23840.



---

archive/issue_comments_072249.json:
```json
{
    "body": "<div id=\"comment:87\" align=\"right\">comment:87</div>\n\nI'm pretty certain it will be the usual nonsense of mathematically equivalent outputs.  I'll look at #23840 and judge properly.",
    "created_at": "2017-09-12T14:40:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/8829",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8829#issuecomment-72249",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:87" align="right">comment:87</div>

I'm pretty certain it will be the usual nonsense of mathematically equivalent outputs.  I'll look at #23840 and judge properly.
