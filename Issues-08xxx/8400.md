# Issue 8400: doctest devel/sage/sage/databases/database.py fails on Solaris 10 (SPARC)

archive/issues_008400.json:
```json
{
    "body": " == Details of the computer == \n* Sun Blade 1000\n* 2 x 900 MHz UltraSPARC III+ CPUs\n* 2 GB RAM\n* Solaris 10 03/2005 (first release of Solaris 10)\n* gcc 4.4.3 (uses Sun linker and assembler)\n\n == Sage version 4.3.3 (with several patches) ==\nI'm using a patched version of Sage 4.3.3, built as a 32-bit binary. The patches include:\n\n* #7867 Python patch, to allow Sage library to build. \n* #8191 Addition of iconv, which is needed for R\n* #8285 Update R's spkg-install to work on Solaris\n* #8363 Remove a useless check for mpir in cddlib \n* #8375 Numerical noise in devel/sage/sage/symbolic/pynac.pyx\n* #8374 Numerical noise in devel/sage/sage/symbolic/constants_c.pyx\n* #8371 Patch to allow pyprocessing to build - it failed after python was patched as #7867. (Note #6503 aims to remove pyprocessing completely). \n\n == The problem ==\nThere are 8 test failures on this rather old SPARC. Increasing SAGE_TIMEOUT allowed 3 to pass. The longest is \"devel/sage/sage/rings/polynomial/symmetric_ideal.py\" which takes 459.4 s. \n\nHowever, 5 failures remain outstanding. \n\n```\n    sage -t  \"devel/sage/sage/graphs/graph_list.py\" # Segfault\n    sage -t  \"devel/sage/sage/graphs/generic_graph.py\" # Segfault\n    sage -t  \"devel/sage/sage/graphs/graph.py\" # Segfault\n    sage -t  \"devel/sage/sage/graphs/graph_database.py\" # Segfault\n    sage -t  \"devel/sage/sage/databases/database.py\" # Segfault\n```\n\n## Specific failure of this ticket\n\nThis ticket is documenting graph_database.py, or to be more precise\n\n```\n\"devel/sage/sage/graphs/graph_database.py\"\n```\n\n## Related tickets\nThe other failures observed on this build of Solaris 10 are #8397, #8398, #8399 and #8401\n\n\nAssignee: tbd\n\nResolution: fixed\n\nMerged: sage-4.3.4.alpha1\n\nIssue created by migration from https://trac.sagemath.org/ticket/8400\n\n",
    "closed_at": "2010-03-06T23:11:27Z",
    "created_at": "2010-02-28T16:25:56Z",
    "labels": [
        "component: doctest coverage",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.3.4",
    "title": "doctest devel/sage/sage/databases/database.py fails on Solaris 10 (SPARC)",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/8400",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```
 == Details of the computer == 
* Sun Blade 1000
* 2 x 900 MHz UltraSPARC III+ CPUs
* 2 GB RAM
* Solaris 10 03/2005 (first release of Solaris 10)
* gcc 4.4.3 (uses Sun linker and assembler)

 == Sage version 4.3.3 (with several patches) ==
I'm using a patched version of Sage 4.3.3, built as a 32-bit binary. The patches include:

* #7867 Python patch, to allow Sage library to build. 
* #8191 Addition of iconv, which is needed for R
* #8285 Update R's spkg-install to work on Solaris
* #8363 Remove a useless check for mpir in cddlib 
* #8375 Numerical noise in devel/sage/sage/symbolic/pynac.pyx
* #8374 Numerical noise in devel/sage/sage/symbolic/constants_c.pyx
* #8371 Patch to allow pyprocessing to build - it failed after python was patched as #7867. (Note #6503 aims to remove pyprocessing completely). 

 == The problem ==
There are 8 test failures on this rather old SPARC. Increasing SAGE_TIMEOUT allowed 3 to pass. The longest is "devel/sage/sage/rings/polynomial/symmetric_ideal.py" which takes 459.4 s. 

However, 5 failures remain outstanding. 

```
    sage -t  "devel/sage/sage/graphs/graph_list.py" # Segfault
    sage -t  "devel/sage/sage/graphs/generic_graph.py" # Segfault
    sage -t  "devel/sage/sage/graphs/graph.py" # Segfault
    sage -t  "devel/sage/sage/graphs/graph_database.py" # Segfault
    sage -t  "devel/sage/sage/databases/database.py" # Segfault
```

## Specific failure of this ticket

This ticket is documenting graph_database.py, or to be more precise

```
"devel/sage/sage/graphs/graph_database.py"
```

## Related tickets
The other failures observed on this build of Solaris 10 are #8397, #8398, #8399 and #8401


Assignee: tbd

Resolution: fixed

Merged: sage-4.3.4.alpha1

Issue created by migration from https://trac.sagemath.org/ticket/8400





---

archive/issue_comments_088507.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,12 +1,12 @@\n-## Details of the computer\n+ == Details of the computer == \n * Sun Blade 1000\n * 2 x 900 MHz UltraSPARC III+ CPUs\n * 2 GB RAM\n * Solaris 10 03/2005 (first release of Solaris 10)\n-* gcc 4.4.3\n+* gcc 4.4.3 (uses Sun linker and assembler)\n \n  == Sage version 4.3.3 (with several patches) ==\n-I'm using a patched version of Sage sage-4.3.3. The patches include:\n+I'm using a patched version of Sage sage-4.3.3, built as a 32-bit binary. The patches include:\n \n * #7867 Python patch, to allow Sage library to build. \n * #8191 Addition of iconv, which is needed for R\n@@ -30,7 +30,13 @@\n ```\n This ticket is documenting graph_database.py, or to be more precise\n \n+```\n \"devel/sage/sage/graphs/graph_database.py\"\n+```\n+\n+## Related tickets\n+The other failures observed on this build of Solaris 10 are #8397, #8398, #8399 and #8401\n+\n \n Comment: 1\n \n``````\n",
    "created_at": "2010-02-28T16:42:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8400#issuecomment-88507",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,12 +1,12 @@
-## Details of the computer
+ == Details of the computer == 
 * Sun Blade 1000
 * 2 x 900 MHz UltraSPARC III+ CPUs
 * 2 GB RAM
 * Solaris 10 03/2005 (first release of Solaris 10)
-* gcc 4.4.3
+* gcc 4.4.3 (uses Sun linker and assembler)
 
  == Sage version 4.3.3 (with several patches) ==
-I'm using a patched version of Sage sage-4.3.3. The patches include:
+I'm using a patched version of Sage sage-4.3.3, built as a 32-bit binary. The patches include:
 
 * #7867 Python patch, to allow Sage library to build. 
 * #8191 Addition of iconv, which is needed for R
@@ -30,7 +30,13 @@
 ```
 This ticket is documenting graph_database.py, or to be more precise
 
+```
 "devel/sage/sage/graphs/graph_database.py"
+```
+
+## Related tickets
+The other failures observed on this build of Solaris 10 are #8397, #8398, #8399 and #8401
+
 
 Comment: 1
 
``````




---

archive/issue_comments_088508.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,44 @@\n+ == Details of the computer == \n+* Sun Blade 1000\n+* 2 x 900 MHz UltraSPARC III+ CPUs\n+* 2 GB RAM\n+* Solaris 10 03/2005 (first release of Solaris 10)\n+* gcc 4.4.3 (uses Sun linker and assembler)\n+\n+ == Sage version 4.3.3 (with several patches) ==\n+I'm using a patched version of Sage 4.3.3, built as a 32-bit binary. The patches include:\n+\n+* #7867 Python patch, to allow Sage library to build. \n+* #8191 Addition of iconv, which is needed for R\n+* #8285 Update R's spkg-install to work on Solaris\n+* #8363 Remove a useless check for mpir in cddlib \n+* #8375 Numerical noise in devel/sage/sage/symbolic/pynac.pyx\n+* #8374 Numerical noise in devel/sage/sage/symbolic/constants_c.pyx\n+* #8371 Patch to allow pyprocessing to build - it failed after python was patched as #7867. (Note #6503 aims to remove pyprocessing completely). \n+\n+ == The problem ==\n+There are 8 test failures on this rather old SPARC. Increasing SAGE_TIMEOUT allowed 3 to pass. The longest is \"devel/sage/sage/rings/polynomial/symmetric_ideal.py\" which takes 459.4 s. \n+\n+However, 5 failures remain outstanding. \n+\n+```\n+    sage -t  \"devel/sage/sage/graphs/graph_list.py\" # Segfault\n+    sage -t  \"devel/sage/sage/graphs/generic_graph.py\" # Segfault\n+    sage -t  \"devel/sage/sage/graphs/graph.py\" # Segfault\n+    sage -t  \"devel/sage/sage/graphs/graph_database.py\" # Segfault\n+    sage -t  \"devel/sage/sage/databases/database.py\" # Segfault\n+```\n+\n+## Specific failure of this ticket\n+\n+This ticket is documenting graph_database.py, or to be more precise\n+\n+```\n+\"devel/sage/sage/graphs/graph_database.py\"\n+```\n+\n+## Related tickets\n+The other failures observed on this build of Solaris 10 are #8397, #8398, #8399 and #8401\n \n \n Comment: 1\n``````\n",
    "created_at": "2010-02-28T16:54:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8400#issuecomment-88508",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,44 @@
+ == Details of the computer == 
+* Sun Blade 1000
+* 2 x 900 MHz UltraSPARC III+ CPUs
+* 2 GB RAM
+* Solaris 10 03/2005 (first release of Solaris 10)
+* gcc 4.4.3 (uses Sun linker and assembler)
+
+ == Sage version 4.3.3 (with several patches) ==
+I'm using a patched version of Sage 4.3.3, built as a 32-bit binary. The patches include:
+
+* #7867 Python patch, to allow Sage library to build. 
+* #8191 Addition of iconv, which is needed for R
+* #8285 Update R's spkg-install to work on Solaris
+* #8363 Remove a useless check for mpir in cddlib 
+* #8375 Numerical noise in devel/sage/sage/symbolic/pynac.pyx
+* #8374 Numerical noise in devel/sage/sage/symbolic/constants_c.pyx
+* #8371 Patch to allow pyprocessing to build - it failed after python was patched as #7867. (Note #6503 aims to remove pyprocessing completely). 
+
+ == The problem ==
+There are 8 test failures on this rather old SPARC. Increasing SAGE_TIMEOUT allowed 3 to pass. The longest is "devel/sage/sage/rings/polynomial/symmetric_ideal.py" which takes 459.4 s. 
+
+However, 5 failures remain outstanding. 
+
+```
+    sage -t  "devel/sage/sage/graphs/graph_list.py" # Segfault
+    sage -t  "devel/sage/sage/graphs/generic_graph.py" # Segfault
+    sage -t  "devel/sage/sage/graphs/graph.py" # Segfault
+    sage -t  "devel/sage/sage/graphs/graph_database.py" # Segfault
+    sage -t  "devel/sage/sage/databases/database.py" # Segfault
+```
+
+## Specific failure of this ticket
+
+This ticket is documenting graph_database.py, or to be more precise
+
+```
+"devel/sage/sage/graphs/graph_database.py"
+```
+
+## Related tickets
+The other failures observed on this build of Solaris 10 are #8397, #8398, #8399 and #8401
 
 
 Comment: 1
``````




---

archive/issue_comments_088509.json:
```json
{
    "body": "<a id='comment:3'></a>This problem goes away if sqlite is updated to version 3.6.22, which is the latest version.\n\nI created a trac ticket for that - #8408\n\nDave",
    "created_at": "2010-03-01T13:35:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8400#issuecomment-88509",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

<a id='comment:3'></a>This problem goes away if sqlite is updated to version 3.6.22, which is the latest version.

I created a trac ticket for that - #8408

Dave



---

archive/issue_comments_088510.json:
```json
{
    "body": "Changing merged from \"\" to \"sage-4.3.4.alpha1\"",
    "created_at": "2010-03-06T23:11:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8400#issuecomment-88510",
    "user": "https://github.com/mwhansen"
}
```

Changing merged from "" to "sage-4.3.4.alpha1"



---

archive/issue_comments_088511.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2010-03-06T23:11:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8400#issuecomment-88511",
    "user": "https://github.com/mwhansen"
}
```

Resolution: fixed



---

archive/issue_comments_088512.json:
```json
{
    "body": "<a id='comment:4'></a>Fixed by #8408",
    "created_at": "2010-03-06T23:11:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8400#issuecomment-88512",
    "user": "https://github.com/mwhansen"
}
```

<a id='comment:4'></a>Fixed by #8408



---

archive/issue_events_020139.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2010-03-06T23:11:27Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/8400",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/8400#event-20139"
}
```
