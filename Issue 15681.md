# Issue 15681: Update FLINT to 2.4.2

Issue created by migration from Trac.

Original creator: vbraun

Original creation time: 2014-03-11 22:28:41

CC:  dimpase jpflori




---

Comment by vbraun created at 2014-03-11 22:29:33

Changing component from PLEASE CHANGE to packages: standard.


---

Comment by vbraun created at 2014-03-11 22:29:33

Changing type from PLEASE CHANGE to enhancement.


---

Comment by vbraun created at 2014-03-11 22:31:20

New commits:


---

Comment by dimpase created at 2014-03-11 22:32:54

Changing status from new to needs_review.


---

Comment by dimpase created at 2014-03-11 22:32:54

Please see https://groups.google.com/d/topic/flint-devel/wXPk0Nkiv_E/discussion
for details.
----
New commits:


---

Comment by dimpase created at 2014-03-11 22:33:35

Does this need an SPKG.txt update?


---

Comment by git created at 2014-03-11 22:40:19

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by vbraun created at 2014-03-11 22:42:02

No need to change the SPKG.txt... why? ;-)

I get a testsuite failure though:

```
mkdir -p build/interfaces/test
make[4]: Entering directory `/home/vbraun/Code/sage.git/local/var/tmp/sage/build/flint-2.4.2/src'
    CXX   build/interfaces/test/t-NTL-interface
interfaces/test/t-NTL-interface.cpp: In function 'int test_ZZ_pE_to_fq()':
interfaces/test/t-NTL-interface.cpp:276:49: error: cannot convert 'fmpz* {aka long int*}' to 'fmpz_mod_poly_struct*' for argument '2' to 'void fq_ctx_init_modulus(fq_ctx_struct*, fmpz_mod_poly_struct*, const char*)'
         fq_ctx_init_modulus(ctx, p, d, fmod, "a");
                                                 ^
interfaces/test/t-NTL-interface.cpp: In function 'int test_ZZ_pEX_to_fq_poly()':
interfaces/test/t-NTL-interface.cpp:348:49: error: cannot convert 'fmpz* {aka long int*}' to 'fmpz_mod_poly_struct*' for argument '2' to 'void fq_ctx_init_modulus(fq_ctx_struct*, fmpz_mod_poly_struct*, const char*)'
         fq_ctx_init_modulus(ctx, p, d, fmod, "a");
                                                 ^
interfaces/test/t-NTL-interface.cpp: In function 'int test_zz_pE_to_fq()':
interfaces/test/t-NTL-interface.cpp:420:49: error: cannot convert 'fmpz* {aka long int*}' to 'fmpz_mod_poly_struct*' for argument '2' to 'void fq_ctx_init_modulus(fq_ctx_struct*, fmpz_mod_poly_struct*, const char*)'
         fq_ctx_init_modulus(ctx, p, d, fmod, "a");
                                                 ^
interfaces/test/t-NTL-interface.cpp: In function 'int test_zz_pEX_to_fq_poly()':
interfaces/test/t-NTL-interface.cpp:490:49: error: cannot convert 'fmpz* {aka long int*}' to 'fmpz_mod_poly_struct*' for argument '2' to 'void fq_ctx_init_modulus(fq_ctx_struct*, fmpz_mod_poly_struct*, const char*)'
         fq_ctx_init_modulus(ctx, p, d, fmod, "a");
                                                 ^
make[4]: *** [build/interfaces/test/t-NTL-interface] Error 1
make[4]: Leaving directory `/home/vbraun/Code/sage.git/local/var/tmp/sage/build/flint-2.4.2/src'
/bin/sh: line 2: build/interfaces/test/t-NTL-interface: No such file or directory
make[3]: *** [check] Error 127
make[3]: Leaving directory `/home/vbraun/Code/sage.git/local/var/tmp/sage/build/flint-2.4.2/src'
Error: FLINT failed to pass its test suite.
```



---

Comment by dimpase created at 2014-03-11 23:13:26

Changing status from needs_review to needs_work.


---

Comment by jpflori created at 2014-03-11 23:15:57

Is the following fix included in the 2.4.2 release?

!https://github.com/wbhart/flint2/commit/76abc0e007271fd69a022716eb32ddecb9985196


---

Comment by jpflori created at 2014-03-11 23:18:36

It's not.


---

Comment by dimpase created at 2014-03-12 09:49:24

upstream says the tarball is fixed. Can one try tests again?


---

Comment by dimpase created at 2014-03-12 09:49:24

Changing status from needs_work to needs_review.


---

Comment by jpflori created at 2014-03-12 09:58:30

I'm testing it right now, but I fear the tarball is not fixed as the checksum did not change...


---

Comment by git created at 2014-03-12 10:58:05

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by vbraun created at 2014-03-12 10:58:57

checksum did change, feel free to test as I'm about to fly across the atlantic...


---

Comment by jpflori created at 2014-03-12 11:00:06

Changing status from needs_review to positive_review.


---

Comment by jpflori created at 2014-03-12 11:00:06

I got the same new chjecksums (and was about to push it to trac) and the flint testsuite passed.
Now running the long Sage testsuite.


---

Comment by dimpase created at 2014-03-12 11:03:01

Let me test this on ARM, before closing this ticket, OK?


---

Comment by jpflori created at 2014-03-12 11:10:29

At least I've checked the missing backslash is now where it belongs.


---

Comment by vbraun created at 2014-03-13 22:18:49

Are you testing it on ARM, Dima?


---

Comment by dimpase created at 2014-03-14 18:43:34

Replying to [comment:19 vbraun]:
> Are you testing it on ARM, Dima?
It works!


---

Comment by vbraun created at 2014-03-19 18:27:25

Resolution: fixed
