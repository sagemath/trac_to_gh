# Issue 15681: Update FLINT to 2.4.2

archive/issues_015681.json:
```json
{
    "body": "CC:  @dimpase jpflori\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/15918\n\n",
    "created_at": "2014-03-11T22:28:41Z",
    "labels": [
        "component: please change"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.2",
    "title": "Update FLINT to 2.4.2",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15681",
    "user": "https://github.com/vbraun"
}
```
CC:  @dimpase jpflori



Issue created by migration from https://trac.sagemath.org/ticket/15918





---

archive/issue_comments_202773.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to packages: standard.",
    "created_at": "2014-03-11T22:29:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15681#issuecomment-202773",
    "user": "https://github.com/vbraun"
}
```

Changing component from PLEASE CHANGE to packages: standard.



---

archive/issue_comments_202774.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2014-03-11T22:29:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15681#issuecomment-202774",
    "user": "https://github.com/vbraun"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_202775.json:
```json
{
    "body": "New commits:",
    "created_at": "2014-03-11T22:31:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15681#issuecomment-202775",
    "user": "https://github.com/vbraun"
}
```

New commits:



---

archive/issue_comments_202776.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-03-11T22:32:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15681#issuecomment-202776",
    "user": "https://github.com/dimpase"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_202777.json:
```json
{
    "body": "Please see https://groups.google.com/d/topic/flint-devel/wXPk0Nkiv_E/discussion\nfor details.\n----\nNew commits:",
    "created_at": "2014-03-11T22:32:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15681#issuecomment-202777",
    "user": "https://github.com/dimpase"
}
```

Please see https://groups.google.com/d/topic/flint-devel/wXPk0Nkiv_E/discussion
for details.
----
New commits:



---

archive/issue_comments_202778.json:
```json
{
    "body": "Does this need an SPKG.txt update?",
    "created_at": "2014-03-11T22:33:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15681#issuecomment-202778",
    "user": "https://github.com/dimpase"
}
```

Does this need an SPKG.txt update?



---

archive/issue_comments_202779.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-03-11T22:40:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15681#issuecomment-202779",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_202780.json:
```json
{
    "body": "No need to change the SPKG.txt... why? ;-)\n\nI get a testsuite failure though:\n\n```\nmkdir -p build/interfaces/test\nmake[4]: Entering directory `/home/vbraun/Code/sage.git/local/var/tmp/sage/build/flint-2.4.2/src'\n    CXX   build/interfaces/test/t-NTL-interface\ninterfaces/test/t-NTL-interface.cpp: In function 'int test_ZZ_pE_to_fq()':\ninterfaces/test/t-NTL-interface.cpp:276:49: error: cannot convert 'fmpz* {aka long int*}' to 'fmpz_mod_poly_struct*' for argument '2' to 'void fq_ctx_init_modulus(fq_ctx_struct*, fmpz_mod_poly_struct*, const char*)'\n         fq_ctx_init_modulus(ctx, p, d, fmod, \"a\");\n                                                 ^\ninterfaces/test/t-NTL-interface.cpp: In function 'int test_ZZ_pEX_to_fq_poly()':\ninterfaces/test/t-NTL-interface.cpp:348:49: error: cannot convert 'fmpz* {aka long int*}' to 'fmpz_mod_poly_struct*' for argument '2' to 'void fq_ctx_init_modulus(fq_ctx_struct*, fmpz_mod_poly_struct*, const char*)'\n         fq_ctx_init_modulus(ctx, p, d, fmod, \"a\");\n                                                 ^\ninterfaces/test/t-NTL-interface.cpp: In function 'int test_zz_pE_to_fq()':\ninterfaces/test/t-NTL-interface.cpp:420:49: error: cannot convert 'fmpz* {aka long int*}' to 'fmpz_mod_poly_struct*' for argument '2' to 'void fq_ctx_init_modulus(fq_ctx_struct*, fmpz_mod_poly_struct*, const char*)'\n         fq_ctx_init_modulus(ctx, p, d, fmod, \"a\");\n                                                 ^\ninterfaces/test/t-NTL-interface.cpp: In function 'int test_zz_pEX_to_fq_poly()':\ninterfaces/test/t-NTL-interface.cpp:490:49: error: cannot convert 'fmpz* {aka long int*}' to 'fmpz_mod_poly_struct*' for argument '2' to 'void fq_ctx_init_modulus(fq_ctx_struct*, fmpz_mod_poly_struct*, const char*)'\n         fq_ctx_init_modulus(ctx, p, d, fmod, \"a\");\n                                                 ^\nmake[4]: *** [build/interfaces/test/t-NTL-interface] Error 1\nmake[4]: Leaving directory `/home/vbraun/Code/sage.git/local/var/tmp/sage/build/flint-2.4.2/src'\n/bin/sh: line 2: build/interfaces/test/t-NTL-interface: No such file or directory\nmake[3]: *** [check] Error 127\nmake[3]: Leaving directory `/home/vbraun/Code/sage.git/local/var/tmp/sage/build/flint-2.4.2/src'\nError: FLINT failed to pass its test suite.\n```\n",
    "created_at": "2014-03-11T22:42:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15681#issuecomment-202780",
    "user": "https://github.com/vbraun"
}
```

No need to change the SPKG.txt... why? ;-)

I get a testsuite failure though:

```
mkdir -p build/interfaces/test
make[4]: Entering directory `/home/vbraun/Code/sage.git/local/var/tmp/sage/build/flint-2.4.2/src'
    CXX   build/interfaces/test/t-NTL-interface
interfaces/test/t-NTL-interface.cpp: In function 'int test_ZZ_pE_to_fq()':
interfaces/test/t-NTL-interface.cpp:276:49: error: cannot convert 'fmpz* {aka long int*}' to 'fmpz_mod_poly_struct*' for argument '2' to 'void fq_ctx_init_modulus(fq_ctx_struct*, fmpz_mod_poly_struct*, const char*)'
         fq_ctx_init_modulus(ctx, p, d, fmod, "a");
                                                 ^
interfaces/test/t-NTL-interface.cpp: In function 'int test_ZZ_pEX_to_fq_poly()':
interfaces/test/t-NTL-interface.cpp:348:49: error: cannot convert 'fmpz* {aka long int*}' to 'fmpz_mod_poly_struct*' for argument '2' to 'void fq_ctx_init_modulus(fq_ctx_struct*, fmpz_mod_poly_struct*, const char*)'
         fq_ctx_init_modulus(ctx, p, d, fmod, "a");
                                                 ^
interfaces/test/t-NTL-interface.cpp: In function 'int test_zz_pE_to_fq()':
interfaces/test/t-NTL-interface.cpp:420:49: error: cannot convert 'fmpz* {aka long int*}' to 'fmpz_mod_poly_struct*' for argument '2' to 'void fq_ctx_init_modulus(fq_ctx_struct*, fmpz_mod_poly_struct*, const char*)'
         fq_ctx_init_modulus(ctx, p, d, fmod, "a");
                                                 ^
interfaces/test/t-NTL-interface.cpp: In function 'int test_zz_pEX_to_fq_poly()':
interfaces/test/t-NTL-interface.cpp:490:49: error: cannot convert 'fmpz* {aka long int*}' to 'fmpz_mod_poly_struct*' for argument '2' to 'void fq_ctx_init_modulus(fq_ctx_struct*, fmpz_mod_poly_struct*, const char*)'
         fq_ctx_init_modulus(ctx, p, d, fmod, "a");
                                                 ^
make[4]: *** [build/interfaces/test/t-NTL-interface] Error 1
make[4]: Leaving directory `/home/vbraun/Code/sage.git/local/var/tmp/sage/build/flint-2.4.2/src'
/bin/sh: line 2: build/interfaces/test/t-NTL-interface: No such file or directory
make[3]: *** [check] Error 127
make[3]: Leaving directory `/home/vbraun/Code/sage.git/local/var/tmp/sage/build/flint-2.4.2/src'
Error: FLINT failed to pass its test suite.
```




---

archive/issue_comments_202781.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-03-11T23:13:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15681#issuecomment-202781",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_202782.json:
```json
{
    "body": "Is the following fix included in the 2.4.2 release?\n\n!https://github.com/wbhart/flint2/commit/76abc0e007271fd69a022716eb32ddecb9985196",
    "created_at": "2014-03-11T23:15:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15681#issuecomment-202782",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Is the following fix included in the 2.4.2 release?

!https://github.com/wbhart/flint2/commit/76abc0e007271fd69a022716eb32ddecb9985196



---

archive/issue_comments_202783.json:
```json
{
    "body": "It's not.",
    "created_at": "2014-03-11T23:18:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15681#issuecomment-202783",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

It's not.



---

archive/issue_comments_202784.json:
```json
{
    "body": "upstream says the tarball is fixed. Can one try tests again?",
    "created_at": "2014-03-12T09:49:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15681#issuecomment-202784",
    "user": "https://github.com/dimpase"
}
```

upstream says the tarball is fixed. Can one try tests again?



---

archive/issue_comments_202785.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-03-12T09:49:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15681#issuecomment-202785",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_202786.json:
```json
{
    "body": "I'm testing it right now, but I fear the tarball is not fixed as the checksum did not change...",
    "created_at": "2014-03-12T09:58:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15681#issuecomment-202786",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

I'm testing it right now, but I fear the tarball is not fixed as the checksum did not change...



---

archive/issue_comments_202787.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-03-12T10:58:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15681#issuecomment-202787",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_202788.json:
```json
{
    "body": "checksum did change, feel free to test as I'm about to fly across the atlantic...",
    "created_at": "2014-03-12T10:58:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15681#issuecomment-202788",
    "user": "https://github.com/vbraun"
}
```

checksum did change, feel free to test as I'm about to fly across the atlantic...



---

archive/issue_comments_202789.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-03-12T11:00:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15681#issuecomment-202789",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_202790.json:
```json
{
    "body": "I got the same new chjecksums (and was about to push it to trac) and the flint testsuite passed.\nNow running the long Sage testsuite.",
    "created_at": "2014-03-12T11:00:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15681#issuecomment-202790",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

I got the same new chjecksums (and was about to push it to trac) and the flint testsuite passed.
Now running the long Sage testsuite.



---

archive/issue_comments_202791.json:
```json
{
    "body": "Let me test this on ARM, before closing this ticket, OK?",
    "created_at": "2014-03-12T11:03:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15681#issuecomment-202791",
    "user": "https://github.com/dimpase"
}
```

Let me test this on ARM, before closing this ticket, OK?



---

archive/issue_comments_202792.json:
```json
{
    "body": "At least I've checked the missing backslash is now where it belongs.",
    "created_at": "2014-03-12T11:10:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15681#issuecomment-202792",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

At least I've checked the missing backslash is now where it belongs.



---

archive/issue_comments_202793.json:
```json
{
    "body": "Are you testing it on ARM, Dima?",
    "created_at": "2014-03-13T22:18:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15681#issuecomment-202793",
    "user": "https://github.com/vbraun"
}
```

Are you testing it on ARM, Dima?



---

archive/issue_comments_202794.json:
```json
{
    "body": "Replying to [comment:19 vbraun]:\n> Are you testing it on ARM, Dima?\nIt works!",
    "created_at": "2014-03-14T18:43:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15681#issuecomment-202794",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:19 vbraun]:
> Are you testing it on ARM, Dima?
It works!



---

archive/issue_comments_202795.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-03-19T18:27:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15681#issuecomment-202795",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_015294.json:
```json
{
    "actor": "@vbraun",
    "created_at": "2014-03-19T18:27:25Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/15681",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15681#event-15294"
}
```
