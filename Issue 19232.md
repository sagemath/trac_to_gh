# Issue 19232: Jupyter mathjax fails for notebooks in subdirectories

Issue created by migration from https://trac.sagemath.org/ticket/19469

Original creator: vbraun

Original creation time: 2015-10-24 11:12:00

CC:  jdemeyer charpent

Steps to reproduce:
* Start `sage --notebook=jupyter`
* In the Jupyter file browser, select New -> Folder
* Click on the newly-created "Untitled Folder" (name does not matter)
* Create a new Sage kernel notebook in this subfolder

Result:
* The "Failed to retrieve MathJax from '../nbextensions/mathjax/MathJax.js" dialog pops up
* Notebook url is `http://localhost:8888/notebooks/Untitled%20Folder/Untitled.ipynb`

Since the notebook folder is in the url path, we cannot use a relative path for mathjax.


---

Comment by jdemeyer created at 2015-10-24 12:43:38

I doubt this is fixable without changes to upstream. I'll think about a solution which works in all cases.


---

Comment by jdemeyer created at 2015-10-26 17:50:40

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2015-10-26 17:50:40

New commits:


---

Comment by charpent created at 2015-10-26 19:23:00

Replying to [comment:6 jdemeyer]:
> New commits:
> ||[24d7616](http://git.sagemath.org/sage.git/commit/?id=24d7616c04340a622e62c6fee32105b4b051ef3d)||`Use proper relative path for mathjax`||

Seems to solve *my* use case. I don't know how to test other use cases.

ptestlong underway (30-45 minutes, usually).


---

Comment by charpent created at 2015-10-26 20:02:51

Replying to [comment:7 charpent]:
> Replying to [comment:6 jdemeyer]:
> > New commits:
> > ||[24d7616](http://git.sagemath.org/sage.git/commit/?id=24d7616c04340a622e62c6fee32105b4b051ef3d)||`Use proper relative path for mathjax`||
> 
> Seems to solve *my* use case. I don't know how to test other use cases.
> 
> ptestlong underway (30-45 minutes, usually).

Passes testlong (no errors).

I'm tempted to give positive review, but I'd rather have a second opinion with a different use case.

HTH !


---

Comment by charpent created at 2015-10-30 07:44:03

I tried diverse combinations of case uses, and I'm now convinced that this patch does the work it's supposed to.

==> positive review.


---

Comment by charpent created at 2015-10-30 07:44:03

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2015-10-30 18:15:50

Resolution: fixed
