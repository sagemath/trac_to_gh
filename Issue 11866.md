# Issue 11866: Complex numbers can segfault if given bad input to the __init__ method

Issue created by migration from Trac.

Original creator: roed

Original creation time: 2011-11-15 08:18:51

Assignee: jason

CC:  kini

Keywords: complex, segfault, dealloc

The `__dealloc__` method of `sage.rings.complex_number.ComplexNumber assumes that `__init__` has been called, which is not the case if there's a `TypeError` because `__init__` is passed the wrong number of arguments.


---

Attachment


---

Comment by roed created at 2011-11-15 08:22:14

Changing status from new to needs_review.


---

Comment by robertwb created at 2011-11-15 11:11:14

Changing status from needs_review to positive_review.


---

Comment by ddrake created at 2011-11-16 03:03:18

Just for reference, this is inspired by my misuse of `coerce()`: https://groups.google.com/d/topic/sage-devel/q1ZYeG-i7bU/discussion


---

Comment by jdemeyer created at 2011-11-16 20:36:45

Resolution: fixed
