# Issue 32759: fix doctest for pari-2.13.3

archive/issues_032759.json:
```json
{
    "body": "\n```\nsage -t --warn-long 10.0 --random-seed=290970252982663646623464893986173482302 src/sage/lfunctions/pari.py\n**********************************************************************\nFile \"src/sage/lfunctions/pari.py\", line 318, in sage.lfunctions.pari.lfun_number_field\nFailed example:\n    L(0)\nExpected:\n    0.000000000000000\nGot:\n      ***   Warning: normalizing a series with 0 leading term.\n    0.000000000000000\n**********************************************************************\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/32996\n\n",
    "created_at": "2021-12-08T23:42:57Z",
    "labels": [
        "component: build",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "fix doctest for pari-2.13.3",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32759",
    "user": "https://github.com/orlitzky"
}
```

```
sage -t --warn-long 10.0 --random-seed=290970252982663646623464893986173482302 src/sage/lfunctions/pari.py
**********************************************************************
File "src/sage/lfunctions/pari.py", line 318, in sage.lfunctions.pari.lfun_number_field
Failed example:
    L(0)
Expected:
    0.000000000000000
Got:
      ***   Warning: normalizing a series with 0 leading term.
    0.000000000000000
**********************************************************************
```


Issue created by migration from https://trac.sagemath.org/ticket/32996





---

archive/issue_comments_466637.json:
```json
{
    "body": "Hm, maybe this should not be papered over in the doctest:\n\n\n```\n$ gp -q\n? L = lfuncreate(x^2 - 2);\n? lfun(L,0)\n0\n```\n",
    "created_at": "2021-12-09T00:06:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32759",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32759#issuecomment-466637",
    "user": "https://github.com/orlitzky"
}
```

Hm, maybe this should not be papered over in the doctest:


```
$ gp -q
? L = lfuncreate(x^2 - 2);
? lfun(L,0)
0
```




---

archive/issue_comments_466638.json:
```json
{
    "body": "see #32797",
    "created_at": "2021-12-09T09:54:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32759",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32759#issuecomment-466638",
    "user": "https://github.com/fchapoton"
}
```

see #32797



---

archive/issue_comments_466639.json:
```json
{
    "body": "sage converts 0 to floating point before passing it to pari:\n\n```\n> gp -q\n? L = lfuncreate(x^2 - 2);\n? lfun(L,0)\n0\n? lfun(L,0.0)\n  *** lfun: Warning: normalizing a series with 0 leading term.\n0\n```\n",
    "created_at": "2021-12-09T14:59:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32759",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32759#issuecomment-466639",
    "user": "https://github.com/antonio-rojas"
}
```

sage converts 0 to floating point before passing it to pari:

```
> gp -q
? L = lfuncreate(x^2 - 2);
? lfun(L,0)
0
? lfun(L,0.0)
  *** lfun: Warning: normalizing a series with 0 leading term.
0
```




---

archive/issue_comments_466640.json:
```json
{
    "body": "Thanks, I reported upstream at https://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=2329",
    "created_at": "2021-12-10T01:20:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32759",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32759#issuecomment-466640",
    "user": "https://github.com/orlitzky"
}
```

Thanks, I reported upstream at https://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=2329



---

archive/issue_comments_466641.json:
```json
{
    "body": "The warning is gone in pari/gp git HEAD. Of course we can keep the `...` to support pari-2.13.3 from the system.",
    "created_at": "2021-12-13T15:12:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32759",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32759#issuecomment-466641",
    "user": "https://github.com/orlitzky"
}
```

The warning is gone in pari/gp git HEAD. Of course we can keep the `...` to support pari-2.13.3 from the system.



---

archive/issue_comments_466642.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-12-13T15:12:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32759",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32759#issuecomment-466642",
    "user": "https://github.com/orlitzky"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_466643.json:
```json
{
    "body": "Resolution: invalid",
    "created_at": "2021-12-13T17:46:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32759",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32759#issuecomment-466643",
    "user": "https://github.com/fchapoton"
}
```

Resolution: invalid



---

archive/issue_events_029695.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-12-13T17:46:18Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/32759",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32759#event-29695"
}
```
