# Issue 18773: Can't multiply an element of a group with an element of a subgroup

Issue created by migration from Trac.

Original creator: slabbe

Original creation time: 2015-08-10 18:33:07

CC:  vittucek travis

This should work:


```
sage: G = WeylGroup(['B',3])
sage: H = G.subgroup([G[14], G[17]])
sage: H[0] * G[0]
Traceback (most recent call last):
...
TypeError: unsupported operand parent(s) for '*': 'Matrix group over Rational Field with 2 generators (
[ 0  0  1]  [ 0 -1  0]
[-1  0  0]  [ 0  0 -1]
[ 0  1  0], [ 1  0  0]
)' and 'Weyl Group of type ['B', 3] (as a matrix group acting on the ambient space)'
```



---

Comment by jdemeyer created at 2018-07-05 08:57:45

Can you check if #24612 fixes your problem?


---

Comment by vittucek created at 2018-07-05 09:15:37

Replying to [comment:2 jdemeyer]:
> Can you check if #24612 fixes your problem?

Nope, it's still not working.


```sage
sage: sage: G = WeylGroup(['B',3])
....: sage: H = G.subgroup([G[14], G[17]])
....: sage: H[0] * G[0]
....: 
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
<ipython-input-1-e452966a6c00> in <module>()
      1 G = WeylGroup(['B',Integer(3)])
      2 H = G.subgroup([G[Integer(14)], G[Integer(17)]])
----> 3 H[Integer(0)] * G[Integer(0)]

/home/vit/src/sage/local/lib/python2.7/site-packages/sage/structure/element.pyx in sage.structure.element.Element.__mul__ (build/cythonized/sage/structure/element.c:12224)()
   1532             return (<Element>left)._mul_(right)
   1533         if BOTH_ARE_ELEMENT(cl):
-> 1534             return coercion_model.bin_op(left, right, mul)
   1535 
   1536         cdef long value

/home/vit/src/sage/local/lib/python2.7/site-packages/sage/structure/coerce.pyx in sage.structure.coerce.CoercionModel_cache_maps.bin_op (build/cythonized/sage/structure/coerce.c:10875)()
   1225         # We should really include the underlying error.
   1226         # This causes so much headache.
-> 1227         raise bin_op_exception(op, x, y)
   1228 
   1229     cpdef canonical_coercion(self, x, y):

TypeError: unsupported operand parent(s) for *: 'Matrix group over Rational Field with 2 generators (
[ 0  0  1]  [ 0 -1  0]
[-1  0  0]  [ 0  0 -1]
[ 0  1  0], [ 1  0  0]
)' and 'Weyl Group of type ['B', 3] (as a matrix group acting on the ambient space)'

```



---

Comment by jdemeyer created at 2018-07-05 09:18:15

OK, this is because they are matrix groups, while #24612 deals only with permutation groups.


---

Comment by @DaveWitteMorris created at 2020-05-10 03:40:36

Changing status from new to needs_review.


---

Comment by @DaveWitteMorris created at 2020-05-10 03:40:36

Testing on `CoCalc` shows that this was fixed in 8.8.  The PR just adds a doctest.
----
New commits:


---

Comment by @DaveWitteMorris created at 2020-05-10 03:40:36

Changing priority from major to minor.


---

Comment by chapoton created at 2020-05-10 07:28:33

please rather use

```
all(g*h in G and h*g in G for g in G for h in H)
```



---

Comment by git created at 2020-05-10 08:07:32

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @DaveWitteMorris created at 2020-05-10 08:14:18

Thanks. I'm not sufficiently fluent in python to write code like that on my own yet.


---

Comment by slabbe created at 2020-05-10 09:00:13

Great! Someone knows in which ticket this was fixed?


---

Comment by @DaveWitteMorris created at 2020-05-10 16:51:30

After a bit of searching, I discovered that ticket:27468#comment:5 says "This fixes #19010 as well". Feel free to edit the comment in my PR to mention #27468, or tell me what should be done.


---

Comment by chapoton created at 2020-05-10 18:06:56

nothing needs to be done. Good to go.


---

Comment by chapoton created at 2020-05-10 18:06:56

Changing status from needs_review to positive_review.


---

Comment by slabbe created at 2020-05-11 18:11:20

Replying to [comment:12 gh-DaveWitteMorris]:
> After a bit of searching, I discovered that ticket:27468#comment:5 says "This fixes #19010 as well". Feel free to edit the comment in my PR to mention #27468, or tell me what should be done.

Thanks, I was simply curious. Nothing to do.


---

Comment by vbraun created at 2020-05-31 08:48:48

Resolution: fixed
