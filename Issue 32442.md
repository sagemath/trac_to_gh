# Issue 32442: conda-forge-macos-minimal: cmake installation fails

Issue created by migration from https://trac.sagemath.org/ticket/32679

Original creator: mkoeppe

Original creation time: 2021-10-13 06:37:02

CC:  isuruf dimpase

https://github.com/sagemath/sage/runs/3863933788?check_suite_focus=true


```
In file included from /Users/runner/work/sage/sage/.tox/local-conda-forge-macos-minimal/conda/bin/../include/c++/v1/algorithm:653:
In file included from /Users/runner/work/sage/sage/.tox/local-conda-forge-macos-minimal/conda/bin/../include/c++/v1/memory:670:
In file included from /Users/runner/work/sage/sage/.tox/local-conda-forge-macos-minimal/conda/bin/../include/c++/v1/typeinfo:61:
In file included from /Users/runner/work/sage/sage/.tox/local-conda-forge-macos-minimal/conda/bin/../include/c++/v1/exception:83:
/Users/runner/work/sage/sage/.tox/local-conda-forge-macos-minimal/conda/bin/../include/c++/v1/cstdlib:158:9: error: no member named 'aligned_alloc' in the global namespace
using ::aligned_alloc;
      ~~^
[ 43%] Building CXX object Source/CMakeFiles/CMakeLib.dir/LexerParser/cmDependsJavaParser.cxx.o
1 error generated.
make[5]: *** [Source/CMakeFiles/CMakeLib.dir/build.make:104: Source/CMakeFiles/CMakeLib.dir/LexerParser/cmDependsJavaLexer.cxx.o] Error 1
[ 43%] Building CXX object Source/CMakeFiles/CMakeLib.dir/LexerParser/cmExprLexer.cxx.o
```





---

Comment by dimpase created at 2021-10-22 10:40:31

I propose a fix - make `cmake` a pre-req, just like `make`.
Then, no need to fight `cmake` installs on this or any other platform.
(`cmake` is truly well-represented everywhere)


---

Comment by mkoeppe created at 2021-10-22 15:21:11

Again?


---

Comment by mkoeppe created at 2022-08-02 18:11:17

Outdated, it builds OK in https://github.com/mkoeppe/sage/runs/7592834169?check_suite_focus=true


---

Comment by mkoeppe created at 2022-08-02 18:11:17

Changing status from new to needs_review.


---

Comment by dimpase created at 2022-08-24 14:19:04

Changing status from needs_review to positive_review.


---

Comment by mkoeppe created at 2022-09-01 02:30:35

Resolution: invalid
