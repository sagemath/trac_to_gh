# Issue 14848: tropical coordinates for braid group elements

Issue created by migration from https://trac.sagemath.org/ticket/15085

Original creator: chapoton

Original creation time: 2013-08-23 12:04:09

Keywords: braid group, tropical algebra

this ticket proposes to implement the tropical coordinates (due to Dynnikov and Wiest) for braid group elements


---

Comment by chapoton created at 2013-08-23 12:06:54

Changing component from PLEASE CHANGE to group theory.


---

Comment by chapoton created at 2013-08-23 12:06:54

Changing status from new to needs_review.


---

Comment by chapoton created at 2013-08-23 12:06:54

Changing type from PLEASE CHANGE to enhancement.


---

Comment by chapoton created at 2013-08-23 12:06:54

should be ready for review


---

Attachment

Hey Frederic,

I'm reworking the implementation a bit to get some improvements. Quick (stupid) question before finishing my review however, the resulting coordinates are suppose to lie in a tropical space, correct? If so, I want to change it so that the result is a list of elements in `TropicalSemiring` and computations are done in there as well. Edit: also, your patch will need a proper commit message.

Best,

Travis


---

Comment by chapoton created at 2013-08-23 19:34:31

Hello Travis,

thanks for working on that

Well, the result is just a list of elements in ZZ (mathematically)

We can either put them in ZZ or in the tropical version of ZZ, if you prefer. The main point should be speed, in my humble opinion.


---

Attachment


---

Comment by tscrim created at 2013-08-24 00:18:03

I did all of the computations as `int`'s and returned the result in the tropical ZZ in my review patch. Here are the timings with various options:

With my review patch:

```
sage: B = BraidGroup(3)
sage: b = B([-2, -2, -1, -1, 2, 2, 1, 1])
sage: %timeit b.tropical_coordinates()
1000 loops, best of 3: 151 us per loop
sage: %timeit b.tropical_coordinates()
1000 loops, best of 3: 138 us per loop
```

Before my review patch:

```
sage: %timeit b.tropical_coordinates()
1000 loops, best of 3: 160 us per loop
sage: %timeit b.tropical_coordinates()
1000 loops, best of 3: 174 us per loop
```

With review patch but not converting to (tropical) ZZ, instead leaving them as `int`'s:

```
sage: %timeit b.tropical_coordinates()
10000 loops, best of 3: 81.1 us per loop
sage: %timeit b.tropical_coordinates()
1000 loops, best of 3: 80.4 us per loop
```

With review patch but converting them into honest ZZ elements:

```
sage: %timeit b.tropical_coordinates()
1000 loops, best of 3: 98.9 us per loop
sage: %timeit b.tropical_coordinates()
10000 loops, best of 3: 107 us per loop
```


Personally I prefer to have them in tropical ZZ since that is what the function name indicates, but I don't have a strong opinion on this, so it's whatever you choose.


---

Comment by chapoton created at 2013-08-24 19:00:20

Hello,

thanks for the review. Everything looks good to me. You can set a positive review if you want to.

One minor point (that maybe you can correct) is that it is better not to put whitespace before or after a parenthesis, as this is not recommended by the pep8 standard.

Frédéric


---

Comment by tscrim created at 2013-08-24 19:12:45

Hey Frederic,

I put extra whitespace around blocks of parenthesis to help separate them/make them visually match better (pep8 [unfortunately] doesn't specify what to do with blocks of parenthesis). They probably aren't so useful here however because there's only 2 of them. So you can fold my review patch into yours and remove the whitespace since your base patch needs a proper commit message before we can set this to positive review.

Best,

Travis


---

Comment by chapoton created at 2013-08-24 19:20:54

folded patch, apply only this one


---

Attachment

ok, here is a folded patch with commit message (I often forget that..)


---

Comment by tscrim created at 2013-08-24 19:31:53

Thanks Frederic.

For patchbot:

Apply: trac_15085_trop_coord_folded.patch


---

Comment by tscrim created at 2013-08-24 19:31:53

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2013-08-28 06:55:22

Resolution: fixed
