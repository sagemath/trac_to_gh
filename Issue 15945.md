# Issue 15945: doctesting tutorial gives bad advice about doctesting everything

Issue created by migration from https://trac.sagemath.org/ticket/16182

Original creator: darij

Original creation time: 2014-04-18 03:04:08

CC:  vbraun

Keywords: doctest, documentation, tutorial

I'm talking about this here: http://www.sagemath.org/doc/developer/doctesting.html

I am pretty sure that `./sage -tp 10 --long src/` should be replaced by `./sage -tp 10 --long src/sage/`.


---

Comment by rws created at 2014-04-18 07:08:36

Recently I was surprised by `@`vbraun who showed me failing doctests even though I had done a `./sage -tp --long src/sage`. Solution: he tested in `src/doc` too!


---

Comment by darij created at 2014-04-18 14:03:57

Right; this (from `sage/doctest/control.py`) is probably the correct procedure:

```
        if self.options.all:
            self.log("Doctesting entire Sage library.")
            from glob import glob
            self.files.append(opj(SAGE_SRC, 'sage'))
            self.files.append(opj(SAGE_SRC, 'doc', 'common'))
            self.files.extend(glob(opj(SAGE_SRC, 'doc', '[a-z][a-z]')))
            self.options.sagenb = True
```

But one definitely shouldn't be doctesting the src/build hierarchy...


---

Comment by jhpalmieri created at 2014-04-18 15:15:44

The right solution is probably `./sage -tp 10 --long --all` or `make ptestlong`.


---

Comment by jdemeyer created at 2014-06-27 10:06:39

Changing component from doctest framework to documentation.
