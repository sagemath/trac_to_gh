# Issue 27877: Back tableaux by Numpy arrays where possible

Issue created by migration from https://trac.sagemath.org/ticket/28114

Original creator: embray

Original creation time: 2019-07-04 12:32:36

CC:  nthiery zerline hivert tscrim

As #28106 demonstrates, although it is perhaps a somewhat extreme case, constructing large classes of tableaux can be very memory-hungry, as the `StandardTableaux(50)` case demonstrates (it chews up nearly a gigabyte of RAM).

In many cases, most individual tableaux can be represented as a single flat numpy array of small ints (8-bit unsigned for example) containing their shape data, which would save significant space.  Having tableaux stored as Numpy arrays may also help speed up some algorithms, but I'm not sure about any specific cases.


---

Comment by nthiery created at 2019-07-04 12:39:11

Thanks for the update. The plan was to use ClonableArray's / IntArrays. Numpy arrays could be an alternative indeed.


---

Comment by embray created at 2019-07-04 12:41:40

I wondered if maybe that was a possibility as well, but 8-bit numpy arrays would still probably be the most efficient.

I figured it was probably considered before but I didn't see a ticket for it.


---

Comment by vbraun created at 2019-07-13 09:41:35

Also doctesting `sage -t --long src/sage/combinat/tableau.py` uses over a gigabyte of ram (RSS), what are you testing that you can't test in, say, half a gig of ram? This is probably the most memory-hungry file in the testsuite.


---

Comment by embray created at 2019-12-30 14:48:17

Ticket retargeted after milestone closed


---

Comment by mkoeppe created at 2020-04-14 19:41:51

Batch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.


---

Comment by mkoeppe created at 2021-02-13 20:51:01

Setting new milestone based on a cursory review of ticket status, priority, and last modification date.
