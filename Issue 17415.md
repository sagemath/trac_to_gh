# Issue 17415: Difference matrix product

Issue created by migration from https://trac.sagemath.org/ticket/17652

Original creator: vdelecroix

Original creation time: 2015-01-19 22:05:22

CC:  ncohen

Implement the product of difference matrix.


---

Comment by vdelecroix created at 2015-01-19 22:07:45

New commits:


---

Comment by vdelecroix created at 2015-01-19 22:07:45

Changing status from new to needs_review.


---

Comment by ncohen created at 2015-01-20 09:12:17

Hellooooooooooooo !!

Several comments:

- It's a pity to do the computations twice when lmbda1=lmbda2 (g1~g2
  symmetry). But perhaps that does not matter considering the timings involved.

- The comment on the infinite loops does not match the code that follows (the
  code is right)

- Why a `M = zip(*M)`? Isn't it better to change the loop above in order to
  compute the right matrix?

- The new doctest `designs.difference_matrix(56,None,existence=1)` returned
  the same answer in the latest beta. Did you mean to test the new construction?

- Could you write an INPUT section for the two functions?

Nathann


---

Comment by ncohen created at 2015-01-20 09:12:17

Changing status from needs_review to needs_work.


---

Comment by git created at 2015-01-20 12:04:41

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by vdelecroix created at 2015-01-20 12:05:21

Right, right, right, right, right.

Done, done, done, done, done.

Vincent


---

Comment by vdelecroix created at 2015-01-20 12:05:30

Changing status from needs_work to needs_review.


---

Comment by ncohen created at 2015-01-20 14:13:19

Yoooooooo !

Looks good, but can you really cut as soon as `g1>g2` ? There is no symmetry there if the two lambda are different.

Nathann


---

Comment by vdelecroix created at 2015-01-20 14:24:37

Replying to [comment:6 ncohen]:
> Yoooooooo !
> 
> Looks good, but can you really cut as soon as `g1>g2` ? There is no symmetry there if the two lambda are different.

The algorithm runs through *all* possible pairs of lambdas. If you see `(lambd1, lmbda2)` you will also see `(lmbda2,lmbda1)`. It is hence fine to cut.

Vincent


---

Comment by ncohen created at 2015-01-20 14:54:30

Dead right.

I'd say that this is good to go. We should pay attention to the timing of those functions, however, as they are called heavily by the OA constructors.

Nathann


---

Comment by ncohen created at 2015-01-20 14:54:30

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2015-01-24 13:18:50

Resolution: fixed
