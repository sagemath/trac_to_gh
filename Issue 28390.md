# Issue 28390: Lazy OEIS sequences

archive/issues_028390.json:
```json
{
    "body": "CC:  chapoton moritz vdelecroix slabbe\n\nWe make the `OEISSequences` be (uniquely) defined as long as their ID (A-number) is known, and connect to the internet as late as possible.\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/28627\n\n",
    "created_at": "2019-10-18T10:45:52Z",
    "labels": [
        "combinatorics",
        "major",
        "enhancement"
    ],
    "title": "Lazy OEIS sequences",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28390",
    "user": "tmonteil"
}
```
CC:  chapoton moritz vdelecroix slabbe

We make the `OEISSequences` be (uniquely) defined as long as their ID (A-number) is known, and connect to the internet as late as possible.


Issue created by migration from https://trac.sagemath.org/ticket/28627





---

archive/issue_comments_400968.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-10-18T15:07:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28390#issuecomment-400968",
    "user": "tmonteil"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_400969.json:
```json
{
    "body": "New commits:",
    "created_at": "2019-10-18T15:07:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28390#issuecomment-400969",
    "user": "tmonteil"
}
```

New commits:



---

archive/issue_comments_400970.json:
```json
{
    "body": "I tried to cut the changes into meaningful commits, however the block\n\n\n```\n+        TESTS::\n+\n+        sage: s = oeis._imaginary_sequence(ident='A004238')\n+        sage: s\n+        A004238: The characteristic sequence of 42 plus one, starting from 38.\n+        sage: s.online_update()                         # optional -- internet\n+        sage: s                                         # optional -- internet\n+        A004238: a(n) = 100*log(n) rounded to nearest integer.\n```\n\n\nshould appear in the second commit, not the first, since at this stage `ident` parameter is not defined for imaginary sequences.\n\nYou should test the whole branch, the commits are made to ease human review.",
    "created_at": "2019-10-18T15:19:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28390#issuecomment-400970",
    "user": "tmonteil"
}
```

I tried to cut the changes into meaningful commits, however the block


```
+        TESTS::
+
+        sage: s = oeis._imaginary_sequence(ident='A004238')
+        sage: s
+        A004238: The characteristic sequence of 42 plus one, starting from 38.
+        sage: s.online_update()                         # optional -- internet
+        sage: s                                         # optional -- internet
+        A004238: a(n) = 100*log(n) rounded to nearest integer.
```


should appear in the second commit, not the first, since at this stage `ident` parameter is not defined for imaginary sequences.

You should test the whole branch, the commits are made to ease human review.



---

archive/issue_comments_400971.json:
```json
{
    "body": "Patchbot complains about doctest coverage regression.",
    "created_at": "2019-10-18T17:08:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28390#issuecomment-400971",
    "user": "tmonteil"
}
```

Patchbot complains about doctest coverage regression.



---

archive/issue_comments_400972.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-10-18T17:08:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28390#issuecomment-400972",
    "user": "tmonteil"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_400973.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-10-18T17:33:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28390#issuecomment-400973",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_400974.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-10-18T17:34:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28390#issuecomment-400974",
    "user": "tmonteil"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_400975.json:
```json
{
    "body": "If some of the people who already handled oeis code could have a look, it will allow to move forward.",
    "created_at": "2019-11-24T12:54:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28390#issuecomment-400975",
    "user": "tmonteil"
}
```

If some of the people who already handled oeis code could have a look, it will allow to move forward.



---

archive/issue_comments_400976.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-11-27T15:37:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28390#issuecomment-400976",
    "user": "slabbe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_400977.json:
```json
{
    "body": "Works for me. All tests passed related to oeis.",
    "created_at": "2019-11-27T15:37:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28390#issuecomment-400977",
    "user": "slabbe"
}
```

Works for me. All tests passed related to oeis.



---

archive/issue_comments_400978.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-11-30T13:36:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28390#issuecomment-400978",
    "user": "vbraun"
}
```

Resolution: fixed
