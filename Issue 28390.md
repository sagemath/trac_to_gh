# Issue 28390: Lazy OEIS sequences

Issue created by migration from https://trac.sagemath.org/ticket/28627

Original creator: tmonteil

Original creation time: 2019-10-18 10:45:52

CC:  chapoton moritz vdelecroix slabbe

We make the `OEISSequences` be (uniquely) defined as long as their ID (A-number) is known, and connect to the internet as late as possible.



---

Comment by tmonteil created at 2019-10-18 15:07:05

Changing status from new to needs_review.


---

Comment by tmonteil created at 2019-10-18 15:07:05

New commits:


---

Comment by tmonteil created at 2019-10-18 15:19:28

I tried to cut the changes into meaningful commits, however the block


```
+        TESTS::
+
+        sage: s = oeis._imaginary_sequence(ident='A004238')
+        sage: s
+        A004238: The characteristic sequence of 42 plus one, starting from 38.
+        sage: s.online_update()                         # optional -- internet
+        sage: s                                         # optional -- internet
+        A004238: a(n) = 100*log(n) rounded to nearest integer.
```


should appear in the second commit, not the first, since at this stage `ident` parameter is not defined for imaginary sequences.

You should test the whole branch, the commits are made to ease human review.


---

Comment by tmonteil created at 2019-10-18 17:08:55

Patchbot complains about doctest coverage regression.


---

Comment by tmonteil created at 2019-10-18 17:08:55

Changing status from needs_review to needs_work.


---

Comment by git created at 2019-10-18 17:33:24

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tmonteil created at 2019-10-18 17:34:26

Changing status from needs_work to needs_review.


---

Comment by tmonteil created at 2019-11-24 12:54:29

If some of the people who already handled oeis code could have a look, it will allow to move forward.


---

Comment by slabbe created at 2019-11-27 15:37:51

Changing status from needs_review to positive_review.


---

Comment by slabbe created at 2019-11-27 15:37:51

Works for me. All tests passed related to oeis.


---

Comment by vbraun created at 2019-11-30 13:36:34

Resolution: fixed
