# Issue 13214: comparison of Sage integer with Numpy integer

Issue created by migration from Trac.

Original creator: vdelecroix

Original creation time: 2012-08-21 17:20:06

Assignee: vdelecroix

Keywords: integer, numpy, comparison

We correct

```
sage: import numpy
sage: numpy.int32(123) == 123
True
sage: 123 == numpy.int32(123)
False
```



---

Attachment


---

Comment by vdelecroix created at 2012-08-21 17:30:46

Changing status from new to needs_review.


---

Comment by nbruin created at 2012-08-22 22:46:31

Your patch causes numpy to be loaded upon sage startup. According to #11714 that isn't done.


---

Comment by kcrisman created at 2012-12-13 02:38:06

Changing status from needs_review to needs_info.


---

Comment by kcrisman created at 2012-12-13 02:38:06

I claim "needs info" since it isn't clear that we want to go back to importing numpy on startup if a lot of work went into that ticket.


---

Attachment

I just added a patch, which avoids the loading of numpy during startup.

Unfortunately comparison with numpy types fail for all rings:



```
sage: import numpy
sage: QQ(1) == numpy.int32(1)
False
sage: QQbar(1) == numpy.int32(1)
False
sage: AA(1) == numpy.int32(1)
False
sage: RR(1) == numpy.int32(1)
False
sage: RDF(1) == numpy.int32(1)
False
sage: RIF(1) == numpy.int32(1)
False
```



---

Comment by vdelecroix created at 2015-03-28 12:04:47

Hello,

I propose to close this as duplicate since #18076 fixes the issue

```
sage: import numpy
sage: 123 == numpy.int32(123)
True
```


Vincent


---

Comment by vdelecroix created at 2015-03-28 12:04:47

Changing status from needs_info to needs_review.


---

Comment by jdemeyer created at 2015-04-23 09:34:08

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2015-04-23 14:51:36

Resolution: duplicate
