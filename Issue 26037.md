# Issue 26037: Avoid comparison of vertex labels (Step 1)

archive/issues_026037.json:
```json
{
    "body": "CC:  jmantysalo chapoton tscrim\n\nKeywords: py3, graph\n\nAvoid comparison of vertex labels in `graph_coloring.py`.\n\nIssue created by migration from https://trac.sagemath.org/ticket/26274\n\n",
    "created_at": "2018-09-13T12:38:13Z",
    "labels": [
        "graph theory",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.4",
    "title": "Avoid comparison of vertex labels (Step 1)",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/26037",
    "user": "dcoudert"
}
```
CC:  jmantysalo chapoton tscrim

Keywords: py3, graph

Avoid comparison of vertex labels in `graph_coloring.py`.

Issue created by migration from https://trac.sagemath.org/ticket/26274





---

archive/issue_comments_367234.json:
```json
{
    "body": "On the way, I also did some minor improvements.\n----\nNew commits:",
    "created_at": "2018-09-13T12:45:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26037",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26037#issuecomment-367234",
    "user": "dcoudert"
}
```

On the way, I also did some minor improvements.
----
New commits:



---

archive/issue_comments_367235.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-09-13T14:47:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26037",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26037#issuecomment-367235",
    "user": "dcoudert"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_367236.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-09-15T15:24:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26037",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26037#issuecomment-367236",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_367237.json:
```json
{
    "body": "* are you sure you need wrapping by list here:\n\n```\n+    N = list(range(n))\n```\n\nand there\n\n```\n+    classes = list(range(k))\n```\n\nand again later\n\n* you should not remove this import\n\n```\n-from sage.numerical.mip import MIPSolverException\n```\n\nas it makes pyflakes unhappy\n\n* This can be further simplified using `if not ...` :\n\n```\n+                    if len(list(set(classe) & set(g.neighbor_iterator(deg[-1])))) == 0:\n```\n\n\n* do not use `lambda` declarations, but functions:\n\n```\nE = lambda x,y : frozenset((x,y))\n```\n\nand the same in other frozen wrappers.",
    "created_at": "2018-09-16T07:53:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26037",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26037#issuecomment-367237",
    "user": "chapoton"
}
```

* are you sure you need wrapping by list here:

```
+    N = list(range(n))
```

and there

```
+    classes = list(range(k))
```

and again later

* you should not remove this import

```
-from sage.numerical.mip import MIPSolverException
```

as it makes pyflakes unhappy

* This can be further simplified using `if not ...` :

```
+                    if len(list(set(classe) & set(g.neighbor_iterator(deg[-1])))) == 0:
```


* do not use `lambda` declarations, but functions:

```
E = lambda x,y : frozenset((x,y))
```

and the same in other frozen wrappers.



---

archive/issue_comments_367238.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-09-16T08:34:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26037",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26037#issuecomment-367238",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_367239.json:
```json
{
    "body": "Thank you for the comments.\n- about `list(range(...))`: If `range` becomes an iterator, then we can iterate only once on `classes`. Right ? I changed the code to use explicitly `range(k)`.\n\n- I moved the import of `MIPSolverException` and `MixedIntegerLinearProgram` at the top of the file, and removed other imports.\n\n> * This can be further simplified using `if not ...` :\n- actually, we can do even better with \n\n```\nif set(classe).isdisjoint(g.neighbor_iterator(deg[-1])):\n```\n\n\n \n> * do not use `lambda` declarations, but functions:\nI did the modification (and will do in #26282, #26284, #26285), but what's the reason for that ?",
    "created_at": "2018-09-16T08:35:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26037",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26037#issuecomment-367239",
    "user": "dcoudert"
}
```

Thank you for the comments.
- about `list(range(...))`: If `range` becomes an iterator, then we can iterate only once on `classes`. Right ? I changed the code to use explicitly `range(k)`.

- I moved the import of `MIPSolverException` and `MixedIntegerLinearProgram` at the top of the file, and removed other imports.

> * This can be further simplified using `if not ...` :
- actually, we can do even better with 

```
if set(classe).isdisjoint(g.neighbor_iterator(deg[-1])):
```


 
> * do not use `lambda` declarations, but functions:
I did the modification (and will do in #26282, #26284, #26285), but what's the reason for that ?



---

archive/issue_comments_367240.json:
```json
{
    "body": "> > * do not use `lambda` declarations, but functions:\n> I did the modification (and will do in #26282, #26284, #26285), but what's the reason for that ?\n\nWell, this a pep8 recommendation, so not anything important. No need to change it everywhere in other tickets.",
    "created_at": "2018-09-16T09:02:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26037",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26037#issuecomment-367240",
    "user": "chapoton"
}
```

> > * do not use `lambda` declarations, but functions:
> I did the modification (and will do in #26282, #26284, #26285), but what's the reason for that ?

Well, this a pep8 recommendation, so not anything important. No need to change it everywhere in other tickets.



---

archive/issue_comments_367241.json:
```json
{
    "body": "You should not do the following, for keeping the coherence with other lines before and after it (this is not the first line of a docstring)\n\n```\n-    :meth:`all_graph_colorings` | Computes all `n`-colorings a graph\n+    :meth:`all_graph_colorings` | Compute all `n`-colorings a graph\n```\n",
    "created_at": "2018-09-16T09:05:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26037",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26037#issuecomment-367241",
    "user": "chapoton"
}
```

You should not do the following, for keeping the coherence with other lines before and after it (this is not the first line of a docstring)

```
-    :meth:`all_graph_colorings` | Computes all `n`-colorings a graph
+    :meth:`all_graph_colorings` | Compute all `n`-colorings a graph
```




---

archive/issue_comments_367242.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-09-16T09:09:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26037",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26037#issuecomment-367242",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_367243.json:
```json
{
    "body": "ok, let it be",
    "created_at": "2018-10-03T15:52:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26037",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26037#issuecomment-367243",
    "user": "chapoton"
}
```

ok, let it be



---

archive/issue_comments_367244.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-10-03T15:52:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26037",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26037#issuecomment-367244",
    "user": "chapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_367245.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-10-04T21:54:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26037",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26037#issuecomment-367245",
    "user": "vbraun"
}
```

Resolution: fixed
