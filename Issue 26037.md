# Issue 26037: Avoid comparison of vertex labels (Step 1)

Issue created by migration from https://trac.sagemath.org/ticket/26274

Original creator: dcoudert

Original creation time: 2018-09-13 12:38:13

CC:  jmantysalo chapoton tscrim

Keywords: py3, graph

Avoid comparison of vertex labels in `graph_coloring.py`.


---

Comment by dcoudert created at 2018-09-13 12:45:51

On the way, I also did some minor improvements.
----
New commits:


---

Comment by dcoudert created at 2018-09-13 14:47:38

Changing status from new to needs_review.


---

Comment by git created at 2018-09-15 15:24:09

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2018-09-16 07:53:18

* are you sure you need wrapping by list here:

```
+    N = list(range(n))
```

and there

```
+    classes = list(range(k))
```

and again later

* you should not remove this import

```
-from sage.numerical.mip import MIPSolverException
```

as it makes pyflakes unhappy

* This can be further simplified using `if not ...` :

```
+                    if len(list(set(classe) & set(g.neighbor_iterator(deg[-1])))) == 0:
```


* do not use `lambda` declarations, but functions:

```
E = lambda x,y : frozenset((x,y))
```

and the same in other frozen wrappers.


---

Comment by git created at 2018-09-16 08:34:58

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dcoudert created at 2018-09-16 08:35:50

Thank you for the comments.
- about `list(range(...))`: If `range` becomes an iterator, then we can iterate only once on `classes`. Right ? I changed the code to use explicitly `range(k)`.

- I moved the import of `MIPSolverException` and `MixedIntegerLinearProgram` at the top of the file, and removed other imports.

> * This can be further simplified using `if not ...` :
- actually, we can do even better with 

```
if set(classe).isdisjoint(g.neighbor_iterator(deg[-1])):
```


 
> * do not use `lambda` declarations, but functions:
I did the modification (and will do in #26282, #26284, #26285), but what's the reason for that ?


---

Comment by chapoton created at 2018-09-16 09:02:07

> > * do not use `lambda` declarations, but functions:
> I did the modification (and will do in #26282, #26284, #26285), but what's the reason for that ?

Well, this a pep8 recommendation, so not anything important. No need to change it everywhere in other tickets.


---

Comment by chapoton created at 2018-09-16 09:05:05

You should not do the following, for keeping the coherence with other lines before and after it (this is not the first line of a docstring)

```
-    :meth:`all_graph_colorings` | Computes all `n`-colorings a graph
+    :meth:`all_graph_colorings` | Compute all `n`-colorings a graph
```



---

Comment by git created at 2018-09-16 09:09:25

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2018-10-03 15:52:00

ok, let it be


---

Comment by chapoton created at 2018-10-03 15:52:00

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2018-10-04 21:54:13

Resolution: fixed
