# Issue 13491: Subsets(1)[x] behaves strangely for x in SR

Issue created by migration from https://trac.sagemath.org/ticket/13695

Original creator: ppurka

Original creation time: 2012-11-10 09:03:05

Assignee: sage-combinat

This bug is from the [sage notebook bug report page](https://spreadsheets.google.com/pub?key=pCwvGVwSMxTzT6E2xNdo5fA).

```
A = Subsets(1);
k=var('k')
sum((-1)^(A[k].cardinality()),k,0,A.cardinality()-1)

Sage gives me 2 as an answer, while it should be 0.
```


The problem seems to be in `sage.combinat.subset.Subsets_s.unrank` which does not check whether the arguments it receives are integers or not. So, doing something like the title gives the empty set and so we get 2 as the answer above.

```
sage: Subsets(1)[x]
{}
```



---

Comment by chapoton created at 2018-04-30 08:41:36

Changing status from new to needs_review.


---

Comment by chapoton created at 2018-04-30 08:41:36

Input is now checked, and the original issue now works. Let us close that old ticket.

```
sage: A = Subsets(1);
....: sum((-1)^(A[k].cardinality()) for k in range(A.cardinality()))

0
```



---

Comment by vdelecroix created at 2018-05-01 12:35:53

Changing status from needs_review to positive_review.


---

Comment by vdelecroix created at 2018-05-18 17:16:26

closing positively reviewed duplicates


---

Comment by vdelecroix created at 2018-05-18 17:16:26

Resolution: wontfix
