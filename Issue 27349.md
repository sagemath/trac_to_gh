# Issue 27349: Py3: Fix matrix/docs.py doctests errors

Issue created by migration from https://trac.sagemath.org/ticket/27586

Original creator: vklein

Original creation time: 2019-04-01 08:51:37

Fix matrix/docs.py doctests errors.
Example :

```
File "src/sage/matrix/docs.py", line 115, in sage.matrix.docs
Failed example:
    M[range(2),:]
Exception raised:
    Traceback (most recent call last):
      File "/home/u1/chapoton/sage3/local/lib/python3.6/site-packages/sage/doctest/forker.py", line 671, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/u1/chapoton/sage3/local/lib/python3.6/site-packages/sage/doctest/forker.py", line 1095, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.matrix.docs[14]>", line 1, in <module>
        M[range(Integer(2)),:]
      File "sage/matrix/matrix0.pyx", line 926, in sage.matrix.matrix0.Matrix.__getitem__ (build/cythonized/sage/matrix/matrix0.c:6734)
        raise TypeError("index must be an integer")
    TypeError: index must be an integer
```



These errors were caused by `range` calls (range return iterator in py3).





---

Comment by chapoton created at 2019-04-01 08:55:42

possible conflict with  #27585 ?


---

Comment by vklein created at 2019-04-01 09:01:06

Replying to [comment:1 chapoton]:
> possible conflict with  #27585 ?

It's ok #27585 doesn't modifiy matrix/docs.py
----
New commits:


---

Comment by vklein created at 2019-04-01 09:04:46

Changing status from new to needs_review.


---

Comment by jhpalmieri created at 2019-04-01 15:25:50

#27585 makes changes to allow `M[range(2),:]` to work with Python 3. In particular, it should fix the doctests you are changing. I would request that you put this on hold until #27585 is resolved.


---

Comment by vklein created at 2019-04-01 15:28:45

My bad i have missed that point.


---

Comment by vklein created at 2019-04-01 15:28:45

Changing status from needs_review to needs_info.


---

Comment by vklein created at 2019-04-02 09:03:12

Changing status from needs_info to positive_review.


---

Comment by chapoton created at 2019-05-07 17:52:57

Resolution: worksforme
