# Issue 26670: Exact division in ℤ[x][y] is broken

archive/issues_026670.json:
```json
{
    "body": "Issue:\n\n```\nsage: P.<x> = ZZ[]\nsage: Q.<y> = P[]\nsage: a = 3*y + 1\nsage: a//a\nTypeError: no conversion of this rational to integer\n```\n\ndue to cb8db697a1b (#26433).\n\nThe branch on this ticket fixes that issue and improves `inverse_of_unit()`; see the commit messages for detail.\n\nIssue created by migration from https://trac.sagemath.org/ticket/26907\n\n",
    "closed_at": "2019-01-23T15:39:31Z",
    "created_at": "2018-12-17T11:37:28Z",
    "labels": [
        "component: basic arithmetic",
        "critical",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.7",
    "title": "Exact division in \u2124[x][y] is broken",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/26670",
    "user": "https://github.com/mezzarobba"
}
```
Issue:

```
sage: P.<x> = ZZ[]
sage: Q.<y> = P[]
sage: a = 3*y + 1
sage: a//a
TypeError: no conversion of this rational to integer
```

due to cb8db697a1b (#26433).

The branch on this ticket fixes that issue and improves `inverse_of_unit()`; see the commit messages for detail.

Issue created by migration from https://trac.sagemath.org/ticket/26907





---

archive/issue_comments_374519.json:
```json
{
    "body": "The simple fix should be to add\n\n```diff\n         try:\n             inv = y[n-1].inverse_of_unit()\n-        except (ArithmeticError, ValueError):\n+        except (ArithmeticError, ValueError, TypeError):\n             inv = ~(y[n-1])\n             convert = True\n```\nHowever, I would argue the real bug is here:\n\n```\nsage: R.<x> = ZZ[]\nsage: R(2).inverse_of_unit()\n...\nTypeError: no conversion of this rational to integer\n```\nIn particular, we are inconsistent about the type of error that is raised. This was an assumption in the code block above, which is why it was not caught. Hence, the above change should fix this, but sweep the underlying issue under the rug.\n\nAlso, wouldn't it be better to do\n\n```diff\n         elif d == -1:\n             return self._parent(~self._parent._base.zero())\n-        return self._parent(~self.get_unsafe(0))\n+        return self._parent(self.get_unsafe(0).inverse_of_unit())\n```\n\nSide note: We probably should add a generic `inverse_of_unit` to the category of `Fields` that simply returns `~self`.",
    "created_at": "2018-12-17T11:56:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26670",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26670#issuecomment-374519",
    "user": "https://github.com/tscrim"
}
```

The simple fix should be to add

```diff
         try:
             inv = y[n-1].inverse_of_unit()
-        except (ArithmeticError, ValueError):
+        except (ArithmeticError, ValueError, TypeError):
             inv = ~(y[n-1])
             convert = True
```
However, I would argue the real bug is here:

```
sage: R.<x> = ZZ[]
sage: R(2).inverse_of_unit()
...
TypeError: no conversion of this rational to integer
```
In particular, we are inconsistent about the type of error that is raised. This was an assumption in the code block above, which is why it was not caught. Hence, the above change should fix this, but sweep the underlying issue under the rug.

Also, wouldn't it be better to do

```diff
         elif d == -1:
             return self._parent(~self._parent._base.zero())
-        return self._parent(~self.get_unsafe(0))
+        return self._parent(self.get_unsafe(0).inverse_of_unit())
```

Side note: We probably should add a generic `inverse_of_unit` to the category of `Fields` that simply returns `~self`.



---

archive/issue_comments_374520.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-12-22T20:30:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26670",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26670#issuecomment-374520",
    "user": "https://github.com/mezzarobba"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_374521.json:
```json
{
    "body": "New commits:",
    "created_at": "2018-12-22T20:30:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26670",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26670#issuecomment-374521",
    "user": "https://github.com/mezzarobba"
}
```

New commits:



---

archive/issue_comments_374522.json:
```json
{
    "body": "So this behavior should change now with this change:\n\n```\nsage: RR(0).inverse_of_unit()\n---------------------------------------------------------------------------\nArithmeticError                           Traceback (most recent call last)\n<ipython-input-7-9817ebd4dc31> in <module>()\n----> 1 RR(Integer(0)).inverse_of_unit()\n\n/home/travis/sage-build/local/lib/python2.7/site-packages/sage/categories/rings.pyc in inverse_of_unit(self)\n   1155             try:\n   1156                 if not self.is_unit():\n-> 1157                     raise ArithmeticError(\"element is not a unit\")\n   1158             except NotImplementedError:\n   1159                 # if an element does not implement is_unit, we just try to\n\nArithmeticError: element is not a unit\nsage: 1/RR(0)\n+infinity\n```\nI think it is the correct change, but I am now maybe a little worried about assumptions and we might want to quickly ask on sage-devel about this to confirm.\n\nAlso, a better test:\n\n```\n                sage: try:\n                ....:    QQ(0).inverse_of_unit()\n                ....: except ArithmeticError as e:\n                ....:    print(type(e))\n                <... 'exceptions.ZeroDivisionError'>\n```\nto\n\n```\n                sage: QQ(0).inverse_of_unit()\n                Traceback (most recent call last):\n                ...\n                ZeroDivisionError: rational division by zero\n```",
    "created_at": "2018-12-22T21:07:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26670",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26670#issuecomment-374522",
    "user": "https://github.com/tscrim"
}
```

So this behavior should change now with this change:

```
sage: RR(0).inverse_of_unit()
---------------------------------------------------------------------------
ArithmeticError                           Traceback (most recent call last)
<ipython-input-7-9817ebd4dc31> in <module>()
----> 1 RR(Integer(0)).inverse_of_unit()

/home/travis/sage-build/local/lib/python2.7/site-packages/sage/categories/rings.pyc in inverse_of_unit(self)
   1155             try:
   1156                 if not self.is_unit():
-> 1157                     raise ArithmeticError("element is not a unit")
   1158             except NotImplementedError:
   1159                 # if an element does not implement is_unit, we just try to

ArithmeticError: element is not a unit
sage: 1/RR(0)
+infinity
```
I think it is the correct change, but I am now maybe a little worried about assumptions and we might want to quickly ask on sage-devel about this to confirm.

Also, a better test:

```
                sage: try:
                ....:    QQ(0).inverse_of_unit()
                ....: except ArithmeticError as e:
                ....:    print(type(e))
                <... 'exceptions.ZeroDivisionError'>
```
to

```
                sage: QQ(0).inverse_of_unit()
                Traceback (most recent call last):
                ...
                ZeroDivisionError: rational division by zero
```



---

archive/issue_comments_374523.json:
```json
{
    "body": "Replying to [comment:3 tscrim]:\n> So this behavior should change now with this change:\n> \n> ```\n> sage: RR(0).inverse_of_unit()\n> ---------------------------------------------------------------------------\n> ArithmeticError                           Traceback (most recent call last)\n> <ipython-input-7-9817ebd4dc31> in <module>()\n> ----> 1 RR(Integer(0)).inverse_of_unit()\n> \n> /home/travis/sage-build/local/lib/python2.7/site-packages/sage/categories/rings.pyc in inverse_of_unit(self)\n>    1155             try:\n>    1156                 if not self.is_unit():\n> -> 1157                     raise ArithmeticError(\"element is not a unit\")\n>    1158             except NotImplementedError:\n>    1159                 # if an element does not implement is_unit, we just try to\n> \n> ArithmeticError: element is not a unit\n> sage: 1/RR(0)\n> +infinity\n> ```\n> I think it is the correct change, but I am now maybe a little worried about assumptions and we might want to quickly ask on sage-devel about this to confirm.\n\n\nI just followed your suggestion here, I have no opinion on the matter.\n\n> Also, a better test:\n> \n> ```\n>                 sage: try:\n>                 ....:    QQ(0).inverse_of_unit()\n>                 ....: except ArithmeticError as e:\n>                 ....:    print(type(e))\n>                 <... 'exceptions.ZeroDivisionError'>\n> ```\n> to\n> \n> ```\n>                 sage: QQ(0).inverse_of_unit()\n>                 Traceback (most recent call last):\n>                 ...\n>                 ZeroDivisionError: rational division by zero\n> ```\n\n\nI deliberately wrote it that way, to hint to the fact that it is often better to catch all `ArithmeticError`s than just `ZeroDivisionError`s if you are `calling inverse_of_unit()`\u2014but yes, I should have been more explicit!",
    "created_at": "2018-12-23T06:12:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26670",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26670#issuecomment-374523",
    "user": "https://github.com/mezzarobba"
}
```

Replying to [comment:3 tscrim]:
> So this behavior should change now with this change:
> 
> ```
> sage: RR(0).inverse_of_unit()
> ---------------------------------------------------------------------------
> ArithmeticError                           Traceback (most recent call last)
> <ipython-input-7-9817ebd4dc31> in <module>()
> ----> 1 RR(Integer(0)).inverse_of_unit()
> 
> /home/travis/sage-build/local/lib/python2.7/site-packages/sage/categories/rings.pyc in inverse_of_unit(self)
>    1155             try:
>    1156                 if not self.is_unit():
> -> 1157                     raise ArithmeticError("element is not a unit")
>    1158             except NotImplementedError:
>    1159                 # if an element does not implement is_unit, we just try to
> 
> ArithmeticError: element is not a unit
> sage: 1/RR(0)
> +infinity
> ```
> I think it is the correct change, but I am now maybe a little worried about assumptions and we might want to quickly ask on sage-devel about this to confirm.


I just followed your suggestion here, I have no opinion on the matter.

> Also, a better test:
> 
> ```
>                 sage: try:
>                 ....:    QQ(0).inverse_of_unit()
>                 ....: except ArithmeticError as e:
>                 ....:    print(type(e))
>                 <... 'exceptions.ZeroDivisionError'>
> ```
> to
> 
> ```
>                 sage: QQ(0).inverse_of_unit()
>                 Traceback (most recent call last):
>                 ...
>                 ZeroDivisionError: rational division by zero
> ```


I deliberately wrote it that way, to hint to the fact that it is often better to catch all `ArithmeticError`s than just `ZeroDivisionError`s if you are `calling inverse_of_unit()`—but yes, I should have been more explicit!



---

archive/issue_comments_374524.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-12-23T06:32:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26670",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26670#issuecomment-374524",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_374525.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2019-01-05T09:30:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26670",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26670#issuecomment-374525",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_374526.json:
```json
{
    "body": "Changing priority from major to critical.",
    "created_at": "2019-01-05T09:33:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26670",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26670#issuecomment-374526",
    "user": "https://github.com/mezzarobba"
}
```

Changing priority from major to critical.



---

archive/issue_events_066594.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2019-01-05T09:33:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26670",
    "milestone": "sage-8.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26670#event-66594"
}
```



---

archive/issue_comments_374527.json:
```json
{
    "body": "*Critical* is perhaps a bit strong, but it would be nice if this branch could go in 8.6, since it fixes a regression introduced in 8.5.",
    "created_at": "2019-01-05T09:33:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26670",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26670#issuecomment-374527",
    "user": "https://github.com/mezzarobba"
}
```

*Critical* is perhaps a bit strong, but it would be nice if this branch could go in 8.6, since it fixes a regression introduced in 8.5.



---

archive/issue_comments_374528.json:
```json
{
    "body": "The following works without any patch\n\n```\nsage: NumberField(x^7+2,'a')(2).inverse_of_unit()\n1/2\n```",
    "created_at": "2019-01-05T10:10:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26670",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26670#issuecomment-374528",
    "user": "https://github.com/videlec"
}
```

The following works without any patch

```
sage: NumberField(x^7+2,'a')(2).inverse_of_unit()
1/2
```



---

archive/issue_comments_374529.json:
```json
{
    "body": "Why do you try/catch here\n\n```\n+        try:\n+            inv = cst.inverse_of_unit()\n+        except (TypeError, ValueError):\n+            raise ArithmeticError(f\"{self} is not a unit in {self.parent()}\")\n```\nThe error generated by calling `inverse_of_unit` should just be fine.",
    "created_at": "2019-01-05T10:15:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26670",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26670#issuecomment-374529",
    "user": "https://github.com/videlec"
}
```

Why do you try/catch here

```
+        try:
+            inv = cst.inverse_of_unit()
+        except (TypeError, ValueError):
+            raise ArithmeticError(f"{self} is not a unit in {self.parent()}")
```
The error generated by calling `inverse_of_unit` should just be fine.



---

archive/issue_comments_374530.json:
```json
{
    "body": "Replying to [comment:8 vdelecroix]:\n> The following works without any patch\n> \n> ```\n> sage: NumberField(x^7+2,'a')(2).inverse_of_unit()\n> 1/2\n> ```\n\n\nThat's expected. The part that fixes the bug is in the first two commits; the third is general cleanup suggested by Travis above.",
    "created_at": "2019-01-05T10:50:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26670",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26670#issuecomment-374530",
    "user": "https://github.com/mezzarobba"
}
```

Replying to [comment:8 vdelecroix]:
> The following works without any patch
> 
> ```
> sage: NumberField(x^7+2,'a')(2).inverse_of_unit()
> 1/2
> ```


That's expected. The part that fixes the bug is in the first two commits; the third is general cleanup suggested by Travis above.



---

archive/issue_comments_374531.json:
```json
{
    "body": "Replying to [comment:9 vdelecroix]:\n> Why do you try/catch here\n> \n> ```\n> +        try:\n> +            inv = cst.inverse_of_unit()\n> +        except (TypeError, ValueError):\n> +            raise ArithmeticError(f\"{self} is not a unit in {self.parent()}\")\n> ```\n> The error generated by calling `inverse_of_unit` should just be fine.\n\n\nBecause `//` now relies on the exception being `ArithmeticError` (that's what caused of the regression, and the convention used by `inverse_of_unit()` elsewhere in Sage). While I fixed `inverse_of_unit()` in the case that caused the issue reported in this ticket, there may be other code paths that raise the wrong exception.",
    "created_at": "2019-01-05T10:57:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26670",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26670#issuecomment-374531",
    "user": "https://github.com/mezzarobba"
}
```

Replying to [comment:9 vdelecroix]:
> Why do you try/catch here
> 
> ```
> +        try:
> +            inv = cst.inverse_of_unit()
> +        except (TypeError, ValueError):
> +            raise ArithmeticError(f"{self} is not a unit in {self.parent()}")
> ```
> The error generated by calling `inverse_of_unit` should just be fine.


Because `//` now relies on the exception being `ArithmeticError` (that's what caused of the regression, and the convention used by `inverse_of_unit()` elsewhere in Sage). While I fixed `inverse_of_unit()` in the case that caused the issue reported in this ticket, there may be other code paths that raise the wrong exception.



---

archive/issue_comments_374532.json:
```json
{
    "body": "Replying to [comment:11 mmezzarobba]:\n> Replying to [comment:9 vdelecroix]:\n> > Why do you try/catch here\n> > \n> > ```\n> > +        try:\n> > +            inv = cst.inverse_of_unit()\n> > +        except (TypeError, ValueError):\n> > +            raise ArithmeticError(f\"{self} is not a unit in {self.parent()}\")\n> > ```\n> > The error generated by calling `inverse_of_unit` should just be fine.\n\n> \n> Because `//` now relies on the exception being `ArithmeticError` (that's what caused of the regression, and the convention used by `inverse_of_unit()` elsewhere in Sage). While I fixed `inverse_of_unit()` in the case that caused the issue reported in this ticket, there may be other code paths that raise the wrong exception.\n\n\nIf any, it would be better to fix the error in inverse of unit rather than introducing this workaround that hides the problem.",
    "created_at": "2019-01-05T11:18:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26670",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26670#issuecomment-374532",
    "user": "https://github.com/videlec"
}
```

Replying to [comment:11 mmezzarobba]:
> Replying to [comment:9 vdelecroix]:
> > Why do you try/catch here
> > 
> > ```
> > +        try:
> > +            inv = cst.inverse_of_unit()
> > +        except (TypeError, ValueError):
> > +            raise ArithmeticError(f"{self} is not a unit in {self.parent()}")
> > ```
> > The error generated by calling `inverse_of_unit` should just be fine.

> 
> Because `//` now relies on the exception being `ArithmeticError` (that's what caused of the regression, and the convention used by `inverse_of_unit()` elsewhere in Sage). While I fixed `inverse_of_unit()` in the case that caused the issue reported in this ticket, there may be other code paths that raise the wrong exception.


If any, it would be better to fix the error in inverse of unit rather than introducing this workaround that hides the problem.



---

archive/issue_comments_374533.json:
```json
{
    "body": "Since you seriously modified `inverse_of_unit`, you should update the ticket description.",
    "created_at": "2019-01-05T11:24:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26670",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26670#issuecomment-374533",
    "user": "https://github.com/videlec"
}
```

Since you seriously modified `inverse_of_unit`, you should update the ticket description.



---

archive/issue_comments_374534.json:
```json
{
    "body": "Replying to [comment:12 vdelecroix]:\n> If any, it would be better to fix the error in inverse of unit rather than introducing this workaround that hides the problem.\n\n\nI don't think so. Raising another exception is a really minor issue compared to breaking mathematical functionality; and, since it will typically come from conversion failures, it might even be a reasonable choice in some cases.\n\n\nReplying to [comment:13 vdelecroix]:\n> Since you seriously modified inverse_of_unit, you should update the ticket description.\n\n\nDone, though IMO people really should stop confusing ticket descriptions and commit messages...",
    "created_at": "2019-01-05T11:45:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26670",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26670#issuecomment-374534",
    "user": "https://github.com/mezzarobba"
}
```

Replying to [comment:12 vdelecroix]:
> If any, it would be better to fix the error in inverse of unit rather than introducing this workaround that hides the problem.


I don't think so. Raising another exception is a really minor issue compared to breaking mathematical functionality; and, since it will typically come from conversion failures, it might even be a reasonable choice in some cases.


Replying to [comment:13 vdelecroix]:
> Since you seriously modified inverse_of_unit, you should update the ticket description.


Done, though IMO people really should stop confusing ticket descriptions and commit messages...



---

archive/issue_comments_374535.json:
```json
{
    "body": "Replying to [comment:14 mmezzarobba]:\n> Replying to [comment:12 vdelecroix]:\n> > If any, it would be better to fix the error in inverse of unit rather than introducing this workaround that hides the problem.\n\n> \n> I don't think so. Raising another exception is a really minor issue compared to breaking mathematical functionality; and, since it will typically come from conversion failures, it might even be a reasonable choice in some cases.\n\n\nI agree with Vincent here as consistent error messages are not only better practice, but are also  useful. It allows a `TypeError` raised from actual bug to be percolated up instead of being caught and maybe silently working.",
    "created_at": "2019-01-05T17:38:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26670",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26670#issuecomment-374535",
    "user": "https://github.com/tscrim"
}
```

Replying to [comment:14 mmezzarobba]:
> Replying to [comment:12 vdelecroix]:
> > If any, it would be better to fix the error in inverse of unit rather than introducing this workaround that hides the problem.

> 
> I don't think so. Raising another exception is a really minor issue compared to breaking mathematical functionality; and, since it will typically come from conversion failures, it might even be a reasonable choice in some cases.


I agree with Vincent here as consistent error messages are not only better practice, but are also  useful. It allows a `TypeError` raised from actual bug to be percolated up instead of being caught and maybe silently working.



---

archive/issue_comments_374536.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2019-01-06T10:13:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26670",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26670#issuecomment-374536",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_374537.json:
```json
{
    "body": "Replying to [comment:15 tscrim]:\n> I agree with Vincent here as consistent error messages are not only better practice, but are also  useful. It allows a `TypeError` raised from actual bug to be percolated up instead of being caught and maybe silently working.\n\n\nI really don't follow your reasoning, but if that's what it takes to get the issue fixed, so be it.",
    "created_at": "2019-01-06T10:16:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26670",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26670#issuecomment-374537",
    "user": "https://github.com/mezzarobba"
}
```

Replying to [comment:15 tscrim]:
> I agree with Vincent here as consistent error messages are not only better practice, but are also  useful. It allows a `TypeError` raised from actual bug to be percolated up instead of being caught and maybe silently working.


I really don't follow your reasoning, but if that's what it takes to get the issue fixed, so be it.



---

archive/issue_comments_374538.json:
```json
{
    "body": "The test failure in `polyhedron/library.py` seems unrelated (and doesn't occur on my box).",
    "created_at": "2019-01-06T14:37:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26670",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26670#issuecomment-374538",
    "user": "https://github.com/mezzarobba"
}
```

The test failure in `polyhedron/library.py` seems unrelated (and doesn't occur on my box).



---

archive/issue_comments_374539.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-01-07T07:37:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26670",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26670#issuecomment-374539",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_374540.json:
```json
{
    "body": "Ok for me. Merci Marc.",
    "created_at": "2019-01-07T07:37:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26670",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26670#issuecomment-374540",
    "user": "https://github.com/videlec"
}
```

Ok for me. Merci Marc.



---

archive/issue_events_066595.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-15T18:16:10Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26670",
    "milestone": "sage-8.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26670#event-66595"
}
```



---

archive/issue_events_066596.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-15T18:16:10Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26670",
    "milestone": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26670#event-66596"
}
```



---

archive/issue_comments_374541.json:
```json
{
    "body": "Retarging tickets optimistically to the next milestone.  If you are responsible for this ticket (either its reporter or owner) and don't believe you are likely to complete this ticket before the next release (8.7) please retarget this ticket's milestone to sage-pending or sage-wishlist.",
    "created_at": "2019-01-15T18:16:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26670",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26670#issuecomment-374541",
    "user": "https://github.com/embray"
}
```

Retarging tickets optimistically to the next milestone.  If you are responsible for this ticket (either its reporter or owner) and don't believe you are likely to complete this ticket before the next release (8.7) please retarget this ticket's milestone to sage-pending or sage-wishlist.



---

archive/issue_comments_374542.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-01-23T15:39:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26670",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26670#issuecomment-374542",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_066597.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-01-23T15:39:31Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/26670",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26670#event-66597"
}
```
