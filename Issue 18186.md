# Issue 18186: Restricted partitions doesn't like getting a partition as "outer" input

archive/issues_018186.json:
```json
{
    "body": "CC:  @tscrim @anneschilling @jdemeyer\n\nKeywords: partition, IntegerListsLex,\n\n\n```\nsage: Partitions(5, inner=Partition([2,1]), outer=Partition([3,2]))\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n<ipython-input-13-b4958b2a2c2a> in <module>()\n----> 1 Partitions(Integer(5), inner=Partition([Integer(2),Integer(1)]), outer=Partition([Integer(3),Integer(2)]))\n\n/scratch/sage-6.4.beta2/src/sage/misc/classcall_metaclass.pyx in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (build/cythonized/sage/misc/classcall_metaclass.c:1269)()\n    323         \"\"\"\n    324         if cls.classcall is not None:\n--> 325             return cls.classcall(cls, *args, **kwds)\n    326         else:\n    327             # Fast version of type.__call__(cls, *args, **kwds)\n\n/scratch/sage-6.4.beta2/local/lib/python2.7/site-packages/sage/combinat/partition.pyc in __classcall_private__(cls, n, **kwargs)\n   4997             kwargs['element_class'] = Partition\n   4998             kwargs['global_options'] = Partitions.global_options\n-> 4999             return IntegerListsLex(n, **kwargs)\n   5000         else:\n   5001             raise ValueError(\"n must be an integer or be equal to one of \"+\n\n/scratch/sage-6.4.beta2/src/sage/misc/classcall_metaclass.pyx in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (build/cythonized/sage/misc/classcall_metaclass.c:1269)()\n    323         \"\"\"\n    324         if cls.classcall is not None:\n--> 325             return cls.classcall(cls, *args, **kwds)\n    326         else:\n    327             # Fast version of type.__call__(cls, *args, **kwds)\n\n/scratch/sage-6.4.beta2/local/lib/python2.7/site-packages/sage/combinat/integer_list.pyc in __classcall_private__(cls, n, **kwargs)\n    815             return DisjointUnionEnumeratedSets(Family(n, lambda i: IntegerListsLex(i, **kwargs)))\n    816         else:\n--> 817             return typecall(cls, n=n, **kwargs)\n    818 \n    819     def __init__(self,\n\n/scratch/sage-6.4.beta2/src/sage/misc/classcall_metaclass.pyx in sage.misc.classcall_metaclass.typecall (build/cythonized/sage/misc/classcall_metaclass.c:1673)()\n    490             TypeError: Argument 'cls' has incorrect type (expected type, got classobj)\n    491     \"\"\"\n--> 492     return (<PyTypeObject*>type).tp_call(cls, args, kwds)\n    493 \n    494 # Class for timing::\n\n/scratch/sage-6.4.beta2/local/lib/python2.7/site-packages/sage/combinat/integer_list.pyc in __init__(self, n, length, min_length, max_length, floor, ceiling, min_part, max_part, min_slope, max_slope, min_sum, max_sum, name, category, element_constructor, element_class, global_options, check)\n    909             self._floor_or_ceiling_is_function = True\n    910         else:\n--> 911             raise ValueError(\"Unable to parse value of parameter ceiling\")\n    912         self._ceiling = Envelope(ceiling, sign=1,\n    913                                min_part=  self._min_part,  max_part= self._max_part,\n\nValueError: Unable to parse value of parameter ceiling\n```\n\n\nThis would work perfectly well if I passed `outer=[3,2]` instead; also the format of `inner` doesn't seem to matter.\n\nIssue created by migration from https://trac.sagemath.org/ticket/18423\n\n",
    "created_at": "2015-05-14T20:41:31Z",
    "labels": [
        "component: combinatorics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.7",
    "title": "Restricted partitions doesn't like getting a partition as \"outer\" input",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18186",
    "user": "https://github.com/darijgr"
}
```
CC:  @tscrim @anneschilling @jdemeyer

Keywords: partition, IntegerListsLex,


```
sage: Partitions(5, inner=Partition([2,1]), outer=Partition([3,2]))
---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)
<ipython-input-13-b4958b2a2c2a> in <module>()
----> 1 Partitions(Integer(5), inner=Partition([Integer(2),Integer(1)]), outer=Partition([Integer(3),Integer(2)]))

/scratch/sage-6.4.beta2/src/sage/misc/classcall_metaclass.pyx in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (build/cythonized/sage/misc/classcall_metaclass.c:1269)()
    323         """
    324         if cls.classcall is not None:
--> 325             return cls.classcall(cls, *args, **kwds)
    326         else:
    327             # Fast version of type.__call__(cls, *args, **kwds)

/scratch/sage-6.4.beta2/local/lib/python2.7/site-packages/sage/combinat/partition.pyc in __classcall_private__(cls, n, **kwargs)
   4997             kwargs['element_class'] = Partition
   4998             kwargs['global_options'] = Partitions.global_options
-> 4999             return IntegerListsLex(n, **kwargs)
   5000         else:
   5001             raise ValueError("n must be an integer or be equal to one of "+

/scratch/sage-6.4.beta2/src/sage/misc/classcall_metaclass.pyx in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (build/cythonized/sage/misc/classcall_metaclass.c:1269)()
    323         """
    324         if cls.classcall is not None:
--> 325             return cls.classcall(cls, *args, **kwds)
    326         else:
    327             # Fast version of type.__call__(cls, *args, **kwds)

/scratch/sage-6.4.beta2/local/lib/python2.7/site-packages/sage/combinat/integer_list.pyc in __classcall_private__(cls, n, **kwargs)
    815             return DisjointUnionEnumeratedSets(Family(n, lambda i: IntegerListsLex(i, **kwargs)))
    816         else:
--> 817             return typecall(cls, n=n, **kwargs)
    818 
    819     def __init__(self,

/scratch/sage-6.4.beta2/src/sage/misc/classcall_metaclass.pyx in sage.misc.classcall_metaclass.typecall (build/cythonized/sage/misc/classcall_metaclass.c:1673)()
    490             TypeError: Argument 'cls' has incorrect type (expected type, got classobj)
    491     """
--> 492     return (<PyTypeObject*>type).tp_call(cls, args, kwds)
    493 
    494 # Class for timing::

/scratch/sage-6.4.beta2/local/lib/python2.7/site-packages/sage/combinat/integer_list.pyc in __init__(self, n, length, min_length, max_length, floor, ceiling, min_part, max_part, min_slope, max_slope, min_sum, max_sum, name, category, element_constructor, element_class, global_options, check)
    909             self._floor_or_ceiling_is_function = True
    910         else:
--> 911             raise ValueError("Unable to parse value of parameter ceiling")
    912         self._ceiling = Envelope(ceiling, sign=1,
    913                                min_part=  self._min_part,  max_part= self._max_part,

ValueError: Unable to parse value of parameter ceiling
```


This would work perfectly well if I passed `outer=[3,2]` instead; also the format of `inner` doesn't seem to matter.

Issue created by migration from https://trac.sagemath.org/ticket/18423





---

archive/issue_comments_245062.json:
```json
{
    "body": "On it ...",
    "created_at": "2015-05-14T21:47:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18186#issuecomment-245062",
    "user": "https://github.com/nthiery"
}
```

On it ...



---

archive/issue_comments_245063.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-05-14T22:00:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18186#issuecomment-245063",
    "user": "https://github.com/nthiery"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_245064.json:
```json
{
    "body": "This was probably broken by #17979, and the fix is easy (`IntegerListsLex` takes lists/tuples as input for ceiling and floor).\n----\nNew commits:",
    "created_at": "2015-05-14T22:00:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18186#issuecomment-245064",
    "user": "https://github.com/nthiery"
}
```

This was probably broken by #17979, and the fix is easy (`IntegerListsLex` takes lists/tuples as input for ceiling and floor).
----
New commits:



---

archive/issue_comments_245065.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-05-14T22:05:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18186#issuecomment-245065",
    "user": "https://github.com/darijgr"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_245066.json:
```json
{
    "body": "Nice, thank you!",
    "created_at": "2015-05-14T22:05:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18186#issuecomment-245066",
    "user": "https://github.com/darijgr"
}
```

Nice, thank you!



---

archive/issue_comments_245067.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-05-18T21:11:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18186#issuecomment-245067",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_017428.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-05-18T21:11:52Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/18186",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18186#event-17428"
}
```
