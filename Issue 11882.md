# Issue 11882: crash in digraph.py

Issue created by migration from Trac.

Original creator: emil

Original creation time: 2011-11-19 10:18:57

Assignee: tbd

CC:  emil

Keywords: diagraph SIGABRT feedback_edge_set

I compiled 4.7.2 on the Live CD and got this error:

sage -t  -force_lib "devel/sage/sage/graphs/digraph.py" # Killed/
crashed

I ran the test with -verbose

```
Trying:
    cycle.size()###line 1338:_sage_    >>> cycle.size()
Expecting:
    5
    # >>> dcycle.feedback_edge_set(value_only=True)
    5.0
**********************************************************************
File "/mnt/sda6/COMPILE/sage-4.7.2/devel/sage/sage/graphs/digraph.py",
line 998, in __main__.example_22
Failed example:
    cycle.size()###line 1338:_sage_    >>> cycle.size()
Expected:
    5
    # >>> dcycle.feedback_edge_set(value_only=True)
    5.0
Got:
    5

and then:

Trying:
    feedback = dg.feedback_edge_set()###line 1348:_sage_    >>>
feedback = dg.feedback_edge_set()
Expecting nothing
Assertion failed: orig->m > 0 && orig->n > 0
Error detected in file glpapi09.c at line 289
/mnt/sda6/COMPILE/sage-4.7.2/local/lib/libcsage.so(print_backtrace
+0x3b)[0xb71f231e]
/mnt/sda6/COMPILE/sage-4.7.2/local/lib/libcsage.so(sigdie+0x17)
[0xb71f235e]
/mnt/sda6/COMPILE/sage-4.7.2/local/lib/libcsage.so(sage_signal_handler
+0x1c4)[0xb71f1e97]
[0xffffe400]
/lib/libc.so.6(abort+0x182)[0xb7472ab2]
/usr/local/lib/libglpk.so.0(+0x43b0e)[0xaea1eb0e]
/usr/local/lib/libglpk.so.0(+0x439ff)[0xaea1e9ff]
/usr/local/lib/libglpk.so.0(glp_intopt+0xae0)[0xae9e89b0]
/mnt/sda6/COMPILE/sage-4.7.2/local/lib/python/site-packages/sage/
numerical/backends/glpk_backend.so(+0x5c47)[0xaea99c47]
/mnt/sda6/COMPILE/sage-4.7.2/local/lib/python/site-packages/sage/
numerical/mip.so(+0x29036)[0xb0bcf036]
/mnt/sda6/COMPILE/sage-4.7.2/local/lib/libpython2.6.so.
1.0(PyCFunction_Call+0x128)[0xb7642c58]

.lotsof that sort..

/mnt/sda6/COMPILE/sage-4.7.2/local/lib/libpython2.6.so.1.0(Py_Main
+0xc7d)[0xb76d0c5d]
python(main+0x27)[0x8048667]
/lib/libc.so.6(__libc_start_main+0xe6)[0xb745bbc6]
python[0x80485a1]

------------------------------------------------------------------------
Unhandled SIGABRT: An abort() occurred in Sage.
This probably occurred because a *compiled* component of Sage has a
bug
in it and is not properly wrapped with sig_on(), sig_off(). You might
want to run Sage under gdb with 'sage -gdb' to debug this.
Sage will now terminate.
------------------------------------------------------------------------
The doctested process was killed by signal 6
         [5.7 s] 

```


tread on sage-devel
[http://groups.google.com/group/sage-devel/browse_thread/thread/e1886d5ba5ade945](http://groups.google.com/group/sage-devel/browse_thread/thread/e1886d5ba5ade945)


---

Comment by emil created at 2011-11-19 10:19:36

Changing component from PLEASE CHANGE to graph theory.


---

Comment by emil created at 2011-11-19 10:19:36

Changing assignee from tbd to jason, ncohen, rlm.


---

Comment by emil created at 2011-11-19 10:20:12

Changing keywords from "diagraph SIGABRT feedback_edge_set" to "digraph SIGABRT feedback_edge_set".


---

Comment by emil created at 2011-11-19 10:48:24

I set Proiority to "major", because it is a crash. But if this is wrong please just correct that. I found no info about what is a minor or major bug yet.


---

Comment by ncohen created at 2013-04-20 21:26:54

Changing status from new to needs_review.


---

Comment by ncohen created at 2013-04-20 21:26:54

Well, this code has been tested for a while now, so it has probably been fixed by one of the many bugfixes in the LP code `^^;`

Nathann


---

Comment by ncohen created at 2013-04-20 21:27:17

Changing status from needs_review to positive_review.


---

Comment by ncohen created at 2013-04-20 21:27:17

Changing type from PLEASE CHANGE to defect.


---

Comment by jdemeyer created at 2013-04-28 12:48:53

Resolution: worksforme
