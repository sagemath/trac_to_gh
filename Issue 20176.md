# Issue 20176: InteractiveLPProblem: Use standard-form transformation, objective_constant_term

Issue created by migration from Trac.

Original creator: mkoeppe

Original creation time: 2016-04-11 00:30:13

CC:  novoselt dimpase vdelecroix

Keywords: lp

Follow-up on #20296, #20311, #20301. 
Updating `InteractiveLPProblem` to:
 - use the standard-form transformation,
 - simplify its code slightly by making use of the new `objective_constant_term` handling in `InteractiveLPProblem`
 - make the example of optimizing over the dodecahedron more natural and remove use of backend methods.


---

Comment by mkoeppe created at 2016-04-11 00:36:14

Branch is on top of #20311
----
Last 10 new commits:


---

Comment by git created at 2016-04-11 02:51:42

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2016-04-11 02:55:42

Changing status from new to needs_review.


---

Comment by novoselt created at 2016-04-11 02:59:55

Out of curiosity - how does timing of interactive backend compares with "normal solvers" on "interesting problems"?-) Presumably most of the time is spent on typesetting, but other solvers may have some setup overhead which is significant in small cases. Also you have used revised dictionaries - are there any benefits to them in this implementation? (It seemed to me that no, the first problem of https://sage373.math.ualberta.ca/home/pub/32/ )


---

Comment by git created at 2016-04-11 03:05:00

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2016-04-11 03:22:03

I have not done any benchmarking, neither with real solvers, nor between your two dictionary implementations. This could be a nice class project. 
I have chosen the revised dictionary because that's what one "should" do. I suppose if one does the benchmarking, one will see the expected result that the revised method is faster when the number of nonbasics is large enough.

I wrote `InteractiveLPBackend` because I needed a solver for some very small LPs with irrational algebraic data (unrelated to the example in the doctest!), for which there is simply no alternative solver available.


---

Comment by mkoeppe created at 2016-04-11 03:43:05

At the moment, `InteractiveLPBackend` chooses `AA` as the default base ring, that's probably a bad idea (I'll change it).
If I change it to `QQ`, I get the following comparison:

```
sage: %time delsarte_bound_additive_hamming_space(19,15,7,solver='ppl')
CPU times: user 153 ms, sys: 13.4 ms, total: 167 ms
Wall time: 163 ms
3
sage: %time delsarte_bound_additive_hamming_space(19,15,7,solver='glpk')
CPU times: user 84.9 ms, sys: 14.7 ms, total: 99.6 ms
Wall time: 109 ms
3
sage: %time delsarte_bound_additive_hamming_space(19,15,7,solver='coin')
CPU times: user 87.9 ms, sys: 16.1 ms, total: 104 ms
Wall time: 160 ms
3
sage: %time delsarte_bound_additive_hamming_space(19,15,7,solver='interactivelp')
CPU times: user 10.6 s, sys: 91.1 ms, total: 10.7 s
Wall time: 10.8 s
3
```



---

Comment by mkoeppe created at 2016-04-11 04:08:26

(The change of the default base ring will be on a different ticket; because first #20415 needs to be done.)
So the present ticket is ready for review.


---

Comment by git created at 2016-04-13 00:04:10

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by mkoeppe created at 2016-04-13 00:07:20

Rebased on top of 7.2.beta4, which merged #20415. 

Made the change to a better (much faster) default `base_ring` QQ. 

Needs review.


---

Comment by mkoeppe created at 2016-04-13 00:10:35

Corrected the title/description -- this ticket is about the *MIP backend* using the interactive simplex method.


---

Comment by dimpase created at 2016-04-13 14:25:55

looks good.


---

Comment by dimpase created at 2016-04-13 14:25:55

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2016-04-14 21:56:56

Resolution: fixed
