# Issue 15982: Implement a catalog for algebras

archive/issues_015982.json:
```json
{
    "body": "Assignee: @tscrim\n\nCC:  @jhpalmieri @nathanncohen\n\nKeywords: algebras catalog\n\nLike groups, crystals, etc.\n\nIssue created by migration from https://trac.sagemath.org/ticket/16219\n\n",
    "created_at": "2014-04-23T12:39:19Z",
    "labels": [
        "component: interfaces"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.4",
    "title": "Implement a catalog for algebras",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15982",
    "user": "https://github.com/tscrim"
}
```
Assignee: @tscrim

CC:  @jhpalmieri @nathanncohen

Keywords: algebras catalog

Like groups, crystals, etc.

Issue created by migration from https://trac.sagemath.org/ticket/16219





---

archive/issue_events_047800.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15982",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15982#event-47800"
}
```



---

archive/issue_comments_207152.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-07-07T20:41:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15982#issuecomment-207152",
    "user": "https://github.com/tscrim"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_207153.json:
```json
{
    "body": "New commits:",
    "created_at": "2014-07-07T20:41:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15982#issuecomment-207153",
    "user": "https://github.com/tscrim"
}
```

New commits:



---

archive/issue_comments_207154.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-07-07T21:44:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15982#issuecomment-207154",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_events_047801.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15982",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15982#event-47801"
}
```



---

archive/issue_events_047802.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15982",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15982#event-47802"
}
```



---

archive/issue_comments_207155.json:
```json
{
    "body": "I have just been through the diff, and overall it looks good.\n\nIt seems a bit redundant to both import the algebras and link to their doc. We should find a better way to handle this automatically at some point. But that's for a later ticket.\n\nThe documentation improvements elsewhere in the algebra module is nice. Yet's it's orthogonal to the main purpose of the ticket. Next time, please make it a separate ticket.\n\nWhy not lazy importing everything?\n\nUp to this last point, I believe it's good to go (assuming all tests pass).",
    "created_at": "2014-10-25T07:49:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15982#issuecomment-207155",
    "user": "https://github.com/nthiery"
}
```

I have just been through the diff, and overall it looks good.

It seems a bit redundant to both import the algebras and link to their doc. We should find a better way to handle this automatically at some point. But that's for a later ticket.

The documentation improvements elsewhere in the algebra module is nice. Yet's it's orthogonal to the main purpose of the ticket. Next time, please make it a separate ticket.

Why not lazy importing everything?

Up to this last point, I believe it's good to go (assuming all tests pass).



---

archive/issue_comments_207156.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-10-25T07:49:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15982#issuecomment-207156",
    "user": "https://github.com/nthiery"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_207157.json:
```json
{
    "body": "Ah, also: at some point, we will want to point to all the Hopf algebras from combinat. But it's probably easier to do this once #16256 is done.",
    "created_at": "2014-10-25T07:56:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15982#issuecomment-207157",
    "user": "https://github.com/nthiery"
}
```

Ah, also: at some point, we will want to point to all the Hopf algebras from combinat. But it's probably easier to do this once #16256 is done.



---

archive/issue_comments_207158.json:
```json
{
    "body": "Replying to [comment:5 nthiery]:\n> I have just been through the diff, and overall it looks good.\n\n\nThanks for taking a look at this.\n\n> It seems a bit redundant to both import the algebras and link to their doc. We should find a better way to handle this automatically at some point. But that's for a later ticket.\n\n\nConcur.\n\n> The documentation improvements elsewhere in the algebra module is nice. Yet's it's orthogonal to the main purpose of the ticket. Next time, please make it a separate ticket.\n\n\nWhen I added the `quaternion_algebra.py` to the doc, it causes docbuild failures. The cleanup was just as I was going through reading the file in order for it to build.\n\n> Why not lazy importing everything?\n\n\nI lazy imported things that were lazily imported into the global namespace, so it wouldn't trigger an import when doing tab completion on `algebras.` (as what happens for groups).\n\nThere's a more trickier question of what algebras could we remove from the global namespace (it's not nearly as clear as it was for crystals to me), but I think that can be done on a followup.\n\n> Up to this last point, I believe it's good to go (assuming all tests pass).\n\n\nWas this suppose to be set as needs_info? I don't quite understand why this was set to needs_work.\n\n> Ah, also: at some point, we will want to point to all the Hopf algebras from combinat. But it's probably easier to do this once #16256 is done.\n\n\nYep, and it should probably be a subcatalog called `combinatorial_hopf` (or maybe just `.hopf` and include all Hopf algebras). Anyways, stuff for later and I'll take a look at #16256 soon.",
    "created_at": "2014-10-25T08:01:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15982#issuecomment-207158",
    "user": "https://github.com/tscrim"
}
```

Replying to [comment:5 nthiery]:
> I have just been through the diff, and overall it looks good.


Thanks for taking a look at this.

> It seems a bit redundant to both import the algebras and link to their doc. We should find a better way to handle this automatically at some point. But that's for a later ticket.


Concur.

> The documentation improvements elsewhere in the algebra module is nice. Yet's it's orthogonal to the main purpose of the ticket. Next time, please make it a separate ticket.


When I added the `quaternion_algebra.py` to the doc, it causes docbuild failures. The cleanup was just as I was going through reading the file in order for it to build.

> Why not lazy importing everything?


I lazy imported things that were lazily imported into the global namespace, so it wouldn't trigger an import when doing tab completion on `algebras.` (as what happens for groups).

There's a more trickier question of what algebras could we remove from the global namespace (it's not nearly as clear as it was for crystals to me), but I think that can be done on a followup.

> Up to this last point, I believe it's good to go (assuming all tests pass).


Was this suppose to be set as needs_info? I don't quite understand why this was set to needs_work.

> Ah, also: at some point, we will want to point to all the Hopf algebras from combinat. But it's probably easier to do this once #16256 is done.


Yep, and it should probably be a subcatalog called `combinatorial_hopf` (or maybe just `.hopf` and include all Hopf algebras). Anyways, stuff for later and I'll take a look at #16256 soon.



---

archive/issue_comments_207159.json:
```json
{
    "body": "Replying to [comment:9 tscrim]:\n> > Why not lazy importing everything?\n\n> \n> I lazy imported things that were lazily imported into the global namespace, so it wouldn't trigger an import when doing tab completion on `algebras.` (as what happens for groups).\n> Was this suppose to be set as needs_info? I don't quite understand why this was set to needs_work.\n\n\nI was thinking of lazy importing everything here right away. Maybe\nusing a flag \"at_startup\" to make the point that those should really\nbe lazy imported elsewhere as well. What do you think?\n\n> There's a more trickier question of what algebras could we remove from the global namespace (it's not nearly as clear as it was for crystals to me), but I think that can be done on a followup.\n\n\n+1\n\n> Yep, and it should probably be a subcatalog called `combinatorial_hopf` (or maybe just `.hopf` and include all Hopf algebras). Anyways, stuff for later and I'll take a look at #16256 soon.\n\n\nAnd at some point we will want to automatize the building of all those\ncatalogs. E.g. following the prototype Florent wrote during the Sage\ndays in Edinburgh that instruments `TestSuite` to build a database of\nall parents with their category, from which we can get all parents in\na category by reverse lookup. I just created #17219 for this.\n\nCheers,\n                                Nicolas",
    "created_at": "2014-10-25T08:48:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15982#issuecomment-207159",
    "user": "https://github.com/nthiery"
}
```

Replying to [comment:9 tscrim]:
> > Why not lazy importing everything?

> 
> I lazy imported things that were lazily imported into the global namespace, so it wouldn't trigger an import when doing tab completion on `algebras.` (as what happens for groups).
> Was this suppose to be set as needs_info? I don't quite understand why this was set to needs_work.


I was thinking of lazy importing everything here right away. Maybe
using a flag "at_startup" to make the point that those should really
be lazy imported elsewhere as well. What do you think?

> There's a more trickier question of what algebras could we remove from the global namespace (it's not nearly as clear as it was for crystals to me), but I think that can be done on a followup.


+1

> Yep, and it should probably be a subcatalog called `combinatorial_hopf` (or maybe just `.hopf` and include all Hopf algebras). Anyways, stuff for later and I'll take a look at #16256 soon.


And at some point we will want to automatize the building of all those
catalogs. E.g. following the prototype Florent wrote during the Sage
days in Edinburgh that instruments `TestSuite` to build a database of
all parents with their category, from which we can get all parents in
a category by reverse lookup. I just created #17219 for this.

Cheers,
                                Nicolas



---

archive/issue_comments_207160.json:
```json
{
    "body": "Replying to [comment:10 nthiery]:\n> I was thinking of lazy importing everything here right away. Maybe\n> using a flag \"at_startup\" to make the point that those should really\n> be lazy imported elsewhere as well. What do you think?\n\n\nSo do you mean you want everything to be lazily imported or do you want to lazy import the catalog? If you want the latter, this causes problems because then the imports are triggered on tab completion (you can see this occur with the `groups.<tab>`).",
    "created_at": "2014-10-30T16:02:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15982#issuecomment-207160",
    "user": "https://github.com/tscrim"
}
```

Replying to [comment:10 nthiery]:
> I was thinking of lazy importing everything here right away. Maybe
> using a flag "at_startup" to make the point that those should really
> be lazy imported elsewhere as well. What do you think?


So do you mean you want everything to be lazily imported or do you want to lazy import the catalog? If you want the latter, this causes problems because then the imports are triggered on tab completion (you can see this occur with the `groups.<tab>`).



---

archive/issue_comments_207161.json:
```json
{
    "body": "Replying to [comment:11 tscrim]:\n> So do you mean you want everything to be lazily imported or do you want to lazy import the catalog? If you want the latter, this causes problems because then the imports are triggered on tab completion (you can see this occur with the `groups.<tab>`).\n\n\nThe former: lazy importing everything that is in the catalog.",
    "created_at": "2014-10-31T08:32:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15982#issuecomment-207161",
    "user": "https://github.com/nthiery"
}
```

Replying to [comment:11 tscrim]:
> So do you mean you want everything to be lazily imported or do you want to lazy import the catalog? If you want the latter, this causes problems because then the imports are triggered on tab completion (you can see this occur with the `groups.<tab>`).


The former: lazy importing everything that is in the catalog.



---

archive/issue_comments_207162.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-10-31T15:09:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15982#issuecomment-207162",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_207163.json:
```json
{
    "body": "IMO, we should not lazy import things which are (currently) not lazily imported into the global namespace as it is more coherent. I think we should have a (separate) discussion about which algebras should be lazily imported and handle it there.",
    "created_at": "2014-10-31T15:15:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15982#issuecomment-207163",
    "user": "https://github.com/tscrim"
}
```

IMO, we should not lazy import things which are (currently) not lazily imported into the global namespace as it is more coherent. I think we should have a (separate) discussion about which algebras should be lazily imported and handle it there.



---

archive/issue_comments_207164.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-10-31T15:15:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15982#issuecomment-207164",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_207165.json:
```json
{
    "body": "I am not convinced, but I don't have a strong opinion either, and it's minor. I won't hold up this ticket just for this. Please proceed if you are convinced this is the way to go.",
    "created_at": "2014-11-01T10:13:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15982#issuecomment-207165",
    "user": "https://github.com/nthiery"
}
```

I am not convinced, but I don't have a strong opinion either, and it's minor. I won't hold up this ticket just for this. Please proceed if you are convinced this is the way to go.



---

archive/issue_comments_207166.json:
```json
{
    "body": "I believe it is, and I'm interpreting that as a positive review. I've created #17271 for the lazy importing. Thanks Nicolas.",
    "created_at": "2014-11-01T16:24:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15982#issuecomment-207166",
    "user": "https://github.com/tscrim"
}
```

I believe it is, and I'm interpreting that as a positive review. I've created #17271 for the lazy importing. Thanks Nicolas.



---

archive/issue_comments_207167.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-11-01T16:24:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15982#issuecomment-207167",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_207168.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2014-11-11T02:01:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15982#issuecomment-207168",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_207169.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. Last 10 new commits:",
    "created_at": "2014-11-11T02:01:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15982#issuecomment-207169",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. Last 10 new commits:



---

archive/issue_comments_207170.json:
```json
{
    "body": "I've added #16508 to the catalog and moved `DifferentialWeyl` to it's correct spot in the catalog (it changed its name from `Weyl`). Very quick check needed.",
    "created_at": "2014-11-11T02:02:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15982#issuecomment-207170",
    "user": "https://github.com/tscrim"
}
```

I've added #16508 to the catalog and moved `DifferentialWeyl` to it's correct spot in the catalog (it changed its name from `Weyl`). Very quick check needed.



---

archive/issue_comments_207171.json:
```json
{
    "body": "Check done. Ok for me!\n\nJust for the record: the comment for 73ee329 looks backward ...",
    "created_at": "2014-11-11T21:01:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15982#issuecomment-207171",
    "user": "https://github.com/nthiery"
}
```

Check done. Ok for me!

Just for the record: the comment for 73ee329 looks backward ...



---

archive/issue_comments_207172.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-11-11T21:01:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15982#issuecomment-207172",
    "user": "https://github.com/nthiery"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_207173.json:
```json
{
    "body": "Replying to [comment:19 nthiery]:\n> Just for the record: the comment for 73ee329 looks backward ...\n\n\nI was going to push this to #16508 until I noticed the out-of-order `DifferentialWeyl`, so in a sense it is backwards. `^^;;`",
    "created_at": "2014-11-12T01:16:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15982#issuecomment-207173",
    "user": "https://github.com/tscrim"
}
```

Replying to [comment:19 nthiery]:
> Just for the record: the comment for 73ee329 looks backward ...


I was going to push this to #16508 until I noticed the out-of-order `DifferentialWeyl`, so in a sense it is backwards. `^^;;`



---

archive/issue_comments_207174.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-11-14T21:01:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15982#issuecomment-207174",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_047803.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-11-14T21:01:25Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/15982",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15982#event-47803"
}
```
