# Issue 22581: Interface cryptominisat 5

archive/issues_022581.json:
```json
{
    "body": "CC:  fbissey\n\nThis ticket is a compagnon of #22817 which updates cryptominisat package to 5.0.1. Since our current cython interface does not work with cryptominisat 5, we have to rewrite the interface to use the python bindings that are now provided by cryptominisat.\n\nIssue created by migration from https://trac.sagemath.org/ticket/22818\n\n",
    "created_at": "2017-04-15T23:30:15Z",
    "labels": [
        "packages: experimental",
        "major",
        "enhancement"
    ],
    "title": "Interface cryptominisat 5",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/22581",
    "user": "tmonteil"
}
```
CC:  fbissey

This ticket is a compagnon of #22817 which updates cryptominisat package to 5.0.1. Since our current cython interface does not work with cryptominisat 5, we have to rewrite the interface to use the python bindings that are now provided by cryptominisat.

Issue created by migration from https://trac.sagemath.org/ticket/22818





---

archive/issue_comments_315010.json:
```json
{
    "body": "Changing keywords from \"\" to \"days86\".",
    "created_at": "2017-04-15T23:34:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315010",
    "user": "tmonteil"
}
```

Changing keywords from "" to "days86".



---

archive/issue_comments_315011.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-05-14T07:25:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315011",
    "user": "tmonteil"
}
```

New commits:



---

archive/issue_comments_315012.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-05-14T07:44:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315012",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_315013.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-05-14T16:24:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315013",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_315014.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-05-14T16:26:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315014",
    "user": "tmonteil"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_315015.json:
```json
{
    "body": "works on freebsd/clang, which is a good approx of OSX.",
    "created_at": "2017-05-15T10:34:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315015",
    "user": "dimpase"
}
```

works on freebsd/clang, which is a good approx of OSX.



---

archive/issue_comments_315016.json:
```json
{
    "body": "> #22818 and #22817 depend on each other.\n\nWhy two tickets then?\n\nCan you add any/all of the following to the new module `cryptominisat.py` ?\n\n```\n# Support of Python 3\nfrom __future__ import division, absolute_import, print_function, unicode_literals\n```\n\n\nMy mac OSX is still compiling the newest version of Sage...",
    "created_at": "2017-05-18T09:18:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315016",
    "user": "slabbe"
}
```

> #22818 and #22817 depend on each other.

Why two tickets then?

Can you add any/all of the following to the new module `cryptominisat.py` ?

```
# Support of Python 3
from __future__ import division, absolute_import, print_function, unicode_literals
```


My mac OSX is still compiling the newest version of Sage...



---

archive/issue_comments_315017.json:
```json
{
    "body": "Replying to [comment:9 slabbe]:\n> \n> > #22818 and #22817 depend on each other.\n> \n> Why two tickets then?\n\nWell, they do not really depend on each other, #22818 depends on #22817, but since the current interface was not working anymore, i wanted to make clear to the release manager that #22817 should not be considered until #22818 get a positive review.\n\nMoreover, while i was pretty confident to be able to package cryptominisat 5 (and let it work with cmake), it was not clear to me whether i will be the author of the current ticket, i was first planning to contact Martin Albrecht top help there, but change after change, i could do something acceptable.\n\n> Can you add any/all of the following to the new module `cryptominisat.py` ?\n> {{{\n> # Support of Python 3\n> from __future__ import division, absolute_import, print_function, unicode_literals\n> }}}\n\nI will do this.\n\n> My mac OSX is still compiling the newest version of Sage...",
    "created_at": "2017-05-18T11:56:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315017",
    "user": "tmonteil"
}
```

Replying to [comment:9 slabbe]:
> 
> > #22818 and #22817 depend on each other.
> 
> Why two tickets then?

Well, they do not really depend on each other, #22818 depends on #22817, but since the current interface was not working anymore, i wanted to make clear to the release manager that #22817 should not be considered until #22818 get a positive review.

Moreover, while i was pretty confident to be able to package cryptominisat 5 (and let it work with cmake), it was not clear to me whether i will be the author of the current ticket, i was first planning to contact Martin Albrecht top help there, but change after change, i could do something acceptable.

> Can you add any/all of the following to the new module `cryptominisat.py` ?
> {{{
> # Support of Python 3
> from __future__ import division, absolute_import, print_function, unicode_literals
> }}}

I will do this.

> My mac OSX is still compiling the newest version of Sage...



---

archive/issue_comments_315018.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-05-18T13:17:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315018",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_315019.json:
```json
{
    "body": "Replying to [comment:10 tmonteil]:\n> Replying to [comment:9 slabbe]:\n> > Can you add any/all of the following to the new module `cryptominisat.py` ?\n> > {{{\n> > # Support of Python 3\n> > from __future__ import division, absolute_import, print_function, unicode_literals\n> > }}}\n> \n> I will do this.\n\nDone.",
    "created_at": "2017-05-18T13:18:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315019",
    "user": "tmonteil"
}
```

Replying to [comment:10 tmonteil]:
> Replying to [comment:9 slabbe]:
> > Can you add any/all of the following to the new module `cryptominisat.py` ?
> > {{{
> > # Support of Python 3
> > from __future__ import division, absolute_import, print_function, unicode_literals
> > }}}
> 
> I will do this.

Done.



---

archive/issue_comments_315020.json:
```json
{
    "body": "On top of #22999, with OSX 10.10, `sage -i cryptominisat` works and I get on relevant files:\n\n\n```\nsage -t --long src/sage/sat/solvers/cryptominisat.py\n    [9 tests, 1.04 s]\nsage -t --long src/sage/sat/boolean_polynomials.py\n    [2 tests, 1.53 s]\nsage -t --long src/sage/sat/converters/polybori.py\n    [121 tests, 1.13 s]\nsage -t --long src/sage/sat/solvers/satsolver.pyx\n    [41 tests, 1.07 s]\n----------------------------------------------------------------------\nAll tests passed!\n----------------------------------------------------------------------\n```\n",
    "created_at": "2017-05-18T22:23:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315020",
    "user": "slabbe"
}
```

On top of #22999, with OSX 10.10, `sage -i cryptominisat` works and I get on relevant files:


```
sage -t --long src/sage/sat/solvers/cryptominisat.py
    [9 tests, 1.04 s]
sage -t --long src/sage/sat/boolean_polynomials.py
    [2 tests, 1.53 s]
sage -t --long src/sage/sat/converters/polybori.py
    [121 tests, 1.13 s]
sage -t --long src/sage/sat/solvers/satsolver.pyx
    [41 tests, 1.07 s]
----------------------------------------------------------------------
All tests passed!
----------------------------------------------------------------------
```




---

archive/issue_comments_315021.json:
```json
{
    "body": "Changing keywords from \"days86\" to \"days86, thursdaysbdx\".",
    "created_at": "2017-05-18T22:23:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315021",
    "user": "slabbe"
}
```

Changing keywords from "days86" to "days86, thursdaysbdx".



---

archive/issue_comments_315022.json:
```json
{
    "body": "Be careful that since cryptominisat is tagged as `experimental`, `sage -t --long` seems not to consider it as installed. For this, you have to change the file `/build/pkgs/cryptominisat/type` to `optional` (the number of tests should increase). Note also that the file `rings/polynomial/multi_polynomial_sequence.py` should be tested as well.",
    "created_at": "2017-05-19T06:32:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315022",
    "user": "tmonteil"
}
```

Be careful that since cryptominisat is tagged as `experimental`, `sage -t --long` seems not to consider it as installed. For this, you have to change the file `/build/pkgs/cryptominisat/type` to `optional` (the number of tests should increase). Note also that the file `rings/polynomial/multi_polynomial_sequence.py` should be tested as well.



---

archive/issue_comments_315023.json:
```json
{
    "body": "I would suggest to move\n\n```\n        from sage.misc.package import PackageNotFoundError\n```\n\ninside the `except ImportError` clause.",
    "created_at": "2017-05-19T07:20:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315023",
    "user": "slabbe"
}
```

I would suggest to move

```
        from sage.misc.package import PackageNotFoundError
```

inside the `except ImportError` clause.



---

archive/issue_comments_315024.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2017-05-19T07:38:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315024",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_315025.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2017-05-19T07:41:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315025",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_315026.json:
```json
{
    "body": "Ok, so I can install it:\n\n```\n$ sage -installed\n...\ncryptominisat...........................5.0.1\n...\n```\n\n\nbut I can not run it properly:\n\n\n```python\nsage: from sage.sat.solvers.cryptominisat import CryptoMiniSat\nsage: CryptoMiniSat()\n---------------------------------------------------------------------------\nPackageNotFoundError                      Traceback (most recent call last)\n<ipython-input-2-8287720c4b48> in <module>()\n----> 1 CryptoMiniSat()\n\n/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/sage/sat/solvers/cryptominisat.pyc in __init__(self, verbosity, confl_limit, threads)\n     58             from pycryptosat import Solver\n     59         except ImportError:\n---> 60             raise PackageNotFoundError(\"cryptominisat\")\n     61         self._solver = Solver(verbose=int(verbosity), confl_limit=int(confl_limit), threads=int(threads))\n     62         self._nvars = 0\n\nPackageNotFoundError: the package u'cryptominisat' was not found.\nYou can install it by running 'sage -i cryptominisat' in a shell\n```\n\n\nThe real error is:\n\n\n```python\nsage: from pycryptosat import Solver\n---------------------------------------------------------------------------\nImportError                               Traceback (most recent call last)\n<ipython-input-3-280927e3230f> in <module>()\n----> 1 from pycryptosat import Solver\n\nImportError: dlopen(/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/pycryptosat.so, 2): Library not loaded: libcryptominisat5.5.0.dylib\n  Referenced from: /Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/pycryptosat.so\n  Reason: image not found\n```\n",
    "created_at": "2017-05-19T07:41:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315026",
    "user": "slabbe"
}
```

Ok, so I can install it:

```
$ sage -installed
...
cryptominisat...........................5.0.1
...
```


but I can not run it properly:


```python
sage: from sage.sat.solvers.cryptominisat import CryptoMiniSat
sage: CryptoMiniSat()
---------------------------------------------------------------------------
PackageNotFoundError                      Traceback (most recent call last)
<ipython-input-2-8287720c4b48> in <module>()
----> 1 CryptoMiniSat()

/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/sage/sat/solvers/cryptominisat.pyc in __init__(self, verbosity, confl_limit, threads)
     58             from pycryptosat import Solver
     59         except ImportError:
---> 60             raise PackageNotFoundError("cryptominisat")
     61         self._solver = Solver(verbose=int(verbosity), confl_limit=int(confl_limit), threads=int(threads))
     62         self._nvars = 0

PackageNotFoundError: the package u'cryptominisat' was not found.
You can install it by running 'sage -i cryptominisat' in a shell
```


The real error is:


```python
sage: from pycryptosat import Solver
---------------------------------------------------------------------------
ImportError                               Traceback (most recent call last)
<ipython-input-3-280927e3230f> in <module>()
----> 1 from pycryptosat import Solver

ImportError: dlopen(/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/pycryptosat.so, 2): Library not loaded: libcryptominisat5.5.0.dylib
  Referenced from: /Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/pycryptosat.so
  Reason: image not found
```




---

archive/issue_comments_315027.json:
```json
{
    "body": "...this shows that message `PackageNotFoundError: the package u'cryptominisat' was not found. You can install it by running 'sage -i cryptominisat' in a shell` is misleading because for me it *is* installed.",
    "created_at": "2017-05-19T07:46:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315027",
    "user": "slabbe"
}
```

...this shows that message `PackageNotFoundError: the package u'cryptominisat' was not found. You can install it by running 'sage -i cryptominisat' in a shell` is misleading because for me it *is* installed.



---

archive/issue_comments_315028.json:
```json
{
    "body": "Could you go to your `SAGE_LOCAL` directory and type:\n\n\n```\nfind | grep cryptominisat\n```\n",
    "created_at": "2017-05-19T07:47:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315028",
    "user": "tmonteil"
}
```

Could you go to your `SAGE_LOCAL` directory and type:


```
find | grep cryptominisat
```




---

archive/issue_comments_315029.json:
```json
{
    "body": "as well as:\n\n\n```\n find | grep cryptosat\n```\n",
    "created_at": "2017-05-19T07:49:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315029",
    "user": "tmonteil"
}
```

as well as:


```
 find | grep cryptosat
```




---

archive/issue_comments_315030.json:
```json
{
    "body": "find with no argument?\n\n\n```\n$ find | grep cryptominisat\nusage: find [-H | -L | -P] [-EXdsx] [-f path] path ... [expression]\n       find [-H | -L | -P] [-EXdsx] -f path [path ...] [expression]\n```\n",
    "created_at": "2017-05-19T07:57:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315030",
    "user": "slabbe"
}
```

find with no argument?


```
$ find | grep cryptominisat
usage: find [-H | -L | -P] [-EXdsx] [-f path] path ... [expression]
       find [-H | -L | -P] [-EXdsx] -f path [path ...] [expression]
```




---

archive/issue_comments_315031.json:
```json
{
    "body": "Maybe this what you mean:\n\n```\n$ cd local/lib\n$ ls | grep cryp\nlibcryptominisat5.5.0.dylib\nlibcryptominisat5.dylib\n```\n",
    "created_at": "2017-05-19T08:01:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315031",
    "user": "slabbe"
}
```

Maybe this what you mean:

```
$ cd local/lib
$ ls | grep cryp
libcryptominisat5.5.0.dylib
libcryptominisat5.dylib
```




---

archive/issue_comments_315032.json:
```json
{
    "body": "Replying to [comment:22 slabbe]:\n> find with no argument?\n> \n> {{{\n> $ find | grep cryptominisat\n> usage: find [-H | -L | -P] [-EXdsx] [-f path] path ... [expression]\n>        find [-H | -L | -P] [-EXdsx] -f path [path ...] [expression]\n> }}}\n\nWho said OSX was user-friendly ?\n\nYou can try:\n\n\n```\nfind -name '*cryptominisat*'\n```\n\n\nand\n\n\n```\nfind -name '*cryptosat*'\n```\n",
    "created_at": "2017-05-19T08:05:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315032",
    "user": "tmonteil"
}
```

Replying to [comment:22 slabbe]:
> find with no argument?
> 
> {{{
> $ find | grep cryptominisat
> usage: find [-H | -L | -P] [-EXdsx] [-f path] path ... [expression]
>        find [-H | -L | -P] [-EXdsx] -f path [path ...] [expression]
> }}}

Who said OSX was user-friendly ?

You can try:


```
find -name '*cryptominisat*'
```


and


```
find -name '*cryptosat*'
```




---

archive/issue_comments_315033.json:
```json
{
    "body": "I needed to add `.` :\n\n\n```\n$ find . -name '*cryptominisat*'\n./bin/cryptominisat5_simple\n./include/cryptominisat5\n./include/cryptominisat5/cryptominisat.h\n./include/cryptominisat5/cryptominisat_c.h\n./lib/cmake/cryptominisat5\n./lib/cmake/cryptominisat5/cryptominisat5Config.cmake\n./lib/cmake/cryptominisat5/cryptominisat5Targets-relwithdebinfo.cmake\n./lib/cmake/cryptominisat5/cryptominisat5Targets.cmake\n./lib/libcryptominisat5.5.0.dylib\n./lib/libcryptominisat5.dylib\n./lib/python2.7/site-packages/sage/sat/solvers/cryptominisat\n./lib/python2.7/site-packages/sage/sat/solvers/cryptominisat.py\n./lib/python2.7/site-packages/sage/sat/solvers/cryptominisat.pyc\n./var/lib/sage/installed/cryptominisat-5.0.1\n```\n\n\n\n```\n $ find . -name '*cryptosat*'\n./lib/python2.7/site-packages/pycryptosat-5.0.1-py2.7.egg-info\n./lib/python2.7/site-packages/pycryptosat.so\n```\n",
    "created_at": "2017-05-19T08:09:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315033",
    "user": "slabbe"
}
```

I needed to add `.` :


```
$ find . -name '*cryptominisat*'
./bin/cryptominisat5_simple
./include/cryptominisat5
./include/cryptominisat5/cryptominisat.h
./include/cryptominisat5/cryptominisat_c.h
./lib/cmake/cryptominisat5
./lib/cmake/cryptominisat5/cryptominisat5Config.cmake
./lib/cmake/cryptominisat5/cryptominisat5Targets-relwithdebinfo.cmake
./lib/cmake/cryptominisat5/cryptominisat5Targets.cmake
./lib/libcryptominisat5.5.0.dylib
./lib/libcryptominisat5.dylib
./lib/python2.7/site-packages/sage/sat/solvers/cryptominisat
./lib/python2.7/site-packages/sage/sat/solvers/cryptominisat.py
./lib/python2.7/site-packages/sage/sat/solvers/cryptominisat.pyc
./var/lib/sage/installed/cryptominisat-5.0.1
```



```
 $ find . -name '*cryptosat*'
./lib/python2.7/site-packages/pycryptosat-5.0.1-py2.7.egg-info
./lib/python2.7/site-packages/pycryptosat.so
```




---

archive/issue_comments_315034.json:
```json
{
    "body": "I do not see much difference, except that my `.so` files become `.dylib`, which seems an OSX specificity. Not sure how this impacts things.\n\nDoes the following work: put the block\n\n\n```\np cnf 2 3\n1 0\n-2 0\n-1 2 3 0\n```\n\n\nin the file `/tmp/cnf`, and run:\n\n\n```\n./bin/cryptominisat5 --verb 0 /tmp/cnf\n```\n",
    "created_at": "2017-05-19T08:27:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315034",
    "user": "tmonteil"
}
```

I do not see much difference, except that my `.so` files become `.dylib`, which seems an OSX specificity. Not sure how this impacts things.

Does the following work: put the block


```
p cnf 2 3
1 0
-2 0
-1 2 3 0
```


in the file `/tmp/cnf`, and run:


```
./bin/cryptominisat5 --verb 0 /tmp/cnf
```




---

archive/issue_comments_315035.json:
```json
{
    "body": "Apparently, you do not have a `./bin/cryptominisat5` file, so try instead:\n\n\n```\n./bin/cryptominisat5_simple /tmp/cnf\n```\n",
    "created_at": "2017-05-19T08:29:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315035",
    "user": "tmonteil"
}
```

Apparently, you do not have a `./bin/cryptominisat5` file, so try instead:


```
./bin/cryptominisat5_simple /tmp/cnf
```




---

archive/issue_comments_315036.json:
```json
{
    "body": "I get:\n\n```\n$ ./bin/cryptominisat5_simple --verb 0 /tmp/cnf\ndyld: Library not loaded: libcryptominisat5.5.0.dylib\n  Referenced from: /Users/slabbe/Applications/sage-git/local/./bin/cryptominisat5_simple\n  Reason: image not found\nTrace/BPT trap: 5\n```\n\nSame output without `--verb 0`.",
    "created_at": "2017-05-19T08:35:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315036",
    "user": "slabbe"
}
```

I get:

```
$ ./bin/cryptominisat5_simple --verb 0 /tmp/cnf
dyld: Library not loaded: libcryptominisat5.5.0.dylib
  Referenced from: /Users/slabbe/Applications/sage-git/local/./bin/cryptominisat5_simple
  Reason: image not found
Trace/BPT trap: 5
```

Same output without `--verb 0`.



---

archive/issue_comments_315037.json:
```json
{
    "body": "What if you do the same from a `sage -sh` shell ? What is the output of `echo $LDFLAGS` ?",
    "created_at": "2017-05-19T08:53:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315037",
    "user": "tmonteil"
}
```

What if you do the same from a `sage -sh` shell ? What is the output of `echo $LDFLAGS` ?



---

archive/issue_comments_315038.json:
```json
{
    "body": "OK, I can start debug your stuff. I suspect some stuff is not set as we want it in cryptominisat build system on OS X. Given the reports I am seeing, I'll want the output of \n\n```\notool -L lib/libcryptominisat5.5.0.dylib\notool -L bin/cryptominisat5_simple\notool -L lib/python2.7/site-packages/pycryptosat.so\n```\n\nplease.",
    "created_at": "2017-05-19T09:49:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315038",
    "user": "fbissey"
}
```

OK, I can start debug your stuff. I suspect some stuff is not set as we want it in cryptominisat build system on OS X. Given the reports I am seeing, I'll want the output of 

```
otool -L lib/libcryptominisat5.5.0.dylib
otool -L bin/cryptominisat5_simple
otool -L lib/python2.7/site-packages/pycryptosat.so
```

please.



---

archive/issue_comments_315039.json:
```json
{
    "body": "Replying to [comment:29 tmonteil]:\n> What if you do the same from a `sage -sh` shell ? \n\nsame result\n\n> What is the output of `echo $LDFLAGS` ?\n\n\n```\n$ sage -sh\n$ echo $LDFLAGS\n-L/Users/slabbe/Applications/sage-git/local/lib -Wl,-rpath,/Users/slabbe/Applications/sage-git/local/lib\n```\n",
    "created_at": "2017-05-19T10:42:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315039",
    "user": "slabbe"
}
```

Replying to [comment:29 tmonteil]:
> What if you do the same from a `sage -sh` shell ? 

same result

> What is the output of `echo $LDFLAGS` ?


```
$ sage -sh
$ echo $LDFLAGS
-L/Users/slabbe/Applications/sage-git/local/lib -Wl,-rpath,/Users/slabbe/Applications/sage-git/local/lib
```




---

archive/issue_comments_315040.json:
```json
{
    "body": "\n```\n$ otool -L lib/libcryptominisat5.5.0.dylib\nlib/libcryptominisat5.5.0.dylib:\n\tlibcryptominisat5.5.0.dylib (compatibility version 5.0.0, current version 5.0.0)\n\t/Users/slabbe/Applications/sage-git/local/lib/libm4ri-0.0.20140914.dylib (compatibility version 0.0.0, current version 0.0.0)\n\t/Users/slabbe/Applications/sage-git/local/lib/libstdc++.6.dylib (compatibility version 7.0.0, current version 7.20.0)\n\t/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1197.1.1)\n\t/Users/slabbe/Applications/sage-git/local/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current version 1.0.0)\n\n$ otool -L bin/cryptominisat5_simple\nbin/cryptominisat5_simple:\n\tlibcryptominisat5.5.0.dylib (compatibility version 5.0.0, current version 5.0.0)\n\t/usr/lib/libz.1.dylib (compatibility version 1.0.0, current version 1.2.5)\n\t/Users/slabbe/Applications/sage-git/local/lib/libm4ri-0.0.20140914.dylib (compatibility version 0.0.0, current version 0.0.0)\n\t/Users/slabbe/Applications/sage-git/local/lib/libstdc++.6.dylib (compatibility version 7.0.0, current version 7.20.0)\n\t/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1197.1.1)\n\t/Users/slabbe/Applications/sage-git/local/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current version 1.0.0)\n\n$ otool -L lib/python2.7/site-packages/pycryptosat.so\nlib/python2.7/site-packages/pycryptosat.so:\n\tbuild/lib.macosx-10.9-x86_64-2.7/pycryptosat.so (compatibility version 0.0.0, current version 0.0.0)\n\tlibcryptominisat5.5.0.dylib (compatibility version 5.0.0, current version 5.0.0)\n\t/Users/slabbe/Applications/sage-git/local/lib/libpython2.7.dylib (compatibility version 2.7.0, current version 2.7.0)\n\t/System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation (compatibility version 150.0.0, current version 1152.0.0)\n\t/Users/slabbe/Applications/sage-git/local/lib/libstdc++.6.dylib (compatibility version 7.0.0, current version 7.20.0)\n\t/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1213.0.0)\n\t/Users/slabbe/Applications/sage-git/local/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current version 1.0.0)\n```\n",
    "created_at": "2017-05-19T10:44:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315040",
    "user": "slabbe"
}
```


```
$ otool -L lib/libcryptominisat5.5.0.dylib
lib/libcryptominisat5.5.0.dylib:
	libcryptominisat5.5.0.dylib (compatibility version 5.0.0, current version 5.0.0)
	/Users/slabbe/Applications/sage-git/local/lib/libm4ri-0.0.20140914.dylib (compatibility version 0.0.0, current version 0.0.0)
	/Users/slabbe/Applications/sage-git/local/lib/libstdc++.6.dylib (compatibility version 7.0.0, current version 7.20.0)
	/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1197.1.1)
	/Users/slabbe/Applications/sage-git/local/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current version 1.0.0)

$ otool -L bin/cryptominisat5_simple
bin/cryptominisat5_simple:
	libcryptominisat5.5.0.dylib (compatibility version 5.0.0, current version 5.0.0)
	/usr/lib/libz.1.dylib (compatibility version 1.0.0, current version 1.2.5)
	/Users/slabbe/Applications/sage-git/local/lib/libm4ri-0.0.20140914.dylib (compatibility version 0.0.0, current version 0.0.0)
	/Users/slabbe/Applications/sage-git/local/lib/libstdc++.6.dylib (compatibility version 7.0.0, current version 7.20.0)
	/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1197.1.1)
	/Users/slabbe/Applications/sage-git/local/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current version 1.0.0)

$ otool -L lib/python2.7/site-packages/pycryptosat.so
lib/python2.7/site-packages/pycryptosat.so:
	build/lib.macosx-10.9-x86_64-2.7/pycryptosat.so (compatibility version 0.0.0, current version 0.0.0)
	libcryptominisat5.5.0.dylib (compatibility version 5.0.0, current version 5.0.0)
	/Users/slabbe/Applications/sage-git/local/lib/libpython2.7.dylib (compatibility version 2.7.0, current version 2.7.0)
	/System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation (compatibility version 150.0.0, current version 1152.0.0)
	/Users/slabbe/Applications/sage-git/local/lib/libstdc++.6.dylib (compatibility version 7.0.0, current version 7.20.0)
	/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1213.0.0)
	/Users/slabbe/Applications/sage-git/local/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current version 1.0.0)
```




---

archive/issue_comments_315041.json:
```json
{
    "body": "\n```\nMirage:sage-build fbissey$ otool -L /Users/fbissey/build/sage-build/local/bin/cryptominisat5_simple\n/Users/fbissey/build/sage-build/local/bin/cryptominisat5_simple:\n\tlibcryptominisat5.5.0.dylib (compatibility version 5.0.0, current version 5.0.0)\n\t/usr/lib/libz.1.dylib (compatibility version 1.0.0, current version 1.2.8)\n\t/Users/fbissey/build/sage-build/local/lib/libm4ri-0.0.20140914.dylib (compatibility version 0.0.0, current version 0.0.0)\n\t/usr/lib/libc++.1.dylib (compatibility version 1.0.0, current version 307.5.0)\n\t/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1238.50.2)\nMirage:sage-build fbissey$ otool -L /Users/fbissey/build/sage-build/local/lib/libcryptominisat5.5.0.dylib\n/Users/fbissey/build/sage-build/local/lib/libcryptominisat5.5.0.dylib:\n\tlibcryptominisat5.5.0.dylib (compatibility version 5.0.0, current version 5.0.0)\n\t/Users/fbissey/build/sage-build/local/lib/libm4ri-0.0.20140914.dylib (compatibility version 0.0.0, current version 0.0.0)\n\t/usr/lib/libc++.1.dylib (compatibility version 1.0.0, current version 307.5.0)\n\t/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1238.50.2)\n```\n\ninstall_name is not set. This will not work properly on OS X but the fix will belong to #22817 as it is for building `cryptominisat` itself. Looking into it.",
    "created_at": "2017-05-19T10:45:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315041",
    "user": "fbissey"
}
```


```
Mirage:sage-build fbissey$ otool -L /Users/fbissey/build/sage-build/local/bin/cryptominisat5_simple
/Users/fbissey/build/sage-build/local/bin/cryptominisat5_simple:
	libcryptominisat5.5.0.dylib (compatibility version 5.0.0, current version 5.0.0)
	/usr/lib/libz.1.dylib (compatibility version 1.0.0, current version 1.2.8)
	/Users/fbissey/build/sage-build/local/lib/libm4ri-0.0.20140914.dylib (compatibility version 0.0.0, current version 0.0.0)
	/usr/lib/libc++.1.dylib (compatibility version 1.0.0, current version 307.5.0)
	/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1238.50.2)
Mirage:sage-build fbissey$ otool -L /Users/fbissey/build/sage-build/local/lib/libcryptominisat5.5.0.dylib
/Users/fbissey/build/sage-build/local/lib/libcryptominisat5.5.0.dylib:
	libcryptominisat5.5.0.dylib (compatibility version 5.0.0, current version 5.0.0)
	/Users/fbissey/build/sage-build/local/lib/libm4ri-0.0.20140914.dylib (compatibility version 0.0.0, current version 0.0.0)
	/usr/lib/libc++.1.dylib (compatibility version 1.0.0, current version 307.5.0)
	/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1238.50.2)
```

install_name is not set. This will not work properly on OS X but the fix will belong to #22817 as it is for building `cryptominisat` itself. Looking into it.



---

archive/issue_comments_315042.json:
```json
{
    "body": "Documentation of INPUTS of `__init__` should go into the class, because it should appear first in:\n\n```\nCryptoMiniSat??\n```\n\nYou may write `See documentation class for inputs` inside `__init__`. There are many example like this in Sage code.",
    "created_at": "2017-05-21T20:42:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315042",
    "user": "slabbe"
}
```

Documentation of INPUTS of `__init__` should go into the class, because it should appear first in:

```
CryptoMiniSat??
```

You may write `See documentation class for inputs` inside `__init__`. There are many example like this in Sage code.



---

archive/issue_comments_315043.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-05-22T11:03:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315043",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_315044.json:
```json
{
    "body": "Replying to [comment:34 slabbe]:\n> Documentation of INPUTS of `__init__` should go into the class, because it should appear first in:\n> {{{\n> CryptoMiniSat??\n> }}}\n> You may write `See documentation class for inputs` inside `__init__`. There are many example like this in Sage code.\n\nDone. Note that actually, we should put most of the doc in the documentation od the `SAT` function which is the only one imported in the namespace. Looking at it, it seems that the arguments can not be passed to the different class constructors.",
    "created_at": "2017-05-22T11:04:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315044",
    "user": "tmonteil"
}
```

Replying to [comment:34 slabbe]:
> Documentation of INPUTS of `__init__` should go into the class, because it should appear first in:
> {{{
> CryptoMiniSat??
> }}}
> You may write `See documentation class for inputs` inside `__init__`. There are many example like this in Sage code.

Done. Note that actually, we should put most of the doc in the documentation od the `SAT` function which is the only one imported in the namespace. Looking at it, it seems that the arguments can not be passed to the different class constructors.



---

archive/issue_comments_315045.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-05-22T14:05:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315045",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_315046.json:
```json
{
    "body": "Replying to [comment:36 tmonteil]:\n> Looking at it, it seems that the arguments can not be passed to the different class constructors.\n\nDone for cryptominisat.\n\nIt is less easy for LP solver, since `SAT` will need a `solver` option to decide between cryptominisat and LP, and then another `solver` option to decide which MILP backend to use. Moreover, the `SatLP` input tells about a `solver` option, but then it does not pass it to `MixedIntegerLinearProgram()`. In any case, this will be for another ticket since it does not concerns cryptominisat.",
    "created_at": "2017-05-22T14:10:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315046",
    "user": "tmonteil"
}
```

Replying to [comment:36 tmonteil]:
> Looking at it, it seems that the arguments can not be passed to the different class constructors.

Done for cryptominisat.

It is less easy for LP solver, since `SAT` will need a `solver` option to decide between cryptominisat and LP, and then another `solver` option to decide which MILP backend to use. Moreover, the `SatLP` input tells about a `solver` option, but then it does not pass it to `MixedIntegerLinearProgram()`. In any case, this will be for another ticket since it does not concerns cryptominisat.



---

archive/issue_comments_315047.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-05-22T14:56:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315047",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_315048.json:
```json
{
    "body": "Still, there should be at least one `EXAMPLES::` in `__init__` for 100% coverage reason.",
    "created_at": "2017-05-23T08:48:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315048",
    "user": "slabbe"
}
```

Still, there should be at least one `EXAMPLES::` in `__init__` for 100% coverage reason.



---

archive/issue_comments_315049.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-05-24T08:55:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315049",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_315050.json:
```json
{
    "body": "You should rebase the branch of this ticket on the new branch of #22817.",
    "created_at": "2017-05-24T09:16:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315050",
    "user": "fbissey"
}
```

You should rebase the branch of this ticket on the new branch of #22817.



---

archive/issue_comments_315051.json:
```json
{
    "body": "Replying to [comment:42 fbissey]:\n> You should rebase the branch of this ticket on the new branch of #22817.\n\nSure, i must first compile the changes made on #22817, and test it.",
    "created_at": "2017-05-24T09:19:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315051",
    "user": "tmonteil"
}
```

Replying to [comment:42 fbissey]:
> You should rebase the branch of this ticket on the new branch of #22817.

Sure, i must first compile the changes made on #22817, and test it.



---

archive/issue_comments_315052.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-05-24T10:31:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315052",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_315053.json:
```json
{
    "body": "Done.",
    "created_at": "2017-05-24T12:35:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315053",
    "user": "tmonteil"
}
```

Done.



---

archive/issue_comments_315054.json:
```json
{
    "body": "On OSX 10.10, on top of #22999 and with #22818, I get:\n\n\n```\n$ sage -f cryptominisat\n...\n[cryptominisat-5.0.1] Successfully installed cryptominisat-5.0.1\n```\n\n\nThen, I still get:\n\n\n```python\nsage: import pycryptosat\nTraceback (most recent call last)\n<ipython-input-1-1cca6683c235> in <module>()\n----> 1 import pycryptosat\n\nImportError: dlopen(/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/pycryptosat.so, 2): Library not loaded: libcryptominisat5.5.0.dylib\n  Referenced from: /Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/pycryptosat.so\n  Reason: image not found\n```\n\n\nI do not know if there is something else I must do to install the new version of the branch? Do some `rm` in the `lib` folder to erase previous wrong cryptominisat lib from previous tries? Tell me if so.\n\nHere is the output of previous commands you asked me:\n\n\n```\n$ find local -name '*cryptominisat*'\nlocal/bin/cryptominisat5_simple\nlocal/include/cryptominisat5\nlocal/include/cryptominisat5/cryptominisat.h\nlocal/include/cryptominisat5/cryptominisat_c.h\nlocal/lib/cmake/cryptominisat5\nlocal/lib/cmake/cryptominisat5/cryptominisat5Config.cmake\nlocal/lib/cmake/cryptominisat5/cryptominisat5Targets-relwithdebinfo.cmake\nlocal/lib/cmake/cryptominisat5/cryptominisat5Targets.cmake\nlocal/lib/libcryptominisat5.5.0.dylib\nlocal/lib/libcryptominisat5.dylib\nlocal/lib/python2.7/site-packages/sage/sat/solvers/cryptominisat\nlocal/lib/python2.7/site-packages/sage/sat/solvers/cryptominisat.py\nlocal/lib/python2.7/site-packages/sage/sat/solvers/cryptominisat.pyc\nlocal/var/lib/sage/installed/cryptominisat-5.0.1\n\n$ find local -name '*cryptosat*'\nlocal/lib/python2.7/site-packages/pycryptosat-5.0.1-py2.7.egg-info\nlocal/lib/python2.7/site-packages/pycryptosat.so\n```\n\n\nHere is the output of otool as above if this may help:\n\n\n```\n$ otool -L lib/libcryptominisat5.5.0.dylib\nlib/libcryptominisat5.5.0.dylib:\n\t/Users/slabbe/Applications/sage-git/local/lib/libcryptominisat5.5.0.dylib (compatibility version 5.0.0, current version 5.0.0)\n\t/Users/slabbe/Applications/sage-git/local/lib/libm4ri-0.0.20140914.dylib (compatibility version 0.0.0, current version 0.0.0)\n\t/Users/slabbe/Applications/sage-git/local/lib/libstdc++.6.dylib (compatibility version 7.0.0, current version 7.20.0)\n\t/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1197.1.1)\n\t/Users/slabbe/Applications/sage-git/local/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current version 1.0.0)\n\n$ otool -L bin/cryptominisat5_simple\nbin/cryptominisat5_simple:\n\t/Users/slabbe/Applications/sage-git/local/lib/libcryptominisat5.5.0.dylib (compatibility version 5.0.0, current version 5.0.0)\n\t/Users/slabbe/Applications/sage-git/local/lib/libz.1.dylib (compatibility version 1.0.0, current version 1.2.8)\n\t/Users/slabbe/Applications/sage-git/local/lib/libm4ri-0.0.20140914.dylib (compatibility version 0.0.0, current version 0.0.0)\n\t/Users/slabbe/Applications/sage-git/local/lib/libstdc++.6.dylib (compatibility version 7.0.0, current version 7.20.0)\n\t/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1197.1.1)\n\t/Users/slabbe/Applications/sage-git/local/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current version 1.0.0)\n\n$ otool -L lib/python2.7/site-packages/pycryptosat.so\nlib/python2.7/site-packages/pycryptosat.so:\n\tbuild/lib.macosx-10.9-x86_64-2.7/pycryptosat.so (compatibility version 0.0.0, current version 0.0.0)\n\tlibcryptominisat5.5.0.dylib (compatibility version 5.0.0, current version 5.0.0)\n\t/Users/slabbe/Applications/sage-git/local/lib/libpython2.7.dylib (compatibility version 2.7.0, current version 2.7.0)\n\t/System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation (compatibility version 150.0.0, current version 1152.0.0)\n\t/Users/slabbe/Applications/sage-git/local/lib/libstdc++.6.dylib (compatibility version 7.0.0, current version 7.20.0)\n\t/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1213.0.0)\n\t/Users/slabbe/Applications/sage-git/local/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current version 1.0.0)\n```\n",
    "created_at": "2017-05-24T21:25:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315054",
    "user": "slabbe"
}
```

On OSX 10.10, on top of #22999 and with #22818, I get:


```
$ sage -f cryptominisat
...
[cryptominisat-5.0.1] Successfully installed cryptominisat-5.0.1
```


Then, I still get:


```python
sage: import pycryptosat
Traceback (most recent call last)
<ipython-input-1-1cca6683c235> in <module>()
----> 1 import pycryptosat

ImportError: dlopen(/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/pycryptosat.so, 2): Library not loaded: libcryptominisat5.5.0.dylib
  Referenced from: /Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/pycryptosat.so
  Reason: image not found
```


I do not know if there is something else I must do to install the new version of the branch? Do some `rm` in the `lib` folder to erase previous wrong cryptominisat lib from previous tries? Tell me if so.

Here is the output of previous commands you asked me:


```
$ find local -name '*cryptominisat*'
local/bin/cryptominisat5_simple
local/include/cryptominisat5
local/include/cryptominisat5/cryptominisat.h
local/include/cryptominisat5/cryptominisat_c.h
local/lib/cmake/cryptominisat5
local/lib/cmake/cryptominisat5/cryptominisat5Config.cmake
local/lib/cmake/cryptominisat5/cryptominisat5Targets-relwithdebinfo.cmake
local/lib/cmake/cryptominisat5/cryptominisat5Targets.cmake
local/lib/libcryptominisat5.5.0.dylib
local/lib/libcryptominisat5.dylib
local/lib/python2.7/site-packages/sage/sat/solvers/cryptominisat
local/lib/python2.7/site-packages/sage/sat/solvers/cryptominisat.py
local/lib/python2.7/site-packages/sage/sat/solvers/cryptominisat.pyc
local/var/lib/sage/installed/cryptominisat-5.0.1

$ find local -name '*cryptosat*'
local/lib/python2.7/site-packages/pycryptosat-5.0.1-py2.7.egg-info
local/lib/python2.7/site-packages/pycryptosat.so
```


Here is the output of otool as above if this may help:


```
$ otool -L lib/libcryptominisat5.5.0.dylib
lib/libcryptominisat5.5.0.dylib:
	/Users/slabbe/Applications/sage-git/local/lib/libcryptominisat5.5.0.dylib (compatibility version 5.0.0, current version 5.0.0)
	/Users/slabbe/Applications/sage-git/local/lib/libm4ri-0.0.20140914.dylib (compatibility version 0.0.0, current version 0.0.0)
	/Users/slabbe/Applications/sage-git/local/lib/libstdc++.6.dylib (compatibility version 7.0.0, current version 7.20.0)
	/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1197.1.1)
	/Users/slabbe/Applications/sage-git/local/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current version 1.0.0)

$ otool -L bin/cryptominisat5_simple
bin/cryptominisat5_simple:
	/Users/slabbe/Applications/sage-git/local/lib/libcryptominisat5.5.0.dylib (compatibility version 5.0.0, current version 5.0.0)
	/Users/slabbe/Applications/sage-git/local/lib/libz.1.dylib (compatibility version 1.0.0, current version 1.2.8)
	/Users/slabbe/Applications/sage-git/local/lib/libm4ri-0.0.20140914.dylib (compatibility version 0.0.0, current version 0.0.0)
	/Users/slabbe/Applications/sage-git/local/lib/libstdc++.6.dylib (compatibility version 7.0.0, current version 7.20.0)
	/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1197.1.1)
	/Users/slabbe/Applications/sage-git/local/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current version 1.0.0)

$ otool -L lib/python2.7/site-packages/pycryptosat.so
lib/python2.7/site-packages/pycryptosat.so:
	build/lib.macosx-10.9-x86_64-2.7/pycryptosat.so (compatibility version 0.0.0, current version 0.0.0)
	libcryptominisat5.5.0.dylib (compatibility version 5.0.0, current version 5.0.0)
	/Users/slabbe/Applications/sage-git/local/lib/libpython2.7.dylib (compatibility version 2.7.0, current version 2.7.0)
	/System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation (compatibility version 150.0.0, current version 1152.0.0)
	/Users/slabbe/Applications/sage-git/local/lib/libstdc++.6.dylib (compatibility version 7.0.0, current version 7.20.0)
	/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1213.0.0)
	/Users/slabbe/Applications/sage-git/local/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current version 1.0.0)
```




---

archive/issue_comments_315055.json:
```json
{
    "body": "`lib/python2.7/site-packages/pycryptosat.so` is not normal. My install shows\n\n```\nMirage:sage-build fbissey$ otool -L local/lib/python2.7/site-packages/pycryptosat.so \nlocal/lib/python2.7/site-packages/pycryptosat.so:\n\tbuild/lib.macosx-10.9-x86_64-2.7/pycryptosat.so (compatibility version 0.0.0, current version 0.0.0)\n\t/Users/fbissey/build/sage-build/local/lib/libcryptominisat5.5.0.dylib (compatibility version 5.0.0, current version 5.0.0)\n\t/Users/fbissey/build/sage-build/local/lib/libpython2.7.dylib (compatibility version 2.7.0, current version 2.7.0)\n\t/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1238.60.2)\n\t/System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation (compatibility version 150.0.0, current version 1349.8.0)\n\t/usr/lib/libc++.1.dylib (compatibility version 1.0.0, current version 307.5.0)\n```\n\nFor some reason you appear to have an old install in the python folder. I didn't have to do any `rm` but removing that file before re-installing may be something to try.",
    "created_at": "2017-05-24T21:32:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315055",
    "user": "fbissey"
}
```

`lib/python2.7/site-packages/pycryptosat.so` is not normal. My install shows

```
Mirage:sage-build fbissey$ otool -L local/lib/python2.7/site-packages/pycryptosat.so 
local/lib/python2.7/site-packages/pycryptosat.so:
	build/lib.macosx-10.9-x86_64-2.7/pycryptosat.so (compatibility version 0.0.0, current version 0.0.0)
	/Users/fbissey/build/sage-build/local/lib/libcryptominisat5.5.0.dylib (compatibility version 5.0.0, current version 5.0.0)
	/Users/fbissey/build/sage-build/local/lib/libpython2.7.dylib (compatibility version 2.7.0, current version 2.7.0)
	/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1238.60.2)
	/System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation (compatibility version 150.0.0, current version 1349.8.0)
	/usr/lib/libc++.1.dylib (compatibility version 1.0.0, current version 307.5.0)
```

For some reason you appear to have an old install in the python folder. I didn't have to do any `rm` but removing that file before re-installing may be something to try.



---

archive/issue_comments_315056.json:
```json
{
    "body": "I did:\n\n```\nrm local/lib/python2.7/site-packages/pycryptosat.so\nsage -f cryptominisat\n```\n\n\nI get:\n\n```\n$ otool -L local/lib/python2.7/site-packages/pycryptosat.so\nlocal/lib/python2.7/site-packages/pycryptosat.so:\n\tbuild/lib.macosx-10.9-x86_64-2.7/pycryptosat.so (compatibility version 0.0.0, current version 0.0.0)\n\t/Users/slabbe/Applications/sage-git/local/lib/libcryptominisat5.5.0.dylib (compatibility version 5.0.0, current version 5.0.0)\n\t/Users/slabbe/Applications/sage-git/local/lib/libpython2.7.dylib (compatibility version 2.7.0, current version 2.7.0)\n\t/System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation (compatibility version 150.0.0, current version 1152.0.0)\n\t/Users/slabbe/Applications/sage-git/local/lib/libstdc++.6.dylib (compatibility version 7.0.0, current version 7.20.0)\n\t/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1213.0.0)\n\t/Users/slabbe/Applications/sage-git/local/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current version 1.0.0)\n```\n\n\nand now:\n\n\n```\nsage: import pycryptosat\nsage: from pycryptosat import Solver\nsage: s = Solver()\nsage: s.add_clause((1r,1r,1r,1r,-1r))\nsage: s.solve()\n(True, (None, False))\n```\n\n\nwhich is great! Should I `sage -f -c cryptominisat` now?",
    "created_at": "2017-05-24T21:42:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315056",
    "user": "slabbe"
}
```

I did:

```
rm local/lib/python2.7/site-packages/pycryptosat.so
sage -f cryptominisat
```


I get:

```
$ otool -L local/lib/python2.7/site-packages/pycryptosat.so
local/lib/python2.7/site-packages/pycryptosat.so:
	build/lib.macosx-10.9-x86_64-2.7/pycryptosat.so (compatibility version 0.0.0, current version 0.0.0)
	/Users/slabbe/Applications/sage-git/local/lib/libcryptominisat5.5.0.dylib (compatibility version 5.0.0, current version 5.0.0)
	/Users/slabbe/Applications/sage-git/local/lib/libpython2.7.dylib (compatibility version 2.7.0, current version 2.7.0)
	/System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation (compatibility version 150.0.0, current version 1152.0.0)
	/Users/slabbe/Applications/sage-git/local/lib/libstdc++.6.dylib (compatibility version 7.0.0, current version 7.20.0)
	/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1213.0.0)
	/Users/slabbe/Applications/sage-git/local/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current version 1.0.0)
```


and now:


```
sage: import pycryptosat
sage: from pycryptosat import Solver
sage: s = Solver()
sage: s.add_clause((1r,1r,1r,1r,-1r))
sage: s.solve()
(True, (None, False))
```


which is great! Should I `sage -f -c cryptominisat` now?



---

archive/issue_comments_315057.json:
```json
{
    "body": "Replying to [comment:48 slabbe]:\n> I did:\n> {{{\n> rm local/lib/python2.7/site-packages/pycryptosat.so\n> sage -f cryptominisat\n> }}}\n> \n> and now:\n> \n> {{{\n> sage: import pycryptosat\n> sage: from pycryptosat import Solver\n> sage: s = Solver()\n> sage: s.add_clause((1r,1r,1r,1r,-1r))\n> sage: s.solve()\n> (True, (None, False))\n> }}}\n> \n\nLooks good. I am not sure why the old one stuck around. It must have tricked cmake in being up to date.\n\n> Should I `sage -f -c cryptominisat` now?\n\n????",
    "created_at": "2017-05-24T21:46:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315057",
    "user": "fbissey"
}
```

Replying to [comment:48 slabbe]:
> I did:
> {{{
> rm local/lib/python2.7/site-packages/pycryptosat.so
> sage -f cryptominisat
> }}}
> 
> and now:
> 
> {{{
> sage: import pycryptosat
> sage: from pycryptosat import Solver
> sage: s = Solver()
> sage: s.add_clause((1r,1r,1r,1r,-1r))
> sage: s.solve()
> (True, (None, False))
> }}}
> 

Looks good. I am not sure why the old one stuck around. It must have tricked cmake in being up to date.

> Should I `sage -f -c cryptominisat` now?

????



---

archive/issue_comments_315058.json:
```json
{
    "body": "> > Should I `sage -f -c cryptominisat` now?\n> \n> ????\n\nIndeed, I was confusing with #22999.\n\nShould #22999 be a dependency of #22818, since it is now necessary for some versions of osx?",
    "created_at": "2017-05-24T21:49:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315058",
    "user": "slabbe"
}
```

> > Should I `sage -f -c cryptominisat` now?
> 
> ????

Indeed, I was confusing with #22999.

Should #22999 be a dependency of #22818, since it is now necessary for some versions of osx?



---

archive/issue_comments_315059.json:
```json
{
    "body": "It could be a dependency of #218017, which is about building cryptominisat 5. Also, if everything builds fine on supported archs, we could move `crymtominisat` from experimental to optional (in particular this avoids the need to modify its `type` by hand when running doctests).\n\nRegarding `sage -f -c cryptominisat`, there is no self-tests yet, so it will make no difference with `sage -f cryptominisat` (though it is always a good idea when reviewing a packaging ticket).",
    "created_at": "2017-05-25T08:15:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315059",
    "user": "tmonteil"
}
```

It could be a dependency of #218017, which is about building cryptominisat 5. Also, if everything builds fine on supported archs, we could move `crymtominisat` from experimental to optional (in particular this avoids the need to modify its `type` by hand when running doctests).

Regarding `sage -f -c cryptominisat`, there is no self-tests yet, so it will make no difference with `sage -f cryptominisat` (though it is always a good idea when reviewing a packaging ticket).



---

archive/issue_comments_315060.json:
```json
{
    "body": "That said, i would really like to have cryptominisat 5 entering Sage 8.0, since i rely on sat solvers for some tutorials, where some people run the 32bit Sage Debian Live USB.",
    "created_at": "2017-05-25T09:04:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315060",
    "user": "tmonteil"
}
```

That said, i would really like to have cryptominisat 5 entering Sage 8.0, since i rely on sat solvers for some tutorials, where some people run the 32bit Sage Debian Live USB.



---

archive/issue_comments_315061.json:
```json
{
    "body": "On osx 10.10 with 8.0.beta7 + #22999 + #22818 + this change:\n\n```diff\ndiff --git a/build/pkgs/cryptominisat/type b/build/pkgs/cryptominisat/type\nindex 9839eb2..134d9bc 100644\n--- a/build/pkgs/cryptominisat/type\n+++ b/build/pkgs/cryptominisat/type\n@@ -1 +1 @@\n-experimental\n+optional\n```\n\n\nthe command:\n\n\n```\nsage -t --long src/sage/sat/solvers/cryptominisat.py src/sage/sat/boolean_polynomials.py src/sage/sat/converters/polybori.py src/sage/sat/solvers/satsolver.pyx src/sage/rings/polynomial/multi_polynomial_sequence.py\n```\n\n\ngives\n\n\n```\nUsing --optional=4ti2,atlas,cbc,ccache,cryptominisat,latte_int,lidia,lrslib,mpir,pandoc_attributes,pandocfilters,python2,rst2ipynb,sage\nDoctesting 5 files.\nsage -t --long src/sage/sat/solvers/cryptominisat.py\n    [49 tests, 1.16 s]\nsage -t --long src/sage/sat/boolean_polynomials.py\n    [27 tests, 1.98 s]\nsage -t --long src/sage/sat/converters/polybori.py\n    [121 tests, 1.21 s]\nsage -t --long src/sage/sat/solvers/satsolver.pyx\n    [42 tests, 1.20 s]\nsage -t --long src/sage/rings/polynomial/multi_polynomial_sequence.py\n    [237 tests, 11.70 s]\n----------------------------------------------------------------------\nAll tests passed!\n----------------------------------------------------------------------\n```\n",
    "created_at": "2017-05-25T21:36:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315061",
    "user": "slabbe"
}
```

On osx 10.10 with 8.0.beta7 + #22999 + #22818 + this change:

```diff
diff --git a/build/pkgs/cryptominisat/type b/build/pkgs/cryptominisat/type
index 9839eb2..134d9bc 100644
--- a/build/pkgs/cryptominisat/type
+++ b/build/pkgs/cryptominisat/type
@@ -1 +1 @@
-experimental
+optional
```


the command:


```
sage -t --long src/sage/sat/solvers/cryptominisat.py src/sage/sat/boolean_polynomials.py src/sage/sat/converters/polybori.py src/sage/sat/solvers/satsolver.pyx src/sage/rings/polynomial/multi_polynomial_sequence.py
```


gives


```
Using --optional=4ti2,atlas,cbc,ccache,cryptominisat,latte_int,lidia,lrslib,mpir,pandoc_attributes,pandocfilters,python2,rst2ipynb,sage
Doctesting 5 files.
sage -t --long src/sage/sat/solvers/cryptominisat.py
    [49 tests, 1.16 s]
sage -t --long src/sage/sat/boolean_polynomials.py
    [27 tests, 1.98 s]
sage -t --long src/sage/sat/converters/polybori.py
    [121 tests, 1.21 s]
sage -t --long src/sage/sat/solvers/satsolver.pyx
    [42 tests, 1.20 s]
sage -t --long src/sage/rings/polynomial/multi_polynomial_sequence.py
    [237 tests, 11.70 s]
----------------------------------------------------------------------
All tests passed!
----------------------------------------------------------------------
```




---

archive/issue_comments_315062.json:
```json
{
    "body": "To me this is good to go and I am ok with changing type to optional.\n\nI did not check that documentation builds fine though (overnight my computer will work on #22999 instead).",
    "created_at": "2017-05-25T21:46:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315062",
    "user": "slabbe"
}
```

To me this is good to go and I am ok with changing type to optional.

I did not check that documentation builds fine though (overnight my computer will work on #22999 instead).



---

archive/issue_comments_315063.json:
```json
{
    "body": "I builded the documentation but I can't find cryptominisat doc in the reference manual:\n\n`sage/sat/solvers/cryptominisat` should be listed in `src/doc/en/reference/sat/index.rst` in the following section:\n\n\n```\nDetails on Specific Solvers\n^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n.. toctree::\n   :maxdepth: 1\n\n   sage/sat/solvers/satsolver\n   sage/sat/solvers/dimacs\n   sage/sat/solvers/sat_lp\n.. optional - cryptominisat\n.. sage/sat/solvers/cryptominisat/cryptominisat\n.. sage/sat/solvers/cryptominisat/solverconf\n```\n\n\nIn the same file, is the following paragraph still up to date?\n\n\n```\nFurthermore, Sage provides a C++ interface to the *CryptoMiniSat* [CMS]_\nSAT solver which can be used interchangably with DIMACS-based solvers, but also\nprovides advanced features. For this last solver, the optional CryptoMiniSat\npackage must be installed, this can be accomplished by typing the following in the\nshell::\n\n    sage -i cryptominisat sagelib\n```\n\n\nIn `cryptominisat.py`, it should be ```` instead of `'` :\n\n```\n    - 'confl_limit' -- an integer (default: ``None``). Abort after this many\n      conflicts. If set to ``None``, never aborts.\n```\n\n\nSimilar problem some lines below (I think this one should break the doc building) :\n\n\n```\n    - ``filename'' - ...\n```\n\n\nIn input blocks, `-` should be changed to `--` to adhere to the sage convention (several instances):\n\n```diff\n-        - ``decision`` - accepted for compatibility with other solvers, ignored.\n+        - ``decision`` -- accepted for compatibility with other solvers, ignored.\n```\n\n\nRemove the empty line here:\n\n```\n+            sage: from sage.sat.solvers.cryptominisat import CryptoMiniSat\n+            sage: solver = CryptoMiniSat()                                  # optional - cryptominisat\n+\n+            sage: solver.nvars()                                            # optional - cryptominisat\n+            0\n```\n\n\nFinaly, I would replace the top paragraph:\n\n```diff\n-This solver relies on Python bindings provided by upstream cryptominisat, and\n-replaces the cython interface (written by Martin Albrecht in 2012) that does not\n-work with recent versions of cryptominisat anymore.\n-\n-The ``cryptominisat`` package should be installed on your Sage installation.\n-\n-AUTHORS:\n-\n-- Thierry Monteil (2017): first version\n+This solver relies on Python bindings provided by upstream cryptominisat.\n+\n+The ``cryptominisat`` package should be installed on your Sage installation.\n+\n+AUTHORS:\n+\n+- Thierry Monteil (2017): replaced the cython interface that does not work \n+   with version >=5.0 of cryptominisat anymore.\n+- Martin Albrecht (2012): first version\n```\n\n\nFinally, no dot in the title:\n\n\n```diff\n-CryptoMiniSat Solver.\n+CryptoMiniSat Solver\n```\n",
    "created_at": "2017-05-26T11:36:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315063",
    "user": "slabbe"
}
```

I builded the documentation but I can't find cryptominisat doc in the reference manual:

`sage/sat/solvers/cryptominisat` should be listed in `src/doc/en/reference/sat/index.rst` in the following section:


```
Details on Specific Solvers
^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. toctree::
   :maxdepth: 1

   sage/sat/solvers/satsolver
   sage/sat/solvers/dimacs
   sage/sat/solvers/sat_lp
.. optional - cryptominisat
.. sage/sat/solvers/cryptominisat/cryptominisat
.. sage/sat/solvers/cryptominisat/solverconf
```


In the same file, is the following paragraph still up to date?


```
Furthermore, Sage provides a C++ interface to the *CryptoMiniSat* [CMS]_
SAT solver which can be used interchangably with DIMACS-based solvers, but also
provides advanced features. For this last solver, the optional CryptoMiniSat
package must be installed, this can be accomplished by typing the following in the
shell::

    sage -i cryptominisat sagelib
```


In `cryptominisat.py`, it should be ```` instead of `'` :

```
    - 'confl_limit' -- an integer (default: ``None``). Abort after this many
      conflicts. If set to ``None``, never aborts.
```


Similar problem some lines below (I think this one should break the doc building) :


```
    - ``filename'' - ...
```


In input blocks, `-` should be changed to `--` to adhere to the sage convention (several instances):

```diff
-        - ``decision`` - accepted for compatibility with other solvers, ignored.
+        - ``decision`` -- accepted for compatibility with other solvers, ignored.
```


Remove the empty line here:

```
+            sage: from sage.sat.solvers.cryptominisat import CryptoMiniSat
+            sage: solver = CryptoMiniSat()                                  # optional - cryptominisat
+
+            sage: solver.nvars()                                            # optional - cryptominisat
+            0
```


Finaly, I would replace the top paragraph:

```diff
-This solver relies on Python bindings provided by upstream cryptominisat, and
-replaces the cython interface (written by Martin Albrecht in 2012) that does not
-work with recent versions of cryptominisat anymore.
-
-The ``cryptominisat`` package should be installed on your Sage installation.
-
-AUTHORS:
-
-- Thierry Monteil (2017): first version
+This solver relies on Python bindings provided by upstream cryptominisat.
+
+The ``cryptominisat`` package should be installed on your Sage installation.
+
+AUTHORS:
+
+- Thierry Monteil (2017): replaced the cython interface that does not work 
+   with version >=5.0 of cryptominisat anymore.
+- Martin Albrecht (2012): first version
```


Finally, no dot in the title:


```diff
-CryptoMiniSat Solver.
+CryptoMiniSat Solver
```




---

archive/issue_comments_315064.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-05-26T11:37:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315064",
    "user": "slabbe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_315065.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-06-07T02:25:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315065",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_315066.json:
```json
{
    "body": "Thanks for the hints. I applied them quite blindly since i do not have enough RAM to build de doc anymore.",
    "created_at": "2017-06-07T02:26:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315066",
    "user": "tmonteil"
}
```

Thanks for the hints. I applied them quite blindly since i do not have enough RAM to build de doc anymore.



---

archive/issue_comments_315067.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-06-07T02:26:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315067",
    "user": "tmonteil"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_315068.json:
```json
{
    "body": "Great. I managed to build the documentation without errors. I managed to see the Cryptominisat documentation in the reference manual. Every things is okay. Only one problem with the following paragraph which \n\n- misses a `::` at the end,\n- misses a punctuation before `Note that`\n- misses the end of the last sentence?\n\n\n```\n        Note that in cryptominisat, the DIMACS standard format is augmented with\n        the following extension: having an ``x`` in front of a line makes that\n        line an XOR clause i Note that cryptominisat has its own \n```\n",
    "created_at": "2017-06-10T11:28:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315068",
    "user": "slabbe"
}
```

Great. I managed to build the documentation without errors. I managed to see the Cryptominisat documentation in the reference manual. Every things is okay. Only one problem with the following paragraph which 

- misses a `::` at the end,
- misses a punctuation before `Note that`
- misses the end of the last sentence?


```
        Note that in cryptominisat, the DIMACS standard format is augmented with
        the following extension: having an ``x`` in front of a line makes that
        line an XOR clause i Note that cryptominisat has its own 
```




---

archive/issue_comments_315069.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-06-10T11:28:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315069",
    "user": "slabbe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_315070.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-06-10T14:04:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315070",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_315071.json:
```json
{
    "body": "Sorry, it was an editing noise, the right sentences ends brefore, see https://www.msoos.org/xor-clauses/",
    "created_at": "2017-06-10T14:08:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315071",
    "user": "tmonteil"
}
```

Sorry, it was an editing noise, the right sentences ends brefore, see https://www.msoos.org/xor-clauses/



---

archive/issue_comments_315072.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-06-10T14:08:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315072",
    "user": "tmonteil"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_315073.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-06-10T21:03:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315073",
    "user": "slabbe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_315074.json:
```json
{
    "body": "Thanks for all the review, i am so happy that cryptominisat can now be installed on 32bit machines. BTW, shall we move the package from experimental to optional ?",
    "created_at": "2017-06-10T21:15:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315074",
    "user": "tmonteil"
}
```

Thanks for all the review, i am so happy that cryptominisat can now be installed on 32bit machines. BTW, shall we move the package from experimental to optional ?



---

archive/issue_comments_315075.json:
```json
{
    "body": "I think yes. Maybe in another ticket.",
    "created_at": "2017-06-11T20:52:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315075",
    "user": "slabbe"
}
```

I think yes. Maybe in another ticket.



---

archive/issue_comments_315076.json:
```json
{
    "body": "Replying to [comment:65 slabbe]:\n> I think yes. Maybe in another ticket.\n\nOK, let us not miss the 8.0 with a new round for that.",
    "created_at": "2017-06-11T21:01:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315076",
    "user": "tmonteil"
}
```

Replying to [comment:65 slabbe]:
> I think yes. Maybe in another ticket.

OK, let us not miss the 8.0 with a new round for that.



---

archive/issue_comments_315077.json:
```json
{
    "body": "This is now #23219.",
    "created_at": "2017-06-11T21:18:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315077",
    "user": "tmonteil"
}
```

This is now #23219.



---

archive/issue_comments_315078.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-06-13T06:51:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315078",
    "user": "vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_315079.json:
```json
{
    "body": "See #23351 for a follow up ticket.",
    "created_at": "2017-07-02T08:40:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315079",
    "user": "slabbe"
}
```

See #23351 for a follow up ticket.



---

archive/issue_comments_315080.json:
```json
{
    "body": "Changing keywords from \"days86, thursdaysbdx\" to \"days86, thursdaysbdx, sdl\".",
    "created_at": "2019-08-27T19:45:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22581#issuecomment-315080",
    "user": "tmonteil"
}
```

Changing keywords from "days86, thursdaysbdx" to "days86, thursdaysbdx, sdl".
