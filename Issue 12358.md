# Issue 12358: Improve the sage-combinat script to support guards for developpers versions

archive/issues_012358.json:
```json
{
    "body": "Assignee: @nexttime\n\nCC:  sage-combinat\n\nThe attached patch improves the sage-combinat script to support guards for developpers versions. It also makes sure to switch to the sage-combinat directory before doing any call to mercurial.\n\nNote: starting from sage 5.0.beta4, the guards used in the sage-combinat queue assume that this updated sage-combinat script is used.\n\nTo be applied in <SAGE_ROOT>/local/bin: \n\nIssue created by migration from https://trac.sagemath.org/ticket/12530\n\n",
    "created_at": "2012-02-17T15:49:04Z",
    "labels": [
        "component: scripts"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.0",
    "title": "Improve the sage-combinat script to support guards for developpers versions",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12358",
    "user": "https://github.com/nthiery"
}
```
Assignee: @nexttime

CC:  sage-combinat

The attached patch improves the sage-combinat script to support guards for developpers versions. It also makes sure to switch to the sage-combinat directory before doing any call to mercurial.

Note: starting from sage 5.0.beta4, the guards used in the sage-combinat queue assume that this updated sage-combinat script is used.

To be applied in <SAGE_ROOT>/local/bin: 

Issue created by migration from https://trac.sagemath.org/ticket/12530





---

archive/issue_comments_145352.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-02-17T15:55:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12358#issuecomment-145352",
    "user": "https://github.com/nthiery"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_145353.json:
```json
{
    "body": "Your `version_regexp` won't match strings like \"Sage Version 5.0\" (no alpha, beta, or rc). Is that an issue?",
    "created_at": "2012-02-17T18:10:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12358#issuecomment-145353",
    "user": "https://github.com/jhpalmieri"
}
```

Your `version_regexp` won't match strings like "Sage Version 5.0" (no alpha, beta, or rc). Is that an issue?



---

archive/issue_comments_145354.json:
```json
{
    "body": "Replying to [comment:2 jhpalmieri]:\n> Your `version_regexp` won't match strings like \"Sage Version 5.0\" (no alpha, beta, or rc). Is that an issue?\n\nGood catch; I forgot to copy paste the latest version of the regexp in the code. Fixed in the new patch. Thanks!",
    "created_at": "2012-02-17T18:30:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12358#issuecomment-145354",
    "user": "https://github.com/nthiery"
}
```

Replying to [comment:2 jhpalmieri]:
> Your `version_regexp` won't match strings like "Sage Version 5.0" (no alpha, beta, or rc). Is that an issue?

Good catch; I forgot to copy paste the latest version of the regexp in the code. Fixed in the new patch. Thanks!



---

archive/issue_comments_145355.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-02-18T15:48:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12358#issuecomment-145355",
    "user": "https://github.com/hivert"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_145356.json:
```json
{
    "body": "Hi Nicolas,\n\nI tried this patch after installing a `sage_5.0.beta4` and if broke with\nthe following error message. I'm investigating::\n\n```\n[...]\nSkip backward compatibility patches for sage 4.3.3\nTraceback (most recent call last):\n  File \"/home/data/Sage-Install/sage-5.0.beta4/local/bin/sage-combinat\", line 402, in <module>\n    qselect_backward_compatibility_patches()\n  File \"/home/data/Sage-Install/sage-5.0.beta4/local/bin/sage-combinat\", line 303, in qselect_backward_compatibility_patches\n    hg_all_guards()))\n  File \"/home/data/Sage-Install/sage-5.0.beta4/local/bin/sage-combinat\", line 294, in is_newversion_guard\n    if cmp_sage_versions(guard, sage_version) > 0:\n  File \"/home/data/Sage-Install/sage-5.0.beta4/local/bin/sage-combinat\", line 200, in cmp_sage_versions\n    return cmp(encode_sage_version_for_comparison(version1), encode_sage_version_for_comparison(version2))\n  File \"/home/data/Sage-Install/sage-5.0.beta4/local/bin/sage-combinat\", line 174, in encode_sage_version_for_comparison\n    return [int(s) for s in re.split(\"\\.|_\", version)]+[0]\nValueError: invalid literal for int() with base 10: '3:'\npopcorn-*e/sage-5.0.beta4 $ cd local/bin  \n```\n\nAdding a print:\n\n```\ndiff --git a/sage-combinat b/sage-combinat\n--- a/sage-combinat\n+++ b/sage-combinat\n@@ -168,6 +168,7 @@ def encode_sage_version_for_comparison(v\n         sage: e(\"4.7.2.beta10\") < e(\"4.7.2.rc0\")\n         True\n     \"\"\"\n+    print \"DEBUG:::: %s\"%version\n     version = version.replace(\"alpha\", \"-3.\")\n     version = version.replace(\"beta\", \"-2.\")\n     version = version.replace(\"rc\", \"-1.\")\n```\n\nShows\n\n```\nSkip backward compatibility patches for sage 4.3.2\nDEBUG:::: 4_3_3\nDEBUG:::: 5.0.beta4\nSkip backward compatibility patches for sage 4.3.3\nDEBUG:::: 4_3_3:\nTraceback (most recent call last):\n[...]\nValueError: invalid literal for int() with base 10: '3:'\n```\n\nThe problem is in the queue: the following guard is invalid\n\n```\ntrac_6520_weakref-cached-function-dr.patch    #+4_3_3: needs rebase\n```\n\nI think we should throw an error in this case. What do you think ?",
    "created_at": "2012-02-18T15:48:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12358#issuecomment-145356",
    "user": "https://github.com/hivert"
}
```

Hi Nicolas,

I tried this patch after installing a `sage_5.0.beta4` and if broke with
the following error message. I'm investigating::

```
[...]
Skip backward compatibility patches for sage 4.3.3
Traceback (most recent call last):
  File "/home/data/Sage-Install/sage-5.0.beta4/local/bin/sage-combinat", line 402, in <module>
    qselect_backward_compatibility_patches()
  File "/home/data/Sage-Install/sage-5.0.beta4/local/bin/sage-combinat", line 303, in qselect_backward_compatibility_patches
    hg_all_guards()))
  File "/home/data/Sage-Install/sage-5.0.beta4/local/bin/sage-combinat", line 294, in is_newversion_guard
    if cmp_sage_versions(guard, sage_version) > 0:
  File "/home/data/Sage-Install/sage-5.0.beta4/local/bin/sage-combinat", line 200, in cmp_sage_versions
    return cmp(encode_sage_version_for_comparison(version1), encode_sage_version_for_comparison(version2))
  File "/home/data/Sage-Install/sage-5.0.beta4/local/bin/sage-combinat", line 174, in encode_sage_version_for_comparison
    return [int(s) for s in re.split("\.|_", version)]+[0]
ValueError: invalid literal for int() with base 10: '3:'
popcorn-*e/sage-5.0.beta4 $ cd local/bin  
```

Adding a print:

```
diff --git a/sage-combinat b/sage-combinat
--- a/sage-combinat
+++ b/sage-combinat
@@ -168,6 +168,7 @@ def encode_sage_version_for_comparison(v
         sage: e("4.7.2.beta10") < e("4.7.2.rc0")
         True
     """
+    print "DEBUG:::: %s"%version
     version = version.replace("alpha", "-3.")
     version = version.replace("beta", "-2.")
     version = version.replace("rc", "-1.")
```

Shows

```
Skip backward compatibility patches for sage 4.3.2
DEBUG:::: 4_3_3
DEBUG:::: 5.0.beta4
Skip backward compatibility patches for sage 4.3.3
DEBUG:::: 4_3_3:
Traceback (most recent call last):
[...]
ValueError: invalid literal for int() with base 10: '3:'
```

The problem is in the queue: the following guard is invalid

```
trac_6520_weakref-cached-function-dr.patch    #+4_3_3: needs rebase
```

I think we should throw an error in this case. What do you think ?



---

archive/issue_comments_145357.json:
```json
{
    "body": "How adding the following diff to the script ?\n\n```diff\ndiff --git a/sage-combinat b/sage-combinat\n--- a/sage-combinat\n+++ b/sage-combinat\n@@ -171,7 +171,10 @@ def encode_sage_version_for_comparison(v\n     version = version.replace(\"alpha\", \"-3.\")\n     version = version.replace(\"beta\", \"-2.\")\n     version = version.replace(\"rc\", \"-1.\")\n-    return [int(s) for s in re.split(\"\\.|_\", version)]+[0]\n+    try:\n+        res = [int(s) for s in re.split(\"\\.|_\", version)]+[0]\n+    except ValueError:\n+        error(\"Invalid guard in the mercurial queue: %s\"%version)\n \n def cmp_sage_versions(version1, version2):\n     \"\"\"\n```\n",
    "created_at": "2012-02-18T15:53:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12358#issuecomment-145357",
    "user": "https://github.com/hivert"
}
```

How adding the following diff to the script ?

```diff
diff --git a/sage-combinat b/sage-combinat
--- a/sage-combinat
+++ b/sage-combinat
@@ -171,7 +171,10 @@ def encode_sage_version_for_comparison(v
     version = version.replace("alpha", "-3.")
     version = version.replace("beta", "-2.")
     version = version.replace("rc", "-1.")
-    return [int(s) for s in re.split("\.|_", version)]+[0]
+    try:
+        res = [int(s) for s in re.split("\.|_", version)]+[0]
+    except ValueError:
+        error("Invalid guard in the mercurial queue: %s"%version)
 
 def cmp_sage_versions(version1, version2):
     """
```




---

archive/issue_comments_145358.json:
```json
{
    "body": "Oops, the guard should not have matched the regexp in the first place; I had forgotten the \"$\" at the end of it for an exact match. The updated patch still complains as you suggest, since this is likely to be a typicall typo.\n\nI used the occasion to run pyflakes and clean up the imports.",
    "created_at": "2012-02-19T11:01:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12358#issuecomment-145358",
    "user": "https://github.com/nthiery"
}
```

Oops, the guard should not have matched the regexp in the first place; I had forgotten the "$" at the end of it for an exact match. The updated patch still complains as you suggest, since this is likely to be a typicall typo.

I used the occasion to run pyflakes and clean up the imports.



---

archive/issue_comments_145359.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-02-19T11:01:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12358#issuecomment-145359",
    "user": "https://github.com/nthiery"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_145360.json:
```json
{
    "body": "Replying to [comment:6 nthiery]:\n> Oops, the guard should not have matched the regexp in the first place; I had forgotten the \"$\" at the end of it for an exact match. The updated patch still complains as you suggest, since this is likely to be a typicall typo.\n\nShould this be a warning or an error ? I think I'd rather have an error than a warning. The reason is that the warning is issued in the middle of a lot of info message and is likely to go unnoticed. Why do you prefer warning ?",
    "created_at": "2012-02-19T11:28:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12358#issuecomment-145360",
    "user": "https://github.com/hivert"
}
```

Replying to [comment:6 nthiery]:
> Oops, the guard should not have matched the regexp in the first place; I had forgotten the "$" at the end of it for an exact match. The updated patch still complains as you suggest, since this is likely to be a typicall typo.

Should this be a warning or an error ? I think I'd rather have an error than a warning. The reason is that the warning is issued in the middle of a lot of info message and is likely to go unnoticed. Why do you prefer warning ?



---

archive/issue_comments_145361.json:
```json
{
    "body": "Hi Nicolas,\n\nI'm sorry to report that your patch is failing again: it seems to have worked for me on a already installed sage-combinat for a `sage.5.0.beta4`. To check I removed the `sage-combinat` directory and now: \n\n```\nSkip backward compatibility patches for sage 4.8.alpha0\nKeep backward compatibility patches for sage 5.0\nKeep backward compatibility patches for sage 5.0\nSkip backward compatibility patches for sage 5.0.beta0\nSkip backward compatibility patches for sage 5.0.beta2\nSkip backward compatibility patches for sage 5.0.beta4\n```\n",
    "created_at": "2012-02-19T16:57:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12358#issuecomment-145361",
    "user": "https://github.com/hivert"
}
```

Hi Nicolas,

I'm sorry to report that your patch is failing again: it seems to have worked for me on a already installed sage-combinat for a `sage.5.0.beta4`. To check I removed the `sage-combinat` directory and now: 

```
Skip backward compatibility patches for sage 4.8.alpha0
Keep backward compatibility patches for sage 5.0
Keep backward compatibility patches for sage 5.0
Skip backward compatibility patches for sage 5.0.beta0
Skip backward compatibility patches for sage 5.0.beta2
Skip backward compatibility patches for sage 5.0.beta4
```




---

archive/issue_comments_145362.json:
```json
{
    "body": "Replying to [comment:8 hivert]:\n> I'm sorry to report that your patch is failing again: it seems to have worked for me on a already installed sage-combinat for a `sage.5.0.beta4`. To check I removed the `sage-combinat` directory and now: \n> {{{\n> Skip backward compatibility patches for sage 4.8.alpha0\n> Keep backward compatibility patches for sage 5.0\n> Keep backward compatibility patches for sage 5.0\n> Skip backward compatibility patches for sage 5.0.beta0\n> Skip backward compatibility patches for sage 5.0.beta2\n> Skip backward compatibility patches for sage 5.0.beta4\n> }}}\n\nIt's actually the queue that is wrong :-) The release of 5.0 comes after that of 5.0.beta4, so it's normal to apply a patch marked 5.0 on sage 5.0.beta4. I'll go check the queue now.",
    "created_at": "2012-02-19T21:38:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12358#issuecomment-145362",
    "user": "https://github.com/nthiery"
}
```

Replying to [comment:8 hivert]:
> I'm sorry to report that your patch is failing again: it seems to have worked for me on a already installed sage-combinat for a `sage.5.0.beta4`. To check I removed the `sage-combinat` directory and now: 
> {{{
> Skip backward compatibility patches for sage 4.8.alpha0
> Keep backward compatibility patches for sage 5.0
> Keep backward compatibility patches for sage 5.0
> Skip backward compatibility patches for sage 5.0.beta0
> Skip backward compatibility patches for sage 5.0.beta2
> Skip backward compatibility patches for sage 5.0.beta4
> }}}

It's actually the queue that is wrong :-) The release of 5.0 comes after that of 5.0.beta4, so it's normal to apply a patch marked 5.0 on sage 5.0.beta4. I'll go check the queue now.



---

archive/issue_comments_145363.json:
```json
{
    "body": "Replying to [comment:7 hivert]:\n> Replying to [comment:6 nthiery]:\n> > Oops, the guard should not have matched the regexp in the first place; I had forgotten the \"$\" at the end of it for an exact match. The updated patch still complains as you suggest, since this is likely to be a typicall typo.\n> \n> Should this be a warning or an error ? I think I'd rather have an error than a warning. The reason is that the warning is issued in the middle of a lot of info message and is likely to go unnoticed. Why do you prefer warning ?\n\nI pondered about this too. My rationale was the following: imagine a beginner installs the queue and runs into this issue; if the queue is really screwed up, their will be an error later one anyway. Otherwise, he could be lucky and have the queue apply reasonnably and be able to get to work; so why blocking him.\n\nThat being said, it is indeed buried in the middle of a bunch of info, though quite visible for someone scrolling up.\n\nSo I don't know. Maybe that would be a use case for throwing an error by default, and a warning under -f. What do you think?",
    "created_at": "2012-02-19T21:47:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12358#issuecomment-145363",
    "user": "https://github.com/nthiery"
}
```

Replying to [comment:7 hivert]:
> Replying to [comment:6 nthiery]:
> > Oops, the guard should not have matched the regexp in the first place; I had forgotten the "$" at the end of it for an exact match. The updated patch still complains as you suggest, since this is likely to be a typicall typo.
> 
> Should this be a warning or an error ? I think I'd rather have an error than a warning. The reason is that the warning is issued in the middle of a lot of info message and is likely to go unnoticed. Why do you prefer warning ?

I pondered about this too. My rationale was the following: imagine a beginner installs the queue and runs into this issue; if the queue is really screwed up, their will be an error later one anyway. Otherwise, he could be lucky and have the queue apply reasonnably and be able to get to work; so why blocking him.

That being said, it is indeed buried in the middle of a bunch of info, though quite visible for someone scrolling up.

So I don't know. Maybe that would be a use case for throwing an error by default, and a warning under -f. What do you think?



---

archive/issue_comments_145364.json:
```json
{
    "body": "Attachment [trac_12530-sage_combinat_script-guards-nt.patch](tarball://root/attachments/some-uuid/ticket12530/trac_12530-sage_combinat_script-guards-nt.patch) by @nthiery created at 2012-02-20 14:51:43\n\nHere is the diff to implement throwing an error by default, and a warning under -f::\n\n\n```\n%#diff\ndiff --git a/sage-combinat b/sage-combinat\n--- a/sage-combinat\n+++ b/sage-combinat\n@@ -5,6 +5,7 @@ import re\n from optparse import OptionParser\n from sys import stderr\n from subprocess import Popen, PIPE\n+from warnings import warn\n \n if \"SAGE_ROOT\" in os.environ:\n     sage = os.environ[\"SAGE_ROOT\"]+\"/sage\"\n@@ -294,7 +295,11 @@ def qselect_backward_compatibility_patch\n         if not re.match(version_regexp+\"$\", guard):\n             if  re.match(version_regexp, guard):\n                 # Catch erroneous guards like 4_3_3:\n-                error(\"Invalid version guard in the mercurial queue: %s\"%guard)\n+                message = \"Invalid version guard in the mercurial queue: %s\"%guard\n+                if options.force:\n+                    warn(message)\n+                else:\n+                    error(message)\n             return False\n         if cmp_sage_versions(guard, sage_version) > 0:\n             info(\"Keep backward compatibility patches for sage \"+re.sub(\"_\",\".\",guard))\n```\n",
    "created_at": "2012-02-20T14:51:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12358#issuecomment-145364",
    "user": "https://github.com/nthiery"
}
```

Attachment [trac_12530-sage_combinat_script-guards-nt.patch](tarball://root/attachments/some-uuid/ticket12530/trac_12530-sage_combinat_script-guards-nt.patch) by @nthiery created at 2012-02-20 14:51:43

Here is the diff to implement throwing an error by default, and a warning under -f::


```
%#diff
diff --git a/sage-combinat b/sage-combinat
--- a/sage-combinat
+++ b/sage-combinat
@@ -5,6 +5,7 @@ import re
 from optparse import OptionParser
 from sys import stderr
 from subprocess import Popen, PIPE
+from warnings import warn
 
 if "SAGE_ROOT" in os.environ:
     sage = os.environ["SAGE_ROOT"]+"/sage"
@@ -294,7 +295,11 @@ def qselect_backward_compatibility_patch
         if not re.match(version_regexp+"$", guard):
             if  re.match(version_regexp, guard):
                 # Catch erroneous guards like 4_3_3:
-                error("Invalid version guard in the mercurial queue: %s"%guard)
+                message = "Invalid version guard in the mercurial queue: %s"%guard
+                if options.force:
+                    warn(message)
+                else:
+                    error(message)
             return False
         if cmp_sage_versions(guard, sage_version) > 0:
             info("Keep backward compatibility patches for sage "+re.sub("_",".",guard))
```




---

archive/issue_comments_145365.json:
```json
{
    "body": "The same, nicer looking:\n\n```diff\ndiff --git a/sage-combinat b/sage-combinat\n--- a/sage-combinat\n+++ b/sage-combinat\n@@ -5,6 +5,7 @@ import re\n from optparse import OptionParser\n from sys import stderr\n from subprocess import Popen, PIPE\n+from warnings import warn\n \n if \"SAGE_ROOT\" in os.environ:\n     sage = os.environ[\"SAGE_ROOT\"]+\"/sage\"\n@@ -294,7 +295,11 @@ def qselect_backward_compatibility_patch\n         if not re.match(version_regexp+\"$\", guard):\n             if  re.match(version_regexp, guard):\n                 # Catch erroneous guards like 4_3_3:\n-                error(\"Invalid version guard in the mercurial queue: %s\"%guard)\n+                message = \"Invalid version guard in the mercurial queue: %s\"%guard\n+                if options.force:\n+                    warn(message)\n+                else:\n+                    error(message)\n             return False\n         if cmp_sage_versions(guard, sage_version) > 0:\n             info(\"Keep backward compatibility patches for sage \"+re.sub(\"_\",\".\",guard))\n```\n",
    "created_at": "2012-02-20T14:52:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12358#issuecomment-145365",
    "user": "https://github.com/nthiery"
}
```

The same, nicer looking:

```diff
diff --git a/sage-combinat b/sage-combinat
--- a/sage-combinat
+++ b/sage-combinat
@@ -5,6 +5,7 @@ import re
 from optparse import OptionParser
 from sys import stderr
 from subprocess import Popen, PIPE
+from warnings import warn
 
 if "SAGE_ROOT" in os.environ:
     sage = os.environ["SAGE_ROOT"]+"/sage"
@@ -294,7 +295,11 @@ def qselect_backward_compatibility_patch
         if not re.match(version_regexp+"$", guard):
             if  re.match(version_regexp, guard):
                 # Catch erroneous guards like 4_3_3:
-                error("Invalid version guard in the mercurial queue: %s"%guard)
+                message = "Invalid version guard in the mercurial queue: %s"%guard
+                if options.force:
+                    warn(message)
+                else:
+                    error(message)
             return False
         if cmp_sage_versions(guard, sage_version) > 0:
             info("Keep backward compatibility patches for sage "+re.sub("_",".",guard))
```




---

archive/issue_comments_145366.json:
```json
{
    "body": "Changing priority from major to blocker.",
    "created_at": "2012-02-20T14:56:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12358#issuecomment-145366",
    "user": "https://github.com/hivert"
}
```

Changing priority from major to blocker.



---

archive/issue_comments_145367.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-02-20T14:56:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12358#issuecomment-145367",
    "user": "https://github.com/hivert"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_145368.json:
```json
{
    "body": "The patch is working as expected (at least for me) and is needed for the sage-combinat queue to applied on the various 5.0 sage. Therefore I put a positive review and set it as a blocker.\n\nFlorent",
    "created_at": "2012-02-20T14:56:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12358#issuecomment-145368",
    "user": "https://github.com/hivert"
}
```

The patch is working as expected (at least for me) and is needed for the sage-combinat queue to applied on the various 5.0 sage. Therefore I put a positive review and set it as a blocker.

Florent



---

archive/issue_events_012354.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-22T10:48:20Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/12358",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12358#event-12354"
}
```



---

archive/issue_comments_145369.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2012-02-22T10:48:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12358#issuecomment-145369",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed
