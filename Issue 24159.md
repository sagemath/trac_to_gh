# Issue 24159: test failure in manifolds/differentiable/tensorfield.py (8.2.beta0)

archive/issues_024159.json:
```json
{
    "body": "CC:  @egourgoulhon\n\nOn Ubuntu with no optional package and 8.2.beta0 compiled from source\n\n```\nsage -t manifolds/differentiable/tensorfield.py\n**********************************************************************\nFile \"manifolds/differentiable/tensorfield.py\", line 295, in sage.manifolds.differentiable.tensorfield.TensorField\nFailed example:\n    t[eV,1,1,c_uv].expr()\nException raised:\n    Traceback (most recent call last):\n      File \"/home/vdelecro/sage_patchbot/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 517, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/vdelecro/sage_patchbot/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 920, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.manifolds.differentiable.tensorfield.TensorField[36]>\", line 1, in <module>\n        t[eV,Integer(1),Integer(1),c_uv].expr()\n      File \"/home/vdelecro/sage_patchbot/local/lib/python2.7/site-packages/sage/manifolds/differentiable/tensorfield.py\", line 1472, in __getitem__\n        return self.comp(frame)[args]\n      File \"/home/vdelecro/sage_patchbot/local/lib/python2.7/site-packages/sage/manifolds/differentiable/tensorfield.py\", line 1235, in comp\n        return rst.comp(basis=basis, from_basis=from_basis)\n      File \"/home/vdelecro/sage_patchbot/local/lib/python2.7/site-packages/sage/manifolds/differentiable/tensorfield_paral.py\", line 921, in comp\n        from_basis=from_basis)\n      File \"/home/vdelecro/sage_patchbot/local/lib/python2.7/site-packages/sage/tensor/modules/free_module_tensor.py\", line 1076, in components\n        \"the components in the {}\".format(basis))\n    ValueError: no basis could be found for computing the components in the Coordinate frame (V, (d/du,d/dv))\n**********************************************************************\nFile \"manifolds/differentiable/tensorfield.py\", line 298, in sage.manifolds.differentiable.tensorfield.TensorField\nFailed example:\n    type(t[eV,1,1,c_uv].expr())\nException raised:\n    Traceback (most recent call last):\n      File \"/home/vdelecro/sage_patchbot/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 517, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/vdelecro/sage_patchbot/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 920, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.manifolds.differentiable.tensorfield.TensorField[37]>\", line 1, in <module>\n        type(t[eV,Integer(1),Integer(1),c_uv].expr())\n      File \"/home/vdelecro/sage_patchbot/local/lib/python2.7/site-packages/sage/manifolds/differentiable/tensorfield.py\", line 1472, in __getitem__\n        return self.comp(frame)[args]\n      File \"/home/vdelecro/sage_patchbot/local/lib/python2.7/site-packages/sage/manifolds/differentiable/tensorfield.py\", line 1235, in comp\n        return rst.comp(basis=basis, from_basis=from_basis)\n      File \"/home/vdelecro/sage_patchbot/local/lib/python2.7/site-packages/sage/manifolds/differentiable/tensorfield_paral.py\", line 921, in comp\n        from_basis=from_basis)\n      File \"/home/vdelecro/sage_patchbot/local/lib/python2.7/site-packages/sage/tensor/modules/free_module_tensor.py\", line 1076, in components\n        \"the components in the {}\".format(basis))\n    ValueError: no basis could be found for computing the components in the Coordinate frame (V, (d/du,d/dv))\n**********************************************************************\nFile \"manifolds/differentiable/tensorfield.py\", line 318, in sage.manifolds.differentiable.tensorfield.TensorField\nFailed example:\n    f = t(a,b)\nException raised:\n    Traceback (most recent call last):\n      File \"/home/vdelecro/sage_patchbot/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 517, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/vdelecro/sage_patchbot/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 920, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.manifolds.differentiable.tensorfield.TensorField[46]>\", line 1, in <module>\n        f = t(a,b)\n      File \"/home/vdelecro/sage_patchbot/local/lib/python2.7/site-packages/sage/manifolds/differentiable/tensorfield.py\", line 2348, in __call__\n        resu_rr = self_rr(*args_rr)\n      File \"/home/vdelecro/sage_patchbot/local/lib/python2.7/site-packages/sage/manifolds/differentiable/tensorfield_paral.py\", line 1461, in __call__\n        return FreeModuleTensor.__call__(self_r, *args_r)\n      File \"/home/vdelecro/sage_patchbot/local/lib/python2.7/site-packages/sage/tensor/modules/free_module_tensor.py\", line 2130, in __call__\n        raise ValueError(\"no common basis for the components\")\n    ValueError: no common basis for the components\nKilling test manifolds/differentiable/tensorfield.py\n----------------------------------------------------------------------\nDoctests interrupted: 0/1 files tested\n----------------------------------------------------------------------\nTotal time for all tests: 26.5 seconds\n    cpu time: 0.0 seconds\n    cumulative wall time: 0.0 seconds\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/24396\n\n",
    "created_at": "2017-12-16T21:43:48Z",
    "labels": [
        "component: geometry",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.2",
    "title": "test failure in manifolds/differentiable/tensorfield.py (8.2.beta0)",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/24159",
    "user": "https://github.com/videlec"
}
```
CC:  @egourgoulhon

On Ubuntu with no optional package and 8.2.beta0 compiled from source

```
sage -t manifolds/differentiable/tensorfield.py
**********************************************************************
File "manifolds/differentiable/tensorfield.py", line 295, in sage.manifolds.differentiable.tensorfield.TensorField
Failed example:
    t[eV,1,1,c_uv].expr()
Exception raised:
    Traceback (most recent call last):
      File "/home/vdelecro/sage_patchbot/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 517, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/vdelecro/sage_patchbot/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 920, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.manifolds.differentiable.tensorfield.TensorField[36]>", line 1, in <module>
        t[eV,Integer(1),Integer(1),c_uv].expr()
      File "/home/vdelecro/sage_patchbot/local/lib/python2.7/site-packages/sage/manifolds/differentiable/tensorfield.py", line 1472, in __getitem__
        return self.comp(frame)[args]
      File "/home/vdelecro/sage_patchbot/local/lib/python2.7/site-packages/sage/manifolds/differentiable/tensorfield.py", line 1235, in comp
        return rst.comp(basis=basis, from_basis=from_basis)
      File "/home/vdelecro/sage_patchbot/local/lib/python2.7/site-packages/sage/manifolds/differentiable/tensorfield_paral.py", line 921, in comp
        from_basis=from_basis)
      File "/home/vdelecro/sage_patchbot/local/lib/python2.7/site-packages/sage/tensor/modules/free_module_tensor.py", line 1076, in components
        "the components in the {}".format(basis))
    ValueError: no basis could be found for computing the components in the Coordinate frame (V, (d/du,d/dv))
**********************************************************************
File "manifolds/differentiable/tensorfield.py", line 298, in sage.manifolds.differentiable.tensorfield.TensorField
Failed example:
    type(t[eV,1,1,c_uv].expr())
Exception raised:
    Traceback (most recent call last):
      File "/home/vdelecro/sage_patchbot/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 517, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/vdelecro/sage_patchbot/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 920, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.manifolds.differentiable.tensorfield.TensorField[37]>", line 1, in <module>
        type(t[eV,Integer(1),Integer(1),c_uv].expr())
      File "/home/vdelecro/sage_patchbot/local/lib/python2.7/site-packages/sage/manifolds/differentiable/tensorfield.py", line 1472, in __getitem__
        return self.comp(frame)[args]
      File "/home/vdelecro/sage_patchbot/local/lib/python2.7/site-packages/sage/manifolds/differentiable/tensorfield.py", line 1235, in comp
        return rst.comp(basis=basis, from_basis=from_basis)
      File "/home/vdelecro/sage_patchbot/local/lib/python2.7/site-packages/sage/manifolds/differentiable/tensorfield_paral.py", line 921, in comp
        from_basis=from_basis)
      File "/home/vdelecro/sage_patchbot/local/lib/python2.7/site-packages/sage/tensor/modules/free_module_tensor.py", line 1076, in components
        "the components in the {}".format(basis))
    ValueError: no basis could be found for computing the components in the Coordinate frame (V, (d/du,d/dv))
**********************************************************************
File "manifolds/differentiable/tensorfield.py", line 318, in sage.manifolds.differentiable.tensorfield.TensorField
Failed example:
    f = t(a,b)
Exception raised:
    Traceback (most recent call last):
      File "/home/vdelecro/sage_patchbot/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 517, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/vdelecro/sage_patchbot/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 920, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.manifolds.differentiable.tensorfield.TensorField[46]>", line 1, in <module>
        f = t(a,b)
      File "/home/vdelecro/sage_patchbot/local/lib/python2.7/site-packages/sage/manifolds/differentiable/tensorfield.py", line 2348, in __call__
        resu_rr = self_rr(*args_rr)
      File "/home/vdelecro/sage_patchbot/local/lib/python2.7/site-packages/sage/manifolds/differentiable/tensorfield_paral.py", line 1461, in __call__
        return FreeModuleTensor.__call__(self_r, *args_r)
      File "/home/vdelecro/sage_patchbot/local/lib/python2.7/site-packages/sage/tensor/modules/free_module_tensor.py", line 2130, in __call__
        raise ValueError("no common basis for the components")
    ValueError: no common basis for the components
Killing test manifolds/differentiable/tensorfield.py
----------------------------------------------------------------------
Doctests interrupted: 0/1 files tested
----------------------------------------------------------------------
Total time for all tests: 26.5 seconds
    cpu time: 0.0 seconds
    cumulative wall time: 0.0 seconds
```


Issue created by migration from https://trac.sagemath.org/ticket/24396





---

archive/issue_comments_338179.json:
```json
{
    "body": "Changing priority from major to blocker.",
    "created_at": "2017-12-16T23:09:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24159#issuecomment-338179",
    "user": "https://github.com/videlec"
}
```

Changing priority from major to blocker.



---

archive/issue_comments_338180.json:
```json
{
    "body": "Changing component from geometry to documentation.",
    "created_at": "2017-12-16T23:09:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24159#issuecomment-338180",
    "user": "https://github.com/videlec"
}
```

Changing component from geometry to documentation.



---

archive/issue_comments_338181.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-12-16T23:13:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24159#issuecomment-338181",
    "user": "https://github.com/videlec"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_338182.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-12-16T23:13:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24159#issuecomment-338182",
    "user": "https://github.com/videlec"
}
```

New commits:



---

archive/issue_comments_338183.json:
```json
{
    "body": "Thank you for the fix!",
    "created_at": "2017-12-19T09:29:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24159#issuecomment-338183",
    "user": "https://github.com/egourgoulhon"
}
```

Thank you for the fix!



---

archive/issue_comments_338184.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-12-19T09:29:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24159#issuecomment-338184",
    "user": "https://github.com/egourgoulhon"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_061667.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-12-22T23:29:46Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/24159",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24159#event-61667"
}
```



---

archive/issue_comments_338185.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-12-22T23:29:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24159#issuecomment-338185",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
