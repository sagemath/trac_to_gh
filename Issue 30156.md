# Issue 30156: eigenvalues and eigenvectors using arb

archive/issues_030156.json:
```json
{
    "body": "The wrappers are marked as experimental because the corresponding arb functions are.\n\nIssue created by migration from https://trac.sagemath.org/ticket/30393\n\n",
    "closed_at": "2020-08-30T08:38:52Z",
    "created_at": "2020-08-19T14:39:13Z",
    "labels": [
        "component: linear algebra"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.2",
    "title": "eigenvalues and eigenvectors using arb",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30156",
    "user": "https://github.com/mezzarobba"
}
```
The wrappers are marked as experimental because the corresponding arb functions are.

Issue created by migration from https://trac.sagemath.org/ticket/30393





---

archive/issue_comments_429156.json:
```json
{
    "body": "New commits:",
    "created_at": "2020-08-19T15:07:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30156#issuecomment-429156",
    "user": "https://github.com/mezzarobba"
}
```

New commits:



---

archive/issue_comments_429157.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-08-19T15:07:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30156#issuecomment-429157",
    "user": "https://github.com/mezzarobba"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_429158.json:
```json
{
    "body": "Note that the signature of that method is changing in #29243. Maybe better to follow that?",
    "created_at": "2020-08-19T15:59:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30156#issuecomment-429158",
    "user": "https://github.com/seblabbe"
}
```

Note that the signature of that method is changing in #29243. Maybe better to follow that?



---

archive/issue_comments_429159.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-08-19T16:11:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30156#issuecomment-429159",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_429160.json:
```json
{
    "body": "Replying to [comment:2 slabbe]:\n> Note that the signature of that method is changing in #29243. Maybe better to follow that?\n\n\nThank you. I'm not setting that ticket as a dependency though, since these methods are experimental anyway.",
    "created_at": "2020-08-19T16:12:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30156#issuecomment-429160",
    "user": "https://github.com/mezzarobba"
}
```

Replying to [comment:2 slabbe]:
> Note that the signature of that method is changing in #29243. Maybe better to follow that?


Thank you. I'm not setting that ticket as a dependency though, since these methods are experimental anyway.



---

archive/issue_comments_429161.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-08-20T07:04:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30156#issuecomment-429161",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_429162.json:
```json
{
    "body": "Few comments:\n\n- `\"unable to certify the eigenvalues of this interval matrix\"`, I would avoid the usage of the word `interval` which reminds of the `CIF` since the matrix belongs rather to the `CBF`.\n- the `other` input should be documented as related to the generalized eigenvalue problem in the input block and/or in the raise `NotImplementedError`.\n\nWhat should happen when the parent is `RealBallField`?\n\n```\nsage: M = matrix(3, [1, 1, 1, 1, 0, 0, 0, 1, 0])                                                       \nsage: MRBF = M.change_ring(RBF)                                                                        \nsage: MRBF.eigenvalues() \nKeyError: '_PolynomialRing_singular_repr__singular'\n...\nDuring handling of the above exception, another exception occurred:\n...\nAttributeError: 'PolynomialRing_field_with_category' object has no attribute '_PolynomialRing_singular_repr__singular'\n...\nDuring handling of the above exception, another exception occurred:\n...\nTypeError: no conversion of this ring to a Singular ring defined\n...\nDuring handling of the above exception, another exception occurred:\n...\nNotImplementedError: \n```\n\nCan this benefits from your current branch?",
    "created_at": "2020-08-20T08:47:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30156#issuecomment-429162",
    "user": "https://github.com/seblabbe"
}
```

Few comments:

- `"unable to certify the eigenvalues of this interval matrix"`, I would avoid the usage of the word `interval` which reminds of the `CIF` since the matrix belongs rather to the `CBF`.
- the `other` input should be documented as related to the generalized eigenvalue problem in the input block and/or in the raise `NotImplementedError`.

What should happen when the parent is `RealBallField`?

```
sage: M = matrix(3, [1, 1, 1, 1, 0, 0, 0, 1, 0])                                                       
sage: MRBF = M.change_ring(RBF)                                                                        
sage: MRBF.eigenvalues() 
KeyError: '_PolynomialRing_singular_repr__singular'
...
During handling of the above exception, another exception occurred:
...
AttributeError: 'PolynomialRing_field_with_category' object has no attribute '_PolynomialRing_singular_repr__singular'
...
During handling of the above exception, another exception occurred:
...
TypeError: no conversion of this ring to a Singular ring defined
...
During handling of the above exception, another exception occurred:
...
NotImplementedError: 
```

Can this benefits from your current branch?



---

archive/issue_comments_429163.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-08-20T11:16:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30156#issuecomment-429163",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_429164.json:
```json
{
    "body": "Replying to [comment:6 slabbe]:\n> Few comments:\n> \n> - `\"unable to certify the eigenvalues of this interval matrix\"`, I would avoid the usage of the word `interval` which reminds of the `CIF` since the matrix belongs rather to the `CBF`.\n> - the `other` input should be documented as related to the generalized eigenvalue problem in the input block and/or in the raise `NotImplementedError`.\n\n\nDone. (Though the second point is bugware. What we need IMHO is for each method's documentation to include or link to that of the methods it overrides, and to change the way we write docstrings to take advantage of that. It doesn't make any sense to repeat the same information over and over with no automatic way of keeping the various places in sync.)\n\n> What should happen when the parent is `RealBallField`?\n\n[...]\n> Can this benefits from your current branch?\n\n\nIn principle yes (and matrices over RR and CC can benefit too), but at the moment we don't even have a dedicated class for matrices over RBF. I think we should keep that for another ticket, and probably wait until the methods are no longer marked experimental.",
    "created_at": "2020-08-20T11:29:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30156#issuecomment-429164",
    "user": "https://github.com/mezzarobba"
}
```

Replying to [comment:6 slabbe]:
> Few comments:
> 
> - `"unable to certify the eigenvalues of this interval matrix"`, I would avoid the usage of the word `interval` which reminds of the `CIF` since the matrix belongs rather to the `CBF`.
> - the `other` input should be documented as related to the generalized eigenvalue problem in the input block and/or in the raise `NotImplementedError`.


Done. (Though the second point is bugware. What we need IMHO is for each method's documentation to include or link to that of the methods it overrides, and to change the way we write docstrings to take advantage of that. It doesn't make any sense to repeat the same information over and over with no automatic way of keeping the various places in sync.)

> What should happen when the parent is `RealBallField`?

[...]
> Can this benefits from your current branch?


In principle yes (and matrices over RR and CC can benefit too), but at the moment we don't even have a dedicated class for matrices over RBF. I think we should keep that for another ticket, and probably wait until the methods are no longer marked experimental.



---

archive/issue_comments_429165.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-08-20T11:31:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30156#issuecomment-429165",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_429166.json:
```json
{
    "body": "Replying to [comment:8 mmezzarobba]:\n> Replying to [comment:6 slabbe]:\n> Done.\n\n\nThanks.\n\n> (Though the second point is bugware. What we need IMHO is for each method's documentation to include or link to that of the methods it overrides, and to change the way we write docstrings to take advantage of that. It doesn't make any sense to repeat the same information over and over with no automatic way of keeping the various places in sync.)\n\n\nI agree with your point (out of sync). But, I do hate the documentation of `G.plot(**kwds)` which does not say which options are available.\n\nThat being said, I think my point in comment 2 was mostly to avoid using the `extend` option as a positional argument like:\n\n```\nsage: M = M.change_ring(CBF)\nsage: M.eigenvalues(True)\n```\nsince it will not be the 1st argument anymore after #29243. If you can force the `extend` to be a keyword argument like `def eigenvalues(self, *, extend=False)`, then for me it is okay, even without the `other` argument. Do you mind to remove the `other` argument? Sorry for my slow convergence on clarifying my point of view.\n\n> I think we should keep that for another ticket, and probably wait until the methods are no longer marked experimental.\n\n\nI agree.",
    "created_at": "2020-08-20T12:36:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30156#issuecomment-429166",
    "user": "https://github.com/seblabbe"
}
```

Replying to [comment:8 mmezzarobba]:
> Replying to [comment:6 slabbe]:
> Done.


Thanks.

> (Though the second point is bugware. What we need IMHO is for each method's documentation to include or link to that of the methods it overrides, and to change the way we write docstrings to take advantage of that. It doesn't make any sense to repeat the same information over and over with no automatic way of keeping the various places in sync.)


I agree with your point (out of sync). But, I do hate the documentation of `G.plot(**kwds)` which does not say which options are available.

That being said, I think my point in comment 2 was mostly to avoid using the `extend` option as a positional argument like:

```
sage: M = M.change_ring(CBF)
sage: M.eigenvalues(True)
```
since it will not be the 1st argument anymore after #29243. If you can force the `extend` to be a keyword argument like `def eigenvalues(self, *, extend=False)`, then for me it is okay, even without the `other` argument. Do you mind to remove the `other` argument? Sorry for my slow convergence on clarifying my point of view.

> I think we should keep that for another ticket, and probably wait until the methods are no longer marked experimental.


I agree.



---

archive/issue_comments_429167.json:
```json
{
    "body": "I get an error while building the documentation:\n\n```\n[dochtml] OSError: docstring of \nsage.matrix.matrix_complex_ball_dense.Matrix_complex_ball_dense.trace:11: \nWARNING: Duplicate explicit target name: \"arb documentation\".\n```\n\nIn fact it seems to be triplicate:\n\n```\n+        See the `Arb documentation <http://arblib.org/acb_mat.html#c.acb_mat_eig_multiple>`_\n+        for more information.\n...\n+        See the `Arb documentation <http://arblib.org/acb_mat.html#c.acb_mat_approx_eig_qr>`_\n+        for more information.\n...\n+        See the `Arb documentation <http://arblib.org/acb_mat.html#c.acb_mat_eig_simple>`_\n+        for more information.\n```",
    "created_at": "2020-08-20T12:41:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30156#issuecomment-429167",
    "user": "https://github.com/seblabbe"
}
```

I get an error while building the documentation:

```
[dochtml] OSError: docstring of 
sage.matrix.matrix_complex_ball_dense.Matrix_complex_ball_dense.trace:11: 
WARNING: Duplicate explicit target name: "arb documentation".
```

In fact it seems to be triplicate:

```
+        See the `Arb documentation <http://arblib.org/acb_mat.html#c.acb_mat_eig_multiple>`_
+        for more information.
...
+        See the `Arb documentation <http://arblib.org/acb_mat.html#c.acb_mat_approx_eig_qr>`_
+        for more information.
...
+        See the `Arb documentation <http://arblib.org/acb_mat.html#c.acb_mat_eig_simple>`_
+        for more information.
```



---

archive/issue_comments_429168.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-08-20T12:46:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30156#issuecomment-429168",
    "user": "https://github.com/seblabbe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_429169.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-08-20T13:50:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30156#issuecomment-429169",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_429170.json:
```json
{
    "body": "Replying to [comment:10 slabbe]:\n> If you can force the `extend` to be a keyword argument like `def eigenvalues(self, *, extend=False)`, then for me it is okay, even without the `other` argument. Do you mind to remove the `other` argument?\n\n\nIt may still be slightly better to have it there, to be compatible with the generic method in case someone explicitly passes a second argument equal to `None`.",
    "created_at": "2020-08-20T13:53:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30156#issuecomment-429170",
    "user": "https://github.com/mezzarobba"
}
```

Replying to [comment:10 slabbe]:
> If you can force the `extend` to be a keyword argument like `def eigenvalues(self, *, extend=False)`, then for me it is okay, even without the `other` argument. Do you mind to remove the `other` argument?


It may still be slightly better to have it there, to be compatible with the generic method in case someone explicitly passes a second argument equal to `None`.



---

archive/issue_comments_429171.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-08-20T13:55:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30156#issuecomment-429171",
    "user": "https://github.com/mezzarobba"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_429172.json:
```json
{
    "body": "Replying to [comment:11 slabbe]:\n> I get an error while building the documentation:\n> \n> ```\n> [dochtml] OSError: docstring of \n> sage.matrix.matrix_complex_ball_dense.Matrix_complex_ball_dense.trace:11: \n> WARNING: Duplicate explicit target name: \"arb documentation\".\n> ```\n\n\nI don't understand what is going on (why should two different inline links necessarily have distinct link texts?!), but let's see if the commit I just pushed solves the issue.",
    "created_at": "2020-08-20T13:55:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30156#issuecomment-429172",
    "user": "https://github.com/mezzarobba"
}
```

Replying to [comment:11 slabbe]:
> I get an error while building the documentation:
> 
> ```
> [dochtml] OSError: docstring of 
> sage.matrix.matrix_complex_ball_dense.Matrix_complex_ball_dense.trace:11: 
> WARNING: Duplicate explicit target name: "arb documentation".
> ```


I don't understand what is going on (why should two different inline links necessarily have distinct link texts?!), but let's see if the commit I just pushed solves the issue.



---

archive/issue_comments_429173.json:
```json
{
    "body": "Can you do the following change (x3) ?\n\n```diff\n-  See the <http://arblib.org/acb_mat.html#c.acb_mat_eig_multiple for\n+  See http://arblib.org/acb_mat.html#c.acb_mat_eig_multiple for\n```",
    "created_at": "2020-08-20T14:35:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30156#issuecomment-429173",
    "user": "https://github.com/seblabbe"
}
```

Can you do the following change (x3) ?

```diff
-  See the <http://arblib.org/acb_mat.html#c.acb_mat_eig_multiple for
+  See http://arblib.org/acb_mat.html#c.acb_mat_eig_multiple for
```



---

archive/issue_comments_429174.json:
```json
{
    "body": "also:\n\n```diff\n- http://arblib.org/acb_mat.html#c.acb_mat_approx_eig_qr_\n+ http://arblib.org/acb_mat.html#c.acb_mat_approx_eig_qr\n```",
    "created_at": "2020-08-20T14:38:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30156#issuecomment-429174",
    "user": "https://github.com/seblabbe"
}
```

also:

```diff
- http://arblib.org/acb_mat.html#c.acb_mat_approx_eig_qr_
+ http://arblib.org/acb_mat.html#c.acb_mat_approx_eig_qr
```



---

archive/issue_comments_429175.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-08-20T14:55:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30156#issuecomment-429175",
    "user": "https://github.com/seblabbe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_429176.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-08-20T19:45:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30156#issuecomment-429176",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_429177.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-08-20T19:46:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30156#issuecomment-429177",
    "user": "https://github.com/mezzarobba"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_429178.json:
```json
{
    "body": "Oops. I went too fast indeed, thanks!\n  \n---\nNew commits:",
    "created_at": "2020-08-20T19:46:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30156#issuecomment-429178",
    "user": "https://github.com/mezzarobba"
}
```

Oops. I went too fast indeed, thanks!
  
---
New commits:



---

archive/issue_comments_429179.json:
```json
{
    "body": "I found the correct fix. In ReStructuredText syntax, one underscore at the end creates a target `arb documentation` which needs to be unique in the page while two underscores doesn't create such a target. See: https://stackoverflow.com/questions/27420317/restructured-text-rst-http-links-underscore-vs-use\n\n```diff\n-See the `Arb documentation <http://arblib.org/acb_mat.html#c.acb_mat_eig_multiple>`_\n-See the `Arb documentation <http://arblib.org/acb_mat.html#c.acb_mat_approx_eig_qr>`_\n-See the `Arb documentation <http://arblib.org/acb_mat.html#c.acb_mat_eig_simple>`_\n+See the `Arb documentation <http://arblib.org/acb_mat.html#c.acb_mat_eig_multiple>`__\n+See the `Arb documentation <http://arblib.org/acb_mat.html#c.acb_mat_approx_eig_qr>`__\n+See the `Arb documentation <http://arblib.org/acb_mat.html#c.acb_mat_eig_simple>`__\n```\n\nDo you want to revert it back to using two underscores?",
    "created_at": "2020-08-21T07:24:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30156#issuecomment-429179",
    "user": "https://github.com/seblabbe"
}
```

I found the correct fix. In ReStructuredText syntax, one underscore at the end creates a target `arb documentation` which needs to be unique in the page while two underscores doesn't create such a target. See: https://stackoverflow.com/questions/27420317/restructured-text-rst-http-links-underscore-vs-use

```diff
-See the `Arb documentation <http://arblib.org/acb_mat.html#c.acb_mat_eig_multiple>`_
-See the `Arb documentation <http://arblib.org/acb_mat.html#c.acb_mat_approx_eig_qr>`_
-See the `Arb documentation <http://arblib.org/acb_mat.html#c.acb_mat_eig_simple>`_
+See the `Arb documentation <http://arblib.org/acb_mat.html#c.acb_mat_eig_multiple>`__
+See the `Arb documentation <http://arblib.org/acb_mat.html#c.acb_mat_approx_eig_qr>`__
+See the `Arb documentation <http://arblib.org/acb_mat.html#c.acb_mat_eig_simple>`__
```

Do you want to revert it back to using two underscores?



---

archive/issue_comments_429180.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-08-26T09:25:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30156#issuecomment-429180",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_429181.json:
```json
{
    "body": "Replying to [comment:22 slabbe]:\n> I found the correct fix.\n\n\nOh, I didn't know about the difference, thank you!\n\n> Do you want to revert it back to using two underscores? \n\n\nDone (but untested; I don't want to rebuild the doc right now).",
    "created_at": "2020-08-26T09:26:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30156#issuecomment-429181",
    "user": "https://github.com/mezzarobba"
}
```

Replying to [comment:22 slabbe]:
> I found the correct fix.


Oh, I didn't know about the difference, thank you!

> Do you want to revert it back to using two underscores? 


Done (but untested; I don't want to rebuild the doc right now).



---

archive/issue_comments_429182.json:
```json
{
    "body": "and I checked that documentation builds ok.",
    "created_at": "2020-08-26T11:20:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30156#issuecomment-429182",
    "user": "https://github.com/seblabbe"
}
```

and I checked that documentation builds ok.



---

archive/issue_comments_429183.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-08-26T11:20:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30156#issuecomment-429183",
    "user": "https://github.com/seblabbe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_429184.json:
```json
{
    "body": "Replying to [comment:24 mmezzarobba]:\n> Replying to [comment:22 slabbe]:\n> > I found the correct fix.\n\n> \n> Oh, I didn't know about the difference, thank you!\n\n\nI created #30444 to add it to the documentation.",
    "created_at": "2020-08-26T12:12:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30156#issuecomment-429184",
    "user": "https://github.com/seblabbe"
}
```

Replying to [comment:24 mmezzarobba]:
> Replying to [comment:22 slabbe]:
> > I found the correct fix.

> 
> Oh, I didn't know about the difference, thank you!


I created #30444 to add it to the documentation.



---

archive/issue_events_078806.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-08-30T08:38:52Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/30156",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30156#event-78806"
}
```



---

archive/issue_comments_429185.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-08-30T08:38:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30156#issuecomment-429185",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_429186.json:
```json
{
    "body": "While following the examples in the documentation in order to prepare something for the release tours, I noticed that the computed right eigenvectors are wrong. They do not satisfy the eigenvector equation. In fact, it seems to be a problem of transposition. The computed vectors are the rows of the eigenmatrix, but the eigenvectors would be the columns.\n\n```\nsage: from sage.matrix.benchmark import hilbert_matrix\nsage: mat = hilbert_matrix(3).change_ring(CBF)\nsage: [v[1][0].column() for v in mat.eigenvectors_right()]\n\u23a1 \u239b [0.827044926972 +/- 1.17e-13] + [+/- 1.08e-13]*I\u239e  \u239b[0.459863904366 +/- 5.79e-13] + [+/- 1.22e-13]*I\u239e\n\u23a2 \u239c[-0.547448430721 +/- 4.33e-13] + [+/- 1.08e-13]*I\u239f  \u239c[0.528290235067 +/- 5.58e-13] + [+/- 1.22e-13]*I\u239f\n\u23a3 \u239d[-0.127659329747 +/- 5.74e-13] + [+/- 1.08e-13]*I\u23a0, \u239d[0.713746885803 +/- 5.34e-13] + [+/- 1.22e-13]*I\u23a0,\n\n \u239b [0.323298435244 +/- 6.18e-13] + [+/- 1.19e-13]*I\u239e \u23a4\n \u239c [0.649006658852 +/- 4.06e-13] + [+/- 1.19e-13]*I\u239f \u23a5\n \u239d[-0.688671531671 +/- 4.92e-13] + [+/- 1.19e-13]*I\u23a0 \u23a6\n\nsage: mat.change_ring(CDF).eigenmatrix_right()[1]\n\u239b  0.8270449269720096  -0.5474484307206746 -0.12765932974653435\u239e\n\u239c 0.45986390436554375   0.5282902350674367    0.713746885803413\u239f\n\u239d 0.32329843524449886   0.6490066588517125  -0.6886715316713734\u23a0\n```",
    "created_at": "2020-09-12T10:26:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30156#issuecomment-429186",
    "user": "https://github.com/mwageringel"
}
```

While following the examples in the documentation in order to prepare something for the release tours, I noticed that the computed right eigenvectors are wrong. They do not satisfy the eigenvector equation. In fact, it seems to be a problem of transposition. The computed vectors are the rows of the eigenmatrix, but the eigenvectors would be the columns.

```
sage: from sage.matrix.benchmark import hilbert_matrix
sage: mat = hilbert_matrix(3).change_ring(CBF)
sage: [v[1][0].column() for v in mat.eigenvectors_right()]
⎡ ⎛ [0.827044926972 +/- 1.17e-13] + [+/- 1.08e-13]*I⎞  ⎛[0.459863904366 +/- 5.79e-13] + [+/- 1.22e-13]*I⎞
⎢ ⎜[-0.547448430721 +/- 4.33e-13] + [+/- 1.08e-13]*I⎟  ⎜[0.528290235067 +/- 5.58e-13] + [+/- 1.22e-13]*I⎟
⎣ ⎝[-0.127659329747 +/- 5.74e-13] + [+/- 1.08e-13]*I⎠, ⎝[0.713746885803 +/- 5.34e-13] + [+/- 1.22e-13]*I⎠,

 ⎛ [0.323298435244 +/- 6.18e-13] + [+/- 1.19e-13]*I⎞ ⎤
 ⎜ [0.649006658852 +/- 4.06e-13] + [+/- 1.19e-13]*I⎟ ⎥
 ⎝[-0.688671531671 +/- 4.92e-13] + [+/- 1.19e-13]*I⎠ ⎦

sage: mat.change_ring(CDF).eigenmatrix_right()[1]
⎛  0.8270449269720096  -0.5474484307206746 -0.12765932974653435⎞
⎜ 0.45986390436554375   0.5282902350674367    0.713746885803413⎟
⎝ 0.32329843524449886   0.6490066588517125  -0.6886715316713734⎠
```



---

archive/issue_comments_429187.json:
```json
{
    "body": "Uh, thanks a lot for catching the issue! I thought I has checked...",
    "created_at": "2020-09-12T11:08:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30156#issuecomment-429187",
    "user": "https://github.com/mezzarobba"
}
```

Uh, thanks a lot for catching the issue! I thought I has checked...



---

archive/issue_comments_429188.json:
```json
{
    "body": "Fixed (I hope) at #30568.",
    "created_at": "2020-09-13T09:38:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30156#issuecomment-429188",
    "user": "https://github.com/mezzarobba"
}
```

Fixed (I hope) at #30568.



---

archive/issue_comments_429189.json:
```json
{
    "body": "Oups, I didn't notice that issue during the review. Thanks.",
    "created_at": "2020-09-13T19:57:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30156#issuecomment-429189",
    "user": "https://github.com/seblabbe"
}
```

Oups, I didn't notice that issue during the review. Thanks.



---

archive/issue_comments_429190.json:
```json
{
    "body": "Another follow up: #33652",
    "created_at": "2022-04-07T09:54:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30156#issuecomment-429190",
    "user": "https://github.com/seblabbe"
}
```

Another follow up: #33652
