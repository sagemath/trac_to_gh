# Issue 32939: Fix a few cython "referenced before assignment" warnings

Issue created by migration from https://trac.sagemath.org/ticket/33176

Original creator: mjo

Original creation time: 2022-01-15 02:08:28

Our build displays several warnings like

> warning: sage/libs/ntl/ntl_ZZ.pyx:274:23: local variable 'ans' referenced before assignment

for variables that are passed by reference to a C function that overwrites them (meaning that there is no real bug). Here we fix a few easy ones by initializing the variable.



---

Comment by mjo created at 2022-01-15 02:10:10

Changing status from new to needs_review.


---

Comment by mjo created at 2022-01-15 02:10:10

New commits:


---

Comment by @mwageringel created at 2022-02-23 20:51:59


```
        cdef long mini, minval = 0
```

Did you intend to set `mini` to 0 as well, here? There is still a warning about it

```
[sagelib-9.6.beta2] warning: sage/libs/ntl/ntl_ZZ_pX.pyx:1175:44: local variable 'mini' referenced before assignment
```

Otherwise, the changes look good to me.


---

Comment by @mwageringel created at 2022-02-23 21:04:47

Related discussion in #33201.


---

Comment by git created at 2022-02-23 21:48:16

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by mjo created at 2022-02-23 21:51:33

Replying to [comment:3 gh-mwageringel]:
> {{{
>         cdef long mini, minval = 0
> }}}
> Did you intend to set `mini` to 0 as well, here? There is still a warning about it

I think so. The first time it's used (_if_ it's used) is when it's passed by reference to,


```python
Z_pX_min_val_coeff(minval, mini, self.x, pZZ.x)
```


According to `ntlwrap_impl.h`, that function overwrites both `minval` and `mini`. I've updated that one commit and rebased it onto 9.6-beta2.


---

Comment by mmezzarobba created at 2022-10-24 13:54:45

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2022-11-07 20:26:24

Resolution: fixed
