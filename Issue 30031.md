# Issue 30031: Use "./sage -t", not "sage -t" in test output

Issue created by migration from https://trac.sagemath.org/ticket/30268

Original creator: slelievre

Original creation time: 2020-08-02 06:02:07

Before this ticket, failures and timeouts show with `sage -t`:

```
----------------------------------------------------------------------
sage -t --random-seed=0 src/sage/misc/latex.py  # 1 doctest failed
sage -t --random-seed=0 src/sage/plot/animate.py  # Timed out
----------------------------------------------------------------------
```


After this ticket, failures and timeouts show with `./sage -t`:

```
----------------------------------------------------------------------
./sage -t --random-seed=0 src/sage/misc/latex.py  # 1 doctest failed
./sage -t --random-seed=0 src/sage/plot/animate.py  # Timed out
----------------------------------------------------------------------
```


This makes the testing process less error-prone.

Indeed, the natural next action is to run each test
again by itself, typically by copying and pasting the
lines from the above report. A developer might have
several versions of Sage installed, and the `sage`
in their `PATH` might not be the one currently being
tested, so one could easy inadvertently retest with
the wrong Sage and draw wrong conclusions. Since the
paths to tested files in the report are local, the
copy-pasted line must be run from the `SAGE_ROOT`
directory, so using `./sage` is perfectly sensible.


---

Comment by fbissey created at 2020-08-02 08:27:26

`sage -t` is perfectly normal and natural for sage-on-distros. In fact `./sage` doesn't make any sense there since `SAGE_ROOT` doesn't exist.

If you want to display this, make it dependent on `SAGE_ROOT` not being undefined please.


---

Comment by slelievre created at 2020-08-02 10:36:38

Good point. I modified the summary and description accordingly.


---

Comment by mkoeppe created at 2021-02-13 20:51:01

Setting new milestone based on a cursory review of ticket status, priority, and last modification date.
