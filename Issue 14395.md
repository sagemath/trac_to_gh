# Issue 14395: Allow custom fill endpoints in a filled plot

archive/issues_014395.json:
```json
{
    "body": "Assignee: jason, was\n\nCC:  dsm @vbraun\n\nKeywords: beginner\n\nIn [this ask.sagemath question](http://ask.sagemath.org/question/943/in-sage-plot-fill-the-area-under-a-curve-between), the issue is raised whether\n\n```\nsage: f = x*(x-1)*(x-2)+1\nsage: p = plot(f, 0.5, 1.5, fill=True) + plot(f, 0, 2)\n```\nshould be doable in a single command, such as with a `fillxmin`/`fillxmax` keyword (or some better name).\n\nIssue created by migration from https://trac.sagemath.org/ticket/14599\n\n",
    "created_at": "2013-05-16T18:35:28Z",
    "labels": [
        "component: graphics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.4",
    "title": "Allow custom fill endpoints in a filled plot",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14395",
    "user": "https://github.com/kcrisman"
}
```
Assignee: jason, was

CC:  dsm @vbraun

Keywords: beginner

In [this ask.sagemath question](http://ask.sagemath.org/question/943/in-sage-plot-fill-the-area-under-a-curve-between), the issue is raised whether

```
sage: f = x*(x-1)*(x-2)+1
sage: p = plot(f, 0.5, 1.5, fill=True) + plot(f, 0, 2)
```
should be doable in a single command, such as with a `fillxmin`/`fillxmax` keyword (or some better name).

Issue created by migration from https://trac.sagemath.org/ticket/14599





---

archive/issue_events_041591.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14395",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14395#event-41591"
}
```



---

archive/issue_events_041592.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14395",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14395#event-41592"
}
```



---

archive/issue_events_041593.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14395",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14395#event-41593"
}
```



---

archive/issue_events_041594.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14395",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14395#event-41594"
}
```



---

archive/issue_events_041595.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14395",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14395#event-41595"
}
```



---

archive/issue_events_041596.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14395",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14395#event-41596"
}
```



---

archive/issue_events_041597.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14395",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14395#event-41597"
}
```



---

archive/issue_comments_181687.json:
```json
{
    "body": "New commits:",
    "created_at": "2014-11-11T21:08:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14395",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14395#issuecomment-181687",
    "user": "https://trac.sagemath.org/admin/accounts/users/captaintrunky"
}
```

New commits:



---

archive/issue_comments_181688.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-11-11T21:08:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14395",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14395#issuecomment-181688",
    "user": "https://trac.sagemath.org/admin/accounts/users/captaintrunky"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_181689.json:
```json
{
    "body": "This is great that you are working on this!  I don't see any obvious problems in the code, though I won't be able to look at it more carefully right now.  My first thought, though, is what happens with parametric plots?  Somehow their fill \"magically\" works right, and I'm wondering what the behavior might be with this keyword.",
    "created_at": "2014-11-11T21:51:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14395",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14395#issuecomment-181689",
    "user": "https://github.com/kcrisman"
}
```

This is great that you are working on this!  I don't see any obvious problems in the code, though I won't be able to look at it more carefully right now.  My first thought, though, is what happens with parametric plots?  Somehow their fill "magically" works right, and I'm wondering what the behavior might be with this keyword.



---

archive/issue_comments_181690.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-11-12T17:19:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14395",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14395#issuecomment-181690",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_181691.json:
```json
{
    "body": "Replying to [comment:7 kcrisman]:\n> This is great that you are working on this!  I don't see any obvious problems in the code, though I won't be able to look at it more carefully right now.  My first thought, though, is what happens with parametric plots?  Somehow their fill \"magically\" works right, and I'm wondering what the behavior might be with this keyword.\n\nThanks for the feedback. You were right, there was some weird staff with parametric curves. It seems to work fine now, but these new custom endpoints definitely require some additional checks. However, I couldn't break it with my test suite, which contains a set of well-known curves.",
    "created_at": "2014-11-12T17:23:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14395",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14395#issuecomment-181691",
    "user": "https://trac.sagemath.org/admin/accounts/users/captaintrunky"
}
```

Replying to [comment:7 kcrisman]:
> This is great that you are working on this!  I don't see any obvious problems in the code, though I won't be able to look at it more carefully right now.  My first thought, though, is what happens with parametric plots?  Somehow their fill "magically" works right, and I'm wondering what the behavior might be with this keyword.

Thanks for the feedback. You were right, there was some weird staff with parametric curves. It seems to work fine now, but these new custom endpoints definitely require some additional checks. However, I couldn't break it with my test suite, which contains a set of well-known curves.



---

archive/issue_comments_181692.json:
```json
{
    "body": "Hmm, maybe you can add some of those to the tests/examples; at any rate, currently your branch has only one *non*-example, not examples of how to use this.  Or, if you have a pretty extensive suite, there are a couple testing-only files out there that could be added to - we love tests!",
    "created_at": "2014-11-12T18:23:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14395",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14395#issuecomment-181692",
    "user": "https://github.com/kcrisman"
}
```

Hmm, maybe you can add some of those to the tests/examples; at any rate, currently your branch has only one *non*-example, not examples of how to use this.  Or, if you have a pretty extensive suite, there are a couple testing-only files out there that could be added to - we love tests!



---

archive/issue_comments_181693.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-11-13T19:21:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14395",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14395#issuecomment-181693",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_181694.json:
```json
{
    "body": "Look at the following interesting behavior.\n\n```\nsage: plot([x^3,x^2,x], xmin=0, xmax=4, fill={0:[1], 1:1, 2:1-x}, fillxmin=1, fillxmax=2)\n```\nIt's definitely obeying the `fillxmax` but not in the way one might expect.\n\nSimilarly, I'm not sure that\n\n```\nsage: plot((cos(x),sin(x)), xmin=0, xmax=2*pi, parametric=True, fill=True, fillxmin=0.5)\n```\nis behaving as expected.\n\nAnd I'm completely flummoxed as to why\n\n```\nsage: plot((cos(x),sin(x)), xmin=0, xmax=2*pi, parametric=True, fill=True, fillxmin=1)\n<boom>\nKeyError: 'text/plain'\n```\ndue to the new display hook stuff!\n\nOne possible workaround would be to disallow the custom fill (for now) in parametric plots (i.e. raise an error) and make that a new ticket.  I do think that the first 'bad' example should be dealt with, though.",
    "created_at": "2015-02-04T00:52:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14395",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14395#issuecomment-181694",
    "user": "https://github.com/kcrisman"
}
```

Look at the following interesting behavior.

```
sage: plot([x^3,x^2,x], xmin=0, xmax=4, fill={0:[1], 1:1, 2:1-x}, fillxmin=1, fillxmax=2)
```
It's definitely obeying the `fillxmax` but not in the way one might expect.

Similarly, I'm not sure that

```
sage: plot((cos(x),sin(x)), xmin=0, xmax=2*pi, parametric=True, fill=True, fillxmin=0.5)
```
is behaving as expected.

And I'm completely flummoxed as to why

```
sage: plot((cos(x),sin(x)), xmin=0, xmax=2*pi, parametric=True, fill=True, fillxmin=1)
<boom>
KeyError: 'text/plain'
```
due to the new display hook stuff!

One possible workaround would be to disallow the custom fill (for now) in parametric plots (i.e. raise an error) and make that a new ticket.  I do think that the first 'bad' example should be dealt with, though.



---

archive/issue_comments_181695.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-02-04T00:52:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14395",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14395#issuecomment-181695",
    "user": "https://github.com/kcrisman"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_181696.json:
```json
{
    "body": "the problem is probably that the plot object is invalid (it can't actually show a plot). Because there is insufficient validation this only causes issues later when you actually try to plot it.",
    "created_at": "2015-02-04T01:04:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14395",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14395#issuecomment-181696",
    "user": "https://github.com/vbraun"
}
```

the problem is probably that the plot object is invalid (it can't actually show a plot). Because there is insufficient validation this only causes issues later when you actually try to plot it.



---

archive/issue_comments_181697.json:
```json
{
    "body": "Hmm, that makes sense.  I have to say that the error is a little cryptic.",
    "created_at": "2015-02-04T01:09:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14395",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14395#issuecomment-181697",
    "user": "https://github.com/kcrisman"
}
```

Hmm, that makes sense.  I have to say that the error is a little cryptic.



---

archive/issue_comments_181698.json:
```json
{
    "body": "Removing the \"beginner\" tag from old tickets. Some could be returned to beginner-friendly status by adding a comment about what needs to be done. Some others might be easy for an experienced developer to finish.",
    "created_at": "2020-05-27T03:04:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14395",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14395#issuecomment-181698",
    "user": "https://github.com/DaveWitteMorris"
}
```

Removing the "beginner" tag from old tickets. Some could be returned to beginner-friendly status by adding a comment about what needs to be done. Some others might be easy for an experienced developer to finish.



---

archive/issue_comments_181699.json:
```json
{
    "body": "Changing keywords from \"beginner\" to \"\".",
    "created_at": "2020-05-27T03:04:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14395",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14395#issuecomment-181699",
    "user": "https://github.com/DaveWitteMorris"
}
```

Changing keywords from "beginner" to "".
