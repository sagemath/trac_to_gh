# Issue 16327: Derivations for inseparable function fields

Issue created by migration from Trac.

Original creator: saraedum

Original creation time: 2014-06-27 05:21:18

This ticket implements derivations for inseparable extensions of function fields.


---

Comment by saraedum created at 2014-06-27 05:25:48

Changing keywords from "" to "sd59".


---

Comment by saraedum created at 2014-06-28 06:12:07

Changing status from new to needs_review.


---

Comment by git created at 2014-07-23 18:00:10

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:


---

Comment by mmezzarobba created at 2015-05-30 19:20:37

Changing status from needs_review to needs_work.


---

Comment by git created at 2015-08-15 18:45:30

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by saraedum created at 2015-08-15 18:47:45

Changing status from needs_work to needs_review.


---

Comment by git created at 2015-08-16 14:00:23

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by saraedum created at 2016-04-08 11:19:39

Changing status from needs_review to needs_work.


---

Comment by saraedum created at 2017-06-07 23:05:45

Changing keywords from "sd59" to "sd59, sd86.5".


---

Comment by git created at 2017-06-12 00:38:07

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:


---

Comment by git created at 2017-06-12 00:47:10

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2017-06-12 00:53:08

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2017-06-12 00:54:36

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by saraedum created at 2017-06-12 00:55:10

Changing status from needs_work to needs_review.


---

Comment by saraedum created at 2018-05-26 16:56:05

Last 10 new commits:


---

Comment by git created at 2018-11-21 16:32:56

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by saraedum created at 2018-11-21 16:33:03

New commits:
----
New commits:


---

Comment by git created at 2018-11-21 16:37:59

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-11-21 16:38:53

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by saraedum created at 2018-11-25 15:42:20

Changing status from needs_review to needs_work.


---

Attachment


---

Comment by sijsling created at 2018-11-26 08:29:08

Changing `FunctionFieldIsomorphism` to `FunctionFieldVectorSpaceIsomorphism` in line 424 of `function_field/maps.py` yields a working version. All that remains are some small failures in doctests, which I have attached.


---

Comment by git created at 2018-12-08 20:01:56

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by saraedum created at 2018-12-08 20:11:13

Thanks, that renaming was not intentional. The printing of morphisms has changed, so these errors are expected.


---

Comment by git created at 2018-12-08 20:11:27

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by saraedum created at 2018-12-08 20:12:03

Changing status from needs_work to needs_review.


---

Comment by sijsling created at 2018-12-10 16:03:16

This builds for me along with its documentation, and looks pretty great. Here are some remarks.

(1) In the method `_test_derivation` you may also want to test that `d(f)` is zero, or more precisely that if we calculate `d(f)` term by term we also get 0. Or yet differently, the lift to a derivation in both x and y should send f to zero.

(2) Similarly, you may want to check that the deriviation is non-trivial.

(3) In the docstring, it seems better to use `k` for the field of constants instead of `K`, simply for consistency, and leave `K` to be the function field in question. You may also want to point out that you do not assume `K` to be the function field of an absolutely irreducible curve. (This is why you need `k` to be perfect.)

In the first part of the description of the algorithm, you may want to write "a rational function field `F` over `k`" instead of "another function field `F`", and in the complementary case you can mention that this is where you use the hypothesis on `k` being perfect.

Points (1) and (2) are not very important; indeed, I performed done thousands of ad hoc tests of them without a single error, and the algorithms are mathematically correct as far as I can judge. Only the points in (3) apply. They are very small and apart from them this addition seems completely neat.


---

Comment by sijsling created at 2018-12-10 16:03:16

Changing status from needs_review to needs_work.


---

Comment by sijsling created at 2018-12-10 16:06:14

Sorry, I messed up this fancy terminology: where I wrote "absolutely irreducible" I should have written "geometrically reduced", or perhaps "geometrically integral".


---

Comment by saraedum created at 2018-12-14 00:06:09

sijsling thanks for the review. If you want to make these changes yourself, please feel free to make them and I'll review. Otherwise, I'll hopfefully get around to make the necessary changes myself soon.


---

Comment by git created at 2018-12-14 12:34:29

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:


---

Comment by sijsling created at 2018-12-14 12:35:38

Changing status from needs_work to needs_review.


---

Comment by saraedum created at 2018-12-14 13:10:12

Thanks, I made a minimal change to the unit test code. If your happy with this and doctests pass, then we can set this to positive review :)
----
New commits:


---

Comment by sijsling created at 2018-12-14 14:03:17

I am of course fine with that! Rebuilt just to be sure and of course everything still worked. So now it is up to the bot to see if there are other issues.


---

Comment by saraedum created at 2018-12-20 16:58:37

The pyflakes complaints are not bugs and are fine anyway with Python 3 as list comprehensions do not leak variables anymore.

The failing doctest in `sage.databases.sql_db.SQLDatabase.__init__` can't really be caused by the changes here.


---

Comment by swewers created at 2019-02-18 20:53:05

Changing status from needs_review to positive_review.


---

Comment by swewers created at 2019-02-18 20:53:05

As other have said before: the change are all fine, and it would be very nice to have them available soon.
The problems with the patchbot seem to be unrelated to this ticket.


---

Comment by vbraun created at 2019-02-23 23:14:16

Resolution: fixed
