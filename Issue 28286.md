# Issue 28286: Signature of random_element

Issue created by migration from https://trac.sagemath.org/ticket/28523

Original creator: @remi-coulon

Original creation time: 2019-09-20 15:11:03

CC:  slelievre

Keywords: signature

It seems that depending on the ring we are using the signature of the method ramdom_element is different.

More precisely if one wants to specify a lower bound and an upper bound for the random variable, the signatures are


```
ZZ.random_element(x = minValue, y= maxValue)
RR.random_element(min = minValue, max = maxValue)
```



The syntax for RR.random_element is rather confusing as well. For instance


```
RR.random_element(min=2)
```

 

returns a random number between 0 and 2, so 2 is the upper bound


---

Comment by jhpalmieri created at 2019-09-20 17:15:00

It looks to me as though

```
RR.random_element(min=M)
```

returns a random number between 1 and M, not 0 and M. Well, with `M=2`, if it's between 1 and 2, then it's also between 0 and 2, but it should never actually be less than 1 in that case.

The method chooses a random number between 0 and 1 and then rescales it to lie between `min` (default -1) and `max` (default 1), regardless of which of `min` or `max` is larger. This is actually what the documentation says: 

```
Return a uniformly distributed random number between ``min`` and ``max`` (default -1 to 1)
```

The names `min` and `max` are perhaps misleading.

I can see reasons for both the `ZZ` behavior and the `RR` behavior. What changes do you propose?


---

Comment by @remi-coulon created at 2019-09-20 18:12:12

I am rather new here, so I do not have rigid opinions. I see pro and con to both syntaxes. The important thing to me is that the signatures should be the same for all `random_element` methods.

If the choice is to use the keywords `min` and `max` then the default behaviors of
`random_element` should probably be something like


```
RR.random_element(min=m)
```


renders a random element between `m` and some larger default (larger value)


```
RR.random_element(max=M)
```


renders a random element between some default (smaller) and `M` and


---

Comment by slelievre created at 2019-09-24 20:51:03

I'm expanding the ticket description to mention `random_matrix`,
since that was the starting point for RÃ©mi's puzzlement, based
on which I encouraged him to open a ticket.

The documentation for `random_matrix` should mention the fact
that the extra arguments and keywords will be passed on to
`A.randomize()` with `A` initialized as a zero matrix over the
specified ring, and that these arguments will likely in turn be
passed to `ring.random_element` for that ring. It should warn
the user that different rings might require different arguments,
even to perform similar functions, and it should invite the user
to check the documentation for `ring.random_element` for
the rings they need.

While the same arguments, min and max, make sense for picking
an integer or a real at random, min and max might not suffice or
make sense for all rings: for random rationals we may hope to set
max denominator,  for random polynomials max degree, etc.


---

Comment by embray created at 2019-12-30 14:48:17

Ticket retargeted after milestone closed


---

Comment by mkoeppe created at 2020-05-01 04:28:42

Moving tickets to milestone sage-9.2 based on a review of last modification date, branch status, and severity.


---

Comment by mkoeppe created at 2021-04-07 19:29:15

Sage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review.
