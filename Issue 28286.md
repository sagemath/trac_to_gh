# Issue 28286: Signature of random_element

archive/issues_028286.json:
```json
{
    "body": "CC:  @slel\n\nKeywords: signature\n\nIt seems that depending on the ring we are using the signature of the method ramdom_element is different.\n\nMore precisely if one wants to specify a lower bound and an upper bound for the random variable, the signatures are\n\n\n```\nZZ.random_element(x = minValue, y= maxValue)\nRR.random_element(min = minValue, max = maxValue)\n```\n\n\n\nThe syntax for RR.random_element is rather confusing as well. For instance\n\n\n```\nRR.random_element(min=2)\n```\n\n \n\nreturns a random number between 0 and 2, so 2 is the upper bound\n\nIssue created by migration from https://trac.sagemath.org/ticket/28523\n\n",
    "created_at": "2019-09-20T15:11:03Z",
    "labels": [
        "user interface",
        "minor",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Signature of random_element",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28286",
    "user": "@remi-coulon"
}
```
CC:  @slel

Keywords: signature

It seems that depending on the ring we are using the signature of the method ramdom_element is different.

More precisely if one wants to specify a lower bound and an upper bound for the random variable, the signatures are


```
ZZ.random_element(x = minValue, y= maxValue)
RR.random_element(min = minValue, max = maxValue)
```



The syntax for RR.random_element is rather confusing as well. For instance


```
RR.random_element(min=2)
```

 

returns a random number between 0 and 2, so 2 is the upper bound

Issue created by migration from https://trac.sagemath.org/ticket/28523





---

archive/issue_comments_399553.json:
```json
{
    "body": "It looks to me as though\n\n```\nRR.random_element(min=M)\n```\n\nreturns a random number between 1 and M, not 0 and M. Well, with `M=2`, if it's between 1 and 2, then it's also between 0 and 2, but it should never actually be less than 1 in that case.\n\nThe method chooses a random number between 0 and 1 and then rescales it to lie between `min` (default -1) and `max` (default 1), regardless of which of `min` or `max` is larger. This is actually what the documentation says: \n\n```\nReturn a uniformly distributed random number between ``min`` and ``max`` (default -1 to 1)\n```\n\nThe names `min` and `max` are perhaps misleading.\n\nI can see reasons for both the `ZZ` behavior and the `RR` behavior. What changes do you propose?",
    "created_at": "2019-09-20T17:15:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28286",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28286#issuecomment-399553",
    "user": "@jhpalmieri"
}
```

It looks to me as though

```
RR.random_element(min=M)
```

returns a random number between 1 and M, not 0 and M. Well, with `M=2`, if it's between 1 and 2, then it's also between 0 and 2, but it should never actually be less than 1 in that case.

The method chooses a random number between 0 and 1 and then rescales it to lie between `min` (default -1) and `max` (default 1), regardless of which of `min` or `max` is larger. This is actually what the documentation says: 

```
Return a uniformly distributed random number between ``min`` and ``max`` (default -1 to 1)
```

The names `min` and `max` are perhaps misleading.

I can see reasons for both the `ZZ` behavior and the `RR` behavior. What changes do you propose?



---

archive/issue_comments_399554.json:
```json
{
    "body": "I am rather new here, so I do not have rigid opinions. I see pro and con to both syntaxes. The important thing to me is that the signatures should be the same for all `random_element` methods.\n\nIf the choice is to use the keywords `min` and `max` then the default behaviors of\n`random_element` should probably be something like\n\n\n```\nRR.random_element(min=m)\n```\n\n\nrenders a random element between `m` and some larger default (larger value)\n\n\n```\nRR.random_element(max=M)\n```\n\n\nrenders a random element between some default (smaller) and `M` and",
    "created_at": "2019-09-20T18:12:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28286",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28286#issuecomment-399554",
    "user": "@remi-coulon"
}
```

I am rather new here, so I do not have rigid opinions. I see pro and con to both syntaxes. The important thing to me is that the signatures should be the same for all `random_element` methods.

If the choice is to use the keywords `min` and `max` then the default behaviors of
`random_element` should probably be something like


```
RR.random_element(min=m)
```


renders a random element between `m` and some larger default (larger value)


```
RR.random_element(max=M)
```


renders a random element between some default (smaller) and `M` and



---

archive/issue_comments_399555.json:
```json
{
    "body": "I'm expanding the ticket description to mention `random_matrix`,\nsince that was the starting point for R\u00e9mi's puzzlement, based\non which I encouraged him to open a ticket.\n\nThe documentation for `random_matrix` should mention the fact\nthat the extra arguments and keywords will be passed on to\n`A.randomize()` with `A` initialized as a zero matrix over the\nspecified ring, and that these arguments will likely in turn be\npassed to `ring.random_element` for that ring. It should warn\nthe user that different rings might require different arguments,\neven to perform similar functions, and it should invite the user\nto check the documentation for `ring.random_element` for\nthe rings they need.\n\nWhile the same arguments, min and max, make sense for picking\nan integer or a real at random, min and max might not suffice or\nmake sense for all rings: for random rationals we may hope to set\nmax denominator,  for random polynomials max degree, etc.",
    "created_at": "2019-09-24T20:51:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28286",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28286#issuecomment-399555",
    "user": "@slel"
}
```

I'm expanding the ticket description to mention `random_matrix`,
since that was the starting point for RÃ©mi's puzzlement, based
on which I encouraged him to open a ticket.

The documentation for `random_matrix` should mention the fact
that the extra arguments and keywords will be passed on to
`A.randomize()` with `A` initialized as a zero matrix over the
specified ring, and that these arguments will likely in turn be
passed to `ring.random_element` for that ring. It should warn
the user that different rings might require different arguments,
even to perform similar functions, and it should invite the user
to check the documentation for `ring.random_element` for
the rings they need.

While the same arguments, min and max, make sense for picking
an integer or a real at random, min and max might not suffice or
make sense for all rings: for random rationals we may hope to set
max denominator,  for random polynomials max degree, etc.



---

archive/issue_comments_399556.json:
```json
{
    "body": "Ticket retargeted after milestone closed",
    "created_at": "2019-12-30T14:48:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28286",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28286#issuecomment-399556",
    "user": "@embray"
}
```

Ticket retargeted after milestone closed



---

archive/issue_comments_399557.json:
```json
{
    "body": "Moving tickets to milestone sage-9.2 based on a review of last modification date, branch status, and severity.",
    "created_at": "2020-05-01T04:28:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28286",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28286#issuecomment-399557",
    "user": "@mkoeppe"
}
```

Moving tickets to milestone sage-9.2 based on a review of last modification date, branch status, and severity.



---

archive/issue_comments_399558.json:
```json
{
    "body": "Sage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review.",
    "created_at": "2021-04-07T19:29:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28286",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28286#issuecomment-399558",
    "user": "@mkoeppe"
}
```

Sage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review.
