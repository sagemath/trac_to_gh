# Issue 30513: Implementation of semistandard tableaux as pathtableaux

archive/issues_030513.json:
```json
{
    "body": "CC:  @kevindilks @mantepse pfannerer @darijgr\n\nThis is an implementation of the abstract base class PathTableau.\nThis implementation is for semistandard tableaux, represented as a chain of partitions (essentially, the Gelfand-Tsetlin pattern). This generalises the jeu-de-taquin operations of rectification, promotion, evacuation from\nstandard tableaux to semistandard tableaux. The local rule is the Bender-Knuth involution.\n\nIssue created by migration from https://trac.sagemath.org/ticket/30750\n\n",
    "created_at": "2020-10-09T17:44:21Z",
    "labels": [
        "combinatorics",
        "major"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.3",
    "title": "Implementation of semistandard tableaux as pathtableaux",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30513",
    "user": "@BruceWestbury"
}
```
CC:  @kevindilks @mantepse pfannerer @darijgr

This is an implementation of the abstract base class PathTableau.
This implementation is for semistandard tableaux, represented as a chain of partitions (essentially, the Gelfand-Tsetlin pattern). This generalises the jeu-de-taquin operations of rectification, promotion, evacuation from
standard tableaux to semistandard tableaux. The local rule is the Bender-Knuth involution.

Issue created by migration from https://trac.sagemath.org/ticket/30750





---

archive/issue_comments_435697.json:
```json
{
    "body": "Set assignee to @BruceWestbury.",
    "created_at": "2020-10-09T17:47:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30513#issuecomment-435697",
    "user": "@BruceWestbury"
}
```

Set assignee to @BruceWestbury.



---

archive/issue_comments_435698.json:
```json
{
    "body": "Changing keywords from \"\" to \"cactus group, Bender-Knuth\".",
    "created_at": "2020-10-09T17:47:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30513#issuecomment-435698",
    "user": "@BruceWestbury"
}
```

Changing keywords from "" to "cactus group, Bender-Knuth".



---

archive/issue_comments_435699.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2020-10-09T17:47:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30513#issuecomment-435699",
    "user": "@BruceWestbury"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_435700.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-10-12T11:08:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30513#issuecomment-435700",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_435701.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-10-12T14:05:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30513#issuecomment-435701",
    "user": "@BruceWestbury"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_435702.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-10-13T09:52:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30513#issuecomment-435702",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_435703.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-10-13T16:13:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30513#issuecomment-435703",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_435704.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-10-20T10:18:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30513#issuecomment-435704",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_435705.json:
```json
{
    "body": "First lines of docs should say \"Convert\", \"Check\", etc instead of \"Converts\", \"Checks\", etc",
    "created_at": "2020-10-20T11:26:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30513#issuecomment-435705",
    "user": "@fchapoton"
}
```

First lines of docs should say "Convert", "Check", etc instead of "Converts", "Checks", etc



---

archive/issue_comments_435706.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-10-23T19:55:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30513#issuecomment-435706",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_435707.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-10-24T09:40:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30513#issuecomment-435707",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_435708.json:
```json
{
    "body": "Could someone please explain why this has failed testing?\n\nThanks",
    "created_at": "2020-10-27T11:04:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30513#issuecomment-435708",
    "user": "@BruceWestbury"
}
```

Could someone please explain why this has failed testing?

Thanks



---

archive/issue_comments_435709.json:
```json
{
    "body": "Because the sage installation of the patchbot has a failing doctest. Nothing to do with your ticket. So far, nobody has taken up the task to fix this issue with pexpect and singular interface.",
    "created_at": "2020-10-27T11:51:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30513#issuecomment-435709",
    "user": "@fchapoton"
}
```

Because the sage installation of the patchbot has a failing doctest. Nothing to do with your ticket. So far, nobody has taken up the task to fix this issue with pexpect and singular interface.



---

archive/issue_comments_435710.json:
```json
{
    "body": "missing a double colon here\n\n```\n+        TESTS:\n```\n\n\nThe following should not be indented (never indent after a single colon)\n\n```\n+    INPUT:\n+\n+        * a sequence of partitions\n+        * a sequence of lists/tuples\n+        * a semistandard tableau\n+        * a Gelfand-Tsetlin pattern\n```\n",
    "created_at": "2020-10-27T11:52:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30513#issuecomment-435710",
    "user": "@fchapoton"
}
```

missing a double colon here

```
+        TESTS:
```


The following should not be indented (never indent after a single colon)

```
+    INPUT:
+
+        * a sequence of partitions
+        * a sequence of lists/tuples
+        * a semistandard tableau
+        * a Gelfand-Tsetlin pattern
```




---

archive/issue_comments_435711.json:
```json
{
    "body": "This should take double backticks\n\n```\n+        Return `True` if `self` is skew.\n```\n\nSingle backticks are for latex code (same as $)",
    "created_at": "2020-10-27T11:54:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30513#issuecomment-435711",
    "user": "@fchapoton"
}
```

This should take double backticks

```
+        Return `True` if `self` is skew.
```

Single backticks are for latex code (same as $)



---

archive/issue_comments_435712.json:
```json
{
    "body": "Missing a final dot here:\n\n```diff\n+        Rectify `self`\n```\n",
    "created_at": "2020-10-27T11:55:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30513#issuecomment-435712",
    "user": "@fchapoton"
}
```

Missing a final dot here:

```diff
+        Rectify `self`
```




---

archive/issue_comments_435713.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-10-27T15:05:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30513#issuecomment-435713",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_435714.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-10-27T15:16:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30513#issuecomment-435714",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_435715.json:
```json
{
    "body": "Thanks. Now the syntax of\n\n```\n+    The :class:`SemistandardSkewTableau is not implemented.\n```\n\nis missing the backtick after `SemistandardSkewTableau`",
    "created_at": "2020-10-27T16:16:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30513#issuecomment-435715",
    "user": "@fchapoton"
}
```

Thanks. Now the syntax of

```
+    The :class:`SemistandardSkewTableau is not implemented.
```

is missing the backtick after `SemistandardSkewTableau`



---

archive/issue_comments_435716.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-10-27T17:34:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30513#issuecomment-435716",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_435717.json:
```json
{
    "body": "A few minor comments:\n\nI would rename `SemistandardPath` to be `SemistandardPathTableau` to make the name more explicit. Also `SemistandardPaths` is grammatically wrong as you want `SemistandardPathTableaux`.\n\nYou should add more explanation there for the `INPUT:`, mainly stating it \"Can be one of the following:\". There also needs to be at least one test for each of these input types. Can it also take a skew semistandard tableau? I think it should be able to. How about a skew partition then regular partitions? (This one, I would say it is fine the leave off and if someone does give this, I would be a bit surprised.)\n\nFor `check`, it would be good to have actual `EXAMPLES::`.\n\n`local_rule` should have a 1-line description, then the rest of it should be separated in another paragraph with more details.\n\nError messages should start with lowercase letters (this is a Python convention we try to follow).\n\nIn `rectify()`, instead of using `Partition(data)`, it would be faster to use `_Partitions(data)`. Although it would be best to not actually construct partitions, but instead keep them as tuples. Similarly, instead of calling `SemistandardPath`, you can do `P.element_class(P, data)`, where `P = self.parent()`.\n\n\n```diff\n-if inner == None:\n+if inner is None:\n```\n\n\n\n```\n-return self[0] != ()\n+return bool(self[0])\n```\n\n\n\n```diff\n-        lt = list(self)\n-        if lt[0] == ():\n-            lt = lt[1:]\n-        lt.reverse()\n+        if not lt[-1]:\n+            lt.pop()\n         return GelfandTsetlinPattern([list(a) for a in lt])\n```\n\n\nIn `_test_jdt_promotion`, could you make the `try-except` block more local to the line you expect to fail? It looks weird to have it around the actual test run.\n\nGeneral PEP8 stuff such as spaces\n\n```\n-def rectify(self,inner=None,verbose=False):\n+def rectify(self, inner=None, verbose=False):\n```\n\n\n```diff\n-        for i in range(1,len(self)-1):\n-            if not all(r>=s for r,s in zip(self[i+1],self[i])):\n+        for i in range(1, len(self)-1):\n+            if not all(r >= s for r, s in zip(self[i+1], self[i])):\n```\n\n(but not necessarily limited to these).",
    "created_at": "2020-11-02T22:54:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30513#issuecomment-435717",
    "user": "@tscrim"
}
```

A few minor comments:

I would rename `SemistandardPath` to be `SemistandardPathTableau` to make the name more explicit. Also `SemistandardPaths` is grammatically wrong as you want `SemistandardPathTableaux`.

You should add more explanation there for the `INPUT:`, mainly stating it "Can be one of the following:". There also needs to be at least one test for each of these input types. Can it also take a skew semistandard tableau? I think it should be able to. How about a skew partition then regular partitions? (This one, I would say it is fine the leave off and if someone does give this, I would be a bit surprised.)

For `check`, it would be good to have actual `EXAMPLES::`.

`local_rule` should have a 1-line description, then the rest of it should be separated in another paragraph with more details.

Error messages should start with lowercase letters (this is a Python convention we try to follow).

In `rectify()`, instead of using `Partition(data)`, it would be faster to use `_Partitions(data)`. Although it would be best to not actually construct partitions, but instead keep them as tuples. Similarly, instead of calling `SemistandardPath`, you can do `P.element_class(P, data)`, where `P = self.parent()`.


```diff
-if inner == None:
+if inner is None:
```



```
-return self[0] != ()
+return bool(self[0])
```



```diff
-        lt = list(self)
-        if lt[0] == ():
-            lt = lt[1:]
-        lt.reverse()
+        if not lt[-1]:
+            lt.pop()
         return GelfandTsetlinPattern([list(a) for a in lt])
```


In `_test_jdt_promotion`, could you make the `try-except` block more local to the line you expect to fail? It looks weird to have it around the actual test run.

General PEP8 stuff such as spaces

```
-def rectify(self,inner=None,verbose=False):
+def rectify(self, inner=None, verbose=False):
```


```diff
-        for i in range(1,len(self)-1):
-            if not all(r>=s for r,s in zip(self[i+1],self[i])):
+        for i in range(1, len(self)-1):
+            if not all(r >= s for r, s in zip(self[i+1], self[i])):
```

(but not necessarily limited to these).



---

archive/issue_comments_435718.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-11-05T16:37:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30513#issuecomment-435718",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_435719.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-11-05T17:39:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30513#issuecomment-435719",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_435720.json:
```json
{
    "body": "Thank you. A few other little things I noticed on a second pass:\n\n- You need to add the file to the big combinat module list for the documentation. (Actually, we forgot this for the frieze patterns. You can add it in here too if you want, but perhaps another ticket.)\n- I think this is better formatting since it is code input:\n  {{{#!diff\n-This is implemented by toggling the entries of the `i`-th list.\n-The allowed range for `i` is 0 < `i` < len(self)-1 so any row except\n+This is implemented by toggling the entries of the ``i``-th list.\n+The allowed range for ``i`` is ``0 < i < len(self)-1`` so any row except\n  }}}\n- `if lt[-1] == ():` -> `if not lt[-1]:`",
    "created_at": "2020-11-05T22:41:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30513#issuecomment-435720",
    "user": "@tscrim"
}
```

Thank you. A few other little things I noticed on a second pass:

- You need to add the file to the big combinat module list for the documentation. (Actually, we forgot this for the frieze patterns. You can add it in here too if you want, but perhaps another ticket.)
- I think this is better formatting since it is code input:
  {{{#!diff
-This is implemented by toggling the entries of the `i`-th list.
-The allowed range for `i` is 0 < `i` < len(self)-1 so any row except
+This is implemented by toggling the entries of the ``i``-th list.
+The allowed range for ``i`` is ``0 < i < len(self)-1`` so any row except
  }}}
- `if lt[-1] == ():` -> `if not lt[-1]:`



---

archive/issue_comments_435721.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-11-06T10:19:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30513#issuecomment-435721",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_435722.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-11-06T23:17:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30513#issuecomment-435722",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_435723.json:
```json
{
    "body": "The doctests in `is_integral` are not indented, which is causing the docbuild to fail.",
    "created_at": "2020-11-08T00:45:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30513#issuecomment-435723",
    "user": "@tscrim"
}
```

The doctests in `is_integral` are not indented, which is causing the docbuild to fail.



---

archive/issue_comments_435724.json:
```json
{
    "body": "This will also likely conflict with #30870 and should have that as a dependency.",
    "created_at": "2020-11-08T06:04:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30513#issuecomment-435724",
    "user": "@tscrim"
}
```

This will also likely conflict with #30870 and should have that as a dependency.



---

archive/issue_comments_435725.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-11-08T10:14:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30513#issuecomment-435725",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_435726.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-11-09T10:46:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30513#issuecomment-435726",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_435727.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-11-09T22:48:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30513#issuecomment-435727",
    "user": "@tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_435728.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-12-27T00:23:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30513#issuecomment-435728",
    "user": "@vbraun"
}
```

Resolution: fixed
