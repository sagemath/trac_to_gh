# Issue 14795: `real` and `imag` of `complex` should return `float`

Issue created by migration from https://trac.sagemath.org/ticket/15032

Original creator: eviatarbach

Original creation time: 2013-08-10 20:20:43

`real(z)` and `imag(z)`, where `z` is `complex`, as of now returns a `complex`. It should return a `float`, since that makes it consistent with `real(CC(3, 4))`, for example. It also fixes problems with plotting the real or imaginary parts of complex functions.


---

Comment by eviatarbach created at 2013-08-10 20:23:59

Changing status from new to needs_review.


---

Comment by eviatarbach created at 2013-08-10 20:23:59

Patchbot apply trac15032.2.patch


---

Comment by ppurka created at 2013-08-11 11:33:14

The new functions needs some doctests to check that the type is correct.

I am actually quite surprised by the inconsistency of the Sage implementation. `self.real` contains the number in the case of python's `complex` but it is a function in Sage's implementation. Do you know what is the reason behind the function in the Sage implementation?

```
sage: a = CC(1)     
sage: a.real
<function real>
sage: a = complex(1)
sage: a.real
1.0
```


_EDIT_ Actually just shift the doctests to within the `__call__` functions.


---

Comment by eviatarbach created at 2013-08-11 18:25:29

Okay, I'll add the tests.

I think the reason for the functions is that it's converting from MPFR. It could be changed with the ``@`property` decorator so that `self.real` will work.


---

Attachment


---

Comment by eviatarbach created at 2013-08-11 18:58:25

I added the tests to `__call__` but also left the other ones intact, since the `__call__` ones aren't visible in the documentation.


---

Comment by ppurka created at 2013-08-12 12:44:12

Looks good to me. All tests pass in sage/rings and sage/functions

Patchbot apply trac15032.3.patch


---

Comment by ppurka created at 2013-08-12 12:44:12

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2013-08-20 13:01:12

Resolution: fixed
