# Issue 11932: Cygwin import problem with randstate

Issue created by migration from Trac.

Original creator: kcrisman

Original creation time: 2011-12-01 16:53:35

Assignee: tbd

CC:  dimpase mhansen

I've encountered this too, but dimpase most recently on [this sage-windows thread](http://groups.google.com/group/sage-windows/browse_thread/thread/f826305a775b1e44):

```

Trying to start freshly built sage on Cygwin (Windows 7) I get: 
Dima`@`SPMS-DIMA-W7 /usr/local/sage/sage-4.7.2 
$ ./sage 
---------------------------------------------------------------------- 
---------------------------------------------------------------------- 
--------------------------------------------------------------------------- 
ImportError                               Traceback (most recent call last) 
/usr/local/sage/sage-4.7.2/local/bin/<string> in <module>() 
/usr/local/sage/sage-4.7.2/local/lib/python2.6/site-packages/sage/misc/prep arser_ipython.py 
in <module>() 
      6 
########################################################################### 
      7 
----> 8 import sage.misc.interpreter 
      9 
     10 import preparser 
/usr/local/sage/sage-4.7.2/local/lib/python2.6/site-packages/sage/misc/inte rpreter.py 
in <module>() 
    100 
    101 import os 
--> 102 import log 
    103 import re 
    104 
/usr/local/sage/sage-4.7.2/local/lib/python2.6/site-packages/sage/misc/log. py 
in <module>() 
     63 
     64 import interpreter 
---> 65 import latex 
     66 import misc 
     67 
/usr/local/sage/sage-4.7.2/local/lib/python2.6/site-packages/sage/misc/late x.py 
in <module>() 
     63 import types 
     64 
---> 65 from misc import tmp_dir, graphics_filename 
     66 import sage_eval 
     67 from sage.misc.sage_ostools import have_program 
/usr/local/sage/sage-4.7.2/local/lib/python2.6/site-packages/sage/misc/misc .py 
in <module>() 
     36 
     37 import operator, os, stat, socket, sys, signal, time, weakref, 
resource, math 
---> 38 import sage.misc.prandom as random 
     39 
     40 from banner import version, banner 
/usr/local/sage/sage-4.7.2/local/lib/python2.6/site-packages/sage/misc/pran dom.py 
in <module>() 
     54 # setting seeds should only be done through sage.misc.randstate . 
     55 
---> 56 from sage.misc.randstate import current_randstate 
     57 
     58 def _pyrand(): 
ImportError: No such file or directory 
WARNING: Failure executing code: 'import sage.misc.preparser_ipython; 
 sage.misc.preparser_ipython.magma_colon_equals=True' 
--------------------------------------------------------------------------- 
ImportError                               Traceback (most recent call last) 
/usr/local/sage/sage-4.7.2/local/lib/python2.6/site-packages/IPython/ipmake r.pyc 
in force_import(modname, force_reload) 
     61         reload(sys.modules[modname]) 
     62     else: 
---> 63         __import__(modname) 
     64 
     65 
/usr/local/sage/sage-4.7.2/local/bin/ipy_profile_sage.py in <module>() 
      1 import os 
      2 if 'SAGE_CLEAN' not in os.environ: 
----> 3     import sage.misc.misc 
      4     from sage.misc.interpreter import preparser, _ip 
      5     preparser(True) 
/usr/local/sage/sage-4.7.2/local/lib/python2.6/site-packages/sage/misc/misc .py 
in <module>() 
     36 
     37 import operator, os, stat, socket, sys, signal, time, weakref, 
resource, math 
---> 38 import sage.misc.prandom as random 
     39 
     40 from banner import version, banner 
/usr/local/sage/sage-4.7.2/local/lib/python2.6/site-packages/sage/misc/pran dom.py 
in <module>() 
     54 # setting seeds should only be done through sage.misc.randstate . 
     55 
---> 56 from sage.misc.randstate import current_randstate 
     57 
     58 def _pyrand(): 
ImportError: No such file or directory 
Error importing ipy_profile_sage - perhaps you should run %upgrade? 
WARNING: Loading of ipy_profile_sage failed. 
<ERROR: name 'sage_prompt' is not defined> 
```



---

Comment by mhansen created at 2011-12-01 22:46:30

I don't think that this is a problem with `randstate` per se -- my guess is that there's another extension module which fails to import due to not being able to find a correct library.  Going into a Sage shell and using "cygcheck" would be one way to find this.  I believe this is was the symptom with FLINT, NTL, etc.


---

Comment by dimpase created at 2011-12-02 02:30:59

What about the following? Is it more telling?

```
$ ./sage -python
Python 2.6.4 (r264:75706, Nov 29 2011, 16:54:39)
[GCC 4.5.3] on cygwin
Type "help", "copyright", "credits" or "license" for more information.
>>> import sage
>>> from sage import *
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "/usr/local/sage/sage-4.7.2/local/lib/python2.6/site-packages/sage/all.py", line 63, in <module>
    from sage.ext.c_lib import _init_csage, sig_on_count
ImportError: No such file or directory
```



---

Comment by kcrisman created at 2011-12-02 03:07:25

See #9167 for an example of how to use cygcheck.  I'd do a cygcheck on {{{sage-4.7.2/local/lib/python2.6/site- 
packages/sage/ext/c_lib.dll}}}.  Or wherever that file is "supposed" to be.   This may point out some other missing file, perhaps something we need to add to Cygwin we didn't know about.


---

Comment by kcrisman created at 2011-12-02 03:09:11

Replying to [comment:1 mhansen]:
> I don't think that this is a problem with `randstate` per se -- my guess is that there's another extension module which fails to import due to not being able to find a correct library.  Going into a Sage shell and using "cygcheck" would be one way to find this.  I believe this is was the symptom with FLINT, NTL, etc.

Can you be a little more specific about the kind of fixes this led to previous times?  (Such as needing to rename things as .dll or .a, removing things, etc.?)  Or the tickets that had that?  Just helps for comparison :)


---

Comment by dimpase created at 2011-12-02 04:55:36

Replying to [comment:3 kcrisman]:
> See #9167 for an example of how to use cygcheck.  I'd do a cygcheck on {{{sage-4.7.2/local/lib/python2.6/site- 
> packages/sage/ext/c_lib.dll}}}.  Or wherever that file is "supposed" to be.   This may point out some other missing file, perhaps something we need to add to Cygwin we didn't know about.

Some of the linking is screwed up. For instance:

```
$ cygcheck ./csage.dll
C:\cygwin\usr\local\sage\sage-4.7.2\local\lib\csage.dll
  C:\cygwin\bin\cygwin1.dll
    C:\Windows\system32\ADVAPI32.DLL
      C:\Windows\system32\msvcrt.dll
 [.... lots of system stuff ...]
  C:\cygwin\bin\cyggcc_s-1.dll
  C:\cygwin\bin\cygstdc++-6.dll
  C:\cygwin\usr\local\sage\sage-4.7.2\local\bin\cyggmp-3.dll
  C:\cygwin\usr\local\sage\sage-4.7.2\local\bin\libpython2.6.dll
cygcheck: track_down: could not find libntl.dll
```


And on c_lib.dll cygcheck also reports that it can't find libntl.dll 

Indeed, there is no libntl.dll. There is an .dll.a file, despite the fact that it's a dynamic library. Some misnaming has occurred. Renaming local/lib/libntl.dll.a to 
local/lib/libntl.dll fixes this particular error.
Fortunately, the other *dll.a files are actual archive files, I checked this. So this   should be traced to the ntl spkg.


---

Comment by dimpase created at 2011-12-02 05:36:55

OK, so after this libntl fix and rebasing, I see that ./sage -python -v
dies when I do from sage import *.
As follows: 

```
$ ./sage -python -v
[....]
Python 2.6.4 (r264:75706, Nov 29 2011, 16:54:39)
[GCC 4.5.3] on cygwin
Type "help", "copyright", "credits" or "license" for more information.
dlopen("/usr/local/sage/sage-4.7.2/local/lib/python2.6/lib-dynload/readline.dll", 2);
import readline # dynamically loaded from /usr/local/sage/sage-4.7.2/local/lib/python2.6/lib-dynload/readline.dll
>>> from sage import *
[......]
import sage.monoids # precompiled from /usr/local/sage/sage-4.7.2/local/lib/python2.6/site-packages/sage/monoids/__init__.pyc
# /usr/local/sage/sage-4.7.2/local/lib/python2.6/site-packages/sage/monoids/monoid.pyc matches /usr/local/sage/sage-4.7.2/local/lib/python2.6/site-packages/sage/monoids/monoid.py
import sage.monoids.monoid # precompiled from /usr/local/sage/sage-4.7.2/local/lib/python2.6/site-packages/sage/monoids/monoid.pyc
import sage.rings.polynomial.pbori # dynamically loaded from /usr/local/sage/sage-4.7.2/local/lib/python2.6/site-packages/sage/rings/polynomial/pbori.dll
```

and that's where it silently dies.

Any clues?


---

Comment by kcrisman created at 2011-12-02 13:21:02

> cygcheck: track_down: could not find libntl.dll And on c_lib.dll cygcheck also reports that it can't find libntl.dll 
> Indeed, there is no libntl.dll. There is an .dll.a file, despite the fact that it's a dynamic library. Some misnaming has occurred. Renaming local/lib/libntl.dll.a to local/lib/libntl.dll fixes this particular error.

Sweet! Because that's #11635. I don't know if it has to be upgraded or not, but that's good news.


---

Comment by kcrisman created at 2011-12-02 13:48:15

> and that's where it silently dies. Any clues?
I use

```
./sage -gdb 
```

for this, at least I think that's the syntax.


---

Comment by dimpase created at 2011-12-02 16:48:29

Replying to [comment:8 kcrisman]:
> > and that's where it silently dies. Any clues?
> I use
> {{{
> ./sage -gdb 
> }}}
> for this, at least I think that's the syntax.

here is the segfault I get (in PARI, in fact):

```
Program received signal SIGSEGV, Segmentation fault.
0x36b09c5f in err_init () at ../src/language/init.c:885
885     ../src/language/init.c: No such file or directory.
        in ../src/language/init.c
(gdb) bt
#0  0x36b09c5f in err_init () at ../src/language/init.c:885
#1  pari_err (numerr=14) at ../src/language/init.c:987
#2  0x36aed9ec in new_chunk (x=4) at ../src/kernel/none/level1.h:86
#3  cgetr (x=4) at ../src/kernel/none/level1.h:141
#4  _fu601___signals () at sage/rings/real_mpfr.c:15786
#5  0x3169c36a in PyObject_Call ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#6  0x7020c90f in __pyx_pf_4sage_5rings_14complex_number_13ComplexNumber_11_pari_ (__pyx_v_self=0x7e22a80c, unused=0x0) at sage/rings/complex_number.c:4757
#7  0x3169c36a in PyObject_Call ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#8  0x38d2d490 in __pyx_pf_4sage_5rings_10polynomial_18polynomial_element_10Polynomial_87_pari_with_name (__pyx_v_self=0x7e1c15cc, __pyx_v_name=0x7fe66a60)
    at sage/rings/polynomial/polynomial_element.c:28029
#9  0x3169c36a in PyObject_Call ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#10 0x38d24439 in __pyx_pf_4sage_5rings_10polynomial_18polynomial_element_10Polynomial_86_pari_ (__pyx_v_self=0x7e1c15cc, unused=0x0)
    at sage/rings/polynomial/polynomial_element.c:27943
#11 0x3169c36a in PyObject_Call ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#12 0x345929f1 in __pyx_pf_4sage_4libs_4pari_3gen_12PariInstance_14__call__ (
    __pyx_v_self=0x7f96d1ac, __pyx_args=0x7e1b734c, __pyx_kwds=0x0)
    at sage/libs/pari/gen.c:42883
#13 0x3169c36a in PyObject_Call ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#14 0x38db3df3 in __pyx_pf_4sage_5rings_10polynomial_18polynomial_element_10Polynomial_95roots (__pyx_v_self=0x7e1c15cc, __pyx_args=0x7fe3102c,
    __pyx_kwds=0x7e1b813c) at sage/rings/polynomial/polynomial_element.c:30848
#15 0x317305c9 in PyEval_EvalFrameEx ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#16 0x31731ac6 in PyEval_EvalCodeEx ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#17 0x316c292f in function_call ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#18 0x3169c36a in PyObject_Call ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#19 0x3172b3d2 in PyEval_CallObjectWithKeywords ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#20 0x38db77d3 in __pyx_pf_4sage_5rings_10polynomial_18polynomial_element_10Polynomial_95roots (__pyx_v_self=0x7e1ae4c4, __pyx_args=0x7fe3102c,
    __pyx_kwds=0x7e1b5e84) at sage/rings/polynomial/polynomial_element.c:31956
#21 0x3169c36a in PyObject_Call ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#22 0x3172b3d2 in PyEval_CallObjectWithKeywords ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#23 0x6d715e87 in __pyx_f_4sage_5rings_9real_lazy_13LazyAlgebraic_eval (
    __pyx_v_self=0x7e1b12fc, __pyx_v_R=0x7e30802c, __pyx_skip_dispatch=0)
    at sage/rings/real_lazy.c:12671
#24 0x6d703d9d in __pyx_pf_4sage_5rings_9real_lazy_16LazyFieldElement_10approx
    (__pyx_v_self=0x7e1b12fc, unused=0x0) at sage/rings/real_lazy.c:6914
#25 0x3169c36a in PyObject_Call ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#26 0x6d717444 in __pyx_f_4sage_5rings_9real_lazy_16LazyFieldElement__cmp_c_impl (__pyx_v_self=0x7e1b12fc, __pyx_v_other=0x7e1b3aac)
    at sage/rings/real_lazy.c:6393
#27 0x70ac5878 in __pyx_f_4sage_9structure_7element_7Element__richcmp_c_impl (
    __pyx_v_left=0x7e1b12fc, __pyx_v_right=0x7e1b3aac, __pyx_v_op=3)
    at sage/structure/element.c:7602
#28 0x70aefdb6 in __pyx_f_4sage_9structure_7element_7Element__richcmp (
    __pyx_v_left=0x7e1b12fc, __pyx_v_right=0x7e1b3aac, __pyx_v_op=3)
    at sage/structure/element.c:7329
#29 0x6d704d44 in __pyx_pf_4sage_5rings_9real_lazy_16LazyFieldElement_7__richcmp__ (__pyx_v_left=0x7e1b12fc, __pyx_v_right=0x7e1b3aac, __pyx_v_op=3)
    at sage/rings/real_lazy.c:6472
#30 0x316d6e90 in try_rich_compare ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#31 0x316d89d6 in PyObject_RichCompare ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#32 0x70ad80ec in __pyx_pf_4sage_9structure_7element_7Element_28__nonzero__ (
    __pyx_v_self=0x7e1b12fc) at sage/structure/element.c:5990
#33 0x316d872e in PyObject_IsTrue ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#34 0x38d21bb6 in __Pyx_PyObject_IsTrue (x=<optimized out>)
    at sage/rings/polynomial/polynomial_element.c:48284
#35 0x38dad510 in __pyx_pf_4sage_5rings_10polynomial_18polynomial_element_10Poly---Type <return> to continue, or q <return> to quit---
nomial_8__call__ (__pyx_v_self=0x7e1aea04, __pyx_args=0x7e1b0f4c,
    __pyx_kwds=0x7e1b48ac) at sage/rings/polynomial/polynomial_element.c:7155
#36 0x316b28a5 in wrapper_call ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#37 0x3169c36a in PyObject_Call ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#38 0x3172b3d2 in PyEval_CallObjectWithKeywords ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#39 0x316b3924 in wrapperdescr_call ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#40 0x3169c36a in PyObject_Call ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#41 0x3172b3d2 in PyEval_CallObjectWithKeywords ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#42 0x38f9184a in __pyx_pf_4sage_5rings_10polynomial_25polynomial_rational_flint_25Polynomial_rational_flint_12__call__ (__pyx_v_self=0x7e1aea04,
    __pyx_args=0x7e1b692c, __pyx_kwds=0x0)
    at sage/rings/polynomial/polynomial_rational_flint.cpp:7155
#43 0x3169c36a in PyObject_Call ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#44 0x6e442106 in __pyx_f_4sage_5rings_12number_field_22number_field_morphisms_20NumberFieldEmbedding__call_ (__pyx_v_self=0x7e1b120c, __pyx_v_x=0x7e2233d4,
    __pyx_skip_dispatch=0)
    at sage/rings/number_field/number_field_morphisms.c:2166
#45 0x62a03475 in __pyx_f_4sage_10categories_3map_18FormalCompositeMap__call_ (
    __pyx_v_self=0x7e1ae8ec, __pyx_v_x=0x7e2233d4, __pyx_skip_dispatch=0)
    at sage/categories/map.c:5954
#46 0x6475f965 in __pyx_pf_4sage_9structure_6parent_6Parent_13__call__ (
    __pyx_v_self=0x7f8862ac, __pyx_args=0x7e1b0b8c, __pyx_kwds=0x0)
    at sage/structure/parent.c:7326
#47 0x316b28a5 in wrapper_call ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#48 0x3169c36a in PyObject_Call ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#49 0x3172b3d2 in PyEval_CallObjectWithKeywords ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#50 0x316b3924 in wrapperdescr_call ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
---Type <return> to continue, or q <return> to quit---
#51 0x3169c36a in PyObject_Call ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#52 0x68c86fdf in __pyx_pf_4sage_5rings_14complex_double_24ComplexDoubleField_class_10__call__ (__pyx_v_self=0x7f8862ac, __pyx_args=0x7e1aad8c, __pyx_kwds=0x0)
    at sage/rings/complex_double.c:3723
#53 0x3169c36a in PyObject_Call ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#54 0x3172f705 in PyEval_EvalFrameEx ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#55 0x31731ac6 in PyEval_EvalCodeEx ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#56 0x316c292f in function_call ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#57 0x3169c36a in PyObject_Call ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#58 0x316acad6 in instancemethod_call ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#59 0x3169c36a in PyObject_Call ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#60 0x316f22da in slot_tp_init ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#61 0x316f117a in type_call ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#62 0x3169c36a in PyObject_Call ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#63 0x3172f705 in PyEval_EvalFrameEx ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#64 0x31731ac6 in PyEval_EvalCodeEx ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#65 0x316c292f in function_call ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#66 0x3169c36a in PyObject_Call ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#67 0x3172eac9 in PyEval_EvalFrameEx ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#68 0x31731ac6 in PyEval_EvalCodeEx ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#69 0x316c292f in function_call ()
---Type <return> to continue, or q <return> to quit---
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#70 0x3169c36a in PyObject_Call ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#71 0x3172b3d2 in PyEval_CallObjectWithKeywords ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#72 0x6b4a7dc3 in __pyx_pf_4sage_8symbolic_5pynac_33init_pynac_I (
    __pyx_self=<optimized out>, unused=0x0) at sage/symbolic/pynac.cpp:17799
#73 0x3169c36a in PyObject_Call ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#74 0x6b4a5260 in initpynac () at sage/symbolic/pynac.cpp:19922
#75 0x31748c68 in _PyImport_LoadDynamicModule ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#76 0x317467f8 in load_module ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#77 0x31746e60 in import_submodule ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#78 0x317470d5 in load_next ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#79 0x31747695 in import_module_level.clone.2 ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#80 0x31747dc0 in PyImport_ImportModuleLevel ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#81 0x31729c38 in builtin___import__ ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#82 0x3169c36a in PyObject_Call ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#83 0x3172a990 in PyEval_CallObjectWithKeywords.clone.0 ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#84 0x3172cd7d in PyEval_EvalFrameEx ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#85 0x31731ac6 in PyEval_EvalCodeEx ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#86 0x31731bd7 in PyEval_EvalCode ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#87 0x31745ab7 in PyImport_ExecCodeModuleEx ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#88 0x31745e5d in load_source_module ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
---Type <return> to continue, or q <return> to quit---
#89 0x31746e60 in import_submodule ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#90 0x317470d5 in load_next ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#91 0x31747695 in import_module_level.clone.2 ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#92 0x31747dc0 in PyImport_ImportModuleLevel ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#93 0x31729c38 in builtin___import__ ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#94 0x3169c36a in PyObject_Call ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#95 0x3172a990 in PyEval_CallObjectWithKeywords.clone.0 ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#96 0x3172cd7d in PyEval_EvalFrameEx ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#97 0x31731ac6 in PyEval_EvalCodeEx ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#98 0x31731bd7 in PyEval_EvalCode ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#99 0x31751122 in PyRun_InteractiveOneFlags ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#100 0x317512c6 in PyRun_InteractiveLoopFlags ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#101 0x31752c0b in PyRun_AnyFileExFlags ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#102 0x3175fc99 in Py_Main ()
   from /cygdrive/c/cygwin/usr/local/sage/sage-4.7.2/local/bin/libpython2.6.dll
#103 0x00401190 in main (argc=2, argv=0xc2c550) at ./Modules/python.c:23
(gdb)
```


looks familiar?


---

Comment by kcrisman created at 2011-12-02 17:34:40

> looks familiar?
Umm, yes!  The following is all I needed to see:

```
init_pynac_I
```

It's #11551.   I spent MANY hours on this over the summer without much luck.

Great, that means we're back where we were before - Mike Hansen already knew about this probably 9 months ago, so luckily we've managed to get _back_ to that point :)

My recommendation, if the randstate thing does turn out to be #11635, is to close this ticket as a duplicate.


---

Comment by kcrisman created at 2011-12-02 17:39:35

Replying to [comment:7 kcrisman]:
> > cygcheck: track_down: could not find libntl.dll And on c_lib.dll cygcheck also reports that it can't find libntl.dll 
> > Indeed, there is no libntl.dll. There is an .dll.a file, despite the fact that it's a dynamic library. Some misnaming has occurred. Renaming local/lib/libntl.dll.a to local/lib/libntl.dll fixes this particular error.
> 
> Sweet! Because that's #11635. I don't know if it has to be upgraded or not, but that's good news.

Since [4.8.alpha3](http://sage.math.washington.edu/home/release/sage-4.8.alpha3/sage-4.8.alpha3/spkg/standard/) still has the (unpatched) ntl 5.5.2, I think that #11635 should solve the problem.  

Dima, if you can confirm that and the #11551 being the other issue, we should close this ticket as a dup.  I'm setting things in such a way that you can just set to positive review if that's the case.


---

Comment by kcrisman created at 2011-12-02 17:39:35

Changing status from new to needs_review.


---

Comment by dimpase created at 2011-12-02 17:53:48

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2011-12-09 10:24:42

Resolution: duplicate
