# Issue 27285: implement Conway polynomial

archive/issues_027285.json:
```json
{
    "body": "CC:  @tscrim @miguelmarco @slel @soehms\n\nKeywords: knot\n\nas deduced from Alexander polynomial\n\nIssue created by migration from https://trac.sagemath.org/ticket/27522\n\n",
    "closed_at": "2022-05-24T22:44:47Z",
    "created_at": "2019-03-21T08:54:47Z",
    "labels": [
        "component: algebraic topology",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.7",
    "title": "implement Conway polynomial",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/27285",
    "user": "https://github.com/fchapoton"
}
```
CC:  @tscrim @miguelmarco @slel @soehms

Keywords: knot

as deduced from Alexander polynomial

Issue created by migration from https://trac.sagemath.org/ticket/27522





---

archive/issue_comments_384201.json:
```json
{
    "body": "still needs work\n\n---\nNew commits:",
    "created_at": "2019-03-21T08:55:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27285#issuecomment-384201",
    "user": "https://github.com/fchapoton"
}
```

still needs work

---
New commits:



---

archive/issue_comments_384202.json:
```json
{
    "body": "There remains an issue about normalisation, plus more doctests needed.",
    "created_at": "2019-03-23T06:49:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27285#issuecomment-384202",
    "user": "https://github.com/fchapoton"
}
```

There remains an issue about normalisation, plus more doctests needed.



---

archive/issue_comments_384203.json:
```json
{
    "body": "As the Sage-8.8 release milestone is pending, we should delete the sage-8.8 milestone for tickets that are not actively being worked on or that still require significant work to move forward.  If you feel that this ticket should be included in the next Sage release at the soonest please set its milestone to the next release milestone (sage-8.9).",
    "created_at": "2019-06-14T14:55:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27285#issuecomment-384203",
    "user": "https://github.com/embray"
}
```

As the Sage-8.8 release milestone is pending, we should delete the sage-8.8 milestone for tickets that are not actively being worked on or that still require significant work to move forward.  If you feel that this ticket should be included in the next Sage release at the soonest please set its milestone to the next release milestone (sage-8.9).



---

archive/issue_comments_384204.json:
```json
{
    "body": "Changing keywords from \"\" to \"knot\".",
    "created_at": "2020-06-24T12:40:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27285#issuecomment-384204",
    "user": "https://github.com/fchapoton"
}
```

Changing keywords from "" to "knot".



---

archive/issue_comments_384205.json:
```json
{
    "body": "I don't understand the line\n\n```\nM = M // 2\n```\n\nin your code. If I uncomment it I'm getting the correct result.\n\n\nBTW: Wouldn't it by useful, to introduce a second option to obtain the *Conway polynomial* via the *Homfly polynomial* for cross check purpose?\n\n\n```\nsage: B = BraidGroup(3)\nsage: L41 = Link(B([1, -2, 1, -2]))\nsage: h41 = L41.homfly_polynomial(normalization='az'); h41\nL^2 - M^2 - 1 + L^-2\nsage: c41 = L41.conway_polynomial(); c41\n1 - t^2\nsage: t, = c41.variables()\nsage:  hc41 = h41(1,t); hc41\n1 - t^2\nsage: hc41 == c41\nTrue\n```\n\n\nSince now we have Puiseux series available the *Homfly polynomial* can also easily be used for cross checks with *Alexander* and *Jones polynomials*:\n\n\n```\nsage: a41 = L41.alexander_polynomial(); a41\n-t^-1 + 3 - t\nsage: j41 = L41.jones_polynomial(); j41\nt^2 - t - 1/t + 1/t^2 + 1\n\nsage: P.<t> = PuiseuxSeriesRing(ZZ)\nsage: ha41 = h41(1,t^(-1/2) -t^(1/2)); ha41\n-t^-1 + 3 - t\nsage: ha41.laurent_series().laurent_polynomial() == a41\nTrue\n\nsage: hj41 = h41(~t,t^(-1/2) -t^(1/2)); hj41\nt^-2 - t^-1 + 1 - t + t^2\nsage: hjp41 = hj41.laurent_series().laurent_polynomial()\nsage: L = hjp41.parent()\nsage: hjp41 == L(j41)\nTrue\n\n```\n\nAs soon as we have Puiseux polynomials available, an option to use it would be a nice enhancement here, too.",
    "created_at": "2020-06-30T07:08:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27285#issuecomment-384205",
    "user": "https://github.com/soehms"
}
```

I don't understand the line

```
M = M // 2
```

in your code. If I uncomment it I'm getting the correct result.


BTW: Wouldn't it by useful, to introduce a second option to obtain the *Conway polynomial* via the *Homfly polynomial* for cross check purpose?


```
sage: B = BraidGroup(3)
sage: L41 = Link(B([1, -2, 1, -2]))
sage: h41 = L41.homfly_polynomial(normalization='az'); h41
L^2 - M^2 - 1 + L^-2
sage: c41 = L41.conway_polynomial(); c41
1 - t^2
sage: t, = c41.variables()
sage:  hc41 = h41(1,t); hc41
1 - t^2
sage: hc41 == c41
True
```


Since now we have Puiseux series available the *Homfly polynomial* can also easily be used for cross checks with *Alexander* and *Jones polynomials*:


```
sage: a41 = L41.alexander_polynomial(); a41
-t^-1 + 3 - t
sage: j41 = L41.jones_polynomial(); j41
t^2 - t - 1/t + 1/t^2 + 1

sage: P.<t> = PuiseuxSeriesRing(ZZ)
sage: ha41 = h41(1,t^(-1/2) -t^(1/2)); ha41
-t^-1 + 3 - t
sage: ha41.laurent_series().laurent_polynomial() == a41
True

sage: hj41 = h41(~t,t^(-1/2) -t^(1/2)); hj41
t^-2 - t^-1 + 1 - t + t^2
sage: hjp41 = hj41.laurent_series().laurent_polynomial()
sage: L = hjp41.parent()
sage: hjp41 == L(j41)
True

```

As soon as we have Puiseux polynomials available, an option to use it would be a nice enhancement here, too.



---

archive/issue_comments_384206.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-05-06T11:28:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27285#issuecomment-384206",
    "user": "https://github.com/soehms"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_384207.json:
```json
{
    "body": "Frederic, I still think that the line of code I posted in my previous comment (from June 2020) should be removed. After removing it the cross check against all of KnotInfo's Conway polynomials passes.\n\n```\nsage: B = BraidGroup(3)\n....: L = Link(B([1, -2, 1, -2]))\n....: L.conway_polynomial()\n-t^2 + 1\nsage: R = _.parent()\nsage: kicps = {k:R(k[k.items.conway_polynomial].replace('z', 't')) for k in KnotInfo}\nsage: len(kicps)\n7166\nsage: %time all(k.link().conway_polynomial() == kicps[k] for k in KnotInfo)\nCPU times: user 6min 25s, sys: 270 ms, total: 6min 26s\nWall time: 6min 26s\nTrue\n```\n\nI push a corresponding fix and in addition add some doctests. If you agree with it you may give it a positive review.\n\n---\nNew commits:",
    "created_at": "2022-05-06T11:28:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27285#issuecomment-384207",
    "user": "https://github.com/soehms"
}
```

Frederic, I still think that the line of code I posted in my previous comment (from June 2020) should be removed. After removing it the cross check against all of KnotInfo's Conway polynomials passes.

```
sage: B = BraidGroup(3)
....: L = Link(B([1, -2, 1, -2]))
....: L.conway_polynomial()
-t^2 + 1
sage: R = _.parent()
sage: kicps = {k:R(k[k.items.conway_polynomial].replace('z', 't')) for k in KnotInfo}
sage: len(kicps)
7166
sage: %time all(k.link().conway_polynomial() == kicps[k] for k in KnotInfo)
CPU times: user 6min 25s, sys: 270 ms, total: 6min 26s
Wall time: 6min 26s
True
```

I push a corresponding fix and in addition add some doctests. If you agree with it you may give it a positive review.

---
New commits:



---

archive/issue_comments_384208.json:
```json
{
    "body": "One small comment:\n\n```diff\n-: wikipedia:`Alexander_polynomial`\n+:wikipedia:`Alexander_polynomial`\n```",
    "created_at": "2022-05-09T04:53:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27285#issuecomment-384208",
    "user": "https://github.com/tscrim"
}
```

One small comment:

```diff
-: wikipedia:`Alexander_polynomial`
+:wikipedia:`Alexander_polynomial`
```



---

archive/issue_comments_384209.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-05-09T15:30:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27285#issuecomment-384209",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_384210.json:
```json
{
    "body": "Replying to [comment:8 tscrim]:\n> One small comment:\n> \n> ```diff\n> -: wikipedia:`Alexander_polynomial`\n> +:wikipedia:`Alexander_polynomial`\n> ```\n\n\nFixed!",
    "created_at": "2022-05-09T15:31:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27285#issuecomment-384210",
    "user": "https://github.com/soehms"
}
```

Replying to [comment:8 tscrim]:
> One small comment:
> 
> ```diff
> -: wikipedia:`Alexander_polynomial`
> +:wikipedia:`Alexander_polynomial`
> ```


Fixed!



---

archive/issue_comments_384211.json:
```json
{
    "body": "looks good to me. Please set to positive if you agree",
    "created_at": "2022-05-17T17:45:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27285#issuecomment-384211",
    "user": "https://github.com/fchapoton"
}
```

looks good to me. Please set to positive if you agree



---

archive/issue_comments_384212.json:
```json
{
    "body": "oh, by the way please fix the syntax in the second meth role here:\n\nSebastian Oehms (October 2020, add get_knotinfo() and meth:isisotopic",
    "created_at": "2022-05-17T17:46:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27285#issuecomment-384212",
    "user": "https://github.com/fchapoton"
}
```

oh, by the way please fix the syntax in the second meth role here:

Sebastian Oehms (October 2020, add get_knotinfo() and meth:isisotopic



---

archive/issue_comments_384213.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-05-18T06:12:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27285#issuecomment-384213",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_384214.json:
```json
{
    "body": "Replying to [comment:11 chapoton]:\n> looks good to me. Please set to positive if you agree\n\nThanks!\n\n> oh, by the way please fix the syntax in the second meth role here:\n\n\nDone.",
    "created_at": "2022-05-18T06:15:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27285#issuecomment-384214",
    "user": "https://github.com/soehms"
}
```

Replying to [comment:11 chapoton]:
> looks good to me. Please set to positive if you agree

Thanks!

> oh, by the way please fix the syntax in the second meth role here:


Done.



---

archive/issue_comments_384215.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-05-18T06:15:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27285#issuecomment-384215",
    "user": "https://github.com/soehms"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_068349.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-05-19T18:58:59Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27285",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27285#event-68349"
}
```



---

archive/issue_comments_384216.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-05-24T22:44:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27285#issuecomment-384216",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_068350.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-05-24T22:44:47Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/27285",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27285#event-68350"
}
```
