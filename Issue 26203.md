# Issue 26203: Fusion algebras from Weyl Character Rings

archive/issues_026203.json:
```json
{
    "body": "CC:  tscrim sage-combinat bump\n\nFusion algebras for WZW conformal field theories can be computed easily as instances of WeylCharacterRings. The `WeylCharacterRing` code is modified with an optional parameter k, the level. If `k==None` the behavior is unchanged. However if k is a positive integer the corresponding fusion ring is created. The reason this works is that the Kac-Walton algorithm for computing the fusion products is closely similar to the Brauer-Klimyk (aka Racah-Speiser) algorithm that is already used by the `WeylCharacterRing`. One has only to add an affine reflection to make the algorithm compute the fusion product.\n\nIssue created by migration from https://trac.sagemath.org/ticket/26440\n\n",
    "created_at": "2018-10-09T13:53:02Z",
    "labels": [
        "combinatorics",
        "major"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.4",
    "title": "Fusion algebras from Weyl Character Rings",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/26203",
    "user": "bump"
}
```
CC:  tscrim sage-combinat bump

Fusion algebras for WZW conformal field theories can be computed easily as instances of WeylCharacterRings. The `WeylCharacterRing` code is modified with an optional parameter k, the level. If `k==None` the behavior is unchanged. However if k is a positive integer the corresponding fusion ring is created. The reason this works is that the Kac-Walton algorithm for computing the fusion products is closely similar to the Brauer-Klimyk (aka Racah-Speiser) algorithm that is already used by the `WeylCharacterRing`. One has only to add an affine reflection to make the algorithm compute the fusion product.

Issue created by migration from https://trac.sagemath.org/ticket/26440





---

archive/issue_comments_369210.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2018-10-09T14:04:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26203#issuecomment-369210",
    "user": "bump"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_369211.json:
```json
{
    "body": "Set assignee to bump.",
    "created_at": "2018-10-09T14:04:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26203#issuecomment-369211",
    "user": "bump"
}
```

Set assignee to bump.



---

archive/issue_comments_369212.json:
```json
{
    "body": "New commits:",
    "created_at": "2018-10-09T14:26:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26203#issuecomment-369212",
    "user": "bump"
}
```

New commits:



---

archive/issue_comments_369213.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-10-10T01:07:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26203#issuecomment-369213",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_369214.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-10-10T01:09:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26203#issuecomment-369214",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_369215.json:
```json
{
    "body": "For fusion rings, we should have a method that returns the (finite) canonical basis as a list or an iterator. Actually `WeylCharacterRing` has a basis method that it inherits from `CombinatorialFreeModule`. \n\nTo avoid confusion with this basis method, the method that returns the basis as a list could then be called `fusion_basis`.\n\nSo, what is the best way to enumerate all dominant weights of level `<= k`?",
    "created_at": "2018-10-10T03:58:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26203#issuecomment-369215",
    "user": "bump"
}
```

For fusion rings, we should have a method that returns the (finite) canonical basis as a list or an iterator. Actually `WeylCharacterRing` has a basis method that it inherits from `CombinatorialFreeModule`. 

To avoid confusion with this basis method, the method that returns the basis as a list could then be called `fusion_basis`.

So, what is the best way to enumerate all dominant weights of level `<= k`?



---

archive/issue_comments_369216.json:
```json
{
    "body": "Replying to [comment:5 bump]:\n> For fusion rings, we should have a method that returns the (finite) canonical basis as a list or an iterator. Actually `WeylCharacterRing` has a basis method that it inherits from `CombinatorialFreeModule`. \n> \n> To avoid confusion with this basis method, the method that returns the basis as a list could then be called `fusion_basis`.\n\nI am not sure I like the basis for the fusion ring being anything other than what you want to call the `fusion_basis`. More generally, I am not sure I like that the basis for `WeylCharacterRing` is not the set of dominant integral weights. Since the fusion algebra is finite-dimensional, I definite would rather have `basis` correspond to the dominant weights of level `<= k` (which we would give in the `__init__` to `CombinatorialFreeModule`).\n\n> So, what is the best way to enumerate all dominant weights of level `<= k`?\n\nI just constructed this as a `RecursivelyEnumeratedSet`, but we could also use `WeightedIntegerVectors`. Between those two, I have not run timings to determine which is faster. Both should take 2 lines to construct (one to get the levels, one to construct the parent to iterate over).",
    "created_at": "2018-10-10T04:07:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26203#issuecomment-369216",
    "user": "tscrim"
}
```

Replying to [comment:5 bump]:
> For fusion rings, we should have a method that returns the (finite) canonical basis as a list or an iterator. Actually `WeylCharacterRing` has a basis method that it inherits from `CombinatorialFreeModule`. 
> 
> To avoid confusion with this basis method, the method that returns the basis as a list could then be called `fusion_basis`.

I am not sure I like the basis for the fusion ring being anything other than what you want to call the `fusion_basis`. More generally, I am not sure I like that the basis for `WeylCharacterRing` is not the set of dominant integral weights. Since the fusion algebra is finite-dimensional, I definite would rather have `basis` correspond to the dominant weights of level `<= k` (which we would give in the `__init__` to `CombinatorialFreeModule`).

> So, what is the best way to enumerate all dominant weights of level `<= k`?

I just constructed this as a `RecursivelyEnumeratedSet`, but we could also use `WeightedIntegerVectors`. Between those two, I have not run timings to determine which is faster. Both should take 2 lines to construct (one to get the levels, one to construct the parent to iterate over).



---

archive/issue_comments_369217.json:
```json
{
    "body": "> I am not sure I like the basis for the fusion ring being anything other than what you want to call the fusion_basis.\n\nDoes this mean we should overwrite the existing basis method (which, you are pointing out is already not correct)?\n\n> I just constructed this as a RecursivelyEnumeratedSet, but we could also use WeightedIntegerVectors. Between those two, I have not run timings to determine which is faster. Both should take 2 lines to construct (one to get the levels, one to construct the parent to iterate over).\n\nI doubt whether speed is an issue for this. The user will run it once. So you could choose on the basis of elegance rather than timing.",
    "created_at": "2018-10-10T04:18:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26203#issuecomment-369217",
    "user": "bump"
}
```

> I am not sure I like the basis for the fusion ring being anything other than what you want to call the fusion_basis.

Does this mean we should overwrite the existing basis method (which, you are pointing out is already not correct)?

> I just constructed this as a RecursivelyEnumeratedSet, but we could also use WeightedIntegerVectors. Between those two, I have not run timings to determine which is faster. Both should take 2 lines to construct (one to get the levels, one to construct the parent to iterate over).

I doubt whether speed is an issue for this. The user will run it once. So you could choose on the basis of elegance rather than timing.



---

archive/issue_comments_369218.json:
```json
{
    "body": "Replying to [comment:7 bump]:\n> > I am not sure I like the basis for the fusion ring being anything other than what you want to call the fusion_basis.\n> \n> Does this mean we should overwrite the existing basis method (which, you are pointing out is already not correct)?\n\nWell, sort of. What I think should be done is the correct indices needs to be passed to `CombinatorialFreeModule.__init__` (instead of `self._space`). This will also automatically put it into the category of `FiniteDimensionalModulesWithBasis` and give it extra methods.\n\nWith the existing basis method, the actual basis is too big as it says that, e.g., -\\Lambda<sub>1</sub> is a basis elements. However, this is not allowed through more standard constructions. For simplicity of the implementation, this is nice. Although for the `style='coroots'`, you can get a fair bit of speed by using weights expressed as linear combinations of fundamental weights rather than in the ambient basis (I have some really hacked together code to get some computations at a reasonable speed and memory usage I need in E<sub>7</sub> that I need to cleanup to get into Sage). Although it means some code duplication and added complexity. However, this makes it more ameable to the \"correct\" basis. Unless I am misunderstanding something about what this should be able to compute.\n\n> > I just constructed this as a RecursivelyEnumeratedSet, but we could also use WeightedIntegerVectors. Between those two, I have not run timings to determine which is faster. Both should take 2 lines to construct (one to get the levels, one to construct the parent to iterate over).\n> \n> I doubt whether speed is an issue for this. The user will run it once. So you could choose on the basis of elegance rather than timing.\n\nTiming might matter if someone wants to construct a \"large\" rank and level example. In terms of elegance, I would say `WeightedIntegerVectors` is better and more inline with the output as sums of fundamental weights (as dense vectors).",
    "created_at": "2018-10-10T05:00:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26203#issuecomment-369218",
    "user": "tscrim"
}
```

Replying to [comment:7 bump]:
> > I am not sure I like the basis for the fusion ring being anything other than what you want to call the fusion_basis.
> 
> Does this mean we should overwrite the existing basis method (which, you are pointing out is already not correct)?

Well, sort of. What I think should be done is the correct indices needs to be passed to `CombinatorialFreeModule.__init__` (instead of `self._space`). This will also automatically put it into the category of `FiniteDimensionalModulesWithBasis` and give it extra methods.

With the existing basis method, the actual basis is too big as it says that, e.g., -\Lambda<sub>1</sub> is a basis elements. However, this is not allowed through more standard constructions. For simplicity of the implementation, this is nice. Although for the `style='coroots'`, you can get a fair bit of speed by using weights expressed as linear combinations of fundamental weights rather than in the ambient basis (I have some really hacked together code to get some computations at a reasonable speed and memory usage I need in E<sub>7</sub> that I need to cleanup to get into Sage). Although it means some code duplication and added complexity. However, this makes it more ameable to the "correct" basis. Unless I am misunderstanding something about what this should be able to compute.

> > I just constructed this as a RecursivelyEnumeratedSet, but we could also use WeightedIntegerVectors. Between those two, I have not run timings to determine which is faster. Both should take 2 lines to construct (one to get the levels, one to construct the parent to iterate over).
> 
> I doubt whether speed is an issue for this. The user will run it once. So you could choose on the basis of elegance rather than timing.

Timing might matter if someone wants to construct a "large" rank and level example. In terms of elegance, I would say `WeightedIntegerVectors` is better and more inline with the output as sums of fundamental weights (as dense vectors).



---

archive/issue_comments_369219.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-10-10T16:54:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26203#issuecomment-369219",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_369220.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-10-10T17:05:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26203#issuecomment-369220",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_369221.json:
```json
{
    "body": "I implemented `fusion_basis` method using `RecursivelyEnumeratedSet`. Travis, feel free to change basis per comments 6 and 8.\n\nI also fixed a bug that broke WeylCharacterRing for reducible types.",
    "created_at": "2018-10-10T17:08:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26203#issuecomment-369221",
    "user": "bump"
}
```

I implemented `fusion_basis` method using `RecursivelyEnumeratedSet`. Travis, feel free to change basis per comments 6 and 8.

I also fixed a bug that broke WeylCharacterRing for reducible types.



---

archive/issue_comments_369222.json:
```json
{
    "body": "Changing keywords from \"\" to \"Fusion Ring, Verlinde Algebra\".",
    "created_at": "2018-10-11T12:53:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26203#issuecomment-369222",
    "user": "bump"
}
```

Changing keywords from "" to "Fusion Ring, Verlinde Algebra".



---

archive/issue_comments_369223.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-10-11T12:53:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26203#issuecomment-369223",
    "user": "bump"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_369224.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-10-19T21:58:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26203#issuecomment-369224",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_369225.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-10-20T15:05:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26203#issuecomment-369225",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_369226.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-10-24T02:56:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26203#issuecomment-369226",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_369227.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-10-24T02:58:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26203#issuecomment-369227",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_369228.json:
```json
{
    "body": "I made the `FusionRing` explicitly construct and set its basis on initialization. One small drawback to this is that a basis has to be constructed at initialization, but it should be relatively quick to compute since it is just adding weights.\n\nOne issue I did find and fix is with type A and the ambient space not having a well-defined normalization for the fundamental weights. So I instead converted the ambient weights to be expressed in terms of the fundamental weights (i.e., how `style=\"coroots\"` prints) to match up with the `fusion_labels`.",
    "created_at": "2018-10-24T03:00:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26203#issuecomment-369228",
    "user": "tscrim"
}
```

I made the `FusionRing` explicitly construct and set its basis on initialization. One small drawback to this is that a basis has to be constructed at initialization, but it should be relatively quick to compute since it is just adding weights.

One issue I did find and fix is with type A and the ambient space not having a well-defined normalization for the fundamental weights. So I instead converted the ambient weights to be expressed in terms of the fundamental weights (i.e., how `style="coroots"` prints) to match up with the `fusion_labels`.



---

archive/issue_comments_369229.json:
```json
{
    "body": "So I think all we need to do at this point to set this to a positive review is to add the appropriate documentation and tests.",
    "created_at": "2018-10-24T03:02:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26203#issuecomment-369229",
    "user": "tscrim"
}
```

So I think all we need to do at this point to set this to a positive review is to add the appropriate documentation and tests.



---

archive/issue_comments_369230.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-10-24T05:45:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26203#issuecomment-369230",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_369231.json:
```json
{
    "body": "> So I think all we need to do at this point to set this to a positive review is to add the appropriate documentation and tests.\n\nMost of the new methods have doctests.\n\nI just made a minor change which is to make dual a method of the element, not the ring.\n\nI'm a little dissatisfied that the S-matrix has not been implemented but that can be another patch.",
    "created_at": "2018-10-24T05:49:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26203#issuecomment-369231",
    "user": "bump"
}
```

> So I think all we need to do at this point to set this to a positive review is to add the appropriate documentation and tests.

Most of the new methods have doctests.

I just made a minor change which is to make dual a method of the element, not the ring.

I'm a little dissatisfied that the S-matrix has not been implemented but that can be another patch.



---

archive/issue_comments_369232.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-10-25T14:54:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26203#issuecomment-369232",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_369233.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-10-25T20:09:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26203#issuecomment-369233",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_369234.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-10-25T20:50:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26203#issuecomment-369234",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_369235.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-10-26T02:20:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26203#issuecomment-369235",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_369236.json:
```json
{
    "body": "I added some additional doctests, which led me to finding a bug with `some_elements` returning elements that are not basis elements of the fusion ring because the level of the fundamental weight is too large. I also moved the references to the masted reference file (and added a bit more details to them). If my changes are good, then you can set a positive review.",
    "created_at": "2018-10-26T02:21:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26203#issuecomment-369236",
    "user": "tscrim"
}
```

I added some additional doctests, which led me to finding a bug with `some_elements` returning elements that are not basis elements of the fusion ring because the level of the fundamental weight is too large. I also moved the references to the masted reference file (and added a bit more details to them). If my changes are good, then you can set a positive review.



---

archive/issue_comments_369237.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-10-27T01:44:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26203#issuecomment-369237",
    "user": "bump"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_369238.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2018-10-27T22:56:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26203#issuecomment-369238",
    "user": "vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_369239.json:
```json
{
    "body": "Test failures (see patchbot)",
    "created_at": "2018-10-27T22:56:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26203#issuecomment-369239",
    "user": "vbraun"
}
```

Test failures (see patchbot)



---

archive/issue_comments_369240.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-10-27T23:21:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26203#issuecomment-369240",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_369241.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-10-27T23:22:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26203#issuecomment-369241",
    "user": "tscrim"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_369242.json:
```json
{
    "body": "The failures come from the difference between `is_atomic` and `is_irreducible`. I changed this to the appropriate tests. Please check.",
    "created_at": "2018-10-27T23:22:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26203#issuecomment-369242",
    "user": "tscrim"
}
```

The failures come from the difference between `is_atomic` and `is_irreducible`. I changed this to the appropriate tests. Please check.



---

archive/issue_comments_369243.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-10-27T23:23:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26203#issuecomment-369243",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_369244.json:
```json
{
    "body": "I also did some small tweaks for speed.",
    "created_at": "2018-10-27T23:23:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26203#issuecomment-369244",
    "user": "tscrim"
}
```

I also did some small tweaks for speed.



---

archive/issue_comments_369245.json:
```json
{
    "body": "This passes the tests in weyl_characters.py and I am also able to build the documentation. May I change the status back to positive_review?",
    "created_at": "2018-10-28T19:37:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26203#issuecomment-369245",
    "user": "bump"
}
```

This passes the tests in weyl_characters.py and I am also able to build the documentation. May I change the status back to positive_review?



---

archive/issue_comments_369246.json:
```json
{
    "body": "Thank you. They also pass for me.",
    "created_at": "2018-10-28T19:43:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26203#issuecomment-369246",
    "user": "tscrim"
}
```

Thank you. They also pass for me.



---

archive/issue_comments_369247.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-10-28T19:43:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26203#issuecomment-369247",
    "user": "tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_369248.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-10-29T22:46:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26203#issuecomment-369248",
    "user": "vbraun"
}
```

Resolution: fixed
