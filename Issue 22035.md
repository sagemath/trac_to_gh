# Issue 22035: Gap install error "Text file busy"

Issue created by migration from Trac.

Original creator: vbraun

Original creation time: 2017-01-29 11:30:21

CC:  dimpase

Keywords: random_fail

I haven't seen this one before:

```
[gap-4.8.3] Installing (copying) files...
[gap-4.8.3] cp: cannot create regular file '/home/buildbot/slave/sage_git/build/local/gap/gap-4.8.3/bin/x86_64-unknown-linux-gnu-gcc-default64/gap': Text file busy
[gap-4.8.3] Error copying built GAP files.
```

Appears only randomly. The "text file busy" error means that we are trying to modify a currently-running executable (the text segment, nothing to do with plain text). Presumably thats a parallel build dependency error.


---

Comment by dimpase created at 2017-01-29 11:51:24

I have seen this quite a bit, and yes, killing GAP processes helps.
No idea how to fix this nicely, though.


---

Comment by dimpase created at 2017-01-29 16:08:06

Changing status from new to needs_review.


---

Comment by dimpase created at 2017-01-29 16:08:06

makes sense!
----
New commits:


---

Comment by dimpase created at 2017-01-29 17:55:39

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2017-01-31 20:47:09

Resolution: fixed


---

Comment by vbraun created at 2017-01-31 20:51:12

Resolution changed from fixed to 


---

Comment by vbraun created at 2017-01-31 20:51:12

I'm getting

```
[gap-4.8.3] Removing previous installation of GAP...
[gap-4.8.3] Installing (copying) files...
[gap-4.8.3] mkdir: cannot create directory '/home/buildslave-sage/slave/sage_git/build/local/gap/gap-4.8.3': No such file or directory
[gap-4.8.3] Error copying built GAP files.
```

The mkdir **-p** was important after all...
----
New commits:


---

Comment by vbraun created at 2017-01-31 20:51:12

Changing status from closed to new.


---

Comment by jdemeyer created at 2017-02-01 09:26:14

Of course the `-p` is important. I will confused because `-p` does _two_ things:

1. It will create any non-existing parent directories.

2. It will not complain if the directory already exists.

I thought that the `-p` was only needed for 2. but it is obviously also needed for 1.


---

Comment by git created at 2017-02-01 09:35:12

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jdemeyer created at 2017-02-01 14:43:31

Changing status from new to needs_review.


---

Comment by dimpase created at 2017-02-01 16:29:22

OK.


---

Comment by dimpase created at 2017-02-01 16:29:22

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2017-02-02 22:09:08

Resolution: fixed
