# Issue 31565: Bug in plotting 3d polyhedron with rays

Issue created by migration from https://trac.sagemath.org/ticket/31802

Original creator: yzh

Original creation time: 2021-05-09 14:59:54

CC:  mkoeppe chapoton dcoudert slelievre jipilab

Visually, there is no different between the two plots:

```
p = Polyhedron(rays=[(0, 0, 1)],lines=[(1, 0, 0), (0, 1, 0)])
p.plot()
q = Polyhedron(lines=[(1, 0, 0), (0, 1, 0)])
q.plot()
```

The bug seems to be caused by `sage.geometry.polyhedron.Projection._init_solid_3d`, which discards the rays. There might also be a bug in `sage.geometry.polyhedron.Projection._init_lines_arrows`, but I'm not sure how to plot the arrows in this example.


---

Comment by git created at 2021-05-11 05:06:28

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by git created at 2021-05-11 07:45:36

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2021-05-11 08:56:25

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by yzh created at 2021-05-11 08:57:24

Changing status from new to needs_review.


---

Comment by git created at 2021-05-11 23:38:37

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @kliem created at 2021-05-12 07:51:08

`@`mkoeppe, `@`yzh: Can you please add you polyhedral tickets to https://trac.sagemath.org/wiki/SagePolyhedralGeometry.

That makes it easier to see what is going on and we also use this for the release notes.


---

Comment by mkoeppe created at 2021-07-19 00:44:56

Setting a new milestone for this ticket based on a cursory review.


---

Comment by mkoeppe created at 2021-12-18 19:53:12

Stalled in `needs_review` or `needs_info`; likely won't make it into Sage 9.5.


---

Comment by chapoton created at 2022-01-23 19:34:23

Changing status from needs_review to needs_work.


---

Comment by chapoton created at 2022-01-23 19:34:23

red branch => needs_work


---

Comment by mkoeppe created at 2022-04-02 18:29:51

Rebased on current beta
----
New commits:


---

Comment by mkoeppe created at 2022-04-02 18:29:51

Changing status from needs_work to needs_review.


---

Comment by mkoeppe created at 2022-04-02 18:41:53

The new rainbow option should be documented.

The changes to `point_opts`, `line_opts` need to be motivated


---

Comment by mkoeppe created at 2022-04-02 18:42:05

Changing status from needs_review to needs_work.


---

Comment by yzh created at 2022-04-04 10:00:33

New commits:


---

Comment by yzh created at 2022-04-04 10:00:33

Changing status from needs_work to needs_review.


---

Comment by mkoeppe created at 2022-04-04 17:20:59

Changing status from needs_review to needs_work.


---

Comment by mkoeppe created at 2022-04-04 17:20:59

patchbot indicates doctest failure


---

Comment by git created at 2022-04-04 18:11:26

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2022-04-05 18:14:24

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2022-04-05 18:46:37

Changing status from needs_work to needs_review.


---

Comment by mkoeppe created at 2022-04-05 19:00:36

This seems to work well.
----
New commits:


---

Comment by mkoeppe created at 2022-04-05 19:00:36

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2022-04-10 13:12:43

Resolution: fixed
