# Issue 30837: Explicitly define variables in env.py

Issue created by migration from https://trac.sagemath.org/ticket/31074

Original creator: @tobiasdiez

Original creation time: 2020-12-18 13:24:34

CC:  mkoeppe

Currently, the definition of variables in `env.py` uses magic involving `__all__`. This screws up static code analysis (pyright, flake8, ...) and makes the code harder to understand. Followings Python's zen "Explicit is Better than Implicit" the variables are now defined explicitly.


---

Comment by @tobiasdiez created at 2020-12-18 13:24:39

Changing status from new to needs_review.


---

Comment by mkoeppe created at 2020-12-18 19:24:31

Perhaps linebreaks after `var(` and before the default value could restore the beautiful handcrafted tabular design.


---

Comment by @tobiasdiez created at 2020-12-18 21:41:14

I had this before, and it was way less readable.


---

Comment by mkoeppe created at 2020-12-19 20:56:26

Best to merge #30901 or a merge conflict will happen later


---

Comment by @tobiasdiez created at 2020-12-20 09:55:39

I had too much trouble in the past with updating dependencies so I prefer not to use them except if they are really necessary. The changes here do not rely on the ones in #30901 and thus I prefer to handle the merge conflicts by simply pulling the latest develop branch once #30901 is merged.


---

Comment by git created at 2020-12-29 12:00:24

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @tobiasdiez created at 2020-12-29 12:02:00

Merged develop now.


---

Comment by mkoeppe created at 2020-12-29 18:27:53

Changing status from needs_review to needs_work.


---

Comment by mkoeppe created at 2020-12-29 18:27:53

patchbot shows doctest failures


---

Comment by git created at 2020-12-29 20:23:41

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @tobiasdiez created at 2020-12-29 20:23:58

Changing status from needs_work to positive_review.


---

Comment by @tobiasdiez created at 2020-12-29 20:23:58

Should be fixed now.


---

Comment by @tobiasdiez created at 2020-12-29 20:24:32

Changing status from positive_review to needs_review.


---

Comment by mkoeppe created at 2021-01-02 18:16:30

`Optional` is imported twice


---

Comment by mkoeppe created at 2021-01-02 18:16:30

Changing status from needs_review to needs_work.


---

Comment by git created at 2021-01-04 19:19:56

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @tobiasdiez created at 2021-01-04 19:20:25

Changing status from needs_work to needs_review.


---

Comment by @tobiasdiez created at 2021-01-04 19:20:25

Thanks, was a merge problem I guess. Fixed now.


---

Comment by mkoeppe created at 2021-01-06 02:20:17

Changing status from needs_review to positive_review.


---

Comment by @tobiasdiez created at 2021-01-06 09:11:35

Thanks!


---

Comment by vbraun created at 2021-01-17 13:45:55

Resolution: fixed
