# Issue 25447: FGP_module - add a transformation from and to the user defined generators.

Issue created by migration from Trac.

Original creator: sbrandhorst

Original creation time: 2018-06-28 07:50:44

CC:  tscrim

The FGP_module class allows the user to define a list of generators. 
But does not provide any functionality. Internally it computes (and prints) with respect to the smith form generators. This should implement some way to go back and forth between both generating systems.

- Note that no assumption is put on the generators except, that they should generate the module.
- We can implement this over `ZZ` and raise a `NotImplementedError` else.


---

Comment by sbrandhorst created at 2018-10-04 17:41:34

New commits:


---

Comment by sbrandhorst created at 2018-10-04 17:41:34

Changing status from new to needs_review.


---

Comment by git created at 2018-10-04 17:51:12

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2018-10-04 22:44:16

Even though I know it is only used internally, it is still a good practice to make the resulting matrix immutable for ``@`cached_method` to better prevent bugs.

Also, doc typos: `:meth:`to_smith`` -> `:meth:`_to_smith`` and `:meth:``gens``` -> `:meth:`gens``.

Do we want `_to_smith` and `_to_gens` to be hidden? I don't have any expertise in this area, but it seems like something that would be useful to the end-user and should be in the API.


---

Comment by sbrandhorst created at 2018-10-05 06:43:40

Replying to [comment:6 tscrim]:
> Even though I know it is only used internally, it is still a good practice to make the resulting matrix immutable for ``@`cached_method` to better prevent bugs.
Oh right. That is a good point :-)
> 
> Also, doc typos: `:meth:`to_smith`` -> `:meth:`_to_smith`` and `:meth:``gens``` -> `:meth:`gens``.
> 
> Do we want `_to_smith` and `_to_gens` to be hidden? I don't have any expertise in this area, but it seems like something that would be useful to the end-user and should be in the API.
They were quite useful for me. So O.K.


---

Comment by sbrandhorst created at 2018-10-05 08:03:37

I feel that the names of the methods are still a bit clumsy. Any idea?


---

Comment by git created at 2018-10-05 08:05:33

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2018-10-05 10:06:49

How about being a little more explicit: `smith_form_to_gens` and `gens_to_smith_form`?


---

Comment by sbrandhorst created at 2018-10-05 11:06:11

they are a bit long for my taste, but I like that the begin with smith and gens, so people can find them by using auto complete. +1


---

Comment by git created at 2018-10-05 11:22:50

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2018-10-05 12:25:47

Doc tweak:

```
        - ``x`` -- element of ``self``

        - ``reduce`` -- (default: ``False``); if ``True``,
          reduce coefficients modulo invariants; this is
          ignored if the base ring isn't `\ZZ`
```

LGTM otherwise.


---

Comment by git created at 2018-10-05 12:32:53

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2018-10-05 12:34:47

Thank you.


---

Comment by tscrim created at 2018-10-05 12:34:47

Changing status from needs_review to positive_review.


---

Comment by sbrandhorst created at 2018-10-05 12:55:17

Changing status from positive_review to needs_work.


---

Comment by sbrandhorst created at 2018-10-05 12:55:17

ah wait I noticed that it does not work in some cases. Maybe I should rethink


---

Comment by sbrandhorst created at 2018-10-05 12:55:42

for example if the module has infinite order


---

Comment by git created at 2018-10-05 13:31:29

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by sbrandhorst created at 2018-10-05 13:31:55

Changing status from needs_work to needs_review.


---

Comment by sbrandhorst created at 2018-10-05 13:32:58

This should work also in char 0. We compute the congruences row by row.
But it has the downside of having to change the ring of B several times.


---

Comment by sbrandhorst created at 2018-10-05 13:34:09

anyways it seems a lot cleaner.


---

Comment by tscrim created at 2018-10-05 21:21:44

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2018-10-05 21:21:44

LGTM.


---

Comment by vbraun created at 2018-10-20 11:59:01

Resolution: fixed


---

Comment by embray created at 2018-10-28 14:52:23

This should be re-targeted for 8.5.
