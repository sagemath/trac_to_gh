# Issue 11281: residue function for laurent series ring elements

Issue created by migration from Trac.

Original creator: tdupu

Original creation time: 2011-06-09 09:36:34

Assignee: AlexGhitza

CC:  kcrisman

Keywords: laurent series, ring, residue, beginner

Returns the coefficient of `a_{-1}` for a Laurent series ring element.


---

Attachment

There is a smarter way to implement this I think. When computing something like 
{{
(f*g).residue()
}} 
you really don't want to multiply out both f and g and then take the residue but rather sum over the coefficients which sum to -1. Is there a way to do this and things like this with the preparser?


---

Comment by chapoton created at 2012-07-21 19:33:42

Here is a better way :


```
        exp=self.exponents()
        if -1 in exp:
            return self.coefficients()[exp.index(-1)]
        else:
            return self.parent().base_ring().zero_element()
```


Maybe one can do even better..


---

Comment by chapoton created at 2012-07-22 19:49:45

It would be a better idea to write a generic function to extract the coefficient of t^i 


```
        exp=self.exponents()
        if i in exp:
            return self.coefficients()[exp.index(i)]
        else:
            return self.parent().base_ring().zero_element()
```



---

Comment by kcrisman created at 2012-07-23 13:50:42

Patchbot: apply [attachment:residue.patch].


---

Comment by chapoton created at 2012-08-24 08:47:36

Changing status from new to needs_review.


---

Comment by chapoton created at 2012-08-25 16:16:33

Changing status from needs_review to needs_work.


---

Comment by chapoton created at 2012-08-25 16:16:33

* The description is not very clear:

```
Return the residue of self.

The residue of a Laurent series in `t` is the coefficient of `1/t`.
```

would be more clear

* Please consider instead the shorter code suggested in comment 2 above.

* The example is not good. 

Indeed an_element may at some point change and return something else. 

It would be better to test on an explicit Laurent series, such as 

```
1/t**2+2/t+3+4*t
```



---

Comment by chapoton created at 2012-08-29 15:04:36

better patch


---

Attachment

Apply only: [attachment:trac_11453_residue_of_laurent_series-fc.patch]


---

Comment by chapoton created at 2012-08-29 15:05:23

Changing status from needs_work to needs_review.


---

Comment by chapoton created at 2012-08-29 15:09:47

Apply only: trac_11453_residue_of_laurent_series-fc.patch


---

Comment by tscrim created at 2012-11-15 19:09:51

Hey,

You can access arbitrary `i`-th coefficients from a Laurent series `f` by list accessors `f[i]`. So here's what I believe is the best way by calling `self[-1]`.

Best,

Travis

For patchbot:

Apply only: trac_11353-residue_laurent_series-ts.patch


---

Comment by chapoton created at 2012-11-15 19:48:52

looks good to me, but could you please remove the trailing whitespaces ?


---

Attachment

That should take care of all the trailing whitespace.


---

Comment by chapoton created at 2012-11-15 20:59:11

Apply only: trac_11353-residue_laurent_series-ts.patch


---

Comment by chapoton created at 2012-11-15 21:28:49

Changing status from needs_review to positive_review.


---

Comment by chapoton created at 2012-11-15 21:28:49

ok, positive review


---

Comment by tscrim created at 2012-11-15 21:31:17

Replying to [comment:13 chapoton]:
> ok, positive review
Thank you.


---

Comment by tscrim created at 2012-11-24 03:19:03

Forgot to change the description.


---

Comment by tscrim created at 2012-11-24 03:20:51

And now I realize there is a typo in the name of the patch (the number is wrong)...


---

Comment by jdemeyer created at 2012-12-18 11:17:09

Resolution: fixed
