# Issue 11281: residue function for laurent series ring elements

archive/issues_011281.json:
```json
{
    "body": "Assignee: @aghitza\n\nCC:  @kcrisman\n\nKeywords: laurent series, ring, residue, beginner\n\nReturns the coefficient of `a_{-1}` for a Laurent series ring element.\n\nIssue created by migration from https://trac.sagemath.org/ticket/11453\n\n",
    "created_at": "2011-06-09T09:36:34Z",
    "labels": [
        "component: algebra",
        "trivial"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.6",
    "title": "residue function for laurent series ring elements",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/11281",
    "user": "https://github.com/tdupu"
}
```
Assignee: @aghitza

CC:  @kcrisman

Keywords: laurent series, ring, residue, beginner

Returns the coefficient of `a_{-1}` for a Laurent series ring element.

Issue created by migration from https://trac.sagemath.org/ticket/11453





---

archive/issue_comments_124092.json:
```json
{
    "body": "Attachment [residue.patch](tarball://root/attachments/some-uuid/ticket11453/residue.patch) by @tdupu created at 2011-06-09 09:47:53\n\nThere is a smarter way to implement this I think. When computing something like \n{{\n(f*g).residue()\n}} \nyou really don't want to multiply out both f and g and then take the residue but rather sum over the coefficients which sum to -1. Is there a way to do this and things like this with the preparser?",
    "created_at": "2011-06-09T09:47:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11281#issuecomment-124092",
    "user": "https://github.com/tdupu"
}
```

Attachment [residue.patch](tarball://root/attachments/some-uuid/ticket11453/residue.patch) by @tdupu created at 2011-06-09 09:47:53

There is a smarter way to implement this I think. When computing something like 
{{
(f*g).residue()
}} 
you really don't want to multiply out both f and g and then take the residue but rather sum over the coefficients which sum to -1. Is there a way to do this and things like this with the preparser?



---

archive/issue_comments_124093.json:
```json
{
    "body": "Here is a better way :\n\n\n```\n        exp=self.exponents()\n        if -1 in exp:\n            return self.coefficients()[exp.index(-1)]\n        else:\n            return self.parent().base_ring().zero_element()\n```\n\n\nMaybe one can do even better..",
    "created_at": "2012-07-21T19:33:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11281#issuecomment-124093",
    "user": "https://github.com/fchapoton"
}
```

Here is a better way :


```
        exp=self.exponents()
        if -1 in exp:
            return self.coefficients()[exp.index(-1)]
        else:
            return self.parent().base_ring().zero_element()
```


Maybe one can do even better..



---

archive/issue_comments_124094.json:
```json
{
    "body": "It would be a better idea to write a generic function to extract the coefficient of t^i \n\n\n```\n        exp=self.exponents()\n        if i in exp:\n            return self.coefficients()[exp.index(i)]\n        else:\n            return self.parent().base_ring().zero_element()\n```\n",
    "created_at": "2012-07-22T19:49:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11281#issuecomment-124094",
    "user": "https://github.com/fchapoton"
}
```

It would be a better idea to write a generic function to extract the coefficient of t^i 


```
        exp=self.exponents()
        if i in exp:
            return self.coefficients()[exp.index(i)]
        else:
            return self.parent().base_ring().zero_element()
```




---

archive/issue_comments_124095.json:
```json
{
    "body": "Patchbot: apply [attachment:residue.patch].",
    "created_at": "2012-07-23T13:50:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11281#issuecomment-124095",
    "user": "https://github.com/kcrisman"
}
```

Patchbot: apply [attachment:residue.patch].



---

archive/issue_comments_124096.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-08-24T08:47:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11281#issuecomment-124096",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_124097.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-08-25T16:16:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11281#issuecomment-124097",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_124098.json:
```json
{
    "body": "* The description is not very clear:\n\n```\nReturn the residue of self.\n\nThe residue of a Laurent series in `t` is the coefficient of `1/t`.\n```\n\nwould be more clear\n\n* Please consider instead the shorter code suggested in comment 2 above.\n\n* The example is not good. \n\nIndeed an_element may at some point change and return something else. \n\nIt would be better to test on an explicit Laurent series, such as \n\n```\n1/t**2+2/t+3+4*t\n```\n",
    "created_at": "2012-08-25T16:16:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11281#issuecomment-124098",
    "user": "https://github.com/fchapoton"
}
```

* The description is not very clear:

```
Return the residue of self.

The residue of a Laurent series in `t` is the coefficient of `1/t`.
```

would be more clear

* Please consider instead the shorter code suggested in comment 2 above.

* The example is not good. 

Indeed an_element may at some point change and return something else. 

It would be better to test on an explicit Laurent series, such as 

```
1/t**2+2/t+3+4*t
```




---

archive/issue_comments_124099.json:
```json
{
    "body": "better patch",
    "created_at": "2012-08-29T15:04:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11281#issuecomment-124099",
    "user": "https://github.com/fchapoton"
}
```

better patch



---

archive/issue_comments_124100.json:
```json
{
    "body": "Attachment [trac_11453_residue_of_laurent_series-fc.patch](tarball://root/attachments/some-uuid/ticket11453/trac_11453_residue_of_laurent_series-fc.patch) by @fchapoton created at 2012-08-29 15:05:23\n\nApply only: [attachment:trac_11453_residue_of_laurent_series-fc.patch]",
    "created_at": "2012-08-29T15:05:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11281#issuecomment-124100",
    "user": "https://github.com/fchapoton"
}
```

Attachment [trac_11453_residue_of_laurent_series-fc.patch](tarball://root/attachments/some-uuid/ticket11453/trac_11453_residue_of_laurent_series-fc.patch) by @fchapoton created at 2012-08-29 15:05:23

Apply only: [attachment:trac_11453_residue_of_laurent_series-fc.patch]



---

archive/issue_comments_124101.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-08-29T15:05:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11281#issuecomment-124101",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_124102.json:
```json
{
    "body": "Apply only: trac_11453_residue_of_laurent_series-fc.patch",
    "created_at": "2012-08-29T15:09:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11281#issuecomment-124102",
    "user": "https://github.com/fchapoton"
}
```

Apply only: trac_11453_residue_of_laurent_series-fc.patch



---

archive/issue_comments_124103.json:
```json
{
    "body": "Hey,\n\nYou can access arbitrary `i`-th coefficients from a Laurent series `f` by list accessors `f[i]`. So here's what I believe is the best way by calling `self[-1]`.\n\nBest,\n\nTravis\n\nFor patchbot:\n\nApply only: trac_11353-residue_laurent_series-ts.patch",
    "created_at": "2012-11-15T19:09:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11281#issuecomment-124103",
    "user": "https://github.com/tscrim"
}
```

Hey,

You can access arbitrary `i`-th coefficients from a Laurent series `f` by list accessors `f[i]`. So here's what I believe is the best way by calling `self[-1]`.

Best,

Travis

For patchbot:

Apply only: trac_11353-residue_laurent_series-ts.patch



---

archive/issue_comments_124104.json:
```json
{
    "body": "looks good to me, but could you please remove the trailing whitespaces ?",
    "created_at": "2012-11-15T19:48:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11281#issuecomment-124104",
    "user": "https://github.com/fchapoton"
}
```

looks good to me, but could you please remove the trailing whitespaces ?



---

archive/issue_comments_124105.json:
```json
{
    "body": "Attachment [trac_11353-residue_laurent_series-ts.patch](tarball://root/attachments/some-uuid/ticket11453/trac_11353-residue_laurent_series-ts.patch) by @tscrim created at 2012-11-15 20:14:55\n\nThat should take care of all the trailing whitespace.",
    "created_at": "2012-11-15T20:14:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11281#issuecomment-124105",
    "user": "https://github.com/tscrim"
}
```

Attachment [trac_11353-residue_laurent_series-ts.patch](tarball://root/attachments/some-uuid/ticket11453/trac_11353-residue_laurent_series-ts.patch) by @tscrim created at 2012-11-15 20:14:55

That should take care of all the trailing whitespace.



---

archive/issue_comments_124106.json:
```json
{
    "body": "Apply only: trac_11353-residue_laurent_series-ts.patch",
    "created_at": "2012-11-15T20:59:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11281#issuecomment-124106",
    "user": "https://github.com/fchapoton"
}
```

Apply only: trac_11353-residue_laurent_series-ts.patch



---

archive/issue_comments_124107.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-11-15T21:28:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11281#issuecomment-124107",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_124108.json:
```json
{
    "body": "ok, positive review",
    "created_at": "2012-11-15T21:28:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11281#issuecomment-124108",
    "user": "https://github.com/fchapoton"
}
```

ok, positive review



---

archive/issue_comments_124109.json:
```json
{
    "body": "Replying to [comment:13 chapoton]:\n> ok, positive review\nThank you.",
    "created_at": "2012-11-15T21:31:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11281#issuecomment-124109",
    "user": "https://github.com/tscrim"
}
```

Replying to [comment:13 chapoton]:
> ok, positive review
Thank you.



---

archive/issue_comments_124110.json:
```json
{
    "body": "Forgot to change the description.",
    "created_at": "2012-11-24T03:19:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11281#issuecomment-124110",
    "user": "https://github.com/tscrim"
}
```

Forgot to change the description.



---

archive/issue_comments_124111.json:
```json
{
    "body": "And now I realize there is a typo in the name of the patch (the number is wrong)...",
    "created_at": "2012-11-24T03:20:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11281#issuecomment-124111",
    "user": "https://github.com/tscrim"
}
```

And now I realize there is a typo in the name of the patch (the number is wrong)...



---

archive/issue_comments_124112.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2012-12-18T11:17:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11281#issuecomment-124112",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_events_029774.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-12-18T11:17:09Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/11281",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11281#event-29774"
}
```
