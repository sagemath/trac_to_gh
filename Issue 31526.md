# Issue 31526: ManifoldSubset: New methods declare_subset, declare_superset

archive/issues_031526.json:
```json
{
    "body": "CC:  @egourgoulhon @mjungmath\n\nFollow-up from #31736, which introduced `declare_equal`.\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/31763\n\n",
    "created_at": "2021-05-02T20:26:23Z",
    "labels": [
        "manifolds",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.4",
    "title": "ManifoldSubset: New methods declare_subset, declare_superset",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31526",
    "user": "@mkoeppe"
}
```
CC:  @egourgoulhon @mjungmath

Follow-up from #31736, which introduced `declare_equal`.



Issue created by migration from https://trac.sagemath.org/ticket/31763





---

archive/issue_comments_450674.json:
```json
{
    "body": "Last 10 new commits:",
    "created_at": "2021-05-02T22:22:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31526#issuecomment-450674",
    "user": "@mkoeppe"
}
```

Last 10 new commits:



---

archive/issue_comments_450675.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-05-02T22:22:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31526#issuecomment-450675",
    "user": "@mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_450676.json:
```json
{
    "body": "Ready for review.",
    "created_at": "2021-05-07T17:07:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31526#issuecomment-450676",
    "user": "@mkoeppe"
}
```

Ready for review.



---

archive/issue_comments_450677.json:
```json
{
    "body": "In the docstring of `declare_superset`, the following changes should be made:\n\n```diff\n    def declare_superset(self, *subsets):\n        r\"\"\"\n-        Declare ``self`` to be a subset of each of the given supersets.\n+        Declare ``self`` to be a superset of each of the given subsets.\n\n        INPUT:\n\n-        - ``supersets`` -- other subsets of the same manifold\n+        - ``subsets`` -- other subsets of the same manifold\n```\n",
    "created_at": "2021-05-09T13:18:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31526#issuecomment-450677",
    "user": "@egourgoulhon"
}
```

In the docstring of `declare_superset`, the following changes should be made:

```diff
    def declare_superset(self, *subsets):
        r"""
-        Declare ``self`` to be a subset of each of the given supersets.
+        Declare ``self`` to be a superset of each of the given subsets.

        INPUT:

-        - ``supersets`` -- other subsets of the same manifold
+        - ``subsets`` -- other subsets of the same manifold
```




---

archive/issue_comments_450678.json:
```json
{
    "body": "In the doctests of `declare_subset`, the line\n\n```\nsage: M.declare_subset(V)\n```\n\nmay look surprising at first glance, since it amounts to making all previously introduced subsets `U1`, `U2` and `V` equal to the whole manifold `M`. Maybe a comment should be added about this, illustrated by\n\n```\nsage: M.equal_subset_family()\nSet {M, U1, U2, V} of open subsets of the 2-dimensional differentiable manifold M\n```\n",
    "created_at": "2021-05-09T13:28:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31526#issuecomment-450678",
    "user": "@egourgoulhon"
}
```

In the doctests of `declare_subset`, the line

```
sage: M.declare_subset(V)
```

may look surprising at first glance, since it amounts to making all previously introduced subsets `U1`, `U2` and `V` equal to the whole manifold `M`. Maybe a comment should be added about this, illustrated by

```
sage: M.equal_subset_family()
Set {M, U1, U2, V} of open subsets of the 2-dimensional differentiable manifold M
```




---

archive/issue_comments_450679.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-05-09T15:29:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31526#issuecomment-450679",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_450680.json:
```json
{
    "body": "Good idea, done",
    "created_at": "2021-05-09T15:29:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31526#issuecomment-450680",
    "user": "@mkoeppe"
}
```

Good idea, done



---

archive/issue_comments_450681.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-05-10T14:16:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31526#issuecomment-450681",
    "user": "@egourgoulhon"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_450682.json:
```json
{
    "body": "Good to go!",
    "created_at": "2021-05-10T14:16:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31526#issuecomment-450682",
    "user": "@egourgoulhon"
}
```

Good to go!



---

archive/issue_comments_450683.json:
```json
{
    "body": "Thanks for the review!",
    "created_at": "2021-05-10T16:34:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31526#issuecomment-450683",
    "user": "@mkoeppe"
}
```

Thanks for the review!



---

archive/issue_comments_450684.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2021-06-19T18:14:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31526#issuecomment-450684",
    "user": "git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_450685.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2021-06-19T18:14:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31526#issuecomment-450685",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_450686.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-19T18:15:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31526#issuecomment-450686",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_450687.json:
```json
{
    "body": "Trivial merge with latest beta",
    "created_at": "2021-06-19T18:16:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31526#issuecomment-450687",
    "user": "@mkoeppe"
}
```

Trivial merge with latest beta



---

archive/issue_comments_450688.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-06-19T18:16:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31526#issuecomment-450688",
    "user": "@mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_450689.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-06-21T21:17:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31526#issuecomment-450689",
    "user": "@vbraun"
}
```

Resolution: fixed
