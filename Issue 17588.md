# Issue 17588: wrong/weird conversion from SR to InfinityRing

archive/issues_017588.json:
```json
{
    "body": "We have\n\n```\nsage: InfinityRing(x)\nA negative finite number\nsage: InfinityRing(SR.var('q'))\nA negative finite number\n```\n\nwhich looks weird.\n\nIssue created by migration from https://trac.sagemath.org/ticket/17825\n\n",
    "created_at": "2015-02-22T10:16:47Z",
    "labels": [
        "component: symbolics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.0",
    "title": "wrong/weird conversion from SR to InfinityRing",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17588",
    "user": "https://github.com/dkrenn"
}
```
We have

```
sage: InfinityRing(x)
A negative finite number
sage: InfinityRing(SR.var('q'))
A negative finite number
```

which looks weird.

Issue created by migration from https://trac.sagemath.org/ticket/17825





---

archive/issue_comments_234633.json:
```json
{
    "body": "Changing component from symbolics to coercion.",
    "created_at": "2017-06-26T11:48:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17588#issuecomment-234633",
    "user": "https://github.com/jdemeyer"
}
```

Changing component from symbolics to coercion.



---

archive/issue_events_050876.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-06-26T11:48:23Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17588",
    "milestone": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17588#event-50876"
}
```



---

archive/issue_comments_234634.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-06-26T12:00:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17588#issuecomment-234634",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_234635.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-06-26T12:00:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17588#issuecomment-234635",
    "user": "https://github.com/jdemeyer"
}
```

New commits:



---

archive/issue_comments_234636.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-11-28T07:10:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17588#issuecomment-234636",
    "user": "https://github.com/rwst"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_234637.json:
```json
{
    "body": "Does not apply.",
    "created_at": "2017-11-28T07:10:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17588#issuecomment-234637",
    "user": "https://github.com/rwst"
}
```

Does not apply.



---

archive/issue_comments_234638.json:
```json
{
    "body": "Do you plan to review this ticket if I fix the conflict?",
    "created_at": "2017-11-28T08:30:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17588#issuecomment-234638",
    "user": "https://github.com/jdemeyer"
}
```

Do you plan to review this ticket if I fix the conflict?



---

archive/issue_comments_234639.json:
```json
{
    "body": "Yes. I have asked others this question in the past. Perhaps some people use the code but don't want to review it...",
    "created_at": "2017-11-28T09:02:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17588#issuecomment-234639",
    "user": "https://github.com/rwst"
}
```

Yes. I have asked others this question in the past. Perhaps some people use the code but don't want to review it...



---

archive/issue_comments_234640.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2017-11-28T09:23:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17588#issuecomment-234640",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_234641.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-11-28T09:25:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17588#issuecomment-234641",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_234642.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-11-28T14:10:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17588#issuecomment-234642",
    "user": "https://github.com/rwst"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_234643.json:
```json
{
    "body": "The sardonis patchbot has one relevant doctest fail. It appears that to determine `RIF(-1,1) < oo` it has to be coerced to the infinity ring but it has no sign. OTOH, `RIF(-1,1) < oo` is perfectly easily solvable so should not give an error.",
    "created_at": "2017-11-28T14:10:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17588#issuecomment-234643",
    "user": "https://github.com/rwst"
}
```

The sardonis patchbot has one relevant doctest fail. It appears that to determine `RIF(-1,1) < oo` it has to be coerced to the infinity ring but it has no sign. OTOH, `RIF(-1,1) < oo` is perfectly easily solvable so should not give an error.



---

archive/issue_comments_234644.json:
```json
{
    "body": "Replying to [comment:9 rws]:\n> OTOH, `RIF(-1,1) < oo` is perfectly easily solvable so should not give an error.\n\nThat doesn't really matter. The coercion model always coerces. And it is the coercion which fails in this case. That is not easy to fix.",
    "created_at": "2017-11-28T14:25:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17588#issuecomment-234644",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [comment:9 rws]:
> OTOH, `RIF(-1,1) < oo` is perfectly easily solvable so should not give an error.

That doesn't really matter. The coercion model always coerces. And it is the coercion which fails in this case. That is not easy to fix.
