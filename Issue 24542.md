# Issue 24542: py3: buffet of minor doctest fixes

Issue created by migration from Trac.

Original creator: embray

Original creation time: 2018-02-19 15:29:52

This ticket collects up several (but not all) doctests that I've fixed in my Python 3 branch.

Fixes are organized somewhat categorically in the commits, but all together these are just discrete and trivial little fixes.


---

Comment by embray created at 2018-02-19 15:31:23

Changing status from new to needs_review.


---

Comment by chapoton created at 2018-02-26 15:56:34

Changing status from needs_review to positive_review.


---

Comment by chapoton created at 2018-02-26 15:56:34

ok


---

Comment by chapoton created at 2018-02-27 10:56:24

I am afraid there are a few doctests errors..


---

Comment by chapoton created at 2018-02-27 10:56:24

Changing status from positive_review to needs_work.


---

Comment by chapoton created at 2018-02-27 11:07:46

New commits:


---

Comment by chapoton created at 2018-02-27 11:07:46

Changing status from needs_work to needs_review.


---

Comment by jdemeyer created at 2018-02-27 11:13:38

Now that this has been reopened: what are your plans with `six.pyx`? It seems strange to rename it on this ticket but not putting any Cython code in it.


---

Comment by jdemeyer created at 2018-02-27 11:14:50

The doctest change in `src/sage/graphs/generators/degree_sequence.py` looks dubious. Are you sure that we can just relabel the vertices?


---

Comment by embray created at 2018-02-27 12:21:22

Replying to [comment:5 jdemeyer]:
> Now that this has been reopened: what are your plans with `six.pyx`? It seems strange to rename it on this ticket but not putting any Cython code in it.

I don't recall doing that.  Is that something you did, Frédéric?  Maybe I did, but it wasn't intentional, not as part of this ticket.


---

Comment by embray created at 2018-02-27 12:22:16

Replying to [comment:6 jdemeyer]:
> The doctest change in `src/sage/graphs/generators/degree_sequence.py` looks dubious. Are you sure that we can just relabel the vertices?

Is that the file you meant? Because I don't see anything in there that's relabeling any vertices.


---

Comment by chapoton created at 2018-02-27 12:33:15

Replying to [comment:7 embray]:
> Replying to [comment:5 jdemeyer]:
> > Now that this has been reopened: what are your plans with `six.pyx`? It seems strange to rename it on this ticket but not putting any Cython code in it.
> 
> I don't recall doing that.  Is that something you did, Frédéric?  Maybe I did, but it wasn't intentional, not as part of this ticket.

That's not from me.


---

Comment by embray created at 2018-02-27 12:34:58

Thanks. Apparently it was from me, but that wasn't intentional: https://git.sagemath.org/sage.git/commit/?h=884ccf11935352fe30ff2ce9bd330dfef7324bb1&id=2f3b4e936246dfbc5e9fce68daec33d9c460a7cd  I'll just drop that commit from the branch.


---

Comment by git created at 2018-02-27 12:56:26

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by embray created at 2018-02-27 12:57:01

Dropped the superfluous change to sage.misc.six.


---

Comment by jdemeyer created at 2018-02-27 13:36:12

Replying to [comment:8 embray]:
> Is that the file you meant? Because I don't see anything in there that's relabeling any vertices. 

I was talking about this change:

```diff
diff --git a/src/sage/graphs/generators/degree_sequence.py b/src/sage/graphs/generators/degree_sequence.py
index bc2654d..baa8836 100644
--- a/src/sage/graphs/generators/degree_sequence.py
+++ b/src/sage/graphs/generators/degree_sequence.py
`@``@` -163,11 +163,11 `@``@` def DegreeSequenceConfigurationModel(deg_sequence, seed=None):
 
         sage: G = graphs.DegreeSequenceConfigurationModel([3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3])
         sage: sorted(G.edges(labels=False))
-        [(0, 7), (0, 11), (0, 19), (1, 3), (1, 14), (1, 18), (2, 6), (2, 10),
-         (2, 12), (3, 15), (3, 19), (4, 11), (4, 12), (4, 13), (5, 10),
-         (5, 11), (5, 16), (6, 14), (6, 18), (7, 8), (7, 13), (8, 12),
-         (8, 15), (9, 10), (9, 14), (9, 17), (13, 18), (15, 17), (16, 16),
-         (17, 19)]
+        [(0, 2), (0, 10), (0, 15), (1, 6), (1, 16), (1, 17), (2, 5), (2, 19),
+        (3, 7), (3, 14), (3, 14), (4, 9), (4, 13), (4, 19), (5, 6),
+        (5, 15), (6, 11), (7, 11), (7, 17), (8, 11), (8, 18), (8, 19),
+        (9, 12), (9, 13), (10, 15), (10, 18), (12, 13), (12, 16), (14, 17),
+        (16, 18)]
         sage: G.show()  # long time
 
     REFERENCE:
```

but now I see that it's just reverting an earlier change.

So the doctest was broken in Erik's branch and you fixed it by reverting it to the original output. So nothing to see here...

I'm fine with restoring positive review if tests pass.


---

Comment by embray created at 2018-02-27 15:15:14

It's possible actually that on Python 3 that test was giving different results due to randomization issues, and the new (sorted) value I put in was incorrect.


---

Comment by chapoton created at 2018-02-27 16:32:53

Changing status from needs_review to positive_review.


---

Comment by chapoton created at 2018-02-27 16:32:53

ok, back to positive


---

Comment by vbraun created at 2018-03-08 00:02:31

Resolution: fixed
