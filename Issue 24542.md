# Issue 24542: py3: buffet of minor doctest fixes

archive/issues_024542.json:
```json
{
    "body": "This ticket collects up several (but not all) doctests that I've fixed in my Python 3 branch.\n\nFixes are organized somewhat categorically in the commits, but all together these are just discrete and trivial little fixes.\n\nIssue created by migration from https://trac.sagemath.org/ticket/24779\n\n",
    "created_at": "2018-02-19T15:29:52Z",
    "labels": [
        "component: python3",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.2",
    "title": "py3: buffet of minor doctest fixes",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/24542",
    "user": "https://github.com/embray"
}
```
This ticket collects up several (but not all) doctests that I've fixed in my Python 3 branch.

Fixes are organized somewhat categorically in the commits, but all together these are just discrete and trivial little fixes.

Issue created by migration from https://trac.sagemath.org/ticket/24779





---

archive/issue_comments_343962.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-02-19T15:31:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24542#issuecomment-343962",
    "user": "https://github.com/embray"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_343963.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-02-26T15:56:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24542#issuecomment-343963",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_343964.json:
```json
{
    "body": "ok",
    "created_at": "2018-02-26T15:56:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24542#issuecomment-343964",
    "user": "https://github.com/fchapoton"
}
```

ok



---

archive/issue_comments_343965.json:
```json
{
    "body": "I am afraid there are a few doctests errors..",
    "created_at": "2018-02-27T10:56:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24542#issuecomment-343965",
    "user": "https://github.com/fchapoton"
}
```

I am afraid there are a few doctests errors..



---

archive/issue_comments_343966.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2018-02-27T10:56:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24542#issuecomment-343966",
    "user": "https://github.com/fchapoton"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_343967.json:
```json
{
    "body": "New commits:",
    "created_at": "2018-02-27T11:07:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24542#issuecomment-343967",
    "user": "https://github.com/fchapoton"
}
```

New commits:



---

archive/issue_comments_343968.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-02-27T11:07:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24542#issuecomment-343968",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_343969.json:
```json
{
    "body": "Now that this has been reopened: what are your plans with `six.pyx`? It seems strange to rename it on this ticket but not putting any Cython code in it.",
    "created_at": "2018-02-27T11:13:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24542#issuecomment-343969",
    "user": "https://github.com/jdemeyer"
}
```

Now that this has been reopened: what are your plans with `six.pyx`? It seems strange to rename it on this ticket but not putting any Cython code in it.



---

archive/issue_comments_343970.json:
```json
{
    "body": "The doctest change in `src/sage/graphs/generators/degree_sequence.py` looks dubious. Are you sure that we can just relabel the vertices?",
    "created_at": "2018-02-27T11:14:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24542#issuecomment-343970",
    "user": "https://github.com/jdemeyer"
}
```

The doctest change in `src/sage/graphs/generators/degree_sequence.py` looks dubious. Are you sure that we can just relabel the vertices?



---

archive/issue_comments_343971.json:
```json
{
    "body": "Replying to [comment:5 jdemeyer]:\n> Now that this has been reopened: what are your plans with `six.pyx`? It seems strange to rename it on this ticket but not putting any Cython code in it.\n\nI don't recall doing that.  Is that something you did, Fr\u00e9d\u00e9ric?  Maybe I did, but it wasn't intentional, not as part of this ticket.",
    "created_at": "2018-02-27T12:21:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24542#issuecomment-343971",
    "user": "https://github.com/embray"
}
```

Replying to [comment:5 jdemeyer]:
> Now that this has been reopened: what are your plans with `six.pyx`? It seems strange to rename it on this ticket but not putting any Cython code in it.

I don't recall doing that.  Is that something you did, Frédéric?  Maybe I did, but it wasn't intentional, not as part of this ticket.



---

archive/issue_comments_343972.json:
```json
{
    "body": "Replying to [comment:6 jdemeyer]:\n> The doctest change in `src/sage/graphs/generators/degree_sequence.py` looks dubious. Are you sure that we can just relabel the vertices?\n\nIs that the file you meant? Because I don't see anything in there that's relabeling any vertices.",
    "created_at": "2018-02-27T12:22:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24542#issuecomment-343972",
    "user": "https://github.com/embray"
}
```

Replying to [comment:6 jdemeyer]:
> The doctest change in `src/sage/graphs/generators/degree_sequence.py` looks dubious. Are you sure that we can just relabel the vertices?

Is that the file you meant? Because I don't see anything in there that's relabeling any vertices.



---

archive/issue_comments_343973.json:
```json
{
    "body": "Replying to [comment:7 embray]:\n> Replying to [comment:5 jdemeyer]:\n> > Now that this has been reopened: what are your plans with `six.pyx`? It seems strange to rename it on this ticket but not putting any Cython code in it.\n> \n> I don't recall doing that.  Is that something you did, Fr\u00e9d\u00e9ric?  Maybe I did, but it wasn't intentional, not as part of this ticket.\n\nThat's not from me.",
    "created_at": "2018-02-27T12:33:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24542#issuecomment-343973",
    "user": "https://github.com/fchapoton"
}
```

Replying to [comment:7 embray]:
> Replying to [comment:5 jdemeyer]:
> > Now that this has been reopened: what are your plans with `six.pyx`? It seems strange to rename it on this ticket but not putting any Cython code in it.
> 
> I don't recall doing that.  Is that something you did, Frédéric?  Maybe I did, but it wasn't intentional, not as part of this ticket.

That's not from me.



---

archive/issue_comments_343974.json:
```json
{
    "body": "Thanks. Apparently it was from me, but that wasn't intentional: https://git.sagemath.org/sage.git/commit/?h=884ccf11935352fe30ff2ce9bd330dfef7324bb1&id=2f3b4e936246dfbc5e9fce68daec33d9c460a7cd  I'll just drop that commit from the branch.",
    "created_at": "2018-02-27T12:34:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24542#issuecomment-343974",
    "user": "https://github.com/embray"
}
```

Thanks. Apparently it was from me, but that wasn't intentional: https://git.sagemath.org/sage.git/commit/?h=884ccf11935352fe30ff2ce9bd330dfef7324bb1&id=2f3b4e936246dfbc5e9fce68daec33d9c460a7cd  I'll just drop that commit from the branch.



---

archive/issue_comments_343975.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-02-27T12:56:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24542#issuecomment-343975",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_343976.json:
```json
{
    "body": "Dropped the superfluous change to sage.misc.six.",
    "created_at": "2018-02-27T12:57:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24542#issuecomment-343976",
    "user": "https://github.com/embray"
}
```

Dropped the superfluous change to sage.misc.six.



---

archive/issue_comments_343977.json:
```json
{
    "body": "Replying to [comment:8 embray]:\n> Is that the file you meant? Because I don't see anything in there that's relabeling any vertices. \n\nI was talking about this change:\n\n```diff\ndiff --git a/src/sage/graphs/generators/degree_sequence.py b/src/sage/graphs/generators/degree_sequence.py\nindex bc2654d..baa8836 100644\n--- a/src/sage/graphs/generators/degree_sequence.py\n+++ b/src/sage/graphs/generators/degree_sequence.py\n@@ -163,11 +163,11 @@ def DegreeSequenceConfigurationModel(deg_sequence, seed=None):\n \n         sage: G = graphs.DegreeSequenceConfigurationModel([3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3])\n         sage: sorted(G.edges(labels=False))\n-        [(0, 7), (0, 11), (0, 19), (1, 3), (1, 14), (1, 18), (2, 6), (2, 10),\n-         (2, 12), (3, 15), (3, 19), (4, 11), (4, 12), (4, 13), (5, 10),\n-         (5, 11), (5, 16), (6, 14), (6, 18), (7, 8), (7, 13), (8, 12),\n-         (8, 15), (9, 10), (9, 14), (9, 17), (13, 18), (15, 17), (16, 16),\n-         (17, 19)]\n+        [(0, 2), (0, 10), (0, 15), (1, 6), (1, 16), (1, 17), (2, 5), (2, 19),\n+        (3, 7), (3, 14), (3, 14), (4, 9), (4, 13), (4, 19), (5, 6),\n+        (5, 15), (6, 11), (7, 11), (7, 17), (8, 11), (8, 18), (8, 19),\n+        (9, 12), (9, 13), (10, 15), (10, 18), (12, 13), (12, 16), (14, 17),\n+        (16, 18)]\n         sage: G.show()  # long time\n \n     REFERENCE:\n```\n\nbut now I see that it's just reverting an earlier change.\n\nSo the doctest was broken in Erik's branch and you fixed it by reverting it to the original output. So nothing to see here...\n\nI'm fine with restoring positive review if tests pass.",
    "created_at": "2018-02-27T13:36:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24542#issuecomment-343977",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [comment:8 embray]:
> Is that the file you meant? Because I don't see anything in there that's relabeling any vertices. 

I was talking about this change:

```diff
diff --git a/src/sage/graphs/generators/degree_sequence.py b/src/sage/graphs/generators/degree_sequence.py
index bc2654d..baa8836 100644
--- a/src/sage/graphs/generators/degree_sequence.py
+++ b/src/sage/graphs/generators/degree_sequence.py
@@ -163,11 +163,11 @@ def DegreeSequenceConfigurationModel(deg_sequence, seed=None):
 
         sage: G = graphs.DegreeSequenceConfigurationModel([3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3])
         sage: sorted(G.edges(labels=False))
-        [(0, 7), (0, 11), (0, 19), (1, 3), (1, 14), (1, 18), (2, 6), (2, 10),
-         (2, 12), (3, 15), (3, 19), (4, 11), (4, 12), (4, 13), (5, 10),
-         (5, 11), (5, 16), (6, 14), (6, 18), (7, 8), (7, 13), (8, 12),
-         (8, 15), (9, 10), (9, 14), (9, 17), (13, 18), (15, 17), (16, 16),
-         (17, 19)]
+        [(0, 2), (0, 10), (0, 15), (1, 6), (1, 16), (1, 17), (2, 5), (2, 19),
+        (3, 7), (3, 14), (3, 14), (4, 9), (4, 13), (4, 19), (5, 6),
+        (5, 15), (6, 11), (7, 11), (7, 17), (8, 11), (8, 18), (8, 19),
+        (9, 12), (9, 13), (10, 15), (10, 18), (12, 13), (12, 16), (14, 17),
+        (16, 18)]
         sage: G.show()  # long time
 
     REFERENCE:
```

but now I see that it's just reverting an earlier change.

So the doctest was broken in Erik's branch and you fixed it by reverting it to the original output. So nothing to see here...

I'm fine with restoring positive review if tests pass.



---

archive/issue_comments_343978.json:
```json
{
    "body": "It's possible actually that on Python 3 that test was giving different results due to randomization issues, and the new (sorted) value I put in was incorrect.",
    "created_at": "2018-02-27T15:15:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24542#issuecomment-343978",
    "user": "https://github.com/embray"
}
```

It's possible actually that on Python 3 that test was giving different results due to randomization issues, and the new (sorted) value I put in was incorrect.



---

archive/issue_comments_343979.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-02-27T16:32:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24542#issuecomment-343979",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_343980.json:
```json
{
    "body": "ok, back to positive",
    "created_at": "2018-02-27T16:32:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24542#issuecomment-343980",
    "user": "https://github.com/fchapoton"
}
```

ok, back to positive



---

archive/issue_comments_343981.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-03-08T00:02:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24542#issuecomment-343981",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_062303.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-03-08T00:02:31Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/24542",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24542#event-62303"
}
```
