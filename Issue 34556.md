# Issue 34556: clean 3 files inside modular

Issue created by migration from https://trac.sagemath.org/ticket/34793

Original creator: chapoton

Original creation time: 2022-11-26 10:18:00

mostly pep8 changes, also some error messages and doc formatting


---

Comment by chapoton created at 2022-11-26 10:18:40

Changing status from new to needs_review.


---

Comment by chapoton created at 2022-11-26 10:18:40

New commits:


---

Comment by dcoudert created at 2022-11-26 12:51:29

In `src/sage/modular/hecke/ambient_module.py`
- `Return True if and only if self is an ambient Hecke module.` -> `Return ``True`` if and only if self is an ambient Hecke module.`
- also for `Return True if this space is invariant under the action of`
- also for `Return True if and only if self is a submodule of V. Since this is an`


---

Comment by git created at 2022-11-26 12:54:17

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2022-11-26 12:55:49

voil√†


---

Comment by dcoudert created at 2022-11-26 12:58:56

LGTM.


---

Comment by dcoudert created at 2022-11-26 12:58:56

Changing status from needs_review to positive_review.


---

Comment by chapoton created at 2022-12-11 15:38:50

Changing priority from minor to major.


---

Comment by vbraun created at 2022-12-12 20:36:30

Changing status from positive_review to needs_work.


---

Comment by vbraun created at 2022-12-12 20:36:30


```
sage -t --long --warn-long 37.0 --random-seed=123 src/sage/modular/hecke/degenmap.py
**********************************************************************
File "src/sage/modular/hecke/degenmap.py", line 56, in sage.modular.hecke.degenmap.DegeneracyMap
Failed example:
    d = M.degeneracy_map(11,2)
Expected:
    Traceback (most recent call last):
    ...
    ValueError: The level of self (=33) must be a divisor or multiple of level (=11), and t (=2) must be a divisor of the quotient.
Got:
    <BLANKLINE>
    Traceback (most recent call last):
      File "/home/release/Sage/src/sage/doctest/forker.py", line 695, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/release/Sage/src/sage/doctest/forker.py", line 1093, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.modular.hecke.degenmap.DegeneracyMap[6]>", line 1, in <module>
        d = M.degeneracy_map(Integer(11),Integer(2))
      File "/home/release/Sage/src/sage/modular/hecke/ambient_module.py", line 391, in degeneracy_map
        raise ValueError(("the level of self (=%s) must be a divisor or multiple of "
    ValueError: the level of self (=33) must be a divisor or multiple of level (=11) and t (=2) must be a divisor of the quotient
**********************************************************************
1 item had failures:
   1 of   9 in sage.modular.hecke.degenmap.DegeneracyMap
    [15 tests, 1 failure, 0.08 s]
----------------------------------------------------------------------
sage -t --long --warn-long 37.0 --random-seed=123 src/sage/modular/hecke/degenmap.py  # 1 doctest failed
----------------------------------------------------------------------
```



---

Comment by git created at 2022-12-13 10:14:53

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2022-12-13 10:15:37

setting back to positive after trivial doctest fix


---

Comment by chapoton created at 2022-12-13 10:15:37

Changing status from needs_work to positive_review.
