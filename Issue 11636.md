# Issue 11636: MPC complex numbers and the symbolic i cannot be added

archive/issues_011636.json:
```json
{
    "body": "Assignee: @robertwb\n\nCC:  @nexttime @slel\n\nKeywords: mpc complex numbers multiprecision.org\n\nWith the current interface to the MPC library, you cannot add the symbolic `i` and MPC complex numbers:\n\n```\nsage: from sage.rings.complex_mpc import MPComplexField\nsage: MPC = MPComplexField()\nsage: MPC(1) + SR(i)\nTraceback (most recent call last)\n...\nTypeError: unsupported operand parent(s) for '+':\n'Complex Field with 53 bits of precision' and 'Symbolic Ring'\nsage: SR(i) + MPC(1)\nTraceback (most recent call last)\n...\nTypeError: unsupported operand parent(s) for '+':\n'Symbolic Ring' and 'Complex Field with 53 bits of precision'\n```\n\nThis works with \"usual\" complex numbers:\n\n```\nsage: CC(1) + SR(i)\n1.00000000000000 + 1.00000000000000*I\n```\nand with the \"number-field\" version of `i`\n(now the default after #18036):\n\n```\nsage: MPC(1) + i\n1.00000000000000 + 1.00000000000000*I\n```\n\nIssue created by migration from https://trac.sagemath.org/ticket/11808\n\n",
    "created_at": "2011-09-16T08:57:34Z",
    "labels": [
        "component: coercion",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "MPC complex numbers and the symbolic i cannot be added",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/11636",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```
Assignee: @robertwb

CC:  @nexttime @slel

Keywords: mpc complex numbers multiprecision.org

With the current interface to the MPC library, you cannot add the symbolic `i` and MPC complex numbers:

```
sage: from sage.rings.complex_mpc import MPComplexField
sage: MPC = MPComplexField()
sage: MPC(1) + SR(i)
Traceback (most recent call last)
...
TypeError: unsupported operand parent(s) for '+':
'Complex Field with 53 bits of precision' and 'Symbolic Ring'
sage: SR(i) + MPC(1)
Traceback (most recent call last)
...
TypeError: unsupported operand parent(s) for '+':
'Symbolic Ring' and 'Complex Field with 53 bits of precision'
```

This works with "usual" complex numbers:

```
sage: CC(1) + SR(i)
1.00000000000000 + 1.00000000000000*I
```
and with the "number-field" version of `i`
(now the default after #18036):

```
sage: MPC(1) + i
1.00000000000000 + 1.00000000000000*I
```

Issue created by migration from https://trac.sagemath.org/ticket/11808





---

archive/issue_events_031094.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11636",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11636#event-31094"
}
```



---

archive/issue_events_031095.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11636",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11636#event-31095"
}
```



---

archive/issue_events_031096.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11636",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11636#event-31096"
}
```



---

archive/issue_events_031097.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11636",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11636#event-31097"
}
```



---

archive/issue_events_031098.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11636",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11636#event-31098"
}
```



---

archive/issue_events_031099.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11636",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11636#event-31099"
}
```



---

archive/issue_events_031100.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11636",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11636#event-31100"
}
```



---

archive/issue_comments_131292.json:
```json
{
    "body": "Changing assignee from tbd to @robertwb.",
    "created_at": "2015-09-10T12:21:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11636#issuecomment-131292",
    "user": "https://github.com/jdemeyer"
}
```

Changing assignee from tbd to @robertwb.



---

archive/issue_events_031101.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-09-10T12:21:14Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11636",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11636#event-31101"
}
```



---

archive/issue_events_031102.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-09-10T12:21:14Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11636",
    "milestone": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11636#event-31102"
}
```



---

archive/issue_comments_131293.json:
```json
{
    "body": "Changing component from packages: optional to coercion.",
    "created_at": "2015-09-10T12:21:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11636#issuecomment-131293",
    "user": "https://github.com/jdemeyer"
}
```

Changing component from packages: optional to coercion.



---

archive/issue_events_031103.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2021-04-29T11:05:40Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11636",
    "milestone": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11636#event-31103"
}
```



---

archive/issue_events_031104.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2021-04-29T11:05:40Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11636",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11636#event-31104"
}
```



---

archive/issue_comments_131294.json:
```json
{
    "body": "Updating ticket description after #18036 was merged in 9.3.beta2.\n\nThis, which was failing in the original report, now works:\n\n```\nsage: MPC(1) + i\n1.00000000000000 + 1.00000000000000*I\n```\nbut this still fails:\n\n```\nsage: MPC(1) + SR(i)\n```",
    "created_at": "2021-04-29T11:05:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11636#issuecomment-131294",
    "user": "https://github.com/slel"
}
```

Updating ticket description after #18036 was merged in 9.3.beta2.

This, which was failing in the original report, now works:

```
sage: MPC(1) + i
1.00000000000000 + 1.00000000000000*I
```
but this still fails:

```
sage: MPC(1) + SR(i)
```



---

archive/issue_events_031105.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-22T20:35:10Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11636",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11636#event-31105"
}
```



---

archive/issue_events_031106.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-22T20:35:10Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11636",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11636#event-31106"
}
```



---

archive/issue_events_031107.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T20:12:32Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11636",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11636#event-31107"
}
```



---

archive/issue_events_031108.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T20:12:32Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11636",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11636#event-31108"
}
```



---

archive/issue_events_031109.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-03T15:17:06Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11636",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11636#event-31109"
}
```



---

archive/issue_events_031110.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-03T15:17:06Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11636",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11636#event-31110"
}
```



---

archive/issue_events_031111.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11636",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11636#event-31111"
}
```



---

archive/issue_events_031112.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11636",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11636#event-31112"
}
```
