# Issue 21301: ./configure --with-packages=...

archive/issues_021301.json:
```json
{
    "body": "`./configure` should accept an argument `--with-packages=...` so that a user can request a list of packages to be installed.\n\nOne could consider to have `sage -i` edit `config.status` (`ac_cs_config`) whenever a package is installed.\n\nAlso there should be an argument `--ignored-installed-packages` so that the contents of `$SAGE_LOCAL/var/lib/sage/installed` is ignored. This is may be useful to ensure predictable builds.\n\nIssue created by migration from https://trac.sagemath.org/ticket/21538\n\n",
    "created_at": "2016-09-19T03:30:52Z",
    "labels": [
        "build: configure",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "./configure --with-packages=...",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21301",
    "user": "mkoeppe"
}
```
`./configure` should accept an argument `--with-packages=...` so that a user can request a list of packages to be installed.

One could consider to have `sage -i` edit `config.status` (`ac_cs_config`) whenever a package is installed.

Also there should be an argument `--ignored-installed-packages` so that the contents of `$SAGE_LOCAL/var/lib/sage/installed` is ignored. This is may be useful to ensure predictable builds.

Issue created by migration from https://trac.sagemath.org/ticket/21538





---

archive/issue_comments_295641.json:
```json
{
    "body": "Why not an argument `--enable-foo` (and/or perhaps `--with-foo=/path/where/installed`, depending on the answer to #21566#comment:3) for each package `foo`?",
    "created_at": "2016-09-23T13:43:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21301#issuecomment-295641",
    "user": "mmezzarobba"
}
```

Why not an argument `--enable-foo` (and/or perhaps `--with-foo=/path/where/installed`, depending on the answer to #21566#comment:3) for each package `foo`?



---

archive/issue_comments_295642.json:
```json
{
    "body": "Yes, this syntax could also work and is probably a better idea. \n\nI like `--with-foo=/path/where/installed` too, but as I said on #21566, it won't happen on this ticket.",
    "created_at": "2016-09-23T15:22:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21301#issuecomment-295642",
    "user": "mkoeppe"
}
```

Yes, this syntax could also work and is probably a better idea. 

I like `--with-foo=/path/where/installed` too, but as I said on #21566, it won't happen on this ticket.



---

archive/issue_comments_295643.json:
```json
{
    "body": "#27567 offers a slightly different approach, but I think effectively serves the same purpose as this proposal.\n\nOne thing it doesn't do yet is provide a way to enable specific optional/experimental packages at configure time.  One might also consider that useful, but I'm treating it as a separate issue for now.",
    "created_at": "2019-03-29T16:20:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21301#issuecomment-295643",
    "user": "embray"
}
```

#27567 offers a slightly different approach, but I think effectively serves the same purpose as this proposal.

One thing it doesn't do yet is provide a way to enable specific optional/experimental packages at configure time.  One might also consider that useful, but I'm treating it as a separate issue for now.



---

archive/issue_comments_295644.json:
```json
{
    "body": "Superseded for now by #27567, though some of the suggestions in this ticket like `--ignore-installed-packages` might be useful down the line.",
    "created_at": "2019-05-09T16:07:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21301#issuecomment-295644",
    "user": "embray"
}
```

Superseded for now by #27567, though some of the suggestions in this ticket like `--ignore-installed-packages` might be useful down the line.



---

archive/issue_comments_295645.json:
```json
{
    "body": "Resolution: wontfix",
    "created_at": "2019-05-09T16:07:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21301#issuecomment-295645",
    "user": "embray"
}
```

Resolution: wontfix



---

archive/issue_comments_295646.json:
```json
{
    "body": "Not quite - what's missing is the possibility to add optional packages in the configure call.",
    "created_at": "2019-05-09T16:14:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21301#issuecomment-295646",
    "user": "mkoeppe"
}
```

Not quite - what's missing is the possibility to add optional packages in the configure call.



---

archive/issue_comments_295647.json:
```json
{
    "body": "This was implemented in #28095 (Add --enable-OPTIONALSPKG options to configure).",
    "created_at": "2020-05-01T17:23:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21301#issuecomment-295647",
    "user": "mkoeppe"
}
```

This was implemented in #28095 (Add --enable-OPTIONALSPKG options to configure).
