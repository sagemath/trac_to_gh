# Issue 32731: Update sphinx to 4.3

Issue created by migration from https://trac.sagemath.org/ticket/32968

Original creator: thansen

Original creation time: 2021-12-04 09:24:05

CC:  fbissey arojas

In Debian with sphinx 4.3.1 I am getting these errors when building the documentation:

Extension error (sage.docs.conf):
Handler <function find_sage_dangling_links at 0x7fe31e14bf70> for event 'missing-reference' threw an exception (exception: No such config value: intersphinx_disabled_reftypes)

intersphinx_disabled_reftypes was introduced in sphinx 4.3.0 so I think we need to change something for compatibility.


---

Attachment


---

Comment by thansen created at 2021-12-07 22:38:54

The problem is fixed with the attached patch.


---

Comment by fbissey created at 2021-12-12 21:35:55

Patch works for me in sage-on-gentoo with sphinx 4.3.1. I think we should make it into a proper branch.

Do you have something different or a previous ticket `@`arojas?


---

Comment by arojas created at 2021-12-12 21:39:08

I generally only build docs for stable releases, so I haven't tested sphinx 4.3 yet.


---

Comment by fbissey created at 2021-12-12 22:27:33

Changing status from new to needs_review.


---

Comment by fbissey created at 2021-12-12 22:27:33

OK, this is ready for inspection.
----
New commits:


---

Comment by mkoeppe created at 2021-12-19 05:39:15

Changing status from needs_review to positive_review.


---

Comment by fbissey created at 2021-12-19 07:14:45

Thanks :)


---

Comment by git created at 2021-12-24 00:15:54

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:


---

Comment by git created at 2021-12-24 00:15:54

Changing status from positive_review to needs_review.


---

Comment by fbissey created at 2021-12-24 00:17:02

Changing status from needs_review to positive_review.


---

Comment by fbissey created at 2021-12-24 00:17:02

Trivially rebased on new beta. Back to positive review.


---

Comment by vbraun created at 2022-01-31 23:30:55

Resolution: fixed
