# Issue 18397: bug in WeylGroups.ElementMethods.reflection_to_root

Issue created by migration from https://trac.sagemath.org/ticket/18634

Original creator: stumpc5

Original creation time: 2015-06-08 10:49:44

CC:  nthiery aschilling

The method has the doctest

```
    sage: W=WeylGroup(['C',2],prefix="s")
    sage: r=W.from_reduced_word([1,2,1])
    sage: r.reflection_to_root()
    2*alpha[1] + alpha[2]
    sage: r=W.from_reduced_word([1,2])
    sage: r.reflection_to_root()
    Traceback (most recent call last):
    ...
    ValueError: s1*s2 is not a reflection
```

but if I try W.w0 instead, it runs into an infinite loop.


---

Comment by mshimo created at 2015-06-08 16:54:09

Set assignee to mshimo.


---

Comment by aschilling created at 2015-06-08 20:38:51

Changing keywords from "" to "root systems".


---

Comment by aschilling created at 2015-06-08 20:38:51

Changing status from new to needs_review.


---

Comment by aschilling created at 2015-06-08 20:39:07

Changing status from needs_review to positive_review.


---

Comment by stumpc5 created at 2015-06-08 20:55:38

great, thanks for the quick fix!

Would you mind also having a look at #18635 and whether or not that seems reasonable?

Christian


---

Comment by aschilling created at 2015-06-09 01:29:49

Changing keywords from "root systems" to "root systems, days65".


---

Comment by vbraun created at 2015-06-11 13:51:04

Resolution: fixed
