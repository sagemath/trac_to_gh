# Issue 12134: Static sparse graphs for fast low-level computations

Issue created by migration from https://trac.sagemath.org/ticket/12306

Original creator: ncohen

Original creation time: 2012-01-13 16:25:49

Assignee: jason, ncohen, rlm

CC:  dcoudert

Helloooooo !!

This extensively documented module implements a very basic data structure for graphs that is helpful for *EFFICIENT* implementations. It was actually used by Sage already in sage.graphs.distances_all_pairs, but it is better to have a proper documentation for such things.

And of course, this does not solve the current lack of a Python-level static graph class, that would handle loops/multiedges and labels... It will come, though `:-)`

Nathann


---

Comment by ncohen created at 2012-01-13 17:03:25

Changing status from new to needs_review.


---

Comment by dcoudert created at 2012-02-03 10:03:58

I'm unable to install the patch on sage-5.0.beta1.

File `digraph.py.rej`:

```
--- digraph.py
+++ digraph.py
@@ -2565,18 +2574,24 @@
 
         TESTS:
 
-        Checking against NetworkX::
-
+        Checking against NetworkX, and another of Sage's implementations::
+
+            sage: from sage.graphs.base.static_sparse_graph import strongly_connected_components
             sage: import networkx
             sage: for i in range(100):                                     # long
             ...        g = digraphs.RandomDirectedGNP(100,.05)             # long
             ...        h = g.networkx_graph()                              # long
             ...        scc1 = g.strongly_connected_components()            # long
             ...        scc2 = networkx.strongly_connected_components(h)    # long
+            ...        scc3 = strongly_connected_components(g)             # long
             ...        s1 = Set(map(Set,scc1))                             # long
             ...        s2 = Set(map(Set,scc2))                             # long
+            ...        s3 = Set(map(Set,scc3))                             # long
             ...        if s1 != s2:                                        # long
             ...            print "Ooch !"                                  # long
+            ...        if s1 != s3:                                        # long
+            ...            print "Oooooch !"                               # long
+
         """
 
         try:

```



---

Comment by ncohen created at 2012-02-06 11:39:22

Oopps.. This patch needs #12235 to be applied first, though it is now merged with beta2 `:-)`

Nathann


---

Comment by dcoudert created at 2012-02-06 12:17:25

I can now install the patch with sage-5.0.beta2. 

No compilation error. Generation of the documentation is OK.

However, can you improve in section `What does it take as input?` the `n^2sizeof(...)` and the nsizeof(...). For instance you can add a \cdot between `n` and `sizeof(...)`.

For functions returning a dictionnary of dictionnary, you should add an extra warning recalling that such structures are huge. I'm not sure most of us can use this for graphs with 10.000 nodes.

Best, 

D.


---

Comment by ncohen created at 2012-02-06 15:52:40

Here it is !!! `:-)`

I also removed some trailing whitespaces, as I learned here that they were evil `:-P`

Nathann


---

Comment by ncohen created at 2012-02-06 15:52:40

Changing keywords from "" to "Cernay2012".


---

Attachment


---

Comment by dcoudert created at 2012-02-06 17:20:30

I can install both patch correctly and the documentation is now well presented and with enough details.

Good work !

D.

PS: what's the relation between this patch and the Cernay 2012 Music Festival ? ;-)


---

Comment by dcoudert created at 2012-02-06 17:20:30

Changing status from needs_review to positive_review.


---

Comment by ncohen created at 2012-02-06 17:25:06

> PS: what's the relation between this patch and the Cernay 2012 Music Festival ? ;-)

Some snow, and around 10 people in a tower coding Sage patches on their computers `:-)`

http://wiki.sagemath.org/combinat/SageCombinatDaysCernay2012

Nathann


---

Comment by jdemeyer created at 2012-02-15 10:03:56

Changing status from positive_review to needs_work.


---

Comment by jdemeyer created at 2012-02-15 10:03:56

Please fix the commit message of the first patch.


---

Attachment


---

Comment by ncohen created at 2012-02-15 10:46:12

Gloops... Done ! `^^;`

Nathann


---

Comment by ncohen created at 2012-02-15 10:46:12

Changing status from needs_work to positive_review.


---

Comment by jdemeyer created at 2012-02-22 10:45:42

Resolution: fixed
