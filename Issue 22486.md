# Issue 22486: backend_polymake: Work around polymake bug with zero inequalities over quadratic extensions

Issue created by migration from Trac.

Original creator: mkoeppe

Original creation time: 2017-03-30 17:10:10

CC:  tscrim

Keywords: polymake

Easy workaround for a segfault, as discussed and suggested at
https://forum.polymake.org/viewtopic.php?f=8&t=547


---

Comment by mkoeppe created at 2017-03-30 17:13:52

Last 10 new commits:


---

Comment by mkoeppe created at 2017-03-31 16:21:08

Changing status from new to needs_review.


---

Comment by tscrim created at 2017-04-01 19:17:39

Your check doesn't result in any speedup when the list passes as it has to check every element and has to double check when it fails. I think you're better off just running the filter directly:

```python
ieqs = [ v for v in list if not all(self._is_zero(x) for x in v) ]
```

The other option would be a more hybrid approach like this:

```python
for i,v in enumerate(ieqs):
    if all(self._is_zero(x) for x in v):
        ieqs = ieqs[:i] + [v for v in ieqs[i+1:] if all(self._is_zero(x) for x in v))
        break
```

Although I think always filtering is best because it is the simplest code-wise.


---

Comment by git created at 2017-04-01 19:35:14

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:


---

Comment by mkoeppe created at 2017-04-01 19:37:28

Thanks. I agree. I've simplified the code.
Also merged the updated #22658.


---

Comment by tscrim created at 2017-04-01 19:39:24

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2017-04-01 19:39:24

LGTM. Thanks.


---

Comment by vbraun created at 2017-04-05 19:37:53

Resolution: fixed
