# Issue 33720: Manifold.options.omit_function_arguments ineffective for arguments not in alphabetic order

archive/issues_033720.json:
```json
{
    "body": "Keywords: omit_function_arguments\n\nIn Sage 9.7.beta1, we have\n\n```\nsage: S.<theta, phi> = manifolds.Sphere(2, coordinates='spherical')\nsage: F = S.scalar_field(function('f')(theta, phi) + function('g')(theta))\nsage: F.display()\nS^2 \u2192 \u211d\non A: (theta, phi) \u21a6 f(theta, phi) + g(theta)\n```\n\nSo far, so good, but\n\n```\nsage: S.options.omit_function_arguments = True\nsage: F.display()\nS^2 \u2192 \u211d\non A: (theta, phi) \u21a6 f(theta, phi) + g\n```\n\nThe r.h.s. should be `f + g`. \n\nThis bug is actually triggered by the following feature/bug of symbolic expressions:\n\n```\nsage: function('f')(theta, phi).arguments()\n(phi, theta)\n```\n\ni.e. `arguments()` returns the arguments sorted according to the alphabetical order, as reported in https://groups.google.com/g/sage-devel/c/Gt6GWZU-cI4/. See also #32227.\n\nIssue created by migration from https://trac.sagemath.org/ticket/33957\n\n",
    "created_at": "2022-06-05T15:04:21Z",
    "labels": [
        "manifolds",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.7",
    "title": "Manifold.options.omit_function_arguments ineffective for arguments not in alphabetic order",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/33720",
    "user": "@egourgoulhon"
}
```
Keywords: omit_function_arguments

In Sage 9.7.beta1, we have

```
sage: S.<theta, phi> = manifolds.Sphere(2, coordinates='spherical')
sage: F = S.scalar_field(function('f')(theta, phi) + function('g')(theta))
sage: F.display()
S^2 → ℝ
on A: (theta, phi) ↦ f(theta, phi) + g(theta)
```

So far, so good, but

```
sage: S.options.omit_function_arguments = True
sage: F.display()
S^2 → ℝ
on A: (theta, phi) ↦ f(theta, phi) + g
```

The r.h.s. should be `f + g`. 

This bug is actually triggered by the following feature/bug of symbolic expressions:

```
sage: function('f')(theta, phi).arguments()
(phi, theta)
```

i.e. `arguments()` returns the arguments sorted according to the alphabetical order, as reported in https://groups.google.com/g/sage-devel/c/Gt6GWZU-cI4/. See also #32227.

Issue created by migration from https://trac.sagemath.org/ticket/33957





---

archive/issue_comments_479681.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-06-19T21:43:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33720#issuecomment-479681",
    "user": "@utkarsh314"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_479682.json:
```json
{
    "body": "New commits:",
    "created_at": "2022-06-19T21:43:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33720#issuecomment-479682",
    "user": "@utkarsh314"
}
```

New commits:



---

archive/issue_comments_479683.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-06-19T21:59:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33720#issuecomment-479683",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_479684.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-06-19T22:09:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33720#issuecomment-479684",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_479685.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-06-21T15:09:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33720#issuecomment-479685",
    "user": "@egourgoulhon"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_479686.json:
```json
{
    "body": "Thanks for the fix! LGTM.",
    "created_at": "2022-06-21T15:09:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33720#issuecomment-479686",
    "user": "@egourgoulhon"
}
```

Thanks for the fix! LGTM.



---

archive/issue_comments_479687.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-06-28T22:12:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33720#issuecomment-479687",
    "user": "@vbraun"
}
```

Resolution: fixed
