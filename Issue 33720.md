# Issue 33720: Manifold.options.omit_function_arguments ineffective for arguments not in alphabetic order

Issue created by migration from https://trac.sagemath.org/ticket/33957

Original creator: egourgoulhon

Original creation time: 2022-06-05 15:04:21

Keywords: omit_function_arguments

In Sage 9.7.beta1, we have

```
sage: S.<theta, phi> = manifolds.Sphere(2, coordinates='spherical')
sage: F = S.scalar_field(function('f')(theta, phi) + function('g')(theta))
sage: F.display()
S^2 → ℝ
on A: (theta, phi) ↦ f(theta, phi) + g(theta)
```

So far, so good, but

```
sage: S.options.omit_function_arguments = True
sage: F.display()
S^2 → ℝ
on A: (theta, phi) ↦ f(theta, phi) + g
```

The r.h.s. should be `f + g`. 

This bug is actually triggered by the following feature/bug of symbolic expressions:

```
sage: function('f')(theta, phi).arguments()
(phi, theta)
```

i.e. `arguments()` returns the arguments sorted according to the alphabetical order, as reported in https://groups.google.com/g/sage-devel/c/Gt6GWZU-cI4/. See also #32227.


---

Comment by @utkarsh314 created at 2022-06-19 21:43:59

Changing status from new to needs_review.


---

Comment by @utkarsh314 created at 2022-06-19 21:43:59

New commits:


---

Comment by git created at 2022-06-19 21:59:54

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2022-06-19 22:09:17

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by egourgoulhon created at 2022-06-21 15:09:29

Changing status from needs_review to positive_review.


---

Comment by egourgoulhon created at 2022-06-21 15:09:29

Thanks for the fix! LGTM.


---

Comment by vbraun created at 2022-06-28 22:12:35

Resolution: fixed
