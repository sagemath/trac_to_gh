# Issue 10027: inconsistent error messages for inverting singular matrices

Issue created by migration from Trac.

Original creator: dmharvey

Original creation time: 2010-09-29 00:39:48

Assignee: jason, was

n = 2:

```
sage: Matrix([[1, 1], [1, 1]])^(-1)
...
ZeroDivisionError: 
```


apparently all other n:

```
sage: Matrix([[1, 1, 1], [1, 1, 1], [1, 1, 1]])^(-1)
...
ZeroDivisionError: input matrix must be nonsingular
```



---

Comment by aapitzsch created at 2011-01-07 10:34:57

Changing status from new to needs_review.


---

Comment by rbeezer created at 2011-01-28 06:35:02

I just noticed these weak error messages the other day - it'd be great to have all the cases of non-invertible matrices give a common, and informative, message.  Two suggestions:

(a)  At the sage prompt run  `search_src("ZeroDivisionError")` and I think you will find two or three more places in the matrix code that could also be improved.

(b) For Python 3 raising an error will require syntax like:


```
raise ZeroDivisionError("input matrix must be nonsingular") 
```


Might as well do it that way now.

Rob


---

Attachment


---

Comment by aapitzsch created at 2011-01-28 13:04:25

The new patch contains a lot of small changes (hopefully not too much), most of them are related to python3 syntax.


---

Comment by rbeezer created at 2011-01-28 18:32:13

Looks real good.  Thanks for straightening this out.  Passes all tests on 4.6.2.alpha2.  Positive review.


---

Comment by rbeezer created at 2011-01-28 18:32:13

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2011-02-07 08:13:58

Resolution: fixed
