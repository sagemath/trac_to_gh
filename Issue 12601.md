# Issue 12601: include R interface in reference manual

Issue created by migration from https://trac.sagemath.org/ticket/12773

Original creator: was

Original creation time: 2012-03-28 16:49:57

Assignee: mvngu

CC:  hivert

The R/Sage interface is not in the reference manual, which is really unfortunate!  So here's the 1-line change to add it.


---

Comment by was created at 2012-03-28 16:50:04

Changing status from new to needs_review.


---

Comment by novoselt created at 2012-03-28 19:59:46

Changing status from needs_review to positive_review.


---

Attachment


---

Comment by jhpalmieri created at 2012-03-28 22:26:38

When I build the reference manual with this patch, I get about a dozen warnings. The file r.py has to be revised using propert reST markup.


---

Comment by jhpalmieri created at 2012-03-28 22:26:38

Changing status from positive_review to needs_work.


---

Comment by jhpalmieri created at 2012-03-28 22:31:04

Changing status from needs_work to needs_review.


---

Comment by jhpalmieri created at 2012-03-28 22:31:04

Here's a new patch which cleans up some of the markup. It doesn't do a perfect job: code like variables should all be enclosed in double backquotes, but at least this builds for me with no warnings.


---

Attachment

Apply trac_12773-r.patch

(for patchbot)


---

Comment by novoselt created at 2012-04-03 18:20:15

Changing status from needs_review to positive_review.


---

Comment by novoselt created at 2012-04-03 18:20:15

Despite of patchbot complains, the new patch passes all tests for me on Sage-5.0.beta11 and documentation builds and looks OK as well.

There is some inconsistency in how it appears in the list of interfaces: "R Interface" as opposed to "Interface to X" for most (but not all) others.


---

Comment by jdemeyer created at 2012-04-19 06:41:20

Resolution: fixed


---

Comment by jdemeyer created at 2012-04-23 07:20:12

Resolution changed from fixed to 


---

Comment by jdemeyer created at 2012-04-23 07:20:12

With #12849 applied, I get a documentation error:

```
reading sources... [ 99%] tensor
reading sources... [100%] todolist

/padic/scratch/jdemeyer/merger/sage-5.0.beta15/devel/sage/doc/en/reference/sage/interfaces/r.rst:9: WARNING: error while formatting signat
ure for sage.interfaces.r.iskeyword: <built-in method __contains__ of frozenset object at 0x2b13fe531d00> is not a module, class, method,
function, traceback, frame, or code object
looking for now-outdated files... none found
pickling environment... done
checking consistency... done
preparing documents... done
writing output... [  0%] algebras
writing output... [  0%] arithgroup
```


I'm not entirely sure this ticket is to blame, but I'm not merging it, just in case.


---

Comment by jdemeyer created at 2012-04-23 07:20:12

Changing status from closed to new.


---

Attachment


---

Comment by jhpalmieri created at 2012-04-23 19:35:56

Here's a patch which fixes the problem. With the various patches to Sphinx (for example, #12489), when you import a function at the top level, its documentation seems to get imported, too. So this patch moves some of those top-level imports to just where they are needed.


---

Comment by jhpalmieri created at 2012-04-23 19:35:56

Changing status from new to needs_review.


---

Comment by novoselt created at 2012-04-23 22:18:31

I am not sure I quite understand the problem: does it mean that we can no longer import functions at the top level?! Or this particular file is somehow special?


---

Comment by jhpalmieri created at 2012-04-24 05:22:12

I think that it's best to avoid top-level imports. The best thing to do is to check each file in the reference manual (!) to see that we don't have lots of redundant documentation lying around. I suppose one could just grep for top-level imports and check those files. I have no idea how big a problem it is; I haven't seen any other problems doing a little spot-checking, and I don't know what triggered the problem with this file.  (Adding `from keyword import iskeyword` in another file, say `sage/interfaces/tachyon.py`, also causes problems in that file.)


---

Comment by novoselt created at 2012-04-30 20:28:02

Changing status from needs_review to positive_review.


---

Comment by novoselt created at 2012-04-30 20:28:02

I think that we should not prohibit top-level imports - if it is something that is used in a module often or it is in a time-critical function, such imports are better, as far as I understand.

However it is a separate issue and I think that the new patch is a reasonable work-around for including R interface into documentation. So positive review again.


---

Comment by jdemeyer created at 2012-05-06 12:18:31

Resolution: fixed
