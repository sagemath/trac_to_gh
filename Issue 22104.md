# Issue 22104: PyString_FromString is gone in Python3

Issue created by migration from https://trac.sagemath.org/ticket/22341

Original creator: chapoton

Original creation time: 2017-02-10 13:02:53

CC:  jdemeyer embray vbraun

similar to #22335

Correct replacement seems to be PyBytes_FromString

but we need to do something that works with both py2 and py3..

Reference: https://docs.python.org/3/howto/cporting.html


---

Comment by jdemeyer created at 2017-02-10 13:46:34

Changing type from PLEASE CHANGE to defect.


---

Comment by jdemeyer created at 2017-02-10 13:46:34

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2017-02-10 13:46:34

Changing component from PLEASE CHANGE to python3.


---

Comment by jdemeyer created at 2017-02-10 13:46:34

Compiles on Python 2 but not yet tested.
----
New commits:


---

Comment by chapoton created at 2017-02-10 16:43:09

Do you think this is not needed in pyx files ? or kept for a later ticket ?

I have got a compilation failure, as reported partly in the description, that comes from `src/sage/libs/ntl/ntl_ZZ_pE.pyx`.


---

Comment by jdemeyer created at 2017-02-10 22:09:59

Replying to [comment:6 chapoton]:
> Do you think this is not needed in pyx files ? or kept for a later ticket ?
> 
> I have got a compilation failure, as reported partly in the description, that comes from `src/sage/libs/ntl/ntl_ZZ_pE.pyx`.

Later ticket: #22351


---

Comment by chapoton created at 2017-02-11 17:56:15

ok, green bot, lgtm


---

Comment by chapoton created at 2017-02-11 17:56:15

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2017-02-12 22:08:43

Resolution: fixed
