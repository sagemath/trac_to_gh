# Issue 33835: pycodestyle cleanup in distances_all_pairs.pyx

Issue created by migration from https://trac.sagemath.org/ticket/34072

Original creator: dcoudert

Original creation time: 2022-06-25 09:36:59

CC:  chapoton




---

Comment by dcoudert created at 2022-06-25 09:40:49

Changing status from new to needs_review.


---

Comment by dcoudert created at 2022-06-25 09:40:49

New commits:


---

Comment by mkoeppe created at 2022-07-09 20:12:06

Not sure if changes like this, breaking the intentional alignment in the source code, are really an improvement

```
@@ -2715,10 +2729,10 @@ def floyd_warshall(gg, paths=True, distances=False):
     # All this just creates two tables prec[n][n] and dist[n][n]
     cdef MemoryAllocator mem = MemoryAllocator()
     cdef unsigned short* t_prec = NULL
-    cdef unsigned short**  prec = NULL
+    cdef unsigned short** prec = NULL
     # init dist
-    cdef unsigned short* t_dist = <unsigned short*>  mem.allocarray(n * n, sizeof(unsigned short))
-    cdef unsigned short**  dist = <unsigned short**> mem.allocarray(n, sizeof(unsigned short*))
+    cdef unsigned short* t_dist = <unsigned short*> mem.allocarray(n * n, sizeof(unsigned short))
+    cdef unsigned short** dist = <unsigned short**> mem.allocarray(n, sizeof(unsigned short*))
     dist[0] = t_dist
     cdef unsigned int i
     for i in range(1, n):
```



---

Comment by dcoudert created at 2022-07-12 09:33:38

Well, I tried to comply with `pycodestyle`, but I can of course revert these changes if you think it was better before. I have no preference in this case.


---

Comment by klee created at 2022-07-15 12:32:56

Replying to [comment:3 dcoudert]:
> Well, I tried to comply with `pycodestyle`, but I can of course revert these changes if you think it was better before. I have no preference in this case.

I am +1 to reverting those changes. In these cases, I think the author's judgement weighs more.


---

Comment by git created at 2022-07-15 12:43:45

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dcoudert created at 2022-07-15 12:46:07

I have reverted the changes in question.


---

Comment by klee created at 2022-07-29 06:21:25

Changing status from needs_review to positive_review.


---

Comment by klee created at 2022-07-29 06:21:25

LGTM.


---

Comment by vbraun created at 2022-08-04 22:45:26

Resolution: fixed
