# Issue 18042: implemented rational preperiodic points for polynomials over number fields

Issue created by migration from https://trac.sagemath.org/ticket/18279

Original creator: bhutz

Original creation time: 2015-04-22 14:22:22

Assignee: bhutz

Through the use of Weil restriction we can reduce the problem of rational points over number fields to QQ-rational points. Combining the Weil restriction functionality with the rational preperiodic point functionality, we can extend the latter to number fields.


---

Comment by bhutz created at 2015-04-22 15:10:05

Changing status from new to needs_review.


---

Comment by bhutz created at 2015-04-22 15:10:05

New commits:


---

Comment by gjorgenson created at 2015-05-12 17:54:13

- the point at infinity will always be a totally ramified fixed point so no check is needed
- Maps over QQbar seem get incorrect output:

```
P.<x,y> = ProjectiveSpace(QQbar,1)
H = End(P)
f = H([x^2-y^2,y^2])
print f.rational_preperiodic_points()
```

returns None

but 

```
P.<x,y> = ProjectiveSpace(QQbar,1)
H = End(P)
f = H([x^2-y^2,y^2])
f = f._number_field_from_algebraics()
print f.rational_preperiodic_points()
```

returns [(1 : 1), (1 : 0), (-1 : 1), (0 : 1)]


---

Comment by gjorgenson created at 2015-05-12 17:54:13

Changing status from needs_review to needs_work.


---

Comment by git created at 2015-05-12 22:15:35

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by bhutz created at 2015-05-12 22:17:20

fixed issues. I also noticed that the 'inverted' polynomial case, i.e., where 0 is totally ramified and fixed was not actually working since the inverse of the weil restriction was not producing the correct points. I fixed this as well.


---

Comment by bhutz created at 2015-05-12 22:17:20

Changing status from needs_work to needs_review.


---

Comment by gjorgenson created at 2015-05-13 22:10:08

Everything looks good, but there is just a small typo (I think it was there before the commits though)

-in line 3110, Determined should be Determines

Also, it looks like the first lines of the documentation for `rational_preperiodic_graph` are the same as those of `rational_preperiodic_points`, but the function returns the graph of the preperiodic points


---

Comment by git created at 2015-05-14 13:52:04

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by gjorgenson created at 2015-05-14 15:31:13

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2015-05-14 22:40:03

Resolution: fixed
