# Issue 22831: py3 more absolute imports in pyx files

Issue created by migration from https://trac.sagemath.org/ticket/23068

Original creator: chapoton

Original creation time: 2017-05-24 07:13:04

CC:  jdemeyer

part of #22808


---

Comment by chapoton created at 2017-05-24 07:13:28

New commits:


---

Comment by git created at 2017-05-24 11:29:35

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2017-05-24 15:24:46

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by git created at 2017-05-24 19:46:36

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2017-05-25 07:03:44

Changing status from new to needs_review.


---

Comment by chapoton created at 2017-05-25 07:03:44

bot is essentially green, please review


---

Comment by jdemeyer created at 2017-05-25 08:25:58

1. Why did you change

```
if self._ncols == 0
```

to

```
if not self._ncols
```


I find `self._ncols == 0` clearer to understand: it checks for a matrix with zero colomns.

2. It is wrong to write `sage.matrix.matrix_space.MatrixSpace` without importing it. It might work by accident, but it's not good. Either you explicitly `import sage.matrix.matrix_space` or you do something like `from sage.matrix.matrix_space import MatrixSpace` and then use `MatrixSpace`.

3. Same comment for `sage.matrix.constructor`.

4. Same comment for `sage.rings.power_series_ring` in `src/sage/rings/power_series_ring_element.pyx`


---

Comment by jdemeyer created at 2017-05-25 08:25:58

Changing status from needs_review to needs_work.


---

Comment by chapoton created at 2017-05-25 09:46:13

About 1, ok

About 2,3,4:

I found this solution to break circular imports. If you think you can do better, please do. This ticket is very low on my priority list. If you feel like helping towards python3, I would appreciate any contribution to the discussion on why building with SAGE_PYTHON3 currently fails:

https://groups.google.com/forum/#!topic/sage-devel/FqR-37Fu3tY


---

Comment by git created at 2017-05-25 11:18:16

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2017-05-25 14:53:29

should be better now


---

Comment by chapoton created at 2017-05-25 14:53:29

Changing status from needs_work to needs_review.


---

Comment by aapitzsch created at 2017-05-27 09:52:41

LGTM.


---

Comment by aapitzsch created at 2017-05-27 09:52:41

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2017-05-27 23:42:24

Resolution: fixed
