# Issue 31644: RealSet: Extend constructors so that they can build manifold objects

archive/issues_031644.json:
```json
{
    "body": "CC:  @egourgoulhon @tscrim @mjungmath\n\nFrom #30832:\n\nWe extend the `RealSet` constructors (default constructor and `RealSet.open` etc.) so that they can build manifold objects; for example if `structure` or `name` is passed\n\nThen perhaps the global bindings `RealLine` and `OpenInterval` can be deprecated (they are also available through the `manifolds` catalog).\n\nThis will help make the functionality more discoverable. There are just too many global constructors: `Reals`, `RealLine`, `RealSet`, `RealInterval`, `OpenInterval`.\n\nIssue created by migration from https://trac.sagemath.org/ticket/31881\n\n",
    "created_at": "2021-05-30T18:55:45Z",
    "labels": [
        "manifolds",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.4",
    "title": "RealSet: Extend constructors so that they can build manifold objects",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31644",
    "user": "@mkoeppe"
}
```
CC:  @egourgoulhon @tscrim @mjungmath

From #30832:

We extend the `RealSet` constructors (default constructor and `RealSet.open` etc.) so that they can build manifold objects; for example if `structure` or `name` is passed

Then perhaps the global bindings `RealLine` and `OpenInterval` can be deprecated (they are also available through the `manifolds` catalog).

This will help make the functionality more discoverable. There are just too many global constructors: `Reals`, `RealLine`, `RealSet`, `RealInterval`, `OpenInterval`.

Issue created by migration from https://trac.sagemath.org/ticket/31881





---

archive/issue_comments_451897.json:
```json
{
    "body": "Replying to [ticket:31881 mkoeppe]:\n> \n> Overall, the `UniqueRepresentation` behavior of `RealLine` is inconsistent with the behavior of `Manifold`:\n> {{{\n> sage: RealLine(name='A') is RealLine(name='A')\n> True\n> sage: Manifold(1, name='A') is Manifold(1, name='A')\n> False\n> }}}\n\nThis is intended because `RealLine` fully specifies the object (the set of real numbers endowed with the canonical manifold structure), while `Manifold(1, name='A')` does not (since there are two distinct manifolds of dimension 1: the real line and the circle). Hence `RealLine` has `UniqueRepresentation` behavior, while `Manifold` has not. \n\n> \n> We also deprecate the global binding `OpenInterval` (but it will remain available through the `manifolds` catalog).\n\nAgreed. \n\n> \n> This will help make the functionality more discoverable. There are just too many global constructors: `Reals`, `RealLine`, `RealSet`, `RealInterval`, `OpenInterval`.\n\nIndeed!",
    "created_at": "2021-06-28T21:12:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451897",
    "user": "@egourgoulhon"
}
```

Replying to [ticket:31881 mkoeppe]:
> 
> Overall, the `UniqueRepresentation` behavior of `RealLine` is inconsistent with the behavior of `Manifold`:
> {{{
> sage: RealLine(name='A') is RealLine(name='A')
> True
> sage: Manifold(1, name='A') is Manifold(1, name='A')
> False
> }}}

This is intended because `RealLine` fully specifies the object (the set of real numbers endowed with the canonical manifold structure), while `Manifold(1, name='A')` does not (since there are two distinct manifolds of dimension 1: the real line and the circle). Hence `RealLine` has `UniqueRepresentation` behavior, while `Manifold` has not. 

> 
> We also deprecate the global binding `OpenInterval` (but it will remain available through the `manifolds` catalog).

Agreed. 

> 
> This will help make the functionality more discoverable. There are just too many global constructors: `Reals`, `RealLine`, `RealSet`, `RealInterval`, `OpenInterval`.

Indeed!



---

archive/issue_comments_451898.json:
```json
{
    "body": "Replying to [comment:2 egourgoulhon]:\n> Replying to [ticket:31881 mkoeppe]:\n> > \n> > Overall, the `UniqueRepresentation` behavior of `RealLine` is inconsistent with the behavior of `Manifold`:\n> > {{{\n> > sage: RealLine(name='A') is RealLine(name='A')\n> > True\n> > sage: Manifold(1, name='A') is Manifold(1, name='A')\n> > False\n> > }}}\n> \n> This is intended because `RealLine` fully specifies the object [...]. Hence `RealLine` has `UniqueRepresentation` behavior, while `Manifold` has not. \n\nI agree with this mathematical point, but on the implementation side you have additional mutable structure, namely the family of declared subsets, on every manifold. This makes the question of identity trickier.",
    "created_at": "2021-06-28T22:51:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451898",
    "user": "@mkoeppe"
}
```

Replying to [comment:2 egourgoulhon]:
> Replying to [ticket:31881 mkoeppe]:
> > 
> > Overall, the `UniqueRepresentation` behavior of `RealLine` is inconsistent with the behavior of `Manifold`:
> > {{{
> > sage: RealLine(name='A') is RealLine(name='A')
> > True
> > sage: Manifold(1, name='A') is Manifold(1, name='A')
> > False
> > }}}
> 
> This is intended because `RealLine` fully specifies the object [...]. Hence `RealLine` has `UniqueRepresentation` behavior, while `Manifold` has not. 

I agree with this mathematical point, but on the implementation side you have additional mutable structure, namely the family of declared subsets, on every manifold. This makes the question of identity trickier.



---

archive/issue_comments_451899.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-07T00:51:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451899",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_451900.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2021-07-07T01:15:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451900",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_451901.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-07T03:21:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451901",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_451902.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-07T03:55:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451902",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_451903.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-07-07T03:56:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451903",
    "user": "@mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_451904.json:
```json
{
    "body": "This looks nice. Makes the access of these objects more natural. Good work!\n\nTwo things:\n\n1. For some reason, there is no documentation of the class `RealSet`. That's a pity. It would be nice to add at least an `INPUT` block and explain the optional keyword(s). We should also shift the preexisting examples in `__init__` to the `RealSet` class documentation, where they can be seen from the official documentation.\n2. Similarly it would be good to extend the `INPUT` block for each method with those new optional keywords accordingly (perhaps it is enough to refer to `RealSet`, once this is documented). A short example per method would be preferable, too.",
    "created_at": "2021-07-07T21:30:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451904",
    "user": "@mjungmath"
}
```

This looks nice. Makes the access of these objects more natural. Good work!

Two things:

1. For some reason, there is no documentation of the class `RealSet`. That's a pity. It would be nice to add at least an `INPUT` block and explain the optional keyword(s). We should also shift the preexisting examples in `__init__` to the `RealSet` class documentation, where they can be seen from the official documentation.
2. Similarly it would be good to extend the `INPUT` block for each method with those new optional keywords accordingly (perhaps it is enough to refer to `RealSet`, once this is documented). A short example per method would be preferable, too.



---

archive/issue_comments_451905.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-07T23:43:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451905",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_451906.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-08T00:12:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451906",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_451907.json:
```json
{
    "body": "Thanks for taking a look, I'll work on the documentation.",
    "created_at": "2021-07-08T00:13:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451907",
    "user": "@mkoeppe"
}
```

Thanks for taking a look, I'll work on the documentation.



---

archive/issue_comments_451908.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-07-08T00:13:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451908",
    "user": "@mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_451909.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-08T02:12:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451909",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_451910.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-08T02:46:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451910",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_451911.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-07-08T04:23:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451911",
    "user": "@mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_451912.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-08T05:44:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451912",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_451913.json:
```json
{
    "body": "That is much better, thank you. Minor things:\n\n- Perhaps it is good to clarify in the docstring that `RealSet` now acts as a constructor.\n- I am not sure whether I like that `RealSet(0, 1, name='A')` returns a manifold object. This is too subtle imho. Perhaps an error message is more appropriate, explaining that e.g. `structure=differentiable` is necessary to pass in those cases?",
    "created_at": "2021-07-08T08:56:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451913",
    "user": "@mjungmath"
}
```

That is much better, thank you. Minor things:

- Perhaps it is good to clarify in the docstring that `RealSet` now acts as a constructor.
- I am not sure whether I like that `RealSet(0, 1, name='A')` returns a manifold object. This is too subtle imho. Perhaps an error message is more appropriate, explaining that e.g. `structure=differentiable` is necessary to pass in those cases?



---

archive/issue_comments_451914.json:
```json
{
    "body": "Replying to [comment:23 gh-mjungmath]:\n> I am not sure whether I like that `RealSet(0, 1, name='A')` returns a manifold object. This is too subtle imho. Perhaps an error message is more appropriate, explaining that e.g. `structure=differentiable` is necessary to pass in those cases?\n\nI agree that triggering it with `name` and `latex_name` may be too subtle.\n\nOTOH, I think if `ambient` is passed, `structure` should be implied.\n\nHow about the parameters `coordinate`, `names`, `start_index`?",
    "created_at": "2021-07-08T14:31:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451914",
    "user": "@mkoeppe"
}
```

Replying to [comment:23 gh-mjungmath]:
> I am not sure whether I like that `RealSet(0, 1, name='A')` returns a manifold object. This is too subtle imho. Perhaps an error message is more appropriate, explaining that e.g. `structure=differentiable` is necessary to pass in those cases?

I agree that triggering it with `name` and `latex_name` may be too subtle.

OTOH, I think if `ambient` is passed, `structure` should be implied.

How about the parameters `coordinate`, `names`, `start_index`?



---

archive/issue_comments_451915.json:
```json
{
    "body": "Replying to [comment:24 mkoeppe]:\n> Replying to [comment:23 gh-mjungmath]:\n> > I am not sure whether I like that `RealSet(0, 1, name='A')` returns a manifold object. This is too subtle imho. Perhaps an error message is more appropriate, explaining that e.g. `structure=differentiable` is necessary to pass in those cases?\n> \n> I agree that triggering it with `name` and `latex_name` may be too subtle.\n> \n> OTOH, I think if `ambient` is passed, `structure` should be implied.\n> \n> How about the parameters `coordinate`, `names`, `start_index`?\n> \n\nIn connection to this, having something like `R.<t> = RealLine()` was very handy, especially when dealing with curves on manifolds. How do you plan to replace it with the `RealSet` syntax?",
    "created_at": "2021-07-08T14:51:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451915",
    "user": "@egourgoulhon"
}
```

Replying to [comment:24 mkoeppe]:
> Replying to [comment:23 gh-mjungmath]:
> > I am not sure whether I like that `RealSet(0, 1, name='A')` returns a manifold object. This is too subtle imho. Perhaps an error message is more appropriate, explaining that e.g. `structure=differentiable` is necessary to pass in those cases?
> 
> I agree that triggering it with `name` and `latex_name` may be too subtle.
> 
> OTOH, I think if `ambient` is passed, `structure` should be implied.
> 
> How about the parameters `coordinate`, `names`, `start_index`?
> 

In connection to this, having something like `R.<t> = RealLine()` was very handy, especially when dealing with curves on manifolds. How do you plan to replace it with the `RealSet` syntax?



---

archive/issue_comments_451916.json:
```json
{
    "body": "Replying to [comment:24 mkoeppe]:\n> Replying to [comment:23 gh-mjungmath]:\n> > I am not sure whether I like that `RealSet(0, 1, name='A')` returns a manifold object. This is too subtle imho. Perhaps an error message is more appropriate, explaining that e.g. `structure=differentiable` is necessary to pass in those cases?\n> \n> I agree that triggering it with `name` and `latex_name` may be too subtle.\n> \n> OTOH, I think if `ambient` is passed, `structure` should be implied.\n\nI am torn on that one but I tend to agree.\n\n> \n> How about the parameters `coordinate`, `names`, `start_index`?\n> \n\n`coordinate` should be clear but the rest seems similarly ambiguous to me.",
    "created_at": "2021-07-08T15:17:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451916",
    "user": "@mjungmath"
}
```

Replying to [comment:24 mkoeppe]:
> Replying to [comment:23 gh-mjungmath]:
> > I am not sure whether I like that `RealSet(0, 1, name='A')` returns a manifold object. This is too subtle imho. Perhaps an error message is more appropriate, explaining that e.g. `structure=differentiable` is necessary to pass in those cases?
> 
> I agree that triggering it with `name` and `latex_name` may be too subtle.
> 
> OTOH, I think if `ambient` is passed, `structure` should be implied.

I am torn on that one but I tend to agree.

> 
> How about the parameters `coordinate`, `names`, `start_index`?
> 

`coordinate` should be clear but the rest seems similarly ambiguous to me.



---

archive/issue_comments_451917.json:
```json
{
    "body": "Replying to [comment:25 egourgoulhon]:\n> having something like `R.<t> = RealLine()` was very handy, especially when dealing with curves on manifolds. How do you plan to replace it with the `RealSet` syntax?\n\nStrangely, `RealSet` does not have a shortcut constructor for the whole real line - one has to write `RealSet(-oo, oo)`. \n\nWe can add one here on this ticket. `RealSet.real_line()`, `RealSet.universe()`, ...? Any preference?",
    "created_at": "2021-07-08T16:12:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451917",
    "user": "@mkoeppe"
}
```

Replying to [comment:25 egourgoulhon]:
> having something like `R.<t> = RealLine()` was very handy, especially when dealing with curves on manifolds. How do you plan to replace it with the `RealSet` syntax?

Strangely, `RealSet` does not have a shortcut constructor for the whole real line - one has to write `RealSet(-oo, oo)`. 

We can add one here on this ticket. `RealSet.real_line()`, `RealSet.universe()`, ...? Any preference?



---

archive/issue_comments_451918.json:
```json
{
    "body": "Replying to [comment:26 gh-mjungmath]:\n> > How about the parameters `coordinate`, `names`, `start_index`?\n> \n> `coordinate` should be clear but the rest seems similarly ambiguous to me.\n\nWell, `names` is for the generator syntax, so it would be rather convenient for it to trigger manifold construction",
    "created_at": "2021-07-08T16:17:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451918",
    "user": "@mkoeppe"
}
```

Replying to [comment:26 gh-mjungmath]:
> > How about the parameters `coordinate`, `names`, `start_index`?
> 
> `coordinate` should be clear but the rest seems similarly ambiguous to me.

Well, `names` is for the generator syntax, so it would be rather convenient for it to trigger manifold construction



---

archive/issue_comments_451919.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-08T16:26:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451919",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_451920.json:
```json
{
    "body": "Replying to [comment:29 git]:\n> Branch pushed to git repo; I updated commit sha1. New commits:\n> ||[b9b7983](https://git.sagemath.org/sage.git/commit/?id=b9b798345c01edab8bc1c1d09b634068ab8da808)||`RealSet: Minor edits to docstring`||\n> ||[4f57a29](https://git.sagemath.org/sage.git/commit/?id=4f57a29edd4ad4b77690ddd94f18cf9d8d7c6417)||`RealSet: Restrict keywords that trigger manifold construction`||\n\nThe explanation in the `INPUT` block should now be modified accordingly, mentioning that (only) `ambient`, `coordinate`, `names` trigger manifold constructions without imposing `structure=differentiable`.\n\nPerhaps an example where the new error message is invoked might be a good idea, too.\n\nReplying to [comment:27 mkoeppe]:\n> We can add one here on this ticket. `RealSet.real_line()`, `RealSet.universe()`, ...? Any preference? \n\nI like both. But to keep some similarity with the previous constructor name `RealLine`, I'd say `RealSet.real_line()` should definitely be on the list.",
    "created_at": "2021-07-09T07:44:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451920",
    "user": "@mjungmath"
}
```

Replying to [comment:29 git]:
> Branch pushed to git repo; I updated commit sha1. New commits:
> ||[b9b7983](https://git.sagemath.org/sage.git/commit/?id=b9b798345c01edab8bc1c1d09b634068ab8da808)||`RealSet: Minor edits to docstring`||
> ||[4f57a29](https://git.sagemath.org/sage.git/commit/?id=4f57a29edd4ad4b77690ddd94f18cf9d8d7c6417)||`RealSet: Restrict keywords that trigger manifold construction`||

The explanation in the `INPUT` block should now be modified accordingly, mentioning that (only) `ambient`, `coordinate`, `names` trigger manifold constructions without imposing `structure=differentiable`.

Perhaps an example where the new error message is invoked might be a good idea, too.

Replying to [comment:27 mkoeppe]:
> We can add one here on this ticket. `RealSet.real_line()`, `RealSet.universe()`, ...? Any preference? 

I like both. But to keep some similarity with the previous constructor name `RealLine`, I'd say `RealSet.real_line()` should definitely be on the list.



---

archive/issue_comments_451921.json:
```json
{
    "body": "Replying to [comment:30 gh-mjungmath]:\n> Replying to [comment:27 mkoeppe]:\n> > We can add one here on this ticket. `RealSet.real_line()`, `RealSet.universe()`, ...? Any preference? \n> \n> I like both. But to keep some similarity with the previous constructor name `RealLine`, I'd say `RealSet.real_line()` should definitely be on the list.\n\n+1",
    "created_at": "2021-07-09T15:23:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451921",
    "user": "@egourgoulhon"
}
```

Replying to [comment:30 gh-mjungmath]:
> Replying to [comment:27 mkoeppe]:
> > We can add one here on this ticket. `RealSet.real_line()`, `RealSet.universe()`, ...? Any preference? 
> 
> I like both. But to keep some similarity with the previous constructor name `RealLine`, I'd say `RealSet.real_line()` should definitely be on the list.

+1



---

archive/issue_comments_451922.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-09T16:20:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451922",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_451923.json:
```json
{
    "body": "Two comments:\n\n\n```diff\n     - ``structure`` -- (default: ``None``) if ``None``, construct the real set as an\n       instance of :class:`RealSet`; if ``\"differentiable\"``, construct it as a subset of\n-      the differentiable manifold.\n+      the differentiable manifold `\\RR`.\n```\n\n\nAn example a la\n\n\n```\nsage: R.<\u03be> = RealSet.real_line(); R\n...\n```\n\n\nwould be nice, too.",
    "created_at": "2021-07-09T16:59:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451923",
    "user": "@mjungmath"
}
```

Two comments:


```diff
     - ``structure`` -- (default: ``None``) if ``None``, construct the real set as an
       instance of :class:`RealSet`; if ``"differentiable"``, construct it as a subset of
-      the differentiable manifold.
+      the differentiable manifold `\RR`.
```


An example a la


```
sage: R.<ξ> = RealSet.real_line(); R
...
```


would be nice, too.



---

archive/issue_comments_451924.json:
```json
{
    "body": "Other than that, LGTM. Eric? Any comments from your side?",
    "created_at": "2021-07-09T16:59:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451924",
    "user": "@mjungmath"
}
```

Other than that, LGTM. Eric? Any comments from your side?



---

archive/issue_comments_451925.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-09T17:11:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451925",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_451926.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-09T17:17:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451926",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_451927.json:
```json
{
    "body": "Ready for review?",
    "created_at": "2021-07-09T22:20:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451927",
    "user": "@mjungmath"
}
```

Ready for review?



---

archive/issue_comments_451928.json:
```json
{
    "body": "Yes",
    "created_at": "2021-07-09T22:27:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451928",
    "user": "@mkoeppe"
}
```

Yes



---

archive/issue_comments_451929.json:
```json
{
    "body": "It looks like we have to play patchbot ourselves now. I'll run the branch tomorrow (CET) on my computer.",
    "created_at": "2021-07-09T22:32:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451929",
    "user": "@mjungmath"
}
```

It looks like we have to play patchbot ourselves now. I'll run the branch tomorrow (CET) on my computer.



---

archive/issue_comments_451930.json:
```json
{
    "body": "Docbuild seems not to be satisfied:\n\n\n```\n[dochtml] [manifolds] /home/michael/GitProjects/sage-devel/local/lib/python3.8/site-packages/matplotlib/sphinxext/plot_directive.py:472: DeprecationWarning:\n[dochtml] [manifolds] Importing RealLine from here is deprecated. If you need to use it, please import it directly from sage.manifolds.differentiable.examples.real_line\n[dochtml] [manifolds] See https://trac.sagemath.org/31881 for details.\n[dochtml] [manifolds]   exec(code, ns)\n[dochtml] [manifolds] <unknown>:954: DeprecationWarning: invalid escape sequence \\|\n```\n",
    "created_at": "2021-07-10T12:54:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451930",
    "user": "@mjungmath"
}
```

Docbuild seems not to be satisfied:


```
[dochtml] [manifolds] /home/michael/GitProjects/sage-devel/local/lib/python3.8/site-packages/matplotlib/sphinxext/plot_directive.py:472: DeprecationWarning:
[dochtml] [manifolds] Importing RealLine from here is deprecated. If you need to use it, please import it directly from sage.manifolds.differentiable.examples.real_line
[dochtml] [manifolds] See https://trac.sagemath.org/31881 for details.
[dochtml] [manifolds]   exec(code, ns)
[dochtml] [manifolds] <unknown>:954: DeprecationWarning: invalid escape sequence \|
```




---

archive/issue_comments_451931.json:
```json
{
    "body": "Among other things, the doctest returns\n\n\n```\nFile \"src/sage/interfaces/sympy_wrapper.py\", line 71, in sage.interfaces.sympy_wrapper.SageSet._sage_\nFailed example:\n    sF = F._sympy_(); sF\nExpected:\n    SageSet({1, 2})\nGot:\n    Set(1, 2)\n```\n\n\nIs that related to #32089?",
    "created_at": "2021-07-10T13:13:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451931",
    "user": "@mjungmath"
}
```

Among other things, the doctest returns


```
File "src/sage/interfaces/sympy_wrapper.py", line 71, in sage.interfaces.sympy_wrapper.SageSet._sage_
Failed example:
    sF = F._sympy_(); sF
Expected:
    SageSet({1, 2})
Got:
    Set(1, 2)
```


Is that related to #32089?



---

archive/issue_comments_451932.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-10T17:18:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451932",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_451933.json:
```json
{
    "body": "Yes, just fixed this in #32015. Merged now via updated #32089. Thanks for testing!",
    "created_at": "2021-07-10T17:19:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451933",
    "user": "@mkoeppe"
}
```

Yes, just fixed this in #32015. Merged now via updated #32089. Thanks for testing!



---

archive/issue_comments_451934.json:
```json
{
    "body": "Patchbot is back! Most of its issues seem unrelated to this ticket, tho.\n\nWhat about the docbuild warning in comment:40?",
    "created_at": "2021-07-11T19:26:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451934",
    "user": "@mjungmath"
}
```

Patchbot is back! Most of its issues seem unrelated to this ticket, tho.

What about the docbuild warning in comment:40?



---

archive/issue_comments_451935.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-11T21:55:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451935",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_451936.json:
```json
{
    "body": "Replying to [comment:43 mkoeppe]:\n> Yes, just fixed this in #32015. Merged now via updated #32089. Thanks for testing!\nactually, now it's merged",
    "created_at": "2021-07-11T21:56:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451936",
    "user": "@mkoeppe"
}
```

Replying to [comment:43 mkoeppe]:
> Yes, just fixed this in #32015. Merged now via updated #32089. Thanks for testing!
actually, now it's merged



---

archive/issue_comments_451937.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-11T22:32:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451937",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_451938.json:
```json
{
    "body": "As soon as the warning in comment:40 is removed, I give a positive review.\n\nIt looks like `RealLine` is still imported via the global namespace in one of the examples?",
    "created_at": "2021-07-12T09:36:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451938",
    "user": "@mjungmath"
}
```

As soon as the warning in comment:40 is removed, I give a positive review.

It looks like `RealLine` is still imported via the global namespace in one of the examples?



---

archive/issue_comments_451939.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-12T14:59:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451939",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_451940.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-07-13T00:45:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451940",
    "user": "@mjungmath"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_451941.json:
```json
{
    "body": "\n```diff\n-        Returns the symmetric difference of ``self`` and ``other``.\n+        Return the symmetric difference of ``self`` and ``other``.\n```\n\n\nSee https://wiki.sagemath.org/plugins#blocks.",
    "created_at": "2021-07-13T00:45:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451941",
    "user": "@mjungmath"
}
```


```diff
-        Returns the symmetric difference of ``self`` and ``other``.
+        Return the symmetric difference of ``self`` and ``other``.
```


See https://wiki.sagemath.org/plugins#blocks.



---

archive/issue_comments_451942.json:
```json
{
    "body": "That is just coming along for the ride with moving things, and even if not, it is very minor that I would not hold up a positive review for it.",
    "created_at": "2021-07-13T00:48:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451942",
    "user": "@tscrim"
}
```

That is just coming along for the ride with moving things, and even if not, it is very minor that I would not hold up a positive review for it.



---

archive/issue_comments_451943.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-07-13T00:48:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451943",
    "user": "@tscrim"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_451944.json:
```json
{
    "body": "It's good to maintain some consistency. Besides, the patchbot doesn't like it. So it must be of some importance.\n\nI am just afraid: if we don't fix it here, we probably will never...",
    "created_at": "2021-07-13T00:53:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451944",
    "user": "@mjungmath"
}
```

It's good to maintain some consistency. Besides, the patchbot doesn't like it. So it must be of some importance.

I am just afraid: if we don't fix it here, we probably will never...



---

archive/issue_comments_451945.json:
```json
{
    "body": "You can push a review commit or do a general cleanup ticket later on. It is there in the patchbot as advice to the reviewer. You have some discretion about these things.",
    "created_at": "2021-07-13T00:58:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451945",
    "user": "@tscrim"
}
```

You can push a review commit or do a general cleanup ticket later on. It is there in the patchbot as advice to the reviewer. You have some discretion about these things.



---

archive/issue_comments_451946.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-07-13T09:24:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451946",
    "user": "@mjungmath"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_451947.json:
```json
{
    "body": "As proposed by Travis, here is a clean-up follow-up ticket: #32192.\n\nLGTM.",
    "created_at": "2021-07-13T09:24:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451947",
    "user": "@mjungmath"
}
```

As proposed by Travis, here is a clean-up follow-up ticket: #32192.

LGTM.



---

archive/issue_comments_451948.json:
```json
{
    "body": "Thanks!",
    "created_at": "2021-07-13T16:28:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451948",
    "user": "@mkoeppe"
}
```

Thanks!



---

archive/issue_comments_451949.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2021-07-23T23:27:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451949",
    "user": "@vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_451950.json:
```json
{
    "body": "PDF docs don't build",
    "created_at": "2021-07-23T23:27:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451950",
    "user": "@vbraun"
}
```

PDF docs don't build



---

archive/issue_comments_451951.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2021-07-23T23:32:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451951",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_451952.json:
```json
{
    "body": "Works for me after merging the lastest versions of the dependencies",
    "created_at": "2021-07-23T23:33:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451952",
    "user": "@mkoeppe"
}
```

Works for me after merging the lastest versions of the dependencies



---

archive/issue_comments_451953.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2021-07-23T23:33:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451953",
    "user": "@mkoeppe"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_451954.json:
```json
{
    "body": "Still borked. Make sure you merge in the next beta before changing the state again.",
    "created_at": "2021-07-24T21:18:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451954",
    "user": "@vbraun"
}
```

Still borked. Make sure you merge in the next beta before changing the state again.



---

archive/issue_comments_451955.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2021-07-24T21:18:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451955",
    "user": "@vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_451956.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-24T22:47:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451956",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_451957.json:
```json
{
    "body": "OK, found it, fixed it",
    "created_at": "2021-07-24T22:47:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451957",
    "user": "@mkoeppe"
}
```

OK, found it, fixed it



---

archive/issue_comments_451958.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2021-07-24T22:47:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451958",
    "user": "@mkoeppe"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_451959.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-07-25T13:26:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31644#issuecomment-451959",
    "user": "@vbraun"
}
```

Resolution: fixed
