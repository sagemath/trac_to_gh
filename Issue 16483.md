# Issue 16483: Speedup for OA_from_quasi_difference_matrix

Issue created by migration from https://trac.sagemath.org/ticket/16720

Original creator: ncohen

Original creation time: 2014-07-27 12:37:56

CC:  vdelecroix

Turns out that the use of a brain is underrated. I should really buy one someday.

This is what happens when you think before writing a loop

```

```


This is what happens when you do not

```

```



---

Comment by ncohen created at 2014-07-27 12:38:33

Changing status from new to needs_review.


---

Comment by git created at 2014-07-27 12:41:15

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by vdelecroix created at 2014-08-08 11:04:14

Hello,

I do not understand that

```
-    M = M[:len(M)/2] # only develop w.r.t the last two coordinates
+    M = [M[i*18+j] for i in range(len(M)/18) for j in range(9)] # only develop w.r.t the last two coordinates
```


Vincent


---

Comment by ncohen created at 2014-08-08 11:10:10

Yoooooooo !

> I do not understand that
> {{{
> -    M = M[:len(M)/2] # only develop w.r.t the last two coordinates
> +    M = [M[i*18+j] for i in range(len(M)/18) for j in range(9)] # only develop w.r.t the last two coordinates
> }}}

Ahem `:-PPPPP`

Thaaaaaaaaat's because the rows of the matrix were listed as 111222333 before and now it is 123123123. You don't care about that in an OA or a difference matrix, so it does not matter and it is easier to get this speedup.

The function which I had to modify above called this routine, and only needed to remember the first half of the matrix. Formerly. But now that the rows are listed differently, well getting that "half" of the matrix is a bit different `:-P`

I know it is not "semantically correct". Please don't make me rewrite the function for that `T_T`

Nathann


---

Comment by git created at 2014-08-08 11:19:28

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by ncohen created at 2014-08-08 11:20:28

This is clearer.

Nathann


---

Comment by vdelecroix created at 2014-08-08 11:29:53

Changing status from needs_review to positive_review.


---

Comment by vdelecroix created at 2014-08-08 11:29:53

Ok, good!

Vincent


---

Comment by ncohen created at 2014-08-08 11:30:14

THaaaaaaaaaaaaaaaaaaaaaaanks !!


---

Comment by vbraun created at 2014-08-11 12:07:26

Resolution: fixed
