# Issue 27952: prefer "X in Fields()" rather than "X.is_field()"

archive/issues_027952.json:
```json
{
    "body": "`X.is_field()` fails for many parent `X`. The matrix code relies a lot on the distinction ring/field. We change the code in the matrix folder to make the functions work for more base rings.\n\nIssue created by migration from https://trac.sagemath.org/ticket/28189\n\n",
    "created_at": "2019-07-13T14:58:40Z",
    "labels": [
        "component: algebra"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.0",
    "title": "prefer \"X in Fields()\" rather than \"X.is_field()\"",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/27952",
    "user": "https://github.com/videlec"
}
```
`X.is_field()` fails for many parent `X`. The matrix code relies a lot on the distinction ring/field. We change the code in the matrix folder to make the functions work for more base rings.

Issue created by migration from https://trac.sagemath.org/ticket/28189





---

archive/issue_comments_394405.json:
```json
{
    "body": "New commits:",
    "created_at": "2019-07-13T15:55:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27952",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27952#issuecomment-394405",
    "user": "https://github.com/videlec"
}
```

New commits:



---

archive/issue_comments_394406.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-07-13T15:55:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27952",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27952#issuecomment-394406",
    "user": "https://github.com/videlec"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_394407.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2019-07-13T15:56:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27952",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27952#issuecomment-394407",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_394408.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-17T16:54:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27952",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27952#issuecomment-394408",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_394409.json:
```json
{
    "body": "Kwankyu: this branch introduces a serious speedup in `function_field` code that I hardly explain... you might want to investigate.\n\n```\nGit branch: matrices2                             Git branch: develop\nsage -t rings/function_field/differential.py      sage -t rings/function_field/differential.py\n    [220 tests, 2.46 s]                               [220 tests, 2.81 s]\nsage -t rings/function_field/divisor.py           sage -t rings/function_field/divisor.py\n    [200 tests, 3.42 s]                               [200 tests, 3.72 s]\nsage -t rings/function_field/ideal.py             sage -t rings/function_field/ideal.py\n    [915 tests, 8.90 s]                               [915 tests, 9.51 s]\nsage -t rings/function_field/valuation_ring.py    sage -t rings/function_field/valuation_ring.py\n    [52 tests, 0.23 s]                                [52 tests, 0.33 s]\nsage -t rings/function_field/order.py             sage -t rings/function_field/order.py\n    [421 tests, 1.71 s]                               [421 tests, 2.18 s]\nsage -t rings/function_field/maps.py              sage -t rings/function_field/maps.py\n    [378 tests, 3.77 s]                               [378 tests, 5.44 s]\nsage -t rings/function_field/constructor.py       sage -t rings/function_field/constructor.py\n    [42 tests, 0.08 s]                                [42 tests, 0.10 s]\nsage -t rings/function_field/element.pyx          sage -t rings/function_field/element.pyx\n    [275 tests, 1.27 s]                               [275 tests, 1.88 s]\nsage -t rings/function_field/function_field.py    sage -t rings/function_field/function_field.py\n    [743 tests, 33.02 s]                              [743 tests, 34.50 s]\nsage -t rings/function_field/function_field_valua sage -t rings/function_field/function_field_valua\n    [338 tests, 1.97 s]                               [338 tests, 1.97 s]\nsage -t rings/function_field/place.py             sage -t rings/function_field/place.py\n    [197 tests, 4.61 s]                               [197 tests, 5.24 s]\n```\n",
    "created_at": "2019-07-17T16:58:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27952",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27952#issuecomment-394409",
    "user": "https://github.com/videlec"
}
```

Kwankyu: this branch introduces a serious speedup in `function_field` code that I hardly explain... you might want to investigate.

```
Git branch: matrices2                             Git branch: develop
sage -t rings/function_field/differential.py      sage -t rings/function_field/differential.py
    [220 tests, 2.46 s]                               [220 tests, 2.81 s]
sage -t rings/function_field/divisor.py           sage -t rings/function_field/divisor.py
    [200 tests, 3.42 s]                               [200 tests, 3.72 s]
sage -t rings/function_field/ideal.py             sage -t rings/function_field/ideal.py
    [915 tests, 8.90 s]                               [915 tests, 9.51 s]
sage -t rings/function_field/valuation_ring.py    sage -t rings/function_field/valuation_ring.py
    [52 tests, 0.23 s]                                [52 tests, 0.33 s]
sage -t rings/function_field/order.py             sage -t rings/function_field/order.py
    [421 tests, 1.71 s]                               [421 tests, 2.18 s]
sage -t rings/function_field/maps.py              sage -t rings/function_field/maps.py
    [378 tests, 3.77 s]                               [378 tests, 5.44 s]
sage -t rings/function_field/constructor.py       sage -t rings/function_field/constructor.py
    [42 tests, 0.08 s]                                [42 tests, 0.10 s]
sage -t rings/function_field/element.pyx          sage -t rings/function_field/element.pyx
    [275 tests, 1.27 s]                               [275 tests, 1.88 s]
sage -t rings/function_field/function_field.py    sage -t rings/function_field/function_field.py
    [743 tests, 33.02 s]                              [743 tests, 34.50 s]
sage -t rings/function_field/function_field_valua sage -t rings/function_field/function_field_valua
    [338 tests, 1.97 s]                               [338 tests, 1.97 s]
sage -t rings/function_field/place.py             sage -t rings/function_field/place.py
    [197 tests, 4.61 s]                               [197 tests, 5.24 s]
```




---

archive/issue_comments_394410.json:
```json
{
    "body": "ok, looks good.",
    "created_at": "2019-08-24T18:57:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27952",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27952#issuecomment-394410",
    "user": "https://github.com/fchapoton"
}
```

ok, looks good.



---

archive/issue_comments_394411.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-08-24T18:57:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27952",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27952#issuecomment-394411",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_394412.json:
```json
{
    "body": "Merci Fr\u00e9d\u00e9ric!",
    "created_at": "2019-08-24T22:16:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27952",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27952#issuecomment-394412",
    "user": "https://github.com/videlec"
}
```

Merci Frédéric!



---

archive/issue_comments_394413.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2019-08-25T22:38:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27952",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27952#issuecomment-394413",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_394414.json:
```json
{
    "body": "Merge conflict",
    "created_at": "2019-08-25T22:38:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27952",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27952#issuecomment-394414",
    "user": "https://github.com/vbraun"
}
```

Merge conflict



---

archive/issue_comments_394415.json:
```json
{
    "body": "probably with #27473",
    "created_at": "2019-08-27T06:56:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27952",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27952#issuecomment-394415",
    "user": "https://github.com/fchapoton"
}
```

probably with #27473



---

archive/issue_comments_394416.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2019-08-27T11:30:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27952",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27952#issuecomment-394416",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_394417.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-08-27T11:30:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27952",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27952#issuecomment-394417",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_394418.json:
```json
{
    "body": "Not clear to me what conflict was resolved and how. Could you explain, please ?",
    "created_at": "2019-08-28T07:42:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27952",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27952#issuecomment-394418",
    "user": "https://github.com/fchapoton"
}
```

Not clear to me what conflict was resolved and how. Could you explain, please ?



---

archive/issue_comments_394419.json:
```json
{
    "body": "Oh I see. The conflict is not merged yet.",
    "created_at": "2019-08-28T07:45:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27952",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27952#issuecomment-394419",
    "user": "https://github.com/videlec"
}
```

Oh I see. The conflict is not merged yet.



---

archive/issue_comments_394420.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-08-28T07:45:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27952",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27952#issuecomment-394420",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_394421.json:
```json
{
    "body": "now you can see and fix the conflict",
    "created_at": "2019-09-06T19:03:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27952",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27952#issuecomment-394421",
    "user": "https://github.com/fchapoton"
}
```

now you can see and fix the conflict



---

archive/issue_comments_394422.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-09-07T19:17:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27952",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27952#issuecomment-394422",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_394423.json:
```json
{
    "body": "I have merged.\n----\nNew commits:",
    "created_at": "2019-09-07T19:17:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27952",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27952#issuecomment-394423",
    "user": "https://github.com/fchapoton"
}
```

I have merged.
----
New commits:



---

archive/issue_comments_394424.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-09-08T07:02:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27952",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27952#issuecomment-394424",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_394425.json:
```json
{
    "body": "And I made a mistake in the merge, now fixed.",
    "created_at": "2019-09-08T07:03:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27952",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27952#issuecomment-394425",
    "user": "https://github.com/fchapoton"
}
```

And I made a mistake in the merge, now fixed.



---

archive/issue_comments_394426.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-09-08T15:17:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27952",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27952#issuecomment-394426",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_394427.json:
```json
{
    "body": "and set to positive again.",
    "created_at": "2019-09-08T15:17:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27952",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27952#issuecomment-394427",
    "user": "https://github.com/fchapoton"
}
```

and set to positive again.



---

archive/issue_comments_394428.json:
```json
{
    "body": "Merci Fr\u00e9d\u00e9ric!",
    "created_at": "2019-09-08T15:29:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27952",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27952#issuecomment-394428",
    "user": "https://github.com/videlec"
}
```

Merci Frédéric!



---

archive/issue_comments_394429.json:
```json
{
    "body": "Merge conflict",
    "created_at": "2019-09-09T21:32:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27952",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27952#issuecomment-394429",
    "user": "https://github.com/vbraun"
}
```

Merge conflict



---

archive/issue_comments_394430.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2019-09-09T21:32:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27952",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27952#issuecomment-394430",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_394431.json:
```json
{
    "body": "and the merge is not trivial at all. Vincent, would you do it please ?",
    "created_at": "2019-09-12T07:23:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27952",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27952#issuecomment-394431",
    "user": "https://github.com/fchapoton"
}
```

and the merge is not trivial at all. Vincent, would you do it please ?



---

archive/issue_comments_394432.json:
```json
{
    "body": "Is a merge into 8.9 planned? I really need this ticket for vector bundles and therefore my master thesis. A merge is highly appreciated!",
    "created_at": "2019-09-24T12:09:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27952",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27952#issuecomment-394432",
    "user": "https://github.com/DeRhamSource"
}
```

Is a merge into 8.9 planned? I really need this ticket for vector bundles and therefore my master thesis. A merge is highly appreciated!



---

archive/issue_comments_394433.json:
```json
{
    "body": "I can rebase but I will not spend my life doing it. Volker, could you merge it first in the 9.0.beta0 if I rebase?",
    "created_at": "2019-09-24T12:16:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27952",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27952#issuecomment-394433",
    "user": "https://github.com/videlec"
}
```

I can rebase but I will not spend my life doing it. Volker, could you merge it first in the 9.0.beta0 if I rebase?



---

archive/issue_comments_394434.json:
```json
{
    "body": "Can do...",
    "created_at": "2019-09-24T13:06:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27952",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27952#issuecomment-394434",
    "user": "https://github.com/vbraun"
}
```

Can do...



---

archive/issue_comments_394435.json:
```json
{
    "body": "Nice, thank you very much! :)",
    "created_at": "2019-09-24T13:17:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27952",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27952#issuecomment-394435",
    "user": "https://github.com/DeRhamSource"
}
```

Nice, thank you very much! :)



---

archive/issue_comments_394436.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-09-24T13:32:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27952",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27952#issuecomment-394436",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_events_070057.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-09-24T13:32:33Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27952",
    "milestone": "sage-9.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27952#event-70057"
}
```



---

archive/issue_comments_394437.json:
```json
{
    "body": "New commits:",
    "created_at": "2019-09-24T13:32:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27952",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27952#issuecomment-394437",
    "user": "https://github.com/videlec"
}
```

New commits:



---

archive/issue_comments_394438.json:
```json
{
    "body": "New: a failing doctest in `src/sage/matrix/matrix0.pyx`",
    "created_at": "2019-09-24T18:08:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27952",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27952#issuecomment-394438",
    "user": "https://github.com/fchapoton"
}
```

New: a failing doctest in `src/sage/matrix/matrix0.pyx`



---

archive/issue_comments_394439.json:
```json
{
    "body": "Is this a py2-only failure? From my limited experimentation, it looks like `build_inverse_from_augmented_sparse` behaves differently in Python 2 vs. 3.",
    "created_at": "2019-09-24T19:00:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27952",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27952#issuecomment-394439",
    "user": "https://github.com/jhpalmieri"
}
```

Is this a py2-only failure? From my limited experimentation, it looks like `build_inverse_from_augmented_sparse` behaves differently in Python 2 vs. 3.



---

archive/issue_comments_394440.json:
```json
{
    "body": "Replying to [comment:29 jhpalmieri]:\n> Is this a py2-only failure? From my limited experimentation, it looks like `build_inverse_from_augmented_sparse` behaves differently in Python 2 vs. 3.\nYes, see also #28402. It looks like the fix there was accidentally undone here.",
    "created_at": "2019-09-24T19:38:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27952",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27952#issuecomment-394440",
    "user": "https://github.com/mwageringel"
}
```

Replying to [comment:29 jhpalmieri]:
> Is this a py2-only failure? From my limited experimentation, it looks like `build_inverse_from_augmented_sparse` behaves differently in Python 2 vs. 3.
Yes, see also #28402. It looks like the fix there was accidentally undone here.



---

archive/issue_comments_394441.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-09-24T21:23:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27952",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27952#issuecomment-394441",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_394442.json:
```json
{
    "body": "now fixed",
    "created_at": "2019-09-25T06:39:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27952",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27952#issuecomment-394442",
    "user": "https://github.com/videlec"
}
```

now fixed



---

archive/issue_comments_394443.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-09-25T07:51:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27952",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27952#issuecomment-394443",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_394444.json:
```json
{
    "body": "ok, bien",
    "created_at": "2019-09-25T07:51:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27952",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27952#issuecomment-394444",
    "user": "https://github.com/fchapoton"
}
```

ok, bien



---

archive/issue_events_070058.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-10-03T17:58:04Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/27952",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27952#event-70058"
}
```



---

archive/issue_comments_394445.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-10-03T17:58:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27952",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27952#issuecomment-394445",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_394446.json:
```json
{
    "body": "This has broken the inversion of matrices over ZZ, see sage-devel thread.",
    "created_at": "2019-10-06T15:29:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27952",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27952#issuecomment-394446",
    "user": "https://github.com/fchapoton"
}
```

This has broken the inversion of matrices over ZZ, see sage-devel thread.



---

archive/issue_comments_394447.json:
```json
{
    "body": "I think the problem is that the new matrix `inverse_of_unit` is shadowing the old one from `categories.rings`.",
    "created_at": "2019-10-06T17:07:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27952",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27952#issuecomment-394447",
    "user": "https://github.com/jhpalmieri"
}
```

I think the problem is that the new matrix `inverse_of_unit` is shadowing the old one from `categories.rings`.



---

archive/issue_comments_394448.json:
```json
{
    "body": "follow-up ticket in #28570 to try and fix the broken things ; please help",
    "created_at": "2019-10-08T20:08:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27952",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27952#issuecomment-394448",
    "user": "https://github.com/fchapoton"
}
```

follow-up ticket in #28570 to try and fix the broken things ; please help
