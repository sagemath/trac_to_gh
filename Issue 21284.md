# Issue 21284: py3 remove one cmp sort in cyclotomic.pyx

Issue created by migration from Trac.

Original creator: chapoton

Original creation time: 2016-09-17 11:39:05

CC:  tscrim jmantysalo aapitzsch jdemeyer

plus a little cleanup of this file


---

Comment by chapoton created at 2016-09-17 11:39:36

New commits:


---

Comment by chapoton created at 2016-09-17 11:39:36

Changing status from new to needs_review.


---

Comment by tscrim created at 2016-09-17 15:54:40

Jeroen, does Cython make a difference between `range` and `xrange`? I recall reading that Cython special cases iterations `for i in range(x)` to `for(int i=0; i<x; ++i)` (possibly with a `cdef int i`).

The other changes look good to me.


---

Comment by git created at 2016-09-18 06:37:33

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jdemeyer created at 2016-09-18 13:09:41

Replying to [comment:3 tscrim]:
> Jeroen, does Cython make a difference between `range` and `xrange`?

Yes. I explained that on another ticket that I cannot recall.

> I recall reading that Cython special cases iterations `for i in range(x)` to `for(int i=0; i<x; ++i)` (possibly with a `cdef int i`).

Yes, this happens when the iteration variable is some C type.


---

Comment by jdemeyer created at 2016-09-18 13:10:34

But even for Python loops (where the iteration variable is a Python variable), `xrange()` is better than `range()` so that change makes sense anyway.


---

Comment by tscrim created at 2016-09-18 13:43:27

Thanks. I couldn't remember what you said, nor the ticket number either.


---

Comment by tscrim created at 2016-09-18 13:43:27

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2016-09-18 13:45:00

The short version is: in Cython files, you should probably always use `xrange()`.


---

Comment by tscrim created at 2016-09-18 14:54:39

Replying to [comment:8 jdemeyer]:
> The short version is: in Cython files, you should probably always use `xrange()`.

I will try to remember that. Hopefully Cython also special cases that like `range()`...


---

Comment by vbraun created at 2016-09-19 23:12:08

Resolution: fixed
