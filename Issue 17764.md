# Issue 17764: Implement category for H, L, R, J trivials monoids

Issue created by migration from https://trac.sagemath.org/ticket/18001

Original creator: virmaux

Original creation time: 2015-03-19 19:51:03

CC:  nthiery hivert tscrim saliola

Keywords: monoids, days64

It will mostly be a re-writing of the sage-combinat patch finite_semigroup-nt.patch of Nicolas M. Thiéry.

The aim is to provide some specific methods for
* H-trivial monoids
* R-trivial monoids
* L-trivial monoids
* J-trivial monoids

As well as several examples.


---

Comment by nthiery created at 2015-04-21 08:07:59

New commits:


---

Comment by git created at 2015-06-13 13:39:48

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2016-03-27 15:11:54

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2016-08-12 18:36:03

I have made a cleaner branch, starting from u/virmaux/develop.

I have also corrected a few typos in the new files.
----
New commits:


---

Comment by git created at 2016-08-12 18:43:53

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2016-08-12 18:47:50

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-04-28 13:25:56

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-04-28 17:51:03

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-04-29 06:13:06

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2018-05-01 10:01:22

there is one non-obvious failing doctest remaining..


---

Comment by tscrim created at 2018-05-01 12:17:17

The failure comes from the fact that the category of `RTrivialMonoids().Finite()` is not enumerated, as opposed to the category of `Semigroups().Finite().FinitelyGenerated()`. So I think you just have to add `.FinitelyGenerated()`.

From the code, it also looks like you want `JTrivialMonoids().Finite()` to imply `FinitelyGenerated()` since you are giving it a distinguished generating set.

Quick doc comment: Sphinx doesn't like `*`H`-preorder*`; instead use ``H`-*preorder*`. Also, typo `preoder`.


---

Comment by git created at 2018-05-01 15:15:05

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2018-05-05 09:47:41

I have fixed your doc comments.

Concerning the failing doctest, I have tried adding `.FinitelyGenerated()` but this does not fix it.


---

Comment by git created at 2018-05-05 13:08:54

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2018-05-05 13:14:36

Well, it does fix one problem: the enumeration and the lack of a `list()` method. (I'm not sure if that means some of these methods should actually belong to the finite finitely-generated semigroups category, and I have swept the problem under the run.)

However, it then shows another problem, which seems to be rooted in the test itself. The method `j_transversal_of_idempotents` returns a list, but this test seems to be expecting a `dict`. So either the `j_transversal_of_idempotents` should now return a family whose keys are `index_of_regular_j_class` or the test itself needs to change. (BTW, there is a bug with `j_transversal_of_idempotents`; the output is cached, but it is a mutable list.)


---

Comment by chapoton created at 2018-05-05 13:15:30

and also a superfluous import

```
+src/sage/categories/finite_semigroups.py:16: 'sage.categories.finite_enumerated_sets.FiniteEnumeratedSets' imported but unused
```



---

Comment by git created at 2020-07-06 13:32:22

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2020-07-07 13:21:08

any interest on this ? Nicolas ou Florent, ça vous motive un peu ou pas ?


---

Comment by tscrim created at 2020-07-08 01:48:07

I have interest, but no time. `:/`


---

Comment by git created at 2020-07-09 09:28:56

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2021-02-13 20:51:01

Setting new milestone based on a cursory review of ticket status, priority, and last modification date.


---

Comment by chapoton created at 2021-07-01 07:05:48

or is this just a duplicate of #18265 ?
