# Issue 17764: Implement category for H, L, R, J trivials monoids

archive/issues_017764.json:
```json
{
    "body": "CC:  nthiery hivert tscrim saliola\n\nKeywords: monoids, days64\n\nIt will mostly be a re-writing of the sage-combinat patch finite_semigroup-nt.patch of Nicolas M. Thi\u00e9ry.\n\nThe aim is to provide some specific methods for\n* H-trivial monoids\n* R-trivial monoids\n* L-trivial monoids\n* J-trivial monoids\n\nAs well as several examples.\n\nIssue created by migration from https://trac.sagemath.org/ticket/18001\n\n",
    "created_at": "2015-03-19T19:51:03Z",
    "labels": [
        "categories",
        "major",
        "enhancement"
    ],
    "title": "Implement category for H, L, R, J trivials monoids",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17764",
    "user": "virmaux"
}
```
CC:  nthiery hivert tscrim saliola

Keywords: monoids, days64

It will mostly be a re-writing of the sage-combinat patch finite_semigroup-nt.patch of Nicolas M. Thiéry.

The aim is to provide some specific methods for
* H-trivial monoids
* R-trivial monoids
* L-trivial monoids
* J-trivial monoids

As well as several examples.

Issue created by migration from https://trac.sagemath.org/ticket/18001





---

archive/issue_comments_237917.json:
```json
{
    "body": "New commits:",
    "created_at": "2015-04-21T08:07:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17764#issuecomment-237917",
    "user": "nthiery"
}
```

New commits:



---

archive/issue_comments_237918.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-13T13:39:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17764#issuecomment-237918",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_237919.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-03-27T15:11:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17764#issuecomment-237919",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_237920.json:
```json
{
    "body": "I have made a cleaner branch, starting from u/virmaux/develop.\n\nI have also corrected a few typos in the new files.\n----\nNew commits:",
    "created_at": "2016-08-12T18:36:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17764#issuecomment-237920",
    "user": "chapoton"
}
```

I have made a cleaner branch, starting from u/virmaux/develop.

I have also corrected a few typos in the new files.
----
New commits:



---

archive/issue_comments_237921.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-08-12T18:43:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17764#issuecomment-237921",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_237922.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-08-12T18:47:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17764#issuecomment-237922",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_237923.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-04-28T13:25:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17764#issuecomment-237923",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_237924.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-04-28T17:51:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17764#issuecomment-237924",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_237925.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-04-29T06:13:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17764#issuecomment-237925",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_237926.json:
```json
{
    "body": "there is one non-obvious failing doctest remaining..",
    "created_at": "2018-05-01T10:01:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17764#issuecomment-237926",
    "user": "chapoton"
}
```

there is one non-obvious failing doctest remaining..



---

archive/issue_comments_237927.json:
```json
{
    "body": "The failure comes from the fact that the category of `RTrivialMonoids().Finite()` is not enumerated, as opposed to the category of `Semigroups().Finite().FinitelyGenerated()`. So I think you just have to add `.FinitelyGenerated()`.\n\nFrom the code, it also looks like you want `JTrivialMonoids().Finite()` to imply `FinitelyGenerated()` since you are giving it a distinguished generating set.\n\nQuick doc comment: Sphinx doesn't like `*`H`-preorder*`; instead use ``H`-*preorder*`. Also, typo `preoder`.",
    "created_at": "2018-05-01T12:17:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17764#issuecomment-237927",
    "user": "tscrim"
}
```

The failure comes from the fact that the category of `RTrivialMonoids().Finite()` is not enumerated, as opposed to the category of `Semigroups().Finite().FinitelyGenerated()`. So I think you just have to add `.FinitelyGenerated()`.

From the code, it also looks like you want `JTrivialMonoids().Finite()` to imply `FinitelyGenerated()` since you are giving it a distinguished generating set.

Quick doc comment: Sphinx doesn't like `*`H`-preorder*`; instead use ``H`-*preorder*`. Also, typo `preoder`.



---

archive/issue_comments_237928.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-05-01T15:15:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17764#issuecomment-237928",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_237929.json:
```json
{
    "body": "I have fixed your doc comments.\n\nConcerning the failing doctest, I have tried adding `.FinitelyGenerated()` but this does not fix it.",
    "created_at": "2018-05-05T09:47:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17764#issuecomment-237929",
    "user": "chapoton"
}
```

I have fixed your doc comments.

Concerning the failing doctest, I have tried adding `.FinitelyGenerated()` but this does not fix it.



---

archive/issue_comments_237930.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-05-05T13:08:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17764#issuecomment-237930",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_237931.json:
```json
{
    "body": "Well, it does fix one problem: the enumeration and the lack of a `list()` method. (I'm not sure if that means some of these methods should actually belong to the finite finitely-generated semigroups category, and I have swept the problem under the run.)\n\nHowever, it then shows another problem, which seems to be rooted in the test itself. The method `j_transversal_of_idempotents` returns a list, but this test seems to be expecting a `dict`. So either the `j_transversal_of_idempotents` should now return a family whose keys are `index_of_regular_j_class` or the test itself needs to change. (BTW, there is a bug with `j_transversal_of_idempotents`; the output is cached, but it is a mutable list.)",
    "created_at": "2018-05-05T13:14:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17764#issuecomment-237931",
    "user": "tscrim"
}
```

Well, it does fix one problem: the enumeration and the lack of a `list()` method. (I'm not sure if that means some of these methods should actually belong to the finite finitely-generated semigroups category, and I have swept the problem under the run.)

However, it then shows another problem, which seems to be rooted in the test itself. The method `j_transversal_of_idempotents` returns a list, but this test seems to be expecting a `dict`. So either the `j_transversal_of_idempotents` should now return a family whose keys are `index_of_regular_j_class` or the test itself needs to change. (BTW, there is a bug with `j_transversal_of_idempotents`; the output is cached, but it is a mutable list.)



---

archive/issue_comments_237932.json:
```json
{
    "body": "and also a superfluous import\n\n```\n+src/sage/categories/finite_semigroups.py:16: 'sage.categories.finite_enumerated_sets.FiniteEnumeratedSets' imported but unused\n```\n",
    "created_at": "2018-05-05T13:15:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17764#issuecomment-237932",
    "user": "chapoton"
}
```

and also a superfluous import

```
+src/sage/categories/finite_semigroups.py:16: 'sage.categories.finite_enumerated_sets.FiniteEnumeratedSets' imported but unused
```




---

archive/issue_comments_237933.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-07-06T13:32:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17764#issuecomment-237933",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_237934.json:
```json
{
    "body": "any interest on this ? Nicolas ou Florent, \u00e7a vous motive un peu ou pas ?",
    "created_at": "2020-07-07T13:21:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17764#issuecomment-237934",
    "user": "chapoton"
}
```

any interest on this ? Nicolas ou Florent, ça vous motive un peu ou pas ?



---

archive/issue_comments_237935.json:
```json
{
    "body": "I have interest, but no time. `:/`",
    "created_at": "2020-07-08T01:48:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17764#issuecomment-237935",
    "user": "tscrim"
}
```

I have interest, but no time. `:/`



---

archive/issue_comments_237936.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-07-09T09:28:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17764#issuecomment-237936",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_237937.json:
```json
{
    "body": "Setting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-02-13T20:51:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17764#issuecomment-237937",
    "user": "mkoeppe"
}
```

Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_comments_237938.json:
```json
{
    "body": "or is this just a duplicate of #18265 ?",
    "created_at": "2021-07-01T07:05:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17764#issuecomment-237938",
    "user": "chapoton"
}
```

or is this just a duplicate of #18265 ?
