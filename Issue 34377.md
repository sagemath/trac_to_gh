# Issue 34377: add missing EllipticCurveHom methods to √élu isogenies

Issue created by migration from https://trac.sagemath.org/ticket/34614

Original creator: lorenz

Original creation time: 2022-09-29 17:33:06

CC:  defeo cremona tscrim klee

The `EllipticCurveHom_velusqrt` class introduced in #34303 inherits from `EllipticCurveHom` (#32388, #32502), but it doesn't yet implement all of the required methods.


---

Comment by lorenz created at 2022-09-30 07:40:25

Changing status from new to needs_review.


---

Comment by git created at 2022-09-30 07:42:42

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by git created at 2022-09-30 09:19:43

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by tscrim created at 2022-10-01 14:23:59

Code wise, basically looks good (although I would like the long doctest output lines broken up a little bit). Could someone check the math?


---

Comment by git created at 2022-10-07 06:03:59

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by klee created at 2022-10-07 06:28:04

I made minor edits. 

I took this opportunity to move the method `as_morphism()` to the class `EllipticCurveHom` so that it works with √élu isogenies. The method may be useful to check elliptic curve morphisms, though it is reasonably fast only for small examples.

One remark: There are notes like 

```
    def rational_maps(self):
        r"""
        Return the pair of explicit rational maps of this √élu isogeny
        as fractions of bivariate polynomials in `x` and `y`.

        .. NOTE::

            The data returned by this method has size linear in the degree.

        EXAMPLES::  
}}}   
The meaning of the note is obscure to me. How is the size of the data measured? If the data is a polynomial, then it may mean "the degree of the returned polynomial is linear in the degree of the isogeny". In this case, the data is two rational functions. You need to be explicit about what is the "size" of rational functions. I suggest that you rewrite the notes or remove them (as they are, the notes are not so useful).


---

Comment by lorenz created at 2022-10-07 07:24:14

Replying to [comment:8 Kwankyu Lee]:
> How is the size of the data measured?

It's literally the size of the object, as in "bytes of memory it takes to store".

The purpose of these remarks is to point out that merely writing down the result of calling these methods already requires time `Ω(ℓ)`, which means the √élu speedup (complexity `Õ(√ℓ)`) cannot apply to them. Perhaps that point should be made clearer.


---

Comment by klee created at 2022-10-07 08:59:07

Replying to [comment:9 Lorenz Panny]:
> Replying to [comment:8 Kwankyu Lee]:
> > How is the size of the data measured?
> 
> It's literally the size of the object, as in "bytes of memory it takes to store".

Okay.

> The purpose of these remarks is to point out that merely writing down the result of calling these methods already requires time `Ω(ℓ)`, which means the √élu speedup (complexity `Õ(√ℓ)`) cannot apply to them. Perhaps that point should be made clearer.

I now see what you mean by the note. Then if you want to keep those notes, I suggest that you write this explanation (implication) for these notes, once and for all, at the head of the file `hom_velusqrt.py`. Non-experts need the explanation.

Otherwise I am positive to the branch.


---

Comment by git created at 2022-10-07 10:32:23

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by lorenz created at 2022-10-07 10:35:55

Thanks! I added a note about it as you suggested.


---

Comment by klee created at 2022-10-07 13:05:03

Changing status from needs_review to positive_review.


---

Comment by klee created at 2022-10-07 13:05:03

Thank you!


---

Comment by vbraun created at 2022-10-16 22:15:44

Resolution: fixed
