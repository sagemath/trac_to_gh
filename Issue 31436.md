# Issue 31436: MR53: Unbreak sagelib's setup.py install

Issue created by migration from https://trac.sagemath.org/ticket/31673

Original creator: galois

Original creation time: 2021-04-15 15:59:36

CC:  dimpase

Mauricio Collares ([`@`collares](https://gitlab.com/sagemath/dev/tracmirror/collares)) opened a merge request at https://gitlab.com/sagemath/sage/-/merge_requests/53:
----

```markdown
The pattern of importing setuptools before distutils was already used in other files, but not in sagelib's setup.py. This caused errors of the form "AttributeError: 'Extension' object has no attribute '_needs_stub'" on my machine.

I understand this install method is deprecated, but I believe this patch has essentially zero cost and can safely be added to Sage 9.3.
```







---

Comment by mkoeppe created at 2021-04-15 16:16:04

Changing status from needs_review to positive_review.


---

Comment by mkoeppe created at 2021-04-15 16:16:04

Changing component from PLEASE CHANGE to build.


---

Comment by mkoeppe created at 2021-04-15 16:16:04

Changing type from PLEASE CHANGE to defect.


---

Comment by mkoeppe created at 2021-04-15 16:16:04

Changing priority from major to critical.


---

Comment by mkoeppe created at 2021-04-18 16:13:17

Changing priority from critical to blocker.


---

Comment by vbraun created at 2021-04-25 12:14:02

Resolution: fixed
