# Issue 33184: Add elliptic_curves dependency to sagemath_doc_html

archive/issues_033184.json:
```json
{
    "body": "CC:  jhonrubia6 @kwankyu @slel @videlec\n\nKeywords: dependency\n\nNeeded after #32993, which enriched the documentation\nwith pictures of elliptic curve plots.\n\nThe code for drawing those uses labels from Cremona's\nelliptic curve database.\n\nIn a fresh clone, `make -j1` builds `sagemath_doc_html`\nbefore `elliptic_curves`, and fails.\n\nThe error message somewhat misleadingly suggests to install\nthe full elliptic curves database provided by the\n`database_cremona_ellcurve` optional spkg,\nwhen only the mini Cremona database provided by the\n`elliptic_curves` standard spkg is in fact needed.\n\nSince `elliptic_curves` is standard, hinting at\ninstalling `database_cremona_ellcurve` when an\nelliptic curve cannot be found by label is understandable.\n\nThus adding the missing new dependency on `elliptic_curves`\nto `sagemath_doc_html` is all that is needed here.\n\nIssue created by migration from https://trac.sagemath.org/ticket/33421\n\n",
    "created_at": "2022-02-27T10:59:23Z",
    "labels": [
        "component: documentation",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.6",
    "title": "Add elliptic_curves dependency to sagemath_doc_html",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/33184",
    "user": "https://github.com/slel"
}
```
CC:  jhonrubia6 @kwankyu @slel @videlec

Keywords: dependency

Needed after #32993, which enriched the documentation
with pictures of elliptic curve plots.

The code for drawing those uses labels from Cremona's
elliptic curve database.

In a fresh clone, `make -j1` builds `sagemath_doc_html`
before `elliptic_curves`, and fails.

The error message somewhat misleadingly suggests to install
the full elliptic curves database provided by the
`database_cremona_ellcurve` optional spkg,
when only the mini Cremona database provided by the
`elliptic_curves` standard spkg is in fact needed.

Since `elliptic_curves` is standard, hinting at
installing `database_cremona_ellcurve` when an
elliptic curve cannot be found by label is understandable.

Thus adding the missing new dependency on `elliptic_curves`
to `sagemath_doc_html` is all that is needed here.

Issue created by migration from https://trac.sagemath.org/ticket/33421





---

archive/issue_comments_472108.json:
```json
{
    "body": "> In a fresh clone, `make -j1` builds `sagemath_doc_html` before `elliptic_curves`, and fails.\n\nIs this, building the doc before the sage library, normal?",
    "created_at": "2022-02-27T11:39:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33184",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33184#issuecomment-472108",
    "user": "https://github.com/kwankyu"
}
```

> In a fresh clone, `make -j1` builds `sagemath_doc_html` before `elliptic_curves`, and fails.

Is this, building the doc before the sage library, normal?



---

archive/issue_comments_472109.json:
```json
{
    "body": "No, `sagemath_doc_html` depends on `sagelib` which depends on `eclib`.\n\nShould `elliptic_curves` be added to `sagelib`'s or `eclib`'s dependencies?",
    "created_at": "2022-02-27T12:38:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33184",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33184#issuecomment-472109",
    "user": "https://github.com/slel"
}
```

No, `sagemath_doc_html` depends on `sagelib` which depends on `eclib`.

Should `elliptic_curves` be added to `sagelib`'s or `eclib`'s dependencies?



---

archive/issue_comments_472110.json:
```json
{
    "body": "I'd be in favor of adding it to `sagemath_doc_html`'s dependencies as proposed",
    "created_at": "2022-02-27T19:08:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33184",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33184#issuecomment-472110",
    "user": "https://github.com/mkoeppe"
}
```

I'd be in favor of adding it to `sagemath_doc_html`'s dependencies as proposed



---

archive/issue_comments_472111.json:
```json
{
    "body": "Should it go before or after the `|` in the `dependencies` file?",
    "created_at": "2022-03-01T11:16:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33184",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33184#issuecomment-472111",
    "user": "https://github.com/slel"
}
```

Should it go before or after the `|` in the `dependencies` file?



---

archive/issue_comments_472112.json:
```json
{
    "body": "It does not matter in this case, perhaps put it after",
    "created_at": "2022-03-01T18:34:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33184",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33184#issuecomment-472112",
    "user": "https://github.com/mkoeppe"
}
```

It does not matter in this case, perhaps put it after



---

archive/issue_comments_472113.json:
```json
{
    "body": "Changing priority from major to critical.",
    "created_at": "2022-03-01T18:40:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33184",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33184#issuecomment-472113",
    "user": "https://github.com/mkoeppe"
}
```

Changing priority from major to critical.



---

archive/issue_comments_472114.json:
```json
{
    "body": "Ready for review.\n----\nNew commits:",
    "created_at": "2022-03-01T18:46:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33184",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33184#issuecomment-472114",
    "user": "https://github.com/slel"
}
```

Ready for review.
----
New commits:



---

archive/issue_comments_472115.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-03-01T18:46:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33184",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33184#issuecomment-472115",
    "user": "https://github.com/slel"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_472116.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-03-01T18:53:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33184",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33184#issuecomment-472116",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_472117.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-03-03T22:19:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33184",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33184#issuecomment-472117",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
