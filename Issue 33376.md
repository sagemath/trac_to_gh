# Issue 33376: gitpod: Install sage-trac-command

Issue created by migration from https://trac.sagemath.org/ticket/33613

Original creator: mkoeppe

Original creation time: 2022-03-31 15:13:05

CC:  @tobiasdiez dimpase isuruf saraedum slelievre yzh




---

Comment by mkoeppe created at 2022-03-31 15:21:47

(Without #33589) I also get

```
(sage-sh) gitpod@sagemath-sagetracmirror-72wwexpcfmb:sagetrac-mirror$ git trac checkout 33608
Loading ticket #33608...
Checking out Trac #33608 remote branch u/klee/33608 -> local branch t/33608/33608...
Traceback (most recent call last):
    STDERR: Warning: Permanently added the ECDSA host key for IP address '104.197.143.230' to the list of known hosts.
    STDERR: Load key "/home/gitpod/.ssh/id_rsa": invalid format
    STDERR: git@trac.sagemath.org: Permission denied (publickey).
    STDERR: fatal: Could not read from remote repository.
    STDERR: 
    STDERR: Please make sure you have the correct access rights
    STDERR: and the repository exists.
```



---

Comment by @tobiasdiez created at 2022-03-31 15:24:11

Did you followed the steps outlined in sage's gitpod docs to add the ssh key?


---

Comment by mkoeppe created at 2022-03-31 15:26:13

No. In #33589 we should make sure that fetching can be done without these steps.


---

Comment by mkoeppe created at 2022-03-31 19:38:28

Last 10 new commits:


---

Comment by git created at 2022-03-31 20:37:25

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2022-03-31 20:55:48

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2022-05-16 23:44:37

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:


---

Comment by git created at 2022-05-17 00:08:34

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2022-05-17 00:14:00

Changing status from new to needs_review.


---

Comment by git created at 2022-05-29 22:17:30

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2022-05-29 22:43:35

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by mkoeppe created at 2022-05-29 22:44:25

Rebased away from #33822, #33851.

Ready for review


---

Comment by git created at 2022-06-29 20:39:45

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2022-06-29 20:51:39

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dimpase created at 2022-07-04 11:06:09

not quite sure what should be tested here.


---

Comment by git created at 2022-07-04 16:55:04

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2022-07-04 18:09:55

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @tobiasdiez created at 2022-07-04 20:25:36

Changing status from needs_review to needs_work.


---

Comment by @tobiasdiez created at 2022-07-04 20:25:36

Why not simply publish the trac git command package to conda forge? Moreover, given the limitations that conda has with pip-installed packages (especially concerning dependency resolution), I'm not a big fan of the semi-automatic pip fallback. What do you think about supporting the syntax `pip: xyz` in `xyz/distros/conda.txt` to signal that this package should be installed via pip. Finally, the spkg documentation needs to be changed for those pip-installed packages as well, since `conda install xyz` is not the correct way for them.


---

Comment by mkoeppe created at 2022-07-04 20:47:11

Replying to [comment:32 gh-tobiasdiez]:
> Why not simply publish the trac git command package to conda forge?

It's not a good idea for a project to take on downstream packaging duties.


---

Comment by mkoeppe created at 2022-07-04 20:48:44

Replying to [comment:32 gh-tobiasdiez]:
> the spkg documentation needs to be changed for those pip-installed packages as well, since `conda install xyz` is not the correct way for them.

`conda install xyz` is not issued for these packages because conda.txt is not present.


---

Comment by mkoeppe created at 2022-07-04 20:52:42

Replying to [comment:32 gh-tobiasdiez]:
> given the limitations that conda has with pip-installed packages (especially concerning dependency resolution), I'm not a big fan of the semi-automatic pip fallback. 

If there ever is an actual problem with a pip installed package, it's easy to override it with an empty conda.txt file.


---

Comment by mkoeppe created at 2022-07-04 20:52:53

Changing status from needs_work to needs_review.


---

Comment by mkoeppe created at 2022-07-04 20:55:13

Replying to [comment:32 gh-tobiasdiez]:
> I'm not a big fan of the semi-automatic pip fallback

Being semi-automatic makes it require less maintenance.


---

Comment by git created at 2022-08-06 03:16:54

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by git created at 2022-08-06 03:25:14

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2022-08-06 03:59:07

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2022-08-06 04:03:15

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2022-08-06 05:22:00

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2022-08-06 05:23:31

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2022-08-06 05:27:22

Changing priority from minor to major.


---

Comment by git created at 2022-08-24 02:46:47

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:


---

Comment by git created at 2022-08-24 03:08:55

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2022-09-12 18:27:36

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by git created at 2022-09-12 18:31:50

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @dimpase created at 2022-09-16 09:42:55

Changing status from needs_review to positive_review.


---

Comment by @dimpase created at 2022-09-16 09:42:55

this should be merged soon.


---

Comment by mkoeppe created at 2022-09-16 16:56:48

Thank you!


---

Comment by vbraun created at 2022-09-20 20:23:08

Resolution: fixed
