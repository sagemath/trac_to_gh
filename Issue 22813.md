# Issue 22813: method to reverse row and column orders of matrice

archive/issues_022813.json:
```json
{
    "body": "CC:  @kwankyu\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/23050\n\n",
    "created_at": "2017-05-22T07:54:58Z",
    "labels": [
        "linear algebra",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.0",
    "title": "method to reverse row and column orders of matrice",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/22813",
    "user": "@videlec"
}
```
CC:  @kwankyu



Issue created by migration from https://trac.sagemath.org/ticket/23050





---

archive/issue_comments_319036.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-05-22T08:04:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22813#issuecomment-319036",
    "user": "@videlec"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_319037.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-05-22T08:04:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22813#issuecomment-319037",
    "user": "@videlec"
}
```

New commits:



---

archive/issue_comments_319038.json:
```json
{
    "body": "salut Vincent, i saw your cool function, maybe you can paste this too or similar:\n\n\n```\nThe row-and-column-reversed matrix of `M` is defined as:\n\n.. MATH::\n\n    (i,j) \\mapsto M[nrows - i - 1, ncols - j - 1]\n\nIn other words, this function flips `M` up to down and left to right.\n```\n",
    "created_at": "2017-05-22T09:00:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22813#issuecomment-319038",
    "user": "@mforets"
}
```

salut Vincent, i saw your cool function, maybe you can paste this too or similar:


```
The row-and-column-reversed matrix of `M` is defined as:

.. MATH::

    (i,j) \mapsto M[nrows - i - 1, ncols - j - 1]

In other words, this function flips `M` up to down and left to right.
```




---

archive/issue_comments_319039.json:
```json
{
    "body": "Replying to [comment:2 mforets]:\n> salut Vincent, i saw your cool function, maybe you can paste this too or similar:\n> \n> {{{\n> The row-and-column-reversed matrix of `M` is defined as:\n> \n> .. MATH::\n> \n>     (i,j) \\mapsto M[nrows - i - 1, ncols - j - 1]\n> \n> In other words, this function flips `M` up to down and left to right.\n> }}}\n\ngood idea.",
    "created_at": "2017-05-22T09:27:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22813#issuecomment-319039",
    "user": "@videlec"
}
```

Replying to [comment:2 mforets]:
> salut Vincent, i saw your cool function, maybe you can paste this too or similar:
> 
> {{{
> The row-and-column-reversed matrix of `M` is defined as:
> 
> .. MATH::
> 
>     (i,j) \mapsto M[nrows - i - 1, ncols - j - 1]
> 
> In other words, this function flips `M` up to down and left to right.
> }}}

good idea.



---

archive/issue_comments_319040.json:
```json
{
    "body": "Looks and works nice. Thank you! Just two minor comments:\n\n1. Docstrings better to be consistent in the three methods. Note the period at the end.\n\n```\nReverse the orders of rows and columns.\n```\n\n\n2. You may want to also show the matrices before reversing in some of the examples.",
    "created_at": "2017-05-22T09:27:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22813#issuecomment-319040",
    "user": "@kwankyu"
}
```

Looks and works nice. Thank you! Just two minor comments:

1. Docstrings better to be consistent in the three methods. Note the period at the end.

```
Reverse the orders of rows and columns.
```


2. You may want to also show the matrices before reversing in some of the examples.



---

archive/issue_comments_319041.json:
```json
{
    "body": "What do you think of calling the method simply `reverse`?",
    "created_at": "2017-05-22T10:44:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22813#issuecomment-319041",
    "user": "@videlec"
}
```

What do you think of calling the method simply `reverse`?



---

archive/issue_comments_319042.json:
```json
{
    "body": "If someone implements `reverse_rows` or `reverse_columns` in future, then `reverse` will be somewhat unclear. I prefer to stick to the current name.",
    "created_at": "2017-05-22T10:47:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22813#issuecomment-319042",
    "user": "@kwankyu"
}
```

If someone implements `reverse_rows` or `reverse_columns` in future, then `reverse` will be somewhat unclear. I prefer to stick to the current name.



---

archive/issue_comments_319043.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-05-22T11:07:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22813#issuecomment-319043",
    "user": "@videlec"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_319044.json:
```json
{
    "body": "This method already exists and called `antitranspose`! I propose to keep this ticket to make an inplace version.",
    "created_at": "2017-05-22T11:07:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22813#issuecomment-319044",
    "user": "@videlec"
}
```

This method already exists and called `antitranspose`! I propose to keep this ticket to make an inplace version.



---

archive/issue_comments_319045.json:
```json
{
    "body": "Sorry, it is different: transpose and antitranspose does inverse rows <-> columns. They are symmetries with respect to diagonals. However, both transpose and antitranspose return a different matrix. It would be weird to have a different behavior for reverse.\n\nI propose to have\n- `transpose`, `antitranspose`, `reverse` as methods returning a different matrix\n- `_transpose_inplace`, `_antitranspose_inplace` and `_reverse_inplace` that modifies the matrix",
    "created_at": "2017-05-22T12:20:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22813#issuecomment-319045",
    "user": "@videlec"
}
```

Sorry, it is different: transpose and antitranspose does inverse rows <-> columns. They are symmetries with respect to diagonals. However, both transpose and antitranspose return a different matrix. It would be weird to have a different behavior for reverse.

I propose to have
- `transpose`, `antitranspose`, `reverse` as methods returning a different matrix
- `_transpose_inplace`, `_antitranspose_inplace` and `_reverse_inplace` that modifies the matrix



---

archive/issue_comments_319046.json:
```json
{
    "body": "Note that in numpy, there is method to do reflection that is called flip. What I am trying to achieve with this ticket corresponds to\n\n```\nsage: import numpy as np\nsage: a = numpy.array([[0,1],[2,3],[4,5]])\nsage: np.flip(np.flip(a,0), 1)\narray([[5, 4],\n       [3, 2],\n       [1, 0]])\n```\n\nAnd numpy provides shortcuts `flipud` (up/down) and `fliplr` (left/right) for flipping with respect to axes 0 and 1.",
    "created_at": "2017-05-22T12:21:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22813#issuecomment-319046",
    "user": "@videlec"
}
```

Note that in numpy, there is method to do reflection that is called flip. What I am trying to achieve with this ticket corresponds to

```
sage: import numpy as np
sage: a = numpy.array([[0,1],[2,3],[4,5]])
sage: np.flip(np.flip(a,0), 1)
array([[5, 4],
       [3, 2],
       [1, 0]])
```

And numpy provides shortcuts `flipud` (up/down) and `fliplr` (left/right) for flipping with respect to axes 0 and 1.



---

archive/issue_comments_319047.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2017-05-22T17:37:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22813#issuecomment-319047",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_319048.json:
```json
{
    "body": "Needs review again. Transpose and antitranspose are a bit different since the matrix space changes.",
    "created_at": "2017-05-22T17:41:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22813#issuecomment-319048",
    "user": "@videlec"
}
```

Needs review again. Transpose and antitranspose are a bit different since the matrix space changes.



---

archive/issue_comments_319049.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-05-22T17:41:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22813#issuecomment-319049",
    "user": "@videlec"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_319050.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2017-05-22T17:44:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22813#issuecomment-319050",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_319051.json:
```json
{
    "body": "Still missing a period at the end:\n\n```\nReverse the row order and column order of this matrix.\n```\n",
    "created_at": "2017-05-22T20:15:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22813#issuecomment-319051",
    "user": "@kwankyu"
}
```

Still missing a period at the end:

```
Reverse the row order and column order of this matrix.
```




---

archive/issue_comments_319052.json:
```json
{
    "body": "You may fold this long line\n\n```\nValueError: matrix is immutable; please change a copy instead (i.e., use copy(M) to change a copy of M).\n```\n",
    "created_at": "2017-05-22T20:20:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22813#issuecomment-319052",
    "user": "@kwankyu"
}
```

You may fold this long line

```
ValueError: matrix is immutable; please change a copy instead (i.e., use copy(M) to change a copy of M).
```




---

archive/issue_comments_319053.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-05-23T06:28:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22813#issuecomment-319053",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_319054.json:
```json
{
    "body": "done",
    "created_at": "2017-05-23T06:29:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22813#issuecomment-319054",
    "user": "@videlec"
}
```

done



---

archive/issue_comments_319055.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-05-23T09:04:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22813#issuecomment-319055",
    "user": "@kwankyu"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_319056.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-05-24T19:10:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22813#issuecomment-319056",
    "user": "@vbraun"
}
```

Resolution: fixed
