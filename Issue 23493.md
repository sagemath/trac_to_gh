# Issue 23493: InteractiveLPProblem fails to show the typeset dictionary

archive/issues_023493.json:
```json
{
    "body": "CC:  novoselt mkoeppe\n\nKeywords: typeset\n\n`InteractiveLPProblemStandardForm::run_simplex_method()` does not show the typeset dictionaries.\n\n```\nsage: A = ([1,0],[0,1],[5,5],[6/10, 15/10])\nsage: b = (50,35,300,63)\nsage: c = (200,350)\nsage: P = InteractiveLPProblem(A, b, c, variable_type=\">=\").standard_form()\nsage: view(P.run_simplex_method())\n```\n\n\nWhen running`InteractiveLPProblemStandardForm::run_simplex_method()` in Juypter, it displays a mixture of LaTex code and the typeset dictionary. See attachments.\n\nIssue created by migration from https://trac.sagemath.org/ticket/23730\n\n",
    "created_at": "2017-08-27T05:02:32Z",
    "labels": [
        "notebook",
        "major",
        "bug"
    ],
    "title": "InteractiveLPProblem fails to show the typeset dictionary",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23493",
    "user": "yzh"
}
```
CC:  novoselt mkoeppe

Keywords: typeset

`InteractiveLPProblemStandardForm::run_simplex_method()` does not show the typeset dictionaries.

```
sage: A = ([1,0],[0,1],[5,5],[6/10, 15/10])
sage: b = (50,35,300,63)
sage: c = (200,350)
sage: P = InteractiveLPProblem(A, b, c, variable_type=">=").standard_form()
sage: view(P.run_simplex_method())
```


When running`InteractiveLPProblemStandardForm::run_simplex_method()` in Juypter, it displays a mixture of LaTex code and the typeset dictionary. See attachments.

Issue created by migration from https://trac.sagemath.org/ticket/23730





---

archive/issue_comments_329234.json:
```json
{
    "body": "Attachment [view_run_simplex_method.pdf](tarball://root/attachments/some-uuid/ticket23730/view_run_simplex_method.pdf) by yzh created at 2017-08-27 05:03:00",
    "created_at": "2017-08-27T05:03:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23493",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23493#issuecomment-329234",
    "user": "yzh"
}
```

Attachment [view_run_simplex_method.pdf](tarball://root/attachments/some-uuid/ticket23730/view_run_simplex_method.pdf) by yzh created at 2017-08-27 05:03:00



---

archive/issue_comments_329235.json:
```json
{
    "body": "Attachment [jupyter_run_simplex_method.pdf](tarball://root/attachments/some-uuid/ticket23730/jupyter_run_simplex_method.pdf) by yzh created at 2017-08-27 05:12:00",
    "created_at": "2017-08-27T05:12:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23493",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23493#issuecomment-329235",
    "user": "yzh"
}
```

Attachment [jupyter_run_simplex_method.pdf](tarball://root/attachments/some-uuid/ticket23730/jupyter_run_simplex_method.pdf) by yzh created at 2017-08-27 05:12:00



---

archive/issue_comments_329236.json:
```json
{
    "body": "Note that the last dictionary in Jupyter is rendered. The problem seems to be with the color command.",
    "created_at": "2017-09-04T00:34:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23493",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23493#issuecomment-329236",
    "user": "novoselt"
}
```

Note that the last dictionary in Jupyter is rendered. The problem seems to be with the color command.



---

archive/issue_comments_329237.json:
```json
{
    "body": "As for the terminal, I am not sure what the desired output should be. The attached branch will work OK if one does `view(P.run_simplex_method(), tightpage=False)`, but produces no output at all otherwise. Compare it with results for `view([1,2])` with tight page and not.\n\nThe question is in how HTML should be rendered if sent to LaTeX. `P.run_simplex_method()` actually produces valid LaTeX code that can be just dropped normally between `\\begin{document}` and `\\end{document}`, but `view` makes use of some extra packages that make it not working.\n\n\n\n----\nNew commits:",
    "created_at": "2017-09-04T02:30:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23493",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23493#issuecomment-329237",
    "user": "novoselt"
}
```

As for the terminal, I am not sure what the desired output should be. The attached branch will work OK if one does `view(P.run_simplex_method(), tightpage=False)`, but produces no output at all otherwise. Compare it with results for `view([1,2])` with tight page and not.

The question is in how HTML should be rendered if sent to LaTeX. `P.run_simplex_method()` actually produces valid LaTeX code that can be just dropped normally between `\begin{document}` and `\end{document}`, but `view` makes use of some extra packages that make it not working.



----
New commits:



---

archive/issue_comments_329238.json:
```json
{
    "body": "Thanks a lot for the patch! It works perfectly for me.\nReplying to [comment:4 novoselt]:\n> As for the terminal, I am not sure what the desired output should be. The attached branch will work OK if one does `view(P.run_simplex_method(), tightpage=False)`, but produces no output at all otherwise. Compare it with results for `view([1,2])` with tight page and not.\n> \n> The question is in how HTML should be rendered if sent to LaTeX. `P.run_simplex_method()` actually produces valid LaTeX code that can be just dropped normally between `\\begin{document}` and `\\end{document}`, but `view` makes use of some extra packages that make it not working.\n> \n> \n> \n> ----\n> New commits:\n> ||[8a82cef](https://git.sagemath.org/sage.git/commit?id=8a82cef43f8bb098fa0c7871b950289578496b9a)||`Make view aware of HtmlFragment`||",
    "created_at": "2017-09-05T06:28:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23493",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23493#issuecomment-329238",
    "user": "yzh"
}
```

Thanks a lot for the patch! It works perfectly for me.
Replying to [comment:4 novoselt]:
> As for the terminal, I am not sure what the desired output should be. The attached branch will work OK if one does `view(P.run_simplex_method(), tightpage=False)`, but produces no output at all otherwise. Compare it with results for `view([1,2])` with tight page and not.
> 
> The question is in how HTML should be rendered if sent to LaTeX. `P.run_simplex_method()` actually produces valid LaTeX code that can be just dropped normally between `\begin{document}` and `\end{document}`, but `view` makes use of some extra packages that make it not working.
> 
> 
> 
> ----
> New commits:
> ||[8a82cef](https://git.sagemath.org/sage.git/commit?id=8a82cef43f8bb098fa0c7871b950289578496b9a)||`Make view aware of HtmlFragment`||



---

archive/issue_comments_329239.json:
```json
{
    "body": "Well, the main problem is that it does not work in Jupyter, but I have no idea in what place MathJax extensions are enabled for it and nobody replied to my question on sage-devel so far. All that has to be done is enabling `color.js` as it is done for SageNB and [SageMathCell](SageMathCell).",
    "created_at": "2017-09-05T23:15:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23493",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23493#issuecomment-329239",
    "user": "novoselt"
}
```

Well, the main problem is that it does not work in Jupyter, but I have no idea in what place MathJax extensions are enabled for it and nobody replied to my question on sage-devel so far. All that has to be done is enabling `color.js` as it is done for SageNB and [SageMathCell](SageMathCell).
