# Issue 10556: tachyon fails with .ac in hostname

Issue created by migration from https://trac.sagemath.org/ticket/10609

Original creator: wjp

Original creation time: 2011-01-12 23:15:34

Assignee: was

When your hostname contains the string `.ac`, the name of a temporary file will also contain this string, and then tachyon's automatic file format detection will assume the input file is an ac3d file rather than the default tachyon scene file.

This causes tachyon to fail entirely on my machine in the domain `.ua.ac.be` and is likely also the cause of http://www.mail-archive.com/sage-support`@`googlegroups.com/msg11743.html .

The error message shown is "`Unknown version of AC3D Model File Format`".

The relevant lines in tachyon's main.c are


```
    else if (strstr(filename, ".ac") || strstr(filename, ".AC")) {
      rc = ParseAC3D(filename, scene); /* Must be an AC3D file */
    }
```



---

Attachment


---

Comment by wjp created at 2011-01-13 00:50:53

Changing status from new to needs_review.


---

Comment by wjp created at 2011-01-13 00:50:53

Updated SPKG, based on the one in #5281, at:

http://www.math.leidenuniv.nl/~wpalenst/sage/tachyon-0.98.9.p1.spkg

For convenience, the applied patch is attached to this ticket too.


---

Comment by fbissey created at 2011-01-13 01:03:29

Looks good to me. I would have done something similar. Did you forward that upstream?


---

Comment by wjp created at 2011-01-13 01:09:51

Yes, I did.


---

Comment by vbraun created at 2011-01-13 01:36:08

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2011-01-13 01:36:08

Awesome!#`@`#`@`


---

Comment by jdemeyer created at 2011-01-19 22:26:26

Resolution: fixed
