# Issue 31055: sage.features.StaticFile: Use pathlib, add type annotations

archive/issues_031055.json:
```json
{
    "body": "CC:  @tobiasdiez chapoton slabbe mjo fbissey arojas tornaria\n\nIn particular, we change `absolute_path` to return a `Path`\n\nIssue created by migration from https://trac.sagemath.org/ticket/31292\n\n",
    "created_at": "2021-01-25T18:54:52Z",
    "labels": [
        "refactoring",
        "minor",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.6",
    "title": "sage.features.StaticFile: Use pathlib, add type annotations",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31055",
    "user": "mkoeppe"
}
```
CC:  @tobiasdiez chapoton slabbe mjo fbissey arojas tornaria

In particular, we change `absolute_path` to return a `Path`

Issue created by migration from https://trac.sagemath.org/ticket/31292





---

archive/issue_comments_443544.json:
```json
{
    "body": "Setting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-02-13T20:51:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31055#issuecomment-443544",
    "user": "mkoeppe"
}
```

Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_comments_443545.json:
```json
{
    "body": "Changing priority from minor to major.",
    "created_at": "2022-03-01T20:15:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31055#issuecomment-443545",
    "user": "mkoeppe"
}
```

Changing priority from minor to major.



---

archive/issue_comments_443546.json:
```json
{
    "body": "Replying to [ticket:31292 mkoeppe]:\n> In particular, we change `StaticFile.absolute_path` to return a `Path`.\n\nActually this would lead to errors like\n\n```\nFile \"src/sage/databases/cremona.py\", line 1552, in sage.databases.cremona.LargeCremonaDatabase.degphi\nFailed example:\n    c = CremonaDatabase()\nException raised:\n...\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/databases/sql_db.py\", line 1066, in __init__\n        elif (filename[-3:] != '.db'):\n    TypeError: 'PosixPath' object is not subscriptable\n```\n",
    "created_at": "2022-03-01T22:56:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31055#issuecomment-443546",
    "user": "mkoeppe"
}
```

Replying to [ticket:31292 mkoeppe]:
> In particular, we change `StaticFile.absolute_path` to return a `Path`.

Actually this would lead to errors like

```
File "src/sage/databases/cremona.py", line 1552, in sage.databases.cremona.LargeCremonaDatabase.degphi
Failed example:
    c = CremonaDatabase()
Exception raised:
...
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/databases/sql_db.py", line 1066, in __init__
        elif (filename[-3:] != '.db'):
    TypeError: 'PosixPath' object is not subscriptable
```




---

archive/issue_comments_443547.json:
```json
{
    "body": "New commits:",
    "created_at": "2022-03-01T23:11:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31055#issuecomment-443547",
    "user": "mkoeppe"
}
```

New commits:



---

archive/issue_comments_443548.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-03-01T23:31:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31055#issuecomment-443548",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_443549.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-03-01T23:34:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31055#issuecomment-443549",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_443550.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-03-01T23:35:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31055#issuecomment-443550",
    "user": "mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_443551.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-03-02T05:19:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31055#issuecomment-443551",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_443552.json:
```json
{
    "body": "Replying to [comment:7 mkoeppe]:\n> Replying to [ticket:31292 mkoeppe]:\n> > In particular, we change `StaticFile.absolute_path` to return a `Path`.\n> \n> Actually this would lead to errors like\n> {{{\n> File \"src/sage/databases/cremona.py\", line 1552, in sage.databases.cremona.LargeCremonaDatabase.degphi\n> Failed example:\n>     c = CremonaDatabase()\n> Exception raised:\n> ...\n>       File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/databases/sql_db.py\", line 1066, in __init__\n>         elif (filename[-3:] != '.db'):\n>     TypeError: 'PosixPath' object is not subscriptable\n> }}}\n\nThis is to be expected, since it's a path and not a string that you work with. The extension can easily be obtained using the suffix method: https://docs.python.org/3/library/pathlib.html#pathlib.PurePath.suffixes",
    "created_at": "2022-03-02T12:23:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31055#issuecomment-443552",
    "user": "@tobiasdiez"
}
```

Replying to [comment:7 mkoeppe]:
> Replying to [ticket:31292 mkoeppe]:
> > In particular, we change `StaticFile.absolute_path` to return a `Path`.
> 
> Actually this would lead to errors like
> {{{
> File "src/sage/databases/cremona.py", line 1552, in sage.databases.cremona.LargeCremonaDatabase.degphi
> Failed example:
>     c = CremonaDatabase()
> Exception raised:
> ...
>       File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/databases/sql_db.py", line 1066, in __init__
>         elif (filename[-3:] != '.db'):
>     TypeError: 'PosixPath' object is not subscriptable
> }}}

This is to be expected, since it's a path and not a string that you work with. The extension can easily be obtained using the suffix method: https://docs.python.org/3/library/pathlib.html#pathlib.PurePath.suffixes



---

archive/issue_comments_443553.json:
```json
{
    "body": "Replying to [comment:9 mkoeppe]:\n>  Summary changed from sage.features.StaticFile, Executable: Use pathlib, add type annotations to sage.features.Executable: Add method absolute_path \n\nThis completely changes the scope of this ticket whose original intention was to migrate sage.features.absolute_path to return `Path`.",
    "created_at": "2022-03-02T12:26:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31055#issuecomment-443553",
    "user": "@tobiasdiez"
}
```

Replying to [comment:9 mkoeppe]:
>  Summary changed from sage.features.StaticFile, Executable: Use pathlib, add type annotations to sage.features.Executable: Add method absolute_path 

This completely changes the scope of this ticket whose original intention was to migrate sage.features.absolute_path to return `Path`.



---

archive/issue_comments_443554.json:
```json
{
    "body": "\n```\ndef absolute_path(self) -> str:\n```\n\nwhy not make this return a `pathlib.Path`?",
    "created_at": "2022-03-02T12:27:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31055#issuecomment-443554",
    "user": "@tobiasdiez"
}
```


```
def absolute_path(self) -> str:
```

why not make this return a `pathlib.Path`?



---

archive/issue_comments_443555.json:
```json
{
    "body": "\n```\nreason=\"Executable {executable!r} not found on PATH.\".format(executable=self.executable),\n```\n\nuse f-strings.",
    "created_at": "2022-03-02T12:28:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31055#issuecomment-443555",
    "user": "@tobiasdiez"
}
```


```
reason="Executable {executable!r} not found on PATH.".format(executable=self.executable),
```

use f-strings.



---

archive/issue_comments_443556.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-03-02T12:28:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31055#issuecomment-443556",
    "user": "@tobiasdiez"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_443557.json:
```json
{
    "body": "Replying to [comment:16 gh-tobiasdiez]:\n> {{{\n> def absolute_path(self) -> str:\n> }}}\n> why not make this return a `pathlib.Path`?\n\nBecause that breaks the public API.",
    "created_at": "2022-03-02T16:12:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31055#issuecomment-443557",
    "user": "mkoeppe"
}
```

Replying to [comment:16 gh-tobiasdiez]:
> {{{
> def absolute_path(self) -> str:
> }}}
> why not make this return a `pathlib.Path`?

Because that breaks the public API.



---

archive/issue_comments_443558.json:
```json
{
    "body": "Replying to [comment:15 gh-tobiasdiez]:\n> Replying to [comment:9 mkoeppe]:\n> >  Summary changed from sage.features.StaticFile, Executable: Use pathlib, add type annotations to sage.features.Executable: Add method absolute_path \n> \n> This completely changes the scope of this ticket whose original intention was to migrate sage.features.absolute_path to return `Path`.\n\nYes, when I wrote this ticket I thought that could be done compatibly, but it can't",
    "created_at": "2022-03-02T16:12:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31055#issuecomment-443558",
    "user": "mkoeppe"
}
```

Replying to [comment:15 gh-tobiasdiez]:
> Replying to [comment:9 mkoeppe]:
> >  Summary changed from sage.features.StaticFile, Executable: Use pathlib, add type annotations to sage.features.Executable: Add method absolute_path 
> 
> This completely changes the scope of this ticket whose original intention was to migrate sage.features.absolute_path to return `Path`.

Yes, when I wrote this ticket I thought that could be done compatibly, but it can't



---

archive/issue_comments_443559.json:
```json
{
    "body": "Replying to [comment:17 gh-tobiasdiez]:\n> use f-strings.\n\n`.format` is not deprecated or anything.",
    "created_at": "2022-03-02T16:13:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31055#issuecomment-443559",
    "user": "mkoeppe"
}
```

Replying to [comment:17 gh-tobiasdiez]:
> use f-strings.

`.format` is not deprecated or anything.



---

archive/issue_comments_443560.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-03-02T16:13:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31055#issuecomment-443560",
    "user": "mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_443561.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-03-02T16:17:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31055#issuecomment-443561",
    "user": "@tobiasdiez"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_443562.json:
```json
{
    "body": "Replying to [comment:20 mkoeppe]:\n> Replying to [comment:15 gh-tobiasdiez]:\n> > Replying to [comment:9 mkoeppe]:\n> > >  Summary changed from sage.features.StaticFile, Executable: Use pathlib, add type annotations to sage.features.Executable: Add method absolute_path \n> > \n> > This completely changes the scope of this ticket whose original intention was to migrate sage.features.absolute_path to return `Path`.\n> \n> Yes, when I wrote this ticket I thought that could be done compatibly, but it can't\n\nThen just introduce a new method, and deprecate the old one.",
    "created_at": "2022-03-02T16:17:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31055#issuecomment-443562",
    "user": "@tobiasdiez"
}
```

Replying to [comment:20 mkoeppe]:
> Replying to [comment:15 gh-tobiasdiez]:
> > Replying to [comment:9 mkoeppe]:
> > >  Summary changed from sage.features.StaticFile, Executable: Use pathlib, add type annotations to sage.features.Executable: Add method absolute_path 
> > 
> > This completely changes the scope of this ticket whose original intention was to migrate sage.features.absolute_path to return `Path`.
> 
> Yes, when I wrote this ticket I thought that could be done compatibly, but it can't

Then just introduce a new method, and deprecate the old one.



---

archive/issue_comments_443563.json:
```json
{
    "body": "Replying to [comment:21 mkoeppe]:\n> Replying to [comment:17 gh-tobiasdiez]:\n> > use f-strings.\n> \n> `.format` is not deprecated or anything.\n\nThat's right, but f-strings are still easier to read.",
    "created_at": "2022-03-02T16:19:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31055#issuecomment-443563",
    "user": "@tobiasdiez"
}
```

Replying to [comment:21 mkoeppe]:
> Replying to [comment:17 gh-tobiasdiez]:
> > use f-strings.
> 
> `.format` is not deprecated or anything.

That's right, but f-strings are still easier to read.



---

archive/issue_comments_443564.json:
```json
{
    "body": "Replying to [comment:23 gh-tobiasdiez]:\n> Then just introduce a new method, and deprecate the old one.\n\nI was in the middle of doing this but couldn't come up with a name for the new method, given that the good name, `absolute_path`, is already taken. Suggestions?",
    "created_at": "2022-03-02T16:50:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31055#issuecomment-443564",
    "user": "mkoeppe"
}
```

Replying to [comment:23 gh-tobiasdiez]:
> Then just introduce a new method, and deprecate the old one.

I was in the middle of doing this but couldn't come up with a name for the new method, given that the good name, `absolute_path`, is already taken. Suggestions?



---

archive/issue_comments_443565.json:
```json
{
    "body": "Replying to [comment:24 gh-tobiasdiez]:\n> That's right, but f-strings are still easier to read.\n\nI like f-strings too, but in the interest of focus I don't change everything that can be changed. This line of code is copied from a place in the same file.",
    "created_at": "2022-03-02T16:51:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31055#issuecomment-443565",
    "user": "mkoeppe"
}
```

Replying to [comment:24 gh-tobiasdiez]:
> That's right, but f-strings are still easier to read.

I like f-strings too, but in the interest of focus I don't change everything that can be changed. This line of code is copied from a place in the same file.



---

archive/issue_comments_443566.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-03-03T02:20:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31055#issuecomment-443566",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_443567.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-03-03T02:50:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31055#issuecomment-443567",
    "user": "mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_443568.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-03-04T12:07:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31055#issuecomment-443568",
    "user": "@tobiasdiez"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_443569.json:
```json
{
    "body": "\n```\nEXAMPLES::\n        sage: from sage.features import StaticFile, Executable, FileFeature\n        sage: issubclass(StaticFile, FileFeature)\n        True\n        sage: issubclass(Executable, FileFeature)\n        True\n```\n\nPlease replace this by a meaningful doctest that actually shows how to use the class.\n\nIn FileFeature.absolute_path you call `self.absolute_filename` which doesn't exist. So this should be added at least as an abstract method.\n\n\n```\ntry:\n            from sage.misc.superseded import deprecation\n        except ImportError:\n            pass\n        deprecation(31292, 'method absolute_path has been replaced by absolute_filename')\n```\n\nThat looks like a strange construction. Why should the import of the deprecation fail? But even if it fails the call of `deprecation` will throw another error as its not defined then.",
    "created_at": "2022-03-04T12:07:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31055#issuecomment-443569",
    "user": "@tobiasdiez"
}
```


```
EXAMPLES::
        sage: from sage.features import StaticFile, Executable, FileFeature
        sage: issubclass(StaticFile, FileFeature)
        True
        sage: issubclass(Executable, FileFeature)
        True
```

Please replace this by a meaningful doctest that actually shows how to use the class.

In FileFeature.absolute_path you call `self.absolute_filename` which doesn't exist. So this should be added at least as an abstract method.


```
try:
            from sage.misc.superseded import deprecation
        except ImportError:
            pass
        deprecation(31292, 'method absolute_path has been replaced by absolute_filename')
```

That looks like a strange construction. Why should the import of the deprecation fail? But even if it fails the call of `deprecation` will throw another error as its not defined then.



---

archive/issue_comments_443570.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-03-04T17:51:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31055#issuecomment-443570",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_443571.json:
```json
{
    "body": "Replying to [comment:31 gh-tobiasdiez]:\n> {{{\n> try:\n>             from sage.misc.superseded import deprecation\n>         except ImportError:\n>             pass\n>         deprecation(31292, 'method absolute_path has been replaced by absolute_filename')\n> }}}\n> That looks like a strange construction. Why should the import of the deprecation fail? \n\nBecause #29941 puts `sage.features` into a distribution **sagemath-environment**, which does not install-requires **sagemath-objects**, which provides `sage.misc.superseded`.\n\n> But even if it fails the call of `deprecation` will throw another error as its not defined then.\n\nThanks, forgot the `else:`, fixed now.",
    "created_at": "2022-03-04T17:53:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31055#issuecomment-443571",
    "user": "mkoeppe"
}
```

Replying to [comment:31 gh-tobiasdiez]:
> {{{
> try:
>             from sage.misc.superseded import deprecation
>         except ImportError:
>             pass
>         deprecation(31292, 'method absolute_path has been replaced by absolute_filename')
> }}}
> That looks like a strange construction. Why should the import of the deprecation fail? 

Because #29941 puts `sage.features` into a distribution **sagemath-environment**, which does not install-requires **sagemath-objects**, which provides `sage.misc.superseded`.

> But even if it fails the call of `deprecation` will throw another error as its not defined then.

Thanks, forgot the `else:`, fixed now.



---

archive/issue_comments_443572.json:
```json
{
    "body": "Replying to [comment:31 gh-tobiasdiez]:\n> In FileFeature.absolute_path you call `self.absolute_filename` which doesn't exist. So this should be added at least as an abstract method.\n\nAvoiding use of `sage.misc.abstract_method` for the same modularization reason.\nI'll not start using https://docs.python.org/3/library/abc.html here for this purpose.\n\nI can make an ad-hoc abstract method that just raises a `NotImplementedError`",
    "created_at": "2022-03-04T17:57:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31055#issuecomment-443572",
    "user": "mkoeppe"
}
```

Replying to [comment:31 gh-tobiasdiez]:
> In FileFeature.absolute_path you call `self.absolute_filename` which doesn't exist. So this should be added at least as an abstract method.

Avoiding use of `sage.misc.abstract_method` for the same modularization reason.
I'll not start using https://docs.python.org/3/library/abc.html here for this purpose.

I can make an ad-hoc abstract method that just raises a `NotImplementedError`



---

archive/issue_comments_443573.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-03-04T18:34:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31055#issuecomment-443573",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_443574.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-03-04T18:36:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31055#issuecomment-443574",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_443575.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-03-04T18:47:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31055#issuecomment-443575",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_443576.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-03-04T18:47:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31055#issuecomment-443576",
    "user": "mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_443577.json:
```json
{
    "body": "Replying to [comment:31 gh-tobiasdiez]:\n> Please replace this by a meaningful doctest that actually shows how to use the class.\n\nDone now",
    "created_at": "2022-03-04T18:47:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31055#issuecomment-443577",
    "user": "mkoeppe"
}
```

Replying to [comment:31 gh-tobiasdiez]:
> Please replace this by a meaningful doctest that actually shows how to use the class.

Done now



---

archive/issue_comments_443578.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-03-04T20:44:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31055#issuecomment-443578",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_443579.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-03-05T22:18:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31055#issuecomment-443579",
    "user": "@tobiasdiez"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_443580.json:
```json
{
    "body": "Thanks for the follow-up!\n\nOne last comment, otherwise it looks good to me:\nThe docs for absolute_filename in FileFeature now still refers to \"executable\", which should be replaced by \"feature\".",
    "created_at": "2022-03-05T22:18:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31055#issuecomment-443580",
    "user": "@tobiasdiez"
}
```

Thanks for the follow-up!

One last comment, otherwise it looks good to me:
The docs for absolute_filename in FileFeature now still refers to "executable", which should be replaced by "feature".



---

archive/issue_comments_443581.json:
```json
{
    "body": "By the way, do the inheriting classes (Executable and StaticFile) really need to provide docstrings? Sphinx should copy them from the base class or not?",
    "created_at": "2022-03-05T22:21:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31055#issuecomment-443581",
    "user": "@tobiasdiez"
}
```

By the way, do the inheriting classes (Executable and StaticFile) really need to provide docstrings? Sphinx should copy them from the base class or not?



---

archive/issue_comments_443582.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-03-05T22:28:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31055#issuecomment-443582",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_443583.json:
```json
{
    "body": "Replying to [comment:41 gh-tobiasdiez]:\n> By the way, do the inheriting classes (Executable and StaticFile) really need to provide docstrings?\n\nYes, per our style guide.",
    "created_at": "2022-03-05T22:29:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31055#issuecomment-443583",
    "user": "mkoeppe"
}
```

Replying to [comment:41 gh-tobiasdiez]:
> By the way, do the inheriting classes (Executable and StaticFile) really need to provide docstrings?

Yes, per our style guide.



---

archive/issue_comments_443584.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-03-05T22:29:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31055#issuecomment-443584",
    "user": "mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_443585.json:
```json
{
    "body": "Replying to [comment:43 mkoeppe]:\n> Replying to [comment:41 gh-tobiasdiez]:\n> > By the way, do the inheriting classes (Executable and StaticFile) really need to provide docstrings?\n> \n> Yes, per our style guide.\n> \n\nWhat is the reason behind this requirement/convention?",
    "created_at": "2022-03-06T09:10:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31055#issuecomment-443585",
    "user": "@tobiasdiez"
}
```

Replying to [comment:43 mkoeppe]:
> Replying to [comment:41 gh-tobiasdiez]:
> > By the way, do the inheriting classes (Executable and StaticFile) really need to provide docstrings?
> 
> Yes, per our style guide.
> 

What is the reason behind this requirement/convention?



---

archive/issue_comments_443586.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-03-06T09:10:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31055#issuecomment-443586",
    "user": "@tobiasdiez"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_443587.json:
```json
{
    "body": "Thanks for reviewing!",
    "created_at": "2022-03-06T16:49:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31055#issuecomment-443587",
    "user": "mkoeppe"
}
```

Thanks for reviewing!



---

archive/issue_comments_443588.json:
```json
{
    "body": "Replying to [comment:45 gh-tobiasdiez]:\n> What is the reason behind this requirement/convention?\n\nIt was already there when I started Sage dev. It's a bit annoying at times and leads to a lot of copy+paste, but it does force people to write doctests. And having the policy scales better than renegotiating the style with every new developer.",
    "created_at": "2022-03-06T16:52:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31055#issuecomment-443588",
    "user": "mkoeppe"
}
```

Replying to [comment:45 gh-tobiasdiez]:
> What is the reason behind this requirement/convention?

It was already there when I started Sage dev. It's a bit annoying at times and leads to a lot of copy+paste, but it does force people to write doctests. And having the policy scales better than renegotiating the style with every new developer.



---

archive/issue_comments_443589.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-03-09T23:38:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31055#issuecomment-443589",
    "user": "vbraun"
}
```

Resolution: fixed
