# Issue 25340: Bug in tableau.promotion

Issue created by migration from https://trac.sagemath.org/ticket/25577

Original creator: Bruce

Original creation time: 2018-06-14 09:42:49

CC:  tscrim sage-combinat

There seems to be a bug in promotion on tableaux.
There is no problem with promotion_inverse though.


```
sage: ST = SemistandardTableaux(shape=[4,4,4],eval=[1]*12)
sage: ST.cardinality()
462
sage: t = ST.an_element()
sage: t
[[1, 2, 3, 4], [5, 6, 7, 8], [9, 10, 11, 12]]
sage: t.promotion(10)
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
...
TypeError: the tableau must be rectangular to use rotate_180()
```






---

Comment by @darijgr created at 2018-06-14 10:59:37

It's correct that `t.promotion(10)` throws an error: 10 is too small; only 11 and higher can work.

Of course, the actual error message is beyond meaningless. The problem is that ``promotion_inverse(10)`` applied on

```
[[0, 1, 2, 3], [4, 5, 6, 7], [8, 9, 10, 11]]
```

gives

```
[[1, 2, 5, 6], [3, 4, 9, 10], [7, 8, 11]]
```

due to some quirks of undefined behavior. We need a `check=True` parameter (in both promotion and inverse promotion methods).


---

Comment by @darijgr created at 2018-06-14 11:00:08

Changing keywords from "" to "sage-combinat, tableaux, promotion".
