# Issue 13982: coerce_binop errors with keyword arguments

Issue created by migration from https://trac.sagemath.org/ticket/14186

Original creator: lftabera

Original creation time: 2013-02-26 16:02:02

Assignee: robertwb

Keywords: coerce_binop, keyword

On a coerced binary operator


```
@coerce_binop
__op__(x,y,**kwds)
}}

if y has to be coerced but x does not change its parent, the keyword arguments are not correctly passed.

A real example

{{{
sage: R1=QQ['x,y']
sage: R2=QQ['x,y,z']
sage: f=R1(1)
sage: h=R2(1)
sage: h.gcd(f,algorithm='modular')
TypeError                                 Traceback (most recent call last)
...
TypeError: algorithm algorithm not supported
}}}


---

Comment by lftabera created at 2013-02-26 16:05:58

Changing status from new to needs_review.


---

Comment by lftabera created at 2013-02-26 16:05:58

It is a one-line fix.

By the way, if a binary method with keyword values that is not decorated


```
__op__(self, y, method='z')
```


One can call it with `x.__op__(y, 'preferred_method')`

But once it is decorated this is not possible and key=value arguments are mandatory. Is this inteded?


---

Attachment

Update patch to new coercion framework.


---

Comment by robertwb created at 2013-05-10 19:40:48

Changing status from needs_review to positive_review.


---

Comment by robertwb created at 2013-05-10 19:40:48

Looks good to me.


---

Comment by robertwb created at 2013-05-10 19:41:55

Changing status from positive_review to needs_work.


---

Comment by robertwb created at 2013-05-10 19:42:13

Changing status from needs_work to needs_review.


---

Comment by robertwb created at 2013-05-10 19:42:13

Lets make sure the tests pass though.


---

Comment by lftabera created at 2013-12-20 12:26:09

Robert,

Could you please take a look to the ticket? It is a one liner, you claimed that looked good and after seven months, patchbot has not complained.


---

Comment by git created at 2013-12-20 15:03:52

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2013-12-21 07:58:01

Looks good to me.


---

Comment by tscrim created at 2013-12-21 07:58:07

Changing status from needs_review to positive_review.


---

Comment by lftabera created at 2013-12-21 11:09:03

Do not forget to add yoursef to the reviewers field


---

Comment by vbraun created at 2013-12-21 18:43:45

Resolution: fixed
