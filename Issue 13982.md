# Issue 13982: coerce_binop errors with keyword arguments

archive/issues_013982.json:
```json
{
    "body": "Assignee: robertwb\n\nKeywords: coerce_binop, keyword\n\nOn a coerced binary operator\n\n\n```\n@coerce_binop\n__op__(x,y,**kwds)\n}}\n\nif y has to be coerced but x does not change its parent, the keyword arguments are not correctly passed.\n\nA real example\n\n{{{\nsage: R1=QQ['x,y']\nsage: R2=QQ['x,y,z']\nsage: f=R1(1)\nsage: h=R2(1)\nsage: h.gcd(f,algorithm='modular')\nTypeError                                 Traceback (most recent call last)\n...\nTypeError: algorithm algorithm not supported\n}}}\n\nIssue created by migration from https://trac.sagemath.org/ticket/14186\n\n",
    "created_at": "2013-02-26T16:02:02Z",
    "labels": [
        "coercion",
        "major",
        "bug"
    ],
    "title": "coerce_binop errors with keyword arguments",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/13982",
    "user": "lftabera"
}
```
Assignee: robertwb

Keywords: coerce_binop, keyword

On a coerced binary operator


```
@coerce_binop
__op__(x,y,**kwds)
}}

if y has to be coerced but x does not change its parent, the keyword arguments are not correctly passed.

A real example

{{{
sage: R1=QQ['x,y']
sage: R2=QQ['x,y,z']
sage: f=R1(1)
sage: h=R2(1)
sage: h.gcd(f,algorithm='modular')
TypeError                                 Traceback (most recent call last)
...
TypeError: algorithm algorithm not supported
}}}

Issue created by migration from https://trac.sagemath.org/ticket/14186





---

archive/issue_comments_174526.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-02-26T16:05:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13982#issuecomment-174526",
    "user": "lftabera"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_174527.json:
```json
{
    "body": "It is a one-line fix.\n\nBy the way, if a binary method with keyword values that is not decorated\n\n\n```\n__op__(self, y, method='z')\n```\n\n\nOne can call it with `x.__op__(y, 'preferred_method')`\n\nBut once it is decorated this is not possible and key=value arguments are mandatory. Is this inteded?",
    "created_at": "2013-02-26T16:05:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13982#issuecomment-174527",
    "user": "lftabera"
}
```

It is a one-line fix.

By the way, if a binary method with keyword values that is not decorated


```
__op__(self, y, method='z')
```


One can call it with `x.__op__(y, 'preferred_method')`

But once it is decorated this is not possible and key=value arguments are mandatory. Is this inteded?



---

archive/issue_comments_174528.json:
```json
{
    "body": "Attachment\n\nUpdate patch to new coercion framework.",
    "created_at": "2013-05-10T09:56:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13982#issuecomment-174528",
    "user": "lftabera"
}
```

Attachment

Update patch to new coercion framework.



---

archive/issue_comments_174529.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-05-10T19:40:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13982#issuecomment-174529",
    "user": "robertwb"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_174530.json:
```json
{
    "body": "Looks good to me.",
    "created_at": "2013-05-10T19:40:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13982#issuecomment-174530",
    "user": "robertwb"
}
```

Looks good to me.



---

archive/issue_comments_174531.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2013-05-10T19:41:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13982#issuecomment-174531",
    "user": "robertwb"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_174532.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-05-10T19:42:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13982#issuecomment-174532",
    "user": "robertwb"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_174533.json:
```json
{
    "body": "Lets make sure the tests pass though.",
    "created_at": "2013-05-10T19:42:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13982#issuecomment-174533",
    "user": "robertwb"
}
```

Lets make sure the tests pass though.



---

archive/issue_comments_174534.json:
```json
{
    "body": "Robert,\n\nCould you please take a look to the ticket? It is a one liner, you claimed that looked good and after seven months, patchbot has not complained.",
    "created_at": "2013-12-20T12:26:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13982#issuecomment-174534",
    "user": "lftabera"
}
```

Robert,

Could you please take a look to the ticket? It is a one liner, you claimed that looked good and after seven months, patchbot has not complained.



---

archive/issue_comments_174535.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-12-20T15:03:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13982#issuecomment-174535",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_174536.json:
```json
{
    "body": "Looks good to me.",
    "created_at": "2013-12-21T07:58:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13982#issuecomment-174536",
    "user": "tscrim"
}
```

Looks good to me.



---

archive/issue_comments_174537.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-12-21T07:58:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13982#issuecomment-174537",
    "user": "tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_174538.json:
```json
{
    "body": "Do not forget to add yoursef to the reviewers field",
    "created_at": "2013-12-21T11:09:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13982#issuecomment-174538",
    "user": "lftabera"
}
```

Do not forget to add yoursef to the reviewers field



---

archive/issue_comments_174539.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-12-21T18:43:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13982#issuecomment-174539",
    "user": "vbraun"
}
```

Resolution: fixed
