# Issue 25615: Add a deprecation warning to the legacy sage notebook

Issue created by migration from https://trac.sagemath.org/ticket/25852

Original creator: @timokau

Original creation time: 2018-07-12 19:46:19

CC:  kcrisman jdemeyer embray

Keywords: notebook

As discussed in #25837, we should add a deprecation notice to sagenb. It has been de-facto replaced (at least the notebook itself, not all of its features) a while ago. However we never really communicated that to the user.

Before we move forward with deprecating the notebook, we should inform the active users of sagenb.


---

Comment by kcrisman created at 2018-07-12 20:59:42

Yes, and I believe at least 1/2 year is standard policy, though a year is probably better here.  Luckily through a sort of process of osmosis this has slowly been communicated for a while.

This would almost certainly need at least some minor changes to sagenb.  One could be fancy and have some javascript with a banner message that disappears and you can ask "don't show this again" but perhaps something more basic just hard-coded in to the main login and list of worksheets page would be easier and more obvious.


---

Comment by @timokau created at 2018-07-12 21:18:19

Yeah I think being a bit nagging and not that easily dismissable and forgotten might be considered a feature here.

I would personally prefer a shorter period of one or two releases before the notebook is made optional (assuming the necessary changes can be made in that time). We could then still give that optional package live support for half a year or a year.


---

Comment by @timokau created at 2018-07-12 21:34:46

I created an upstream PR to get things going: https://github.com/sagemath/sagenb/pull/451


---

Comment by embray created at 2018-07-13 08:08:59

I would still suggest waiting on this until some of the issues mentioned in #25837 are dealt with.  Although there probably won't be too many people, I might expect some complaints of "why are you deprecating SageNB when !_______ doesn't even work yet anywhere else?"


---

Comment by @timokau created at 2018-07-13 12:32:07

I think as long as we provide a link to the progress ticket that is okay. The ticket should make it clear that the deprecation is dependent on fixing all those issues. Getting the warning in as quickly as possible has multiple advantages

- more time for end users to prepare

- potential feedback from end users that are directed to the ticket

- maybe even contributions from end users


---

Comment by embray created at 2018-07-13 12:38:16

I could live with a soft deprecation message, along the lines of "Development of the legacy Sage Notebook is transitioning to critical bug fixes only and eventual phasing out.  Please see <informational link> for more details."  As you wrote, perhaps solicit feedback on what features are needed.


---

Comment by kcrisman created at 2018-07-13 13:40:38

> I could live with a soft deprecation message, along the lines of "Development of the legacy Sage Notebook is transitioning to critical bug fixes only and eventual phasing out.  Please see <informational link> for more details."  As you wrote, perhaps solicit feedback on what features are needed.

I can live with this.


---

Attachment

screenshot of deprecation message


---

Comment by @timokau created at 2018-07-13 16:11:48

I deliberately kept the original proposal short. I am happy with your version. If you think its not too long, we can proceed.

Also is the login screen shown often enough for this to be effective? As I've said I have only ever used the sagenb once, and while testing this I had to actively log out to see this.


---

Comment by kcrisman created at 2018-07-13 16:53:24

No, login screen is *not* shown enough; you would want a banner on the main listing page (no time to look up what that is now), which may yield some formatting/CSS issues to resolve in practice.


---

Attachment

I have also added the warning to the worksheet listing. I've done it in the same way as the existing "Account is read only" warning is displayed (just a bit smaller), so there shouldn't be any formatting issues.


---

Comment by jdemeyer created at 2018-07-21 14:45:27

These messages sound quite different:

- Development of the legacy Sage Notebook is transitioning to critical bug fixes only and eventual phasing out. Please click here for more details.

- Achtung: Das sage notebook wird nicht mehr lange unterstützt. Klicke hier um mehr zu erfahren.

Personally, I prefer the shorter and more direct German wording.


---

Comment by jdemeyer created at 2018-07-21 14:47:10

Replying to [comment:9 kcrisman]:
> No, login screen is *not* shown enough

+1 for two reasons:

- For a single-user Sage installation, the login page is not shown

- Some institutional installs of sagenb my bypass the login page to use LDAP authentication or something else.


---

Comment by jdemeyer created at 2018-07-21 14:49:20

Also, I would prefer to see the actual word "deprecation" in the English text since that has a more formal meaning.


---

Comment by @timokau created at 2018-07-23 12:14:52

Replying to [comment:12 jdemeyer]:
> These messages sound quite different:
> 
> - Development of the legacy Sage Notebook is transitioning to critical bug fixes only and eventual phasing out. Please click here for more details.
> 
> - Achtung: Das sage notebook wird nicht mehr lange unterstützt. Klicke hier um mehr zu erfahren.
> 
> Personally, I prefer the shorter and more direct German wording.

The German version is a more or less direct translation of my initial proposal. I prefer that one too, but compromised to Erik's version. I forgot to update the German translation.

`@`Erik what do you think?

For the non-german speakers: "Warning: The sage notebook is in the process of being deprecated. Click here to learn more."

Alternatively even shorter (but some people might not like the "soon"): "Warning: The sage notebook will be deprecated soon. Click here to learn more."


---

Comment by jdemeyer created at 2018-07-23 15:04:16

The Sage notebook *is* deprecated.


---

Comment by @timokau created at 2018-07-23 15:36:25

I think Erik's concern was that users will immediately go and complain that feature xyz is still missing from the jupyter notebook.

I think being as succinct as possible would be best, long explanations can be added to the linked ticket. However I'm fine with whatever the main sagenb maintainers prefer.


---

Comment by embray created at 2018-07-23 15:42:00

I'm fine with a more succinct message as long as there's substantial follow-up documentation.  I'm strongly in favor of deprecating SageNB, but I am concerned about the number of things that still simply do not work well in Jupyter by comparison :/


---

Comment by @timokau created at 2018-07-23 16:08:00

I've added a section to the tracking ticket (#25837). Is that combined with "This notebook is deprecated. Click here for details." acceptable for you?


---

Comment by @timokau created at 2018-07-23 16:08:31

Replying to [comment:13 jdemeyer]:
> Replying to [comment:9 kcrisman]:
> > No, login screen is *not* shown enough
> 
> +1 for two reasons:
> 
> - For a single-user Sage installation, the login page is not shown
> 
> - Some institutional installs of sagenb my bypass the login page to use LDAP authentication or something else.

I've since added the warning to the main screen too.


---

Comment by @timokau created at 2018-08-09 16:54:06

Do you have remaining concerns `@`embray (or anybody else)? I'd like to get this into 8.4.


---

Comment by @timokau created at 2018-08-10 09:38:52

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2018-08-16 08:41:00

Replying to [comment:19 gh-timokau]:
> "This notebook is deprecated. Click here for details."

+1 to this short and clear wording.


---

Comment by @timokau created at 2018-08-16 12:04:32

If `@`embray also approves I'll make the change in the "upstream" PR and we can get that merged.


---

Comment by embray created at 2018-08-16 12:23:15

I don't know why me, but I'm fine with it.


---

Comment by jdemeyer created at 2018-08-16 12:25:11

Maybe more precisely `The Sage Notebook is deprecated. Click here for details`


---

Comment by @timokau created at 2018-08-16 12:29:53

Replying to [comment:6 embray]:
> I could live with a soft deprecation message, along the lines of "Development of the legacy Sage Notebook is transitioning to critical bug fixes only and eventual phasing out.  Please see <informational link> for more details."  As you wrote, perhaps solicit feedback on what features are needed.

Because you asked for a softer/longer deprecation message after I first proposed my initial one. The second one was then based on your proposal.


---

Comment by @timokau created at 2018-08-16 12:31:03

Replying to [comment:27 jdemeyer]:
> Maybe more precisely `The Sage Notebook is deprecated. Click here for details`

I would personally find that confusing, because in my mind the jupyter kernel is also a "Sage Notebook". That is why I chose "this".


---

Comment by @timokau created at 2018-08-21 11:26:21

I've updated the wording. Please review.


---

Comment by chapoton created at 2018-09-05 06:11:21

Could someone (having the required rights) please now merge the 4 top pull requests in sagenb github, including the one related to the present ticket ?

https://github.com/sagemath/sagenb/pulls


---

Comment by chapoton created at 2018-10-09 16:07:50

Can we try to move this forward now ?

Should the pull request be closed before this ticket or the other way round ?


---

Comment by @timokau created at 2018-10-09 16:50:00

Pull request first, since this ticket is only really resolved once sagenb with the change is released and shipped with sage.


---

Comment by dimpase created at 2018-10-20 22:00:54

Changing status from needs_review to positive_review.


---

Comment by dimpase created at 2018-10-20 22:00:54

Replying to [comment:3 gh-timokau]:
> I created an upstream PR to get things going: https://github.com/sagemath/sagenb/pull/451

it's merged, so as soon as #26499, where the new sagenb version with this PR in is to be released, is done, this is done too.


---

Comment by vbraun created at 2018-10-28 20:30:36

Resolution: fixed
