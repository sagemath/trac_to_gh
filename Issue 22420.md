# Issue 22420: Release process: Make binary packages available for beta and rc, to facilitate testing external packages

Issue created by migration from Trac.

Original creator: mkoeppe

Original creation time: 2017-03-20 23:00:47

CC:  tmonteil mmasdeu mforets jdemeyer vbraun dimpase slelievre culler dunfield

Keywords: days84

Several "external packages" (i.e., python/cython packages depending on sage) now use Travis CI, a mainstream automated testing facility. A sample project that does that is available here:

 - https://github.com/mkoeppe/sage_sample

Because of the time limits imposed by Travis CI, it is not possible to build Sage from source for such a test. Therefore, binary releases are used.

I propose that the release process be changed to make binaries available for beta and rc versions, to facilitate testing of external code to be compatible with such prerelease versions. (For Travis CI, only one build, `linux/64bit/sage-$VERSION-Ubuntu_12.04-x86_64.tar.bz2`, is necessary.)




---

Comment by vbraun created at 2017-03-20 23:21:20

What do you want to test? Afaik the free TravisCI account time limit (1 core for 1h) is way too short to run the Sage testsuite.


---

Comment by mkoeppe created at 2017-03-20 23:33:32

The goal is to test the test suite of an external package - such as the linked "sage_sample".

But I could also imagine other tests that are directly relevant for Sage -- such as testing that in the binary release, compiling works; that each optional package can be installed into the binary release; etc.


---

Comment by dimpase created at 2017-03-21 06:15:41

I suppose we can also consider paying for TravisCI from a grant.


---

Comment by mkoeppe created at 2017-03-22 02:06:03

Replying to [comment:3 dimpase]:
> I suppose we can also consider paying for TravisCI from a grant.

The point of this ticket is to enable users to use mainstream, freely available testing infrastructure. I do not propose to change the Sage project's testing infrastructure.


---

Comment by mforets created at 2017-03-22 07:55:19

I cannot help in the technical work, but count me in for testing purposes. The sage_sample template is already well documented, but if needed I could help in that direction too.

At the risk of stating the obvious: in some academic communities ([example](http://hscc2017.ece.illinois.edu/re.html)), the possibility to unit test your own or your peers code with little effort, has a potentially high impact.


---

Comment by mkoeppe created at 2017-04-02 02:49:32

Replying to [comment:2 mkoeppe]:
> But I could also imagine other tests that are directly relevant for Sage -- such as testing that in the binary release, compiling works; that each optional package can be installed into the binary release; etc. 

I've created a testing package that does that at https://github.com/mkoeppe/sage_binary_tester
(see test results at https://travis-ci.org/mkoeppe/sage_binary_tester). These are limited tests (and the scripts needs some work -- there's something going on with font-cache warnings), but for example the testing on the different Mac OS X versions that Travis CI provides could perhaps be valuable.


---

Comment by mkoeppe created at 2021-04-03 02:33:03

Volker, I'm bumping this up to critical to suggest to run the binary building scripts for the next rc so that people can test whether the built binaries work. This would be a helpful improvement of the release process - in particular in light of the unresolved issue #31565, which is likely to affect the binary build, and other tickets such as #31562 that also have the potential for that; and of the various issues that the 9.2 binary had (#31131, #30556, https://github.com/sagemath/binary-pkg/issues/28).


---

Comment by mkoeppe created at 2021-04-03 02:33:03

Changing priority from major to critical.


---

Comment by mkoeppe created at 2021-04-03 03:07:27

Having a binary distribution of an rc for macOS would probably also be helpful for the developers of the next-generation Mac App.


---

Comment by mkoeppe created at 2021-05-10 17:42:09

Moving to 9.4, as 9.3 has been released.


---

Comment by mkoeppe created at 2022-01-08 19:15:05

This never happened or even received a reaction from whoever builds the binaries, and better options (conda) are now available. So we can close it as outdated


---

Comment by mkoeppe created at 2022-01-08 19:15:05

Changing status from new to needs_review.


---

Comment by dimpase created at 2022-01-13 16:48:49

Changing status from needs_review to positive_review.


---

Comment by mkoeppe created at 2022-02-12 18:02:50

Resolution: invalid
