# Issue 25557: Remove doctests that depends on the exact version of ipywidgets

Issue created by migration from https://trac.sagemath.org/ticket/25794

Original creator: saraedum

Original creation time: 2018-07-07 14:30:30

CC:  jdemeyer

Keywords: debian, conda

In Debian (and Conda and probably all othersâ€¦) the following doctest fails:

```
Failed example:
    _ = getattr_debug(IntSlider(), "value")
Expected:
    getattr_debug(obj=IntSlider(value=0, min=0, max=100, step=1), name='value'):
      type(obj) = <class 'ipywidgets.widgets.widget_int.IntSlider'>
      object has __dict__ slot (<type 'dict'>)
      found 'value' in dict of <class 'ipywidgets.widgets.widget_int._Int'>
      got <traitlets.traitlets.CInt object at ... (<class 'traitlets.traitlets.CInt'>)
      attribute is data descriptor (has __get__ and __set__)
      ignoring __dict__ because we have a data descriptor
      calling __get__()
      returning 0 (<type 'int'>)
Got:
    getattr_debug(obj=<ipywidgets.widgets.widget_int.IntSlider object~~~, name='value'):
      type(obj) = <class 'ipywidgets.widgets.widget_int.IntSlider'>
      object has __dict__ slot (<type 'dict'>)
      found 'value' in dict of <class 'ipywidgets.widgets.widget_int._Int'>
      got <traitlets.traitlets.CInt object at 0x7f7296f58~~~ (<class 'traitlets.traitlets.CInt'>)
      attribute is data descriptor (has __get__ and __set__)
      ignoring __dict__ because we have a data descriptor
      calling __get__()
      returning 0 (<type 'int'>)
```


The reason appears to be that they use a different version of ipywidgets.


---

Comment by saraedum created at 2018-07-07 14:31:01

I could fix the doctest but adding a lot of `...` but I would rather remove a doctest that checks implementation details of an external libray.


---

Comment by saraedum created at 2018-07-07 14:31:40

jdemeyer: What is this doctest testing exactly? I would like to run it on something that comes from Sage itself instead. Or would it be acceptable to just remove it altogether?


---

Comment by saraedum created at 2018-07-07 14:31:47

Changing status from new to needs_info.


---

Comment by vdelecroix created at 2018-08-03 19:18:42

milestone update 8.3 -> 8.4


---

Comment by saraedum created at 2018-08-09 00:47:39

Since I did not get any feedback from jdemeyer, I'll remove that specific doctest and test `getattr_debug` on something else.


---

Comment by saraedum created at 2018-08-09 00:47:45

Changing status from needs_info to needs_work.


---

Comment by jdemeyer created at 2018-08-09 08:12:45

The test is meant for a data descriptor. Any ``@`property` would work for this doctest.
