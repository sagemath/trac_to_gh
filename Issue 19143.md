# Issue 19143: Random failure in matrix_integer_dense.pyx

archive/issues_019143.json:
```json
{
    "body": "CC:  jdemeyer\n\nKeywords: random_fail\n\n\n```\nsage -t --long src/sage/matrix/matrix_integer_dense.pyx\n**********************************************************************\nFile \"src/sage/matrix/matrix_integer_dense.pyx\", line 4108, in sage.matrix.matrix_integer_dense.Matrix_integer_dense._solve_iml\nFailed example:\n    t < 10 or t\nExpected:\n    True\nGot:\n    13.89298391342163\n**********************************************************************\n1 item had failures:\n   1 of  23 in sage.matrix.matrix_integer_dense.Matrix_integer_dense._solve_iml\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/19380\n\n",
    "created_at": "2015-10-09T09:35:08Z",
    "labels": [
        "linear algebra",
        "major",
        "bug"
    ],
    "title": "Random failure in matrix_integer_dense.pyx",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19143",
    "user": "vbraun"
}
```
CC:  jdemeyer

Keywords: random_fail


```
sage -t --long src/sage/matrix/matrix_integer_dense.pyx
**********************************************************************
File "src/sage/matrix/matrix_integer_dense.pyx", line 4108, in sage.matrix.matrix_integer_dense.Matrix_integer_dense._solve_iml
Failed example:
    t < 10 or t
Expected:
    True
Got:
    13.89298391342163
**********************************************************************
1 item had failures:
   1 of  23 in sage.matrix.matrix_integer_dense.Matrix_integer_dense._solve_iml
```


Issue created by migration from https://trac.sagemath.org/ticket/19380





---

archive/issue_comments_262709.json:
```json
{
    "body": "Well, it passes if the machine is not under extremely high load...\n\nIf you really want the doctests to pass always, the only option is removing the test.",
    "created_at": "2015-10-09T12:27:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19143",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19143#issuecomment-262709",
    "user": "jdemeyer"
}
```

Well, it passes if the machine is not under extremely high load...

If you really want the doctests to pass always, the only option is removing the test.



---

archive/issue_comments_262710.json:
```json
{
    "body": "Why do we need a timeout different from the doctest timeout? Its not a benchmark, we just want to know if abort works or not. And doctests are totally unsuitable for benchmarks anyways, as can be seen here.",
    "created_at": "2015-10-09T12:35:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19143",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19143#issuecomment-262710",
    "user": "vbraun"
}
```

Why do we need a timeout different from the doctest timeout? Its not a benchmark, we just want to know if abort works or not. And doctests are totally unsuitable for benchmarks anyways, as can be seen here.



---

archive/issue_comments_262711.json:
```json
{
    "body": "Replying to [comment:2 vbraun]:\n> Why do we need a timeout different from the doctest timeout?\nThat's too long.\n\nYou have a find a time `T` such that\n1. no machine can finish the actual computation in less than time `T`\n2. every machine can process the interrupt in at most time `T`\n\n> And doctests are totally unsuitable for benchmarks anyways\nIt's not meant as benchmark, it's meant to show that interrupts work.",
    "created_at": "2015-10-09T13:25:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19143",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19143#issuecomment-262711",
    "user": "jdemeyer"
}
```

Replying to [comment:2 vbraun]:
> Why do we need a timeout different from the doctest timeout?
That's too long.

You have a find a time `T` such that
1. no machine can finish the actual computation in less than time `T`
2. every machine can process the interrupt in at most time `T`

> And doctests are totally unsuitable for benchmarks anyways
It's not meant as benchmark, it's meant to show that interrupts work.



---

archive/issue_comments_262712.json:
```json
{
    "body": "There are two different times. I'm talking about the `t < 10`, not the `alarm(2)`. The former unnecessarily duplicates the doctest timeout. Your 1. is referring to the latter.",
    "created_at": "2015-10-09T13:45:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19143",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19143#issuecomment-262712",
    "user": "vbraun"
}
```

There are two different times. I'm talking about the `t < 10`, not the `alarm(2)`. The former unnecessarily duplicates the doctest timeout. Your 1. is referring to the latter.



---

archive/issue_comments_262713.json:
```json
{
    "body": "Replying to [comment:4 vbraun]:\n> There are two different times. I'm talking about the `t < 10`, not the `alarm(2)`. The former unnecessarily duplicates the doctest timeout. Your 1. is referring to the latter.\n\nNo, because I want to test that the function was actually interrupted. If some function takes 5 seconds to run, then it will always take at most 5 seconds to \"interrupt\", even if the interrupt doesn't work.",
    "created_at": "2015-10-09T13:49:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19143",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19143#issuecomment-262713",
    "user": "jdemeyer"
}
```

Replying to [comment:4 vbraun]:
> There are two different times. I'm talking about the `t < 10`, not the `alarm(2)`. The former unnecessarily duplicates the doctest timeout. Your 1. is referring to the latter.

No, because I want to test that the function was actually interrupted. If some function takes 5 seconds to run, then it will always take at most 5 seconds to "interrupt", even if the interrupt doesn't work.



---

archive/issue_comments_262714.json:
```json
{
    "body": "But the output would be different; If the function runs to completion it shows the actual output and the AlarmInterrupt would come later. So the doctests already tests that the function was successfully interrupted even without the `t<10`",
    "created_at": "2015-10-09T14:16:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19143",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19143#issuecomment-262714",
    "user": "vbraun"
}
```

But the output would be different; If the function runs to completion it shows the actual output and the AlarmInterrupt would come later. So the doctests already tests that the function was successfully interrupted even without the `t<10`



---

archive/issue_comments_262715.json:
```json
{
    "body": "Another one:\n\n```\nsage -t --long src/sage/matrix/matrix_integer_dense.pyx\n**********************************************************************\nFile \"src/sage/matrix/matrix_integer_dense.pyx\", line 4108, in sage.matrix.matrix_integer_dense.Matrix_integer_dense._solve_iml\nFailed example:\n    t < 10 or t\nExpected:\n    True\nGot:\n    13.529191970825195\n**********************************************************************\n1 item had failures:\n   1 of  23 in sage.matrix.matrix_integer_dense.Matrix_integer_dense._solve_iml\n    [570 tests, 1 failure, 54.32 s]\n```\n",
    "created_at": "2015-10-24T10:21:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19143",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19143#issuecomment-262715",
    "user": "vbraun"
}
```

Another one:

```
sage -t --long src/sage/matrix/matrix_integer_dense.pyx
**********************************************************************
File "src/sage/matrix/matrix_integer_dense.pyx", line 4108, in sage.matrix.matrix_integer_dense.Matrix_integer_dense._solve_iml
Failed example:
    t < 10 or t
Expected:
    True
Got:
    13.529191970825195
**********************************************************************
1 item had failures:
   1 of  23 in sage.matrix.matrix_integer_dense.Matrix_integer_dense._solve_iml
    [570 tests, 1 failure, 54.32 s]
```




---

archive/issue_comments_262716.json:
```json
{
    "body": "Another one:\n\n```\nsage -t --long src/sage/matrix/matrix_integer_dense.pyx\n**********************************************************************\nFile \"src/sage/matrix/matrix_integer_dense.pyx\", line 4108, in sage.matrix.matrix_integer_dense.Matrix_integer_dense._solve_iml\nFailed example:\n    t < 10 or t\nExpected:\n    True\nGot:\n    19.849074125289917\n**********************************************************************\n1 item had failures:\n   1 of  23 in sage.matrix.matrix_integer_dense.Matrix_integer_dense._solve_iml\n    [570 tests, 1 failure, 58.04 s]\n```\n",
    "created_at": "2015-10-24T23:16:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19143",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19143#issuecomment-262716",
    "user": "vbraun"
}
```

Another one:

```
sage -t --long src/sage/matrix/matrix_integer_dense.pyx
**********************************************************************
File "src/sage/matrix/matrix_integer_dense.pyx", line 4108, in sage.matrix.matrix_integer_dense.Matrix_integer_dense._solve_iml
Failed example:
    t < 10 or t
Expected:
    True
Got:
    19.849074125289917
**********************************************************************
1 item had failures:
   1 of  23 in sage.matrix.matrix_integer_dense.Matrix_integer_dense._solve_iml
    [570 tests, 1 failure, 58.04 s]
```

