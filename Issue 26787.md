# Issue 26787: update sagetex to version 3.1

archive/issues_026787.json:
```json
{
    "body": "This is to merge various fixes, in particular ones from Debian, and prepare for Python 3.\n\nTarball: https://github.com/sagemath/sagetex/releases/download/3.1/sagetex-3.1.tar.gz\n\nIssue created by migration from https://trac.sagemath.org/ticket/27024\n\n",
    "created_at": "2019-01-06T04:09:16Z",
    "labels": [
        "component: packages: standard",
        "critical"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.7",
    "title": "update sagetex to version 3.1",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/26787",
    "user": "https://github.com/dimpase"
}
```
This is to merge various fixes, in particular ones from Debian, and prepare for Python 3.

Tarball: https://github.com/sagemath/sagetex/releases/download/3.1/sagetex-3.1.tar.gz

Issue created by migration from https://trac.sagemath.org/ticket/27024





---

archive/issue_comments_376302.json:
```json
{
    "body": "Well when I tried to package it for python 2.7 and 3.6 in sage-on-gentoo I got the following\n\n```\nbyte-compiling /dev/shm/portage/dev-tex/sage-latex-3.1/image/_python3.6/usr/lib64/python3.6/site-packages/sagetex.py to sagetex.cpython-36.pyc\nwriting byte-compilation script '/dev/shm/portage/dev-tex/sage-latex-3.1/temp/tmp1cn1xh43.py'\n/usr/bin/python3.6 /dev/shm/portage/dev-tex/sage-latex-3.1/temp/tmp1cn1xh43.py\n  File \"/usr/lib64/python3.6/site-packages/sagetex.py\", line 156\n    raise SyntaxError, \"\"\" SageTeX no longer supports \"...\" for line continuation in sagexample and\n                     ^\nSyntaxError: invalid syntax\n```\nIt didn't stop the install but I think that will be an issue at runtime.",
    "created_at": "2019-01-06T08:15:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26787#issuecomment-376302",
    "user": "https://github.com/kiwifb"
}
```

Well when I tried to package it for python 2.7 and 3.6 in sage-on-gentoo I got the following

```
byte-compiling /dev/shm/portage/dev-tex/sage-latex-3.1/image/_python3.6/usr/lib64/python3.6/site-packages/sagetex.py to sagetex.cpython-36.pyc
writing byte-compilation script '/dev/shm/portage/dev-tex/sage-latex-3.1/temp/tmp1cn1xh43.py'
/usr/bin/python3.6 /dev/shm/portage/dev-tex/sage-latex-3.1/temp/tmp1cn1xh43.py
  File "/usr/lib64/python3.6/site-packages/sagetex.py", line 156
    raise SyntaxError, """ SageTeX no longer supports "..." for line continuation in sagexample and
                     ^
SyntaxError: invalid syntax
```
It didn't stop the install but I think that will be an issue at runtime.



---

archive/issue_comments_376303.json:
```json
{
    "body": "This is a python3-build, no?",
    "created_at": "2019-01-06T09:46:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26787#issuecomment-376303",
    "user": "https://github.com/dimpase"
}
```

This is a python3-build, no?



---

archive/issue_comments_376304.json:
```json
{
    "body": "Replying to [comment:4 dimpase]:\n> This is a python3-build, no?\n\n\nI do both 2.7 and 3.6, and yes that's from the python3 part.",
    "created_at": "2019-01-06T09:48:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26787#issuecomment-376304",
    "user": "https://github.com/kiwifb"
}
```

Replying to [comment:4 dimpase]:
> This is a python3-build, no?


I do both 2.7 and 3.6, and yes that's from the python3 part.



---

archive/issue_comments_376305.json:
```json
{
    "body": "Fixing this should hopefully deal with #23085, and possibly #21450 and #22499.  The latter two would require having a way to auto-generate, or something, the example.pdf and make sure that all links in install and elsewhere only point to the sagetex tutorial document, not the install guide.",
    "created_at": "2019-01-07T21:59:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26787#issuecomment-376305",
    "user": "https://github.com/kcrisman"
}
```

Fixing this should hopefully deal with #23085, and possibly #21450 and #22499.  The latter two would require having a way to auto-generate, or something, the example.pdf and make sure that all links in install and elsewhere only point to the sagetex tutorial document, not the install guide.



---

archive/issue_comments_376306.json:
```json
{
    "body": "My understanding is that some of PRs I merged are related to py3 support of SageTeX.\nI have not tried it in on py3 yet - it's not a requirement at the moment that everything  must be py3-compatible, right?\n\nOn py2 example.pdf is autogenerated now, as far as I can tell...",
    "created_at": "2019-01-08T09:28:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26787#issuecomment-376306",
    "user": "https://github.com/dimpase"
}
```

My understanding is that some of PRs I merged are related to py3 support of SageTeX.
I have not tried it in on py3 yet - it's not a requirement at the moment that everything  must be py3-compatible, right?

On py2 example.pdf is autogenerated now, as far as I can tell...



---

archive/issue_comments_376307.json:
```json
{
    "body": "Replying to [comment:7 dimpase]:\n> My understanding is that some of PRs I merged are related to py3 support of SageTeX.\n\n\nYes, I have seen them.\n\n> I have not tried it in on py3 yet - it's not a requirement at the moment that everything  must be py3-compatible, right?\n\n\nI guess it is not an absolute requirement yet. I probably should open an issue then.",
    "created_at": "2019-01-08T09:31:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26787#issuecomment-376307",
    "user": "https://github.com/kiwifb"
}
```

Replying to [comment:7 dimpase]:
> My understanding is that some of PRs I merged are related to py3 support of SageTeX.


Yes, I have seen them.

> I have not tried it in on py3 yet - it's not a requirement at the moment that everything  must be py3-compatible, right?


I guess it is not an absolute requirement yet. I probably should open an issue then.



---

archive/issue_comments_376308.json:
```json
{
    "body": "> On py2 example.pdf is autogenerated now, as far as I can tell...\n\n\nSorry, I meant on the GH site so that documentation is available outside of Sage proper (since I don't think one can independently download the ST doc other than from the ST GH page).  But that would not technically block this ticket; comment:6 was just an FYI for those reading this thread.",
    "created_at": "2019-01-08T14:14:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26787#issuecomment-376308",
    "user": "https://github.com/kcrisman"
}
```

> On py2 example.pdf is autogenerated now, as far as I can tell...


Sorry, I meant on the GH site so that documentation is available outside of Sage proper (since I don't think one can independently download the ST doc other than from the ST GH page).  But that would not technically block this ticket; comment:6 was just an FYI for those reading this thread.



---

archive/issue_comments_376309.json:
```json
{
    "body": "> I guess it is not an absolute requirement yet. I probably should open an issue then.\n\n\nFWIW, #23085 is the py3 compatibility ticket for ST.",
    "created_at": "2019-01-08T14:15:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26787#issuecomment-376309",
    "user": "https://github.com/kcrisman"
}
```

> I guess it is not an absolute requirement yet. I probably should open an issue then.


FWIW, #23085 is the py3 compatibility ticket for ST.



---

archive/issue_comments_376310.json:
```json
{
    "body": "Replying to [comment:3 fbissey]:\n> Well when I tried to package it for python 2.7 and 3.6 in sage-on-gentoo I got the following\n> \n> ```\n> byte-compiling /dev/shm/portage/dev-tex/sage-latex-3.1/image/_python3.6/usr/lib64/python3.6/site-packages/sagetex.py to sagetex.cpython-36.pyc\n> writing byte-compilation script '/dev/shm/portage/dev-tex/sage-latex-3.1/temp/tmp1cn1xh43.py'\n> /usr/bin/python3.6 /dev/shm/portage/dev-tex/sage-latex-3.1/temp/tmp1cn1xh43.py\n>   File \"/usr/lib64/python3.6/site-packages/sagetex.py\", line 156\n>     raise SyntaxError, \"\"\" SageTeX no longer supports \"...\" for line continuation in sagexample and\n>                      ^\n> SyntaxError: invalid syntax\n> ```\n> It didn't stop the install but I think that will be an issue at runtime.\n\n\nI've only tried py2. Now trying on py3:\n\nI've  pushed a commit to sagetex repo which fixes this, and another py2-only leftover. \nhttps://github.com/sagemath/sagetex/commit/2f3d4be3736e4adb0674ddbf94bda63e0ff7265e\n\nThere is still a problem one has to deal with:\n\n```\nSageTeX paused on sagetex.tex line 882\nSageTeX unpaused on sagetex.tex line 887\nTraceback (most recent call last):\n  File \"sagetex.sagetex.sage.py\", line 77, in <module>\n    _st_.endofdoc()\n  File \"/home/dimpase/sagetex-3.0/sagetex.py\", line 276, in endofdoc\n    m.update(line)\nTypeError: Unicode-objects must be encoded before hashing\nMakefile:13: recipe for target 'sagetex.pdf' failed\nmake: *** [sagetex.pdf] Error 1\n```",
    "created_at": "2019-01-08T17:18:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26787#issuecomment-376310",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:3 fbissey]:
> Well when I tried to package it for python 2.7 and 3.6 in sage-on-gentoo I got the following
> 
> ```
> byte-compiling /dev/shm/portage/dev-tex/sage-latex-3.1/image/_python3.6/usr/lib64/python3.6/site-packages/sagetex.py to sagetex.cpython-36.pyc
> writing byte-compilation script '/dev/shm/portage/dev-tex/sage-latex-3.1/temp/tmp1cn1xh43.py'
> /usr/bin/python3.6 /dev/shm/portage/dev-tex/sage-latex-3.1/temp/tmp1cn1xh43.py
>   File "/usr/lib64/python3.6/site-packages/sagetex.py", line 156
>     raise SyntaxError, """ SageTeX no longer supports "..." for line continuation in sagexample and
>                      ^
> SyntaxError: invalid syntax
> ```
> It didn't stop the install but I think that will be an issue at runtime.


I've only tried py2. Now trying on py3:

I've  pushed a commit to sagetex repo which fixes this, and another py2-only leftover. 
https://github.com/sagemath/sagetex/commit/2f3d4be3736e4adb0674ddbf94bda63e0ff7265e

There is still a problem one has to deal with:

```
SageTeX paused on sagetex.tex line 882
SageTeX unpaused on sagetex.tex line 887
Traceback (most recent call last):
  File "sagetex.sagetex.sage.py", line 77, in <module>
    _st_.endofdoc()
  File "/home/dimpase/sagetex-3.0/sagetex.py", line 276, in endofdoc
    m.update(line)
TypeError: Unicode-objects must be encoded before hashing
Makefile:13: recipe for target 'sagetex.pdf' failed
make: *** [sagetex.pdf] Error 1
```



---

archive/issue_comments_376311.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-01-09T01:11:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26787#issuecomment-376311",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_376312.json:
```json
{
    "body": "updated to fix more py3 stuff and docs",
    "created_at": "2019-01-09T01:11:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26787#issuecomment-376312",
    "user": "https://github.com/dimpase"
}
```

updated to fix more py3 stuff and docs



---

archive/issue_comments_376313.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-01-09T01:11:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26787#issuecomment-376313",
    "user": "https://github.com/dimpase"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_376314.json:
```json
{
    "body": "fix tarball and get some sleep",
    "created_at": "2019-01-09T01:15:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26787#issuecomment-376314",
    "user": "https://github.com/dimpase"
}
```

fix tarball and get some sleep



---

archive/issue_comments_376315.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-01-09T01:15:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26787#issuecomment-376315",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_376316.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-01-09T07:23:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26787#issuecomment-376316",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_376317.json:
```json
{
    "body": "OK, it all seems in order now. Works on py2 and on py3.",
    "created_at": "2019-01-09T07:23:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26787#issuecomment-376317",
    "user": "https://github.com/dimpase"
}
```

OK, it all seems in order now. Works on py2 and on py3.



---

archive/issue_comments_376318.json:
```json
{
    "body": "Changing keywords from \"\" to \"sagetex, py3\".",
    "created_at": "2019-01-09T07:23:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26787#issuecomment-376318",
    "user": "https://github.com/dimpase"
}
```

Changing keywords from "" to "sagetex, py3".



---

archive/issue_comments_376319.json:
```json
{
    "body": "I'm getting the weird situation that I am *not* getting any errors when upgrading!  Usually there is a strict 1-1 correspondence between sty file and Sage version necessary.  Do you think I am doing something wrong?\n\nUpon further looking, there was no updating of the key lines in `sagetex.dtx` that give the version number.  I don't know if this matters.\n\nI'm also doing a little maintenance of some non-essential stuff on the GH right now, see what you think - I don't think it should block this py3 business though.",
    "created_at": "2019-01-09T14:47:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26787#issuecomment-376319",
    "user": "https://github.com/kcrisman"
}
```

I'm getting the weird situation that I am *not* getting any errors when upgrading!  Usually there is a strict 1-1 correspondence between sty file and Sage version necessary.  Do you think I am doing something wrong?

Upon further looking, there was no updating of the key lines in `sagetex.dtx` that give the version number.  I don't know if this matters.

I'm also doing a little maintenance of some non-essential stuff on the GH right now, see what you think - I don't think it should block this py3 business though.



---

archive/issue_comments_376320.json:
```json
{
    "body": "I am not sure what are \"key lines\" in `sagetex.dtx` you are talking about.\nI bumped up the version in setup.py, that's all...",
    "created_at": "2019-01-09T14:53:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26787#issuecomment-376320",
    "user": "https://github.com/dimpase"
}
```

I am not sure what are "key lines" in `sagetex.dtx` you are talking about.
I bumped up the version in setup.py, that's all...



---

archive/issue_comments_376321.json:
```json
{
    "body": "Sorry, I'll make mention of that on GH.  Here is some relevant verbiage.\n`sagetex.dtx`:\n\n```\n% As of version 2.2.4, \\ST automatically checks to see if the versions\n% of the style file and Python module match. This is intended to prevent\n% strange version mismatch problems, but if you would like to use\n% mismatched sources, you can---at your peril---give the\n% |noversioncheck| option when you load the \\ST package. Don't be\n% surprised if things don't work when you do this.\n%\n% If you are considering using this option because the Sage script\n% complained and exited, you really should just get the \\LTX and Python\n% modules synchronized. Every copy of Sage since version 4.3.2 comes\n% with a copy of |sagetex.sty| that is matched up to Sage's baked-in \\ST\n% support, so you can always use that. See the\n% \\href{http://doc.sagemath.org/html/en/tutorial/sagetex.html}{\\ST section of the Sage\n%   tutorial}.\n```\nhttp://doc.sagemath.org/html/en/tutorial/sagetex.html\n\n```\nWarning it\u2019s very important that the file sagetex.sty that LaTeX uses when typesetting your document match the version of SageTeX that Sage is using. If you upgrade your Sage installation, you really should delete all the old versions of sagetex.sty floating around.\nBecause of this problem, we recommend copying the SageTeX files into your home directory\u2019s texmf directory (the third method above). Then there is only one thing you need to do (copy a directory) when you upgrade Sage to insure that SageTeX will work properly.\n```\nSo I think somehow we missed something here.",
    "created_at": "2019-01-09T14:59:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26787#issuecomment-376321",
    "user": "https://github.com/kcrisman"
}
```

Sorry, I'll make mention of that on GH.  Here is some relevant verbiage.
`sagetex.dtx`:

```
% As of version 2.2.4, \ST automatically checks to see if the versions
% of the style file and Python module match. This is intended to prevent
% strange version mismatch problems, but if you would like to use
% mismatched sources, you can---at your peril---give the
% |noversioncheck| option when you load the \ST package. Don't be
% surprised if things don't work when you do this.
%
% If you are considering using this option because the Sage script
% complained and exited, you really should just get the \LTX and Python
% modules synchronized. Every copy of Sage since version 4.3.2 comes
% with a copy of |sagetex.sty| that is matched up to Sage's baked-in \ST
% support, so you can always use that. See the
% \href{http://doc.sagemath.org/html/en/tutorial/sagetex.html}{\ST section of the Sage
%   tutorial}.
```
http://doc.sagemath.org/html/en/tutorial/sagetex.html

```
Warning it’s very important that the file sagetex.sty that LaTeX uses when typesetting your document match the version of SageTeX that Sage is using. If you upgrade your Sage installation, you really should delete all the old versions of sagetex.sty floating around.
Because of this problem, we recommend copying the SageTeX files into your home directory’s texmf directory (the third method above). Then there is only one thing you need to do (copy a directory) when you upgrade Sage to insure that SageTeX will work properly.
```
So I think somehow we missed something here.



---

archive/issue_comments_376322.json:
```json
{
    "body": "(The point being that maybe it really does matter.  The Python and .sty files are not visible on GH, but it's possible there are some subtle errors; for instance, did the style file change, or only the Python for py3?  And would that make them incompatible, or not be a problem?)",
    "created_at": "2019-01-09T15:07:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26787#issuecomment-376322",
    "user": "https://github.com/kcrisman"
}
```

(The point being that maybe it really does matter.  The Python and .sty files are not visible on GH, but it's possible there are some subtle errors; for instance, did the style file change, or only the Python for py3?  And would that make them incompatible, or not be a problem?)



---

archive/issue_comments_376323.json:
```json
{
    "body": "This is something `make dist` must check. Perhaps it does not. I guess I bumped up the version and created the distribution, without any errors...",
    "created_at": "2019-01-09T15:17:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26787#issuecomment-376323",
    "user": "https://github.com/dimpase"
}
```

This is something `make dist` must check. Perhaps it does not. I guess I bumped up the version and created the distribution, without any errors...



---

archive/issue_comments_376324.json:
```json
{
    "body": "Can you dig up where the version number is set in dtx, while I am out on a school run?",
    "created_at": "2019-01-09T15:19:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26787#issuecomment-376324",
    "user": "https://github.com/dimpase"
}
```

Can you dig up where the version number is set in dtx, while I am out on a school run?



---

archive/issue_comments_376325.json:
```json
{
    "body": "See [GH issue 27](https://github.com/sagemath/sagetex/issues/27) for details.  My best guess is that Dan originally manually did this to avoid issues, but presumably at least sometimes there wouldn't be any or they would be subtle.  I have contacted him off list too, and hopefully can get brief feedback for that and one other issue on GH.",
    "created_at": "2019-01-09T15:52:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26787#issuecomment-376325",
    "user": "https://github.com/kcrisman"
}
```

See [GH issue 27](https://github.com/sagemath/sagetex/issues/27) for details.  My best guess is that Dan originally manually did this to avoid issues, but presumably at least sometimes there wouldn't be any or they would be subtle.  I have contacted him off list too, and hopefully can get brief feedback for that and one other issue on GH.



---

archive/issue_comments_376326.json:
```json
{
    "body": "OK, sagetex.sty in the tarfile still has\n`\\newcommand{\\ST`@`ver}{2015/08/26 v3.0-92d9f7a}` which is obviously old. Need to find out where it is set.",
    "created_at": "2019-01-09T16:26:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26787#issuecomment-376326",
    "user": "https://github.com/dimpase"
}
```

OK, sagetex.sty in the tarfile still has
`\newcommand{\ST`@`ver}{2015/08/26 v3.0-92d9f7a}` which is obviously old. Need to find out where it is set.



---

archive/issue_comments_376327.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-01-09T16:50:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26787#issuecomment-376327",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_376328.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-01-09T17:12:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26787#issuecomment-376328",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_376329.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-01-09T17:22:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26787#issuecomment-376329",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_376330.json:
```json
{
    "body": "ok, now versions should be consistent (3.2) everywhere.",
    "created_at": "2019-01-09T17:22:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26787#issuecomment-376330",
    "user": "https://github.com/dimpase"
}
```

ok, now versions should be consistent (3.2) everywhere.



---

archive/issue_comments_376331.json:
```json
{
    "body": "Success!  All error messages occurred when and where expected, and did not occur when the `sagetex.sty` was in the appropriate places.   `sage -f -c sagetex` also seems to have created the right stuff, though I did get some error messages and this:\n\n```\n[sagetex-3.2] (\\end occurred inside a group at level 1)\n[sagetex-3.2] \n[sagetex-3.2] ### simple group (level 1) entered at line 27 ({)\n[sagetex-3.2] ### bottom level\n[sagetex-3.2] (see the transcript file for additional information)\n```\nbut anyway.  I would say if you update the GH site with example.pdf and sagetex.pdf that would make things fairly good to go, though I guess fbissey should also try it on py3 for reviewing purposes, since I do not have that done (nor will I for now).",
    "created_at": "2019-01-09T18:35:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26787#issuecomment-376331",
    "user": "https://github.com/kcrisman"
}
```

Success!  All error messages occurred when and where expected, and did not occur when the `sagetex.sty` was in the appropriate places.   `sage -f -c sagetex` also seems to have created the right stuff, though I did get some error messages and this:

```
[sagetex-3.2] (\end occurred inside a group at level 1)
[sagetex-3.2] 
[sagetex-3.2] ### simple group (level 1) entered at line 27 ({)
[sagetex-3.2] ### bottom level
[sagetex-3.2] (see the transcript file for additional information)
```
but anyway.  I would say if you update the GH site with example.pdf and sagetex.pdf that would make things fairly good to go, though I guess fbissey should also try it on py3 for reviewing purposes, since I do not have that done (nor will I for now).



---

archive/issue_comments_376332.json:
```json
{
    "body": "I think it should be OK on py3 side. I've uploaded the pdf files to the 3.2 release mini-page.",
    "created_at": "2019-01-09T18:51:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26787#issuecomment-376332",
    "user": "https://github.com/dimpase"
}
```

I think it should be OK on py3 side. I've uploaded the pdf files to the 3.2 release mini-page.



---

archive/issue_comments_376333.json:
```json
{
    "body": "I've seen messages like `(\\end occurred inside a group at level 1)` in 3.0 too.",
    "created_at": "2019-01-09T18:52:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26787#issuecomment-376333",
    "user": "https://github.com/dimpase"
}
```

I've seen messages like `(\end occurred inside a group at level 1)` in 3.0 too.



---

archive/issue_comments_376334.json:
```json
{
    "body": "My earlier problems with 3.1 and python3.6 are all gone with that new version :)",
    "created_at": "2019-01-09T19:02:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26787#issuecomment-376334",
    "user": "https://github.com/kiwifb"
}
```

My earlier problems with 3.1 and python3.6 are all gone with that new version :)



---

archive/issue_comments_376335.json:
```json
{
    "body": "> My earlier problems with 3.1 and python3.6 are all gone with that new version :)\n\n\nSo does that mean #23085 is ready for review?  (Also, was that ever on #15530?)",
    "created_at": "2019-01-09T20:23:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26787#issuecomment-376335",
    "user": "https://github.com/kcrisman"
}
```

> My earlier problems with 3.1 and python3.6 are all gone with that new version :)


So does that mean #23085 is ready for review?  (Also, was that ever on #15530?)



---

archive/issue_comments_376336.json:
```json
{
    "body": "Once this is closed, then #21450 can also be closed.",
    "created_at": "2019-01-09T20:25:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26787#issuecomment-376336",
    "user": "https://github.com/kcrisman"
}
```

Once this is closed, then #21450 can also be closed.



---

archive/issue_comments_376337.json:
```json
{
    "body": "Replying to [comment:32 kcrisman]:\n> > My earlier problems with 3.1 and python3.6 are all gone with that new version :)\n\n> \n> So does that mean #23085 is ready for review?  (Also, was that ever on #15530?)\n\n\nI'll have to check on that particular example. Just because pre-compiling works doesn't mean everything work in a practical sense.",
    "created_at": "2019-01-09T20:27:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26787#issuecomment-376337",
    "user": "https://github.com/kiwifb"
}
```

Replying to [comment:32 kcrisman]:
> > My earlier problems with 3.1 and python3.6 are all gone with that new version :)

> 
> So does that mean #23085 is ready for review?  (Also, was that ever on #15530?)


I'll have to check on that particular example. Just because pre-compiling works doesn't mean everything work in a practical sense.



---

archive/issue_comments_376338.json:
```json
{
    "body": "Also, if anyone else wants to review #14343 that can be closed, I believe (but I like having two opinions).",
    "created_at": "2019-01-09T20:29:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26787#issuecomment-376338",
    "user": "https://github.com/kcrisman"
}
```

Also, if anyone else wants to review #14343 that can be closed, I believe (but I like having two opinions).



---

archive/issue_comments_376339.json:
```json
{
    "body": "Anything still needs a review here?",
    "created_at": "2019-01-10T06:24:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26787#issuecomment-376339",
    "user": "https://github.com/dimpase"
}
```

Anything still needs a review here?



---

archive/issue_comments_376340.json:
```json
{
    "body": "Not as far as I'm concerned.  Fran\u00e7ois you are happy?",
    "created_at": "2019-01-10T13:39:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26787#issuecomment-376340",
    "user": "https://github.com/kcrisman"
}
```

Not as far as I'm concerned.  François you are happy?



---

archive/issue_comments_376341.json:
```json
{
    "body": "Replying to [comment:38 kcrisman]:\n> Not as far as I'm concerned.  Fran\u00e7ois you are happy?\n\n\nI can't see anything wrong. So that count as happy.",
    "created_at": "2019-01-10T18:44:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26787#issuecomment-376341",
    "user": "https://github.com/kiwifb"
}
```

Replying to [comment:38 kcrisman]:
> Not as far as I'm concerned.  François you are happy?


I can't see anything wrong. So that count as happy.



---

archive/issue_comments_376342.json:
```json
{
    "body": "I take this as positive review then :-)",
    "created_at": "2019-01-10T18:56:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26787#issuecomment-376342",
    "user": "https://github.com/dimpase"
}
```

I take this as positive review then :-)



---

archive/issue_comments_376343.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-01-10T18:56:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26787#issuecomment-376343",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_067074.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-15T18:16:10Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26787",
    "milestone": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26787#event-67074"
}
```



---

archive/issue_comments_376344.json:
```json
{
    "body": "Retarging tickets optimistically to the next milestone.  If you are responsible for this ticket (either its reporter or owner) and don't believe you are likely to complete this ticket before the next release (8.7) please retarget this ticket's milestone to sage-pending or sage-wishlist.",
    "created_at": "2019-01-15T18:16:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26787#issuecomment-376344",
    "user": "https://github.com/embray"
}
```

Retarging tickets optimistically to the next milestone.  If you are responsible for this ticket (either its reporter or owner) and don't believe you are likely to complete this ticket before the next release (8.7) please retarget this ticket's milestone to sage-pending or sage-wishlist.



---

archive/issue_comments_376345.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-01-23T15:39:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26787#issuecomment-376345",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_067075.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-01-23T15:39:23Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/26787",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26787#event-67075"
}
```
