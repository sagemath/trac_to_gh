# Issue 27424: enumeration of minimal dominating sets

archive/issues_027187.json:
```json
{
    "body": "Goal: implement an algorithm enumerating the minimal dominating sets of a graph as described in https://arxiv.org/abs/1810.00789 .\n\nKeywords: enumeration, dominating set\n\nBranch/Commit: 054a7bd1836699c2693d7beeaf3c5f9c5ca65f5b\n\nReviewer: David Coudert\n\nAuthor: Jean-Florent Raymond\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/27424\n\n",
    "closed_at": "2020-01-05T15:47:46Z",
    "created_at": "2019-03-04T20:36:28Z",
    "labels": [
        "component: graph theory"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.1",
    "title": "enumeration of minimal dominating sets",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/27424",
    "user": "https://github.com/jfraymond"
}
```
Goal: implement an algorithm enumerating the minimal dominating sets of a graph as described in https://arxiv.org/abs/1810.00789 .

Keywords: enumeration, dominating set

Branch/Commit: 054a7bd1836699c2693d7beeaf3c5f9c5ca65f5b

Reviewer: David Coudert

Author: Jean-Florent Raymond

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/27424





---

archive/issue_comments_407964.json:
```json
{
    "body": "<a id='comment:2'></a>(work in progress)",
    "created_at": "2019-03-04T21:18:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27424#issuecomment-407964",
    "user": "https://github.com/jfraymond"
}
```

<a id='comment:2'></a>(work in progress)



---

archive/issue_comments_407965.json:
```json
{
    "body": "<a id='comment:3'></a>just some comments\n\n* Please avoid that : `+from sage.all import *`\n\n* use the arxiv role for arxiv links `:arxiv:`2022.01243``\n\n* one blank line after INPUT:",
    "created_at": "2019-03-05T07:46:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27424#issuecomment-407965",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:3'></a>just some comments

* Please avoid that : `+from sage.all import *`

* use the arxiv role for arxiv links `:arxiv:`2022.01243``

* one blank line after INPUT:



---

archive/issue_comments_407966.json:
```json
{
    "body": "<a id='comment:4'></a>I don't think it's a good idea to define new neighbor iterators in this file.\nIt might be better to properly extend the functionalities of `neighbors` and `neighbor_iterator`.\n\nAlso, your method `neighbors_of_a_set` do the same as `.vertex_boundary()`, except that it returns a set instead of a list.",
    "created_at": "2019-03-05T09:44:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27424#issuecomment-407966",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:4'></a>I don't think it's a good idea to define new neighbor iterators in this file.
It might be better to properly extend the functionalities of `neighbors` and `neighbor_iterator`.

Also, your method `neighbors_of_a_set` do the same as `.vertex_boundary()`, except that it returns a set instead of a list.



---

archive/issue_comments_407967.json:
```json
{
    "body": "<a id='comment:5'></a>Ticket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)",
    "created_at": "2019-03-25T10:56:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27424#issuecomment-407967",
    "user": "https://github.com/embray"
}
```

<a id='comment:5'></a>Ticket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)



---

archive/issue_events_068113.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:56:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "milestone": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27424#event-68113"
}
```



---

archive/issue_comments_407968.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-04-03T14:42:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27424#issuecomment-407968",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_407969.json:
```json
{
    "body": "<a id='comment:7'></a>Thanks for the comments.\n\nCurrently I assume that the vertices of the input graph are sortable, in order for some procedure to have deterministic output, which is required for the correctness of the algorithm. The procedure removes vertices one by one in increasing order until a property is met.\n\nIs there a fast and easy way to sort the vertices in any case, for instance using some integer used internally to represent a vertex? Otherwise I could define an arbitrary order at the beginning, but that looks cumbersome.\nOr can I assume that `.vertices()` always returns the vertices in the same order? (I guess not.)",
    "created_at": "2019-04-03T14:59:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27424#issuecomment-407969",
    "user": "https://github.com/jfraymond"
}
```

<a id='comment:7'></a>Thanks for the comments.

Currently I assume that the vertices of the input graph are sortable, in order for some procedure to have deterministic output, which is required for the correctness of the algorithm. The procedure removes vertices one by one in increasing order until a property is met.

Is there a fast and easy way to sort the vertices in any case, for instance using some integer used internally to represent a vertex? Otherwise I could define an arbitrary order at the beginning, but that looks cumbersome.
Or can I assume that `.vertices()` always returns the vertices in the same order? (I guess not.)



---

archive/issue_comments_407970.json:
```json
{
    "body": "<a id='comment:9'></a>method `_peel`\n- as you mix sets and lists in the output. Use sets only\n- instead of `set(G.vertices())`, use `set(G)`. No need to sort here\n- `peeling = [(None, G.vertices())]` should be `(None, set(G))]`, right ?\n- `while H.order() > 0:` -> `while H:`\n\nSome parts can be simplified like:\n\n```diff\n-            for L in tree_search(H, plng, dom, i + 1):\n-                yield L\n+            yield from tree_search(H, plng, dom, i + 1)\n```\n\nI'm really not in favor of adding new vertex iterators methods. Instead, you could add parameter `closed=True/False` to `neighbor_iterator` and `vertex_boundary`.\n\nNow, concerning the sorting, and in view of your code, you could relabel your graph and use the mapping before returning the result. Then, you can sort integers safely if needed.\n\n```\nint_to_vertex = list(G)\nvertex_to_int = {u: i for i, u in enumerate(int_to_vertex)}\nG = G.relabel(perm=vertex_to_int)\n...\nfor dom in tree_search(G, peeling, set(), 0):\n    # we generate the leaves of the search tree that are descendant of (empty set, 0)\n    yield dom[0], {int_to_vertex[i] for i in dom[1]}\n```",
    "created_at": "2019-04-03T15:35:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27424#issuecomment-407970",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:9'></a>method `_peel`
- as you mix sets and lists in the output. Use sets only
- instead of `set(G.vertices())`, use `set(G)`. No need to sort here
- `peeling = [(None, G.vertices())]` should be `(None, set(G))]`, right ?
- `while H.order() > 0:` -> `while H:`

Some parts can be simplified like:

```diff
-            for L in tree_search(H, plng, dom, i + 1):
-                yield L
+            yield from tree_search(H, plng, dom, i + 1)
```

I'm really not in favor of adding new vertex iterators methods. Instead, you could add parameter `closed=True/False` to `neighbor_iterator` and `vertex_boundary`.

Now, concerning the sorting, and in view of your code, you could relabel your graph and use the mapping before returning the result. Then, you can sort integers safely if needed.

```
int_to_vertex = list(G)
vertex_to_int = {u: i for i, u in enumerate(int_to_vertex)}
G = G.relabel(perm=vertex_to_int)
...
for dom in tree_search(G, peeling, set(), 0):
    # we generate the leaves of the search tree that are descendant of (empty set, 0)
    yield dom[0], {int_to_vertex[i] for i in dom[1]}
```



---

archive/issue_comments_407971.json:
```json
{
    "body": "<a id='comment:10'></a>If you want to, you could add the following sanity check:\n\n```\nsage: findstat([(G, sum(1 for _ in minimal_dominating_sets(G))) for n in range(6) for G in graphs(n)], depth=0) # optional - internet\n0: (St001302: The number of minimally dominating sets of vertices of a graph., [], 52)\n```\nor, taking a bit longer, \n\n```\nsage: findstat(\"Graphs\", lambda G: sum(1 for _ in minimal_dominating_sets(G)), depth=0) # optional - internet\n0: (St001302: The number of minimally dominating sets of vertices of a graph., [], 1000)\n```",
    "created_at": "2019-04-03T18:58:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27424#issuecomment-407971",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:10'></a>If you want to, you could add the following sanity check:

```
sage: findstat([(G, sum(1 for _ in minimal_dominating_sets(G))) for n in range(6) for G in graphs(n)], depth=0) # optional - internet
0: (St001302: The number of minimally dominating sets of vertices of a graph., [], 52)
```
or, taking a bit longer, 

```
sage: findstat("Graphs", lambda G: sum(1 for _ in minimal_dominating_sets(G)), depth=0) # optional - internet
0: (St001302: The number of minimally dominating sets of vertices of a graph., [], 1000)
```



---

archive/issue_comments_407972.json:
```json
{
    "body": "<a id='comment:11'></a>Thanks!\n`@`dcoudert: as far as I know using `yield from` would make the code non compatible with python 2. Can we assume that everybody uses python 3 now?",
    "created_at": "2019-04-04T10:01:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27424#issuecomment-407972",
    "user": "https://github.com/jfraymond"
}
```

<a id='comment:11'></a>Thanks!
`@`dcoudert: as far as I know using `yield from` would make the code non compatible with python 2. Can we assume that everybody uses python 3 now?



---

archive/issue_comments_407973.json:
```json
{
    "body": "<a id='comment:12'></a>Right, it's working in Cython, but not in Python 2, a pity :(",
    "created_at": "2019-04-04T10:06:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27424#issuecomment-407973",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:12'></a>Right, it's working in Cython, but not in Python 2, a pity :(



---

archive/issue_comments_407974.json:
```json
{
    "body": "<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-04-05T14:16:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27424#issuecomment-407974",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_407975.json:
```json
{
    "body": "<a id='comment:14'></a>May be we should make a specific ticket for the neighbor iterators. If you agree, I can do it.",
    "created_at": "2019-04-07T18:08:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27424#issuecomment-407975",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:14'></a>May be we should make a specific ticket for the neighbor iterators. If you agree, I can do it.



---

archive/issue_comments_407976.json:
```json
{
    "body": "<a id='comment:15'></a>Indeed, I did not think of that. Thanks for offering! Feel free to do it.",
    "created_at": "2019-04-08T07:59:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27424#issuecomment-407976",
    "user": "https://github.com/jfraymond"
}
```

<a id='comment:15'></a>Indeed, I did not think of that. Thanks for offering! Feel free to do it.



---

archive/issue_comments_407977.json:
```json
{
    "body": "<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-04-10T18:31:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27424#issuecomment-407977",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_407978.json:
```json
{
    "body": "<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-04-11T10:26:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27424#issuecomment-407978",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_407979.json:
```json
{
    "body": "<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-04-11T11:22:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27424#issuecomment-407979",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_407980.json:
```json
{
    "body": "<a id='comment:19'></a>I created the ticket #27647 for the changes in neighbor_iterator.",
    "created_at": "2019-04-11T16:00:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27424#issuecomment-407980",
    "user": "https://github.com/jfraymond"
}
```

<a id='comment:19'></a>I created the ticket #27647 for the changes in neighbor_iterator.



---

archive/issue_comments_407981.json:
```json
{
    "body": "<a id='comment:20'></a>Is the correct procedure now to merge #27647 in this branch?",
    "created_at": "2019-04-12T15:52:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27424#issuecomment-407981",
    "user": "https://github.com/jfraymond"
}
```

<a id='comment:20'></a>Is the correct procedure now to merge #27647 in this branch?



---

archive/issue_comments_407982.json:
```json
{
    "body": "<a id='comment:21'></a>yes, you should rebase your branch on top of #27647, and add it to the dependencies field",
    "created_at": "2019-04-14T15:56:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27424#issuecomment-407982",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:21'></a>yes, you should rebase your branch on top of #27647, and add it to the dependencies field



---

archive/issue_comments_407983.json:
```json
{
    "body": "<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2019-04-15T12:42:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27424#issuecomment-407983",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_407984.json:
```json
{
    "body": "<a id='comment:23'></a>Not sure what happened with the rebase (some commit messages have be re-displayed by trac), but it seems fine.",
    "created_at": "2019-04-15T12:47:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27424#issuecomment-407984",
    "user": "https://github.com/jfraymond"
}
```

<a id='comment:23'></a>Not sure what happened with the rebase (some commit messages have be re-displayed by trac), but it seems fine.



---

archive/issue_comments_407985.json:
```json
{
    "body": "<a id='comment:24'></a>should be ok.\n\nare methods `private_neighbors`, `is_dominating`, `is_redundant` valid for graphs and digraphs ? if not, then these methods should be in `graph.py` or in `domination.py`.",
    "created_at": "2019-04-15T14:06:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27424#issuecomment-407985",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:24'></a>should be ok.

are methods `private_neighbors`, `is_dominating`, `is_redundant` valid for graphs and digraphs ? if not, then these methods should be in `graph.py` or in `domination.py`.



---

archive/issue_comments_407986.json:
```json
{
    "body": "<a id='comment:25'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-04-17T15:59:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27424#issuecomment-407986",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:25'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_407987.json:
```json
{
    "body": "<a id='comment:26'></a>The methods could easily be extended to digraphs but it would require to define closed neighborhoods for the `_backend.iterator_out_nbrs` method (and also update my previous changes to `neighbor_iterator`) or to define an `out_neighbors_iterator` method in `generic_graph.py` with a `closed` parameter. As I do not have much time now, I just moved the functions to `graph.py`.\nI will now make a last pass on the code before I ask for a review.",
    "created_at": "2019-04-17T16:08:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27424#issuecomment-407987",
    "user": "https://github.com/jfraymond"
}
```

<a id='comment:26'></a>The methods could easily be extended to digraphs but it would require to define closed neighborhoods for the `_backend.iterator_out_nbrs` method (and also update my previous changes to `neighbor_iterator`) or to define an `out_neighbors_iterator` method in `generic_graph.py` with a `closed` parameter. As I do not have much time now, I just moved the functions to `graph.py`.
I will now make a last pass on the code before I ask for a review.



---

archive/issue_comments_407988.json:
```json
{
    "body": "<a id='comment:27'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-05-08T11:42:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27424#issuecomment-407988",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:27'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_407989.json:
```json
{
    "body": "<a id='comment:28'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-05-08T13:13:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27424#issuecomment-407989",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:28'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_407990.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-05-08T13:14:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27424#issuecomment-407990",
    "user": "https://github.com/jfraymond"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_407991.json:
```json
{
    "body": "<a id='comment:31'></a>doc does not build",
    "created_at": "2019-05-26T16:19:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27424#issuecomment-407991",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:31'></a>doc does not build



---

archive/issue_comments_407992.json:
```json
{
    "body": "<a id='comment:32'></a>- why adding `lazy_import(\"sage.graphs.domination\", \"minimal_dominating_sets\")` in `src/sage/graphs/all.py` ? I think that `minimal_dominating_sets` should be a method of `Graph`.\n\n- a possible error that prevent to build the doc\n\n```diff\n-    r'''\n+    r\"\"\"\n```\nand of course the block ends with `\"\"\"` and not `'''`.\n\n- In `minimal_dominating_sets`, please document more precisely the input parameters. What's the goal of `to_dominate` ? `work_on_copy` ?\n\n- please revert modifications in `src/sage/graphs/generic_graph.py`. These modifications introduce trailing white spaces...\n\n- in `is_dominating` input parameters and documented parameters are not the same. Futhermore, you should be more explicit that by default we want to dominate the vertices of `self`.\n  For instance\n\n```\nCheck whether ``p_dominating`` is a dominating set of ``self``.\n\nWhen ``p_dominates`` is specified, check instead if ``p_dominating``\n dominates the vertices in ``p_dominates``.\n```\n\n  I'm not convince by the choice of the names `p_dominating` and `p_dominates`.\n\n- in `is_redundant`, you should define `has_private` as a set, and add it `dominator[v][1]` in the `for v in focus` loop. Then, you just have to check if `has_private != dom`.",
    "created_at": "2019-05-30T09:45:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27424#issuecomment-407992",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:32'></a>- why adding `lazy_import("sage.graphs.domination", "minimal_dominating_sets")` in `src/sage/graphs/all.py` ? I think that `minimal_dominating_sets` should be a method of `Graph`.

- a possible error that prevent to build the doc

```diff
-    r'''
+    r"""
```
and of course the block ends with `"""` and not `'''`.

- In `minimal_dominating_sets`, please document more precisely the input parameters. What's the goal of `to_dominate` ? `work_on_copy` ?

- please revert modifications in `src/sage/graphs/generic_graph.py`. These modifications introduce trailing white spaces...

- in `is_dominating` input parameters and documented parameters are not the same. Futhermore, you should be more explicit that by default we want to dominate the vertices of `self`.
  For instance

```
Check whether ``p_dominating`` is a dominating set of ``self``.

When ``p_dominates`` is specified, check instead if ``p_dominating``
 dominates the vertices in ``p_dominates``.
```

  I'm not convince by the choice of the names `p_dominating` and `p_dominates`.

- in `is_redundant`, you should define `has_private` as a set, and add it `dominator[v][1]` in the `for v in focus` loop. Then, you just have to check if `has_private != dom`.



---

archive/issue_comments_407993.json:
```json
{
    "body": "<a id='comment:33'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-06-04T22:25:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27424#issuecomment-407993",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:33'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_407994.json:
```json
{
    "body": "<a id='comment:34'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-06-05T11:24:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27424#issuecomment-407994",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:34'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_407995.json:
```json
{
    "body": "<a id='comment:35'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-06-05T11:29:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27424#issuecomment-407995",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:35'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_407996.json:
```json
{
    "body": "<a id='comment:36'></a>Thanks for the comments!\nI addressed them all.",
    "created_at": "2019-06-05T11:34:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27424#issuecomment-407996",
    "user": "https://github.com/jfraymond"
}
```

<a id='comment:36'></a>Thanks for the comments!
I addressed them all.



---

archive/issue_comments_407997.json:
```json
{
    "body": "<a id='comment:37'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-06-05T11:52:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27424#issuecomment-407997",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:37'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_407998.json:
```json
{
    "body": "<a id='comment:38'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-06-05T13:47:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27424#issuecomment-407998",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:38'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_407999.json:
```json
{
    "body": "<a id='comment:39'></a>The code has been greatly improved but I still have some comments. Sorry for that.\n\n- We can improve the readability\n\n```diff\n-    def _aux_with_rep(H, to_dom, u_next):\n-        # Auxilliary routine.\n-        # Return the minimal dominating sets of to_dom, with the\n-        # assumption that u_next dominates to_som.\n-        # WARNING: the same output may be output several times\n-        # (up to |H| times).\n-        #\n-        # In order to later remove duplicates, we here output pairs\n-        # (ext,i) where ext is the output candidate extension and i\n-        # counts how many elements have already been output.\n+    def _aux_with_rep(H, to_dom, u_next):\n+        \"\"\"\n+        Return the minimal dominating sets of to_dom, with the\n+        assumption that u_next dominates to_som.\n+\n+        WARNING: the same output may be output several times\n+        (up to |H| times).\n+\n+        In order to later remove duplicates, we here output pairs\n+        (ext,i) where ext is the output candidate extension and i\n+        counts how many elements have already been output.\n+        \"\"\"\n```\n\n\n\n- in `is_dominating`:\n\n```diff\n-        Check if a set is a dominating set.\n+        Check whether ``dom`` is a dominating set of ``self``.\n```\nand you can remove that sentence from the output block. Actually, the output block is not necessary, and you could just say in the description of the method that this method can be used to check whether `dom` dominates a subset of vertices of the graph.\n\n- you can simply do\n\n```diff\n-        return to_dom == set()\n+        return not to_dom\n```\n\n- since you assume that `focus` has no repeated verices, you should better use a `set`. The test `v in focus` will be faster`.\n\n- a simpler version\n\n```diff\n-        dominator = dict()\n-        for v in focus:\n-            dominator[v] = (0, None)  # Initialization\n+        # Initialization\n+        dominator = {v: (0, None) for v in focus}\n```\n\n\n- I suggest the following simplification (the text can be improved)\n\n```diff\n-        # Now we can compute with_private, the set of vertices of dom\n-        # that have a private neighbor in focus\n-        with_private = set()\n-        for v in focus:\n-            # Here we do care neither about vertices dominated by more\n-            # than one vertex of dom (they are not private neighbor of\n-            # anybody) nor about vertices not dominated by dom (idem).\n-            if dominator[v][0] == 1:\n-                # If v is dominated only by one vertex x,\n-                # then v is a private neighbor of x\n-                with_private.add(dominator[v][1])\n+        # We now compute the subset of vertices of dom that have a\n+        # private neighbor in focus. A vertex v in dom has a private\n+        # neighbor in focus if it is dominated by a unique vertex,\n+        # that is if dominator[v][0] == 1\n+        with_private = {dominator[v][1] for v in focus is dominator[v][0] == 1}\n```\n\n- why not doing this:\n\n```diff\n-        return (neighbor\n-                for neighbor in self.neighbor_iterator(vertex, closed=True)\n-                if neighbor not in closed_neighborhood_vs)\n+        return set(self.neighbors(vertex, closed=True)).difference(closed_neighborhood_vs)\n```",
    "created_at": "2019-06-12T16:22:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27424#issuecomment-407999",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:39'></a>The code has been greatly improved but I still have some comments. Sorry for that.

- We can improve the readability

```diff
-    def _aux_with_rep(H, to_dom, u_next):
-        # Auxilliary routine.
-        # Return the minimal dominating sets of to_dom, with the
-        # assumption that u_next dominates to_som.
-        # WARNING: the same output may be output several times
-        # (up to |H| times).
-        #
-        # In order to later remove duplicates, we here output pairs
-        # (ext,i) where ext is the output candidate extension and i
-        # counts how many elements have already been output.
+    def _aux_with_rep(H, to_dom, u_next):
+        """
+        Return the minimal dominating sets of to_dom, with the
+        assumption that u_next dominates to_som.
+
+        WARNING: the same output may be output several times
+        (up to |H| times).
+
+        In order to later remove duplicates, we here output pairs
+        (ext,i) where ext is the output candidate extension and i
+        counts how many elements have already been output.
+        """
```



- in `is_dominating`:

```diff
-        Check if a set is a dominating set.
+        Check whether ``dom`` is a dominating set of ``self``.
```
and you can remove that sentence from the output block. Actually, the output block is not necessary, and you could just say in the description of the method that this method can be used to check whether `dom` dominates a subset of vertices of the graph.

- you can simply do

```diff
-        return to_dom == set()
+        return not to_dom
```

- since you assume that `focus` has no repeated verices, you should better use a `set`. The test `v in focus` will be faster`.

- a simpler version

```diff
-        dominator = dict()
-        for v in focus:
-            dominator[v] = (0, None)  # Initialization
+        # Initialization
+        dominator = {v: (0, None) for v in focus}
```


- I suggest the following simplification (the text can be improved)

```diff
-        # Now we can compute with_private, the set of vertices of dom
-        # that have a private neighbor in focus
-        with_private = set()
-        for v in focus:
-            # Here we do care neither about vertices dominated by more
-            # than one vertex of dom (they are not private neighbor of
-            # anybody) nor about vertices not dominated by dom (idem).
-            if dominator[v][0] == 1:
-                # If v is dominated only by one vertex x,
-                # then v is a private neighbor of x
-                with_private.add(dominator[v][1])
+        # We now compute the subset of vertices of dom that have a
+        # private neighbor in focus. A vertex v in dom has a private
+        # neighbor in focus if it is dominated by a unique vertex,
+        # that is if dominator[v][0] == 1
+        with_private = {dominator[v][1] for v in focus is dominator[v][0] == 1}
```

- why not doing this:

```diff
-        return (neighbor
-                for neighbor in self.neighbor_iterator(vertex, closed=True)
-                if neighbor not in closed_neighborhood_vs)
+        return set(self.neighbors(vertex, closed=True)).difference(closed_neighborhood_vs)
```



---

archive/issue_events_068114.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-07-03T11:37:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "milestone": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27424#event-68114"
}
```



---

archive/issue_events_068115.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-07-03T11:37:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "milestone": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27424#event-68115"
}
```



---

archive/issue_comments_408000.json:
```json
{
    "body": "<a id='comment:40'></a>Moving tickets from the Sage 8.8 milestone that have been actively worked on in the last six months to the next release milestone (optimistically).",
    "created_at": "2019-07-03T11:37:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27424#issuecomment-408000",
    "user": "https://github.com/embray"
}
```

<a id='comment:40'></a>Moving tickets from the Sage 8.8 milestone that have been actively worked on in the last six months to the next release milestone (optimistically).



---

archive/issue_comments_408001.json:
```json
{
    "body": "<a id='comment:41'></a>There is a merge conflict with last beta.",
    "created_at": "2019-07-13T23:14:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27424#issuecomment-408001",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:41'></a>There is a merge conflict with last beta.



---

archive/issue_comments_408002.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-07-14T09:48:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27424#issuecomment-408002",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_events_068116.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2019-10-07T10:19:54Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "milestone": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27424#event-68116"
}
```



---

archive/issue_events_068117.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2019-10-07T10:19:54Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "milestone": "sage-9.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27424#event-68117"
}
```



---

archive/issue_comments_408003.json:
```json
{
    "body": "<a id='comment:43'></a>I can help solving the merge conflicts if needed",
    "created_at": "2019-10-07T10:19:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27424#issuecomment-408003",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:43'></a>I can help solving the merge conflicts if needed



---

archive/issue_comments_408004.json:
```json
{
    "body": "<a id='comment:44'></a>I fixed the merge conflicts, applied the modifications proposed in #comment:39, and move all methods related to domination to the file `domination.py`. I pushed everything to a new branch in public so that you can modify it if needed.\n\nDo you agree with these changes ?\n\n---\nNew commits:",
    "created_at": "2019-10-20T15:20:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27424#issuecomment-408004",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:44'></a>I fixed the merge conflicts, applied the modifications proposed in #comment:39, and move all methods related to domination to the file `domination.py`. I pushed everything to a new branch in public so that you can modify it if needed.

Do you agree with these changes ?

---
New commits:



---

archive/issue_comments_408005.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-10-20T15:20:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27424#issuecomment-408005",
    "user": "https://github.com/dcoudert"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_408006.json:
```json
{
    "body": "<a id='comment:45'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-12-28T16:34:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27424#issuecomment-408006",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:45'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_408007.json:
```json
{
    "body": "<a id='comment:46'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-12-28T17:04:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27424#issuecomment-408007",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:46'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_408008.json:
```json
{
    "body": "<a id='comment:47'></a>Thanks for the changes! (And sorry for the late relpy!)\nI agree with all of them.\nI made some minor changes in the docstrings.",
    "created_at": "2019-12-28T17:07:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27424#issuecomment-408008",
    "user": "https://github.com/jfraymond"
}
```

<a id='comment:47'></a>Thanks for the changes! (And sorry for the late relpy!)
I agree with all of them.
I made some minor changes in the docstrings.



---

archive/issue_comments_408009.json:
```json
{
    "body": "<a id='comment:48'></a>LGTM.",
    "created_at": "2019-12-29T13:54:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27424#issuecomment-408009",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:48'></a>LGTM.



---

archive/issue_comments_408010.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-12-29T13:54:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27424#issuecomment-408010",
    "user": "https://github.com/dcoudert"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_068118.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-01-01T21:01:32Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "milestone": "sage-9.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27424#event-68118"
}
```



---

archive/issue_events_068119.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-01-01T21:01:32Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27424#event-68119"
}
```



---

archive/issue_comments_408011.json:
```json
{
    "body": "<a id='comment:49'></a>9.0 is out",
    "created_at": "2020-01-01T21:01:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27424#issuecomment-408011",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:49'></a>9.0 is out



---

archive/issue_comments_408012.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-01-05T15:47:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27424#issuecomment-408012",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_068120.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-01-05T15:47:46Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/27424",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27424#event-68120"
}
```
