# Issue 27745: Upgrade: lrslib 071b and polymake 4.4, deprecate PolymakeExpect

archive/issues_027508.json:
```json
{
    "body": "lrslib is now at 071b.\n\n- http://cgm.cs.mcgill.ca/~avis/C/lrs.html\n- http://cgm.cs.mcgill.ca/~avis/C/lrslib/archive/\n- Sage package built from https://github.com/mkoeppe/lrslib\n- To test:\n`make configure && eval ./configure $(./config.status --config) --enable-download-from-upstream-url && make lrslib`\n\npolymake 4.4 tarball: https://polymake.org/lib/exe/fetch.php/download/polymake-4.4-minimal.tar.bz2\n\nPolymake 4.4 was released 2021-05-18, we are several releases behind:\n- https://polymake.org/doku.php/news/release_4_4\n- https://polymake.org/doku.php/news/release_4_3\n- https://polymake.org/doku.php/news/release_4_2\n- https://polymake.org/doku.php/news/release_4_1\n- https://polymake.org/doku.php/news/release_4_0\n- https://polymake.org/doku.php/news/release_3_6\n- https://polymake.org/doku.php/news/release_3_5, \n\nFor updated instructions regarding the Perl prerequisites, see #31830. Let's keep that a separate ticket.\n\n**CC:**  @slel @yuan-zhou @kliem @videlec @kiwifb @dimpase simonking\n\n**Keywords:** upgrade, lrslib\n\n**Branch/Commit:** [ff69f289872cc47f28ddc980344d3c34913e1328](https://github.com/sagemath/sagetrac-mirror/commit/ff69f289872cc47f28ddc980344d3c34913e1328)\n\n**Reviewer:** Thierry Monteil, Matthias Koeppe, Travis Scrimshaw\n\n**Author:** Matthias Koeppe, Jonathan Kliem, Travis Scrimshaw\n\nIssue created by migration from https://trac.sagemath.org/ticket/27745\n\n",
    "closed_at": "2021-07-23T20:11:59Z",
    "created_at": "2019-04-29T08:11:05Z",
    "labels": [
        "component: packages: optional",
        "critical",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.4",
    "title": "Upgrade: lrslib 071b and polymake 4.4, deprecate PolymakeExpect",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/27745",
    "user": "https://github.com/mkoeppe"
}
```
lrslib is now at 071b.

- http://cgm.cs.mcgill.ca/~avis/C/lrs.html
- http://cgm.cs.mcgill.ca/~avis/C/lrslib/archive/
- Sage package built from https://github.com/mkoeppe/lrslib
- To test:
`make configure && eval ./configure $(./config.status --config) --enable-download-from-upstream-url && make lrslib`

polymake 4.4 tarball: https://polymake.org/lib/exe/fetch.php/download/polymake-4.4-minimal.tar.bz2

Polymake 4.4 was released 2021-05-18, we are several releases behind:
- https://polymake.org/doku.php/news/release_4_4
- https://polymake.org/doku.php/news/release_4_3
- https://polymake.org/doku.php/news/release_4_2
- https://polymake.org/doku.php/news/release_4_1
- https://polymake.org/doku.php/news/release_4_0
- https://polymake.org/doku.php/news/release_3_6
- https://polymake.org/doku.php/news/release_3_5, 

For updated instructions regarding the Perl prerequisites, see #31830. Let's keep that a separate ticket.

**CC:**  @slel @yuan-zhou @kliem @videlec @kiwifb @dimpase simonking

**Keywords:** upgrade, lrslib

**Branch/Commit:** [ff69f289872cc47f28ddc980344d3c34913e1328](https://github.com/sagemath/sagetrac-mirror/commit/ff69f289872cc47f28ddc980344d3c34913e1328)

**Reviewer:** Thierry Monteil, Matthias Koeppe, Travis Scrimshaw

**Author:** Matthias Koeppe, Jonathan Kliem, Travis Scrimshaw

Issue created by migration from https://trac.sagemath.org/ticket/27745





---

archive/issue_comments_511584.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,5 @@\n+http://cgm.cs.mcgill.ca/~avis/C/lrs.html\n \n+http://cgm.cs.mcgill.ca/~avis/C/lrslib/archive/lrslib-070.tar.gz\n+\n+Sage package built from https://github.com/mkoeppe/lrslib (not updated yet).\n``````\n",
    "created_at": "2019-04-29T08:15:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511584",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,5 @@
+http://cgm.cs.mcgill.ca/~avis/C/lrs.html
 
+http://cgm.cs.mcgill.ca/~avis/C/lrslib/archive/lrslib-070.tar.gz
+
+Sage package built from https://github.com/mkoeppe/lrslib (not updated yet).
``````




---

archive/issue_comments_511585.json:
```json
{
    "body": "<a id='comment:2'></a>\nAs the Sage-8.8 release milestone is pending, we should delete the sage-8.8 milestone for tickets that are not actively being worked on or that still require significant work to move forward.  If you feel that this ticket should be included in the next Sage release at the soonest please set its milestone to the next release milestone (sage-8.9).",
    "created_at": "2019-06-14T14:55:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511585",
    "user": "https://github.com/embray"
}
```

<a id='comment:2'></a>
As the Sage-8.8 release milestone is pending, we should delete the sage-8.8 milestone for tickets that are not actively being worked on or that still require significant work to move forward.  If you feel that this ticket should be included in the next Sage release at the soonest please set its milestone to the next release milestone (sage-8.9).



---

archive/issue_events_078310.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-01T18:16:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27745#event-78310"
}
```



---

archive/issue_comments_511586.json:
```json
{
    "body": "<a id='comment:3'></a>\nMoving some tickets to 9.2. This is not a promise that I will be working on them.",
    "created_at": "2020-05-01T18:16:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511586",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:3'></a>
Moving some tickets to 9.2. This is not a promise that I will be working on them.



---

archive/issue_comments_511587.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,5 +1,5 @@\n http://cgm.cs.mcgill.ca/~avis/C/lrs.html\n \n-http://cgm.cs.mcgill.ca/~avis/C/lrslib/archive/lrslib-070.tar.gz\n+http://cgm.cs.mcgill.ca/~avis/C/lrslib/archive/lrslib-071.tar.gz\n \n Sage package built from https://github.com/mkoeppe/lrslib (not updated yet).\n``````\n",
    "created_at": "2020-08-19T21:25:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511587",
    "user": "https://github.com/slel"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,5 +1,5 @@
 http://cgm.cs.mcgill.ca/~avis/C/lrs.html
 
-http://cgm.cs.mcgill.ca/~avis/C/lrslib/archive/lrslib-070.tar.gz
+http://cgm.cs.mcgill.ca/~avis/C/lrslib/archive/lrslib-071.tar.gz
 
 Sage package built from https://github.com/mkoeppe/lrslib (not updated yet).
``````




---

archive/issue_events_078311.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "rename": {
        "from": "Upgrade lrslib to 7.0",
        "to": "Upgrade: lrslib 7.1"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27745#event-78311"
}
```



---

archive/issue_comments_511588.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"upgrade, lrslib\".",
    "created_at": "2020-08-19T21:25:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511588",
    "user": "https://github.com/slel"
}
```

**Changing keywords** from "" to "upgrade, lrslib".



---

archive/issue_events_078312.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-05T19:21:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27745#event-78312"
}
```



---

archive/issue_events_078313.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-05T19:21:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27745#event-78313"
}
```



---

archive/issue_events_078314.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-24T02:04:25Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27745#event-78314"
}
```



---

archive/issue_events_078315.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-24T02:04:25Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27745#event-78315"
}
```



---

archive/issue_comments_511589.json:
```json
{
    "body": "<a id='comment:6'></a>\nSage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-03-24T02:04:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511589",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:6'></a>
Sage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_events_078316.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "rename": {
        "from": "Upgrade: lrslib 7.1",
        "to": "Upgrade: lrslib 071a"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27745#event-78316"
}
```



---

archive/issue_comments_511590.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,5 +1,6 @@\n http://cgm.cs.mcgill.ca/~avis/C/lrs.html\n \n-http://cgm.cs.mcgill.ca/~avis/C/lrslib/archive/lrslib-071.tar.gz\n+http://cgm.cs.mcgill.ca/~avis/C/lrslib/archive/lrslib-071a.tar.gz\n \n Sage package built from https://github.com/mkoeppe/lrslib (not updated yet).\n+\n``````\n",
    "created_at": "2021-05-17T18:03:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511590",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,5 +1,6 @@
 http://cgm.cs.mcgill.ca/~avis/C/lrs.html
 
-http://cgm.cs.mcgill.ca/~avis/C/lrslib/archive/lrslib-071.tar.gz
+http://cgm.cs.mcgill.ca/~avis/C/lrslib/archive/lrslib-071a.tar.gz
 
 Sage package built from https://github.com/mkoeppe/lrslib (not updated yet).
+
``````




---

archive/issue_comments_511591.json:
```json
{
    "body": "**Branch:** [u/mkoeppe/upgrade__lrslib_071a](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/upgrade__lrslib_071a)",
    "created_at": "2021-05-17T20:07:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511591",
    "user": "https://github.com/mkoeppe"
}
```

**Branch:** [u/mkoeppe/upgrade__lrslib_071a](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/upgrade__lrslib_071a)



---

archive/issue_comments_511592.json:
```json
{
    "body": "**Commit:** [6f3480194c8fd7cab195369cecf0913729e535be](https://github.com/sagemath/sagetrac-mirror/commit/6f3480194c8fd7cab195369cecf0913729e535be)",
    "created_at": "2021-05-17T20:08:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511592",
    "user": "https://github.com/mkoeppe"
}
```

**Commit:** [6f3480194c8fd7cab195369cecf0913729e535be](https://github.com/sagemath/sagetrac-mirror/commit/6f3480194c8fd7cab195369cecf0913729e535be)



---

archive/issue_comments_511593.json:
```json
{
    "body": "**Author:** Matthias Koeppe",
    "created_at": "2021-05-17T20:08:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511593",
    "user": "https://github.com/mkoeppe"
}
```

**Author:** Matthias Koeppe



---

archive/issue_comments_511594.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2021-05-17T20:08:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511594",
    "user": "https://github.com/mkoeppe"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_511595.json:
```json
{
    "body": "<a id='comment:9'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6f3480194c8fd7cab195369cecf0913729e535be\">6f34801</a></td><td><code>build/pkgs/lrslib: Update lrslib to 071a+autotools-2021-05-17</code></td></tr></table>\n",
    "created_at": "2021-05-17T20:08:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511595",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:9'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6f3480194c8fd7cab195369cecf0913729e535be">6f34801</a></td><td><code>build/pkgs/lrslib: Update lrslib to 071a+autotools-2021-05-17</code></td></tr></table>




---

archive/issue_comments_511596.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -4,3 +4,5 @@\n \n Sage package built from https://github.com/mkoeppe/lrslib (not updated yet).\n \n+To test:\n+`make configure && eval ./configure $(./config.status --config) --enable-download-from-upstream-url && make lrslib`\n``````\n",
    "created_at": "2021-05-17T20:10:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511596",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -4,3 +4,5 @@
 
 Sage package built from https://github.com/mkoeppe/lrslib (not updated yet).
 
+To test:
+`make configure && eval ./configure $(./config.status --config) --enable-download-from-upstream-url && make lrslib`
``````




---

archive/issue_comments_511597.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2021-05-17T20:14:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511597",
    "user": "https://github.com/mkoeppe"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_511598.json:
```json
{
    "body": "<a id='comment:11'></a>\nVarious failures in `./sage -tp src/sage/game_theory/`, needs work",
    "created_at": "2021-05-17T20:14:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511598",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:11'></a>
Various failures in `./sage -tp src/sage/game_theory/`, needs work



---

archive/issue_comments_511599.json:
```json
{
    "body": "<a id='comment:12'></a>\nDoes anyone already have patches to support lrslib 071a in the Sage library?",
    "created_at": "2021-05-17T20:20:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511599",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:12'></a>
Does anyone already have patches to support lrslib 071a in the Sage library?



---

archive/issue_comments_511600.json:
```json
{
    "body": "<a id='comment:13'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a6ba76004206a0dd82fb90a286b3566c5aa13fb5\">a6ba760</a></td><td><code>build/pkgs/lrslib/spkg-install.in: Remove LRS_QUIET - in 071a, it makes the output unusable</code></td></tr></table>\n",
    "created_at": "2021-05-17T20:34:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511600",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a6ba76004206a0dd82fb90a286b3566c5aa13fb5">a6ba760</a></td><td><code>build/pkgs/lrslib/spkg-install.in: Remove LRS_QUIET - in 071a, it makes the output unusable</code></td></tr></table>




---

archive/issue_comments_511601.json:
```json
{
    "body": "**Changing commit** from \"[6f3480194c8fd7cab195369cecf0913729e535be](https://github.com/sagemath/sagetrac-mirror/commit/6f3480194c8fd7cab195369cecf0913729e535be)\" to \"[a6ba76004206a0dd82fb90a286b3566c5aa13fb5](https://github.com/sagemath/sagetrac-mirror/commit/a6ba76004206a0dd82fb90a286b3566c5aa13fb5)\".",
    "created_at": "2021-05-17T20:34:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511601",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[6f3480194c8fd7cab195369cecf0913729e535be](https://github.com/sagemath/sagetrac-mirror/commit/6f3480194c8fd7cab195369cecf0913729e535be)" to "[a6ba76004206a0dd82fb90a286b3566c5aa13fb5](https://github.com/sagemath/sagetrac-mirror/commit/a6ba76004206a0dd82fb90a286b3566c5aa13fb5)".



---

archive/issue_comments_511602.json:
```json
{
    "body": "<a id='comment:14'></a>\nThis is better, but the rather shocking lrs format parser in `src/sage/game_theory/parser.py` will need fixing",
    "created_at": "2021-05-17T20:38:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511602",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:14'></a>
This is better, but the rather shocking lrs format parser in `src/sage/game_theory/parser.py` will need fixing



---

archive/issue_comments_511603.json:
```json
{
    "body": "**Changing commit** from \"[a6ba76004206a0dd82fb90a286b3566c5aa13fb5](https://github.com/sagemath/sagetrac-mirror/commit/a6ba76004206a0dd82fb90a286b3566c5aa13fb5)\" to \"[d1bbfe466512e5d98dd7961adfcda5918d530b30](https://github.com/sagemath/sagetrac-mirror/commit/d1bbfe466512e5d98dd7961adfcda5918d530b30)\".",
    "created_at": "2021-05-17T20:56:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511603",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[a6ba76004206a0dd82fb90a286b3566c5aa13fb5](https://github.com/sagemath/sagetrac-mirror/commit/a6ba76004206a0dd82fb90a286b3566c5aa13fb5)" to "[d1bbfe466512e5d98dd7961adfcda5918d530b30](https://github.com/sagemath/sagetrac-mirror/commit/d1bbfe466512e5d98dd7961adfcda5918d530b30)".



---

archive/issue_comments_511604.json:
```json
{
    "body": "<a id='comment:15'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d1bbfe466512e5d98dd7961adfcda5918d530b30\">d1bbfe4</a></td><td><code>src/sage/features/lrs.py: Accept output from lrslib 071a</code></td></tr></table>\n",
    "created_at": "2021-05-17T20:56:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511604",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d1bbfe466512e5d98dd7961adfcda5918d530b30">d1bbfe4</a></td><td><code>src/sage/features/lrs.py: Accept output from lrslib 071a</code></td></tr></table>




---

archive/issue_comments_511605.json:
```json
{
    "body": "**Changing commit** from \"[d1bbfe466512e5d98dd7961adfcda5918d530b30](https://github.com/sagemath/sagetrac-mirror/commit/d1bbfe466512e5d98dd7961adfcda5918d530b30)\" to \"[5d256d5832875c04fb8d1f3044e352a1620c379e](https://github.com/sagemath/sagetrac-mirror/commit/5d256d5832875c04fb8d1f3044e352a1620c379e)\".",
    "created_at": "2021-05-17T23:14:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511605",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[d1bbfe466512e5d98dd7961adfcda5918d530b30](https://github.com/sagemath/sagetrac-mirror/commit/d1bbfe466512e5d98dd7961adfcda5918d530b30)" to "[5d256d5832875c04fb8d1f3044e352a1620c379e](https://github.com/sagemath/sagetrac-mirror/commit/5d256d5832875c04fb8d1f3044e352a1620c379e)".



---

archive/issue_comments_511606.json:
```json
{
    "body": "<a id='comment:16'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5d256d5832875c04fb8d1f3044e352a1620c379e\">5d256d5</a></td><td><code>src/sage/game_theory/parser.py: Make the parser accept lrslib-072a output</code></td></tr></table>\n",
    "created_at": "2021-05-17T23:14:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511606",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5d256d5832875c04fb8d1f3044e352a1620c379e">5d256d5</a></td><td><code>src/sage/game_theory/parser.py: Make the parser accept lrslib-072a output</code></td></tr></table>




---

archive/issue_comments_511607.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2021-05-17T23:14:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511607",
    "user": "https://github.com/mkoeppe"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_511608.json:
```json
{
    "body": "**Dependencies:** #28435",
    "created_at": "2021-05-18T01:12:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511608",
    "user": "https://github.com/mkoeppe"
}
```

**Dependencies:** #28435



---

archive/issue_comments_511609.json:
```json
{
    "body": "<a id='comment:19'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d09bb906aea4e9e0d01546225a8d15d51fed2865\">d09bb90</a></td><td><code>build/pkgs/polymake: Update to 4.3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/70c112de9af75ab9173cb22bf4e832a3e695c8c7\">70c112d</a></td><td><code>build/pkgs/polymake/patches/: Remove</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6a15c981b65231c0f6ebce76470dff311f4933c7\">6a15c98</a></td><td><code>Merge #28435</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5161de92b46fbf9bed4db768ec5bb99f637a9b0d\">5161de9</a></td><td><code>build/pkgs/lrslib: Use lrslib-071a+autotools-2021-05-17a</code></td></tr></table>\n",
    "created_at": "2021-05-18T01:23:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511609",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d09bb906aea4e9e0d01546225a8d15d51fed2865">d09bb90</a></td><td><code>build/pkgs/polymake: Update to 4.3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/70c112de9af75ab9173cb22bf4e832a3e695c8c7">70c112d</a></td><td><code>build/pkgs/polymake/patches/: Remove</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6a15c981b65231c0f6ebce76470dff311f4933c7">6a15c98</a></td><td><code>Merge #28435</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5161de92b46fbf9bed4db768ec5bb99f637a9b0d">5161de9</a></td><td><code>build/pkgs/lrslib: Use lrslib-071a+autotools-2021-05-17a</code></td></tr></table>




---

archive/issue_comments_511610.json:
```json
{
    "body": "**Changing commit** from \"[5d256d5832875c04fb8d1f3044e352a1620c379e](https://github.com/sagemath/sagetrac-mirror/commit/5d256d5832875c04fb8d1f3044e352a1620c379e)\" to \"[5161de92b46fbf9bed4db768ec5bb99f637a9b0d](https://github.com/sagemath/sagetrac-mirror/commit/5161de92b46fbf9bed4db768ec5bb99f637a9b0d)\".",
    "created_at": "2021-05-18T01:23:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511610",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[5d256d5832875c04fb8d1f3044e352a1620c379e](https://github.com/sagemath/sagetrac-mirror/commit/5d256d5832875c04fb8d1f3044e352a1620c379e)" to "[5161de92b46fbf9bed4db768ec5bb99f637a9b0d](https://github.com/sagemath/sagetrac-mirror/commit/5161de92b46fbf9bed4db768ec5bb99f637a9b0d)".



---

archive/issue_comments_511611.json:
```json
{
    "body": "<a id='comment:20'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/29a2e12b9bd782e4e05813145d7e4ec52b4ed47a\">29a2e12</a></td><td><code>build/pkgs/lrslib: Use lrslib-071a+autotools-2021-05-17b</code></td></tr></table>\n",
    "created_at": "2021-05-18T01:40:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511611",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/29a2e12b9bd782e4e05813145d7e4ec52b4ed47a">29a2e12</a></td><td><code>build/pkgs/lrslib: Use lrslib-071a+autotools-2021-05-17b</code></td></tr></table>




---

archive/issue_comments_511612.json:
```json
{
    "body": "**Changing commit** from \"[5161de92b46fbf9bed4db768ec5bb99f637a9b0d](https://github.com/sagemath/sagetrac-mirror/commit/5161de92b46fbf9bed4db768ec5bb99f637a9b0d)\" to \"[29a2e12b9bd782e4e05813145d7e4ec52b4ed47a](https://github.com/sagemath/sagetrac-mirror/commit/29a2e12b9bd782e4e05813145d7e4ec52b4ed47a)\".",
    "created_at": "2021-05-18T01:40:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511612",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[5161de92b46fbf9bed4db768ec5bb99f637a9b0d](https://github.com/sagemath/sagetrac-mirror/commit/5161de92b46fbf9bed4db768ec5bb99f637a9b0d)" to "[29a2e12b9bd782e4e05813145d7e4ec52b4ed47a](https://github.com/sagemath/sagetrac-mirror/commit/29a2e12b9bd782e4e05813145d7e4ec52b4ed47a)".



---

archive/issue_comments_511613.json:
```json
{
    "body": "<a id='comment:21'></a>\nShould #28435 be dependent on this ticket, not the other way around?",
    "created_at": "2021-05-18T16:21:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511613",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:21'></a>
Should #28435 be dependent on this ticket, not the other way around?



---

archive/issue_comments_511614.json:
```json
{
    "body": "**Changing dependencies** from \"#28435\" to \"\".",
    "created_at": "2021-05-18T16:26:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511614",
    "user": "https://github.com/dimpase"
}
```

**Changing dependencies** from "#28435" to "".



---

archive/issue_comments_511615.json:
```json
{
    "body": "**Dependencies:** #28435",
    "created_at": "2021-05-18T16:39:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511615",
    "user": "https://github.com/mkoeppe"
}
```

**Dependencies:** #28435



---

archive/issue_events_078317.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "rename": {
        "from": "Upgrade: lrslib 071a",
        "to": "Upgrade: lrslib 071a and polymake 4.3"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27745#event-78317"
}
```



---

archive/issue_comments_511616.json:
```json
{
    "body": "**Changing dependencies** from \"#28435\" to \"\".",
    "created_at": "2021-05-18T16:41:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511616",
    "user": "https://github.com/mkoeppe"
}
```

**Changing dependencies** from "#28435" to "".



---

archive/issue_comments_511617.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,8 +1,17 @@\n-http://cgm.cs.mcgill.ca/~avis/C/lrs.html\n+lrslib is now at 071a.\n \n-http://cgm.cs.mcgill.ca/~avis/C/lrslib/archive/lrslib-071a.tar.gz\n+- http://cgm.cs.mcgill.ca/~avis/C/lrs.html\n+- http://cgm.cs.mcgill.ca/~avis/C/lrslib/archive/\n+- Sage package built from https://github.com/mkoeppe/lrslib\n+- To test:\n+`make configure && eval ./configure $(./config.status --config) --enable-download-from-upstream-url && make lrslib`\n \n-Sage package built from https://github.com/mkoeppe/lrslib (not updated yet).\n+Polymake 4.3 was released Dec 2020, we are several releases behind:\n+- https://polymake.org/doku.php/news/release_4_3\n+- https://polymake.org/doku.php/news/release_4_2\n+- https://polymake.org/doku.php/news/release_4_1\n+- https://polymake.org/doku.php/news/release_4_0\n+- https://polymake.org/doku.php/news/release_3_6\n+- https://polymake.org/doku.php/news/release_3_5, \n \n-To test:\n-`make configure && eval ./configure $(./config.status --config) --enable-download-from-upstream-url && make lrslib`\n+For updated instructions regarding the Perl prerequisites, see #31830. Let's keep that a separate ticket.\n``````\n",
    "created_at": "2021-05-18T16:44:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511617",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,8 +1,17 @@
-http://cgm.cs.mcgill.ca/~avis/C/lrs.html
+lrslib is now at 071a.
 
-http://cgm.cs.mcgill.ca/~avis/C/lrslib/archive/lrslib-071a.tar.gz
+- http://cgm.cs.mcgill.ca/~avis/C/lrs.html
+- http://cgm.cs.mcgill.ca/~avis/C/lrslib/archive/
+- Sage package built from https://github.com/mkoeppe/lrslib
+- To test:
+`make configure && eval ./configure $(./config.status --config) --enable-download-from-upstream-url && make lrslib`
 
-Sage package built from https://github.com/mkoeppe/lrslib (not updated yet).
+Polymake 4.3 was released Dec 2020, we are several releases behind:
+- https://polymake.org/doku.php/news/release_4_3
+- https://polymake.org/doku.php/news/release_4_2
+- https://polymake.org/doku.php/news/release_4_1
+- https://polymake.org/doku.php/news/release_4_0
+- https://polymake.org/doku.php/news/release_3_6
+- https://polymake.org/doku.php/news/release_3_5, 
 
-To test:
-`make configure && eval ./configure $(./config.status --config) --enable-download-from-upstream-url && make lrslib`
+For updated instructions regarding the Perl prerequisites, see #31830. Let's keep that a separate ticket.
``````




---

archive/issue_comments_511618.json:
```json
{
    "body": "<a id='comment:27'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bc664901244ae2f9e524c18e672c6635b4f975d4\">bc66490</a></td><td><code>build/pkgs/libxml2/spkg-install: Make it executable</code></td></tr></table>\n",
    "created_at": "2021-05-18T16:45:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511618",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:27'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bc664901244ae2f9e524c18e672c6635b4f975d4">bc66490</a></td><td><code>build/pkgs/libxml2/spkg-install: Make it executable</code></td></tr></table>




---

archive/issue_comments_511619.json:
```json
{
    "body": "**Changing commit** from \"[29a2e12b9bd782e4e05813145d7e4ec52b4ed47a](https://github.com/sagemath/sagetrac-mirror/commit/29a2e12b9bd782e4e05813145d7e4ec52b4ed47a)\" to \"[bc664901244ae2f9e524c18e672c6635b4f975d4](https://github.com/sagemath/sagetrac-mirror/commit/bc664901244ae2f9e524c18e672c6635b4f975d4)\".",
    "created_at": "2021-05-18T16:45:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511619",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[29a2e12b9bd782e4e05813145d7e4ec52b4ed47a](https://github.com/sagemath/sagetrac-mirror/commit/29a2e12b9bd782e4e05813145d7e4ec52b4ed47a)" to "[bc664901244ae2f9e524c18e672c6635b4f975d4](https://github.com/sagemath/sagetrac-mirror/commit/bc664901244ae2f9e524c18e672c6635b4f975d4)".



---

archive/issue_comments_511620.json:
```json
{
    "body": "<a id='comment:28'></a>\nFYI polymake 4.4 was just released",
    "created_at": "2021-05-18T16:45:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511620",
    "user": "https://github.com/antonio-rojas"
}
```

<a id='comment:28'></a>
FYI polymake 4.4 was just released



---

archive/issue_comments_511621.json:
```json
{
    "body": "<a id='comment:29'></a>\nshould we do a bump to 4.4 here now?",
    "created_at": "2021-05-18T16:49:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511621",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:29'></a>
should we do a bump to 4.4 here now?



---

archive/issue_comments_511622.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -6,7 +6,8 @@\n - To test:\n `make configure && eval ./configure $(./config.status --config) --enable-download-from-upstream-url && make lrslib`\n \n-Polymake 4.3 was released Dec 2020, we are several releases behind:\n+Polymake 4.4 was released 2021-05-18, we are several releases behind:\n+- https://polymake.org/doku.php/news/release_4_4\n - https://polymake.org/doku.php/news/release_4_3\n - https://polymake.org/doku.php/news/release_4_2\n - https://polymake.org/doku.php/news/release_4_1\n``````\n",
    "created_at": "2021-05-18T16:55:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511622",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -6,7 +6,8 @@
 - To test:
 `make configure && eval ./configure $(./config.status --config) --enable-download-from-upstream-url && make lrslib`
 
-Polymake 4.3 was released Dec 2020, we are several releases behind:
+Polymake 4.4 was released 2021-05-18, we are several releases behind:
+- https://polymake.org/doku.php/news/release_4_4
 - https://polymake.org/doku.php/news/release_4_3
 - https://polymake.org/doku.php/news/release_4_2
 - https://polymake.org/doku.php/news/release_4_1
``````




---

archive/issue_events_078318.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "rename": {
        "from": "Upgrade: lrslib 071a and polymake 4.3",
        "to": "Upgrade: lrslib 071a and polymake 4.4"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27745#event-78318"
}
```



---

archive/issue_comments_511623.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2021-05-18T16:55:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511623",
    "user": "https://github.com/mkoeppe"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_511624.json:
```json
{
    "body": "**Changing commit** from \"[bc664901244ae2f9e524c18e672c6635b4f975d4](https://github.com/sagemath/sagetrac-mirror/commit/bc664901244ae2f9e524c18e672c6635b4f975d4)\" to \"[3456c2c2f2bea87c89a800c6f3884f70c9a70d0b](https://github.com/sagemath/sagetrac-mirror/commit/3456c2c2f2bea87c89a800c6f3884f70c9a70d0b)\".",
    "created_at": "2021-05-18T16:57:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511624",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[bc664901244ae2f9e524c18e672c6635b4f975d4](https://github.com/sagemath/sagetrac-mirror/commit/bc664901244ae2f9e524c18e672c6635b4f975d4)" to "[3456c2c2f2bea87c89a800c6f3884f70c9a70d0b](https://github.com/sagemath/sagetrac-mirror/commit/3456c2c2f2bea87c89a800c6f3884f70c9a70d0b)".



---

archive/issue_comments_511625.json:
```json
{
    "body": "<a id='comment:32'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3456c2c2f2bea87c89a800c6f3884f70c9a70d0b\">3456c2c</a></td><td><code>build/pkgs/polymake: Update to 4.4</code></td></tr></table>\n",
    "created_at": "2021-05-18T16:57:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511625",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:32'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3456c2c2f2bea87c89a800c6f3884f70c9a70d0b">3456c2c</a></td><td><code>build/pkgs/polymake: Update to 4.4</code></td></tr></table>




---

archive/issue_comments_511626.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2021-05-18T18:22:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511626",
    "user": "https://github.com/mkoeppe"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_511627.json:
```json
{
    "body": "<a id='comment:34'></a>\ntested on macOS Catalina only",
    "created_at": "2021-05-18T18:41:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511627",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:34'></a>
tested on macOS Catalina only



---

archive/issue_comments_511628.json:
```json
{
    "body": "<a id='comment:35'></a>\n`lrslib` does not compile on my Debian buster x86_64, see the attached log.",
    "created_at": "2021-05-18T20:03:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511628",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:35'></a>
`lrslib` does not compile on my Debian buster x86_64, see the attached log.



---

archive/issue_comments_511629.json:
```json
{
    "body": "**Reviewer:** Thierry Monteil",
    "created_at": "2021-05-18T20:03:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511629",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

**Reviewer:** Thierry Monteil



---

archive/issue_comments_511630.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2021-05-18T20:03:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511630",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

**Changing status** from needs_review to needs_work.



---

archive/attachments_021197.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "lrslib-071a+autotools-2021-05-17b.log",
    "asset_url": "tarball://root/attachments/some-uuid/ticket27745/lrslib-071a+autotools-2021-05-17b.log",
    "created_at": "2021-05-18T20:04:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.log",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```



---

archive/issue_comments_511631.json:
```json
{
    "body": "",
    "created_at": "2021-05-18T20:04:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511631",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```





---

archive/issue_comments_511632.json:
```json
{
    "body": "<a id='comment:36'></a>\nit build for me on Fedora.\nSomething is not right with openmpi in your log.",
    "created_at": "2021-05-18T20:16:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511632",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:36'></a>
it build for me on Fedora.
Something is not right with openmpi in your log.



---

archive/issue_comments_511633.json:
```json
{
    "body": "<a id='comment:37'></a>\nI haven't tested at all with openmpi yet -- PRs are welcome",
    "created_at": "2021-05-18T20:34:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511633",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:37'></a>
I haven't tested at all with openmpi yet -- PRs are welcome



---

archive/issue_comments_511634.json:
```json
{
    "body": "<a id='comment:38'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/720c62472b69367754979ae346fe7690508342f6\">720c624</a></td><td><code>build/pkgs/lrslib: Use 071a+autotools-2021-05-18</code></td></tr></table>\n",
    "created_at": "2021-05-18T23:19:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511634",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:38'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/720c62472b69367754979ae346fe7690508342f6">720c624</a></td><td><code>build/pkgs/lrslib: Use 071a+autotools-2021-05-18</code></td></tr></table>




---

archive/issue_comments_511635.json:
```json
{
    "body": "**Changing commit** from \"[3456c2c2f2bea87c89a800c6f3884f70c9a70d0b](https://github.com/sagemath/sagetrac-mirror/commit/3456c2c2f2bea87c89a800c6f3884f70c9a70d0b)\" to \"[720c62472b69367754979ae346fe7690508342f6](https://github.com/sagemath/sagetrac-mirror/commit/720c62472b69367754979ae346fe7690508342f6)\".",
    "created_at": "2021-05-18T23:19:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511635",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[3456c2c2f2bea87c89a800c6f3884f70c9a70d0b](https://github.com/sagemath/sagetrac-mirror/commit/3456c2c2f2bea87c89a800c6f3884f70c9a70d0b)" to "[720c62472b69367754979ae346fe7690508342f6](https://github.com/sagemath/sagetrac-mirror/commit/720c62472b69367754979ae346fe7690508342f6)".



---

archive/issue_comments_511636.json:
```json
{
    "body": "<a id='comment:39'></a>\nOK, mpi is fixed now",
    "created_at": "2021-05-18T23:19:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511636",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:39'></a>
OK, mpi is fixed now



---

archive/issue_comments_511637.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2021-05-18T23:20:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511637",
    "user": "https://github.com/mkoeppe"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_511638.json:
```json
{
    "body": "<a id='comment:41'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3504a7d5b3e83099b166c3f3e8d8ac74cc7875dc\">3504a7d</a></td><td><code>build/pkgs/polymake/spkg-install.in: Pass number of threads to ninja</code></td></tr></table>\n",
    "created_at": "2021-05-19T05:31:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511638",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:41'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3504a7d5b3e83099b166c3f3e8d8ac74cc7875dc">3504a7d</a></td><td><code>build/pkgs/polymake/spkg-install.in: Pass number of threads to ninja</code></td></tr></table>




---

archive/issue_comments_511639.json:
```json
{
    "body": "**Changing commit** from \"[720c62472b69367754979ae346fe7690508342f6](https://github.com/sagemath/sagetrac-mirror/commit/720c62472b69367754979ae346fe7690508342f6)\" to \"[3504a7d5b3e83099b166c3f3e8d8ac74cc7875dc](https://github.com/sagemath/sagetrac-mirror/commit/3504a7d5b3e83099b166c3f3e8d8ac74cc7875dc)\".",
    "created_at": "2021-05-19T05:31:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511639",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[720c62472b69367754979ae346fe7690508342f6](https://github.com/sagemath/sagetrac-mirror/commit/720c62472b69367754979ae346fe7690508342f6)" to "[3504a7d5b3e83099b166c3f3e8d8ac74cc7875dc](https://github.com/sagemath/sagetrac-mirror/commit/3504a7d5b3e83099b166c3f3e8d8ac74cc7875dc)".



---

archive/issue_comments_511640.json:
```json
{
    "body": "<a id='comment:42'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/06284e94163eb5189ddfc7cfc0ba58f8dc1c716b\">06284e9</a></td><td><code>Fixup</code></td></tr></table>\n",
    "created_at": "2021-05-19T05:43:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511640",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:42'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/06284e94163eb5189ddfc7cfc0ba58f8dc1c716b">06284e9</a></td><td><code>Fixup</code></td></tr></table>




---

archive/issue_comments_511641.json:
```json
{
    "body": "**Changing commit** from \"[3504a7d5b3e83099b166c3f3e8d8ac74cc7875dc](https://github.com/sagemath/sagetrac-mirror/commit/3504a7d5b3e83099b166c3f3e8d8ac74cc7875dc)\" to \"[06284e94163eb5189ddfc7cfc0ba58f8dc1c716b](https://github.com/sagemath/sagetrac-mirror/commit/06284e94163eb5189ddfc7cfc0ba58f8dc1c716b)\".",
    "created_at": "2021-05-19T05:43:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511641",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[3504a7d5b3e83099b166c3f3e8d8ac74cc7875dc](https://github.com/sagemath/sagetrac-mirror/commit/3504a7d5b3e83099b166c3f3e8d8ac74cc7875dc)" to "[06284e94163eb5189ddfc7cfc0ba58f8dc1c716b](https://github.com/sagemath/sagetrac-mirror/commit/06284e94163eb5189ddfc7cfc0ba58f8dc1c716b)".



---

archive/issue_comments_511642.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -5,6 +5,8 @@\n - Sage package built from https://github.com/mkoeppe/lrslib\n - To test:\n `make configure && eval ./configure $(./config.status --config) --enable-download-from-upstream-url && make lrslib`\n+\n+polymake 4.4 tarball: https://polymake.org/lib/exe/fetch.php/download/polymake-4.4-minimal.tar.bz2\n \n Polymake 4.4 was released 2021-05-18, we are several releases behind:\n - https://polymake.org/doku.php/news/release_4_4\n``````\n",
    "created_at": "2021-05-19T06:16:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511642",
    "user": "https://github.com/tscrim"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -5,6 +5,8 @@
 - Sage package built from https://github.com/mkoeppe/lrslib
 - To test:
 `make configure && eval ./configure $(./config.status --config) --enable-download-from-upstream-url && make lrslib`
+
+polymake 4.4 tarball: https://polymake.org/lib/exe/fetch.php/download/polymake-4.4-minimal.tar.bz2
 
 Polymake 4.4 was released 2021-05-18, we are several releases behind:
 - https://polymake.org/doku.php/news/release_4_4
``````




---

archive/issue_comments_511643.json:
```json
{
    "body": "<a id='comment:44'></a>\nThe `lrslib` issue with `openmpi` is fixed (self-tests pass).\n\nIf i do `export MAKE='make -j4'` before running `sage -i -f polymake`, the compilation still eats all my CPU, though `spkg-install.in` relies on `sdh_make`.\n\nAlso, i have 6G free on my machine, and the compilation ends up with a `No space left on device`. How much disk space is required to build and install `polymake` ?",
    "created_at": "2021-05-19T07:57:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511643",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:44'></a>
The `lrslib` issue with `openmpi` is fixed (self-tests pass).

If i do `export MAKE='make -j4'` before running `sage -i -f polymake`, the compilation still eats all my CPU, though `spkg-install.in` relies on `sdh_make`.

Also, i have 6G free on my machine, and the compilation ends up with a `No space left on device`. How much disk space is required to build and install `polymake` ?



---

archive/issue_comments_511644.json:
```json
{
    "body": "<a id='comment:45'></a>\nMatthias linked it to `SAGE_NUM_THREADS`, but it is might indeed be better to link it to what `MAKE` sets. I am letting mine compile with 2 threads right now since 4 still ate through 10+Gb RAM.",
    "created_at": "2021-05-19T08:56:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511644",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:45'></a>
Matthias linked it to `SAGE_NUM_THREADS`, but it is might indeed be better to link it to what `MAKE` sets. I am letting mine compile with 2 threads right now since 4 still ate through 10+Gb RAM.



---

archive/issue_comments_511645.json:
```json
{
    "body": "<a id='comment:46'></a>\nuse `make -j4 polymake`, do not export MAKE. Time is high to drop `sage -i`, it is an extra hassle.",
    "created_at": "2021-05-19T10:16:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511645",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:46'></a>
use `make -j4 polymake`, do not export MAKE. Time is high to drop `sage -i`, it is an extra hassle.



---

archive/issue_comments_511646.json:
```json
{
    "body": "<a id='comment:47'></a>\nReplying to [dimpase](#comment%3A46):\n> use `make -j4 polymake`, do not export MAKE. Time is high to drop `sage -i`, it is an extra hassle.\n\n\nBut then, how to i run self tests ?",
    "created_at": "2021-05-19T10:20:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511646",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:47'></a>
Replying to [dimpase](#comment%3A46):
> use `make -j4 polymake`, do not export MAKE. Time is high to drop `sage -i`, it is an extra hassle.


But then, how to i run self tests ?



---

archive/issue_comments_511647.json:
```json
{
    "body": "<a id='comment:48'></a>\nPolymake is huge, it's about as big as Sage, I think. Go figure.",
    "created_at": "2021-05-19T10:21:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511647",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:48'></a>
Polymake is huge, it's about as big as Sage, I think. Go figure.



---

archive/issue_comments_511648.json:
```json
{
    "body": "<a id='comment:49'></a>\nReplying to [tmonteil](#comment%3A47):\n> Replying to [dimpase](#comment%3A46):\n> > use `make -j4 polymake`, do not export MAKE. Time is high to drop `sage -i`, it is an extra hassle.\n\n> \n> But then, how to i run self tests ?\n\n`SAGE_CHECK=yes make -j4 polymake`",
    "created_at": "2021-05-19T10:24:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511648",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:49'></a>
Replying to [tmonteil](#comment%3A47):
> Replying to [dimpase](#comment%3A46):
> > use `make -j4 polymake`, do not export MAKE. Time is high to drop `sage -i`, it is an extra hassle.

> 
> But then, how to i run self tests ?

`SAGE_CHECK=yes make -j4 polymake`



---

archive/issue_comments_511649.json:
```json
{
    "body": "<a id='comment:50'></a>\nHow do I link perl after having installed it with\n\n`cpan -i XML::Writer XML::LibXML XML::LibXSLT File::Slurp Term::ReadLine::Gnu JSON SVG MongoDB`?\n\nI'm on a debian buster and don't know how to install polymake into sage.",
    "created_at": "2021-05-19T14:55:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511649",
    "user": "https://github.com/kliem"
}
```

<a id='comment:50'></a>
How do I link perl after having installed it with

`cpan -i XML::Writer XML::LibXML XML::LibXSLT File::Slurp Term::ReadLine::Gnu JSON SVG MongoDB`?

I'm on a debian buster and don't know how to install polymake into sage.



---

archive/issue_comments_511650.json:
```json
{
    "body": "<a id='comment:51'></a>\nReplying to [tscrim](#comment%3A45):\n> Matthias linked it to `SAGE_NUM_THREADS`, but it is might indeed be better to link it to what `MAKE` sets.\n\n\nDuring build, `SAGE_NUM_THREADS` is actually initialized from the MAKE setting.\nSee `build/bin/sage-build-num-threads` and `build/make/install`.",
    "created_at": "2021-05-19T15:09:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511650",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:51'></a>
Replying to [tscrim](#comment%3A45):
> Matthias linked it to `SAGE_NUM_THREADS`, but it is might indeed be better to link it to what `MAKE` sets.


During build, `SAGE_NUM_THREADS` is actually initialized from the MAKE setting.
See `build/bin/sage-build-num-threads` and `build/make/install`.



---

archive/issue_comments_511651.json:
```json
{
    "body": "<a id='comment:52'></a>\nReplying to [gh-kliem](#comment%3A50):\n> How do I link perl after having installed it with\n> \n> `cpan -i XML::Writer XML::LibXML XML::LibXSLT File::Slurp Term::ReadLine::Gnu JSON SVG MongoDB`?\n> \n> I'm on a debian buster and don't know how to install polymake into sage.\n\n\nOn Debian, you can just install the prerequisite packages listed in `build/pkgs/perl_cpan_polymake_prereq/distros/debian.txt`",
    "created_at": "2021-05-19T15:10:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511651",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:52'></a>
Replying to [gh-kliem](#comment%3A50):
> How do I link perl after having installed it with
> 
> `cpan -i XML::Writer XML::LibXML XML::LibXSLT File::Slurp Term::ReadLine::Gnu JSON SVG MongoDB`?
> 
> I'm on a debian buster and don't know how to install polymake into sage.


On Debian, you can just install the prerequisite packages listed in `build/pkgs/perl_cpan_polymake_prereq/distros/debian.txt`



---

archive/issue_comments_511652.json:
```json
{
    "body": "<a id='comment:53'></a>\nReplying to [dimpase](#comment%3A46):\n> use `make -j4 polymake`, do not export MAKE. Time is high to drop `sage -i`, it is an extra hassle.\n\n\nThe correct way to install an optional package is, of course,\n\n```\neval ./configure $(./config.status --config) --enable-jupymake && make build\n```",
    "created_at": "2021-05-19T15:12:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511652",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:53'></a>
Replying to [dimpase](#comment%3A46):
> use `make -j4 polymake`, do not export MAKE. Time is high to drop `sage -i`, it is an extra hassle.


The correct way to install an optional package is, of course,

```
eval ./configure $(./config.status --config) --enable-jupymake && make build
```



---

archive/issue_comments_511653.json:
```json
{
    "body": "<a id='comment:54'></a>\nReplying to [mkoeppe](#comment%3A52):\n> Replying to [gh-kliem](#comment%3A50):\n> > How do I link perl after having installed it with\n> > \n> > `cpan -i XML::Writer XML::LibXML XML::LibXSLT File::Slurp Term::ReadLine::Gnu JSON SVG MongoDB`?\n> > \n> > I'm on a debian buster and don't know how to install polymake into sage.\n\n> \n> On Debian, you can just install the prerequisite packages listed in `build/pkgs/perl_cpan_polymake_prereq/distros/debian.txt`\n\n\nThanks. Well that requires root access, but I guess we have a nice IT so they'll do it.\n\nThat sage itself can be just installed without root access is a wonderful thing... (But they also have installed the generated list of recommended packages for me, which makes things a lot faster.)",
    "created_at": "2021-05-19T19:33:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511653",
    "user": "https://github.com/kliem"
}
```

<a id='comment:54'></a>
Replying to [mkoeppe](#comment%3A52):
> Replying to [gh-kliem](#comment%3A50):
> > How do I link perl after having installed it with
> > 
> > `cpan -i XML::Writer XML::LibXML XML::LibXSLT File::Slurp Term::ReadLine::Gnu JSON SVG MongoDB`?
> > 
> > I'm on a debian buster and don't know how to install polymake into sage.

> 
> On Debian, you can just install the prerequisite packages listed in `build/pkgs/perl_cpan_polymake_prereq/distros/debian.txt`


Thanks. Well that requires root access, but I guess we have a nice IT so they'll do it.

That sage itself can be just installed without root access is a wonderful thing... (But they also have installed the generated list of recommended packages for me, which makes things a lot faster.)



---

archive/issue_comments_511654.json:
```json
{
    "body": "**Changing commit** from \"[06284e94163eb5189ddfc7cfc0ba58f8dc1c716b](https://github.com/sagemath/sagetrac-mirror/commit/06284e94163eb5189ddfc7cfc0ba58f8dc1c716b)\" to \"[77bce1f4e9eadf47e96593360704ef6cff7e6a47](https://github.com/sagemath/sagetrac-mirror/commit/77bce1f4e9eadf47e96593360704ef6cff7e6a47)\".",
    "created_at": "2021-05-20T00:42:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511654",
    "user": "https://github.com/tscrim"
}
```

**Changing commit** from "[06284e94163eb5189ddfc7cfc0ba58f8dc1c716b](https://github.com/sagemath/sagetrac-mirror/commit/06284e94163eb5189ddfc7cfc0ba58f8dc1c716b)" to "[77bce1f4e9eadf47e96593360704ef6cff7e6a47](https://github.com/sagemath/sagetrac-mirror/commit/77bce1f4e9eadf47e96593360704ef6cff7e6a47)".



---

archive/issue_comments_511655.json:
```json
{
    "body": "<a id='comment:55'></a>\nI was able to build both packages (thank you Matthias for your help with this). However, there are issues with `interfaces/polymake.py` (make sure you run `sage -tp --optional=sage,polymake`). The biggest issue is that it doesn't even finish evaluating the first doctest:\n\n```\npolymake.eval('print foo;')\n```\nIt timed out after running for 5 minutes.\n\nI tried running this directly in my Sage shell, which it is still taking seemingly forever. I also tried `C = polymake('cube(3)')`, which after I hit ctrl-c, any additional attempt to run the interface results in multiple errors of the form:\n\n```\nTypeError: argument should be integer or bytes-like object, not 'str'\n```\n\nIs this an issue with the interface? Is this something with polymake trying to do something for the first time? Something else?\n\nThe branch just has one commit that cleans up the interface file a bit.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/77bce1f4e9eadf47e96593360704ef6cff7e6a47\">77bce1f</a></td><td><code>Cleaning up the interface file.</code></td></tr></table>\n",
    "created_at": "2021-05-20T00:42:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511655",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:55'></a>
I was able to build both packages (thank you Matthias for your help with this). However, there are issues with `interfaces/polymake.py` (make sure you run `sage -tp --optional=sage,polymake`). The biggest issue is that it doesn't even finish evaluating the first doctest:

```
polymake.eval('print foo;')
```
It timed out after running for 5 minutes.

I tried running this directly in my Sage shell, which it is still taking seemingly forever. I also tried `C = polymake('cube(3)')`, which after I hit ctrl-c, any additional attempt to run the interface results in multiple errors of the form:

```
TypeError: argument should be integer or bytes-like object, not 'str'
```

Is this an issue with the interface? Is this something with polymake trying to do something for the first time? Something else?

The branch just has one commit that cleans up the interface file a bit.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/77bce1f4e9eadf47e96593360704ef6cff7e6a47">77bce1f</a></td><td><code>Cleaning up the interface file.</code></td></tr></table>




---

archive/issue_comments_511656.json:
```json
{
    "body": "**Changing branch** from \"[u/mkoeppe/upgrade__lrslib_071a](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/upgrade__lrslib_071a)\" to \"[u/tscrim/lrslib071a_polymake44_upgrade-27745](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/lrslib071a_polymake44_upgrade-27745)\".",
    "created_at": "2021-05-20T00:42:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511656",
    "user": "https://github.com/tscrim"
}
```

**Changing branch** from "[u/mkoeppe/upgrade__lrslib_071a](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/upgrade__lrslib_071a)" to "[u/tscrim/lrslib071a_polymake44_upgrade-27745](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/lrslib071a_polymake44_upgrade-27745)".



---

archive/issue_comments_511657.json:
```json
{
    "body": "<a id='comment:56'></a>\nSounds like you are testing the old pexpect version of the interface.\nIf you install package `jupymake`, it will test the current version",
    "created_at": "2021-05-20T00:59:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511657",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:56'></a>
Sounds like you are testing the old pexpect version of the interface.
If you install package `jupymake`, it will test the current version



---

archive/issue_comments_511658.json:
```json
{
    "body": "<a id='comment:57'></a>\nNo, I did not. Once I installed that, then it worked. Since that is a requirement to using the interface, I think we should have `jupymake` as a dependency.",
    "created_at": "2021-05-20T01:10:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511658",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:57'></a>
No, I did not. Once I installed that, then it worked. Since that is a requirement to using the interface, I think we should have `jupymake` as a dependency.



---

archive/issue_comments_511659.json:
```json
{
    "body": "<a id='comment:58'></a>\nNow it is stuck on line 128:\n\n```\np = polymake_expect.rand_sphere(4, 20, seed=5)\n```\nI guess we have to rewrite the interface file to remove all tests involving the old interface?",
    "created_at": "2021-05-20T01:13:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511659",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:58'></a>
Now it is stuck on line 128:

```
p = polymake_expect.rand_sphere(4, 20, seed=5)
```
I guess we have to rewrite the interface file to remove all tests involving the old interface?



---

archive/issue_comments_511660.json:
```json
{
    "body": "<a id='comment:59'></a>\nActually, do we want to just scrap the pexpect interface altogether?",
    "created_at": "2021-05-20T01:27:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511660",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:59'></a>
Actually, do we want to just scrap the pexpect interface altogether?



---

archive/issue_comments_511661.json:
```json
{
    "body": "<a id='comment:60'></a>\nReplying to [tscrim](#comment%3A57):\n> No, I did not. Once I installed that, then it worked. Since that is a requirement to using the interface, I think we should have `jupymake` as a dependency.\n\n\njupymake can't be a dependency of polymake because it depends on polymake",
    "created_at": "2021-05-20T01:33:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511661",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:60'></a>
Replying to [tscrim](#comment%3A57):
> No, I did not. Once I installed that, then it worked. Since that is a requirement to using the interface, I think we should have `jupymake` as a dependency.


jupymake can't be a dependency of polymake because it depends on polymake



---

archive/issue_comments_511662.json:
```json
{
    "body": "<a id='comment:61'></a>\nReplying to [tscrim](#comment%3A58):\n> Now it is stuck on line 128:\n> \n> ```\n> p = polymake_expect.rand_sphere(4, 20, seed=5)\n> ```\n\n\nHere's how to debug this:\n\n```\nsage: from sage.interfaces.polymake import PolymakeExpect\nsage: polymake = PolymakeExpect(logfile=\"POLYMAKE.log\")\nsage: polymake.rand_sphere(4, 20, seed=5)\n```\n\nThen, in a separate terminal, use `tail -f POLYMAKE.log`",
    "created_at": "2021-05-20T02:00:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511662",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:61'></a>
Replying to [tscrim](#comment%3A58):
> Now it is stuck on line 128:
> 
> ```
> p = polymake_expect.rand_sphere(4, 20, seed=5)
> ```


Here's how to debug this:

```
sage: from sage.interfaces.polymake import PolymakeExpect
sage: polymake = PolymakeExpect(logfile="POLYMAKE.log")
sage: polymake.rand_sphere(4, 20, seed=5)
```

Then, in a separate terminal, use `tail -f POLYMAKE.log`



---

archive/issue_comments_511663.json:
```json
{
    "body": "<a id='comment:62'></a>\nThere is indeed something going on with bytes vs strings.",
    "created_at": "2021-05-20T02:01:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511663",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:62'></a>
There is indeed something going on with bytes vs strings.



---

archive/issue_comments_511664.json:
```json
{
    "body": "**Changing branch** from \"[u/tscrim/lrslib071a_polymake44_upgrade-27745](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/lrslib071a_polymake44_upgrade-27745)\" to \"[u/mkoeppe/lrslib071a_polymake44_upgrade-27745](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/lrslib071a_polymake44_upgrade-27745)\".",
    "created_at": "2021-05-20T02:46:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511664",
    "user": "https://github.com/mkoeppe"
}
```

**Changing branch** from "[u/tscrim/lrslib071a_polymake44_upgrade-27745](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/lrslib071a_polymake44_upgrade-27745)" to "[u/mkoeppe/lrslib071a_polymake44_upgrade-27745](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/lrslib071a_polymake44_upgrade-27745)".



---

archive/issue_comments_511665.json:
```json
{
    "body": "**Changing commit** from \"[77bce1f4e9eadf47e96593360704ef6cff7e6a47](https://github.com/sagemath/sagetrac-mirror/commit/77bce1f4e9eadf47e96593360704ef6cff7e6a47)\" to \"[4b7616ff2fabc2e045518c886773f8eff84e32be](https://github.com/sagemath/sagetrac-mirror/commit/4b7616ff2fabc2e045518c886773f8eff84e32be)\".",
    "created_at": "2021-05-20T03:22:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511665",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[77bce1f4e9eadf47e96593360704ef6cff7e6a47](https://github.com/sagemath/sagetrac-mirror/commit/77bce1f4e9eadf47e96593360704ef6cff7e6a47)" to "[4b7616ff2fabc2e045518c886773f8eff84e32be](https://github.com/sagemath/sagetrac-mirror/commit/4b7616ff2fabc2e045518c886773f8eff84e32be)".



---

archive/issue_comments_511666.json:
```json
{
    "body": "<a id='comment:64'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7a59b3d2fc12ce424a664d0e252ff0052f2336d1\">7a59b3d</a></td><td><code>src/sage/interfaces/polymake.py: More fixes for python3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4b7616ff2fabc2e045518c886773f8eff84e32be\">4b7616f</a></td><td><code>src/sage/interfaces/polymake.py: Adjust user input prompt for polymake 4.4</code></td></tr></table>\n",
    "created_at": "2021-05-20T03:22:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511666",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:64'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7a59b3d2fc12ce424a664d0e252ff0052f2336d1">7a59b3d</a></td><td><code>src/sage/interfaces/polymake.py: More fixes for python3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4b7616ff2fabc2e045518c886773f8eff84e32be">4b7616f</a></td><td><code>src/sage/interfaces/polymake.py: Adjust user input prompt for polymake 4.4</code></td></tr></table>




---

archive/issue_comments_511667.json:
```json
{
    "body": "<a id='comment:65'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/332b72ffd16d9f5a539d7da4c14f6417e74781bf\">332b72f</a></td><td><code>src/sage/interfaces/polymake.py: Disable minkowski_sum_fukuda test, which seems to take forever with polymake 4.4</code></td></tr></table>\n",
    "created_at": "2021-05-20T03:43:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511667",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:65'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/332b72ffd16d9f5a539d7da4c14f6417e74781bf">332b72f</a></td><td><code>src/sage/interfaces/polymake.py: Disable minkowski_sum_fukuda test, which seems to take forever with polymake 4.4</code></td></tr></table>




---

archive/issue_comments_511668.json:
```json
{
    "body": "**Changing commit** from \"[4b7616ff2fabc2e045518c886773f8eff84e32be](https://github.com/sagemath/sagetrac-mirror/commit/4b7616ff2fabc2e045518c886773f8eff84e32be)\" to \"[332b72ffd16d9f5a539d7da4c14f6417e74781bf](https://github.com/sagemath/sagetrac-mirror/commit/332b72ffd16d9f5a539d7da4c14f6417e74781bf)\".",
    "created_at": "2021-05-20T03:43:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511668",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[4b7616ff2fabc2e045518c886773f8eff84e32be](https://github.com/sagemath/sagetrac-mirror/commit/4b7616ff2fabc2e045518c886773f8eff84e32be)" to "[332b72ffd16d9f5a539d7da4c14f6417e74781bf](https://github.com/sagemath/sagetrac-mirror/commit/332b72ffd16d9f5a539d7da4c14f6417e74781bf)".



---

archive/issue_comments_511669.json:
```json
{
    "body": "<a id='comment:66'></a>\nMore fixes are needed",
    "created_at": "2021-05-20T05:23:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511669",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:66'></a>
More fixes are needed



---

archive/issue_comments_511670.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2021-05-20T05:23:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511670",
    "user": "https://github.com/mkoeppe"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_511671.json:
```json
{
    "body": "<a id='comment:67'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2e412207b6ddee89cfad94403b0e457583dc65c9\">2e41220</a></td><td><code>src/sage/interfaces/polymake.py: Relax version doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5d5ce56b5ee101f80ae2c278d55514aa04913d9a\">5d5ce56</a></td><td><code>src/sage/interfaces/polymake.py: Another fix for python3</code></td></tr></table>\n",
    "created_at": "2021-05-20T16:15:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511671",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:67'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2e412207b6ddee89cfad94403b0e457583dc65c9">2e41220</a></td><td><code>src/sage/interfaces/polymake.py: Relax version doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5d5ce56b5ee101f80ae2c278d55514aa04913d9a">5d5ce56</a></td><td><code>src/sage/interfaces/polymake.py: Another fix for python3</code></td></tr></table>




---

archive/issue_comments_511672.json:
```json
{
    "body": "**Changing commit** from \"[332b72ffd16d9f5a539d7da4c14f6417e74781bf](https://github.com/sagemath/sagetrac-mirror/commit/332b72ffd16d9f5a539d7da4c14f6417e74781bf)\" to \"[5d5ce56b5ee101f80ae2c278d55514aa04913d9a](https://github.com/sagemath/sagetrac-mirror/commit/5d5ce56b5ee101f80ae2c278d55514aa04913d9a)\".",
    "created_at": "2021-05-20T16:15:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511672",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[332b72ffd16d9f5a539d7da4c14f6417e74781bf](https://github.com/sagemath/sagetrac-mirror/commit/332b72ffd16d9f5a539d7da4c14f6417e74781bf)" to "[5d5ce56b5ee101f80ae2c278d55514aa04913d9a](https://github.com/sagemath/sagetrac-mirror/commit/5d5ce56b5ee101f80ae2c278d55514aa04913d9a)".



---

archive/issue_comments_511673.json:
```json
{
    "body": "<a id='comment:68'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2426e6044e910d17c2432faedaee2c00b2dc43e0\">2426e60</a></td><td><code>src/sage/interfaces/polymake.py: Yet another fix for python3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d1cbbf114d165235fe7895d83f6aa389dd19d7c6\">d1cbbf1</a></td><td><code>src/sage/geometry/polyhedron/backend_polymake.py: Update for changes in sage</code></td></tr></table>\n",
    "created_at": "2021-05-20T16:49:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511673",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:68'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2426e6044e910d17c2432faedaee2c00b2dc43e0">2426e60</a></td><td><code>src/sage/interfaces/polymake.py: Yet another fix for python3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d1cbbf114d165235fe7895d83f6aa389dd19d7c6">d1cbbf1</a></td><td><code>src/sage/geometry/polyhedron/backend_polymake.py: Update for changes in sage</code></td></tr></table>




---

archive/issue_comments_511674.json:
```json
{
    "body": "**Changing commit** from \"[5d5ce56b5ee101f80ae2c278d55514aa04913d9a](https://github.com/sagemath/sagetrac-mirror/commit/5d5ce56b5ee101f80ae2c278d55514aa04913d9a)\" to \"[d1cbbf114d165235fe7895d83f6aa389dd19d7c6](https://github.com/sagemath/sagetrac-mirror/commit/d1cbbf114d165235fe7895d83f6aa389dd19d7c6)\".",
    "created_at": "2021-05-20T16:49:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511674",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[5d5ce56b5ee101f80ae2c278d55514aa04913d9a](https://github.com/sagemath/sagetrac-mirror/commit/5d5ce56b5ee101f80ae2c278d55514aa04913d9a)" to "[d1cbbf114d165235fe7895d83f6aa389dd19d7c6](https://github.com/sagemath/sagetrac-mirror/commit/d1cbbf114d165235fe7895d83f6aa389dd19d7c6)".



---

archive/issue_comments_511675.json:
```json
{
    "body": "<a id='comment:69'></a>\nThank you. That has gotten it down to one failure for me:\n\n```\n**********************************************************************\nFile \"src/sage/interfaces/polymake.py\", line 2098, in sage.interfaces.polymake.PolymakeExpect._eval_line\nFailed example:\n    c.N_VERTICES                      # optional - polymake\nExpected:\n    32768\nGot:\n    Can't locate object method \"description\" via package \"32768\" (perhaps you forgot to load \"32768\"?) at input line 1.\n```\nHowever, I cannot reproduce this in an interactive session, so it is probably something with the doctester setup. I propose marking it as `# known bug` with an explanation that it works interactively if it is failing for someone else.",
    "created_at": "2021-05-21T00:30:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511675",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:69'></a>
Thank you. That has gotten it down to one failure for me:

```
**********************************************************************
File "src/sage/interfaces/polymake.py", line 2098, in sage.interfaces.polymake.PolymakeExpect._eval_line
Failed example:
    c.N_VERTICES                      # optional - polymake
Expected:
    32768
Got:
    Can't locate object method "description" via package "32768" (perhaps you forgot to load "32768"?) at input line 1.
```
However, I cannot reproduce this in an interactive session, so it is probably something with the doctester setup. I propose marking it as `# known bug` with an explanation that it works interactively if it is failing for someone else.



---

archive/issue_comments_511676.json:
```json
{
    "body": "<a id='comment:70'></a>\nYes, there's something wrong with error recovery still.\n\nFor me, also `src/sage/geometry/polyhedron/backend_polymake.py` reveals additional errors. So there's more work",
    "created_at": "2021-05-21T00:46:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511676",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:70'></a>
Yes, there's something wrong with error recovery still.

For me, also `src/sage/geometry/polyhedron/backend_polymake.py` reveals additional errors. So there's more work



---

archive/issue_comments_511677.json:
```json
{
    "body": "<a id='comment:71'></a>\nThanks for the help above. So I have polymake installed now and it works in `sage -sh`.\n\nHowever, I'm getting an EOF error whenever I want to do something in sage, e.g. `polytopes.cube(backend='polymake').\n\n```\nTypeError: unable to start polymake: End Of File (EOF). Exception style platform.\nPolymake with PID 27045 running /usr/bin/env TERM=dumb polymake\ncommand: /usr/bin/env\nargs: ['/usr/bin/env', 'TERM=dumb', 'polymake']\nbuffer (last 100 chars): b''\nbefore (last 100 chars): b'dLine::Gnu\" at /srv/public/kliem/sage/local/share/polymake/perllib/Polymake/Core/Shell.pm line 30.\\r\\n'\nafter: <class 'pexpect.exceptions.EOF'>\nmatch: None\nmatch_index: None\nexitstatus: None\nflag_eof: True\npid: 27045\nchild_fd: 16\nclosed: False\ntimeout: None\ndelimiter: <class 'pexpect.exceptions.EOF'>\nlogfile: None\nlogfile_read: None\nlogfile_send: None\nmaxread: 4194304\nignorecase: False\nsearchwindowsize: None\ndelaybeforesend: None\ndelayafterclose: 0.1\ndelayafterterminate: 0.1\nsearcher: searcher_re:\n    0: re.compile(b'polytope > ')\n```",
    "created_at": "2021-05-21T06:14:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511677",
    "user": "https://github.com/kliem"
}
```

<a id='comment:71'></a>
Thanks for the help above. So I have polymake installed now and it works in `sage -sh`.

However, I'm getting an EOF error whenever I want to do something in sage, e.g. `polytopes.cube(backend='polymake').

```
TypeError: unable to start polymake: End Of File (EOF). Exception style platform.
Polymake with PID 27045 running /usr/bin/env TERM=dumb polymake
command: /usr/bin/env
args: ['/usr/bin/env', 'TERM=dumb', 'polymake']
buffer (last 100 chars): b''
before (last 100 chars): b'dLine::Gnu" at /srv/public/kliem/sage/local/share/polymake/perllib/Polymake/Core/Shell.pm line 30.\r\n'
after: <class 'pexpect.exceptions.EOF'>
match: None
match_index: None
exitstatus: None
flag_eof: True
pid: 27045
child_fd: 16
closed: False
timeout: None
delimiter: <class 'pexpect.exceptions.EOF'>
logfile: None
logfile_read: None
logfile_send: None
maxread: 4194304
ignorecase: False
searchwindowsize: None
delaybeforesend: None
delayafterclose: 0.1
delayafterterminate: 0.1
searcher: searcher_re:
    0: re.compile(b'polytope > ')
```



---

archive/issue_comments_511678.json:
```json
{
    "body": "<a id='comment:72'></a>\nReplying to [gh-kliem](#comment%3A71):\n> However, I'm getting an EOF error whenever I want to do something in sage, e.g. `polytopes.cube(backend='polymake').\n\n\nin `sage.interfaces.polymake` we have both `polymake_expect` and `polymake_jupymake` so which one is used in `polytopes.cube(backend='polymake')`?\n\nHow to tell `sage` I always want `polymake_jupymake` for every `something(backend='polymake')`?",
    "created_at": "2021-05-21T08:20:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511678",
    "user": "https://github.com/sheerluck"
}
```

<a id='comment:72'></a>
Replying to [gh-kliem](#comment%3A71):
> However, I'm getting an EOF error whenever I want to do something in sage, e.g. `polytopes.cube(backend='polymake').


in `sage.interfaces.polymake` we have both `polymake_expect` and `polymake_jupymake` so which one is used in `polytopes.cube(backend='polymake')`?

How to tell `sage` I always want `polymake_jupymake` for every `something(backend='polymake')`?



---

archive/issue_comments_511679.json:
```json
{
    "body": "<a id='comment:73'></a>\noh I see\n\n```\nif PythonModule(\"JuPyMake\").is_present():\n    polymake = polymake_jupymake\nelse:\n    polymake = polymake_expect\n```",
    "created_at": "2021-05-21T08:23:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511679",
    "user": "https://github.com/sheerluck"
}
```

<a id='comment:73'></a>
oh I see

```
if PythonModule("JuPyMake").is_present():
    polymake = polymake_jupymake
else:
    polymake = polymake_expect
```



---

archive/issue_comments_511680.json:
```json
{
    "body": "<a id='comment:74'></a>\nFor me it is `PolymakeExpect` apparently.",
    "created_at": "2021-05-21T08:28:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511680",
    "user": "https://github.com/kliem"
}
```

<a id='comment:74'></a>
For me it is `PolymakeExpect` apparently.



---

archive/issue_comments_511681.json:
```json
{
    "body": "**Changing commit** from \"[d1cbbf114d165235fe7895d83f6aa389dd19d7c6](https://github.com/sagemath/sagetrac-mirror/commit/d1cbbf114d165235fe7895d83f6aa389dd19d7c6)\" to \"[426385df211816ce6f5d7bcf00d64a64b5d98f66](https://github.com/sagemath/sagetrac-mirror/commit/426385df211816ce6f5d7bcf00d64a64b5d98f66)\".",
    "created_at": "2021-05-23T19:43:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511681",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[d1cbbf114d165235fe7895d83f6aa389dd19d7c6](https://github.com/sagemath/sagetrac-mirror/commit/d1cbbf114d165235fe7895d83f6aa389dd19d7c6)" to "[426385df211816ce6f5d7bcf00d64a64b5d98f66](https://github.com/sagemath/sagetrac-mirror/commit/426385df211816ce6f5d7bcf00d64a64b5d98f66)".



---

archive/issue_comments_511682.json:
```json
{
    "body": "<a id='comment:75'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/426385df211816ce6f5d7bcf00d64a64b5d98f66\">426385d</a></td><td><code>Polyhedra: Raise an error if backend 'polymake' is used with an unsupported field</code></td></tr></table>\n",
    "created_at": "2021-05-23T19:43:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511682",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:75'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/426385df211816ce6f5d7bcf00d64a64b5d98f66">426385d</a></td><td><code>Polyhedra: Raise an error if backend 'polymake' is used with an unsupported field</code></td></tr></table>




---

archive/issue_comments_511683.json:
```json
{
    "body": "**Changing commit** from \"[426385df211816ce6f5d7bcf00d64a64b5d98f66](https://github.com/sagemath/sagetrac-mirror/commit/426385df211816ce6f5d7bcf00d64a64b5d98f66)\" to \"[29c267bfb73c13c2844569d8d7fb5ae7e4879f99](https://github.com/sagemath/sagetrac-mirror/commit/29c267bfb73c13c2844569d8d7fb5ae7e4879f99)\".",
    "created_at": "2021-05-23T20:24:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511683",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[426385df211816ce6f5d7bcf00d64a64b5d98f66](https://github.com/sagemath/sagetrac-mirror/commit/426385df211816ce6f5d7bcf00d64a64b5d98f66)" to "[29c267bfb73c13c2844569d8d7fb5ae7e4879f99](https://github.com/sagemath/sagetrac-mirror/commit/29c267bfb73c13c2844569d8d7fb5ae7e4879f99)".



---

archive/issue_comments_511684.json:
```json
{
    "body": "<a id='comment:76'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/29c267bfb73c13c2844569d8d7fb5ae7e4879f99\">29c267b</a></td><td><code>Polyhedron_polymake: Implement pickling</code></td></tr></table>\n",
    "created_at": "2021-05-23T20:24:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511684",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:76'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/29c267bfb73c13c2844569d8d7fb5ae7e4879f99">29c267b</a></td><td><code>Polyhedron_polymake: Implement pickling</code></td></tr></table>




---

archive/issue_comments_511685.json:
```json
{
    "body": "<a id='comment:77'></a>\nWith `jupymake` installed, `./sage -t  --optional=sage,polymake,jupymake,perl_mongodb src/sage/geometry/polyhedron/backend_polymake.py` now is down to 1 failure:\n\n```\nsage -t --random-seed=0 src/sage/geometry/polyhedron/backend_polymake.py\n**********************************************************************\nFile \"src/sage/geometry/polyhedron/backend_polymake.py\", line 220, in sage.geometry.polyhedron.backend_polymake.Polyhedron_polymake.__init__\nFailed example:\n    TestSuite(p).run()                                 # optional - polymake\nExpected nothing\nGot:\n    Failure in _test_lawrence:\n    Traceback (most recent call last):\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/misc/sage_unittest.py\", line 297, in run\n        test_method(tester=tester)\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/geometry/polyhedron/base.py\", line 6312, in _test_lawrence\n        tester.assertTrue(Q.is_combinatorially_isomorphic(R))\n      File \"/usr/local/Cellar/python@3.9/3.9.4/Frameworks/Python.framework/Versions/3.9/lib/python3.9/unittest/case.py\", line 682, in assertTrue\n        raise self.failureException(msg)\n    AssertionError: False is not true\n    ------------------------------------------------------------\n    The following tests failed: _test_lawrence\n**********************************************************************\n1 item had failures:\n   1 of   7 in sage.geometry.polyhedron.backend_polymake.Polyhedron_polymake.__init__\n    [91 tests, 1 failure, 27.73 s]\n----------------------------------------------------------------------\nsage -t --random-seed=0 src/sage/geometry/polyhedron/backend_polymake.py  # 1 doctest failed\n----------------------------------------------------------------------\n```",
    "created_at": "2021-05-23T20:26:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511685",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:77'></a>
With `jupymake` installed, `./sage -t  --optional=sage,polymake,jupymake,perl_mongodb src/sage/geometry/polyhedron/backend_polymake.py` now is down to 1 failure:

```
sage -t --random-seed=0 src/sage/geometry/polyhedron/backend_polymake.py
**********************************************************************
File "src/sage/geometry/polyhedron/backend_polymake.py", line 220, in sage.geometry.polyhedron.backend_polymake.Polyhedron_polymake.__init__
Failed example:
    TestSuite(p).run()                                 # optional - polymake
Expected nothing
Got:
    Failure in _test_lawrence:
    Traceback (most recent call last):
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/misc/sage_unittest.py", line 297, in run
        test_method(tester=tester)
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/geometry/polyhedron/base.py", line 6312, in _test_lawrence
        tester.assertTrue(Q.is_combinatorially_isomorphic(R))
      File "/usr/local/Cellar/python@3.9/3.9.4/Frameworks/Python.framework/Versions/3.9/lib/python3.9/unittest/case.py", line 682, in assertTrue
        raise self.failureException(msg)
    AssertionError: False is not true
    ------------------------------------------------------------
    The following tests failed: _test_lawrence
**********************************************************************
1 item had failures:
   1 of   7 in sage.geometry.polyhedron.backend_polymake.Polyhedron_polymake.__init__
    [91 tests, 1 failure, 27.73 s]
----------------------------------------------------------------------
sage -t --random-seed=0 src/sage/geometry/polyhedron/backend_polymake.py  # 1 doctest failed
----------------------------------------------------------------------
```



---

archive/issue_comments_511686.json:
```json
{
    "body": "<a id='comment:78'></a>\nSame without `jupymake`.",
    "created_at": "2021-05-23T20:28:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511686",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:78'></a>
Same without `jupymake`.



---

archive/issue_comments_511687.json:
```json
{
    "body": "<a id='comment:79'></a>\nHelp with the lawrence testcase would be welcome...",
    "created_at": "2021-05-23T20:29:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511687",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:79'></a>
Help with the lawrence testcase would be welcome...



---

archive/issue_comments_511688.json:
```json
{
    "body": "<a id='comment:80'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b4366f131faa5f88ea943f0c5d1aa3d37e9d9f14\">b4366f1</a></td><td><code>PolymakeElement._sage_, Polyhedron_polymake._from_polymake_polytope: Determine the base ring</code></td></tr></table>\n",
    "created_at": "2021-05-23T21:30:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511688",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:80'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b4366f131faa5f88ea943f0c5d1aa3d37e9d9f14">b4366f1</a></td><td><code>PolymakeElement._sage_, Polyhedron_polymake._from_polymake_polytope: Determine the base ring</code></td></tr></table>




---

archive/issue_comments_511689.json:
```json
{
    "body": "**Changing commit** from \"[29c267bfb73c13c2844569d8d7fb5ae7e4879f99](https://github.com/sagemath/sagetrac-mirror/commit/29c267bfb73c13c2844569d8d7fb5ae7e4879f99)\" to \"[b4366f131faa5f88ea943f0c5d1aa3d37e9d9f14](https://github.com/sagemath/sagetrac-mirror/commit/b4366f131faa5f88ea943f0c5d1aa3d37e9d9f14)\".",
    "created_at": "2021-05-23T21:30:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511689",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[29c267bfb73c13c2844569d8d7fb5ae7e4879f99](https://github.com/sagemath/sagetrac-mirror/commit/29c267bfb73c13c2844569d8d7fb5ae7e4879f99)" to "[b4366f131faa5f88ea943f0c5d1aa3d37e9d9f14](https://github.com/sagemath/sagetrac-mirror/commit/b4366f131faa5f88ea943f0c5d1aa3d37e9d9f14)".



---

archive/issue_comments_511690.json:
```json
{
    "body": "**Changing commit** from \"[b4366f131faa5f88ea943f0c5d1aa3d37e9d9f14](https://github.com/sagemath/sagetrac-mirror/commit/b4366f131faa5f88ea943f0c5d1aa3d37e9d9f14)\" to \"[89614bbfdb4d8aa7ccd9dd11f091ceed97ca34ee](https://github.com/sagemath/sagetrac-mirror/commit/89614bbfdb4d8aa7ccd9dd11f091ceed97ca34ee)\".",
    "created_at": "2021-05-23T23:42:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511690",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[b4366f131faa5f88ea943f0c5d1aa3d37e9d9f14](https://github.com/sagemath/sagetrac-mirror/commit/b4366f131faa5f88ea943f0c5d1aa3d37e9d9f14)" to "[89614bbfdb4d8aa7ccd9dd11f091ceed97ca34ee](https://github.com/sagemath/sagetrac-mirror/commit/89614bbfdb4d8aa7ccd9dd11f091ceed97ca34ee)".



---

archive/issue_comments_511691.json:
```json
{
    "body": "<a id='comment:81'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3cb688857f390f5739b6ef14bdb3b97b4c597a7f\">3cb6888</a></td><td><code>PolymakeElement: Adjust doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/89614bbfdb4d8aa7ccd9dd11f091ceed97ca34ee\">89614bb</a></td><td><code>build/pkgs/polymake/SPKG.rst: Recommend installing jupymake</code></td></tr></table>\n",
    "created_at": "2021-05-23T23:42:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511691",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:81'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3cb688857f390f5739b6ef14bdb3b97b4c597a7f">3cb6888</a></td><td><code>PolymakeElement: Adjust doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/89614bbfdb4d8aa7ccd9dd11f091ceed97ca34ee">89614bb</a></td><td><code>build/pkgs/polymake/SPKG.rst: Recommend installing jupymake</code></td></tr></table>




---

archive/issue_comments_511692.json:
```json
{
    "body": "<a id='comment:82'></a>\nI don't know how to fix the remaining errors with the pexpect version of the interface.",
    "created_at": "2021-05-23T23:44:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511692",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:82'></a>
I don't know how to fix the remaining errors with the pexpect version of the interface.



---

archive/issue_comments_511693.json:
```json
{
    "body": "<a id='comment:83'></a>\nGiven that `polymake` is marked experimental, perhaps this ticket is good enough for review though.",
    "created_at": "2021-05-23T23:46:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511693",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:83'></a>
Given that `polymake` is marked experimental, perhaps this ticket is good enough for review though.



---

archive/issue_comments_511694.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2021-05-23T23:46:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511694",
    "user": "https://github.com/mkoeppe"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_511695.json:
```json
{
    "body": "<a id='comment:84'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9b3e7bd259d30308b6fee23c54c4ffe0a895f88c\">9b3e7bd</a></td><td><code>src/sage/interfaces/polymake.py: Deprecate PolymakeExpect</code></td></tr></table>\n",
    "created_at": "2021-05-24T00:00:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511695",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:84'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9b3e7bd259d30308b6fee23c54c4ffe0a895f88c">9b3e7bd</a></td><td><code>src/sage/interfaces/polymake.py: Deprecate PolymakeExpect</code></td></tr></table>




---

archive/issue_comments_511696.json:
```json
{
    "body": "**Changing commit** from \"[89614bbfdb4d8aa7ccd9dd11f091ceed97ca34ee](https://github.com/sagemath/sagetrac-mirror/commit/89614bbfdb4d8aa7ccd9dd11f091ceed97ca34ee)\" to \"[9b3e7bd259d30308b6fee23c54c4ffe0a895f88c](https://github.com/sagemath/sagetrac-mirror/commit/9b3e7bd259d30308b6fee23c54c4ffe0a895f88c)\".",
    "created_at": "2021-05-24T00:00:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511696",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[89614bbfdb4d8aa7ccd9dd11f091ceed97ca34ee](https://github.com/sagemath/sagetrac-mirror/commit/89614bbfdb4d8aa7ccd9dd11f091ceed97ca34ee)" to "[9b3e7bd259d30308b6fee23c54c4ffe0a895f88c](https://github.com/sagemath/sagetrac-mirror/commit/9b3e7bd259d30308b6fee23c54c4ffe0a895f88c)".



---

archive/issue_events_078319.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "rename": {
        "from": "Upgrade: lrslib 071a and polymake 4.4",
        "to": "Upgrade: lrslib 071a and polymake 4.4, deprecate PolymakeExpect"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27745#event-78319"
}
```



---

archive/issue_comments_511697.json:
```json
{
    "body": "<a id='comment:86'></a>\nI believe the issue with `_test_lawrence()` is numerical instability. Consider\n\n```\nsage: p = Polyhedron(vertices=[(-1,-1), (1,0), (1,1), (0,1)], backend='polymake')\nsage: from sage.misc.prandom import randint \nsage: v = p.vertices()[randint(0, p.n_vertices()-1)].vector()\nsage: Q = p.lawrence_extension(2*v - p.center())\nsage: R = p.lawrence_extension(2.0*v - p.center())\n```\nUsing floating point numbers seems to lead to issues with the conversion back and forth as\n\n```\nsage: Q.Hrepresentation()                                                                                 \n(An inequality (0, 0, 1) x + 0 >= 0,\n An inequality (8, -4, 5) x + 4 >= 0,\n An inequality (11, -3, 0) x + 8 >= 0,\n An inequality (-8, 16, -19) x + 8 >= 0,\n An inequality (-8, 0, -5) x + 8 >= 0,\n An inequality (-3, -5, 0) x + 8 >= 0,\n An inequality (0, -4, 3) x + 4 >= 0)\nsage: R.Hrepresentation()                                                                                 \n(An inequality (-1.0, 2.0, -2.375) x + 1.0 >= 0,\n An inequality (3.66666666666667, -1.0, 0.0) x + 2.66666666666667 >= 0,\n An inequality (2.0, -1.0, 1.25) x + 1.0 >= 0,\n An inequality (0.0, -1.33333333333333, 1.0) x + 1.33333333333333 >= 0,\n An inequality (-1.0, -1.66666666666667, -2.96059473233375e-16) x + 2.66666666666667 >= 0,\n An inequality (-1.6, -1.86984930463184e-16, -1.0) x + 1.6 >= 0,\n An inequality (0.0, 0.0, 1.0) x + 0.0 >= 0)\n```\nThis agrees with the backend information created from polymake, but how the faces are computed in Sage are different:\n\n```\nsage: Q.facets()                                                                                          \n(A 2-dimensional face of a Polyhedron in QQ^3 defined as the convex hull of 3 vertices,\n A 2-dimensional face of a Polyhedron in QQ^3 defined as the convex hull of 3 vertices,\n A 2-dimensional face of a Polyhedron in QQ^3 defined as the convex hull of 3 vertices,\n A 2-dimensional face of a Polyhedron in QQ^3 defined as the convex hull of 3 vertices,\n A 2-dimensional face of a Polyhedron in QQ^3 defined as the convex hull of 3 vertices,\n A 2-dimensional face of a Polyhedron in QQ^3 defined as the convex hull of 3 vertices,\n A 2-dimensional face of a Polyhedron in QQ^3 defined as the convex hull of 4 vertices)\nsage: R.facets()                                                                                          \n(A 2-dimensional face of a Polyhedron in RDF^3 defined as the convex hull of 4 vertices,)\n```\nwhich is based off `R.combinatorial_polyhedron()`. In particular, if we try\n\n```\nsage: R.combinatorial_polyhedron().hasse_diagram()\n...\nValueError: not all facets are joins of vertices\nsage: R.combinatorial_polyhedron().hasse_diagram()\n```\n\n---\nBased off this, what I would do is explicitly skip the test and state that it is a known issue with numerical instability. I am not sure what else we can do about fixing it at this point `:/`.",
    "created_at": "2021-05-24T01:18:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511697",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:86'></a>
I believe the issue with `_test_lawrence()` is numerical instability. Consider

```
sage: p = Polyhedron(vertices=[(-1,-1), (1,0), (1,1), (0,1)], backend='polymake')
sage: from sage.misc.prandom import randint 
sage: v = p.vertices()[randint(0, p.n_vertices()-1)].vector()
sage: Q = p.lawrence_extension(2*v - p.center())
sage: R = p.lawrence_extension(2.0*v - p.center())
```
Using floating point numbers seems to lead to issues with the conversion back and forth as

```
sage: Q.Hrepresentation()                                                                                 
(An inequality (0, 0, 1) x + 0 >= 0,
 An inequality (8, -4, 5) x + 4 >= 0,
 An inequality (11, -3, 0) x + 8 >= 0,
 An inequality (-8, 16, -19) x + 8 >= 0,
 An inequality (-8, 0, -5) x + 8 >= 0,
 An inequality (-3, -5, 0) x + 8 >= 0,
 An inequality (0, -4, 3) x + 4 >= 0)
sage: R.Hrepresentation()                                                                                 
(An inequality (-1.0, 2.0, -2.375) x + 1.0 >= 0,
 An inequality (3.66666666666667, -1.0, 0.0) x + 2.66666666666667 >= 0,
 An inequality (2.0, -1.0, 1.25) x + 1.0 >= 0,
 An inequality (0.0, -1.33333333333333, 1.0) x + 1.33333333333333 >= 0,
 An inequality (-1.0, -1.66666666666667, -2.96059473233375e-16) x + 2.66666666666667 >= 0,
 An inequality (-1.6, -1.86984930463184e-16, -1.0) x + 1.6 >= 0,
 An inequality (0.0, 0.0, 1.0) x + 0.0 >= 0)
```
This agrees with the backend information created from polymake, but how the faces are computed in Sage are different:

```
sage: Q.facets()                                                                                          
(A 2-dimensional face of a Polyhedron in QQ^3 defined as the convex hull of 3 vertices,
 A 2-dimensional face of a Polyhedron in QQ^3 defined as the convex hull of 3 vertices,
 A 2-dimensional face of a Polyhedron in QQ^3 defined as the convex hull of 3 vertices,
 A 2-dimensional face of a Polyhedron in QQ^3 defined as the convex hull of 3 vertices,
 A 2-dimensional face of a Polyhedron in QQ^3 defined as the convex hull of 3 vertices,
 A 2-dimensional face of a Polyhedron in QQ^3 defined as the convex hull of 3 vertices,
 A 2-dimensional face of a Polyhedron in QQ^3 defined as the convex hull of 4 vertices)
sage: R.facets()                                                                                          
(A 2-dimensional face of a Polyhedron in RDF^3 defined as the convex hull of 4 vertices,)
```
which is based off `R.combinatorial_polyhedron()`. In particular, if we try

```
sage: R.combinatorial_polyhedron().hasse_diagram()
...
ValueError: not all facets are joins of vertices
sage: R.combinatorial_polyhedron().hasse_diagram()
```

---
Based off this, what I would do is explicitly skip the test and state that it is a known issue with numerical instability. I am not sure what else we can do about fixing it at this point `:/`.



---

archive/issue_comments_511698.json:
```json
{
    "body": "<a id='comment:87'></a>\nReplying to [mkoeppe](#comment%3A82):\n> I don't know how to fix the remaining errors with the pexpect version of the interface.\n\n\nDo I understand correctly that Travis' remarks explain the error?",
    "created_at": "2021-05-24T06:38:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511698",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:87'></a>
Replying to [mkoeppe](#comment%3A82):
> I don't know how to fix the remaining errors with the pexpect version of the interface.


Do I understand correctly that Travis' remarks explain the error?



---

archive/issue_comments_511699.json:
```json
{
    "body": "<a id='comment:89'></a>\nReplying to [SimonKing](#comment%3A87):\n> Replying to [mkoeppe](#comment%3A82):\n> > I don't know how to fix the remaining errors with the pexpect version of the interface.\n\n> \n> Do I understand correctly that Travis' remarks explain the error?\n\n\nNo, the failure in `_test_lawrence` shows up both for the `PolymakeExpect` and for the `PolymakeJupymake` interface.\n\n`PolymakeExpect` has additional failures, which I do not know how to fix.",
    "created_at": "2021-05-24T06:45:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511699",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:89'></a>
Replying to [SimonKing](#comment%3A87):
> Replying to [mkoeppe](#comment%3A82):
> > I don't know how to fix the remaining errors with the pexpect version of the interface.

> 
> Do I understand correctly that Travis' remarks explain the error?


No, the failure in `_test_lawrence` shows up both for the `PolymakeExpect` and for the `PolymakeJupymake` interface.

`PolymakeExpect` has additional failures, which I do not know how to fix.



---

archive/issue_comments_511700.json:
```json
{
    "body": "<a id='comment:90'></a>\nReplying to [SimonKing](#comment%3A87):\n> Replying to [mkoeppe](#comment%3A82):\n> > I don't know how to fix the remaining errors with the pexpect version of the interface.\n\n> \n> Do I understand correctly that Travis' remarks explain the error?\n\n\nI wouldn't say it fully explains it, but it at least gives an indication about what is going on. It definitely doesn't provide a fix, which should eventually be IMO (but not on this ticket).",
    "created_at": "2021-05-24T06:46:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511700",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:90'></a>
Replying to [SimonKing](#comment%3A87):
> Replying to [mkoeppe](#comment%3A82):
> > I don't know how to fix the remaining errors with the pexpect version of the interface.

> 
> Do I understand correctly that Travis' remarks explain the error?


I wouldn't say it fully explains it, but it at least gives an indication about what is going on. It definitely doesn't provide a fix, which should eventually be IMO (but not on this ticket).



---

archive/issue_comments_511701.json:
```json
{
    "body": "**Changing commit** from \"[9b3e7bd259d30308b6fee23c54c4ffe0a895f88c](https://github.com/sagemath/sagetrac-mirror/commit/9b3e7bd259d30308b6fee23c54c4ffe0a895f88c)\" to \"[1f79230d95a09b0ad9c0407d25b4837230b8bab5](https://github.com/sagemath/sagetrac-mirror/commit/1f79230d95a09b0ad9c0407d25b4837230b8bab5)\".",
    "created_at": "2021-05-24T23:18:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511701",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[9b3e7bd259d30308b6fee23c54c4ffe0a895f88c](https://github.com/sagemath/sagetrac-mirror/commit/9b3e7bd259d30308b6fee23c54c4ffe0a895f88c)" to "[1f79230d95a09b0ad9c0407d25b4837230b8bab5](https://github.com/sagemath/sagetrac-mirror/commit/1f79230d95a09b0ad9c0407d25b4837230b8bab5)".



---

archive/issue_comments_511702.json:
```json
{
    "body": "<a id='comment:91'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1f79230d95a09b0ad9c0407d25b4837230b8bab5\">1f79230</a></td><td><code>src/sage/geometry/polyhedron/backend_polymake.py: Skip the failing TestSuite test _test_lawrence</code></td></tr></table>\n",
    "created_at": "2021-05-24T23:18:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511702",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:91'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1f79230d95a09b0ad9c0407d25b4837230b8bab5">1f79230</a></td><td><code>src/sage/geometry/polyhedron/backend_polymake.py: Skip the failing TestSuite test _test_lawrence</code></td></tr></table>




---

archive/issue_comments_511703.json:
```json
{
    "body": "<a id='comment:92'></a>\nOk, with `jupymake` things are working now for me.",
    "created_at": "2021-05-25T07:32:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511703",
    "user": "https://github.com/kliem"
}
```

<a id='comment:92'></a>
Ok, with `jupymake` things are working now for me.



---

archive/issue_comments_511704.json:
```json
{
    "body": "<a id='comment:93'></a>\nWell it works well except for all doctests in `interfaces/polymake.py` involing `PolymakeExpect`. Maybe we should mark them as `not tested` until the bug is fixed?\n\nAlso we could catch the long `EOF` traceback, which has the deprecation warning hidden all the way at the top with something like:\n\n```diff\n-            self._change_prompt(\"polytope > \")\n-            Expect._start(self, alt_message=None)\n+            try:\n+                self._change_prompt(\"polytope > \")\n+                Expect._start(self, alt_message=None)\n+            except RuntimeError:\n+                raise RuntimeError(\"runtime error with deprecated pexpect-base interface to polymake; please install jupymake\")\n```",
    "created_at": "2021-05-25T07:56:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511704",
    "user": "https://github.com/kliem"
}
```

<a id='comment:93'></a>
Well it works well except for all doctests in `interfaces/polymake.py` involing `PolymakeExpect`. Maybe we should mark them as `not tested` until the bug is fixed?

Also we could catch the long `EOF` traceback, which has the deprecation warning hidden all the way at the top with something like:

```diff
-            self._change_prompt("polytope > ")
-            Expect._start(self, alt_message=None)
+            try:
+                self._change_prompt("polytope > ")
+                Expect._start(self, alt_message=None)
+            except RuntimeError:
+                raise RuntimeError("runtime error with deprecated pexpect-base interface to polymake; please install jupymake")
```



---

archive/issue_comments_511705.json:
```json
{
    "body": "<a id='comment:94'></a>\nI can't reproduce what you report about EOF.\nCould you please obtain a log as explained in comment 61?",
    "created_at": "2021-05-25T16:46:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511705",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:94'></a>
I can't reproduce what you report about EOF.
Could you please obtain a log as explained in comment 61?



---

archive/issue_comments_511706.json:
```json
{
    "body": "<a id='comment:95'></a>\n\n```\nkliem@cofio:~/localhome/sage/src/sage/geometry/polyhedron$ tail -f POLYMAKE.log\nWelcome to polymake version 4.4\nCopyright (c) 1997-2021\nEwgenij Gawrilow, Michael Joswig, and the polymake team\nTechnische Universit\u00e4t Berlin, Germany\nhttps://polymake.org\n\nThis is free software licensed under GPL; see the source for copying conditions.\nThere is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n\nLoading applications now...Can't locate object method \"new\" via package \"Term::ReadLine::Gnu\" at /srv/public/kliem/sage/local/share/polymake/perllib/Polymake/Core/Shell.pm line 30.\n```",
    "created_at": "2021-05-26T05:59:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511706",
    "user": "https://github.com/kliem"
}
```

<a id='comment:95'></a>

```
kliem@cofio:~/localhome/sage/src/sage/geometry/polyhedron$ tail -f POLYMAKE.log
Welcome to polymake version 4.4
Copyright (c) 1997-2021
Ewgenij Gawrilow, Michael Joswig, and the polymake team
Technische Universität Berlin, Germany
https://polymake.org

This is free software licensed under GPL; see the source for copying conditions.
There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

Loading applications now...Can't locate object method "new" via package "Term::ReadLine::Gnu" at /srv/public/kliem/sage/local/share/polymake/perllib/Polymake/Core/Shell.pm line 30.
```



---

archive/issue_comments_511707.json:
```json
{
    "body": "<a id='comment:96'></a>\nAs mentioned above, this needs not to be fixed here (experimental and deprecated). However, I was just thinking that a more meaningful error message could be nicer. There is the deprecation message all the way on the top, so theoretically people should figure what the problem is either way (as I did; I didn't follow the discussion and so this deprecation message told me what to do).",
    "created_at": "2021-05-26T06:01:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511707",
    "user": "https://github.com/kliem"
}
```

<a id='comment:96'></a>
As mentioned above, this needs not to be fixed here (experimental and deprecated). However, I was just thinking that a more meaningful error message could be nicer. There is the deprecation message all the way on the top, so theoretically people should figure what the problem is either way (as I did; I didn't follow the discussion and so this deprecation message told me what to do).



---

archive/issue_comments_511708.json:
```json
{
    "body": "<a id='comment:97'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ba0a4795da6ebee8cf9db55116df6afe737466e2\">ba0a479</a></td><td><code>src/sage/interfaces/polymake.py: Mark doctests specific to the deprecated pexpect-based interface as optional - polymake_expect</code></td></tr></table>\n",
    "created_at": "2021-05-26T06:14:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511708",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:97'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ba0a4795da6ebee8cf9db55116df6afe737466e2">ba0a479</a></td><td><code>src/sage/interfaces/polymake.py: Mark doctests specific to the deprecated pexpect-based interface as optional - polymake_expect</code></td></tr></table>




---

archive/issue_comments_511709.json:
```json
{
    "body": "**Changing commit** from \"[1f79230d95a09b0ad9c0407d25b4837230b8bab5](https://github.com/sagemath/sagetrac-mirror/commit/1f79230d95a09b0ad9c0407d25b4837230b8bab5)\" to \"[ba0a4795da6ebee8cf9db55116df6afe737466e2](https://github.com/sagemath/sagetrac-mirror/commit/ba0a4795da6ebee8cf9db55116df6afe737466e2)\".",
    "created_at": "2021-05-26T06:14:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511709",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[1f79230d95a09b0ad9c0407d25b4837230b8bab5](https://github.com/sagemath/sagetrac-mirror/commit/1f79230d95a09b0ad9c0407d25b4837230b8bab5)" to "[ba0a4795da6ebee8cf9db55116df6afe737466e2](https://github.com/sagemath/sagetrac-mirror/commit/ba0a4795da6ebee8cf9db55116df6afe737466e2)".



---

archive/issue_comments_511710.json:
```json
{
    "body": "<a id='comment:98'></a>\nReplying to [gh-kliem](#comment%3A93):\n> Well it works well except for all doctests in `interfaces/polymake.py` involing `PolymakeExpect`. Maybe we should mark them as `not tested` until the bug is fixed?\n\n\nDone",
    "created_at": "2021-05-26T06:15:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511710",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:98'></a>
Replying to [gh-kliem](#comment%3A93):
> Well it works well except for all doctests in `interfaces/polymake.py` involing `PolymakeExpect`. Maybe we should mark them as `not tested` until the bug is fixed?


Done



---

archive/issue_comments_511711.json:
```json
{
    "body": "<a id='comment:99'></a>\nReplying to [gh-kliem](#comment%3A96):\n> [...] I was just thinking that a more meaningful error message could be nicer. \n\n\nI agree, so please feel free to push this change to the ticket. Thanks!",
    "created_at": "2021-05-26T06:16:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511711",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:99'></a>
Replying to [gh-kliem](#comment%3A96):
> [...] I was just thinking that a more meaningful error message could be nicer. 


I agree, so please feel free to push this change to the ticket. Thanks!



---

archive/issue_comments_511712.json:
```json
{
    "body": "<a id='comment:100'></a>\nReplying to [gh-kliem](#comment%3A95):\n> \n> ```\n> kliem@cofio:~/localhome/sage/src/sage/geometry/polyhedron$ tail -f POLYMAKE.log\n> [...]\n> Loading applications now...Can't locate object method \"new\" via package \"Term::ReadLine::Gnu\" at /srv/public/kliem/sage/local/share/polymake/perllib/Polymake/Core/Shell.pm line 30.\n> ```\n\n\nLooks like `perl_term_readline_gnu` is not installed correctly.",
    "created_at": "2021-05-26T06:16:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511712",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:100'></a>
Replying to [gh-kliem](#comment%3A95):
> 
> ```
> kliem@cofio:~/localhome/sage/src/sage/geometry/polyhedron$ tail -f POLYMAKE.log
> [...]
> Loading applications now...Can't locate object method "new" via package "Term::ReadLine::Gnu" at /srv/public/kliem/sage/local/share/polymake/perllib/Polymake/Core/Shell.pm line 30.
> ```


Looks like `perl_term_readline_gnu` is not installed correctly.



---

archive/issue_comments_511713.json:
```json
{
    "body": "<a id='comment:101'></a>\nReplying to [mkoeppe](#comment%3A100):\n> Replying to [gh-kliem](#comment%3A95):\n> > \n> > ```\n> > kliem@cofio:~/localhome/sage/src/sage/geometry/polyhedron$ tail -f POLYMAKE.log\n> > [...]\n> > Loading applications now...Can't locate object method \"new\" via package \"Term::ReadLine::Gnu\" at /srv/public/kliem/sage/local/share/polymake/perllib/Polymake/Core/Shell.pm line 30.\n> > ```\n\n> \n> Looks like `perl_term_readline_gnu` is not installed correctly.\n> \n> \n> \n\nAccording to `dpkg -s libterm-readline-gnu-perl` I have version 1.36-1 installed. But anyway, it is not a huge issue to me, as installiing `jupymake` solved this all.",
    "created_at": "2021-05-26T07:17:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511713",
    "user": "https://github.com/kliem"
}
```

<a id='comment:101'></a>
Replying to [mkoeppe](#comment%3A100):
> Replying to [gh-kliem](#comment%3A95):
> > 
> > ```
> > kliem@cofio:~/localhome/sage/src/sage/geometry/polyhedron$ tail -f POLYMAKE.log
> > [...]
> > Loading applications now...Can't locate object method "new" via package "Term::ReadLine::Gnu" at /srv/public/kliem/sage/local/share/polymake/perllib/Polymake/Core/Shell.pm line 30.
> > ```

> 
> Looks like `perl_term_readline_gnu` is not installed correctly.
> 
> 
> 

According to `dpkg -s libterm-readline-gnu-perl` I have version 1.36-1 installed. But anyway, it is not a huge issue to me, as installiing `jupymake` solved this all.



---

archive/issue_comments_511714.json:
```json
{
    "body": "**Changing commit** from \"[ba0a4795da6ebee8cf9db55116df6afe737466e2](https://github.com/sagemath/sagetrac-mirror/commit/ba0a4795da6ebee8cf9db55116df6afe737466e2)\" to \"[609e08d347c9f7b73abc82705c1ce6179ce50c5d](https://github.com/sagemath/sagetrac-mirror/commit/609e08d347c9f7b73abc82705c1ce6179ce50c5d)\".",
    "created_at": "2021-05-26T07:20:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511714",
    "user": "https://github.com/kliem"
}
```

**Changing commit** from "[ba0a4795da6ebee8cf9db55116df6afe737466e2](https://github.com/sagemath/sagetrac-mirror/commit/ba0a4795da6ebee8cf9db55116df6afe737466e2)" to "[609e08d347c9f7b73abc82705c1ce6179ce50c5d](https://github.com/sagemath/sagetrac-mirror/commit/609e08d347c9f7b73abc82705c1ce6179ce50c5d)".



---

archive/issue_comments_511715.json:
```json
{
    "body": "**Changing branch** from \"[u/mkoeppe/lrslib071a_polymake44_upgrade-27745](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/lrslib071a_polymake44_upgrade-27745)\" to \"[u/gh-kliem/lrslib071a_polymake44_upgrade-27745](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-kliem/lrslib071a_polymake44_upgrade-27745)\".",
    "created_at": "2021-05-26T07:20:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511715",
    "user": "https://github.com/kliem"
}
```

**Changing branch** from "[u/mkoeppe/lrslib071a_polymake44_upgrade-27745](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/lrslib071a_polymake44_upgrade-27745)" to "[u/gh-kliem/lrslib071a_polymake44_upgrade-27745](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-kliem/lrslib071a_polymake44_upgrade-27745)".



---

archive/issue_comments_511716.json:
```json
{
    "body": "<a id='comment:2'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/609e08d347c9f7b73abc82705c1ce6179ce50c5d\">609e08d</a></td><td><code>more meaningful error message when pexpect-base interface fails to start</code></td></tr></table>\n",
    "created_at": "2021-05-26T07:20:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511716",
    "user": "https://github.com/kliem"
}
```

<a id='comment:2'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/609e08d347c9f7b73abc82705c1ce6179ce50c5d">609e08d</a></td><td><code>more meaningful error message when pexpect-base interface fails to start</code></td></tr></table>




---

archive/issue_comments_511717.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e664be475bd24a0ab5a4bd80bd62de2ee2397c89\">e664be4</a></td><td><code>recreate the polymake polytope unconditionally</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/310b7004df445f9ef41cda58091bbd7fd0274d89\">310b700</a></td><td><code>more tests for pickling and some fixes</code></td></tr></table>\n",
    "created_at": "2021-05-26T09:13:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511717",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e664be475bd24a0ab5a4bd80bd62de2ee2397c89">e664be4</a></td><td><code>recreate the polymake polytope unconditionally</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/310b7004df445f9ef41cda58091bbd7fd0274d89">310b700</a></td><td><code>more tests for pickling and some fixes</code></td></tr></table>




---

archive/issue_comments_511718.json:
```json
{
    "body": "**Changing commit** from \"[609e08d347c9f7b73abc82705c1ce6179ce50c5d](https://github.com/sagemath/sagetrac-mirror/commit/609e08d347c9f7b73abc82705c1ce6179ce50c5d)\" to \"[310b7004df445f9ef41cda58091bbd7fd0274d89](https://github.com/sagemath/sagetrac-mirror/commit/310b7004df445f9ef41cda58091bbd7fd0274d89)\".",
    "created_at": "2021-05-26T09:13:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511718",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[609e08d347c9f7b73abc82705c1ce6179ce50c5d](https://github.com/sagemath/sagetrac-mirror/commit/609e08d347c9f7b73abc82705c1ce6179ce50c5d)" to "[310b7004df445f9ef41cda58091bbd7fd0274d89](https://github.com/sagemath/sagetrac-mirror/commit/310b7004df445f9ef41cda58091bbd7fd0274d89)".



---

archive/issue_comments_511719.json:
```json
{
    "body": "<a id='comment:4'></a>\n`polymake` has specific options for precomputed data, so that it takes the input unconditionally.\n\nIf we do not use it, our pickling/unpickling is even worse than recreating the polytope:\n\nBefore my commits:\n\n```\nsage: %time P = polytopes.hypercube(8, backend='polymake')                                                                                                                                                                                                                                                                                                                 \nCPU times: user 3.16 s, sys: 200 ms, total: 3.36 s\nWall time: 3.36 s\nsage: %time P1 = loads(dumps(P))                                                                                                                                                                                                                                                                                                                                           \nCPU times: user 828 ms, sys: 35.9 ms, total: 864 ms\nWall time: 863 ms\nsage: %time P._polymake_polytope.F_VECTOR                                                                                                                                                                                                                                                                                                                                  \nCPU times: user 18.4 ms, sys: 162 \u00b5s, total: 18.6 ms\nWall time: 18.5 ms\n256 1024 1792 1792 1120 448 112 16\nsage: %time P1._polymake_polytope.F_VECTOR                                                                                                                                                                                                                                                                                                                                 \nCPU times: user 12.5 s, sys: 0 ns, total: 12.5 s\nWall time: 12.5 s\n256 1024 1792 1792 1120 448 112 16\n```\n\nAfter:\n\n```\nsage: %time P = polytopes.hypercube(8, backend='polymake')                                                                                                                                                                                                                                                                                                                 \nCPU times: user 4.63 s, sys: 287 ms, total: 4.92 s\nWall time: 4.92 s\nsage: %time P1 = loads(dumps(P))                                                                                                                                                                                                                                                                                                                                           \nCPU times: user 842 ms, sys: 39.8 ms, total: 882 ms\nWall time: 881 ms\nsage: %time P._polymake_polytope.F_VECTOR                                                                                                                                                                                                                                                                                                                                  \nCPU times: user 18.7 ms, sys: 168 \u00b5s, total: 18.8 ms\nWall time: 18.7 ms\n256 1024 1792 1792 1120 448 112 16\nsage: %time P1._polymake_polytope.F_VECTOR                                                                                                                                                                                                                                                                                                                                 \nCPU times: user 27.3 ms, sys: 0 ns, total: 27.3 ms\nWall time: 27.1 ms\n256 1024 1792 1792 1120 448 112 16\n```",
    "created_at": "2021-05-26T09:22:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511719",
    "user": "https://github.com/kliem"
}
```

<a id='comment:4'></a>
`polymake` has specific options for precomputed data, so that it takes the input unconditionally.

If we do not use it, our pickling/unpickling is even worse than recreating the polytope:

Before my commits:

```
sage: %time P = polytopes.hypercube(8, backend='polymake')                                                                                                                                                                                                                                                                                                                 
CPU times: user 3.16 s, sys: 200 ms, total: 3.36 s
Wall time: 3.36 s
sage: %time P1 = loads(dumps(P))                                                                                                                                                                                                                                                                                                                                           
CPU times: user 828 ms, sys: 35.9 ms, total: 864 ms
Wall time: 863 ms
sage: %time P._polymake_polytope.F_VECTOR                                                                                                                                                                                                                                                                                                                                  
CPU times: user 18.4 ms, sys: 162 µs, total: 18.6 ms
Wall time: 18.5 ms
256 1024 1792 1792 1120 448 112 16
sage: %time P1._polymake_polytope.F_VECTOR                                                                                                                                                                                                                                                                                                                                 
CPU times: user 12.5 s, sys: 0 ns, total: 12.5 s
Wall time: 12.5 s
256 1024 1792 1792 1120 448 112 16
```

After:

```
sage: %time P = polytopes.hypercube(8, backend='polymake')                                                                                                                                                                                                                                                                                                                 
CPU times: user 4.63 s, sys: 287 ms, total: 4.92 s
Wall time: 4.92 s
sage: %time P1 = loads(dumps(P))                                                                                                                                                                                                                                                                                                                                           
CPU times: user 842 ms, sys: 39.8 ms, total: 882 ms
Wall time: 881 ms
sage: %time P._polymake_polytope.F_VECTOR                                                                                                                                                                                                                                                                                                                                  
CPU times: user 18.7 ms, sys: 168 µs, total: 18.8 ms
Wall time: 18.7 ms
256 1024 1792 1792 1120 448 112 16
sage: %time P1._polymake_polytope.F_VECTOR                                                                                                                                                                                                                                                                                                                                 
CPU times: user 27.3 ms, sys: 0 ns, total: 27.3 ms
Wall time: 27.1 ms
256 1024 1792 1792 1120 448 112 16
```



---

archive/issue_comments_511720.json:
```json
{
    "body": "**Changing commit** from \"[310b7004df445f9ef41cda58091bbd7fd0274d89](https://github.com/sagemath/sagetrac-mirror/commit/310b7004df445f9ef41cda58091bbd7fd0274d89)\" to \"[f58a2672fb9d5197e9aabc1d2eb5a231754d3bf7](https://github.com/sagemath/sagetrac-mirror/commit/f58a2672fb9d5197e9aabc1d2eb5a231754d3bf7)\".",
    "created_at": "2021-05-26T09:40:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511720",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[310b7004df445f9ef41cda58091bbd7fd0274d89](https://github.com/sagemath/sagetrac-mirror/commit/310b7004df445f9ef41cda58091bbd7fd0274d89)" to "[f58a2672fb9d5197e9aabc1d2eb5a231754d3bf7](https://github.com/sagemath/sagetrac-mirror/commit/f58a2672fb9d5197e9aabc1d2eb5a231754d3bf7)".



---

archive/issue_comments_511721.json:
```json
{
    "body": "<a id='comment:5'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f58a2672fb9d5197e9aabc1d2eb5a231754d3bf7\">f58a267</a></td><td><code>fix the far facet issue</code></td></tr></table>\n",
    "created_at": "2021-05-26T09:40:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511721",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f58a2672fb9d5197e9aabc1d2eb5a231754d3bf7">f58a267</a></td><td><code>fix the far facet issue</code></td></tr></table>




---

archive/issue_comments_511722.json:
```json
{
    "body": "**Changing author** from \"Matthias Koeppe\" to \"Matthias Koeppe, Jonathan Kliem\".",
    "created_at": "2021-05-26T14:09:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511722",
    "user": "https://github.com/mkoeppe"
}
```

**Changing author** from "Matthias Koeppe" to "Matthias Koeppe, Jonathan Kliem".



---

archive/issue_comments_511723.json:
```json
{
    "body": "<a id='comment:7'></a>\nLooks like commit ba0a479 got lost",
    "created_at": "2021-05-26T14:20:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511723",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:7'></a>
Looks like commit ba0a479 got lost



---

archive/issue_comments_511724.json:
```json
{
    "body": "**Changing commit** from \"[f58a2672fb9d5197e9aabc1d2eb5a231754d3bf7](https://github.com/sagemath/sagetrac-mirror/commit/f58a2672fb9d5197e9aabc1d2eb5a231754d3bf7)\" to \"[ba83771cc2f7bd58b252cdb9dff9453587022007](https://github.com/sagemath/sagetrac-mirror/commit/ba83771cc2f7bd58b252cdb9dff9453587022007)\".",
    "created_at": "2021-05-26T14:36:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511724",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[f58a2672fb9d5197e9aabc1d2eb5a231754d3bf7](https://github.com/sagemath/sagetrac-mirror/commit/f58a2672fb9d5197e9aabc1d2eb5a231754d3bf7)" to "[ba83771cc2f7bd58b252cdb9dff9453587022007](https://github.com/sagemath/sagetrac-mirror/commit/ba83771cc2f7bd58b252cdb9dff9453587022007)".



---

archive/issue_comments_511725.json:
```json
{
    "body": "<a id='comment:8'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ba0a4795da6ebee8cf9db55116df6afe737466e2\">ba0a479</a></td><td><code>src/sage/interfaces/polymake.py: Mark doctests specific to the deprecated pexpect-based interface as optional - polymake_expect</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ba83771cc2f7bd58b252cdb9dff9453587022007\">ba83771</a></td><td><code>Merge branch 'u/mkoeppe/lrslib071a_polymake44_upgrade-27745' of git://trac.sagemath.org/sage into u/gh-kliem/lrslib071a_polymake44_upgrade-27745</code></td></tr></table>\n",
    "created_at": "2021-05-26T14:36:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511725",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ba0a4795da6ebee8cf9db55116df6afe737466e2">ba0a479</a></td><td><code>src/sage/interfaces/polymake.py: Mark doctests specific to the deprecated pexpect-based interface as optional - polymake_expect</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ba83771cc2f7bd58b252cdb9dff9453587022007">ba83771</a></td><td><code>Merge branch 'u/mkoeppe/lrslib071a_polymake44_upgrade-27745' of git://trac.sagemath.org/sage into u/gh-kliem/lrslib071a_polymake44_upgrade-27745</code></td></tr></table>




---

archive/issue_comments_511726.json:
```json
{
    "body": "<a id='comment:9'></a>\nThanks for catching this.",
    "created_at": "2021-05-26T14:36:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511726",
    "user": "https://github.com/kliem"
}
```

<a id='comment:9'></a>
Thanks for catching this.



---

archive/issue_comments_511727.json:
```json
{
    "body": "<a id='comment:0'></a>\nI'm happy with these changes.",
    "created_at": "2021-05-26T17:14:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511727",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:0'></a>
I'm happy with these changes.



---

archive/issue_comments_511728.json:
```json
{
    "body": "**Changing reviewer** from \"Thierry Monteil\" to \"Thierry Monteil, Matthias Koeppe\".",
    "created_at": "2021-05-26T17:14:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511728",
    "user": "https://github.com/mkoeppe"
}
```

**Changing reviewer** from "Thierry Monteil" to "Thierry Monteil, Matthias Koeppe".



---

archive/issue_comments_511729.json:
```json
{
    "body": "<a id='comment:1'></a>\nI am also happy with the current state. We can do more work later on with any specific issue (in particular, the `_test_lawrence` as I suspect that was already an issue before this). Based on everything, I am setting to a positive review. If there are any objections, feel free to revert.",
    "created_at": "2021-05-27T07:57:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511729",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:1'></a>
I am also happy with the current state. We can do more work later on with any specific issue (in particular, the `_test_lawrence` as I suspect that was already an issue before this). Based on everything, I am setting to a positive review. If there are any objections, feel free to revert.



---

archive/issue_comments_511730.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2021-05-27T07:57:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511730",
    "user": "https://github.com/tscrim"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_511731.json:
```json
{
    "body": "**Changing reviewer** from \"Thierry Monteil, Matthias Koeppe\" to \"Thierry Monteil, Matthias Koeppe, Travis Scrimshaw\".",
    "created_at": "2021-05-27T07:57:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511731",
    "user": "https://github.com/tscrim"
}
```

**Changing reviewer** from "Thierry Monteil, Matthias Koeppe" to "Thierry Monteil, Matthias Koeppe, Travis Scrimshaw".



---

archive/issue_comments_511732.json:
```json
{
    "body": "<a id='comment:2'></a>\nThanks!",
    "created_at": "2021-05-27T16:31:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511732",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>
Thanks!



---

archive/issue_comments_511733.json:
```json
{
    "body": "**Changing status** from positive_review to needs_work.",
    "created_at": "2021-06-07T23:04:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511733",
    "user": "https://github.com/vbraun"
}
```

**Changing status** from positive_review to needs_work.



---

archive/issue_comments_511734.json:
```json
{
    "body": "<a id='comment:3'></a>\n\n```\n**********************************************************************\nFile \"src/sage/interfaces/polymake.py\", line 187, in sage.interfaces.polymake.PolymakeAbstract.version\nFailed example:\n    Polymake(command='foobar').version()\nExpected:\n    Traceback (most recent call last):\n    ...\n    RuntimeError: unable to start polymake because the command 'foobar' failed:\n    The command was not found or was not executable: foobar.\n    Please install the optional polymake package for sage (but read its SPKG.txt first!)\n    or install polymake system-wide\nGot:\n    doctest:warning\n      File \"/home/release/Sage/src/bin/sage-runtests\", line 144, in <module>\n        err = DC.run()\n      File \"/home/release/Sage/local/lib64/python3.9/site-packages/sage/doctest/control.py\", line 1207, in run\n        self.run_doctests()\n      File \"/home/release/Sage/local/lib64/python3.9/site-packages/sage/doctest/control.py\", line 909, in run_doctests\n        self.dispatcher.dispatch()\n      File \"/home/release/Sage/local/lib64/python3.9/site-packages/sage/doctest/forker.py\", line 2040, in dispatch\n        self.parallel_dispatch()\n      File \"/home/release/Sage/local/lib64/python3.9/site-packages/sage/doctest/forker.py\", line 1935, in parallel_dispatch\n        w.start()  # This might take some time\n      File \"/home/release/Sage/local/lib64/python3.9/site-packages/sage/doctest/forker.py\", line 2207, in start\n        super(DocTestWorker, self).start()\n      File \"/usr/lib64/python3.9/multiprocessing/process.py\", line 121, in start\n        self._popen = self._Popen(self)\n      File \"/usr/lib64/python3.9/multiprocessing/context.py\", line 224, in _Popen\n        return _default_context.get_context().Process._Popen(process_obj)\n      File \"/usr/lib64/python3.9/multiprocessing/context.py\", line 277, in _Popen\n        return Popen(process_obj)\n      File \"/usr/lib64/python3.9/multiprocessing/popen_fork.py\", line 19, in __init__\n        self._launch(process_obj)\n      File \"/usr/lib64/python3.9/multiprocessing/popen_fork.py\", line 71, in _launch\n        code = process_obj._bootstrap(parent_sentinel=child_r)\n      File \"/usr/lib64/python3.9/multiprocessing/process.py\", line 315, in _bootstrap\n        self.run()\n      File \"/home/release/Sage/local/lib64/python3.9/site-packages/sage/doctest/forker.py\", line 2179, in run\n        task(self.options, self.outtmpfile, msgpipe, self.result_queue)\n      File \"/home/release/Sage/local/lib64/python3.9/site-packages/sage/doctest/forker.py\", line 2508, in __call__\n        doctests, extras = self._run(runner, options, results)\n      File \"/home/release/Sage/local/lib64/python3.9/site-packages/sage/doctest/forker.py\", line 2555, in _run\n        result = runner.run(test)\n      File \"/home/release/Sage/local/lib64/python3.9/site-packages/sage/doctest/forker.py\", line 906, in run\n        return self._run(test, compileflags, out)\n      File \"/home/release/Sage/local/lib64/python3.9/site-packages/sage/doctest/forker.py\", line 714, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/release/Sage/local/lib64/python3.9/site-packages/sage/doctest/forker.py\", line 1133, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.interfaces.polymake.PolymakeAbstract.version[1]>\", line 1, in <module>\n        Polymake(command='foobar').version()\n      File \"/home/release/Sage/local/lib64/python3.9/site-packages/sage/interfaces/polymake.py\", line 196, in version\n        return self.get('$Polymake::Version')\n      File \"/home/release/Sage/local/lib64/python3.9/site-packages/sage/interfaces/polymake.py\", line 617, in get\n        return self.eval(\"print {};\".format(cmd)).strip()\n      File \"/home/release/Sage/local/lib64/python3.9/site-packages/sage/interfaces/expect.py\", line 1381, in eval\n        return '\\n'.join([self._eval_line(L, allow_use_file=allow_use_file, **kwds)\n      File \"/home/release/Sage/local/lib64/python3.9/site-packages/sage/interfaces/expect.py\", line 1381, in <listcomp>\n        return '\\n'.join([self._eval_line(L, allow_use_file=allow_use_file, **kwds)\n      File \"/home/release/Sage/local/lib64/python3.9/site-packages/sage/interfaces/polymake.py\", line 2120, in _eval_line\n        self._start()\n      File \"/home/release/Sage/local/lib64/python3.9/site-packages/sage/interfaces/polymake.py\", line 1851, in _start\n        deprecation(27745, \"the pexpect-based interface to polymake is deprecated. Install package jupymake so that Sage can use the more robust jupymake-based interface to polymake\")\n      File \"/home/release/Sage/local/lib64/python3.9/site-packages/sage/misc/superseded.py\", line 99, in deprecation\n        warning(trac_number, message, DeprecationWarning, stacklevel)\n      File \"/home/release/Sage/local/lib64/python3.9/site-packages/sage/misc/superseded.py\", line 145, in warning\n        warn(message, warning_class, stacklevel)\n      File \"/usr/lib64/python3.9/warnings.py\", line 109, in _showwarnmsg\n        sw(msg.message, msg.category, msg.filename, msg.lineno,\n    :\n    DeprecationWarning: the pexpect-based interface to polymake is deprecated. Install package jupymake so that Sage can use the more robust jupymake-based interface to polymake\n    See https://trac.sagemath.org/27745 for details.\n    Traceback (most recent call last):\n      File \"/home/release/Sage/local/lib64/python3.9/site-packages/sage/interfaces/expect.py\", line 492, in _start\n        self._expect = SageSpawn(cmd,\n      File \"sage/interfaces/sagespawn.pyx\", line 65, in sage.interfaces.sagespawn.SageSpawn.__init__ (build/cythonized/sage/interfaces/sagespawn.c:1984)\n        with ContainChildren(silent=True):\n      File \"sage/interfaces/sagespawn.pyx\", line 66, in sage.interfaces.sagespawn.SageSpawn.__init__ (build/cythonized/sage/interfaces/sagespawn.c:1938)\n        spawn.__init__(self, *args, **kwds)\n      File \"/home/release/Sage/local/lib64/python3.9/site-packages/pexpect/pty_spawn.py\", line 205, in __init__\n        self._spawn(command, args, preexec_fn, dimensions)\n      File \"/home/release/Sage/local/lib64/python3.9/site-packages/pexpect/pty_spawn.py\", line 276, in _spawn\n        raise ExceptionPexpect('The command was not found or was not ' +\n    pexpect.exceptions.ExceptionPexpect: The command was not found or was not executable: foobar.\n    <BLANKLINE>\n    During handling of the above exception, another exception occurred:\n    <BLANKLINE>\n    Traceback (most recent call last):\n      File \"/home/release/Sage/local/lib64/python3.9/site-packages/sage/interfaces/polymake.py\", line 1856, in _start\n        Expect._start(self, alt_message=None)\n      File \"/home/release/Sage/local/lib64/python3.9/site-packages/sage/interfaces/expect.py\", line 503, in _start\n        raise RuntimeError(\"unable to start %s because the command %r failed: %s\\n%s\" %\n    RuntimeError: unable to start polymake because the command 'foobar' failed: The command was not found or was not executable: foobar.\n    Please install the optional polymake package for sage  (but read its SPKG.txt first!)\n    or install polymake system-wide\n    <BLANKLINE>\n    During handling of the above exception, another exception occurred:\n    <BLANKLINE>\n    Traceback (most recent call last):\n      File \"/home/release/Sage/local/lib64/python3.9/site-packages/sage/doctest/forker.py\", line 714, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/release/Sage/local/lib64/python3.9/site-packages/sage/doctest/forker.py\", line 1133, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.interfaces.polymake.PolymakeAbstract.version[1]>\", line 1, in <module>\n        Polymake(command='foobar').version()\n      File \"sage/misc/cachefunc.pyx\", line 2310, in sage.misc.cachefunc.CachedMethodCallerNoArgs.__call__ (build/cythonized/sage/misc/cachefunc.c:12906)\n        self.cache = f(self._instance)\n      File \"/home/release/Sage/local/lib64/python3.9/site-packages/sage/interfaces/polymake.py\", line 196, in version\n        return self.get('$Polymake::Version')\n      File \"/home/release/Sage/local/lib64/python3.9/site-packages/sage/interfaces/polymake.py\", line 617, in get\n        return self.eval(\"print {};\".format(cmd)).strip()\n      File \"/home/release/Sage/local/lib64/python3.9/site-packages/sage/interfaces/expect.py\", line 1381, in eval\n        return '\\n'.join([self._eval_line(L, allow_use_file=allow_use_file, **kwds)\n      File \"/home/release/Sage/local/lib64/python3.9/site-packages/sage/interfaces/expect.py\", line 1381, in <listcomp>\n        return '\\n'.join([self._eval_line(L, allow_use_file=allow_use_file, **kwds)\n      File \"/home/release/Sage/local/lib64/python3.9/site-packages/sage/interfaces/polymake.py\", line 2120, in _eval_line\n        self._start()\n      File \"/home/release/Sage/local/lib64/python3.9/site-packages/sage/interfaces/polymake.py\", line 1858, in _start\n        raise RuntimeError(\"runtime error with deprecated pexpect-base interface to polymake; please install jupymake\")\n    RuntimeError: runtime error with deprecated pexpect-base interface to polymake; please install jupymake\n**********************************************************************\n1 item had failures:\n   1 of   3 in sage.interfaces.polymake.PolymakeAbstract.version\n    [54 tests, 1 failure, 0.03 s]\n----------------------------------------------------------------------\nsage -t --long --warn-long 47.5 --random-seed=0 src/sage/interfaces/polymake.py  # 1 doctest failed\n----------------------------------------------------------------------\n\n```",
    "created_at": "2021-06-07T23:04:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511734",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:3'></a>

```
**********************************************************************
File "src/sage/interfaces/polymake.py", line 187, in sage.interfaces.polymake.PolymakeAbstract.version
Failed example:
    Polymake(command='foobar').version()
Expected:
    Traceback (most recent call last):
    ...
    RuntimeError: unable to start polymake because the command 'foobar' failed:
    The command was not found or was not executable: foobar.
    Please install the optional polymake package for sage (but read its SPKG.txt first!)
    or install polymake system-wide
Got:
    doctest:warning
      File "/home/release/Sage/src/bin/sage-runtests", line 144, in <module>
        err = DC.run()
      File "/home/release/Sage/local/lib64/python3.9/site-packages/sage/doctest/control.py", line 1207, in run
        self.run_doctests()
      File "/home/release/Sage/local/lib64/python3.9/site-packages/sage/doctest/control.py", line 909, in run_doctests
        self.dispatcher.dispatch()
      File "/home/release/Sage/local/lib64/python3.9/site-packages/sage/doctest/forker.py", line 2040, in dispatch
        self.parallel_dispatch()
      File "/home/release/Sage/local/lib64/python3.9/site-packages/sage/doctest/forker.py", line 1935, in parallel_dispatch
        w.start()  # This might take some time
      File "/home/release/Sage/local/lib64/python3.9/site-packages/sage/doctest/forker.py", line 2207, in start
        super(DocTestWorker, self).start()
      File "/usr/lib64/python3.9/multiprocessing/process.py", line 121, in start
        self._popen = self._Popen(self)
      File "/usr/lib64/python3.9/multiprocessing/context.py", line 224, in _Popen
        return _default_context.get_context().Process._Popen(process_obj)
      File "/usr/lib64/python3.9/multiprocessing/context.py", line 277, in _Popen
        return Popen(process_obj)
      File "/usr/lib64/python3.9/multiprocessing/popen_fork.py", line 19, in __init__
        self._launch(process_obj)
      File "/usr/lib64/python3.9/multiprocessing/popen_fork.py", line 71, in _launch
        code = process_obj._bootstrap(parent_sentinel=child_r)
      File "/usr/lib64/python3.9/multiprocessing/process.py", line 315, in _bootstrap
        self.run()
      File "/home/release/Sage/local/lib64/python3.9/site-packages/sage/doctest/forker.py", line 2179, in run
        task(self.options, self.outtmpfile, msgpipe, self.result_queue)
      File "/home/release/Sage/local/lib64/python3.9/site-packages/sage/doctest/forker.py", line 2508, in __call__
        doctests, extras = self._run(runner, options, results)
      File "/home/release/Sage/local/lib64/python3.9/site-packages/sage/doctest/forker.py", line 2555, in _run
        result = runner.run(test)
      File "/home/release/Sage/local/lib64/python3.9/site-packages/sage/doctest/forker.py", line 906, in run
        return self._run(test, compileflags, out)
      File "/home/release/Sage/local/lib64/python3.9/site-packages/sage/doctest/forker.py", line 714, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/release/Sage/local/lib64/python3.9/site-packages/sage/doctest/forker.py", line 1133, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.interfaces.polymake.PolymakeAbstract.version[1]>", line 1, in <module>
        Polymake(command='foobar').version()
      File "/home/release/Sage/local/lib64/python3.9/site-packages/sage/interfaces/polymake.py", line 196, in version
        return self.get('$Polymake::Version')
      File "/home/release/Sage/local/lib64/python3.9/site-packages/sage/interfaces/polymake.py", line 617, in get
        return self.eval("print {};".format(cmd)).strip()
      File "/home/release/Sage/local/lib64/python3.9/site-packages/sage/interfaces/expect.py", line 1381, in eval
        return '\n'.join([self._eval_line(L, allow_use_file=allow_use_file, **kwds)
      File "/home/release/Sage/local/lib64/python3.9/site-packages/sage/interfaces/expect.py", line 1381, in <listcomp>
        return '\n'.join([self._eval_line(L, allow_use_file=allow_use_file, **kwds)
      File "/home/release/Sage/local/lib64/python3.9/site-packages/sage/interfaces/polymake.py", line 2120, in _eval_line
        self._start()
      File "/home/release/Sage/local/lib64/python3.9/site-packages/sage/interfaces/polymake.py", line 1851, in _start
        deprecation(27745, "the pexpect-based interface to polymake is deprecated. Install package jupymake so that Sage can use the more robust jupymake-based interface to polymake")
      File "/home/release/Sage/local/lib64/python3.9/site-packages/sage/misc/superseded.py", line 99, in deprecation
        warning(trac_number, message, DeprecationWarning, stacklevel)
      File "/home/release/Sage/local/lib64/python3.9/site-packages/sage/misc/superseded.py", line 145, in warning
        warn(message, warning_class, stacklevel)
      File "/usr/lib64/python3.9/warnings.py", line 109, in _showwarnmsg
        sw(msg.message, msg.category, msg.filename, msg.lineno,
    :
    DeprecationWarning: the pexpect-based interface to polymake is deprecated. Install package jupymake so that Sage can use the more robust jupymake-based interface to polymake
    See https://trac.sagemath.org/27745 for details.
    Traceback (most recent call last):
      File "/home/release/Sage/local/lib64/python3.9/site-packages/sage/interfaces/expect.py", line 492, in _start
        self._expect = SageSpawn(cmd,
      File "sage/interfaces/sagespawn.pyx", line 65, in sage.interfaces.sagespawn.SageSpawn.__init__ (build/cythonized/sage/interfaces/sagespawn.c:1984)
        with ContainChildren(silent=True):
      File "sage/interfaces/sagespawn.pyx", line 66, in sage.interfaces.sagespawn.SageSpawn.__init__ (build/cythonized/sage/interfaces/sagespawn.c:1938)
        spawn.__init__(self, *args, **kwds)
      File "/home/release/Sage/local/lib64/python3.9/site-packages/pexpect/pty_spawn.py", line 205, in __init__
        self._spawn(command, args, preexec_fn, dimensions)
      File "/home/release/Sage/local/lib64/python3.9/site-packages/pexpect/pty_spawn.py", line 276, in _spawn
        raise ExceptionPexpect('The command was not found or was not ' +
    pexpect.exceptions.ExceptionPexpect: The command was not found or was not executable: foobar.
    <BLANKLINE>
    During handling of the above exception, another exception occurred:
    <BLANKLINE>
    Traceback (most recent call last):
      File "/home/release/Sage/local/lib64/python3.9/site-packages/sage/interfaces/polymake.py", line 1856, in _start
        Expect._start(self, alt_message=None)
      File "/home/release/Sage/local/lib64/python3.9/site-packages/sage/interfaces/expect.py", line 503, in _start
        raise RuntimeError("unable to start %s because the command %r failed: %s\n%s" %
    RuntimeError: unable to start polymake because the command 'foobar' failed: The command was not found or was not executable: foobar.
    Please install the optional polymake package for sage  (but read its SPKG.txt first!)
    or install polymake system-wide
    <BLANKLINE>
    During handling of the above exception, another exception occurred:
    <BLANKLINE>
    Traceback (most recent call last):
      File "/home/release/Sage/local/lib64/python3.9/site-packages/sage/doctest/forker.py", line 714, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/release/Sage/local/lib64/python3.9/site-packages/sage/doctest/forker.py", line 1133, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.interfaces.polymake.PolymakeAbstract.version[1]>", line 1, in <module>
        Polymake(command='foobar').version()
      File "sage/misc/cachefunc.pyx", line 2310, in sage.misc.cachefunc.CachedMethodCallerNoArgs.__call__ (build/cythonized/sage/misc/cachefunc.c:12906)
        self.cache = f(self._instance)
      File "/home/release/Sage/local/lib64/python3.9/site-packages/sage/interfaces/polymake.py", line 196, in version
        return self.get('$Polymake::Version')
      File "/home/release/Sage/local/lib64/python3.9/site-packages/sage/interfaces/polymake.py", line 617, in get
        return self.eval("print {};".format(cmd)).strip()
      File "/home/release/Sage/local/lib64/python3.9/site-packages/sage/interfaces/expect.py", line 1381, in eval
        return '\n'.join([self._eval_line(L, allow_use_file=allow_use_file, **kwds)
      File "/home/release/Sage/local/lib64/python3.9/site-packages/sage/interfaces/expect.py", line 1381, in <listcomp>
        return '\n'.join([self._eval_line(L, allow_use_file=allow_use_file, **kwds)
      File "/home/release/Sage/local/lib64/python3.9/site-packages/sage/interfaces/polymake.py", line 2120, in _eval_line
        self._start()
      File "/home/release/Sage/local/lib64/python3.9/site-packages/sage/interfaces/polymake.py", line 1858, in _start
        raise RuntimeError("runtime error with deprecated pexpect-base interface to polymake; please install jupymake")
    RuntimeError: runtime error with deprecated pexpect-base interface to polymake; please install jupymake
**********************************************************************
1 item had failures:
   1 of   3 in sage.interfaces.polymake.PolymakeAbstract.version
    [54 tests, 1 failure, 0.03 s]
----------------------------------------------------------------------
sage -t --long --warn-long 47.5 --random-seed=0 src/sage/interfaces/polymake.py  # 1 doctest failed
----------------------------------------------------------------------

```



---

archive/issue_comments_511735.json:
```json
{
    "body": "**Changing branch** from \"[u/gh-kliem/lrslib071a_polymake44_upgrade-27745](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-kliem/lrslib071a_polymake44_upgrade-27745)\" to \"[u/mkoeppe/lrslib071a_polymake44_upgrade-27745](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/lrslib071a_polymake44_upgrade-27745)\".",
    "created_at": "2021-06-11T19:52:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511735",
    "user": "https://github.com/mkoeppe"
}
```

**Changing branch** from "[u/gh-kliem/lrslib071a_polymake44_upgrade-27745](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-kliem/lrslib071a_polymake44_upgrade-27745)" to "[u/mkoeppe/lrslib071a_polymake44_upgrade-27745](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/lrslib071a_polymake44_upgrade-27745)".



---

archive/issue_comments_511736.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2021-06-11T19:52:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511736",
    "user": "https://github.com/mkoeppe"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_511737.json:
```json
{
    "body": "<a id='comment:5'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a01dcd2d235a7b20406ba959d776616076574758\">a01dcd2</a></td><td><code>PolymakeExpect: If startup fails, only mention deprecation once. Update polymake install info, fix doctest</code></td></tr></table>\n",
    "created_at": "2021-06-11T19:52:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511737",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:5'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a01dcd2d235a7b20406ba959d776616076574758">a01dcd2</a></td><td><code>PolymakeExpect: If startup fails, only mention deprecation once. Update polymake install info, fix doctest</code></td></tr></table>




---

archive/issue_comments_511738.json:
```json
{
    "body": "**Changing commit** from \"[ba83771cc2f7bd58b252cdb9dff9453587022007](https://github.com/sagemath/sagetrac-mirror/commit/ba83771cc2f7bd58b252cdb9dff9453587022007)\" to \"[a01dcd2d235a7b20406ba959d776616076574758](https://github.com/sagemath/sagetrac-mirror/commit/a01dcd2d235a7b20406ba959d776616076574758)\".",
    "created_at": "2021-06-11T19:52:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511738",
    "user": "https://github.com/mkoeppe"
}
```

**Changing commit** from "[ba83771cc2f7bd58b252cdb9dff9453587022007](https://github.com/sagemath/sagetrac-mirror/commit/ba83771cc2f7bd58b252cdb9dff9453587022007)" to "[a01dcd2d235a7b20406ba959d776616076574758](https://github.com/sagemath/sagetrac-mirror/commit/a01dcd2d235a7b20406ba959d776616076574758)".



---

archive/issue_comments_511739.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2021-06-12T08:47:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511739",
    "user": "https://github.com/tscrim"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_511740.json:
```json
{
    "body": "<a id='comment:7'></a>\nThanks!",
    "created_at": "2021-06-12T13:45:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511740",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:7'></a>
Thanks!



---

archive/issue_comments_511741.json:
```json
{
    "body": "<a id='comment:8'></a>\nWhen testing with --optional=lrslib I get\n\n```\nsage -t --long --random-seed=0 src/sage/game_theory/catalog_normal_form_games.py  # 16 doctests failed\nsage -t --long --random-seed=0 src/sage/game_theory/parser.py  # 6 doctests failed\nsage -t --long --random-seed=0 src/sage/game_theory/normal_form_game.py  # 19 doctests failed\n```\nE.g.\n\n```\nFile \"src/sage/game_theory/parser.py\", line 158, in sage.game_theory.parser.Parser.format_lrs\nFailed example:\n    lrs_output[5:16]  # optional - lrslib\nExpected:\n    ['\\n',\n     '***** 4 4 rational\\n',\n     '2  0  1  2 \\n',\n     '1  1/2  1/2 -2 \\n',\n     '\\n',\n     '2  0  1  2 \\n',\n     '1  0  1 -2 \\n',\n     '\\n',\n     '\\n',\n     '*Number of equilibria found: 2\\n',\n     '*Player 1: vertices=3 bases=3 pivots=5\\n']\nGot:\n    []\n```",
    "created_at": "2021-06-20T07:26:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511741",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:8'></a>
When testing with --optional=lrslib I get

```
sage -t --long --random-seed=0 src/sage/game_theory/catalog_normal_form_games.py  # 16 doctests failed
sage -t --long --random-seed=0 src/sage/game_theory/parser.py  # 6 doctests failed
sage -t --long --random-seed=0 src/sage/game_theory/normal_form_game.py  # 19 doctests failed
```
E.g.

```
File "src/sage/game_theory/parser.py", line 158, in sage.game_theory.parser.Parser.format_lrs
Failed example:
    lrs_output[5:16]  # optional - lrslib
Expected:
    ['\n',
     '***** 4 4 rational\n',
     '2  0  1  2 \n',
     '1  1/2  1/2 -2 \n',
     '\n',
     '2  0  1  2 \n',
     '1  0  1 -2 \n',
     '\n',
     '\n',
     '*Number of equilibria found: 2\n',
     '*Player 1: vertices=3 bases=3 pivots=5\n']
Got:
    []
```



---

archive/issue_comments_511742.json:
```json
{
    "body": "**Changing status** from positive_review to needs_work.",
    "created_at": "2021-06-20T07:26:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511742",
    "user": "https://github.com/vbraun"
}
```

**Changing status** from positive_review to needs_work.



---

archive/issue_comments_511743.json:
```json
{
    "body": "**Changing commit** from \"[a01dcd2d235a7b20406ba959d776616076574758](https://github.com/sagemath/sagetrac-mirror/commit/a01dcd2d235a7b20406ba959d776616076574758)\" to \"[aa028b7cfb07ca219ba6d28d9f17ce53f1d7dd74](https://github.com/sagemath/sagetrac-mirror/commit/aa028b7cfb07ca219ba6d28d9f17ce53f1d7dd74)\".",
    "created_at": "2021-06-20T15:36:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511743",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[a01dcd2d235a7b20406ba959d776616076574758](https://github.com/sagemath/sagetrac-mirror/commit/a01dcd2d235a7b20406ba959d776616076574758)" to "[aa028b7cfb07ca219ba6d28d9f17ce53f1d7dd74](https://github.com/sagemath/sagetrac-mirror/commit/aa028b7cfb07ca219ba6d28d9f17ce53f1d7dd74)".



---

archive/issue_comments_511744.json:
```json
{
    "body": "<a id='comment:9'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aa028b7cfb07ca219ba6d28d9f17ce53f1d7dd74\">aa028b7</a></td><td><code>src/sage/game_theory/parser.py: Relax lrslib output doctests</code></td></tr></table>\n",
    "created_at": "2021-06-20T15:36:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511744",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aa028b7cfb07ca219ba6d28d9f17ce53f1d7dd74">aa028b7</a></td><td><code>src/sage/game_theory/parser.py: Relax lrslib output doctests</code></td></tr></table>




---

archive/issue_comments_511745.json:
```json
{
    "body": "<a id='comment:0'></a>\nI only got these failures:\n\n```\nsage -t --long --random-seed=0 src/sage/game_theory/parser.py  # 2 doctests failed\n```\nwhich are now fixed by aa028b7",
    "created_at": "2021-06-20T15:38:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511745",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:0'></a>
I only got these failures:

```
sage -t --long --random-seed=0 src/sage/game_theory/parser.py  # 2 doctests failed
```
which are now fixed by aa028b7



---

archive/issue_comments_511746.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2021-06-20T15:43:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511746",
    "user": "https://github.com/mkoeppe"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_511747.json:
```json
{
    "body": "<a id='comment:2'></a>\nDetails for the other failures please?",
    "created_at": "2021-06-20T15:43:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511747",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>
Details for the other failures please?



---

archive/issue_comments_511748.json:
```json
{
    "body": "<a id='comment:3'></a>\nI am getting all of the failures that Volker is encountering. Running the block of lines 137-152 in `game_theory/parser.py`, I get\n\n```\nsage: lrs_output\n['\\n',\n '*nash:lrslib v.7.1 2020.10.17(64bit,lrsgmp.h,hybrid arithmetic) gmp v.6.2\\n',\n '*Input taken from  /home/uqtscrim/.sage/temp/SMP-36PQ8T2/14500/tmp_ey7z4keh']\n```\nAs an intermediate check\n\n```\nsage: g._Hrepresentation(A, -A)\n('H-representation\\nlinearity 1 5\\nbegin\\n5 4 rational\\n0 1 0 0 \\n0 0 1 0 \\n0 1 3  1 \\n0 2 2  1 \\n-1 1 1 0 \\nend\\n',\n 'H-representation\\nlinearity 1 5\\nbegin\\n5 4 rational\\n0 -1 -2  1 \\n0 -3 -2  1 \\n0 1 0 0 \\n0 0 1 0 \\n-1 1 1 0 \\nend\\n')\n```",
    "created_at": "2021-07-09T05:53:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511748",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:3'></a>
I am getting all of the failures that Volker is encountering. Running the block of lines 137-152 in `game_theory/parser.py`, I get

```
sage: lrs_output
['\n',
 '*nash:lrslib v.7.1 2020.10.17(64bit,lrsgmp.h,hybrid arithmetic) gmp v.6.2\n',
 '*Input taken from  /home/uqtscrim/.sage/temp/SMP-36PQ8T2/14500/tmp_ey7z4keh']
```
As an intermediate check

```
sage: g._Hrepresentation(A, -A)
('H-representation\nlinearity 1 5\nbegin\n5 4 rational\n0 1 0 0 \n0 0 1 0 \n0 1 3  1 \n0 2 2  1 \n-1 1 1 0 \nend\n',
 'H-representation\nlinearity 1 5\nbegin\n5 4 rational\n0 -1 -2  1 \n0 -3 -2  1 \n0 1 0 0 \n0 0 1 0 \n-1 1 1 0 \nend\n')
```



---

archive/issue_comments_511749.json:
```json
{
    "body": "<a id='comment:4'></a>\nHelp with fixing this is very welcome...",
    "created_at": "2021-07-09T06:59:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511749",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:4'></a>
Help with fixing this is very welcome...



---

archive/issue_comments_511750.json:
```json
{
    "body": "<a id='comment:5'></a>\nDo you get the same for `g._Hrepresentation(A, -A)` in that code block?",
    "created_at": "2021-07-09T07:02:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511750",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:5'></a>
Do you get the same for `g._Hrepresentation(A, -A)` in that code block?



---

archive/issue_comments_511751.json:
```json
{
    "body": "<a id='comment:6'></a>\nThanks for testing. The `lrs_output` that you're getting there is too short. \nSo this looks like the installed `lrsnash` is broken. Is this from a system installation of lrslib, or from a Sage-installed lrslib? (see config.log)",
    "created_at": "2021-07-11T00:08:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511751",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:6'></a>
Thanks for testing. The `lrs_output` that you're getting there is too short. 
So this looks like the installed `lrsnash` is broken. Is this from a system installation of lrslib, or from a Sage-installed lrslib? (see config.log)



---

archive/issue_comments_511752.json:
```json
{
    "body": "<a id='comment:7'></a>\nOK, I have reproduced this failure using `tox -e docker-ubuntu-focal-standard`.\n`lrsnash` is crashing with SIGSEGV on the given input.",
    "created_at": "2021-07-11T01:17:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511752",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:7'></a>
OK, I have reproduced this failure using `tox -e docker-ubuntu-focal-standard`.
`lrsnash` is crashing with SIGSEGV on the given input.



---

archive/issue_comments_511753.json:
```json
{
    "body": "<a id='comment:8'></a>\nI have added a basic test for `lrsnash` to the autoconfiscated lrslib at https://github.com/mkoeppe/lrslib (the real upstream has no automated tests); the SIGSEGV can be seen on many platforms, for example\nhttps://github.com/mkoeppe/lrslib/runs/3038293301",
    "created_at": "2021-07-11T02:25:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511753",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:8'></a>
I have added a basic test for `lrsnash` to the autoconfiscated lrslib at https://github.com/mkoeppe/lrslib (the real upstream has no automated tests); the SIGSEGV can be seen on many platforms, for example
https://github.com/mkoeppe/lrslib/runs/3038293301



---

archive/issue_comments_511754.json:
```json
{
    "body": "<a id='comment:9'></a>\nIt may be relevant that `lrsnash` indicates on stderr that it is \"Processing legacy input files. Alternatively, you may skip setupnash and pass its input file to this program\".\n\nIt seems `lrsnash`, at least for this type of input, is broken. Using the lrslib package on `ubuntu-focal` (lrslib 0.70-3), I get `free(): double free detected in tcache 2\\n` and an error exit with status 6.",
    "created_at": "2021-07-11T02:38:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511754",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:9'></a>
It may be relevant that `lrsnash` indicates on stderr that it is "Processing legacy input files. Alternatively, you may skip setupnash and pass its input file to this program".

It seems `lrsnash`, at least for this type of input, is broken. Using the lrslib package on `ubuntu-focal` (lrslib 0.70-3), I get `free(): double free detected in tcache 2\n` and an error exit with status 6.



---

archive/issue_comments_511755.json:
```json
{
    "body": "<a id='comment:0'></a>\nI'm not sure how to proceed here. We could relabel the uses of `lrslib` in the neglected `sage.game_theory` package with `lrsnash`, disabling these tests. We simply do not seem to have a working backend for game theory. \n\n(The uses of `lrslib` for volume computation in `sage.geometry` are likely OK.)",
    "created_at": "2021-07-11T02:45:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511755",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:0'></a>
I'm not sure how to proceed here. We could relabel the uses of `lrslib` in the neglected `sage.game_theory` package with `lrsnash`, disabling these tests. We simply do not seem to have a working backend for game theory. 

(The uses of `lrslib` for volume computation in `sage.geometry` are likely OK.)



---

archive/issue_comments_511756.json:
```json
{
    "body": "<a id='comment:1'></a>\nThe new input format is explained in http://cgm.cs.mcgill.ca/~avis/C/lrslib/USERGUIDE.html#nash",
    "created_at": "2021-07-11T03:50:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511756",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:1'></a>
The new input format is explained in http://cgm.cs.mcgill.ca/~avis/C/lrslib/USERGUIDE.html#nash



---

archive/issue_comments_511757.json:
```json
{
    "body": "<a id='comment:2'></a>\nThe new format works better - https://github.com/mkoeppe/lrslib/runs/3060863149",
    "created_at": "2021-07-13T23:19:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511757",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>
The new format works better - https://github.com/mkoeppe/lrslib/runs/3060863149



---

archive/issue_comments_511758.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f6b4d504b274a5fa3083790f14511950f8947838\">f6b4d50</a></td><td><code>Merge tag '9.4.beta4' into t/27745/lrslib071a_polymake44_upgrade-27745</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d77acee79a86c1b9544b0b1d38a45cde3190087c\">d77acee</a></td><td><code>sage.game_theory: Switch to new lrsnash input format</code></td></tr></table>\n",
    "created_at": "2021-07-13T23:44:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511758",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f6b4d504b274a5fa3083790f14511950f8947838">f6b4d50</a></td><td><code>Merge tag '9.4.beta4' into t/27745/lrslib071a_polymake44_upgrade-27745</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d77acee79a86c1b9544b0b1d38a45cde3190087c">d77acee</a></td><td><code>sage.game_theory: Switch to new lrsnash input format</code></td></tr></table>




---

archive/issue_comments_511759.json:
```json
{
    "body": "**Changing commit** from \"[aa028b7cfb07ca219ba6d28d9f17ce53f1d7dd74](https://github.com/sagemath/sagetrac-mirror/commit/aa028b7cfb07ca219ba6d28d9f17ce53f1d7dd74)\" to \"[d77acee79a86c1b9544b0b1d38a45cde3190087c](https://github.com/sagemath/sagetrac-mirror/commit/d77acee79a86c1b9544b0b1d38a45cde3190087c)\".",
    "created_at": "2021-07-13T23:44:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511759",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[aa028b7cfb07ca219ba6d28d9f17ce53f1d7dd74](https://github.com/sagemath/sagetrac-mirror/commit/aa028b7cfb07ca219ba6d28d9f17ce53f1d7dd74)" to "[d77acee79a86c1b9544b0b1d38a45cde3190087c](https://github.com/sagemath/sagetrac-mirror/commit/d77acee79a86c1b9544b0b1d38a45cde3190087c)".



---

archive/issue_comments_511760.json:
```json
{
    "body": "<a id='comment:4'></a>\nReady for testing",
    "created_at": "2021-07-14T00:03:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511760",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:4'></a>
Ready for testing



---

archive/issue_comments_511761.json:
```json
{
    "body": "**Changing commit** from \"[d77acee79a86c1b9544b0b1d38a45cde3190087c](https://github.com/sagemath/sagetrac-mirror/commit/d77acee79a86c1b9544b0b1d38a45cde3190087c)\" to \"[794cf6a863d9cd5aa4cad876286cddd503411490](https://github.com/sagemath/sagetrac-mirror/commit/794cf6a863d9cd5aa4cad876286cddd503411490)\".",
    "created_at": "2021-07-14T00:23:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511761",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[d77acee79a86c1b9544b0b1d38a45cde3190087c](https://github.com/sagemath/sagetrac-mirror/commit/d77acee79a86c1b9544b0b1d38a45cde3190087c)" to "[794cf6a863d9cd5aa4cad876286cddd503411490](https://github.com/sagemath/sagetrac-mirror/commit/794cf6a863d9cd5aa4cad876286cddd503411490)".



---

archive/issue_comments_511762.json:
```json
{
    "body": "<a id='comment:5'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/794cf6a863d9cd5aa4cad876286cddd503411490\">794cf6a</a></td><td><code>build/pkgs/lrslib/spkg-configure.m4: Check for recent lrsnash</code></td></tr></table>\n",
    "created_at": "2021-07-14T00:23:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511762",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/794cf6a863d9cd5aa4cad876286cddd503411490">794cf6a</a></td><td><code>build/pkgs/lrslib/spkg-configure.m4: Check for recent lrsnash</code></td></tr></table>




---

archive/issue_comments_511763.json:
```json
{
    "body": "<a id='comment:6'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5f32d2e4654bebedc7f70717aeede35e7c95f7bc\">5f32d2e</a></td><td><code>build/pkgs/lrslib/: Update to 071b+autotools-2021-07-13</code></td></tr></table>\n",
    "created_at": "2021-07-14T00:53:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511763",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5f32d2e4654bebedc7f70717aeede35e7c95f7bc">5f32d2e</a></td><td><code>build/pkgs/lrslib/: Update to 071b+autotools-2021-07-13</code></td></tr></table>




---

archive/issue_comments_511764.json:
```json
{
    "body": "**Changing commit** from \"[794cf6a863d9cd5aa4cad876286cddd503411490](https://github.com/sagemath/sagetrac-mirror/commit/794cf6a863d9cd5aa4cad876286cddd503411490)\" to \"[5f32d2e4654bebedc7f70717aeede35e7c95f7bc](https://github.com/sagemath/sagetrac-mirror/commit/5f32d2e4654bebedc7f70717aeede35e7c95f7bc)\".",
    "created_at": "2021-07-14T00:53:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511764",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[794cf6a863d9cd5aa4cad876286cddd503411490](https://github.com/sagemath/sagetrac-mirror/commit/794cf6a863d9cd5aa4cad876286cddd503411490)" to "[5f32d2e4654bebedc7f70717aeede35e7c95f7bc](https://github.com/sagemath/sagetrac-mirror/commit/5f32d2e4654bebedc7f70717aeede35e7c95f7bc)".



---

archive/issue_comments_511765.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-lrslib is now at 071a.\n+lrslib is now at 071b.\n \n - http://cgm.cs.mcgill.ca/~avis/C/lrs.html\n - http://cgm.cs.mcgill.ca/~avis/C/lrslib/archive/\n``````\n",
    "created_at": "2021-07-14T00:54:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511765",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-lrslib is now at 071a.
+lrslib is now at 071b.
 
 - http://cgm.cs.mcgill.ca/~avis/C/lrs.html
 - http://cgm.cs.mcgill.ca/~avis/C/lrslib/archive/
``````




---

archive/issue_events_078320.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "rename": {
        "from": "Upgrade: lrslib 071a and polymake 4.4, deprecate PolymakeExpect",
        "to": "Upgrade: lrslib 071b and polymake 4.4, deprecate PolymakeExpect"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27745#event-78320"
}
```



---

archive/issue_comments_511766.json:
```json
{
    "body": "<a id='comment:8'></a>\nTests at https://github.com/mkoeppe/sage/actions/runs/1028577144, https://github.com/mkoeppe/sage/actions/runs/1028577149, https://github.com/mkoeppe/sage/actions/runs/1028577148",
    "created_at": "2021-07-14T00:59:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511766",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:8'></a>
Tests at https://github.com/mkoeppe/sage/actions/runs/1028577144, https://github.com/mkoeppe/sage/actions/runs/1028577149, https://github.com/mkoeppe/sage/actions/runs/1028577148



---

archive/issue_comments_511767.json:
```json
{
    "body": "**Changing commit** from \"[5f32d2e4654bebedc7f70717aeede35e7c95f7bc](https://github.com/sagemath/sagetrac-mirror/commit/5f32d2e4654bebedc7f70717aeede35e7c95f7bc)\" to \"[ff69f289872cc47f28ddc980344d3c34913e1328](https://github.com/sagemath/sagetrac-mirror/commit/ff69f289872cc47f28ddc980344d3c34913e1328)\".",
    "created_at": "2021-07-14T02:13:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511767",
    "user": "https://github.com/tscrim"
}
```

**Changing commit** from "[5f32d2e4654bebedc7f70717aeede35e7c95f7bc](https://github.com/sagemath/sagetrac-mirror/commit/5f32d2e4654bebedc7f70717aeede35e7c95f7bc)" to "[ff69f289872cc47f28ddc980344d3c34913e1328](https://github.com/sagemath/sagetrac-mirror/commit/ff69f289872cc47f28ddc980344d3c34913e1328)".



---

archive/issue_comments_511768.json:
```json
{
    "body": "<a id='comment:9'></a>\nThank you for fixing that. I have made a few changes to the parser file so that it tests the new format. I also added it to the doc and did some very slight cleanup of that file too.\n\nI am happy with everything. If my changes are good, then we can set this to a positive review. All tests pass for me.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/53c7b65f42044639b59015c87ba00b3645422bf4\">53c7b65</a></td><td><code>Rewriting doctests to test the new format.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/95ce6df5f4c2c064039de61df8fda2c352ff2815\">95ce6df</a></td><td><code>Adding the game theory parser to the documentation.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ff69f289872cc47f28ddc980344d3c34913e1328\">ff69f28</a></td><td><code>Some last little fixes.</code></td></tr></table>\n",
    "created_at": "2021-07-14T02:13:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511768",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:9'></a>
Thank you for fixing that. I have made a few changes to the parser file so that it tests the new format. I also added it to the doc and did some very slight cleanup of that file too.

I am happy with everything. If my changes are good, then we can set this to a positive review. All tests pass for me.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/53c7b65f42044639b59015c87ba00b3645422bf4">53c7b65</a></td><td><code>Rewriting doctests to test the new format.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/95ce6df5f4c2c064039de61df8fda2c352ff2815">95ce6df</a></td><td><code>Adding the game theory parser to the documentation.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ff69f289872cc47f28ddc980344d3c34913e1328">ff69f28</a></td><td><code>Some last little fixes.</code></td></tr></table>




---

archive/issue_comments_511769.json:
```json
{
    "body": "**Changing branch** from \"[u/mkoeppe/lrslib071a_polymake44_upgrade-27745](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/lrslib071a_polymake44_upgrade-27745)\" to \"[u/tscrim/upgrade_lrslib_polymake-27745](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/upgrade_lrslib_polymake-27745)\".",
    "created_at": "2021-07-14T02:13:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511769",
    "user": "https://github.com/tscrim"
}
```

**Changing branch** from "[u/mkoeppe/lrslib071a_polymake44_upgrade-27745](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/lrslib071a_polymake44_upgrade-27745)" to "[u/tscrim/upgrade_lrslib_polymake-27745](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/upgrade_lrslib_polymake-27745)".



---

archive/issue_comments_511770.json:
```json
{
    "body": "**Changing author** from \"Matthias Koeppe, Jonathan Kliem\" to \"Matthias Koeppe, Jonathan Kliem, Travis Scrimshaw\".",
    "created_at": "2021-07-14T03:22:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511770",
    "user": "https://github.com/mkoeppe"
}
```

**Changing author** from "Matthias Koeppe, Jonathan Kliem" to "Matthias Koeppe, Jonathan Kliem, Travis Scrimshaw".



---

archive/issue_comments_511771.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2021-07-14T03:22:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511771",
    "user": "https://github.com/mkoeppe"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_511772.json:
```json
{
    "body": "<a id='comment:0'></a>\nThanks, LGTM.\n\nFor the record, I tested the `spkg-configure.m4` using `tox -e docker-ubuntu-xenial-maximal -- config.status` (correctly does not accept lrslib) and `tox -e docker-ubuntu-bionic-maximal -- config.status` (correctly accepts lrslib).",
    "created_at": "2021-07-14T03:22:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511772",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:0'></a>
Thanks, LGTM.

For the record, I tested the `spkg-configure.m4` using `tox -e docker-ubuntu-xenial-maximal -- config.status` (correctly does not accept lrslib) and `tox -e docker-ubuntu-bionic-maximal -- config.status` (correctly accepts lrslib).



---

archive/issue_events_078321.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-07-23T20:11:59Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27745#event-78321"
}
```



---

archive/issue_comments_511773.json:
```json
{
    "body": "**Changing branch** from \"[u/tscrim/upgrade_lrslib_polymake-27745](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/upgrade_lrslib_polymake-27745)\" to \"[ff69f289872cc47f28ddc980344d3c34913e1328](https://github.com/sagemath/sagetrac-mirror/commit/ff69f289872cc47f28ddc980344d3c34913e1328)\".",
    "created_at": "2021-07-23T20:11:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27745#issuecomment-511773",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/tscrim/upgrade_lrslib_polymake-27745](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/upgrade_lrslib_polymake-27745)" to "[ff69f289872cc47f28ddc980344d3c34913e1328](https://github.com/sagemath/sagetrac-mirror/commit/ff69f289872cc47f28ddc980344d3c34913e1328)".
