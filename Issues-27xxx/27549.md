# Issue 27549: Clean up some more code blocks in Sage's documentation

archive/issues_027312.json:
```json
{
    "body": "This is a follow-up to #27528: we should change things like\n\n```\nHere is how to run long doctests::\n\n    $ make ptestlong\n```\nto\n\n```\nHere is how to run long doctests:\n\n.. CODE-BLOCK:: shell-session\n\n    $ make ptestlong\n```\nso that Sphinx highlights it correctly. Note that in addition to `shell-session`, there are many other language options. See the file `pygments/lexers/_mapping.py` for big list.\n\n\nBranch/Commit: 95114cebba886ca8ee13e1fd6fa182983ce23281\n\nReviewer: Simon Brandhorst, Travis Scrimshaw\n\nAuthor: John Palmieri\n\nDependencies: #27528, #27512\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/27549\n\n",
    "closed_at": "2019-04-27T17:44:22Z",
    "created_at": "2019-03-26T04:18:35Z",
    "labels": [
        "component: documentation"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.8",
    "title": "Clean up some more code blocks in Sage's documentation",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/27549",
    "user": "https://github.com/jhpalmieri"
}
```
This is a follow-up to #27528: we should change things like

```
Here is how to run long doctests::

    $ make ptestlong
```
to

```
Here is how to run long doctests:

.. CODE-BLOCK:: shell-session

    $ make ptestlong
```
so that Sphinx highlights it correctly. Note that in addition to `shell-session`, there are many other language options. See the file `pygments/lexers/_mapping.py` for big list.


Branch/Commit: 95114cebba886ca8ee13e1fd6fa182983ce23281

Reviewer: Simon Brandhorst, Travis Scrimshaw

Author: John Palmieri

Dependencies: #27528, #27512

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/27549





---

archive/issue_comments_531695.json:
```json
{
    "body": "Changing branch from \"\" to \"u/jhpalmieri/code-blocks-in-docs\"",
    "created_at": "2019-03-26T04:19:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27549#issuecomment-531695",
    "user": "https://github.com/jhpalmieri"
}
```

Changing branch from "" to "u/jhpalmieri/code-blocks-in-docs"



---

archive/issue_comments_531696.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-03-26T04:20:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27549#issuecomment-531696",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_531697.json:
```json
{
    "body": "Changing commit from \"\" to \"1cacccc7df42c101f634eaa0d668165506eb30d4\"",
    "created_at": "2019-03-26T04:20:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27549#issuecomment-531697",
    "user": "https://github.com/jhpalmieri"
}
```

Changing commit from "" to "1cacccc7df42c101f634eaa0d668165506eb30d4"



---

archive/issue_comments_531698.json:
```json
{
    "body": "<a id='comment:2'></a>I think this takes care of most (all?) of the code-blocks in `src/doc`. The reference manual remains.\n\n---\nNew commits:",
    "created_at": "2019-03-26T04:20:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27549#issuecomment-531698",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:2'></a>I think this takes care of most (all?) of the code-blocks in `src/doc`. The reference manual remains.

---
New commits:



---

archive/issue_comments_531699.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#27528\"",
    "created_at": "2019-03-26T04:21:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27549#issuecomment-531699",
    "user": "https://github.com/jhpalmieri"
}
```

Changing dependencies from "" to "#27528"



---

archive/issue_comments_531700.json:
```json
{
    "body": "Changing commit from \"1cacccc7df42c101f634eaa0d668165506eb30d4\" to \"b7b13a9ba3347806954af6a72feb1cfb3e0051fd\"",
    "created_at": "2019-03-26T18:16:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27549#issuecomment-531700",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "1cacccc7df42c101f634eaa0d668165506eb30d4" to "b7b13a9ba3347806954af6a72feb1cfb3e0051fd"



---

archive/issue_comments_531701.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2019-03-26T18:16:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27549#issuecomment-531701",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_531702.json:
```json
{
    "body": "Changing commit from \"b7b13a9ba3347806954af6a72feb1cfb3e0051fd\" to \"90dc135b79478a194914d6252c48667625f2cd95\"",
    "created_at": "2019-03-26T18:36:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27549#issuecomment-531702",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "b7b13a9ba3347806954af6a72feb1cfb3e0051fd" to "90dc135b79478a194914d6252c48667625f2cd95"



---

archive/issue_comments_531703.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2019-03-26T18:36:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27549#issuecomment-531703",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_531704.json:
```json
{
    "body": "<a id='comment:6'></a>Rebased to include #27512, which touches one of the same files.",
    "created_at": "2019-03-26T18:37:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27549#issuecomment-531704",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:6'></a>Rebased to include #27512, which touches one of the same files.



---

archive/issue_comments_531705.json:
```json
{
    "body": "Changing dependencies from \"#27528\" to \"#27528, #27512\"",
    "created_at": "2019-03-26T18:37:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27549#issuecomment-531705",
    "user": "https://github.com/jhpalmieri"
}
```

Changing dependencies from "#27528" to "#27528, #27512"



---

archive/issue_comments_531706.json:
```json
{
    "body": "<a id='comment:7'></a>Merge conflict",
    "created_at": "2019-04-17T08:03:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27549#issuecomment-531706",
    "user": "https://github.com/simonbrandhorst"
}
```

<a id='comment:7'></a>Merge conflict



---

archive/issue_comments_531707.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Simon Brandhorst\"",
    "created_at": "2019-04-17T08:03:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27549#issuecomment-531707",
    "user": "https://github.com/simonbrandhorst"
}
```

Changing reviewer from "" to "Simon Brandhorst"



---

archive/issue_comments_531708.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-04-17T08:03:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27549#issuecomment-531708",
    "user": "https://github.com/simonbrandhorst"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_531709.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2019-04-17T18:11:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27549#issuecomment-531709",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_531710.json:
```json
{
    "body": "Changing commit from \"90dc135b79478a194914d6252c48667625f2cd95\" to \"cf39c2b4a19e9a7b45c9f70efaa1772ffa4ddb56\"",
    "created_at": "2019-04-17T18:11:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27549#issuecomment-531710",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "90dc135b79478a194914d6252c48667625f2cd95" to "cf39c2b4a19e9a7b45c9f70efaa1772ffa4ddb56"



---

archive/issue_comments_531711.json:
```json
{
    "body": "<a id='comment:9'></a>Rebased.",
    "created_at": "2019-04-17T18:11:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27549#issuecomment-531711",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:9'></a>Rebased.



---

archive/issue_comments_531712.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-04-17T18:11:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27549#issuecomment-531712",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_531713.json:
```json
{
    "body": "<a id='comment:10'></a>Nitpicks:\n\n`installation/source.rst`:\n\n```diff\n-.. highlight:: shell-session\n+.. HIGHLIGHT:: shell-session\n```\n`thematic_tutorials/cython_interface.rst`:\n\n```diff\n-.. code-block:: shell-session\n+.. CODE-BLOCK:: shell-session\n```\n\nOnce changed, you can set a positive review on my behalf unless Simon has any additional comments.",
    "created_at": "2019-04-17T22:41:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27549#issuecomment-531713",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:10'></a>Nitpicks:

`installation/source.rst`:

```diff
-.. highlight:: shell-session
+.. HIGHLIGHT:: shell-session
```
`thematic_tutorials/cython_interface.rst`:

```diff
-.. code-block:: shell-session
+.. CODE-BLOCK:: shell-session
```

Once changed, you can set a positive review on my behalf unless Simon has any additional comments.



---

archive/issue_comments_531714.json:
```json
{
    "body": "Changing reviewer from \"Simon Brandhorst\" to \"Simon Brandhorst, Travis Scrimshaw\"",
    "created_at": "2019-04-17T22:41:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27549#issuecomment-531714",
    "user": "https://github.com/tscrim"
}
```

Changing reviewer from "Simon Brandhorst" to "Simon Brandhorst, Travis Scrimshaw"



---

archive/issue_comments_531715.json:
```json
{
    "body": "<a id='comment:11'></a>Thanks for the comments. To handle the second of these, I decided I also needed to change the half-dozen already present `.. code-block` lines to `.. CODE-BLOCK`.",
    "created_at": "2019-04-17T23:30:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27549#issuecomment-531715",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:11'></a>Thanks for the comments. To handle the second of these, I decided I also needed to change the half-dozen already present `.. code-block` lines to `.. CODE-BLOCK`.



---

archive/issue_comments_531716.json:
```json
{
    "body": "<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-04-17T23:30:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27549#issuecomment-531716",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_531717.json:
```json
{
    "body": "Changing commit from \"cf39c2b4a19e9a7b45c9f70efaa1772ffa4ddb56\" to \"95114cebba886ca8ee13e1fd6fa182983ce23281\"",
    "created_at": "2019-04-17T23:30:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27549#issuecomment-531717",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "cf39c2b4a19e9a7b45c9f70efaa1772ffa4ddb56" to "95114cebba886ca8ee13e1fd6fa182983ce23281"



---

archive/issue_comments_531718.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-04-17T23:45:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27549#issuecomment-531718",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_531719.json:
```json
{
    "body": "<a id='comment:13'></a>Thank you. LGTM.\n\nSimon, if you disagree, feel free to revert.",
    "created_at": "2019-04-17T23:45:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27549#issuecomment-531719",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:13'></a>Thank you. LGTM.

Simon, if you disagree, feel free to revert.



---

archive/issue_comments_531720.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-04-27T17:44:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27549#issuecomment-531720",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_068393.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-04-27T17:44:22Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/27549",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27549#event-68393"
}
```



---

archive/issue_comments_531721.json:
```json
{
    "body": "Changing branch from \"u/jhpalmieri/code-blocks-in-docs\" to \"95114cebba886ca8ee13e1fd6fa182983ce23281\"",
    "created_at": "2019-04-27T17:44:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27549#issuecomment-531721",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/jhpalmieri/code-blocks-in-docs" to "95114cebba886ca8ee13e1fd6fa182983ce23281"
