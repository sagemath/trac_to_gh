# Issue 27045: Compute (degree bounded) minimal model of cdga's

archive/issues_026808.json:
```json
{
    "assignees": [],
    "body": "This ticket compute the i-minimal model of a cdg-algebra.\n\nIt also implements the cohomology algebra up to a given degree.\n\nCC:  @jhpalmieri @tscrim\n\nComponent: **algebra**\n\nAuthor: **Miguel Marco, Victor Manero**\n\nBranch: **[`612cfb3`](https://github.com/sagemath/sagetrac-mirror/commit/612cfb33196935934919ae4af1e437fc996ad1e3)**\n\nReviewer: **Travis Scrimshaw**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/27045_\n\n",
    "closed_at": "2019-05-14T12:37:26Z",
    "created_at": "2019-01-11T12:45:06Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20algebra",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Compute (degree bounded) minimal model of cdga's",
    "type": "issue",
    "updated_at": "2019-10-24T07:09:12Z",
    "url": "https://github.com/sagemath/sage/issues/27045",
    "user": "https://github.com/miguelmarco"
}
```
This ticket compute the i-minimal model of a cdg-algebra.

It also implements the cohomology algebra up to a given degree.

CC:  @jhpalmieri @tscrim

Component: **algebra**

Author: **Miguel Marco, Victor Manero**

Branch: **[`612cfb3`](https://github.com/sagemath/sagetrac-mirror/commit/612cfb33196935934919ae4af1e437fc996ad1e3)**

Reviewer: **Travis Scrimshaw**

_Issue created by migration from https://trac.sagemath.org/ticket/27045_





---

archive/issue_events_368722.json:
```json
{
    "actor": "https://github.com/miguelmarco",
    "created_at": "2019-01-11T12:45:06Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "milestone_number": null,
    "milestone_title": "sage-8.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27045#event-368722"
}
```



---

archive/issue_events_368723.json:
```json
{
    "actor": "https://github.com/miguelmarco",
    "created_at": "2019-01-11T12:45:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20algebra",
    "label_color": "0000ff",
    "label_name": "c: algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27045#event-368723"
}
```



---

archive/issue_events_368724.json:
```json
{
    "actor": "https://github.com/miguelmarco",
    "created_at": "2019-01-11T12:45:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27045#event-368724"
}
```



---

archive/issue_comments_417045.json:
```json
{
    "body": "Branch: **[u/mmarco/compute__degree_bounded__minimal_model_of_cdga_s](https://github.com/sagemath/sagetrac-mirror/tree/u/mmarco/compute__degree_bounded__minimal_model_of_cdga_s)**",
    "created_at": "2019-01-11T12:47:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417045",
    "user": "https://github.com/miguelmarco"
}
```

Branch: **[u/mmarco/compute__degree_bounded__minimal_model_of_cdga_s](https://github.com/sagemath/sagetrac-mirror/tree/u/mmarco/compute__degree_bounded__minimal_model_of_cdga_s)**



---

archive/issue_comments_417046.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/25cbd8bf9bbf8b660cf2c8d9f3ea77ad76d6311e\"><code>25cbd8b</code></a></td><td><code>Improved cohomology_generators to give only a minimal set of generators</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5b53d6641cb7e173218f56f19fa465bdb0065cca\"><code>5b53d66</code></a></td><td><code>Added `_im_gens_` method for NCPolynomial_plural</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/81cb6d5a06fbf901b52505456a32986e5b78af93\"><code>81cb6d5</code></a></td><td><code>Implement minimal model of cdga's</code></td></tr></table>\n",
    "created_at": "2019-01-11T12:48:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417046",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:2"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/25cbd8bf9bbf8b660cf2c8d9f3ea77ad76d6311e"><code>25cbd8b</code></a></td><td><code>Improved cohomology_generators to give only a minimal set of generators</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5b53d6641cb7e173218f56f19fa465bdb0065cca"><code>5b53d66</code></a></td><td><code>Added `_im_gens_` method for NCPolynomial_plural</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/81cb6d5a06fbf901b52505456a32986e5b78af93"><code>81cb6d5</code></a></td><td><code>Implement minimal model of cdga's</code></td></tr></table>




---

archive/issue_comments_417047.json:
```json
{
    "body": "Commit: **[`81cb6d5`](https://github.com/sagemath/sagetrac-mirror/commit/81cb6d5a06fbf901b52505456a32986e5b78af93)**",
    "created_at": "2019-01-11T12:48:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417047",
    "user": "https://github.com/miguelmarco"
}
```

Commit: **[`81cb6d5`](https://github.com/sagemath/sagetrac-mirror/commit/81cb6d5a06fbf901b52505456a32986e5b78af93)**



---

archive/issue_events_368725.json:
```json
{
    "actor": "https://github.com/miguelmarco",
    "created_at": "2019-01-11T12:48:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27045#event-368725"
}
```



---

archive/issue_events_368726.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-15T18:15:21Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "milestone_number": null,
    "milestone_title": "sage-8.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27045#event-368726"
}
```



---

archive/issue_events_368727.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-15T18:15:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27045#event-368727"
}
```



---

archive/issue_comments_417048.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nRetarging tickets optimistically to the next milestone.  If you are responsible for this ticket (either its reporter or owner) and don't believe you are likely to complete this ticket before the next release (8.7) please retarget this ticket's milestone to sage-pending or sage-wishlist.",
    "created_at": "2019-01-15T18:15:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417048",
    "user": "https://github.com/embray"
}
```

<div id="comment:3" align="right">comment:3</div>

Retarging tickets optimistically to the next milestone.  If you are responsible for this ticket (either its reporter or owner) and don't believe you are likely to complete this ticket before the next release (8.7) please retarget this ticket's milestone to sage-pending or sage-wishlist.



---

archive/issue_comments_417049.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bbab0bab4dd2e345200359487f9f356592c8dcc8\"><code>bbab0ba</code></a></td><td><code>Simplify variable names</code></td></tr></table>\n",
    "created_at": "2019-01-22T17:32:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417049",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bbab0bab4dd2e345200359487f9f356592c8dcc8"><code>bbab0ba</code></a></td><td><code>Simplify variable names</code></td></tr></table>




---

archive/issue_comments_417050.json:
```json
{
    "body": "Changed commit from **[`81cb6d5`](https://github.com/sagemath/sagetrac-mirror/commit/81cb6d5a06fbf901b52505456a32986e5b78af93)** to **[`bbab0ba`](https://github.com/sagemath/sagetrac-mirror/commit/bbab0bab4dd2e345200359487f9f356592c8dcc8)**",
    "created_at": "2019-01-22T17:32:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417050",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`81cb6d5`](https://github.com/sagemath/sagetrac-mirror/commit/81cb6d5a06fbf901b52505456a32986e5b78af93)** to **[`bbab0ba`](https://github.com/sagemath/sagetrac-mirror/commit/bbab0bab4dd2e345200359487f9f356592c8dcc8)**



---

archive/issue_comments_417051.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nI don't know how close this is to review, but this version of `cohomology_generators` is much slower than the old one.\n\nOld one:\n\n```\nsage: A3.<a,x,y> = GradedCommutativeAlgebra(GF(3), degrees=(1,2,2))\nsage: B3 = A3.cdg_algebra(differential={y: a*x})\nsage: %timeit B3.cohomology_generators(30)\n1 loop, best of 3: 187 ms per loop\nsage: A.<a,x,y> = GradedCommutativeAlgebra(QQ, degrees=(1,2,2))\nsage: B = A.cdg_algebra(differential={y: a*x})\nsage: %timeit B.cohomology_generators(40)\n1 loop, best of 3: 553 ms per loop\n```\nNew one:\n\n```\nsage: A3.<a,x,y> = GradedCommutativeAlgebra(GF(3), degrees=(1,2,2))\nsage: B3 = A3.cdg_algebra(differential={y: a*x})\nsage: %timeit B3.cohomology_generators(30)\n1 loop, best of 3: 2.3 s per loop\nsage: A.<a,x,y> = GradedCommutativeAlgebra(QQ, degrees=(1,2,2))\nsage: B = A.cdg_algebra(differential={y: a*x})\nsage: %timeit B.cohomology_generators(40)\n1 loop, best of 3: 6.32 s per loop\n```",
    "created_at": "2019-01-23T05:31:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417051",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:6" align="right">comment:6</div>

I don't know how close this is to review, but this version of `cohomology_generators` is much slower than the old one.

Old one:

```
sage: A3.<a,x,y> = GradedCommutativeAlgebra(GF(3), degrees=(1,2,2))
sage: B3 = A3.cdg_algebra(differential={y: a*x})
sage: %timeit B3.cohomology_generators(30)
1 loop, best of 3: 187 ms per loop
sage: A.<a,x,y> = GradedCommutativeAlgebra(QQ, degrees=(1,2,2))
sage: B = A.cdg_algebra(differential={y: a*x})
sage: %timeit B.cohomology_generators(40)
1 loop, best of 3: 553 ms per loop
```
New one:

```
sage: A3.<a,x,y> = GradedCommutativeAlgebra(GF(3), degrees=(1,2,2))
sage: B3 = A3.cdg_algebra(differential={y: a*x})
sage: %timeit B3.cohomology_generators(30)
1 loop, best of 3: 2.3 s per loop
sage: A.<a,x,y> = GradedCommutativeAlgebra(QQ, degrees=(1,2,2))
sage: B = A.cdg_algebra(differential={y: a*x})
sage: %timeit B.cohomology_generators(40)
1 loop, best of 3: 6.32 s per loop
```



---

archive/issue_comments_417052.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nI am still working on it (I plan to add too the computation of the cohomology algebra, and maybe a test for formality, although I have to consider if that should go on the same ticket or not). \n\nI didn't notice such a big difference in the timimgs, but maybe that is because I only tested up to relitvely low degrees. Anyways, I don't think it would make sense to keep the old implementation since it doesn't grant to give the right answer (in the sense of not giving a minimal set of generators). I will try to think of another aproach that still grants to give a minimal set of generators, but doesn't get so slow.\n\nBTW, if you would like to review this, I could try to get it to the \"needs review\" point today or tomorrow, and leave the rest of the work for other tickets.",
    "created_at": "2019-01-23T10:06:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417052",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:7" align="right">comment:7</div>

I am still working on it (I plan to add too the computation of the cohomology algebra, and maybe a test for formality, although I have to consider if that should go on the same ticket or not). 

I didn't notice such a big difference in the timimgs, but maybe that is because I only tested up to relitvely low degrees. Anyways, I don't think it would make sense to keep the old implementation since it doesn't grant to give the right answer (in the sense of not giving a minimal set of generators). I will try to think of another aproach that still grants to give a minimal set of generators, but doesn't get so slow.

BTW, if you would like to review this, I could try to get it to the "needs review" point today or tomorrow, and leave the rest of the work for other tickets.



---

archive/issue_comments_417053.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nIf the new version gives different answers from the old one, you should add some doctests to demonstrate this, and in particular the advantages of the new one.\n\nDon't hurry this on my account; it is not always predictable when I will have time to review a ticket.",
    "created_at": "2019-01-23T16:54:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417053",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:8" align="right">comment:8</div>

If the new version gives different answers from the old one, you should add some doctests to demonstrate this, and in particular the advantages of the new one.

Don't hurry this on my account; it is not always predictable when I will have time to review a ticket.



---

archive/issue_comments_417054.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nAnother option (and my preference) would be to have an `algorithm` option since they give different results (with different speeds).\n\nI can try to review this when it is ready.",
    "created_at": "2019-01-23T17:18:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417054",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:9" align="right">comment:9</div>

Another option (and my preference) would be to have an `algorithm` option since they give different results (with different speeds).

I can try to review this when it is ready.



---

archive/issue_comments_417055.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nMy point is that the previous method gave an answer that is \"wrong\", in the sense of giving a generating system that has redundant elements. If one wants just a generating system, one can use all the cohomology classes up to the given degree. So it only makes sense to provide a specific method to compute a reduced system if it is indeed minimal. Hence the change.\n\nI will add a doctest with an example where the given answer is different from the previous method.",
    "created_at": "2019-01-23T17:42:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417055",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:10" align="right">comment:10</div>

My point is that the previous method gave an answer that is "wrong", in the sense of giving a generating system that has redundant elements. If one wants just a generating system, one can use all the cohomology classes up to the given degree. So it only makes sense to provide a specific method to compute a reduced system if it is indeed minimal. Hence the change.

I will add a doctest with an example where the given answer is different from the previous method.



---

archive/issue_comments_417056.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nIn particular, with the old method:\n\n\n```\nsage: A.<e1,e2,e3,e4> = GradedCommutativeAlgebra(QQ)\nsage: d = A.differential({e1:e4*e3,e2:e4*e3})\nsage: B = A.cdg_algebra(d)\nsage: B.cohomology_generators(10)\n{1: [e4, e3, -e1 + e2], 2: [e2*e4, e2*e3, e1*e4, e1*e3]}\n```\n\nwhereas with the new:\n\n```\nsage: A.<e1,e2,e3,e4> = GradedCommutativeAlgebra(QQ)\nsage: d = A.differential({e1:e4*e3,e2:e4*e3})\nsage: B = A.cdg_algebra(d)\nsage: B.cohomology_generators(10)\n{1: [e4, e3, -e1 + e2], 2: [e2*e4, e2*e3]}\n```\n\n\nNote that `e1*e4 = -e4*(-e1+e2) + e2*e4`",
    "created_at": "2019-01-23T17:55:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417056",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:11" align="right">comment:11</div>

In particular, with the old method:


```
sage: A.<e1,e2,e3,e4> = GradedCommutativeAlgebra(QQ)
sage: d = A.differential({e1:e4*e3,e2:e4*e3})
sage: B = A.cdg_algebra(d)
sage: B.cohomology_generators(10)
{1: [e4, e3, -e1 + e2], 2: [e2*e4, e2*e3, e1*e4, e1*e3]}
```

whereas with the new:

```
sage: A.<e1,e2,e3,e4> = GradedCommutativeAlgebra(QQ)
sage: d = A.differential({e1:e4*e3,e2:e4*e3})
sage: B = A.cdg_algebra(d)
sage: B.cohomology_generators(10)
{1: [e4, e3, -e1 + e2], 2: [e2*e4, e2*e3]}
```


Note that `e1*e4 = -e4*(-e1+e2) + e2*e4`



---

archive/issue_comments_417057.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f29f168a28ca281a5067e957767ed381f841ffe6\"><code>f29f168</code></a></td><td><code>Minor comment fix</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/270b5d32e785640d4a64d3e0c05240386d2f4a0a\"><code>270b5d3</code></a></td><td><code>Add doctest for cohomology_generators</code></td></tr></table>\n",
    "created_at": "2019-01-23T18:06:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417057",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f29f168a28ca281a5067e957767ed381f841ffe6"><code>f29f168</code></a></td><td><code>Minor comment fix</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/270b5d32e785640d4a64d3e0c05240386d2f4a0a"><code>270b5d3</code></a></td><td><code>Add doctest for cohomology_generators</code></td></tr></table>




---

archive/issue_comments_417058.json:
```json
{
    "body": "Changed commit from **[`bbab0ba`](https://github.com/sagemath/sagetrac-mirror/commit/bbab0bab4dd2e345200359487f9f356592c8dcc8)** to **[`270b5d3`](https://github.com/sagemath/sagetrac-mirror/commit/270b5d32e785640d4a64d3e0c05240386d2f4a0a)**",
    "created_at": "2019-01-23T18:06:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417058",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`bbab0ba`](https://github.com/sagemath/sagetrac-mirror/commit/bbab0bab4dd2e345200359487f9f356592c8dcc8)** to **[`270b5d3`](https://github.com/sagemath/sagetrac-mirror/commit/270b5d32e785640d4a64d3e0c05240386d2f4a0a)**



---

archive/issue_comments_417059.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a6db43c4241b6f773b5bb3cf93aa294b7f8e15d2\"><code>a6db43c</code></a></td><td><code>Minor fix to generator subindices</code></td></tr></table>\n",
    "created_at": "2019-01-24T18:49:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417059",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a6db43c4241b6f773b5bb3cf93aa294b7f8e15d2"><code>a6db43c</code></a></td><td><code>Minor fix to generator subindices</code></td></tr></table>




---

archive/issue_comments_417060.json:
```json
{
    "body": "Changed commit from **[`270b5d3`](https://github.com/sagemath/sagetrac-mirror/commit/270b5d32e785640d4a64d3e0c05240386d2f4a0a)** to **[`a6db43c`](https://github.com/sagemath/sagetrac-mirror/commit/a6db43c4241b6f773b5bb3cf93aa294b7f8e15d2)**",
    "created_at": "2019-01-24T18:49:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417060",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`270b5d3`](https://github.com/sagemath/sagetrac-mirror/commit/270b5d32e785640d4a64d3e0c05240386d2f4a0a)** to **[`a6db43c`](https://github.com/sagemath/sagetrac-mirror/commit/a6db43c4241b6f773b5bb3cf93aa294b7f8e15d2)**



---

archive/issue_comments_417061.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/713fca7e9aa2ea6ff74c7cfeb85b10f2df7f2c7f\"><code>713fca7</code></a></td><td><code>Some optimizations</code></td></tr></table>\n",
    "created_at": "2019-02-09T09:06:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417061",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/713fca7e9aa2ea6ff74c7cfeb85b10f2df7f2c7f"><code>713fca7</code></a></td><td><code>Some optimizations</code></td></tr></table>




---

archive/issue_comments_417062.json:
```json
{
    "body": "Changed commit from **[`a6db43c`](https://github.com/sagemath/sagetrac-mirror/commit/a6db43c4241b6f773b5bb3cf93aa294b7f8e15d2)** to **[`713fca7`](https://github.com/sagemath/sagetrac-mirror/commit/713fca7e9aa2ea6ff74c7cfeb85b10f2df7f2c7f)**",
    "created_at": "2019-02-09T09:06:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417062",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a6db43c`](https://github.com/sagemath/sagetrac-mirror/commit/a6db43c4241b6f773b5bb3cf93aa294b7f8e15d2)** to **[`713fca7`](https://github.com/sagemath/sagetrac-mirror/commit/713fca7e9aa2ea6ff74c7cfeb85b10f2df7f2c7f)**



---

archive/issue_comments_417063.json:
```json
{
    "body": "<div id=\"comment:15\"></div>\n\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4d2d95fa6ebb054657dfac6f0c37a18fc362f9fa\"><code>4d2d95f</code></a></td><td><code>Added `_im_gens_` method for NCPolynomial_plural</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a51cf9de1a3962e3da086a3bacef0a2bd672e903\"><code>a51cf9d</code></a></td><td><code>Implement minimal model of cdga's</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f2e748d664781f0a4355375c192995c3866c54dc\"><code>f2e748d</code></a></td><td><code>Merge branch 't/27045/compute__degree_bounded__minimal_model_of_cdga_s' into minimalmodel</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3534f8baf9fda15893d5c405a7c546f6ae479c36\"><code>3534f8b</code></a></td><td><code>Add method to compute the cohomology algebra</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3ff9b4cbefec0b2841def794c5b02c181933bf88\"><code>3ff9b4c</code></a></td><td><code>Switch from incorrect elimination based method to a linear algebra based for cohomology algebra</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8ca775a4b6fe010fe1f79d561490dbaf5275bf50\"><code>8ca775a</code></a></td><td><code>Treat case where cohomology algebra is trivial</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3a8660d4048dd7706f6fc0d2785db8271bbc54c6\"><code>3a8660d</code></a></td><td><code>Add doctest for cohomology_generators</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/464771fdfcd62d7054d09c6eeef8890ed81baeab\"><code>464771f</code></a></td><td><code>Minor fix to generator subindices</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/256b491dc92dbe99bc3f70c900253e9de03ea655\"><code>256b491</code></a></td><td><code>Merge branch 'minimalmodel' into t/27045/compute__degree_bounded__minimal_model_of_cdga_s</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e6c765514620a7b5360a020f6d5869187246081f\"><code>e6c7655</code></a></td><td><code>Add method to check formality</code></td></tr></table>\n",
    "created_at": "2019-02-14T16:39:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417063",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15"></div>

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4d2d95fa6ebb054657dfac6f0c37a18fc362f9fa"><code>4d2d95f</code></a></td><td><code>Added `_im_gens_` method for NCPolynomial_plural</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a51cf9de1a3962e3da086a3bacef0a2bd672e903"><code>a51cf9d</code></a></td><td><code>Implement minimal model of cdga's</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f2e748d664781f0a4355375c192995c3866c54dc"><code>f2e748d</code></a></td><td><code>Merge branch 't/27045/compute__degree_bounded__minimal_model_of_cdga_s' into minimalmodel</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3534f8baf9fda15893d5c405a7c546f6ae479c36"><code>3534f8b</code></a></td><td><code>Add method to compute the cohomology algebra</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3ff9b4cbefec0b2841def794c5b02c181933bf88"><code>3ff9b4c</code></a></td><td><code>Switch from incorrect elimination based method to a linear algebra based for cohomology algebra</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8ca775a4b6fe010fe1f79d561490dbaf5275bf50"><code>8ca775a</code></a></td><td><code>Treat case where cohomology algebra is trivial</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3a8660d4048dd7706f6fc0d2785db8271bbc54c6"><code>3a8660d</code></a></td><td><code>Add doctest for cohomology_generators</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/464771fdfcd62d7054d09c6eeef8890ed81baeab"><code>464771f</code></a></td><td><code>Minor fix to generator subindices</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/256b491dc92dbe99bc3f70c900253e9de03ea655"><code>256b491</code></a></td><td><code>Merge branch 'minimalmodel' into t/27045/compute__degree_bounded__minimal_model_of_cdga_s</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e6c765514620a7b5360a020f6d5869187246081f"><code>e6c7655</code></a></td><td><code>Add method to check formality</code></td></tr></table>




---

archive/issue_comments_417064.json:
```json
{
    "body": "Changed commit from **[`713fca7`](https://github.com/sagemath/sagetrac-mirror/commit/713fca7e9aa2ea6ff74c7cfeb85b10f2df7f2c7f)** to **[`e6c7655`](https://github.com/sagemath/sagetrac-mirror/commit/e6c765514620a7b5360a020f6d5869187246081f)**",
    "created_at": "2019-02-14T16:39:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417064",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`713fca7`](https://github.com/sagemath/sagetrac-mirror/commit/713fca7e9aa2ea6ff74c7cfeb85b10f2df7f2c7f)** to **[`e6c7655`](https://github.com/sagemath/sagetrac-mirror/commit/e6c765514620a7b5360a020f6d5869187246081f)**



---

archive/issue_comments_417065.json:
```json
{
    "body": "Changed commit from **[`e6c7655`](https://github.com/sagemath/sagetrac-mirror/commit/e6c765514620a7b5360a020f6d5869187246081f)** to **[`5a25d5e`](https://github.com/sagemath/sagetrac-mirror/commit/5a25d5e7a5e1a378e3af73acbc5c2fd21a85dad2)**",
    "created_at": "2019-02-17T20:44:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417065",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e6c7655`](https://github.com/sagemath/sagetrac-mirror/commit/e6c765514620a7b5360a020f6d5869187246081f)** to **[`5a25d5e`](https://github.com/sagemath/sagetrac-mirror/commit/5a25d5e7a5e1a378e3af73acbc5c2fd21a85dad2)**



---

archive/issue_comments_417066.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7ba5d05fce8a7525d94e0636359c30e007bdb6a4\"><code>7ba5d05</code></a></td><td><code>Cache minimal models to speed up computations</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f55f993dfdaaf3d1b36c7966635adde873c2a887\"><code>f55f993</code></a></td><td><code>Fast check for formality in trivial case</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5a25d5e7a5e1a378e3af73acbc5c2fd21a85dad2\"><code>5a25d5e</code></a></td><td><code>Add doctest for fast formality check</code></td></tr></table>\n",
    "created_at": "2019-02-17T20:44:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417066",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7ba5d05fce8a7525d94e0636359c30e007bdb6a4"><code>7ba5d05</code></a></td><td><code>Cache minimal models to speed up computations</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f55f993dfdaaf3d1b36c7966635adde873c2a887"><code>f55f993</code></a></td><td><code>Fast check for formality in trivial case</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5a25d5e7a5e1a378e3af73acbc5c2fd21a85dad2"><code>5a25d5e</code></a></td><td><code>Add doctest for fast formality check</code></td></tr></table>




---

archive/issue_comments_417067.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/af07efba70d0689c55ea9c4309110a9fc5d2d133\"><code>af07efb</code></a></td><td><code>Adapt search through dict keys to python3</code></td></tr></table>\n",
    "created_at": "2019-02-22T09:27:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417067",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/af07efba70d0689c55ea9c4309110a9fc5d2d133"><code>af07efb</code></a></td><td><code>Adapt search through dict keys to python3</code></td></tr></table>




---

archive/issue_comments_417068.json:
```json
{
    "body": "Changed commit from **[`5a25d5e`](https://github.com/sagemath/sagetrac-mirror/commit/5a25d5e7a5e1a378e3af73acbc5c2fd21a85dad2)** to **[`af07efb`](https://github.com/sagemath/sagetrac-mirror/commit/af07efba70d0689c55ea9c4309110a9fc5d2d133)**",
    "created_at": "2019-02-22T09:27:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417068",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5a25d5e`](https://github.com/sagemath/sagetrac-mirror/commit/5a25d5e7a5e1a378e3af73acbc5c2fd21a85dad2)** to **[`af07efb`](https://github.com/sagemath/sagetrac-mirror/commit/af07efba70d0689c55ea9c4309110a9fc5d2d133)**



---

archive/issue_events_368728.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:56:15Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27045#event-368728"
}
```



---

archive/issue_events_368729.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:56:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27045#event-368729"
}
```



---

archive/issue_comments_417069.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nTicket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)",
    "created_at": "2019-03-25T10:56:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417069",
    "user": "https://github.com/embray"
}
```

<div id="comment:18" align="right">comment:18</div>

Ticket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)



---

archive/issue_comments_417070.json:
```json
{
    "body": "<div id=\"comment:19\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/802d60a0e92d2cf1e0c7f65754c1ff3f3bd7bcc0\"><code>802d60a</code></a></td><td><code>Adapt i-minimal model to right definition, first implementation of i-formality</code></td></tr></table>\n",
    "created_at": "2019-04-03T16:29:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417070",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:19"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/802d60a0e92d2cf1e0c7f65754c1ff3f3bd7bcc0"><code>802d60a</code></a></td><td><code>Adapt i-minimal model to right definition, first implementation of i-formality</code></td></tr></table>




---

archive/issue_comments_417071.json:
```json
{
    "body": "Changed commit from **[`af07efb`](https://github.com/sagemath/sagetrac-mirror/commit/af07efba70d0689c55ea9c4309110a9fc5d2d133)** to **[`802d60a`](https://github.com/sagemath/sagetrac-mirror/commit/802d60a0e92d2cf1e0c7f65754c1ff3f3bd7bcc0)**",
    "created_at": "2019-04-03T16:29:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417071",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`af07efb`](https://github.com/sagemath/sagetrac-mirror/commit/af07efba70d0689c55ea9c4309110a9fc5d2d133)** to **[`802d60a`](https://github.com/sagemath/sagetrac-mirror/commit/802d60a0e92d2cf1e0c7f65754c1ff3f3bd7bcc0)**



---

archive/issue_comments_417072.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f65eb09b9dcc08137a5bd1bc94cf692a3e7df1f5\"><code>f65eb09</code></a></td><td><code>Split is_formal out of the ticket</code></td></tr></table>\n",
    "created_at": "2019-04-06T08:58:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417072",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f65eb09b9dcc08137a5bd1bc94cf692a3e7df1f5"><code>f65eb09</code></a></td><td><code>Split is_formal out of the ticket</code></td></tr></table>




---

archive/issue_comments_417073.json:
```json
{
    "body": "Changed commit from **[`802d60a`](https://github.com/sagemath/sagetrac-mirror/commit/802d60a0e92d2cf1e0c7f65754c1ff3f3bd7bcc0)** to **[`f65eb09`](https://github.com/sagemath/sagetrac-mirror/commit/f65eb09b9dcc08137a5bd1bc94cf692a3e7df1f5)**",
    "created_at": "2019-04-06T08:58:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417073",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`802d60a`](https://github.com/sagemath/sagetrac-mirror/commit/802d60a0e92d2cf1e0c7f65754c1ff3f3bd7bcc0)** to **[`f65eb09`](https://github.com/sagemath/sagetrac-mirror/commit/f65eb09b9dcc08137a5bd1bc94cf692a3e7df1f5)**



---

archive/issue_events_368730.json:
```json
{
    "actor": "https://github.com/miguelmarco",
    "created_at": "2019-04-06T09:02:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27045#event-368730"
}
```



---

archive/issue_comments_417074.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n-This ticket compute the minimal model of a cdg-algebra.\n+This ticket compute the i-minimal model of a cdg-algebra.\n \n-\n+It also implements the cohomology algebra up to a given degree.\n``````\n",
    "created_at": "2019-04-06T09:02:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417074",
    "user": "https://github.com/miguelmarco"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
-This ticket compute the minimal model of a cdg-algebra.
+This ticket compute the i-minimal model of a cdg-algebra.
 
-
+It also implements the cohomology algebra up to a given degree.
``````




---

archive/issue_comments_417075.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nI think this part is ready for review. When this is ready, I will implement a check for i-formality in another ticket.",
    "created_at": "2019-04-06T09:04:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417075",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:22" align="right">comment:22</div>

I think this part is ready for review. When this is ready, I will implement a check for i-formality in another ticket.



---

archive/issue_comments_417076.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nSome more trivial comments:\n\n- `if len(cohom1)==0:` -> `if not cohom1:`\n- doc formatting:\n\n  ```\n        INPUT:\n\n        - ``i`` -- integer (default: `3`); degree to which the result is required\n          to induce an isomorphism in cohomology, and the domain is required to be\n          minimal\n\n        - ``max_iterations`` -- integer (default: `3`); the number of iterations\n          of the method at each degree; if the algorithm does not finish in this\n          many iterations at each degree, an error is raised\n  ```\n\n  ```\n        - ``max_degree`` -- integer (default: `3`); degree to which the result is required to\n          be isomorphic to self's cohomology\n  ```\n\n  ```\n        - ``codomain`` -- the parent where the images live\n\n        - ``im_gens`` -- a list or tuple with the images of the generators of this ring\n  ```\n- typo: <code>the first cohomology o \\`\\`self\\`\\`.</code>\n- small tweak: `n'th` -> <code>\\`n\\`'th</code>\n- `OUTPUT:` usually starts on a separate paragraph.\n- You have some `$` in `minimal_model`'s `ALGORITHM` block. I would also not use `self` in here but instead some other variable name.\n- No space after `:wikipedia:`.\n- Error messages should start with a lowercase letter (following a general python convention).\n- PEP8 says do not put spaces around equals signs when passing as input parameters (e.g., `foo(n=5)` not `foo(n = 5)`. There are also a few other PEP8 operator spacing issues scattered about.\n- This should be identically `0`: `sum(0*i for i in im_gens)`, so instead just return the appropriate 0 object (should be `self.codomain().zero()`).",
    "created_at": "2019-04-06T13:06:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417076",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:23" align="right">comment:23</div>

Some more trivial comments:

- `if len(cohom1)==0:` -> `if not cohom1:`
- doc formatting:

  ```
        INPUT:

        - ``i`` -- integer (default: `3`); degree to which the result is required
          to induce an isomorphism in cohomology, and the domain is required to be
          minimal

        - ``max_iterations`` -- integer (default: `3`); the number of iterations
          of the method at each degree; if the algorithm does not finish in this
          many iterations at each degree, an error is raised
  ```

  ```
        - ``max_degree`` -- integer (default: `3`); degree to which the result is required to
          be isomorphic to self's cohomology
  ```

  ```
        - ``codomain`` -- the parent where the images live

        - ``im_gens`` -- a list or tuple with the images of the generators of this ring
  ```
- typo: <code>the first cohomology o \`\`self\`\`.</code>
- small tweak: `n'th` -> <code>\`n\`'th</code>
- `OUTPUT:` usually starts on a separate paragraph.
- You have some `$` in `minimal_model`'s `ALGORITHM` block. I would also not use `self` in here but instead some other variable name.
- No space after `:wikipedia:`.
- Error messages should start with a lowercase letter (following a general python convention).
- PEP8 says do not put spaces around equals signs when passing as input parameters (e.g., `foo(n=5)` not `foo(n = 5)`. There are also a few other PEP8 operator spacing issues scattered about.
- This should be identically `0`: `sum(0*i for i in im_gens)`, so instead just return the appropriate 0 object (should be `self.codomain().zero()`).



---

archive/issue_comments_417077.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/14ee74185d444671b378076c907744ac6c09d4a7\"><code>14ee741</code></a></td><td><code>Doctesting and PEP8 fixes</code></td></tr></table>\n",
    "created_at": "2019-04-08T11:12:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417077",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/14ee74185d444671b378076c907744ac6c09d4a7"><code>14ee741</code></a></td><td><code>Doctesting and PEP8 fixes</code></td></tr></table>




---

archive/issue_comments_417078.json:
```json
{
    "body": "Changed commit from **[`f65eb09`](https://github.com/sagemath/sagetrac-mirror/commit/f65eb09b9dcc08137a5bd1bc94cf692a3e7df1f5)** to **[`14ee741`](https://github.com/sagemath/sagetrac-mirror/commit/14ee74185d444671b378076c907744ac6c09d4a7)**",
    "created_at": "2019-04-08T11:12:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417078",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f65eb09`](https://github.com/sagemath/sagetrac-mirror/commit/f65eb09b9dcc08137a5bd1bc94cf692a3e7df1f5)** to **[`14ee741`](https://github.com/sagemath/sagetrac-mirror/commit/14ee74185d444671b378076c907744ac6c09d4a7)**



---

archive/issue_comments_417079.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nI fixed those comments, and while I were at it, also fixed some other PEP8 complaints.",
    "created_at": "2019-04-08T11:13:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417079",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:25" align="right">comment:25</div>

I fixed those comments, and while I were at it, also fixed some other PEP8 complaints.



---

archive/issue_comments_417080.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nA few other little things that I would like to see fixed before setting a positive review:\n\n`max(self._minimalmodels.keys())` -> `max(self._minimalmodels)`\nand `if max_degree in self._minimalmodels.keys():` -> `if max_degree in self._minimalmodels:`.\n\nYou still need to fix the docformatting for `minimal_model()` and `cohomology_algebra`.\n\nAnother docformatting thing, but less of an issue since it is hidden in `_im_gens_` (but I am picky about these things):\n\n```diff\n-        - ``codomain`` - The parent where the images live\n+        - ``codomain`` -- the parent where the images live\n \n-        - ``im_gens`` - A list or tuple with the images of the generators of this ring.\n+        - ``im_gens`` -- a list or tuple with the images of the generators of this ring\n```\n\n`im_gens[i]**t[i] for i in range(len(t))` -> im_gens[i]**val for i,val in enumerate(t)`\n\nYour `sum`'s also do not need to create the list, but this is a trivial comment.\n\n```\n        if len(cohomgens) == 0:\n            raise ValueError(\"Cohomology ring has no generators\")\n```\nCould this be `if not cohomgens:`? Also, the error message should start with a lowercase letter.",
    "created_at": "2019-04-10T12:56:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417080",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:26" align="right">comment:26</div>

A few other little things that I would like to see fixed before setting a positive review:

`max(self._minimalmodels.keys())` -> `max(self._minimalmodels)`
and `if max_degree in self._minimalmodels.keys():` -> `if max_degree in self._minimalmodels:`.

You still need to fix the docformatting for `minimal_model()` and `cohomology_algebra`.

Another docformatting thing, but less of an issue since it is hidden in `_im_gens_` (but I am picky about these things):

```diff
-        - ``codomain`` - The parent where the images live
+        - ``codomain`` -- the parent where the images live
 
-        - ``im_gens`` - A list or tuple with the images of the generators of this ring.
+        - ``im_gens`` -- a list or tuple with the images of the generators of this ring
```

`im_gens[i]**t[i] for i in range(len(t))` -> im_gens[i]**val for i,val in enumerate(t)`

Your `sum`'s also do not need to create the list, but this is a trivial comment.

```
        if len(cohomgens) == 0:
            raise ValueError("Cohomology ring has no generators")
```
Could this be `if not cohomgens:`? Also, the error message should start with a lowercase letter.



---

archive/issue_comments_417081.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nWhat exactly do you mean by fixing the docformatting? The long lines in the results of doctests?",
    "created_at": "2019-04-10T13:07:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417081",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:27" align="right">comment:27</div>

What exactly do you mean by fixing the docformatting? The long lines in the results of doctests?



---

archive/issue_comments_417082.json:
```json
{
    "body": "<div id=\"comment:28\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7b65e366f2862542119d65824f3bde620c8f3838\"><code>7b65e36</code></a></td><td><code>Minor format changes</code></td></tr></table>\n",
    "created_at": "2019-04-10T13:20:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417082",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:28"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7b65e366f2862542119d65824f3bde620c8f3838"><code>7b65e36</code></a></td><td><code>Minor format changes</code></td></tr></table>




---

archive/issue_comments_417083.json:
```json
{
    "body": "Changed commit from **[`14ee741`](https://github.com/sagemath/sagetrac-mirror/commit/14ee74185d444671b378076c907744ac6c09d4a7)** to **[`7b65e36`](https://github.com/sagemath/sagetrac-mirror/commit/7b65e366f2862542119d65824f3bde620c8f3838)**",
    "created_at": "2019-04-10T13:20:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417083",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`14ee741`](https://github.com/sagemath/sagetrac-mirror/commit/14ee74185d444671b378076c907744ac6c09d4a7)** to **[`7b65e36`](https://github.com/sagemath/sagetrac-mirror/commit/7b65e366f2862542119d65824f3bde620c8f3838)**



---

archive/issue_comments_417084.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nSee [comment:23](#comment%3A23). Specifically, the `INPUT:` bullet points are not correctly aligned and should result in an error message when compiling the documentation. Although it would be good to follow the standard conventions (as I understand them) for docstrings too, but I won't strictly enforce that.",
    "created_at": "2019-04-10T13:52:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417084",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:29" align="right">comment:29</div>

See [comment:23](#comment%3A23). Specifically, the `INPUT:` bullet points are not correctly aligned and should result in an error message when compiling the documentation. Although it would be good to follow the standard conventions (as I understand them) for docstrings too, but I won't strictly enforce that.



---

archive/issue_comments_417085.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nWouldn't the testing framework complain if the expected output differs from the actual one by some line breaks?",
    "created_at": "2019-04-10T16:12:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417085",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:30" align="right">comment:30</div>

Wouldn't the testing framework complain if the expected output differs from the actual one by some line breaks?



---

archive/issue_comments_417086.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nCan you please take a nother look? I think it is pretty much ready.",
    "created_at": "2019-05-03T13:29:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417086",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:31" align="right">comment:31</div>

Can you please take a nother look? I think it is pretty much ready.



---

archive/issue_comments_417087.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nDocbuild errors noted on the patchbot as per [comment:29](#comment%3A29):\n\n```diff\n         - ``i`` -- integer (default: `3`); degree to which the result is\n-        required to induce an isomorphism in cohomology, and the domain is\n-        required to be minimal.\n+          required to induce an isomorphism in cohomology, and the domain is\n+          required to be minimal\n```\nand similar.",
    "created_at": "2019-05-06T05:11:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417087",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:32" align="right">comment:32</div>

Docbuild errors noted on the patchbot as per [comment:29](#comment%3A29):

```diff
         - ``i`` -- integer (default: `3`); degree to which the result is
-        required to induce an isomorphism in cohomology, and the domain is
-        required to be minimal.
+          required to induce an isomorphism in cohomology, and the domain is
+          required to be minimal
```
and similar.



---

archive/issue_comments_417088.json:
```json
{
    "body": "<div id=\"comment:33\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3d67c5ee66a148d0a597705679cf4d61508cc4ff\"><code>3d67c5e</code></a></td><td><code>Fix documentation formatting</code></td></tr></table>\n",
    "created_at": "2019-05-06T09:31:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417088",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:33"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3d67c5ee66a148d0a597705679cf4d61508cc4ff"><code>3d67c5e</code></a></td><td><code>Fix documentation formatting</code></td></tr></table>




---

archive/issue_comments_417089.json:
```json
{
    "body": "Changed commit from **[`7b65e36`](https://github.com/sagemath/sagetrac-mirror/commit/7b65e366f2862542119d65824f3bde620c8f3838)** to **[`3d67c5e`](https://github.com/sagemath/sagetrac-mirror/commit/3d67c5ee66a148d0a597705679cf4d61508cc4ff)**",
    "created_at": "2019-05-06T09:31:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417089",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7b65e36`](https://github.com/sagemath/sagetrac-mirror/commit/7b65e366f2862542119d65824f3bde620c8f3838)** to **[`3d67c5e`](https://github.com/sagemath/sagetrac-mirror/commit/3d67c5ee66a148d0a597705679cf4d61508cc4ff)**



---

archive/issue_comments_417090.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nI think I addressed the complains in the patchbot.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3d67c5ee66a148d0a597705679cf4d61508cc4ff\"><code>3d67c5e</code></a></td><td><code>Fix documentation formatting</code></td></tr></table>\n",
    "created_at": "2019-05-06T09:32:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417090",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:34" align="right">comment:34</div>

I think I addressed the complains in the patchbot.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3d67c5ee66a148d0a597705679cf4d61508cc4ff"><code>3d67c5e</code></a></td><td><code>Fix documentation formatting</code></td></tr></table>




---

archive/issue_comments_417091.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nSo the patchbots are reporting failures:\n\n```\nsage -t --long src/sage/rings/polynomial/multi_polynomial_ideal.py  # 6 doctests failed\n```\nThe 3 main ones seem like they are trivial failures and just need to be updated. Two of the other failures I cannot reproduce, but could always just be marked by `# random` if they are an issue. The last one I cannot reproduce either, but is coming from the fact that `toy:buchberger` does not return a reduced Gr\u00f6bner basis (and so is construction order dependent). I suspect these were just brittle tests beforehand.",
    "created_at": "2019-05-07T00:55:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417091",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:35" align="right">comment:35</div>

So the patchbots are reporting failures:

```
sage -t --long src/sage/rings/polynomial/multi_polynomial_ideal.py  # 6 doctests failed
```
The 3 main ones seem like they are trivial failures and just need to be updated. Two of the other failures I cannot reproduce, but could always just be marked by `# random` if they are an issue. The last one I cannot reproduce either, but is coming from the fact that `toy:buchberger` does not return a reduced Grbner basis (and so is construction order dependent). I suspect these were just brittle tests beforehand.



---

archive/issue_comments_417092.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nHmmm, that's strange: I get an error message when testing myself:\n\n```\nsage -t  src/sage/rings/polynomial/multi_polynomial_ideal.py\n\n...\n\n**********************************************************************\nFile \"src/sage/rings/polynomial/multi_polynomial_ideal.py\", line 2947, in sage.rings.polynomial.multi_polynomial_ideal.NCPolynomialIdeal.elimination_ideal\nFailed example:\n    I.elimination_ideal([x, z])\nException raised:\n    Traceback (most recent call last):\n      File \"/home/mmarco/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 671, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/mmarco/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 1095, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.rings.polynomial.multi_polynomial_ideal.NCPolynomialIdeal.elimination_ideal[4]>\", line 1, in <module>\n        I.elimination_ideal([x, z])\n      File \"/home/mmarco/sage/local/lib/python2.7/site-packages/sage/rings/polynomial/multi_polynomial_ideal.py\", line 2024, in elimination_ideal\n        return self._elimination_ideal_libsingular(variables)\n      File \"/home/mmarco/sage/local/lib/python2.7/site-packages/sage/libs/singular/standard_options.py\", line 140, in wrapper\n        return func(*args, **kwds)\n      File \"/home/mmarco/sage/local/lib/python2.7/site-packages/sage/rings/polynomial/multi_polynomial_ideal.py\", line 2051, in _elimination_ideal_libsingular\n        Is = MPolynomialIdeal(R,self.groebner_basis())\n      File \"sage/structure/element.pyx\", line 489, in sage.structure.element.Element.__getattr__ (build/cythonized/sage/structure/element.c:4611)\n        return self.getattr_from_category(name)\n      File \"sage/structure/element.pyx\", line 502, in sage.structure.element.Element.getattr_from_category (build/cythonized/sage/structure/element.c:4720)\n        return getattr_from_other_class(self, cls, name)\n      File \"sage/cpython/getattr.pyx\", line 394, in sage.cpython.getattr.getattr_from_other_class (build/cythonized/sage/cpython/getattr.c:2607)\n        raise AttributeError(dummy_error_message)\n    AttributeError: 'NCPolynomialIdeal' object has no attribute 'groebner_basis'\n**********************************************************************\n\n```\n\nBut when I run that code inside an interactive session, it works as expected.\n\nI wonder if some of the errors come from the fact that i am developping on a python 3 environment. Seems plausible, since most are due to orderings of the answers in dictionaries.",
    "created_at": "2019-05-07T12:38:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417092",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:36" align="right">comment:36</div>

Hmmm, that's strange: I get an error message when testing myself:

```
sage -t  src/sage/rings/polynomial/multi_polynomial_ideal.py

...

**********************************************************************
File "src/sage/rings/polynomial/multi_polynomial_ideal.py", line 2947, in sage.rings.polynomial.multi_polynomial_ideal.NCPolynomialIdeal.elimination_ideal
Failed example:
    I.elimination_ideal([x, z])
Exception raised:
    Traceback (most recent call last):
      File "/home/mmarco/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 671, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/mmarco/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 1095, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.rings.polynomial.multi_polynomial_ideal.NCPolynomialIdeal.elimination_ideal[4]>", line 1, in <module>
        I.elimination_ideal([x, z])
      File "/home/mmarco/sage/local/lib/python2.7/site-packages/sage/rings/polynomial/multi_polynomial_ideal.py", line 2024, in elimination_ideal
        return self._elimination_ideal_libsingular(variables)
      File "/home/mmarco/sage/local/lib/python2.7/site-packages/sage/libs/singular/standard_options.py", line 140, in wrapper
        return func(*args, **kwds)
      File "/home/mmarco/sage/local/lib/python2.7/site-packages/sage/rings/polynomial/multi_polynomial_ideal.py", line 2051, in _elimination_ideal_libsingular
        Is = MPolynomialIdeal(R,self.groebner_basis())
      File "sage/structure/element.pyx", line 489, in sage.structure.element.Element.__getattr__ (build/cythonized/sage/structure/element.c:4611)
        return self.getattr_from_category(name)
      File "sage/structure/element.pyx", line 502, in sage.structure.element.Element.getattr_from_category (build/cythonized/sage/structure/element.c:4720)
        return getattr_from_other_class(self, cls, name)
      File "sage/cpython/getattr.pyx", line 394, in sage.cpython.getattr.getattr_from_other_class (build/cythonized/sage/cpython/getattr.c:2607)
        raise AttributeError(dummy_error_message)
    AttributeError: 'NCPolynomialIdeal' object has no attribute 'groebner_basis'
**********************************************************************

```

But when I run that code inside an interactive session, it works as expected.

I wonder if some of the errors come from the fact that i am developping on a python 3 environment. Seems plausible, since most are due to orderings of the answers in dictionaries.



---

archive/issue_comments_417093.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nHmm...I didn't think about testing it on Python3. Fr\u00e9d\u00e9ric (and likely John as well) will be happy that this works on both versions. I cannot say why it doesn't work by using the doctest runner but is fine in an interactive session. Maybe something is being cached or getting put in the \"wrong\" order in some set/dict. I can probably look into this more tomorrow.",
    "created_at": "2019-05-07T12:54:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417093",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:37" align="right">comment:37</div>

Hmm...I didn't think about testing it on Python3. Frdric (and likely John as well) will be happy that this works on both versions. I cannot say why it doesn't work by using the doctest runner but is fine in an interactive session. Maybe something is being cached or getting put in the "wrong" order in some set/dict. I can probably look into this more tomorrow.



---

archive/issue_comments_417094.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nOk, if that is a big touble, we could remove the `elimination_ideal` method (it is not needed in the final implementation of `cohomology_algebra`, but it is probably good to have it anyways).",
    "created_at": "2019-05-07T12:58:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417094",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:38" align="right">comment:38</div>

Ok, if that is a big touble, we could remove the `elimination_ideal` method (it is not needed in the final implementation of `cohomology_algebra`, but it is probably good to have it anyways).



---

archive/issue_comments_417095.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nWith Python3, I am getting the other 3 failures reported by the patchbot. So we can ignore those (I am guessing that is a Python3-based patchbot).\n\nI still have no idea about the failure on your doctest run. Which version of Sage are you using to develop this?\n\nI think we should either update the output to match (for the failing tests in `elimination_ideal()`, and I get the same output on both Python versions) or we just put `nc-relations: {...}` for them.",
    "created_at": "2019-05-08T02:17:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417095",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:39" align="right">comment:39</div>

With Python3, I am getting the other 3 failures reported by the patchbot. So we can ignore those (I am guessing that is a Python3-based patchbot).

I still have no idea about the failure on your doctest run. Which version of Sage are you using to develop this?

I think we should either update the output to match (for the failing tests in `elimination_ideal()`, and I get the same output on both Python versions) or we just put `nc-relations: {...}` for them.



---

archive/issue_comments_417096.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nMaybe I had something outdated on my sage install. After doing a full rebuild, I get no errors at all.\n\nAbout the ordering issues in python 3, that is a common problen for all doctests that involve dictionaries... \u00bfwhat is the general policy about that?",
    "created_at": "2019-05-08T13:41:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417096",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:40" align="right">comment:40</div>

Maybe I had something outdated on my sage install. After doing a full rebuild, I get no errors at all.

About the ordering issues in python 3, that is a common problen for all doctests that involve dictionaries... what is the general policy about that?



---

archive/issue_comments_417097.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nIt depends on what the issue is. In this case, it seems the added tests do not differ from Python2 and Python3 (at least on my machine), and from looking at the code, it is fed off to the `SagePrettyPrinter`, so it should be consistent (if it is not, then there is a bug further down). So I think just updating the doctest output is all we need to do.",
    "created_at": "2019-05-08T23:23:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417097",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:41" align="right">comment:41</div>

It depends on what the issue is. In this case, it seems the added tests do not differ from Python2 and Python3 (at least on my machine), and from looking at the code, it is fed off to the `SagePrettyPrinter`, so it should be consistent (if it is not, then there is a bug further down). So I think just updating the doctest output is all we need to do.



---

archive/issue_comments_417098.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nSo, just to clarify: you also get errors in a python2 build? \n\nAfter fully compiling a sage-python2 environment, I get no errors at all.",
    "created_at": "2019-05-09T08:33:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417098",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:42" align="right">comment:42</div>

So, just to clarify: you also get errors in a python2 build? 

After fully compiling a sage-python2 environment, I get no errors at all.



---

archive/issue_comments_417099.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nYes, that is correct. I get the same 3 errors about output order in `multi_polynomial_ideal.py`.",
    "created_at": "2019-05-09T08:34:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417099",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:43" align="right">comment:43</div>

Yes, that is correct. I get the same 3 errors about output order in `multi_polynomial_ideal.py`.



---

archive/issue_comments_417100.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nThat is strange, I get the same result as the doctests. Have you rebased to the last development version? Or mayb there is something machine dependent there?",
    "created_at": "2019-05-09T08:55:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417100",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:44" align="right">comment:44</div>

That is strange, I get the same result as the doctests. Have you rebased to the last development version? Or mayb there is something machine dependent there?



---

archive/issue_comments_417101.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nI am using `8.4.beta4`, so then there is a machine dependency, which is really bad.",
    "created_at": "2019-05-09T08:56:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417101",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:45" align="right">comment:45</div>

I am using `8.4.beta4`, so then there is a machine dependency, which is really bad.



---

archive/issue_comments_417102.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nWell, we can sidestep this problem by what I suggested in commnet:39 (as the nc-relations are not important for the doctest).",
    "created_at": "2019-05-09T08:57:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417102",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:46" align="right">comment:46</div>

Well, we can sidestep this problem by what I suggested in commnet:39 (as the nc-relations are not important for the doctest).



---

archive/issue_comments_417103.json:
```json
{
    "body": "<div id=\"comment:47\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/612cfb33196935934919ae4af1e437fc996ad1e3\"><code>612cfb3</code></a></td><td><code>Hide nc relations ordering in doctest</code></td></tr></table>\n",
    "created_at": "2019-05-09T10:52:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417103",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:47"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/612cfb33196935934919ae4af1e437fc996ad1e3"><code>612cfb3</code></a></td><td><code>Hide nc relations ordering in doctest</code></td></tr></table>




---

archive/issue_comments_417104.json:
```json
{
    "body": "Changed commit from **[`3d67c5e`](https://github.com/sagemath/sagetrac-mirror/commit/3d67c5ee66a148d0a597705679cf4d61508cc4ff)** to **[`612cfb3`](https://github.com/sagemath/sagetrac-mirror/commit/612cfb33196935934919ae4af1e437fc996ad1e3)**",
    "created_at": "2019-05-09T10:52:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417104",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3d67c5e`](https://github.com/sagemath/sagetrac-mirror/commit/3d67c5ee66a148d0a597705679cf4d61508cc4ff)** to **[`612cfb3`](https://github.com/sagemath/sagetrac-mirror/commit/612cfb33196935934919ae4af1e437fc996ad1e3)**



---

archive/issue_comments_417105.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nIf that is the only discrepancy, then I agree that is the best we can do right now. Maybe when we do the final switch to python 3 these glitches will stabilize, and get more predictable doctests.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/612cfb33196935934919ae4af1e437fc996ad1e3\"><code>612cfb3</code></a></td><td><code>Hide nc relations ordering in doctest</code></td></tr></table>\n",
    "created_at": "2019-05-09T10:52:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417105",
    "user": "https://github.com/miguelmarco"
}
```

<div id="comment:48" align="right">comment:48</div>

If that is the only discrepancy, then I agree that is the best we can do right now. Maybe when we do the final switch to python 3 these glitches will stabilize, and get more predictable doctests.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/612cfb33196935934919ae4af1e437fc996ad1e3"><code>612cfb3</code></a></td><td><code>Hide nc relations ordering in doctest</code></td></tr></table>




---

archive/issue_comments_417106.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2019-05-09T11:38:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417106",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_comments_417107.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nI wish I did have a better understanding why it is not stable even across our machines, but this will do for now. Lo mira bien a mi.",
    "created_at": "2019-05-09T11:38:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417107",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:49" align="right">comment:49</div>

I wish I did have a better understanding why it is not stable even across our machines, but this will do for now. Lo mira bien a mi.



---

archive/issue_events_368731.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-05-09T11:38:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27045#event-368731"
}
```



---

archive/issue_events_368732.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-05-09T11:38:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27045#event-368732"
}
```



---

archive/issue_events_368733.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-05-14T12:37:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27045#event-368733"
}
```



---

archive/issue_events_368734.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "bc19c41475766fece0441d5ed8c08e36f49859e1",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-05-14T12:37:26Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27045#event-368734"
}
```



---

archive/issue_comments_417108.json:
```json
{
    "body": "Changed branch from **[u/mmarco/compute__degree_bounded__minimal_model_of_cdga_s](https://github.com/sagemath/sagetrac-mirror/tree/u/mmarco/compute__degree_bounded__minimal_model_of_cdga_s)** to **[`612cfb3`](https://github.com/sagemath/sagetrac-mirror/commit/612cfb33196935934919ae4af1e437fc996ad1e3)**",
    "created_at": "2019-05-14T12:37:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417108",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mmarco/compute__degree_bounded__minimal_model_of_cdga_s](https://github.com/sagemath/sagetrac-mirror/tree/u/mmarco/compute__degree_bounded__minimal_model_of_cdga_s)** to **[`612cfb3`](https://github.com/sagemath/sagetrac-mirror/commit/612cfb33196935934919ae4af1e437fc996ad1e3)**



---

archive/issue_comments_417109.json:
```json
{
    "body": "Changed author from **Miguel Marco** to **Miguel Marco, Victor Manero**",
    "created_at": "2019-10-24T07:09:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417109",
    "user": "https://github.com/miguelmarco"
}
```

Changed author from **Miguel Marco** to **Miguel Marco, Victor Manero**



---

archive/issue_comments_417110.json:
```json
{
    "body": "Changed commit from **[`612cfb3`](https://github.com/sagemath/sagetrac-mirror/commit/612cfb33196935934919ae4af1e437fc996ad1e3)** to none",
    "created_at": "2019-10-24T07:09:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27045#issuecomment-417110",
    "user": "https://github.com/miguelmarco"
}
```

Changed commit from **[`612cfb3`](https://github.com/sagemath/sagetrac-mirror/commit/612cfb33196935934919ae4af1e437fc996ad1e3)** to none
