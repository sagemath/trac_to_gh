# Issue 27062: MR5: note on what happens if an executable script is loaded

archive/issues_026825.json:
```json
{
    "body": "Dmitrii Pasechnik ([`@`dimpase](https://gitlab.com/dimpase)) opened a merge request at https://gitlab.com/sagemath/sage/merge_requests/5:\n\n---\n\n\n\n\n\n\n\n\nCC:  @embray\n\nBranch/Commit: 74c1d22288a75eb242d621da92926a6be81acad0\n\nReviewer: Erik Bray\n\nAuthor: Dima Pasechnik\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/27062\n\n",
    "closed_at": "2019-02-04T23:02:29Z",
    "created_at": "2019-01-15T16:00:13Z",
    "labels": [
        "component: documentation"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.7",
    "title": "MR5: note on what happens if an executable script is loaded",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/27062",
    "user": "https://trac.sagemath.org/admin/accounts/users/galois"
}
```
Dmitrii Pasechnik ([`@`dimpase](https://gitlab.com/dimpase)) opened a merge request at https://gitlab.com/sagemath/sage/merge_requests/5:

---








CC:  @embray

Branch/Commit: 74c1d22288a75eb242d621da92926a6be81acad0

Reviewer: Erik Bray

Author: Dima Pasechnik

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/27062





---

archive/issue_comments_520367.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to documentation.",
    "created_at": "2019-01-15T16:01:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520367",
    "user": "https://github.com/dimpase"
}
```

Changing component from PLEASE CHANGE to documentation.



---

archive/issue_events_067218.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-01-15T16:01:29Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "milestone": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27062#event-67218"
}
```



---

archive/issue_comments_520368.json:
```json
{
    "body": "Description changed:\n``````diff\n\n``````\n",
    "created_at": "2019-01-15T16:01:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520368",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff

``````




---

archive/issue_comments_520369.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2019-01-15T16:01:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520369",
    "user": "https://github.com/dimpase"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_520370.json:
```json
{
    "body": "Changing author from \"Dmitrii Pasechnik\" to \"Dima Pasechnik\"",
    "created_at": "2019-01-15T16:01:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520370",
    "user": "https://github.com/dimpase"
}
```

Changing author from "Dmitrii Pasechnik" to "Dima Pasechnik"



---

archive/issue_comments_520371.json:
```json
{
    "body": "Changing commit from \"88c37efe4b36f406f5df001afc596dfffb4cd369\" to \"73825d453d18a7bd1811aea2a0522013e51c49dd\"",
    "created_at": "2019-01-15T16:08:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520371",
    "user": "https://trac.sagemath.org/admin/accounts/users/galois"
}
```

Changing commit from "88c37efe4b36f406f5df001afc596dfffb4cd369" to "73825d453d18a7bd1811aea2a0522013e51c49dd"



---

archive/issue_comments_520372.json:
```json
{
    "body": "<a id='comment:2'></a>New commits added to merge request.  I updated the commit SHA-1.  New commits:",
    "created_at": "2019-01-15T16:08:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520372",
    "user": "https://trac.sagemath.org/admin/accounts/users/galois"
}
```

<a id='comment:2'></a>New commits added to merge request.  I updated the commit SHA-1.  New commits:



---

archive/issue_comments_520373.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2019-01-15T16:50:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520373",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_520374.json:
```json
{
    "body": "<a id='comment:3'></a>Erik seems to think that this is a bug.",
    "created_at": "2019-01-15T16:50:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520374",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:3'></a>Erik seems to think that this is a bug.



---

archive/issue_comments_520375.json:
```json
{
    "body": "<a id='comment:4'></a>I don't think it is a bug. In Sage REPL you have `__name__==__main__`, and `load()` is akin to typing code in. Why would it go under another `__name__`?",
    "created_at": "2019-01-15T16:54:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520375",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:4'></a>I don't think it is a bug. In Sage REPL you have `__name__==__main__`, and `load()` is akin to typing code in. Why would it go under another `__name__`?



---

archive/issue_comments_520376.json:
```json
{
    "body": "<a id='comment:5'></a>I think it's a principle of least astonishment.  We teach that the way to make a Python script into an executable command-line script is to put `if __name__ == '__main__':`.  Most users don't really know what that means or why it works; it's just cargo cult.  While `load()` is not perfectly analogous to `import` and, as you say, is more like typing in commands at the REPL, I don't think it should run those commands with `__name__ = '__main__'` since that will break the user's expectation that \"that code will only run when I run this file as a script\".",
    "created_at": "2019-01-15T17:38:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520376",
    "user": "https://github.com/embray"
}
```

<a id='comment:5'></a>I think it's a principle of least astonishment.  We teach that the way to make a Python script into an executable command-line script is to put `if __name__ == '__main__':`.  Most users don't really know what that means or why it works; it's just cargo cult.  While `load()` is not perfectly analogous to `import` and, as you say, is more like typing in commands at the REPL, I don't think it should run those commands with `__name__ = '__main__'` since that will break the user's expectation that "that code will only run when I run this file as a script".



---

archive/issue_comments_520377.json:
```json
{
    "body": "<a id='comment:6'></a>Replying to [embray](#comment%3A5):\n> I think it's a principle of least astonishment.  We teach that the way to make a Python script into an executable command-line script is to put `if __name__ == '__main__':`.  Most users don't really know what that means or why it works; it's just cargo cult.  While `load()` is not perfectly analogous to `import` and, as you say, is more like typing in commands at the REPL, I don't think it should run those commands with `__name__ = '__main__'` since that will break the user's expectation that \"that code will only run when I run this file as a script\".\n\n\nSorry, but at Python REPL you do have `__name__==__main__`. So you propose to temporarily set `__name__` to something else, then set it back, emulating `import ...`.\nSo then you'd also need to explain in the docs what `__name__` it is, decide whether it will be a proper import, and so reflected in `sys.modules.keys()`, with a potential for name clashes, or not, and (very confusing, potentially) etc... \n\nNo, I really do not like this. I'd rather document the current behaviour and be done with it.",
    "created_at": "2019-01-15T17:58:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520377",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:6'></a>Replying to [embray](#comment%3A5):
> I think it's a principle of least astonishment.  We teach that the way to make a Python script into an executable command-line script is to put `if __name__ == '__main__':`.  Most users don't really know what that means or why it works; it's just cargo cult.  While `load()` is not perfectly analogous to `import` and, as you say, is more like typing in commands at the REPL, I don't think it should run those commands with `__name__ = '__main__'` since that will break the user's expectation that "that code will only run when I run this file as a script".


Sorry, but at Python REPL you do have `__name__==__main__`. So you propose to temporarily set `__name__` to something else, then set it back, emulating `import ...`.
So then you'd also need to explain in the docs what `__name__` it is, decide whether it will be a proper import, and so reflected in `sys.modules.keys()`, with a potential for name clashes, or not, and (very confusing, potentially) etc... 

No, I really do not like this. I'd rather document the current behaviour and be done with it.



---

archive/issue_comments_520378.json:
```json
{
    "body": "<a id='comment:7'></a>By the way, ipython has a similar facility, a magic `%load`:\n\n```\nIn [4]: %load p.py\n\nIn [5]: # %load p.py\n   ...: if __name__ == '__main__':\n   ...:     print(\"blah\")\n   ...: \nblah\n\nIn [6]: \n```\n\nSo you propose to deviate from this, too....",
    "created_at": "2019-01-15T18:01:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520378",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:7'></a>By the way, ipython has a similar facility, a magic `%load`:

```
In [4]: %load p.py

In [5]: # %load p.py
   ...: if __name__ == '__main__':
   ...:     print("blah")
   ...: 
blah

In [6]: 
```

So you propose to deviate from this, too....



---

archive/issue_comments_520379.json:
```json
{
    "body": "<a id='comment:8'></a>Yeah, I think that's bad, actually, in IPython too.  There's no *good* reason to have `__name__ == '__main__'` in this context.",
    "created_at": "2019-01-15T18:07:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520379",
    "user": "https://github.com/embray"
}
```

<a id='comment:8'></a>Yeah, I think that's bad, actually, in IPython too.  There's no *good* reason to have `__name__ == '__main__'` in this context.



---

archive/issue_comments_520380.json:
```json
{
    "body": "<a id='comment:9'></a>Replying to [embray](#comment%3A8):\n> Yeah, I think that's bad, actually, in IPython too.  There's no *good* reason to have `__name__ == '__main__'` in this context.\n\n\nIn ipython it's obvious that `%load` is nothing but pasting into REPL, no?\nAnd why would such a pasting do something funny with `__name__`?",
    "created_at": "2019-01-15T18:13:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520380",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:9'></a>Replying to [embray](#comment%3A8):
> Yeah, I think that's bad, actually, in IPython too.  There's no *good* reason to have `__name__ == '__main__'` in this context.


In ipython it's obvious that `%load` is nothing but pasting into REPL, no?
And why would such a pasting do something funny with `__name__`?



---

archive/issue_comments_520381.json:
```json
{
    "body": "<a id='comment:10'></a>I don't think Sage's `load()` function necessarily has to be exactly analogous to IPython's `%load` magic, but I am beginning to come around to your point.\n\nI believe what's really missing here is a way to `import` .sage files as though they were normal Python modules.\n\nI think this would be really easy to do too, so maybe I'll just do that (and accept this documentation note in the meantime).",
    "created_at": "2019-01-15T18:33:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520381",
    "user": "https://github.com/embray"
}
```

<a id='comment:10'></a>I don't think Sage's `load()` function necessarily has to be exactly analogous to IPython's `%load` magic, but I am beginning to come around to your point.

I believe what's really missing here is a way to `import` .sage files as though they were normal Python modules.

I think this would be really easy to do too, so maybe I'll just do that (and accept this documentation note in the meantime).



---

archive/issue_comments_520382.json:
```json
{
    "body": "<a id='comment:11'></a>Well, perhaps something like a Python extension to Sage-preparse whatever comes in `import` statements, or indeed a `module_name=` parameter for `load()` and `attach()`, but this is certainly something tricky and of very low priority.",
    "created_at": "2019-01-17T10:21:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520382",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:11'></a>Well, perhaps something like a Python extension to Sage-preparse whatever comes in `import` statements, or indeed a `module_name=` parameter for `load()` and `attach()`, but this is certainly something tricky and of very low priority.



---

archive/issue_comments_520383.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2019-01-17T10:21:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520383",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_520384.json:
```json
{
    "body": "<a id='comment:12'></a>It's actually pretty easy (though ironically it was easier in the old import system).",
    "created_at": "2019-01-18T10:41:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520384",
    "user": "https://github.com/embray"
}
```

<a id='comment:12'></a>It's actually pretty easy (though ironically it was easier in the old import system).



---

archive/issue_comments_520385.json:
```json
{
    "body": "<a id='comment:13'></a>Created a ticket for this at #27074.  I'm surprised I haven't made one for this already but I don't think I have...",
    "created_at": "2019-01-18T10:55:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520385",
    "user": "https://github.com/embray"
}
```

<a id='comment:13'></a>Created a ticket for this at #27074.  I'm surprised I haven't made one for this already but I don't think I have...



---

archive/issue_comments_520386.json:
```json
{
    "body": "<a id='comment:14'></a>I made a merge request to your merge request with a suggested slight rewording, but if you accept that then positive review otherwise.",
    "created_at": "2019-01-18T11:00:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520386",
    "user": "https://github.com/embray"
}
```

<a id='comment:14'></a>I made a merge request to your merge request with a suggested slight rewording, but if you accept that then positive review otherwise.



---

archive/issue_comments_520387.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-01-18T11:00:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520387",
    "user": "https://github.com/embray"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_520388.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Erik Bray\"",
    "created_at": "2019-01-18T11:00:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520388",
    "user": "https://github.com/embray"
}
```

Changing reviewer from "" to "Erik Bray"



---

archive/issue_comments_520389.json:
```json
{
    "body": "<a id='comment:15'></a>I don't seem to get anything on gitlab that points to your request - could you tell me where to look?\n\nthere is nothing on \nhttps://gitlab.com/sagemath/sage/merge_requests/5\nto do for me, in fact.\n\nBut  I just noticed in a merge request in my fork, duh...\nAll done now.",
    "created_at": "2019-01-18T11:23:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520389",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:15'></a>I don't seem to get anything on gitlab that points to your request - could you tell me where to look?

there is nothing on 
https://gitlab.com/sagemath/sage/merge_requests/5
to do for me, in fact.

But  I just noticed in a merge request in my fork, duh...
All done now.



---

archive/issue_comments_520390.json:
```json
{
    "body": "Changing commit from \"73825d453d18a7bd1811aea2a0522013e51c49dd\" to \"d5ca638e7096cc7fd71c59fa78a42d64381adace\"",
    "created_at": "2019-01-18T12:14:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520390",
    "user": "https://trac.sagemath.org/admin/accounts/users/galois"
}
```

Changing commit from "73825d453d18a7bd1811aea2a0522013e51c49dd" to "d5ca638e7096cc7fd71c59fa78a42d64381adace"



---

archive/issue_comments_520391.json:
```json
{
    "body": "<a id='comment:16'></a>New commits added to merge request.  I updated the commit SHA-1.  New commits:",
    "created_at": "2019-01-18T12:14:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520391",
    "user": "https://trac.sagemath.org/admin/accounts/users/galois"
}
```

<a id='comment:16'></a>New commits added to merge request.  I updated the commit SHA-1.  New commits:



---

archive/issue_comments_520392.json:
```json
{
    "body": "<a id='comment:17'></a>Replying to [dimpase](#comment%3A15):\n> I don't seem to get anything on gitlab that points to your request - could you tell me where to look?\n> \n> there is nothing on \n> https://gitlab.com/sagemath/sage/merge_requests/5\n> to do for me, in fact.\n\n\nThis is exactly the reason why I say that the Sage Trac workflow is better than [GitLab](GitLab) or [GitHub](GitHub).",
    "created_at": "2019-01-18T13:07:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520392",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:17'></a>Replying to [dimpase](#comment%3A15):
> I don't seem to get anything on gitlab that points to your request - could you tell me where to look?
> 
> there is nothing on 
> https://gitlab.com/sagemath/sage/merge_requests/5
> to do for me, in fact.


This is exactly the reason why I say that the Sage Trac workflow is better than [GitLab](GitLab) or [GitHub](GitHub).



---

archive/issue_comments_520393.json:
```json
{
    "body": "<a id='comment:18'></a>Replying to [jdemeyer](#comment%3A17):\n> Replying to [dimpase](#comment%3A15):\n> > I don't seem to get anything on gitlab that points to your request - could you tell me where to look?\n> > \n> > there is nothing on \n> > https://gitlab.com/sagemath/sage/merge_requests/5\n> > to do for me, in fact.\n\n> \n> This is exactly the reason why I say that the Sage Trac workflow is better than [GitLab](GitLab) or [GitHub](GitHub).\n\n\nWell, I don't think it is bad - it's just different - you need to know where to look, and this is actually quite intuitive.\nAnd it is better, as there is no need to mess with branches manually.\n(unless you work in public/, with all the possible gotcha's).",
    "created_at": "2019-01-18T13:27:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520393",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:18'></a>Replying to [jdemeyer](#comment%3A17):
> Replying to [dimpase](#comment%3A15):
> > I don't seem to get anything on gitlab that points to your request - could you tell me where to look?
> > 
> > there is nothing on 
> > https://gitlab.com/sagemath/sage/merge_requests/5
> > to do for me, in fact.

> 
> This is exactly the reason why I say that the Sage Trac workflow is better than [GitLab](GitLab) or [GitHub](GitHub).


Well, I don't think it is bad - it's just different - you need to know where to look, and this is actually quite intuitive.
And it is better, as there is no need to mess with branches manually.
(unless you work in public/, with all the possible gotcha's).



---

archive/issue_comments_520394.json:
```json
{
    "body": "<a id='comment:19'></a>Replying to [dimpase](#comment%3A18):\n> Replying to [jdemeyer](#comment%3A17):\n> > Replying to [dimpase](#comment%3A15):\n> > > I don't seem to get anything on gitlab that points to your request - could you tell me where to look?\n> > > \n> > > there is nothing on \n> > > https://gitlab.com/sagemath/sage/merge_requests/5\n> > > to do for me, in fact.\n\n> > \n> > This is exactly the reason why I say that the Sage Trac workflow is better than [GitLab](GitLab) or [GitHub](GitHub).\n\n> \n> Well, I don't think it is bad - it's just different - you need to know where to look, and this is actually quite intuitive.\n> And it is better, as there is no need to mess with branches manually.\n> (unless you work in public/, with all the possible gotcha's).\n\n\n(And you erased the line I added to my comment, which meant to indicate that even an old demented guy like me, who learned to program with punchcards can still figure it out himself :-P)",
    "created_at": "2019-01-18T13:29:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520394",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:19'></a>Replying to [dimpase](#comment%3A18):
> Replying to [jdemeyer](#comment%3A17):
> > Replying to [dimpase](#comment%3A15):
> > > I don't seem to get anything on gitlab that points to your request - could you tell me where to look?
> > > 
> > > there is nothing on 
> > > https://gitlab.com/sagemath/sage/merge_requests/5
> > > to do for me, in fact.

> > 
> > This is exactly the reason why I say that the Sage Trac workflow is better than [GitLab](GitLab) or [GitHub](GitHub).

> 
> Well, I don't think it is bad - it's just different - you need to know where to look, and this is actually quite intuitive.
> And it is better, as there is no need to mess with branches manually.
> (unless you work in public/, with all the possible gotcha's).


(And you erased the line I added to my comment, which meant to indicate that even an old demented guy like me, who learned to program with punchcards can still figure it out himself :-P)



---

archive/issue_comments_520395.json:
```json
{
    "body": "<a id='comment:20'></a>Replying to [dimpase](#comment%3A18):\n> you need to know where to look\n\n\nWell, I shouldn't need to know where to look. With the Sage Trac workflow, everything is in one place.",
    "created_at": "2019-01-18T13:41:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520395",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:20'></a>Replying to [dimpase](#comment%3A18):
> you need to know where to look


Well, I shouldn't need to know where to look. With the Sage Trac workflow, everything is in one place.



---

archive/issue_comments_520396.json:
```json
{
    "body": "<a id='comment:21'></a>No, it's not in one place - it's on your computer, on the ticket's author's computer, in different git branches, on trac, on trac's git server, whereas on gitlab it's all there. \nThings can, and do, go wrong in many different ways.\n\nWhereas on gitlab the review and tests (something not quite ready yet) are all done online. It's only cause I'm a very unexperienced user of gitlab, I did ask that question is the 1st place (and I didn't even check my repo for notification - I could have set up an email notifications and got it in mailbox then, totally clear).",
    "created_at": "2019-01-18T13:50:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520396",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:21'></a>No, it's not in one place - it's on your computer, on the ticket's author's computer, in different git branches, on trac, on trac's git server, whereas on gitlab it's all there. 
Things can, and do, go wrong in many different ways.

Whereas on gitlab the review and tests (something not quite ready yet) are all done online. It's only cause I'm a very unexperienced user of gitlab, I did ask that question is the 1st place (and I didn't even check my repo for notification - I could have set up an email notifications and got it in mailbox then, totally clear).



---

archive/issue_comments_520397.json:
```json
{
    "body": "<a id='comment:22'></a>Replying to [dimpase](#comment%3A21):\n> Whereas on gitlab the review and tests (something not quite ready yet) are all done online. It's only cause I'm a very unexperienced user of gitlab, I did ask that question is the 1st place (and I didn't even check my repo for notification - I could have set up an email notifications and got it in mailbox then, totally clear).\n\n\nYes, normally you'd get an e-mail notification in which case it's clearer.  Though when I made my MR I should have included a reference to yours, and it would have automatically created a backreference as well.",
    "created_at": "2019-01-18T14:08:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520397",
    "user": "https://github.com/embray"
}
```

<a id='comment:22'></a>Replying to [dimpase](#comment%3A21):
> Whereas on gitlab the review and tests (something not quite ready yet) are all done online. It's only cause I'm a very unexperienced user of gitlab, I did ask that question is the 1st place (and I didn't even check my repo for notification - I could have set up an email notifications and got it in mailbox then, totally clear).


Yes, normally you'd get an e-mail notification in which case it's clearer.  Though when I made my MR I should have included a reference to yours, and it would have automatically created a backreference as well.



---

archive/issue_comments_520398.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2019-01-18T14:09:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520398",
    "user": "https://github.com/embray"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_520399.json:
```json
{
    "body": "<a id='comment:24'></a>New commits added to merge request.  I updated the commit SHA-1.  This was a forced push.  New commits:",
    "created_at": "2019-01-26T11:42:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520399",
    "user": "https://trac.sagemath.org/admin/accounts/users/galois"
}
```

<a id='comment:24'></a>New commits added to merge request.  I updated the commit SHA-1.  This was a forced push.  New commits:



---

archive/issue_comments_520400.json:
```json
{
    "body": "Changing commit from \"d5ca638e7096cc7fd71c59fa78a42d64381adace\" to \"5389d8dc87d79db7b81af492edf53a32699e8323\"",
    "created_at": "2019-01-26T11:42:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520400",
    "user": "https://trac.sagemath.org/admin/accounts/users/galois"
}
```

Changing commit from "d5ca638e7096cc7fd71c59fa78a42d64381adace" to "5389d8dc87d79db7b81af492edf53a32699e8323"



---

archive/issue_comments_520401.json:
```json
{
    "body": "<a id='comment:25'></a>New commits added to merge request.  I updated the commit SHA-1.  New commits:",
    "created_at": "2019-01-26T11:46:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520401",
    "user": "https://trac.sagemath.org/admin/accounts/users/galois"
}
```

<a id='comment:25'></a>New commits added to merge request.  I updated the commit SHA-1.  New commits:



---

archive/issue_comments_520402.json:
```json
{
    "body": "Changing commit from \"5389d8dc87d79db7b81af492edf53a32699e8323\" to \"1a954dcd4ddfec0cf4f19bfef5f70fbc8a1aac8b\"",
    "created_at": "2019-01-26T11:46:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520402",
    "user": "https://trac.sagemath.org/admin/accounts/users/galois"
}
```

Changing commit from "5389d8dc87d79db7b81af492edf53a32699e8323" to "1a954dcd4ddfec0cf4f19bfef5f70fbc8a1aac8b"



---

archive/issue_comments_520403.json:
```json
{
    "body": "Changing commit from \"1a954dcd4ddfec0cf4f19bfef5f70fbc8a1aac8b\" to \"5389d8dc87d79db7b81af492edf53a32699e8323\"",
    "created_at": "2019-01-26T12:06:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520403",
    "user": "https://github.com/dimpase"
}
```

Changing commit from "1a954dcd4ddfec0cf4f19bfef5f70fbc8a1aac8b" to "5389d8dc87d79db7b81af492edf53a32699e8323"



---

archive/issue_comments_520404.json:
```json
{
    "body": "Changing branch from \"u/galois/mrs/5/develop\" to \"u/dimpase/GQ\"",
    "created_at": "2019-01-26T12:06:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520404",
    "user": "https://github.com/dimpase"
}
```

Changing branch from "u/galois/mrs/5/develop" to "u/dimpase/GQ"



---

archive/issue_comments_520405.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2019-01-26T12:06:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520405",
    "user": "https://github.com/dimpase"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_520406.json:
```json
{
    "body": "<a id='comment:26'></a>I messed up the gitlab fork by pushing with `-f` into my repo (yes, mine, not that galois guy!)\n\nand the work on this ticket is just gone now :-(\n\nThis is obviously a workflow bug that must be somehow fixed...",
    "created_at": "2019-01-26T12:06:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520406",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:26'></a>I messed up the gitlab fork by pushing with `-f` into my repo (yes, mine, not that galois guy!)

and the work on this ticket is just gone now :-(

This is obviously a workflow bug that must be somehow fixed...



---

archive/issue_comments_520407.json:
```json
{
    "body": "Changing commit from \"5389d8dc87d79db7b81af492edf53a32699e8323\" to \"1a954dcd4ddfec0cf4f19bfef5f70fbc8a1aac8b\"",
    "created_at": "2019-01-26T12:28:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520407",
    "user": "https://github.com/dimpase"
}
```

Changing commit from "5389d8dc87d79db7b81af492edf53a32699e8323" to "1a954dcd4ddfec0cf4f19bfef5f70fbc8a1aac8b"



---

archive/issue_comments_520408.json:
```json
{
    "body": "<a id='comment:27'></a>New commits:",
    "created_at": "2019-01-26T12:28:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520408",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:27'></a>New commits:



---

archive/issue_comments_520409.json:
```json
{
    "body": "Changing branch from \"u/dimpase/GQ\" to \"u/galois/mrs/5/develop\"",
    "created_at": "2019-01-26T12:28:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520409",
    "user": "https://github.com/dimpase"
}
```

Changing branch from "u/dimpase/GQ" to "u/galois/mrs/5/develop"



---

archive/issue_comments_520410.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2019-01-26T15:17:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520410",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_520411.json:
```json
{
    "body": "Changing branch from \"u/galois/mrs/5/develop\" to \"u/dimpase/GQ\"",
    "created_at": "2019-01-26T15:17:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520411",
    "user": "https://github.com/dimpase"
}
```

Changing branch from "u/galois/mrs/5/develop" to "u/dimpase/GQ"



---

archive/issue_comments_520412.json:
```json
{
    "body": "Changing commit from \"1a954dcd4ddfec0cf4f19bfef5f70fbc8a1aac8b\" to \"a0f6f4e0ac78942de47c233fde8136be9240710f\"",
    "created_at": "2019-01-26T15:17:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520412",
    "user": "https://github.com/dimpase"
}
```

Changing commit from "1a954dcd4ddfec0cf4f19bfef5f70fbc8a1aac8b" to "a0f6f4e0ac78942de47c233fde8136be9240710f"



---

archive/issue_comments_520413.json:
```json
{
    "body": "<a id='comment:28'></a>I have cherry-picked the patch from Erik's Sage gitlab fork - fortunately it was still there.",
    "created_at": "2019-01-26T15:17:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520413",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:28'></a>I have cherry-picked the patch from Erik's Sage gitlab fork - fortunately it was still there.



---

archive/issue_comments_520414.json:
```json
{
    "body": "<a id='comment:29'></a>It might be good in terms of formatting to do\n\n```diff\n-    code is inside an\n+    code is inside an::\n \n-            if __name__ == \"__main__\":\n+        if __name__ == \"__main__\":\n \n```\n(The extra indentation I think is irrelevant.) But this is a trivial thing.",
    "created_at": "2019-01-26T20:11:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520414",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:29'></a>It might be good in terms of formatting to do

```diff
-    code is inside an
+    code is inside an::
 
-            if __name__ == "__main__":
+        if __name__ == "__main__":
 
```
(The extra indentation I think is irrelevant.) But this is a trivial thing.



---

archive/issue_comments_520415.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2019-01-27T07:28:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520415",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_520416.json:
```json
{
    "body": "Changing commit from \"a0f6f4e0ac78942de47c233fde8136be9240710f\" to \"74c1d22288a75eb242d621da92926a6be81acad0\"",
    "created_at": "2019-01-27T07:28:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520416",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a0f6f4e0ac78942de47c233fde8136be9240710f" to "74c1d22288a75eb242d621da92926a6be81acad0"



---

archive/issue_comments_520417.json:
```json
{
    "body": "<a id='comment:30'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2019-01-27T07:28:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520417",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:30'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_520418.json:
```json
{
    "body": "<a id='comment:31'></a>Replying to [tscrim](#comment%3A29):\n> It might be good in terms of formatting to do\n> \n> ```diff\n> -    code is inside an\n> +    code is inside an::\n>  \n> -            if __name__ == \"__main__\":\n> +        if __name__ == \"__main__\":\n>  \n> ```\n> (The extra indentation I think is irrelevant.) But this is a trivial thing.\n\n\nfixed.",
    "created_at": "2019-01-27T07:29:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520418",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:31'></a>Replying to [tscrim](#comment%3A29):
> It might be good in terms of formatting to do
> 
> ```diff
> -    code is inside an
> +    code is inside an::
>  
> -            if __name__ == "__main__":
> +        if __name__ == "__main__":
>  
> ```
> (The extra indentation I think is irrelevant.) But this is a trivial thing.


fixed.



---

archive/issue_comments_520419.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-01-27T07:29:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520419",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_520420.json:
```json
{
    "body": "<a id='comment:32'></a>Can you only set this to positive review once you actually are happy with it? This is now the second time that I'm backing out this ticket again after running it on the buildbot",
    "created_at": "2019-01-27T10:55:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520420",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:32'></a>Can you only set this to positive review once you actually are happy with it? This is now the second time that I'm backing out this ticket again after running it on the buildbot



---

archive/issue_comments_520421.json:
```json
{
    "body": "Changing status from positive_review to needs_info.",
    "created_at": "2019-01-27T10:55:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520421",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_info.



---

archive/issue_comments_520422.json:
```json
{
    "body": "<a id='comment:33'></a>I am happy with it. I have no idea whether flipping its status has any bearing on anyone, sorry.",
    "created_at": "2019-01-27T11:39:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520422",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:33'></a>I am happy with it. I have no idea whether flipping its status has any bearing on anyone, sorry.



---

archive/issue_comments_520423.json:
```json
{
    "body": "Changing status from needs_info to positive_review.",
    "created_at": "2019-01-27T11:39:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520423",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_info to positive_review.



---

archive/issue_comments_520424.json:
```json
{
    "body": "<a id='comment:34'></a>I'm not sure what you did because normally forced pushes work fine.",
    "created_at": "2019-01-29T18:05:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520424",
    "user": "https://github.com/embray"
}
```

<a id='comment:34'></a>I'm not sure what you did because normally forced pushes work fine.



---

archive/issue_comments_520425.json:
```json
{
    "body": "<a id='comment:35'></a>I made a gitlab branch, X, say, and a merge request from it. And then, I force-pushed to the branch X, overwriting whatever changes I made for the merge request, I think.",
    "created_at": "2019-01-29T18:19:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520425",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:35'></a>I made a gitlab branch, X, say, and a merge request from it. And then, I force-pushed to the branch X, overwriting whatever changes I made for the merge request, I think.



---

archive/issue_comments_520426.json:
```json
{
    "body": "Changing branch from \"u/dimpase/GQ\" to \"74c1d22288a75eb242d621da92926a6be81acad0\"",
    "created_at": "2019-02-04T23:02:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520426",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/dimpase/GQ" to "74c1d22288a75eb242d621da92926a6be81acad0"



---

archive/issue_comments_520427.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-02-04T23:02:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27062#issuecomment-520427",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_067219.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-02-04T23:02:29Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/27062",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27062#event-67219"
}
```
