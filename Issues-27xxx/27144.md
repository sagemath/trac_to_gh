# Issue 27144: py3: fix doctests in connectivity.pyx

archive/issues_026907.json:
```json
{
    "body": "Fix the doctests for Python3.\n\nCC:  @tscrim @fchapoton\n\nKeywords: py3, graph\n\nBranch/Commit: 99d7c79ac7efbc6c96efcdbd360406ca4a6b314b\n\nReviewer: Travis Scrimshaw\n\nAuthor: David Coudert\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/27144\n\n",
    "closed_at": "2019-02-04T23:02:10Z",
    "created_at": "2019-01-27T12:14:57Z",
    "labels": [
        "component: graph theory"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.7",
    "title": "py3: fix doctests in connectivity.pyx",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/27144",
    "user": "https://github.com/dcoudert"
}
```
Fix the doctests for Python3.

CC:  @tscrim @fchapoton

Keywords: py3, graph

Branch/Commit: 99d7c79ac7efbc6c96efcdbd360406ca4a6b314b

Reviewer: Travis Scrimshaw

Author: David Coudert

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/27144





---

archive/issue_comments_403076.json:
```json
{
    "body": "<a id='comment:1'></a>I have marked all doctests of method `print_triconnected_components()` as `Not tested`.\nThis method was useful during the development phase of this code, but it brings little information to the user.\n\n---\nNew commits:",
    "created_at": "2019-01-27T12:21:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27144",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27144#issuecomment-403076",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:1'></a>I have marked all doctests of method `print_triconnected_components()` as `Not tested`.
This method was useful during the development phase of this code, but it brings little information to the user.

---
New commits:



---

archive/issue_comments_403077.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-01-27T12:21:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27144",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27144#issuecomment-403077",
    "user": "https://github.com/dcoudert"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_403078.json:
```json
{
    "body": "<a id='comment:2'></a>If this is useless, then we should remove it (after a deprecation). Otherwise we should try to fix it so it works on both py2 and py3.",
    "created_at": "2019-01-27T15:00:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27144",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27144#issuecomment-403078",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:2'></a>If this is useless, then we should remove it (after a deprecation). Otherwise we should try to fix it so it works on both py2 and py3.



---

archive/issue_comments_403079.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-01-27T15:00:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27144",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27144#issuecomment-403079",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_403080.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-01-27T15:31:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27144",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27144#issuecomment-403080",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_403081.json:
```json
{
    "body": "<a id='comment:4'></a>I have removed the \"not tested\" statements.\n\nI don't know how to make the failing doctest (it's twice the same test in different parts of the code) work on both py2 and py3. It's not only the order in which the components are displayed that differs, but also the labels of virtual edges inside the components. The label of a virtual edge depends on the step of the algorithm at which it has been created, and this differs in py2 and py3.\n\nThe interest of class `TriconnectivitySPQR` is to decompose the graph using the linear time algorithm and build the SPQR-tree. It could directly return the SPQR-tree. The added value of method `print_triconnected_components()` is therefore very limited.\nSo I'm in favor of removing this method after a deprecation. I will do that.",
    "created_at": "2019-01-27T15:46:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27144",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27144#issuecomment-403081",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:4'></a>I have removed the "not tested" statements.

I don't know how to make the failing doctest (it's twice the same test in different parts of the code) work on both py2 and py3. It's not only the order in which the components are displayed that differs, but also the labels of virtual edges inside the components. The label of a virtual edge depends on the step of the algorithm at which it has been created, and this differs in py2 and py3.

The interest of class `TriconnectivitySPQR` is to decompose the graph using the linear time algorithm and build the SPQR-tree. It could directly return the SPQR-tree. The added value of method `print_triconnected_components()` is therefore very limited.
So I'm in favor of removing this method after a deprecation. I will do that.



---

archive/issue_comments_403082.json:
```json
{
    "body": "<a id='comment:5'></a>Three other options would be mark them as `# random`, mark the tests as `# py2` and `# py3`, or use the `...` to get rid of the stuff that changes.",
    "created_at": "2019-01-27T15:49:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27144",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27144#issuecomment-403082",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:5'></a>Three other options would be mark them as `# random`, mark the tests as `# py2` and `# py3`, or use the `...` to get rid of the stuff that changes.



---

archive/issue_comments_403083.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-01-27T16:01:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27144",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27144#issuecomment-403083",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_403084.json:
```json
{
    "body": "<a id='comment:7'></a>That's even better, thanks. I marked the tests as `# py2` and added, inside method `print_triconnected_components` a doctest marked `# py3`.",
    "created_at": "2019-01-27T16:04:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27144",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27144#issuecomment-403084",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:7'></a>That's even better, thanks. I marked the tests as `# py2` and added, inside method `print_triconnected_components` a doctest marked `# py3`.



---

archive/issue_comments_403085.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-01-27T16:04:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27144",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27144#issuecomment-403085",
    "user": "https://github.com/dcoudert"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_403086.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-01-27T16:08:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27144",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27144#issuecomment-403086",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_403087.json:
```json
{
    "body": "<a id='comment:8'></a>Thanks. LGTM.",
    "created_at": "2019-01-27T16:08:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27144",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27144#issuecomment-403087",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:8'></a>Thanks. LGTM.



---

archive/issue_comments_403088.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-02-04T23:02:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27144",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27144#issuecomment-403088",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_067400.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-02-04T23:02:10Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/27144",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27144#event-67400"
}
```
