# Issue 27188: kenzo package and interface

archive/issues_026951.json:
```json
{
    "body": "CC:  @jhpalmieri @slel @dimpase\n\nKeywords: upgrade, kenzo, topology\n\nAdd a kenzo optional package, and the corresponding interface.\n\nThe source file is taken from https://github.com/miguelmarco/kenzo, which is a small fork by Miguel Marco to include some utility scripts from https://github.com/gheber/kenzo, which is in turn a fork of the original source code modified to be compatible with other lisps (in particular it works on ecl).\n\n**Tarball** (to be renamed `kenzo-1.1.7-r1.tar.gz`):\n\n- \u200bhttps://github.com/miguelmarco/kenzo/archive/1.1.7-r1.tar.gz\n\n(Miguel Marco is maintaining a fork for the moment, this version includes a script to compile kenzo into a .fas file).\n\nThe interface uses the ecl interface, and provides a wrapper for some kenzo objects (we hope to extend it in the future).\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/27188\n\n",
    "closed_at": "2019-03-03T22:38:13Z",
    "created_at": "2019-01-31T17:41:56Z",
    "labels": [
        "component: interfaces"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.7",
    "title": "kenzo package and interface",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/27188",
    "user": "https://github.com/miguelmarco"
}
```
CC:  @jhpalmieri @slel @dimpase

Keywords: upgrade, kenzo, topology

Add a kenzo optional package, and the corresponding interface.

The source file is taken from https://github.com/miguelmarco/kenzo, which is a small fork by Miguel Marco to include some utility scripts from https://github.com/gheber/kenzo, which is in turn a fork of the original source code modified to be compatible with other lisps (in particular it works on ecl).

**Tarball** (to be renamed `kenzo-1.1.7-r1.tar.gz`):

- â€‹https://github.com/miguelmarco/kenzo/archive/1.1.7-r1.tar.gz

(Miguel Marco is maintaining a fork for the moment, this version includes a script to compile kenzo into a .fas file).

The interface uses the ecl interface, and provides a wrapper for some kenzo objects (we hope to extend it in the future).


Issue created by migration from https://trac.sagemath.org/ticket/27188





---

archive/issue_comments_378739.json:
```json
{
    "body": "Changing keywords from \"\" to \"kenzo topology\".",
    "created_at": "2019-01-31T17:49:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27188#issuecomment-378739",
    "user": "https://github.com/miguelmarco"
}
```

Changing keywords from "" to "kenzo topology".



---

archive/issue_comments_378740.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to interfaces.",
    "created_at": "2019-01-31T17:49:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27188#issuecomment-378740",
    "user": "https://github.com/miguelmarco"
}
```

Changing component from PLEASE CHANGE to interfaces.



---

archive/issue_comments_378741.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-01-31T19:38:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27188#issuecomment-378741",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_378742.json:
```json
{
    "body": "This is exciting to see. Can we get an interface between Kenzo and Sage's implementation of simplicial sets? A crude version is in `sage.homology.simplicial_set_examples.simplicial_data_from_kenzo_output`, which was written to handle the files in `src/ext/kenzo`. But doing it in lisp or Python rather than just parsing strings would be much better.",
    "created_at": "2019-01-31T20:25:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27188#issuecomment-378742",
    "user": "https://github.com/jhpalmieri"
}
```

This is exciting to see. Can we get an interface between Kenzo and Sage's implementation of simplicial sets? A crude version is in `sage.homology.simplicial_set_examples.simplicial_data_from_kenzo_output`, which was written to handle the files in `src/ext/kenzo`. But doing it in lisp or Python rather than just parsing strings would be much better.



---

archive/issue_comments_378743.json:
```json
{
    "body": "That is the long term idea we had in mind for starting this; but we still haven't decided the design.\n\nMaybe include an attribute for each Sage simplicial set that is a reference to the corresponding kenzo object (via this interface)?\n\nRight now we have just coded the bare minimum kenzo functionality, but for that task maybe we should add support for explicit list of faces and maps.",
    "created_at": "2019-01-31T20:36:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27188#issuecomment-378743",
    "user": "https://github.com/miguelmarco"
}
```

That is the long term idea we had in mind for starting this; but we still haven't decided the design.

Maybe include an attribute for each Sage simplicial set that is a reference to the corresponding kenzo object (via this interface)?

Right now we have just coded the bare minimum kenzo functionality, but for that task maybe we should add support for explicit list of faces and maps.



---

archive/issue_comments_378744.json:
```json
{
    "body": "I just noticed that the code I pushed in this branch fails when trying to load it. It works ok in my install of Sage based on python3, but fails in the standard python2. Since we don't know how much time will take until python3 makes it into standard sage installs, I will try to find a way to import kenzo inside sage's ecl that works also for python2. \n\nIn the meantime, you can test this branch using a python3 based sage, following the instructions in https://groups.google.com/forum/#!topic/sage-devel/uEHBKekJ_Cw",
    "created_at": "2019-02-01T12:13:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27188#issuecomment-378744",
    "user": "https://github.com/miguelmarco"
}
```

I just noticed that the code I pushed in this branch fails when trying to load it. It works ok in my install of Sage based on python3, but fails in the standard python2. Since we don't know how much time will take until python3 makes it into standard sage installs, I will try to find a way to import kenzo inside sage's ecl that works also for python2. 

In the meantime, you can test this branch using a python3 based sage, following the instructions in https://groups.google.com/forum/#!topic/sage-devel/uEHBKekJ_Cw



---

archive/issue_comments_378745.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-02-01T16:41:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27188#issuecomment-378745",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_378746.json:
```json
{
    "body": "I just pushed a one liner that prevents the error with python2 (at least in my system). Please test it.",
    "created_at": "2019-02-01T16:42:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27188#issuecomment-378746",
    "user": "https://github.com/miguelmarco"
}
```

I just pushed a one liner that prevents the error with python2 (at least in my system). Please test it.



---

archive/issue_comments_378747.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-02-01T16:47:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27188#issuecomment-378747",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_378748.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-02-02T13:20:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27188#issuecomment-378748",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_378749.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-02-02T13:45:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27188#issuecomment-378749",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_378750.json:
```json
{
    "body": "Switched to another upstream source. It is a fork I made to be able to include some utility scripts that we might need.\n\nFor the moment, it includes a script to compile all kenzo in a self-contained .fasl file, that we can easily load without problems both from python2 and python3.\n\nI think it is pretty much ready to be tested.",
    "created_at": "2019-02-02T13:59:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27188#issuecomment-378750",
    "user": "https://github.com/miguelmarco"
}
```

Switched to another upstream source. It is a fork I made to be able to include some utility scripts that we might need.

For the moment, it includes a script to compile all kenzo in a self-contained .fasl file, that we can easily load without problems both from python2 and python3.

I think it is pretty much ready to be tested.



---

archive/issue_comments_378751.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2019-02-03T19:46:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27188#issuecomment-378751",
    "user": "https://github.com/slel"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_378752.json:
```json
{
    "body": "we could add your scripts to `@`gheber's repo, provided they are sufficiently generic; after all I already did a bit of work on it:\nhttps://github.com/gheber/kenzo/graphs/contributors :-)",
    "created_at": "2019-02-03T20:25:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27188#issuecomment-378752",
    "user": "https://github.com/dimpase"
}
```

we could add your scripts to `@`gheber's repo, provided they are sufficiently generic; after all I already did a bit of work on it:
https://github.com/gheber/kenzo/graphs/contributors :-)



---

archive/issue_comments_378753.json:
```json
{
    "body": "Replying to [comment:17 dimpase]:\n> we could add your scripts to `@`gheber's repo, provided they are sufficiently generic; after all I already did a bit of work on it:\n> https://github.com/gheber/kenzo/graphs/contributors :-)\n\n\n\nWe discussed it with gheber and Sergerarert in https://github.com/gheber/kenzo/issues/129 . We finally agreed to fork it to work in whatever we need to add (we might need to add some extra functions to allow the creation of Kenzo objects from the corresponding Sage SimplicialSets counterparts). Then maybe, when we have something stable, we can consider merging back.",
    "created_at": "2019-02-03T22:30:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27188#issuecomment-378753",
    "user": "https://github.com/miguelmarco"
}
```

Replying to [comment:17 dimpase]:
> we could add your scripts to `@`gheber's repo, provided they are sufficiently generic; after all I already did a bit of work on it:
> https://github.com/gheber/kenzo/graphs/contributors :-)



We discussed it with gheber and Sergerarert in https://github.com/gheber/kenzo/issues/129 . We finally agreed to fork it to work in whatever we need to add (we might need to add some extra functions to allow the creation of Kenzo objects from the corresponding Sage SimplicialSets counterparts). Then maybe, when we have something stable, we can consider merging back.



---

archive/issue_comments_378754.json:
```json
{
    "body": "I think this can be reviewed now. We still have to adapt the SimplicialSets module, and maybe write some kenzo code, but that would be better done in future tickets.",
    "created_at": "2019-02-17T20:47:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27188#issuecomment-378754",
    "user": "https://github.com/miguelmarco"
}
```

I think this can be reviewed now. We still have to adapt the SimplicialSets module, and maybe write some kenzo code, but that would be better done in future tickets.



---

archive/issue_comments_378755.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-02-18T08:06:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27188#issuecomment-378755",
    "user": "https://github.com/miguelmarco"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_378756.json:
```json
{
    "body": "The documentation in your interface file needs a little more work. Some functions do not have doctests and some others have malformatted docstrings (e.g., missing `EXAMPLES::` and indentations).",
    "created_at": "2019-02-22T04:50:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27188#issuecomment-378756",
    "user": "https://github.com/tscrim"
}
```

The documentation in your interface file needs a little more work. Some functions do not have doctests and some others have malformatted docstrings (e.g., missing `EXAMPLES::` and indentations).



---

archive/issue_comments_378757.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-02-22T04:50:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27188#issuecomment-378757",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_378758.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-02-23T20:27:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27188#issuecomment-378758",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_378759.json:
```json
{
    "body": "I added more documentation. Didn't add doctest for __init__ method though. Do you think that would be necessary?",
    "created_at": "2019-02-23T20:29:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27188#issuecomment-378759",
    "user": "https://github.com/miguelmarco"
}
```

I added more documentation. Didn't add doctest for __init__ method though. Do you think that would be necessary?



---

archive/issue_comments_378760.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-02-23T20:29:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27188#issuecomment-378760",
    "user": "https://github.com/miguelmarco"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_378761.json:
```json
{
    "body": "Thank you. This is improving, but there are a few more specific things to be fixed (although with these done, it should be at a positive review).\n\nYes, `__init__` needs to have a doctest. I think it is the best place to put the `TestSuite(foo).run()` test. I also would move the `INPUT:` block to the class level docstring as the `__init__` docstring is not in the documentation.\n\nChange `__repr__` -> `_repr_` (which allows you to run `foo.rename('bar')` on it).\n\nThere are still some malformatted docstrings:\n\n```diff\n def Sphere(n):\n     r\"\"\"\n-    Construct the n dimensional sphere, which is a simplicial set.\n+    Return the ``n`` dimensional sphere as a Kenzo simplicial set.\n \n     INPUT:\n \n-    - ``n`` - The dimension of the sphere\n+    - ``n`` -- the dimension of the sphere\n```\n\n```diff\n-def MooreSpace(n, m):\n+def MooreSpace(m, n):\n     r\"\"\"\n-    Construct the Moore space ``M(m, n)``. That is, the space\n-    that has n'th homology group isomorphic to the cyclic group of order ``m``,\n-    and the rest of the homology groups are trivial. It is a simplicial set.\n+    Return the Moore space `M(m, n)` as a Kenzo simplicial set.\n \n+    The Moore space `M(m, n)` is the space whose `n`-th homology group\n+    is isomorphic to the cyclic group of order `m`, and the rest of\n+    the homology groups are trivial.\n \n     INPUT:\n \n-    - ``m```- A positive integer. The order of the nontrivial homology group.\n+    - ``m`` -- a positive integer; the order of the nontrivial homology group\n \n-    - ``n```- The dimension in which the homology is not trivial\n+    - ``n`` -- the dimension in which the homology is not trivial\n```\nSimilar comments for `EilenbergMacLaneSpace`. (I opted for `return` for the short descriptions, but `construct` is okay with me as well.)\n\n```diff\n-        - ``kenzoobject``- a wrapper around a kenzo chain complex\n-        (which is an ecl object).\n+        - ``kenzoobject`` -- a wrapper around a kenzo chain complex\n+          (which is an ecl object)\n```\nSimilar comment for `loop_space()`, and a stray ``` there as well: `- `A KenzoSimplicialGroup`.\n\nFor the doctests (e.g., in `loop_space()`), it is not so important to test the `type(l2)` but it would be more useful to see either the output or a meaningful test. For example, in the suspension doctest, the result would have a homology of **Z** only in the 4th degree (since the homology group (= homology group in this case) for `e2` (why not call it `e3`?) is **Z** in the 3rd degree).",
    "created_at": "2019-02-23T21:23:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27188#issuecomment-378761",
    "user": "https://github.com/tscrim"
}
```

Thank you. This is improving, but there are a few more specific things to be fixed (although with these done, it should be at a positive review).

Yes, `__init__` needs to have a doctest. I think it is the best place to put the `TestSuite(foo).run()` test. I also would move the `INPUT:` block to the class level docstring as the `__init__` docstring is not in the documentation.

Change `__repr__` -> `_repr_` (which allows you to run `foo.rename('bar')` on it).

There are still some malformatted docstrings:

```diff
 def Sphere(n):
     r"""
-    Construct the n dimensional sphere, which is a simplicial set.
+    Return the ``n`` dimensional sphere as a Kenzo simplicial set.
 
     INPUT:
 
-    - ``n`` - The dimension of the sphere
+    - ``n`` -- the dimension of the sphere
```

```diff
-def MooreSpace(n, m):
+def MooreSpace(m, n):
     r"""
-    Construct the Moore space ``M(m, n)``. That is, the space
-    that has n'th homology group isomorphic to the cyclic group of order ``m``,
-    and the rest of the homology groups are trivial. It is a simplicial set.
+    Return the Moore space `M(m, n)` as a Kenzo simplicial set.
 
+    The Moore space `M(m, n)` is the space whose `n`-th homology group
+    is isomorphic to the cyclic group of order `m`, and the rest of
+    the homology groups are trivial.
 
     INPUT:
 
-    - ``m```- A positive integer. The order of the nontrivial homology group.
+    - ``m`` -- a positive integer; the order of the nontrivial homology group
 
-    - ``n```- The dimension in which the homology is not trivial
+    - ``n`` -- the dimension in which the homology is not trivial
```
Similar comments for `EilenbergMacLaneSpace`. (I opted for `return` for the short descriptions, but `construct` is okay with me as well.)

```diff
-        - ``kenzoobject``- a wrapper around a kenzo chain complex
-        (which is an ecl object).
+        - ``kenzoobject`` -- a wrapper around a kenzo chain complex
+          (which is an ecl object)
```
Similar comment for `loop_space()`, and a stray ``` there as well: `- `A KenzoSimplicialGroup`.

For the doctests (e.g., in `loop_space()`), it is not so important to test the `type(l2)` but it would be more useful to see either the output or a meaningful test. For example, in the suspension doctest, the result would have a homology of **Z** only in the 4th degree (since the homology group (= homology group in this case) for `e2` (why not call it `e3`?) is **Z** in the 3rd degree).



---

archive/issue_comments_378762.json:
```json
{
    "body": "The testsuite fails at pickling, because we are wrapping ecl objects, that can't be pickled (maybe that is a good reason for not inheriting from SageObject? but from EclObject? or nothing at all?)",
    "created_at": "2019-02-24T17:41:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27188#issuecomment-378762",
    "user": "https://github.com/miguelmarco"
}
```

The testsuite fails at pickling, because we are wrapping ecl objects, that can't be pickled (maybe that is a good reason for not inheriting from SageObject? but from EclObject? or nothing at all?)



---

archive/issue_comments_378763.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-02-24T17:41:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27188#issuecomment-378763",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_378764.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-02-24T17:51:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27188#issuecomment-378764",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_378765.json:
```json
{
    "body": "Replying to [comment:26 mmarco]:\n> The testsuite fails at pickling, because we are wrapping ecl objects, that can't be pickled (maybe that is a good reason for not inheriting from SageObject? but from EclObject? or nothing at all?)\n\n\nYou could instead skip that part of the test suite (`TestSuite(foo).run(skip='_test_pickling')`.\n\nThere are benefits to inheriting from SageObject, so I would rather skip part of the test suite than not inherit from this.",
    "created_at": "2019-02-24T18:19:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27188#issuecomment-378765",
    "user": "https://github.com/jhpalmieri"
}
```

Replying to [comment:26 mmarco]:
> The testsuite fails at pickling, because we are wrapping ecl objects, that can't be pickled (maybe that is a good reason for not inheriting from SageObject? but from EclObject? or nothing at all?)


You could instead skip that part of the test suite (`TestSuite(foo).run(skip='_test_pickling')`.

There are benefits to inheriting from SageObject, so I would rather skip part of the test suite than not inherit from this.



---

archive/issue_comments_378766.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-02-24T21:54:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27188#issuecomment-378766",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_378767.json:
```json
{
    "body": "Replying to [comment:29 jhpalmieri]:\n> You could instead skip that part of the test suite (`TestSuite(foo).run(skip='_test_pickling')`.\n> \n> There are benefits to inheriting from SageObject, so I would rather skip part of the test suite than not inherit from this.\n\n\nThanks for the hint!",
    "created_at": "2019-02-24T21:55:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27188#issuecomment-378767",
    "user": "https://github.com/miguelmarco"
}
```

Replying to [comment:29 jhpalmieri]:
> You could instead skip that part of the test suite (`TestSuite(foo).run(skip='_test_pickling')`.
> 
> There are benefits to inheriting from SageObject, so I would rather skip part of the test suite than not inherit from this.


Thanks for the hint!



---

archive/issue_comments_378768.json:
```json
{
    "body": "A few more comments:\n\n```diff\n-# Redirection of ECL and Maxima stdout to /dev/null\n+# Redirection of ECL and Kenzo stdout to /dev/null\n+# This is also done in the Maxima library, but we\n+#   also do it here for redundancy.\n```\n\nI believe Ana should also be on the copyright. Also, the modern copyright statement is\n\n```\n# ****************************************************************************\n#       Copyright (C) 2019 Miguel Marco <mmarco@unizar.es>\n#\n# This program is free software: you can redistribute it and/or modify\n# it under the terms of the GNU General Public License as published by\n# the Free Software Foundation, either version 2 of the License, or\n# (at your option) any later version.\n#                  https://www.gnu.org/licenses/\n# ****************************************************************************\n```\nwhich should **not** be in the docstring.\n\n`MooreSpace`, `EilenbergMacLaneSpace` and `KenzoChainComplex` have malformatted docstrings., e.g.:\n\n```diff\n-        - ``kenzoobject``- a wrapper around a kenzo chain complex\n-        (which is an ecl object).\n+        - ``kenzoobject`` -- a wrapper around a kenzo chain complex\n+          (which is an ecl object)\n```\n\n```diff\n-    - ``G`` -- A group. Currently only ``ZZ`` and the group of two elements are\n-    supported.\n+    - ``G`` -- group; currently only ``ZZ`` and the group of two elements are\n+      supported\n \n-    - ``n`` -- The dimension in which the homotopy is not trivial\n+    - ``n`` -- the dimension in which the homotopy is not trivial\n```\nAlso, in this particular docstring, there is not a unique group of 2 elements. Moreover, does it have to be `GF(2)`? Does `G` need to be additive or can it be multiplicative?\n\nIn the tests for `EilenbergMacLaneSpace`, it is better to use `G is ZZ`.\n\n```diff\n-Wraper to kenzo chain complexes\n+Wrapper to kenzo chain complexes.\n```\n\nFor future-proofing, it probably would be better to have a `KenzoObject` class above `KenzoChainComplex` with the `__init__` and `_repr_` methods.\n\nIt is more pythonic to do `repr(self._kenzo)` instead of `self._kenzo.__repr__()`. Similarly, `kenzo_object` instead of `kenzoobject` for variable names.\n\n`KenzoSimplicialGroup` -> `:class:`~sage.interfaces.kenzo.KenzoSimplicialGroup`` (it might be possible to just do `:class:`KenzoSimplicialGroup``) and similar changes. This is less important though.",
    "created_at": "2019-02-24T23:18:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27188#issuecomment-378768",
    "user": "https://github.com/tscrim"
}
```

A few more comments:

```diff
-# Redirection of ECL and Maxima stdout to /dev/null
+# Redirection of ECL and Kenzo stdout to /dev/null
+# This is also done in the Maxima library, but we
+#   also do it here for redundancy.
```

I believe Ana should also be on the copyright. Also, the modern copyright statement is

```
# ****************************************************************************
#       Copyright (C) 2019 Miguel Marco <mmarco@unizar.es>
#
# This program is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, either version 2 of the License, or
# (at your option) any later version.
#                  https://www.gnu.org/licenses/
# ****************************************************************************
```
which should **not** be in the docstring.

`MooreSpace`, `EilenbergMacLaneSpace` and `KenzoChainComplex` have malformatted docstrings., e.g.:

```diff
-        - ``kenzoobject``- a wrapper around a kenzo chain complex
-        (which is an ecl object).
+        - ``kenzoobject`` -- a wrapper around a kenzo chain complex
+          (which is an ecl object)
```

```diff
-    - ``G`` -- A group. Currently only ``ZZ`` and the group of two elements are
-    supported.
+    - ``G`` -- group; currently only ``ZZ`` and the group of two elements are
+      supported
 
-    - ``n`` -- The dimension in which the homotopy is not trivial
+    - ``n`` -- the dimension in which the homotopy is not trivial
```
Also, in this particular docstring, there is not a unique group of 2 elements. Moreover, does it have to be `GF(2)`? Does `G` need to be additive or can it be multiplicative?

In the tests for `EilenbergMacLaneSpace`, it is better to use `G is ZZ`.

```diff
-Wraper to kenzo chain complexes
+Wrapper to kenzo chain complexes.
```

For future-proofing, it probably would be better to have a `KenzoObject` class above `KenzoChainComplex` with the `__init__` and `_repr_` methods.

It is more pythonic to do `repr(self._kenzo)` instead of `self._kenzo.__repr__()`. Similarly, `kenzo_object` instead of `kenzoobject` for variable names.

`KenzoSimplicialGroup` -> `:class:`~sage.interfaces.kenzo.KenzoSimplicialGroup`` (it might be possible to just do `:class:`KenzoSimplicialGroup``) and similar changes. This is less important though.



---

archive/issue_comments_378769.json:
```json
{
    "body": "Replying to [comment:32 tscrim]:\n> Also, in this particular docstring, there is not a unique group of 2 elements. Moreover, does it have to be `GF(2)`? Does `G` need to be additive or can it be multiplicative?\n> \n\nWe could allow whatever we want, but since usually the homology groups are denoted additively, I used that convention. It is true however that we have so many possible incarnations of finite cyclic groups (CyclicPermutationGroup, AbelianGroup, AdditiveAbelianGroup, FinitelyPresentedGroup...) that at some point we should try to unify somehow all that, but that is definietly work for another ticket.\n\nWhat would you suggest for this case? Just accept every group of cardinality two?\n\n\n> `KenzoSimplicialGroup` -> `:class:`~sage.interfaces.kenzo.KenzoSimplicialGroup`` (it might be possible to just do `:class:`KenzoSimplicialGroup``) and similar changes. This is less important though.\n\n\nI am not sure I know how to do that.",
    "created_at": "2019-02-25T09:42:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27188#issuecomment-378769",
    "user": "https://github.com/miguelmarco"
}
```

Replying to [comment:32 tscrim]:
> Also, in this particular docstring, there is not a unique group of 2 elements. Moreover, does it have to be `GF(2)`? Does `G` need to be additive or can it be multiplicative?
> 

We could allow whatever we want, but since usually the homology groups are denoted additively, I used that convention. It is true however that we have so many possible incarnations of finite cyclic groups (CyclicPermutationGroup, AbelianGroup, AdditiveAbelianGroup, FinitelyPresentedGroup...) that at some point we should try to unify somehow all that, but that is definietly work for another ticket.

What would you suggest for this case? Just accept every group of cardinality two?


> `KenzoSimplicialGroup` -> `:class:`~sage.interfaces.kenzo.KenzoSimplicialGroup`` (it might be possible to just do `:class:`KenzoSimplicialGroup``) and similar changes. This is less important though.


I am not sure I know how to do that.



---

archive/issue_comments_378770.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-02-25T12:12:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27188#issuecomment-378770",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_378771.json:
```json
{
    "body": "Replying to [comment:33 mmarco]:\n> Replying to [comment:32 tscrim]:\n> > Also, in this particular docstring, there is not a unique group of 2 elements. Moreover, does it have to be `GF(2)`? Does `G` need to be additive or can it be multiplicative?\n> > \n\n> We could allow whatever we want, but since usually the homology groups are denoted additively, I used that convention. It is true however that we have so many possible incarnations of finite cyclic groups (CyclicPermutationGroup, AbelianGroup, AdditiveAbelianGroup, FinitelyPresentedGroup...) that at some point we should try to unify somehow all that, but that is definietly work for another ticket.\n\nIn some sense we have that (see below). Although in general that is a can of worms (mainly, how to differentiate between additive and multiplicative groups).\n\n> What would you suggest for this case? Just accept every group of cardinality two?\n\n\nWe can check things abstractly since it gets fed off to a Kenzo object. Specifically, I am thinking of this:\n\n```python\nelif G in CommutativeAdditiveGroups() and G.cardinality() == 2:\n```\nAlso you should add a note to the doc saying that the group must be additive.\n\n> > `KenzoSimplicialGroup` -> `:class:`~sage.interfaces.kenzo.KenzoSimplicialGroup`` (it might be possible to just do `:class:`KenzoSimplicialGroup``) and similar changes. This is less important though.\n\n> \n> I am not sure I know how to do that.\n\n\nIt is just some replacements in the doc to add links to the appropriate classes so it looks a little better. `;)`",
    "created_at": "2019-02-25T22:12:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27188#issuecomment-378771",
    "user": "https://github.com/tscrim"
}
```

Replying to [comment:33 mmarco]:
> Replying to [comment:32 tscrim]:
> > Also, in this particular docstring, there is not a unique group of 2 elements. Moreover, does it have to be `GF(2)`? Does `G` need to be additive or can it be multiplicative?
> > 

> We could allow whatever we want, but since usually the homology groups are denoted additively, I used that convention. It is true however that we have so many possible incarnations of finite cyclic groups (CyclicPermutationGroup, AbelianGroup, AdditiveAbelianGroup, FinitelyPresentedGroup...) that at some point we should try to unify somehow all that, but that is definietly work for another ticket.

In some sense we have that (see below). Although in general that is a can of worms (mainly, how to differentiate between additive and multiplicative groups).

> What would you suggest for this case? Just accept every group of cardinality two?


We can check things abstractly since it gets fed off to a Kenzo object. Specifically, I am thinking of this:

```python
elif G in CommutativeAdditiveGroups() and G.cardinality() == 2:
```
Also you should add a note to the doc saying that the group must be additive.

> > `KenzoSimplicialGroup` -> `:class:`~sage.interfaces.kenzo.KenzoSimplicialGroup`` (it might be possible to just do `:class:`KenzoSimplicialGroup``) and similar changes. This is less important though.

> 
> I am not sure I know how to do that.


It is just some replacements in the doc to add links to the appropriate classes so it looks a little better. `;)`



---

archive/issue_comments_378772.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-02-26T15:59:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27188#issuecomment-378772",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_378773.json:
```json
{
    "body": "I think I took care of all.",
    "created_at": "2019-02-26T21:14:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27188#issuecomment-378773",
    "user": "https://github.com/miguelmarco"
}
```

I think I took care of all.



---

archive/issue_comments_378774.json:
```json
{
    "body": "Thank you, but there are a few more little bits.\n\nSee comment:32 on `MooreSpace` `INPUT:` block.\n\nThe `INPUT:` for `KenzoObject` is over indented.\n\nIt would be good to put the one-line description for `EilenbergMacLaneSpace` on its own line (I also thought the convention for Eilenberg-MacLane spaces was to be with a capital `K`?). I would prefer the more \"standard\" (in the sense of the [dev guide](http://doc.sagemath.org/html/en/developer/coding_basics.html#documentation-strings)) docstring (see comment:32), but at least it is not malformatted. So this will not hold up a positive review.",
    "created_at": "2019-02-26T23:08:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27188#issuecomment-378774",
    "user": "https://github.com/tscrim"
}
```

Thank you, but there are a few more little bits.

See comment:32 on `MooreSpace` `INPUT:` block.

The `INPUT:` for `KenzoObject` is over indented.

It would be good to put the one-line description for `EilenbergMacLaneSpace` on its own line (I also thought the convention for Eilenberg-MacLane spaces was to be with a capital `K`?). I would prefer the more "standard" (in the sense of the [dev guide](http://doc.sagemath.org/html/en/developer/coding_basics.html#documentation-strings)) docstring (see comment:32), but at least it is not malformatted. So this will not hold up a positive review.



---

archive/issue_comments_378775.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-02-27T09:46:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27188#issuecomment-378775",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_378776.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-02-27T10:09:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27188#issuecomment-378776",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_378777.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-02-27T10:12:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27188#issuecomment-378777",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_378778.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-02-27T10:13:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27188#issuecomment-378778",
    "user": "https://github.com/miguelmarco"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_378779.json:
```json
{
    "body": "Thanks for the thorough review!\n\nIs it ok if I set it to positive review?",
    "created_at": "2019-02-27T10:13:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27188#issuecomment-378779",
    "user": "https://github.com/miguelmarco"
}
```

Thanks for the thorough review!

Is it ok if I set it to positive review?



---

archive/issue_comments_378780.json:
```json
{
    "body": "You definitely should have put me as reviewer, but it would have been maybe slightly better to let me have one final lookover. However, as I mentioned I will let the little doc stuff slide to avoid over-nitpicking. `;)`",
    "created_at": "2019-02-27T10:27:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27188#issuecomment-378780",
    "user": "https://github.com/tscrim"
}
```

You definitely should have put me as reviewer, but it would have been maybe slightly better to let me have one final lookover. However, as I mentioned I will let the little doc stuff slide to avoid over-nitpicking. `;)`



---

archive/issue_comments_378781.json:
```json
{
    "body": "Adding \"upgrade\" to the keywords so the release manager knows there is a tarball to upload.\n\nWhat is our convention for renaming the tarball? Do we need version numbers to not contain dashes?",
    "created_at": "2019-02-27T22:58:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27188#issuecomment-378781",
    "user": "https://github.com/slel"
}
```

Adding "upgrade" to the keywords so the release manager knows there is a tarball to upload.

What is our convention for renaming the tarball? Do we need version numbers to not contain dashes?



---

archive/issue_comments_378782.json:
```json
{
    "body": "Changing keywords from \"kenzo topology\" to \"upgrade, kenzo, topology\".",
    "created_at": "2019-02-27T22:58:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27188#issuecomment-378782",
    "user": "https://github.com/slel"
}
```

Changing keywords from "kenzo topology" to "upgrade, kenzo, topology".



---

archive/issue_comments_378783.json:
```json
{
    "body": "Replying to [comment:44 slelievre]:\n> What is our convention for renaming the tarball? Do we need version numbers to not contain dashes?\n\n\nThey can contain dashes, underscores, etc.; e.g.:\n\n```\nlidia-2.3.0+latte-patches-2014-10-04.tar.gz\njmol-14.6.1_2016.07.11.tar.bz2\n```\nI don't think we have any specific conventions for tarball names in general other than date formats yyyymmdd for things that do not have version numbers or a sha1.",
    "created_at": "2019-02-27T23:40:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27188#issuecomment-378783",
    "user": "https://github.com/tscrim"
}
```

Replying to [comment:44 slelievre]:
> What is our convention for renaming the tarball? Do we need version numbers to not contain dashes?


They can contain dashes, underscores, etc.; e.g.:

```
lidia-2.3.0+latte-patches-2014-10-04.tar.gz
jmol-14.6.1_2016.07.11.tar.bz2
```
I don't think we have any specific conventions for tarball names in general other than date formats yyyymmdd for things that do not have version numbers or a sha1.



---

archive/issue_comments_378784.json:
```json
{
    "body": "Right, I misremembered that. Maybe our package names can't contain dashes,\nso the first dash in a tarball name ends the package name and starts the version\nnumber. That might be why we sometimes rename `some-package-name`\nto `some_package_name`. No problem with kenzo in that respect.",
    "created_at": "2019-02-28T00:06:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27188#issuecomment-378784",
    "user": "https://github.com/slel"
}
```

Right, I misremembered that. Maybe our package names can't contain dashes,
so the first dash in a tarball name ends the package name and starts the version
number. That might be why we sometimes rename `some-package-name`
to `some_package_name`. No problem with kenzo in that respect.



---

archive/issue_comments_378785.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2019-03-01T06:37:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27188#issuecomment-378785",
    "user": "https://github.com/kiwifb"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_378786.json:
```json
{
    "body": "```\nsage -t --long /usr/lib64/python2.7/site-packages/sage/interfaces/kenzo.py\n**********************************************************************\nFile \"/usr/lib64/python2.7/site-packages/sage/interfaces/kenzo.py\", line 153, in sage.interfaces.kenzo.EilenbergMacLaneSpace\nFailed example:\n    from sage.interfaces.kenzo import EilenbergMacLaneSpace\nException raised:\n    Traceback (most recent call last):\n      File \"/usr/lib64/python2.7/site-packages/sage/doctest/forker.py\", line 671, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/usr/lib64/python2.7/site-packages/sage/doctest/forker.py\", line 1095, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.interfaces.kenzo.EilenbergMacLaneSpace[0]>\", line 1, in <module>\n        from sage.interfaces.kenzo import EilenbergMacLaneSpace\n      File \"/usr/lib64/python2.7/site-packages/sage/interfaces/kenzo.py\", line 53, in <module>\n        ecl_eval(\"(require :kenzo)\")\n      File \"sage/libs/ecl.pyx\", line 1326, in sage.libs.ecl.ecl_eval (/dev/shm/portage/sci-mathematics/sage-9999/work/sage-9999/src-python2_7/build/cythonized/sage/libs/ecl.c:10127)\n        cpdef EclObject ecl_eval(str s):\n      File \"sage/libs/ecl.pyx\", line 1341, in sage.libs.ecl.ecl_eval (/dev/shm/portage/sci-mathematics/sage-9999/work/sage-9999/src-python2_7/build/cythonized/sage/libs/ecl.c:10066)\n        o=ecl_safe_eval(o)\n      File \"sage/libs/ecl.pyx\", line 350, in sage.libs.ecl.ecl_safe_eval (/dev/shm/portage/sci-mathematics/sage-9999/work/sage-9999/src-python2_7/build/cythonized/sage/libs/ecl.c:5124)\n        raise RuntimeError(\"ECL says: {}\".format(\n    RuntimeError: ECL says: Module error: Don't know how to REQUIRE KENZO.\n**********************************************************************\n```\non a machine without the kenzo package installed. That import line needs to be marked `# optional - kenzo` as well.",
    "created_at": "2019-03-01T06:37:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27188#issuecomment-378786",
    "user": "https://github.com/kiwifb"
}
```

```
sage -t --long /usr/lib64/python2.7/site-packages/sage/interfaces/kenzo.py
**********************************************************************
File "/usr/lib64/python2.7/site-packages/sage/interfaces/kenzo.py", line 153, in sage.interfaces.kenzo.EilenbergMacLaneSpace
Failed example:
    from sage.interfaces.kenzo import EilenbergMacLaneSpace
Exception raised:
    Traceback (most recent call last):
      File "/usr/lib64/python2.7/site-packages/sage/doctest/forker.py", line 671, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/usr/lib64/python2.7/site-packages/sage/doctest/forker.py", line 1095, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.interfaces.kenzo.EilenbergMacLaneSpace[0]>", line 1, in <module>
        from sage.interfaces.kenzo import EilenbergMacLaneSpace
      File "/usr/lib64/python2.7/site-packages/sage/interfaces/kenzo.py", line 53, in <module>
        ecl_eval("(require :kenzo)")
      File "sage/libs/ecl.pyx", line 1326, in sage.libs.ecl.ecl_eval (/dev/shm/portage/sci-mathematics/sage-9999/work/sage-9999/src-python2_7/build/cythonized/sage/libs/ecl.c:10127)
        cpdef EclObject ecl_eval(str s):
      File "sage/libs/ecl.pyx", line 1341, in sage.libs.ecl.ecl_eval (/dev/shm/portage/sci-mathematics/sage-9999/work/sage-9999/src-python2_7/build/cythonized/sage/libs/ecl.c:10066)
        o=ecl_safe_eval(o)
      File "sage/libs/ecl.pyx", line 350, in sage.libs.ecl.ecl_safe_eval (/dev/shm/portage/sci-mathematics/sage-9999/work/sage-9999/src-python2_7/build/cythonized/sage/libs/ecl.c:5124)
        raise RuntimeError("ECL says: {}".format(
    RuntimeError: ECL says: Module error: Don't know how to REQUIRE KENZO.
**********************************************************************
```
on a machine without the kenzo package installed. That import line needs to be marked `# optional - kenzo` as well.



---

archive/issue_comments_378787.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-03-01T15:52:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27188#issuecomment-378787",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_378788.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2019-03-01T15:53:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27188#issuecomment-378788",
    "user": "https://github.com/miguelmarco"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_events_067493.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-03-03T22:38:13Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/27188",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27188#event-67493"
}
```



---

archive/issue_comments_378789.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-03-03T22:38:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27188#issuecomment-378789",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_378790.json:
```json
{
    "body": "Did anybody ever test that this actually passes doctests? See #27554.",
    "created_at": "2019-03-26T13:20:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27188#issuecomment-378790",
    "user": "https://github.com/jdemeyer"
}
```

Did anybody ever test that this actually passes doctests? See #27554.



---

archive/issue_comments_378791.json:
```json
{
    "body": "I think I might have only run it without the package installed...sorry about that.",
    "created_at": "2019-03-26T13:42:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27188#issuecomment-378791",
    "user": "https://github.com/tscrim"
}
```

I think I might have only run it without the package installed...sorry about that.
