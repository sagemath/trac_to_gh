# Issue 27406: py3: various fixes about print and hash

archive/issues_027169.json:
```json
{
    "body": "Some hash-related doctest failures have been kept for another ticket.\n\n**Branch/Commit:** [82de003ad9f99f1174625abf81221310807ac0d2](https://github.com/sagemath/sagetrac-mirror/commit/82de003ad9f99f1174625abf81221310807ac0d2)\n\n**Reviewer:** David Coudert\n\n**Author:** Fr\u00e9d\u00e9ric Chapoton\n\nIssue created by migration from https://trac.sagemath.org/ticket/27406\n\n",
    "closed_at": "2019-03-04T23:16:21Z",
    "created_at": "2019-03-03T12:28:28Z",
    "labels": [
        "component: python3",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.7",
    "title": "py3: various fixes about print and hash",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/27406",
    "user": "https://github.com/fchapoton"
}
```
Some hash-related doctest failures have been kept for another ticket.

**Branch/Commit:** [82de003ad9f99f1174625abf81221310807ac0d2](https://github.com/sagemath/sagetrac-mirror/commit/82de003ad9f99f1174625abf81221310807ac0d2)

**Reviewer:** David Coudert

**Author:** Frédéric Chapoton

Issue created by migration from https://trac.sagemath.org/ticket/27406





---

archive/issue_events_246357.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-03-03T12:28:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/27406",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27406#event-246357"
}
```



---

archive/issue_comments_428212.json:
```json
{
    "body": "**Branch:** [u/chapoton/27406](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/27406)",
    "created_at": "2019-03-03T12:28:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27406",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27406#issuecomment-428212",
    "user": "https://github.com/fchapoton"
}
```

**Branch:** [u/chapoton/27406](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/27406)



---

archive/issue_comments_428213.json:
```json
{
    "body": "<a id='comment:1'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/66e480f33130d919d1b8375b6fc851ea95c93232\">66e480f</a></td><td><code>py3: various fixes about print and hash</code></td></tr></table>\n",
    "created_at": "2019-03-03T12:28:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27406",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27406#issuecomment-428213",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/66e480f33130d919d1b8375b6fc851ea95c93232">66e480f</a></td><td><code>py3: various fixes about print and hash</code></td></tr></table>




---

archive/issue_comments_428214.json:
```json
{
    "body": "**Commit:** [66e480f33130d919d1b8375b6fc851ea95c93232](https://github.com/sagemath/sagetrac-mirror/commit/66e480f33130d919d1b8375b6fc851ea95c93232)",
    "created_at": "2019-03-03T12:28:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27406",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27406#issuecomment-428214",
    "user": "https://github.com/fchapoton"
}
```

**Commit:** [66e480f33130d919d1b8375b6fc851ea95c93232](https://github.com/sagemath/sagetrac-mirror/commit/66e480f33130d919d1b8375b6fc851ea95c93232)



---

archive/issue_comments_428215.json:
```json
{
    "body": "<a id='comment:2'></a>\nin `src/sage/sets/set.py`, you wrote `hash(s)` instead of `hash(t)`\n\n```diff\n-            sage: t = tuple(s)\n-            sage: hash(s) != hash(tuple(X.set()))\n+            sage: t = tuple(s)\n+            sage: hash(t) != hash(tuple(X.set()))\n```",
    "created_at": "2019-03-03T13:52:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27406",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27406#issuecomment-428215",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:2'></a>
in `src/sage/sets/set.py`, you wrote `hash(s)` instead of `hash(t)`

```diff
-            sage: t = tuple(s)
-            sage: hash(s) != hash(tuple(X.set()))
+            sage: t = tuple(s)
+            sage: hash(t) != hash(tuple(X.set()))
```



---

archive/issue_comments_428216.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4c00499a069ea45e716992f85b88198f38c64fea\">4c00499</a></td><td><code>fix one detail in hash doctest</code></td></tr></table>\n",
    "created_at": "2019-03-03T15:14:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27406",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27406#issuecomment-428216",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4c00499a069ea45e716992f85b88198f38c64fea">4c00499</a></td><td><code>fix one detail in hash doctest</code></td></tr></table>




---

archive/issue_comments_428217.json:
```json
{
    "body": "**Changing commit** from \"[66e480f33130d919d1b8375b6fc851ea95c93232](https://github.com/sagemath/sagetrac-mirror/commit/66e480f33130d919d1b8375b6fc851ea95c93232)\" to \"[4c00499a069ea45e716992f85b88198f38c64fea](https://github.com/sagemath/sagetrac-mirror/commit/4c00499a069ea45e716992f85b88198f38c64fea)\".",
    "created_at": "2019-03-03T15:14:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27406",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27406#issuecomment-428217",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[66e480f33130d919d1b8375b6fc851ea95c93232](https://github.com/sagemath/sagetrac-mirror/commit/66e480f33130d919d1b8375b6fc851ea95c93232)" to "[4c00499a069ea45e716992f85b88198f38c64fea](https://github.com/sagemath/sagetrac-mirror/commit/4c00499a069ea45e716992f85b88198f38c64fea)".



---

archive/issue_comments_428218.json:
```json
{
    "body": "<a id='comment:4'></a>\nno, no, we really want to check that s can be hashed.\n\nI have removed the superfluous line `t=tuple(s)`",
    "created_at": "2019-03-03T15:15:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27406",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27406#issuecomment-428218",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:4'></a>
no, no, we really want to check that s can be hashed.

I have removed the superfluous line `t=tuple(s)`



---

archive/issue_comments_428219.json:
```json
{
    "body": "**Changing commit** from \"[4c00499a069ea45e716992f85b88198f38c64fea](https://github.com/sagemath/sagetrac-mirror/commit/4c00499a069ea45e716992f85b88198f38c64fea)\" to \"[82de003ad9f99f1174625abf81221310807ac0d2](https://github.com/sagemath/sagetrac-mirror/commit/82de003ad9f99f1174625abf81221310807ac0d2)\".",
    "created_at": "2019-03-03T15:20:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27406",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27406#issuecomment-428219",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[4c00499a069ea45e716992f85b88198f38c64fea](https://github.com/sagemath/sagetrac-mirror/commit/4c00499a069ea45e716992f85b88198f38c64fea)" to "[82de003ad9f99f1174625abf81221310807ac0d2](https://github.com/sagemath/sagetrac-mirror/commit/82de003ad9f99f1174625abf81221310807ac0d2)".



---

archive/issue_comments_428220.json:
```json
{
    "body": "<a id='comment:5'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/82de003ad9f99f1174625abf81221310807ac0d2\">82de003</a></td><td><code>trac 27406 fix sorting of one doctest in crystals</code></td></tr></table>\n",
    "created_at": "2019-03-03T15:20:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27406",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27406#issuecomment-428220",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/82de003ad9f99f1174625abf81221310807ac0d2">82de003</a></td><td><code>trac 27406 fix sorting of one doctest in crystals</code></td></tr></table>




---

archive/issue_events_246358.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2019-03-03T15:37:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/27406",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27406#event-246358"
}
```



---

archive/issue_events_246359.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2019-03-03T15:37:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/27406",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27406#event-246359"
}
```



---

archive/issue_comments_428221.json:
```json
{
    "body": "<a id='comment:6'></a>\nOK.",
    "created_at": "2019-03-03T15:37:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27406",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27406#issuecomment-428221",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:6'></a>
OK.



---

archive/issue_comments_428222.json:
```json
{
    "body": "**Reviewer:** David Coudert",
    "created_at": "2019-03-03T15:37:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27406",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27406#issuecomment-428222",
    "user": "https://github.com/dcoudert"
}
```

**Reviewer:** David Coudert



---

archive/issue_comments_428223.json:
```json
{
    "body": "**Changing branch** from \"[u/chapoton/27406](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/27406)\" to \"[82de003ad9f99f1174625abf81221310807ac0d2](https://github.com/sagemath/sagetrac-mirror/commit/82de003ad9f99f1174625abf81221310807ac0d2)\".",
    "created_at": "2019-03-04T23:16:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27406",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27406#issuecomment-428223",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/chapoton/27406](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/27406)" to "[82de003ad9f99f1174625abf81221310807ac0d2](https://github.com/sagemath/sagetrac-mirror/commit/82de003ad9f99f1174625abf81221310807ac0d2)".



---

archive/issue_events_246360.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-03-04T23:16:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/27406",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27406#event-246360"
}
```



---

archive/issue_events_246361.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-03-04T23:16:21Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/27406",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27406#event-246361"
}
```
