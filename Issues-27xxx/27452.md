# Issue 27452: py3: fundamental group of simplicial complexes

archive/issues_027215.json:
```json
{
    "assignees": [],
    "body": "This should fix the last py3 doctest failures in src/homology.\n\nBranch/Commit: **[47e4527](https://github.com/sagemath/sagetrac-mirror/commit/47e452753b2d32ced1a962cdc818c6badb476acd)**\n\nReviewer: **Travis Scrimshaw, David Coudert**\n\nAuthor: **John Palmieri**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/27452_\n\n",
    "closed_at": "2019-03-13T18:29:28Z",
    "created_at": "2019-03-10T00:12:46Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20python3",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.7",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "py3: fundamental group of simplicial complexes",
    "type": "issue",
    "updated_at": "2019-03-13T18:29:28Z",
    "url": "https://github.com/sagemath/sage/issues/27452",
    "user": "https://github.com/jhpalmieri"
}
```
This should fix the last py3 doctest failures in src/homology.

Branch/Commit: **[47e4527](https://github.com/sagemath/sagetrac-mirror/commit/47e452753b2d32ced1a962cdc818c6badb476acd)**

Reviewer: **Travis Scrimshaw, David Coudert**

Author: **John Palmieri**

_Issue created by migration from https://trac.sagemath.org/ticket/27452_





---

archive/issue_events_358858.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2019-03-10T00:12:46Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27452",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27452#event-358858"
}
```



---

archive/issue_events_358859.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2019-03-10T00:12:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27452",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20python3",
    "label_color": "000080",
    "label_name": "component: python3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27452#event-358859"
}
```



---

archive/issue_events_358860.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2019-03-10T00:12:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27452",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27452#event-358860"
}
```



---

archive/issue_events_358861.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2019-03-10T00:12:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27452",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27452#event-358861"
}
```



---

archive/issue_comments_427717.json:
```json
{
    "body": "Branch: **[u/jhpalmieri/py3-fundamental-group](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/py3-fundamental-group)**",
    "created_at": "2019-03-10T00:14:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27452",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27452#issuecomment-427717",
    "user": "https://github.com/jhpalmieri"
}
```

Branch: **[u/jhpalmieri/py3-fundamental-group](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/py3-fundamental-group)**



---

archive/issue_comments_427718.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2beaf2049543f06eb3561497828c6dd0d20e030e\">2beaf20</a></td><td><code>trac 24752: py3 fix for fundamental group of simplicial complexes</code></td></tr></table>\n",
    "created_at": "2019-03-10T00:14:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27452",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27452#issuecomment-427718",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:2'>Comment 2:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2beaf2049543f06eb3561497828c6dd0d20e030e">2beaf20</a></td><td><code>trac 24752: py3 fix for fundamental group of simplicial complexes</code></td></tr></table>




---

archive/issue_comments_427719.json:
```json
{
    "body": "Commit: **[2beaf20](https://github.com/sagemath/sagetrac-mirror/commit/2beaf2049543f06eb3561497828c6dd0d20e030e)**",
    "created_at": "2019-03-10T00:14:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27452",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27452#issuecomment-427719",
    "user": "https://github.com/jhpalmieri"
}
```

Commit: **[2beaf20](https://github.com/sagemath/sagetrac-mirror/commit/2beaf2049543f06eb3561497828c6dd0d20e030e)**



---

archive/issue_events_358862.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2019-03-10T00:14:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27452",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27452#event-358862"
}
```



---

archive/issue_comments_427720.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nI first tried something a little more complicated: first computing the minimal spanning tree, and if that raises an error, then do the stuff in this branch. That was not much faster; I tested on `simplicial_complexes.PoincareHomologyThreeSphere()` which has integers as vertices.",
    "created_at": "2019-03-10T00:16:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27452",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27452#issuecomment-427720",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:3'>Comment 3:</a>
I first tried something a little more complicated: first computing the minimal spanning tree, and if that raises an error, then do the stuff in this branch. That was not much faster; I tested on `simplicial_complexes.PoincareHomologyThreeSphere()` which has integers as vertices.



---

archive/issue_comments_427721.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nSo I think there is a problem with this that is exposing another problem with `graph()`. Mainly if the result of `graph()` is an immutatble graph, then doing `G.copy()` will give another immutable.\n\n```sage\nsage: G = graphs.CycleGraph(3)\nsage: GI = G.copy(immutable=True)\nsage: G.is_immutable()\nFalse\nsage: GI.is_immutable()\nTrue\nsage: C = GI.copy()\nsage: C.is_immutable()   # This is the problem\nTrue\nsage: C.relabel({0:'a',1:'b',2:'c'})\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n...\nValueError: To relabel an immutable graph use inplace=False\n```\nThe result of `graph()` should be an immutable graph because it is cached, which can be easily achieved when constructing the result by giving `immutable=True` as an argument. To fix the problem here, you should do `G.copy(immutable=False)`.\n\nI would also think it would be faster to use `v_to_int` to construct `int_to_v` than redoing `enumerate(G.vertex_iterator())` because of `int_to_v` being a Python builtin type (a `dict`).\n\nI would also change the test to be more indicative of the cyclic structure:\n\n```\n-            sage: (x**5).is_one()\n-            True\n+            sage: [(x**n).is_one() for n in range(1,6)]\n+            [False, False, False, False, True]\n```",
    "created_at": "2019-03-10T00:45:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27452",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27452#issuecomment-427721",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:4'>Comment 4:</a>
So I think there is a problem with this that is exposing another problem with `graph()`. Mainly if the result of `graph()` is an immutatble graph, then doing `G.copy()` will give another immutable.

```sage
sage: G = graphs.CycleGraph(3)
sage: GI = G.copy(immutable=True)
sage: G.is_immutable()
False
sage: GI.is_immutable()
True
sage: C = GI.copy()
sage: C.is_immutable()   # This is the problem
True
sage: C.relabel({0:'a',1:'b',2:'c'})
---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)
...
ValueError: To relabel an immutable graph use inplace=False
```
The result of `graph()` should be an immutable graph because it is cached, which can be easily achieved when constructing the result by giving `immutable=True` as an argument. To fix the problem here, you should do `G.copy(immutable=False)`.

I would also think it would be faster to use `v_to_int` to construct `int_to_v` than redoing `enumerate(G.vertex_iterator())` because of `int_to_v` being a Python builtin type (a `dict`).

I would also change the test to be more indicative of the cyclic structure:

```
-            sage: (x**5).is_one()
-            True
+            sage: [(x**n).is_one() for n in range(1,6)]
+            [False, False, False, False, True]
```



---

archive/issue_comments_427722.json:
```json
{
    "body": "Changed commit from **[2beaf20](https://github.com/sagemath/sagetrac-mirror/commit/2beaf2049543f06eb3561497828c6dd0d20e030e)** to **[aa5361b](https://github.com/sagemath/sagetrac-mirror/commit/aa5361b511fd3f9be1425960f480fe63e88b6e6c)**",
    "created_at": "2019-03-10T01:28:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27452",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27452#issuecomment-427722",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[2beaf20](https://github.com/sagemath/sagetrac-mirror/commit/2beaf2049543f06eb3561497828c6dd0d20e030e)** to **[aa5361b](https://github.com/sagemath/sagetrac-mirror/commit/aa5361b511fd3f9be1425960f480fe63e88b6e6c)**



---

archive/issue_comments_427723.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aa5361b511fd3f9be1425960f480fe63e88b6e6c\">aa5361b</a></td><td><code>trac 24752: py3 fix for fundamental group of simplicial complexes</code></td></tr></table>\n",
    "created_at": "2019-03-10T01:28:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27452",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27452#issuecomment-427723",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:5'>Comment 5:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aa5361b511fd3f9be1425960f480fe63e88b6e6c">aa5361b</a></td><td><code>trac 24752: py3 fix for fundamental group of simplicial complexes</code></td></tr></table>




---

archive/issue_comments_427724.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c1a35e8468a3e671d86e970e6b4f70381c78a745\">c1a35e8</a></td><td><code>trac 24752: py3 fix for fundamental group of simplicial complexes</code></td></tr></table>\n",
    "created_at": "2019-03-10T01:29:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27452",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27452#issuecomment-427724",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:6'>Comment 6:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c1a35e8468a3e671d86e970e6b4f70381c78a745">c1a35e8</a></td><td><code>trac 24752: py3 fix for fundamental group of simplicial complexes</code></td></tr></table>




---

archive/issue_comments_427725.json:
```json
{
    "body": "Changed commit from **[aa5361b](https://github.com/sagemath/sagetrac-mirror/commit/aa5361b511fd3f9be1425960f480fe63e88b6e6c)** to **[c1a35e8](https://github.com/sagemath/sagetrac-mirror/commit/c1a35e8468a3e671d86e970e6b4f70381c78a745)**",
    "created_at": "2019-03-10T01:29:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27452",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27452#issuecomment-427725",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[aa5361b](https://github.com/sagemath/sagetrac-mirror/commit/aa5361b511fd3f9be1425960f480fe63e88b6e6c)** to **[c1a35e8](https://github.com/sagemath/sagetrac-mirror/commit/c1a35e8468a3e671d86e970e6b4f70381c78a745)**



---

archive/issue_comments_427726.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3fff88c41320b16b07500fd5ce582db5f3044079\">3fff88c</a></td><td><code>trac 24752: py3 fix for fundamental group of simplicial complexes</code></td></tr></table>\n",
    "created_at": "2019-03-10T01:32:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27452",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27452#issuecomment-427726",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:7'>Comment 7:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3fff88c41320b16b07500fd5ce582db5f3044079">3fff88c</a></td><td><code>trac 24752: py3 fix for fundamental group of simplicial complexes</code></td></tr></table>




---

archive/issue_comments_427727.json:
```json
{
    "body": "Changed commit from **[c1a35e8](https://github.com/sagemath/sagetrac-mirror/commit/c1a35e8468a3e671d86e970e6b4f70381c78a745)** to **[3fff88c](https://github.com/sagemath/sagetrac-mirror/commit/3fff88c41320b16b07500fd5ce582db5f3044079)**",
    "created_at": "2019-03-10T01:32:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27452",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27452#issuecomment-427727",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[c1a35e8](https://github.com/sagemath/sagetrac-mirror/commit/c1a35e8468a3e671d86e970e6b4f70381c78a745)** to **[3fff88c](https://github.com/sagemath/sagetrac-mirror/commit/3fff88c41320b16b07500fd5ce582db5f3044079)**



---

archive/issue_comments_427728.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nThanks for the comments. I made those changes, plus a few others along these lines:\n\n```diff\n             True\n         \"\"\"\n         d = self._vertex_to_index\n-        return {d[v]:v for v in d}\n+        return {idx: v for v, idx in d.items()}\n \n     def _chomp_repr_(self):\n         r\"\"\"\n```\nThe point is that instead of doing a lot of separate dictionary lookups, it should be faster to dump it once using `items` and then convert that to a dict.",
    "created_at": "2019-03-10T01:33:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27452",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27452#issuecomment-427728",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:8'>Comment 8:</a>
Thanks for the comments. I made those changes, plus a few others along these lines:

```diff
             True
         """
         d = self._vertex_to_index
-        return {d[v]:v for v in d}
+        return {idx: v for v, idx in d.items()}
 
     def _chomp_repr_(self):
         r"""
```
The point is that instead of doing a lot of separate dictionary lookups, it should be faster to dump it once using `items` and then convert that to a dict.



---

archive/issue_comments_427729.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nIt might not be a bad idea to explicitly specify `immutable=False` when creating the graph associated to a simplicial complex (since it can be changed using `add_face` or `remove_face`), or maybe set `immutable` to whatever the setting is for the simplicial complex. On another ticket, though.",
    "created_at": "2019-03-10T01:35:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27452",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27452#issuecomment-427729",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:9'>Comment 9:</a>
It might not be a bad idea to explicitly specify `immutable=False` when creating the graph associated to a simplicial complex (since it can be changed using `add_face` or `remove_face`), or maybe set `immutable` to whatever the setting is for the simplicial complex. On another ticket, though.



---

archive/issue_comments_427730.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2019-03-10T01:41:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27452",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27452#issuecomment-427730",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_comments_427731.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nA bit of the downside of doing `foo.items()` is that it creates the whole list in Python2. So it is not so memory friendly. Anyways, just food for thought.\n\nYes, we can fix the `graph()` issue on another ticket.\n\nIf the patchbot comes back green, then this can be set to a positive review.",
    "created_at": "2019-03-10T01:41:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27452",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27452#issuecomment-427731",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:10'>Comment 10:</a>
A bit of the downside of doing `foo.items()` is that it creates the whole list in Python2. So it is not so memory friendly. Anyways, just food for thought.

Yes, we can fix the `graph()` issue on another ticket.

If the patchbot comes back green, then this can be set to a positive review.



---

archive/issue_comments_427732.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nReplying to [@tscrim](#comment%3A10):\n> A bit of the downside of doing `foo.items()` is that it creates the whole list in Python2. So it is not so memory friendly. Anyways, just food for thought.\n\nIt's a tradeoff between time and memory. Fortunately, I don't think simplicial complexes are likely to have so many vertices where it is an issue, or if they do, it's not going to be practical to compute the fundamental group.\n\n(For example, `simplicial_complexes.NotIConnectedGraphs(7,2)` has over a million simplices overall, but just 21 vertices.)",
    "created_at": "2019-03-10T02:06:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27452",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27452#issuecomment-427732",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:11'>Comment 11:</a>
Replying to [@tscrim](#comment%3A10):
> A bit of the downside of doing `foo.items()` is that it creates the whole list in Python2. So it is not so memory friendly. Anyways, just food for thought.

It's a tradeoff between time and memory. Fortunately, I don't think simplicial complexes are likely to have so many vertices where it is an issue, or if they do, it's not going to be practical to compute the fundamental group.

(For example, `simplicial_complexes.NotIConnectedGraphs(7,2)` has over a million simplices overall, but just 21 vertices.)



---

archive/issue_events_358863.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2019-03-10T05:43:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27452",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27452#event-358863"
}
```



---

archive/issue_events_358864.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2019-03-10T05:43:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27452",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27452#event-358864"
}
```



---

archive/issue_comments_427733.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nYou could simplify some parts of this code using `frozenset` instead of tuples for the spanning tree, the keys of `gens_dict`, and may be `gens` (not sure for that one). And also make `spanning_tree` a set.",
    "created_at": "2019-03-10T10:55:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27452",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27452#issuecomment-427733",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:13'>Comment 13:</a>
You could simplify some parts of this code using `frozenset` instead of tuples for the spanning tree, the keys of `gens_dict`, and may be `gens` (not sure for that one). And also make `spanning_tree` a set.



---

archive/issue_comments_427734.json:
```json
{
    "body": "Changed commit from **[3fff88c](https://github.com/sagemath/sagetrac-mirror/commit/3fff88c41320b16b07500fd5ce582db5f3044079)** to **[47e4527](https://github.com/sagemath/sagetrac-mirror/commit/47e452753b2d32ced1a962cdc818c6badb476acd)**",
    "created_at": "2019-03-10T19:07:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27452",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27452#issuecomment-427734",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[3fff88c](https://github.com/sagemath/sagetrac-mirror/commit/3fff88c41320b16b07500fd5ce582db5f3044079)** to **[47e4527](https://github.com/sagemath/sagetrac-mirror/commit/47e452753b2d32ced1a962cdc818c6badb476acd)**



---

archive/issue_comments_427735.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/47e452753b2d32ced1a962cdc818c6badb476acd\">47e4527</a></td><td><code>trac 27452: some simplifications in fundamental_group</code></td></tr></table>\n",
    "created_at": "2019-03-10T19:07:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27452",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27452#issuecomment-427735",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:14'>Comment 14:</a>
Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/47e452753b2d32ced1a962cdc818c6badb476acd">47e4527</a></td><td><code>trac 27452: some simplifications in fundamental_group</code></td></tr></table>




---

archive/issue_events_358865.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2019-03-10T19:07:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27452",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27452#event-358865"
}
```



---

archive/issue_events_358866.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2019-03-10T19:07:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27452",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27452#event-358866"
}
```



---

archive/issue_comments_427736.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nLike this?",
    "created_at": "2019-03-10T19:08:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27452",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27452#issuecomment-427736",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:15'>Comment 15:</a>
Like this?



---

archive/issue_comments_427737.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nYes. I assume that it's not possible to do it also for `gens`, right?",
    "created_at": "2019-03-10T20:05:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27452",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27452#issuecomment-427737",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:16'>Comment 16:</a>
Yes. I assume that it's not possible to do it also for `gens`, right?



---

archive/issue_comments_427738.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\n`gens` doesn't get used much, only in these two lines:\n\n```\n        if len(gens) == 0:\n            return gap.TrivialGroup()\n        ...\n        gens_dict = {frozenset(g): i for i, g in enumerate(gens)}\n        FG = FreeGroup(len(gens), 'e')\n```\nSo I don't think it will make much difference if it is made up of tuples or frozensets.",
    "created_at": "2019-03-10T20:39:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27452",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27452#issuecomment-427738",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:17'>Comment 17:</a>
`gens` doesn't get used much, only in these two lines:

```
        if len(gens) == 0:
            return gap.TrivialGroup()
        ...
        gens_dict = {frozenset(g): i for i, g in enumerate(gens)}
        FG = FreeGroup(len(gens), 'e')
```
So I don't think it will make much difference if it is made up of tuples or frozensets.



---

archive/issue_comments_427739.json:
```json
{
    "body": "Changed reviewer from **Travis Scrimshaw** to **Travis Scrimshaw, David Coudert**",
    "created_at": "2019-03-10T20:53:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27452",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27452#issuecomment-427739",
    "user": "https://github.com/dcoudert"
}
```

Changed reviewer from **Travis Scrimshaw** to **Travis Scrimshaw, David Coudert**



---

archive/issue_events_358867.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2019-03-10T20:53:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27452",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27452#event-358867"
}
```



---

archive/issue_events_358868.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2019-03-10T20:53:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27452",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27452#event-358868"
}
```



---

archive/issue_comments_427740.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nLGTM",
    "created_at": "2019-03-10T20:53:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27452",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27452#issuecomment-427740",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:18'>Comment 18:</a>
LGTM



---

archive/issue_comments_427741.json:
```json
{
    "body": "Changed branch from **[u/jhpalmieri/py3-fundamental-group](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/py3-fundamental-group)** to **[47e4527](https://github.com/sagemath/sagetrac-mirror/commit/47e452753b2d32ced1a962cdc818c6badb476acd)**",
    "created_at": "2019-03-13T18:29:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27452",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27452#issuecomment-427741",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jhpalmieri/py3-fundamental-group](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/py3-fundamental-group)** to **[47e4527](https://github.com/sagemath/sagetrac-mirror/commit/47e452753b2d32ced1a962cdc818c6badb476acd)**



---

archive/issue_events_358869.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-03-13T18:29:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27452",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27452#event-358869"
}
```



---

archive/issue_events_358870.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "f6d2c6a3c4a16609495a20a23eb5a30b95b1e5c5",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-03-13T18:29:28Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/27452",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27452#event-358870"
}
```
