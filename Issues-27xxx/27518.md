# Issue 27518: Implementation of Floyd-Warshall for all pair shortest distance

archive/issues_027281.json:
```json
{
    "assignees": [
        "https://github.com/giorgosgiapis"
    ],
    "body": "Currently sage has implemented Floyd-Warshall algorithm only for graphs with constant edge weight of 1 in cython. Implementation of Floyd warshall algorithm in cython for finding all pair shortest distances(ASAD) can be done. This algorithm can be further improved to find all pair shortest paths(ASAP)(Later).\n\nWe can also improve all pair shortest distance algorithm using the technique described in the following paper:-\nhttps://pdfs.semanticscholar.org/568f/58737e752bf831a3e48036cf5205facce769.pdf\nUsually complexity for finding ASAD with matrix multiplication comes with large constants that results in slow running time, But the implementation that is described in the paper can faster the running time for algorithm.  \n\nCC:  @dcoudert\n\nBranch/Commit: **[`dc082bb`](https://github.com/sagemath/sagetrac-mirror/commit/dc082bb5e6bee3644615fb5cbc62a44d7a52ed6a)**\n\nReviewer: **David Coudert**\n\nAuthor: **Georgios Giapitzakis Tzintanos**\n\nComponent: **graph theory**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/27518_\n\n",
    "closed_at": "2019-05-21T12:15:53Z",
    "created_at": "2019-03-20T19:28:37Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Implementation of Floyd-Warshall for all pair shortest distance",
    "type": "issue",
    "updated_at": "2019-05-21T12:15:53Z",
    "url": "https://github.com/sagemath/sage/issues/27518",
    "user": "https://github.com/Hrishabh-yadav"
}
```
Currently sage has implemented Floyd-Warshall algorithm only for graphs with constant edge weight of 1 in cython. Implementation of Floyd warshall algorithm in cython for finding all pair shortest distances(ASAD) can be done. This algorithm can be further improved to find all pair shortest paths(ASAP)(Later).

We can also improve all pair shortest distance algorithm using the technique described in the following paper:-
https://pdfs.semanticscholar.org/568f/58737e752bf831a3e48036cf5205facce769.pdf
Usually complexity for finding ASAD with matrix multiplication comes with large constants that results in slow running time, But the implementation that is described in the paper can faster the running time for algorithm.  

CC:  @dcoudert

Branch/Commit: **[`dc082bb`](https://github.com/sagemath/sagetrac-mirror/commit/dc082bb5e6bee3644615fb5cbc62a44d7a52ed6a)**

Reviewer: **David Coudert**

Author: **Georgios Giapitzakis Tzintanos**

Component: **graph theory**

_Issue created by migration from https://trac.sagemath.org/ticket/27518_





---

archive/issue_events_377878.json:
```json
{
    "actor": "https://github.com/Hrishabh-yadav",
    "created_at": "2019-03-20T19:28:37Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27518#event-377878"
}
```



---

archive/issue_events_377879.json:
```json
{
    "actor": "https://github.com/Hrishabh-yadav",
    "created_at": "2019-03-20T19:28:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
    "label_color": "0000ff",
    "label_name": "c: graph theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27518#event-377879"
}
```



---

archive/issue_events_377880.json:
```json
{
    "actor": "https://github.com/Hrishabh-yadav",
    "created_at": "2019-03-20T19:28:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27518#event-377880"
}
```



---

archive/issue_events_377881.json:
```json
{
    "actor": "https://github.com/Hrishabh-yadav",
    "created_at": "2019-03-20T19:28:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27518#event-377881"
}
```



---

archive/issue_comments_426206.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nI am working on this. I think we should take care of the case when edge_label is not a number (Probably set weight to 1).",
    "created_at": "2019-03-21T12:25:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426206",
    "user": "https://github.com/giorgosgiapis"
}
```

<div id="comment:1" align="right">comment:1</div>

I am working on this. I think we should take care of the case when edge_label is not a number (Probably set weight to 1).



---

archive/issue_comments_426207.json:
```json
{
    "body": "Branch: **[u/gh-giorgosgiapis/weighted_floyd_warshall](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-giorgosgiapis/weighted_floyd_warshall)**",
    "created_at": "2019-03-21T17:29:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426207",
    "user": "https://github.com/giorgosgiapis"
}
```

Branch: **[u/gh-giorgosgiapis/weighted_floyd_warshall](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-giorgosgiapis/weighted_floyd_warshall)**



---

archive/issue_comments_426208.json:
```json
{
    "body": "Commit: **[`ffcea9e`](https://github.com/sagemath/sagetrac-mirror/commit/ffcea9e1772dc81bfae6373c8b69bbc481514a4c)**",
    "created_at": "2019-03-21T17:33:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426208",
    "user": "https://github.com/giorgosgiapis"
}
```

Commit: **[`ffcea9e`](https://github.com/sagemath/sagetrac-mirror/commit/ffcea9e1772dc81bfae6373c8b69bbc481514a4c)**



---

archive/issue_events_377882.json:
```json
{
    "actor": "https://github.com/giorgosgiapis",
    "created_at": "2019-03-21T17:33:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27518#event-377882"
}
```



---

archive/issue_comments_426209.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ffcea9e1772dc81bfae6373c8b69bbc481514a4c\">ffcea9e</a></td><td><code>Modified Floyd-Warshall to work with weighted graphs with non-negative integer edge weights.</code></td></tr></table>\n",
    "created_at": "2019-03-21T17:33:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426209",
    "user": "https://github.com/giorgosgiapis"
}
```

<div id="comment:3"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ffcea9e1772dc81bfae6373c8b69bbc481514a4c">ffcea9e</a></td><td><code>Modified Floyd-Warshall to work with weighted graphs with non-negative integer edge weights.</code></td></tr></table>




---

archive/issue_events_377883.json:
```json
{
    "actor": "https://github.com/giorgosgiapis",
    "created_at": "2019-03-21T17:34:44Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "subject": "https://github.com/giorgosgiapis",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27518#event-377883"
}
```



---

archive/issue_comments_426210.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\n- The usage of edge weights is not fully unified in the graph module. However, many methods have as input parameter `wfunction`, a function that inputs an edge and outputs a number. You should consider adding this parameter as input of the method.\n\n- There is an implementation of Floyd-Warshall algorithm in `boost` https://www.boost.org/doc/libs/1_69_0/libs/graph/doc/floyd_warshall_shortest.html\n\n  and we have an interface with boost `src/sage/graphs/base/boost_*`.\n\n  So you should first expose the boost implementation in Sagemath.\n\n- Moreover, Johnson algorithm is considered faster for sparse graphs (and most of the graphs are sparse).\n  - we can use the implementation of boost: `'Johnson_Boost'`\n  - we can also use the implementation of `igraph` (an optional package), although not directly exposed. In fact method `shortest_paths` of `igraph` call Johnson algorithm and not Floyd-Warshall for the reason explained here: https://lists.nongnu.org/archive/html/igraph-help/2009-06/msg00029.html\n\n    when `igraph` is installed, we can do `H = G.igraph_graph()` and then `H.shortest_paths()` with appropriate parameters.",
    "created_at": "2019-03-21T17:40:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426210",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:5" align="right">comment:5</div>

- The usage of edge weights is not fully unified in the graph module. However, many methods have as input parameter `wfunction`, a function that inputs an edge and outputs a number. You should consider adding this parameter as input of the method.

- There is an implementation of Floyd-Warshall algorithm in `boost` https://www.boost.org/doc/libs/1_69_0/libs/graph/doc/floyd_warshall_shortest.html

  and we have an interface with boost `src/sage/graphs/base/boost_*`.

  So you should first expose the boost implementation in Sagemath.

- Moreover, Johnson algorithm is considered faster for sparse graphs (and most of the graphs are sparse).
  - we can use the implementation of boost: `'Johnson_Boost'`
  - we can also use the implementation of `igraph` (an optional package), although not directly exposed. In fact method `shortest_paths` of `igraph` call Johnson algorithm and not Floyd-Warshall for the reason explained here: https://lists.nongnu.org/archive/html/igraph-help/2009-06/msg00029.html

    when `igraph` is installed, we can do `H = G.igraph_graph()` and then `H.shortest_paths()` with appropriate parameters.



---

archive/issue_comments_426211.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nDoes the algorithm only work if given graph has all possible edges defined, Like if I input a Graph with 100 edges and 11 vertices :\n\n```\n sage: \n....: from sage.graphs.distances_all_pairs import floyd_warshall\n....: G= Graph()\n....: G.allow_multiple_edges(True)\n....: G.allow_loops(True)\n....: G.weighted(True)\n....: for i in range(100):\n....:     u=randint(0,10)\n....:     v=randint(0,10)\n....:     l=randint(0,1000)\n....:     G.add_edge(u,v,l)\n....:     G.add_edge(v,u,l)\n....:     \n....: print(floyd_warshall(G,paths=False,distances=True))\n....: \n....:     \n---------------------------------------------------------------------------\nLookupError                               Traceback (most recent call last)\n<ipython-input-13-c620edb96b9c> in <module>()\n     12     G.add_edge(v,u,l)\n     13 \n---> 14 print(floyd_warshall(G,paths=False,distances=True))\n     15 \n     16 \n\n/home/hrishabh/sage/local/lib/python2.7/site-packages/sage/graphs/distances_all_pairs.pyx in sage.graphs.distances_all_pairs.floyd_warshall (build/cythonized/sage/graphs/distances_all_pairs.c:15993)()\n   1623         for u_int in g.out_neighbors(v_int):\n   1624             if gg.weighted() == True:\n-> 1625                 label = str(gg.edge_label(v_int, u_int))\n   1626                 try:\n   1627                     weight = int(label)\n\n/home/hrishabh/sage/local/lib/python2.7/site-packages/sage/graphs/generic_graph.pyc in edge_label(self, u, v)\n  11310             True\n  11311         \"\"\"\n> 11312         return self._backend.get_edge_label(u,v)\n  11313 \n  11314     def edge_labels(self):\n\n/home/hrishabh/sage/local/lib/python2.7/site-packages/sage/graphs/base/sparse_graph.pyx in sage.graphs.base.sparse_graph.SparseGraphBackend.get_edge_label (build/cythonized/sage/graphs/base/sparse_graph.c:19894)()\n   1643         cdef int v_int = self.get_vertex(v)\n   1644         if not (<SparseGraph>self._cg).has_arc_unsafe(u_int, v_int):\n-> 1645             raise LookupError(\"({0}, {1}) is not an edge of the graph.\".format(repr(u),repr(v)))\n   1646         if self.multiple_edges(None):\n   1647             return [self.edge_labels[l_int] if l_int != 0 else None\n\nLookupError: (1, 2) is not an edge of the graph.\n```\n\nBut the same algorithm works for 500 edges and 11 vertices:-\n\n```\n....: from sage.graphs.distances_all_pairs import floyd_warshall\n....: G= Graph()\n....: G.allow_multiple_edges(True)\n....: G.allow_loops(True)\n....: G.weighted(True)\n....: for i in range(500):\n....:     u=randint(0,10)\n....:     v=randint(0,10)\n....:     l=randint(0,1000)\n....:     G.add_edge(u,v,l)\n....:     G.add_edge(v,u,l)\n....:     \n....: print(floyd_warshall(G,paths=False,distances=True))\n....: \n....:     \n{0: {0: 0, 1: 1, 2: 1, 3: 1, 4: 1, 5: 1, 6: 1, 7: 1, 8: 1, 9: 1, 10: 1}, 1: {0: 1, 1: 0, 2: 1, 3: 1, 4: 1, 5: 1, 6: 1, 7: 1, 8: 1, 9: 1, 10: 1}, 2: {0: 1, 1: 1, 2: 0, 3: 1, 4: 1, 5: 1, 6: 1, 7: 1, 8: 1, 9: 1, 10: 1}, 3: {0: 1, 1: 1, 2: 1, 3: 0, 4: 1, 5: 1, 6: 1, 7: 1, 8: 1, 9: 1, 10: 1}, 4: {0: 1, 1: 1, 2: 1, 3: 1, 4: 0, 5: 1, 6: 1, 7: 1, 8: 1, 9: 1, 10: 1}, 5: {0: 1, 1: 1, 2: 1, 3: 1, 4: 1, 5: 0, 6: 1, 7: 1, 8: 1, 9: 1, 10: 1}, 6: {0: 1, 1: 1, 2: 1, 3: 1, 4: 1, 5: 1, 6: 0, 7: 1, 8: 1, 9: 1, 10: 1}, 7: {0: 1, 1: 1, 2: 1, 3: 1, 4: 1, 5: 1, 6: 1, 7: 0, 8: 1, 9: 1, 10: 1}, 8: {0: 1, 1: 1, 2: 1, 3: 1, 4: 1, 5: 1, 6: 1, 7: 1, 8: 0, 9: 1, 10: 1}, 9: {0: 1, 1: 1, 2: 1, 3: 1, 4: 1, 5: 1, 6: 1, 7: 1, 8: 1, 9: 0, 10: 1}, 10: {0: 1, 1: 1, 2: 1, 3: 1, 4: 1, 5: 1, 6: 1, 7: 1, 8: 1, 9: 1, 10: 0}}\n```\nAny particular reason?",
    "created_at": "2019-03-21T21:28:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426211",
    "user": "https://github.com/Hrishabh-yadav"
}
```

<div id="comment:6" align="right">comment:6</div>

Does the algorithm only work if given graph has all possible edges defined, Like if I input a Graph with 100 edges and 11 vertices :

```
 sage: 
....: from sage.graphs.distances_all_pairs import floyd_warshall
....: G= Graph()
....: G.allow_multiple_edges(True)
....: G.allow_loops(True)
....: G.weighted(True)
....: for i in range(100):
....:     u=randint(0,10)
....:     v=randint(0,10)
....:     l=randint(0,1000)
....:     G.add_edge(u,v,l)
....:     G.add_edge(v,u,l)
....:     
....: print(floyd_warshall(G,paths=False,distances=True))
....: 
....:     
---------------------------------------------------------------------------
LookupError                               Traceback (most recent call last)
<ipython-input-13-c620edb96b9c> in <module>()
     12     G.add_edge(v,u,l)
     13 
---> 14 print(floyd_warshall(G,paths=False,distances=True))
     15 
     16 

/home/hrishabh/sage/local/lib/python2.7/site-packages/sage/graphs/distances_all_pairs.pyx in sage.graphs.distances_all_pairs.floyd_warshall (build/cythonized/sage/graphs/distances_all_pairs.c:15993)()
   1623         for u_int in g.out_neighbors(v_int):
   1624             if gg.weighted() == True:
-> 1625                 label = str(gg.edge_label(v_int, u_int))
   1626                 try:
   1627                     weight = int(label)

/home/hrishabh/sage/local/lib/python2.7/site-packages/sage/graphs/generic_graph.pyc in edge_label(self, u, v)
  11310             True
  11311         """
> 11312         return self._backend.get_edge_label(u,v)
  11313 
  11314     def edge_labels(self):

/home/hrishabh/sage/local/lib/python2.7/site-packages/sage/graphs/base/sparse_graph.pyx in sage.graphs.base.sparse_graph.SparseGraphBackend.get_edge_label (build/cythonized/sage/graphs/base/sparse_graph.c:19894)()
   1643         cdef int v_int = self.get_vertex(v)
   1644         if not (<SparseGraph>self._cg).has_arc_unsafe(u_int, v_int):
-> 1645             raise LookupError("({0}, {1}) is not an edge of the graph.".format(repr(u),repr(v)))
   1646         if self.multiple_edges(None):
   1647             return [self.edge_labels[l_int] if l_int != 0 else None

LookupError: (1, 2) is not an edge of the graph.
```

But the same algorithm works for 500 edges and 11 vertices:-

```
....: from sage.graphs.distances_all_pairs import floyd_warshall
....: G= Graph()
....: G.allow_multiple_edges(True)
....: G.allow_loops(True)
....: G.weighted(True)
....: for i in range(500):
....:     u=randint(0,10)
....:     v=randint(0,10)
....:     l=randint(0,1000)
....:     G.add_edge(u,v,l)
....:     G.add_edge(v,u,l)
....:     
....: print(floyd_warshall(G,paths=False,distances=True))
....: 
....:     
{0: {0: 0, 1: 1, 2: 1, 3: 1, 4: 1, 5: 1, 6: 1, 7: 1, 8: 1, 9: 1, 10: 1}, 1: {0: 1, 1: 0, 2: 1, 3: 1, 4: 1, 5: 1, 6: 1, 7: 1, 8: 1, 9: 1, 10: 1}, 2: {0: 1, 1: 1, 2: 0, 3: 1, 4: 1, 5: 1, 6: 1, 7: 1, 8: 1, 9: 1, 10: 1}, 3: {0: 1, 1: 1, 2: 1, 3: 0, 4: 1, 5: 1, 6: 1, 7: 1, 8: 1, 9: 1, 10: 1}, 4: {0: 1, 1: 1, 2: 1, 3: 1, 4: 0, 5: 1, 6: 1, 7: 1, 8: 1, 9: 1, 10: 1}, 5: {0: 1, 1: 1, 2: 1, 3: 1, 4: 1, 5: 0, 6: 1, 7: 1, 8: 1, 9: 1, 10: 1}, 6: {0: 1, 1: 1, 2: 1, 3: 1, 4: 1, 5: 1, 6: 0, 7: 1, 8: 1, 9: 1, 10: 1}, 7: {0: 1, 1: 1, 2: 1, 3: 1, 4: 1, 5: 1, 6: 1, 7: 0, 8: 1, 9: 1, 10: 1}, 8: {0: 1, 1: 1, 2: 1, 3: 1, 4: 1, 5: 1, 6: 1, 7: 1, 8: 0, 9: 1, 10: 1}, 9: {0: 1, 1: 1, 2: 1, 3: 1, 4: 1, 5: 1, 6: 1, 7: 1, 8: 1, 9: 0, 10: 1}, 10: {0: 1, 1: 1, 2: 1, 3: 1, 4: 1, 5: 1, 6: 1, 7: 1, 8: 1, 9: 1, 10: 0}}
```
Any particular reason?



---

archive/issue_comments_426212.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nWell, I think I figured it out. If we work on the original graph (gg) and not in the graph created in line \n\n\n```\ncdef CGraph g = <CGraph> gg._backend.c_graph()[0]\n```\n\nthe problem seems to get fixed. I don't really know what causes the issue in the first place but in general, the above line seems to add to the graph g some edges which are not present in gg.",
    "created_at": "2019-03-21T23:24:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426212",
    "user": "https://github.com/giorgosgiapis"
}
```

<div id="comment:7" align="right">comment:7</div>

Well, I think I figured it out. If we work on the original graph (gg) and not in the graph created in line 


```
cdef CGraph g = <CGraph> gg._backend.c_graph()[0]
```

the problem seems to get fixed. I don't really know what causes the issue in the first place but in general, the above line seems to add to the graph g some edges which are not present in gg.



---

archive/issue_comments_426213.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\n> \n> ```\n> cdef CGraph g = <CGraph> gg._backend.c_graph()[0]\n> ```\n> \n> the problem seems to get fixed. I don't really know what causes the issue in the first place but in general, the above line seems to add to the graph g some edges which are not present in gg.\n\n`g` is in underlying backend graph format. This is a different format than `Graph` in which nodes and edges have different labels than in the `gg`. Although you can make much more efficient code using the backend directly, don't start playing with this if you are not an advanced user !",
    "created_at": "2019-03-22T14:58:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426213",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:8" align="right">comment:8</div>

> 
> ```
> cdef CGraph g = <CGraph> gg._backend.c_graph()[0]
> ```
> 
> the problem seems to get fixed. I don't really know what causes the issue in the first place but in general, the above line seems to add to the graph g some edges which are not present in gg.

`g` is in underlying backend graph format. This is a different format than `Graph` in which nodes and edges have different labels than in the `gg`. Although you can make much more efficient code using the backend directly, don't start playing with this if you are not an advanced user !



---

archive/issue_comments_426214.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nThe boost implementation of Floyd-Warshall and Johnson algorithm returns only the distances and not the paths. Would it be a good idea to use it and retrieve the paths from the distance values? Personally, I can't think of a way to do this faster than O(V<sup>3</sup>).",
    "created_at": "2019-03-26T17:54:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426214",
    "user": "https://github.com/giorgosgiapis"
}
```

<div id="comment:9" align="right">comment:9</div>

The boost implementation of Floyd-Warshall and Johnson algorithm returns only the distances and not the paths. Would it be a good idea to use it and retrieve the paths from the distance values? Personally, I can't think of a way to do this faster than O(V<sup>3</sup>).



---

archive/issue_comments_426215.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nWhat is your objective: get distances or get paths ? For distances, you can use boost. For paths, this is another story, and you will have to code a specific algorithm. However, I'm not convinced that using Floyd-Warshall is a good idea if you want paths.",
    "created_at": "2019-03-27T10:41:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426215",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:10" align="right">comment:10</div>

What is your objective: get distances or get paths ? For distances, you can use boost. For paths, this is another story, and you will have to code a specific algorithm. However, I'm not convinced that using Floyd-Warshall is a good idea if you want paths.



---

archive/issue_comments_426216.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nThe current implementation has the option to also return the shortest paths between every two vertices. My objective is to preserve this feature. Would it be a good idea to reimplement Johnson's algorithm in Cython to be able to do this efficiently?",
    "created_at": "2019-03-27T10:47:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426216",
    "user": "https://github.com/giorgosgiapis"
}
```

<div id="comment:11" align="right">comment:11</div>

The current implementation has the option to also return the shortest paths between every two vertices. My objective is to preserve this feature. Would it be a good idea to reimplement Johnson's algorithm in Cython to be able to do this efficiently?



---

archive/issue_comments_426217.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nUnless I'm mistaken, the methods don't return paths but the matrix of predecessors.\nGiven a matrix (or dict of dict) of distances, you can find the predecessors. For a source vertex s, for a vertex v, you find the neighbor u of v that is on a shortest s-v path by checking which vertex u is such that `d(s, u) + w(u, v) = d(s, v)`. So it should be easy to add the functionality to the method implemented with boost.",
    "created_at": "2019-03-27T16:34:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426217",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:12" align="right">comment:12</div>

Unless I'm mistaken, the methods don't return paths but the matrix of predecessors.
Given a matrix (or dict of dict) of distances, you can find the predecessors. For a source vertex s, for a vertex v, you find the neighbor u of v that is on a shortest s-v path by checking which vertex u is such that `d(s, u) + w(u, v) = d(s, v)`. So it should be easy to add the functionality to the method implemented with boost.



---

archive/issue_comments_426218.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@dcoudert](#comment:12):\n> Unless I'm mistaken, the methods don't return paths but the matrix of predecessors.\n> Given a matrix (or dict of dict) of distances, you can find the predecessors. For a source vertex s, for a vertex v, you find the neighbor u of v that is on a shortest s-v path by checking which vertex u is such that `d(s, u) + w(u, v) = d(s, v)`. So it should be easy to add the functionality to the method implemented with boost.\n\nBut isn't this going to be O(V<sup>3</sup>)?",
    "created_at": "2019-03-27T19:19:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426218",
    "user": "https://github.com/giorgosgiapis"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@dcoudert](#comment:12):
> Unless I'm mistaken, the methods don't return paths but the matrix of predecessors.
> Given a matrix (or dict of dict) of distances, you can find the predecessors. For a source vertex s, for a vertex v, you find the neighbor u of v that is on a shortest s-v path by checking which vertex u is such that `d(s, u) + w(u, v) = d(s, v)`. So it should be easy to add the functionality to the method implemented with boost.

But isn't this going to be O(V<sup>3</sup>)?



---

archive/issue_comments_426219.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nIt will be O(N.M) with a small constants...",
    "created_at": "2019-03-27T22:40:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426219",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:14" align="right">comment:14</div>

It will be O(N.M) with a small constants...



---

archive/issue_comments_426220.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nOk. Here is what I am planning to do in the next couple of days:\\\\\n\n1) Expose the boost implementation of Floyd-Warshall in Sagemath\\\\\n2) Modify johnson_shortest_paths() to return the predecessors matrix\\\\\n3) Create a new method for all pairs shortest paths where the user will be able to select the algorithm used (like in shortest_paths method in ` src/sage/graphs/base/boost_graph.pyx `).\\\\\n\nPlease let me know if there are any problems or pitfalls with what I proposed above.",
    "created_at": "2019-03-27T23:41:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426220",
    "user": "https://github.com/giorgosgiapis"
}
```

<div id="comment:15" align="right">comment:15</div>

Ok. Here is what I am planning to do in the next couple of days:\\

1) Expose the boost implementation of Floyd-Warshall in Sagemath\\
2) Modify johnson_shortest_paths() to return the predecessors matrix\\
3) Create a new method for all pairs shortest paths where the user will be able to select the algorithm used (like in shortest_paths method in ` src/sage/graphs/base/boost_graph.pyx `).\\

Please let me know if there are any problems or pitfalls with what I proposed above.



---

archive/issue_comments_426221.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\n> 1) Expose the boost implementation of Floyd-Warshall in Sagemath\\\\\n> 2) Modify johnson_shortest_paths() to return the predecessors matrix\\\\\n\nOK\n\n> 3) Create a new method for all pairs shortest paths where the user will be able to select the algorithm used (like in shortest_paths method in ` src/sage/graphs/base/boost_graph.pyx `).\\\\\n\nHave you checked the documentation of method `shortest_path_all_pairs` ? it already returns distances and predecessors matrix for different algorithms.",
    "created_at": "2019-03-28T07:35:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426221",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:16" align="right">comment:16</div>

> 1) Expose the boost implementation of Floyd-Warshall in Sagemath\\
> 2) Modify johnson_shortest_paths() to return the predecessors matrix\\

OK

> 3) Create a new method for all pairs shortest paths where the user will be able to select the algorithm used (like in shortest_paths method in ` src/sage/graphs/base/boost_graph.pyx `).\\

Have you checked the documentation of method `shortest_path_all_pairs` ? it already returns distances and predecessors matrix for different algorithms.



---

archive/issue_comments_426222.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5aceae032730b399686dc0eddbc9c3cfcd5c14c5\">5aceae0</a></td><td><code>Added predecessors support in boost johnson_shortest_paths method</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e87b06b0b0f5da655f187c7c6b51fcd8dc49c232\">e87b06b</a></td><td><code>Merge branch 'u/gh-giorgosgiapis/weighted_floyd_warshall' of git://trac.sagemath.org/sage into johnson_pred</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ef91486fa6982a5c23db3c62459cc2811d039c62\">ef91486</a></td><td><code>Added predecessors support in boost johnson_shortest_paths method</code></td></tr></table>\n",
    "created_at": "2019-03-30T17:47:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426222",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5aceae032730b399686dc0eddbc9c3cfcd5c14c5">5aceae0</a></td><td><code>Added predecessors support in boost johnson_shortest_paths method</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e87b06b0b0f5da655f187c7c6b51fcd8dc49c232">e87b06b</a></td><td><code>Merge branch 'u/gh-giorgosgiapis/weighted_floyd_warshall' of git://trac.sagemath.org/sage into johnson_pred</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ef91486fa6982a5c23db3c62459cc2811d039c62">ef91486</a></td><td><code>Added predecessors support in boost johnson_shortest_paths method</code></td></tr></table>




---

archive/issue_comments_426223.json:
```json
{
    "body": "Changed commit from **[`ffcea9e`](https://github.com/sagemath/sagetrac-mirror/commit/ffcea9e1772dc81bfae6373c8b69bbc481514a4c)** to **[`ef91486`](https://github.com/sagemath/sagetrac-mirror/commit/ef91486fa6982a5c23db3c62459cc2811d039c62)**",
    "created_at": "2019-03-30T17:47:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426223",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ffcea9e`](https://github.com/sagemath/sagetrac-mirror/commit/ffcea9e1772dc81bfae6373c8b69bbc481514a4c)** to **[`ef91486`](https://github.com/sagemath/sagetrac-mirror/commit/ef91486fa6982a5c23db3c62459cc2811d039c62)**



---

archive/issue_comments_426224.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/41358f92e6034b50c720f608e3229dc36111ec4e\">41358f9</a></td><td><code>Fixed minor issues</code></td></tr></table>\n",
    "created_at": "2019-03-30T23:34:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426224",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/41358f92e6034b50c720f608e3229dc36111ec4e">41358f9</a></td><td><code>Fixed minor issues</code></td></tr></table>




---

archive/issue_comments_426225.json:
```json
{
    "body": "Changed commit from **[`ef91486`](https://github.com/sagemath/sagetrac-mirror/commit/ef91486fa6982a5c23db3c62459cc2811d039c62)** to **[`41358f9`](https://github.com/sagemath/sagetrac-mirror/commit/41358f92e6034b50c720f608e3229dc36111ec4e)**",
    "created_at": "2019-03-30T23:34:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426225",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ef91486`](https://github.com/sagemath/sagetrac-mirror/commit/ef91486fa6982a5c23db3c62459cc2811d039c62)** to **[`41358f9`](https://github.com/sagemath/sagetrac-mirror/commit/41358f92e6034b50c720f608e3229dc36111ec4e)**



---

archive/issue_comments_426226.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\n- please ensure that comments and documentation are in 80 column modes. See the developer manual\n\n- for building the distance dict, why not using the previous code ?\n\n```\n     dist = {int_to_v[v]: {int_to_v[w]: correct_type(result[v][w])\n                     for w in range(N) if result[v][w] != sys.float_info.max}\n             for v in range(N)}\n```\n\n- for building the predecessor dict, it's a pitty not using the boost graph that has already been build and that contains the correct edge weights. I agree it's much more complicated and requires to extend `boost_interface.cpp` to expose other methods in order to iterate over weighted edges.\n\n  Also, the pseudo code I have in mind is more like\n\n```\nfor i, j, w in g.edges():\n    for k in range(N):\n        if result[k][j] == result[k][i] + w:\n            pred[k][j] = i\n        if not directed and result[k][i] == result[k][j] + w:\n            pred[k][i] = j\n```\n\n  It's only the pseudo-code and it must be improved, but it should give a simpler code.\n\nSo please check what can be done with boost graphs. It might not be so difficult to use, and should lead to much faster code.",
    "created_at": "2019-03-31T16:59:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426226",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:19" align="right">comment:19</div>

- please ensure that comments and documentation are in 80 column modes. See the developer manual

- for building the distance dict, why not using the previous code ?

```
     dist = {int_to_v[v]: {int_to_v[w]: correct_type(result[v][w])
                     for w in range(N) if result[v][w] != sys.float_info.max}
             for v in range(N)}
```

- for building the predecessor dict, it's a pitty not using the boost graph that has already been build and that contains the correct edge weights. I agree it's much more complicated and requires to extend `boost_interface.cpp` to expose other methods in order to iterate over weighted edges.

  Also, the pseudo code I have in mind is more like

```
for i, j, w in g.edges():
    for k in range(N):
        if result[k][j] == result[k][i] + w:
            pred[k][j] = i
        if not directed and result[k][i] == result[k][j] + w:
            pred[k][i] = j
```

  It's only the pseudo-code and it must be improved, but it should give a simpler code.

So please check what can be done with boost graphs. It might not be so difficult to use, and should lead to much faster code.



---

archive/issue_comments_426227.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8e8799d9799ca2e915b65a4fd5b5e6bae663c04f\">8e8799d</a></td><td><code>Fixed comments, documentation and code for predecessors</code></td></tr></table>\n",
    "created_at": "2019-03-31T17:51:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426227",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8e8799d9799ca2e915b65a4fd5b5e6bae663c04f">8e8799d</a></td><td><code>Fixed comments, documentation and code for predecessors</code></td></tr></table>




---

archive/issue_comments_426228.json:
```json
{
    "body": "Changed commit from **[`41358f9`](https://github.com/sagemath/sagetrac-mirror/commit/41358f92e6034b50c720f608e3229dc36111ec4e)** to **[`8e8799d`](https://github.com/sagemath/sagetrac-mirror/commit/8e8799d9799ca2e915b65a4fd5b5e6bae663c04f)**",
    "created_at": "2019-03-31T17:51:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426228",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`41358f9`](https://github.com/sagemath/sagetrac-mirror/commit/41358f92e6034b50c720f608e3229dc36111ec4e)** to **[`8e8799d`](https://github.com/sagemath/sagetrac-mirror/commit/8e8799d9799ca2e915b65a4fd5b5e6bae663c04f)**



---

archive/issue_comments_426229.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@dcoudert](#comment:19):\n> \n> - please ensure that comments and documentation are in 80 column modes. See the developer manual\n\n\\\\\nFixed all errors\n\n\\\\\n> - for building the distance dict, why not using the previous code ?\n> \n> ```\n>      dist = {int_to_v[v]: {int_to_v[w]: correct_type(result[v][w])\n>                      for w in range(N) if result[v][w] != sys.float_info.max}\n>              for v in range(N)}\n> ```\n\n\\\\\nChanged back to the previous code\n\n\\\\\n>   Also, the pseudo code I have in mind is more like\n> \n> ```\n> for i, j, w in g.edges():\n>     for k in range(N):\n>         if result[k][j] == result[k][i] + w:\n>             pred[k][j] = i\n>         if not directed and result[k][i] == result[k][j] + w:\n>             pred[k][i] = j\n> ```\n> \n>   It's only the pseudo-code and it must be improved, but it should give a simpler code.\n> \n\n\\\\\nI adapted the pseudocode to my implementation. I will do some research on boost graphs and try to come up with a faster implementation using boost interface.",
    "created_at": "2019-03-31T17:57:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426229",
    "user": "https://github.com/giorgosgiapis"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@dcoudert](#comment:19):
> 
> - please ensure that comments and documentation are in 80 column modes. See the developer manual

\\
Fixed all errors

\\
> - for building the distance dict, why not using the previous code ?
> 
> ```
>      dist = {int_to_v[v]: {int_to_v[w]: correct_type(result[v][w])
>                      for w in range(N) if result[v][w] != sys.float_info.max}
>              for v in range(N)}
> ```

\\
Changed back to the previous code

\\
>   Also, the pseudo code I have in mind is more like
> 
> ```
> for i, j, w in g.edges():
>     for k in range(N):
>         if result[k][j] == result[k][i] + w:
>             pred[k][j] = i
>         if not directed and result[k][i] == result[k][j] + w:
>             pred[k][i] = j
> ```
> 
>   It's only the pseudo-code and it must be improved, but it should give a simpler code.
> 

\\
I adapted the pseudocode to my implementation. I will do some research on boost graphs and try to come up with a faster implementation using boost interface.



---

archive/issue_comments_426230.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nSome comments on the current code. Of course, a version directly using boost could be better.\n\n- add an empty line between each input parameter, e.g., before\n\n```\n+    - ``predecessors`` -- boolean (default: ``False``); whether to return the\n```\n\n\n- you can type some variables. For instance\n\n```diff\n-    dist = {}\n-    pred = {}\n+    cdef dict dist = {}\n+    cdef dict pred = {}\n```\n\n- you can improve the alignment (although I'm not fully sure of the correct pep8 for this one)\n\n```diff\n-        dist = {int_to_v[v]: {int_to_v[w]: correct_type(result[v][w])\n-                     for w in range(N) if result[v][w] != sys.float_info.max}\n-             for v in range(N)}\n+        dist = {int_to_v[v]: {int_to_v[w]: correct_type(result[v][w])\n+                              for w in range(N) if result[v][w] != sys.float_info.max}\n+                for v in range(N)}\n```\n\n- you could define integer variables for `v_to_int[u]`, `v_to_int[v]`\n\n- add a space after `#` in `+            #dst is the weight of the edge (e[0], e[1])`\n\n- no `;` at the end of `+                    continue;`\n\n- use 2 lines for `+                if g.is_directed(): continue`",
    "created_at": "2019-04-01T21:47:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426230",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:22" align="right">comment:22</div>

Some comments on the current code. Of course, a version directly using boost could be better.

- add an empty line between each input parameter, e.g., before

```
+    - ``predecessors`` -- boolean (default: ``False``); whether to return the
```


- you can type some variables. For instance

```diff
-    dist = {}
-    pred = {}
+    cdef dict dist = {}
+    cdef dict pred = {}
```

- you can improve the alignment (although I'm not fully sure of the correct pep8 for this one)

```diff
-        dist = {int_to_v[v]: {int_to_v[w]: correct_type(result[v][w])
-                     for w in range(N) if result[v][w] != sys.float_info.max}
-             for v in range(N)}
+        dist = {int_to_v[v]: {int_to_v[w]: correct_type(result[v][w])
+                              for w in range(N) if result[v][w] != sys.float_info.max}
+                for v in range(N)}
```

- you could define integer variables for `v_to_int[u]`, `v_to_int[v]`

- add a space after `#` in `+            #dst is the weight of the edge (e[0], e[1])`

- no `;` at the end of `+                    continue;`

- use 2 lines for `+                if g.is_directed(): continue`



---

archive/issue_comments_426231.json:
```json
{
    "body": "Changed commit from **[`8e8799d`](https://github.com/sagemath/sagetrac-mirror/commit/8e8799d9799ca2e915b65a4fd5b5e6bae663c04f)** to **[`b10779f`](https://github.com/sagemath/sagetrac-mirror/commit/b10779ff182689113014532c7820e409db736dbb)**",
    "created_at": "2019-04-02T14:45:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426231",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8e8799d`](https://github.com/sagemath/sagetrac-mirror/commit/8e8799d9799ca2e915b65a4fd5b5e6bae663c04f)** to **[`b10779f`](https://github.com/sagemath/sagetrac-mirror/commit/b10779ff182689113014532c7820e409db736dbb)**



---

archive/issue_comments_426232.json:
```json
{
    "body": "<div id=\"comment:23\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b10779ff182689113014532c7820e409db736dbb\">b10779f</a></td><td><code>Fixed minor code issues</code></td></tr></table>\n",
    "created_at": "2019-04-02T14:45:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426232",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b10779ff182689113014532c7820e409db736dbb">b10779f</a></td><td><code>Fixed minor code issues</code></td></tr></table>




---

archive/issue_comments_426233.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nFixed. I will now expose boost Floyd Warshall algorithm implementation to [SageMath](../wiki/SageMath) and then try to use boost to speed up both these methods.",
    "created_at": "2019-04-02T14:47:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426233",
    "user": "https://github.com/giorgosgiapis"
}
```

<div id="comment:24" align="right">comment:24</div>

Fixed. I will now expose boost Floyd Warshall algorithm implementation to [SageMath](../wiki/SageMath) and then try to use boost to speed up both these methods.



---

archive/issue_comments_426234.json:
```json
{
    "body": "Changed commit from **[`b10779f`](https://github.com/sagemath/sagetrac-mirror/commit/b10779ff182689113014532c7820e409db736dbb)** to **[`1d65ba1`](https://github.com/sagemath/sagetrac-mirror/commit/1d65ba196676ee61276d0ffb33e21dcbea8a02a8)**",
    "created_at": "2019-04-02T16:24:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426234",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b10779f`](https://github.com/sagemath/sagetrac-mirror/commit/b10779ff182689113014532c7820e409db736dbb)** to **[`1d65ba1`](https://github.com/sagemath/sagetrac-mirror/commit/1d65ba196676ee61276d0ffb33e21dcbea8a02a8)**



---

archive/issue_comments_426235.json:
```json
{
    "body": "<div id=\"comment:25\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1d65ba196676ee61276d0ffb33e21dcbea8a02a8\">1d65ba1</a></td><td><code>Added Floyd-Warshall boost implementation</code></td></tr></table>\n",
    "created_at": "2019-04-02T16:24:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426235",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:25"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1d65ba196676ee61276d0ffb33e21dcbea8a02a8">1d65ba1</a></td><td><code>Added Floyd-Warshall boost implementation</code></td></tr></table>




---

archive/issue_comments_426236.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nI think the main difficulty with boost is to understand how to iterate over weighted edges... and possibly also over vertices.",
    "created_at": "2019-04-02T16:34:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426236",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:26" align="right">comment:26</div>

I think the main difficulty with boost is to understand how to iterate over weighted edges... and possibly also over vertices.



---

archive/issue_comments_426237.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@dcoudert](#comment:26):\n> I think the main difficulty with boost is to understand how to iterate over weighted edges... and possibly also over vertices.\n\nThis is true. That's why I finished with everything else so as to spend some time working just on this one.",
    "created_at": "2019-04-02T16:45:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426237",
    "user": "https://github.com/giorgosgiapis"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@dcoudert](#comment:26):
> I think the main difficulty with boost is to understand how to iterate over weighted edges... and possibly also over vertices.

This is true. That's why I finished with everything else so as to spend some time working just on this one.



---

archive/issue_comments_426238.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\ncan you:\n- ensure that comments and documentaiton are aligned in 80 columns mode. Not the case in Floyd Warshall at least\n\n- avoid double empty lines when only 1 is sufficient\n\n- add `cdef int u_int, v_int` in both methods\n\n- either find a way to iterate over the edges of the boost graph as already discussed, or at least use `for e in g.edge_iterator():` instead of `for e in g.edges():`. Indeed, `.edges()` sorts edges by default and we don't need that here.",
    "created_at": "2019-04-09T12:25:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426238",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:28" align="right">comment:28</div>

can you:
- ensure that comments and documentaiton are aligned in 80 columns mode. Not the case in Floyd Warshall at least

- avoid double empty lines when only 1 is sufficient

- add `cdef int u_int, v_int` in both methods

- either find a way to iterate over the edges of the boost graph as already discussed, or at least use `for e in g.edge_iterator():` instead of `for e in g.edges():`. Indeed, `.edges()` sorts edges by default and we don't need that here.



---

archive/issue_comments_426239.json:
```json
{
    "body": "Changed commit from **[`1d65ba1`](https://github.com/sagemath/sagetrac-mirror/commit/1d65ba196676ee61276d0ffb33e21dcbea8a02a8)** to **[`2333057`](https://github.com/sagemath/sagetrac-mirror/commit/2333057647264bfff1966030a34082c42b9b126f)**",
    "created_at": "2019-04-09T14:02:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426239",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1d65ba1`](https://github.com/sagemath/sagetrac-mirror/commit/1d65ba196676ee61276d0ffb33e21dcbea8a02a8)** to **[`2333057`](https://github.com/sagemath/sagetrac-mirror/commit/2333057647264bfff1966030a34082c42b9b126f)**



---

archive/issue_comments_426240.json:
```json
{
    "body": "<div id=\"comment:29\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2333057647264bfff1966030a34082c42b9b126f\">2333057</a></td><td><code>Fixed minor issues</code></td></tr></table>\n",
    "created_at": "2019-04-09T14:02:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426240",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:29"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2333057647264bfff1966030a34082c42b9b126f">2333057</a></td><td><code>Fixed minor issues</code></td></tr></table>




---

archive/issue_comments_426241.json:
```json
{
    "body": "<div id=\"comment:30\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b76dd9bd9409c3fb18b48ef006b869268cd6f81c\">b76dd9b</a></td><td><code>Fixed comments and documentation</code></td></tr></table>\n",
    "created_at": "2019-04-09T14:14:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426241",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:30"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b76dd9bd9409c3fb18b48ef006b869268cd6f81c">b76dd9b</a></td><td><code>Fixed comments and documentation</code></td></tr></table>




---

archive/issue_comments_426242.json:
```json
{
    "body": "Changed commit from **[`2333057`](https://github.com/sagemath/sagetrac-mirror/commit/2333057647264bfff1966030a34082c42b9b126f)** to **[`b76dd9b`](https://github.com/sagemath/sagetrac-mirror/commit/b76dd9bd9409c3fb18b48ef006b869268cd6f81c)**",
    "created_at": "2019-04-09T14:14:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426242",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2333057`](https://github.com/sagemath/sagetrac-mirror/commit/2333057647264bfff1966030a34082c42b9b126f)** to **[`b76dd9b`](https://github.com/sagemath/sagetrac-mirror/commit/b76dd9bd9409c3fb18b48ef006b869268cd6f81c)**



---

archive/issue_comments_426243.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nReplying to [@dcoudert](#comment:28):\n> can you:\n> - ensure that comments and documentaiton are aligned in 80 columns mode. Not the case in Floyd Warshall at least\n> \n> - avoid double empty lines when only 1 is sufficient\n> \n> - add `cdef int u_int, v_int` in both methods\n> \n> - either find a way to iterate over the edges of the boost graph as already discussed, or at least use `for e in g.edge_iterator():` instead of `for e in g.edges():`. Indeed, `.edges()` sorts edges by default and we don't need that here.\n\n\\\\\nI think I fixed everything. If you find anything wrong please let me know.",
    "created_at": "2019-04-09T14:15:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426243",
    "user": "https://github.com/giorgosgiapis"
}
```

<div id="comment:31" align="right">comment:31</div>

Replying to [@dcoudert](#comment:28):
> can you:
> - ensure that comments and documentaiton are aligned in 80 columns mode. Not the case in Floyd Warshall at least
> 
> - avoid double empty lines when only 1 is sufficient
> 
> - add `cdef int u_int, v_int` in both methods
> 
> - either find a way to iterate over the edges of the boost graph as already discussed, or at least use `for e in g.edge_iterator():` instead of `for e in g.edges():`. Indeed, `.edges()` sorts edges by default and we don't need that here.

\\
I think I fixed everything. If you find anything wrong please let me know.



---

archive/issue_comments_426244.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\n- this statement is incorrect as edge weights are not always 1. Better to say that `w` is a predecessor of `v` on a shortest path from `u` to `v`. \n\n```\n+    `v` and ``predecessors[u][v]`` denotes a neighbor `w` of `v` such that\n+    `dist(u,v) = 1 + dist(u,w)`.\n```\n\n- pep8\n\n```diff\n-        pred = {v : {v : None} for v in g}\n+        pred = {v: {v: None} for v in g}\n```\n\n- why are you using `cpdef`. Any particular reason for that ? `cdef` might be enough here, no ?\n\n- no need for `dst = 0` as you assign another value to dst just after\n\n- To avoid code ducplication, you could have a method that, given the graph, the `result`, and all needed parameters, return the predecessor matrix.",
    "created_at": "2019-04-10T09:59:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426244",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:32" align="right">comment:32</div>

- this statement is incorrect as edge weights are not always 1. Better to say that `w` is a predecessor of `v` on a shortest path from `u` to `v`. 

```
+    `v` and ``predecessors[u][v]`` denotes a neighbor `w` of `v` such that
+    `dist(u,v) = 1 + dist(u,w)`.
```

- pep8

```diff
-        pred = {v : {v : None} for v in g}
+        pred = {v: {v: None} for v in g}
```

- why are you using `cpdef`. Any particular reason for that ? `cdef` might be enough here, no ?

- no need for `dst = 0` as you assign another value to dst just after

- To avoid code ducplication, you could have a method that, given the graph, the `result`, and all needed parameters, return the predecessor matrix.



---

archive/issue_comments_426245.json:
```json
{
    "body": "<div id=\"comment:33\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/76bfdaa5a47fc65bb99600201258c8b3cd9dc08a\">76bfdaa</a></td><td><code>Fixed documentation and added new method</code></td></tr></table>\n",
    "created_at": "2019-04-10T11:00:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426245",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:33"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/76bfdaa5a47fc65bb99600201258c8b3cd9dc08a">76bfdaa</a></td><td><code>Fixed documentation and added new method</code></td></tr></table>




---

archive/issue_comments_426246.json:
```json
{
    "body": "Changed commit from **[`b76dd9b`](https://github.com/sagemath/sagetrac-mirror/commit/b76dd9bd9409c3fb18b48ef006b869268cd6f81c)** to **[`76bfdaa`](https://github.com/sagemath/sagetrac-mirror/commit/76bfdaa5a47fc65bb99600201258c8b3cd9dc08a)**",
    "created_at": "2019-04-10T11:00:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426246",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b76dd9b`](https://github.com/sagemath/sagetrac-mirror/commit/b76dd9bd9409c3fb18b48ef006b869268cd6f81c)** to **[`76bfdaa`](https://github.com/sagemath/sagetrac-mirror/commit/76bfdaa5a47fc65bb99600201258c8b3cd9dc08a)**



---

archive/issue_comments_426247.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\n`get_predecessors`:\n- you can shorten the text like\n\n```diff\n-    Given the shortest distances between all pairs of vertices in a graph return\n-    the predecessors matrix.\n+    Return the predecessor matrix from the distance matrix of the graph.\n```\n\n- I propose to simplify the weight function definition and to force to give one. So for the text:\n\n```\n    - ``weight_function`` -- function; a function that takes as input an edge\n      ``(u, v, l)`` and outputs its weight. If ``weight_function`` is ``None``\n      and the graph is weighted, then use the edge weight. Otherwise all edges\n      have weight 1.\n```\n\n- output\n\n```\nA dictionary of dictionaries ``pred`` such that ``pred[u][v]`` indicates the predecessor  of `v` in the shortest path from `u` to `v`.\n```\n\n- don't do `import sys` inside the loop. If you need it, do that before the loop.\n\n\n`johnson_shortest_paths`:\n- improvement\n\n```diff\n-    `v` and ``predecessors[u][v]`` denotes a neighbor `w` of `v` such that\n-    it lies on the shortest path from `u` to `v`.\n+    `v` and ``predecessors[u][v]`` indicates the predecessor of `w` on a\n+    shortest path from `u` to `v`.\n```\n\n\n`floyd_warshall_shortest_paths`:\n- avoid double blank lines\n\n- output: same comment than above\n\n\nIn `generic_graph.py`, method `shortest_path_all_pairs`: you must update the output section by removing the note on Johnson algorithm.\n\n\nHave you tried to use the boost graph to iterate over edges, get edge weights, etc. ?\nIt's a pity to use the weight function in `get_predecessors` when all weights with correct value are recorded on the edges of the boost graph.",
    "created_at": "2019-04-12T09:39:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426247",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:34" align="right">comment:34</div>

`get_predecessors`:
- you can shorten the text like

```diff
-    Given the shortest distances between all pairs of vertices in a graph return
-    the predecessors matrix.
+    Return the predecessor matrix from the distance matrix of the graph.
```

- I propose to simplify the weight function definition and to force to give one. So for the text:

```
    - ``weight_function`` -- function; a function that takes as input an edge
      ``(u, v, l)`` and outputs its weight. If ``weight_function`` is ``None``
      and the graph is weighted, then use the edge weight. Otherwise all edges
      have weight 1.
```

- output

```
A dictionary of dictionaries ``pred`` such that ``pred[u][v]`` indicates the predecessor  of `v` in the shortest path from `u` to `v`.
```

- don't do `import sys` inside the loop. If you need it, do that before the loop.


`johnson_shortest_paths`:
- improvement

```diff
-    `v` and ``predecessors[u][v]`` denotes a neighbor `w` of `v` such that
-    it lies on the shortest path from `u` to `v`.
+    `v` and ``predecessors[u][v]`` indicates the predecessor of `w` on a
+    shortest path from `u` to `v`.
```


`floyd_warshall_shortest_paths`:
- avoid double blank lines

- output: same comment than above


In `generic_graph.py`, method `shortest_path_all_pairs`: you must update the output section by removing the note on Johnson algorithm.


Have you tried to use the boost graph to iterate over edges, get edge weights, etc. ?
It's a pity to use the weight function in `get_predecessors` when all weights with correct value are recorded on the edges of the boost graph.



---

archive/issue_comments_426248.json:
```json
{
    "body": "Changed commit from **[`76bfdaa`](https://github.com/sagemath/sagetrac-mirror/commit/76bfdaa5a47fc65bb99600201258c8b3cd9dc08a)** to **[`533545d`](https://github.com/sagemath/sagetrac-mirror/commit/533545d45da6ee0e4dd9969eb83fe590a3d28e5d)**",
    "created_at": "2019-04-12T21:03:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426248",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`76bfdaa`](https://github.com/sagemath/sagetrac-mirror/commit/76bfdaa5a47fc65bb99600201258c8b3cd9dc08a)** to **[`533545d`](https://github.com/sagemath/sagetrac-mirror/commit/533545d45da6ee0e4dd9969eb83fe590a3d28e5d)**



---

archive/issue_comments_426249.json:
```json
{
    "body": "<div id=\"comment:35\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/533545d45da6ee0e4dd9969eb83fe590a3d28e5d\">533545d</a></td><td><code>Improved code and documentation</code></td></tr></table>\n",
    "created_at": "2019-04-12T21:03:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426249",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:35"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/533545d45da6ee0e4dd9969eb83fe590a3d28e5d">533545d</a></td><td><code>Improved code and documentation</code></td></tr></table>




---

archive/issue_comments_426250.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nFixed everything. Tomorrow I will try to use boost edge iterator in `get_predecessors`.",
    "created_at": "2019-04-12T21:06:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426250",
    "user": "https://github.com/giorgosgiapis"
}
```

<div id="comment:36" align="right">comment:36</div>

Fixed everything. Tomorrow I will try to use boost edge iterator in `get_predecessors`.



---

archive/issue_comments_426251.json:
```json
{
    "body": "Changed commit from **[`533545d`](https://github.com/sagemath/sagetrac-mirror/commit/533545d45da6ee0e4dd9969eb83fe590a3d28e5d)** to **[`328e02b`](https://github.com/sagemath/sagetrac-mirror/commit/328e02b05ced4164574de385838584400c6f44cd)**",
    "created_at": "2019-04-12T22:15:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426251",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`533545d`](https://github.com/sagemath/sagetrac-mirror/commit/533545d45da6ee0e4dd9969eb83fe590a3d28e5d)** to **[`328e02b`](https://github.com/sagemath/sagetrac-mirror/commit/328e02b05ced4164574de385838584400c6f44cd)**



---

archive/issue_comments_426252.json:
```json
{
    "body": "<div id=\"comment:37\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/328e02b05ced4164574de385838584400c6f44cd\">328e02b</a></td><td><code>Fixed documentation on generic_graph.py</code></td></tr></table>\n",
    "created_at": "2019-04-12T22:15:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426252",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:37"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/328e02b05ced4164574de385838584400c6f44cd">328e02b</a></td><td><code>Fixed documentation on generic_graph.py</code></td></tr></table>




---

archive/issue_comments_426253.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nany progress on using boost edge iterator ?\n\nin your last commit, you remove the empty line before `.. NOTE::`. Please put it back.",
    "created_at": "2019-04-20T09:31:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426253",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:38" align="right">comment:38</div>

any progress on using boost edge iterator ?

in your last commit, you remove the empty line before `.. NOTE::`. Please put it back.



---

archive/issue_comments_426254.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nReplying to [@dcoudert](#comment:38):\n> any progress on using boost edge iterator ?\n> \n> in your last commit, you remove the empty line before `.. NOTE::`. Please put it back.\n>  \n\nI'm working on it. I will probably have it ready in the next 3-4 days.",
    "created_at": "2019-04-20T18:56:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426254",
    "user": "https://github.com/giorgosgiapis"
}
```

<div id="comment:39" align="right">comment:39</div>

Replying to [@dcoudert](#comment:38):
> any progress on using boost edge iterator ?
> 
> in your last commit, you remove the empty line before `.. NOTE::`. Please put it back.
>  

I'm working on it. I will probably have it ready in the next 3-4 days.



---

archive/issue_comments_426255.json:
```json
{
    "body": "Changed commit from **[`328e02b`](https://github.com/sagemath/sagetrac-mirror/commit/328e02b05ced4164574de385838584400c6f44cd)** to **[`b68078a`](https://github.com/sagemath/sagetrac-mirror/commit/b68078a91af0db8906264be3154c0ab81f60922a)**",
    "created_at": "2019-04-30T16:22:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426255",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`328e02b`](https://github.com/sagemath/sagetrac-mirror/commit/328e02b05ced4164574de385838584400c6f44cd)** to **[`b68078a`](https://github.com/sagemath/sagetrac-mirror/commit/b68078a91af0db8906264be3154c0ab81f60922a)**



---

archive/issue_comments_426256.json:
```json
{
    "body": "<div id=\"comment:40\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b68078a91af0db8906264be3154c0ab81f60922a\">b68078a</a></td><td><code>get_predecessors now uses boost graph</code></td></tr></table>\n",
    "created_at": "2019-04-30T16:22:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426256",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:40"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b68078a91af0db8906264be3154c0ab81f60922a">b68078a</a></td><td><code>get_predecessors now uses boost graph</code></td></tr></table>




---

archive/issue_comments_426257.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nI am sorry for the delay but I think I fixed it. Now `get_predecessors` uses boost edge iterator. Please let me know if there is anything else that needs to be done.",
    "created_at": "2019-04-30T16:26:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426257",
    "user": "https://github.com/giorgosgiapis"
}
```

<div id="comment:41" align="right">comment:41</div>

I am sorry for the delay but I think I fixed it. Now `get_predecessors` uses boost edge iterator. Please let me know if there is anything else that needs to be done.



---

archive/issue_comments_426258.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nGood news !\n\nPlease check that it's working well for directed and undirected graphs (add appropriate doctests). You might have a type problem when calling `get_predecessor`.",
    "created_at": "2019-04-30T16:31:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426258",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:42" align="right">comment:42</div>

Good news !

Please check that it's working well for directed and undirected graphs (add appropriate doctests). You might have a type problem when calling `get_predecessor`.



---

archive/issue_comments_426259.json:
```json
{
    "body": "<div id=\"comment:43\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1754628b6123d33f61026a5013fea25169d93201\">1754628</a></td><td><code>Fixed type issues</code></td></tr></table>\n",
    "created_at": "2019-04-30T16:54:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426259",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:43"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1754628b6123d33f61026a5013fea25169d93201">1754628</a></td><td><code>Fixed type issues</code></td></tr></table>




---

archive/issue_comments_426260.json:
```json
{
    "body": "Changed commit from **[`b68078a`](https://github.com/sagemath/sagetrac-mirror/commit/b68078a91af0db8906264be3154c0ab81f60922a)** to **[`1754628`](https://github.com/sagemath/sagetrac-mirror/commit/1754628b6123d33f61026a5013fea25169d93201)**",
    "created_at": "2019-04-30T16:54:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426260",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b68078a`](https://github.com/sagemath/sagetrac-mirror/commit/b68078a91af0db8906264be3154c0ab81f60922a)** to **[`1754628`](https://github.com/sagemath/sagetrac-mirror/commit/1754628b6123d33f61026a5013fea25169d93201)**



---

archive/issue_comments_426261.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nReplying to [@dcoudert](#comment:42):\n> Good news !\n> \n> Please check that it's working well for directed and undirected graphs (add appropriate doctests). You might have a type problem when calling `get_predecessor`. \n\nRunning some tests seem to produce the right answer. I did, however, pass the correct edge type to `get_predecessors` and cast all edge weights to that type.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1754628b6123d33f61026a5013fea25169d93201\">1754628</a></td><td><code>Fixed type issues</code></td></tr></table>\n",
    "created_at": "2019-04-30T16:56:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426261",
    "user": "https://github.com/giorgosgiapis"
}
```

<div id="comment:44" align="right">comment:44</div>

Replying to [@dcoudert](#comment:42):
> Good news !
> 
> Please check that it's working well for directed and undirected graphs (add appropriate doctests). You might have a type problem when calling `get_predecessor`. 

Running some tests seem to produce the right answer. I did, however, pass the correct edge type to `get_predecessors` and cast all edge weights to that type.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1754628b6123d33f61026a5013fea25169d93201">1754628</a></td><td><code>Fixed type issues</code></td></tr></table>




---

archive/issue_comments_426262.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nin method `get_predecessors`:\n- `int_to_v` is a list, so please update the description of input parameters and do:\n\n```diff\n-    pred = {int_to_v[i]: {int_to_v[i]: None} for i in range(0, N)}\n+    cdef dict pred = {v: {v: None} for v in int_to_v}\n``` \n\nin `floyd_warshall_shortest_paths`\n- ensure that all comments are in 80 columns mode\n- in the call `pred = get_predecessors(g_boost_dir, result, int_to_v, directed=True, weight_type=correct_type)`, there is no need for `directed=` and `weight_type=` as these parameters are not optional",
    "created_at": "2019-05-01T17:17:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426262",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:45" align="right">comment:45</div>

in method `get_predecessors`:
- `int_to_v` is a list, so please update the description of input parameters and do:

```diff
-    pred = {int_to_v[i]: {int_to_v[i]: None} for i in range(0, N)}
+    cdef dict pred = {v: {v: None} for v in int_to_v}
``` 

in `floyd_warshall_shortest_paths`
- ensure that all comments are in 80 columns mode
- in the call `pred = get_predecessors(g_boost_dir, result, int_to_v, directed=True, weight_type=correct_type)`, there is no need for `directed=` and `weight_type=` as these parameters are not optional



---

archive/issue_comments_426263.json:
```json
{
    "body": "Changed commit from **[`1754628`](https://github.com/sagemath/sagetrac-mirror/commit/1754628b6123d33f61026a5013fea25169d93201)** to **[`dc8a9e1`](https://github.com/sagemath/sagetrac-mirror/commit/dc8a9e1cdd2e7e39b0e39b946ad4db960097b304)**",
    "created_at": "2019-05-01T21:46:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426263",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1754628`](https://github.com/sagemath/sagetrac-mirror/commit/1754628b6123d33f61026a5013fea25169d93201)** to **[`dc8a9e1`](https://github.com/sagemath/sagetrac-mirror/commit/dc8a9e1cdd2e7e39b0e39b946ad4db960097b304)**



---

archive/issue_comments_426264.json:
```json
{
    "body": "<div id=\"comment:46\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dc8a9e1cdd2e7e39b0e39b946ad4db960097b304\">dc8a9e1</a></td><td><code>Fixed minor issues</code></td></tr></table>\n",
    "created_at": "2019-05-01T21:46:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426264",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:46"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dc8a9e1cdd2e7e39b0e39b946ad4db960097b304">dc8a9e1</a></td><td><code>Fixed minor issues</code></td></tr></table>




---

archive/issue_comments_426265.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\ndon't forget to ensure that comments and documentation are in 80 columns mode. For instance, this is not\n\n```\n+    - ``distances`` -- boolean (default: ``True``); whether to return the dictionary\n```",
    "created_at": "2019-05-03T16:29:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426265",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:47" align="right">comment:47</div>

don't forget to ensure that comments and documentation are in 80 columns mode. For instance, this is not

```
+    - ``distances`` -- boolean (default: ``True``); whether to return the dictionary
```



---

archive/issue_comments_426266.json:
```json
{
    "body": "<div id=\"comment:48\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/495d610aff176350dc5bcddde123482cba7da494\">495d610</a></td><td><code>Comments and documentation are in 80 columns mode</code></td></tr></table>\n",
    "created_at": "2019-05-03T16:44:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426266",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:48"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/495d610aff176350dc5bcddde123482cba7da494">495d610</a></td><td><code>Comments and documentation are in 80 columns mode</code></td></tr></table>




---

archive/issue_comments_426267.json:
```json
{
    "body": "Changed commit from **[`dc8a9e1`](https://github.com/sagemath/sagetrac-mirror/commit/dc8a9e1cdd2e7e39b0e39b946ad4db960097b304)** to **[`495d610`](https://github.com/sagemath/sagetrac-mirror/commit/495d610aff176350dc5bcddde123482cba7da494)**",
    "created_at": "2019-05-03T16:44:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426267",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`dc8a9e1`](https://github.com/sagemath/sagetrac-mirror/commit/dc8a9e1cdd2e7e39b0e39b946ad4db960097b304)** to **[`495d610`](https://github.com/sagemath/sagetrac-mirror/commit/495d610aff176350dc5bcddde123482cba7da494)**



---

archive/issue_comments_426268.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nin `johnson_shortest_paths` too ;)",
    "created_at": "2019-05-03T18:45:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426268",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:49" align="right">comment:49</div>

in `johnson_shortest_paths` too ;)



---

archive/issue_comments_426269.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nReplying to [@dcoudert](#comment:49):\n> in `johnson_shortest_paths` too ;)\n\nAre you sure there is a problem with `johnson_shortest_paths`? (I think I fixed everything in the previous commit)",
    "created_at": "2019-05-03T19:00:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426269",
    "user": "https://github.com/giorgosgiapis"
}
```

<div id="comment:50" align="right">comment:50</div>

Replying to [@dcoudert](#comment:49):
> in `johnson_shortest_paths` too ;)

Are you sure there is a problem with `johnson_shortest_paths`? (I think I fixed everything in the previous commit)



---

archive/issue_comments_426270.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nI think this line for instance has length more that 80 \n\n```\n+    ``(distances, predecessors)`` where ``distance[u][v]`` denotes the distance of \n```",
    "created_at": "2019-05-04T08:53:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426270",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:51" align="right">comment:51</div>

I think this line for instance has length more that 80 

```
+    ``(distances, predecessors)`` where ``distance[u][v]`` denotes the distance of 
```



---

archive/issue_comments_426271.json:
```json
{
    "body": "<div id=\"comment:52\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e26d63d525a46211ee56d453df0768cab4099dba\">e26d63d</a></td><td><code>Fixed issues with comments and documentation</code></td></tr></table>\n",
    "created_at": "2019-05-04T11:35:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426271",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:52"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e26d63d525a46211ee56d453df0768cab4099dba">e26d63d</a></td><td><code>Fixed issues with comments and documentation</code></td></tr></table>




---

archive/issue_comments_426272.json:
```json
{
    "body": "Changed commit from **[`495d610`](https://github.com/sagemath/sagetrac-mirror/commit/495d610aff176350dc5bcddde123482cba7da494)** to **[`e26d63d`](https://github.com/sagemath/sagetrac-mirror/commit/e26d63d525a46211ee56d453df0768cab4099dba)**",
    "created_at": "2019-05-04T11:35:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426272",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`495d610`](https://github.com/sagemath/sagetrac-mirror/commit/495d610aff176350dc5bcddde123482cba7da494)** to **[`e26d63d`](https://github.com/sagemath/sagetrac-mirror/commit/e26d63d525a46211ee56d453df0768cab4099dba)**



---

archive/issue_comments_426273.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nReplying to [@dcoudert](#comment:51):\n> I think this line for instance has length more that 80 \n> \n> ```\n> +    ``(distances, predecessors)`` where ``distance[u][v]`` denotes the distance of \n> ```\n\nYou are right. Everything should be ok now (I think).",
    "created_at": "2019-05-04T11:36:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426273",
    "user": "https://github.com/giorgosgiapis"
}
```

<div id="comment:53" align="right">comment:53</div>

Replying to [@dcoudert](#comment:51):
> I think this line for instance has length more that 80 
> 
> ```
> +    ``(distances, predecessors)`` where ``distance[u][v]`` denotes the distance of 
> ```

You are right. Everything should be ok now (I think).



---

archive/issue_comments_426274.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nYou still have to expose methods `floyd_warshall_shortest_paths` and `johnson_shortest_paths` from method `shortest_path_all_pairs` of `generic_graph.py`. \n\nDon't forget to add required doctests.",
    "created_at": "2019-05-04T12:35:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426274",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:54" align="right">comment:54</div>

You still have to expose methods `floyd_warshall_shortest_paths` and `johnson_shortest_paths` from method `shortest_path_all_pairs` of `generic_graph.py`. 

Don't forget to add required doctests.



---

archive/issue_comments_426275.json:
```json
{
    "body": "<div id=\"comment:55\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ee720d465143f5143281edf88698ed8e69310545\">ee720d4</a></td><td><code>Modified shortest_path_all_pairs method in generic_graph.py</code></td></tr></table>\n",
    "created_at": "2019-05-04T13:22:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426275",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:55"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ee720d465143f5143281edf88698ed8e69310545">ee720d4</a></td><td><code>Modified shortest_path_all_pairs method in generic_graph.py</code></td></tr></table>




---

archive/issue_comments_426276.json:
```json
{
    "body": "Changed commit from **[`e26d63d`](https://github.com/sagemath/sagetrac-mirror/commit/e26d63d525a46211ee56d453df0768cab4099dba)** to **[`ee720d4`](https://github.com/sagemath/sagetrac-mirror/commit/ee720d465143f5143281edf88698ed8e69310545)**",
    "created_at": "2019-05-04T13:22:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426276",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e26d63d`](https://github.com/sagemath/sagetrac-mirror/commit/e26d63d525a46211ee56d453df0768cab4099dba)** to **[`ee720d4`](https://github.com/sagemath/sagetrac-mirror/commit/ee720d465143f5143281edf88698ed8e69310545)**



---

archive/issue_comments_426277.json:
```json
{
    "body": "<div id=\"comment:56\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ef38d911514f201c7204d42f919ad6442ad505e3\">ef38d91</a></td><td><code>Fixed typo</code></td></tr></table>\n",
    "created_at": "2019-05-04T13:25:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426277",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:56"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ef38d911514f201c7204d42f919ad6442ad505e3">ef38d91</a></td><td><code>Fixed typo</code></td></tr></table>




---

archive/issue_comments_426278.json:
```json
{
    "body": "Changed commit from **[`ee720d4`](https://github.com/sagemath/sagetrac-mirror/commit/ee720d465143f5143281edf88698ed8e69310545)** to **[`ef38d91`](https://github.com/sagemath/sagetrac-mirror/commit/ef38d911514f201c7204d42f919ad6442ad505e3)**",
    "created_at": "2019-05-04T13:25:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426278",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ee720d4`](https://github.com/sagemath/sagetrac-mirror/commit/ee720d465143f5143281edf88698ed8e69310545)** to **[`ef38d91`](https://github.com/sagemath/sagetrac-mirror/commit/ef38d911514f201c7204d42f919ad6442ad505e3)**



---

archive/issue_comments_426279.json:
```json
{
    "body": "Changed commit from **[`ef38d91`](https://github.com/sagemath/sagetrac-mirror/commit/ef38d911514f201c7204d42f919ad6442ad505e3)** to **[`803af4e`](https://github.com/sagemath/sagetrac-mirror/commit/803af4ef7e33181484e7472a3a71bed96e65bf2e)**",
    "created_at": "2019-05-06T16:55:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426279",
    "user": "https://github.com/dcoudert"
}
```

Changed commit from **[`ef38d91`](https://github.com/sagemath/sagetrac-mirror/commit/ef38d911514f201c7204d42f919ad6442ad505e3)** to **[`803af4e`](https://github.com/sagemath/sagetrac-mirror/commit/803af4ef7e33181484e7472a3a71bed96e65bf2e)**



---

archive/issue_comments_426280.json:
```json
{
    "body": "Changed branch from **[u/gh-giorgosgiapis/weighted_floyd_warshall](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-giorgosgiapis/weighted_floyd_warshall)** to **[public/graphs/27518_floyd_warshall_boost](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/27518_floyd_warshall_boost)**",
    "created_at": "2019-05-06T16:55:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426280",
    "user": "https://github.com/dcoudert"
}
```

Changed branch from **[u/gh-giorgosgiapis/weighted_floyd_warshall](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-giorgosgiapis/weighted_floyd_warshall)** to **[public/graphs/27518_floyd_warshall_boost](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/27518_floyd_warshall_boost)**



---

archive/issue_comments_426281.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nI have rebased the branch on the last beta version and fixed the merge conflicts.\nI pushed a new branch. It is in `public/`, so you can access and modify it.\n\nPlease check that it's working well.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/803af4ef7e33181484e7472a3a71bed96e65bf2e\">803af4e</a></td><td><code>trac #27518: fix merge conflict with 8.8.beta4</code></td></tr></table>\n",
    "created_at": "2019-05-06T16:55:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426281",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:57" align="right">comment:57</div>

I have rebased the branch on the last beta version and fixed the merge conflicts.
I pushed a new branch. It is in `public/`, so you can access and modify it.

Please check that it's working well.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/803af4ef7e33181484e7472a3a71bed96e65bf2e">803af4e</a></td><td><code>trac #27518: fix merge conflict with 8.8.beta4</code></td></tr></table>




---

archive/issue_comments_426282.json:
```json
{
    "body": "<div id=\"comment:58\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2a26a6594180d69be8e784d6c2948e443407af04\">2a26a65</a></td><td><code>trac #27518: alignement</code></td></tr></table>\n",
    "created_at": "2019-05-08T15:48:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426282",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:58"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2a26a6594180d69be8e784d6c2948e443407af04">2a26a65</a></td><td><code>trac #27518: alignement</code></td></tr></table>




---

archive/issue_comments_426283.json:
```json
{
    "body": "Changed commit from **[`803af4e`](https://github.com/sagemath/sagetrac-mirror/commit/803af4ef7e33181484e7472a3a71bed96e65bf2e)** to **[`2a26a65`](https://github.com/sagemath/sagetrac-mirror/commit/2a26a6594180d69be8e784d6c2948e443407af04)**",
    "created_at": "2019-05-08T15:48:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426283",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`803af4e`](https://github.com/sagemath/sagetrac-mirror/commit/803af4ef7e33181484e7472a3a71bed96e65bf2e)** to **[`2a26a65`](https://github.com/sagemath/sagetrac-mirror/commit/2a26a6594180d69be8e784d6c2948e443407af04)**



---

archive/issue_comments_426284.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">comment:59</div>\n\nFor me this patch is good to go. I'm waiting confirmation from your side.",
    "created_at": "2019-05-08T15:50:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426284",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:59" align="right">comment:59</div>

For me this patch is good to go. I'm waiting confirmation from your side.



---

archive/issue_comments_426285.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">comment:60</div>\n\nReplying to [@dcoudert](#comment:59):\n> For me this patch is good to go. I'm waiting confirmation from your side.\n\nAfter some testing everything seems to work as expected so it is indeed good to go.",
    "created_at": "2019-05-08T15:55:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426285",
    "user": "https://github.com/giorgosgiapis"
}
```

<div id="comment:60" align="right">comment:60</div>

Replying to [@dcoudert](#comment:59):
> For me this patch is good to go. I'm waiting confirmation from your side.

After some testing everything seems to work as expected so it is indeed good to go.



---

archive/issue_events_377884.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2019-05-09T07:05:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27518#event-377884"
}
```



---

archive/issue_events_377885.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2019-05-09T07:05:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27518#event-377885"
}
```



---

archive/issue_comments_426286.json:
```json
{
    "body": "Reviewer: **David Coudert**",
    "created_at": "2019-05-09T07:05:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426286",
    "user": "https://github.com/dcoudert"
}
```

Reviewer: **David Coudert**



---

archive/issue_comments_426287.json:
```json
{
    "body": "<div id=\"comment:61\" align=\"right\">comment:61</div>\n\nPlease add your real name in `Authors` field.\n\nLGTM.",
    "created_at": "2019-05-09T07:05:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426287",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:61" align="right">comment:61</div>

Please add your real name in `Authors` field.

LGTM.



---

archive/issue_comments_426288.json:
```json
{
    "body": "Author: **Georgios Giapitzakis Tzintanos**",
    "created_at": "2019-05-09T07:10:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426288",
    "user": "https://github.com/giorgosgiapis"
}
```

Author: **Georgios Giapitzakis Tzintanos**



---

archive/issue_comments_426289.json:
```json
{
    "body": "<div id=\"comment:63\" align=\"right\">comment:63</div>\n\nDocbuild fails, see patchbot",
    "created_at": "2019-05-12T21:45:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426289",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:63" align="right">comment:63</div>

Docbuild fails, see patchbot



---

archive/issue_events_377886.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-05-12T21:45:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27518#event-377886"
}
```



---

archive/issue_events_377887.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-05-12T21:45:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27518#event-377887"
}
```



---

archive/issue_comments_426290.json:
```json
{
    "body": "<div id=\"comment:64\" align=\"right\">comment:64</div>\n\nJust to make things clear, that is the failure I see\n\n```\nError building the documentation.\nmultiprocessing.pool.RemoteTraceback:\n\"\"\"\nTraceback (most recent call last):\n  File \"/usr/lib/python3.7/multiprocessing/pool.py\", line 121, in worker\n    result = (True, func(*args, **kwds))\n  File \"/usr/lib/python3.7/multiprocessing/pool.py\", line 44, in mapstar\n    return list(map(*args))\n  File \"/dev/shm/portage/sci-mathematics/sage-9999/work/sage-9999/src-python3_7/sage_setup/docbuild/__init__.py\", line 79, in build_ref_doc\n    getattr(ReferenceSubBuilder(doc, lang), format)(*args, **kwds)\n  File \"/dev/shm/portage/sci-mathematics/sage-9999/work/sage-9999/src-python3_7/sage_setup/docbuild/__init__.py\", line 761, in _wrapper\n    getattr(DocBuilder, build_type)(self, *args, **kwds)\n  File \"/dev/shm/portage/sci-mathematics/sage-9999/work/sage-9999/src-python3_7/sage_setup/docbuild/__init__.py\", line 133, in f\n    runsphinx()\n  File \"/dev/shm/portage/sci-mathematics/sage-9999/work/sage-9999/src-python3_7/sage_setup/docbuild/sphinxbuild.py\", line 317, in runsphinx\n    sys.stderr.raise_errors()\n  File \"/dev/shm/portage/sci-mathematics/sage-9999/work/sage-9999/src-python3_7/sage_setup/docbuild/sphinxbuild.py\", line 252, in raise_errors\n    raise OSError(self._error)\nOSError: docstring of sage.graphs.base.boost_graph.johnson_shortest_paths:18: WARNING: Definition list ends without a blank line; unexpected unindent.\n\"\"\"\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"sage_setup/docbuild/__main__.py\", line 2, in <module>\n    main()\n  File \"/dev/shm/portage/sci-mathematics/sage-9999/work/sage-9999/src-python3_7/sage_setup/docbuild/__init__.py\", line 1730, in main\n    builder()\n  File \"/dev/shm/portage/sci-mathematics/sage-9999/work/sage-9999/src-python3_7/sage_setup/docbuild/__init__.py\", line 351, in _wrapper\n    getattr(get_builder(document), 'inventory')(*args, **kwds)\n  File \"/dev/shm/portage/sci-mathematics/sage-9999/work/sage-9999/src-python3_7/sage_setup/docbuild/__init__.py\", line 547, in _wrapper\n    build_many(build_ref_doc, L)\n  File \"/dev/shm/portage/sci-mathematics/sage-9999/work/sage-9999/src-python3_7/sage_setup/docbuild/__init__.py\", line 288, in build_many\n    ret = x.get(99999)\n  File \"/usr/lib/python3.7/multiprocessing/pool.py\", line 657, in get\n    raise self._value\nOSError: docstring of sage.graphs.base.boost_graph.johnson_shortest_paths:18: WARNING: Definition list ends without a blank line; unexpected unindent.\n```\nit looks like a stray space at the start of line 1085 of `sage/graphs/base/boost_graph.pyx` [https://github.com/sagemath/sagetrac-mirror/blob/develop/src/sage/graphs/base/boost_graph.pyx?id=136cae2e3fb5f6dec8173f427da3321d49b0a835#n1085](https://github.com/sagemath/sagetrac-mirror/blob/develop/src/sage/graphs/base/boost_graph.pyx?id=136cae2e3fb5f6dec8173f427da3321d49b0a835#n1085) is the cause of the problem. Removing it makes the documentation build here.",
    "created_at": "2019-05-13T00:35:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426290",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:64" align="right">comment:64</div>

Just to make things clear, that is the failure I see

```
Error building the documentation.
multiprocessing.pool.RemoteTraceback:
"""
Traceback (most recent call last):
  File "/usr/lib/python3.7/multiprocessing/pool.py", line 121, in worker
    result = (True, func(*args, **kwds))
  File "/usr/lib/python3.7/multiprocessing/pool.py", line 44, in mapstar
    return list(map(*args))
  File "/dev/shm/portage/sci-mathematics/sage-9999/work/sage-9999/src-python3_7/sage_setup/docbuild/__init__.py", line 79, in build_ref_doc
    getattr(ReferenceSubBuilder(doc, lang), format)(*args, **kwds)
  File "/dev/shm/portage/sci-mathematics/sage-9999/work/sage-9999/src-python3_7/sage_setup/docbuild/__init__.py", line 761, in _wrapper
    getattr(DocBuilder, build_type)(self, *args, **kwds)
  File "/dev/shm/portage/sci-mathematics/sage-9999/work/sage-9999/src-python3_7/sage_setup/docbuild/__init__.py", line 133, in f
    runsphinx()
  File "/dev/shm/portage/sci-mathematics/sage-9999/work/sage-9999/src-python3_7/sage_setup/docbuild/sphinxbuild.py", line 317, in runsphinx
    sys.stderr.raise_errors()
  File "/dev/shm/portage/sci-mathematics/sage-9999/work/sage-9999/src-python3_7/sage_setup/docbuild/sphinxbuild.py", line 252, in raise_errors
    raise OSError(self._error)
OSError: docstring of sage.graphs.base.boost_graph.johnson_shortest_paths:18: WARNING: Definition list ends without a blank line; unexpected unindent.
"""

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "sage_setup/docbuild/__main__.py", line 2, in <module>
    main()
  File "/dev/shm/portage/sci-mathematics/sage-9999/work/sage-9999/src-python3_7/sage_setup/docbuild/__init__.py", line 1730, in main
    builder()
  File "/dev/shm/portage/sci-mathematics/sage-9999/work/sage-9999/src-python3_7/sage_setup/docbuild/__init__.py", line 351, in _wrapper
    getattr(get_builder(document), 'inventory')(*args, **kwds)
  File "/dev/shm/portage/sci-mathematics/sage-9999/work/sage-9999/src-python3_7/sage_setup/docbuild/__init__.py", line 547, in _wrapper
    build_many(build_ref_doc, L)
  File "/dev/shm/portage/sci-mathematics/sage-9999/work/sage-9999/src-python3_7/sage_setup/docbuild/__init__.py", line 288, in build_many
    ret = x.get(99999)
  File "/usr/lib/python3.7/multiprocessing/pool.py", line 657, in get
    raise self._value
OSError: docstring of sage.graphs.base.boost_graph.johnson_shortest_paths:18: WARNING: Definition list ends without a blank line; unexpected unindent.
```
it looks like a stray space at the start of line 1085 of `sage/graphs/base/boost_graph.pyx` [https://github.com/sagemath/sagetrac-mirror/blob/develop/src/sage/graphs/base/boost_graph.pyx?id=136cae2e3fb5f6dec8173f427da3321d49b0a835#n1085](https://github.com/sagemath/sagetrac-mirror/blob/develop/src/sage/graphs/base/boost_graph.pyx?id=136cae2e3fb5f6dec8173f427da3321d49b0a835#n1085) is the cause of the problem. Removing it makes the documentation build here.



---

archive/issue_comments_426291.json:
```json
{
    "body": "Changed commit from **[`2a26a65`](https://github.com/sagemath/sagetrac-mirror/commit/2a26a6594180d69be8e784d6c2948e443407af04)** to **[`dc082bb`](https://github.com/sagemath/sagetrac-mirror/commit/dc082bb5e6bee3644615fb5cbc62a44d7a52ed6a)**",
    "created_at": "2019-05-13T08:11:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426291",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2a26a65`](https://github.com/sagemath/sagetrac-mirror/commit/2a26a6594180d69be8e784d6c2948e443407af04)** to **[`dc082bb`](https://github.com/sagemath/sagetrac-mirror/commit/dc082bb5e6bee3644615fb5cbc62a44d7a52ed6a)**



---

archive/issue_comments_426292.json:
```json
{
    "body": "<div id=\"comment:65\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dc082bb5e6bee3644615fb5cbc62a44d7a52ed6a\">dc082bb</a></td><td><code>Fixed typo</code></td></tr></table>\n",
    "created_at": "2019-05-13T08:11:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426292",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:65"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dc082bb5e6bee3644615fb5cbc62a44d7a52ed6a">dc082bb</a></td><td><code>Fixed typo</code></td></tr></table>




---

archive/issue_comments_426293.json:
```json
{
    "body": "<div id=\"comment:66\" align=\"right\">comment:66</div>\n\nReplying to [@kiwifb](#comment:64):\n> Just to make things clear, that is the failure I see\n> \n> ```\n> Error building the documentation.\n> multiprocessing.pool.RemoteTraceback:\n> \"\"\"\n> Traceback (most recent call last):\n>   File \"/usr/lib/python3.7/multiprocessing/pool.py\", line 121, in worker\n>     result = (True, func(*args, **kwds))\n>   File \"/usr/lib/python3.7/multiprocessing/pool.py\", line 44, in mapstar\n>     return list(map(*args))\n>   File \"/dev/shm/portage/sci-mathematics/sage-9999/work/sage-9999/src-python3_7/sage_setup/docbuild/__init__.py\", line 79, in build_ref_doc\n>     getattr(ReferenceSubBuilder(doc, lang), format)(*args, **kwds)\n>   File \"/dev/shm/portage/sci-mathematics/sage-9999/work/sage-9999/src-python3_7/sage_setup/docbuild/__init__.py\", line 761, in _wrapper\n>     getattr(DocBuilder, build_type)(self, *args, **kwds)\n>   File \"/dev/shm/portage/sci-mathematics/sage-9999/work/sage-9999/src-python3_7/sage_setup/docbuild/__init__.py\", line 133, in f\n>     runsphinx()\n>   File \"/dev/shm/portage/sci-mathematics/sage-9999/work/sage-9999/src-python3_7/sage_setup/docbuild/sphinxbuild.py\", line 317, in runsphinx\n>     sys.stderr.raise_errors()\n>   File \"/dev/shm/portage/sci-mathematics/sage-9999/work/sage-9999/src-python3_7/sage_setup/docbuild/sphinxbuild.py\", line 252, in raise_errors\n>     raise OSError(self._error)\n> OSError: docstring of sage.graphs.base.boost_graph.johnson_shortest_paths:18: WARNING: Definition list ends without a blank line; unexpected unindent.\n> \"\"\"\n> \n> The above exception was the direct cause of the following exception:\n> \n> Traceback (most recent call last):\n>   File \"sage_setup/docbuild/__main__.py\", line 2, in <module>\n>     main()\n>   File \"/dev/shm/portage/sci-mathematics/sage-9999/work/sage-9999/src-python3_7/sage_setup/docbuild/__init__.py\", line 1730, in main\n>     builder()\n>   File \"/dev/shm/portage/sci-mathematics/sage-9999/work/sage-9999/src-python3_7/sage_setup/docbuild/__init__.py\", line 351, in _wrapper\n>     getattr(get_builder(document), 'inventory')(*args, **kwds)\n>   File \"/dev/shm/portage/sci-mathematics/sage-9999/work/sage-9999/src-python3_7/sage_setup/docbuild/__init__.py\", line 547, in _wrapper\n>     build_many(build_ref_doc, L)\n>   File \"/dev/shm/portage/sci-mathematics/sage-9999/work/sage-9999/src-python3_7/sage_setup/docbuild/__init__.py\", line 288, in build_many\n>     ret = x.get(99999)\n>   File \"/usr/lib/python3.7/multiprocessing/pool.py\", line 657, in get\n>     raise self._value\n> OSError: docstring of sage.graphs.base.boost_graph.johnson_shortest_paths:18: WARNING: Definition list ends without a blank line; unexpected unindent.\n> ```\n> it looks like a stray space at the start of line 1085 of `sage/graphs/base/boost_graph.pyx` [https://github.com/sagemath/sagetrac-mirror/blob/develop/src/sage/graphs/base/boost_graph.pyx?id=136cae2e3fb5f6dec8173f427da3321d49b0a835#n1085](https://github.com/sagemath/sagetrac-mirror/blob/develop/src/sage/graphs/base/boost_graph.pyx?id=136cae2e3fb5f6dec8173f427da3321d49b0a835#n1085) is the cause of the problem. Removing it makes the documentation build here.\n\nThank you for the info. Fixed it!",
    "created_at": "2019-05-13T08:16:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426293",
    "user": "https://github.com/giorgosgiapis"
}
```

<div id="comment:66" align="right">comment:66</div>

Replying to [@kiwifb](#comment:64):
> Just to make things clear, that is the failure I see
> 
> ```
> Error building the documentation.
> multiprocessing.pool.RemoteTraceback:
> """
> Traceback (most recent call last):
>   File "/usr/lib/python3.7/multiprocessing/pool.py", line 121, in worker
>     result = (True, func(*args, **kwds))
>   File "/usr/lib/python3.7/multiprocessing/pool.py", line 44, in mapstar
>     return list(map(*args))
>   File "/dev/shm/portage/sci-mathematics/sage-9999/work/sage-9999/src-python3_7/sage_setup/docbuild/__init__.py", line 79, in build_ref_doc
>     getattr(ReferenceSubBuilder(doc, lang), format)(*args, **kwds)
>   File "/dev/shm/portage/sci-mathematics/sage-9999/work/sage-9999/src-python3_7/sage_setup/docbuild/__init__.py", line 761, in _wrapper
>     getattr(DocBuilder, build_type)(self, *args, **kwds)
>   File "/dev/shm/portage/sci-mathematics/sage-9999/work/sage-9999/src-python3_7/sage_setup/docbuild/__init__.py", line 133, in f
>     runsphinx()
>   File "/dev/shm/portage/sci-mathematics/sage-9999/work/sage-9999/src-python3_7/sage_setup/docbuild/sphinxbuild.py", line 317, in runsphinx
>     sys.stderr.raise_errors()
>   File "/dev/shm/portage/sci-mathematics/sage-9999/work/sage-9999/src-python3_7/sage_setup/docbuild/sphinxbuild.py", line 252, in raise_errors
>     raise OSError(self._error)
> OSError: docstring of sage.graphs.base.boost_graph.johnson_shortest_paths:18: WARNING: Definition list ends without a blank line; unexpected unindent.
> """
> 
> The above exception was the direct cause of the following exception:
> 
> Traceback (most recent call last):
>   File "sage_setup/docbuild/__main__.py", line 2, in <module>
>     main()
>   File "/dev/shm/portage/sci-mathematics/sage-9999/work/sage-9999/src-python3_7/sage_setup/docbuild/__init__.py", line 1730, in main
>     builder()
>   File "/dev/shm/portage/sci-mathematics/sage-9999/work/sage-9999/src-python3_7/sage_setup/docbuild/__init__.py", line 351, in _wrapper
>     getattr(get_builder(document), 'inventory')(*args, **kwds)
>   File "/dev/shm/portage/sci-mathematics/sage-9999/work/sage-9999/src-python3_7/sage_setup/docbuild/__init__.py", line 547, in _wrapper
>     build_many(build_ref_doc, L)
>   File "/dev/shm/portage/sci-mathematics/sage-9999/work/sage-9999/src-python3_7/sage_setup/docbuild/__init__.py", line 288, in build_many
>     ret = x.get(99999)
>   File "/usr/lib/python3.7/multiprocessing/pool.py", line 657, in get
>     raise self._value
> OSError: docstring of sage.graphs.base.boost_graph.johnson_shortest_paths:18: WARNING: Definition list ends without a blank line; unexpected unindent.
> ```
> it looks like a stray space at the start of line 1085 of `sage/graphs/base/boost_graph.pyx` [https://github.com/sagemath/sagetrac-mirror/blob/develop/src/sage/graphs/base/boost_graph.pyx?id=136cae2e3fb5f6dec8173f427da3321d49b0a835#n1085](https://github.com/sagemath/sagetrac-mirror/blob/develop/src/sage/graphs/base/boost_graph.pyx?id=136cae2e3fb5f6dec8173f427da3321d49b0a835#n1085) is the cause of the problem. Removing it makes the documentation build here.

Thank you for the info. Fixed it!



---

archive/issue_comments_426294.json:
```json
{
    "body": "<div id=\"comment:67\" align=\"right\">comment:67</div>\n\n@kiwifb: can you check if it's ok ? I have an issue building the documentation that is not related to this ticket. Thank you.",
    "created_at": "2019-05-13T16:08:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426294",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:67" align="right">comment:67</div>

@kiwifb: can you check if it's ok ? I have an issue building the documentation that is not related to this ticket. Thank you.



---

archive/issue_comments_426295.json:
```json
{
    "body": "<div id=\"comment:68\" align=\"right\">comment:68</div>\n\nAll tests seem to pass now!",
    "created_at": "2019-05-14T12:39:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426295",
    "user": "https://github.com/giorgosgiapis"
}
```

<div id="comment:68" align="right">comment:68</div>

All tests seem to pass now!



---

archive/issue_events_377888.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2019-05-16T13:24:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27518#event-377888"
}
```



---

archive/issue_events_377889.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2019-05-16T13:24:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27518#event-377889"
}
```



---

archive/issue_comments_426296.json:
```json
{
    "body": "<div id=\"comment:69\" align=\"right\">comment:69</div>\n\nLGTM.",
    "created_at": "2019-05-16T13:24:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426296",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:69" align="right">comment:69</div>

LGTM.



---

archive/issue_events_377890.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-05-21T12:15:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27518#event-377890"
}
```



---

archive/issue_events_377891.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "f8b9a2a71735898f4a78db1afe513e8f257d64b3",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-05-21T12:15:53Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27518#event-377891"
}
```



---

archive/issue_comments_426297.json:
```json
{
    "body": "Changed branch from **[public/graphs/27518_floyd_warshall_boost](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/27518_floyd_warshall_boost)** to **[`dc082bb`](https://github.com/sagemath/sagetrac-mirror/commit/dc082bb5e6bee3644615fb5cbc62a44d7a52ed6a)**",
    "created_at": "2019-05-21T12:15:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27518#issuecomment-426297",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/graphs/27518_floyd_warshall_boost](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/27518_floyd_warshall_boost)** to **[`dc082bb`](https://github.com/sagemath/sagetrac-mirror/commit/dc082bb5e6bee3644615fb5cbc62a44d7a52ed6a)**
