# Issue 27098: Fixed wrong number of arguments for string format

archive/issues_026861.json:
```json
{
    "body": "The string format in line 338 of `src/sage/rings/function_field/function_field_valuation.py`\n`raise ValueError(\"there must not be an element of valuation -Infinity in the domain of valuation\"%(valuation,))`\nwas passing an argument but the string didn't have one.\nI've amended the string to accept the argument to:\n`raise ValueError(\"there must not be an element of valuation -Infinity in the domain of valuation %r\"%(valuation,))`\n\nI work for Semmle and I noticed the bug with our LGTM code analyzer\nhttps://lgtm.com/projects/g/sagemath/sage/snapshot/dist-132890344-1548102310071/files/src/sage/rings/function_field/function_field_valuation.py?sort=name&dir=ASC&mode=heatmap#x394f902069b4c04f:1\n\nCC:  @tscrim\n\nBranch/Commit: 854f2e98e846ea8200cc398f531ce185019e5bd5\n\nReviewer: Travis Scrimshaw\n\nAuthor: Fr\u00e9d\u00e9ric Chapoton\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/27098\n\n",
    "closed_at": "2019-01-27T10:50:54Z",
    "created_at": "2019-01-23T15:40:42Z",
    "labels": [
        "component: finite rings",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.7",
    "title": "Fixed wrong number of arguments for string format",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/27098",
    "user": "https://github.com/damianosSemmle"
}
```
The string format in line 338 of `src/sage/rings/function_field/function_field_valuation.py`
`raise ValueError("there must not be an element of valuation -Infinity in the domain of valuation"%(valuation,))`
was passing an argument but the string didn't have one.
I've amended the string to accept the argument to:
`raise ValueError("there must not be an element of valuation -Infinity in the domain of valuation %r"%(valuation,))`

I work for Semmle and I noticed the bug with our LGTM code analyzer
https://lgtm.com/projects/g/sagemath/sage/snapshot/dist-132890344-1548102310071/files/src/sage/rings/function_field/function_field_valuation.py?sort=name&dir=ASC&mode=heatmap#x394f902069b4c04f:1

CC:  @tscrim

Branch/Commit: 854f2e98e846ea8200cc398f531ce185019e5bd5

Reviewer: Travis Scrimshaw

Author: Frédéric Chapoton

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/27098





---

archive/issue_comments_377424.json:
```json
{
    "body": "Attachment [function_field_valuation.py](tarball://root/attachments/some-uuid/ticket27098/function_field_valuation.py) by @damianosSemmle created at 2019-01-23 15:41:28",
    "created_at": "2019-01-23T15:41:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27098#issuecomment-377424",
    "user": "https://github.com/damianosSemmle"
}
```

Attachment [function_field_valuation.py](tarball://root/attachments/some-uuid/ticket27098/function_field_valuation.py) by @damianosSemmle created at 2019-01-23 15:41:28



---

archive/issue_comments_377425.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-01-23T18:15:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27098#issuecomment-377425",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_377426.json:
```json
{
    "body": "<a id='comment:1'></a>to contribute, you must push a git branch to the trac server.\n\n---\nNew commits:",
    "created_at": "2019-01-23T18:15:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27098#issuecomment-377426",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'></a>to contribute, you must push a git branch to the trac server.

---
New commits:



---

archive/issue_comments_377427.json:
```json
{
    "body": "<a id='comment:2'></a>Hi Fr\u00e9d\u00e9ric, apologies I'm unfamiliar with the trac server. From clicking on the link of commit `854f2e9` I understand that the suggested changes have been committed by you. Thanks.",
    "created_at": "2019-01-24T09:35:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27098#issuecomment-377427",
    "user": "https://github.com/damianosSemmle"
}
```

<a id='comment:2'></a>Hi Frédéric, apologies I'm unfamiliar with the trac server. From clicking on the link of commit `854f2e9` I understand that the suggested changes have been committed by you. Thanks.



---

archive/issue_comments_377428.json:
```json
{
    "body": "<a id='comment:3'></a>Yes, that's right. I agree that trac is complicated. Sorry for not being more friendly, but I am very busy. You can try to use the gitlab setting for sagemath (https://gitlab.com/sagemath) to create pull request on trac.",
    "created_at": "2019-01-24T09:40:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27098#issuecomment-377428",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:3'></a>Yes, that's right. I agree that trac is complicated. Sorry for not being more friendly, but I am very busy. You can try to use the gitlab setting for sagemath (https://gitlab.com/sagemath) to create pull request on trac.



---

archive/issue_comments_377429.json:
```json
{
    "body": "<a id='comment:4'></a>thanks for the info I will do in the future.",
    "created_at": "2019-01-24T09:42:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27098#issuecomment-377429",
    "user": "https://github.com/damianosSemmle"
}
```

<a id='comment:4'></a>thanks for the info I will do in the future.



---

archive/issue_comments_377430.json:
```json
{
    "body": "<a id='comment:5'></a>green bot, please review",
    "created_at": "2019-01-25T07:46:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27098#issuecomment-377430",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:5'></a>green bot, please review



---

archive/issue_comments_377431.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to defect.",
    "created_at": "2019-01-25T13:46:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27098#issuecomment-377431",
    "user": "https://github.com/tscrim"
}
```

Changing type from PLEASE CHANGE to defect.



---

archive/issue_comments_377432.json:
```json
{
    "body": "<a id='comment:6'></a>LGTM. Thanks.",
    "created_at": "2019-01-25T13:46:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27098#issuecomment-377432",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:6'></a>LGTM. Thanks.



---

archive/issue_comments_377433.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-01-25T13:46:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27098#issuecomment-377433",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_377434.json:
```json
{
    "body": "<a id='comment:7'></a>No problem. You can check for more potential issues at https://lgtm.com/projects/g/sagemath/sage. LGTM can also catch bugs like this automatically with automated code review (https://lgtm.com/help/lgtm/about-automated-code-review). Unfortunately this is currently offered for `GitHub.com`, `Bitbucket` and `GitLab` for the free version of LGTM.",
    "created_at": "2019-01-25T15:17:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27098#issuecomment-377434",
    "user": "https://github.com/damianosSemmle"
}
```

<a id='comment:7'></a>No problem. You can check for more potential issues at https://lgtm.com/projects/g/sagemath/sage. LGTM can also catch bugs like this automatically with automated code review (https://lgtm.com/help/lgtm/about-automated-code-review). Unfortunately this is currently offered for `GitHub.com`, `Bitbucket` and `GitLab` for the free version of LGTM.



---

archive/issue_events_067329.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-01-27T10:50:54Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/27098",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27098#event-67329"
}
```



---

archive/issue_comments_377435.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-01-27T10:50:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27098",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27098#issuecomment-377435",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
