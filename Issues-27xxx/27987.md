# Issue 27987: CombinatorialPolyhedron improve initialization, remove bug for unbounded polyhedra

archive/issues_027750.json:
```json
{
    "assignees": [],
    "body": "`CombinatorialPolyhedron` as of #26887 only requires the number of lines (as `n_lines` in `Polyhedron_base`). This does not suffice, as\n\n```\nsage: P1 = Polyhedron(vertices=[[0,1],[1,0]], rays=[[1,1]])\nsage: P2 = Polyhedron(vertices=[[0,1],[1,0],[1,1]])\nsage: P1.incidence_matrix() == P2.incidence_matrix()\nTrue\n```\n\nInstead of just specifying the `n_lines`, one should specify `unbounded` and a far face.\n\nUnfortunately, determining the rays from just the incidence matrix does not seem to work.\n\nNow with the far face at hand anyway, it's much easier to determine the (combinatorial) vertices.\n\nCC:  @jplab @tscrim @videlec\n\nBranch/Commit: **[806a217](https://github.com/sagemath/sagetrac-mirror/commit/806a217944c9332ec3e09f153cbd589075d0fa0f)**\n\nReviewer: **Travis Scrimshaw**\n\nAuthor: **Jonathan Kliem**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/27987_\n\n",
    "closed_at": "2019-07-29T21:54:58Z",
    "created_at": "2019-06-14T06:50:42Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20geometry",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.9",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "CombinatorialPolyhedron improve initialization, remove bug for unbounded polyhedra",
    "type": "issue",
    "updated_at": "2019-07-29T21:54:58Z",
    "url": "https://github.com/sagemath/sage/issues/27987",
    "user": "https://github.com/kliem"
}
```
`CombinatorialPolyhedron` as of #26887 only requires the number of lines (as `n_lines` in `Polyhedron_base`). This does not suffice, as

```
sage: P1 = Polyhedron(vertices=[[0,1],[1,0]], rays=[[1,1]])
sage: P2 = Polyhedron(vertices=[[0,1],[1,0],[1,1]])
sage: P1.incidence_matrix() == P2.incidence_matrix()
True
```

Instead of just specifying the `n_lines`, one should specify `unbounded` and a far face.

Unfortunately, determining the rays from just the incidence matrix does not seem to work.

Now with the far face at hand anyway, it's much easier to determine the (combinatorial) vertices.

CC:  @jplab @tscrim @videlec

Branch/Commit: **[806a217](https://github.com/sagemath/sagetrac-mirror/commit/806a217944c9332ec3e09f153cbd589075d0fa0f)**

Reviewer: **Travis Scrimshaw**

Author: **Jonathan Kliem**

_Issue created by migration from https://trac.sagemath.org/ticket/27987_





---

archive/issue_events_352698.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2019-06-14T06:50:42Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27987",
    "milestone_number": null,
    "milestone_title": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27987#event-352698"
}
```



---

archive/issue_events_352699.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2019-06-14T06:50:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27987",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20geometry",
    "label_color": "0000ff",
    "label_name": "component: geometry",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27987#event-352699"
}
```



---

archive/issue_events_352700.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2019-06-14T06:50:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27987",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27987#event-352700"
}
```



---

archive/issue_events_352701.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2019-06-14T06:50:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27987",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27987#event-352701"
}
```



---

archive/issue_events_352702.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2019-06-14T06:53:14Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/27987",
    "title_is": "CombinatorialPolyhedron improve initialization, remove bug for unbounded polyhedra",
    "title_was": "`CombinatorialPolyhedron` improve initialization, remove bug for unbounded polyhedra",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27987#event-352702"
}
```



---

archive/issue_comments_438360.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nLast 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9b69f506441ea60af9a6c3c078359c533def1a13\">9b69f50</a></td><td><code>added documentation and examples to each module</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4e8fd8c582f29960f6fcf5808a0cab0d0daf5b57\">4e8fd8c</a></td><td><code>correct hyperlinks</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/72ac3b02a0210409f35b622b459fa05306fc97ba\">72ac3b0</a></td><td><code>documentation fix</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/611099f6ebb69e71dc590af00f150bc2e154a116\">611099f</a></td><td><code>Do not iterate twice for CombinatorialPolyhedron.facets()</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d38e1300355722815880dbd633863dd4d1b54173\">d38e130</a></td><td><code>added combinatorial face</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ca606656ddadfd4da9f98a74d0406b967a825698\">ca60665</a></td><td><code>improved docstring in list_of_all_faces</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/abe00b66751c26f756b7b247064f8db01d5b0f0e\">abe00b6</a></td><td><code>fixed small issues</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/87653135948037f4e385a8cb0896379cda1608d6\">8765313</a></td><td><code>A number of small edits.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/05ffcccf21328cc939ba157f5aeb45f3ba841438\">05ffccc</a></td><td><code>Merge branch 'public/26887' of git://trac.sagemath.org/sage into develop</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/39810e5194daea168c01f21b8f8efaeb24f5bf15\">39810e5</a></td><td><code>changed input of combintorial polyhedron</code></td></tr></table>\n",
    "created_at": "2019-06-14T13:39:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27987#issuecomment-438360",
    "user": "https://github.com/kliem"
}
```

<a id='comment:2'>Comment 2:</a>
Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9b69f506441ea60af9a6c3c078359c533def1a13">9b69f50</a></td><td><code>added documentation and examples to each module</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4e8fd8c582f29960f6fcf5808a0cab0d0daf5b57">4e8fd8c</a></td><td><code>correct hyperlinks</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/72ac3b02a0210409f35b622b459fa05306fc97ba">72ac3b0</a></td><td><code>documentation fix</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/611099f6ebb69e71dc590af00f150bc2e154a116">611099f</a></td><td><code>Do not iterate twice for CombinatorialPolyhedron.facets()</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d38e1300355722815880dbd633863dd4d1b54173">d38e130</a></td><td><code>added combinatorial face</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ca606656ddadfd4da9f98a74d0406b967a825698">ca60665</a></td><td><code>improved docstring in list_of_all_faces</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/abe00b66751c26f756b7b247064f8db01d5b0f0e">abe00b6</a></td><td><code>fixed small issues</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/87653135948037f4e385a8cb0896379cda1608d6">8765313</a></td><td><code>A number of small edits.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/05ffcccf21328cc939ba157f5aeb45f3ba841438">05ffccc</a></td><td><code>Merge branch 'public/26887' of git://trac.sagemath.org/sage into develop</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/39810e5194daea168c01f21b8f8efaeb24f5bf15">39810e5</a></td><td><code>changed input of combintorial polyhedron</code></td></tr></table>




---

archive/issue_comments_438361.json:
```json
{
    "body": "Branch: **[public/27987](https://github.com/sagemath/sagetrac-mirror/tree/public/27987)**",
    "created_at": "2019-06-14T13:39:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27987#issuecomment-438361",
    "user": "https://github.com/kliem"
}
```

Branch: **[public/27987](https://github.com/sagemath/sagetrac-mirror/tree/public/27987)**



---

archive/issue_comments_438362.json:
```json
{
    "body": "Commit: **[39810e5](https://github.com/sagemath/sagetrac-mirror/commit/39810e5194daea168c01f21b8f8efaeb24f5bf15)**",
    "created_at": "2019-06-14T13:39:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27987#issuecomment-438362",
    "user": "https://github.com/kliem"
}
```

Commit: **[39810e5](https://github.com/sagemath/sagetrac-mirror/commit/39810e5194daea168c01f21b8f8efaeb24f5bf15)**



---

archive/issue_comments_438363.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nAs the Sage-8.8 release milestone is pending, we should delete the sage-8.8 milestone for tickets that are not actively being worked on or that still require significant work to move forward.  If you feel that this ticket should be included in the next Sage release at the soonest please set its milestone to the next release milestone (sage-8.9).",
    "created_at": "2019-06-14T14:55:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27987#issuecomment-438363",
    "user": "https://github.com/embray"
}
```

<a id='comment:3'>Comment 3:</a>
As the Sage-8.8 release milestone is pending, we should delete the sage-8.8 milestone for tickets that are not actively being worked on or that still require significant work to move forward.  If you feel that this ticket should be included in the next Sage release at the soonest please set its milestone to the next release milestone (sage-8.9).



---

archive/issue_events_352703.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-06-14T14:55:02Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/27987",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27987#event-352703"
}
```



---

archive/issue_events_352704.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2019-07-01T13:47:25Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27987",
    "milestone_number": null,
    "milestone_title": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27987#event-352704"
}
```



---

archive/issue_comments_438364.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nThere is also a python3 failing doctest:\n\nThis triggers a new failing doctest with python3-sage:\n\n```\nsage -t --long src/sage/geometry/polyhedron/combinatorial_polyhedron/base.pyx\n**********************************************************************\nFile \"src/sage/geometry/polyhedron/combinatorial_polyhedron/base.pyx\", line 937, in sage.geometry.polyhedron.combinatorial_polyhedron.base.CombinatorialPolyhedron.edge_graph\nFailed example:\n    G.degree()\nExpected:\n    [4, 3, 4, 3, 4]\nGot:\n    [3, 4, 4, 3, 4]\n```",
    "created_at": "2019-07-10T09:44:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27987#issuecomment-438364",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:5'>Comment 5:</a>
There is also a python3 failing doctest:

This triggers a new failing doctest with python3-sage:

```
sage -t --long src/sage/geometry/polyhedron/combinatorial_polyhedron/base.pyx
**********************************************************************
File "src/sage/geometry/polyhedron/combinatorial_polyhedron/base.pyx", line 937, in sage.geometry.polyhedron.combinatorial_polyhedron.base.CombinatorialPolyhedron.edge_graph
Failed example:
    G.degree()
Expected:
    [4, 3, 4, 3, 4]
Got:
    [3, 4, 4, 3, 4]
```



---

archive/issue_comments_438365.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nI have made #28153 for the py3 problem, please review.",
    "created_at": "2019-07-10T09:56:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27987#issuecomment-438365",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'>Comment 6:</a>
I have made #28153 for the py3 problem, please review.



---

archive/issue_comments_438366.json:
```json
{
    "body": "Changed commit from **[39810e5](https://github.com/sagemath/sagetrac-mirror/commit/39810e5194daea168c01f21b8f8efaeb24f5bf15)** to **[cdc1522](https://github.com/sagemath/sagetrac-mirror/commit/cdc1522e98cf0e17e88cb3fe0c4515f6e7925a51)**",
    "created_at": "2019-07-11T17:51:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27987#issuecomment-438366",
    "user": "https://github.com/kliem"
}
```

Changed commit from **[39810e5](https://github.com/sagemath/sagetrac-mirror/commit/39810e5194daea168c01f21b8f8efaeb24f5bf15)** to **[cdc1522](https://github.com/sagemath/sagetrac-mirror/commit/cdc1522e98cf0e17e88cb3fe0c4515f6e7925a51)**



---

archive/issue_comments_438367.json:
```json
{
    "body": "Changed branch from **[public/27987](https://github.com/sagemath/sagetrac-mirror/tree/public/27987)** to **[public/27987-new](https://github.com/sagemath/sagetrac-mirror/tree/public/27987-new)**",
    "created_at": "2019-07-11T17:51:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27987#issuecomment-438367",
    "user": "https://github.com/kliem"
}
```

Changed branch from **[public/27987](https://github.com/sagemath/sagetrac-mirror/tree/public/27987)** to **[public/27987-new](https://github.com/sagemath/sagetrac-mirror/tree/public/27987-new)**



---

archive/issue_comments_438368.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cdc1522e98cf0e17e88cb3fe0c4515f6e7925a51\">cdc1522</a></td><td><code>combinatorial polyhedron uses far face as a bug fix</code></td></tr></table>\n",
    "created_at": "2019-07-11T17:51:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27987#issuecomment-438368",
    "user": "https://github.com/kliem"
}
```

<a id='comment:7'>Comment 7:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cdc1522e98cf0e17e88cb3fe0c4515f6e7925a51">cdc1522</a></td><td><code>combinatorial polyhedron uses far face as a bug fix</code></td></tr></table>




---

archive/issue_comments_438369.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c2f175d6691caa21a03495844a621f468e1b5bfc\">c2f175d</a></td><td><code>small changes</code></td></tr></table>\n",
    "created_at": "2019-07-11T22:04:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27987#issuecomment-438369",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:8'>Comment 8:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c2f175d6691caa21a03495844a621f468e1b5bfc">c2f175d</a></td><td><code>small changes</code></td></tr></table>




---

archive/issue_comments_438370.json:
```json
{
    "body": "Changed commit from **[cdc1522](https://github.com/sagemath/sagetrac-mirror/commit/cdc1522e98cf0e17e88cb3fe0c4515f6e7925a51)** to **[c2f175d](https://github.com/sagemath/sagetrac-mirror/commit/c2f175d6691caa21a03495844a621f468e1b5bfc)**",
    "created_at": "2019-07-11T22:04:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27987#issuecomment-438370",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[cdc1522](https://github.com/sagemath/sagetrac-mirror/commit/cdc1522e98cf0e17e88cb3fe0c4515f6e7925a51)** to **[c2f175d](https://github.com/sagemath/sagetrac-mirror/commit/c2f175d6691caa21a03495844a621f468e1b5bfc)**



---

archive/issue_comments_438371.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b90d25335cb2ac2ec91b08ed3b38993ffc60012d\">b90d253</a></td><td><code>more small changes</code></td></tr></table>\n",
    "created_at": "2019-07-11T22:12:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27987#issuecomment-438371",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:9'>Comment 9:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b90d25335cb2ac2ec91b08ed3b38993ffc60012d">b90d253</a></td><td><code>more small changes</code></td></tr></table>




---

archive/issue_comments_438372.json:
```json
{
    "body": "Changed commit from **[c2f175d](https://github.com/sagemath/sagetrac-mirror/commit/c2f175d6691caa21a03495844a621f468e1b5bfc)** to **[b90d253](https://github.com/sagemath/sagetrac-mirror/commit/b90d25335cb2ac2ec91b08ed3b38993ffc60012d)**",
    "created_at": "2019-07-11T22:12:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27987#issuecomment-438372",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[c2f175d](https://github.com/sagemath/sagetrac-mirror/commit/c2f175d6691caa21a03495844a621f468e1b5bfc)** to **[b90d253](https://github.com/sagemath/sagetrac-mirror/commit/b90d25335cb2ac2ec91b08ed3b38993ffc60012d)**



---

archive/issue_comments_438373.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d6d663a56310c63283adc279e79ec4eb2e983581\">d6d663a</a></td><td><code>combinatorial polyhedron uses far face as a bug fix</code></td></tr></table>\n",
    "created_at": "2019-07-11T22:20:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27987#issuecomment-438373",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:10'>Comment 10:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d6d663a56310c63283adc279e79ec4eb2e983581">d6d663a</a></td><td><code>combinatorial polyhedron uses far face as a bug fix</code></td></tr></table>




---

archive/issue_comments_438374.json:
```json
{
    "body": "Changed commit from **[b90d253](https://github.com/sagemath/sagetrac-mirror/commit/b90d25335cb2ac2ec91b08ed3b38993ffc60012d)** to **[d6d663a](https://github.com/sagemath/sagetrac-mirror/commit/d6d663a56310c63283adc279e79ec4eb2e983581)**",
    "created_at": "2019-07-11T22:20:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27987#issuecomment-438374",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[b90d253](https://github.com/sagemath/sagetrac-mirror/commit/b90d25335cb2ac2ec91b08ed3b38993ffc60012d)** to **[d6d663a](https://github.com/sagemath/sagetrac-mirror/commit/d6d663a56310c63283adc279e79ec4eb2e983581)**



---

archive/issue_comments_438375.json:
```json
{
    "body": "Changed commit from **[d6d663a](https://github.com/sagemath/sagetrac-mirror/commit/d6d663a56310c63283adc279e79ec4eb2e983581)** to **[14d17a8](https://github.com/sagemath/sagetrac-mirror/commit/14d17a87bb48e32c98083b974e9cebd033390d80)**",
    "created_at": "2019-07-11T22:26:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27987#issuecomment-438375",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[d6d663a](https://github.com/sagemath/sagetrac-mirror/commit/d6d663a56310c63283adc279e79ec4eb2e983581)** to **[14d17a8](https://github.com/sagemath/sagetrac-mirror/commit/14d17a87bb48e32c98083b974e9cebd033390d80)**



---

archive/issue_comments_438376.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/14d17a87bb48e32c98083b974e9cebd033390d80\">14d17a8</a></td><td><code>added doctest reporting the bug fix</code></td></tr></table>\n",
    "created_at": "2019-07-11T22:26:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27987#issuecomment-438376",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:11'>Comment 11:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/14d17a87bb48e32c98083b974e9cebd033390d80">14d17a8</a></td><td><code>added doctest reporting the bug fix</code></td></tr></table>




---

archive/issue_comments_438377.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/14d17a87bb48e32c98083b974e9cebd033390d80\">14d17a8</a></td><td><code>added doctest reporting the bug fix</code></td></tr></table>\n",
    "created_at": "2019-07-11T22:27:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27987#issuecomment-438377",
    "user": "https://github.com/kliem"
}
```

<a id='comment:12'>Comment 12:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/14d17a87bb48e32c98083b974e9cebd033390d80">14d17a8</a></td><td><code>added doctest reporting the bug fix</code></td></tr></table>




---

archive/issue_events_352705.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2019-07-11T22:27:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27987",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27987#event-352705"
}
```



---

archive/issue_comments_438378.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,6 +7,8 @@\n True\n ```\n \n-Instead of just specifying the `n_lines`, one should specify `unbounded` and a far face (or the how many lines and rays there are in total).\n+Instead of just specifying the `n_lines`, one should specify `unbounded` and a far face.\n \n Unfortunately, determining the rays from just the incidence matrix does not seem to work.\n+\n+Now with the far face at hand anyway, it's much easier to determine the (combinatorial) vertices.\n``````\n",
    "created_at": "2019-07-11T22:27:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27987#issuecomment-438378",
    "user": "https://github.com/kliem"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,6 +7,8 @@
 True
 ```
 
-Instead of just specifying the `n_lines`, one should specify `unbounded` and a far face (or the how many lines and rays there are in total).
+Instead of just specifying the `n_lines`, one should specify `unbounded` and a far face.
 
 Unfortunately, determining the rays from just the incidence matrix does not seem to work.
+
+Now with the far face at hand anyway, it's much easier to determine the (combinatorial) vertices.
``````




---

archive/issue_comments_438379.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nhttps://patchbot.sagemath.org/log/27987/debian/9.9/x86_64/4.9.0-9-amd64/cofio/2019-07-12%2013:08:53?short\n\nThe whole business with testing an interrupt is really unstable. It seems to work almost all of the time, but having the tests fail in even 1 percent of the tests is not acceptable, is it? (Imagine this being the case for all modules.)\n\nI do not know, where I could possible have made a mistake with catching an interrupt. I suspect that it just sometimes fails at some place that I have no impact on.\n\nAnyway, maybe I should remove those fragile tests (in a new ticket).",
    "created_at": "2019-07-12T14:36:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27987#issuecomment-438379",
    "user": "https://github.com/kliem"
}
```

<a id='comment:13'>Comment 13:</a>
https://patchbot.sagemath.org/log/27987/debian/9.9/x86_64/4.9.0-9-amd64/cofio/2019-07-12%2013:08:53?short

The whole business with testing an interrupt is really unstable. It seems to work almost all of the time, but having the tests fail in even 1 percent of the tests is not acceptable, is it? (Imagine this being the case for all modules.)

I do not know, where I could possible have made a mistake with catching an interrupt. I suspect that it just sometimes fails at some place that I have no impact on.

Anyway, maybe I should remove those fragile tests (in a new ticket).



---

archive/issue_comments_438380.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-`CombinatorialPolyhedron` at the moment only requires the number of lines (as `n_lines` in `Polyhedron_base`). This does not suffice, as\n+`CombinatorialPolyhedron` as of #26887 only requires the number of lines (as `n_lines` in `Polyhedron_base`). This does not suffice, as\n \n ```\n sage: P1 = Polyhedron(vertices=[[0,1],[1,0]], rays=[[1,1]])\n``````\n",
    "created_at": "2019-07-12T16:35:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27987#issuecomment-438380",
    "user": "https://github.com/kliem"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-`CombinatorialPolyhedron` at the moment only requires the number of lines (as `n_lines` in `Polyhedron_base`). This does not suffice, as
+`CombinatorialPolyhedron` as of #26887 only requires the number of lines (as `n_lines` in `Polyhedron_base`). This does not suffice, as
 
 ```
 sage: P1 = Polyhedron(vertices=[[0,1],[1,0]], rays=[[1,1]])
``````




---

archive/issue_comments_438381.json:
```json
{
    "body": "Changed dependencies from **#26887** to none",
    "created_at": "2019-07-12T16:35:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27987#issuecomment-438381",
    "user": "https://github.com/kliem"
}
```

Changed dependencies from **#26887** to none



---

archive/issue_comments_438382.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nA few things:\n\nAre you absolutely sure that nobody will (should) be passing the `n_lines` data to the constructor (unless they know what they are doing)? If not, then you should deprecate that (including having it be in its original position).\n\n`#27987` -> <code>:trac:\\`12987\\`</code>\n\n`if unbounded is False:` -> `if not unbounded:` (unless you expect `unbounded` to possibly be something else like `None` that should be treated differently, in which case you should add a comment about that).",
    "created_at": "2019-07-24T09:47:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27987#issuecomment-438382",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:16'>Comment 16:</a>
A few things:

Are you absolutely sure that nobody will (should) be passing the `n_lines` data to the constructor (unless they know what they are doing)? If not, then you should deprecate that (including having it be in its original position).

`#27987` -> <code>:trac:\`12987\`</code>

`if unbounded is False:` -> `if not unbounded:` (unless you expect `unbounded` to possibly be something else like `None` that should be treated differently, in which case you should add a comment about that).



---

archive/issue_comments_438383.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nThanks.\n\nReplying to [@tscrim](#comment%3A16):\n> A few things:\n> \n> Are you absolutely sure that nobody will (should) be passing the `n_lines` data to the constructor (unless they know what they are doing)? If not, then you should deprecate that (including having it be in its original position).\n\n`CombinatorialPolyhedron` has not been in the master branch yet. So I figured it is ok. I can throw a warning, when unbounded is an integer, to make sure no one accidentally uses it.\n\nAt the moment, I'm forcing the user to use the Vrepresentation as in `Polyhedron` w.r. to the lines in the representation.\nMaybe this is to restrictive and I should allow the user to just pass the dimension of the affine space contained in the polyhedron instead (raising the dimension by that number).\n\n> \n> `#27987` -> <code>:trac:\\`12987\\`</code>\n> \n> `if unbounded is False:` -> `if not unbounded:` (unless you expect `unbounded` to possibly be something else like `None` that should be treated differently, in which case you should add a comment about that).",
    "created_at": "2019-07-24T11:55:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27987#issuecomment-438383",
    "user": "https://github.com/kliem"
}
```

<a id='comment:17'>Comment 17:</a>
Thanks.

Replying to [@tscrim](#comment%3A16):
> A few things:
> 
> Are you absolutely sure that nobody will (should) be passing the `n_lines` data to the constructor (unless they know what they are doing)? If not, then you should deprecate that (including having it be in its original position).

`CombinatorialPolyhedron` has not been in the master branch yet. So I figured it is ok. I can throw a warning, when unbounded is an integer, to make sure no one accidentally uses it.

At the moment, I'm forcing the user to use the Vrepresentation as in `Polyhedron` w.r. to the lines in the representation.
Maybe this is to restrictive and I should allow the user to just pass the dimension of the affine space contained in the polyhedron instead (raising the dimension by that number).

> 
> `#27987` -> <code>:trac:\`12987\`</code>
> 
> `if unbounded is False:` -> `if not unbounded:` (unless you expect `unbounded` to possibly be something else like `None` that should be treated differently, in which case you should add a comment about that).



---

archive/issue_comments_438384.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nReplying to [@kliem](#comment%3A17):\n> Thanks.\n> \n> Replying to [@tscrim](#comment%3A16):\n> > A few things:\n> > \n> > Are you absolutely sure that nobody will (should) be passing the `n_lines` data to the constructor (unless they know what they are doing)? If not, then you should deprecate that (including having it be in its original position).\n\n> \n> `CombinatorialPolyhedron` has not been in the master branch yet. So I figured it is ok. I can throw a warning, when unbounded is an integer, to make sure no one accidentally uses it.\n\nOkay, then this is good as it currently is (i.e., you do not need to issue a warning).\n\n> At the moment, I'm forcing the user to use the Vrepresentation as in `Polyhedron` w.r. to the lines in the representation.\n> Maybe this is to restrictive and I should allow the user to just pass the dimension of the affine space contained in the polyhedron instead (raising the dimension by that number).\n\nThat is probably best for another ticket.\n\nSo if you make the other two changes I mentioned, then you can set a positive review on my behalf.",
    "created_at": "2019-07-24T13:25:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27987#issuecomment-438384",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:18'>Comment 18:</a>
Replying to [@kliem](#comment%3A17):
> Thanks.
> 
> Replying to [@tscrim](#comment%3A16):
> > A few things:
> > 
> > Are you absolutely sure that nobody will (should) be passing the `n_lines` data to the constructor (unless they know what they are doing)? If not, then you should deprecate that (including having it be in its original position).

> 
> `CombinatorialPolyhedron` has not been in the master branch yet. So I figured it is ok. I can throw a warning, when unbounded is an integer, to make sure no one accidentally uses it.

Okay, then this is good as it currently is (i.e., you do not need to issue a warning).

> At the moment, I'm forcing the user to use the Vrepresentation as in `Polyhedron` w.r. to the lines in the representation.
> Maybe this is to restrictive and I should allow the user to just pass the dimension of the affine space contained in the polyhedron instead (raising the dimension by that number).

That is probably best for another ticket.

So if you make the other two changes I mentioned, then you can set a positive review on my behalf.



---

archive/issue_comments_438385.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2019-07-24T13:25:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27987#issuecomment-438385",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_comments_438386.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nGreat. I will do so probably on Saturday (no PC at the moment).\n\nReplying to [@tscrim](#comment%3A18):\n> Replying to [@kliem](#comment%3A17):\n> > Thanks.\n> > \n> > Replying to [@tscrim](#comment%3A16):\n> > > A few things:\n> > > \n> > > Are you absolutely sure that nobody will (should) be passing the `n_lines` data to the constructor (unless they know what they are doing)? If not, then you should deprecate that (including having it be in its original position).\n\n> > \n> > `CombinatorialPolyhedron` has not been in the master branch yet. So I figured it is ok. I can throw a warning, when unbounded is an integer, to make sure no one accidentally uses it.\n\n> \n> Okay, then this is good as it currently is (i.e., you do not need to issue a warning).\n> \n> > At the moment, I'm forcing the user to use the Vrepresentation as in `Polyhedron` w.r. to the lines in the representation.\n> > Maybe this is to restrictive and I should allow the user to just pass the dimension of the affine space contained in the polyhedron instead (raising the dimension by that number).\n\n> \n> That is probably best for another ticket.\n> \n> So if you make the other two changes I mentioned, then you can set a positive review on my behalf.",
    "created_at": "2019-07-24T14:04:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27987#issuecomment-438386",
    "user": "https://github.com/kliem"
}
```

<a id='comment:19'>Comment 19:</a>
Great. I will do so probably on Saturday (no PC at the moment).

Replying to [@tscrim](#comment%3A18):
> Replying to [@kliem](#comment%3A17):
> > Thanks.
> > 
> > Replying to [@tscrim](#comment%3A16):
> > > A few things:
> > > 
> > > Are you absolutely sure that nobody will (should) be passing the `n_lines` data to the constructor (unless they know what they are doing)? If not, then you should deprecate that (including having it be in its original position).

> > 
> > `CombinatorialPolyhedron` has not been in the master branch yet. So I figured it is ok. I can throw a warning, when unbounded is an integer, to make sure no one accidentally uses it.

> 
> Okay, then this is good as it currently is (i.e., you do not need to issue a warning).
> 
> > At the moment, I'm forcing the user to use the Vrepresentation as in `Polyhedron` w.r. to the lines in the representation.
> > Maybe this is to restrictive and I should allow the user to just pass the dimension of the affine space contained in the polyhedron instead (raising the dimension by that number).

> 
> That is probably best for another ticket.
> 
> So if you make the other two changes I mentioned, then you can set a positive review on my behalf.



---

archive/issue_comments_438387.json:
```json
{
    "body": "Changed commit from **[14d17a8](https://github.com/sagemath/sagetrac-mirror/commit/14d17a87bb48e32c98083b974e9cebd033390d80)** to **[806a217](https://github.com/sagemath/sagetrac-mirror/commit/806a217944c9332ec3e09f153cbd589075d0fa0f)**",
    "created_at": "2019-07-27T19:11:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27987#issuecomment-438387",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[14d17a8](https://github.com/sagemath/sagetrac-mirror/commit/14d17a87bb48e32c98083b974e9cebd033390d80)** to **[806a217](https://github.com/sagemath/sagetrac-mirror/commit/806a217944c9332ec3e09f153cbd589075d0fa0f)**



---

archive/issue_comments_438388.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/806a217944c9332ec3e09f153cbd589075d0fa0f\">806a217</a></td><td><code>correct link to trac ticket, if unbounded is False -> if not unbounded</code></td></tr></table>\n",
    "created_at": "2019-07-27T19:11:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27987#issuecomment-438388",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:20'>Comment 20:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/806a217944c9332ec3e09f153cbd589075d0fa0f">806a217</a></td><td><code>correct link to trac ticket, if unbounded is False -> if not unbounded</code></td></tr></table>




---

archive/issue_events_352706.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2019-07-27T19:13:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27987",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27987#event-352706"
}
```



---

archive/issue_events_352707.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2019-07-27T19:13:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27987",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27987#event-352707"
}
```



---

archive/issue_comments_438389.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nTwo changes mentioned by Travis taken care of.",
    "created_at": "2019-07-27T19:13:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27987#issuecomment-438389",
    "user": "https://github.com/kliem"
}
```

<a id='comment:21'>Comment 21:</a>
Two changes mentioned by Travis taken care of.



---

archive/issue_events_352708.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-07-29T21:54:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27987",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27987#event-352708"
}
```



---

archive/issue_events_352709.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "9e9a2a4c6ba796883a0f00c180f35b1436d94678",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-07-29T21:54:58Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/27987",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27987#event-352709"
}
```



---

archive/issue_comments_438390.json:
```json
{
    "body": "Changed branch from **[public/27987-new](https://github.com/sagemath/sagetrac-mirror/tree/public/27987-new)** to **[806a217](https://github.com/sagemath/sagetrac-mirror/commit/806a217944c9332ec3e09f153cbd589075d0fa0f)**",
    "created_at": "2019-07-29T21:54:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27987#issuecomment-438390",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/27987-new](https://github.com/sagemath/sagetrac-mirror/tree/public/27987-new)** to **[806a217](https://github.com/sagemath/sagetrac-mirror/commit/806a217944c9332ec3e09f153cbd589075d0fa0f)**
