# Issue 27027: graph relabel() assumes sortable vertices

archive/issues_026790.json:
```json
{
    "body": "There are several cases in `relabel()` which assume sorting of vertices. \n\nThe following cases are fixed:\n\n1. `perm=None`. This should just relabel with integers from 0 to N-1 in an arbitrary order (as the documentation already says).\n\n2. `perm` is a callable. This is easy to avoid, as the ordering of the vertices is not used in the code:\n\n```\n        elif callable(perm):\n            perm = dict( [ i, perm(i) ] for i in self.vertices() )\n            complete_partial_function = False\n```\n\nThis broke several functions which did assume a particular ordering for `G.relabel(perm=None)`. Those are fixed by using `G.relabel(perm=range(G.order()))` instead.\n\nFurthermore, we allow arbitrary iterables to be given for relabeling instead of only `list` and `tuple`. This improves things with Python 3 where `range()` becomes an iterator.\n\nCC:  @dcoudert\n\nKeywords: py3, graph\n\nBranch/Commit: a7eaec9a42dbdc6839fca59d2f42c8e1f07e6c07\n\nReviewer: David Coudert\n\nAuthor: Jeroen Demeyer\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/27027\n\n",
    "closed_at": "2019-01-27T10:54:36Z",
    "created_at": "2019-01-07T09:14:42Z",
    "labels": [
        "component: graph theory",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.7",
    "title": "graph relabel() assumes sortable vertices",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/27027",
    "user": "https://github.com/jdemeyer"
}
```
There are several cases in `relabel()` which assume sorting of vertices. 

The following cases are fixed:

1. `perm=None`. This should just relabel with integers from 0 to N-1 in an arbitrary order (as the documentation already says).

2. `perm` is a callable. This is easy to avoid, as the ordering of the vertices is not used in the code:

```
        elif callable(perm):
            perm = dict( [ i, perm(i) ] for i in self.vertices() )
            complete_partial_function = False
```

This broke several functions which did assume a particular ordering for `G.relabel(perm=None)`. Those are fixed by using `G.relabel(perm=range(G.order()))` instead.

Furthermore, we allow arbitrary iterables to be given for relabeling instead of only `list` and `tuple`. This improves things with Python 3 where `range()` becomes an iterator.

CC:  @dcoudert

Keywords: py3, graph

Branch/Commit: a7eaec9a42dbdc6839fca59d2f42c8e1f07e6c07

Reviewer: David Coudert

Author: Jeroen Demeyer

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/27027





---

archive/issue_comments_401215.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,10 @@\n-This branch in `relabel()` should not rely on sorted vertices:\n+There are several cases in `relabel()` which assume sorting of vertices. In some cases (when given a list/tuple) this makes sense and is hard to avoid.\n+\n+The following should be fixed though:\n+\n+1. `perm=None`. This should just relabel with integers from 0 to N-1.\n+\n+2. `perm` is a callable. This is easy to avoid, as the ordering of the vertices is not used in the code:\n \n ```\n         elif callable(perm):\n```\n",
    "created_at": "2019-01-07T09:19:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27027#issuecomment-401215",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,10 @@
-This branch in `relabel()` should not rely on sorted vertices:
+There are several cases in `relabel()` which assume sorting of vertices. In some cases (when given a list/tuple) this makes sense and is hard to avoid.
+
+The following should be fixed though:
+
+1. `perm=None`. This should just relabel with integers from 0 to N-1.
+
+2. `perm` is a callable. This is easy to avoid, as the ordering of the vertices is not used in the code:
 
 ```
         elif callable(perm):
```




---

archive/issue_comments_401216.json:
```json
{
    "body": "<a id='comment:3'></a>You could use `G.relabel(list(range(G.order())))` instead of `G.relabel(list(range(len(G))))`.\n\nIn `generic_graph.py`, you changed the doctest `G.relabel(return_map=True) == expecting`. Isn't it risky to do that ? the ordering of the keys of a dictionary might differ in py2  and py3, no ?\n\n---\nNew commits:",
    "created_at": "2019-01-07T10:43:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27027#issuecomment-401216",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:3'></a>You could use `G.relabel(list(range(G.order())))` instead of `G.relabel(list(range(len(G))))`.

In `generic_graph.py`, you changed the doctest `G.relabel(return_map=True) == expecting`. Isn't it risky to do that ? the ordering of the keys of a dictionary might differ in py2  and py3, no ?

---
New commits:



---

archive/issue_comments_401217.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2019-01-07T10:50:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27027#issuecomment-401217",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_401218.json:
```json
{
    "body": "<a id='comment:5'></a>Update, still work in progress.",
    "created_at": "2019-01-07T10:51:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27027#issuecomment-401218",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:5'></a>Update, still work in progress.



---

archive/issue_comments_401219.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,18 @@\n+There are several cases in `relabel()` which assume sorting of vertices. \n \n+The following cases are fixed:\n+\n+1. `perm=None`. This should just relabel with integers from 0 to N-1.\n+\n+2. `perm` is a callable. This is easy to avoid, as the ordering of the vertices is not used in the code:\n+\n+```\n+        elif callable(perm):\n+            perm = dict( [ i, perm(i) ] for i in self.vertices() )\n+            complete_partial_function = False\n+```\n+\n+Furthermore, we allow arbitrary iterables to be given for relabeling instead of only `list` and `tuple`. This makes things with Python 3 where `range()` becomes an iterator.\n \n Author: Jeroen Demeyer\n \n```\n",
    "created_at": "2019-01-07T11:35:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27027#issuecomment-401219",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,18 @@
+There are several cases in `relabel()` which assume sorting of vertices. 
 
+The following cases are fixed:
+
+1. `perm=None`. This should just relabel with integers from 0 to N-1.
+
+2. `perm` is a callable. This is easy to avoid, as the ordering of the vertices is not used in the code:
+
+```
+        elif callable(perm):
+            perm = dict( [ i, perm(i) ] for i in self.vertices() )
+            complete_partial_function = False
+```
+
+Furthermore, we allow arbitrary iterables to be given for relabeling instead of only `list` and `tuple`. This makes things with Python 3 where `range()` becomes an iterator.
 
 Author: Jeroen Demeyer
 
```




---

archive/issue_comments_401220.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2019-01-07T11:37:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27027#issuecomment-401220",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_401221.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,18 @@\n+There are several cases in `relabel()` which assume sorting of vertices. \n \n+The following cases are fixed:\n+\n+1. `perm=None`. This should just relabel with integers from 0 to N-1 in an arbitrary order (as the documentation already says).\n+\n+2. `perm` is a callable. This is easy to avoid, as the ordering of the vertices is not used in the code:\n+\n+```\n+        elif callable(perm):\n+            perm = dict( [ i, perm(i) ] for i in self.vertices() )\n+            complete_partial_function = False\n+```\n+\n+Furthermore, we allow arbitrary iterables to be given for relabeling instead of only `list` and `tuple`. This makes things with Python 3 where `range()` becomes an iterator.\n \n Author: Jeroen Demeyer\n \n```\n",
    "created_at": "2019-01-07T11:39:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27027#issuecomment-401221",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,18 @@
+There are several cases in `relabel()` which assume sorting of vertices. 
 
+The following cases are fixed:
+
+1. `perm=None`. This should just relabel with integers from 0 to N-1 in an arbitrary order (as the documentation already says).
+
+2. `perm` is a callable. This is easy to avoid, as the ordering of the vertices is not used in the code:
+
+```
+        elif callable(perm):
+            perm = dict( [ i, perm(i) ] for i in self.vertices() )
+            complete_partial_function = False
+```
+
+Furthermore, we allow arbitrary iterables to be given for relabeling instead of only `list` and `tuple`. This makes things with Python 3 where `range()` becomes an iterator.
 
 Author: Jeroen Demeyer
 
```




---

archive/issue_comments_401222.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,18 @@\n+There are several cases in `relabel()` which assume sorting of vertices. \n \n+The following cases are fixed:\n+\n+1. `perm=None`. This should just relabel with integers from 0 to N-1 in an arbitrary order (as the documentation already says).\n+\n+2. `perm` is a callable. This is easy to avoid, as the ordering of the vertices is not used in the code:\n+\n+```\n+        elif callable(perm):\n+            perm = dict( [ i, perm(i) ] for i in self.vertices() )\n+            complete_partial_function = False\n+```\n+\n+Furthermore, we allow arbitrary iterables to be given for relabeling instead of only `list` and `tuple`. This improves things with Python 3 where `range()` becomes an iterator.\n \n Author: Jeroen Demeyer\n \n```\n",
    "created_at": "2019-01-07T11:40:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27027#issuecomment-401222",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,18 @@
+There are several cases in `relabel()` which assume sorting of vertices. 
 
+The following cases are fixed:
+
+1. `perm=None`. This should just relabel with integers from 0 to N-1 in an arbitrary order (as the documentation already says).
+
+2. `perm` is a callable. This is easy to avoid, as the ordering of the vertices is not used in the code:
+
+```
+        elif callable(perm):
+            perm = dict( [ i, perm(i) ] for i in self.vertices() )
+            complete_partial_function = False
+```
+
+Furthermore, we allow arbitrary iterables to be given for relabeling instead of only `list` and `tuple`. This improves things with Python 3 where `range()` becomes an iterator.
 
 Author: Jeroen Demeyer
 
```




---

archive/issue_comments_401223.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-01-07T11:40:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27027#issuecomment-401223",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_401224.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,20 @@\n+There are several cases in `relabel()` which assume sorting of vertices. \n \n+The following cases are fixed:\n+\n+1. `perm=None`. This should just relabel with integers from 0 to N-1 in an arbitrary order (as the documentation already says).\n+\n+2. `perm` is a callable. This is easy to avoid, as the ordering of the vertices is not used in the code:\n+\n+```\n+        elif callable(perm):\n+            perm = dict( [ i, perm(i) ] for i in self.vertices() )\n+            complete_partial_function = False\n+```\n+\n+This broke several functions which did assume a particular ordering for `G.relabel(perm=None)`. Those are fixed by using `G.relabel(perm=range(G.order()))` instead.\n+\n+Furthermore, we allow arbitrary iterables to be given for relabeling instead of only `list` and `tuple`. This improves things with Python 3 where `range()` becomes an iterator.\n \n Author: Jeroen Demeyer\n \n```\n",
    "created_at": "2019-01-07T11:43:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27027#issuecomment-401224",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,20 @@
+There are several cases in `relabel()` which assume sorting of vertices. 
 
+The following cases are fixed:
+
+1. `perm=None`. This should just relabel with integers from 0 to N-1 in an arbitrary order (as the documentation already says).
+
+2. `perm` is a callable. This is easy to avoid, as the ordering of the vertices is not used in the code:
+
+```
+        elif callable(perm):
+            perm = dict( [ i, perm(i) ] for i in self.vertices() )
+            complete_partial_function = False
+```
+
+This broke several functions which did assume a particular ordering for `G.relabel(perm=None)`. Those are fixed by using `G.relabel(perm=range(G.order()))` instead.
+
+Furthermore, we allow arbitrary iterables to be given for relabeling instead of only `list` and `tuple`. This improves things with Python 3 where `range()` becomes an iterator.
 
 Author: Jeroen Demeyer
 
```




---

archive/issue_comments_401225.json:
```json
{
    "body": "<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2019-01-07T13:45:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27027#issuecomment-401225",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_401226.json:
```json
{
    "body": "<a id='comment:13'></a>Green patchbot!",
    "created_at": "2019-01-08T11:40:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27027#issuecomment-401226",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:13'></a>Green patchbot!



---

archive/issue_comments_401227.json:
```json
{
    "body": "<a id='comment:14'></a>Unless I'm mistaken, `range` is an iterator in py3. Therefore, we cannot do `G.relabel(range(G.order()))` (several places). Or we must add a specific rule for iterators.",
    "created_at": "2019-01-08T13:28:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27027#issuecomment-401227",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:14'></a>Unless I'm mistaken, `range` is an iterator in py3. Therefore, we cannot do `G.relabel(range(G.order()))` (several places). Or we must add a specific rule for iterators.



---

archive/issue_comments_401228.json:
```json
{
    "body": "<a id='comment:15'></a>Replying to [comment:14 dcoudert]:\n> Or we must add a specific rule for iterators.\n\n\nIndeed. This is what I did in this patch.",
    "created_at": "2019-01-08T14:18:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27027#issuecomment-401228",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:15'></a>Replying to [comment:14 dcoudert]:
> Or we must add a specific rule for iterators.


Indeed. This is what I did in this patch.



---

archive/issue_comments_401229.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-01-08T16:15:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27027#issuecomment-401229",
    "user": "https://github.com/dcoudert"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_401230.json:
```json
{
    "body": "<a id='comment:16'></a>For me this patch is good to go. I did several tests without detecting any hidden issue.",
    "created_at": "2019-01-08T16:15:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27027#issuecomment-401230",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:16'></a>For me this patch is good to go. I did several tests without detecting any hidden issue.



---

archive/issue_comments_401231.json:
```json
{
    "body": "Changing keywords from \"\" to \"py3, graph\".",
    "created_at": "2019-01-08T16:15:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27027#issuecomment-401231",
    "user": "https://github.com/dcoudert"
}
```

Changing keywords from "" to "py3, graph".



---

archive/issue_events_067099.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-15T18:16:10Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27027",
    "milestone": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27027#event-67099"
}
```



---

archive/issue_comments_401232.json:
```json
{
    "body": "<a id='comment:17'></a>Retarging tickets optimistically to the next milestone.  If you are responsible for this ticket (either its reporter or owner) and don't believe you are likely to complete this ticket before the next release (8.7) please retarget this ticket's milestone to sage-pending or sage-wishlist.",
    "created_at": "2019-01-15T18:16:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27027#issuecomment-401232",
    "user": "https://github.com/embray"
}
```

<a id='comment:17'></a>Retarging tickets optimistically to the next milestone.  If you are responsible for this ticket (either its reporter or owner) and don't believe you are likely to complete this ticket before the next release (8.7) please retarget this ticket's milestone to sage-pending or sage-wishlist.



---

archive/issue_comments_401233.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2019-01-17T17:31:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27027#issuecomment-401233",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_401234.json:
```json
{
    "body": "<a id='comment:18'></a>Merge conflict",
    "created_at": "2019-01-17T17:31:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27027#issuecomment-401234",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:18'></a>Merge conflict



---

archive/issue_comments_401235.json:
```json
{
    "body": "<a id='comment:19'></a>The issue in `src/sage/combinat/cluster_algebra_quiver/quiver.py` was already fixed by #26985.\n\nSo I'm just reverting any changes to that file.",
    "created_at": "2019-01-23T21:23:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27027#issuecomment-401235",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:19'></a>The issue in `src/sage/combinat/cluster_algebra_quiver/quiver.py` was already fixed by #26985.

So I'm just reverting any changes to that file.



---

archive/issue_comments_401236.json:
```json
{
    "body": "<a id='comment:20'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2019-01-23T21:23:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27027#issuecomment-401236",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_401237.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-01-23T21:24:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27027#issuecomment-401237",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_401238.json:
```json
{
    "body": "<a id='comment:22'></a>At least one green patchbot, so I'm restoring positive review.",
    "created_at": "2019-01-24T08:26:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27027#issuecomment-401238",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:22'></a>At least one green patchbot, so I'm restoring positive review.



---

archive/issue_comments_401239.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-01-24T08:26:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27027#issuecomment-401239",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_401240.json:
```json
{
    "body": "<a id='comment:23'></a>OK",
    "created_at": "2019-01-24T09:29:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27027#issuecomment-401240",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:23'></a>OK



---

archive/issue_comments_401241.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2019-01-25T15:11:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27027#issuecomment-401241",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_401242.json:
```json
{
    "body": "<a id='comment:24'></a>\n```\nsage -t --long src/sage/combinat/root_system/coxeter_matrix.py\n**********************************************************************\nFile \"src/sage/combinat/root_system/coxeter_matrix.py\", line 1041, in sage.combinat.root_system.coxeter_matrix.recognize_coxeter_type_from_matrix\nFailed example:\n    CoxeterMatrix(CoxeterType(['A',10,1]).coxeter_graph()).coxeter_type()\nExpected:\n    Coxeter type of ['A', 10, 1]\nGot:\n    Coxeter type of ['A', 10, 1] relabelled by {0: 2, 1: 3, 2: 4, 3: 5, 4: 6, 5: 7, 6: 8, 7: 9, 8: 10, 9: 0, 10: 1}\n**********************************************************************\n1 item had failures:\n   1 of  39 in sage.combinat.root_system.coxeter_matrix.recognize_coxeter_type_from_matrix\n    [181 tests, 1 failure, 0.51 s\n```",
    "created_at": "2019-01-25T15:11:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27027#issuecomment-401242",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:24'></a>
```
sage -t --long src/sage/combinat/root_system/coxeter_matrix.py
**********************************************************************
File "src/sage/combinat/root_system/coxeter_matrix.py", line 1041, in sage.combinat.root_system.coxeter_matrix.recognize_coxeter_type_from_matrix
Failed example:
    CoxeterMatrix(CoxeterType(['A',10,1]).coxeter_graph()).coxeter_type()
Expected:
    Coxeter type of ['A', 10, 1]
Got:
    Coxeter type of ['A', 10, 1] relabelled by {0: 2, 1: 3, 2: 4, 3: 5, 4: 6, 5: 7, 6: 8, 7: 9, 8: 10, 9: 0, 10: 1}
**********************************************************************
1 item had failures:
   1 of  39 in sage.combinat.root_system.coxeter_matrix.recognize_coxeter_type_from_matrix
    [181 tests, 1 failure, 0.51 s
```



---

archive/issue_comments_401243.json:
```json
{
    "body": "<a id='comment:26'></a>This failure is caused by interactions with #27029. It doesn't happen by itself.",
    "created_at": "2019-01-25T15:34:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27027#issuecomment-401243",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:26'></a>This failure is caused by interactions with #27029. It doesn't happen by itself.



---

archive/issue_comments_401244.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2019-01-25T16:42:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27027#issuecomment-401244",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_401245.json:
```json
{
    "body": "<a id='comment:29'></a>I'm a bit lost here... at least, I don't have errors when testing this ticket alone.",
    "created_at": "2019-01-25T16:51:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27027#issuecomment-401245",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:29'></a>I'm a bit lost here... at least, I don't have errors when testing this ticket alone.



---

archive/issue_comments_401246.json:
```json
{
    "body": "<a id='comment:30'></a>As I said, it's because of this ticket together with #27029.",
    "created_at": "2019-01-25T21:09:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27027#issuecomment-401246",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:30'></a>As I said, it's because of this ticket together with #27029.



---

archive/issue_events_067100.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-01-27T10:54:36Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/27027",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27027#event-67100"
}
```



---

archive/issue_comments_401247.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-01-27T10:54:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27027#issuecomment-401247",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
