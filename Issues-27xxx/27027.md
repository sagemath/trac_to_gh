# Issue 27027: graph relabel() assumes sortable vertices

archive/issues_026790.json:
```json
{
    "body": "There are several cases in `relabel()` which assume sorting of vertices. \n\nThe following cases are fixed:\n\n1. `perm=None`. This should just relabel with integers from 0 to N-1 in an arbitrary order (as the documentation already says).\n\n2. `perm` is a callable. This is easy to avoid, as the ordering of the vertices is not used in the code:\n\n```\n        elif callable(perm):\n            perm = dict( [ i, perm(i) ] for i in self.vertices() )\n            complete_partial_function = False\n```\n\nThis broke several functions which did assume a particular ordering for `G.relabel(perm=None)`. Those are fixed by using `G.relabel(perm=range(G.order()))` instead.\n\nFurthermore, we allow arbitrary iterables to be given for relabeling instead of only `list` and `tuple`. This improves things with Python 3 where `range()` becomes an iterator.\n\n**CC:**  @dcoudert\n\n**Keywords:** py3, graph\n\n**Branch/Commit:** [a7eaec9a42dbdc6839fca59d2f42c8e1f07e6c07](https://github.com/sagemath/sagetrac-mirror/commit/a7eaec9a42dbdc6839fca59d2f42c8e1f07e6c07)\n\n**Reviewer:** David Coudert\n\n**Author:** Jeroen Demeyer\n\nIssue created by migration from https://trac.sagemath.org/ticket/27027\n\n",
    "closed_at": "2019-01-27T10:54:36Z",
    "created_at": "2019-01-07T09:14:42Z",
    "labels": [
        "component: graph theory",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.7",
    "title": "graph relabel() assumes sortable vertices",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/27027",
    "user": "https://github.com/jdemeyer"
}
```
There are several cases in `relabel()` which assume sorting of vertices. 

The following cases are fixed:

1. `perm=None`. This should just relabel with integers from 0 to N-1 in an arbitrary order (as the documentation already says).

2. `perm` is a callable. This is easy to avoid, as the ordering of the vertices is not used in the code:

```
        elif callable(perm):
            perm = dict( [ i, perm(i) ] for i in self.vertices() )
            complete_partial_function = False
```

This broke several functions which did assume a particular ordering for `G.relabel(perm=None)`. Those are fixed by using `G.relabel(perm=range(G.order()))` instead.

Furthermore, we allow arbitrary iterables to be given for relabeling instead of only `list` and `tuple`. This improves things with Python 3 where `range()` becomes an iterator.

**CC:**  @dcoudert

**Keywords:** py3, graph

**Branch/Commit:** [a7eaec9a42dbdc6839fca59d2f42c8e1f07e6c07](https://github.com/sagemath/sagetrac-mirror/commit/a7eaec9a42dbdc6839fca59d2f42c8e1f07e6c07)

**Reviewer:** David Coudert

**Author:** Jeroen Demeyer

Issue created by migration from https://trac.sagemath.org/ticket/27027





---

archive/issue_comments_419427.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,4 +1,10 @@\n-This branch in `relabel()` should not rely on sorted vertices:\n+There are several cases in `relabel()` which assume sorting of vertices. In some cases (when given a list/tuple) this makes sense and is hard to avoid.\n+\n+The following should be fixed though:\n+\n+1. `perm=None`. This should just relabel with integers from 0 to N-1.\n+\n+2. `perm` is a callable. This is easy to avoid, as the ordering of the vertices is not used in the code:\n \n ```\n         elif callable(perm):\n``````\n",
    "created_at": "2019-01-07T09:19:36Z",
    "issue": "https://github.com/sagemath/sage/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27027#issuecomment-419427",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,4 +1,10 @@
-This branch in `relabel()` should not rely on sorted vertices:
+There are several cases in `relabel()` which assume sorting of vertices. In some cases (when given a list/tuple) this makes sense and is hard to avoid.
+
+The following should be fixed though:
+
+1. `perm=None`. This should just relabel with integers from 0 to N-1.
+
+2. `perm` is a callable. This is easy to avoid, as the ordering of the vertices is not used in the code:
 
 ```
         elif callable(perm):
``````




---

archive/issue_events_238585.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-07T09:19:36Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/27027",
    "rename": {
        "from": "graph relabel() with callable should not sort vertices",
        "to": "graph relabel() assumes sortable vertices"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27027#event-238585"
}
```



---

archive/issue_comments_419428.json:
```json
{
    "body": "**Branch:** [u/jdemeyer/graph_relabel___assumes_sortable_vertices](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/graph_relabel___assumes_sortable_vertices)",
    "created_at": "2019-01-07T10:21:34Z",
    "issue": "https://github.com/sagemath/sage/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27027#issuecomment-419428",
    "user": "https://github.com/jdemeyer"
}
```

**Branch:** [u/jdemeyer/graph_relabel___assumes_sortable_vertices](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/graph_relabel___assumes_sortable_vertices)



---

archive/issue_comments_419429.json:
```json
{
    "body": "<a id='comment:3'></a>\nYou could use `G.relabel(list(range(G.order())))` instead of `G.relabel(list(range(len(G))))`.\n\nIn `generic_graph.py`, you changed the doctest `G.relabel(return_map=True) == expecting`. Isn't it risky to do that ? the ordering of the keys of a dictionary might differ in py2  and py3, no ?\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4e3dbd7ca700fb7eec96e234e706897b0c04ac6a\">4e3dbd7</a></td><td><code>Avoid sorting vertices in relabel()</code></td></tr></table>\n",
    "created_at": "2019-01-07T10:43:01Z",
    "issue": "https://github.com/sagemath/sage/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27027#issuecomment-419429",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:3'></a>
You could use `G.relabel(list(range(G.order())))` instead of `G.relabel(list(range(len(G))))`.

In `generic_graph.py`, you changed the doctest `G.relabel(return_map=True) == expecting`. Isn't it risky to do that ? the ordering of the keys of a dictionary might differ in py2  and py3, no ?

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4e3dbd7ca700fb7eec96e234e706897b0c04ac6a">4e3dbd7</a></td><td><code>Avoid sorting vertices in relabel()</code></td></tr></table>




---

archive/issue_comments_419430.json:
```json
{
    "body": "**Commit:** [4e3dbd7ca700fb7eec96e234e706897b0c04ac6a](https://github.com/sagemath/sagetrac-mirror/commit/4e3dbd7ca700fb7eec96e234e706897b0c04ac6a)",
    "created_at": "2019-01-07T10:43:01Z",
    "issue": "https://github.com/sagemath/sage/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27027#issuecomment-419430",
    "user": "https://github.com/dcoudert"
}
```

**Commit:** [4e3dbd7ca700fb7eec96e234e706897b0c04ac6a](https://github.com/sagemath/sagetrac-mirror/commit/4e3dbd7ca700fb7eec96e234e706897b0c04ac6a)



---

archive/issue_comments_419431.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fe559c5525eb5ca2f275f847c32e1869b9cbecea\">fe559c5</a></td><td><code>Avoid sorting vertices in relabel()</code></td></tr></table>\n",
    "created_at": "2019-01-07T10:50:51Z",
    "issue": "https://github.com/sagemath/sage/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27027#issuecomment-419431",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fe559c5525eb5ca2f275f847c32e1869b9cbecea">fe559c5</a></td><td><code>Avoid sorting vertices in relabel()</code></td></tr></table>




---

archive/issue_comments_419432.json:
```json
{
    "body": "**Changing commit** from \"[4e3dbd7ca700fb7eec96e234e706897b0c04ac6a](https://github.com/sagemath/sagetrac-mirror/commit/4e3dbd7ca700fb7eec96e234e706897b0c04ac6a)\" to \"[fe559c5525eb5ca2f275f847c32e1869b9cbecea](https://github.com/sagemath/sagetrac-mirror/commit/fe559c5525eb5ca2f275f847c32e1869b9cbecea)\".",
    "created_at": "2019-01-07T10:50:51Z",
    "issue": "https://github.com/sagemath/sage/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27027#issuecomment-419432",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[4e3dbd7ca700fb7eec96e234e706897b0c04ac6a](https://github.com/sagemath/sagetrac-mirror/commit/4e3dbd7ca700fb7eec96e234e706897b0c04ac6a)" to "[fe559c5525eb5ca2f275f847c32e1869b9cbecea](https://github.com/sagemath/sagetrac-mirror/commit/fe559c5525eb5ca2f275f847c32e1869b9cbecea)".



---

archive/issue_comments_419433.json:
```json
{
    "body": "<a id='comment:5'></a>\nUpdate, still work in progress.",
    "created_at": "2019-01-07T10:51:05Z",
    "issue": "https://github.com/sagemath/sage/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27027#issuecomment-419433",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:5'></a>
Update, still work in progress.



---

archive/issue_comments_419434.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n-There are several cases in `relabel()` which assume sorting of vertices. In some cases (when given a list/tuple) this makes sense and is hard to avoid.\n+There are several cases in `relabel()` which assume sorting of vertices. \n \n-The following should be fixed though:\n+The following cases are fixed:\n \n 1. `perm=None`. This should just relabel with integers from 0 to N-1.\n \n@@ -11,3 +11,5 @@\n             perm = dict( [ i, perm(i) ] for i in self.vertices() )\n             complete_partial_function = False\n ```\n+\n+Furthermore, we allow arbitrary iterables to be given for relabeling instead of only `list` and `tuple`. This makes things with Python 3 where `range()` becomes an iterator.\n``````\n",
    "created_at": "2019-01-07T11:35:34Z",
    "issue": "https://github.com/sagemath/sage/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27027#issuecomment-419434",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,6 +1,6 @@
-There are several cases in `relabel()` which assume sorting of vertices. In some cases (when given a list/tuple) this makes sense and is hard to avoid.
+There are several cases in `relabel()` which assume sorting of vertices. 
 
-The following should be fixed though:
+The following cases are fixed:
 
 1. `perm=None`. This should just relabel with integers from 0 to N-1.
 
@@ -11,3 +11,5 @@
             perm = dict( [ i, perm(i) ] for i in self.vertices() )
             complete_partial_function = False
 ```
+
+Furthermore, we allow arbitrary iterables to be given for relabeling instead of only `list` and `tuple`. This makes things with Python 3 where `range()` becomes an iterator.
``````




---

archive/issue_comments_419435.json:
```json
{
    "body": "<a id='comment:7'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6f92367a436e9e71999a26ec6c7dee1246f9f347\">6f92367</a></td><td><code>Avoid sorting vertices in relabel()</code></td></tr></table>\n",
    "created_at": "2019-01-07T11:37:33Z",
    "issue": "https://github.com/sagemath/sage/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27027#issuecomment-419435",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6f92367a436e9e71999a26ec6c7dee1246f9f347">6f92367</a></td><td><code>Avoid sorting vertices in relabel()</code></td></tr></table>




---

archive/issue_comments_419436.json:
```json
{
    "body": "**Changing commit** from \"[fe559c5525eb5ca2f275f847c32e1869b9cbecea](https://github.com/sagemath/sagetrac-mirror/commit/fe559c5525eb5ca2f275f847c32e1869b9cbecea)\" to \"[6f92367a436e9e71999a26ec6c7dee1246f9f347](https://github.com/sagemath/sagetrac-mirror/commit/6f92367a436e9e71999a26ec6c7dee1246f9f347)\".",
    "created_at": "2019-01-07T11:37:33Z",
    "issue": "https://github.com/sagemath/sage/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27027#issuecomment-419436",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[fe559c5525eb5ca2f275f847c32e1869b9cbecea](https://github.com/sagemath/sagetrac-mirror/commit/fe559c5525eb5ca2f275f847c32e1869b9cbecea)" to "[6f92367a436e9e71999a26ec6c7dee1246f9f347](https://github.com/sagemath/sagetrac-mirror/commit/6f92367a436e9e71999a26ec6c7dee1246f9f347)".



---

archive/issue_comments_419437.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -2,7 +2,7 @@\n \n The following cases are fixed:\n \n-1. `perm=None`. This should just relabel with integers from 0 to N-1.\n+1. `perm=None`. This should just relabel with integers from 0 to N-1 in an arbitrary order (as the documentation already says).\n \n 2. `perm` is a callable. This is easy to avoid, as the ordering of the vertices is not used in the code:\n \n``````\n",
    "created_at": "2019-01-07T11:39:37Z",
    "issue": "https://github.com/sagemath/sage/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27027#issuecomment-419437",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -2,7 +2,7 @@
 
 The following cases are fixed:
 
-1. `perm=None`. This should just relabel with integers from 0 to N-1.
+1. `perm=None`. This should just relabel with integers from 0 to N-1 in an arbitrary order (as the documentation already says).
 
 2. `perm` is a callable. This is easy to avoid, as the ordering of the vertices is not used in the code:
 
``````




---

archive/issue_comments_419438.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -12,4 +12,4 @@\n             complete_partial_function = False\n ```\n \n-Furthermore, we allow arbitrary iterables to be given for relabeling instead of only `list` and `tuple`. This makes things with Python 3 where `range()` becomes an iterator.\n+Furthermore, we allow arbitrary iterables to be given for relabeling instead of only `list` and `tuple`. This improves things with Python 3 where `range()` becomes an iterator.\n``````\n",
    "created_at": "2019-01-07T11:40:01Z",
    "issue": "https://github.com/sagemath/sage/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27027#issuecomment-419438",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -12,4 +12,4 @@
             complete_partial_function = False
 ```
 
-Furthermore, we allow arbitrary iterables to be given for relabeling instead of only `list` and `tuple`. This makes things with Python 3 where `range()` becomes an iterator.
+Furthermore, we allow arbitrary iterables to be given for relabeling instead of only `list` and `tuple`. This improves things with Python 3 where `range()` becomes an iterator.
``````




---

archive/issue_events_238586.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-07T11:40:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27027",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27027#event-238586"
}
```



---

archive/issue_comments_419439.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -12,4 +12,6 @@\n             complete_partial_function = False\n ```\n \n+This broke several functions which did assume a particular ordering for `G.relabel(perm=None)`. Those are fixed by using `G.relabel(perm=range(G.order()))` instead.\n+\n Furthermore, we allow arbitrary iterables to be given for relabeling instead of only `list` and `tuple`. This improves things with Python 3 where `range()` becomes an iterator.\n``````\n",
    "created_at": "2019-01-07T11:43:14Z",
    "issue": "https://github.com/sagemath/sage/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27027#issuecomment-419439",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -12,4 +12,6 @@
             complete_partial_function = False
 ```
 
+This broke several functions which did assume a particular ordering for `G.relabel(perm=None)`. Those are fixed by using `G.relabel(perm=range(G.order()))` instead.
+
 Furthermore, we allow arbitrary iterables to be given for relabeling instead of only `list` and `tuple`. This improves things with Python 3 where `range()` becomes an iterator.
``````




---

archive/issue_comments_419440.json:
```json
{
    "body": "<a id='comment:12'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ab00c175178632d7dd1835bc618fa08bf5253aa8\">ab00c17</a></td><td><code>Avoid sorting vertices in relabel()</code></td></tr></table>\n",
    "created_at": "2019-01-07T13:45:56Z",
    "issue": "https://github.com/sagemath/sage/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27027#issuecomment-419440",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ab00c175178632d7dd1835bc618fa08bf5253aa8">ab00c17</a></td><td><code>Avoid sorting vertices in relabel()</code></td></tr></table>




---

archive/issue_comments_419441.json:
```json
{
    "body": "**Changing commit** from \"[6f92367a436e9e71999a26ec6c7dee1246f9f347](https://github.com/sagemath/sagetrac-mirror/commit/6f92367a436e9e71999a26ec6c7dee1246f9f347)\" to \"[ab00c175178632d7dd1835bc618fa08bf5253aa8](https://github.com/sagemath/sagetrac-mirror/commit/ab00c175178632d7dd1835bc618fa08bf5253aa8)\".",
    "created_at": "2019-01-07T13:45:56Z",
    "issue": "https://github.com/sagemath/sage/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27027#issuecomment-419441",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[6f92367a436e9e71999a26ec6c7dee1246f9f347](https://github.com/sagemath/sagetrac-mirror/commit/6f92367a436e9e71999a26ec6c7dee1246f9f347)" to "[ab00c175178632d7dd1835bc618fa08bf5253aa8](https://github.com/sagemath/sagetrac-mirror/commit/ab00c175178632d7dd1835bc618fa08bf5253aa8)".



---

archive/issue_comments_419442.json:
```json
{
    "body": "<a id='comment:13'></a>\nGreen patchbot!",
    "created_at": "2019-01-08T11:40:50Z",
    "issue": "https://github.com/sagemath/sage/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27027#issuecomment-419442",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:13'></a>
Green patchbot!



---

archive/issue_comments_419443.json:
```json
{
    "body": "<a id='comment:14'></a>\nUnless I'm mistaken, `range` is an iterator in py3. Therefore, we cannot do `G.relabel(range(G.order()))` (several places). Or we must add a specific rule for iterators.",
    "created_at": "2019-01-08T13:28:37Z",
    "issue": "https://github.com/sagemath/sage/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27027#issuecomment-419443",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:14'></a>
Unless I'm mistaken, `range` is an iterator in py3. Therefore, we cannot do `G.relabel(range(G.order()))` (several places). Or we must add a specific rule for iterators.



---

archive/issue_comments_419444.json:
```json
{
    "body": "**Reviewer:** David Coudert",
    "created_at": "2019-01-08T13:28:37Z",
    "issue": "https://github.com/sagemath/sage/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27027#issuecomment-419444",
    "user": "https://github.com/dcoudert"
}
```

**Reviewer:** David Coudert



---

archive/issue_comments_419445.json:
```json
{
    "body": "<a id='comment:15'></a>\nReplying to [@dcoudert](#comment%3A14):\n> Or we must add a specific rule for iterators.\n\nIndeed. This is what I did in this patch.",
    "created_at": "2019-01-08T14:18:00Z",
    "issue": "https://github.com/sagemath/sage/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27027#issuecomment-419445",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:15'></a>
Replying to [@dcoudert](#comment%3A14):
> Or we must add a specific rule for iterators.

Indeed. This is what I did in this patch.



---

archive/issue_events_238587.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2019-01-08T16:15:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27027",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27027#event-238587"
}
```



---

archive/issue_events_238588.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2019-01-08T16:15:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27027",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27027#event-238588"
}
```



---

archive/issue_comments_419446.json:
```json
{
    "body": "<a id='comment:16'></a>\nFor me this patch is good to go. I did several tests without detecting any hidden issue.",
    "created_at": "2019-01-08T16:15:39Z",
    "issue": "https://github.com/sagemath/sage/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27027#issuecomment-419446",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:16'></a>
For me this patch is good to go. I did several tests without detecting any hidden issue.



---

archive/issue_comments_419447.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"py3, graph\".",
    "created_at": "2019-01-08T16:15:39Z",
    "issue": "https://github.com/sagemath/sage/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27027#issuecomment-419447",
    "user": "https://github.com/dcoudert"
}
```

**Changing keywords** from "" to "py3, graph".



---

archive/issue_events_238589.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-15T18:16:10Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/27027",
    "milestone": "sage-8.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27027#event-238589"
}
```



---

archive/issue_events_238590.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-15T18:16:10Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27027",
    "milestone": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27027#event-238590"
}
```



---

archive/issue_comments_419448.json:
```json
{
    "body": "<a id='comment:17'></a>\nRetarging tickets optimistically to the next milestone.  If you are responsible for this ticket (either its reporter or owner) and don't believe you are likely to complete this ticket before the next release (8.7) please retarget this ticket's milestone to sage-pending or sage-wishlist.",
    "created_at": "2019-01-15T18:16:10Z",
    "issue": "https://github.com/sagemath/sage/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27027#issuecomment-419448",
    "user": "https://github.com/embray"
}
```

<a id='comment:17'></a>
Retarging tickets optimistically to the next milestone.  If you are responsible for this ticket (either its reporter or owner) and don't believe you are likely to complete this ticket before the next release (8.7) please retarget this ticket's milestone to sage-pending or sage-wishlist.



---

archive/issue_events_238591.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-01-17T17:31:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27027",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27027#event-238591"
}
```



---

archive/issue_events_238592.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-01-17T17:31:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27027",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27027#event-238592"
}
```



---

archive/issue_comments_419449.json:
```json
{
    "body": "<a id='comment:18'></a>\nMerge conflict",
    "created_at": "2019-01-17T17:31:00Z",
    "issue": "https://github.com/sagemath/sage/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27027#issuecomment-419449",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:18'></a>
Merge conflict



---

archive/issue_comments_419450.json:
```json
{
    "body": "<a id='comment:19'></a>\nThe issue in `src/sage/combinat/cluster_algebra_quiver/quiver.py` was already fixed by #26985.\n\nSo I'm just reverting any changes to that file.",
    "created_at": "2019-01-23T21:23:13Z",
    "issue": "https://github.com/sagemath/sage/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27027#issuecomment-419450",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:19'></a>
The issue in `src/sage/combinat/cluster_algebra_quiver/quiver.py` was already fixed by #26985.

So I'm just reverting any changes to that file.



---

archive/issue_comments_419451.json:
```json
{
    "body": "<a id='comment:20'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a7eaec9a42dbdc6839fca59d2f42c8e1f07e6c07\">a7eaec9</a></td><td><code>Avoid sorting vertices in relabel()</code></td></tr></table>\n",
    "created_at": "2019-01-23T21:23:50Z",
    "issue": "https://github.com/sagemath/sage/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27027#issuecomment-419451",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a7eaec9a42dbdc6839fca59d2f42c8e1f07e6c07">a7eaec9</a></td><td><code>Avoid sorting vertices in relabel()</code></td></tr></table>




---

archive/issue_comments_419452.json:
```json
{
    "body": "**Changing commit** from \"[ab00c175178632d7dd1835bc618fa08bf5253aa8](https://github.com/sagemath/sagetrac-mirror/commit/ab00c175178632d7dd1835bc618fa08bf5253aa8)\" to \"[a7eaec9a42dbdc6839fca59d2f42c8e1f07e6c07](https://github.com/sagemath/sagetrac-mirror/commit/a7eaec9a42dbdc6839fca59d2f42c8e1f07e6c07)\".",
    "created_at": "2019-01-23T21:23:50Z",
    "issue": "https://github.com/sagemath/sage/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27027#issuecomment-419452",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[ab00c175178632d7dd1835bc618fa08bf5253aa8](https://github.com/sagemath/sagetrac-mirror/commit/ab00c175178632d7dd1835bc618fa08bf5253aa8)" to "[a7eaec9a42dbdc6839fca59d2f42c8e1f07e6c07](https://github.com/sagemath/sagetrac-mirror/commit/a7eaec9a42dbdc6839fca59d2f42c8e1f07e6c07)".



---

archive/issue_events_238593.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-23T21:24:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27027",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27027#event-238593"
}
```



---

archive/issue_events_238594.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-23T21:24:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27027",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27027#event-238594"
}
```



---

archive/issue_comments_419453.json:
```json
{
    "body": "<a id='comment:22'></a>\nAt least one green patchbot, so I'm restoring positive review.",
    "created_at": "2019-01-24T08:26:55Z",
    "issue": "https://github.com/sagemath/sage/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27027#issuecomment-419453",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:22'></a>
At least one green patchbot, so I'm restoring positive review.



---

archive/issue_events_238595.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-24T08:26:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27027",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27027#event-238595"
}
```



---

archive/issue_events_238596.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-24T08:26:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27027",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27027#event-238596"
}
```



---

archive/issue_comments_419454.json:
```json
{
    "body": "<a id='comment:23'></a>\nOK",
    "created_at": "2019-01-24T09:29:11Z",
    "issue": "https://github.com/sagemath/sage/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27027#issuecomment-419454",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:23'></a>
OK



---

archive/issue_events_238597.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-01-25T15:11:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27027",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27027#event-238597"
}
```



---

archive/issue_events_238598.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-01-25T15:11:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27027",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27027#event-238598"
}
```



---

archive/issue_comments_419455.json:
```json
{
    "body": "<a id='comment:24'></a>\n\n```\nsage -t --long src/sage/combinat/root_system/coxeter_matrix.py\n**********************************************************************\nFile \"src/sage/combinat/root_system/coxeter_matrix.py\", line 1041, in sage.combinat.root_system.coxeter_matrix.recognize_coxeter_type_from_matrix\nFailed example:\n    CoxeterMatrix(CoxeterType(['A',10,1]).coxeter_graph()).coxeter_type()\nExpected:\n    Coxeter type of ['A', 10, 1]\nGot:\n    Coxeter type of ['A', 10, 1] relabelled by {0: 2, 1: 3, 2: 4, 3: 5, 4: 6, 5: 7, 6: 8, 7: 9, 8: 10, 9: 0, 10: 1}\n**********************************************************************\n1 item had failures:\n   1 of  39 in sage.combinat.root_system.coxeter_matrix.recognize_coxeter_type_from_matrix\n    [181 tests, 1 failure, 0.51 s\n```",
    "created_at": "2019-01-25T15:11:37Z",
    "issue": "https://github.com/sagemath/sage/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27027#issuecomment-419455",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:24'></a>

```
sage -t --long src/sage/combinat/root_system/coxeter_matrix.py
**********************************************************************
File "src/sage/combinat/root_system/coxeter_matrix.py", line 1041, in sage.combinat.root_system.coxeter_matrix.recognize_coxeter_type_from_matrix
Failed example:
    CoxeterMatrix(CoxeterType(['A',10,1]).coxeter_graph()).coxeter_type()
Expected:
    Coxeter type of ['A', 10, 1]
Got:
    Coxeter type of ['A', 10, 1] relabelled by {0: 2, 1: 3, 2: 4, 3: 5, 4: 6, 5: 7, 6: 8, 7: 9, 8: 10, 9: 0, 10: 1}
**********************************************************************
1 item had failures:
   1 of  39 in sage.combinat.root_system.coxeter_matrix.recognize_coxeter_type_from_matrix
    [181 tests, 1 failure, 0.51 s
```



---

archive/issue_comments_419456.json:
```json
{
    "body": "**Dependencies:** #27033",
    "created_at": "2019-01-25T15:33:54Z",
    "issue": "https://github.com/sagemath/sage/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27027#issuecomment-419456",
    "user": "https://github.com/jdemeyer"
}
```

**Dependencies:** #27033



---

archive/issue_comments_419457.json:
```json
{
    "body": "<a id='comment:26'></a>\nThis failure is caused by interactions with #27029. It doesn't happen by itself.",
    "created_at": "2019-01-25T15:34:48Z",
    "issue": "https://github.com/sagemath/sage/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27027#issuecomment-419457",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:26'></a>
This failure is caused by interactions with #27029. It doesn't happen by itself.



---

archive/issue_comments_419458.json:
```json
{
    "body": "**Changing dependencies** from \"#27033\" to \"#27029\".",
    "created_at": "2019-01-25T15:58:28Z",
    "issue": "https://github.com/sagemath/sage/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27027#issuecomment-419458",
    "user": "https://github.com/jdemeyer"
}
```

**Changing dependencies** from "#27033" to "#27029".



---

archive/issue_events_238599.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-25T16:42:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27027",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27027#event-238599"
}
```



---

archive/issue_events_238600.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-25T16:42:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27027",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27027#event-238600"
}
```



---

archive/issue_comments_419459.json:
```json
{
    "body": "**Changing dependencies** from \"#27029\" to \"\".",
    "created_at": "2019-01-25T16:42:36Z",
    "issue": "https://github.com/sagemath/sage/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27027#issuecomment-419459",
    "user": "https://github.com/jdemeyer"
}
```

**Changing dependencies** from "#27029" to "".



---

archive/issue_comments_419460.json:
```json
{
    "body": "<a id='comment:29'></a>\nI'm a bit lost here... at least, I don't have errors when testing this ticket alone.",
    "created_at": "2019-01-25T16:51:28Z",
    "issue": "https://github.com/sagemath/sage/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27027#issuecomment-419460",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:29'></a>
I'm a bit lost here... at least, I don't have errors when testing this ticket alone.



---

archive/issue_comments_419461.json:
```json
{
    "body": "<a id='comment:30'></a>\nAs I said, it's because of this ticket together with #27029.",
    "created_at": "2019-01-25T21:09:28Z",
    "issue": "https://github.com/sagemath/sage/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27027#issuecomment-419461",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:30'></a>
As I said, it's because of this ticket together with #27029.



---

archive/issue_events_238601.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-01-27T10:54:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27027",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27027#event-238601"
}
```



---

archive/issue_events_238602.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "743804f01406a0e04b34f1dc00e81731de0be46e",
    "created_at": "2019-01-27T10:54:36Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/27027",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27027#event-238602"
}
```



---

archive/issue_comments_419462.json:
```json
{
    "body": "**Changing branch** from \"[u/jdemeyer/graph_relabel___assumes_sortable_vertices](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/graph_relabel___assumes_sortable_vertices)\" to \"[a7eaec9a42dbdc6839fca59d2f42c8e1f07e6c07](https://github.com/sagemath/sagetrac-mirror/commit/a7eaec9a42dbdc6839fca59d2f42c8e1f07e6c07)\".",
    "created_at": "2019-01-27T10:54:36Z",
    "issue": "https://github.com/sagemath/sage/issues/27027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27027#issuecomment-419462",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/jdemeyer/graph_relabel___assumes_sortable_vertices](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/graph_relabel___assumes_sortable_vertices)" to "[a7eaec9a42dbdc6839fca59d2f42c8e1f07e6c07](https://github.com/sagemath/sagetrac-mirror/commit/a7eaec9a42dbdc6839fca59d2f42c8e1f07e6c07)".
