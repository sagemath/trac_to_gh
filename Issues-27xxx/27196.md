# Issue 27196: make sagelib work and doctest even if SAGE_ROOT is None

archive/issues_026959.json:
```json
{
    "assignees": [],
    "body": "This is a push to be able to use and doctest sage without SAGE_ROOT being defined. This is mainly useful for distro or if you import sage from python directly without running sage-env first.\n\n* `sage/misc/persist.pyx` is dealt with in #27192\n* in `sage/misc/citation.pyx` `SAGE_ROOT` is replaced with `\"\"` but for all cases I have seen `SAGE_LIB` would be correct. I have only gone for `SAGE_LOCAL` in case something in `SAGE_LOCAL/bin` needs to be picked up.\n* in `bin/sage-notebook` and `sage/misc/package.py`, `SAGE_ROOT` is imported but not used. So I removed it while I was at it.\n\nThis ticket doesn't deal with `SAGE_ROOT` used in `src/sage/misc/copying.py`.\n\nDepends on #27206\n\nBranch/Commit: **[`56029cb`](https://github.com/sagemath/sagetrac-mirror/commit/56029cb708607b5af2aa8320a3ac9fe561005cb8)**\n\nReviewer: **Jeroen Demeyer, Fran\u00e7ois Bissey**\n\nAuthor: **Fran\u00e7ois Bissey**\n\nComponent: **distribution**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/27196_\n\n",
    "closed_at": "2019-02-13T20:56:33Z",
    "created_at": "2019-02-01T01:45:26Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20distribution",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.7",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "make sagelib work and doctest even if SAGE_ROOT is None",
    "type": "issue",
    "updated_at": "2019-02-13T20:56:33Z",
    "url": "https://github.com/sagemath/sage/issues/27196",
    "user": "https://github.com/kiwifb"
}
```
This is a push to be able to use and doctest sage without SAGE_ROOT being defined. This is mainly useful for distro or if you import sage from python directly without running sage-env first.

* `sage/misc/persist.pyx` is dealt with in #27192
* in `sage/misc/citation.pyx` `SAGE_ROOT` is replaced with `""` but for all cases I have seen `SAGE_LIB` would be correct. I have only gone for `SAGE_LOCAL` in case something in `SAGE_LOCAL/bin` needs to be picked up.
* in `bin/sage-notebook` and `sage/misc/package.py`, `SAGE_ROOT` is imported but not used. So I removed it while I was at it.

This ticket doesn't deal with `SAGE_ROOT` used in `src/sage/misc/copying.py`.

Depends on #27206

Branch/Commit: **[`56029cb`](https://github.com/sagemath/sagetrac-mirror/commit/56029cb708607b5af2aa8320a3ac9fe561005cb8)**

Reviewer: **Jeroen Demeyer, François Bissey**

Author: **François Bissey**

Component: **distribution**

_Issue created by migration from https://trac.sagemath.org/ticket/27196_





---

archive/issue_events_370707.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2019-02-01T01:45:26Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27196#event-370707"
}
```



---

archive/issue_events_370708.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2019-02-01T01:45:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20distribution",
    "label_color": "0000b0",
    "label_name": "c: distribution",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27196#event-370708"
}
```



---

archive/issue_events_370709.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2019-02-01T01:45:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27196#event-370709"
}
```



---

archive/issue_events_370710.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2019-02-01T01:45:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27196#event-370710"
}
```



---

archive/issue_events_370711.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2019-02-01T01:46:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27196#event-370711"
}
```



---

archive/issue_comments_419728.json:
```json
{
    "body": "Author: **Fran\u00e7ois Bissey**",
    "created_at": "2019-02-01T01:46:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419728",
    "user": "https://github.com/kiwifb"
}
```

Author: **François Bissey**



---

archive/issue_comments_419729.json:
```json
{
    "body": "Commit: **[`aa46c63`](https://github.com/sagemath/sagetrac-mirror/commit/aa46c639c603bda111f892544963c4c3042fa335)**",
    "created_at": "2019-02-01T01:46:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419729",
    "user": "https://github.com/kiwifb"
}
```

Commit: **[`aa46c63`](https://github.com/sagemath/sagetrac-mirror/commit/aa46c639c603bda111f892544963c4c3042fa335)**



---

archive/issue_comments_419730.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aa46c639c603bda111f892544963c4c3042fa335\"><code>aa46c63</code></a></td><td><code>make sagelib work even if SAGE_ROOT is None</code></td></tr></table>\n",
    "created_at": "2019-02-01T01:46:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419730",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:1"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aa46c639c603bda111f892544963c4c3042fa335"><code>aa46c63</code></a></td><td><code>make sagelib work even if SAGE_ROOT is None</code></td></tr></table>




---

archive/issue_comments_419731.json:
```json
{
    "body": "Branch: **[u/fbissey/sage_root](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/sage_root)**",
    "created_at": "2019-02-01T01:46:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419731",
    "user": "https://github.com/kiwifb"
}
```

Branch: **[u/fbissey/sage_root](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/sage_root)**



---

archive/issue_comments_419732.json:
```json
{
    "body": "Changed dependencies from **#27040 #27192** to **#27040**",
    "created_at": "2019-02-01T16:40:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419732",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#27040 #27192** to **#27040**



---

archive/issue_comments_419733.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nI don't think that this actually depends on #27192.",
    "created_at": "2019-02-01T16:40:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419733",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:2" align="right">comment:2</div>

I don't think that this actually depends on #27192.



---

archive/issue_comments_419734.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\n1. For `DOT_GIT`, I would prefer to see that added to `sage/env.py` (maybe rename it to `SAGE_ROOT_GIT`). Note that you'll need to rebase the branch to #27040 then or wait for the next beta. I'm also not convinced that we can rely on the fact that `os.path.isdir(\"\")` returns `False`, I would prefer an explicit check for `None` there.\n\n2. In `src/sage/misc/misc.py`, you can use `sys.executable` instead.",
    "created_at": "2019-02-01T16:48:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419734",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:3" align="right">comment:3</div>

1. For `DOT_GIT`, I would prefer to see that added to `sage/env.py` (maybe rename it to `SAGE_ROOT_GIT`). Note that you'll need to rebase the branch to #27040 then or wait for the next beta. I'm also not convinced that we can rely on the fact that `os.path.isdir("")` returns `False`, I would prefer an explicit check for `None` there.

2. In `src/sage/misc/misc.py`, you can use `sys.executable` instead.



---

archive/issue_events_370712.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-02-01T16:48:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27196#event-370712"
}
```



---

archive/issue_events_370713.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-02-01T16:48:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27196#event-370713"
}
```



---

archive/issue_comments_419735.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nI came to think I wasn't very pythonic as well. I should have used `try:...expect:` blocks instead of conditionals. Before #27040 there was a `SAGE_ROOT_GIT` I guess that would mean restoring it. Should we do that when it is only used in a single file as far as I can tell?",
    "created_at": "2019-02-01T18:55:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419735",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:5" align="right">comment:5</div>

I came to think I wasn't very pythonic as well. I should have used `try:...expect:` blocks instead of conditionals. Before #27040 there was a `SAGE_ROOT_GIT` I guess that would mean restoring it. Should we do that when it is only used in a single file as far as I can tell?



---

archive/issue_comments_419736.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nReplying to [@kiwifb](#comment%3A5):\n> Before #27040 there was a `SAGE_ROOT_GIT` I guess that would mean restoring it.\n\nSure. I just removed it because I wasn't used. :-)\n\n> Should we do that when it is only used in a single file as far as I can tell?\n\nSure, why not? It's cleaner that way.",
    "created_at": "2019-02-01T19:54:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419736",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:6" align="right">comment:6</div>

Replying to [@kiwifb](#comment%3A5):
> Before #27040 there was a `SAGE_ROOT_GIT` I guess that would mean restoring it.

Sure. I just removed it because I wasn't used. :-)

> Should we do that when it is only used in a single file as far as I can tell?

Sure, why not? It's cleaner that way.



---

archive/issue_comments_419737.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nOK, that's a plan. Do you have any comments about `citation.pyx`?",
    "created_at": "2019-02-01T20:09:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419737",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:7" align="right">comment:7</div>

OK, that's a plan. Do you have any comments about `citation.pyx`?



---

archive/issue_comments_419738.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nReplying to [@kiwifb](#comment%3A7):\n> Do you have any comments about `citation.pyx`?\n\nNo. I think your changes are OK.",
    "created_at": "2019-02-03T13:55:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419738",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:8" align="right">comment:8</div>

Replying to [@kiwifb](#comment%3A7):
> Do you have any comments about `citation.pyx`?

No. I think your changes are OK.



---

archive/issue_comments_419739.json:
```json
{
    "body": "Changed dependencies from **#27040** to none",
    "created_at": "2019-02-03T13:55:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419739",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#27040** to none



---

archive/issue_events_370714.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2019-02-03T21:14:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27196#event-370714"
}
```



---

archive/issue_events_370715.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2019-02-03T21:14:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27196#event-370715"
}
```



---

archive/issue_comments_419740.json:
```json
{
    "body": "Changed branch from **[u/fbissey/sage_root](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/sage_root)** to **[u/fbissey/sage_root_v2](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/sage_root_v2)**",
    "created_at": "2019-02-03T21:14:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419740",
    "user": "https://github.com/kiwifb"
}
```

Changed branch from **[u/fbissey/sage_root](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/sage_root)** to **[u/fbissey/sage_root_v2](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/sage_root_v2)**



---

archive/issue_comments_419741.json:
```json
{
    "body": "Changed commit from **[`aa46c63`](https://github.com/sagemath/sagetrac-mirror/commit/aa46c639c603bda111f892544963c4c3042fa335)** to **[`f79cb44`](https://github.com/sagemath/sagetrac-mirror/commit/f79cb445250a72a53b1a8cf7222010733f307f6a)**",
    "created_at": "2019-02-03T21:14:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419741",
    "user": "https://github.com/kiwifb"
}
```

Changed commit from **[`aa46c63`](https://github.com/sagemath/sagetrac-mirror/commit/aa46c639c603bda111f892544963c4c3042fa335)** to **[`f79cb44`](https://github.com/sagemath/sagetrac-mirror/commit/f79cb445250a72a53b1a8cf7222010733f307f6a)**



---

archive/issue_comments_419742.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nOK rebased on new beta and better documented.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1bd3c8fd295f1ea672724faa50b95f4e5454ff25\"><code>1bd3c8f</code></a></td><td><code>remove useless SAGE_ROOT</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f79cb445250a72a53b1a8cf7222010733f307f6a\"><code>f79cb44</code></a></td><td><code>Eliminate the use of SAGE_ROOT where possible. Properly catch when replacement is None.</code></td></tr></table>\n",
    "created_at": "2019-02-03T21:14:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419742",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:9" align="right">comment:9</div>

OK rebased on new beta and better documented.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1bd3c8fd295f1ea672724faa50b95f4e5454ff25"><code>1bd3c8f</code></a></td><td><code>remove useless SAGE_ROOT</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f79cb445250a72a53b1a8cf7222010733f307f6a"><code>f79cb44</code></a></td><td><code>Eliminate the use of SAGE_ROOT where possible. Properly catch when replacement is None.</code></td></tr></table>




---

archive/issue_comments_419743.json:
```json
{
    "body": "Changed commit from **[`f79cb44`](https://github.com/sagemath/sagetrac-mirror/commit/f79cb445250a72a53b1a8cf7222010733f307f6a)** to **[`f786375`](https://github.com/sagemath/sagetrac-mirror/commit/f78637548620b8b51145e23bd17bebba7750a181)**",
    "created_at": "2019-02-03T21:16:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419743",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f79cb44`](https://github.com/sagemath/sagetrac-mirror/commit/f79cb445250a72a53b1a8cf7222010733f307f6a)** to **[`f786375`](https://github.com/sagemath/sagetrac-mirror/commit/f78637548620b8b51145e23bd17bebba7750a181)**



---

archive/issue_comments_419744.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f78637548620b8b51145e23bd17bebba7750a181\"><code>f786375</code></a></td><td><code>remove pesky tabs</code></td></tr></table>\n",
    "created_at": "2019-02-03T21:16:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419744",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f78637548620b8b51145e23bd17bebba7750a181"><code>f786375</code></a></td><td><code>remove pesky tabs</code></td></tr></table>




---

archive/issue_comments_419745.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,3 +4,4 @@\n * in `sage/misc/citation.pyx` `SAGE_ROOT` is replaced with `\"\"` but for all cases I have seen `SAGE_LIB` would be correct. I have only gone for `SAGE_LOCAL` in case something in `SAGE_LOCAL/bin` needs to be picked up.\n * in `bin/sage-notebook` and `sage/misc/package.py`, `SAGE_ROOT` is imported but not used. So I removed it while I was at it.\n \n+This ticket doesn't deal with `SAGE_ROOT` used in `src/sage/misc/copying.py`.\n``````\n",
    "created_at": "2019-02-03T22:44:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419745",
    "user": "https://github.com/kiwifb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,3 +4,4 @@
 * in `sage/misc/citation.pyx` `SAGE_ROOT` is replaced with `""` but for all cases I have seen `SAGE_LIB` would be correct. I have only gone for `SAGE_LOCAL` in case something in `SAGE_LOCAL/bin` needs to be picked up.
 * in `bin/sage-notebook` and `sage/misc/package.py`, `SAGE_ROOT` is imported but not used. So I removed it while I was at it.
 
+This ticket doesn't deal with `SAGE_ROOT` used in `src/sage/misc/copying.py`.
``````




---

archive/issue_comments_419746.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nThis is an odd way to test for `None`:\n\n```\n        try:\n            have_git = os.path.exists(SAGE_ROOT_GIT)\n        except TypeError:\n            have_git\n```\nWhat's wrong with\n\n```\n        if SAGE_ROOT_GIT is not None:\n            have_git = os.path.isdir(SAGE_ROOT_GIT)\n        else:\n            have_git = False\n```\nor even\n\n```\n        have_git = (SAGE_ROOT_GIT is not None) and os.path.isdir(SAGE_ROOT_GIT)\n```",
    "created_at": "2019-02-04T06:17:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419746",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:12" align="right">comment:12</div>

This is an odd way to test for `None`:

```
        try:
            have_git = os.path.exists(SAGE_ROOT_GIT)
        except TypeError:
            have_git
```
What's wrong with

```
        if SAGE_ROOT_GIT is not None:
            have_git = os.path.isdir(SAGE_ROOT_GIT)
        else:
            have_git = False
```
or even

```
        have_git = (SAGE_ROOT_GIT is not None) and os.path.isdir(SAGE_ROOT_GIT)
```



---

archive/issue_comments_419747.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nAlso little reason to use an extra variable here:\n\n```\n        sage: python_executable = sys.executable\n        sage: sage_makedirs(python_executable)\n```\nWhy not\n\n```\n        sage: sage_makedirs(sys.executable)\n```",
    "created_at": "2019-02-04T06:18:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419747",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:13" align="right">comment:13</div>

Also little reason to use an extra variable here:

```
        sage: python_executable = sys.executable
        sage: sage_makedirs(python_executable)
```
Why not

```
        sage: sage_makedirs(sys.executable)
```



---

archive/issue_comments_419748.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nYou may also want to squash your commits for a cleaner history.",
    "created_at": "2019-02-04T06:24:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419748",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:14" align="right">comment:14</div>

You may also want to squash your commits for a cleaner history.



---

archive/issue_comments_419749.json:
```json
{
    "body": "Reviewer: **Jeroen Demeyer**",
    "created_at": "2019-02-04T06:24:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419749",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Jeroen Demeyer**



---

archive/issue_events_370716.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-02-04T06:24:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27196#event-370716"
}
```



---

archive/issue_events_370717.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-02-04T06:24:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27196#event-370717"
}
```



---

archive/issue_comments_419750.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@jdemeyer](#comment%3A12):\n> This is an odd way to test for `None`:\n> \n> ```\n>         try:\n>             have_git = os.path.exists(SAGE_ROOT_GIT)\n>         except TypeError:\n>             have_git\n> ```\n> What's wrong with\n> \n> ```\n>         if SAGE_ROOT_GIT is not None:\n>             have_git = os.path.isdir(SAGE_ROOT_GIT)\n>         else:\n>             have_git = False\n> ```\n> or even\n> \n> ```\n>         have_git = (SAGE_ROOT_GIT is not None) and os.path.isdir(SAGE_ROOT_GIT)\n> ```\n\nWell it seemed to me the pythonic way is `try:... except:` but I won't be religious on that and arguably it is not testing for `None` so yes, I could go back to the way I originally did it.\n\nAs for `python_executable` I'll admit I thought of removing it and ended up going with minimal changes.",
    "created_at": "2019-02-04T06:27:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419750",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@jdemeyer](#comment%3A12):
> This is an odd way to test for `None`:
> 
> ```
>         try:
>             have_git = os.path.exists(SAGE_ROOT_GIT)
>         except TypeError:
>             have_git
> ```
> What's wrong with
> 
> ```
>         if SAGE_ROOT_GIT is not None:
>             have_git = os.path.isdir(SAGE_ROOT_GIT)
>         else:
>             have_git = False
> ```
> or even
> 
> ```
>         have_git = (SAGE_ROOT_GIT is not None) and os.path.isdir(SAGE_ROOT_GIT)
> ```

Well it seemed to me the pythonic way is `try:... except:` but I won't be religious on that and arguably it is not testing for `None` so yes, I could go back to the way I originally did it.

As for `python_executable` I'll admit I thought of removing it and ended up going with minimal changes.



---

archive/issue_comments_419751.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d46ba1e80d95b4f5d289d4c20d80018a155bdf80\"><code>d46ba1e</code></a></td><td><code>check more explictly for None</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d3eefbbd0ea81552cab7bfaa08f10bc5c08ca32c\"><code>d3eefbb</code></a></td><td><code>remove useless statement</code></td></tr></table>\n",
    "created_at": "2019-02-04T08:11:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419751",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d46ba1e80d95b4f5d289d4c20d80018a155bdf80"><code>d46ba1e</code></a></td><td><code>check more explictly for None</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d3eefbbd0ea81552cab7bfaa08f10bc5c08ca32c"><code>d3eefbb</code></a></td><td><code>remove useless statement</code></td></tr></table>




---

archive/issue_comments_419752.json:
```json
{
    "body": "Changed commit from **[`f786375`](https://github.com/sagemath/sagetrac-mirror/commit/f78637548620b8b51145e23bd17bebba7750a181)** to **[`d3eefbb`](https://github.com/sagemath/sagetrac-mirror/commit/d3eefbbd0ea81552cab7bfaa08f10bc5c08ca32c)**",
    "created_at": "2019-02-04T08:11:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419752",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f786375`](https://github.com/sagemath/sagetrac-mirror/commit/f78637548620b8b51145e23bd17bebba7750a181)** to **[`d3eefbb`](https://github.com/sagemath/sagetrac-mirror/commit/d3eefbbd0ea81552cab7bfaa08f10bc5c08ca32c)**



---

archive/issue_events_370718.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2019-02-04T08:12:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27196#event-370718"
}
```



---

archive/issue_events_370719.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2019-02-04T08:12:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27196#event-370719"
}
```



---

archive/issue_comments_419753.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nThere, and all squashed.",
    "created_at": "2019-02-04T08:12:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419753",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:17" align="right">comment:17</div>

There, and all squashed.



---

archive/issue_comments_419754.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nReplying to [@kiwifb](#comment%3A15):\n> Well it seemed to me the pythonic way is `try:... except:`\n\nI think that mainly applies when the condition is either expensive to check or when the condition might change independently (e.g. checking for existence of a file).",
    "created_at": "2019-02-04T08:19:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419754",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:18" align="right">comment:18</div>

Replying to [@kiwifb](#comment%3A15):
> Well it seemed to me the pythonic way is `try:... except:`

I think that mainly applies when the condition is either expensive to check or when the condition might change independently (e.g. checking for existence of a file).



---

archive/issue_events_370720.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-02-04T08:20:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27196#event-370720"
}
```



---

archive/issue_events_370721.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-02-04T08:20:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27196#event-370721"
}
```



---

archive/issue_comments_419755.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@kiwifb](#comment%3A17):\n> There, and all squashed.\n\nNo, but it doesn't matter.",
    "created_at": "2019-02-04T08:21:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419755",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@kiwifb](#comment%3A17):
> There, and all squashed.

No, but it doesn't matter.



---

archive/issue_comments_419756.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@jdemeyer](#comment%3A20):\n> Replying to [@kiwifb](#comment%3A17):\n> > There, and all squashed.\n\n> \n> No, but it doesn't matter.\n\nAll right. Give me a pointer to how to squash for next time then.",
    "created_at": "2019-02-04T08:23:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419756",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@jdemeyer](#comment%3A20):
> Replying to [@kiwifb](#comment%3A17):
> > There, and all squashed.

> 
> No, but it doesn't matter.

All right. Give me a pointer to how to squash for next time then.



---

archive/issue_events_370722.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2019-02-04T19:49:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27196#event-370722"
}
```



---

archive/issue_events_370723.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2019-02-04T19:49:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27196#event-370723"
}
```



---

archive/issue_comments_419757.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\n#27206 which is  in the process of being merged by Volker interferes with this in `citation.pyx`.",
    "created_at": "2019-02-04T19:49:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419757",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:22" align="right">comment:22</div>

#27206 which is  in the process of being merged by Volker interferes with this in `citation.pyx`.



---

archive/issue_comments_419758.json:
```json
{
    "body": "Dependencies: **#27206**",
    "created_at": "2019-02-04T19:49:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419758",
    "user": "https://github.com/kiwifb"
}
```

Dependencies: **#27206**



---

archive/issue_comments_419759.json:
```json
{
    "body": "Changed branch from **[u/fbissey/sage_root_v2](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/sage_root_v2)** to **[u/jdemeyer/sage_root_v2](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/sage_root_v2)**",
    "created_at": "2019-02-06T10:09:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419759",
    "user": "https://github.com/jdemeyer"
}
```

Changed branch from **[u/fbissey/sage_root_v2](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/sage_root_v2)** to **[u/jdemeyer/sage_root_v2](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/sage_root_v2)**



---

archive/issue_comments_419760.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/099f3e7bf127e84b644789e881f504b8c71d5526\"><code>099f3e7</code></a></td><td><code>Use os.path.isdir() to check SAGE_ROOT_GIT</code></td></tr></table>\n",
    "created_at": "2019-02-06T10:10:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419760",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/099f3e7bf127e84b644789e881f504b8c71d5526"><code>099f3e7</code></a></td><td><code>Use os.path.isdir() to check SAGE_ROOT_GIT</code></td></tr></table>




---

archive/issue_comments_419761.json:
```json
{
    "body": "Changed commit from **[`d3eefbb`](https://github.com/sagemath/sagetrac-mirror/commit/d3eefbbd0ea81552cab7bfaa08f10bc5c08ca32c)** to **[`099f3e7`](https://github.com/sagemath/sagetrac-mirror/commit/099f3e7bf127e84b644789e881f504b8c71d5526)**",
    "created_at": "2019-02-06T10:10:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419761",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d3eefbb`](https://github.com/sagemath/sagetrac-mirror/commit/d3eefbbd0ea81552cab7bfaa08f10bc5c08ca32c)** to **[`099f3e7`](https://github.com/sagemath/sagetrac-mirror/commit/099f3e7bf127e84b644789e881f504b8c71d5526)**



---

archive/issue_comments_419762.json:
```json
{
    "body": "Changed commit from **[`099f3e7`](https://github.com/sagemath/sagetrac-mirror/commit/099f3e7bf127e84b644789e881f504b8c71d5526)** to **[`172648d`](https://github.com/sagemath/sagetrac-mirror/commit/172648d22c55b53c7af036448b2f306c02b293d4)**",
    "created_at": "2019-02-06T10:11:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419762",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`099f3e7`](https://github.com/sagemath/sagetrac-mirror/commit/099f3e7bf127e84b644789e881f504b8c71d5526)** to **[`172648d`](https://github.com/sagemath/sagetrac-mirror/commit/172648d22c55b53c7af036448b2f306c02b293d4)**



---

archive/issue_comments_419763.json:
```json
{
    "body": "<div id=\"comment:25\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/172648d22c55b53c7af036448b2f306c02b293d4\"><code>172648d</code></a></td><td><code>Use os.path.isdir() to check SAGE_ROOT_GIT</code></td></tr></table>\n",
    "created_at": "2019-02-06T10:11:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419763",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:25"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/172648d22c55b53c7af036448b2f306c02b293d4"><code>172648d</code></a></td><td><code>Use os.path.isdir() to check SAGE_ROOT_GIT</code></td></tr></table>




---

archive/issue_events_370724.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-02-06T10:12:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27196#event-370724"
}
```



---

archive/issue_events_370725.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-02-06T10:12:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27196#event-370725"
}
```



---

archive/issue_comments_419764.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nMerged with #27206 and squashed. I added one tiny additional commit, please review.",
    "created_at": "2019-02-06T10:12:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419764",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:26" align="right">comment:26</div>

Merged with #27206 and squashed. I added one tiny additional commit, please review.



---

archive/issue_comments_419765.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nCool, that means I won't have to do it tomorrow :) your comment is more comprehensive. I guess `isdir` is a more precise test as well. Someone could have fun creating a file `SAGE_ROOT/.git` and see what breaks.",
    "created_at": "2019-02-06T10:20:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419765",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:27" align="right">comment:27</div>

Cool, that means I won't have to do it tomorrow :) your comment is more comprehensive. I guess `isdir` is a more precise test as well. Someone could have fun creating a file `SAGE_ROOT/.git` and see what breaks.



---

archive/issue_events_370726.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2019-02-06T10:20:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27196#event-370726"
}
```



---

archive/issue_events_370727.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2019-02-06T10:20:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27196#event-370727"
}
```



---

archive/issue_comments_419766.json:
```json
{
    "body": "Changed reviewer from **Jeroen Demeyer** to **Jeroen Demeyer, Fran\u00e7ois Bissey**",
    "created_at": "2019-02-06T10:20:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419766",
    "user": "https://github.com/kiwifb"
}
```

Changed reviewer from **Jeroen Demeyer** to **Jeroen Demeyer, François Bissey**



---

archive/issue_events_370728.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-02-07T18:30:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27196#event-370728"
}
```



---

archive/issue_events_370729.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-02-07T18:30:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27196#event-370729"
}
```



---

archive/issue_comments_419767.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nThere is a syntax error in env.py, obviousy none of you never tried it...",
    "created_at": "2019-02-07T18:30:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419767",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:28" align="right">comment:28</div>

There is a syntax error in env.py, obviousy none of you never tried it...



---

archive/issue_comments_419768.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nReplying to [@vbraun](#comment%3A28):\n> There is a syntax error in env.py, obviousy none of you never tried it...\n\nGot it. Well, not in that form.",
    "created_at": "2019-02-07T18:48:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419768",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:29" align="right">comment:29</div>

Replying to [@vbraun](#comment%3A28):
> There is a syntax error in env.py, obviousy none of you never tried it...

Got it. Well, not in that form.



---

archive/issue_comments_419769.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nReplying to [@vbraun](#comment%3A28):\n> There is a syntax error in env.py, obviousy none of you never tried it...\n\nGood point, this has never actually worked.",
    "created_at": "2019-02-07T21:33:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419769",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:30" align="right">comment:30</div>

Replying to [@vbraun](#comment%3A28):
> There is a syntax error in env.py, obviousy none of you never tried it...

Good point, this has never actually worked.



---

archive/issue_comments_419770.json:
```json
{
    "body": "Changed commit from **[`172648d`](https://github.com/sagemath/sagetrac-mirror/commit/172648d22c55b53c7af036448b2f306c02b293d4)** to **[`fa1084b`](https://github.com/sagemath/sagetrac-mirror/commit/fa1084b513cacad52a7f89f529dab6ffbcc88421)**",
    "created_at": "2019-02-09T22:43:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419770",
    "user": "https://github.com/kiwifb"
}
```

Changed commit from **[`172648d`](https://github.com/sagemath/sagetrac-mirror/commit/172648d22c55b53c7af036448b2f306c02b293d4)** to **[`fa1084b`](https://github.com/sagemath/sagetrac-mirror/commit/fa1084b513cacad52a7f89f529dab6ffbcc88421)**



---

archive/issue_comments_419771.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nThis version has been properly doctested.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5bbfa187ad6a57e2b50cbf6bd63defabb28fb7ff\"><code>5bbfa18</code></a></td><td><code>Merge branch 'develop' into sage_root_v3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fa1084b513cacad52a7f89f529dab6ffbcc88421\"><code>fa1084b</code></a></td><td><code>fix syntax error in env.py</code></td></tr></table>\n",
    "created_at": "2019-02-09T22:43:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419771",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:31" align="right">comment:31</div>

This version has been properly doctested.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5bbfa187ad6a57e2b50cbf6bd63defabb28fb7ff"><code>5bbfa18</code></a></td><td><code>Merge branch 'develop' into sage_root_v3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fa1084b513cacad52a7f89f529dab6ffbcc88421"><code>fa1084b</code></a></td><td><code>fix syntax error in env.py</code></td></tr></table>




---

archive/issue_events_370730.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2019-02-09T22:43:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27196#event-370730"
}
```



---

archive/issue_events_370731.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2019-02-09T22:43:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27196#event-370731"
}
```



---

archive/issue_comments_419772.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/sage_root_v2](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/sage_root_v2)** to **[u/fbissey/sage_root_v2](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/sage_root_v2)**",
    "created_at": "2019-02-09T22:43:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419772",
    "user": "https://github.com/kiwifb"
}
```

Changed branch from **[u/jdemeyer/sage_root_v2](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/sage_root_v2)** to **[u/fbissey/sage_root_v2](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/sage_root_v2)**



---

archive/issue_comments_419773.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nI get a doctest failure in `src/sage/misc/inline_fortran.py`:\n\n```\nFailed example:\n    os.getcwd() == DOT_SAGE\nExpected:\n    True\nGot:\n    False\n```\nThe issue is that there is a trailing slash in `DOT_SAGE` but not in `os.getcwd()`. Does this come from `src/bin/sage-env`?\n\n```\n    # In theory, DOT_SAGE is not required to have a trailing slash.\n    # But since there are some issues (#11924, maybe #12221),\n    # we add a slash for safety.\n    DOT_SAGE=\"${DOT_SAGE}/\"\n    export DOT_SAGE\n```",
    "created_at": "2019-02-10T01:28:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419773",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:32" align="right">comment:32</div>

I get a doctest failure in `src/sage/misc/inline_fortran.py`:

```
Failed example:
    os.getcwd() == DOT_SAGE
Expected:
    True
Got:
    False
```
The issue is that there is a trailing slash in `DOT_SAGE` but not in `os.getcwd()`. Does this come from `src/bin/sage-env`?

```
    # In theory, DOT_SAGE is not required to have a trailing slash.
    # But since there are some issues (#11924, maybe #12221),
    # we add a slash for safety.
    DOT_SAGE="${DOT_SAGE}/"
    export DOT_SAGE
```



---

archive/issue_comments_419774.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nReplying to [@jhpalmieri](#comment%3A32):\n> I get a doctest failure in `src/sage/misc/inline_fortran.py`:\n> \n> ```\n> Failed example:\n>     os.getcwd() == DOT_SAGE\n> Expected:\n>     True\n> Got:\n>     False\n> ```\n> The issue is that there is a trailing slash in `DOT_SAGE` but not in `os.getcwd()`. Does this come from `src/bin/sage-env`?\n\nMust be. `env.py`'s default doesn't have one and my own sage-on-gentoo `sage-env` defines `DOT_SAGE` without a trailing slash.\n\n> ```\n>     # In theory, DOT_SAGE is not required to have a trailing slash.\n>     # But since there are some issues (#11924, maybe #12221),\n>     # we add a slash for safety.\n>     DOT_SAGE=\"${DOT_SAGE}/\"\n>     export DOT_SAGE\n> ```\n\nI think both issues are totally irrelevant now because of other changes. Although I will study #12221 because I have a issue with pari's testsuite in Gentoo's portage that may be totally related.\n\nIn this particular case I guess we need to make sure to \"normalize\" the path tested so it doesn't end up with a slash. Is there a python function for that?",
    "created_at": "2019-02-10T01:44:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419774",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:33" align="right">comment:33</div>

Replying to [@jhpalmieri](#comment%3A32):
> I get a doctest failure in `src/sage/misc/inline_fortran.py`:
> 
> ```
> Failed example:
>     os.getcwd() == DOT_SAGE
> Expected:
>     True
> Got:
>     False
> ```
> The issue is that there is a trailing slash in `DOT_SAGE` but not in `os.getcwd()`. Does this come from `src/bin/sage-env`?

Must be. `env.py`'s default doesn't have one and my own sage-on-gentoo `sage-env` defines `DOT_SAGE` without a trailing slash.

> ```
>     # In theory, DOT_SAGE is not required to have a trailing slash.
>     # But since there are some issues (#11924, maybe #12221),
>     # we add a slash for safety.
>     DOT_SAGE="${DOT_SAGE}/"
>     export DOT_SAGE
> ```

I think both issues are totally irrelevant now because of other changes. Although I will study #12221 because I have a issue with pari's testsuite in Gentoo's portage that may be totally related.

In this particular case I guess we need to make sure to "normalize" the path tested so it doesn't end up with a slash. Is there a python function for that?



---

archive/issue_comments_419775.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nWould using `os.getcwd() ==  os.path.normpath(DOT_SAGE)` (provided the right imports before hand) instead work?",
    "created_at": "2019-02-10T02:49:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419775",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:34" align="right">comment:34</div>

Would using `os.getcwd() ==  os.path.normpath(DOT_SAGE)` (provided the right imports before hand) instead work?



---

archive/issue_comments_419776.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nOK `normpath` works. `samefile` would be nice but is not available on windows apparently, so that could cause trouble on cygwin. \n\nExtra question: what should we do about that difference between `sage-env` and `env.py`? Should we have trailing `/` at all?",
    "created_at": "2019-02-10T05:00:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419776",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:35" align="right">comment:35</div>

OK `normpath` works. `samefile` would be nice but is not available on windows apparently, so that could cause trouble on cygwin. 

Extra question: what should we do about that difference between `sage-env` and `env.py`? Should we have trailing `/` at all?



---

archive/issue_comments_419777.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nI don't understand the comment in `sage-env` about #11924, since that ticket was explicitly trying to set things up so a trailing backslash would not be necessary. For this ticket I would just use `os.path.normpath`, but we should also (probably on a different ticket) try removing the trailing slash. I don't know the relationship between `src/sage/env.py` and `src/bin/sage-env`: do we need to deal with `DOT_SAGE` in `sage-env` if we set it in `env.py`?",
    "created_at": "2019-02-10T05:06:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419777",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:36" align="right">comment:36</div>

I don't understand the comment in `sage-env` about #11924, since that ticket was explicitly trying to set things up so a trailing backslash would not be necessary. For this ticket I would just use `os.path.normpath`, but we should also (probably on a different ticket) try removing the trailing slash. I don't know the relationship between `src/sage/env.py` and `src/bin/sage-env`: do we need to deal with `DOT_SAGE` in `sage-env` if we set it in `env.py`?



---

archive/issue_comments_419778.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nAll right, a very good question. \n\n* `sage-env` contains many things and does overlaps with `env.py`\n* `env.py` has default values for most variables but those default will be overridden if the variable is already defined in the running environment - by `sage-env` for example.\n* `sage-env` is loaded by the `sage` start up script. Depending on the arguments it may actually start other scripts rather than sage itself. Those scripts may need environment variables to be set (look at `sage-cython`, `sage-ipynb2rst` ...).\n* `env.py` has default that means sage will start if you load it directly from python. With this ticket and a few others, it will just work even if no environment variables are loaded from `sage-env` before hand. Except for `sage/misc/copying.py` (which isn't doctested).\n\nNow, a lot of the stuff in `sage-env` is about the building of sage. Some other stuff is about the self containment of sage. For example, sage change the default ipython folder to `.sage/ipython` so there is no interference with a system package. This is of course moot for sage-on-distro. Finally there is stuff that is really for running sage and that is mostly redundant with `env.py`.\n\nFinally I should plug myself [https://groups.google.com/forum/#!topic/sage-packaging/X-cMW8fFfso](https://groups.google.com/forum/#!topic/sage-packaging/X-cMW8fFfso). Note that I still have `DOT_SAGE` in `sage-env` because of some scripts called from the sage starting shell script (`sage-cleaner` and `sage-runtests` being the most concerning).",
    "created_at": "2019-02-10T06:40:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419778",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:37" align="right">comment:37</div>

All right, a very good question. 

* `sage-env` contains many things and does overlaps with `env.py`
* `env.py` has default values for most variables but those default will be overridden if the variable is already defined in the running environment - by `sage-env` for example.
* `sage-env` is loaded by the `sage` start up script. Depending on the arguments it may actually start other scripts rather than sage itself. Those scripts may need environment variables to be set (look at `sage-cython`, `sage-ipynb2rst` ...).
* `env.py` has default that means sage will start if you load it directly from python. With this ticket and a few others, it will just work even if no environment variables are loaded from `sage-env` before hand. Except for `sage/misc/copying.py` (which isn't doctested).

Now, a lot of the stuff in `sage-env` is about the building of sage. Some other stuff is about the self containment of sage. For example, sage change the default ipython folder to `.sage/ipython` so there is no interference with a system package. This is of course moot for sage-on-distro. Finally there is stuff that is really for running sage and that is mostly redundant with `env.py`.

Finally I should plug myself [https://groups.google.com/forum/#!topic/sage-packaging/X-cMW8fFfso](https://groups.google.com/forum/#!topic/sage-packaging/X-cMW8fFfso). Note that I still have `DOT_SAGE` in `sage-env` because of some scripts called from the sage starting shell script (`sage-cleaner` and `sage-runtests` being the most concerning).



---

archive/issue_comments_419779.json:
```json
{
    "body": "Changed commit from **[`fa1084b`](https://github.com/sagemath/sagetrac-mirror/commit/fa1084b513cacad52a7f89f529dab6ffbcc88421)** to **[`56029cb`](https://github.com/sagemath/sagetrac-mirror/commit/56029cb708607b5af2aa8320a3ac9fe561005cb8)**",
    "created_at": "2019-02-10T20:01:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419779",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`fa1084b`](https://github.com/sagemath/sagetrac-mirror/commit/fa1084b513cacad52a7f89f529dab6ffbcc88421)** to **[`56029cb`](https://github.com/sagemath/sagetrac-mirror/commit/56029cb708607b5af2aa8320a3ac9fe561005cb8)**



---

archive/issue_comments_419780.json:
```json
{
    "body": "<div id=\"comment:38\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/56029cb708607b5af2aa8320a3ac9fe561005cb8\"><code>56029cb</code></a></td><td><code>Better comparison of folder names</code></td></tr></table>\n",
    "created_at": "2019-02-10T20:01:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419780",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:38"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/56029cb708607b5af2aa8320a3ac9fe561005cb8"><code>56029cb</code></a></td><td><code>Better comparison of folder names</code></td></tr></table>




---

archive/issue_comments_419781.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nOK fixed that doctest.",
    "created_at": "2019-02-10T20:04:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419781",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:39" align="right">comment:39</div>

OK fixed that doctest.



---

archive/issue_comments_419782.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nI agree with that last change.",
    "created_at": "2019-02-10T20:11:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419782",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:40" align="right">comment:40</div>

I agree with that last change.



---

archive/issue_comments_419783.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nLet's wait for the patchbot before setting to positive review :-)",
    "created_at": "2019-02-10T20:13:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419783",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:41" align="right">comment:41</div>

Let's wait for the patchbot before setting to positive review :-)



---

archive/issue_events_370732.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-02-11T22:24:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27196#event-370732"
}
```



---

archive/issue_events_370733.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-02-11T22:24:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27196#event-370733"
}
```



---

archive/issue_comments_419784.json:
```json
{
    "body": "Changed branch from **[u/fbissey/sage_root_v2](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/sage_root_v2)** to **[`56029cb`](https://github.com/sagemath/sagetrac-mirror/commit/56029cb708607b5af2aa8320a3ac9fe561005cb8)**",
    "created_at": "2019-02-13T20:56:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27196#issuecomment-419784",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/fbissey/sage_root_v2](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/sage_root_v2)** to **[`56029cb`](https://github.com/sagemath/sagetrac-mirror/commit/56029cb708607b5af2aa8320a3ac9fe561005cb8)**



---

archive/issue_events_370734.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-02-13T20:56:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27196#event-370734"
}
```



---

archive/issue_events_370735.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "8eaad1f10a0d72611e7ffea07591f52c03345f4a",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-02-13T20:56:33Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/27196",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27196#event-370735"
}
```
