# Issue 27550: QQbar is_trivially_equal

archive/issues_027313.json:
```json
{
    "body": "Method for comparing equality by simply checking if two elements have the same structure/description (compared to the possibly expensive invoking of exactify)\n\nReviewer: Vincent Delecroix\n\nAuthor: Daniel Krenn\n\nBranch: u/dkrenn/is-trivially-equal\n\nStatus: needs_work\n\nCommit: 4cbad3d7ad1099a419588ad7fb7240ceb0d1cfd2\n\nIssue created by migration from https://trac.sagemath.org/ticket/27550\n\n",
    "created_at": "2019-03-26T10:05:02Z",
    "labels": [
        "component: commutative algebra"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "QQbar is_trivially_equal",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/27550",
    "user": "https://github.com/dkrenn"
}
```
Method for comparing equality by simply checking if two elements have the same structure/description (compared to the possibly expensive invoking of exactify)

Reviewer: Vincent Delecroix

Author: Daniel Krenn

Branch: u/dkrenn/is-trivially-equal

Status: needs_work

Commit: 4cbad3d7ad1099a419588ad7fb7240ceb0d1cfd2

Issue created by migration from https://trac.sagemath.org/ticket/27550





---

archive/issue_comments_525138.json:
```json
{
    "body": "Changing branch from \"\" to \"u/dkrenn/is-trivially-equal\"",
    "created_at": "2019-03-27T12:49:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27550#issuecomment-525138",
    "user": "https://github.com/dkrenn"
}
```

Changing branch from "" to "u/dkrenn/is-trivially-equal"



---

archive/issue_comments_525139.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-03-27T13:11:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27550#issuecomment-525139",
    "user": "https://github.com/dkrenn"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_525140.json:
```json
{
    "body": "<a id='comment:2'></a>\nNew commits:\n|                                                                                                                                          |                                                                    |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------|\n|[6bf8ebb](https://github.com/sagemath/sagetrac-mirror/commit/6bf8ebb3615a6aaaab7895eade7b523aeb0760a3)|`Trac #27550: method is_trivially_equal (for QQbar and AA elements)`|\n|[4cbad3d](https://github.com/sagemath/sagetrac-mirror/commit/4cbad3d7ad1099a419588ad7fb7240ceb0d1cfd2)|`Trac #27550: rename variables in doctests for consistency`|",
    "created_at": "2019-03-27T13:11:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27550#issuecomment-525140",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:2'></a>
New commits:
|                                                                                                                                          |                                                                    |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------|
|[6bf8ebb](https://github.com/sagemath/sagetrac-mirror/commit/6bf8ebb3615a6aaaab7895eade7b523aeb0760a3)|`Trac #27550: method is_trivially_equal (for QQbar and AA elements)`|
|[4cbad3d](https://github.com/sagemath/sagetrac-mirror/commit/4cbad3d7ad1099a419588ad7fb7240ceb0d1cfd2)|`Trac #27550: rename variables in doctests for consistency`|



---

archive/issue_comments_525141.json:
```json
{
    "body": "Changing commit from \"\" to \"4cbad3d7ad1099a419588ad7fb7240ceb0d1cfd2\"",
    "created_at": "2019-03-27T13:11:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27550#issuecomment-525141",
    "user": "https://github.com/dkrenn"
}
```

Changing commit from "" to "4cbad3d7ad1099a419588ad7fb7240ceb0d1cfd2"



---

archive/issue_comments_525142.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-04-18T20:15:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27550#issuecomment-525142",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_525143.json:
```json
{
    "body": "<a id='comment:3'></a>\nI don't understand your logic here. If you want cheaper equality tests, just implement shortcuts in the methods `__bool__` and `_richcmp_`. See for example the usage of `cmp_elements_with_same_minpoly` which also avoids exactification. If you have something else in mind than providing shortcus for equality, then I would like to understand what and why. And in this case much more refactoring is needed.",
    "created_at": "2019-04-18T20:15:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27550#issuecomment-525143",
    "user": "https://github.com/videlec"
}
```

<a id='comment:3'></a>
I don't understand your logic here. If you want cheaper equality tests, just implement shortcuts in the methods `__bool__` and `_richcmp_`. See for example the usage of `cmp_elements_with_same_minpoly` which also avoids exactification. If you have something else in mind than providing shortcus for equality, then I would like to understand what and why. And in this case much more refactoring is needed.



---

archive/issue_comments_525144.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Vincent Delecroix\"",
    "created_at": "2019-04-18T20:15:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27550#issuecomment-525144",
    "user": "https://github.com/videlec"
}
```

Changing reviewer from "" to "Vincent Delecroix"



---

archive/issue_events_085429.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-06-14T14:50:27Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27550",
    "milestone": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27550#event-85429"
}
```



---

archive/issue_comments_525145.json:
```json
{
    "body": "<a id='comment:4'></a>\nTickets still needing working or clarification should be moved to the next release milestone at the soonest (please feel free to revert if you think the ticket is close to being resolved).",
    "created_at": "2019-06-14T14:50:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27550#issuecomment-525145",
    "user": "https://github.com/embray"
}
```

<a id='comment:4'></a>
Tickets still needing working or clarification should be moved to the next release milestone at the soonest (please feel free to revert if you think the ticket is close to being resolved).



---

archive/issue_events_085430.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:48:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27550",
    "milestone": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27550#event-85430"
}
```



---

archive/issue_events_085431.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:48:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27550",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27550#event-85431"
}
```



---

archive/issue_comments_525146.json:
```json
{
    "body": "<a id='comment:5'></a>\nTicket retargeted after milestone closed",
    "created_at": "2019-12-30T14:48:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27550#issuecomment-525146",
    "user": "https://github.com/embray"
}
```

<a id='comment:5'></a>
Ticket retargeted after milestone closed



---

archive/issue_comments_525147.json:
```json
{
    "body": "<a id='comment:6'></a>\nBatch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.",
    "created_at": "2020-04-14T19:41:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27550#issuecomment-525147",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:6'></a>
Batch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.



---

archive/issue_events_085432.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T19:41:51Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27550",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27550#event-85432"
}
```



---

archive/issue_events_085433.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T19:41:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27550",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27550#event-85433"
}
```



---

archive/issue_events_085434.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-05T19:21:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27550",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27550#event-85434"
}
```



---

archive/issue_events_085435.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-05T19:21:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27550",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27550#event-85435"
}
```



---

archive/issue_events_085436.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27550",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27550#event-85436"
}
```



---

archive/issue_events_085437.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27550",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27550#event-85437"
}
```



---

archive/issue_comments_525148.json:
```json
{
    "body": "<a id='comment:8'></a>\nSetting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-02-13T20:51:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27550#issuecomment-525148",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:8'></a>
Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_comments_525149.json:
```json
{
    "body": "<a id='comment:9'></a>\nReplying to [vdelecroix](#comment%3A3):\n> I don't understand your logic here. If you want cheaper equality tests, just implement shortcuts in the methods `__bool__` and `_richcmp_`. See for example the usage of `cmp_elements_with_same_minpoly` which also avoids exactification. If you have something else in mind than providing shortcus for equality, then I would like to understand what and why. And in this case much more refactoring is needed.\n\n\nIt makes sense to me that one wants to have a quick equality check that is guaranteed to be fast at the price of sometimes returning false negatives. I don't see how you could implement that just by adding shortcuts to the existing tests.",
    "created_at": "2021-02-14T13:03:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27550#issuecomment-525149",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:9'></a>
Replying to [vdelecroix](#comment%3A3):
> I don't understand your logic here. If you want cheaper equality tests, just implement shortcuts in the methods `__bool__` and `_richcmp_`. See for example the usage of `cmp_elements_with_same_minpoly` which also avoids exactification. If you have something else in mind than providing shortcus for equality, then I would like to understand what and why. And in this case much more refactoring is needed.


It makes sense to me that one wants to have a quick equality check that is guaranteed to be fast at the price of sometimes returning false negatives. I don't see how you could implement that just by adding shortcuts to the existing tests.



---

archive/issue_events_085438.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27550",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27550#event-85438"
}
```



---

archive/issue_events_085439.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27550",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27550#event-85439"
}
```



---

archive/issue_comments_525150.json:
```json
{
    "body": "<a id='comment:10'></a>\nSetting a new milestone for this ticket based on a cursory review.",
    "created_at": "2021-07-19T00:44:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27550",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27550#issuecomment-525150",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:10'></a>
Setting a new milestone for this ticket based on a cursory review.



---

archive/issue_events_085440.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:24:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27550",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27550#event-85440"
}
```



---

archive/issue_events_085441.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:24:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27550",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27550#event-85441"
}
```



---

archive/issue_events_085442.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-02T20:27:49Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27550",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27550#event-85442"
}
```



---

archive/issue_events_085443.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-02T20:27:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27550",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27550#event-85443"
}
```



---

archive/issue_events_085444.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27550",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27550#event-85444"
}
```



---

archive/issue_events_085445.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27550",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27550#event-85445"
}
```
