# Issue 27731: upgrade normaliz to 3.7.2, pynormaliz to 2.5

archive/issues_027494.json:
```json
{
    "assignees": [],
    "body": "Another update of normaliz, pynormaliz.\nThe upgrade of PyNormaliz from 2.1 to 2.5 fixes a critical data conversion bug (Check overflow for int conversion correctly) that was present in all previous versions.\n\nTarballs - see wget commands below.\n\n---\n\nStep by step instructions if you want to try it out\n\n1. Go to the Sage source tree and pull the branch associated to this ticket\n\n2. Get the tarballs and put them in the `upstream` repository\n\n```\n$ wget -P upstream https://github.com/Normaliz/Normaliz/releases/download/v3.7.2/normaliz-3.7.2.tar.gz\n$ wget -P upstream https://files.pythonhosted.org/packages/31/8f/a1e8e489150a570c81b427d351a29b868df57015f13c12e8e6d2d2d55c45/PyNormaliz-2.5.tar.gz\n```\n\n3. Compile and install everything\n\n```\n$ sage -i pynormaliz\n```\n\n4. Run make\n\n```\n$ make build\n```\n\nDepends on #27782\n\nCC:  @w-bruns @jplab @sebasguts @mkoeppe @videlec @tscrim\n\nBranch: **[`0a8c6f8`](https://github.com/sagemath/sagetrac-mirror/commit/0a8c6f867f6779020df69e8687f32edf70a778f7)**\n\nReviewer: **Vincent Delecroix**\n\nAuthor: **Matthias Koeppe**\n\nComponent: **packages: optional**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/27731_\n\n",
    "closed_at": "2019-05-14T12:37:21Z",
    "created_at": "2019-04-26T13:50:30Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20optional",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "upgrade normaliz to 3.7.2, pynormaliz to 2.5",
    "type": "issue",
    "updated_at": "2019-06-02T22:44:29Z",
    "url": "https://github.com/sagemath/sage/issues/27731",
    "user": "https://github.com/mkoeppe"
}
```
Another update of normaliz, pynormaliz.
The upgrade of PyNormaliz from 2.1 to 2.5 fixes a critical data conversion bug (Check overflow for int conversion correctly) that was present in all previous versions.

Tarballs - see wget commands below.

---

Step by step instructions if you want to try it out

1. Go to the Sage source tree and pull the branch associated to this ticket

2. Get the tarballs and put them in the `upstream` repository

```
$ wget -P upstream https://github.com/Normaliz/Normaliz/releases/download/v3.7.2/normaliz-3.7.2.tar.gz
$ wget -P upstream https://files.pythonhosted.org/packages/31/8f/a1e8e489150a570c81b427d351a29b868df57015f13c12e8e6d2d2d55c45/PyNormaliz-2.5.tar.gz
```

3. Compile and install everything

```
$ sage -i pynormaliz
```

4. Run make

```
$ make build
```

Depends on #27782

CC:  @w-bruns @jplab @sebasguts @mkoeppe @videlec @tscrim

Branch: **[`0a8c6f8`](https://github.com/sagemath/sagetrac-mirror/commit/0a8c6f867f6779020df69e8687f32edf70a778f7)**

Reviewer: **Vincent Delecroix**

Author: **Matthias Koeppe**

Component: **packages: optional**

_Issue created by migration from https://trac.sagemath.org/ticket/27731_





---

archive/issue_events_380429.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-04-26T13:50:30Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27731#event-380429"
}
```



---

archive/issue_events_380430.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-04-26T13:50:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20optional",
    "label_color": "000080",
    "label_name": "c: packages: optional",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27731#event-380430"
}
```



---

archive/issue_events_380431.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-04-26T13:50:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27731#event-380431"
}
```



---

archive/issue_events_380432.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-04-26T13:50:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27731#event-380432"
}
```



---

archive/issue_comments_429909.json:
```json
{
    "body": "Dependencies: **#27682**",
    "created_at": "2019-04-26T14:52:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27731#issuecomment-429909",
    "user": "https://github.com/mkoeppe"
}
```

Dependencies: **#27682**



---

archive/issue_comments_429910.json:
```json
{
    "body": "Branch: **[public/27731](https://github.com/sagemath/sagetrac-mirror/tree/public/27731)**",
    "created_at": "2019-04-26T14:54:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27731#issuecomment-429910",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[public/27731](https://github.com/sagemath/sagetrac-mirror/tree/public/27731)**



---

archive/issue_comments_429911.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eaa4584d16ce862f987c478262fd6a5d1d140187\"><code>eaa4584</code></a></td><td><code>package e-antic 0.1.3b0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e5c669d540ee5c34605618ea0658b94a3c29c43b\"><code>e5c669d</code></a></td><td><code>upgrade normaliz</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/14d6c83a08796adc477df900193b2a25f71df025\"><code>14d6c83</code></a></td><td><code>Update normaliz to 3.7.1, pynormaliz to 2.1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/64f1f19d7c6003a4d85abd8626dfab2e45979107\"><code>64f1f19</code></a></td><td><code>fix doctest in backend_normaliz.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3d949a2219a3a502e3374ba68dd173bfa4acffcb\"><code>3d949a2</code></a></td><td><code>Upgrade normaliz to 3.7.2, pynormaliz to 2.2</code></td></tr></table>\n",
    "created_at": "2019-04-26T14:55:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27731#issuecomment-429911",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:3"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eaa4584d16ce862f987c478262fd6a5d1d140187"><code>eaa4584</code></a></td><td><code>package e-antic 0.1.3b0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e5c669d540ee5c34605618ea0658b94a3c29c43b"><code>e5c669d</code></a></td><td><code>upgrade normaliz</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/14d6c83a08796adc477df900193b2a25f71df025"><code>14d6c83</code></a></td><td><code>Update normaliz to 3.7.1, pynormaliz to 2.1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/64f1f19d7c6003a4d85abd8626dfab2e45979107"><code>64f1f19</code></a></td><td><code>fix doctest in backend_normaliz.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3d949a2219a3a502e3374ba68dd173bfa4acffcb"><code>3d949a2</code></a></td><td><code>Upgrade normaliz to 3.7.2, pynormaliz to 2.2</code></td></tr></table>




---

archive/issue_events_380433.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-04-26T14:55:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27731#event-380433"
}
```



---

archive/issue_comments_429912.json:
```json
{
    "body": "Commit: **[`3d949a2`](https://github.com/sagemath/sagetrac-mirror/commit/3d949a2219a3a502e3374ba68dd173bfa4acffcb)**",
    "created_at": "2019-04-26T14:55:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27731#issuecomment-429912",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[`3d949a2`](https://github.com/sagemath/sagetrac-mirror/commit/3d949a2219a3a502e3374ba68dd173bfa4acffcb)**



---

archive/issue_comments_429913.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nHi,\n\nWhat is the point of having several open tickets concerning Normaliz/PyNormaliz upgrade? You want the job of the release manager to become a nightmare? If Normaliz/PyNormaliz are not mature you should not have set anything to needs review in the first place. Also, you are shipping a beta version of e-antic which is not nice either.",
    "created_at": "2019-04-26T14:58:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27731#issuecomment-429913",
    "user": "https://github.com/videlec"
}
```

<div id="comment:4" align="right">comment:4</div>

Hi,

What is the point of having several open tickets concerning Normaliz/PyNormaliz upgrade? You want the job of the release manager to become a nightmare? If Normaliz/PyNormaliz are not mature you should not have set anything to needs review in the first place. Also, you are shipping a beta version of e-antic which is not nice either.



---

archive/issue_comments_429914.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\n3.7.1/2.1 are stable and an improvement over the existing versions in sage. The ticket #27682 is positively reviewed already, and per release manager, positively reviewed tickets are not to be modified further.",
    "created_at": "2019-04-26T15:14:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27731#issuecomment-429914",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:5" align="right">comment:5</div>

3.7.1/2.1 are stable and an improvement over the existing versions in sage. The ticket #27682 is positively reviewed already, and per release manager, positively reviewed tickets are not to be modified further.



---

archive/issue_comments_429915.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\n`PyNormaliz` provides a test suite, there should be a `spkg-check`.",
    "created_at": "2019-04-26T22:12:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27731#issuecomment-429915",
    "user": "https://github.com/videlec"
}
```

<div id="comment:6" align="right">comment:6</div>

`PyNormaliz` provides a test suite, there should be a `spkg-check`.



---

archive/issue_events_380434.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-04-26T22:12:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27731#event-380434"
}
```



---

archive/issue_events_380435.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-04-26T22:12:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27731#event-380435"
}
```



---

archive/issue_comments_429916.json:
```json
{
    "body": "Changed commit from **[`3d949a2`](https://github.com/sagemath/sagetrac-mirror/commit/3d949a2219a3a502e3374ba68dd173bfa4acffcb)** to **[`b488911`](https://github.com/sagemath/sagetrac-mirror/commit/b4889111d4478b8dda2e15dac58a4d725cd2f0c0)**",
    "created_at": "2019-04-27T07:18:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27731#issuecomment-429916",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3d949a2`](https://github.com/sagemath/sagetrac-mirror/commit/3d949a2219a3a502e3374ba68dd173bfa4acffcb)** to **[`b488911`](https://github.com/sagemath/sagetrac-mirror/commit/b4889111d4478b8dda2e15dac58a4d725cd2f0c0)**



---

archive/issue_comments_429917.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b4889111d4478b8dda2e15dac58a4d725cd2f0c0\"><code>b488911</code></a></td><td><code>Add build/pkgs/pynormaliz/spkg-check</code></td></tr></table>\n",
    "created_at": "2019-04-27T07:18:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27731#issuecomment-429917",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b4889111d4478b8dda2e15dac58a4d725cd2f0c0"><code>b488911</code></a></td><td><code>Add build/pkgs/pynormaliz/spkg-check</code></td></tr></table>




---

archive/issue_comments_429918.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nPyNormaliz test suite currently fails with the e-antic bug-fix release 0.1.3b0 that we have in #27682.",
    "created_at": "2019-04-27T07:22:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27731#issuecomment-429918",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:8" align="right">comment:8</div>

PyNormaliz test suite currently fails with the e-antic bug-fix release 0.1.3b0 that we have in #27682.



---

archive/issue_events_380436.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-05-01T11:07:52Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "title_is": "upgrade normaliz to 3.7.2, pynormaliz to 2.4",
    "title_was": "upgrade normaliz to 3.7.2, pynormaliz to 2.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27731#event-380436"
}
```



---

archive/issue_comments_429919.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -12,7 +12,7 @@\n \n ```\n $ wget -P upstream https://github.com/Normaliz/Normaliz/releases/download/v3.7.2/normaliz-3.7.2.tar.gz\n-$ wget -P upstream https://files.pythonhosted.org/packages/6e/65/a11dbd54e8be7fe6bb1d41fa68cb03902f6066016757123c6c3ade1202fe/PyNormaliz-2.2.tar.gz\n+$ wget -P upstream https://files.pythonhosted.org/packages/bd/7a/a359c5d9df9a062037ed012077450e49447e35d12764ec935a96b02c04f7/PyNormaliz-2.4.tar.gz\n ```\n \n 3. Compile and install everything\n``````\n",
    "created_at": "2019-05-01T11:07:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27731#issuecomment-429919",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -12,7 +12,7 @@
 
 ```
 $ wget -P upstream https://github.com/Normaliz/Normaliz/releases/download/v3.7.2/normaliz-3.7.2.tar.gz
-$ wget -P upstream https://files.pythonhosted.org/packages/6e/65/a11dbd54e8be7fe6bb1d41fa68cb03902f6066016757123c6c3ade1202fe/PyNormaliz-2.2.tar.gz
+$ wget -P upstream https://files.pythonhosted.org/packages/bd/7a/a359c5d9df9a062037ed012077450e49447e35d12764ec935a96b02c04f7/PyNormaliz-2.4.tar.gz
 ```
 
 3. Compile and install everything
``````




---

archive/issue_comments_429920.json:
```json
{
    "body": "Changed commit from **[`b488911`](https://github.com/sagemath/sagetrac-mirror/commit/b4889111d4478b8dda2e15dac58a4d725cd2f0c0)** to **[`5d01388`](https://github.com/sagemath/sagetrac-mirror/commit/5d013883725486cee52b7b247b8d0aab6d81f7d7)**",
    "created_at": "2019-05-01T11:15:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27731#issuecomment-429920",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b488911`](https://github.com/sagemath/sagetrac-mirror/commit/b4889111d4478b8dda2e15dac58a4d725cd2f0c0)** to **[`5d01388`](https://github.com/sagemath/sagetrac-mirror/commit/5d013883725486cee52b7b247b8d0aab6d81f7d7)**



---

archive/issue_comments_429921.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5d013883725486cee52b7b247b8d0aab6d81f7d7\"><code>5d01388</code></a></td><td><code>Upgrade pynormaliz to 2.4</code></td></tr></table>\n",
    "created_at": "2019-05-01T11:15:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27731#issuecomment-429921",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5d013883725486cee52b7b247b8d0aab6d81f7d7"><code>5d01388</code></a></td><td><code>Upgrade pynormaliz to 2.4</code></td></tr></table>




---

archive/issue_events_380437.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-05-01T11:20:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27731#event-380437"
}
```



---

archive/issue_events_380438.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-05-01T11:20:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27731#event-380438"
}
```



---

archive/issue_comments_429922.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,5 @@\n Another update of normaliz, pynormaliz.\n+PyNormaliz 2.4 fixes a critical data conversion bug (Check overflow for int conversion correctly) that was present in all previous versions.\n \n Tarballs - see wget commands below.\n \n``````\n",
    "created_at": "2019-05-01T11:20:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27731#issuecomment-429922",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,5 @@
 Another update of normaliz, pynormaliz.
+PyNormaliz 2.4 fixes a critical data conversion bug (Check overflow for int conversion correctly) that was present in all previous versions.
 
 Tarballs - see wget commands below.
 
``````




---

archive/issue_events_380439.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-05-01T11:20:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27731#event-380439"
}
```



---

archive/issue_events_380440.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-05-01T11:20:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27731#event-380440"
}
```



---

archive/issue_comments_429923.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,5 @@\n Another update of normaliz, pynormaliz.\n-PyNormaliz 2.4 fixes a critical data conversion bug (Check overflow for int conversion correctly) that was present in all previous versions.\n+The upgrade of PyNormaliz from 2.1 to 2.4 fixes a critical data conversion bug (Check overflow for int conversion correctly) that was present in all previous versions.\n \n Tarballs - see wget commands below.\n \n``````\n",
    "created_at": "2019-05-01T11:25:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27731#issuecomment-429923",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,5 @@
 Another update of normaliz, pynormaliz.
-PyNormaliz 2.4 fixes a critical data conversion bug (Check overflow for int conversion correctly) that was present in all previous versions.
+The upgrade of PyNormaliz from 2.1 to 2.4 fixes a critical data conversion bug (Check overflow for int conversion correctly) that was present in all previous versions.
 
 Tarballs - see wget commands below.
 
``````




---

archive/issue_comments_429924.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,5 @@\n Another update of normaliz, pynormaliz.\n-The upgrade of PyNormaliz from 2.1 to 2.4 fixes a critical data conversion bug (Check overflow for int conversion correctly) that was present in all previous versions.\n+The upgrade of PyNormaliz from 2.1 to 2.5 fixes a critical data conversion bug (Check overflow for int conversion correctly) that was present in all previous versions.\n \n Tarballs - see wget commands below.\n \n@@ -13,7 +13,7 @@\n \n ```\n $ wget -P upstream https://github.com/Normaliz/Normaliz/releases/download/v3.7.2/normaliz-3.7.2.tar.gz\n-$ wget -P upstream https://files.pythonhosted.org/packages/bd/7a/a359c5d9df9a062037ed012077450e49447e35d12764ec935a96b02c04f7/PyNormaliz-2.4.tar.gz\n+$ wget -P upstream https://files.pythonhosted.org/packages/31/8f/a1e8e489150a570c81b427d351a29b868df57015f13c12e8e6d2d2d55c45/PyNormaliz-2.5.tar.gz\n ```\n \n 3. Compile and install everything\n``````\n",
    "created_at": "2019-05-01T17:25:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27731#issuecomment-429924",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,5 @@
 Another update of normaliz, pynormaliz.
-The upgrade of PyNormaliz from 2.1 to 2.4 fixes a critical data conversion bug (Check overflow for int conversion correctly) that was present in all previous versions.
+The upgrade of PyNormaliz from 2.1 to 2.5 fixes a critical data conversion bug (Check overflow for int conversion correctly) that was present in all previous versions.
 
 Tarballs - see wget commands below.
 
@@ -13,7 +13,7 @@
 
 ```
 $ wget -P upstream https://github.com/Normaliz/Normaliz/releases/download/v3.7.2/normaliz-3.7.2.tar.gz
-$ wget -P upstream https://files.pythonhosted.org/packages/bd/7a/a359c5d9df9a062037ed012077450e49447e35d12764ec935a96b02c04f7/PyNormaliz-2.4.tar.gz
+$ wget -P upstream https://files.pythonhosted.org/packages/31/8f/a1e8e489150a570c81b427d351a29b868df57015f13c12e8e6d2d2d55c45/PyNormaliz-2.5.tar.gz
 ```
 
 3. Compile and install everything
``````




---

archive/issue_events_380441.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-05-01T17:25:52Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "title_is": "upgrade normaliz to 3.7.2, pynormaliz to 2.5",
    "title_was": "upgrade normaliz to 3.7.2, pynormaliz to 2.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27731#event-380441"
}
```



---

archive/issue_comments_429925.json:
```json
{
    "body": "Changed commit from **[`5d01388`](https://github.com/sagemath/sagetrac-mirror/commit/5d013883725486cee52b7b247b8d0aab6d81f7d7)** to **[`a4e5977`](https://github.com/sagemath/sagetrac-mirror/commit/a4e597762cf0ed306b81a2ab14aab576aeee85b2)**",
    "created_at": "2019-05-01T17:37:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27731#issuecomment-429925",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5d01388`](https://github.com/sagemath/sagetrac-mirror/commit/5d013883725486cee52b7b247b8d0aab6d81f7d7)** to **[`a4e5977`](https://github.com/sagemath/sagetrac-mirror/commit/a4e597762cf0ed306b81a2ab14aab576aeee85b2)**



---

archive/issue_comments_429926.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a4e597762cf0ed306b81a2ab14aab576aeee85b2\"><code>a4e5977</code></a></td><td><code>Upgrade pynormaliz to 2.5</code></td></tr></table>\n",
    "created_at": "2019-05-01T17:37:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27731#issuecomment-429926",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a4e597762cf0ed306b81a2ab14aab576aeee85b2"><code>a4e5977</code></a></td><td><code>Upgrade pynormaliz to 2.5</code></td></tr></table>




---

archive/issue_events_380442.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-05-02T17:07:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27731#event-380442"
}
```



---

archive/issue_events_380443.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-05-02T17:07:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27731#event-380443"
}
```



---

archive/issue_comments_429927.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nWith Sage built with Python3\n\n```\nsage -t --long polyhedron/backend_normaliz.py\n**********************************************************************\nFile \"polyhedron/backend_normaliz.py\", line 497, in sage.geometry.polyhedron.backend_normaliz.Polyhedron_normaliz._normaliz_format\nFailed example:\n    P = Polyhedron(vertices=[[0, 0], [0, 1], [1, 0]], # indirect doctest; optional - pynormaliz\n                   backend='normaliz', verbose=True)\nException raised:\n    Traceback (most recent call last):\n      File \"/opt/sage/sage-py3-gcc/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 671, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/opt/sage/sage-py3-gcc/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1095, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.geometry.polyhedron.backend_normaliz.Polyhedron_normaliz._normaliz_format[0]>\", line 2, in <module>\n        backend='normaliz', verbose=True)\n      File \"sage/misc/lazy_import.pyx\", line 354, in sage.misc.lazy_import.LazyImport.__call__ (build/cythonized/sage/misc/lazy_import.c:3690)\n        return self.get_object()(*args, **kwds)\n      File \"/opt/sage/sage-py3-gcc/local/lib/python3.7/site-packages/sage/geometry/polyhedron/constructor.py\", line 604, in Polyhedron\n        return parent(Vrep, Hrep, convert=convert, verbose=verbose)\n      File \"sage/structure/parent.pyx\", line 902, in sage.structure.parent.Parent.__call__ (build/cythonized/sage/structure/parent.c:9224)\n        return mor._call_with_args(x, args, kwds)\n      File \"sage/structure/coerce_maps.pyx\", line 181, in sage.structure.coerce_maps.DefaultConvertMap_unique._call_with_args (build/cythonized/sage/structure/coerce_maps.c:5074)\n        raise\n      File \"sage/structure/coerce_maps.pyx\", line 176, in sage.structure.coerce_maps.DefaultConvertMap_unique._call_with_args (build/cythonized/sage/structure/coerce_maps.c:4962)\n        return C._element_constructor(x, *args, **kwds)\n      File \"/opt/sage/sage-py3-gcc/local/lib/python3.7/site-packages/sage/geometry/polyhedron/parent.py\", line 517, in _element_constructor_\n        return self.element_class(self, Vrep, Hrep, **kwds)\n      File \"/opt/sage/sage-py3-gcc/local/lib/python3.7/site-packages/sage/geometry/polyhedron/backend_normaliz.py\", line 156, in __init__\n        Polyhedron_base.__init__(self, parent, Vrep, Hrep, **kwds)\n      File \"/opt/sage/sage-py3-gcc/local/lib/python3.7/site-packages/sage/geometry/polyhedron/base.py\", line 124, in __init__\n        self._init_from_Vrepresentation(vertices, rays, lines, **kwds)\n      File \"/opt/sage/sage-py3-gcc/local/lib/python3.7/site-packages/sage/geometry/polyhedron/backend_normaliz.py\", line 263, in _init_from_Vrepresentation\n        self._init_from_normaliz_data(data, verbose=verbose)\n      File \"/opt/sage/sage-py3-gcc/local/lib/python3.7/site-packages/sage/geometry/polyhedron/backend_normaliz.py\", line 201, in _init_from_normaliz_data\n        print(self._normaliz_format(data), end='')\n      File \"/opt/sage/sage-py3-gcc/local/lib/python3.7/site-packages/sage/geometry/polyhedron/backend_normaliz.py\", line 511, in _normaliz_format\n        for key, value in data.iteritems():\n    AttributeError: 'dict' object has no attribute 'iteritems'\n**********************************************************************\n```",
    "created_at": "2019-05-02T17:07:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27731#issuecomment-429927",
    "user": "https://github.com/videlec"
}
```

<div id="comment:15" align="right">comment:15</div>

With Sage built with Python3

```
sage -t --long polyhedron/backend_normaliz.py
**********************************************************************
File "polyhedron/backend_normaliz.py", line 497, in sage.geometry.polyhedron.backend_normaliz.Polyhedron_normaliz._normaliz_format
Failed example:
    P = Polyhedron(vertices=[[0, 0], [0, 1], [1, 0]], # indirect doctest; optional - pynormaliz
                   backend='normaliz', verbose=True)
Exception raised:
    Traceback (most recent call last):
      File "/opt/sage/sage-py3-gcc/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 671, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/opt/sage/sage-py3-gcc/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1095, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.geometry.polyhedron.backend_normaliz.Polyhedron_normaliz._normaliz_format[0]>", line 2, in <module>
        backend='normaliz', verbose=True)
      File "sage/misc/lazy_import.pyx", line 354, in sage.misc.lazy_import.LazyImport.__call__ (build/cythonized/sage/misc/lazy_import.c:3690)
        return self.get_object()(*args, **kwds)
      File "/opt/sage/sage-py3-gcc/local/lib/python3.7/site-packages/sage/geometry/polyhedron/constructor.py", line 604, in Polyhedron
        return parent(Vrep, Hrep, convert=convert, verbose=verbose)
      File "sage/structure/parent.pyx", line 902, in sage.structure.parent.Parent.__call__ (build/cythonized/sage/structure/parent.c:9224)
        return mor._call_with_args(x, args, kwds)
      File "sage/structure/coerce_maps.pyx", line 181, in sage.structure.coerce_maps.DefaultConvertMap_unique._call_with_args (build/cythonized/sage/structure/coerce_maps.c:5074)
        raise
      File "sage/structure/coerce_maps.pyx", line 176, in sage.structure.coerce_maps.DefaultConvertMap_unique._call_with_args (build/cythonized/sage/structure/coerce_maps.c:4962)
        return C._element_constructor(x, *args, **kwds)
      File "/opt/sage/sage-py3-gcc/local/lib/python3.7/site-packages/sage/geometry/polyhedron/parent.py", line 517, in _element_constructor_
        return self.element_class(self, Vrep, Hrep, **kwds)
      File "/opt/sage/sage-py3-gcc/local/lib/python3.7/site-packages/sage/geometry/polyhedron/backend_normaliz.py", line 156, in __init__
        Polyhedron_base.__init__(self, parent, Vrep, Hrep, **kwds)
      File "/opt/sage/sage-py3-gcc/local/lib/python3.7/site-packages/sage/geometry/polyhedron/base.py", line 124, in __init__
        self._init_from_Vrepresentation(vertices, rays, lines, **kwds)
      File "/opt/sage/sage-py3-gcc/local/lib/python3.7/site-packages/sage/geometry/polyhedron/backend_normaliz.py", line 263, in _init_from_Vrepresentation
        self._init_from_normaliz_data(data, verbose=verbose)
      File "/opt/sage/sage-py3-gcc/local/lib/python3.7/site-packages/sage/geometry/polyhedron/backend_normaliz.py", line 201, in _init_from_normaliz_data
        print(self._normaliz_format(data), end='')
      File "/opt/sage/sage-py3-gcc/local/lib/python3.7/site-packages/sage/geometry/polyhedron/backend_normaliz.py", line 511, in _normaliz_format
        for key, value in data.iteritems():
    AttributeError: 'dict' object has no attribute 'iteritems'
**********************************************************************
```



---

archive/issue_comments_429928.json:
```json
{
    "body": "Reviewer: **Vincent Delecroix**",
    "created_at": "2019-05-02T17:07:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27731#issuecomment-429928",
    "user": "https://github.com/videlec"
}
```

Reviewer: **Vincent Delecroix**



---

archive/issue_comments_429929.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/292e01f3e26e8b437cfc22afb568d5b2c4ccc589\"><code>292e01f</code></a></td><td><code>backend_normaliz: py3 fix</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d44a00d9b3b8b7ee6e4b1d89bf8adbcedebdedf3\"><code>d44a00d</code></a></td><td><code>backend_normaliz: Canonicalize sort order of fields in normaliz files</code></td></tr></table>\n",
    "created_at": "2019-05-03T10:13:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27731#issuecomment-429929",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/292e01f3e26e8b437cfc22afb568d5b2c4ccc589"><code>292e01f</code></a></td><td><code>backend_normaliz: py3 fix</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d44a00d9b3b8b7ee6e4b1d89bf8adbcedebdedf3"><code>d44a00d</code></a></td><td><code>backend_normaliz: Canonicalize sort order of fields in normaliz files</code></td></tr></table>




---

archive/issue_comments_429930.json:
```json
{
    "body": "Changed commit from **[`a4e5977`](https://github.com/sagemath/sagetrac-mirror/commit/a4e597762cf0ed306b81a2ab14aab576aeee85b2)** to **[`d44a00d`](https://github.com/sagemath/sagetrac-mirror/commit/d44a00d9b3b8b7ee6e4b1d89bf8adbcedebdedf3)**",
    "created_at": "2019-05-03T10:13:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27731#issuecomment-429930",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a4e5977`](https://github.com/sagemath/sagetrac-mirror/commit/a4e597762cf0ed306b81a2ab14aab576aeee85b2)** to **[`d44a00d`](https://github.com/sagemath/sagetrac-mirror/commit/d44a00d9b3b8b7ee6e4b1d89bf8adbcedebdedf3)**



---

archive/issue_events_380444.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-05-03T10:14:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27731#event-380444"
}
```



---

archive/issue_events_380445.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-05-03T10:14:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27731#event-380445"
}
```



---

archive/issue_comments_429931.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\n(The canonicalization of the output files is a good idea anyway and takes care of differences in dictionary orders between py2 and py3.)",
    "created_at": "2019-05-03T10:15:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27731#issuecomment-429931",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:18" align="right">comment:18</div>

(The canonicalization of the output files is a good idea anyway and takes care of differences in dictionary orders between py2 and py3.)



---

archive/issue_comments_429932.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nCompiles cleanly on debian.\n\nRunning tests using `pynormaliz` in the folder `src/sage/geometry/polyhedron`:\n\n```\n$ sage -t *.py\nUsing --optional=bliss,dochtml,e_antic,gfortran,lrslib,memlimit,mpir,ninja_build,normaliz,pynormaliz,python2,sage,topcom\nDoctesting 25 files.\n----------------------------------------------------------------------\nAll tests passed!\n----------------------------------------------------------------------\n```\n\nand without:\n\n```\n$ sage -t *.py --optional=bliss,dochtml,gfortran,lrslib,memlimit,mpir,ninja_build,python2,sage,topcom\nUsing --optional=bliss,dochtml,gfortran,lrslib,memlimit,mpir,ninja_build,python2,sage,topcom\nDoctesting 25 files.\n----------------------------------------------------------------------\nAll tests passed!\n----------------------------------------------------------------------\n```",
    "created_at": "2019-05-03T14:32:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27731#issuecomment-429932",
    "user": "https://github.com/jplab"
}
```

<div id="comment:19" align="right">comment:19</div>

Compiles cleanly on debian.

Running tests using `pynormaliz` in the folder `src/sage/geometry/polyhedron`:

```
$ sage -t *.py
Using --optional=bliss,dochtml,e_antic,gfortran,lrslib,memlimit,mpir,ninja_build,normaliz,pynormaliz,python2,sage,topcom
Doctesting 25 files.
----------------------------------------------------------------------
All tests passed!
----------------------------------------------------------------------
```

and without:

```
$ sage -t *.py --optional=bliss,dochtml,gfortran,lrslib,memlimit,mpir,ninja_build,python2,sage,topcom
Using --optional=bliss,dochtml,gfortran,lrslib,memlimit,mpir,ninja_build,python2,sage,topcom
Doctesting 25 files.
----------------------------------------------------------------------
All tests passed!
----------------------------------------------------------------------
```



---

archive/issue_comments_429933.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nMerge conflict with the new beta.",
    "created_at": "2019-05-05T11:34:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27731#issuecomment-429933",
    "user": "https://github.com/jplab"
}
```

<div id="comment:20" align="right">comment:20</div>

Merge conflict with the new beta.



---

archive/issue_comments_429934.json:
```json
{
    "body": "Changed commit from **[`d44a00d`](https://github.com/sagemath/sagetrac-mirror/commit/d44a00d9b3b8b7ee6e4b1d89bf8adbcedebdedf3)** to **[`dd9a81b`](https://github.com/sagemath/sagetrac-mirror/commit/dd9a81bfe6660f52778b4becbc8f848e04f3b07e)**",
    "created_at": "2019-05-07T11:41:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27731#issuecomment-429934",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d44a00d`](https://github.com/sagemath/sagetrac-mirror/commit/d44a00d9b3b8b7ee6e4b1d89bf8adbcedebdedf3)** to **[`dd9a81b`](https://github.com/sagemath/sagetrac-mirror/commit/dd9a81bfe6660f52778b4becbc8f848e04f3b07e)**



---

archive/issue_comments_429935.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dd9a81bfe6660f52778b4becbc8f848e04f3b07e\"><code>dd9a81b</code></a></td><td><code>Merge tag '8.8.beta4' into t/27731/public/27731</code></td></tr></table>\n",
    "created_at": "2019-05-07T11:41:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27731#issuecomment-429935",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dd9a81bfe6660f52778b4becbc8f848e04f3b07e"><code>dd9a81b</code></a></td><td><code>Merge tag '8.8.beta4' into t/27731/public/27731</code></td></tr></table>




---

archive/issue_comments_429936.json:
```json
{
    "body": "Changed commit from **[`dd9a81b`](https://github.com/sagemath/sagetrac-mirror/commit/dd9a81bfe6660f52778b4becbc8f848e04f3b07e)** to **[`0a8c6f8`](https://github.com/sagemath/sagetrac-mirror/commit/0a8c6f867f6779020df69e8687f32edf70a778f7)**",
    "created_at": "2019-05-07T11:46:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27731#issuecomment-429936",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`dd9a81b`](https://github.com/sagemath/sagetrac-mirror/commit/dd9a81bfe6660f52778b4becbc8f848e04f3b07e)** to **[`0a8c6f8`](https://github.com/sagemath/sagetrac-mirror/commit/0a8c6f867f6779020df69e8687f32edf70a778f7)**



---

archive/issue_comments_429937.json:
```json
{
    "body": "<div id=\"comment:22\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9b3a5baab1c7c4144ce9d420d36278f3cb53e7d1\"><code>9b3a5ba</code></a></td><td><code>Fix error message in doctest for new pynormaliz version</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0a8c6f867f6779020df69e8687f32edf70a778f7\"><code>0a8c6f8</code></a></td><td><code>Merge branch 't/27782/1_pynormaliz_doctest_failing_in_src_sage_geometry_polyhedron_backend_normaliz_py' into t/27731/public/27731</code></td></tr></table>\n",
    "created_at": "2019-05-07T11:46:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27731#issuecomment-429937",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:22"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9b3a5baab1c7c4144ce9d420d36278f3cb53e7d1"><code>9b3a5ba</code></a></td><td><code>Fix error message in doctest for new pynormaliz version</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0a8c6f867f6779020df69e8687f32edf70a778f7"><code>0a8c6f8</code></a></td><td><code>Merge branch 't/27782/1_pynormaliz_doctest_failing_in_src_sage_geometry_polyhedron_backend_normaliz_py' into t/27731/public/27731</code></td></tr></table>




---

archive/issue_comments_429938.json:
```json
{
    "body": "Changed dependencies from **#27682** to **#27782**",
    "created_at": "2019-05-07T11:47:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27731#issuecomment-429938",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#27682** to **#27782**



---

archive/issue_comments_429939.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nNeeds review again!",
    "created_at": "2019-05-08T19:31:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27731#issuecomment-429939",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:24" align="right">comment:24</div>

Needs review again!



---

archive/issue_events_380446.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-05-08T20:13:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27731#event-380446"
}
```



---

archive/issue_events_380447.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-05-08T20:13:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27731#event-380447"
}
```



---

archive/issue_events_380448.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-05-14T12:37:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27731#event-380448"
}
```



---

archive/issue_events_380449.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "446b735c50d7718d29e7d2499688453800cc4011",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-05-14T12:37:21Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27731#event-380449"
}
```



---

archive/issue_comments_429940.json:
```json
{
    "body": "Changed branch from **[public/27731](https://github.com/sagemath/sagetrac-mirror/tree/public/27731)** to **[`0a8c6f8`](https://github.com/sagemath/sagetrac-mirror/commit/0a8c6f867f6779020df69e8687f32edf70a778f7)**",
    "created_at": "2019-05-14T12:37:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27731#issuecomment-429940",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/27731](https://github.com/sagemath/sagetrac-mirror/tree/public/27731)** to **[`0a8c6f8`](https://github.com/sagemath/sagetrac-mirror/commit/0a8c6f867f6779020df69e8687f32edf70a778f7)**



---

archive/issue_comments_429941.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nAs I reported on [sage-release for 8.8.beta6](https://groups.google.com/d/msg/sage-release/CHxw0WQQLpE/D_jWIruEBQAJ), I get troubles installing pynormaliz.\n\nIs this normal doctor?",
    "created_at": "2019-05-23T19:13:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27731#issuecomment-429941",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:27" align="right">comment:27</div>

As I reported on [sage-release for 8.8.beta6](https://groups.google.com/d/msg/sage-release/CHxw0WQQLpE/D_jWIruEBQAJ), I get troubles installing pynormaliz.

Is this normal doctor?



---

archive/issue_comments_429942.json:
```json
{
    "body": "Changed commit from **[`0a8c6f8`](https://github.com/sagemath/sagetrac-mirror/commit/0a8c6f867f6779020df69e8687f32edf70a778f7)** to none",
    "created_at": "2019-05-23T19:13:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27731#issuecomment-429942",
    "user": "https://github.com/seblabbe"
}
```

Changed commit from **[`0a8c6f8`](https://github.com/sagemath/sagetrac-mirror/commit/0a8c6f867f6779020df69e8687f32edf70a778f7)** to none



---

archive/issue_comments_429943.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nReplying to [@seblabbe](#comment:27):\n> As I reported on [sage-release for 8.8.beta6](https://groups.google.com/d/msg/sage-release/CHxw0WQQLpE/D_jWIruEBQAJ), I get troubles installing pynormaliz.\n> \n> Is this normal doctor?\n\nCould you check whether there is a config.log in\n\n/home/slabbe/GitBox/sage/local/var/tmp/sage/build/pynormaliz-2.5\n\nand if so attach it.",
    "created_at": "2019-05-23T19:15:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27731#issuecomment-429943",
    "user": "https://github.com/videlec"
}
```

<div id="comment:28" align="right">comment:28</div>

Replying to [@seblabbe](#comment:27):
> As I reported on [sage-release for 8.8.beta6](https://groups.google.com/d/msg/sage-release/CHxw0WQQLpE/D_jWIruEBQAJ), I get troubles installing pynormaliz.
> 
> Is this normal doctor?

Could you check whether there is a config.log in

/home/slabbe/GitBox/sage/local/var/tmp/sage/build/pynormaliz-2.5

and if so attach it.



---

archive/issue_comments_429944.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nNo config.log:\n\n```\n$ ls /home/slabbe/GitBox/sage/local/var/tmp/sage/build/pynormaliz-2.5\nchecksums.ini  package-version.txt  spkg-install  src\ndependencies   spkg-check           SPKG.txt      type\n```",
    "created_at": "2019-05-23T20:27:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27731#issuecomment-429944",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:29" align="right">comment:29</div>

No config.log:

```
$ ls /home/slabbe/GitBox/sage/local/var/tmp/sage/build/pynormaliz-2.5
checksums.ini  package-version.txt  spkg-install  src
dependencies   spkg-check           SPKG.txt      type
```



---

archive/issue_comments_429945.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nIt would of course be in the src subdirectory.",
    "created_at": "2019-05-23T20:32:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27731#issuecomment-429945",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:30" align="right">comment:30</div>

It would of course be in the src subdirectory.



---

archive/issue_comments_429946.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nThe complete pynormaliz-2.5.log file is pasted on [framabin here](https://framabin.org/p/?a648d45c0650b5cd#6Z9TY9HfEOFxlM5mHck+Hk1/17KgtcFqn8XFEy3vq9M=)\n\nIn particular, there is this line:\n\n```\n    configure: error: source directory already configured; run \"make distclean\" there first\n```\n\nMaybe this has to do with the fact that my brother asked me to [try to test this ticket](https://github.com/sagemath/sage/issues/24905#comment:54) one month ago where I installed a previous version of those packages?",
    "created_at": "2019-05-23T20:34:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27731#issuecomment-429946",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:31" align="right">comment:31</div>

The complete pynormaliz-2.5.log file is pasted on [framabin here](https://framabin.org/p/?a648d45c0650b5cd#6Z9TY9HfEOFxlM5mHck+Hk1/17KgtcFqn8XFEy3vq9M=)

In particular, there is this line:

```
    configure: error: source directory already configured; run "make distclean" there first
```

Maybe this has to do with the fact that my brother asked me to [try to test this ticket](https://github.com/sagemath/sage/issues/24905#comment:54) one month ago where I installed a previous version of those packages?



---

archive/issue_comments_429947.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nReplying to [@mkoeppe](#comment:30):\n> It would of course be in the src subdirectory.\n\nNo config.log file in the src directory, but there is a config.py.in:\n\n```bash\n$ cd /home/slabbe/GitBox/sage/local/var/tmp/sage/build/pynormaliz-2.5/src\n$ ls\nconfig.py.in  doc       m4                  PyNormaliz.py  setup.py\nconfigure     examples  NormalizModule.cpp  Readme.md      tests\nCOPYING       GPLv2     PKG-INFO            setup.cfg\n$ cat config.py.in \n# Configuration variables\nENFNORMALIZ=@ENFNORMALIZ@\n```",
    "created_at": "2019-05-23T20:38:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27731#issuecomment-429947",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:32" align="right">comment:32</div>

Replying to [@mkoeppe](#comment:30):
> It would of course be in the src subdirectory.

No config.log file in the src directory, but there is a config.py.in:

```bash
$ cd /home/slabbe/GitBox/sage/local/var/tmp/sage/build/pynormaliz-2.5/src
$ ls
config.py.in  doc       m4                  PyNormaliz.py  setup.py
configure     examples  NormalizModule.cpp  Readme.md      tests
COPYING       GPLv2     PKG-INFO            setup.cfg
$ cat config.py.in 
# Configuration variables
ENFNORMALIZ=@ENFNORMALIZ@
```



---

archive/issue_comments_429948.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nReplying to [@seblabbe](#comment:31):\n> The complete pynormaliz-2.5.log file is pasted on [framabin here](https://framabin.org/p/?a648d45c0650b5cd#6Z9TY9HfEOFxlM5mHck+Hk1/17KgtcFqn8XFEy3vq9M=)\n\nI noticed. And this is not what I asked for.",
    "created_at": "2019-05-23T20:46:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27731#issuecomment-429948",
    "user": "https://github.com/videlec"
}
```

<div id="comment:33" align="right">comment:33</div>

Replying to [@seblabbe](#comment:31):
> The complete pynormaliz-2.5.log file is pasted on [framabin here](https://framabin.org/p/?a648d45c0650b5cd#6Z9TY9HfEOFxlM5mHck+Hk1/17KgtcFqn8XFEy3vq9M=)

I noticed. And this is not what I asked for.



---

archive/issue_comments_429949.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nReplying to [@seblabbe](#comment:32):\n> Replying to [@mkoeppe](#comment:30):\n> > It would of course be in the src subdirectory.\n\n> \n> No config.log file in the src directory, but there is a config.py.in:\n> \n> ```bash\n> $ cd /home/slabbe/GitBox/sage/local/var/tmp/sage/build/pynormaliz-2.5/src\n> $ ls\n> config.py.in  doc       m4                  PyNormaliz.py  setup.py\n> configure     examples  NormalizModule.cpp  Readme.md      tests\n> COPYING       GPLv2     PKG-INFO            setup.cfg\n> $ cat config.py.in \n> # Configuration variables\n> ENFNORMALIZ=@ENFNORMALIZ@\n> ```\n\nThat is to be expected. The `setup.py` script calls `$ sh configure` that creates the `config.py` from the template file `config.py.in`. In your situation, the process get stuck at the `$ sh configure` call (as you `pynormaliz-2.5.log` already mentioned).\n\nDo you have `sh` installed?\n\nBTW: we should not discuss this on this close ticket... could you open a thread on sage-devel or so.",
    "created_at": "2019-05-23T20:49:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27731#issuecomment-429949",
    "user": "https://github.com/videlec"
}
```

<div id="comment:34" align="right">comment:34</div>

Replying to [@seblabbe](#comment:32):
> Replying to [@mkoeppe](#comment:30):
> > It would of course be in the src subdirectory.

> 
> No config.log file in the src directory, but there is a config.py.in:
> 
> ```bash
> $ cd /home/slabbe/GitBox/sage/local/var/tmp/sage/build/pynormaliz-2.5/src
> $ ls
> config.py.in  doc       m4                  PyNormaliz.py  setup.py
> configure     examples  NormalizModule.cpp  Readme.md      tests
> COPYING       GPLv2     PKG-INFO            setup.cfg
> $ cat config.py.in 
> # Configuration variables
> ENFNORMALIZ=@ENFNORMALIZ@
> ```

That is to be expected. The `setup.py` script calls `$ sh configure` that creates the `config.py` from the template file `config.py.in`. In your situation, the process get stuck at the `$ sh configure` call (as you `pynormaliz-2.5.log` already mentioned).

Do you have `sh` installed?

BTW: we should not discuss this on this close ticket... could you open a thread on sage-devel or so.



---

archive/issue_comments_429950.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\n> BTW: we should not discuss this on this close ticket... could you open a thread on sage-devel or so.\n\nOK, let's continue here: https://groups.google.com/d/msg/sage-devel/2virhaHdt1k/nK-AtlByBAAJ",
    "created_at": "2019-05-23T20:56:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27731#issuecomment-429950",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:35" align="right">comment:35</div>

> BTW: we should not discuss this on this close ticket... could you open a thread on sage-devel or so.

OK, let's continue here: https://groups.google.com/d/msg/sage-devel/2virhaHdt1k/nK-AtlByBAAJ



---

archive/issue_comments_429951.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nFollow-up in #27920.",
    "created_at": "2019-06-02T22:44:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27731#issuecomment-429951",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:36" align="right">comment:36</div>

Follow-up in #27920.
