# Issue 27232: is_isomorphic broken with keyword edge_labels=True

archive/issues_026995.json:
```json
{
    "assignees": [],
    "body": "This code led to finding this bug in the `is_isomorphic` method.\n\nHere is a simple working example:\n\n```\nsage: m1 = matrix(ZZ, [[1, -1, -1], [-1, -1, -1], [1, 0, -1]])\nsage: m2 = matrix(ZZ, [[-1, -1, -1], [-1, 1, -1], [-1, 1, 0]])\n```\n\nThe two matrices are equal up to permutation of rows and columns:\n\n```\nsage: m1.is_permutation_of(m2)\nTrue\n```\n\nBut, not over `CyclotomicField`s:\n\n```\nsage: CF = CyclotomicField(1)\nsage: p1 = matrix(CF, [[1, -1, -1], [-1, -1, -1], [1, 0, -1]])\nsage: p2 = matrix(CF, [[-1, -1, -1], [-1, 1, -1], [-1, 1, 0]])\nsage: p1.is_permutation_of(p2)\nFalse\n```\n\nEven with 2 is also does not work:\n\n```\nsage: CF = CyclotomicField(2)\nsage: p1 = matrix(CF, [[1, -1, -1], [-1, -1, -1], [1, 0, -1]])\nsage: p2 = matrix(CF, [[-1, -1, -1], [-1, 1, -1], [-1, 1, 0]])\nsage: p1.is_permutation_of(p2)\nFalse\n```\n\nThis error is provoked at the level of graphs:\n\n```\nsage: g1 = p1.as_bipartite_graph()\nsage: g2 = p2.as_bipartite_graph()\nsage: sorted(g1.edge_labels())\n[1, -1, -1, -1, -1, -1, 1, 0, -1]\nsage: sorted(g2.edge_labels())\n[-1, -1, -1, -1, 1, -1, -1, 1, 0]\n```\n\nCC:  @videlec @tscrim stumpc5 @dcoudert @dimpase\n\nKeywords: **py3, graph, cyclotomic, matrix, permutation_of, graph, is_isomorphic**\n\nBranch/Commit: **[b2218f2](https://github.com/sagemath/sagetrac-mirror/commit/b2218f2211d995dd44daeabe3ad9e18f5f3c4a9a)**\n\nReviewer: **Travis Scrimshaw, John Palmieri**\n\nAuthor: **David Coudert**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/27232_\n\n",
    "closed_at": "2019-07-20T09:10:57Z",
    "created_at": "2019-02-07T16:51:49Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20graph%20theory",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.9",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "is_isomorphic broken with keyword edge_labels=True",
    "type": "issue",
    "updated_at": "2019-07-20T09:10:57Z",
    "url": "https://github.com/sagemath/sage/issues/27232",
    "user": "https://github.com/jplab"
}
```
This code led to finding this bug in the `is_isomorphic` method.

Here is a simple working example:

```
sage: m1 = matrix(ZZ, [[1, -1, -1], [-1, -1, -1], [1, 0, -1]])
sage: m2 = matrix(ZZ, [[-1, -1, -1], [-1, 1, -1], [-1, 1, 0]])
```

The two matrices are equal up to permutation of rows and columns:

```
sage: m1.is_permutation_of(m2)
True
```

But, not over `CyclotomicField`s:

```
sage: CF = CyclotomicField(1)
sage: p1 = matrix(CF, [[1, -1, -1], [-1, -1, -1], [1, 0, -1]])
sage: p2 = matrix(CF, [[-1, -1, -1], [-1, 1, -1], [-1, 1, 0]])
sage: p1.is_permutation_of(p2)
False
```

Even with 2 is also does not work:

```
sage: CF = CyclotomicField(2)
sage: p1 = matrix(CF, [[1, -1, -1], [-1, -1, -1], [1, 0, -1]])
sage: p2 = matrix(CF, [[-1, -1, -1], [-1, 1, -1], [-1, 1, 0]])
sage: p1.is_permutation_of(p2)
False
```

This error is provoked at the level of graphs:

```
sage: g1 = p1.as_bipartite_graph()
sage: g2 = p2.as_bipartite_graph()
sage: sorted(g1.edge_labels())
[1, -1, -1, -1, -1, -1, 1, 0, -1]
sage: sorted(g2.edge_labels())
[-1, -1, -1, -1, 1, -1, -1, 1, 0]
```

CC:  @videlec @tscrim stumpc5 @dcoudert @dimpase

Keywords: **py3, graph, cyclotomic, matrix, permutation_of, graph, is_isomorphic**

Branch/Commit: **[b2218f2](https://github.com/sagemath/sagetrac-mirror/commit/b2218f2211d995dd44daeabe3ad9e18f5f3c4a9a)**

Reviewer: **Travis Scrimshaw, John Palmieri**

Author: **David Coudert**

_Issue created by migration from https://trac.sagemath.org/ticket/27232_





---

archive/issue_events_343409.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2019-02-07T16:51:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "milestone_number": null,
    "milestone_title": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27232#event-343409"
}
```



---

archive/issue_events_343410.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2019-02-07T16:51:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20algebra",
    "label_color": "0000ff",
    "label_name": "component: algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27232#event-343410"
}
```



---

archive/issue_events_343411.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2019-02-07T16:51:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27232#event-343411"
}
```



---

archive/issue_events_343412.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2019-02-07T16:51:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27232#event-343412"
}
```



---

archive/issue_comments_423499.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nHere is the current issue, sorting is broken on the CyclotomicField:\n\n```\nsage: g1 = p1.as_bipartite_graph()\nsage: g2 = p2.as_bipartite_graph()\nsage: sorted(g1.edge_labels())\n[1, -1, -1, -1, -1, -1, 1, 0, -1]\nsage: sorted(g2.edge_labels())\n[-1, -1, -1, -1, 1, -1, -1, 1, 0]\n```",
    "created_at": "2019-02-07T17:01:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423499",
    "user": "https://github.com/jplab"
}
```

<a id='comment:1'>Comment 1:</a>
Here is the current issue, sorting is broken on the CyclotomicField:

```
sage: g1 = p1.as_bipartite_graph()
sage: g2 = p2.as_bipartite_graph()
sage: sorted(g1.edge_labels())
[1, -1, -1, -1, -1, -1, 1, 0, -1]
sage: sorted(g2.edge_labels())
[-1, -1, -1, -1, 1, -1, -1, 1, 0]
```



---

archive/issue_comments_423500.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nThis code is crap. How can you assume that the elements of your ring could be sorted with respect to some total order?",
    "created_at": "2019-02-07T19:13:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423500",
    "user": "https://github.com/videlec"
}
```

<a id='comment:2'>Comment 2:</a>
This code is crap. How can you assume that the elements of your ring could be sorted with respect to some total order?



---

archive/issue_comments_423501.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nReplying to [@videlec](#comment%3A2):\n> This code is crap. How can you assume that the elements of your ring could be sorted with respect to some total order?\n\nRight! :-S I was quite puzzled when saw that this was done!!\n\nThat step in the `_is_isomorphic` method of graph with the option `edge_labels=True` should be repaired so that it makes sense...\n\nThe above code came up while looking at two character tables coming from two isomorphic groups. They should be equal up to permutation of columns and rows, but it was returns `False` !!!",
    "created_at": "2019-02-08T13:42:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423501",
    "user": "https://github.com/jplab"
}
```

<a id='comment:3'>Comment 3:</a>
Replying to [@videlec](#comment%3A2):
> This code is crap. How can you assume that the elements of your ring could be sorted with respect to some total order?

Right! :-S I was quite puzzled when saw that this was done!!

That step in the `_is_isomorphic` method of graph with the option `edge_labels=True` should be repaired so that it makes sense...

The above code came up while looking at two character tables coming from two isomorphic groups. They should be equal up to permutation of columns and rows, but it was returns `False` !!!



---

archive/issue_comments_423502.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nThis is indeed annoying. Many graphs problem like this one have to be fixed with the switch to Python3 (where comparison might simply throw errors)...",
    "created_at": "2019-02-08T15:16:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423502",
    "user": "https://github.com/videlec"
}
```

<a id='comment:4'>Comment 4:</a>
This is indeed annoying. Many graphs problem like this one have to be fixed with the switch to Python3 (where comparison might simply throw errors)...



---

archive/issue_comments_423503.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nAgreed. Many progresses have been done in the graph module and a lot remains to be done. Help fixing problems / reviewing tickets is more than welcome :P\n\nI tried the example with Python 2 and 3 and the answer is `False` in both cases and it is effectively due to the test `if edge_labels and sorted(self.edge_labels()) != sorted(other.edge_labels()):` that is `False` here for the reason explained above (#comment:2).\n\nDo you have any suggestion on how to compare the 2 lists of edge labels knowing that edge labels can be unhashable ?\n\nMay be this ticket could be moved to the graph component as it will only touch method `is_isomorphic` ? Could make it easier to trac changes in the graph module...",
    "created_at": "2019-02-08T16:41:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423503",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:5'>Comment 5:</a>
Agreed. Many progresses have been done in the graph module and a lot remains to be done. Help fixing problems / reviewing tickets is more than welcome :P

I tried the example with Python 2 and 3 and the answer is `False` in both cases and it is effectively due to the test `if edge_labels and sorted(self.edge_labels()) != sorted(other.edge_labels()):` that is `False` here for the reason explained above (#comment:2).

Do you have any suggestion on how to compare the 2 lists of edge labels knowing that edge labels can be unhashable ?

May be this ticket could be moved to the graph component as it will only touch method `is_isomorphic` ? Could make it easier to trac changes in the graph module...



---

archive/issue_comments_423504.json:
```json
{
    "body": "Commit: **[a1f9014](https://github.com/sagemath/sagetrac-mirror/commit/a1f9014ce505baaad8d6bbfb5cb352d09c526690)**",
    "created_at": "2019-02-09T17:37:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423504",
    "user": "https://github.com/dcoudert"
}
```

Commit: **[a1f9014](https://github.com/sagemath/sagetrac-mirror/commit/a1f9014ce505baaad8d6bbfb5cb352d09c526690)**



---

archive/issue_comments_423505.json:
```json
{
    "body": "Branch: **[public/27232_first_trial](https://github.com/sagemath/sagetrac-mirror/tree/public/27232_first_trial)**",
    "created_at": "2019-02-09T17:37:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423505",
    "user": "https://github.com/dcoudert"
}
```

Branch: **[public/27232_first_trial](https://github.com/sagemath/sagetrac-mirror/tree/public/27232_first_trial)**



---

archive/issue_comments_423506.json:
```json
{
    "body": "Changed keywords from **cyclotomic, matrix, permutation_of** to **cyclotomic, matrix, permutation_of, graph, is_isomorphic**",
    "created_at": "2019-02-09T17:37:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423506",
    "user": "https://github.com/dcoudert"
}
```

Changed keywords from **cyclotomic, matrix, permutation_of** to **cyclotomic, matrix, permutation_of, graph, is_isomorphic**



---

archive/issue_comments_423507.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nI tried many stuff today without success. This is really one of the major issue of the graph module.\n\nWe can do a simple hack to replace the test `sorted(self.edge_labels()) != sorted(other.edge_labels())` in method `is_isomorphic` of `generic_graph.py`. This is not nice/efficient but it does the job.\n\n```\n                def same_edge_labels(self_labels, other_labels):\n                    \"\"\"\n                    Check that the lists have exactly the same content.\n                    This is slower than sorting and checking equality, but safe\n                    for Python3.\n                    \"\"\"\n                    for label in self_labels:\n                        if label in other_labels:\n                            other_labels.remove(label)\n                        else:\n                            return False\n                    return not other_labels\n```\n\nHowever, this is far from enough as method `graph_isom_equivalent_non_edge_labeled_graph` sorts many times lists of edge labels. I tried to remove these sortings, but I don't have a sufficient understanding of the methods to know what is correct, what is not and more importantly, what is assumed as input/output of other methods like those of `sage.groups.perm_gps.partn_ref.refinement_graphs`, etc.\n\nI'm pushing in a public branch what I tried to do. Feel free to modify/correct/etc. and even suppress if you believe it is not a good approach to fix the problem. It's breaking doctests in `is_isomorphic` and `canonical_label`...\n\n\nPS: The cost to pay for accepting anything as an edge label is really high :(\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a1f9014ce505baaad8d6bbfb5cb352d09c526690\">a1f9014</a></td><td><code>trac #27232: first trial</code></td></tr></table>\n",
    "created_at": "2019-02-09T17:37:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423507",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:6'>Comment 6:</a>
I tried many stuff today without success. This is really one of the major issue of the graph module.

We can do a simple hack to replace the test `sorted(self.edge_labels()) != sorted(other.edge_labels())` in method `is_isomorphic` of `generic_graph.py`. This is not nice/efficient but it does the job.

```
                def same_edge_labels(self_labels, other_labels):
                    """
                    Check that the lists have exactly the same content.
                    This is slower than sorting and checking equality, but safe
                    for Python3.
                    """
                    for label in self_labels:
                        if label in other_labels:
                            other_labels.remove(label)
                        else:
                            return False
                    return not other_labels
```

However, this is far from enough as method `graph_isom_equivalent_non_edge_labeled_graph` sorts many times lists of edge labels. I tried to remove these sortings, but I don't have a sufficient understanding of the methods to know what is correct, what is not and more importantly, what is assumed as input/output of other methods like those of `sage.groups.perm_gps.partn_ref.refinement_graphs`, etc.

I'm pushing in a public branch what I tried to do. Feel free to modify/correct/etc. and even suppress if you believe it is not a good approach to fix the problem. It's breaking doctests in `is_isomorphic` and `canonical_label`...


PS: The cost to pay for accepting anything as an edge label is really high :(

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a1f9014ce505baaad8d6bbfb5cb352d09c526690">a1f9014</a></td><td><code>trac #27232: first trial</code></td></tr></table>




---

archive/issue_comments_423508.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nThere is indeed a general problem with labels (not only for graphs). Ideally, when one has a structure with labels, one should be able to specify\n1. whether labels have a total order (and provide a comparison function)\n2. whether labels are hashable (and provide a hash function)\n3. if neither 1. nor 2. applies, be prepared for costly checks\n\nIn the current situation, if 1. applies, you can use sort and if 2. applies you can use Python `set`.",
    "created_at": "2019-02-10T19:56:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423508",
    "user": "https://github.com/videlec"
}
```

<a id='comment:7'>Comment 7:</a>
There is indeed a general problem with labels (not only for graphs). Ideally, when one has a structure with labels, one should be able to specify
1. whether labels have a total order (and provide a comparison function)
2. whether labels are hashable (and provide a hash function)
3. if neither 1. nor 2. applies, be prepared for costly checks

In the current situation, if 1. applies, you can use sort and if 2. applies you can use Python `set`.



---

archive/issue_events_343413.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2019-02-22T09:11:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20algebra",
    "label_color": "0000ff",
    "label_name": "component: algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27232#event-343413"
}
```



---

archive/issue_events_343414.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2019-02-22T09:11:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20graph%20theory",
    "label_color": "0000ff",
    "label_name": "component: graph theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27232#event-343414"
}
```



---

archive/issue_comments_423509.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nReplying to [@videlec](#comment%3A7):\n> There is indeed a general problem with labels (not only for graphs). Ideally, when one has a structure with labels, one should be able to specify\n> 1. whether labels have a total order (and provide a comparison function)\n> 2. whether labels are hashable (and provide a hash function)\n> 3. if neither 1. nor 2. applies, be prepared for costly checks\n> \n> In the current situation, if 1. applies, you can use sort and if 2. applies you can use Python `set`.\n\nThat sounds like a reasonable ideal. It does not sound too idealistic either.",
    "created_at": "2019-02-22T09:11:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423509",
    "user": "https://github.com/jplab"
}
```

<a id='comment:8'>Comment 8:</a>
Replying to [@videlec](#comment%3A7):
> There is indeed a general problem with labels (not only for graphs). Ideally, when one has a structure with labels, one should be able to specify
> 1. whether labels have a total order (and provide a comparison function)
> 2. whether labels are hashable (and provide a hash function)
> 3. if neither 1. nor 2. applies, be prepared for costly checks
> 
> In the current situation, if 1. applies, you can use sort and if 2. applies you can use Python `set`.

That sounds like a reasonable ideal. It does not sound too idealistic either.



---

archive/issue_events_343415.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2019-02-22T09:14:03Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "title_is": "is_isomorphic broken with keyword edge_labels=True",
    "title_was": "is_permutation_of broken for matrices over cyclotomic fields",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27232#event-343415"
}
```



---

archive/issue_comments_423510.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n+This code led to finding this bug in the `is_isomorphic` method.\n+\n Here is a simple working example:\n \n ```\n@@ -31,3 +33,14 @@\n sage: p1.is_permutation_of(p2)\n False\n ```\n+\n+This error is provoked at the level of graphs:\n+\n+```\n+sage: g1 = p1.as_bipartite_graph()\n+sage: g2 = p2.as_bipartite_graph()\n+sage: sorted(g1.edge_labels())\n+[1, -1, -1, -1, -1, -1, 1, 0, -1]\n+sage: sorted(g2.edge_labels())\n+[-1, -1, -1, -1, 1, -1, -1, 1, 0]\n+```\n``````\n",
    "created_at": "2019-02-22T09:14:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423510",
    "user": "https://github.com/jplab"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
+This code led to finding this bug in the `is_isomorphic` method.
+
 Here is a simple working example:
 
 ```
@@ -31,3 +33,14 @@
 sage: p1.is_permutation_of(p2)
 False
 ```
+
+This error is provoked at the level of graphs:
+
+```
+sage: g1 = p1.as_bipartite_graph()
+sage: g2 = p2.as_bipartite_graph()
+sage: sorted(g1.edge_labels())
+[1, -1, -1, -1, -1, -1, 1, 0, -1]
+sage: sorted(g2.edge_labels())
+[-1, -1, -1, -1, 1, -1, -1, 1, 0]
+```
``````




---

archive/issue_comments_423511.json:
```json
{
    "body": "Changed branch from **[public/27232_first_trial](https://github.com/sagemath/sagetrac-mirror/tree/public/27232_first_trial)** to **[u/dcoudert/27232_fix_morphisms](https://github.com/sagemath/sagetrac-mirror/tree/u/dcoudert/27232_fix_morphisms)**",
    "created_at": "2019-03-09T17:32:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423511",
    "user": "https://github.com/dcoudert"
}
```

Changed branch from **[public/27232_first_trial](https://github.com/sagemath/sagetrac-mirror/tree/public/27232_first_trial)** to **[u/dcoudert/27232_fix_morphisms](https://github.com/sagemath/sagetrac-mirror/tree/u/dcoudert/27232_fix_morphisms)**



---

archive/issue_events_343416.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2019-03-09T17:32:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27232#event-343416"
}
```



---

archive/issue_comments_423512.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nI pushed a new branch to fix the issues with `is_isomorphic`, and in particular with `graph_isom_equivalent_non_edge_labeled_graph`. It seems to fix all remaining failing doctests in `generic_graph.py` in Python 3.\n\nIt took me some time to understand the method, and in particular why and when sort is needed. I reduced the number of places where sort is used, and used `sorted(..., key=str)` to sort hazardous objects (i.e., list of edge labels). For sure some users will invent another kind of edge labels for which this will not work, but unless we implement everywhere the remarks of #comment:7, and so force the user to specify the sort method, I don't see how we can magically answer all requirements.\n\n\n\nHelp needed: I use method `filterfalse` from itertools, but it'ss called `ifilterfalse` in Python 2 and `filterfalse` in Python 3. I used a try .. except to import it, but there is certainly a smarter way.\n\n\nPlease review, check, double check, do some tests, etc.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/27ca32d8949849fa36f6c1460c2d5f75cb773b08\">27ca32d</a></td><td><code>trac #27232: fix **morphism**</code></td></tr></table>\n",
    "created_at": "2019-03-09T17:32:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423512",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:10'>Comment 10:</a>
I pushed a new branch to fix the issues with `is_isomorphic`, and in particular with `graph_isom_equivalent_non_edge_labeled_graph`. It seems to fix all remaining failing doctests in `generic_graph.py` in Python 3.

It took me some time to understand the method, and in particular why and when sort is needed. I reduced the number of places where sort is used, and used `sorted(..., key=str)` to sort hazardous objects (i.e., list of edge labels). For sure some users will invent another kind of edge labels for which this will not work, but unless we implement everywhere the remarks of #comment:7, and so force the user to specify the sort method, I don't see how we can magically answer all requirements.



Help needed: I use method `filterfalse` from itertools, but it'ss called `ifilterfalse` in Python 2 and `filterfalse` in Python 3. I used a try .. except to import it, but there is certainly a smarter way.


Please review, check, double check, do some tests, etc.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/27ca32d8949849fa36f6c1460c2d5f75cb773b08">27ca32d</a></td><td><code>trac #27232: fix **morphism**</code></td></tr></table>




---

archive/issue_comments_423513.json:
```json
{
    "body": "Author: **David Coudert**",
    "created_at": "2019-03-09T17:32:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423513",
    "user": "https://github.com/dcoudert"
}
```

Author: **David Coudert**



---

archive/issue_comments_423514.json:
```json
{
    "body": "Changed commit from **[a1f9014](https://github.com/sagemath/sagetrac-mirror/commit/a1f9014ce505baaad8d6bbfb5cb352d09c526690)** to **[27ca32d](https://github.com/sagemath/sagetrac-mirror/commit/27ca32d8949849fa36f6c1460c2d5f75cb773b08)**",
    "created_at": "2019-03-09T17:32:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423514",
    "user": "https://github.com/dcoudert"
}
```

Changed commit from **[a1f9014](https://github.com/sagemath/sagetrac-mirror/commit/a1f9014ce505baaad8d6bbfb5cb352d09c526690)** to **[27ca32d](https://github.com/sagemath/sagetrac-mirror/commit/27ca32d8949849fa36f6c1460c2d5f75cb773b08)**



---

archive/issue_comments_423515.json:
```json
{
    "body": "Changed keywords from **cyclotomic, matrix, permutation_of, graph, is_isomorphic** to **py3, graph, cyclotomic, matrix, permutation_of, graph, is_isomorphic**",
    "created_at": "2019-03-09T17:32:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423515",
    "user": "https://github.com/dcoudert"
}
```

Changed keywords from **cyclotomic, matrix, permutation_of, graph, is_isomorphic** to **py3, graph, cyclotomic, matrix, permutation_of, graph, is_isomorphic**



---

archive/issue_comments_423516.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nReplying to [@dcoudert](#comment%3A10):\n> Help needed: I use method `filterfalse` from itertools, but it'ss called `ifilterfalse` in Python 2 and `filterfalse` in Python 3. I used a try .. except to import it, but there is certainly a smarter way.\n\nGet rid of `filterfalse`:\n\n```diff\n-    for label in filterfalse(edge_labels.__contains__, G.edge_labels()):\n+    for label in G.edge_labels():\n+        if label in edge_labels:\n+            continue\n```\nAlthough I might also unroll `G.edge_labels()` and do\n\n```python\n    for _,_,label in G.edge_iterator():\n        if label in edge_labels:\n            continue\n```",
    "created_at": "2019-03-09T21:13:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423516",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:11'>Comment 11:</a>
Replying to [@dcoudert](#comment%3A10):
> Help needed: I use method `filterfalse` from itertools, but it'ss called `ifilterfalse` in Python 2 and `filterfalse` in Python 3. I used a try .. except to import it, but there is certainly a smarter way.

Get rid of `filterfalse`:

```diff
-    for label in filterfalse(edge_labels.__contains__, G.edge_labels()):
+    for label in G.edge_labels():
+        if label in edge_labels:
+            continue
```
Although I might also unroll `G.edge_labels()` and do

```python
    for _,_,label in G.edge_iterator():
        if label in edge_labels:
            continue
```



---

archive/issue_comments_423517.json:
```json
{
    "body": "Changed commit from **[27ca32d](https://github.com/sagemath/sagetrac-mirror/commit/27ca32d8949849fa36f6c1460c2d5f75cb773b08)** to **[1b9879a](https://github.com/sagemath/sagetrac-mirror/commit/1b9879a3b60e003813d36fe28f7f2567f6207b7c)**",
    "created_at": "2019-03-09T23:22:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423517",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[27ca32d](https://github.com/sagemath/sagetrac-mirror/commit/27ca32d8949849fa36f6c1460c2d5f75cb773b08)** to **[1b9879a](https://github.com/sagemath/sagetrac-mirror/commit/1b9879a3b60e003813d36fe28f7f2567f6207b7c)**



---

archive/issue_comments_423518.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1b9879a3b60e003813d36fe28f7f2567f6207b7c\">1b9879a</a></td><td><code>trac #27232: get rid of filterfalse</code></td></tr></table>\n",
    "created_at": "2019-03-09T23:22:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423518",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:12'>Comment 12:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1b9879a3b60e003813d36fe28f7f2567f6207b7c">1b9879a</a></td><td><code>trac #27232: get rid of filterfalse</code></td></tr></table>




---

archive/issue_comments_423519.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\ndone.\n\nThere is this doctest error:\n\n```\nsage -t --long src/sage/combinat/root_system/coxeter_matrix.py\n**********************************************************************\nFile \"src/sage/combinat/root_system/coxeter_matrix.py\", line 1041, in sage.combinat.root_system.coxeter_matrix.recognize_coxeter_type_from_matrix\nFailed example:\n    CoxeterMatrix(CoxeterType(['A',10,1]).coxeter_graph()).coxeter_type()\nExpected:\n    Coxeter type of ['A', 10, 1]\nGot:\n    Coxeter type of ['A', 10, 1] relabelled by {0: 2, 1: 3, 2: 4, 3: 5, 4: 6, 5: 7, 6: 8, 7: 9, 8: 10, 9: 0, 10: 1}\n```\nCan anyone tell if it's something serious or if it is sufficient to replace the expected output or the example.",
    "created_at": "2019-03-09T23:26:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423519",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:13'>Comment 13:</a>
done.

There is this doctest error:

```
sage -t --long src/sage/combinat/root_system/coxeter_matrix.py
**********************************************************************
File "src/sage/combinat/root_system/coxeter_matrix.py", line 1041, in sage.combinat.root_system.coxeter_matrix.recognize_coxeter_type_from_matrix
Failed example:
    CoxeterMatrix(CoxeterType(['A',10,1]).coxeter_graph()).coxeter_type()
Expected:
    Coxeter type of ['A', 10, 1]
Got:
    Coxeter type of ['A', 10, 1] relabelled by {0: 2, 1: 3, 2: 4, 3: 5, 4: 6, 5: 7, 6: 8, 7: 9, 8: 10, 9: 0, 10: 1}
```
Can anyone tell if it's something serious or if it is sufficient to replace the expected output or the example.



---

archive/issue_comments_423520.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nYou should **not** update the output for this test. Here there is an implicit ordering on the vertices and it is not detecting that they should match (instead it is a rotation of the cycle graph by 2 steps). This might be a case where we should force the isomorphism test to (attempt to) sort the output as we need this labeling to be canonical (as there are generally non-trivial automorphisms as in this example).",
    "created_at": "2019-03-10T00:11:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423520",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:14'>Comment 14:</a>
You should **not** update the output for this test. Here there is an implicit ordering on the vertices and it is not detecting that they should match (instead it is a rotation of the cycle graph by 2 steps). This might be a case where we should force the isomorphism test to (attempt to) sort the output as we need this labeling to be canonical (as there are generally non-trivial automorphisms as in this example).



---

archive/issue_comments_423521.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0df542dc4bb4702e9070a6fca3c29ab5553dafcc\">0df542d</a></td><td><code>trac #27232: Merged with 8.7.beta7</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c4e8db78ff6813ff32db44d8c824f9ade889e7c2\">c4e8db7</a></td><td><code>trac #27232: fix issue in coxeter_matrix</code></td></tr></table>\n",
    "created_at": "2019-03-10T09:59:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423521",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:15'>Comment 15:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0df542dc4bb4702e9070a6fca3c29ab5553dafcc">0df542d</a></td><td><code>trac #27232: Merged with 8.7.beta7</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c4e8db78ff6813ff32db44d8c824f9ade889e7c2">c4e8db7</a></td><td><code>trac #27232: fix issue in coxeter_matrix</code></td></tr></table>




---

archive/issue_comments_423522.json:
```json
{
    "body": "Changed commit from **[1b9879a](https://github.com/sagemath/sagetrac-mirror/commit/1b9879a3b60e003813d36fe28f7f2567f6207b7c)** to **[c4e8db7](https://github.com/sagemath/sagetrac-mirror/commit/c4e8db78ff6813ff32db44d8c824f9ade889e7c2)**",
    "created_at": "2019-03-10T09:59:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423522",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[1b9879a](https://github.com/sagemath/sagetrac-mirror/commit/1b9879a3b60e003813d36fe28f7f2567f6207b7c)** to **[c4e8db7](https://github.com/sagemath/sagetrac-mirror/commit/c4e8db78ff6813ff32db44d8c824f9ade889e7c2)**



---

archive/issue_comments_423523.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nRight, we need a method returning a total ordering of hashable (vertices) or unhashable (labels) objects. It's the only way to ensure the correctness of the methods here. But how to write something reasonably fast ? and where to put it ?",
    "created_at": "2019-03-10T10:22:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423523",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:16'>Comment 16:</a>
Right, we need a method returning a total ordering of hashable (vertices) or unhashable (labels) objects. It's the only way to ensure the correctness of the methods here. But how to write something reasonably fast ? and where to put it ?



---

archive/issue_comments_423524.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nMaybe functools.cmp_to_key(func) from https://docs.python.org/3/library/functools.html ?",
    "created_at": "2019-03-10T10:30:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423524",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:17'>Comment 17:</a>
Maybe functools.cmp_to_key(func) from https://docs.python.org/3/library/functools.html ?



---

archive/issue_comments_423525.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nReplying to [@dimpase](#comment%3A17):\n> Maybe functools.cmp_to_key(func) from https://docs.python.org/3/library/functools.html ?\n\nBut what should be the function ?",
    "created_at": "2019-03-10T11:11:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423525",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:18'>Comment 18:</a>
Replying to [@dimpase](#comment%3A17):
> Maybe functools.cmp_to_key(func) from https://docs.python.org/3/library/functools.html ?

But what should be the function ?



---

archive/issue_comments_423526.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nReplying to [@dcoudert](#comment%3A18):\n> Replying to [@dimpase](#comment%3A17):\n> > Maybe functools.cmp_to_key(func) from https://docs.python.org/3/library/functools.html ?\n\n> But what should be the function ?\n\nthe comparison used in Python2, I gather.",
    "created_at": "2019-03-10T11:15:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423526",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:19'>Comment 19:</a>
Replying to [@dcoudert](#comment%3A18):
> Replying to [@dimpase](#comment%3A17):
> > Maybe functools.cmp_to_key(func) from https://docs.python.org/3/library/functools.html ?

> But what should be the function ?

the comparison used in Python2, I gather.



---

archive/issue_comments_423527.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\n> the comparison used in Python2, I gather.\n\nBut we don't have it, right ?",
    "created_at": "2019-03-10T12:56:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423527",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:20'>Comment 20:</a>
> the comparison used in Python2, I gather.

But we don't have it, right ?



---

archive/issue_comments_423528.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/46375819947fdfa6f3f9aaaf3e98252979724a1a\">4637581</a></td><td><code>trac #27232: pyflakes</code></td></tr></table>\n",
    "created_at": "2019-03-11T16:04:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423528",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:21'>Comment 21:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/46375819947fdfa6f3f9aaaf3e98252979724a1a">4637581</a></td><td><code>trac #27232: pyflakes</code></td></tr></table>




---

archive/issue_comments_423529.json:
```json
{
    "body": "Changed commit from **[c4e8db7](https://github.com/sagemath/sagetrac-mirror/commit/c4e8db78ff6813ff32db44d8c824f9ade889e7c2)** to **[4637581](https://github.com/sagemath/sagetrac-mirror/commit/46375819947fdfa6f3f9aaaf3e98252979724a1a)**",
    "created_at": "2019-03-11T16:04:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423529",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[c4e8db7](https://github.com/sagemath/sagetrac-mirror/commit/c4e8db78ff6813ff32db44d8c824f9ade889e7c2)** to **[4637581](https://github.com/sagemath/sagetrac-mirror/commit/46375819947fdfa6f3f9aaaf3e98252979724a1a)**



---

archive/issue_events_343417.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:56:15Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27232#event-343417"
}
```



---

archive/issue_events_343418.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:56:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27232#event-343418"
}
```



---

archive/issue_comments_423530.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nTicket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)",
    "created_at": "2019-03-25T10:56:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423530",
    "user": "https://github.com/embray"
}
```

<a id='comment:22'>Comment 22:</a>
Ticket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)



---

archive/issue_comments_423531.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nMoving tickets from the Sage 8.8 milestone that have been actively worked on in the last six months to the next release milestone (optimistically).",
    "created_at": "2019-07-03T11:37:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423531",
    "user": "https://github.com/embray"
}
```

<a id='comment:23'>Comment 23:</a>
Moving tickets from the Sage 8.8 milestone that have been actively worked on in the last six months to the next release milestone (optimistically).



---

archive/issue_events_343419.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-07-03T11:37:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27232#event-343419"
}
```



---

archive/issue_events_343420.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-07-03T11:37:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "milestone_number": null,
    "milestone_title": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27232#event-343420"
}
```



---

archive/issue_comments_423532.json:
```json
{
    "body": "Changed commit from **[4637581](https://github.com/sagemath/sagetrac-mirror/commit/46375819947fdfa6f3f9aaaf3e98252979724a1a)** to **[94ebadf](https://github.com/sagemath/sagetrac-mirror/commit/94ebadffc21bfabb7ab29fbfe6e5fb3e4f24739d)**",
    "created_at": "2019-07-05T10:01:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423532",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[4637581](https://github.com/sagemath/sagetrac-mirror/commit/46375819947fdfa6f3f9aaaf3e98252979724a1a)** to **[94ebadf](https://github.com/sagemath/sagetrac-mirror/commit/94ebadffc21bfabb7ab29fbfe6e5fb3e4f24739d)**



---

archive/issue_comments_423533.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/94ebadffc21bfabb7ab29fbfe6e5fb3e4f24739d\">94ebadf</a></td><td><code>trac #27232: Merged with 8.9.beta1</code></td></tr></table>\n",
    "created_at": "2019-07-05T10:01:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423533",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:24'>Comment 24:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/94ebadffc21bfabb7ab29fbfe6e5fb3e4f24739d">94ebadf</a></td><td><code>trac #27232: Merged with 8.9.beta1</code></td></tr></table>




---

archive/issue_comments_423534.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nRebased on last beta.\n\nThis ticket is certainly the last big py3 issue in the graph module.\nSo any comment / help / /idea for improving / etc. is more than welcome :)",
    "created_at": "2019-07-05T10:04:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423534",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:25'>Comment 25:</a>
Rebased on last beta.

This ticket is certainly the last big py3 issue in the graph module.
So any comment / help / /idea for improving / etc. is more than welcome :)



---

archive/issue_comments_423535.json:
```json
{
    "body": "<a id='comment:26'>Comment 26:</a>\nWhat do you think about these minor changes?\n\n```diff\ndiff --git a/src/sage/graphs/generic_graph.py b/src/sage/graphs/generic_graph.py\nindex 00e39838fe..71424d5e2b 100644\n--- a/src/sage/graphs/generic_graph.py\n+++ b/src/sage/graphs/generic_graph.py\n@@ -23995,13 +23995,13 @@ def graph_isom_equivalent_non_edge_labeled_graph(g, partition=None, standard_lab\n             edge_partition = [el[1] for el in edge_partition]\n             edge_partition = [list(chain(*edge_partition))]\n \n-        # An edge between u and v with label l and multiplicity k being encoded\n-        # as an uv edge with label [l,k], we must not assume that an edge with\n-        # multiplicity 2 is equivalent to a simple edge !\n-        # Hence, we still distinguish edges with different multiplicity\n-        if g_has_multiple_edges:\n+        else: # g_has_multiple_edges\n+            # An edge between u and v with label l and multiplicity k being encoded\n+            # as an uv edge with label [l,k], we must not assume that an edge with\n+            # multiplicity 2 is equivalent to a simple edge!\n+            # Hence, we still distinguish edges with different multiplicity.\n \n-            # Gather the partitions of edges with same multiplicity\n+            # Gather the partitions of edges with same multiplicity.\n             tmp = {}\n             for el, part in edge_partition:\n                 # The multiplicity of a label is the number of edges from u to v\n```\nI don't have any other comments. Is everyone else happy with this branch?",
    "created_at": "2019-07-10T17:48:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423535",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:26'>Comment 26:</a>
What do you think about these minor changes?

```diff
diff --git a/src/sage/graphs/generic_graph.py b/src/sage/graphs/generic_graph.py
index 00e39838fe..71424d5e2b 100644
--- a/src/sage/graphs/generic_graph.py
+++ b/src/sage/graphs/generic_graph.py
@@ -23995,13 +23995,13 @@ def graph_isom_equivalent_non_edge_labeled_graph(g, partition=None, standard_lab
             edge_partition = [el[1] for el in edge_partition]
             edge_partition = [list(chain(*edge_partition))]
 
-        # An edge between u and v with label l and multiplicity k being encoded
-        # as an uv edge with label [l,k], we must not assume that an edge with
-        # multiplicity 2 is equivalent to a simple edge !
-        # Hence, we still distinguish edges with different multiplicity
-        if g_has_multiple_edges:
+        else: # g_has_multiple_edges
+            # An edge between u and v with label l and multiplicity k being encoded
+            # as an uv edge with label [l,k], we must not assume that an edge with
+            # multiplicity 2 is equivalent to a simple edge!
+            # Hence, we still distinguish edges with different multiplicity.
 
-            # Gather the partitions of edges with same multiplicity
+            # Gather the partitions of edges with same multiplicity.
             tmp = {}
             for el, part in edge_partition:
                 # The multiplicity of a label is the number of edges from u to v
```
I don't have any other comments. Is everyone else happy with this branch?



---

archive/issue_comments_423536.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/deca71ab5468c37fded0cf7da6e77acc36a3d56e\">deca71a</a></td><td><code>trac #27232: Merged with 8.9.beta2</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c871bcf8a1075419814e951603f9f02dd4a58c0a\">c871bcf</a></td><td><code>trac #27232: implement reviewer suggestion</code></td></tr></table>\n",
    "created_at": "2019-07-10T18:25:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423536",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:27'>Comment 27:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/deca71ab5468c37fded0cf7da6e77acc36a3d56e">deca71a</a></td><td><code>trac #27232: Merged with 8.9.beta2</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c871bcf8a1075419814e951603f9f02dd4a58c0a">c871bcf</a></td><td><code>trac #27232: implement reviewer suggestion</code></td></tr></table>




---

archive/issue_comments_423537.json:
```json
{
    "body": "Changed commit from **[94ebadf](https://github.com/sagemath/sagetrac-mirror/commit/94ebadffc21bfabb7ab29fbfe6e5fb3e4f24739d)** to **[c871bcf](https://github.com/sagemath/sagetrac-mirror/commit/c871bcf8a1075419814e951603f9f02dd4a58c0a)**",
    "created_at": "2019-07-10T18:25:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423537",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[94ebadf](https://github.com/sagemath/sagetrac-mirror/commit/94ebadffc21bfabb7ab29fbfe6e5fb3e4f24739d)** to **[c871bcf](https://github.com/sagemath/sagetrac-mirror/commit/c871bcf8a1075419814e951603f9f02dd4a58c0a)**



---

archive/issue_comments_423538.json:
```json
{
    "body": "<a id='comment:28'>Comment 28:</a>\nI followed your idea and now it's `if g_has_multiple_edges: .... else: ...`",
    "created_at": "2019-07-10T18:27:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423538",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:28'>Comment 28:</a>
I followed your idea and now it's `if g_has_multiple_edges: .... else: ...`



---

archive/issue_comments_423539.json:
```json
{
    "body": "<a id='comment:29'>Comment 29:</a>\nGreat! As I said, I'm happy. Others have looked more carefully at this, so I would like to hear from them before setting this to positive review.",
    "created_at": "2019-07-10T18:44:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423539",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:29'>Comment 29:</a>
Great! As I said, I'm happy. Others have looked more carefully at this, so I would like to hear from them before setting this to positive review.



---

archive/issue_comments_423540.json:
```json
{
    "body": "Changed branch from **[u/dcoudert/27232_fix_morphisms](https://github.com/sagemath/sagetrac-mirror/tree/u/dcoudert/27232_fix_morphisms)** to **[u/jhpalmieri/27232_fix_morphisms](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/27232_fix_morphisms)**",
    "created_at": "2019-07-17T22:25:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423540",
    "user": "https://github.com/jhpalmieri"
}
```

Changed branch from **[u/dcoudert/27232_fix_morphisms](https://github.com/sagemath/sagetrac-mirror/tree/u/dcoudert/27232_fix_morphisms)** to **[u/jhpalmieri/27232_fix_morphisms](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/27232_fix_morphisms)**



---

archive/issue_comments_423541.json:
```json
{
    "body": "Changed commit from **[c871bcf](https://github.com/sagemath/sagetrac-mirror/commit/c871bcf8a1075419814e951603f9f02dd4a58c0a)** to **[2fb0b52](https://github.com/sagemath/sagetrac-mirror/commit/2fb0b526d6f408d529dee597e6b8414ed6c4d19d)**",
    "created_at": "2019-07-17T22:27:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423541",
    "user": "https://github.com/jhpalmieri"
}
```

Changed commit from **[c871bcf](https://github.com/sagemath/sagetrac-mirror/commit/c871bcf8a1075419814e951603f9f02dd4a58c0a)** to **[2fb0b52](https://github.com/sagemath/sagetrac-mirror/commit/2fb0b526d6f408d529dee597e6b8414ed6c4d19d)**



---

archive/issue_comments_423542.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw, Dima Pasechnik, John Palmieri**",
    "created_at": "2019-07-17T22:27:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423542",
    "user": "https://github.com/jhpalmieri"
}
```

Reviewer: **Travis Scrimshaw, Dima Pasechnik, John Palmieri**



---

archive/issue_comments_423543.json:
```json
{
    "body": "<a id='comment:31'>Comment 31:</a>\nI found the documentation a little confusing, so here are some changes. @dcoudert, if you are happy with them, then I think we can set this to positive review.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2fb0b526d6f408d529dee597e6b8414ed6c4d19d\">2fb0b52</a></td><td><code>trac 27232: some documentation changes</code></td></tr></table>\n",
    "created_at": "2019-07-17T22:27:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423543",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:31'>Comment 31:</a>
I found the documentation a little confusing, so here are some changes. @dcoudert, if you are happy with them, then I think we can set this to positive review.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2fb0b526d6f408d529dee597e6b8414ed6c4d19d">2fb0b52</a></td><td><code>trac 27232: some documentation changes</code></td></tr></table>




---

archive/issue_comments_423544.json:
```json
{
    "body": "Changed reviewer from **Travis Scrimshaw, Dima Pasechnik, John Palmieri** to **Travis Scrimshaw, John Palmieri**",
    "created_at": "2019-07-17T22:45:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423544",
    "user": "https://github.com/dimpase"
}
```

Changed reviewer from **Travis Scrimshaw, Dima Pasechnik, John Palmieri** to **Travis Scrimshaw, John Palmieri**



---

archive/issue_comments_423545.json:
```json
{
    "body": "<a id='comment:32'>Comment 32:</a>\nSorry, I'll better let this to others, not enough time before going on vacation.",
    "created_at": "2019-07-17T22:45:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423545",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:32'>Comment 32:</a>
Sorry, I'll better let this to others, not enough time before going on vacation.



---

archive/issue_comments_423546.json:
```json
{
    "body": "<a id='comment:33'>Comment 33:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/27046de75e34d67f536462c00bcd1550d2a0fb63\">27046de</a></td><td><code>trac 27232: some documentation changes</code></td></tr></table>\n",
    "created_at": "2019-07-17T22:49:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423546",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:33'>Comment 33:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/27046de75e34d67f536462c00bcd1550d2a0fb63">27046de</a></td><td><code>trac 27232: some documentation changes</code></td></tr></table>




---

archive/issue_comments_423547.json:
```json
{
    "body": "Changed commit from **[2fb0b52](https://github.com/sagemath/sagetrac-mirror/commit/2fb0b526d6f408d529dee597e6b8414ed6c4d19d)** to **[27046de](https://github.com/sagemath/sagetrac-mirror/commit/27046de75e34d67f536462c00bcd1550d2a0fb63)**",
    "created_at": "2019-07-17T22:49:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423547",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[2fb0b52](https://github.com/sagemath/sagetrac-mirror/commit/2fb0b526d6f408d529dee597e6b8414ed6c4d19d)** to **[27046de](https://github.com/sagemath/sagetrac-mirror/commit/27046de75e34d67f536462c00bcd1550d2a0fb63)**



---

archive/issue_comments_423548.json:
```json
{
    "body": "<a id='comment:34'>Comment 34:</a>\nA small typo\n\n```diff\n-    edge labeled with a list ``[[label1, multiplicity], [label1,\n+    edge labeled with a list ``[[label1, multiplicity], [label2,\n```",
    "created_at": "2019-07-17T22:50:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423548",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:34'>Comment 34:</a>
A small typo

```diff
-    edge labeled with a list ``[[label1, multiplicity], [label1,
+    edge labeled with a list ``[[label1, multiplicity], [label2,
```



---

archive/issue_comments_423549.json:
```json
{
    "body": "Changed commit from **[27046de](https://github.com/sagemath/sagetrac-mirror/commit/27046de75e34d67f536462c00bcd1550d2a0fb63)** to **[b2218f2](https://github.com/sagemath/sagetrac-mirror/commit/b2218f2211d995dd44daeabe3ad9e18f5f3c4a9a)**",
    "created_at": "2019-07-17T23:05:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423549",
    "user": "https://github.com/dcoudert"
}
```

Changed commit from **[27046de](https://github.com/sagemath/sagetrac-mirror/commit/27046de75e34d67f536462c00bcd1550d2a0fb63)** to **[b2218f2](https://github.com/sagemath/sagetrac-mirror/commit/b2218f2211d995dd44daeabe3ad9e18f5f3c4a9a)**



---

archive/issue_comments_423550.json:
```json
{
    "body": "<a id='comment:35'>Comment 35:</a>\nI did the correction and pushed to a new branch in `public/`\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b2218f2211d995dd44daeabe3ad9e18f5f3c4a9a\">b2218f2</a></td><td><code>trac #27232: a small typo</code></td></tr></table>\n",
    "created_at": "2019-07-17T23:05:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423550",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:35'>Comment 35:</a>
I did the correction and pushed to a new branch in `public/`

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b2218f2211d995dd44daeabe3ad9e18f5f3c4a9a">b2218f2</a></td><td><code>trac #27232: a small typo</code></td></tr></table>




---

archive/issue_comments_423551.json:
```json
{
    "body": "Changed branch from **[u/jhpalmieri/27232_fix_morphisms](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/27232_fix_morphisms)** to **[public/graphs/27232_fix_morphisms](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/27232_fix_morphisms)**",
    "created_at": "2019-07-17T23:05:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423551",
    "user": "https://github.com/dcoudert"
}
```

Changed branch from **[u/jhpalmieri/27232_fix_morphisms](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/27232_fix_morphisms)** to **[public/graphs/27232_fix_morphisms](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/27232_fix_morphisms)**



---

archive/issue_comments_423552.json:
```json
{
    "body": "<a id='comment:36'>Comment 36:</a>\nI'm happy with all these modification. The code is much better now and fix py3 failing doctests. Further improvements are certainly possible, but let's do them in another patch.\n\nThank you all for the help.",
    "created_at": "2019-07-17T23:08:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423552",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:36'>Comment 36:</a>
I'm happy with all these modification. The code is much better now and fix py3 failing doctests. Further improvements are certainly possible, but let's do them in another patch.

Thank you all for the help.



---

archive/issue_events_343421.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2019-07-17T23:08:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27232#event-343421"
}
```



---

archive/issue_events_343422.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2019-07-17T23:08:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27232#event-343422"
}
```



---

archive/issue_events_343423.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-07-20T09:10:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27232#event-343423"
}
```



---

archive/issue_events_343424.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "13ca2608e4343e14ec03dbb90699584bb4181ff0",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-07-20T09:10:57Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27232#event-343424"
}
```



---

archive/issue_comments_423553.json:
```json
{
    "body": "Changed branch from **[public/graphs/27232_fix_morphisms](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/27232_fix_morphisms)** to **[b2218f2](https://github.com/sagemath/sagetrac-mirror/commit/b2218f2211d995dd44daeabe3ad9e18f5f3c4a9a)**",
    "created_at": "2019-07-20T09:10:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27232#issuecomment-423553",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/graphs/27232_fix_morphisms](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/27232_fix_morphisms)** to **[b2218f2](https://github.com/sagemath/sagetrac-mirror/commit/b2218f2211d995dd44daeabe3ad9e18f5f3c4a9a)**
