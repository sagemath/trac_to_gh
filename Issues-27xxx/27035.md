# Issue 27035: giac fails to build (clang/clang++)

archive/issues_026798.json:
```json
{
    "assignees": [],
    "body": "duplicate of #25324\n\n```\nsolve.cc:5751:23: error: non-constant-expression cannot be narrowed from type 'int' to 'short' in initializer list [-Wc++11-narrowing]\n      order_t order_={order,lexvars};\n                      ^~~~~\nsolve.cc:5751:23: note: insert an explicit cast to silence this issue\n      order_t order_={order,lexvars};\n                      ^~~~~\n                      static_cast<short>( )\nsolve.cc:5751:29: error: non-constant-expression cannot be narrowed from type 'int' to 'unsigned char' in initializer list [-Wc++11-narrowing]\n      order_t order_={order,lexvars};\n                            ^~~~~~~\nsolve.cc:5751:29: note: insert an explicit cast to silence this issue\n      order_t order_={order,lexvars};\n                            ^~~~~~~\n                            static_cast<unsigned char>( )\nsolve.cc:6962:21: error: non-constant-expression cannot be narrowed from type 'int' to 'short' in initializer list [-Wc++11-narrowing]\n    order_t order_={order.val,0};\n                    ^~~~~~~~~\nsolve.cc:6962:21: note: insert an explicit cast to silence this issue\n    order_t order_={order.val,0};\n                    ^~~~~~~~~\n                    static_cast<short>( )\n```\n\nSee also [this message on sage-devel](https://groups.google.com/forum/#!topic/sage-devel/rRhIQk2uxOc)\n\n_Issue created by migration from https://trac.sagemath.org/ticket/27035_\n\n",
    "closed_at": "2019-01-09T16:16:29Z",
    "created_at": "2019-01-09T16:00:48Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/duplicate"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "giac fails to build (clang/clang++)",
    "type": "issue",
    "updated_at": "2019-01-09T16:23:58Z",
    "url": "https://github.com/sagemath/sage/issues/27035",
    "user": "https://github.com/videlec"
}
```
duplicate of #25324

```
solve.cc:5751:23: error: non-constant-expression cannot be narrowed from type 'int' to 'short' in initializer list [-Wc++11-narrowing]
      order_t order_={order,lexvars};
                      ^~~~~
solve.cc:5751:23: note: insert an explicit cast to silence this issue
      order_t order_={order,lexvars};
                      ^~~~~
                      static_cast<short>( )
solve.cc:5751:29: error: non-constant-expression cannot be narrowed from type 'int' to 'unsigned char' in initializer list [-Wc++11-narrowing]
      order_t order_={order,lexvars};
                            ^~~~~~~
solve.cc:5751:29: note: insert an explicit cast to silence this issue
      order_t order_={order,lexvars};
                            ^~~~~~~
                            static_cast<unsigned char>( )
solve.cc:6962:21: error: non-constant-expression cannot be narrowed from type 'int' to 'short' in initializer list [-Wc++11-narrowing]
    order_t order_={order.val,0};
                    ^~~~~~~~~
solve.cc:6962:21: note: insert an explicit cast to silence this issue
    order_t order_={order.val,0};
                    ^~~~~~~~~
                    static_cast<short>( )
```

See also [this message on sage-devel](https://groups.google.com/forum/#!topic/sage-devel/rRhIQk2uxOc)

_Issue created by migration from https://trac.sagemath.org/ticket/27035_





---

archive/issue_events_353407.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-01-09T16:00:48Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27035",
    "milestone_number": null,
    "milestone_title": "sage-8.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27035#event-353407"
}
```



---

archive/issue_events_353408.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-01-09T16:00:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27035",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20standard",
    "label_color": "000080",
    "label_name": "component: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27035#event-353408"
}
```



---

archive/issue_events_353409.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-01-09T16:00:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27035",
    "label": "https://github.com/sagemath/sage/labels/p2%20%E2%80%93%20critical",
    "label_color": "ff7700",
    "label_name": "p2 \u2013 critical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27035#event-353409"
}
```



---

archive/issue_events_353410.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-01-09T16:00:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27035",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27035#event-353410"
}
```



---

archive/issue_comments_419727.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nYou need giac 1.5 on recent clangs. Please look up the giac upgrade ticket",
    "created_at": "2019-01-09T16:03:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27035",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27035#issuecomment-419727",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:1" align="right">Comment 1</div>

You need giac 1.5 on recent clangs. Please look up the giac upgrade ticket



---

archive/issue_events_353411.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-01-09T16:06:16Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/27035",
    "milestone_number": null,
    "milestone_title": "sage-8.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27035#event-353411"
}
```



---

archive/issue_events_353412.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-01-09T16:06:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27035",
    "label": "https://github.com/sagemath/sage/labels/p2%20%E2%80%93%20critical",
    "label_color": "ff7700",
    "label_name": "p2 \u2013 critical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27035#event-353412"
}
```



---

archive/issue_events_353413.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-01-09T16:06:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27035",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "a6a6a6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27035#event-353413"
}
```



---

archive/issue_events_353414.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-01-09T16:06:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27035",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27035#event-353414"
}
```



---

archive/issue_comments_419728.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,4 @@\n+duplicate of #25324\n \n ```\n solve.cc:5751:23: error: non-constant-expression cannot be narrowed from type 'int' to 'short' in initializer list [-Wc++11-narrowing]\n``````\n",
    "created_at": "2019-01-09T16:06:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27035",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27035#issuecomment-419728",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,4 @@
+duplicate of #25324
 
 ```
 solve.cc:5751:23: error: non-constant-expression cannot be narrowed from type 'int' to 'short' in initializer list [-Wc++11-narrowing]
``````




---

archive/issue_events_353415.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-09T16:16:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27035",
    "label": "https://github.com/sagemath/sage/labels/duplicate",
    "label_color": "a6a6a6",
    "label_name": "duplicate",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27035#event-353415"
}
```



---

archive/issue_events_353416.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-09T16:16:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27035",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27035#event-353416"
}
```



---

archive/issue_events_353417.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-09T16:16:29Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/27035",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27035#event-353417"
}
```



---

archive/issue_comments_419729.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nsee #26315 for a tentative fix (with giac 1.5).",
    "created_at": "2019-01-09T16:23:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27035",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27035#issuecomment-419729",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:4" align="right">Comment 4</div>

see #26315 for a tentative fix (with giac 1.5).
