# Issue 27035: giac fails to build (clang/clang++)

archive/issues_026798.json:
```json
{
    "body": "duplicate of #25324\n\n```\nsolve.cc:5751:23: error: non-constant-expression cannot be narrowed from type 'int' to 'short' in initializer list [-Wc++11-narrowing]\n      order_t order_={order,lexvars};\n                      ^~~~~\nsolve.cc:5751:23: note: insert an explicit cast to silence this issue\n      order_t order_={order,lexvars};\n                      ^~~~~\n                      static_cast<short>( )\nsolve.cc:5751:29: error: non-constant-expression cannot be narrowed from type 'int' to 'unsigned char' in initializer list [-Wc++11-narrowing]\n      order_t order_={order,lexvars};\n                            ^~~~~~~\nsolve.cc:5751:29: note: insert an explicit cast to silence this issue\n      order_t order_={order,lexvars};\n                            ^~~~~~~\n                            static_cast<unsigned char>( )\nsolve.cc:6962:21: error: non-constant-expression cannot be narrowed from type 'int' to 'short' in initializer list [-Wc++11-narrowing]\n    order_t order_={order.val,0};\n                    ^~~~~~~~~\nsolve.cc:6962:21: note: insert an explicit cast to silence this issue\n    order_t order_={order.val,0};\n                    ^~~~~~~~~\n                    static_cast<short>( )\n```\n\nSee also [this message on sage-devel](https://groups.google.com/forum/#!topic/sage-devel/rRhIQk2uxOc)\n\nResolution: duplicate\n\nIssue created by migration from https://trac.sagemath.org/ticket/27035\n\n",
    "closed_at": "2019-01-09T16:16:29Z",
    "created_at": "2019-01-09T16:00:48Z",
    "labels": [
        "component: packages: standard",
        "critical",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "giac fails to build (clang/clang++)",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/27035",
    "user": "https://github.com/videlec"
}
```
duplicate of #25324

```
solve.cc:5751:23: error: non-constant-expression cannot be narrowed from type 'int' to 'short' in initializer list [-Wc++11-narrowing]
      order_t order_={order,lexvars};
                      ^~~~~
solve.cc:5751:23: note: insert an explicit cast to silence this issue
      order_t order_={order,lexvars};
                      ^~~~~
                      static_cast<short>( )
solve.cc:5751:29: error: non-constant-expression cannot be narrowed from type 'int' to 'unsigned char' in initializer list [-Wc++11-narrowing]
      order_t order_={order,lexvars};
                            ^~~~~~~
solve.cc:5751:29: note: insert an explicit cast to silence this issue
      order_t order_={order,lexvars};
                            ^~~~~~~
                            static_cast<unsigned char>( )
solve.cc:6962:21: error: non-constant-expression cannot be narrowed from type 'int' to 'short' in initializer list [-Wc++11-narrowing]
    order_t order_={order.val,0};
                    ^~~~~~~~~
solve.cc:6962:21: note: insert an explicit cast to silence this issue
    order_t order_={order.val,0};
                    ^~~~~~~~~
                    static_cast<short>( )
```

See also [this message on sage-devel](https://groups.google.com/forum/#!topic/sage-devel/rRhIQk2uxOc)

Resolution: duplicate

Issue created by migration from https://trac.sagemath.org/ticket/27035





---

archive/issue_comments_401340.json:
```json
{
    "body": "<a id='comment:1'></a>You need giac 1.5 on recent clangs. Please look up the giac upgrade ticket",
    "created_at": "2019-01-09T16:03:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27035",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27035#issuecomment-401340",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:1'></a>You need giac 1.5 on recent clangs. Please look up the giac upgrade ticket



---

archive/issue_events_067128.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-01-09T16:06:16Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27035",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27035#event-67128"
}
```



---

archive/issue_comments_401341.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-01-09T16:06:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27035",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27035#issuecomment-401341",
    "user": "https://github.com/videlec"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_401342.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n+duplicate of #25324\n+\n ```\n solve.cc:5751:23: error: non-constant-expression cannot be narrowed from type 'int' to 'short' in initializer list [-Wc++11-narrowing]\n       order_t order_={order,lexvars};\n``````\n",
    "created_at": "2019-01-09T16:06:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27035",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27035#issuecomment-401342",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
+duplicate of #25324
+
 ```
 solve.cc:5751:23: error: non-constant-expression cannot be narrowed from type 'int' to 'short' in initializer list [-Wc++11-narrowing]
       order_t order_={order,lexvars};
``````




---

archive/issue_comments_401343.json:
```json
{
    "body": "Resolution: duplicate",
    "created_at": "2019-01-09T16:16:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27035",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27035#issuecomment-401343",
    "user": "https://github.com/embray"
}
```

Resolution: duplicate



---

archive/issue_events_067129.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-09T16:16:29Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/27035",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27035#event-67129"
}
```



---

archive/issue_comments_401344.json:
```json
{
    "body": "<a id='comment:4'></a>see #26315 for a tentative fix (with giac 1.5).",
    "created_at": "2019-01-09T16:23:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27035",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27035#issuecomment-401344",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:4'></a>see #26315 for a tentative fix (with giac 1.5).
