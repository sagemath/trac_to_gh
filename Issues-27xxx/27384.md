# Issue 27384: Apply Cysignals fix for Cygwin exception handler on sigaltstack

archive/issues_027147.json:
```json
{
    "body": "CC:  @jdemeyer\n\nThis adds a version of the patch from https://github.com/sagemath/cysignals/pull/108 modified to apply to cysignals 1.8.1.\n\nSince the issue only affects Cygwin I thought for now it would be easier (as in #27267) to apply the patch locally, rather than wait on Jeroen to approve the upstream PR, make a new release of cysignals, and make Sage depend on that release.\n\nThis fix certainly resolves the blocker issue well-enough for me for the time being. Fixing this is a prerequisite for fixing #27214.\n\nIssue created by migration from https://trac.sagemath.org/ticket/27384\n\n",
    "closed_at": "2019-03-10T21:37:25Z",
    "created_at": "2019-02-28T10:54:46Z",
    "labels": [
        "component: porting: cygwin",
        "blocker",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Apply Cysignals fix for Cygwin exception handler on sigaltstack",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/27384",
    "user": "https://github.com/embray"
}
```
CC:  @jdemeyer

This adds a version of the patch from https://github.com/sagemath/cysignals/pull/108 modified to apply to cysignals 1.8.1.

Since the issue only affects Cygwin I thought for now it would be easier (as in #27267) to apply the patch locally, rather than wait on Jeroen to approve the upstream PR, make a new release of cysignals, and make Sage depend on that release.

This fix certainly resolves the blocker issue well-enough for me for the time being. Fixing this is a prerequisite for fixing #27214.

Issue created by migration from https://trac.sagemath.org/ticket/27384





---

archive/issue_comments_382000.json:
```json
{
    "body": "New commits:",
    "created_at": "2019-02-28T10:56:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27384#issuecomment-382000",
    "user": "https://github.com/embray"
}
```

New commits:



---

archive/issue_comments_382001.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-02-28T10:56:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27384#issuecomment-382001",
    "user": "https://github.com/embray"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_382002.json:
```json
{
    "body": "Don't you need https://github.com/sagemath/cysignals/commit/8913e0b66a9acea11a5971868d748cde368ae29b also?\n\nIt's not a big deal to make a new cysignals release, just not right now.",
    "created_at": "2019-02-28T11:04:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27384#issuecomment-382002",
    "user": "https://github.com/jdemeyer"
}
```

Don't you need https://github.com/sagemath/cysignals/commit/8913e0b66a9acea11a5971868d748cde368ae29b also?

It's not a big deal to make a new cysignals release, just not right now.



---

archive/issue_comments_382003.json:
```json
{
    "body": "Replying to [comment:2 jdemeyer]:\n> Don't you need https://github.com/sagemath/cysignals/commit/8913e0b66a9acea11a5971868d748cde368ae29b also?\n\n\nI thought so at first too, but the change that that was fixing was after 1.8.1 so it's not relevant right now (I will need it for any future cysignals update in Sage)\n\n> It's not a big deal to make a new cysignals release, just not right now.\n\n\nI know it's not a big deal.  But as I explained (and I think you're agreeing) it's easier to just include the patch in the Sage SPKG for now.",
    "created_at": "2019-02-28T11:13:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27384#issuecomment-382003",
    "user": "https://github.com/embray"
}
```

Replying to [comment:2 jdemeyer]:
> Don't you need https://github.com/sagemath/cysignals/commit/8913e0b66a9acea11a5971868d748cde368ae29b also?


I thought so at first too, but the change that that was fixing was after 1.8.1 so it's not relevant right now (I will need it for any future cysignals update in Sage)

> It's not a big deal to make a new cysignals release, just not right now.


I know it's not a big deal.  But as I explained (and I think you're agreeing) it's easier to just include the patch in the Sage SPKG for now.



---

archive/issue_events_068014.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-03-10T21:37:25Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27384",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27384#event-68014"
}
```



---

archive/issue_events_068015.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-03-10T21:37:25Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/27384",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27384#event-68015"
}
```



---

archive/issue_comments_382004.json:
```json
{
    "body": "Can this be closed in favour of #27070?",
    "created_at": "2019-03-10T21:37:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27384#issuecomment-382004",
    "user": "https://github.com/jdemeyer"
}
```

Can this be closed in favour of #27070?



---

archive/issue_comments_382005.json:
```json
{
    "body": "Resolution: duplicate",
    "created_at": "2019-03-10T21:37:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27384#issuecomment-382005",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: duplicate



---

archive/issue_comments_382006.json:
```json
{
    "body": "Sure, as long as Cysignals 1.10 includes the fix (and doesn't break anything else).  I will review the changelog to make sure there isn't anything else suspect.",
    "created_at": "2019-03-11T12:11:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27384#issuecomment-382006",
    "user": "https://github.com/embray"
}
```

Sure, as long as Cysignals 1.10 includes the fix (and doesn't break anything else).  I will review the changelog to make sure there isn't anything else suspect.



---

archive/issue_comments_382007.json:
```json
{
    "body": "Resolution changed from duplicate to wontfix",
    "created_at": "2019-03-11T12:12:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27384#issuecomment-382007",
    "user": "https://github.com/embray"
}
```

Resolution changed from duplicate to wontfix
