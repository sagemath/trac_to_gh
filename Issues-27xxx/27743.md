# Issue 27743: Hyperplane Arrangement enhancements

archive/issues_027506.json:
```json
{
    "body": "Keywords: hyperplane arrangements\n\nAdds the following new enhancements to hyperplane arrangements:\n\n- Tests if an arrangement is simplicial (the bounding hyperplanes are linearly independent)\n- For central arrangements, produces a poset of regions.\n\nIssue created by migration from https://trac.sagemath.org/ticket/27743\n\n",
    "closed_at": "2019-05-06T11:55:53Z",
    "created_at": "2019-04-29T00:18:04Z",
    "labels": [
        "component: geometry",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.8",
    "title": "Hyperplane Arrangement enhancements",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/27743",
    "user": "https://github.com/thecaligarmo"
}
```
Keywords: hyperplane arrangements

Adds the following new enhancements to hyperplane arrangements:

- Tests if an arrangement is simplicial (the bounding hyperplanes are linearly independent)
- For central arrangements, produces a poset of regions.

Issue created by migration from https://trac.sagemath.org/ticket/27743





---

archive/issue_comments_387343.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to combinatorics.",
    "created_at": "2019-04-29T00:20:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27743#issuecomment-387343",
    "user": "https://github.com/thecaligarmo"
}
```

Changing component from PLEASE CHANGE to combinatorics.



---

archive/issue_comments_387344.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2019-04-29T00:20:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27743#issuecomment-387344",
    "user": "https://github.com/thecaligarmo"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_387345.json:
```json
{
    "body": "Changing priority from major to minor.",
    "created_at": "2019-04-29T00:20:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27743#issuecomment-387345",
    "user": "https://github.com/thecaligarmo"
}
```

Changing priority from major to minor.



---

archive/issue_comments_387346.json:
```json
{
    "body": "Changing keywords from \"\" to \"hyperplane arrangements\".",
    "created_at": "2019-04-29T00:20:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27743#issuecomment-387346",
    "user": "https://github.com/thecaligarmo"
}
```

Changing keywords from "" to "hyperplane arrangements".



---

archive/issue_comments_387347.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-04-30T01:27:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27743#issuecomment-387347",
    "user": "https://github.com/thecaligarmo"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_387348.json:
```json
{
    "body": "New commits:",
    "created_at": "2019-04-30T01:27:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27743#issuecomment-387348",
    "user": "https://github.com/thecaligarmo"
}
```

New commits:



---

archive/issue_comments_387349.json:
```json
{
    "body": "Changing component from combinatorics to geometry.",
    "created_at": "2019-04-30T01:27:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27743#issuecomment-387349",
    "user": "https://github.com/thecaligarmo"
}
```

Changing component from combinatorics to geometry.



---

archive/issue_comments_387350.json:
```json
{
    "body": "typo\n\nsimplical",
    "created_at": "2019-04-30T08:55:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27743#issuecomment-387350",
    "user": "https://github.com/fchapoton"
}
```

typo

simplical



---

archive/issue_comments_387351.json:
```json
{
    "body": "also would you please fix the pyflakes warning (see patchbot report) ?",
    "created_at": "2019-04-30T16:41:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27743#issuecomment-387351",
    "user": "https://github.com/fchapoton"
}
```

also would you please fix the pyflakes warning (see patchbot report) ?



---

archive/issue_comments_387352.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-05-01T16:27:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27743#issuecomment-387352",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_387353.json:
```json
{
    "body": "`@`chapoton the pyflakes warning in patchbot didn't really help, so I downloaded pyflakes and tested the file myself and fixed all the warnings. On my end I'm no longer getting any errors. Hopefully patchbot comes back positive on here as well for pyflakes.",
    "created_at": "2019-05-01T16:28:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27743#issuecomment-387353",
    "user": "https://github.com/thecaligarmo"
}
```

`@`chapoton the pyflakes warning in patchbot didn't really help, so I downloaded pyflakes and tested the file myself and fixed all the warnings. On my end I'm no longer getting any errors. Hopefully patchbot comes back positive on here as well for pyflakes.



---

archive/issue_comments_387354.json:
```json
{
    "body": "* What was not clear in the patchbot pyflakes message ? Maybe you looked at the wrong one.. The correct one said\n\n```\nsrc/sage/geometry/hyperplane_arrangement/arrangement.py:1589: local variable 'n' is assigned to but never used\n```\n\n* typo \"simplical\" is still there\n\n* in \"is_simplicial\", you do not need n when doing essentialization, only after\n\n* then you can just use `all(R.n_facets() == n for R in self.regions())`\n\n* `B = None` should be `B=None` in the def line of poset_of_regions\n\n* next line, Returns should be Return\n\n* The explanation paragraphs (in both functions) are not written in very good English.\n\n* move the import of Poset to the import section near the beginning of the file\n\n* poset_of_regions lacks an INPUT section, and examples using the parameters\n\n* while len(R) can be replaced by while R",
    "created_at": "2019-05-01T18:41:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27743#issuecomment-387354",
    "user": "https://github.com/fchapoton"
}
```

* What was not clear in the patchbot pyflakes message ? Maybe you looked at the wrong one.. The correct one said

```
src/sage/geometry/hyperplane_arrangement/arrangement.py:1589: local variable 'n' is assigned to but never used
```

* typo "simplical" is still there

* in "is_simplicial", you do not need n when doing essentialization, only after

* then you can just use `all(R.n_facets() == n for R in self.regions())`

* `B = None` should be `B=None` in the def line of poset_of_regions

* next line, Returns should be Return

* The explanation paragraphs (in both functions) are not written in very good English.

* move the import of Poset to the import section near the beginning of the file

* poset_of_regions lacks an INPUT section, and examples using the parameters

* while len(R) can be replaced by while R



---

archive/issue_comments_387355.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-05-03T14:59:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27743#issuecomment-387355",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_387356.json:
```json
{
    "body": "I had assumed that all the pyflakes logs would be the same, but apparently not. Going back I was able to find the log you are talking about.\n\nI've gone through and updated the document with the corrections you wanted, with some additional things that I noticed in the correction process.",
    "created_at": "2019-05-03T15:01:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27743#issuecomment-387356",
    "user": "https://github.com/thecaligarmo"
}
```

I had assumed that all the pyflakes logs would be the same, but apparently not. Going back I was able to find the log you are talking about.

I've gone through and updated the document with the corrections you wanted, with some additional things that I noticed in the correction process.



---

archive/issue_comments_387357.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-05-03T17:28:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27743#issuecomment-387357",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_387358.json:
```json
{
    "body": "Yes, there is a rogue patchbot, with no owner and spitting out wrong pyflakes reports...\n\nI would suggest to remove the full sentence\n\n```\nIn an essential arrangement, this equates to\n+        a region having a rank number of facets/bounding hyperplanes.\n```\nwhich is not needed, and still a bit clunky.",
    "created_at": "2019-05-03T18:37:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27743#issuecomment-387358",
    "user": "https://github.com/fchapoton"
}
```

Yes, there is a rogue patchbot, with no owner and spitting out wrong pyflakes reports...

I would suggest to remove the full sentence

```
In an essential arrangement, this equates to
+        a region having a rank number of facets/bounding hyperplanes.
```
which is not needed, and still a bit clunky.



---

archive/issue_comments_387359.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-05-03T19:15:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27743#issuecomment-387359",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_387360.json:
```json
{
    "body": "Ah that works. In the future I'll double check multiple pyflake reports if there is an error.\n\nI've gone ahead and removed the sentence you wanted.\n\n(Also, I wanted to say thank you for being patient with me. It's been a while since I last submitted to sage)",
    "created_at": "2019-05-03T19:17:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27743#issuecomment-387360",
    "user": "https://github.com/thecaligarmo"
}
```

Ah that works. In the future I'll double check multiple pyflake reports if there is an error.

I've gone ahead and removed the sentence you wanted.

(Also, I wanted to say thank you for being patient with me. It's been a while since I last submitted to sage)



---

archive/issue_comments_387361.json:
```json
{
    "body": "\u00c7a me semble bon. Je passe en positif. Merci pour cette contribution.",
    "created_at": "2019-05-04T12:00:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27743#issuecomment-387361",
    "user": "https://github.com/fchapoton"
}
```

Ça me semble bon. Je passe en positif. Merci pour cette contribution.



---

archive/issue_comments_387362.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-05-04T12:00:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27743#issuecomment-387362",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_387363.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-05-06T11:55:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27743#issuecomment-387363",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_068782.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-05-06T11:55:53Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/27743",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27743#event-68782"
}
```
