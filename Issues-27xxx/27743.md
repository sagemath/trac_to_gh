# Issue 27743: Hyperplane Arrangement enhancements

archive/issues_027506.json:
```json
{
    "body": "Adds the following new enhancements to hyperplane arrangements:\n\n- Tests if an arrangement is simplicial (the bounding hyperplanes are linearly independent)\n- For central arrangements, produces a poset of regions.\n\nKeywords: hyperplane arrangements\n\nBranch/Commit: [3ad858343df2ed5977617561605eb962362243a6](https://github.com/sagemath/sagetrac-mirror/commit/3ad858343df2ed5977617561605eb962362243a6)\n\nReviewer: Fr\u00e9d\u00e9ric Chapoton\n\nAuthor: Aram Dermenjian\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/27743\n\n",
    "closed_at": "2019-05-06T11:55:53Z",
    "created_at": "2019-04-29T00:18:04Z",
    "labels": [
        "component: geometry",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.8",
    "title": "Hyperplane Arrangement enhancements",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/27743",
    "user": "https://github.com/thecaligarmo"
}
```
Adds the following new enhancements to hyperplane arrangements:

- Tests if an arrangement is simplicial (the bounding hyperplanes are linearly independent)
- For central arrangements, produces a poset of regions.

Keywords: hyperplane arrangements

Branch/Commit: [3ad858343df2ed5977617561605eb962362243a6](https://github.com/sagemath/sagetrac-mirror/commit/3ad858343df2ed5977617561605eb962362243a6)

Reviewer: Frédéric Chapoton

Author: Aram Dermenjian

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/27743





---

archive/issue_comments_537218.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,4 @@\n+Adds the following new enhancements to hyperplane arrangements:\n \n+- Tests if an arrangement is simplicial (the bounding hyperplanes are linearly independent)\n+- For central arrangements, produces a poset of regions.\n``````\n",
    "created_at": "2019-04-29T00:20:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27743#issuecomment-537218",
    "user": "https://github.com/thecaligarmo"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,4 @@
+Adds the following new enhancements to hyperplane arrangements:
 
+- Tests if an arrangement is simplicial (the bounding hyperplanes are linearly independent)
+- For central arrangements, produces a poset of regions.
``````




---

archive/issue_events_077971.json:
```json
{
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/27743",
    "label": "component: combinatorics",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27743#event-77971"
}
```



---

archive/issue_comments_537219.json:
```json
{
    "body": "Changing keywords from \"\" to \"hyperplane arrangements\".",
    "created_at": "2019-04-29T00:20:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27743#issuecomment-537219",
    "user": "https://github.com/thecaligarmo"
}
```

Changing keywords from "" to "hyperplane arrangements".



---

archive/issue_comments_537220.json:
```json
{
    "body": "Changing author from \"\" to \"aram.dermenjian\"",
    "created_at": "2019-04-29T00:20:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27743#issuecomment-537220",
    "user": "https://github.com/thecaligarmo"
}
```

Changing author from "" to "aram.dermenjian"



---

archive/issue_comments_537221.json:
```json
{
    "body": "Changing branch from \"\" to \"u/aram.dermenjian/hyperplane_arrangement_enhancements\"",
    "created_at": "2019-04-30T01:24:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27743#issuecomment-537221",
    "user": "https://github.com/thecaligarmo"
}
```

Changing branch from "" to "u/aram.dermenjian/hyperplane_arrangement_enhancements"



---

archive/issue_comments_537222.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-04-30T01:27:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27743#issuecomment-537222",
    "user": "https://github.com/thecaligarmo"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_537223.json:
```json
{
    "body": "Changing commit from \"\" to \"8dfe046a0e93d65c0bb32fb919762d0ff3626555\"",
    "created_at": "2019-04-30T01:27:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27743#issuecomment-537223",
    "user": "https://github.com/thecaligarmo"
}
```

Changing commit from "" to "8dfe046a0e93d65c0bb32fb919762d0ff3626555"



---

archive/issue_comments_537224.json:
```json
{
    "body": "<a id='comment:3'></a>\nNew commits:\n|                                                                                                                                          |                                          |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------|\n|[8dfe046](https://github.com/sagemath/sagetrac-mirror/commit/8dfe046a0e93d65c0bb32fb919762d0ff3626555)|`Add simplicial test and poset of regions`|",
    "created_at": "2019-04-30T01:27:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27743#issuecomment-537224",
    "user": "https://github.com/thecaligarmo"
}
```

<a id='comment:3'></a>
New commits:
|                                                                                                                                          |                                          |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------|
|[8dfe046](https://github.com/sagemath/sagetrac-mirror/commit/8dfe046a0e93d65c0bb32fb919762d0ff3626555)|`Add simplicial test and poset of regions`|



---

archive/issue_events_077972.json:
```json
{
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/27743",
    "label": "component: combinatorics",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27743#event-77972"
}
```



---

archive/issue_comments_537225.json:
```json
{
    "body": "<a id='comment:4'></a>\ntypo\n\nsimplical",
    "created_at": "2019-04-30T08:55:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27743#issuecomment-537225",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:4'></a>
typo

simplical



---

archive/issue_comments_537226.json:
```json
{
    "body": "<a id='comment:5'></a>\nalso would you please fix the pyflakes warning (see patchbot report) ?",
    "created_at": "2019-04-30T16:41:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27743#issuecomment-537226",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:5'></a>
also would you please fix the pyflakes warning (see patchbot report) ?



---

archive/issue_comments_537227.json:
```json
{
    "body": "Changing author from \"aram.dermenjian\" to \"Aram Dermenjian\"",
    "created_at": "2019-04-30T19:38:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27743#issuecomment-537227",
    "user": "https://github.com/fchapoton"
}
```

Changing author from "aram.dermenjian" to "Aram Dermenjian"



---

archive/issue_comments_537228.json:
```json
{
    "body": "<a id='comment:7'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------|\n|[76221d7](https://github.com/sagemath/sagetrac-mirror/commit/76221d770016cb0cd6e2e9c088bbe46318020075)|`Fix pyflakes warning and fix numebered_labeles`|",
    "created_at": "2019-05-01T16:27:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27743#issuecomment-537228",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------|
|[76221d7](https://github.com/sagemath/sagetrac-mirror/commit/76221d770016cb0cd6e2e9c088bbe46318020075)|`Fix pyflakes warning and fix numebered_labeles`|



---

archive/issue_comments_537229.json:
```json
{
    "body": "Changing commit from \"8dfe046a0e93d65c0bb32fb919762d0ff3626555\" to \"76221d770016cb0cd6e2e9c088bbe46318020075\"",
    "created_at": "2019-05-01T16:27:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27743#issuecomment-537229",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "8dfe046a0e93d65c0bb32fb919762d0ff3626555" to "76221d770016cb0cd6e2e9c088bbe46318020075"



---

archive/issue_comments_537230.json:
```json
{
    "body": "<a id='comment:8'></a>\n`@`chapoton the pyflakes warning in patchbot didn't really help, so I downloaded pyflakes and tested the file myself and fixed all the warnings. On my end I'm no longer getting any errors. Hopefully patchbot comes back positive on here as well for pyflakes.",
    "created_at": "2019-05-01T16:28:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27743#issuecomment-537230",
    "user": "https://github.com/thecaligarmo"
}
```

<a id='comment:8'></a>
`@`chapoton the pyflakes warning in patchbot didn't really help, so I downloaded pyflakes and tested the file myself and fixed all the warnings. On my end I'm no longer getting any errors. Hopefully patchbot comes back positive on here as well for pyflakes.



---

archive/issue_comments_537231.json:
```json
{
    "body": "<a id='comment:9'></a>\n* What was not clear in the patchbot pyflakes message ? Maybe you looked at the wrong one.. The correct one said\n\n```\nsrc/sage/geometry/hyperplane_arrangement/arrangement.py:1589: local variable 'n' is assigned to but never used\n```\n\n* typo \"simplical\" is still there\n\n* in \"is_simplicial\", you do not need n when doing essentialization, only after\n\n* then you can just use `all(R.n_facets() == n for R in self.regions())`\n\n* `B = None` should be `B=None` in the def line of poset_of_regions\n\n* next line, Returns should be Return\n\n* The explanation paragraphs (in both functions) are not written in very good English.\n\n* move the import of Poset to the import section near the beginning of the file\n\n* poset_of_regions lacks an INPUT section, and examples using the parameters\n\n* while len(R) can be replaced by while R",
    "created_at": "2019-05-01T18:41:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27743#issuecomment-537231",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:9'></a>
* What was not clear in the patchbot pyflakes message ? Maybe you looked at the wrong one.. The correct one said

```
src/sage/geometry/hyperplane_arrangement/arrangement.py:1589: local variable 'n' is assigned to but never used
```

* typo "simplical" is still there

* in "is_simplicial", you do not need n when doing essentialization, only after

* then you can just use `all(R.n_facets() == n for R in self.regions())`

* `B = None` should be `B=None` in the def line of poset_of_regions

* next line, Returns should be Return

* The explanation paragraphs (in both functions) are not written in very good English.

* move the import of Poset to the import section near the beginning of the file

* poset_of_regions lacks an INPUT section, and examples using the parameters

* while len(R) can be replaced by while R



---

archive/issue_comments_537232.json:
```json
{
    "body": "Changing commit from \"76221d770016cb0cd6e2e9c088bbe46318020075\" to \"ff62236b251eeed5508d5cd7403999f6cd01e1de\"",
    "created_at": "2019-05-03T14:59:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27743#issuecomment-537232",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "76221d770016cb0cd6e2e9c088bbe46318020075" to "ff62236b251eeed5508d5cd7403999f6cd01e1de"



---

archive/issue_comments_537233.json:
```json
{
    "body": "<a id='comment:10'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                       |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------|\n|[ff62236](https://github.com/sagemath/sagetrac-mirror/commit/ff62236b251eeed5508d5cd7403999f6cd01e1de)|`Fixes to English, descriptions, and code improvements`|",
    "created_at": "2019-05-03T14:59:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27743#issuecomment-537233",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                       |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------|
|[ff62236](https://github.com/sagemath/sagetrac-mirror/commit/ff62236b251eeed5508d5cd7403999f6cd01e1de)|`Fixes to English, descriptions, and code improvements`|



---

archive/issue_comments_537234.json:
```json
{
    "body": "<a id='comment:11'></a>\nI had assumed that all the pyflakes logs would be the same, but apparently not. Going back I was able to find the log you are talking about.\n\nI've gone through and updated the document with the corrections you wanted, with some additional things that I noticed in the correction process.",
    "created_at": "2019-05-03T15:01:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27743#issuecomment-537234",
    "user": "https://github.com/thecaligarmo"
}
```

<a id='comment:11'></a>
I had assumed that all the pyflakes logs would be the same, but apparently not. Going back I was able to find the log you are talking about.

I've gone through and updated the document with the corrections you wanted, with some additional things that I noticed in the correction process.



---

archive/issue_comments_537235.json:
```json
{
    "body": "Changing commit from \"ff62236b251eeed5508d5cd7403999f6cd01e1de\" to \"7e85dc0975c9b22614be1f462a2311041197afd8\"",
    "created_at": "2019-05-03T17:28:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27743#issuecomment-537235",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ff62236b251eeed5508d5cd7403999f6cd01e1de" to "7e85dc0975c9b22614be1f462a2311041197afd8"



---

archive/issue_comments_537236.json:
```json
{
    "body": "<a id='comment:12'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |           |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------|\n|[7e85dc0](https://github.com/sagemath/sagetrac-mirror/commit/7e85dc0975c9b22614be1f462a2311041197afd8)|`Doc fixes`|",
    "created_at": "2019-05-03T17:28:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27743#issuecomment-537236",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |           |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------|
|[7e85dc0](https://github.com/sagemath/sagetrac-mirror/commit/7e85dc0975c9b22614be1f462a2311041197afd8)|`Doc fixes`|



---

archive/issue_comments_537237.json:
```json
{
    "body": "<a id='comment:13'></a>\nYes, there is a rogue patchbot, with no owner and spitting out wrong pyflakes reports...\n\nI would suggest to remove the full sentence\n\n```\nIn an essential arrangement, this equates to\n+        a region having a rank number of facets/bounding hyperplanes.\n```\nwhich is not needed, and still a bit clunky.",
    "created_at": "2019-05-03T18:37:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27743#issuecomment-537237",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:13'></a>
Yes, there is a rogue patchbot, with no owner and spitting out wrong pyflakes reports...

I would suggest to remove the full sentence

```
In an essential arrangement, this equates to
+        a region having a rank number of facets/bounding hyperplanes.
```
which is not needed, and still a bit clunky.



---

archive/issue_comments_537238.json:
```json
{
    "body": "Changing commit from \"7e85dc0975c9b22614be1f462a2311041197afd8\" to \"3ad858343df2ed5977617561605eb962362243a6\"",
    "created_at": "2019-05-03T19:15:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27743#issuecomment-537238",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "7e85dc0975c9b22614be1f462a2311041197afd8" to "3ad858343df2ed5977617561605eb962362243a6"



---

archive/issue_comments_537239.json:
```json
{
    "body": "<a id='comment:14'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                       |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------|\n|[3ad8583](https://github.com/sagemath/sagetrac-mirror/commit/3ad858343df2ed5977617561605eb962362243a6)|`Remove extra sentence`|",
    "created_at": "2019-05-03T19:15:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27743#issuecomment-537239",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                       |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------|
|[3ad8583](https://github.com/sagemath/sagetrac-mirror/commit/3ad858343df2ed5977617561605eb962362243a6)|`Remove extra sentence`|



---

archive/issue_comments_537240.json:
```json
{
    "body": "<a id='comment:15'></a>\nAh that works. In the future I'll double check multiple pyflake reports if there is an error.\n\nI've gone ahead and removed the sentence you wanted.\n\n(Also, I wanted to say thank you for being patient with me. It's been a while since I last submitted to sage)",
    "created_at": "2019-05-03T19:17:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27743#issuecomment-537240",
    "user": "https://github.com/thecaligarmo"
}
```

<a id='comment:15'></a>
Ah that works. In the future I'll double check multiple pyflake reports if there is an error.

I've gone ahead and removed the sentence you wanted.

(Also, I wanted to say thank you for being patient with me. It's been a while since I last submitted to sage)



---

archive/issue_comments_537241.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Fr\u00e9d\u00e9ric Chapoton\"",
    "created_at": "2019-05-04T12:00:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27743#issuecomment-537241",
    "user": "https://github.com/fchapoton"
}
```

Changing reviewer from "" to "Frédéric Chapoton"



---

archive/issue_comments_537242.json:
```json
{
    "body": "<a id='comment:16'></a>\n\u00c7a me semble bon. Je passe en positif. Merci pour cette contribution.",
    "created_at": "2019-05-04T12:00:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27743#issuecomment-537242",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:16'></a>
Ça me semble bon. Je passe en positif. Merci pour cette contribution.



---

archive/issue_comments_537243.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-05-04T12:00:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27743#issuecomment-537243",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_537244.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-05-06T11:55:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27743#issuecomment-537244",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_537245.json:
```json
{
    "body": "Changing branch from \"u/aram.dermenjian/hyperplane_arrangement_enhancements\" to \"3ad858343df2ed5977617561605eb962362243a6\"",
    "created_at": "2019-05-06T11:55:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27743#issuecomment-537245",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/aram.dermenjian/hyperplane_arrangement_enhancements" to "3ad858343df2ed5977617561605eb962362243a6"



---

archive/issue_events_077973.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-05-06T11:55:53Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/27743",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27743#event-77973"
}
```
