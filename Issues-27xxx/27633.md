# Issue 27633: Redesign of the constructor for Hyperelliptic curves

archive/issues_027396.json:
```json
{
    "body": "As discussed in #22173, the current the design of the hyperelliptic curves classes was not good.\n\nThis changes create the (genus, ring) subclasses dynamically, removing the need for a class/file per case.\n\n**CC:**  @JRSijsling @mstreng @videlec @slel\n\n**Keywords:** days98, hyperelliptic curves\n\n**Branch/Commit:** [fe002eba9502615124b4d17467a8dce423bb2adf](https://github.com/sagemath/sagetrac-mirror/commit/fe002eba9502615124b4d17467a8dce423bb2adf)\n\n**Reviewer:** Vincent Delecroix\n\n**Author:** Anna Somoza\n\nIssue created by migration from https://trac.sagemath.org/ticket/27633\n\n",
    "closed_at": "2019-04-27T17:44:14Z",
    "created_at": "2019-04-10T08:28:48Z",
    "labels": [
        "component: number theory",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.8",
    "title": "Redesign of the constructor for Hyperelliptic curves",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/27633",
    "user": "https://github.com/anna-somoza"
}
```
As discussed in #22173, the current the design of the hyperelliptic curves classes was not good.

This changes create the (genus, ring) subclasses dynamically, removing the need for a class/file per case.

**CC:**  @JRSijsling @mstreng @videlec @slel

**Keywords:** days98, hyperelliptic curves

**Branch/Commit:** [fe002eba9502615124b4d17467a8dce423bb2adf](https://github.com/sagemath/sagetrac-mirror/commit/fe002eba9502615124b4d17467a8dce423bb2adf)

**Reviewer:** Vincent Delecroix

**Author:** Anna Somoza

Issue created by migration from https://trac.sagemath.org/ticket/27633





---

archive/issue_comments_430723.json:
```json
{
    "body": "**Branch:** [u/annasomoza/redesign_of_the_constructor_for_hyperelliptic_curves](https://github.com/sagemath/sagetrac-mirror/tree/u/annasomoza/redesign_of_the_constructor_for_hyperelliptic_curves)",
    "created_at": "2019-04-11T08:19:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27633#issuecomment-430723",
    "user": "https://github.com/anna-somoza"
}
```

**Branch:** [u/annasomoza/redesign_of_the_constructor_for_hyperelliptic_curves](https://github.com/sagemath/sagetrac-mirror/tree/u/annasomoza/redesign_of_the_constructor_for_hyperelliptic_curves)



---

archive/issue_comments_430724.json:
```json
{
    "body": "**Author:** Anna Somoza",
    "created_at": "2019-04-11T08:35:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27633#issuecomment-430724",
    "user": "https://github.com/anna-somoza"
}
```

**Author:** Anna Somoza



---

archive/issue_comments_430725.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n+As discussed in #22173, the current the design of the hyperelliptic curves classes was not good.\n \n+This changes create the (genus, ring) subclasses dinamically, removing the need for a class/file per case.\n``````\n",
    "created_at": "2019-04-11T08:35:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27633#issuecomment-430725",
    "user": "https://github.com/anna-somoza"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,3 @@
+As discussed in #22173, the current the design of the hyperelliptic curves classes was not good.
 
+This changes create the (genus, ring) subclasses dinamically, removing the need for a class/file per case.
``````




---

archive/issue_events_243862.json:
```json
{
    "actor": "https://github.com/anna-somoza",
    "created_at": "2019-04-11T08:35:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/27633",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27633#event-243862"
}
```



---

archive/issue_events_243863.json:
```json
{
    "actor": "https://github.com/anna-somoza",
    "created_at": "2019-04-11T08:35:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/27633",
    "label": "component: number theory",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27633#event-243863"
}
```



---

archive/issue_comments_430726.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"days98, hyperelliptic curves\".",
    "created_at": "2019-04-11T08:35:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27633#issuecomment-430726",
    "user": "https://github.com/anna-somoza"
}
```

**Changing keywords** from "" to "days98, hyperelliptic curves".



---

archive/issue_events_243864.json:
```json
{
    "actor": "https://github.com/anna-somoza",
    "created_at": "2019-04-11T08:35:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/27633",
    "label": "enhancement",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27633#event-243864"
}
```



---

archive/issue_comments_430727.json:
```json
{
    "body": "**Commit:** [e4d5db4ac23d3369e0a4838f0d8a49bd646f088a](https://github.com/sagemath/sagetrac-mirror/commit/e4d5db4ac23d3369e0a4838f0d8a49bd646f088a)",
    "created_at": "2019-04-11T08:35:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27633#issuecomment-430727",
    "user": "https://github.com/anna-somoza"
}
```

**Commit:** [e4d5db4ac23d3369e0a4838f0d8a49bd646f088a](https://github.com/sagemath/sagetrac-mirror/commit/e4d5db4ac23d3369e0a4838f0d8a49bd646f088a)



---

archive/issue_events_243865.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-04-11T08:48:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/27633",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27633#event-243865"
}
```



---

archive/issue_events_243866.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-04-11T08:48:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/27633",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27633#event-243866"
}
```



---

archive/issue_comments_430728.json:
```json
{
    "body": "**Reviewer:** Vincent Delecroix",
    "created_at": "2019-04-11T08:48:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27633#issuecomment-430728",
    "user": "https://github.com/videlec"
}
```

**Reviewer:** Vincent Delecroix



---

archive/issue_comments_430729.json:
```json
{
    "body": "<a id='comment:3'></a>\nThis is a good move.\n\nThe logic in the following is weird\n\n```\nfld = map(lambda fnc : fnc(R), [is_FiniteField, is_RationalField, is_pAdicField])\nfld_type = fld.index(True)\n```\nYou would rather do something like\n\n```\nfields = [\n   (\"FiniteField\", is_FiniteField, HyperellipticCurve_finite_field),\n   (\"RationalField\", is_RationalField, HyperellipticCurve_rational_field),\n   (\"pAdicField\", is_pAdicField, HyperellipticCurve_padic_field)]\nfor name, test, cls in fields:\n    if test(R):\n        ....    # treat the class\n        break   # the tests are exclusive, no need to run through all cases\n```",
    "created_at": "2019-04-11T08:48:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27633#issuecomment-430729",
    "user": "https://github.com/videlec"
}
```

<a id='comment:3'></a>
This is a good move.

The logic in the following is weird

```
fld = map(lambda fnc : fnc(R), [is_FiniteField, is_RationalField, is_pAdicField])
fld_type = fld.index(True)
```
You would rather do something like

```
fields = [
   ("FiniteField", is_FiniteField, HyperellipticCurve_finite_field),
   ("RationalField", is_RationalField, HyperellipticCurve_rational_field),
   ("pAdicField", is_pAdicField, HyperellipticCurve_padic_field)]
for name, test, cls in fields:
    if test(R):
        ....    # treat the class
        break   # the tests are exclusive, no need to run through all cases
```



---

archive/issue_comments_430730.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1c35da7d8f2230f64fd5eae83629daa0d21bbc4c\">1c35da7</a></td><td><code>Modify field-related data treatment</code></td></tr></table>\n",
    "created_at": "2019-04-11T09:07:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27633#issuecomment-430730",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1c35da7d8f2230f64fd5eae83629daa0d21bbc4c">1c35da7</a></td><td><code>Modify field-related data treatment</code></td></tr></table>




---

archive/issue_comments_430731.json:
```json
{
    "body": "**Changing commit** from \"[e4d5db4ac23d3369e0a4838f0d8a49bd646f088a](https://github.com/sagemath/sagetrac-mirror/commit/e4d5db4ac23d3369e0a4838f0d8a49bd646f088a)\" to \"[1c35da7d8f2230f64fd5eae83629daa0d21bbc4c](https://github.com/sagemath/sagetrac-mirror/commit/1c35da7d8f2230f64fd5eae83629daa0d21bbc4c)\".",
    "created_at": "2019-04-11T09:07:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27633#issuecomment-430731",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[e4d5db4ac23d3369e0a4838f0d8a49bd646f088a](https://github.com/sagemath/sagetrac-mirror/commit/e4d5db4ac23d3369e0a4838f0d8a49bd646f088a)" to "[1c35da7d8f2230f64fd5eae83629daa0d21bbc4c](https://github.com/sagemath/sagetrac-mirror/commit/1c35da7d8f2230f64fd5eae83629daa0d21bbc4c)".



---

archive/issue_comments_430732.json:
```json
{
    "body": "<a id='comment:5'></a>\nAgreed, with your approach the code is easier to understand.",
    "created_at": "2019-04-11T09:09:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27633#issuecomment-430732",
    "user": "https://github.com/anna-somoza"
}
```

<a id='comment:5'></a>
Agreed, with your approach the code is easier to understand.



---

archive/issue_events_243867.json:
```json
{
    "actor": "https://github.com/anna-somoza",
    "created_at": "2019-04-11T09:09:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/27633",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27633#event-243867"
}
```



---

archive/issue_events_243868.json:
```json
{
    "actor": "https://github.com/anna-somoza",
    "created_at": "2019-04-11T09:09:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/27633",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27633#event-243868"
}
```



---

archive/issue_comments_430733.json:
```json
{
    "body": "**Changing commit** from \"[1c35da7d8f2230f64fd5eae83629daa0d21bbc4c](https://github.com/sagemath/sagetrac-mirror/commit/1c35da7d8f2230f64fd5eae83629daa0d21bbc4c)\" to \"[2863afabd251b2b2d57e70295c3457c9532325c0](https://github.com/sagemath/sagetrac-mirror/commit/2863afabd251b2b2d57e70295c3457c9532325c0)\".",
    "created_at": "2019-04-11T12:38:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27633#issuecomment-430733",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[1c35da7d8f2230f64fd5eae83629daa0d21bbc4c](https://github.com/sagemath/sagetrac-mirror/commit/1c35da7d8f2230f64fd5eae83629daa0d21bbc4c)" to "[2863afabd251b2b2d57e70295c3457c9532325c0](https://github.com/sagemath/sagetrac-mirror/commit/2863afabd251b2b2d57e70295c3457c9532325c0)".



---

archive/issue_comments_430734.json:
```json
{
    "body": "<a id='comment:6'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2863afabd251b2b2d57e70295c3457c9532325c0\">2863afa</a></td><td><code>Doc now builds</code></td></tr></table>\n",
    "created_at": "2019-04-11T12:38:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27633#issuecomment-430734",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2863afabd251b2b2d57e70295c3457c9532325c0">2863afa</a></td><td><code>Doc now builds</code></td></tr></table>




---

archive/issue_comments_430735.json:
```json
{
    "body": "<a id='comment:7'></a>\nSimilarly, why do you construct a dictionary in the following\n\n```\n+    genus_class = {2:HyperellipticCurve_g2}\n+    if g in genus_class.keys():\n+        supercls.append(genus_class[g])\n```\nThis is simpler as\n\n```\nif g == 2:\n    supercls.append(HyperellipticCurve_g2)\n```",
    "created_at": "2019-04-11T12:43:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27633#issuecomment-430735",
    "user": "https://github.com/videlec"
}
```

<a id='comment:7'></a>
Similarly, why do you construct a dictionary in the following

```
+    genus_class = {2:HyperellipticCurve_g2}
+    if g in genus_class.keys():
+        supercls.append(genus_class[g])
```
This is simpler as

```
if g == 2:
    supercls.append(HyperellipticCurve_g2)
```



---

archive/issue_comments_430736.json:
```json
{
    "body": "<a id='comment:8'></a>\nThis I did with #22173 in mind, where I will add the class for genus 3 to the dictionary (I am working on it right now). In general, if more genus are added, then using the dictionary leads to a cleaner code than a list of ifs.",
    "created_at": "2019-04-11T13:17:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27633#issuecomment-430736",
    "user": "https://github.com/anna-somoza"
}
```

<a id='comment:8'></a>
This I did with #22173 in mind, where I will add the class for genus 3 to the dictionary (I am working on it right now). In general, if more genus are added, then using the dictionary leads to a cleaner code than a list of ifs.



---

archive/issue_comments_430737.json:
```json
{
    "body": "<a id='comment:9'></a>\nI see. What about?\n\n```\nif g == 2:\n    supercls.append(HyperellipticCurve_g2)\n# elif g == 3:\n#     supercls.append(HyperellipticCurve_g3)\n```",
    "created_at": "2019-04-11T13:22:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27633#issuecomment-430737",
    "user": "https://github.com/videlec"
}
```

<a id='comment:9'></a>
I see. What about?

```
if g == 2:
    supercls.append(HyperellipticCurve_g2)
# elif g == 3:
#     supercls.append(HyperellipticCurve_g3)
```



---

archive/issue_comments_430738.json:
```json
{
    "body": "<a id='comment:10'></a>\nWhat do you think about removing the inheritance from `HyperellipticCurve_generic`\nin `HyperellipticCurve_rational_field`, `HyperellipticCurve_padic_field`, etc? All the inheritance is handled by this new function anyway.\n\nIn this case, the function would be\n\n```\ncls = [HyperellipticCurve_generic]\n\n...\n\nif len(cls) > 1:   # contains more than just HyperellipticCurve_generic\n    cls = type(\"HyperellipticCurve_\" + \"_\".join(cls_name), tuple(cls), {})\n\nreturn cls(PP, f, h, names=names, genus=g)\n```",
    "created_at": "2019-04-11T13:29:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27633#issuecomment-430738",
    "user": "https://github.com/videlec"
}
```

<a id='comment:10'></a>
What do you think about removing the inheritance from `HyperellipticCurve_generic`
in `HyperellipticCurve_rational_field`, `HyperellipticCurve_padic_field`, etc? All the inheritance is handled by this new function anyway.

In this case, the function would be

```
cls = [HyperellipticCurve_generic]

...

if len(cls) > 1:   # contains more than just HyperellipticCurve_generic
    cls = type("HyperellipticCurve_" + "_".join(cls_name), tuple(cls), {})

return cls(PP, f, h, names=names, genus=g)
```



---

archive/issue_comments_430739.json:
```json
{
    "body": "<a id='comment:11'></a>\nAnd last but not the least, you definitely don't to create twice the same class. The first reason for this is that if you construct twice a hyperelliptic curves over rational you want the type to be the same. But the type function will recreate a new class each time (even if it has the same name).\n\nAlso, you don't want to create classes that are not necessary. Creating a class for each genus is a waste of time.",
    "created_at": "2019-04-11T13:31:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27633#issuecomment-430739",
    "user": "https://github.com/videlec"
}
```

<a id='comment:11'></a>
And last but not the least, you definitely don't to create twice the same class. The first reason for this is that if you construct twice a hyperelliptic curves over rational you want the type to be the same. But the type function will recreate a new class each time (even if it has the same name).

Also, you don't want to create classes that are not necessary. Creating a class for each genus is a waste of time.



---

archive/issue_comments_430740.json:
```json
{
    "body": "**Changing commit** from \"[2863afabd251b2b2d57e70295c3457c9532325c0](https://github.com/sagemath/sagetrac-mirror/commit/2863afabd251b2b2d57e70295c3457c9532325c0)\" to \"[5b5c570959a5704f168b30faec3132f115482df5](https://github.com/sagemath/sagetrac-mirror/commit/5b5c570959a5704f168b30faec3132f115482df5)\".",
    "created_at": "2019-04-11T14:47:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27633#issuecomment-430740",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[2863afabd251b2b2d57e70295c3457c9532325c0](https://github.com/sagemath/sagetrac-mirror/commit/2863afabd251b2b2d57e70295c3457c9532325c0)" to "[5b5c570959a5704f168b30faec3132f115482df5](https://github.com/sagemath/sagetrac-mirror/commit/5b5c570959a5704f168b30faec3132f115482df5)".



---

archive/issue_comments_430741.json:
```json
{
    "body": "<a id='comment:12'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5b5c570959a5704f168b30faec3132f115482df5\">5b5c570</a></td><td><code>Modify genus-related data treatment. Store already-created classes for future use.</code></td></tr></table>\n",
    "created_at": "2019-04-11T14:47:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27633#issuecomment-430741",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5b5c570959a5704f168b30faec3132f115482df5">5b5c570</a></td><td><code>Modify genus-related data treatment. Store already-created classes for future use.</code></td></tr></table>




---

archive/issue_comments_430742.json:
```json
{
    "body": "<a id='comment:13'></a>\nReplying to [vdelecroix](#comment%3A9):\n> I see. What about?\n> \n> ```\n> if g == 2:\n>     supercls.append(HyperellipticCurve_g2)\n> # elif g == 3:\n> #     supercls.append(HyperellipticCurve_g3)\n> ```\n\n\nHow about this new version? There I just use the information of the classes that are imported in the module. \n\nReplying to [vdelecroix](#comment%3A10):\n> What do you think about removing the inheritance from `HyperellipticCurve_generic`\n> in `HyperellipticCurve_rational_field`, `HyperellipticCurve_padic_field`, etc? All the inheritance is handled by this new function anyway.\n> \n> In this case, the function would be\n> \n> ```\n> cls = [HyperellipticCurve_generic]\n> \n> ...\n> \n> if len(cls) > 1:   # contains more than just HyperellipticCurve_generic\n>     cls = type(\"HyperellipticCurve_\" + \"_\".join(cls_name), tuple(cls), {})\n> \n> return cls(PP, f, h, names=names, genus=g)\n> ```\n\n\nThe methods in `HyperellipticCurve_rational_field` and others use methods from `HyperellipticCurve_generic`, so I don't think that it is a good idea.\n\nReplying to [vdelecroix](#comment%3A11):\n> And last but not the least, you definitely don't to create twice the same class. The first reason for this is that if you construct twice a hyperelliptic curves over rational you want the type to be the same. But the type function will recreate a new class each time (even if it has the same name).\n> \n> Also, you don't want to create classes that are not necessary. Creating a class for each genus is a waste of time.\n\n\nAgreed, I included the functionality and added a test for it.",
    "created_at": "2019-04-11T14:50:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27633#issuecomment-430742",
    "user": "https://github.com/anna-somoza"
}
```

<a id='comment:13'></a>
Replying to [vdelecroix](#comment%3A9):
> I see. What about?
> 
> ```
> if g == 2:
>     supercls.append(HyperellipticCurve_g2)
> # elif g == 3:
> #     supercls.append(HyperellipticCurve_g3)
> ```


How about this new version? There I just use the information of the classes that are imported in the module. 

Replying to [vdelecroix](#comment%3A10):
> What do you think about removing the inheritance from `HyperellipticCurve_generic`
> in `HyperellipticCurve_rational_field`, `HyperellipticCurve_padic_field`, etc? All the inheritance is handled by this new function anyway.
> 
> In this case, the function would be
> 
> ```
> cls = [HyperellipticCurve_generic]
> 
> ...
> 
> if len(cls) > 1:   # contains more than just HyperellipticCurve_generic
>     cls = type("HyperellipticCurve_" + "_".join(cls_name), tuple(cls), {})
> 
> return cls(PP, f, h, names=names, genus=g)
> ```


The methods in `HyperellipticCurve_rational_field` and others use methods from `HyperellipticCurve_generic`, so I don't think that it is a good idea.

Replying to [vdelecroix](#comment%3A11):
> And last but not the least, you definitely don't to create twice the same class. The first reason for this is that if you construct twice a hyperelliptic curves over rational you want the type to be the same. But the type function will recreate a new class each time (even if it has the same name).
> 
> Also, you don't want to create classes that are not necessary. Creating a class for each genus is a waste of time.


Agreed, I included the functionality and added a test for it.



---

archive/issue_comments_430743.json:
```json
{
    "body": "<a id='comment:14'></a>\nReplying to [annasomoza](#comment%3A13):\n> Replying to [vdelecroix](#comment%3A9):\n> > I see. What about?\n> > \n> > ```\n> > if g == 2:\n> >     supercls.append(HyperellipticCurve_g2)\n> > # elif g == 3:\n> > #     supercls.append(HyperellipticCurve_g3)\n> > ```\n\n> \n> How about this new version? There I just use the information of the classes that are imported in the module. \n\n\nThis is terrible. Explicit code is to my mind much better. With the current version, a curious person looking at the code would have no clue about how it works.",
    "created_at": "2019-04-12T06:19:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27633#issuecomment-430743",
    "user": "https://github.com/videlec"
}
```

<a id='comment:14'></a>
Replying to [annasomoza](#comment%3A13):
> Replying to [vdelecroix](#comment%3A9):
> > I see. What about?
> > 
> > ```
> > if g == 2:
> >     supercls.append(HyperellipticCurve_g2)
> > # elif g == 3:
> > #     supercls.append(HyperellipticCurve_g3)
> > ```

> 
> How about this new version? There I just use the information of the classes that are imported in the module. 


This is terrible. Explicit code is to my mind much better. With the current version, a curious person looking at the code would have no clue about how it works.



---

archive/issue_comments_430744.json:
```json
{
    "body": "<a id='comment:15'></a>\nOtherwise, the caching with the dictionary is ok.",
    "created_at": "2019-04-12T06:21:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27633#issuecomment-430744",
    "user": "https://github.com/videlec"
}
```

<a id='comment:15'></a>
Otherwise, the caching with the dictionary is ok.



---

archive/issue_comments_430745.json:
```json
{
    "body": "<a id='comment:16'></a>\nThe new version is good as it forces new contributions to follow the same name pattern and only requires to add the new class without changing the source code of the main function. \n\nSo I don't think \"terrible\" is an appropriate adjective! (Unless you have an other way to catch the existing classes?) A list of ifs might just get very long and unpractical. \n\nI do agree that it is not very reader-friendly as it is. This could easily be fixed with more comments/documentation.",
    "created_at": "2019-04-12T07:44:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27633#issuecomment-430745",
    "user": "https://github.com/VivianePons"
}
```

<a id='comment:16'></a>
The new version is good as it forces new contributions to follow the same name pattern and only requires to add the new class without changing the source code of the main function. 

So I don't think "terrible" is an appropriate adjective! (Unless you have an other way to catch the existing classes?) A list of ifs might just get very long and unpractical. 

I do agree that it is not very reader-friendly as it is. This could easily be fixed with more comments/documentation.



---

archive/issue_comments_430746.json:
```json
{
    "body": "<a id='comment:17'></a>\nReplying to [VivianePons](#comment%3A16):\n> The new version is good as it forces new contributions to follow the same name pattern and only requires to add the new class without changing the source code of the main function. \n> \n> So I don't think \"terrible\" is an appropriate adjective! (Unless you have an other way to catch the existing classes?) A list of ifs might just get very long and unpractical. \n\n\nThe list has length one and after #22173 it will have length two. I don't understand this objection.\n\n> I do agree that it is not very reader-friendly as it is. This could easily be fixed with more comments/documentation.\n\n\n\"Terrible design\" is appropriate.\n\n1. As I said it is unreadable.\n\n2. The code is sensitive to code injection\n\n```\nsage: import sage.schemes.hyperelliptic_curves.constructor as constructor\nsage: constructor.HyperellipticCurve_g3 = int\n```\nYou might consider this as a super feature, but it is very much error prone.\n\n3. The way it is written goes through several dictionary accesses and a try/except each time a hyperelliptic curve is created. This is a waste of time as you want constructors to be as light as possible.",
    "created_at": "2019-04-12T08:38:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27633#issuecomment-430746",
    "user": "https://github.com/videlec"
}
```

<a id='comment:17'></a>
Replying to [VivianePons](#comment%3A16):
> The new version is good as it forces new contributions to follow the same name pattern and only requires to add the new class without changing the source code of the main function. 
> 
> So I don't think "terrible" is an appropriate adjective! (Unless you have an other way to catch the existing classes?) A list of ifs might just get very long and unpractical. 


The list has length one and after #22173 it will have length two. I don't understand this objection.

> I do agree that it is not very reader-friendly as it is. This could easily be fixed with more comments/documentation.


"Terrible design" is appropriate.

1. As I said it is unreadable.

2. The code is sensitive to code injection

```
sage: import sage.schemes.hyperelliptic_curves.constructor as constructor
sage: constructor.HyperellipticCurve_g3 = int
```
You might consider this as a super feature, but it is very much error prone.

3. The way it is written goes through several dictionary accesses and a try/except each time a hyperelliptic curve is created. This is a waste of time as you want constructors to be as light as possible.



---

archive/issue_comments_430747.json:
```json
{
    "body": "<a id='comment:18'></a>\nI understand the objection about security and efficiency. The argument that the list will be of length 2 is not very convincing though: the very purpose of this ticket is to write an architecture which allows for easy extensions. \n\nI would suggest we go back to the initial solution that was proposed: use a dictionary associating the class name to the actual class. I find it much more readable than the list of ifs and easier to extend.",
    "created_at": "2019-04-12T08:51:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27633#issuecomment-430747",
    "user": "https://github.com/VivianePons"
}
```

<a id='comment:18'></a>
I understand the objection about security and efficiency. The argument that the list will be of length 2 is not very convincing though: the very purpose of this ticket is to write an architecture which allows for easy extensions. 

I would suggest we go back to the initial solution that was proposed: use a dictionary associating the class name to the actual class. I find it much more readable than the list of ifs and easier to extend.



---

archive/issue_comments_430748.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n As discussed in #22173, the current the design of the hyperelliptic curves classes was not good.\n \n-This changes create the (genus, ring) subclasses dinamically, removing the need for a class/file per case.\n+This changes create the (genus, ring) subclasses dynamically, removing the need for a class/file per case.\n``````\n",
    "created_at": "2019-04-13T21:47:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27633#issuecomment-430748",
    "user": "https://github.com/slel"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
 As discussed in #22173, the current the design of the hyperelliptic curves classes was not good.
 
-This changes create the (genus, ring) subclasses dinamically, removing the need for a class/file per case.
+This changes create the (genus, ring) subclasses dynamically, removing the need for a class/file per case.
``````




---

archive/issue_comments_430749.json:
```json
{
    "body": "<a id='comment:20'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/92953194a0bcd415a3c4a3eee55b4e76ed9bd207\">9295319</a></td><td><code>Back to using a dictionary to deal with genus-related classes</code></td></tr></table>\n",
    "created_at": "2019-04-16T13:34:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27633#issuecomment-430749",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/92953194a0bcd415a3c4a3eee55b4e76ed9bd207">9295319</a></td><td><code>Back to using a dictionary to deal with genus-related classes</code></td></tr></table>




---

archive/issue_comments_430750.json:
```json
{
    "body": "**Changing commit** from \"[5b5c570959a5704f168b30faec3132f115482df5](https://github.com/sagemath/sagetrac-mirror/commit/5b5c570959a5704f168b30faec3132f115482df5)\" to \"[92953194a0bcd415a3c4a3eee55b4e76ed9bd207](https://github.com/sagemath/sagetrac-mirror/commit/92953194a0bcd415a3c4a3eee55b4e76ed9bd207)\".",
    "created_at": "2019-04-16T13:34:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27633#issuecomment-430750",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[5b5c570959a5704f168b30faec3132f115482df5](https://github.com/sagemath/sagetrac-mirror/commit/5b5c570959a5704f168b30faec3132f115482df5)" to "[92953194a0bcd415a3c4a3eee55b4e76ed9bd207](https://github.com/sagemath/sagetrac-mirror/commit/92953194a0bcd415a3c4a3eee55b4e76ed9bd207)".



---

archive/issue_comments_430751.json:
```json
{
    "body": "<a id='comment:21'></a>\nFollowing Viviane's comment, I went back to using a dictionary.\n\nI am not sure of the meaning of the error that the bot gives, I think it comes from the fact that some files where removed and is otherwise green.",
    "created_at": "2019-04-16T13:38:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27633#issuecomment-430751",
    "user": "https://github.com/anna-somoza"
}
```

<a id='comment:21'></a>
Following Viviane's comment, I went back to using a dictionary.

I am not sure of the meaning of the error that the bot gives, I think it comes from the fact that some files where removed and is otherwise green.



---

archive/issue_comments_430752.json:
```json
{
    "body": "<a id='comment:22'></a>\nYou might want to test that inheritance is actually correct in the doctests\n\n```\nsage: R.<t> = PolynomialRing(GF(next_prime(10^9)))\nsage: C = HyperellipticCurve(t^5 + t + 1)\nsage: import inspect\nsage: inspect.getmro(type(C))\n(<class 'sage.schemes.hyperelliptic_curves.constructor.HyperellipticCurve_g2_FiniteField_with_category'>,\n <class 'sage.schemes.hyperelliptic_curves.constructor.HyperellipticCurve_g2_FiniteField'>,\n <class 'sage.schemes.hyperelliptic_curves.hyperelliptic_g2.HyperellipticCurve_g2'>,\n <class 'sage.schemes.hyperelliptic_curves.hyperelliptic_finite_field.HyperellipticCurve_finite_field'>,\n <class 'sage.schemes.hyperelliptic_curves.hyperelliptic_generic.HyperellipticCurve_generic'>,\n ...)\n```",
    "created_at": "2019-04-16T13:43:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27633#issuecomment-430752",
    "user": "https://github.com/videlec"
}
```

<a id='comment:22'></a>
You might want to test that inheritance is actually correct in the doctests

```
sage: R.<t> = PolynomialRing(GF(next_prime(10^9)))
sage: C = HyperellipticCurve(t^5 + t + 1)
sage: import inspect
sage: inspect.getmro(type(C))
(<class 'sage.schemes.hyperelliptic_curves.constructor.HyperellipticCurve_g2_FiniteField_with_category'>,
 <class 'sage.schemes.hyperelliptic_curves.constructor.HyperellipticCurve_g2_FiniteField'>,
 <class 'sage.schemes.hyperelliptic_curves.hyperelliptic_g2.HyperellipticCurve_g2'>,
 <class 'sage.schemes.hyperelliptic_curves.hyperelliptic_finite_field.HyperellipticCurve_finite_field'>,
 <class 'sage.schemes.hyperelliptic_curves.hyperelliptic_generic.HyperellipticCurve_generic'>,
 ...)
```



---

archive/issue_comments_430753.json:
```json
{
    "body": "<a id='comment:23'></a>\nIs it better to add a test for every case or with the one you gave it's enough?\n\nAlso, while looking into this I realized that I am duplicating the classes with only one superclass.\n\n```\nsage: R.<t> = PolynomialRing(GF(next_prime(10^9)))\nsage: C = HyperellipticCurve(t^7 + t + 1)\nsage: import inspect\nsage: inspect.getmro(type(C))\n(<class 'sage.schemes.hyperelliptic_curves.constructor.HyperellipticCurve_FiniteField_with_category'>,\n <class 'sage.schemes.hyperelliptic_curves.constructor.HyperellipticCurve_FiniteField'>,\n <class 'sage.schemes.hyperelliptic_curves.hyperelliptic_finite_field.HyperellipticCurve_finite_field'>,\n <class 'sage.schemes.hyperelliptic_curves.hyperelliptic_generic.HyperellipticCurve_generic'>,\n...)\n```\n\nWould it be preferable to initiate the `created_classes` dictionary with the classes `HyperellipticCurve_g2`, `HyperellipticCurve_FiniteField`, etc to avoid that? That could also simplify the last part of the code if `HyperellipticCurve_generic` was added too.",
    "created_at": "2019-04-16T14:15:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27633#issuecomment-430753",
    "user": "https://github.com/anna-somoza"
}
```

<a id='comment:23'></a>
Is it better to add a test for every case or with the one you gave it's enough?

Also, while looking into this I realized that I am duplicating the classes with only one superclass.

```
sage: R.<t> = PolynomialRing(GF(next_prime(10^9)))
sage: C = HyperellipticCurve(t^7 + t + 1)
sage: import inspect
sage: inspect.getmro(type(C))
(<class 'sage.schemes.hyperelliptic_curves.constructor.HyperellipticCurve_FiniteField_with_category'>,
 <class 'sage.schemes.hyperelliptic_curves.constructor.HyperellipticCurve_FiniteField'>,
 <class 'sage.schemes.hyperelliptic_curves.hyperelliptic_finite_field.HyperellipticCurve_finite_field'>,
 <class 'sage.schemes.hyperelliptic_curves.hyperelliptic_generic.HyperellipticCurve_generic'>,
...)
```

Would it be preferable to initiate the `created_classes` dictionary with the classes `HyperellipticCurve_g2`, `HyperellipticCurve_FiniteField`, etc to avoid that? That could also simplify the last part of the code if `HyperellipticCurve_generic` was added too.



---

archive/issue_comments_430754.json:
```json
{
    "body": "**Changing commit** from \"[92953194a0bcd415a3c4a3eee55b4e76ed9bd207](https://github.com/sagemath/sagetrac-mirror/commit/92953194a0bcd415a3c4a3eee55b4e76ed9bd207)\" to \"[12069c782ba3b2f9dde21b1740fed8df7b45d7d7](https://github.com/sagemath/sagetrac-mirror/commit/12069c782ba3b2f9dde21b1740fed8df7b45d7d7)\".",
    "created_at": "2019-04-18T11:40:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27633#issuecomment-430754",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[92953194a0bcd415a3c4a3eee55b4e76ed9bd207](https://github.com/sagemath/sagetrac-mirror/commit/92953194a0bcd415a3c4a3eee55b4e76ed9bd207)" to "[12069c782ba3b2f9dde21b1740fed8df7b45d7d7](https://github.com/sagemath/sagetrac-mirror/commit/12069c782ba3b2f9dde21b1740fed8df7b45d7d7)".



---

archive/issue_comments_430755.json:
```json
{
    "body": "<a id='comment:24'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/12069c782ba3b2f9dde21b1740fed8df7b45d7d7\">12069c7</a></td><td><code>Test added. Dynamic creation of classes is now done with `dynamic_class` function.</code></td></tr></table>\n",
    "created_at": "2019-04-18T11:40:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27633#issuecomment-430755",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/12069c782ba3b2f9dde21b1740fed8df7b45d7d7">12069c7</a></td><td><code>Test added. Dynamic creation of classes is now done with `dynamic_class` function.</code></td></tr></table>




---

archive/issue_comments_430756.json:
```json
{
    "body": "<a id='comment:25'></a>\nEven nicer.\n\nOne last little thing. In the documentation, you need a linebreak after `::`.",
    "created_at": "2019-04-18T11:57:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27633#issuecomment-430756",
    "user": "https://github.com/videlec"
}
```

<a id='comment:25'></a>
Even nicer.

One last little thing. In the documentation, you need a linebreak after `::`.



---

archive/issue_comments_430757.json:
```json
{
    "body": "**Changing commit** from \"[12069c782ba3b2f9dde21b1740fed8df7b45d7d7](https://github.com/sagemath/sagetrac-mirror/commit/12069c782ba3b2f9dde21b1740fed8df7b45d7d7)\" to \"[fe002eba9502615124b4d17467a8dce423bb2adf](https://github.com/sagemath/sagetrac-mirror/commit/fe002eba9502615124b4d17467a8dce423bb2adf)\".",
    "created_at": "2019-04-18T12:03:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27633#issuecomment-430757",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[12069c782ba3b2f9dde21b1740fed8df7b45d7d7](https://github.com/sagemath/sagetrac-mirror/commit/12069c782ba3b2f9dde21b1740fed8df7b45d7d7)" to "[fe002eba9502615124b4d17467a8dce423bb2adf](https://github.com/sagemath/sagetrac-mirror/commit/fe002eba9502615124b4d17467a8dce423bb2adf)".



---

archive/issue_comments_430758.json:
```json
{
    "body": "<a id='comment:26'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fe002eba9502615124b4d17467a8dce423bb2adf\">fe002eb</a></td><td><code>Add missing endline in documentation</code></td></tr></table>\n",
    "created_at": "2019-04-18T12:03:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27633#issuecomment-430758",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:26'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fe002eba9502615124b4d17467a8dce423bb2adf">fe002eb</a></td><td><code>Add missing endline in documentation</code></td></tr></table>




---

archive/issue_events_243869.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-04-18T12:11:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/27633",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27633#event-243869"
}
```



---

archive/issue_events_243870.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-04-18T12:11:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/27633",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27633#event-243870"
}
```



---

archive/issue_comments_430759.json:
```json
{
    "body": "<a id='comment:27'></a>\nPerfect! Thanks for your patience.",
    "created_at": "2019-04-18T12:11:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27633#issuecomment-430759",
    "user": "https://github.com/videlec"
}
```

<a id='comment:27'></a>
Perfect! Thanks for your patience.



---

archive/issue_comments_430760.json:
```json
{
    "body": "**Changing branch** from \"[u/annasomoza/redesign_of_the_constructor_for_hyperelliptic_curves](https://github.com/sagemath/sagetrac-mirror/tree/u/annasomoza/redesign_of_the_constructor_for_hyperelliptic_curves)\" to \"[fe002eba9502615124b4d17467a8dce423bb2adf](https://github.com/sagemath/sagetrac-mirror/commit/fe002eba9502615124b4d17467a8dce423bb2adf)\".",
    "created_at": "2019-04-27T17:44:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27633#issuecomment-430760",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/annasomoza/redesign_of_the_constructor_for_hyperelliptic_curves](https://github.com/sagemath/sagetrac-mirror/tree/u/annasomoza/redesign_of_the_constructor_for_hyperelliptic_curves)" to "[fe002eba9502615124b4d17467a8dce423bb2adf](https://github.com/sagemath/sagetrac-mirror/commit/fe002eba9502615124b4d17467a8dce423bb2adf)".



---

archive/issue_events_243871.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-04-27T17:44:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/27633",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27633#event-243871"
}
```



---

archive/issue_events_243872.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-04-27T17:44:14Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/27633",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27633#event-243872"
}
```
