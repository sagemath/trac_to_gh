# Issue 27633: Redesign of the constructor for Hyperelliptic curves

archive/issues_027396.json:
```json
{
    "assignees": [],
    "body": "As discussed in #22173, the current the design of the hyperelliptic curves classes was not good.\n\nThis changes create the (genus, ring) subclasses dynamically, removing the need for a class/file per case.\n\nCC:  @JRSijsling @mstreng @videlec @slel\n\nKeywords: **days98, hyperelliptic curves**\n\nBranch/Commit: **[`fe002eb`](https://github.com/sagemath/sagetrac-mirror/commit/fe002eba9502615124b4d17467a8dce423bb2adf)**\n\nReviewer: **Vincent Delecroix**\n\nAuthor: **Anna Somoza**\n\nComponent: **number theory**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/27633_\n\n",
    "closed_at": "2019-04-27T17:44:14Z",
    "created_at": "2019-04-10T08:28:48Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20number%20theory",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Redesign of the constructor for Hyperelliptic curves",
    "type": "issue",
    "updated_at": "2019-04-27T17:44:14Z",
    "url": "https://github.com/sagemath/sage/issues/27633",
    "user": "https://github.com/anna-somoza"
}
```
As discussed in #22173, the current the design of the hyperelliptic curves classes was not good.

This changes create the (genus, ring) subclasses dynamically, removing the need for a class/file per case.

CC:  @JRSijsling @mstreng @videlec @slel

Keywords: **days98, hyperelliptic curves**

Branch/Commit: **[`fe002eb`](https://github.com/sagemath/sagetrac-mirror/commit/fe002eba9502615124b4d17467a8dce423bb2adf)**

Reviewer: **Vincent Delecroix**

Author: **Anna Somoza**

Component: **number theory**

_Issue created by migration from https://trac.sagemath.org/ticket/27633_





---

archive/issue_events_379206.json:
```json
{
    "actor": "https://github.com/anna-somoza",
    "created_at": "2019-04-10T08:28:48Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27633",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27633#event-379206"
}
```



---

archive/issue_events_379207.json:
```json
{
    "actor": "https://github.com/anna-somoza",
    "created_at": "2019-04-10T08:28:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27633",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27633#event-379207"
}
```



---

archive/issue_comments_428097.json:
```json
{
    "body": "Branch: **[u/annasomoza/redesign_of_the_constructor_for_hyperelliptic_curves](https://github.com/sagemath/sagetrac-mirror/tree/u/annasomoza/redesign_of_the_constructor_for_hyperelliptic_curves)**",
    "created_at": "2019-04-11T08:19:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27633#issuecomment-428097",
    "user": "https://github.com/anna-somoza"
}
```

Branch: **[u/annasomoza/redesign_of_the_constructor_for_hyperelliptic_curves](https://github.com/sagemath/sagetrac-mirror/tree/u/annasomoza/redesign_of_the_constructor_for_hyperelliptic_curves)**



---

archive/issue_comments_428098.json:
```json
{
    "body": "Author: **Anna Somoza**",
    "created_at": "2019-04-11T08:35:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27633#issuecomment-428098",
    "user": "https://github.com/anna-somoza"
}
```

Author: **Anna Somoza**



---

archive/issue_comments_428099.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n+As discussed in #22173, the current the design of the hyperelliptic curves classes was not good.\n \n+This changes create the (genus, ring) subclasses dinamically, removing the need for a class/file per case.\n``````\n",
    "created_at": "2019-04-11T08:35:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27633#issuecomment-428099",
    "user": "https://github.com/anna-somoza"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,3 @@
+As discussed in #22173, the current the design of the hyperelliptic curves classes was not good.
 
+This changes create the (genus, ring) subclasses dinamically, removing the need for a class/file per case.
``````




---

archive/issue_events_379208.json:
```json
{
    "actor": "https://github.com/anna-somoza",
    "created_at": "2019-04-11T08:35:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27633",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27633#event-379208"
}
```



---

archive/issue_events_379209.json:
```json
{
    "actor": "https://github.com/anna-somoza",
    "created_at": "2019-04-11T08:35:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27633",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20number%20theory",
    "label_color": "0000ff",
    "label_name": "c: number theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27633#event-379209"
}
```



---

archive/issue_comments_428100.json:
```json
{
    "body": "Changed keywords from none to **days98, hyperelliptic curves**",
    "created_at": "2019-04-11T08:35:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27633#issuecomment-428100",
    "user": "https://github.com/anna-somoza"
}
```

Changed keywords from none to **days98, hyperelliptic curves**



---

archive/issue_events_379210.json:
```json
{
    "actor": "https://github.com/anna-somoza",
    "created_at": "2019-04-11T08:35:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27633",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27633#event-379210"
}
```



---

archive/issue_comments_428101.json:
```json
{
    "body": "Commit: **[`e4d5db4`](https://github.com/sagemath/sagetrac-mirror/commit/e4d5db4ac23d3369e0a4838f0d8a49bd646f088a)**",
    "created_at": "2019-04-11T08:35:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27633#issuecomment-428101",
    "user": "https://github.com/anna-somoza"
}
```

Commit: **[`e4d5db4`](https://github.com/sagemath/sagetrac-mirror/commit/e4d5db4ac23d3369e0a4838f0d8a49bd646f088a)**



---

archive/issue_events_379211.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-04-11T08:48:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27633",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27633#event-379211"
}
```



---

archive/issue_events_379212.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-04-11T08:48:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27633",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27633#event-379212"
}
```



---

archive/issue_comments_428102.json:
```json
{
    "body": "Reviewer: **Vincent Delecroix**",
    "created_at": "2019-04-11T08:48:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27633#issuecomment-428102",
    "user": "https://github.com/videlec"
}
```

Reviewer: **Vincent Delecroix**



---

archive/issue_comments_428103.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nThis is a good move.\n\nThe logic in the following is weird\n\n```\nfld = map(lambda fnc : fnc(R), [is_FiniteField, is_RationalField, is_pAdicField])\nfld_type = fld.index(True)\n```\nYou would rather do something like\n\n```\nfields = [\n   (\"FiniteField\", is_FiniteField, HyperellipticCurve_finite_field),\n   (\"RationalField\", is_RationalField, HyperellipticCurve_rational_field),\n   (\"pAdicField\", is_pAdicField, HyperellipticCurve_padic_field)]\nfor name, test, cls in fields:\n    if test(R):\n        ....    # treat the class\n        break   # the tests are exclusive, no need to run through all cases\n```",
    "created_at": "2019-04-11T08:48:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27633#issuecomment-428103",
    "user": "https://github.com/videlec"
}
```

<div id="comment:3" align="right">comment:3</div>

This is a good move.

The logic in the following is weird

```
fld = map(lambda fnc : fnc(R), [is_FiniteField, is_RationalField, is_pAdicField])
fld_type = fld.index(True)
```
You would rather do something like

```
fields = [
   ("FiniteField", is_FiniteField, HyperellipticCurve_finite_field),
   ("RationalField", is_RationalField, HyperellipticCurve_rational_field),
   ("pAdicField", is_pAdicField, HyperellipticCurve_padic_field)]
for name, test, cls in fields:
    if test(R):
        ....    # treat the class
        break   # the tests are exclusive, no need to run through all cases
```



---

archive/issue_comments_428104.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1c35da7d8f2230f64fd5eae83629daa0d21bbc4c\">1c35da7</a></td><td><code>Modify field-related data treatment</code></td></tr></table>\n",
    "created_at": "2019-04-11T09:07:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27633#issuecomment-428104",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1c35da7d8f2230f64fd5eae83629daa0d21bbc4c">1c35da7</a></td><td><code>Modify field-related data treatment</code></td></tr></table>




---

archive/issue_comments_428105.json:
```json
{
    "body": "Changed commit from **[`e4d5db4`](https://github.com/sagemath/sagetrac-mirror/commit/e4d5db4ac23d3369e0a4838f0d8a49bd646f088a)** to **[`1c35da7`](https://github.com/sagemath/sagetrac-mirror/commit/1c35da7d8f2230f64fd5eae83629daa0d21bbc4c)**",
    "created_at": "2019-04-11T09:07:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27633#issuecomment-428105",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e4d5db4`](https://github.com/sagemath/sagetrac-mirror/commit/e4d5db4ac23d3369e0a4838f0d8a49bd646f088a)** to **[`1c35da7`](https://github.com/sagemath/sagetrac-mirror/commit/1c35da7d8f2230f64fd5eae83629daa0d21bbc4c)**



---

archive/issue_comments_428106.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nAgreed, with your approach the code is easier to understand.",
    "created_at": "2019-04-11T09:09:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27633#issuecomment-428106",
    "user": "https://github.com/anna-somoza"
}
```

<div id="comment:5" align="right">comment:5</div>

Agreed, with your approach the code is easier to understand.



---

archive/issue_events_379213.json:
```json
{
    "actor": "https://github.com/anna-somoza",
    "created_at": "2019-04-11T09:09:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27633",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27633#event-379213"
}
```



---

archive/issue_events_379214.json:
```json
{
    "actor": "https://github.com/anna-somoza",
    "created_at": "2019-04-11T09:09:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27633",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27633#event-379214"
}
```



---

archive/issue_comments_428107.json:
```json
{
    "body": "Changed commit from **[`1c35da7`](https://github.com/sagemath/sagetrac-mirror/commit/1c35da7d8f2230f64fd5eae83629daa0d21bbc4c)** to **[`2863afa`](https://github.com/sagemath/sagetrac-mirror/commit/2863afabd251b2b2d57e70295c3457c9532325c0)**",
    "created_at": "2019-04-11T12:38:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27633#issuecomment-428107",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1c35da7`](https://github.com/sagemath/sagetrac-mirror/commit/1c35da7d8f2230f64fd5eae83629daa0d21bbc4c)** to **[`2863afa`](https://github.com/sagemath/sagetrac-mirror/commit/2863afabd251b2b2d57e70295c3457c9532325c0)**



---

archive/issue_comments_428108.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2863afabd251b2b2d57e70295c3457c9532325c0\">2863afa</a></td><td><code>Doc now builds</code></td></tr></table>\n",
    "created_at": "2019-04-11T12:38:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27633#issuecomment-428108",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2863afabd251b2b2d57e70295c3457c9532325c0">2863afa</a></td><td><code>Doc now builds</code></td></tr></table>




---

archive/issue_comments_428109.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nSimilarly, why do you construct a dictionary in the following\n\n```\n+    genus_class = {2:HyperellipticCurve_g2}\n+    if g in genus_class.keys():\n+        supercls.append(genus_class[g])\n```\nThis is simpler as\n\n```\nif g == 2:\n    supercls.append(HyperellipticCurve_g2)\n```",
    "created_at": "2019-04-11T12:43:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27633#issuecomment-428109",
    "user": "https://github.com/videlec"
}
```

<div id="comment:7" align="right">comment:7</div>

Similarly, why do you construct a dictionary in the following

```
+    genus_class = {2:HyperellipticCurve_g2}
+    if g in genus_class.keys():
+        supercls.append(genus_class[g])
```
This is simpler as

```
if g == 2:
    supercls.append(HyperellipticCurve_g2)
```



---

archive/issue_comments_428110.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nThis I did with #22173 in mind, where I will add the class for genus 3 to the dictionary (I am working on it right now). In general, if more genus are added, then using the dictionary leads to a cleaner code than a list of ifs.",
    "created_at": "2019-04-11T13:17:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27633#issuecomment-428110",
    "user": "https://github.com/anna-somoza"
}
```

<div id="comment:8" align="right">comment:8</div>

This I did with #22173 in mind, where I will add the class for genus 3 to the dictionary (I am working on it right now). In general, if more genus are added, then using the dictionary leads to a cleaner code than a list of ifs.



---

archive/issue_comments_428111.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nI see. What about?\n\n```\nif g == 2:\n    supercls.append(HyperellipticCurve_g2)\n# elif g == 3:\n#     supercls.append(HyperellipticCurve_g3)\n```",
    "created_at": "2019-04-11T13:22:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27633#issuecomment-428111",
    "user": "https://github.com/videlec"
}
```

<div id="comment:9" align="right">comment:9</div>

I see. What about?

```
if g == 2:
    supercls.append(HyperellipticCurve_g2)
# elif g == 3:
#     supercls.append(HyperellipticCurve_g3)
```



---

archive/issue_comments_428112.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nWhat do you think about removing the inheritance from `HyperellipticCurve_generic`\nin `HyperellipticCurve_rational_field`, `HyperellipticCurve_padic_field`, etc? All the inheritance is handled by this new function anyway.\n\nIn this case, the function would be\n\n```\ncls = [HyperellipticCurve_generic]\n\n...\n\nif len(cls) > 1:   # contains more than just HyperellipticCurve_generic\n    cls = type(\"HyperellipticCurve_\" + \"_\".join(cls_name), tuple(cls), {})\n\nreturn cls(PP, f, h, names=names, genus=g)\n```",
    "created_at": "2019-04-11T13:29:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27633#issuecomment-428112",
    "user": "https://github.com/videlec"
}
```

<div id="comment:10" align="right">comment:10</div>

What do you think about removing the inheritance from `HyperellipticCurve_generic`
in `HyperellipticCurve_rational_field`, `HyperellipticCurve_padic_field`, etc? All the inheritance is handled by this new function anyway.

In this case, the function would be

```
cls = [HyperellipticCurve_generic]

...

if len(cls) > 1:   # contains more than just HyperellipticCurve_generic
    cls = type("HyperellipticCurve_" + "_".join(cls_name), tuple(cls), {})

return cls(PP, f, h, names=names, genus=g)
```



---

archive/issue_comments_428113.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nAnd last but not the least, you definitely don't to create twice the same class. The first reason for this is that if you construct twice a hyperelliptic curves over rational you want the type to be the same. But the type function will recreate a new class each time (even if it has the same name).\n\nAlso, you don't want to create classes that are not necessary. Creating a class for each genus is a waste of time.",
    "created_at": "2019-04-11T13:31:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27633#issuecomment-428113",
    "user": "https://github.com/videlec"
}
```

<div id="comment:11" align="right">comment:11</div>

And last but not the least, you definitely don't to create twice the same class. The first reason for this is that if you construct twice a hyperelliptic curves over rational you want the type to be the same. But the type function will recreate a new class each time (even if it has the same name).

Also, you don't want to create classes that are not necessary. Creating a class for each genus is a waste of time.



---

archive/issue_comments_428114.json:
```json
{
    "body": "Changed commit from **[`2863afa`](https://github.com/sagemath/sagetrac-mirror/commit/2863afabd251b2b2d57e70295c3457c9532325c0)** to **[`5b5c570`](https://github.com/sagemath/sagetrac-mirror/commit/5b5c570959a5704f168b30faec3132f115482df5)**",
    "created_at": "2019-04-11T14:47:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27633#issuecomment-428114",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2863afa`](https://github.com/sagemath/sagetrac-mirror/commit/2863afabd251b2b2d57e70295c3457c9532325c0)** to **[`5b5c570`](https://github.com/sagemath/sagetrac-mirror/commit/5b5c570959a5704f168b30faec3132f115482df5)**



---

archive/issue_comments_428115.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5b5c570959a5704f168b30faec3132f115482df5\">5b5c570</a></td><td><code>Modify genus-related data treatment. Store already-created classes for future use.</code></td></tr></table>\n",
    "created_at": "2019-04-11T14:47:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27633#issuecomment-428115",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5b5c570959a5704f168b30faec3132f115482df5">5b5c570</a></td><td><code>Modify genus-related data treatment. Store already-created classes for future use.</code></td></tr></table>




---

archive/issue_comments_428116.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@videlec](#comment:9):\n> I see. What about?\n> \n> ```\n> if g == 2:\n>     supercls.append(HyperellipticCurve_g2)\n> # elif g == 3:\n> #     supercls.append(HyperellipticCurve_g3)\n> ```\n\nHow about this new version? There I just use the information of the classes that are imported in the module. \n\nReplying to [@videlec](#comment:10):\n> What do you think about removing the inheritance from `HyperellipticCurve_generic`\n> in `HyperellipticCurve_rational_field`, `HyperellipticCurve_padic_field`, etc? All the inheritance is handled by this new function anyway.\n> \n> In this case, the function would be\n> \n> ```\n> cls = [HyperellipticCurve_generic]\n> \n> ...\n> \n> if len(cls) > 1:   # contains more than just HyperellipticCurve_generic\n>     cls = type(\"HyperellipticCurve_\" + \"_\".join(cls_name), tuple(cls), {})\n> \n> return cls(PP, f, h, names=names, genus=g)\n> ```\n\nThe methods in `HyperellipticCurve_rational_field` and others use methods from `HyperellipticCurve_generic`, so I don't think that it is a good idea.\n\nReplying to [@videlec](#comment:11):\n> And last but not the least, you definitely don't to create twice the same class. The first reason for this is that if you construct twice a hyperelliptic curves over rational you want the type to be the same. But the type function will recreate a new class each time (even if it has the same name).\n> \n> Also, you don't want to create classes that are not necessary. Creating a class for each genus is a waste of time.\n\nAgreed, I included the functionality and added a test for it.",
    "created_at": "2019-04-11T14:50:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27633#issuecomment-428116",
    "user": "https://github.com/anna-somoza"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@videlec](#comment:9):
> I see. What about?
> 
> ```
> if g == 2:
>     supercls.append(HyperellipticCurve_g2)
> # elif g == 3:
> #     supercls.append(HyperellipticCurve_g3)
> ```

How about this new version? There I just use the information of the classes that are imported in the module. 

Replying to [@videlec](#comment:10):
> What do you think about removing the inheritance from `HyperellipticCurve_generic`
> in `HyperellipticCurve_rational_field`, `HyperellipticCurve_padic_field`, etc? All the inheritance is handled by this new function anyway.
> 
> In this case, the function would be
> 
> ```
> cls = [HyperellipticCurve_generic]
> 
> ...
> 
> if len(cls) > 1:   # contains more than just HyperellipticCurve_generic
>     cls = type("HyperellipticCurve_" + "_".join(cls_name), tuple(cls), {})
> 
> return cls(PP, f, h, names=names, genus=g)
> ```

The methods in `HyperellipticCurve_rational_field` and others use methods from `HyperellipticCurve_generic`, so I don't think that it is a good idea.

Replying to [@videlec](#comment:11):
> And last but not the least, you definitely don't to create twice the same class. The first reason for this is that if you construct twice a hyperelliptic curves over rational you want the type to be the same. But the type function will recreate a new class each time (even if it has the same name).
> 
> Also, you don't want to create classes that are not necessary. Creating a class for each genus is a waste of time.

Agreed, I included the functionality and added a test for it.



---

archive/issue_comments_428117.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@anna-somoza](#comment:13):\n> Replying to [@videlec](#comment:9):\n> > I see. What about?\n> > \n> > ```\n> > if g == 2:\n> >     supercls.append(HyperellipticCurve_g2)\n> > # elif g == 3:\n> > #     supercls.append(HyperellipticCurve_g3)\n> > ```\n\n> \n> How about this new version? There I just use the information of the classes that are imported in the module. \n\nThis is terrible. Explicit code is to my mind much better. With the current version, a curious person looking at the code would have no clue about how it works.",
    "created_at": "2019-04-12T06:19:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27633#issuecomment-428117",
    "user": "https://github.com/videlec"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@anna-somoza](#comment:13):
> Replying to [@videlec](#comment:9):
> > I see. What about?
> > 
> > ```
> > if g == 2:
> >     supercls.append(HyperellipticCurve_g2)
> > # elif g == 3:
> > #     supercls.append(HyperellipticCurve_g3)
> > ```

> 
> How about this new version? There I just use the information of the classes that are imported in the module. 

This is terrible. Explicit code is to my mind much better. With the current version, a curious person looking at the code would have no clue about how it works.



---

archive/issue_comments_428118.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nOtherwise, the caching with the dictionary is ok.",
    "created_at": "2019-04-12T06:21:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27633#issuecomment-428118",
    "user": "https://github.com/videlec"
}
```

<div id="comment:15" align="right">comment:15</div>

Otherwise, the caching with the dictionary is ok.



---

archive/issue_comments_428119.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nThe new version is good as it forces new contributions to follow the same name pattern and only requires to add the new class without changing the source code of the main function. \n\nSo I don't think \"terrible\" is an appropriate adjective! (Unless you have an other way to catch the existing classes?) A list of ifs might just get very long and unpractical. \n\nI do agree that it is not very reader-friendly as it is. This could easily be fixed with more comments/documentation.",
    "created_at": "2019-04-12T07:44:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27633#issuecomment-428119",
    "user": "https://github.com/VivianePons"
}
```

<div id="comment:16" align="right">comment:16</div>

The new version is good as it forces new contributions to follow the same name pattern and only requires to add the new class without changing the source code of the main function. 

So I don't think "terrible" is an appropriate adjective! (Unless you have an other way to catch the existing classes?) A list of ifs might just get very long and unpractical. 

I do agree that it is not very reader-friendly as it is. This could easily be fixed with more comments/documentation.



---

archive/issue_comments_428120.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@VivianePons](#comment:16):\n> The new version is good as it forces new contributions to follow the same name pattern and only requires to add the new class without changing the source code of the main function. \n> \n> So I don't think \"terrible\" is an appropriate adjective! (Unless you have an other way to catch the existing classes?) A list of ifs might just get very long and unpractical. \n\nThe list has length one and after #22173 it will have length two. I don't understand this objection.\n\n> I do agree that it is not very reader-friendly as it is. This could easily be fixed with more comments/documentation.\n\n\"Terrible design\" is appropriate.\n\n1. As I said it is unreadable.\n\n2. The code is sensitive to code injection\n\n```\nsage: import sage.schemes.hyperelliptic_curves.constructor as constructor\nsage: constructor.HyperellipticCurve_g3 = int\n```\nYou might consider this as a super feature, but it is very much error prone.\n\n3. The way it is written goes through several dictionary accesses and a try/except each time a hyperelliptic curve is created. This is a waste of time as you want constructors to be as light as possible.",
    "created_at": "2019-04-12T08:38:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27633#issuecomment-428120",
    "user": "https://github.com/videlec"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@VivianePons](#comment:16):
> The new version is good as it forces new contributions to follow the same name pattern and only requires to add the new class without changing the source code of the main function. 
> 
> So I don't think "terrible" is an appropriate adjective! (Unless you have an other way to catch the existing classes?) A list of ifs might just get very long and unpractical. 

The list has length one and after #22173 it will have length two. I don't understand this objection.

> I do agree that it is not very reader-friendly as it is. This could easily be fixed with more comments/documentation.

"Terrible design" is appropriate.

1. As I said it is unreadable.

2. The code is sensitive to code injection

```
sage: import sage.schemes.hyperelliptic_curves.constructor as constructor
sage: constructor.HyperellipticCurve_g3 = int
```
You might consider this as a super feature, but it is very much error prone.

3. The way it is written goes through several dictionary accesses and a try/except each time a hyperelliptic curve is created. This is a waste of time as you want constructors to be as light as possible.



---

archive/issue_comments_428121.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nI understand the objection about security and efficiency. The argument that the list will be of length 2 is not very convincing though: the very purpose of this ticket is to write an architecture which allows for easy extensions. \n\nI would suggest we go back to the initial solution that was proposed: use a dictionary associating the class name to the actual class. I find it much more readable than the list of ifs and easier to extend.",
    "created_at": "2019-04-12T08:51:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27633#issuecomment-428121",
    "user": "https://github.com/VivianePons"
}
```

<div id="comment:18" align="right">comment:18</div>

I understand the objection about security and efficiency. The argument that the list will be of length 2 is not very convincing though: the very purpose of this ticket is to write an architecture which allows for easy extensions. 

I would suggest we go back to the initial solution that was proposed: use a dictionary associating the class name to the actual class. I find it much more readable than the list of ifs and easier to extend.



---

archive/issue_comments_428122.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n As discussed in #22173, the current the design of the hyperelliptic curves classes was not good.\n \n-This changes create the (genus, ring) subclasses dinamically, removing the need for a class/file per case.\n+This changes create the (genus, ring) subclasses dynamically, removing the need for a class/file per case.\n``````\n",
    "created_at": "2019-04-13T21:47:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27633#issuecomment-428122",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
 As discussed in #22173, the current the design of the hyperelliptic curves classes was not good.
 
-This changes create the (genus, ring) subclasses dinamically, removing the need for a class/file per case.
+This changes create the (genus, ring) subclasses dynamically, removing the need for a class/file per case.
``````




---

archive/issue_comments_428123.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/92953194a0bcd415a3c4a3eee55b4e76ed9bd207\">9295319</a></td><td><code>Back to using a dictionary to deal with genus-related classes</code></td></tr></table>\n",
    "created_at": "2019-04-16T13:34:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27633#issuecomment-428123",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/92953194a0bcd415a3c4a3eee55b4e76ed9bd207">9295319</a></td><td><code>Back to using a dictionary to deal with genus-related classes</code></td></tr></table>




---

archive/issue_comments_428124.json:
```json
{
    "body": "Changed commit from **[`5b5c570`](https://github.com/sagemath/sagetrac-mirror/commit/5b5c570959a5704f168b30faec3132f115482df5)** to **[`9295319`](https://github.com/sagemath/sagetrac-mirror/commit/92953194a0bcd415a3c4a3eee55b4e76ed9bd207)**",
    "created_at": "2019-04-16T13:34:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27633#issuecomment-428124",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5b5c570`](https://github.com/sagemath/sagetrac-mirror/commit/5b5c570959a5704f168b30faec3132f115482df5)** to **[`9295319`](https://github.com/sagemath/sagetrac-mirror/commit/92953194a0bcd415a3c4a3eee55b4e76ed9bd207)**



---

archive/issue_comments_428125.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nFollowing Viviane's comment, I went back to using a dictionary.\n\nI am not sure of the meaning of the error that the bot gives, I think it comes from the fact that some files where removed and is otherwise green.",
    "created_at": "2019-04-16T13:38:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27633#issuecomment-428125",
    "user": "https://github.com/anna-somoza"
}
```

<div id="comment:21" align="right">comment:21</div>

Following Viviane's comment, I went back to using a dictionary.

I am not sure of the meaning of the error that the bot gives, I think it comes from the fact that some files where removed and is otherwise green.



---

archive/issue_comments_428126.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nYou might want to test that inheritance is actually correct in the doctests\n\n```\nsage: R.<t> = PolynomialRing(GF(next_prime(10^9)))\nsage: C = HyperellipticCurve(t^5 + t + 1)\nsage: import inspect\nsage: inspect.getmro(type(C))\n(<class 'sage.schemes.hyperelliptic_curves.constructor.HyperellipticCurve_g2_FiniteField_with_category'>,\n <class 'sage.schemes.hyperelliptic_curves.constructor.HyperellipticCurve_g2_FiniteField'>,\n <class 'sage.schemes.hyperelliptic_curves.hyperelliptic_g2.HyperellipticCurve_g2'>,\n <class 'sage.schemes.hyperelliptic_curves.hyperelliptic_finite_field.HyperellipticCurve_finite_field'>,\n <class 'sage.schemes.hyperelliptic_curves.hyperelliptic_generic.HyperellipticCurve_generic'>,\n ...)\n```",
    "created_at": "2019-04-16T13:43:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27633#issuecomment-428126",
    "user": "https://github.com/videlec"
}
```

<div id="comment:22" align="right">comment:22</div>

You might want to test that inheritance is actually correct in the doctests

```
sage: R.<t> = PolynomialRing(GF(next_prime(10^9)))
sage: C = HyperellipticCurve(t^5 + t + 1)
sage: import inspect
sage: inspect.getmro(type(C))
(<class 'sage.schemes.hyperelliptic_curves.constructor.HyperellipticCurve_g2_FiniteField_with_category'>,
 <class 'sage.schemes.hyperelliptic_curves.constructor.HyperellipticCurve_g2_FiniteField'>,
 <class 'sage.schemes.hyperelliptic_curves.hyperelliptic_g2.HyperellipticCurve_g2'>,
 <class 'sage.schemes.hyperelliptic_curves.hyperelliptic_finite_field.HyperellipticCurve_finite_field'>,
 <class 'sage.schemes.hyperelliptic_curves.hyperelliptic_generic.HyperellipticCurve_generic'>,
 ...)
```



---

archive/issue_comments_428127.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nIs it better to add a test for every case or with the one you gave it's enough?\n\nAlso, while looking into this I realized that I am duplicating the classes with only one superclass.\n\n```\nsage: R.<t> = PolynomialRing(GF(next_prime(10^9)))\nsage: C = HyperellipticCurve(t^7 + t + 1)\nsage: import inspect\nsage: inspect.getmro(type(C))\n(<class 'sage.schemes.hyperelliptic_curves.constructor.HyperellipticCurve_FiniteField_with_category'>,\n <class 'sage.schemes.hyperelliptic_curves.constructor.HyperellipticCurve_FiniteField'>,\n <class 'sage.schemes.hyperelliptic_curves.hyperelliptic_finite_field.HyperellipticCurve_finite_field'>,\n <class 'sage.schemes.hyperelliptic_curves.hyperelliptic_generic.HyperellipticCurve_generic'>,\n...)\n```\n\nWould it be preferable to initiate the `created_classes` dictionary with the classes `HyperellipticCurve_g2`, `HyperellipticCurve_FiniteField`, etc to avoid that? That could also simplify the last part of the code if `HyperellipticCurve_generic` was added too.",
    "created_at": "2019-04-16T14:15:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27633#issuecomment-428127",
    "user": "https://github.com/anna-somoza"
}
```

<div id="comment:23" align="right">comment:23</div>

Is it better to add a test for every case or with the one you gave it's enough?

Also, while looking into this I realized that I am duplicating the classes with only one superclass.

```
sage: R.<t> = PolynomialRing(GF(next_prime(10^9)))
sage: C = HyperellipticCurve(t^7 + t + 1)
sage: import inspect
sage: inspect.getmro(type(C))
(<class 'sage.schemes.hyperelliptic_curves.constructor.HyperellipticCurve_FiniteField_with_category'>,
 <class 'sage.schemes.hyperelliptic_curves.constructor.HyperellipticCurve_FiniteField'>,
 <class 'sage.schemes.hyperelliptic_curves.hyperelliptic_finite_field.HyperellipticCurve_finite_field'>,
 <class 'sage.schemes.hyperelliptic_curves.hyperelliptic_generic.HyperellipticCurve_generic'>,
...)
```

Would it be preferable to initiate the `created_classes` dictionary with the classes `HyperellipticCurve_g2`, `HyperellipticCurve_FiniteField`, etc to avoid that? That could also simplify the last part of the code if `HyperellipticCurve_generic` was added too.



---

archive/issue_comments_428128.json:
```json
{
    "body": "Changed commit from **[`9295319`](https://github.com/sagemath/sagetrac-mirror/commit/92953194a0bcd415a3c4a3eee55b4e76ed9bd207)** to **[`12069c7`](https://github.com/sagemath/sagetrac-mirror/commit/12069c782ba3b2f9dde21b1740fed8df7b45d7d7)**",
    "created_at": "2019-04-18T11:40:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27633#issuecomment-428128",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9295319`](https://github.com/sagemath/sagetrac-mirror/commit/92953194a0bcd415a3c4a3eee55b4e76ed9bd207)** to **[`12069c7`](https://github.com/sagemath/sagetrac-mirror/commit/12069c782ba3b2f9dde21b1740fed8df7b45d7d7)**



---

archive/issue_comments_428129.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/12069c782ba3b2f9dde21b1740fed8df7b45d7d7\">12069c7</a></td><td><code>Test added. Dynamic creation of classes is now done with `dynamic_class` function.</code></td></tr></table>\n",
    "created_at": "2019-04-18T11:40:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27633#issuecomment-428129",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/12069c782ba3b2f9dde21b1740fed8df7b45d7d7">12069c7</a></td><td><code>Test added. Dynamic creation of classes is now done with `dynamic_class` function.</code></td></tr></table>




---

archive/issue_comments_428130.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nEven nicer.\n\nOne last little thing. In the documentation, you need a linebreak after `::`.",
    "created_at": "2019-04-18T11:57:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27633#issuecomment-428130",
    "user": "https://github.com/videlec"
}
```

<div id="comment:25" align="right">comment:25</div>

Even nicer.

One last little thing. In the documentation, you need a linebreak after `::`.



---

archive/issue_comments_428131.json:
```json
{
    "body": "Changed commit from **[`12069c7`](https://github.com/sagemath/sagetrac-mirror/commit/12069c782ba3b2f9dde21b1740fed8df7b45d7d7)** to **[`fe002eb`](https://github.com/sagemath/sagetrac-mirror/commit/fe002eba9502615124b4d17467a8dce423bb2adf)**",
    "created_at": "2019-04-18T12:03:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27633#issuecomment-428131",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`12069c7`](https://github.com/sagemath/sagetrac-mirror/commit/12069c782ba3b2f9dde21b1740fed8df7b45d7d7)** to **[`fe002eb`](https://github.com/sagemath/sagetrac-mirror/commit/fe002eba9502615124b4d17467a8dce423bb2adf)**



---

archive/issue_comments_428132.json:
```json
{
    "body": "<div id=\"comment:26\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fe002eba9502615124b4d17467a8dce423bb2adf\">fe002eb</a></td><td><code>Add missing endline in documentation</code></td></tr></table>\n",
    "created_at": "2019-04-18T12:03:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27633#issuecomment-428132",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:26"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fe002eba9502615124b4d17467a8dce423bb2adf">fe002eb</a></td><td><code>Add missing endline in documentation</code></td></tr></table>




---

archive/issue_events_379215.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-04-18T12:11:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27633",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27633#event-379215"
}
```



---

archive/issue_events_379216.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-04-18T12:11:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27633",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27633#event-379216"
}
```



---

archive/issue_comments_428133.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nPerfect! Thanks for your patience.",
    "created_at": "2019-04-18T12:11:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27633#issuecomment-428133",
    "user": "https://github.com/videlec"
}
```

<div id="comment:27" align="right">comment:27</div>

Perfect! Thanks for your patience.



---

archive/issue_comments_428134.json:
```json
{
    "body": "Changed branch from **[u/annasomoza/redesign_of_the_constructor_for_hyperelliptic_curves](https://github.com/sagemath/sagetrac-mirror/tree/u/annasomoza/redesign_of_the_constructor_for_hyperelliptic_curves)** to **[`fe002eb`](https://github.com/sagemath/sagetrac-mirror/commit/fe002eba9502615124b4d17467a8dce423bb2adf)**",
    "created_at": "2019-04-27T17:44:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27633#issuecomment-428134",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/annasomoza/redesign_of_the_constructor_for_hyperelliptic_curves](https://github.com/sagemath/sagetrac-mirror/tree/u/annasomoza/redesign_of_the_constructor_for_hyperelliptic_curves)** to **[`fe002eb`](https://github.com/sagemath/sagetrac-mirror/commit/fe002eba9502615124b4d17467a8dce423bb2adf)**



---

archive/issue_events_379217.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-04-27T17:44:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27633",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27633#event-379217"
}
```



---

archive/issue_events_379218.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "07510b807c8dba037ca4b27b16d7fe8c77207f27",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-04-27T17:44:14Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/27633",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27633#event-379218"
}
```
