# Issue 27364: cannot multiply multivariate polynomial ring and vector

archive/issues_027127.json:
```json
{
    "body": "\n```\nsage: R = PolynomialRing(QQ, 't', 1); t = R.gen()\nsage: (t/2) * vector([1,2])\n```\nresults in a\n\n```\nTypeError: unsupported operand parent(s) for *: 'Multivariate Polynomial Ring in t over Rational Field' and 'Ambient free module of rank 2 over the principal ideal domain Integer Ring'\n```\n\nInterestingly, for a \"true\" univariate polynomial ring it works:\n\n```\nsage: R = PolynomialRing(QQ, 't'); t = R.gen()\nsage: (t/2) * vector([1,2])\n(1/2*t, t)\n```\nAlso for a multivariate polynomial ring in more than one variable it works:\n\n```\nsage: sage: R = PolynomialRing(QQ, 't', 2); t = R.gen()\n....: sage: (t/2) * vector([1,2])\n```\n\nThis issue was raised by the following doctest in sage.geometry.polyhedron.base, method `integrate`, ticket #27365:\n\n```\n        Integral over a non full-dimensional polytope::\n\n            sage: x, y = polygens(QQ, 'x, y')\n            sage: P = Polyhedron(vertices=[[0,0],[1,1]])\n            sage: P.integrate(x*y)    # optional - latte_int\n            0\n            sage: P.integrate(x*y, measure='induced')    # optional - latte_int  # not tested (see :trac:`27364`)\n```\n\n\n**CC:**  @tscrim @yuan-zhou @kliem\n\n**Branch:** [u/mkoeppe/poly-times-vector](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/poly-times-vector)\n\n**Commit:** [a5fd62d63024e6fecb1f6836a52ff894e8de7a92](https://github.com/sagemath/sagetrac-mirror/commit/a5fd62d63024e6fecb1f6836a52ff894e8de7a92)\n\n**Reviewer:** Matthias Koeppe, ...\n\n**Author:** Daniel Krenn\n\n**Status:** needs_work\n\nIssue created by migration from https://trac.sagemath.org/ticket/27364\n\n",
    "created_at": "2019-02-26T14:14:17Z",
    "labels": [
        "component: coercion",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "cannot multiply multivariate polynomial ring and vector",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/27364",
    "user": "https://github.com/dkrenn"
}
```

```
sage: R = PolynomialRing(QQ, 't', 1); t = R.gen()
sage: (t/2) * vector([1,2])
```
results in a

```
TypeError: unsupported operand parent(s) for *: 'Multivariate Polynomial Ring in t over Rational Field' and 'Ambient free module of rank 2 over the principal ideal domain Integer Ring'
```

Interestingly, for a "true" univariate polynomial ring it works:

```
sage: R = PolynomialRing(QQ, 't'); t = R.gen()
sage: (t/2) * vector([1,2])
(1/2*t, t)
```
Also for a multivariate polynomial ring in more than one variable it works:

```
sage: sage: R = PolynomialRing(QQ, 't', 2); t = R.gen()
....: sage: (t/2) * vector([1,2])
```

This issue was raised by the following doctest in sage.geometry.polyhedron.base, method `integrate`, ticket #27365:

```
        Integral over a non full-dimensional polytope::

            sage: x, y = polygens(QQ, 'x, y')
            sage: P = Polyhedron(vertices=[[0,0],[1,1]])
            sage: P.integrate(x*y)    # optional - latte_int
            0
            sage: P.integrate(x*y, measure='induced')    # optional - latte_int  # not tested (see :trac:`27364`)
```


**CC:**  @tscrim @yuan-zhou @kliem

**Branch:** [u/mkoeppe/poly-times-vector](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/poly-times-vector)

**Commit:** [a5fd62d63024e6fecb1f6836a52ff894e8de7a92](https://github.com/sagemath/sagetrac-mirror/commit/a5fd62d63024e6fecb1f6836a52ff894e8de7a92)

**Reviewer:** Matthias Koeppe, ...

**Author:** Daniel Krenn

**Status:** needs_work

Issue created by migration from https://trac.sagemath.org/ticket/27364





---

archive/issue_comments_528959.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -12,6 +12,7 @@\n Interestingly, for a \"true\" univariate polynomial ring it works:\n \n ```\n+sage: R = PolynomialRing(QQ, 't'); t = R.gen()\n sage: (t/2) * vector([1,2])\n (1/2*t, t)\n ```\n``````\n",
    "created_at": "2019-02-26T14:14:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27364#issuecomment-528959",
    "user": "https://github.com/dkrenn"
}
```


**Description changed:**
``````diff
--- 
+++ 
@@ -12,6 +12,7 @@
 Interestingly, for a "true" univariate polynomial ring it works:
 
 ```
+sage: R = PolynomialRing(QQ, 't'); t = R.gen()
 sage: (t/2) * vector([1,2])
 (1/2*t, t)
 ```
``````




---

archive/issue_comments_528960.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -16,4 +16,9 @@\n sage: (t/2) * vector([1,2])\n (1/2*t, t)\n ```\n+Also for a multivariate polynomial ring in more than one variable it works:\n \n+```\n+sage: sage: R = PolynomialRing(QQ, 't', 2); t = R.gen()\n+....: sage: (t/2) * vector([1,2])\n+```\n``````\n",
    "created_at": "2019-02-26T14:17:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27364#issuecomment-528960",
    "user": "https://github.com/dkrenn"
}
```


**Description changed:**
``````diff
--- 
+++ 
@@ -16,4 +16,9 @@
 sage: (t/2) * vector([1,2])
 (1/2*t, t)
 ```
+Also for a multivariate polynomial ring in more than one variable it works:
 
+```
+sage: sage: R = PolynomialRing(QQ, 't', 2); t = R.gen()
+....: sage: (t/2) * vector([1,2])
+```
``````




---

archive/issue_comments_528961.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -22,3 +22,16 @@\n sage: sage: R = PolynomialRing(QQ, 't', 2); t = R.gen()\n ....: sage: (t/2) * vector([1,2])\n ```\n+\n+This issue was raised by the following doctest in sage.geometry.polyhedron.base, method `integrate`, ticket #27365:\n+\n+```\n+        Integral over a non full-dimensional polytope::\n+\n+            sage: x, y = polygens(QQ, 'x, y')\n+            sage: P = Polyhedron(vertices=[[0,0],[1,1]])\n+            sage: P.integrate(x*y)    # optional - latte_int\n+            0\n+            sage: P.integrate(x*y, measure='induced')    # optional - latte_int  # not tested (see :trac:`27364`)\n+```\n+\n``````\n",
    "created_at": "2019-02-26T14:20:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27364#issuecomment-528961",
    "user": "https://github.com/dkrenn"
}
```


**Description changed:**
``````diff
--- 
+++ 
@@ -22,3 +22,16 @@
 sage: sage: R = PolynomialRing(QQ, 't', 2); t = R.gen()
 ....: sage: (t/2) * vector([1,2])
 ```
+
+This issue was raised by the following doctest in sage.geometry.polyhedron.base, method `integrate`, ticket #27365:
+
+```
+        Integral over a non full-dimensional polytope::
+
+            sage: x, y = polygens(QQ, 'x, y')
+            sage: P = Polyhedron(vertices=[[0,0],[1,1]])
+            sage: P.integrate(x*y)    # optional - latte_int
+            0
+            sage: P.integrate(x*y, measure='induced')    # optional - latte_int  # not tested (see :trac:`27364`)
+```
+
``````




---

archive/issue_comments_528962.json:
```json
{
    "body": "**Branch:** [u/dkrenn/poly-times-vector](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/poly-times-vector)",
    "created_at": "2019-02-28T12:37:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27364#issuecomment-528962",
    "user": "https://github.com/dkrenn"
}
```


**Branch:** [u/dkrenn/poly-times-vector](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/poly-times-vector)



---

archive/issue_comments_528963.json:
```json
{
    "body": "**Changing status** from new to needs_info.",
    "created_at": "2019-02-28T12:39:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27364#issuecomment-528963",
    "user": "https://github.com/dkrenn"
}
```


**Changing status** from new to needs_info.



---

archive/issue_comments_528964.json:
```json
{
    "body": "**Commit:** [54a350e1f95faa40b3b069bb3c3c3baea0e93a8b](https://github.com/sagemath/sagetrac-mirror/commit/54a350e1f95faa40b3b069bb3c3c3baea0e93a8b)",
    "created_at": "2019-02-28T12:39:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27364#issuecomment-528964",
    "user": "https://github.com/dkrenn"
}
```


**Commit:** [54a350e1f95faa40b3b069bb3c3c3baea0e93a8b](https://github.com/sagemath/sagetrac-mirror/commit/54a350e1f95faa40b3b069bb3c3c3baea0e93a8b)



---

archive/issue_comments_528965.json:
```json
{
    "body": "<a id='comment:5'></a>\nCurrent fix indeed fixes the problem but introduces new problems:\n\n```\nsage: R = PolynomialRing(ZZ, 'x', 500)\nsage: S = PolynomialRing(GF(5), 'x', 200)\nsage: R.gen(0) + S.gen(0)\n```\nThe last line takes a second or so without patch, but ages (I've\ninterrupted after two minutes) with the change above. RunSnakeRun says\nthat most of the time is spent in\n\n```\nmethod '_coerce_' of 'sage.structure.parent_old.Parent'\n```\nThis is also not what we'd like. So what should we do now?\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/54a350e1f95faa40b3b069bb3c3c3baea0e93a8b\">54a350e</a></td><td><code>Trac #27364: MPoly functor always returns MultiPolynomialRing</code></td></tr></table>\n",
    "created_at": "2019-02-28T12:39:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27364#issuecomment-528965",
    "user": "https://github.com/dkrenn"
}
```


<a id='comment:5'></a>
Current fix indeed fixes the problem but introduces new problems:

```
sage: R = PolynomialRing(ZZ, 'x', 500)
sage: S = PolynomialRing(GF(5), 'x', 200)
sage: R.gen(0) + S.gen(0)
```
The last line takes a second or so without patch, but ages (I've
interrupted after two minutes) with the change above. RunSnakeRun says
that most of the time is spent in

```
method '_coerce_' of 'sage.structure.parent_old.Parent'
```
This is also not what we'd like. So what should we do now?

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/54a350e1f95faa40b3b069bb3c3c3baea0e93a8b">54a350e</a></td><td><code>Trac #27364: MPoly functor always returns MultiPolynomialRing</code></td></tr></table>




---

archive/issue_comments_528966.json:
```json
{
    "body": "<a id='comment:6'></a>\nTicket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)",
    "created_at": "2019-03-25T10:56:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27364#issuecomment-528966",
    "user": "https://github.com/embray"
}
```


<a id='comment:6'></a>
Ticket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)



---

archive/issue_events_077064.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:56:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "milestone": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27364#event-77064"
}
```




---

archive/issue_comments_528967.json:
```json
{
    "body": "**Changing commit** from \"[54a350e1f95faa40b3b069bb3c3c3baea0e93a8b](https://github.com/sagemath/sagetrac-mirror/commit/54a350e1f95faa40b3b069bb3c3c3baea0e93a8b)\" to \"[02494942c70b6d26032d4eade470d2ebe475ff7a](https://github.com/sagemath/sagetrac-mirror/commit/02494942c70b6d26032d4eade470d2ebe475ff7a)\".",
    "created_at": "2019-03-28T13:57:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27364#issuecomment-528967",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


**Changing commit** from "[54a350e1f95faa40b3b069bb3c3c3baea0e93a8b](https://github.com/sagemath/sagetrac-mirror/commit/54a350e1f95faa40b3b069bb3c3c3baea0e93a8b)" to "[02494942c70b6d26032d4eade470d2ebe475ff7a](https://github.com/sagemath/sagetrac-mirror/commit/02494942c70b6d26032d4eade470d2ebe475ff7a)".



---

archive/issue_comments_528968.json:
```json
{
    "body": "<a id='comment:7'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2661f6520cd717605318dc8ecd3c225fa61ea8d1\">2661f65</a></td><td><code>Trac #27364: speedup multivariate polynomial construction</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/02494942c70b6d26032d4eade470d2ebe475ff7a\">0249494</a></td><td><code>Trac #27364: change doctest (due to timing)</code></td></tr></table>\n",
    "created_at": "2019-03-28T13:57:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27364#issuecomment-528968",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


<a id='comment:7'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2661f6520cd717605318dc8ecd3c225fa61ea8d1">2661f65</a></td><td><code>Trac #27364: speedup multivariate polynomial construction</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/02494942c70b6d26032d4eade470d2ebe475ff7a">0249494</a></td><td><code>Trac #27364: change doctest (due to timing)</code></td></tr></table>




---

archive/issue_comments_528969.json:
```json
{
    "body": "**Author:** Daniel Krenn",
    "created_at": "2019-03-28T13:58:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27364#issuecomment-528969",
    "user": "https://github.com/dkrenn"
}
```


**Author:** Daniel Krenn



---

archive/issue_comments_528970.json:
```json
{
    "body": "**Changing status** from needs_info to needs_review.",
    "created_at": "2019-03-28T13:58:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27364#issuecomment-528970",
    "user": "https://github.com/dkrenn"
}
```


**Changing status** from needs_info to needs_review.



---

archive/issue_comments_528971.json:
```json
{
    "body": "<a id='comment:9'></a>\nReplying to [dkrenn](#comment%3A5):\n> RunSnakeRun says\n> that most of the time is spent in\n> \n> ```\n> method '_coerce_' of 'sage.structure.parent_old.Parent'\n> ```\n> This is also not what we'd like. So what should we do now?\n\n\nThe current branch patches `__call__` so that `_coerce_` is not called that often. #25558 might change everything, but this seems somehow more out of reach.",
    "created_at": "2019-03-28T13:59:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27364#issuecomment-528971",
    "user": "https://github.com/dkrenn"
}
```


<a id='comment:9'></a>
Replying to [dkrenn](#comment%3A5):
> RunSnakeRun says
> that most of the time is spent in
> 
> ```
> method '_coerce_' of 'sage.structure.parent_old.Parent'
> ```
> This is also not what we'd like. So what should we do now?


The current branch patches `__call__` so that `_coerce_` is not called that often. #25558 might change everything, but this seems somehow more out of reach.



---

archive/issue_comments_528972.json:
```json
{
    "body": "<a id='comment:10'></a>\n\n```\n+            #from sage.structure.element import parent\n+            #print(self, '__call__')\n+            #print('    ', x, parent(x))\n```",
    "created_at": "2019-04-18T20:23:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27364#issuecomment-528972",
    "user": "https://github.com/videlec"
}
```


<a id='comment:10'></a>

```
+            #from sage.structure.element import parent
+            #print(self, '__call__')
+            #print('    ', x, parent(x))
```



---

archive/issue_comments_528973.json:
```json
{
    "body": "<a id='comment:11'></a>\nAs far as I understand, zero and one are already cached from `sage/rings/rings.py`\n\n```\nsage: R = QQ['x','y']\nsage: R.zero() is R.zero()\nTrue\nsage: R.one() is R.one()\nTrue\n```",
    "created_at": "2019-04-18T20:24:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27364#issuecomment-528973",
    "user": "https://github.com/videlec"
}
```


<a id='comment:11'></a>
As far as I understand, zero and one are already cached from `sage/rings/rings.py`

```
sage: R = QQ['x','y']
sage: R.zero() is R.zero()
True
sage: R.one() is R.one()
True
```



---

archive/issue_comments_528974.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2019-04-18T20:25:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27364#issuecomment-528974",
    "user": "https://github.com/videlec"
}
```


**Changing status** from needs_review to needs_work.



---

archive/issue_events_077065.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-06-14T14:50:27Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "milestone": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27364#event-77065"
}
```




---

archive/issue_events_077066.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-06-14T14:50:27Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "milestone": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27364#event-77066"
}
```




---

archive/issue_comments_528975.json:
```json
{
    "body": "<a id='comment:13'></a>\nTickets still needing working or clarification should be moved to the next release milestone at the soonest (please feel free to revert if you think the ticket is close to being resolved).",
    "created_at": "2019-06-14T14:50:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27364#issuecomment-528975",
    "user": "https://github.com/embray"
}
```


<a id='comment:13'></a>
Tickets still needing working or clarification should be moved to the next release milestone at the soonest (please feel free to revert if you think the ticket is close to being resolved).



---

archive/issue_comments_528976.json:
```json
{
    "body": "<a id='comment:14'></a>\nTicket retargeted after milestone closed",
    "created_at": "2019-12-30T14:48:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27364#issuecomment-528976",
    "user": "https://github.com/embray"
}
```


<a id='comment:14'></a>
Ticket retargeted after milestone closed



---

archive/issue_events_077067.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:48:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "milestone": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27364#event-77067"
}
```




---

archive/issue_events_077068.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:48:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27364#event-77068"
}
```




---

archive/issue_events_077069.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T19:41:51Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27364#event-77069"
}
```




---

archive/issue_events_077070.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T19:41:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27364#event-77070"
}
```




---

archive/issue_comments_528977.json:
```json
{
    "body": "<a id='comment:15'></a>\nBatch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.",
    "created_at": "2020-04-14T19:41:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27364#issuecomment-528977",
    "user": "https://github.com/mkoeppe"
}
```


<a id='comment:15'></a>
Batch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.



---

archive/issue_comments_528978.json:
```json
{
    "body": "**Dependencies:** #25558",
    "created_at": "2020-08-27T04:44:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27364#issuecomment-528978",
    "user": "https://github.com/mkoeppe"
}
```


**Dependencies:** #25558



---

archive/issue_events_077071.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-27T04:44:12Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27364#event-77071"
}
```




---

archive/issue_events_077072.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-27T04:44:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27364#event-77072"
}
```




---

archive/issue_events_077073.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27364#event-77073"
}
```




---

archive/issue_events_077074.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27364#event-77074"
}
```




---

archive/issue_comments_528979.json:
```json
{
    "body": "<a id='comment:17'></a>\nSetting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-02-13T20:51:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27364#issuecomment-528979",
    "user": "https://github.com/mkoeppe"
}
```


<a id='comment:17'></a>
Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_comments_528980.json:
```json
{
    "body": "**Changing branch** from \"[u/dkrenn/poly-times-vector](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/poly-times-vector)\" to \"[u/mkoeppe/poly-times-vector](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/poly-times-vector)\".",
    "created_at": "2021-04-13T17:25:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27364#issuecomment-528980",
    "user": "https://github.com/mkoeppe"
}
```


**Changing branch** from "[u/dkrenn/poly-times-vector](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/poly-times-vector)" to "[u/mkoeppe/poly-times-vector](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/poly-times-vector)".



---

archive/issue_comments_528981.json:
```json
{
    "body": "<a id='comment:20'></a>\nClean merge with current develop\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ec7977bf22d30aea6531d0d32ba01661a16f9f29\">ec7977b</a></td><td><code>Merge tag '9.3.rc3' into t/27364/poly-times-vector</code></td></tr></table>\n",
    "created_at": "2021-04-13T17:25:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27364#issuecomment-528981",
    "user": "https://github.com/mkoeppe"
}
```


<a id='comment:20'></a>
Clean merge with current develop

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ec7977bf22d30aea6531d0d32ba01661a16f9f29">ec7977b</a></td><td><code>Merge tag '9.3.rc3' into t/27364/poly-times-vector</code></td></tr></table>




---

archive/issue_comments_528982.json:
```json
{
    "body": "**Changing commit** from \"[02494942c70b6d26032d4eade470d2ebe475ff7a](https://github.com/sagemath/sagetrac-mirror/commit/02494942c70b6d26032d4eade470d2ebe475ff7a)\" to \"[ec7977bf22d30aea6531d0d32ba01661a16f9f29](https://github.com/sagemath/sagetrac-mirror/commit/ec7977bf22d30aea6531d0d32ba01661a16f9f29)\".",
    "created_at": "2021-04-13T17:25:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27364#issuecomment-528982",
    "user": "https://github.com/mkoeppe"
}
```


**Changing commit** from "[02494942c70b6d26032d4eade470d2ebe475ff7a](https://github.com/sagemath/sagetrac-mirror/commit/02494942c70b6d26032d4eade470d2ebe475ff7a)" to "[ec7977bf22d30aea6531d0d32ba01661a16f9f29](https://github.com/sagemath/sagetrac-mirror/commit/ec7977bf22d30aea6531d0d32ba01661a16f9f29)".



---

archive/issue_comments_528983.json:
```json
{
    "body": "<a id='comment:21'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a5fd62d63024e6fecb1f6836a52ff894e8de7a92\">a5fd62d</a></td><td><code>src/sage/rings/polynomial/multi_polynomial_ring.py: Remove commented-out code</code></td></tr></table>\n",
    "created_at": "2021-04-13T17:29:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27364#issuecomment-528983",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


<a id='comment:21'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a5fd62d63024e6fecb1f6836a52ff894e8de7a92">a5fd62d</a></td><td><code>src/sage/rings/polynomial/multi_polynomial_ring.py: Remove commented-out code</code></td></tr></table>




---

archive/issue_comments_528984.json:
```json
{
    "body": "**Changing commit** from \"[ec7977bf22d30aea6531d0d32ba01661a16f9f29](https://github.com/sagemath/sagetrac-mirror/commit/ec7977bf22d30aea6531d0d32ba01661a16f9f29)\" to \"[a5fd62d63024e6fecb1f6836a52ff894e8de7a92](https://github.com/sagemath/sagetrac-mirror/commit/a5fd62d63024e6fecb1f6836a52ff894e8de7a92)\".",
    "created_at": "2021-04-13T17:29:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27364#issuecomment-528984",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


**Changing commit** from "[ec7977bf22d30aea6531d0d32ba01661a16f9f29](https://github.com/sagemath/sagetrac-mirror/commit/ec7977bf22d30aea6531d0d32ba01661a16f9f29)" to "[a5fd62d63024e6fecb1f6836a52ff894e8de7a92](https://github.com/sagemath/sagetrac-mirror/commit/a5fd62d63024e6fecb1f6836a52ff894e8de7a92)".



---

archive/issue_comments_528985.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2021-04-13T18:01:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27364#issuecomment-528985",
    "user": "https://github.com/mkoeppe"
}
```


**Changing status** from needs_work to needs_review.



---

archive/issue_comments_528986.json:
```json
{
    "body": "<a id='comment:22'></a>\nReplying to [vdelecroix](#comment%3A11):\n> As far as I understand, zero and one are already cached from `sage/rings/rings.py`\n> \n> ```\n> sage: R = QQ['x','y']\n> sage: R.zero() is R.zero()\n> True\n> sage: R.one() is R.one()\n> True\n> ```\n\n\nNevertheless, this code for caching 0 and 1 does make things a bit faster.\nOn my machine, `%time R.gen(0) + S.gen(0)` gives 9.6 s, but taking out the caching it's 12.6 s.",
    "created_at": "2021-04-13T18:01:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27364#issuecomment-528986",
    "user": "https://github.com/mkoeppe"
}
```


<a id='comment:22'></a>
Replying to [vdelecroix](#comment%3A11):
> As far as I understand, zero and one are already cached from `sage/rings/rings.py`
> 
> ```
> sage: R = QQ['x','y']
> sage: R.zero() is R.zero()
> True
> sage: R.one() is R.one()
> True
> ```


Nevertheless, this code for caching 0 and 1 does make things a bit faster.
On my machine, `%time R.gen(0) + S.gen(0)` gives 9.6 s, but taking out the caching it's 12.6 s.



---

archive/issue_comments_528987.json:
```json
{
    "body": "**Changing dependencies** from \"#25558\" to \"\".",
    "created_at": "2021-04-13T18:35:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27364#issuecomment-528987",
    "user": "https://github.com/mkoeppe"
}
```


**Changing dependencies** from "#25558" to "".



---

archive/issue_comments_528988.json:
```json
{
    "body": "**Reviewer:** Matthias Koeppe, ...",
    "created_at": "2021-04-13T18:36:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27364#issuecomment-528988",
    "user": "https://github.com/mkoeppe"
}
```


**Reviewer:** Matthias Koeppe, ...



---

archive/issue_comments_528989.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2021-04-15T07:41:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27364#issuecomment-528989",
    "user": "https://github.com/videlec"
}
```


**Changing status** from needs_review to needs_work.



---

archive/issue_comments_528990.json:
```json
{
    "body": "<a id='comment:25'></a>\nThere are several doctest failures. Among them we see that the pushout **wrongly** changes some `Univariate` to `Multivariate`.\n\n```\nFile \"src/sage/categories/pushout.py\", line 3772, in sage.categories.pushout.pushout\nFailed example:\n    pushout(ZZ['x,y,z'], Frac(ZZ['x'])['y'])\nExpected:\n    Multivariate Polynomial Ring in y, z over Fraction Field of Univariate Polynomial Ring in x over Integer Ring\nGot:\n    Multivariate Polynomial Ring in y, z over Fraction Field of Multivariate Polynomial Ring in x over Integer Ring\n```\nAbove the action of `ZZ[x,y,z]` on `ZZ(x)[y]` is `ZZ(x)[y,z]` in both situations. However, I think that the `ZZ(x)` **must not** change. It would be good to test this pushout with `ZZ(x)` in different forms\n- univariate `PolynomialRing(ZZ, 'x')`\n- univariate NTL `PolynomialRing(ZZ, 'x', implementation='NTL')`\n- multivariate `PolynomialRing(ZZ, ['x'], 1))`.\n\nIn this second example it is unclear what is best.\n\n```\nFile \"src/sage/categories/pushout.py\", line 3778, in sage.categories.pushout.pushout\nFailed example:\n    pushout(QQ['x,y'], ZZ[['x']])\nExpected:\n    Univariate Polynomial Ring in y over Power Series Ring in x over Rational Field\nGot:\n    Multivariate Polynomial Ring in y over Power Series Ring in x over Rational Field\n```\nThe action of `QQ[x,y]` on `ZZ[This is the Trac macro *x* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#x-macro)` does correctly produce `QQ[y][This is the Trac macro *x* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#x-macro)` in both situations. Since `QQ[x,y] -> QQ[y]` drops a variable it is unclear to me if there is a best answer.",
    "created_at": "2021-04-15T07:41:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27364#issuecomment-528990",
    "user": "https://github.com/videlec"
}
```


<a id='comment:25'></a>
There are several doctest failures. Among them we see that the pushout **wrongly** changes some `Univariate` to `Multivariate`.

```
File "src/sage/categories/pushout.py", line 3772, in sage.categories.pushout.pushout
Failed example:
    pushout(ZZ['x,y,z'], Frac(ZZ['x'])['y'])
Expected:
    Multivariate Polynomial Ring in y, z over Fraction Field of Univariate Polynomial Ring in x over Integer Ring
Got:
    Multivariate Polynomial Ring in y, z over Fraction Field of Multivariate Polynomial Ring in x over Integer Ring
```
Above the action of `ZZ[x,y,z]` on `ZZ(x)[y]` is `ZZ(x)[y,z]` in both situations. However, I think that the `ZZ(x)` **must not** change. It would be good to test this pushout with `ZZ(x)` in different forms
- univariate `PolynomialRing(ZZ, 'x')`
- univariate NTL `PolynomialRing(ZZ, 'x', implementation='NTL')`
- multivariate `PolynomialRing(ZZ, ['x'], 1))`.

In this second example it is unclear what is best.

```
File "src/sage/categories/pushout.py", line 3778, in sage.categories.pushout.pushout
Failed example:
    pushout(QQ['x,y'], ZZ[['x']])
Expected:
    Univariate Polynomial Ring in y over Power Series Ring in x over Rational Field
Got:
    Multivariate Polynomial Ring in y over Power Series Ring in x over Rational Field
```
The action of `QQ[x,y]` on `ZZ[This is the Trac macro *x* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#x-macro)` does correctly produce `QQ[y][This is the Trac macro *x* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#x-macro)` in both situations. Since `QQ[x,y] -> QQ[y]` drops a variable it is unclear to me if there is a best answer.



---

archive/issue_comments_528991.json:
```json
{
    "body": "<a id='comment:26'></a>\nRelated: it is desirable that the string representation of multivariate polynomial rings make visible the implementation. Currently we have\n\n```\nsage: PolynomialRing(ZZ, ['x', 'y'], 2, implementation='generic')\nMultivariate Polynomial Ring in x, y over Integer Ring\nsage: PolynomialRing(ZZ, ['x', 'y'], 2, implementation='singular')\nMultivariate Polynomial Ring in x, y over Integer Ring\n```\nBut it would be better as\n\n```\nsage: PolynomialRing(ZZ, ['x', 'y'], 2, implementation='generic')\nMultivariate Polynomial Ring in x, y over Integer Ring (using generic implementation)\nsage: PolynomialRing(ZZ, ['x', 'y'], 2, implementation='singular')\nMultivariate Polynomial Ring in x, y over Integer Ring\n```\nIdeally (as for univariate polynomials and matrices) the default implementation would show nothing.",
    "created_at": "2021-04-15T07:50:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27364#issuecomment-528991",
    "user": "https://github.com/videlec"
}
```


<a id='comment:26'></a>
Related: it is desirable that the string representation of multivariate polynomial rings make visible the implementation. Currently we have

```
sage: PolynomialRing(ZZ, ['x', 'y'], 2, implementation='generic')
Multivariate Polynomial Ring in x, y over Integer Ring
sage: PolynomialRing(ZZ, ['x', 'y'], 2, implementation='singular')
Multivariate Polynomial Ring in x, y over Integer Ring
```
But it would be better as

```
sage: PolynomialRing(ZZ, ['x', 'y'], 2, implementation='generic')
Multivariate Polynomial Ring in x, y over Integer Ring (using generic implementation)
sage: PolynomialRing(ZZ, ['x', 'y'], 2, implementation='singular')
Multivariate Polynomial Ring in x, y over Integer Ring
```
Ideally (as for univariate polynomials and matrices) the default implementation would show nothing.



---

archive/issue_comments_528992.json:
```json
{
    "body": "<a id='comment:27'></a>\nThe construction functor should take into account the implementation. Please fix and add the doctest\n\n```\nsage: TT = PolynomialRing(QQ, 't', 2, implementation='generic')\nsage: F, R = TT.construction()\nsage: F(R) is TT  # bug: returns False\nTrue\n```",
    "created_at": "2021-04-15T07:51:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27364#issuecomment-528992",
    "user": "https://github.com/videlec"
}
```


<a id='comment:27'></a>
The construction functor should take into account the implementation. Please fix and add the doctest

```
sage: TT = PolynomialRing(QQ, 't', 2, implementation='generic')
sage: F, R = TT.construction()
sage: F(R) is TT  # bug: returns False
True
```



---

archive/issue_comments_528993.json:
```json
{
    "body": "<a id='comment:28'></a>\nThe construction is similarly broken on univariate polynomials\n\n```\nsage: T = PolynomialRing(ZZ, 'x')\nsage: F, R = T.construction()\nsage: F(R) is T\nTrue\nsage: T = PolynomialRing(ZZ, 'x', implementation='NTL')\nsage: F, R = T.construction()\nsage: F(R) is T  # bug: returns False\nTrue\n```",
    "created_at": "2021-04-15T07:55:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27364#issuecomment-528993",
    "user": "https://github.com/videlec"
}
```


<a id='comment:28'></a>
The construction is similarly broken on univariate polynomials

```
sage: T = PolynomialRing(ZZ, 'x')
sage: F, R = T.construction()
sage: F(R) is T
True
sage: T = PolynomialRing(ZZ, 'x', implementation='NTL')
sage: F, R = T.construction()
sage: F(R) is T  # bug: returns False
True
```



---

archive/issue_comments_528994.json:
```json
{
    "body": "<a id='comment:29'></a>\n#31668 is adding lots of these tests via the `_test_construction` method.",
    "created_at": "2021-04-15T15:30:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27364#issuecomment-528994",
    "user": "https://github.com/mkoeppe"
}
```


<a id='comment:29'></a>
#31668 is adding lots of these tests via the `_test_construction` method.



---

archive/issue_comments_528995.json:
```json
{
    "body": "<a id='comment:30'></a>\nReplying to [mkoeppe](#comment%3A29):\n> #31668 is adding lots of these tests via the `_test_construction` method.\n\n\nnice!",
    "created_at": "2021-04-15T15:32:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27364#issuecomment-528995",
    "user": "https://github.com/videlec"
}
```


<a id='comment:30'></a>
Replying to [mkoeppe](#comment%3A29):
> #31668 is adding lots of these tests via the `_test_construction` method.


nice!



---

archive/issue_events_077075.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27364#event-77075"
}
```




---

archive/issue_events_077076.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27364#event-77076"
}
```




---

archive/issue_comments_528996.json:
```json
{
    "body": "<a id='comment:32'></a>\nSetting a new milestone for this ticket based on a cursory review.",
    "created_at": "2021-07-19T00:44:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27364#issuecomment-528996",
    "user": "https://github.com/mkoeppe"
}
```


<a id='comment:32'></a>
Setting a new milestone for this ticket based on a cursory review.



---

archive/issue_events_077077.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:24:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27364#event-77077"
}
```




---

archive/issue_events_077078.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:24:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27364#event-77078"
}
```




---

archive/issue_events_077079.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-11T17:19:39Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27364#event-77079"
}
```




---

archive/issue_events_077080.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-11T17:19:39Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27364#event-77080"
}
```




---

archive/issue_events_077081.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27364#event-77081"
}
```




---

archive/issue_events_077082.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27364",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27364#event-77082"
}
```

