# Issue 27228: Chow

archive/issues_026991.json:
```json
{
    "assignees": [],
    "body": "\n\n**Assignee:** @sorger-c\n\n**CC:**  @fchapoton\n\n**Branch:** [public/ticket-chow](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket-chow)\n\n**Commit:** [66676edacb6b0e958d1f066b4af49bf63ba3c20f](https://github.com/sagemath/sagetrac-mirror/commit/66676edacb6b0e958d1f066b4af49bf63ba3c20f)\n\n**Author:** Christoph Sorger\n\nIssue created by migration from https://trac.sagemath.org/ticket/27228\n\n",
    "created_at": "2019-02-05T20:18:54Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20algebraic%20geometry",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Chow",
    "type": "issue",
    "updated_at": "2022-11-11T20:28:20Z",
    "url": "https://github.com/sagemath/sage/issues/27228",
    "user": "https://github.com/sorger-c"
}
```


**Assignee:** @sorger-c

**CC:**  @fchapoton

**Branch:** [public/ticket-chow](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket-chow)

**Commit:** [66676edacb6b0e958d1f066b4af49bf63ba3c20f](https://github.com/sagemath/sagetrac-mirror/commit/66676edacb6b0e958d1f066b4af49bf63ba3c20f)

**Author:** Christoph Sorger

Issue created by migration from https://trac.sagemath.org/ticket/27228





---

archive/issue_events_240462.json:
```json
{
    "actor": "https://github.com/sorger-c",
    "created_at": "2019-02-05T20:23:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27228",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20algebraic%20geometry",
    "label_color": "08517b",
    "label_name": "component: algebraic geometry",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27228#event-240462"
}
```



---

archive/issue_events_240463.json:
```json
{
    "actor": "https://github.com/sorger-c",
    "created_at": "2019-02-05T20:23:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27228",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "008080",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27228#event-240463"
}
```



---

archive/issue_comments_423215.json:
```json
{
    "body": "**Assignee:** @sorger-c",
    "created_at": "2019-02-05T20:58:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27228#issuecomment-423215",
    "user": "https://github.com/sorger-c"
}
```

**Assignee:** @sorger-c



---

archive/issue_comments_423216.json:
```json
{
    "body": "**Author:** Christoph Sorger",
    "created_at": "2019-02-06T14:09:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27228#issuecomment-423216",
    "user": "https://github.com/sorger-c"
}
```

**Author:** Christoph Sorger



---

archive/issue_comments_423217.json:
```json
{
    "body": "**Branch:** [u/gh-sorger-c/chow](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-sorger-c/chow)",
    "created_at": "2019-02-06T14:10:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27228#issuecomment-423217",
    "user": "https://github.com/sorger-c"
}
```

**Branch:** [u/gh-sorger-c/chow](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-sorger-c/chow)



---

archive/issue_comments_423218.json:
```json
{
    "body": "<a id='comment:5'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/810266809d62f8054b39735bc67bf75ccf6d0b55\">8102668</a></td><td><code>Added the package Chow, a library for computations in intersection theory.</code></td></tr></table>\n",
    "created_at": "2019-02-07T06:34:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27228#issuecomment-423218",
    "user": "https://github.com/sorger-c"
}
```

<a id='comment:5'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/810266809d62f8054b39735bc67bf75ccf6d0b55">8102668</a></td><td><code>Added the package Chow, a library for computations in intersection theory.</code></td></tr></table>




---

archive/issue_comments_423219.json:
```json
{
    "body": "**Commit:** [810266809d62f8054b39735bc67bf75ccf6d0b55](https://github.com/sagemath/sagetrac-mirror/commit/810266809d62f8054b39735bc67bf75ccf6d0b55)",
    "created_at": "2019-02-07T06:34:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27228#issuecomment-423219",
    "user": "https://github.com/sorger-c"
}
```

**Commit:** [810266809d62f8054b39735bc67bf75ccf6d0b55](https://github.com/sagemath/sagetrac-mirror/commit/810266809d62f8054b39735bc67bf75ccf6d0b55)



---

archive/issue_comments_423220.json:
```json
{
    "body": "<a id='comment:6'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/06f8480113e591ffd67fdb60951a923b814939a5\">06f8480</a></td><td><code>The package has been updated to work with version 8.7 of Sage.</code></td></tr></table>\n",
    "created_at": "2019-02-07T06:35:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27228#issuecomment-423220",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:6'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/06f8480113e591ffd67fdb60951a923b814939a5">06f8480</a></td><td><code>The package has been updated to work with version 8.7 of Sage.</code></td></tr></table>




---

archive/issue_comments_423221.json:
```json
{
    "body": "**Changing commit** from \"[810266809d62f8054b39735bc67bf75ccf6d0b55](https://github.com/sagemath/sagetrac-mirror/commit/810266809d62f8054b39735bc67bf75ccf6d0b55)\" to \"[06f8480113e591ffd67fdb60951a923b814939a5](https://github.com/sagemath/sagetrac-mirror/commit/06f8480113e591ffd67fdb60951a923b814939a5)\".",
    "created_at": "2019-02-07T06:35:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27228#issuecomment-423221",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[810266809d62f8054b39735bc67bf75ccf6d0b55](https://github.com/sagemath/sagetrac-mirror/commit/810266809d62f8054b39735bc67bf75ccf6d0b55)" to "[06f8480113e591ffd67fdb60951a923b814939a5](https://github.com/sagemath/sagetrac-mirror/commit/06f8480113e591ffd67fdb60951a923b814939a5)".



---

archive/issue_comments_423222.json:
```json
{
    "body": "<a id='comment:7'></a>\nTicket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)",
    "created_at": "2019-03-25T10:56:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27228#issuecomment-423222",
    "user": "https://github.com/embray"
}
```

<a id='comment:7'></a>
Ticket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)



---

archive/issue_events_240464.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:56:15Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/27228",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27228#event-240464"
}
```



---

archive/issue_events_240465.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:56:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27228",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27228#event-240465"
}
```



---

archive/issue_events_240466.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-06-14T14:54:19Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/27228",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27228#event-240466"
}
```



---

archive/issue_comments_423223.json:
```json
{
    "body": "<a id='comment:8'></a>\nAs the Sage-8.8 release milestone is pending, we should delete the sage-8.8 milestone for tickets that are not actively being worked on or that still require significant work to move forward.  If you feel that this ticket should be included in the next Sage release at the soonest please set its milestone to the next release milestone (sage-8.9).",
    "created_at": "2019-06-14T14:54:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27228#issuecomment-423223",
    "user": "https://github.com/embray"
}
```

<a id='comment:8'></a>
As the Sage-8.8 release milestone is pending, we should delete the sage-8.8 milestone for tickets that are not actively being worked on or that still require significant work to move forward.  If you feel that this ticket should be included in the next Sage release at the soonest please set its milestone to the next release milestone (sage-8.9).



---

archive/issue_comments_423224.json:
```json
{
    "body": "<a id='comment:9'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/48d6a43a02551fb860d6a339bed5c6627e3d2ed5\">48d6a43</a></td><td><code>Added the package Chow, a library for computations in intersection theory.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a58edec86184d29771f1b9b098799ba19805f923\">a58edec</a></td><td><code>The package has been updated to work with version 8.7 of Sage.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b5769ac8ba271e8a876d44ffcf2505b4c74d752b\">b5769ac</a></td><td><code>Updated to Python3. Works with Sage 9.0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/23c70fc1a1f469ad8015b025614bdedb12b76822\">23c70fc</a></td><td><code>Merge branch 'u/gh-sorger-c/chow' of git://trac.sagemath.org/sage into t/27228/chow</code></td></tr></table>\n",
    "created_at": "2020-05-04T11:08:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27228#issuecomment-423224",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:9'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/48d6a43a02551fb860d6a339bed5c6627e3d2ed5">48d6a43</a></td><td><code>Added the package Chow, a library for computations in intersection theory.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a58edec86184d29771f1b9b098799ba19805f923">a58edec</a></td><td><code>The package has been updated to work with version 8.7 of Sage.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b5769ac8ba271e8a876d44ffcf2505b4c74d752b">b5769ac</a></td><td><code>Updated to Python3. Works with Sage 9.0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/23c70fc1a1f469ad8015b025614bdedb12b76822">23c70fc</a></td><td><code>Merge branch 'u/gh-sorger-c/chow' of git://trac.sagemath.org/sage into t/27228/chow</code></td></tr></table>




---

archive/issue_comments_423225.json:
```json
{
    "body": "**Changing commit** from \"[06f8480113e591ffd67fdb60951a923b814939a5](https://github.com/sagemath/sagetrac-mirror/commit/06f8480113e591ffd67fdb60951a923b814939a5)\" to \"[23c70fc1a1f469ad8015b025614bdedb12b76822](https://github.com/sagemath/sagetrac-mirror/commit/23c70fc1a1f469ad8015b025614bdedb12b76822)\".",
    "created_at": "2020-05-04T11:08:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27228#issuecomment-423225",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[06f8480113e591ffd67fdb60951a923b814939a5](https://github.com/sagemath/sagetrac-mirror/commit/06f8480113e591ffd67fdb60951a923b814939a5)" to "[23c70fc1a1f469ad8015b025614bdedb12b76822](https://github.com/sagemath/sagetrac-mirror/commit/23c70fc1a1f469ad8015b025614bdedb12b76822)".



---

archive/issue_comments_423226.json:
```json
{
    "body": "<a id='comment:10'></a>\nSalut Christoph,\n\n* petite suggestion, dans la definition de la fonction todd(), eviter d'utiliser l'anneau symbolique SR, mais utiliser soit directement les nombres de Bernoulli, soit l'anneau des series formelles\n\n```\nsage: x = PowerSeriesRing(QQ,'x', default_prec=24).gen().O(24)\nsage: x/(1-exp(x))\n-1 + 1/2*x - 1/12*x^2 + 1/720*x^4 - 1/30240*x^6 + 1/1209600*x^8 - 1/47900160*x^10 + 691/1307674368000*x^12 - 1/74724249600*x^14 + 3617/10670622842880000*x^16 - 43867/5109094217170944000*x^18 + 174611/802857662698291200000*x^20 - 77683/14101100039391805440000*x^22 + O(x^23)\n```\n\n* peut-etre que ca serait bien de mettre ton package sous la forme d'un package python, plus facile \u00e0 installer pour les gens. Je ne suis pas un expert dans ce genre de chose, mais il y a des instructions ici, qui p\u00e8sent le pour et le contre:\n\nhttps://wiki.sagemath.org/CodeSharingWorkflow\n\nhttps://gist.github.com/cswiercz/c632d920565a2da519b73bd2b79d7920\n\nhttps://github.com/sagemath/sage_sample",
    "created_at": "2020-05-04T13:39:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27228#issuecomment-423226",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:10'></a>
Salut Christoph,

* petite suggestion, dans la definition de la fonction todd(), eviter d'utiliser l'anneau symbolique SR, mais utiliser soit directement les nombres de Bernoulli, soit l'anneau des series formelles

```
sage: x = PowerSeriesRing(QQ,'x', default_prec=24).gen().O(24)
sage: x/(1-exp(x))
-1 + 1/2*x - 1/12*x^2 + 1/720*x^4 - 1/30240*x^6 + 1/1209600*x^8 - 1/47900160*x^10 + 691/1307674368000*x^12 - 1/74724249600*x^14 + 3617/10670622842880000*x^16 - 43867/5109094217170944000*x^18 + 174611/802857662698291200000*x^20 - 77683/14101100039391805440000*x^22 + O(x^23)
```

* peut-etre que ca serait bien de mettre ton package sous la forme d'un package python, plus facile à installer pour les gens. Je ne suis pas un expert dans ce genre de chose, mais il y a des instructions ici, qui pèsent le pour et le contre:

https://wiki.sagemath.org/CodeSharingWorkflow

https://gist.github.com/cswiercz/c632d920565a2da519b73bd2b79d7920

https://github.com/sagemath/sage_sample



---

archive/issue_comments_423227.json:
```json
{
    "body": "<a id='comment:11'></a>\nSalut Fr\u00e9d\u00e9ric,\n\nMerci pour les deux suggestions. Je vais regarder comment \u00e9viter l'utilisation de SR, peut-\u00eatre avec l'anneau des s\u00e9ries formelles ou, effectivement, le faire directement via les nombres de Bernoulli.\n\nEn ce qui concerne le packaging, oui, c'est une piste \u00e0 suivre, merci pour les liens! On me demande parfois comment installer chow et la forme actuelle d'une branche est un peu compliqu\u00e9e pour les coll\u00e8gues qui n'ont pas l'habitude de git. Aussi il faut compiler sage ce qui est d\u00e9licat parfois (je n'ai pas r\u00e9ussi \u00e0 compiler la branche develop aujourd'hui sur mon Mac, puisque pynac et matplotlib bloquaient) et surtout tr\u00e8s long... Je vais regarder sage_sample plus en d\u00e9tail (et les remarques de Nicolas sur le workflow).\n\nL\u00e0 aujourd'hui, j'ai juste voulu rendre la branche compatible avec Sage 9.0 et Python3. Ce n'\u00e9tait pas tr\u00e8s difficile, essentiellement quelques imports, l'utilisation de basestring et une division a/b \u00e0 modifier. Au moins, tous les tests passent \u00e0 nouveau.",
    "created_at": "2020-05-04T16:35:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27228#issuecomment-423227",
    "user": "https://github.com/sorger-c"
}
```

<a id='comment:11'></a>
Salut Frédéric,

Merci pour les deux suggestions. Je vais regarder comment éviter l'utilisation de SR, peut-être avec l'anneau des séries formelles ou, effectivement, le faire directement via les nombres de Bernoulli.

En ce qui concerne le packaging, oui, c'est une piste à suivre, merci pour les liens! On me demande parfois comment installer chow et la forme actuelle d'une branche est un peu compliquée pour les collègues qui n'ont pas l'habitude de git. Aussi il faut compiler sage ce qui est délicat parfois (je n'ai pas réussi à compiler la branche develop aujourd'hui sur mon Mac, puisque pynac et matplotlib bloquaient) et surtout très long... Je vais regarder sage_sample plus en détail (et les remarques de Nicolas sur le workflow).

Là aujourd'hui, j'ai juste voulu rendre la branche compatible avec Sage 9.0 et Python3. Ce n'était pas très difficile, essentiellement quelques imports, l'utilisation de basestring et une division a/b à modifier. Au moins, tous les tests passent à nouveau.



---

archive/issue_comments_423228.json:
```json
{
    "body": "<a id='comment:12'></a>\nSee https://math.stackexchange.com/questions/4574286/sage-chow-package-install-merge-error: the branch no longer merges cleanly.",
    "created_at": "2022-11-11T19:35:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27228#issuecomment-423228",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:12'></a>
See https://math.stackexchange.com/questions/4574286/sage-chow-package-install-merge-error: the branch no longer merges cleanly.



---

archive/issue_comments_423229.json:
```json
{
    "body": "**Changing commit** from \"[23c70fc1a1f469ad8015b025614bdedb12b76822](https://github.com/sagemath/sagetrac-mirror/commit/23c70fc1a1f469ad8015b025614bdedb12b76822)\" to \"[66676edacb6b0e958d1f066b4af49bf63ba3c20f](https://github.com/sagemath/sagetrac-mirror/commit/66676edacb6b0e958d1f066b4af49bf63ba3c20f)\".",
    "created_at": "2022-11-11T20:28:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27228#issuecomment-423229",
    "user": "https://github.com/fchapoton"
}
```

**Changing commit** from "[23c70fc1a1f469ad8015b025614bdedb12b76822](https://github.com/sagemath/sagetrac-mirror/commit/23c70fc1a1f469ad8015b025614bdedb12b76822)" to "[66676edacb6b0e958d1f066b4af49bf63ba3c20f](https://github.com/sagemath/sagetrac-mirror/commit/66676edacb6b0e958d1f066b4af49bf63ba3c20f)".



---

archive/issue_comments_423230.json:
```json
{
    "body": "<a id='comment:13'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/66676edacb6b0e958d1f066b4af49bf63ba3c20f\">66676ed</a></td><td><code>Merge branch 'u/gh-sorger-c/chow' in 9.8.b3</code></td></tr></table>\n",
    "created_at": "2022-11-11T20:28:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27228#issuecomment-423230",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:13'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/66676edacb6b0e958d1f066b4af49bf63ba3c20f">66676ed</a></td><td><code>Merge branch 'u/gh-sorger-c/chow' in 9.8.b3</code></td></tr></table>




---

archive/issue_comments_423231.json:
```json
{
    "body": "**Changing branch** from \"[u/gh-sorger-c/chow](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-sorger-c/chow)\" to \"[public/ticket-chow](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket-chow)\".",
    "created_at": "2022-11-11T20:28:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27228#issuecomment-423231",
    "user": "https://github.com/fchapoton"
}
```

**Changing branch** from "[u/gh-sorger-c/chow](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-sorger-c/chow)" to "[public/ticket-chow](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket-chow)".
