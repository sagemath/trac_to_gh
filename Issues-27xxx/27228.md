# Issue 27228: Chow

archive/issues_026991.json:
```json
{
    "body": "\n\nAssignee: @sorger-c\n\nCC:  @fchapoton\n\nAuthor: Christoph Sorger\n\nBranch: public/ticket-chow\n\nStatus: new\n\nCommit: 66676edacb6b0e958d1f066b4af49bf63ba3c20f\n\nIssue created by migration from https://trac.sagemath.org/ticket/27228\n\n",
    "created_at": "2019-02-05T20:18:54Z",
    "labels": [
        "component: algebraic geometry"
    ],
    "title": "Chow",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/27228",
    "user": "https://github.com/sorger-c"
}
```


Assignee: @sorger-c

CC:  @fchapoton

Author: Christoph Sorger

Branch: public/ticket-chow

Status: new

Commit: 66676edacb6b0e958d1f066b4af49bf63ba3c20f

Issue created by migration from https://trac.sagemath.org/ticket/27228





---

archive/issue_comments_524209.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to algebraic geometry.",
    "created_at": "2019-02-05T20:23:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27228#issuecomment-524209",
    "user": "https://github.com/sorger-c"
}
```

Changing component from PLEASE CHANGE to algebraic geometry.



---

archive/issue_comments_524210.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2019-02-05T20:23:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27228#issuecomment-524210",
    "user": "https://github.com/sorger-c"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_524211.json:
```json
{
    "body": "Set assignee to @sorger-c.",
    "created_at": "2019-02-05T20:58:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27228#issuecomment-524211",
    "user": "https://github.com/sorger-c"
}
```

Set assignee to @sorger-c.



---

archive/issue_comments_524212.json:
```json
{
    "body": "Changing author from \"\" to \"Christoph Sorger\"",
    "created_at": "2019-02-06T14:09:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27228#issuecomment-524212",
    "user": "https://github.com/sorger-c"
}
```

Changing author from "" to "Christoph Sorger"



---

archive/issue_comments_524213.json:
```json
{
    "body": "Changing branch from \"\" to \"u/gh-sorger-c/chow\"",
    "created_at": "2019-02-06T14:10:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27228#issuecomment-524213",
    "user": "https://github.com/sorger-c"
}
```

Changing branch from "" to "u/gh-sorger-c/chow"



---

archive/issue_comments_524214.json:
```json
{
    "body": "<a id='comment:5'></a>New commits:",
    "created_at": "2019-02-07T06:34:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27228#issuecomment-524214",
    "user": "https://github.com/sorger-c"
}
```

<a id='comment:5'></a>New commits:



---

archive/issue_comments_524215.json:
```json
{
    "body": "Changing commit from \"\" to \"810266809d62f8054b39735bc67bf75ccf6d0b55\"",
    "created_at": "2019-02-07T06:34:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27228#issuecomment-524215",
    "user": "https://github.com/sorger-c"
}
```

Changing commit from "" to "810266809d62f8054b39735bc67bf75ccf6d0b55"



---

archive/issue_comments_524216.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-02-07T06:35:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27228#issuecomment-524216",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_524217.json:
```json
{
    "body": "Changing commit from \"810266809d62f8054b39735bc67bf75ccf6d0b55\" to \"06f8480113e591ffd67fdb60951a923b814939a5\"",
    "created_at": "2019-02-07T06:35:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27228#issuecomment-524217",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "810266809d62f8054b39735bc67bf75ccf6d0b55" to "06f8480113e591ffd67fdb60951a923b814939a5"



---

archive/issue_comments_524218.json:
```json
{
    "body": "<a id='comment:7'></a>Ticket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)",
    "created_at": "2019-03-25T10:56:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27228#issuecomment-524218",
    "user": "https://github.com/embray"
}
```

<a id='comment:7'></a>Ticket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)



---

archive/issue_events_067595.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:56:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27228",
    "milestone": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27228#event-67595"
}
```



---

archive/issue_events_067596.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-06-14T14:54:19Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27228",
    "milestone": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27228#event-67596"
}
```



---

archive/issue_comments_524219.json:
```json
{
    "body": "<a id='comment:8'></a>As the Sage-8.8 release milestone is pending, we should delete the sage-8.8 milestone for tickets that are not actively being worked on or that still require significant work to move forward.  If you feel that this ticket should be included in the next Sage release at the soonest please set its milestone to the next release milestone (sage-8.9).",
    "created_at": "2019-06-14T14:54:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27228#issuecomment-524219",
    "user": "https://github.com/embray"
}
```

<a id='comment:8'></a>As the Sage-8.8 release milestone is pending, we should delete the sage-8.8 milestone for tickets that are not actively being worked on or that still require significant work to move forward.  If you feel that this ticket should be included in the next Sage release at the soonest please set its milestone to the next release milestone (sage-8.9).



---

archive/issue_comments_524220.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-05-04T11:08:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27228#issuecomment-524220",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_524221.json:
```json
{
    "body": "Changing commit from \"06f8480113e591ffd67fdb60951a923b814939a5\" to \"23c70fc1a1f469ad8015b025614bdedb12b76822\"",
    "created_at": "2020-05-04T11:08:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27228#issuecomment-524221",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "06f8480113e591ffd67fdb60951a923b814939a5" to "23c70fc1a1f469ad8015b025614bdedb12b76822"



---

archive/issue_comments_524222.json:
```json
{
    "body": "<a id='comment:10'></a>Salut Christoph,\n\n* petite suggestion, dans la definition de la fonction todd(), eviter d'utiliser l'anneau symbolique SR, mais utiliser soit directement les nombres de Bernoulli, soit l'anneau des series formelles\n\n```\nsage: x = PowerSeriesRing(QQ,'x', default_prec=24).gen().O(24)\nsage: x/(1-exp(x))\n-1 + 1/2*x - 1/12*x^2 + 1/720*x^4 - 1/30240*x^6 + 1/1209600*x^8 - 1/47900160*x^10 + 691/1307674368000*x^12 - 1/74724249600*x^14 + 3617/10670622842880000*x^16 - 43867/5109094217170944000*x^18 + 174611/802857662698291200000*x^20 - 77683/14101100039391805440000*x^22 + O(x^23)\n```\n\n* peut-etre que ca serait bien de mettre ton package sous la forme d'un package python, plus facile \u00e0 installer pour les gens. Je ne suis pas un expert dans ce genre de chose, mais il y a des instructions ici, qui p\u00e8sent le pour et le contre:\n\nhttps://wiki.sagemath.org/CodeSharingWorkflow\n\nhttps://gist.github.com/cswiercz/c632d920565a2da519b73bd2b79d7920\n\nhttps://github.com/sagemath/sage_sample",
    "created_at": "2020-05-04T13:39:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27228#issuecomment-524222",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:10'></a>Salut Christoph,

* petite suggestion, dans la definition de la fonction todd(), eviter d'utiliser l'anneau symbolique SR, mais utiliser soit directement les nombres de Bernoulli, soit l'anneau des series formelles

```
sage: x = PowerSeriesRing(QQ,'x', default_prec=24).gen().O(24)
sage: x/(1-exp(x))
-1 + 1/2*x - 1/12*x^2 + 1/720*x^4 - 1/30240*x^6 + 1/1209600*x^8 - 1/47900160*x^10 + 691/1307674368000*x^12 - 1/74724249600*x^14 + 3617/10670622842880000*x^16 - 43867/5109094217170944000*x^18 + 174611/802857662698291200000*x^20 - 77683/14101100039391805440000*x^22 + O(x^23)
```

* peut-etre que ca serait bien de mettre ton package sous la forme d'un package python, plus facile à installer pour les gens. Je ne suis pas un expert dans ce genre de chose, mais il y a des instructions ici, qui pèsent le pour et le contre:

https://wiki.sagemath.org/CodeSharingWorkflow

https://gist.github.com/cswiercz/c632d920565a2da519b73bd2b79d7920

https://github.com/sagemath/sage_sample



---

archive/issue_comments_524223.json:
```json
{
    "body": "<a id='comment:11'></a>Salut Fr\u00e9d\u00e9ric,\n\nMerci pour les deux suggestions. Je vais regarder comment \u00e9viter l'utilisation de SR, peut-\u00eatre avec l'anneau des s\u00e9ries formelles ou, effectivement, le faire directement via les nombres de Bernoulli.\n\nEn ce qui concerne le packaging, oui, c'est une piste \u00e0 suivre, merci pour les liens! On me demande parfois comment installer chow et la forme actuelle d'une branche est un peu compliqu\u00e9e pour les coll\u00e8gues qui n'ont pas l'habitude de git. Aussi il faut compiler sage ce qui est d\u00e9licat parfois (je n'ai pas r\u00e9ussi \u00e0 compiler la branche develop aujourd'hui sur mon Mac, puisque pynac et matplotlib bloquaient) et surtout tr\u00e8s long... Je vais regarder sage_sample plus en d\u00e9tail (et les remarques de Nicolas sur le workflow).\n\nL\u00e0 aujourd'hui, j'ai juste voulu rendre la branche compatible avec Sage 9.0 et Python3. Ce n'\u00e9tait pas tr\u00e8s difficile, essentiellement quelques imports, l'utilisation de basestring et une division a/b \u00e0 modifier. Au moins, tous les tests passent \u00e0 nouveau.",
    "created_at": "2020-05-04T16:35:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27228#issuecomment-524223",
    "user": "https://github.com/sorger-c"
}
```

<a id='comment:11'></a>Salut Frédéric,

Merci pour les deux suggestions. Je vais regarder comment éviter l'utilisation de SR, peut-être avec l'anneau des séries formelles ou, effectivement, le faire directement via les nombres de Bernoulli.

En ce qui concerne le packaging, oui, c'est une piste à suivre, merci pour les liens! On me demande parfois comment installer chow et la forme actuelle d'une branche est un peu compliquée pour les collègues qui n'ont pas l'habitude de git. Aussi il faut compiler sage ce qui est délicat parfois (je n'ai pas réussi à compiler la branche develop aujourd'hui sur mon Mac, puisque pynac et matplotlib bloquaient) et surtout très long... Je vais regarder sage_sample plus en détail (et les remarques de Nicolas sur le workflow).

Là aujourd'hui, j'ai juste voulu rendre la branche compatible avec Sage 9.0 et Python3. Ce n'était pas très difficile, essentiellement quelques imports, l'utilisation de basestring et une division a/b à modifier. Au moins, tous les tests passent à nouveau.



---

archive/issue_comments_524224.json:
```json
{
    "body": "<a id='comment:12'></a>See https://math.stackexchange.com/questions/4574286/sage-chow-package-install-merge-error: the branch no longer merges cleanly.",
    "created_at": "2022-11-11T19:35:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27228#issuecomment-524224",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:12'></a>See https://math.stackexchange.com/questions/4574286/sage-chow-package-install-merge-error: the branch no longer merges cleanly.



---

archive/issue_comments_524225.json:
```json
{
    "body": "Changing commit from \"23c70fc1a1f469ad8015b025614bdedb12b76822\" to \"66676edacb6b0e958d1f066b4af49bf63ba3c20f\"",
    "created_at": "2022-11-11T20:28:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27228#issuecomment-524225",
    "user": "https://github.com/fchapoton"
}
```

Changing commit from "23c70fc1a1f469ad8015b025614bdedb12b76822" to "66676edacb6b0e958d1f066b4af49bf63ba3c20f"



---

archive/issue_comments_524226.json:
```json
{
    "body": "<a id='comment:13'></a>New commits:",
    "created_at": "2022-11-11T20:28:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27228#issuecomment-524226",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:13'></a>New commits:



---

archive/issue_comments_524227.json:
```json
{
    "body": "Changing branch from \"u/gh-sorger-c/chow\" to \"public/ticket-chow\"",
    "created_at": "2022-11-11T20:28:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27228#issuecomment-524227",
    "user": "https://github.com/fchapoton"
}
```

Changing branch from "u/gh-sorger-c/chow" to "public/ticket-chow"
