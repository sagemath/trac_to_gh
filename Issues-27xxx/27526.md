# Issue 27526: Usainboltz package: fast Boltzmann random generation of tree-like structures

archive/issues_027289.json:
```json
{
    "body": "Usain Boltz is a !Python/Cython/C++ library that automates the random generation of tree-like structures.\nIt allows to describe a combinatorial structure using a specification in the style of \u201cAnalytic Combinatorics\u201d and, using the Boltzmann sampling framework, it produces a fast, uniform, and approximate size sampler of objects described by this specification.\n\nhttps://gitlab.com/ParComb/usain-boltz\n\n\n**CC:**  tmonteil @MatthieuDien @Kerl13 @mantepse\n\n**Branch:** [u/MartinPepin/usainboltz](https://github.com/sagemath/sagetrac-mirror/tree/u/MartinPepin/usainboltz)\n\n**Commit:** [d8e42b9f8bacdb2b0018b0bc392542f61b9dbd46](https://github.com/sagemath/sagetrac-mirror/commit/d8e42b9f8bacdb2b0018b0bc392542f61b9dbd46)\n\n**Reviewer:** Thierry Monteil\n\n**Author:** Martin P\u00e9pin, Matthieu Dien\n\n**Dependencies:** #34251\n\nIssue created by migration from https://trac.sagemath.org/ticket/27526\n\n",
    "created_at": "2019-03-21T17:16:42Z",
    "labels": [
        "component: packages: optional",
        "enhancement",
        "needs review"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Usainboltz package: fast Boltzmann random generation of tree-like structures",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/27526",
    "user": "https://github.com/Kerl13"
}
```
Usain Boltz is a !Python/Cython/C++ library that automates the random generation of tree-like structures.
It allows to describe a combinatorial structure using a specification in the style of “Analytic Combinatorics” and, using the Boltzmann sampling framework, it produces a fast, uniform, and approximate size sampler of objects described by this specification.

https://gitlab.com/ParComb/usain-boltz


**CC:**  tmonteil @MatthieuDien @Kerl13 @mantepse

**Branch:** [u/MartinPepin/usainboltz](https://github.com/sagemath/sagetrac-mirror/tree/u/MartinPepin/usainboltz)

**Commit:** [d8e42b9f8bacdb2b0018b0bc392542f61b9dbd46](https://github.com/sagemath/sagetrac-mirror/commit/d8e42b9f8bacdb2b0018b0bc392542f61b9dbd46)

**Reviewer:** Thierry Monteil

**Author:** Martin Pépin, Matthieu Dien

**Dependencies:** #34251

Issue created by migration from https://trac.sagemath.org/ticket/27526





---

archive/issue_comments_428982.json:
```json
{
    "body": "**Branch:** [u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars)",
    "created_at": "2019-03-26T07:58:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-428982",
    "user": "https://github.com/Kerl13"
}
```

**Branch:** [u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars)



---

archive/issue_comments_428983.json:
```json
{
    "body": "**Commit:** [693df817175f8facf41370ae3f8e6835fb326d83](https://github.com/sagemath/sagetrac-mirror/commit/693df817175f8facf41370ae3f8e6835fb326d83)",
    "created_at": "2019-06-19T11:26:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-428983",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Commit:** [693df817175f8facf41370ae3f8e6835fb326d83](https://github.com/sagemath/sagetrac-mirror/commit/693df817175f8facf41370ae3f8e6835fb326d83)



---

archive/issue_comments_428984.json:
```json
{
    "body": "<a id='comment:2'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/693df817175f8facf41370ae3f8e6835fb326d83\">693df81</a></td><td><code>Boltzmann sampling: module-wide documentation</code></td></tr></table>\n",
    "created_at": "2019-06-19T11:26:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-428984",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/693df817175f8facf41370ae3f8e6835fb326d83">693df81</a></td><td><code>Boltzmann sampling: module-wide documentation</code></td></tr></table>




---

archive/issue_comments_428985.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/75ec37c8b04cec71e4ef78c35e8560f28b75c109\">75ec37c</a></td><td><code>Use sage's randstate API for random number generation</code></td></tr></table>\n",
    "created_at": "2019-06-19T12:42:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-428985",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/75ec37c8b04cec71e4ef78c35e8560f28b75c109">75ec37c</a></td><td><code>Use sage's randstate API for random number generation</code></td></tr></table>




---

archive/issue_comments_428986.json:
```json
{
    "body": "**Changing commit** from \"[693df817175f8facf41370ae3f8e6835fb326d83](https://github.com/sagemath/sagetrac-mirror/commit/693df817175f8facf41370ae3f8e6835fb326d83)\" to \"[75ec37c8b04cec71e4ef78c35e8560f28b75c109](https://github.com/sagemath/sagetrac-mirror/commit/75ec37c8b04cec71e4ef78c35e8560f28b75c109)\".",
    "created_at": "2019-06-19T12:42:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-428986",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[693df817175f8facf41370ae3f8e6835fb326d83](https://github.com/sagemath/sagetrac-mirror/commit/693df817175f8facf41370ae3f8e6835fb326d83)" to "[75ec37c8b04cec71e4ef78c35e8560f28b75c109](https://github.com/sagemath/sagetrac-mirror/commit/75ec37c8b04cec71e4ef78c35e8560f28b75c109)".



---

archive/issue_comments_428987.json:
```json
{
    "body": "**Changing commit** from \"[75ec37c8b04cec71e4ef78c35e8560f28b75c109](https://github.com/sagemath/sagetrac-mirror/commit/75ec37c8b04cec71e4ef78c35e8560f28b75c109)\" to \"[8b40cc1ef4bf20887f6178d729d397a36856e3c6](https://github.com/sagemath/sagetrac-mirror/commit/8b40cc1ef4bf20887f6178d729d397a36856e3c6)\".",
    "created_at": "2019-06-19T20:31:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-428987",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[75ec37c8b04cec71e4ef78c35e8560f28b75c109](https://github.com/sagemath/sagetrac-mirror/commit/75ec37c8b04cec71e4ef78c35e8560f28b75c109)" to "[8b40cc1ef4bf20887f6178d729d397a36856e3c6](https://github.com/sagemath/sagetrac-mirror/commit/8b40cc1ef4bf20887f6178d729d397a36856e3c6)".



---

archive/issue_comments_428988.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8b40cc1ef4bf20887f6178d729d397a36856e3c6\">8b40cc1</a></td><td><code>Boltzmann: document the generator module</code></td></tr></table>\n",
    "created_at": "2019-06-19T20:31:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-428988",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8b40cc1ef4bf20887f6178d729d397a36856e3c6">8b40cc1</a></td><td><code>Boltzmann: document the generator module</code></td></tr></table>




---

archive/issue_comments_428989.json:
```json
{
    "body": "<a id='comment:5'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b7981332bc4aa6b9fe3d7bfb779487a441aaede2\">b798133</a></td><td><code>Boltzmann(Grammar): `labelled` optional argument</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1c7b6b08d1fbaab442dada829823f761dbcaf33f\">1c7b6b0</a></td><td><code>Integrate Boltzmann's doc into the reference manual</code></td></tr></table>\n",
    "created_at": "2019-06-20T15:00:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-428989",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b7981332bc4aa6b9fe3d7bfb779487a441aaede2">b798133</a></td><td><code>Boltzmann(Grammar): `labelled` optional argument</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1c7b6b08d1fbaab442dada829823f761dbcaf33f">1c7b6b0</a></td><td><code>Integrate Boltzmann's doc into the reference manual</code></td></tr></table>




---

archive/issue_comments_428990.json:
```json
{
    "body": "**Changing commit** from \"[8b40cc1ef4bf20887f6178d729d397a36856e3c6](https://github.com/sagemath/sagetrac-mirror/commit/8b40cc1ef4bf20887f6178d729d397a36856e3c6)\" to \"[1c7b6b08d1fbaab442dada829823f761dbcaf33f](https://github.com/sagemath/sagetrac-mirror/commit/1c7b6b08d1fbaab442dada829823f761dbcaf33f)\".",
    "created_at": "2019-06-20T15:00:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-428990",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[8b40cc1ef4bf20887f6178d729d397a36856e3c6](https://github.com/sagemath/sagetrac-mirror/commit/8b40cc1ef4bf20887f6178d729d397a36856e3c6)" to "[1c7b6b08d1fbaab442dada829823f761dbcaf33f](https://github.com/sagemath/sagetrac-mirror/commit/1c7b6b08d1fbaab442dada829823f761dbcaf33f)".



---

archive/issue_comments_428991.json:
```json
{
    "body": "**Changing branch** from \"[u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars)\" to \"[u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars)\".",
    "created_at": "2019-06-20T15:14:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-428991",
    "user": "https://github.com/MatthieuDien"
}
```

**Changing branch** from "[u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars)" to "[u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars)".



---

archive/issue_comments_428992.json:
```json
{
    "body": "**Changing branch** from \"[u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars)\" to \"[u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars)\".",
    "created_at": "2019-06-20T15:23:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-428992",
    "user": "https://github.com/Kerl13"
}
```

**Changing branch** from "[u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars)" to "[u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars)".



---

archive/issue_comments_428993.json:
```json
{
    "body": "**Changing branch** from \"[u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars)\" to \"[u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars)\".",
    "created_at": "2019-06-21T09:41:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-428993",
    "user": "https://github.com/MatthieuDien"
}
```

**Changing branch** from "[u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars)" to "[u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars)".



---

archive/issue_comments_428994.json:
```json
{
    "body": "**Changing branch** from \"[u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars)\" to \"[u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars)\".",
    "created_at": "2019-06-21T09:51:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-428994",
    "user": "https://github.com/Kerl13"
}
```

**Changing branch** from "[u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars)" to "[u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars)".



---

archive/issue_comments_428995.json:
```json
{
    "body": "<a id='comment:10'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1da6bd272d1a04878e9819b9845148962d0ca739\">1da6bd2</a></td><td><code>Boltzmann(Oracle): pep8 + fix doctests</code></td></tr></table>\n",
    "created_at": "2019-06-21T12:35:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-428995",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1da6bd272d1a04878e9819b9845148962d0ca739">1da6bd2</a></td><td><code>Boltzmann(Oracle): pep8 + fix doctests</code></td></tr></table>




---

archive/issue_comments_428996.json:
```json
{
    "body": "**Changing commit** from \"[1c7b6b08d1fbaab442dada829823f761dbcaf33f](https://github.com/sagemath/sagetrac-mirror/commit/1c7b6b08d1fbaab442dada829823f761dbcaf33f)\" to \"[1da6bd272d1a04878e9819b9845148962d0ca739](https://github.com/sagemath/sagetrac-mirror/commit/1da6bd272d1a04878e9819b9845148962d0ca739)\".",
    "created_at": "2019-06-21T12:35:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-428996",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[1c7b6b08d1fbaab442dada829823f761dbcaf33f](https://github.com/sagemath/sagetrac-mirror/commit/1c7b6b08d1fbaab442dada829823f761dbcaf33f)" to "[1da6bd272d1a04878e9819b9845148962d0ca739](https://github.com/sagemath/sagetrac-mirror/commit/1da6bd272d1a04878e9819b9845148962d0ca739)".



---

archive/issue_comments_428997.json:
```json
{
    "body": "**Changing commit** from \"[1da6bd272d1a04878e9819b9845148962d0ca739](https://github.com/sagemath/sagetrac-mirror/commit/1da6bd272d1a04878e9819b9845148962d0ca739)\" to \"[5303f2aab40b8353d758cfa4c7d795f4cb98bc29](https://github.com/sagemath/sagetrac-mirror/commit/5303f2aab40b8353d758cfa4c7d795f4cb98bc29)\".",
    "created_at": "2019-06-21T13:07:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-428997",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[1da6bd272d1a04878e9819b9845148962d0ca739](https://github.com/sagemath/sagetrac-mirror/commit/1da6bd272d1a04878e9819b9845148962d0ca739)" to "[5303f2aab40b8353d758cfa4c7d795f4cb98bc29](https://github.com/sagemath/sagetrac-mirror/commit/5303f2aab40b8353d758cfa4c7d795f4cb98bc29)".



---

archive/issue_comments_428998.json:
```json
{
    "body": "<a id='comment:11'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5303f2aab40b8353d758cfa4c7d795f4cb98bc29\">5303f2a</a></td><td><code>Boltzmann: fix import statements in doctests</code></td></tr></table>\n",
    "created_at": "2019-06-21T13:07:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-428998",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5303f2aab40b8353d758cfa4c7d795f4cb98bc29">5303f2a</a></td><td><code>Boltzmann: fix import statements in doctests</code></td></tr></table>




---

archive/issue_comments_428999.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,13 @@\n+The Boltzmann method is a framework whose describe how to build a uniform random generator for a family of discrete structures from a grammar describing  that family.\n \n+Our goal is to design a high-level and user-friendly API with :\n+* handling of grammars for monovariate/multivariate and unlabeled/labeled/increasingly labeled structures.\n+* use of the state of the art oracles (newton iteration, multiparametric tuning, etc)\n+* fast sampling of large structures (size 1e6 and more)\n+ \n+In this ticket we provide a implementation of the Boltzmann method introduced by Duchon, Flajolet, Louchard and Schaeffer (see [DuFlLoSc04](http://algo.inria.fr/flajolet/Publications/DuFlLoSc04.pdf)) with the following features :\n+* labeled and unlabeled classes defined with +, *, Seq and recursive definition\n+* an oracle dealing with explicit generating function\n+* an oracle based on the work of Darasse (see [his thesis](http://www.ortsa.com/lip6_these/docs/these.pdf)) : less accurate but more generic\n+* a fast Cython implementation of a generic generator\n+\n``````\n",
    "created_at": "2019-06-21T13:51:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-428999",
    "user": "https://github.com/MatthieuDien"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,13 @@
+The Boltzmann method is a framework whose describe how to build a uniform random generator for a family of discrete structures from a grammar describing  that family.
 
+Our goal is to design a high-level and user-friendly API with :
+* handling of grammars for monovariate/multivariate and unlabeled/labeled/increasingly labeled structures.
+* use of the state of the art oracles (newton iteration, multiparametric tuning, etc)
+* fast sampling of large structures (size 1e6 and more)
+ 
+In this ticket we provide a implementation of the Boltzmann method introduced by Duchon, Flajolet, Louchard and Schaeffer (see [DuFlLoSc04](http://algo.inria.fr/flajolet/Publications/DuFlLoSc04.pdf)) with the following features :
+* labeled and unlabeled classes defined with +, *, Seq and recursive definition
+* an oracle dealing with explicit generating function
+* an oracle based on the work of Darasse (see [his thesis](http://www.ortsa.com/lip6_these/docs/these.pdf)) : less accurate but more generic
+* a fast Cython implementation of a generic generator
+
``````




---

archive/issue_comments_429000.json:
```json
{
    "body": "**Changing author** from \"Martin P\u00e9pin\" to \"Martin P\u00e9pin, Matthieu Dien\".",
    "created_at": "2019-06-21T13:51:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429000",
    "user": "https://github.com/MatthieuDien"
}
```

**Changing author** from "Martin Pépin" to "Martin Pépin, Matthieu Dien".



---

archive/issue_comments_429001.json:
```json
{
    "body": "<a id='comment:12'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5303f2aab40b8353d758cfa4c7d795f4cb98bc29\">5303f2a</a></td><td><code>Boltzmann: fix import statements in doctests</code></td></tr></table>\n",
    "created_at": "2019-06-21T13:51:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429001",
    "user": "https://github.com/MatthieuDien"
}
```

<a id='comment:12'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5303f2aab40b8353d758cfa4c7d795f4cb98bc29">5303f2a</a></td><td><code>Boltzmann: fix import statements in doctests</code></td></tr></table>




---

archive/issue_comments_429002.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-The Boltzmann method is a framework whose describe how to build a uniform random generator for a family of discrete structures from a grammar describing  that family.\n+The Boltzmann method is a framework that describes how to build a uniform random generator for a family of discrete structures from a grammar describing  that family.\n \n Our goal is to design a high-level and user-friendly API with :\n * handling of grammars for monovariate/multivariate and unlabeled/labeled/increasingly labeled structures.\n``````\n",
    "created_at": "2019-06-21T13:59:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429002",
    "user": "https://github.com/Kerl13"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-The Boltzmann method is a framework whose describe how to build a uniform random generator for a family of discrete structures from a grammar describing  that family.
+The Boltzmann method is a framework that describes how to build a uniform random generator for a family of discrete structures from a grammar describing  that family.
 
 Our goal is to design a high-level and user-friendly API with :
 * handling of grammars for monovariate/multivariate and unlabeled/labeled/increasingly labeled structures.
``````




---

archive/issue_comments_429003.json:
```json
{
    "body": "**Changing commit** from \"[5303f2aab40b8353d758cfa4c7d795f4cb98bc29](https://github.com/sagemath/sagetrac-mirror/commit/5303f2aab40b8353d758cfa4c7d795f4cb98bc29)\" to \"[04ca7e6cc80948d97d5498f44edbf11985faa568](https://github.com/sagemath/sagetrac-mirror/commit/04ca7e6cc80948d97d5498f44edbf11985faa568)\".",
    "created_at": "2019-06-21T16:16:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429003",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[5303f2aab40b8353d758cfa4c7d795f4cb98bc29](https://github.com/sagemath/sagetrac-mirror/commit/5303f2aab40b8353d758cfa4c7d795f4cb98bc29)" to "[04ca7e6cc80948d97d5498f44edbf11985faa568](https://github.com/sagemath/sagetrac-mirror/commit/04ca7e6cc80948d97d5498f44edbf11985faa568)".



---

archive/issue_comments_429004.json:
```json
{
    "body": "<a id='comment:14'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b6487711e28b8d08be0e8323b50e25640a9f6350\">b648771</a></td><td><code>Fix various generator bugs</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/04ca7e6cc80948d97d5498f44edbf11985faa568\">04ca7e6</a></td><td><code>Boltzmann(Generator): towards labellings</code></td></tr></table>\n",
    "created_at": "2019-06-21T16:16:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429004",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b6487711e28b8d08be0e8323b50e25640a9f6350">b648771</a></td><td><code>Fix various generator bugs</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/04ca7e6cc80948d97d5498f44edbf11985faa568">04ca7e6</a></td><td><code>Boltzmann(Generator): towards labellings</code></td></tr></table>




---

archive/issue_comments_429005.json:
```json
{
    "body": "**Changing commit** from \"[04ca7e6cc80948d97d5498f44edbf11985faa568](https://github.com/sagemath/sagetrac-mirror/commit/04ca7e6cc80948d97d5498f44edbf11985faa568)\" to \"[a25d00c49046462d0994f81815c990b940a5fbd9](https://github.com/sagemath/sagetrac-mirror/commit/a25d00c49046462d0994f81815c990b940a5fbd9)\".",
    "created_at": "2019-06-22T13:16:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429005",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[04ca7e6cc80948d97d5498f44edbf11985faa568](https://github.com/sagemath/sagetrac-mirror/commit/04ca7e6cc80948d97d5498f44edbf11985faa568)" to "[a25d00c49046462d0994f81815c990b940a5fbd9](https://github.com/sagemath/sagetrac-mirror/commit/a25d00c49046462d0994f81815c990b940a5fbd9)".



---

archive/issue_comments_429006.json:
```json
{
    "body": "<a id='comment:15'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/71271d46236de0b83e2de0c1dfcd583b8c253847\">71271d4</a></td><td><code>Boltzmann: first implementation of labellings</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a25d00c49046462d0994f81815c990b940a5fbd9\">a25d00c</a></td><td><code>Boltzmann: clean the generator, labelling works</code></td></tr></table>\n",
    "created_at": "2019-06-22T13:16:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429006",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/71271d46236de0b83e2de0c1dfcd583b8c253847">71271d4</a></td><td><code>Boltzmann: first implementation of labellings</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a25d00c49046462d0994f81815c990b940a5fbd9">a25d00c</a></td><td><code>Boltzmann: clean the generator, labelling works</code></td></tr></table>




---

archive/issue_comments_429007.json:
```json
{
    "body": "<a id='comment:16'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b94b94ac59cb2d6f42b40479cad2bdc28935d399\">b94b94a</a></td><td><code>Boltzmann: default builders show the labels</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/70e9b928b657d24fffc70b459202fcc20b285567\">70e9b92</a></td><td><code>Boltzmann: shuffle the labels of an atom of size >1</code></td></tr></table>\n",
    "created_at": "2019-06-22T18:35:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429007",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b94b94ac59cb2d6f42b40479cad2bdc28935d399">b94b94a</a></td><td><code>Boltzmann: default builders show the labels</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/70e9b928b657d24fffc70b459202fcc20b285567">70e9b92</a></td><td><code>Boltzmann: shuffle the labels of an atom of size >1</code></td></tr></table>




---

archive/issue_comments_429008.json:
```json
{
    "body": "**Changing commit** from \"[a25d00c49046462d0994f81815c990b940a5fbd9](https://github.com/sagemath/sagetrac-mirror/commit/a25d00c49046462d0994f81815c990b940a5fbd9)\" to \"[70e9b928b657d24fffc70b459202fcc20b285567](https://github.com/sagemath/sagetrac-mirror/commit/70e9b928b657d24fffc70b459202fcc20b285567)\".",
    "created_at": "2019-06-22T18:35:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429008",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[a25d00c49046462d0994f81815c990b940a5fbd9](https://github.com/sagemath/sagetrac-mirror/commit/a25d00c49046462d0994f81815c990b940a5fbd9)" to "[70e9b928b657d24fffc70b459202fcc20b285567](https://github.com/sagemath/sagetrac-mirror/commit/70e9b928b657d24fffc70b459202fcc20b285567)".



---

archive/issue_comments_429009.json:
```json
{
    "body": "<a id='comment:17'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0a058e166b03299d01d63723f829d578781a2004\">0a058e1</a></td><td><code>Boltzmann: more tests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/db4b2a9829340a29f6ffcc062e630da719e42c1a\">db4b2a9</a></td><td><code>Boltzmann: various oracle fixes</code></td></tr></table>\n",
    "created_at": "2019-06-25T07:38:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429009",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0a058e166b03299d01d63723f829d578781a2004">0a058e1</a></td><td><code>Boltzmann: more tests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/db4b2a9829340a29f6ffcc062e630da719e42c1a">db4b2a9</a></td><td><code>Boltzmann: various oracle fixes</code></td></tr></table>




---

archive/issue_comments_429010.json:
```json
{
    "body": "**Changing commit** from \"[70e9b928b657d24fffc70b459202fcc20b285567](https://github.com/sagemath/sagetrac-mirror/commit/70e9b928b657d24fffc70b459202fcc20b285567)\" to \"[db4b2a9829340a29f6ffcc062e630da719e42c1a](https://github.com/sagemath/sagetrac-mirror/commit/db4b2a9829340a29f6ffcc062e630da719e42c1a)\".",
    "created_at": "2019-06-25T07:38:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429010",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[70e9b928b657d24fffc70b459202fcc20b285567](https://github.com/sagemath/sagetrac-mirror/commit/70e9b928b657d24fffc70b459202fcc20b285567)" to "[db4b2a9829340a29f6ffcc062e630da719e42c1a](https://github.com/sagemath/sagetrac-mirror/commit/db4b2a9829340a29f6ffcc062e630da719e42c1a)".



---

archive/issue_comments_429011.json:
```json
{
    "body": "**Changing branch** from \"[u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars)\" to \"[u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars)\".",
    "created_at": "2019-06-25T10:25:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429011",
    "user": "https://github.com/MatthieuDien"
}
```

**Changing branch** from "[u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars)" to "[u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars)".



---

archive/issue_comments_429012.json:
```json
{
    "body": "**Changing branch** from \"[u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars)\" to \"[u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars)\".",
    "created_at": "2019-06-25T10:26:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429012",
    "user": "https://github.com/Kerl13"
}
```

**Changing branch** from "[u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars)" to "[u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars)".



---

archive/issue_comments_429013.json:
```json
{
    "body": "<a id='comment:20'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2b13bfc02cd042e6fd22abb1602d445a5d9c3b50\">2b13bfc</a></td><td><code>Boltzmann: move the labelling information to the atoms</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b453c345a886c7549edaf181ea490e3f737b2ff2\">b453c34</a></td><td><code>Boltzmann: Grammar.atoms()</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d20b9dcd065a65fe8e02b24d31656ca365f7ef82\">d20b9dc</a></td><td><code>Boltzmann: implement multi-labellings</code></td></tr></table>\n",
    "created_at": "2019-06-27T09:16:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429013",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2b13bfc02cd042e6fd22abb1602d445a5d9c3b50">2b13bfc</a></td><td><code>Boltzmann: move the labelling information to the atoms</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b453c345a886c7549edaf181ea490e3f737b2ff2">b453c34</a></td><td><code>Boltzmann: Grammar.atoms()</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d20b9dcd065a65fe8e02b24d31656ca365f7ef82">d20b9dc</a></td><td><code>Boltzmann: implement multi-labellings</code></td></tr></table>




---

archive/issue_comments_429014.json:
```json
{
    "body": "**Changing commit** from \"[db4b2a9829340a29f6ffcc062e630da719e42c1a](https://github.com/sagemath/sagetrac-mirror/commit/db4b2a9829340a29f6ffcc062e630da719e42c1a)\" to \"[d20b9dcd065a65fe8e02b24d31656ca365f7ef82](https://github.com/sagemath/sagetrac-mirror/commit/d20b9dcd065a65fe8e02b24d31656ca365f7ef82)\".",
    "created_at": "2019-06-27T09:16:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429014",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[db4b2a9829340a29f6ffcc062e630da719e42c1a](https://github.com/sagemath/sagetrac-mirror/commit/db4b2a9829340a29f6ffcc062e630da719e42c1a)" to "[d20b9dcd065a65fe8e02b24d31656ca365f7ef82](https://github.com/sagemath/sagetrac-mirror/commit/d20b9dcd065a65fe8e02b24d31656ca365f7ef82)".



---

archive/issue_comments_429015.json:
```json
{
    "body": "**Changing commit** from \"[d20b9dcd065a65fe8e02b24d31656ca365f7ef82](https://github.com/sagemath/sagetrac-mirror/commit/d20b9dcd065a65fe8e02b24d31656ca365f7ef82)\" to \"[a92c66bc7af6275d0429dad705c0b1ba9479fc30](https://github.com/sagemath/sagetrac-mirror/commit/a92c66bc7af6275d0429dad705c0b1ba9479fc30)\".",
    "created_at": "2019-06-28T10:27:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429015",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[d20b9dcd065a65fe8e02b24d31656ca365f7ef82](https://github.com/sagemath/sagetrac-mirror/commit/d20b9dcd065a65fe8e02b24d31656ca365f7ef82)" to "[a92c66bc7af6275d0429dad705c0b1ba9479fc30](https://github.com/sagemath/sagetrac-mirror/commit/a92c66bc7af6275d0429dad705c0b1ba9479fc30)".



---

archive/issue_comments_429016.json:
```json
{
    "body": "<a id='comment:21'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a92c66bc7af6275d0429dad705c0b1ba9479fc30\">a92c66b</a></td><td><code>Boltzmann: more docs + doc fixes</code></td></tr></table>\n",
    "created_at": "2019-06-28T10:27:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429016",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a92c66bc7af6275d0429dad705c0b1ba9479fc30">a92c66b</a></td><td><code>Boltzmann: more docs + doc fixes</code></td></tr></table>




---

archive/issue_comments_429017.json:
```json
{
    "body": "<a id='comment:22'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f42a856f3944f6e4be007e1dffce8064c76ec0c0\">f42a856</a></td><td><code>Boltzmann: TODO list</code></td></tr></table>\n",
    "created_at": "2019-07-05T09:43:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429017",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f42a856f3944f6e4be007e1dffce8064c76ec0c0">f42a856</a></td><td><code>Boltzmann: TODO list</code></td></tr></table>




---

archive/issue_comments_429018.json:
```json
{
    "body": "**Changing commit** from \"[a92c66bc7af6275d0429dad705c0b1ba9479fc30](https://github.com/sagemath/sagetrac-mirror/commit/a92c66bc7af6275d0429dad705c0b1ba9479fc30)\" to \"[f42a856f3944f6e4be007e1dffce8064c76ec0c0](https://github.com/sagemath/sagetrac-mirror/commit/f42a856f3944f6e4be007e1dffce8064c76ec0c0)\".",
    "created_at": "2019-07-05T09:43:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429018",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[a92c66bc7af6275d0429dad705c0b1ba9479fc30](https://github.com/sagemath/sagetrac-mirror/commit/a92c66bc7af6275d0429dad705c0b1ba9479fc30)" to "[f42a856f3944f6e4be007e1dffce8064c76ec0c0](https://github.com/sagemath/sagetrac-mirror/commit/f42a856f3944f6e4be007e1dffce8064c76ec0c0)".



---

archive/issue_comments_429019.json:
```json
{
    "body": "**Changing branch** from \"[u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars)\" to \"[u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars)\".",
    "created_at": "2019-07-14T23:42:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429019",
    "user": "https://github.com/MatthieuDien"
}
```

**Changing branch** from "[u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars)" to "[u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars)".



---

archive/issue_comments_429020.json:
```json
{
    "body": "<a id='comment:24'></a>\nPlease have a look at the patchbot warnings (click on the color round icon on top of the page) and in particular the plugins results.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b55d49329917d252b55bb6880ec2441f5073b8aa\">b55d493</a></td><td><code>moving the todo list in \"our\" directory</code></td></tr></table>\n",
    "created_at": "2019-07-15T06:37:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429020",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:24'></a>
Please have a look at the patchbot warnings (click on the color round icon on top of the page) and in particular the plugins results.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b55d49329917d252b55bb6880ec2441f5073b8aa">b55d493</a></td><td><code>moving the todo list in "our" directory</code></td></tr></table>




---

archive/issue_comments_429021.json:
```json
{
    "body": "**Changing commit** from \"[f42a856f3944f6e4be007e1dffce8064c76ec0c0](https://github.com/sagemath/sagetrac-mirror/commit/f42a856f3944f6e4be007e1dffce8064c76ec0c0)\" to \"[b55d49329917d252b55bb6880ec2441f5073b8aa](https://github.com/sagemath/sagetrac-mirror/commit/b55d49329917d252b55bb6880ec2441f5073b8aa)\".",
    "created_at": "2019-07-15T06:37:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429021",
    "user": "https://github.com/fchapoton"
}
```

**Changing commit** from "[f42a856f3944f6e4be007e1dffce8064c76ec0c0](https://github.com/sagemath/sagetrac-mirror/commit/f42a856f3944f6e4be007e1dffce8064c76ec0c0)" to "[b55d49329917d252b55bb6880ec2441f5073b8aa](https://github.com/sagemath/sagetrac-mirror/commit/b55d49329917d252b55bb6880ec2441f5073b8aa)".



---

archive/issue_comments_429022.json:
```json
{
    "body": "<a id='comment:27'></a>\nHi Martin!\n\nthe species implementation is currently undergoing the long awaited overhaul.  Travis and I have just finished a lazy series implementation, which is much more robust than what we had previously.  Ticket #32367 replaces the old (and somewhat unreliable) LazyPowerSeries with our new one.\n\nDo you think we should try to see whether a uniform user interface for defining a grammar is possible?",
    "created_at": "2022-09-08T18:35:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429022",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:27'></a>
Hi Martin!

the species implementation is currently undergoing the long awaited overhaul.  Travis and I have just finished a lazy series implementation, which is much more robust than what we had previously.  Ticket #32367 replaces the old (and somewhat unreliable) LazyPowerSeries with our new one.

Do you think we should try to see whether a uniform user interface for defining a grammar is possible?



---

archive/issue_comments_429023.json:
```json
{
    "body": "<a id='comment:28'></a>\nReplying to [Martin Rubey](#comment%3A27):\n> Hi Martin!\n> \n> the species implementation is currently undergoing the long awaited overhaul.  Travis and I have just finished a lazy series implementation, which is much more robust than what we had previously.  Ticket #32367 replaces the old (and somewhat unreliable) LazyPowerSeries with our new one.\n> \n> Do you think we should try to see whether a uniform user interface for defining a grammar is possible?\n\n\nHi all ! To be transparent, we had an informal discussion this afternoon with Martin P\u00e9pin about that same issue !\n\nIf you remember, a long time ago (before covid), i proposed to have a general meeting of all people interested in making a plan for the whole analytic combinatorics stuff in Sage (species, ore algebras, (multi-variate, lazy, etc) power series, Bolzmann samplers, singularity analysis, asymptotic expansions, etc). Most people answered positively but wanted to postpone the date, unfortunately the delays were too short as the grant was ending. Maybe, we could revive the idea. What do you think ?",
    "created_at": "2022-09-08T19:14:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429023",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:28'></a>
Replying to [Martin Rubey](#comment%3A27):
> Hi Martin!
> 
> the species implementation is currently undergoing the long awaited overhaul.  Travis and I have just finished a lazy series implementation, which is much more robust than what we had previously.  Ticket #32367 replaces the old (and somewhat unreliable) LazyPowerSeries with our new one.
> 
> Do you think we should try to see whether a uniform user interface for defining a grammar is possible?


Hi all ! To be transparent, we had an informal discussion this afternoon with Martin Pépin about that same issue !

If you remember, a long time ago (before covid), i proposed to have a general meeting of all people interested in making a plan for the whole analytic combinatorics stuff in Sage (species, ore algebras, (multi-variate, lazy, etc) power series, Bolzmann samplers, singularity analysis, asymptotic expansions, etc). Most people answered positively but wanted to postpone the date, unfortunately the delays were too short as the grant was ending. Maybe, we could revive the idea. What do you think ?



---

archive/issue_comments_429024.json:
```json
{
    "body": "<a id='comment:29'></a>\nI am all for it!  I have no teaching in February.  Until then, zoom and email is fine for me!",
    "created_at": "2022-09-08T19:19:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429024",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:29'></a>
I am all for it!  I have no teaching in February.  Until then, zoom and email is fine for me!



---

archive/issue_comments_429025.json:
```json
{
    "body": "<a id='comment:30'></a>\nHi!\n\nFirst an important note: Matthieu and I (temporarily) moved away from this ticket about 3 years ago as we decided to implement a standalone python library [available here (usainboltz)](https://gitlab.com/ParComb/usain-boltz). This means that the branch tied to this ticket is obsolete and should not be used.\n\nThat being said:\n\n1. It doesn't prevent us from adding usainboltz to sage! Adding it as an optional package seems right to me (is it?)\n\n2. I agree with you that having a uniform user interface for defining grammars would be great. And the species, if they work, seem to be a very good candidate to me. I'd love to see some nice integration with usainboltz (and other existing tools) so that sampling objects described by a species becomes as simple as:\n\n```python\n>>> sampler = my_specy.get_boltzmann_sampler()\n>>> sampler(size_in=[1000, 2000])\n<some big object>\n```\n\nI'm all in to work on this as well!",
    "created_at": "2022-09-09T12:18:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429025",
    "user": "https://github.com/Kerl13"
}
```

<a id='comment:30'></a>
Hi!

First an important note: Matthieu and I (temporarily) moved away from this ticket about 3 years ago as we decided to implement a standalone python library [available here (usainboltz)](https://gitlab.com/ParComb/usain-boltz). This means that the branch tied to this ticket is obsolete and should not be used.

That being said:

1. It doesn't prevent us from adding usainboltz to sage! Adding it as an optional package seems right to me (is it?)

2. I agree with you that having a uniform user interface for defining grammars would be great. And the species, if they work, seem to be a very good candidate to me. I'd love to see some nice integration with usainboltz (and other existing tools) so that sampling objects described by a species becomes as simple as:

```python
>>> sampler = my_specy.get_boltzmann_sampler()
>>> sampler(size_in=[1000, 2000])
<some big object>
```

I'm all in to work on this as well!



---

archive/issue_comments_429026.json:
```json
{
    "body": "**Changing commit** from \"[b55d49329917d252b55bb6880ec2441f5073b8aa](https://github.com/sagemath/sagetrac-mirror/commit/b55d49329917d252b55bb6880ec2441f5073b8aa)\" to \"[08202bc1ba7caea46327908db8e3715d1adf6f9a](https://github.com/sagemath/sagetrac-mirror/commit/08202bc1ba7caea46327908db8e3715d1adf6f9a)\".",
    "created_at": "2022-09-12T08:02:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429026",
    "user": "https://github.com/Kerl13"
}
```

**Changing commit** from "[b55d49329917d252b55bb6880ec2441f5073b8aa](https://github.com/sagemath/sagetrac-mirror/commit/b55d49329917d252b55bb6880ec2441f5073b8aa)" to "[08202bc1ba7caea46327908db8e3715d1adf6f9a](https://github.com/sagemath/sagetrac-mirror/commit/08202bc1ba7caea46327908db8e3715d1adf6f9a)".



---

archive/issue_comments_429027.json:
```json
{
    "body": "**Changing branch** from \"[u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars)\" to \"[u/MartinPepin/usainboltz](https://github.com/sagemath/sagetrac-mirror/tree/u/MartinPepin/usainboltz)\".",
    "created_at": "2022-09-12T08:02:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429027",
    "user": "https://github.com/Kerl13"
}
```

**Changing branch** from "[u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars)" to "[u/MartinPepin/usainboltz](https://github.com/sagemath/sagetrac-mirror/tree/u/MartinPepin/usainboltz)".



---

archive/issue_comments_429028.json:
```json
{
    "body": "**Changing commit** from \"[08202bc1ba7caea46327908db8e3715d1adf6f9a](https://github.com/sagemath/sagetrac-mirror/commit/08202bc1ba7caea46327908db8e3715d1adf6f9a)\" to \"[e72b3a7c80281fb6eb4a701ae36e4d085bb92010](https://github.com/sagemath/sagetrac-mirror/commit/e72b3a7c80281fb6eb4a701ae36e4d085bb92010)\".",
    "created_at": "2022-09-13T18:28:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429028",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[08202bc1ba7caea46327908db8e3715d1adf6f9a](https://github.com/sagemath/sagetrac-mirror/commit/08202bc1ba7caea46327908db8e3715d1adf6f9a)" to "[e72b3a7c80281fb6eb4a701ae36e4d085bb92010](https://github.com/sagemath/sagetrac-mirror/commit/e72b3a7c80281fb6eb4a701ae36e4d085bb92010)".



---

archive/issue_comments_429029.json:
```json
{
    "body": "<a id='comment:32'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e72b3a7c80281fb6eb4a701ae36e4d085bb92010\">e72b3a7</a></td><td><code>Add usainboltz as an optional package</code></td></tr></table>\n",
    "created_at": "2022-09-13T18:28:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429029",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:32'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e72b3a7c80281fb6eb4a701ae36e4d085bb92010">e72b3a7</a></td><td><code>Add usainboltz as an optional package</code></td></tr></table>




---

archive/issue_comments_429030.json:
```json
{
    "body": "<a id='comment:33'></a>\nI added usainboltz as a pip package following https://doc.sagemath.org/html/en/developer/packaging.html#python-based-packages.\n\nBut something must be wrong with what I did, I can't install usainboltz using `sage -i`:\n\n```\n$ ./sage -i usainboltz\n[ a log of log about sage checking if it needs to rebuild stuff ]\nError: package 'usainboltz' not found\nNote: if it is an old-style package, installing these is no longer supported\n```\n\nNote that `./sage --optional` and `./sage --info usainboltz` both see usainboltz. I might need a bit of help to understand what is happening.",
    "created_at": "2022-09-13T18:40:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429030",
    "user": "https://github.com/Kerl13"
}
```

<a id='comment:33'></a>
I added usainboltz as a pip package following https://doc.sagemath.org/html/en/developer/packaging.html#python-based-packages.

But something must be wrong with what I did, I can't install usainboltz using `sage -i`:

```
$ ./sage -i usainboltz
[ a log of log about sage checking if it needs to rebuild stuff ]
Error: package 'usainboltz' not found
Note: if it is an old-style package, installing these is no longer supported
```

Note that `./sage --optional` and `./sage --info usainboltz` both see usainboltz. I might need a bit of help to understand what is happening.



---

archive/issue_comments_429031.json:
```json
{
    "body": "<a id='comment:34'></a>\nIt worked well for me, i could successfully execute `binarytrees.ipynb`.",
    "created_at": "2022-09-13T19:05:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429031",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:34'></a>
It worked well for me, i could successfully execute `binarytrees.ipynb`.



---

archive/issue_comments_429032.json:
```json
{
    "body": "<a id='comment:35'></a>\nI would replace `boltzmann` with `Boltzmann` in the title but apart from that, it looks good to me.",
    "created_at": "2022-09-13T19:07:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429032",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:35'></a>
I would replace `boltzmann` with `Boltzmann` in the title but apart from that, it looks good to me.



---

archive/issue_comments_429033.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,13 +1,5 @@\n-The Boltzmann method is a framework that describes how to build a uniform random generator for a family of discrete structures from a grammar describing  that family.\n+Usain Boltz is a !Python/Cython/C++ library that automates the random generation of tree-like structures.\n+It allows to describe a combinatorial structure using a specification in the style of \u201cAnalytic Combinatorics\u201d and, using the Boltzmann sampling framework, it produces a fast, uniform, and approximate size sampler of objects described by this specification.\n \n-Our goal is to design a high-level and user-friendly API with :\n-* handling of grammars for monovariate/multivariate and unlabeled/labeled/increasingly labeled structures.\n-* use of the state of the art oracles (newton iteration, multiparametric tuning, etc)\n-* fast sampling of large structures (size 1e6 and more)\n- \n-In this ticket we provide a implementation of the Boltzmann method introduced by Duchon, Flajolet, Louchard and Schaeffer (see [DuFlLoSc04](http://algo.inria.fr/flajolet/Publications/DuFlLoSc04.pdf)) with the following features :\n-* labeled and unlabeled classes defined with +, *, Seq and recursive definition\n-* an oracle dealing with explicit generating function\n-* an oracle based on the work of Darasse (see [his thesis](http://www.ortsa.com/lip6_these/docs/these.pdf)) : less accurate but more generic\n-* a fast Cython implementation of a generic generator\n+https://gitlab.com/ParComb/usain-boltz\n \n``````\n",
    "created_at": "2022-09-13T19:12:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429033",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,13 +1,5 @@
-The Boltzmann method is a framework that describes how to build a uniform random generator for a family of discrete structures from a grammar describing  that family.
+Usain Boltz is a !Python/Cython/C++ library that automates the random generation of tree-like structures.
+It allows to describe a combinatorial structure using a specification in the style of “Analytic Combinatorics” and, using the Boltzmann sampling framework, it produces a fast, uniform, and approximate size sampler of objects described by this specification.
 
-Our goal is to design a high-level and user-friendly API with :
-* handling of grammars for monovariate/multivariate and unlabeled/labeled/increasingly labeled structures.
-* use of the state of the art oracles (newton iteration, multiparametric tuning, etc)
-* fast sampling of large structures (size 1e6 and more)
- 
-In this ticket we provide a implementation of the Boltzmann method introduced by Duchon, Flajolet, Louchard and Schaeffer (see [DuFlLoSc04](http://algo.inria.fr/flajolet/Publications/DuFlLoSc04.pdf)) with the following features :
-* labeled and unlabeled classes defined with +, *, Seq and recursive definition
-* an oracle dealing with explicit generating function
-* an oracle based on the work of Darasse (see [his thesis](http://www.ortsa.com/lip6_these/docs/these.pdf)) : less accurate but more generic
-* a fast Cython implementation of a generic generator
+https://gitlab.com/ParComb/usain-boltz
 
``````




---

archive/issue_events_243056.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/tmonteil",
    "created_at": "2022-09-13T19:12:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27526#event-243056"
}
```



---

archive/issue_events_243057.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/tmonteil",
    "created_at": "2022-09-13T19:12:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "label": "component: combinatorics",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27526#event-243057"
}
```



---

archive/issue_events_243058.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/tmonteil",
    "created_at": "2022-09-13T19:12:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "label": "component: packages: optional",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27526#event-243058"
}
```



---

archive/issue_events_243059.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/tmonteil",
    "created_at": "2022-09-13T19:12:47Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "rename": {
        "from": "Boltzmann samplers for combinatorial grammars",
        "to": "Usainboltz package: fast Boltzmann random generation of tree-like structures"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27526#event-243059"
}
```



---

archive/issue_comments_429034.json:
```json
{
    "body": "<a id='comment:37'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b2d1bdebca2ff6e306fd1eff20d3c47597c3f138\">b2d1bde</a></td><td><code>Capitalise `Botlzmann' in usainboltz's description</code></td></tr></table>\n",
    "created_at": "2022-09-13T19:59:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429034",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:37'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b2d1bdebca2ff6e306fd1eff20d3c47597c3f138">b2d1bde</a></td><td><code>Capitalise `Botlzmann' in usainboltz's description</code></td></tr></table>




---

archive/issue_comments_429035.json:
```json
{
    "body": "**Changing commit** from \"[e72b3a7c80281fb6eb4a701ae36e4d085bb92010](https://github.com/sagemath/sagetrac-mirror/commit/e72b3a7c80281fb6eb4a701ae36e4d085bb92010)\" to \"[b2d1bdebca2ff6e306fd1eff20d3c47597c3f138](https://github.com/sagemath/sagetrac-mirror/commit/b2d1bdebca2ff6e306fd1eff20d3c47597c3f138)\".",
    "created_at": "2022-09-13T19:59:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429035",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[e72b3a7c80281fb6eb4a701ae36e4d085bb92010](https://github.com/sagemath/sagetrac-mirror/commit/e72b3a7c80281fb6eb4a701ae36e4d085bb92010)" to "[b2d1bdebca2ff6e306fd1eff20d3c47597c3f138](https://github.com/sagemath/sagetrac-mirror/commit/b2d1bdebca2ff6e306fd1eff20d3c47597c3f138)".



---

archive/issue_comments_429036.json:
```json
{
    "body": "<a id='comment:38'></a>\n\n```\n+Usainboltz: fast Boltzmann random generation of tree-like structures\n+====================================================================\n```\nthis line should start with lowercase",
    "created_at": "2022-09-13T20:34:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429036",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:38'></a>

```
+Usainboltz: fast Boltzmann random generation of tree-like structures
+====================================================================
```
this line should start with lowercase



---

archive/issue_comments_429037.json:
```json
{
    "body": "**Changing commit** from \"[b2d1bdebca2ff6e306fd1eff20d3c47597c3f138](https://github.com/sagemath/sagetrac-mirror/commit/b2d1bdebca2ff6e306fd1eff20d3c47597c3f138)\" to \"[5f09d11610026855b87fb93010e42f0fee3bf820](https://github.com/sagemath/sagetrac-mirror/commit/5f09d11610026855b87fb93010e42f0fee3bf820)\".",
    "created_at": "2022-09-13T20:44:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429037",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[b2d1bdebca2ff6e306fd1eff20d3c47597c3f138](https://github.com/sagemath/sagetrac-mirror/commit/b2d1bdebca2ff6e306fd1eff20d3c47597c3f138)" to "[5f09d11610026855b87fb93010e42f0fee3bf820](https://github.com/sagemath/sagetrac-mirror/commit/5f09d11610026855b87fb93010e42f0fee3bf820)".



---

archive/issue_comments_429038.json:
```json
{
    "body": "<a id='comment:39'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5f09d11610026855b87fb93010e42f0fee3bf820\">5f09d11</a></td><td><code>Lowercase the package name in usainboltz's SPKG.rst</code></td></tr></table>\n",
    "created_at": "2022-09-13T20:44:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429038",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:39'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5f09d11610026855b87fb93010e42f0fee3bf820">5f09d11</a></td><td><code>Lowercase the package name in usainboltz's SPKG.rst</code></td></tr></table>




---

archive/issue_comments_429039.json:
```json
{
    "body": "**Reviewer:** Thierry Monteil",
    "created_at": "2022-09-13T20:57:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429039",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

**Reviewer:** Thierry Monteil



---

archive/issue_comments_429040.json:
```json
{
    "body": "<a id='comment:40'></a>\nOnce you are happy with your changes, you can set the \"Action\" to \"needs review\".",
    "created_at": "2022-09-13T20:57:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429040",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:40'></a>
Once you are happy with your changes, you can set the "Action" to "needs review".



---

archive/issue_comments_429041.json:
```json
{
    "body": "<a id='comment:41'></a>\nReplying to [Thierry Monteil](#comment%3A40):\n> Once you are happy with your changes, you can set the \"Action\" to \"needs review\".\n\n\nOh right, thanks for recalling me the usual workflow, I'm not used to it yet ^^\n\nI'm a bit frustrated that I could not test it. I started a new `make build` which seems to want to recompile some stuff. I'll try to test again tomorrow when it's done and update the Action field afterward",
    "created_at": "2022-09-13T21:08:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429041",
    "user": "https://github.com/Kerl13"
}
```

<a id='comment:41'></a>
Replying to [Thierry Monteil](#comment%3A40):
> Once you are happy with your changes, you can set the "Action" to "needs review".


Oh right, thanks for recalling me the usual workflow, I'm not used to it yet ^^

I'm a bit frustrated that I could not test it. I started a new `make build` which seems to want to recompile some stuff. I'll try to test again tomorrow when it's done and update the Action field afterward



---

archive/issue_comments_429042.json:
```json
{
    "body": "<a id='comment:42'></a>\nReplying to [Thierry Monteil](#comment%3A34):\n> It worked well for me, i could successfully execute `binarytrees.ipynb`.\n\n\nI still don't manage to `sage -i usainboltz` (even on a fresh clone after having built sage with `make build`) it seems that usainboltz should appear in the output of `make list` but it doesn't. Rebuilding `build/make/Makefile` doesn't help either.",
    "created_at": "2022-09-14T12:50:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429042",
    "user": "https://github.com/Kerl13"
}
```

<a id='comment:42'></a>
Replying to [Thierry Monteil](#comment%3A34):
> It worked well for me, i could successfully execute `binarytrees.ipynb`.


I still don't manage to `sage -i usainboltz` (even on a fresh clone after having built sage with `make build`) it seems that usainboltz should appear in the output of `make list` but it doesn't. Rebuilding `build/make/Makefile` doesn't help either.



---

archive/issue_comments_429043.json:
```json
{
    "body": "<a id='comment:43'></a>\nOk now it works! Sorry for the noise, there had been a problem at `make configure` that I didn't spot when I built sage",
    "created_at": "2022-09-14T14:14:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429043",
    "user": "https://github.com/Kerl13"
}
```

<a id='comment:43'></a>
Ok now it works! Sorry for the noise, there had been a problem at `make configure` that I didn't spot when I built sage



---

archive/issue_events_243060.json:
```json
{
    "actor": "https://github.com/Kerl13",
    "created_at": "2022-09-14T14:14:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27526#event-243060"
}
```



---

archive/issue_comments_429044.json:
```json
{
    "body": "<a id='comment:45'></a>\n\n```\n+++ b/build/pkgs/usainboltz/dependencies\n@@ -0,0 +1,4 @@\n+$(PYTHON) cython | $(PYTHON_TOOLCHAIN)\n```\nIt's better to put `cython` after the `|`, to make it an order-only dependency",
    "created_at": "2022-09-14T14:53:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429044",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:45'></a>

```
+++ b/build/pkgs/usainboltz/dependencies
@@ -0,0 +1,4 @@
+$(PYTHON) cython | $(PYTHON_TOOLCHAIN)
```
It's better to put `cython` after the `|`, to make it an order-only dependency



---

archive/issue_comments_429045.json:
```json
{
    "body": "<a id='comment:46'></a>\nOn macOS (with clang)\n\n```\n[usainboltz]       gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -iwithsysroot/System/Library/Frameworks/System.framework/PrivateHeaders -iwithsysroot/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.8/Headers -Werror=implicit-function-declaration -Isrc/xoshiro -Isrc/usainboltz -I/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/local/var/lib/sage/venv-python3.8/include -I/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.8/Headers -c src/usainboltz/cpp_simulator.cpp -o build/temp.macosx-10.14-x86_64-cpython-38/src/usainboltz/cpp_simulator.o\n[usainboltz]       In file included from src/usainboltz/cpp_simulator.cpp:7:\n[usainboltz]       src/usainboltz/cpp_simulator.hpp:45:7: error: union member '_as_product' has a non-trivial copy constructor\n[usainboltz]           } _as_product;\n[usainboltz]             ^\n[usainboltz]       src/usainboltz/cpp_simulator.hpp:44:28: note: because field of type 'std::vector<CRule *>' has a user-provided copy constructor\n[usainboltz]             std::vector<CRule *> args;\n[usainboltz]                                  ^\n[usainboltz]       /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1/vector:581:5: note: declared here\n[usainboltz]           vector(const vector& __x);\n[usainboltz]           ^\n[usainboltz]       In file included from src/usainboltz/cpp_simulator.cpp:7:\n[usainboltz]       src/usainboltz/cpp_simulator.hpp:50:37: error: a space is required between consecutive right angle brackets (use '> >')\n[usainboltz]             std::vector<std::vector<double>> weights;\n[usainboltz]                                           ^~\n[usainboltz]                                           > >\n```",
    "created_at": "2022-09-14T14:59:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429045",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:46'></a>
On macOS (with clang)

```
[usainboltz]       gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -iwithsysroot/System/Library/Frameworks/System.framework/PrivateHeaders -iwithsysroot/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.8/Headers -Werror=implicit-function-declaration -Isrc/xoshiro -Isrc/usainboltz -I/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/local/var/lib/sage/venv-python3.8/include -I/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.8/Headers -c src/usainboltz/cpp_simulator.cpp -o build/temp.macosx-10.14-x86_64-cpython-38/src/usainboltz/cpp_simulator.o
[usainboltz]       In file included from src/usainboltz/cpp_simulator.cpp:7:
[usainboltz]       src/usainboltz/cpp_simulator.hpp:45:7: error: union member '_as_product' has a non-trivial copy constructor
[usainboltz]           } _as_product;
[usainboltz]             ^
[usainboltz]       src/usainboltz/cpp_simulator.hpp:44:28: note: because field of type 'std::vector<CRule *>' has a user-provided copy constructor
[usainboltz]             std::vector<CRule *> args;
[usainboltz]                                  ^
[usainboltz]       /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1/vector:581:5: note: declared here
[usainboltz]           vector(const vector& __x);
[usainboltz]           ^
[usainboltz]       In file included from src/usainboltz/cpp_simulator.cpp:7:
[usainboltz]       src/usainboltz/cpp_simulator.hpp:50:37: error: a space is required between consecutive right angle brackets (use '> >')
[usainboltz]             std::vector<std::vector<double>> weights;
[usainboltz]                                           ^~
[usainboltz]                                           > >
```



---

archive/issue_comments_429046.json:
```json
{
    "body": "<a id='comment:47'></a>\nI see that `cvxpy` is a dependency of this package. You may be interested in #34251, which adds it as an SPKG",
    "created_at": "2022-09-14T15:01:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429046",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:47'></a>
I see that `cvxpy` is a dependency of this package. You may be interested in #34251, which adds it as an SPKG



---

archive/issue_comments_429047.json:
```json
{
    "body": "<a id='comment:48'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b00b0653620e890379363a23b3ec056be0ac9578\">b00b065</a></td><td><code>usainboltz: make cython an order-only dependency</code></td></tr></table>\n",
    "created_at": "2022-09-14T15:06:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429047",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:48'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b00b0653620e890379363a23b3ec056be0ac9578">b00b065</a></td><td><code>usainboltz: make cython an order-only dependency</code></td></tr></table>




---

archive/issue_comments_429048.json:
```json
{
    "body": "**Changing commit** from \"[5f09d11610026855b87fb93010e42f0fee3bf820](https://github.com/sagemath/sagetrac-mirror/commit/5f09d11610026855b87fb93010e42f0fee3bf820)\" to \"[b00b0653620e890379363a23b3ec056be0ac9578](https://github.com/sagemath/sagetrac-mirror/commit/b00b0653620e890379363a23b3ec056be0ac9578)\".",
    "created_at": "2022-09-14T15:06:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429048",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[5f09d11610026855b87fb93010e42f0fee3bf820](https://github.com/sagemath/sagetrac-mirror/commit/5f09d11610026855b87fb93010e42f0fee3bf820)" to "[b00b0653620e890379363a23b3ec056be0ac9578](https://github.com/sagemath/sagetrac-mirror/commit/b00b0653620e890379363a23b3ec056be0ac9578)".



---

archive/issue_comments_429049.json:
```json
{
    "body": "<a id='comment:49'></a>\n> It's better to put `cython` after the `|`, to make it an order-only dependency\n\n\nGood point, sorry I missed that",
    "created_at": "2022-09-14T15:07:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429049",
    "user": "https://github.com/Kerl13"
}
```

<a id='comment:49'></a>
> It's better to put `cython` after the `|`, to make it an order-only dependency


Good point, sorry I missed that



---

archive/issue_comments_429050.json:
```json
{
    "body": "<a id='comment:50'></a>\nReplying to [Matthias K\u00f6ppe](#comment%3A46):\n> On macOS (with clang)\n> \n> ```\n> [usainboltz]       src/usainboltz/cpp_simulator.hpp:50:37: error: a space is required between consecutive right angle brackets (use '> >')\n> [usainboltz]             std::vector<std::vector<double>> weights;\n> [usainboltz]                                           ^~\n> ```\n\n\nI was not aware of that issue, thanks for reporting, I'll add clang to usainboltz' CI",
    "created_at": "2022-09-14T15:18:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429050",
    "user": "https://github.com/Kerl13"
}
```

<a id='comment:50'></a>
Replying to [Matthias Köppe](#comment%3A46):
> On macOS (with clang)
> 
> ```
> [usainboltz]       src/usainboltz/cpp_simulator.hpp:50:37: error: a space is required between consecutive right angle brackets (use '> >')
> [usainboltz]             std::vector<std::vector<double>> weights;
> [usainboltz]                                           ^~
> ```


I was not aware of that issue, thanks for reporting, I'll add clang to usainboltz' CI



---

archive/issue_comments_429051.json:
```json
{
    "body": "<a id='comment:51'></a>\nProbably needs `-std=c++11` or something like this",
    "created_at": "2022-09-14T15:25:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429051",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:51'></a>
Probably needs `-std=c++11` or something like this



---

archive/issue_comments_429052.json:
```json
{
    "body": "<a id='comment:52'></a>\nReplying to [Matthias K\u00f6ppe](#comment%3A47):\n> I see that `cvxpy` is a dependency of this package. You may be interested in #34251, which adds it as an SPKG\n\n\nYes it is indeed interesting. How do I benefit from this?\nWill sage's pip use the optional `cvxpy` package if I add it as a dependency? Or do I need to switch to the `normal` package format for usainboltz`? I'll be happy to do so if it's considered better.\n\nBtw, Thierry told me a few days ago that our (only \u201creal\u201d dependency `paganini` might be of interest for sage as well. Another good reason to package everything as `normal`?",
    "created_at": "2022-09-14T15:31:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429052",
    "user": "https://github.com/Kerl13"
}
```

<a id='comment:52'></a>
Replying to [Matthias Köppe](#comment%3A47):
> I see that `cvxpy` is a dependency of this package. You may be interested in #34251, which adds it as an SPKG


Yes it is indeed interesting. How do I benefit from this?
Will sage's pip use the optional `cvxpy` package if I add it as a dependency? Or do I need to switch to the `normal` package format for usainboltz`? I'll be happy to do so if it's considered better.

Btw, Thierry told me a few days ago that our (only “real” dependency `paganini` might be of interest for sage as well. Another good reason to package everything as `normal`?



---

archive/issue_comments_429053.json:
```json
{
    "body": "<a id='comment:53'></a>\nReplying to [Matthias K\u00f6ppe](#comment%3A51):\n> Probably needs `-std=c++11` or something like this\n\n\nI'll check that but I think I prefer to follow the error message's suggestion if it makes the library compatible with more compilers / compiler versions",
    "created_at": "2022-09-14T15:33:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429053",
    "user": "https://github.com/Kerl13"
}
```

<a id='comment:53'></a>
Replying to [Matthias Köppe](#comment%3A51):
> Probably needs `-std=c++11` or something like this


I'll check that but I think I prefer to follow the error message's suggestion if it makes the library compatible with more compilers / compiler versions



---

archive/issue_comments_429054.json:
```json
{
    "body": "<a id='comment:54'></a>\nSee #32074 for detailed info on compiler supported by Sage & related software",
    "created_at": "2022-09-14T16:14:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429054",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:54'></a>
See #32074 for detailed info on compiler supported by Sage & related software



---

archive/issue_comments_429055.json:
```json
{
    "body": "<a id='comment:55'></a>\nReplying to [Matthias K\u00f6ppe](#comment%3A46):\n\nI fixed the compilation issue with clang (at list on my setup).\n\nWould you mind checking whether `sage -pip install git+https://gitlab.com/ParComb/usain-boltz#master` works for you before I release a new version? That would be really nice.\n\nA few warnings are to be expected because cython does not produce fully c++11 compatible code (https://github.com/cython/cython/pull/4687). I don't know to what extent this is a problem.\n\n> On macOS (with clang)\n> \n> ```\n> [usainboltz]       gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -iwithsysroot/System/Library/Frameworks/System.framework/PrivateHeaders -iwithsysroot/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.8/Headers -Werror=implicit-function-declaration -Isrc/xoshiro -Isrc/usainboltz -I/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/local/var/lib/sage/venv-python3.8/include -I/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.8/Headers -c src/usainboltz/cpp_simulator.cpp -o build/temp.macosx-10.14-x86_64-cpython-38/src/usainboltz/cpp_simulator.o\n> [...]\n> ```\n\n\nBy the way, I just noticed you seemed to use gcc from the log you pasted.\nIs this a mistake or is `gcc` an alias for `clang` in your setup?",
    "created_at": "2022-09-19T10:29:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429055",
    "user": "https://github.com/Kerl13"
}
```

<a id='comment:55'></a>
Replying to [Matthias Köppe](#comment%3A46):

I fixed the compilation issue with clang (at list on my setup).

Would you mind checking whether `sage -pip install git+https://gitlab.com/ParComb/usain-boltz#master` works for you before I release a new version? That would be really nice.

A few warnings are to be expected because cython does not produce fully c++11 compatible code (https://github.com/cython/cython/pull/4687). I don't know to what extent this is a problem.

> On macOS (with clang)
> 
> ```
> [usainboltz]       gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -iwithsysroot/System/Library/Frameworks/System.framework/PrivateHeaders -iwithsysroot/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.8/Headers -Werror=implicit-function-declaration -Isrc/xoshiro -Isrc/usainboltz -I/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/local/var/lib/sage/venv-python3.8/include -I/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.8/Headers -c src/usainboltz/cpp_simulator.cpp -o build/temp.macosx-10.14-x86_64-cpython-38/src/usainboltz/cpp_simulator.o
> [...]
> ```


By the way, I just noticed you seemed to use gcc from the log you pasted.
Is this a mistake or is `gcc` an alias for `clang` in your setup?



---

archive/issue_comments_429056.json:
```json
{
    "body": "<a id='comment:56'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/83929369bdd38baa1b2cf4de94a1371a00d4b0b5\">8392936</a></td><td><code>Add the optas optional package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2397f149ca07660498b9b5545fc2706d2efc481d\">2397f14</a></td><td><code>Add the paganini optional package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/76e06f0afb752e82f21f6505d0cbef2263b004a0\">76e06f0</a></td><td><code>Turn usainboltz into a normal package</code></td></tr></table>\n",
    "created_at": "2022-09-19T15:00:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429056",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:56'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/83929369bdd38baa1b2cf4de94a1371a00d4b0b5">8392936</a></td><td><code>Add the optas optional package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2397f149ca07660498b9b5545fc2706d2efc481d">2397f14</a></td><td><code>Add the paganini optional package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/76e06f0afb752e82f21f6505d0cbef2263b004a0">76e06f0</a></td><td><code>Turn usainboltz into a normal package</code></td></tr></table>




---

archive/issue_comments_429057.json:
```json
{
    "body": "**Changing commit** from \"[b00b0653620e890379363a23b3ec056be0ac9578](https://github.com/sagemath/sagetrac-mirror/commit/b00b0653620e890379363a23b3ec056be0ac9578)\" to \"[76e06f0afb752e82f21f6505d0cbef2263b004a0](https://github.com/sagemath/sagetrac-mirror/commit/76e06f0afb752e82f21f6505d0cbef2263b004a0)\".",
    "created_at": "2022-09-19T15:00:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429057",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[b00b0653620e890379363a23b3ec056be0ac9578](https://github.com/sagemath/sagetrac-mirror/commit/b00b0653620e890379363a23b3ec056be0ac9578)" to "[76e06f0afb752e82f21f6505d0cbef2263b004a0](https://github.com/sagemath/sagetrac-mirror/commit/76e06f0afb752e82f21f6505d0cbef2263b004a0)".



---

archive/issue_comments_429058.json:
```json
{
    "body": "**Dependencies:** #34251",
    "created_at": "2022-09-19T15:01:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429058",
    "user": "https://github.com/Kerl13"
}
```

**Dependencies:** #34251



---

archive/issue_comments_429059.json:
```json
{
    "body": "<a id='comment:58'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d8e42b9f8bacdb2b0018b0bc392542f61b9dbd46\">d8e42b9</a></td><td><code>Bump usainboltz to 0.2.1</code></td></tr></table>\n",
    "created_at": "2022-09-19T15:31:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429059",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:58'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d8e42b9f8bacdb2b0018b0bc392542f61b9dbd46">d8e42b9</a></td><td><code>Bump usainboltz to 0.2.1</code></td></tr></table>




---

archive/issue_comments_429060.json:
```json
{
    "body": "**Changing commit** from \"[76e06f0afb752e82f21f6505d0cbef2263b004a0](https://github.com/sagemath/sagetrac-mirror/commit/76e06f0afb752e82f21f6505d0cbef2263b004a0)\" to \"[d8e42b9f8bacdb2b0018b0bc392542f61b9dbd46](https://github.com/sagemath/sagetrac-mirror/commit/d8e42b9f8bacdb2b0018b0bc392542f61b9dbd46)\".",
    "created_at": "2022-09-19T15:31:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429060",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[76e06f0afb752e82f21f6505d0cbef2263b004a0](https://github.com/sagemath/sagetrac-mirror/commit/76e06f0afb752e82f21f6505d0cbef2263b004a0)" to "[d8e42b9f8bacdb2b0018b0bc392542f61b9dbd46](https://github.com/sagemath/sagetrac-mirror/commit/d8e42b9f8bacdb2b0018b0bc392542f61b9dbd46)".



---

archive/issue_comments_429061.json:
```json
{
    "body": "<a id='comment:59'></a>\nI could finally get my hands on a mac this afternoon so I could test the compilation there and release a new version, sorry for the noise",
    "created_at": "2022-09-19T15:33:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429061",
    "user": "https://github.com/Kerl13"
}
```

<a id='comment:59'></a>
I could finally get my hands on a mac this afternoon so I could test the compilation there and release a new version, sorry for the noise



---

archive/issue_comments_429062.json:
```json
{
    "body": "<a id='comment:60'></a>\nReplying to [Martin P\u00e9pin](#comment%3A55):\n> By the way, I just noticed you seemed to use gcc from the log you pasted.\n> Is this a mistake or is `gcc` an alias for `clang` in your setup?\n\n\nOn macOS, the `gcc` binary provided by Xcode is a compatibility shim around Apple's version of clang.",
    "created_at": "2022-09-19T16:54:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429062",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:60'></a>
Replying to [Martin Pépin](#comment%3A55):
> By the way, I just noticed you seemed to use gcc from the log you pasted.
> Is this a mistake or is `gcc` an alias for `clang` in your setup?


On macOS, the `gcc` binary provided by Xcode is a compatibility shim around Apple's version of clang.



---

archive/issue_comments_429063.json:
```json
{
    "body": "<a id='comment:61'></a>\nReplying to [Martin P\u00e9pin](#comment%3A52):\n> Replying to [Matthias K\u00f6ppe](#comment%3A47):\n> > I see that `cvxpy` is a dependency of this package. You may be interested in #34251, which adds it as an SPKG\n\n> \n> Yes it is indeed interesting. How do I benefit from this?\n\n\n#34251 is waiting for reviewers...\n\n> Will sage's pip use the optional `cvxpy` package if I add it as a dependency? Or do I need to switch to the `normal` package format for usainboltz`? I'll be happy to do so if it's considered better.\n\n\nWhen #34251 is merged, we should add `cvxpy` to `build/pkgs/usainboltz/dependencies`.\nThis will avoid the conflict (possible races in parallel builds) between installing `cvxpy` from our package and getting `cvxpy`.\n\nThere's no need to switch `usainboltz` to `normal`.",
    "created_at": "2022-09-19T16:58:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429063",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:61'></a>
Replying to [Martin Pépin](#comment%3A52):
> Replying to [Matthias Köppe](#comment%3A47):
> > I see that `cvxpy` is a dependency of this package. You may be interested in #34251, which adds it as an SPKG

> 
> Yes it is indeed interesting. How do I benefit from this?


#34251 is waiting for reviewers...

> Will sage's pip use the optional `cvxpy` package if I add it as a dependency? Or do I need to switch to the `normal` package format for usainboltz`? I'll be happy to do so if it's considered better.


When #34251 is merged, we should add `cvxpy` to `build/pkgs/usainboltz/dependencies`.
This will avoid the conflict (possible races in parallel builds) between installing `cvxpy` from our package and getting `cvxpy`.

There's no need to switch `usainboltz` to `normal`.



---

archive/issue_comments_429064.json:
```json
{
    "body": "<a id='comment:62'></a>\nReplying to [Martin P\u00e9pin](#comment%3A52):\n> Btw, Thierry told me a few days ago that our (only \u201creal\u201d dependency `paganini` might be of interest for sage as well.\n\n\nI can't comment on this; it's outside of my domain of mathematical expertise.\n\n>  Another good reason to package everything as `normal`?\n\n\nNo, I'd say it's best to set things up as `pip` packages as you did. The additional maintenance burden (upgrade tickets) with `normal` packages is typically only warranted if we have tight integration of the provided functionality in Sage.",
    "created_at": "2022-09-19T17:03:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429064",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:62'></a>
Replying to [Martin Pépin](#comment%3A52):
> Btw, Thierry told me a few days ago that our (only “real” dependency `paganini` might be of interest for sage as well.


I can't comment on this; it's outside of my domain of mathematical expertise.

>  Another good reason to package everything as `normal`?


No, I'd say it's best to set things up as `pip` packages as you did. The additional maintenance burden (upgrade tickets) with `normal` packages is typically only warranted if we have tight integration of the provided functionality in Sage.



---

archive/issue_comments_429065.json:
```json
{
    "body": "<a id='comment:63'></a>\nOh, now I see you have made the switch to `normal` packages already on the new branch.\nThen it's best to merge the branch of #34251 here. The current branch can't be tested because `cvxpy` is not a package",
    "created_at": "2022-09-19T17:15:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429065",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:63'></a>
Oh, now I see you have made the switch to `normal` packages already on the new branch.
Then it's best to merge the branch of #34251 here. The current branch can't be tested because `cvxpy` is not a package



---

archive/issue_comments_429066.json:
```json
{
    "body": "<a id='comment:64'></a>\n\n```\ndiff --git a/build/pkgs/optas/dependencies b/build/pkgs/optas/dependencies\nnew file mode 100644\nindex 00000000..7d1ace1\n--- /dev/null\n+++ b/build/pkgs/optas/dependencies\n@@ -0,0 +1,4 @@\n+$(PYTHON) | $(PYTHON_TOOLCHAIN) gcc\n```\nThere's no need for the `gcc` here. This dependency is implicit for all packages.",
    "created_at": "2022-09-19T17:17:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429066",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:64'></a>

```
diff --git a/build/pkgs/optas/dependencies b/build/pkgs/optas/dependencies
new file mode 100644
index 00000000..7d1ace1
--- /dev/null
+++ b/build/pkgs/optas/dependencies
@@ -0,0 +1,4 @@
+$(PYTHON) | $(PYTHON_TOOLCHAIN) gcc
```
There's no need for the `gcc` here. This dependency is implicit for all packages.



---

archive/issue_comments_429067.json:
```json
{
    "body": "<a id='comment:65'></a>\nOther than that, it's looking good",
    "created_at": "2022-09-19T17:20:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429067",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:65'></a>
Other than that, it's looking good



---

archive/issue_comments_429068.json:
```json
{
    "body": "<a id='comment:66'></a>\nReplying to [Matthias K\u00f6ppe](#comment%3A61):\n> #34251 is waiting for reviewers...\n\n\nI think I can do that!",
    "created_at": "2022-09-19T18:55:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27526#issuecomment-429068",
    "user": "https://github.com/Kerl13"
}
```

<a id='comment:66'></a>
Replying to [Matthias Köppe](#comment%3A61):
> #34251 is waiting for reviewers...


I think I can do that!
