# Issue 27526: Usainboltz package: fast Boltzmann random generation of tree-like structures

archive/issues_027289.json:
```json
{
    "assignees": [],
    "body": "Usain Boltz is a !Python/Cython/C++ library that automates the random generation of tree-like structures.\nIt allows to describe a combinatorial structure using a specification in the style of \u201cAnalytic Combinatorics\u201d and, using the Boltzmann sampling framework, it produces a fast, uniform, and approximate size sampler of objects described by this specification.\n\nhttps://gitlab.com/ParComb/usain-boltz\n\n\nDepends on #34251\n\nCC:  @sagetrac-tmonteil @MatthieuDien @Kerl13 @mantepse\n\nBranch/Commit: **[u/MartinPepin/usainboltz](https://github.com/sagemath/sagetrac-mirror/tree/u/MartinPepin/usainboltz) @ [`d8e42b9`](https://github.com/sagemath/sagetrac-mirror/commit/d8e42b9f8bacdb2b0018b0bc392542f61b9dbd46)**\n\nReviewer: **Thierry Monteil**\n\nAuthor: **Martin P\u00e9pin, Matthieu Dien**\n\nComponent: **packages: optional**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/27526_\n\n",
    "created_at": "2019-03-21T17:16:42Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20optional",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/needs%20review"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Usainboltz package: fast Boltzmann random generation of tree-like structures",
    "type": "issue",
    "updated_at": "2022-09-19T18:55:11Z",
    "url": "https://github.com/sagemath/sage/issues/27526",
    "user": "https://github.com/Kerl13"
}
```
Usain Boltz is a !Python/Cython/C++ library that automates the random generation of tree-like structures.
It allows to describe a combinatorial structure using a specification in the style of “Analytic Combinatorics” and, using the Boltzmann sampling framework, it produces a fast, uniform, and approximate size sampler of objects described by this specification.

https://gitlab.com/ParComb/usain-boltz


Depends on #34251

CC:  @sagetrac-tmonteil @MatthieuDien @Kerl13 @mantepse

Branch/Commit: **[u/MartinPepin/usainboltz](https://github.com/sagemath/sagetrac-mirror/tree/u/MartinPepin/usainboltz) @ [`d8e42b9`](https://github.com/sagemath/sagetrac-mirror/commit/d8e42b9f8bacdb2b0018b0bc392542f61b9dbd46)**

Reviewer: **Thierry Monteil**

Author: **Martin Pépin, Matthieu Dien**

Component: **packages: optional**

_Issue created by migration from https://trac.sagemath.org/ticket/27526_





---

archive/issue_events_377964.json:
```json
{
    "actor": "https://github.com/Kerl13",
    "created_at": "2019-03-21T17:16:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "c: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27526#event-377964"
}
```



---

archive/issue_events_377965.json:
```json
{
    "actor": "https://github.com/Kerl13",
    "created_at": "2019-03-21T17:16:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27526#event-377965"
}
```



---

archive/issue_events_377966.json:
```json
{
    "actor": "https://github.com/Kerl13",
    "created_at": "2019-03-21T17:16:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27526#event-377966"
}
```



---

archive/issue_events_377967.json:
```json
{
    "actor": "https://github.com/Kerl13",
    "created_at": "2019-03-21T17:16:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "label": "https://github.com/sagemath/sage/labels/feature",
    "label_color": "008080",
    "label_name": "feature",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27526#event-377967"
}
```



---

archive/issue_comments_426368.json:
```json
{
    "body": "Branch: **[u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars)**",
    "created_at": "2019-03-26T07:58:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426368",
    "user": "https://github.com/Kerl13"
}
```

Branch: **[u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars)**



---

archive/issue_comments_426369.json:
```json
{
    "body": "Commit: **[`693df81`](https://github.com/sagemath/sagetrac-mirror/commit/693df817175f8facf41370ae3f8e6835fb326d83)**",
    "created_at": "2019-06-19T11:26:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426369",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[`693df81`](https://github.com/sagemath/sagetrac-mirror/commit/693df817175f8facf41370ae3f8e6835fb326d83)**



---

archive/issue_comments_426370.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/693df817175f8facf41370ae3f8e6835fb326d83\">693df81</a></td><td><code>Boltzmann sampling: module-wide documentation</code></td></tr></table>\n",
    "created_at": "2019-06-19T11:26:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426370",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/693df817175f8facf41370ae3f8e6835fb326d83">693df81</a></td><td><code>Boltzmann sampling: module-wide documentation</code></td></tr></table>




---

archive/issue_comments_426371.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/75ec37c8b04cec71e4ef78c35e8560f28b75c109\">75ec37c</a></td><td><code>Use sage's randstate API for random number generation</code></td></tr></table>\n",
    "created_at": "2019-06-19T12:42:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426371",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/75ec37c8b04cec71e4ef78c35e8560f28b75c109">75ec37c</a></td><td><code>Use sage's randstate API for random number generation</code></td></tr></table>




---

archive/issue_comments_426372.json:
```json
{
    "body": "Changed commit from **[`693df81`](https://github.com/sagemath/sagetrac-mirror/commit/693df817175f8facf41370ae3f8e6835fb326d83)** to **[`75ec37c`](https://github.com/sagemath/sagetrac-mirror/commit/75ec37c8b04cec71e4ef78c35e8560f28b75c109)**",
    "created_at": "2019-06-19T12:42:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426372",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`693df81`](https://github.com/sagemath/sagetrac-mirror/commit/693df817175f8facf41370ae3f8e6835fb326d83)** to **[`75ec37c`](https://github.com/sagemath/sagetrac-mirror/commit/75ec37c8b04cec71e4ef78c35e8560f28b75c109)**



---

archive/issue_comments_426373.json:
```json
{
    "body": "Changed commit from **[`75ec37c`](https://github.com/sagemath/sagetrac-mirror/commit/75ec37c8b04cec71e4ef78c35e8560f28b75c109)** to **[`8b40cc1`](https://github.com/sagemath/sagetrac-mirror/commit/8b40cc1ef4bf20887f6178d729d397a36856e3c6)**",
    "created_at": "2019-06-19T20:31:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426373",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`75ec37c`](https://github.com/sagemath/sagetrac-mirror/commit/75ec37c8b04cec71e4ef78c35e8560f28b75c109)** to **[`8b40cc1`](https://github.com/sagemath/sagetrac-mirror/commit/8b40cc1ef4bf20887f6178d729d397a36856e3c6)**



---

archive/issue_comments_426374.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8b40cc1ef4bf20887f6178d729d397a36856e3c6\">8b40cc1</a></td><td><code>Boltzmann: document the generator module</code></td></tr></table>\n",
    "created_at": "2019-06-19T20:31:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426374",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8b40cc1ef4bf20887f6178d729d397a36856e3c6">8b40cc1</a></td><td><code>Boltzmann: document the generator module</code></td></tr></table>




---

archive/issue_comments_426375.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b7981332bc4aa6b9fe3d7bfb779487a441aaede2\">b798133</a></td><td><code>Boltzmann(Grammar): `labelled` optional argument</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1c7b6b08d1fbaab442dada829823f761dbcaf33f\">1c7b6b0</a></td><td><code>Integrate Boltzmann's doc into the reference manual</code></td></tr></table>\n",
    "created_at": "2019-06-20T15:00:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426375",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b7981332bc4aa6b9fe3d7bfb779487a441aaede2">b798133</a></td><td><code>Boltzmann(Grammar): `labelled` optional argument</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1c7b6b08d1fbaab442dada829823f761dbcaf33f">1c7b6b0</a></td><td><code>Integrate Boltzmann's doc into the reference manual</code></td></tr></table>




---

archive/issue_comments_426376.json:
```json
{
    "body": "Changed commit from **[`8b40cc1`](https://github.com/sagemath/sagetrac-mirror/commit/8b40cc1ef4bf20887f6178d729d397a36856e3c6)** to **[`1c7b6b0`](https://github.com/sagemath/sagetrac-mirror/commit/1c7b6b08d1fbaab442dada829823f761dbcaf33f)**",
    "created_at": "2019-06-20T15:00:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426376",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8b40cc1`](https://github.com/sagemath/sagetrac-mirror/commit/8b40cc1ef4bf20887f6178d729d397a36856e3c6)** to **[`1c7b6b0`](https://github.com/sagemath/sagetrac-mirror/commit/1c7b6b08d1fbaab442dada829823f761dbcaf33f)**



---

archive/issue_comments_426377.json:
```json
{
    "body": "Changed branch from **[u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars)** to **[u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars)**",
    "created_at": "2019-06-20T15:14:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426377",
    "user": "https://github.com/MatthieuDien"
}
```

Changed branch from **[u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars)** to **[u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars)**



---

archive/issue_comments_426378.json:
```json
{
    "body": "Changed branch from **[u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars)** to **[u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars)**",
    "created_at": "2019-06-20T15:23:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426378",
    "user": "https://github.com/Kerl13"
}
```

Changed branch from **[u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars)** to **[u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars)**



---

archive/issue_comments_426379.json:
```json
{
    "body": "Changed branch from **[u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars)** to **[u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars)**",
    "created_at": "2019-06-21T09:41:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426379",
    "user": "https://github.com/MatthieuDien"
}
```

Changed branch from **[u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars)** to **[u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars)**



---

archive/issue_comments_426380.json:
```json
{
    "body": "Changed branch from **[u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars)** to **[u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars)**",
    "created_at": "2019-06-21T09:51:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426380",
    "user": "https://github.com/Kerl13"
}
```

Changed branch from **[u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars)** to **[u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars)**



---

archive/issue_comments_426381.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1da6bd272d1a04878e9819b9845148962d0ca739\">1da6bd2</a></td><td><code>Boltzmann(Oracle): pep8 + fix doctests</code></td></tr></table>\n",
    "created_at": "2019-06-21T12:35:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426381",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1da6bd272d1a04878e9819b9845148962d0ca739">1da6bd2</a></td><td><code>Boltzmann(Oracle): pep8 + fix doctests</code></td></tr></table>




---

archive/issue_comments_426382.json:
```json
{
    "body": "Changed commit from **[`1c7b6b0`](https://github.com/sagemath/sagetrac-mirror/commit/1c7b6b08d1fbaab442dada829823f761dbcaf33f)** to **[`1da6bd2`](https://github.com/sagemath/sagetrac-mirror/commit/1da6bd272d1a04878e9819b9845148962d0ca739)**",
    "created_at": "2019-06-21T12:35:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426382",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1c7b6b0`](https://github.com/sagemath/sagetrac-mirror/commit/1c7b6b08d1fbaab442dada829823f761dbcaf33f)** to **[`1da6bd2`](https://github.com/sagemath/sagetrac-mirror/commit/1da6bd272d1a04878e9819b9845148962d0ca739)**



---

archive/issue_comments_426383.json:
```json
{
    "body": "Changed commit from **[`1da6bd2`](https://github.com/sagemath/sagetrac-mirror/commit/1da6bd272d1a04878e9819b9845148962d0ca739)** to **[`5303f2a`](https://github.com/sagemath/sagetrac-mirror/commit/5303f2aab40b8353d758cfa4c7d795f4cb98bc29)**",
    "created_at": "2019-06-21T13:07:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426383",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1da6bd2`](https://github.com/sagemath/sagetrac-mirror/commit/1da6bd272d1a04878e9819b9845148962d0ca739)** to **[`5303f2a`](https://github.com/sagemath/sagetrac-mirror/commit/5303f2aab40b8353d758cfa4c7d795f4cb98bc29)**



---

archive/issue_comments_426384.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5303f2aab40b8353d758cfa4c7d795f4cb98bc29\">5303f2a</a></td><td><code>Boltzmann: fix import statements in doctests</code></td></tr></table>\n",
    "created_at": "2019-06-21T13:07:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426384",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5303f2aab40b8353d758cfa4c7d795f4cb98bc29">5303f2a</a></td><td><code>Boltzmann: fix import statements in doctests</code></td></tr></table>




---

archive/issue_comments_426385.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,13 @@\n+The Boltzmann method is a framework whose describe how to build a uniform random generator for a family of discrete structures from a grammar describing  that family.\n \n+Our goal is to design a high-level and user-friendly API with :\n+* handling of grammars for monovariate/multivariate and unlabeled/labeled/increasingly labeled structures.\n+* use of the state of the art oracles (newton iteration, multiparametric tuning, etc)\n+* fast sampling of large structures (size 1e6 and more)\n+ \n+In this ticket we provide a implementation of the Boltzmann method introduced by Duchon, Flajolet, Louchard and Schaeffer (see [DuFlLoSc04](http://algo.inria.fr/flajolet/Publications/DuFlLoSc04.pdf)) with the following features :\n+* labeled and unlabeled classes defined with +, *, Seq and recursive definition\n+* an oracle dealing with explicit generating function\n+* an oracle based on the work of Darasse (see [his thesis](http://www.ortsa.com/lip6_these/docs/these.pdf)) : less accurate but more generic\n+* a fast Cython implementation of a generic generator\n+\n``````\n",
    "created_at": "2019-06-21T13:51:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426385",
    "user": "https://github.com/MatthieuDien"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,13 @@
+The Boltzmann method is a framework whose describe how to build a uniform random generator for a family of discrete structures from a grammar describing  that family.
 
+Our goal is to design a high-level and user-friendly API with :
+* handling of grammars for monovariate/multivariate and unlabeled/labeled/increasingly labeled structures.
+* use of the state of the art oracles (newton iteration, multiparametric tuning, etc)
+* fast sampling of large structures (size 1e6 and more)
+ 
+In this ticket we provide a implementation of the Boltzmann method introduced by Duchon, Flajolet, Louchard and Schaeffer (see [DuFlLoSc04](http://algo.inria.fr/flajolet/Publications/DuFlLoSc04.pdf)) with the following features :
+* labeled and unlabeled classes defined with +, *, Seq and recursive definition
+* an oracle dealing with explicit generating function
+* an oracle based on the work of Darasse (see [his thesis](http://www.ortsa.com/lip6_these/docs/these.pdf)) : less accurate but more generic
+* a fast Cython implementation of a generic generator
+
``````




---

archive/issue_comments_426386.json:
```json
{
    "body": "Changed author from **Martin P\u00e9pin** to **Martin P\u00e9pin, Matthieu Dien**",
    "created_at": "2019-06-21T13:51:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426386",
    "user": "https://github.com/MatthieuDien"
}
```

Changed author from **Martin Pépin** to **Martin Pépin, Matthieu Dien**



---

archive/issue_comments_426387.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5303f2aab40b8353d758cfa4c7d795f4cb98bc29\">5303f2a</a></td><td><code>Boltzmann: fix import statements in doctests</code></td></tr></table>\n",
    "created_at": "2019-06-21T13:51:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426387",
    "user": "https://github.com/MatthieuDien"
}
```

<div id="comment:12"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5303f2aab40b8353d758cfa4c7d795f4cb98bc29">5303f2a</a></td><td><code>Boltzmann: fix import statements in doctests</code></td></tr></table>




---

archive/issue_comments_426388.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-The Boltzmann method is a framework whose describe how to build a uniform random generator for a family of discrete structures from a grammar describing  that family.\n+The Boltzmann method is a framework that describes how to build a uniform random generator for a family of discrete structures from a grammar describing  that family.\n \n Our goal is to design a high-level and user-friendly API with :\n * handling of grammars for monovariate/multivariate and unlabeled/labeled/increasingly labeled structures.\n``````\n",
    "created_at": "2019-06-21T13:59:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426388",
    "user": "https://github.com/Kerl13"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-The Boltzmann method is a framework whose describe how to build a uniform random generator for a family of discrete structures from a grammar describing  that family.
+The Boltzmann method is a framework that describes how to build a uniform random generator for a family of discrete structures from a grammar describing  that family.
 
 Our goal is to design a high-level and user-friendly API with :
 * handling of grammars for monovariate/multivariate and unlabeled/labeled/increasingly labeled structures.
``````




---

archive/issue_comments_426389.json:
```json
{
    "body": "Changed commit from **[`5303f2a`](https://github.com/sagemath/sagetrac-mirror/commit/5303f2aab40b8353d758cfa4c7d795f4cb98bc29)** to **[`04ca7e6`](https://github.com/sagemath/sagetrac-mirror/commit/04ca7e6cc80948d97d5498f44edbf11985faa568)**",
    "created_at": "2019-06-21T16:16:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426389",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5303f2a`](https://github.com/sagemath/sagetrac-mirror/commit/5303f2aab40b8353d758cfa4c7d795f4cb98bc29)** to **[`04ca7e6`](https://github.com/sagemath/sagetrac-mirror/commit/04ca7e6cc80948d97d5498f44edbf11985faa568)**



---

archive/issue_comments_426390.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b6487711e28b8d08be0e8323b50e25640a9f6350\">b648771</a></td><td><code>Fix various generator bugs</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/04ca7e6cc80948d97d5498f44edbf11985faa568\">04ca7e6</a></td><td><code>Boltzmann(Generator): towards labellings</code></td></tr></table>\n",
    "created_at": "2019-06-21T16:16:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426390",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b6487711e28b8d08be0e8323b50e25640a9f6350">b648771</a></td><td><code>Fix various generator bugs</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/04ca7e6cc80948d97d5498f44edbf11985faa568">04ca7e6</a></td><td><code>Boltzmann(Generator): towards labellings</code></td></tr></table>




---

archive/issue_comments_426391.json:
```json
{
    "body": "Changed commit from **[`04ca7e6`](https://github.com/sagemath/sagetrac-mirror/commit/04ca7e6cc80948d97d5498f44edbf11985faa568)** to **[`a25d00c`](https://github.com/sagemath/sagetrac-mirror/commit/a25d00c49046462d0994f81815c990b940a5fbd9)**",
    "created_at": "2019-06-22T13:16:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426391",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`04ca7e6`](https://github.com/sagemath/sagetrac-mirror/commit/04ca7e6cc80948d97d5498f44edbf11985faa568)** to **[`a25d00c`](https://github.com/sagemath/sagetrac-mirror/commit/a25d00c49046462d0994f81815c990b940a5fbd9)**



---

archive/issue_comments_426392.json:
```json
{
    "body": "<div id=\"comment:15\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/71271d46236de0b83e2de0c1dfcd583b8c253847\">71271d4</a></td><td><code>Boltzmann: first implementation of labellings</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a25d00c49046462d0994f81815c990b940a5fbd9\">a25d00c</a></td><td><code>Boltzmann: clean the generator, labelling works</code></td></tr></table>\n",
    "created_at": "2019-06-22T13:16:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426392",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/71271d46236de0b83e2de0c1dfcd583b8c253847">71271d4</a></td><td><code>Boltzmann: first implementation of labellings</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a25d00c49046462d0994f81815c990b940a5fbd9">a25d00c</a></td><td><code>Boltzmann: clean the generator, labelling works</code></td></tr></table>




---

archive/issue_comments_426393.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b94b94ac59cb2d6f42b40479cad2bdc28935d399\">b94b94a</a></td><td><code>Boltzmann: default builders show the labels</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/70e9b928b657d24fffc70b459202fcc20b285567\">70e9b92</a></td><td><code>Boltzmann: shuffle the labels of an atom of size >1</code></td></tr></table>\n",
    "created_at": "2019-06-22T18:35:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426393",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b94b94ac59cb2d6f42b40479cad2bdc28935d399">b94b94a</a></td><td><code>Boltzmann: default builders show the labels</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/70e9b928b657d24fffc70b459202fcc20b285567">70e9b92</a></td><td><code>Boltzmann: shuffle the labels of an atom of size >1</code></td></tr></table>




---

archive/issue_comments_426394.json:
```json
{
    "body": "Changed commit from **[`a25d00c`](https://github.com/sagemath/sagetrac-mirror/commit/a25d00c49046462d0994f81815c990b940a5fbd9)** to **[`70e9b92`](https://github.com/sagemath/sagetrac-mirror/commit/70e9b928b657d24fffc70b459202fcc20b285567)**",
    "created_at": "2019-06-22T18:35:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426394",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a25d00c`](https://github.com/sagemath/sagetrac-mirror/commit/a25d00c49046462d0994f81815c990b940a5fbd9)** to **[`70e9b92`](https://github.com/sagemath/sagetrac-mirror/commit/70e9b928b657d24fffc70b459202fcc20b285567)**



---

archive/issue_comments_426395.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0a058e166b03299d01d63723f829d578781a2004\">0a058e1</a></td><td><code>Boltzmann: more tests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/db4b2a9829340a29f6ffcc062e630da719e42c1a\">db4b2a9</a></td><td><code>Boltzmann: various oracle fixes</code></td></tr></table>\n",
    "created_at": "2019-06-25T07:38:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426395",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0a058e166b03299d01d63723f829d578781a2004">0a058e1</a></td><td><code>Boltzmann: more tests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/db4b2a9829340a29f6ffcc062e630da719e42c1a">db4b2a9</a></td><td><code>Boltzmann: various oracle fixes</code></td></tr></table>




---

archive/issue_comments_426396.json:
```json
{
    "body": "Changed commit from **[`70e9b92`](https://github.com/sagemath/sagetrac-mirror/commit/70e9b928b657d24fffc70b459202fcc20b285567)** to **[`db4b2a9`](https://github.com/sagemath/sagetrac-mirror/commit/db4b2a9829340a29f6ffcc062e630da719e42c1a)**",
    "created_at": "2019-06-25T07:38:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426396",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`70e9b92`](https://github.com/sagemath/sagetrac-mirror/commit/70e9b928b657d24fffc70b459202fcc20b285567)** to **[`db4b2a9`](https://github.com/sagemath/sagetrac-mirror/commit/db4b2a9829340a29f6ffcc062e630da719e42c1a)**



---

archive/issue_comments_426397.json:
```json
{
    "body": "Changed branch from **[u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars)** to **[u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars)**",
    "created_at": "2019-06-25T10:25:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426397",
    "user": "https://github.com/MatthieuDien"
}
```

Changed branch from **[u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars)** to **[u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars)**



---

archive/issue_comments_426398.json:
```json
{
    "body": "Changed branch from **[u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars)** to **[u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars)**",
    "created_at": "2019-06-25T10:26:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426398",
    "user": "https://github.com/Kerl13"
}
```

Changed branch from **[u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars)** to **[u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars)**



---

archive/issue_comments_426399.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2b13bfc02cd042e6fd22abb1602d445a5d9c3b50\">2b13bfc</a></td><td><code>Boltzmann: move the labelling information to the atoms</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b453c345a886c7549edaf181ea490e3f737b2ff2\">b453c34</a></td><td><code>Boltzmann: Grammar.atoms()</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d20b9dcd065a65fe8e02b24d31656ca365f7ef82\">d20b9dc</a></td><td><code>Boltzmann: implement multi-labellings</code></td></tr></table>\n",
    "created_at": "2019-06-27T09:16:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426399",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2b13bfc02cd042e6fd22abb1602d445a5d9c3b50">2b13bfc</a></td><td><code>Boltzmann: move the labelling information to the atoms</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b453c345a886c7549edaf181ea490e3f737b2ff2">b453c34</a></td><td><code>Boltzmann: Grammar.atoms()</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d20b9dcd065a65fe8e02b24d31656ca365f7ef82">d20b9dc</a></td><td><code>Boltzmann: implement multi-labellings</code></td></tr></table>




---

archive/issue_comments_426400.json:
```json
{
    "body": "Changed commit from **[`db4b2a9`](https://github.com/sagemath/sagetrac-mirror/commit/db4b2a9829340a29f6ffcc062e630da719e42c1a)** to **[`d20b9dc`](https://github.com/sagemath/sagetrac-mirror/commit/d20b9dcd065a65fe8e02b24d31656ca365f7ef82)**",
    "created_at": "2019-06-27T09:16:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426400",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`db4b2a9`](https://github.com/sagemath/sagetrac-mirror/commit/db4b2a9829340a29f6ffcc062e630da719e42c1a)** to **[`d20b9dc`](https://github.com/sagemath/sagetrac-mirror/commit/d20b9dcd065a65fe8e02b24d31656ca365f7ef82)**



---

archive/issue_comments_426401.json:
```json
{
    "body": "Changed commit from **[`d20b9dc`](https://github.com/sagemath/sagetrac-mirror/commit/d20b9dcd065a65fe8e02b24d31656ca365f7ef82)** to **[`a92c66b`](https://github.com/sagemath/sagetrac-mirror/commit/a92c66bc7af6275d0429dad705c0b1ba9479fc30)**",
    "created_at": "2019-06-28T10:27:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426401",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d20b9dc`](https://github.com/sagemath/sagetrac-mirror/commit/d20b9dcd065a65fe8e02b24d31656ca365f7ef82)** to **[`a92c66b`](https://github.com/sagemath/sagetrac-mirror/commit/a92c66bc7af6275d0429dad705c0b1ba9479fc30)**



---

archive/issue_comments_426402.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a92c66bc7af6275d0429dad705c0b1ba9479fc30\">a92c66b</a></td><td><code>Boltzmann: more docs + doc fixes</code></td></tr></table>\n",
    "created_at": "2019-06-28T10:27:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426402",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a92c66bc7af6275d0429dad705c0b1ba9479fc30">a92c66b</a></td><td><code>Boltzmann: more docs + doc fixes</code></td></tr></table>




---

archive/issue_comments_426403.json:
```json
{
    "body": "<div id=\"comment:22\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f42a856f3944f6e4be007e1dffce8064c76ec0c0\">f42a856</a></td><td><code>Boltzmann: TODO list</code></td></tr></table>\n",
    "created_at": "2019-07-05T09:43:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426403",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:22"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f42a856f3944f6e4be007e1dffce8064c76ec0c0">f42a856</a></td><td><code>Boltzmann: TODO list</code></td></tr></table>




---

archive/issue_comments_426404.json:
```json
{
    "body": "Changed commit from **[`a92c66b`](https://github.com/sagemath/sagetrac-mirror/commit/a92c66bc7af6275d0429dad705c0b1ba9479fc30)** to **[`f42a856`](https://github.com/sagemath/sagetrac-mirror/commit/f42a856f3944f6e4be007e1dffce8064c76ec0c0)**",
    "created_at": "2019-07-05T09:43:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426404",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a92c66b`](https://github.com/sagemath/sagetrac-mirror/commit/a92c66bc7af6275d0429dad705c0b1ba9479fc30)** to **[`f42a856`](https://github.com/sagemath/sagetrac-mirror/commit/f42a856f3944f6e4be007e1dffce8064c76ec0c0)**



---

archive/issue_comments_426405.json:
```json
{
    "body": "Changed branch from **[u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars)** to **[u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars)**",
    "created_at": "2019-07-14T23:42:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426405",
    "user": "https://github.com/MatthieuDien"
}
```

Changed branch from **[u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Kerl13/boltzmann_samplers_for_combinatorial_grammars)** to **[u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars)**



---

archive/issue_comments_426406.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nPlease have a look at the patchbot warnings (click on the color round icon on top of the page) and in particular the plugins results.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b55d49329917d252b55bb6880ec2441f5073b8aa\">b55d493</a></td><td><code>moving the todo list in \"our\" directory</code></td></tr></table>\n",
    "created_at": "2019-07-15T06:37:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426406",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:24" align="right">comment:24</div>

Please have a look at the patchbot warnings (click on the color round icon on top of the page) and in particular the plugins results.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b55d49329917d252b55bb6880ec2441f5073b8aa">b55d493</a></td><td><code>moving the todo list in "our" directory</code></td></tr></table>




---

archive/issue_comments_426407.json:
```json
{
    "body": "Changed commit from **[`f42a856`](https://github.com/sagemath/sagetrac-mirror/commit/f42a856f3944f6e4be007e1dffce8064c76ec0c0)** to **[`b55d493`](https://github.com/sagemath/sagetrac-mirror/commit/b55d49329917d252b55bb6880ec2441f5073b8aa)**",
    "created_at": "2019-07-15T06:37:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426407",
    "user": "https://github.com/fchapoton"
}
```

Changed commit from **[`f42a856`](https://github.com/sagemath/sagetrac-mirror/commit/f42a856f3944f6e4be007e1dffce8064c76ec0c0)** to **[`b55d493`](https://github.com/sagemath/sagetrac-mirror/commit/b55d49329917d252b55bb6880ec2441f5073b8aa)**



---

archive/issue_comments_426408.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nHi Martin!\n\nthe species implementation is currently undergoing the long awaited overhaul.  Travis and I have just finished a lazy series implementation, which is much more robust than what we had previously.  Ticket #32367 replaces the old (and somewhat unreliable) LazyPowerSeries with our new one.\n\nDo you think we should try to see whether a uniform user interface for defining a grammar is possible?",
    "created_at": "2022-09-08T18:35:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426408",
    "user": "https://github.com/mantepse"
}
```

<div id="comment:27" align="right">comment:27</div>

Hi Martin!

the species implementation is currently undergoing the long awaited overhaul.  Travis and I have just finished a lazy series implementation, which is much more robust than what we had previously.  Ticket #32367 replaces the old (and somewhat unreliable) LazyPowerSeries with our new one.

Do you think we should try to see whether a uniform user interface for defining a grammar is possible?



---

archive/issue_comments_426409.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nReplying to [Martin Rubey](#comment:27):\n> Hi Martin!\n> \n> the species implementation is currently undergoing the long awaited overhaul.  Travis and I have just finished a lazy series implementation, which is much more robust than what we had previously.  Ticket #32367 replaces the old (and somewhat unreliable) LazyPowerSeries with our new one.\n> \n> Do you think we should try to see whether a uniform user interface for defining a grammar is possible?\n\nHi all ! To be transparent, we had an informal discussion this afternoon with Martin P\u00e9pin about that same issue !\n\nIf you remember, a long time ago (before covid), i proposed to have a general meeting of all people interested in making a plan for the whole analytic combinatorics stuff in Sage (species, ore algebras, (multi-variate, lazy, etc) power series, Bolzmann samplers, singularity analysis, asymptotic expansions, etc). Most people answered positively but wanted to postpone the date, unfortunately the delays were too short as the grant was ending. Maybe, we could revive the idea. What do you think ?",
    "created_at": "2022-09-08T19:14:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426409",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:28" align="right">comment:28</div>

Replying to [Martin Rubey](#comment:27):
> Hi Martin!
> 
> the species implementation is currently undergoing the long awaited overhaul.  Travis and I have just finished a lazy series implementation, which is much more robust than what we had previously.  Ticket #32367 replaces the old (and somewhat unreliable) LazyPowerSeries with our new one.
> 
> Do you think we should try to see whether a uniform user interface for defining a grammar is possible?

Hi all ! To be transparent, we had an informal discussion this afternoon with Martin Pépin about that same issue !

If you remember, a long time ago (before covid), i proposed to have a general meeting of all people interested in making a plan for the whole analytic combinatorics stuff in Sage (species, ore algebras, (multi-variate, lazy, etc) power series, Bolzmann samplers, singularity analysis, asymptotic expansions, etc). Most people answered positively but wanted to postpone the date, unfortunately the delays were too short as the grant was ending. Maybe, we could revive the idea. What do you think ?



---

archive/issue_comments_426410.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nI am all for it!  I have no teaching in February.  Until then, zoom and email is fine for me!",
    "created_at": "2022-09-08T19:19:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426410",
    "user": "https://github.com/mantepse"
}
```

<div id="comment:29" align="right">comment:29</div>

I am all for it!  I have no teaching in February.  Until then, zoom and email is fine for me!



---

archive/issue_comments_426411.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nHi!\n\nFirst an important note: Matthieu and I (temporarily) moved away from this ticket about 3 years ago as we decided to implement a standalone python library [available here (usainboltz)](https://gitlab.com/ParComb/usain-boltz). This means that the branch tied to this ticket is obsolete and should not be used.\n\nThat being said:\n\n1. It doesn't prevent us from adding usainboltz to sage! Adding it as an optional package seems right to me (is it?)\n\n2. I agree with you that having a uniform user interface for defining grammars would be great. And the species, if they work, seem to be a very good candidate to me. I'd love to see some nice integration with usainboltz (and other existing tools) so that sampling objects described by a species becomes as simple as:\n\n```python\n>>> sampler = my_specy.get_boltzmann_sampler()\n>>> sampler(size_in=[1000, 2000])\n<some big object>\n```\n\nI'm all in to work on this as well!",
    "created_at": "2022-09-09T12:18:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426411",
    "user": "https://github.com/Kerl13"
}
```

<div id="comment:30" align="right">comment:30</div>

Hi!

First an important note: Matthieu and I (temporarily) moved away from this ticket about 3 years ago as we decided to implement a standalone python library [available here (usainboltz)](https://gitlab.com/ParComb/usain-boltz). This means that the branch tied to this ticket is obsolete and should not be used.

That being said:

1. It doesn't prevent us from adding usainboltz to sage! Adding it as an optional package seems right to me (is it?)

2. I agree with you that having a uniform user interface for defining grammars would be great. And the species, if they work, seem to be a very good candidate to me. I'd love to see some nice integration with usainboltz (and other existing tools) so that sampling objects described by a species becomes as simple as:

```python
>>> sampler = my_specy.get_boltzmann_sampler()
>>> sampler(size_in=[1000, 2000])
<some big object>
```

I'm all in to work on this as well!



---

archive/issue_comments_426412.json:
```json
{
    "body": "Changed commit from **[`b55d493`](https://github.com/sagemath/sagetrac-mirror/commit/b55d49329917d252b55bb6880ec2441f5073b8aa)** to **[`08202bc`](https://github.com/sagemath/sagetrac-mirror/commit/08202bc1ba7caea46327908db8e3715d1adf6f9a)**",
    "created_at": "2022-09-12T08:02:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426412",
    "user": "https://github.com/Kerl13"
}
```

Changed commit from **[`b55d493`](https://github.com/sagemath/sagetrac-mirror/commit/b55d49329917d252b55bb6880ec2441f5073b8aa)** to **[`08202bc`](https://github.com/sagemath/sagetrac-mirror/commit/08202bc1ba7caea46327908db8e3715d1adf6f9a)**



---

archive/issue_comments_426413.json:
```json
{
    "body": "Changed branch from **[u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars)** to **[u/MartinPepin/usainboltz](https://github.com/sagemath/sagetrac-mirror/tree/u/MartinPepin/usainboltz)**",
    "created_at": "2022-09-12T08:02:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426413",
    "user": "https://github.com/Kerl13"
}
```

Changed branch from **[u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars](https://github.com/sagemath/sagetrac-mirror/tree/u/MatthieuDien/boltzmann_samplers_for_combinatorial_grammars)** to **[u/MartinPepin/usainboltz](https://github.com/sagemath/sagetrac-mirror/tree/u/MartinPepin/usainboltz)**



---

archive/issue_comments_426414.json:
```json
{
    "body": "Changed commit from **[`08202bc`](https://github.com/sagemath/sagetrac-mirror/commit/08202bc1ba7caea46327908db8e3715d1adf6f9a)** to **[`e72b3a7`](https://github.com/sagemath/sagetrac-mirror/commit/e72b3a7c80281fb6eb4a701ae36e4d085bb92010)**",
    "created_at": "2022-09-13T18:28:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426414",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`08202bc`](https://github.com/sagemath/sagetrac-mirror/commit/08202bc1ba7caea46327908db8e3715d1adf6f9a)** to **[`e72b3a7`](https://github.com/sagemath/sagetrac-mirror/commit/e72b3a7c80281fb6eb4a701ae36e4d085bb92010)**



---

archive/issue_comments_426415.json:
```json
{
    "body": "<div id=\"comment:32\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e72b3a7c80281fb6eb4a701ae36e4d085bb92010\">e72b3a7</a></td><td><code>Add usainboltz as an optional package</code></td></tr></table>\n",
    "created_at": "2022-09-13T18:28:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426415",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:32"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e72b3a7c80281fb6eb4a701ae36e4d085bb92010">e72b3a7</a></td><td><code>Add usainboltz as an optional package</code></td></tr></table>




---

archive/issue_comments_426416.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nI added usainboltz as a pip package following https://doc.sagemath.org/html/en/developer/packaging.html#python-based-packages.\n\nBut something must be wrong with what I did, I can't install usainboltz using `sage -i`:\n\n```\n$ ./sage -i usainboltz\n[ a log of log about sage checking if it needs to rebuild stuff ]\nError: package 'usainboltz' not found\nNote: if it is an old-style package, installing these is no longer supported\n```\n\nNote that `./sage --optional` and `./sage --info usainboltz` both see usainboltz. I might need a bit of help to understand what is happening.",
    "created_at": "2022-09-13T18:40:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426416",
    "user": "https://github.com/Kerl13"
}
```

<div id="comment:33" align="right">comment:33</div>

I added usainboltz as a pip package following https://doc.sagemath.org/html/en/developer/packaging.html#python-based-packages.

But something must be wrong with what I did, I can't install usainboltz using `sage -i`:

```
$ ./sage -i usainboltz
[ a log of log about sage checking if it needs to rebuild stuff ]
Error: package 'usainboltz' not found
Note: if it is an old-style package, installing these is no longer supported
```

Note that `./sage --optional` and `./sage --info usainboltz` both see usainboltz. I might need a bit of help to understand what is happening.



---

archive/issue_comments_426417.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nIt worked well for me, i could successfully execute `binarytrees.ipynb`.",
    "created_at": "2022-09-13T19:05:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426417",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:34" align="right">comment:34</div>

It worked well for me, i could successfully execute `binarytrees.ipynb`.



---

archive/issue_comments_426418.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nI would replace `boltzmann` with `Boltzmann` in the title but apart from that, it looks good to me.",
    "created_at": "2022-09-13T19:07:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426418",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:35" align="right">comment:35</div>

I would replace `boltzmann` with `Boltzmann` in the title but apart from that, it looks good to me.



---

archive/issue_comments_426419.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,13 +1,5 @@\n-The Boltzmann method is a framework that describes how to build a uniform random generator for a family of discrete structures from a grammar describing  that family.\n+Usain Boltz is a !Python/Cython/C++ library that automates the random generation of tree-like structures.\n+It allows to describe a combinatorial structure using a specification in the style of \u201cAnalytic Combinatorics\u201d and, using the Boltzmann sampling framework, it produces a fast, uniform, and approximate size sampler of objects described by this specification.\n \n-Our goal is to design a high-level and user-friendly API with :\n-* handling of grammars for monovariate/multivariate and unlabeled/labeled/increasingly labeled structures.\n-* use of the state of the art oracles (newton iteration, multiparametric tuning, etc)\n-* fast sampling of large structures (size 1e6 and more)\n- \n-In this ticket we provide a implementation of the Boltzmann method introduced by Duchon, Flajolet, Louchard and Schaeffer (see [DuFlLoSc04](http://algo.inria.fr/flajolet/Publications/DuFlLoSc04.pdf)) with the following features :\n-* labeled and unlabeled classes defined with +, *, Seq and recursive definition\n-* an oracle dealing with explicit generating function\n-* an oracle based on the work of Darasse (see [his thesis](http://www.ortsa.com/lip6_these/docs/these.pdf)) : less accurate but more generic\n-* a fast Cython implementation of a generic generator\n+https://gitlab.com/ParComb/usain-boltz\n \n``````\n",
    "created_at": "2022-09-13T19:12:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426419",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,13 +1,5 @@
-The Boltzmann method is a framework that describes how to build a uniform random generator for a family of discrete structures from a grammar describing  that family.
+Usain Boltz is a !Python/Cython/C++ library that automates the random generation of tree-like structures.
+It allows to describe a combinatorial structure using a specification in the style of “Analytic Combinatorics” and, using the Boltzmann sampling framework, it produces a fast, uniform, and approximate size sampler of objects described by this specification.
 
-Our goal is to design a high-level and user-friendly API with :
-* handling of grammars for monovariate/multivariate and unlabeled/labeled/increasingly labeled structures.
-* use of the state of the art oracles (newton iteration, multiparametric tuning, etc)
-* fast sampling of large structures (size 1e6 and more)
- 
-In this ticket we provide a implementation of the Boltzmann method introduced by Duchon, Flajolet, Louchard and Schaeffer (see [DuFlLoSc04](http://algo.inria.fr/flajolet/Publications/DuFlLoSc04.pdf)) with the following features :
-* labeled and unlabeled classes defined with +, *, Seq and recursive definition
-* an oracle dealing with explicit generating function
-* an oracle based on the work of Darasse (see [his thesis](http://www.ortsa.com/lip6_these/docs/these.pdf)) : less accurate but more generic
-* a fast Cython implementation of a generic generator
+https://gitlab.com/ParComb/usain-boltz
 
``````




---

archive/issue_events_377968.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2022-09-13T19:12:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27526#event-377968"
}
```



---

archive/issue_events_377969.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2022-09-13T19:12:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "label": "https://github.com/sagemath/sage/labels/feature",
    "label_color": "008080",
    "label_name": "feature",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27526#event-377969"
}
```



---

archive/issue_events_377970.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2022-09-13T19:12:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "c: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27526#event-377970"
}
```



---

archive/issue_events_377971.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2022-09-13T19:12:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20optional",
    "label_color": "000080",
    "label_name": "c: packages: optional",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27526#event-377971"
}
```



---

archive/issue_events_377972.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2022-09-13T19:12:47Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "title_is": "Usainboltz package: fast Boltzmann random generation of tree-like structures",
    "title_was": "Boltzmann samplers for combinatorial grammars",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27526#event-377972"
}
```



---

archive/issue_comments_426420.json:
```json
{
    "body": "<div id=\"comment:37\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b2d1bdebca2ff6e306fd1eff20d3c47597c3f138\">b2d1bde</a></td><td><code>Capitalise `Botlzmann' in usainboltz's description</code></td></tr></table>\n",
    "created_at": "2022-09-13T19:59:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426420",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:37"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b2d1bdebca2ff6e306fd1eff20d3c47597c3f138">b2d1bde</a></td><td><code>Capitalise `Botlzmann' in usainboltz's description</code></td></tr></table>




---

archive/issue_comments_426421.json:
```json
{
    "body": "Changed commit from **[`e72b3a7`](https://github.com/sagemath/sagetrac-mirror/commit/e72b3a7c80281fb6eb4a701ae36e4d085bb92010)** to **[`b2d1bde`](https://github.com/sagemath/sagetrac-mirror/commit/b2d1bdebca2ff6e306fd1eff20d3c47597c3f138)**",
    "created_at": "2022-09-13T19:59:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426421",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e72b3a7`](https://github.com/sagemath/sagetrac-mirror/commit/e72b3a7c80281fb6eb4a701ae36e4d085bb92010)** to **[`b2d1bde`](https://github.com/sagemath/sagetrac-mirror/commit/b2d1bdebca2ff6e306fd1eff20d3c47597c3f138)**



---

archive/issue_comments_426422.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\n\n```\n+Usainboltz: fast Boltzmann random generation of tree-like structures\n+====================================================================\n```\nthis line should start with lowercase",
    "created_at": "2022-09-13T20:34:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426422",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:38" align="right">comment:38</div>


```
+Usainboltz: fast Boltzmann random generation of tree-like structures
+====================================================================
```
this line should start with lowercase



---

archive/issue_comments_426423.json:
```json
{
    "body": "Changed commit from **[`b2d1bde`](https://github.com/sagemath/sagetrac-mirror/commit/b2d1bdebca2ff6e306fd1eff20d3c47597c3f138)** to **[`5f09d11`](https://github.com/sagemath/sagetrac-mirror/commit/5f09d11610026855b87fb93010e42f0fee3bf820)**",
    "created_at": "2022-09-13T20:44:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426423",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b2d1bde`](https://github.com/sagemath/sagetrac-mirror/commit/b2d1bdebca2ff6e306fd1eff20d3c47597c3f138)** to **[`5f09d11`](https://github.com/sagemath/sagetrac-mirror/commit/5f09d11610026855b87fb93010e42f0fee3bf820)**



---

archive/issue_comments_426424.json:
```json
{
    "body": "<div id=\"comment:39\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5f09d11610026855b87fb93010e42f0fee3bf820\">5f09d11</a></td><td><code>Lowercase the package name in usainboltz's SPKG.rst</code></td></tr></table>\n",
    "created_at": "2022-09-13T20:44:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426424",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:39"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5f09d11610026855b87fb93010e42f0fee3bf820">5f09d11</a></td><td><code>Lowercase the package name in usainboltz's SPKG.rst</code></td></tr></table>




---

archive/issue_comments_426425.json:
```json
{
    "body": "Reviewer: **Thierry Monteil**",
    "created_at": "2022-09-13T20:57:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426425",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Reviewer: **Thierry Monteil**



---

archive/issue_comments_426426.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nOnce you are happy with your changes, you can set the \"Action\" to \"needs review\".",
    "created_at": "2022-09-13T20:57:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426426",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:40" align="right">comment:40</div>

Once you are happy with your changes, you can set the "Action" to "needs review".



---

archive/issue_comments_426427.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nReplying to [Thierry Monteil](#comment:40):\n> Once you are happy with your changes, you can set the \"Action\" to \"needs review\".\n\nOh right, thanks for recalling me the usual workflow, I'm not used to it yet ^^\n\nI'm a bit frustrated that I could not test it. I started a new `make build` which seems to want to recompile some stuff. I'll try to test again tomorrow when it's done and update the Action field afterward",
    "created_at": "2022-09-13T21:08:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426427",
    "user": "https://github.com/Kerl13"
}
```

<div id="comment:41" align="right">comment:41</div>

Replying to [Thierry Monteil](#comment:40):
> Once you are happy with your changes, you can set the "Action" to "needs review".

Oh right, thanks for recalling me the usual workflow, I'm not used to it yet ^^

I'm a bit frustrated that I could not test it. I started a new `make build` which seems to want to recompile some stuff. I'll try to test again tomorrow when it's done and update the Action field afterward



---

archive/issue_comments_426428.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nReplying to [Thierry Monteil](#comment:34):\n> It worked well for me, i could successfully execute `binarytrees.ipynb`.\n\nI still don't manage to `sage -i usainboltz` (even on a fresh clone after having built sage with `make build`) it seems that usainboltz should appear in the output of `make list` but it doesn't. Rebuilding `build/make/Makefile` doesn't help either.",
    "created_at": "2022-09-14T12:50:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426428",
    "user": "https://github.com/Kerl13"
}
```

<div id="comment:42" align="right">comment:42</div>

Replying to [Thierry Monteil](#comment:34):
> It worked well for me, i could successfully execute `binarytrees.ipynb`.

I still don't manage to `sage -i usainboltz` (even on a fresh clone after having built sage with `make build`) it seems that usainboltz should appear in the output of `make list` but it doesn't. Rebuilding `build/make/Makefile` doesn't help either.



---

archive/issue_comments_426429.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nOk now it works! Sorry for the noise, there had been a problem at `make configure` that I didn't spot when I built sage",
    "created_at": "2022-09-14T14:14:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426429",
    "user": "https://github.com/Kerl13"
}
```

<div id="comment:43" align="right">comment:43</div>

Ok now it works! Sorry for the noise, there had been a problem at `make configure` that I didn't spot when I built sage



---

archive/issue_events_377973.json:
```json
{
    "actor": "https://github.com/Kerl13",
    "created_at": "2022-09-14T14:14:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27526#event-377973"
}
```



---

archive/issue_comments_426430.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\n\n```\n+++ b/build/pkgs/usainboltz/dependencies\n@@ -0,0 +1,4 @@\n+$(PYTHON) cython | $(PYTHON_TOOLCHAIN)\n```\nIt's better to put `cython` after the `|`, to make it an order-only dependency",
    "created_at": "2022-09-14T14:53:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426430",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:45" align="right">comment:45</div>


```
+++ b/build/pkgs/usainboltz/dependencies
@@ -0,0 +1,4 @@
+$(PYTHON) cython | $(PYTHON_TOOLCHAIN)
```
It's better to put `cython` after the `|`, to make it an order-only dependency



---

archive/issue_comments_426431.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nOn macOS (with clang)\n\n```\n[usainboltz]       gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -iwithsysroot/System/Library/Frameworks/System.framework/PrivateHeaders -iwithsysroot/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.8/Headers -Werror=implicit-function-declaration -Isrc/xoshiro -Isrc/usainboltz -I/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/local/var/lib/sage/venv-python3.8/include -I/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.8/Headers -c src/usainboltz/cpp_simulator.cpp -o build/temp.macosx-10.14-x86_64-cpython-38/src/usainboltz/cpp_simulator.o\n[usainboltz]       In file included from src/usainboltz/cpp_simulator.cpp:7:\n[usainboltz]       src/usainboltz/cpp_simulator.hpp:45:7: error: union member '_as_product' has a non-trivial copy constructor\n[usainboltz]           } _as_product;\n[usainboltz]             ^\n[usainboltz]       src/usainboltz/cpp_simulator.hpp:44:28: note: because field of type 'std::vector<CRule *>' has a user-provided copy constructor\n[usainboltz]             std::vector<CRule *> args;\n[usainboltz]                                  ^\n[usainboltz]       /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1/vector:581:5: note: declared here\n[usainboltz]           vector(const vector& __x);\n[usainboltz]           ^\n[usainboltz]       In file included from src/usainboltz/cpp_simulator.cpp:7:\n[usainboltz]       src/usainboltz/cpp_simulator.hpp:50:37: error: a space is required between consecutive right angle brackets (use '> >')\n[usainboltz]             std::vector<std::vector<double>> weights;\n[usainboltz]                                           ^~\n[usainboltz]                                           > >\n```",
    "created_at": "2022-09-14T14:59:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426431",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:46" align="right">comment:46</div>

On macOS (with clang)

```
[usainboltz]       gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -iwithsysroot/System/Library/Frameworks/System.framework/PrivateHeaders -iwithsysroot/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.8/Headers -Werror=implicit-function-declaration -Isrc/xoshiro -Isrc/usainboltz -I/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/local/var/lib/sage/venv-python3.8/include -I/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.8/Headers -c src/usainboltz/cpp_simulator.cpp -o build/temp.macosx-10.14-x86_64-cpython-38/src/usainboltz/cpp_simulator.o
[usainboltz]       In file included from src/usainboltz/cpp_simulator.cpp:7:
[usainboltz]       src/usainboltz/cpp_simulator.hpp:45:7: error: union member '_as_product' has a non-trivial copy constructor
[usainboltz]           } _as_product;
[usainboltz]             ^
[usainboltz]       src/usainboltz/cpp_simulator.hpp:44:28: note: because field of type 'std::vector<CRule *>' has a user-provided copy constructor
[usainboltz]             std::vector<CRule *> args;
[usainboltz]                                  ^
[usainboltz]       /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1/vector:581:5: note: declared here
[usainboltz]           vector(const vector& __x);
[usainboltz]           ^
[usainboltz]       In file included from src/usainboltz/cpp_simulator.cpp:7:
[usainboltz]       src/usainboltz/cpp_simulator.hpp:50:37: error: a space is required between consecutive right angle brackets (use '> >')
[usainboltz]             std::vector<std::vector<double>> weights;
[usainboltz]                                           ^~
[usainboltz]                                           > >
```



---

archive/issue_comments_426432.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nI see that `cvxpy` is a dependency of this package. You may be interested in #34251, which adds it as an SPKG",
    "created_at": "2022-09-14T15:01:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426432",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:47" align="right">comment:47</div>

I see that `cvxpy` is a dependency of this package. You may be interested in #34251, which adds it as an SPKG



---

archive/issue_comments_426433.json:
```json
{
    "body": "<div id=\"comment:48\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b00b0653620e890379363a23b3ec056be0ac9578\">b00b065</a></td><td><code>usainboltz: make cython an order-only dependency</code></td></tr></table>\n",
    "created_at": "2022-09-14T15:06:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426433",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:48"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b00b0653620e890379363a23b3ec056be0ac9578">b00b065</a></td><td><code>usainboltz: make cython an order-only dependency</code></td></tr></table>




---

archive/issue_comments_426434.json:
```json
{
    "body": "Changed commit from **[`5f09d11`](https://github.com/sagemath/sagetrac-mirror/commit/5f09d11610026855b87fb93010e42f0fee3bf820)** to **[`b00b065`](https://github.com/sagemath/sagetrac-mirror/commit/b00b0653620e890379363a23b3ec056be0ac9578)**",
    "created_at": "2022-09-14T15:06:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426434",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5f09d11`](https://github.com/sagemath/sagetrac-mirror/commit/5f09d11610026855b87fb93010e42f0fee3bf820)** to **[`b00b065`](https://github.com/sagemath/sagetrac-mirror/commit/b00b0653620e890379363a23b3ec056be0ac9578)**



---

archive/issue_comments_426435.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\n> It's better to put `cython` after the `|`, to make it an order-only dependency\n\nGood point, sorry I missed that",
    "created_at": "2022-09-14T15:07:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426435",
    "user": "https://github.com/Kerl13"
}
```

<div id="comment:49" align="right">comment:49</div>

> It's better to put `cython` after the `|`, to make it an order-only dependency

Good point, sorry I missed that



---

archive/issue_comments_426436.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nReplying to [Matthias K\u00f6ppe](#comment:46):\n> On macOS (with clang)\n> \n> ```\n> [usainboltz]       src/usainboltz/cpp_simulator.hpp:50:37: error: a space is required between consecutive right angle brackets (use '> >')\n> [usainboltz]             std::vector<std::vector<double>> weights;\n> [usainboltz]                                           ^~\n> ```\n\nI was not aware of that issue, thanks for reporting, I'll add clang to usainboltz' CI",
    "created_at": "2022-09-14T15:18:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426436",
    "user": "https://github.com/Kerl13"
}
```

<div id="comment:50" align="right">comment:50</div>

Replying to [Matthias Köppe](#comment:46):
> On macOS (with clang)
> 
> ```
> [usainboltz]       src/usainboltz/cpp_simulator.hpp:50:37: error: a space is required between consecutive right angle brackets (use '> >')
> [usainboltz]             std::vector<std::vector<double>> weights;
> [usainboltz]                                           ^~
> ```

I was not aware of that issue, thanks for reporting, I'll add clang to usainboltz' CI



---

archive/issue_comments_426437.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nProbably needs `-std=c++11` or something like this",
    "created_at": "2022-09-14T15:25:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426437",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:51" align="right">comment:51</div>

Probably needs `-std=c++11` or something like this



---

archive/issue_comments_426438.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nReplying to [Matthias K\u00f6ppe](#comment:47):\n> I see that `cvxpy` is a dependency of this package. You may be interested in #34251, which adds it as an SPKG\n\nYes it is indeed interesting. How do I benefit from this?\nWill sage's pip use the optional `cvxpy` package if I add it as a dependency? Or do I need to switch to the `normal` package format for usainboltz`? I'll be happy to do so if it's considered better.\n\nBtw, Thierry told me a few days ago that our (only \u201creal\u201d dependency `paganini` might be of interest for sage as well. Another good reason to package everything as `normal`?",
    "created_at": "2022-09-14T15:31:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426438",
    "user": "https://github.com/Kerl13"
}
```

<div id="comment:52" align="right">comment:52</div>

Replying to [Matthias Köppe](#comment:47):
> I see that `cvxpy` is a dependency of this package. You may be interested in #34251, which adds it as an SPKG

Yes it is indeed interesting. How do I benefit from this?
Will sage's pip use the optional `cvxpy` package if I add it as a dependency? Or do I need to switch to the `normal` package format for usainboltz`? I'll be happy to do so if it's considered better.

Btw, Thierry told me a few days ago that our (only “real” dependency `paganini` might be of interest for sage as well. Another good reason to package everything as `normal`?



---

archive/issue_comments_426439.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nReplying to [Matthias K\u00f6ppe](#comment:51):\n> Probably needs `-std=c++11` or something like this\n\nI'll check that but I think I prefer to follow the error message's suggestion if it makes the library compatible with more compilers / compiler versions",
    "created_at": "2022-09-14T15:33:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426439",
    "user": "https://github.com/Kerl13"
}
```

<div id="comment:53" align="right">comment:53</div>

Replying to [Matthias Köppe](#comment:51):
> Probably needs `-std=c++11` or something like this

I'll check that but I think I prefer to follow the error message's suggestion if it makes the library compatible with more compilers / compiler versions



---

archive/issue_comments_426440.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nSee #32074 for detailed info on compiler supported by Sage & related software",
    "created_at": "2022-09-14T16:14:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426440",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:54" align="right">comment:54</div>

See #32074 for detailed info on compiler supported by Sage & related software



---

archive/issue_comments_426441.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nReplying to [Matthias K\u00f6ppe](#comment:46):\n\nI fixed the compilation issue with clang (at list on my setup).\n\nWould you mind checking whether `sage -pip install git+https://gitlab.com/ParComb/usain-boltz#master` works for you before I release a new version? That would be really nice.\n\nA few warnings are to be expected because cython does not produce fully c++11 compatible code (https://github.com/cython/cython/pull/4687). I don't know to what extent this is a problem.\n\n> On macOS (with clang)\n> \n> ```\n> [usainboltz]       gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -iwithsysroot/System/Library/Frameworks/System.framework/PrivateHeaders -iwithsysroot/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.8/Headers -Werror=implicit-function-declaration -Isrc/xoshiro -Isrc/usainboltz -I/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/local/var/lib/sage/venv-python3.8/include -I/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.8/Headers -c src/usainboltz/cpp_simulator.cpp -o build/temp.macosx-10.14-x86_64-cpython-38/src/usainboltz/cpp_simulator.o\n> [...]\n> ```\n\nBy the way, I just noticed you seemed to use gcc from the log you pasted.\nIs this a mistake or is `gcc` an alias for `clang` in your setup?",
    "created_at": "2022-09-19T10:29:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426441",
    "user": "https://github.com/Kerl13"
}
```

<div id="comment:55" align="right">comment:55</div>

Replying to [Matthias Köppe](#comment:46):

I fixed the compilation issue with clang (at list on my setup).

Would you mind checking whether `sage -pip install git+https://gitlab.com/ParComb/usain-boltz#master` works for you before I release a new version? That would be really nice.

A few warnings are to be expected because cython does not produce fully c++11 compatible code (https://github.com/cython/cython/pull/4687). I don't know to what extent this is a problem.

> On macOS (with clang)
> 
> ```
> [usainboltz]       gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -iwithsysroot/System/Library/Frameworks/System.framework/PrivateHeaders -iwithsysroot/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.8/Headers -Werror=implicit-function-declaration -Isrc/xoshiro -Isrc/usainboltz -I/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/local/var/lib/sage/venv-python3.8/include -I/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.8/Headers -c src/usainboltz/cpp_simulator.cpp -o build/temp.macosx-10.14-x86_64-cpython-38/src/usainboltz/cpp_simulator.o
> [...]
> ```

By the way, I just noticed you seemed to use gcc from the log you pasted.
Is this a mistake or is `gcc` an alias for `clang` in your setup?



---

archive/issue_comments_426442.json:
```json
{
    "body": "<div id=\"comment:56\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/83929369bdd38baa1b2cf4de94a1371a00d4b0b5\">8392936</a></td><td><code>Add the optas optional package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2397f149ca07660498b9b5545fc2706d2efc481d\">2397f14</a></td><td><code>Add the paganini optional package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/76e06f0afb752e82f21f6505d0cbef2263b004a0\">76e06f0</a></td><td><code>Turn usainboltz into a normal package</code></td></tr></table>\n",
    "created_at": "2022-09-19T15:00:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426442",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:56"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/83929369bdd38baa1b2cf4de94a1371a00d4b0b5">8392936</a></td><td><code>Add the optas optional package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2397f149ca07660498b9b5545fc2706d2efc481d">2397f14</a></td><td><code>Add the paganini optional package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/76e06f0afb752e82f21f6505d0cbef2263b004a0">76e06f0</a></td><td><code>Turn usainboltz into a normal package</code></td></tr></table>




---

archive/issue_comments_426443.json:
```json
{
    "body": "Changed commit from **[`b00b065`](https://github.com/sagemath/sagetrac-mirror/commit/b00b0653620e890379363a23b3ec056be0ac9578)** to **[`76e06f0`](https://github.com/sagemath/sagetrac-mirror/commit/76e06f0afb752e82f21f6505d0cbef2263b004a0)**",
    "created_at": "2022-09-19T15:00:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426443",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b00b065`](https://github.com/sagemath/sagetrac-mirror/commit/b00b0653620e890379363a23b3ec056be0ac9578)** to **[`76e06f0`](https://github.com/sagemath/sagetrac-mirror/commit/76e06f0afb752e82f21f6505d0cbef2263b004a0)**



---

archive/issue_comments_426444.json:
```json
{
    "body": "Dependencies: **#34251**",
    "created_at": "2022-09-19T15:01:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426444",
    "user": "https://github.com/Kerl13"
}
```

Dependencies: **#34251**



---

archive/issue_comments_426445.json:
```json
{
    "body": "<div id=\"comment:58\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d8e42b9f8bacdb2b0018b0bc392542f61b9dbd46\">d8e42b9</a></td><td><code>Bump usainboltz to 0.2.1</code></td></tr></table>\n",
    "created_at": "2022-09-19T15:31:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426445",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:58"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d8e42b9f8bacdb2b0018b0bc392542f61b9dbd46">d8e42b9</a></td><td><code>Bump usainboltz to 0.2.1</code></td></tr></table>




---

archive/issue_comments_426446.json:
```json
{
    "body": "Changed commit from **[`76e06f0`](https://github.com/sagemath/sagetrac-mirror/commit/76e06f0afb752e82f21f6505d0cbef2263b004a0)** to **[`d8e42b9`](https://github.com/sagemath/sagetrac-mirror/commit/d8e42b9f8bacdb2b0018b0bc392542f61b9dbd46)**",
    "created_at": "2022-09-19T15:31:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426446",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`76e06f0`](https://github.com/sagemath/sagetrac-mirror/commit/76e06f0afb752e82f21f6505d0cbef2263b004a0)** to **[`d8e42b9`](https://github.com/sagemath/sagetrac-mirror/commit/d8e42b9f8bacdb2b0018b0bc392542f61b9dbd46)**



---

archive/issue_comments_426447.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">comment:59</div>\n\nI could finally get my hands on a mac this afternoon so I could test the compilation there and release a new version, sorry for the noise",
    "created_at": "2022-09-19T15:33:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426447",
    "user": "https://github.com/Kerl13"
}
```

<div id="comment:59" align="right">comment:59</div>

I could finally get my hands on a mac this afternoon so I could test the compilation there and release a new version, sorry for the noise



---

archive/issue_comments_426448.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">comment:60</div>\n\nReplying to [Martin P\u00e9pin](#comment:55):\n> By the way, I just noticed you seemed to use gcc from the log you pasted.\n> Is this a mistake or is `gcc` an alias for `clang` in your setup?\n\nOn macOS, the `gcc` binary provided by Xcode is a compatibility shim around Apple's version of clang.",
    "created_at": "2022-09-19T16:54:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426448",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:60" align="right">comment:60</div>

Replying to [Martin Pépin](#comment:55):
> By the way, I just noticed you seemed to use gcc from the log you pasted.
> Is this a mistake or is `gcc` an alias for `clang` in your setup?

On macOS, the `gcc` binary provided by Xcode is a compatibility shim around Apple's version of clang.



---

archive/issue_comments_426449.json:
```json
{
    "body": "<div id=\"comment:61\" align=\"right\">comment:61</div>\n\nReplying to [Martin P\u00e9pin](#comment:52):\n> Replying to [Matthias K\u00f6ppe](#comment:47):\n> > I see that `cvxpy` is a dependency of this package. You may be interested in #34251, which adds it as an SPKG\n\n> \n> Yes it is indeed interesting. How do I benefit from this?\n\n#34251 is waiting for reviewers...\n\n> Will sage's pip use the optional `cvxpy` package if I add it as a dependency? Or do I need to switch to the `normal` package format for usainboltz`? I'll be happy to do so if it's considered better.\n\nWhen #34251 is merged, we should add `cvxpy` to `build/pkgs/usainboltz/dependencies`.\nThis will avoid the conflict (possible races in parallel builds) between installing `cvxpy` from our package and getting `cvxpy`.\n\nThere's no need to switch `usainboltz` to `normal`.",
    "created_at": "2022-09-19T16:58:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426449",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:61" align="right">comment:61</div>

Replying to [Martin Pépin](#comment:52):
> Replying to [Matthias Köppe](#comment:47):
> > I see that `cvxpy` is a dependency of this package. You may be interested in #34251, which adds it as an SPKG

> 
> Yes it is indeed interesting. How do I benefit from this?

#34251 is waiting for reviewers...

> Will sage's pip use the optional `cvxpy` package if I add it as a dependency? Or do I need to switch to the `normal` package format for usainboltz`? I'll be happy to do so if it's considered better.

When #34251 is merged, we should add `cvxpy` to `build/pkgs/usainboltz/dependencies`.
This will avoid the conflict (possible races in parallel builds) between installing `cvxpy` from our package and getting `cvxpy`.

There's no need to switch `usainboltz` to `normal`.



---

archive/issue_comments_426450.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">comment:62</div>\n\nReplying to [Martin P\u00e9pin](#comment:52):\n> Btw, Thierry told me a few days ago that our (only \u201creal\u201d dependency `paganini` might be of interest for sage as well.\n\nI can't comment on this; it's outside of my domain of mathematical expertise.\n\n>  Another good reason to package everything as `normal`?\n\nNo, I'd say it's best to set things up as `pip` packages as you did. The additional maintenance burden (upgrade tickets) with `normal` packages is typically only warranted if we have tight integration of the provided functionality in Sage.",
    "created_at": "2022-09-19T17:03:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426450",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:62" align="right">comment:62</div>

Replying to [Martin Pépin](#comment:52):
> Btw, Thierry told me a few days ago that our (only “real” dependency `paganini` might be of interest for sage as well.

I can't comment on this; it's outside of my domain of mathematical expertise.

>  Another good reason to package everything as `normal`?

No, I'd say it's best to set things up as `pip` packages as you did. The additional maintenance burden (upgrade tickets) with `normal` packages is typically only warranted if we have tight integration of the provided functionality in Sage.



---

archive/issue_comments_426451.json:
```json
{
    "body": "<div id=\"comment:63\" align=\"right\">comment:63</div>\n\nOh, now I see you have made the switch to `normal` packages already on the new branch.\nThen it's best to merge the branch of #34251 here. The current branch can't be tested because `cvxpy` is not a package",
    "created_at": "2022-09-19T17:15:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426451",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:63" align="right">comment:63</div>

Oh, now I see you have made the switch to `normal` packages already on the new branch.
Then it's best to merge the branch of #34251 here. The current branch can't be tested because `cvxpy` is not a package



---

archive/issue_comments_426452.json:
```json
{
    "body": "<div id=\"comment:64\" align=\"right\">comment:64</div>\n\n\n```\ndiff --git a/build/pkgs/optas/dependencies b/build/pkgs/optas/dependencies\nnew file mode 100644\nindex 00000000..7d1ace1\n--- /dev/null\n+++ b/build/pkgs/optas/dependencies\n@@ -0,0 +1,4 @@\n+$(PYTHON) | $(PYTHON_TOOLCHAIN) gcc\n```\nThere's no need for the `gcc` here. This dependency is implicit for all packages.",
    "created_at": "2022-09-19T17:17:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426452",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:64" align="right">comment:64</div>


```
diff --git a/build/pkgs/optas/dependencies b/build/pkgs/optas/dependencies
new file mode 100644
index 00000000..7d1ace1
--- /dev/null
+++ b/build/pkgs/optas/dependencies
@@ -0,0 +1,4 @@
+$(PYTHON) | $(PYTHON_TOOLCHAIN) gcc
```
There's no need for the `gcc` here. This dependency is implicit for all packages.



---

archive/issue_comments_426453.json:
```json
{
    "body": "<div id=\"comment:65\" align=\"right\">comment:65</div>\n\nOther than that, it's looking good",
    "created_at": "2022-09-19T17:20:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426453",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:65" align="right">comment:65</div>

Other than that, it's looking good



---

archive/issue_comments_426454.json:
```json
{
    "body": "<div id=\"comment:66\" align=\"right\">comment:66</div>\n\nReplying to [Matthias K\u00f6ppe](#comment:61):\n> #34251 is waiting for reviewers...\n\nI think I can do that!",
    "created_at": "2022-09-19T18:55:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27526#issuecomment-426454",
    "user": "https://github.com/Kerl13"
}
```

<div id="comment:66" align="right">comment:66</div>

Replying to [Matthias Köppe](#comment:61):
> #34251 is waiting for reviewers...

I think I can do that!
