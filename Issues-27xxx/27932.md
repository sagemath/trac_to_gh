# Issue 27932: Three.js: Support vector field plots

archive/issues_027695.json:
```json
{
    "body": "CC:  @egourgoulhon\n\nKeywords: threejs\n\nThis enhancement allows plotting of 3D vector fields. This is done by replacing the translated line segments of the field with 3D arrows at half the thickness of the lines. Since there is currently no way to turn off the arrow heads on the vector field, it is assumed they will be present.\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/27932\n\n",
    "closed_at": "2019-06-27T20:13:15Z",
    "created_at": "2019-06-05T00:40:02Z",
    "labels": [
        "component: graphics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.9",
    "title": "Three.js: Support vector field plots",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/27932",
    "user": "https://github.com/paulmasson"
}
```
CC:  @egourgoulhon

Keywords: threejs

This enhancement allows plotting of 3D vector fields. This is done by replacing the translated line segments of the field with 3D arrows at half the thickness of the lines. Since there is currently no way to turn off the arrow heads on the vector field, it is assumed they will be present.


Issue created by migration from https://trac.sagemath.org/ticket/27932





---

archive/issue_comments_390542.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-06-05T00:43:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27932#issuecomment-390542",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_390543.json:
```json
{
    "body": "In the process of adding this enhancement, I discovered that `line3d` has an option `arrow_head` for adding such to line segments that is not currently supported by the Three.js viewer. Since I'll assume most people will use `arrow3d` to achieve the same effect, I don't plan to support that attribute unless necessary.",
    "created_at": "2019-06-05T00:46:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27932#issuecomment-390543",
    "user": "https://github.com/paulmasson"
}
```

In the process of adding this enhancement, I discovered that `line3d` has an option `arrow_head` for adding such to line segments that is not currently supported by the Three.js viewer. Since I'll assume most people will use `arrow3d` to achieve the same effect, I don't plan to support that attribute unless necessary.



---

archive/issue_comments_390544.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-06-05T01:02:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27932#issuecomment-390544",
    "user": "https://github.com/paulmasson"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_390545.json:
```json
{
    "body": "Thanks for this improvement! The following example from the *Plotting 3D fields* section of the reference manual:\n\n```\nx,y,z = var('x y z')\ng = plot_vector_field3d((x*cos(z),-y*cos(z),sin(z)), (x,0,pi), (y,0,pi), \n                        (z,0,pi))\nshow(g, viewer='threejs')\n```\nworks but\n\n```\nx,y,z = var('x y z')\nplot_vector_field3d((x*cos(z),-y*cos(z),sin(z)), (x,0,pi), (y,0,pi), (z,0,pi), \n                    viewer='threejs')\n```\nresults in a Jmol plot, as if the option `viewer='threejs'` was not taken into account...",
    "created_at": "2019-06-14T14:58:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27932#issuecomment-390545",
    "user": "https://github.com/egourgoulhon"
}
```

Thanks for this improvement! The following example from the *Plotting 3D fields* section of the reference manual:

```
x,y,z = var('x y z')
g = plot_vector_field3d((x*cos(z),-y*cos(z),sin(z)), (x,0,pi), (y,0,pi), 
                        (z,0,pi))
show(g, viewer='threejs')
```
works but

```
x,y,z = var('x y z')
plot_vector_field3d((x*cos(z),-y*cos(z),sin(z)), (x,0,pi), (y,0,pi), (z,0,pi), 
                    viewer='threejs')
```
results in a Jmol plot, as if the option `viewer='threejs'` was not taken into account...



---

archive/issue_comments_390546.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-06-14T14:58:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27932#issuecomment-390546",
    "user": "https://github.com/egourgoulhon"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_390547.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-06-18T21:55:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27932#issuecomment-390547",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_390548.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-06-18T21:57:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27932#issuecomment-390548",
    "user": "https://github.com/paulmasson"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_390549.json:
```json
{
    "body": "Those pesky extra keywords...",
    "created_at": "2019-06-18T21:57:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27932#issuecomment-390549",
    "user": "https://github.com/paulmasson"
}
```

Those pesky extra keywords...



---

archive/issue_comments_390550.json:
```json
{
    "body": "Thanks!",
    "created_at": "2019-06-20T09:44:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27932#issuecomment-390550",
    "user": "https://github.com/egourgoulhon"
}
```

Thanks!



---

archive/issue_comments_390551.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-06-20T09:44:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27932#issuecomment-390551",
    "user": "https://github.com/egourgoulhon"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_390552.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-06-27T20:13:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27932#issuecomment-390552",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_069215.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-06-27T20:13:15Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/27932",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27932#event-69215"
}
```



---

archive/issue_comments_390553.json:
```json
{
    "body": "Not in Sage 8.8.  Let's please to try keep tickets' milestones related to the release in which we actually intend to include them, and in particular the release in which they were *actually* included, especially when closing tickets.",
    "created_at": "2019-07-03T11:34:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27932#issuecomment-390553",
    "user": "https://github.com/embray"
}
```

Not in Sage 8.8.  Let's please to try keep tickets' milestones related to the release in which we actually intend to include them, and in particular the release in which they were *actually* included, especially when closing tickets.



---

archive/issue_events_069216.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-07-03T11:34:48Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27932",
    "milestone": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27932#event-69216"
}
```
