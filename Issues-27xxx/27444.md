# Issue 27444: Expose multithreaded fflas-ffpack features

archive/issues_027207.json:
```json
{
    "body": "Dense linear algebra mod small p uses fflas-ffpack over float or double.\nThis library support multithreading for some routines: \n- matrix-matrix multiplication\n- PLUQ decomposition\n- etc.\n\nThis ticket proposes to expose these parallel variants to Sage user.\n\n**CC:**  @ClementPernet\n\n**Branch:** [e432cb0e542e6c2d7d5e5495611cb42240b89c17](https://github.com/sagemath/sagetrac-mirror/commit/e432cb0e542e6c2d7d5e5495611cb42240b89c17)\n\n**Reviewer:** Luca De Feo\n\n**Author:** Hongguang Zhu, Cl\u00e9ment Pernet\n\n**Dependencies:** #26932\n\nIssue created by migration from https://trac.sagemath.org/ticket/27444\n\n",
    "closed_at": "2019-09-02T21:41:23Z",
    "created_at": "2019-03-08T09:49:11Z",
    "labels": [
        "component: packages: standard",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.9",
    "title": "Expose multithreaded fflas-ffpack features",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/27444",
    "user": "https://github.com/ZHG2017"
}
```
Dense linear algebra mod small p uses fflas-ffpack over float or double.
This library support multithreading for some routines: 
- matrix-matrix multiplication
- PLUQ decomposition
- etc.

This ticket proposes to expose these parallel variants to Sage user.

**CC:**  @ClementPernet

**Branch:** [e432cb0e542e6c2d7d5e5495611cb42240b89c17](https://github.com/sagemath/sagetrac-mirror/commit/e432cb0e542e6c2d7d5e5495611cb42240b89c17)

**Reviewer:** Luca De Feo

**Author:** Hongguang Zhu, Clément Pernet

**Dependencies:** #26932

Issue created by migration from https://trac.sagemath.org/ticket/27444





---

archive/issue_comments_428942.json:
```json
{
    "body": "**Branch:** [u/gh-ZHG2017/expose_multithreaded_fflas_ffpack_features](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-ZHG2017/expose_multithreaded_fflas_ffpack_features)",
    "created_at": "2019-03-15T09:37:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27444#issuecomment-428942",
    "user": "https://github.com/ZHG2017"
}
```

**Branch:** [u/gh-ZHG2017/expose_multithreaded_fflas_ffpack_features](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-ZHG2017/expose_multithreaded_fflas_ffpack_features)



---

archive/issue_comments_428943.json:
```json
{
    "body": "**Commit:** [e7f4be4220242e4c70faf180912d6a580a30624b](https://github.com/sagemath/sagetrac-mirror/commit/e7f4be4220242e4c70faf180912d6a580a30624b)",
    "created_at": "2019-03-15T11:01:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27444#issuecomment-428943",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Commit:** [e7f4be4220242e4c70faf180912d6a580a30624b](https://github.com/sagemath/sagetrac-mirror/commit/e7f4be4220242e4c70faf180912d6a580a30624b)



---

archive/issue_comments_428944.json:
```json
{
    "body": "<a id='comment:2'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e7f4be4220242e4c70faf180912d6a580a30624b\">e7f4be4</a></td><td><code>Add ParSeqHelper to Sage</code></td></tr></table>\n",
    "created_at": "2019-03-15T11:01:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27444#issuecomment-428944",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e7f4be4220242e4c70faf180912d6a580a30624b">e7f4be4</a></td><td><code>Add ParSeqHelper to Sage</code></td></tr></table>




---

archive/issue_comments_428945.json:
```json
{
    "body": "**Changing commit** from \"[e7f4be4220242e4c70faf180912d6a580a30624b](https://github.com/sagemath/sagetrac-mirror/commit/e7f4be4220242e4c70faf180912d6a580a30624b)\" to \"[22e592e5cdae3c12bf45886aaa6194928c9e7c87](https://github.com/sagemath/sagetrac-mirror/commit/22e592e5cdae3c12bf45886aaa6194928c9e7c87)\".",
    "created_at": "2019-03-15T14:49:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27444#issuecomment-428945",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[e7f4be4220242e4c70faf180912d6a580a30624b](https://github.com/sagemath/sagetrac-mirror/commit/e7f4be4220242e4c70faf180912d6a580a30624b)" to "[22e592e5cdae3c12bf45886aaa6194928c9e7c87](https://github.com/sagemath/sagetrac-mirror/commit/22e592e5cdae3c12bf45886aaa6194928c9e7c87)".



---

archive/issue_comments_428946.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/22e592e5cdae3c12bf45886aaa6194928c9e7c87\">22e592e</a></td><td><code>fixing indents and templated parallel helper</code></td></tr></table>\n",
    "created_at": "2019-03-15T14:49:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27444#issuecomment-428946",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/22e592e5cdae3c12bf45886aaa6194928c9e7c87">22e592e</a></td><td><code>fixing indents and templated parallel helper</code></td></tr></table>




---

archive/issue_comments_428947.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eae88f5f92c812f68381846dbeba5fbbf38cd8ad\">eae88f5</a></td><td><code>fgemm aggregated into SageMaths with no more compile time error but not yet find out how to run it with more threads</code></td></tr></table>\n",
    "created_at": "2019-03-20T17:28:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27444#issuecomment-428947",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eae88f5f92c812f68381846dbeba5fbbf38cd8ad">eae88f5</a></td><td><code>fgemm aggregated into SageMaths with no more compile time error but not yet find out how to run it with more threads</code></td></tr></table>




---

archive/issue_comments_428948.json:
```json
{
    "body": "**Changing commit** from \"[22e592e5cdae3c12bf45886aaa6194928c9e7c87](https://github.com/sagemath/sagetrac-mirror/commit/22e592e5cdae3c12bf45886aaa6194928c9e7c87)\" to \"[eae88f5f92c812f68381846dbeba5fbbf38cd8ad](https://github.com/sagemath/sagetrac-mirror/commit/eae88f5f92c812f68381846dbeba5fbbf38cd8ad)\".",
    "created_at": "2019-03-20T17:28:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27444#issuecomment-428948",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[22e592e5cdae3c12bf45886aaa6194928c9e7c87](https://github.com/sagemath/sagetrac-mirror/commit/22e592e5cdae3c12bf45886aaa6194928c9e7c87)" to "[eae88f5f92c812f68381846dbeba5fbbf38cd8ad](https://github.com/sagemath/sagetrac-mirror/commit/eae88f5f92c812f68381846dbeba5fbbf38cd8ad)".



---

archive/issue_comments_428949.json:
```json
{
    "body": "<a id='comment:5'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/01de1e16a01f54a6bcfed76e6c6b39e588e954a5\">01de1e1</a></td><td><code>Compile and link flags added for enable openmp but no multithreading found</code></td></tr></table>\n",
    "created_at": "2019-03-21T13:59:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27444#issuecomment-428949",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/01de1e16a01f54a6bcfed76e6c6b39e588e954a5">01de1e1</a></td><td><code>Compile and link flags added for enable openmp but no multithreading found</code></td></tr></table>




---

archive/issue_comments_428950.json:
```json
{
    "body": "**Changing commit** from \"[eae88f5f92c812f68381846dbeba5fbbf38cd8ad](https://github.com/sagemath/sagetrac-mirror/commit/eae88f5f92c812f68381846dbeba5fbbf38cd8ad)\" to \"[01de1e16a01f54a6bcfed76e6c6b39e588e954a5](https://github.com/sagemath/sagetrac-mirror/commit/01de1e16a01f54a6bcfed76e6c6b39e588e954a5)\".",
    "created_at": "2019-03-21T13:59:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27444#issuecomment-428950",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[eae88f5f92c812f68381846dbeba5fbbf38cd8ad](https://github.com/sagemath/sagetrac-mirror/commit/eae88f5f92c812f68381846dbeba5fbbf38cd8ad)" to "[01de1e16a01f54a6bcfed76e6c6b39e588e954a5](https://github.com/sagemath/sagetrac-mirror/commit/01de1e16a01f54a6bcfed76e6c6b39e588e954a5)".



---

archive/issue_comments_428951.json:
```json
{
    "body": "<a id='comment:6'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fff3992ebda4f0febd89f2afd3f39a17e560d722\">fff3992</a></td><td><code>remove MMHelperAlgo</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d81e3c15d2db3645c0c694551f9ae3230606ac04\">d81e3c1</a></td><td><code>Merge branch 'u/gh-ZHG2017/expose_multithreaded_fflas_ffpack_features' of git://trac.sagemath.org/sage into t/27444/expose_multithreaded_fflas_ffpack_features</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/86c203840a152fac507804c138348cca550c451e\">86c2038</a></td><td><code>parallel fgemm working by patching fflas-ffpack</code></td></tr></table>\n",
    "created_at": "2019-03-21T17:04:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27444#issuecomment-428951",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fff3992ebda4f0febd89f2afd3f39a17e560d722">fff3992</a></td><td><code>remove MMHelperAlgo</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d81e3c15d2db3645c0c694551f9ae3230606ac04">d81e3c1</a></td><td><code>Merge branch 'u/gh-ZHG2017/expose_multithreaded_fflas_ffpack_features' of git://trac.sagemath.org/sage into t/27444/expose_multithreaded_fflas_ffpack_features</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/86c203840a152fac507804c138348cca550c451e">86c2038</a></td><td><code>parallel fgemm working by patching fflas-ffpack</code></td></tr></table>




---

archive/issue_comments_428952.json:
```json
{
    "body": "**Changing commit** from \"[01de1e16a01f54a6bcfed76e6c6b39e588e954a5](https://github.com/sagemath/sagetrac-mirror/commit/01de1e16a01f54a6bcfed76e6c6b39e588e954a5)\" to \"[86c203840a152fac507804c138348cca550c451e](https://github.com/sagemath/sagetrac-mirror/commit/86c203840a152fac507804c138348cca550c451e)\".",
    "created_at": "2019-03-21T17:04:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27444#issuecomment-428952",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[01de1e16a01f54a6bcfed76e6c6b39e588e954a5](https://github.com/sagemath/sagetrac-mirror/commit/01de1e16a01f54a6bcfed76e6c6b39e588e954a5)" to "[86c203840a152fac507804c138348cca550c451e](https://github.com/sagemath/sagetrac-mirror/commit/86c203840a152fac507804c138348cca550c451e)".



---

archive/issue_comments_428953.json:
```json
{
    "body": "<a id='comment:7'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/449b103c8dadc063933a40cae67ee0f9a379cb2f\">449b103</a></td><td><code>fix const error</code></td></tr></table>\n",
    "created_at": "2019-03-21T17:10:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27444#issuecomment-428953",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/449b103c8dadc063933a40cae67ee0f9a379cb2f">449b103</a></td><td><code>fix const error</code></td></tr></table>




---

archive/issue_comments_428954.json:
```json
{
    "body": "**Changing commit** from \"[86c203840a152fac507804c138348cca550c451e](https://github.com/sagemath/sagetrac-mirror/commit/86c203840a152fac507804c138348cca550c451e)\" to \"[449b103c8dadc063933a40cae67ee0f9a379cb2f](https://github.com/sagemath/sagetrac-mirror/commit/449b103c8dadc063933a40cae67ee0f9a379cb2f)\".",
    "created_at": "2019-03-21T17:10:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27444#issuecomment-428954",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[86c203840a152fac507804c138348cca550c451e](https://github.com/sagemath/sagetrac-mirror/commit/86c203840a152fac507804c138348cca550c451e)" to "[449b103c8dadc063933a40cae67ee0f9a379cb2f](https://github.com/sagemath/sagetrac-mirror/commit/449b103c8dadc063933a40cae67ee0f9a379cb2f)".



---

archive/issue_comments_428955.json:
```json
{
    "body": "<a id='comment:8'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/397c10854ad651aad31f8b47043c04d289c7bc1b\">397c108</a></td><td><code>fix error</code></td></tr></table>\n",
    "created_at": "2019-03-22T08:03:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27444#issuecomment-428955",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/397c10854ad651aad31f8b47043c04d289c7bc1b">397c108</a></td><td><code>fix error</code></td></tr></table>




---

archive/issue_comments_428956.json:
```json
{
    "body": "**Changing commit** from \"[449b103c8dadc063933a40cae67ee0f9a379cb2f](https://github.com/sagemath/sagetrac-mirror/commit/449b103c8dadc063933a40cae67ee0f9a379cb2f)\" to \"[397c10854ad651aad31f8b47043c04d289c7bc1b](https://github.com/sagemath/sagetrac-mirror/commit/397c10854ad651aad31f8b47043c04d289c7bc1b)\".",
    "created_at": "2019-03-22T08:03:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27444#issuecomment-428956",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[449b103c8dadc063933a40cae67ee0f9a379cb2f](https://github.com/sagemath/sagetrac-mirror/commit/449b103c8dadc063933a40cae67ee0f9a379cb2f)" to "[397c10854ad651aad31f8b47043c04d289c7bc1b](https://github.com/sagemath/sagetrac-mirror/commit/397c10854ad651aad31f8b47043c04d289c7bc1b)".



---

archive/issue_comments_428957.json:
```json
{
    "body": "<a id='comment:9'></a>\nFor the record: matrix multiplication over finite field works in parallel. The following experiment is on a 12 cores Intel skylake-x server:\n\n```\npernet@retourdest:~/soft/sage$ export OMP_NUM_THREADS=12;./sage \n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 SageMath version 8.7.beta7, Release Date: 2019-03-10               \u2502\n\u2502 Using Python 2.7.15. Type \"help()\" for help.                       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503 Warning: this is a prerelease version, and it may be unstable.     \u2503\n\u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251b\nsage: a=random_matrix(GF(11),10000)\nsage: time b=a*a\nCPU times: user 23.3 s, sys: 405 ms, total: 23.7 s\nWall time: 3.3 s\n```\nwhile on the same machine, on master we get:\n\n```\nsage: a=random_matrix(GF(11),10000)\nsage: time b=a*a\nCPU times: user 18.4 s, sys: 211 ms, total: 18.6 s\nWall time: 18.7 s\n```\n\nThe speed-up of 6 for a 12 core machine is below what a self-standing fflas-ffpack achieves.\nWe need to investigate the reasons: alignment, strassen-winograd threshold, numa placement, etc.",
    "created_at": "2019-03-22T10:14:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27444#issuecomment-428957",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:9'></a>
For the record: matrix multiplication over finite field works in parallel. The following experiment is on a 12 cores Intel skylake-x server:

```
pernet@retourdest:~/soft/sage$ export OMP_NUM_THREADS=12;./sage 
┌────────────────────────────────────────────────────────────────────┐
│ SageMath version 8.7.beta7, Release Date: 2019-03-10               │
│ Using Python 2.7.15. Type "help()" for help.                       │
└────────────────────────────────────────────────────────────────────┘
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃ Warning: this is a prerelease version, and it may be unstable.     ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
sage: a=random_matrix(GF(11),10000)
sage: time b=a*a
CPU times: user 23.3 s, sys: 405 ms, total: 23.7 s
Wall time: 3.3 s
```
while on the same machine, on master we get:

```
sage: a=random_matrix(GF(11),10000)
sage: time b=a*a
CPU times: user 18.4 s, sys: 211 ms, total: 18.6 s
Wall time: 18.7 s
```

The speed-up of 6 for a 12 core machine is below what a self-standing fflas-ffpack achieves.
We need to investigate the reasons: alignment, strassen-winograd threshold, numa placement, etc.



---

archive/issue_events_246681.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:56:15Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "milestone": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27444#event-246681"
}
```



---

archive/issue_events_246682.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:56:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "milestone": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27444#event-246682"
}
```



---

archive/issue_comments_428958.json:
```json
{
    "body": "<a id='comment:10'></a>\nTicket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)",
    "created_at": "2019-03-25T10:56:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27444#issuecomment-428958",
    "user": "https://github.com/embray"
}
```

<a id='comment:10'></a>
Ticket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)



---

archive/issue_comments_428959.json:
```json
{
    "body": "<a id='comment:11'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/58a5309f4c3da394afa1dae95cac918d9d940262\">58a5309</a></td><td><code>Using Sage Parallelism() to let user choose number of threads for fgemm</code></td></tr></table>\n",
    "created_at": "2019-03-26T09:48:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27444#issuecomment-428959",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/58a5309f4c3da394afa1dae95cac918d9d940262">58a5309</a></td><td><code>Using Sage Parallelism() to let user choose number of threads for fgemm</code></td></tr></table>




---

archive/issue_comments_428960.json:
```json
{
    "body": "**Changing commit** from \"[397c10854ad651aad31f8b47043c04d289c7bc1b](https://github.com/sagemath/sagetrac-mirror/commit/397c10854ad651aad31f8b47043c04d289c7bc1b)\" to \"[58a5309f4c3da394afa1dae95cac918d9d940262](https://github.com/sagemath/sagetrac-mirror/commit/58a5309f4c3da394afa1dae95cac918d9d940262)\".",
    "created_at": "2019-03-26T09:48:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27444#issuecomment-428960",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[397c10854ad651aad31f8b47043c04d289c7bc1b](https://github.com/sagemath/sagetrac-mirror/commit/397c10854ad651aad31f8b47043c04d289c7bc1b)" to "[58a5309f4c3da394afa1dae95cac918d9d940262](https://github.com/sagemath/sagetrac-mirror/commit/58a5309f4c3da394afa1dae95cac918d9d940262)".



---

archive/issue_comments_428961.json:
```json
{
    "body": "<a id='comment:12'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/421c853598e7f226ff2d172559fa3596d67f6ad8\">421c853</a></td><td><code>Multithreaded fgemv using [SageMath](SageMath) Parallelism() seems to be working</code></td></tr></table>\n",
    "created_at": "2019-03-27T12:37:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27444#issuecomment-428961",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/421c853598e7f226ff2d172559fa3596d67f6ad8">421c853</a></td><td><code>Multithreaded fgemv using [SageMath](SageMath) Parallelism() seems to be working</code></td></tr></table>




---

archive/issue_comments_428962.json:
```json
{
    "body": "**Changing commit** from \"[58a5309f4c3da394afa1dae95cac918d9d940262](https://github.com/sagemath/sagetrac-mirror/commit/58a5309f4c3da394afa1dae95cac918d9d940262)\" to \"[421c853598e7f226ff2d172559fa3596d67f6ad8](https://github.com/sagemath/sagetrac-mirror/commit/421c853598e7f226ff2d172559fa3596d67f6ad8)\".",
    "created_at": "2019-03-27T12:37:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27444#issuecomment-428962",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[58a5309f4c3da394afa1dae95cac918d9d940262](https://github.com/sagemath/sagetrac-mirror/commit/58a5309f4c3da394afa1dae95cac918d9d940262)" to "[421c853598e7f226ff2d172559fa3596d67f6ad8](https://github.com/sagemath/sagetrac-mirror/commit/421c853598e7f226ff2d172559fa3596d67f6ad8)".



---

archive/issue_comments_428963.json:
```json
{
    "body": "**Changing branch** from \"[u/gh-ZHG2017/expose_multithreaded_fflas_ffpack_features](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-ZHG2017/expose_multithreaded_fflas_ffpack_features)\" to \"[u/cpernet/expose_multithreaded_fflas_ffpack_features](https://github.com/sagemath/sagetrac-mirror/tree/u/cpernet/expose_multithreaded_fflas_ffpack_features)\".",
    "created_at": "2019-03-29T10:43:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27444#issuecomment-428963",
    "user": "https://github.com/ClementPernet"
}
```

**Changing branch** from "[u/gh-ZHG2017/expose_multithreaded_fflas_ffpack_features](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-ZHG2017/expose_multithreaded_fflas_ffpack_features)" to "[u/cpernet/expose_multithreaded_fflas_ffpack_features](https://github.com/sagemath/sagetrac-mirror/tree/u/cpernet/expose_multithreaded_fflas_ffpack_features)".



---

archive/issue_comments_428964.json:
```json
{
    "body": "**Changing branch** from \"[u/cpernet/expose_multithreaded_fflas_ffpack_features](https://github.com/sagemath/sagetrac-mirror/tree/u/cpernet/expose_multithreaded_fflas_ffpack_features)\" to \"[u/gh-ZHG2017/expose_multithreaded_fflas_ffpack_features](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-ZHG2017/expose_multithreaded_fflas_ffpack_features)\".",
    "created_at": "2019-05-31T15:14:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27444#issuecomment-428964",
    "user": "https://github.com/ZHG2017"
}
```

**Changing branch** from "[u/cpernet/expose_multithreaded_fflas_ffpack_features](https://github.com/sagemath/sagetrac-mirror/tree/u/cpernet/expose_multithreaded_fflas_ffpack_features)" to "[u/gh-ZHG2017/expose_multithreaded_fflas_ffpack_features](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-ZHG2017/expose_multithreaded_fflas_ffpack_features)".



---

archive/issue_events_246683.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-06-14T14:54:19Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "milestone": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27444#event-246683"
}
```



---

archive/issue_comments_428965.json:
```json
{
    "body": "<a id='comment:15'></a>\nAs the Sage-8.8 release milestone is pending, we should delete the sage-8.8 milestone for tickets that are not actively being worked on or that still require significant work to move forward.  If you feel that this ticket should be included in the next Sage release at the soonest please set its milestone to the next release milestone (sage-8.9).",
    "created_at": "2019-06-14T14:54:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27444#issuecomment-428965",
    "user": "https://github.com/embray"
}
```

<a id='comment:15'></a>
As the Sage-8.8 release milestone is pending, we should delete the sage-8.8 milestone for tickets that are not actively being worked on or that still require significant work to move forward.  If you feel that this ticket should be included in the next Sage release at the soonest please set its milestone to the next release milestone (sage-8.9).



---

archive/issue_comments_428966.json:
```json
{
    "body": "**Changing commit** from \"[421c853598e7f226ff2d172559fa3596d67f6ad8](https://github.com/sagemath/sagetrac-mirror/commit/421c853598e7f226ff2d172559fa3596d67f6ad8)\" to \"[2d552b9bd261147757b02b13461e7325b5bf1a9a](https://github.com/sagemath/sagetrac-mirror/commit/2d552b9bd261147757b02b13461e7325b5bf1a9a)\".",
    "created_at": "2019-06-20T13:12:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27444#issuecomment-428966",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[421c853598e7f226ff2d172559fa3596d67f6ad8](https://github.com/sagemath/sagetrac-mirror/commit/421c853598e7f226ff2d172559fa3596d67f6ad8)" to "[2d552b9bd261147757b02b13461e7325b5bf1a9a](https://github.com/sagemath/sagetrac-mirror/commit/2d552b9bd261147757b02b13461e7325b5bf1a9a)".



---

archive/issue_comments_428967.json:
```json
{
    "body": "<a id='comment:16'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bd8b2a0e3c84eaf05db55687b43503457ad9deca\">bd8b2a0</a></td><td><code>fix 32 compilation failure for linbox-rank</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ddacbf01a64e7830f2ad03f13200c3edff4f0dc5\">ddacbf0</a></td><td><code>upgrade to linbox-1.6.3 fflas-ffpack-2.4.1 and givaro-4.1.1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f2d1f29dcf5860053d8861a516058cc48e3f5bbb\">f2d1f29</a></td><td><code>upgrade to fflas-ffpack-2.4.2 fixing testsuite errors with echlon forms</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/784815648e9e8bac9c81e6336014f0021d91f853\">7848156</a></td><td><code>upgrade do fflas-ffpack 2.4.3 fixing an error in charpoly autotune</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c391252b321dc9865037212b76c4c8c37ccc2ea9\">c391252</a></td><td><code>Merge branch 't/26932/upgrade_to_givaro_4_1_0_fflas_ffpack_2_4_0_linbox_1_6_0' into t/27444/expose_multithreaded_fflas_ffpack_features</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2d552b9bd261147757b02b13461e7325b5bf1a9a\">2d552b9</a></td><td><code>pRank pDet and pReducedRowEchelonForm added with multithreading which also have been tested and cleaned up for code review</code></td></tr></table>\n",
    "created_at": "2019-06-20T13:12:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27444#issuecomment-428967",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bd8b2a0e3c84eaf05db55687b43503457ad9deca">bd8b2a0</a></td><td><code>fix 32 compilation failure for linbox-rank</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ddacbf01a64e7830f2ad03f13200c3edff4f0dc5">ddacbf0</a></td><td><code>upgrade to linbox-1.6.3 fflas-ffpack-2.4.1 and givaro-4.1.1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f2d1f29dcf5860053d8861a516058cc48e3f5bbb">f2d1f29</a></td><td><code>upgrade to fflas-ffpack-2.4.2 fixing testsuite errors with echlon forms</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/784815648e9e8bac9c81e6336014f0021d91f853">7848156</a></td><td><code>upgrade do fflas-ffpack 2.4.3 fixing an error in charpoly autotune</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c391252b321dc9865037212b76c4c8c37ccc2ea9">c391252</a></td><td><code>Merge branch 't/26932/upgrade_to_givaro_4_1_0_fflas_ffpack_2_4_0_linbox_1_6_0' into t/27444/expose_multithreaded_fflas_ffpack_features</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2d552b9bd261147757b02b13461e7325b5bf1a9a">2d552b9</a></td><td><code>pRank pDet and pReducedRowEchelonForm added with multithreading which also have been tested and cleaned up for code review</code></td></tr></table>




---

archive/issue_comments_428968.json:
```json
{
    "body": "<a id='comment:17'></a>\nI confirm that the branch successfullly parallizes det, rank and echelonize. However, in the current version of the branch, the matrix product is no longer parallelized. Could you revert the call to pfgemm?",
    "created_at": "2019-06-27T11:33:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27444#issuecomment-428968",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:17'></a>
I confirm that the branch successfullly parallizes det, rank and echelonize. However, in the current version of the branch, the matrix product is no longer parallelized. Could you revert the call to pfgemm?



---

archive/issue_comments_428969.json:
```json
{
    "body": "**Changing commit** from \"[2d552b9bd261147757b02b13461e7325b5bf1a9a](https://github.com/sagemath/sagetrac-mirror/commit/2d552b9bd261147757b02b13461e7325b5bf1a9a)\" to \"[6ca42e23280f1562253274f9e0df04b45092304e](https://github.com/sagemath/sagetrac-mirror/commit/6ca42e23280f1562253274f9e0df04b45092304e)\".",
    "created_at": "2019-06-27T12:15:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27444#issuecomment-428969",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[2d552b9bd261147757b02b13461e7325b5bf1a9a](https://github.com/sagemath/sagetrac-mirror/commit/2d552b9bd261147757b02b13461e7325b5bf1a9a)" to "[6ca42e23280f1562253274f9e0df04b45092304e](https://github.com/sagemath/sagetrac-mirror/commit/6ca42e23280f1562253274f9e0df04b45092304e)".



---

archive/issue_comments_428970.json:
```json
{
    "body": "<a id='comment:18'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6ca42e23280f1562253274f9e0df04b45092304e\">6ca42e2</a></td><td><code>Added back pfgemm with the same parallelism like pDet</code></td></tr></table>\n",
    "created_at": "2019-06-27T12:15:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27444#issuecomment-428970",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6ca42e23280f1562253274f9e0df04b45092304e">6ca42e2</a></td><td><code>Added back pfgemm with the same parallelism like pDet</code></td></tr></table>




---

archive/issue_comments_428971.json:
```json
{
    "body": "**Dependencies:** 26932",
    "created_at": "2019-06-27T13:20:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27444#issuecomment-428971",
    "user": "https://github.com/ClementPernet"
}
```

**Dependencies:** 26932



---

archive/issue_comments_428972.json:
```json
{
    "body": "**Changing dependencies** from \"26932\" to \"#26932\".",
    "created_at": "2019-06-27T13:21:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27444#issuecomment-428972",
    "user": "https://github.com/ClementPernet"
}
```

**Changing dependencies** from "26932" to "#26932".



---

archive/issue_events_246684.json:
```json
{
    "actor": "https://github.com/ClementPernet",
    "created_at": "2019-08-26T18:59:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27444#event-246684"
}
```



---

archive/issue_comments_428973.json:
```json
{
    "body": "**Changing branch** from \"[u/gh-ZHG2017/expose_multithreaded_fflas_ffpack_features](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-ZHG2017/expose_multithreaded_fflas_ffpack_features)\" to \"[u/cpernet/expose_multithreaded_fflas_ffpack_features](https://github.com/sagemath/sagetrac-mirror/tree/u/cpernet/expose_multithreaded_fflas_ffpack_features)\".",
    "created_at": "2019-08-27T08:21:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27444#issuecomment-428973",
    "user": "https://github.com/ClementPernet"
}
```

**Changing branch** from "[u/gh-ZHG2017/expose_multithreaded_fflas_ffpack_features](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-ZHG2017/expose_multithreaded_fflas_ffpack_features)" to "[u/cpernet/expose_multithreaded_fflas_ffpack_features](https://github.com/sagemath/sagetrac-mirror/tree/u/cpernet/expose_multithreaded_fflas_ffpack_features)".



---

archive/issue_comments_428974.json:
```json
{
    "body": "**Changing commit** from \"[6ca42e23280f1562253274f9e0df04b45092304e](https://github.com/sagemath/sagetrac-mirror/commit/6ca42e23280f1562253274f9e0df04b45092304e)\" to \"[371d63cc721ad867b05e902e428879b2671f5e61](https://github.com/sagemath/sagetrac-mirror/commit/371d63cc721ad867b05e902e428879b2671f5e61)\".",
    "created_at": "2019-08-27T08:22:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27444#issuecomment-428974",
    "user": "https://github.com/ClementPernet"
}
```

**Changing commit** from "[6ca42e23280f1562253274f9e0df04b45092304e](https://github.com/sagemath/sagetrac-mirror/commit/6ca42e23280f1562253274f9e0df04b45092304e)" to "[371d63cc721ad867b05e902e428879b2671f5e61](https://github.com/sagemath/sagetrac-mirror/commit/371d63cc721ad867b05e902e428879b2671f5e61)".



---

archive/issue_comments_428975.json:
```json
{
    "body": "<a id='comment:23'></a>\nI pushed a fix to a misplaced \"noefd\" algorithm specification. This seems to fix the broken doctests.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b38619793abedcecfaad2c3897f510bbe7ebe6a2\">b386197</a></td><td><code>Merge branch 'develop' into t/27444/expose_multithreaded_fflas_ffpack_features</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/371d63cc721ad867b05e902e428879b2671f5e61\">371d63c</a></td><td><code>fix noefd default algorithm</code></td></tr></table>\n",
    "created_at": "2019-08-27T08:22:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27444#issuecomment-428975",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:23'></a>
I pushed a fix to a misplaced "noefd" algorithm specification. This seems to fix the broken doctests.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b38619793abedcecfaad2c3897f510bbe7ebe6a2">b386197</a></td><td><code>Merge branch 'develop' into t/27444/expose_multithreaded_fflas_ffpack_features</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/371d63cc721ad867b05e902e428879b2671f5e61">371d63c</a></td><td><code>fix noefd default algorithm</code></td></tr></table>




---

archive/issue_comments_428976.json:
```json
{
    "body": "<a id='comment:24'></a>\nI'm curious about these:\n\n```\nif m*n > 100000: sig_on()\n```\n\nAny reason not to always call `sig_on()`?",
    "created_at": "2019-08-27T19:09:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27444#issuecomment-428976",
    "user": "https://github.com/defeo"
}
```

<a id='comment:24'></a>
I'm curious about these:

```
if m*n > 100000: sig_on()
```

Any reason not to always call `sig_on()`?



---

archive/issue_comments_428977.json:
```json
{
    "body": "<a id='comment:25'></a>\nDocs need updating.\n\nIn `parallelism.py`:\n\n> EXAMPLES:\n\n>\n> The number of processes is initialized to 1 (no parallelization) for each field **(only tensor computations are implemented at the moment)**:\n\n\nAlso, it would be good to document in the matrix reference the availability of parallelism, like it is done in http://doc.sagemath.org/html/en/reference/tensor_free_modules/sage/tensor/modules/free_module_tensor.html#sage.tensor.modules.free_module_tensor.FreeModuleTensor.disp",
    "created_at": "2019-08-27T20:44:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27444#issuecomment-428977",
    "user": "https://github.com/defeo"
}
```

<a id='comment:25'></a>
Docs need updating.

In `parallelism.py`:

> EXAMPLES:

>
> The number of processes is initialized to 1 (no parallelization) for each field **(only tensor computations are implemented at the moment)**:


Also, it would be good to document in the matrix reference the availability of parallelism, like it is done in http://doc.sagemath.org/html/en/reference/tensor_free_modules/sage/tensor/modules/free_module_tensor.html#sage.tensor.modules.free_module_tensor.FreeModuleTensor.disp



---

archive/issue_comments_428978.json:
```json
{
    "body": "<a id='comment:26'></a>\nOtherwise, I confirm there is no regression with Python 3. If you can fix the docs, this ticket is good for me.",
    "created_at": "2019-08-27T21:29:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27444#issuecomment-428978",
    "user": "https://github.com/defeo"
}
```

<a id='comment:26'></a>
Otherwise, I confirm there is no regression with Python 3. If you can fix the docs, this ticket is good for me.



---

archive/issue_comments_428979.json:
```json
{
    "body": "<a id='comment:27'></a>\nReplying to [defeo](#comment%3A24):\n> I'm curious about these:\n> \n> ```\n> if m*n > 100000: sig_on()\n> ```\n> \n> Any reason not to always call `sig_on()`?\n\n\nI guess the reason is to avoid the overhead of using the sigs when the call is with a tiny instance which runs almost instantly and will therefore have no chance of being interrupted.",
    "created_at": "2019-08-28T07:33:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27444#issuecomment-428979",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:27'></a>
Replying to [defeo](#comment%3A24):
> I'm curious about these:
> 
> ```
> if m*n > 100000: sig_on()
> ```
> 
> Any reason not to always call `sig_on()`?


I guess the reason is to avoid the overhead of using the sigs when the call is with a tiny instance which runs almost instantly and will therefore have no chance of being interrupted.



---

archive/issue_comments_428980.json:
```json
{
    "body": "**Changing commit** from \"[371d63cc721ad867b05e902e428879b2671f5e61](https://github.com/sagemath/sagetrac-mirror/commit/371d63cc721ad867b05e902e428879b2671f5e61)\" to \"[e432cb0e542e6c2d7d5e5495611cb42240b89c17](https://github.com/sagemath/sagetrac-mirror/commit/e432cb0e542e6c2d7d5e5495611cb42240b89c17)\".",
    "created_at": "2019-08-28T15:44:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27444#issuecomment-428980",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[371d63cc721ad867b05e902e428879b2671f5e61](https://github.com/sagemath/sagetrac-mirror/commit/371d63cc721ad867b05e902e428879b2671f5e61)" to "[e432cb0e542e6c2d7d5e5495611cb42240b89c17](https://github.com/sagemath/sagetrac-mirror/commit/e432cb0e542e6c2d7d5e5495611cb42240b89c17)".



---

archive/issue_comments_428981.json:
```json
{
    "body": "<a id='comment:28'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e432cb0e542e6c2d7d5e5495611cb42240b89c17\">e432cb0</a></td><td><code>fixing the doc</code></td></tr></table>\n",
    "created_at": "2019-08-28T15:44:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27444#issuecomment-428981",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:28'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e432cb0e542e6c2d7d5e5495611cb42240b89c17">e432cb0</a></td><td><code>fixing the doc</code></td></tr></table>




---

archive/issue_comments_428982.json:
```json
{
    "body": "<a id='comment:29'></a>\n@defeo: Doc fixed in the above commit. Should be good to go now.",
    "created_at": "2019-08-28T15:46:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27444#issuecomment-428982",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:29'></a>
@defeo: Doc fixed in the above commit. Should be good to go now.



---

archive/issue_comments_428983.json:
```json
{
    "body": "<a id='comment:30'></a>\nThe ticket has no authors?",
    "created_at": "2019-08-28T16:31:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27444#issuecomment-428983",
    "user": "https://github.com/defeo"
}
```

<a id='comment:30'></a>
The ticket has no authors?



---

archive/issue_comments_428984.json:
```json
{
    "body": "**Reviewer:** Luca De Feo",
    "created_at": "2019-08-28T16:31:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27444#issuecomment-428984",
    "user": "https://github.com/defeo"
}
```

**Reviewer:** Luca De Feo



---

archive/issue_events_246685.json:
```json
{
    "actor": "https://github.com/defeo",
    "created_at": "2019-08-28T16:31:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27444#event-246685"
}
```



---

archive/issue_events_246686.json:
```json
{
    "actor": "https://github.com/defeo",
    "created_at": "2019-08-28T16:31:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27444#event-246686"
}
```



---

archive/issue_comments_428985.json:
```json
{
    "body": "**Author:** Hongguang Zhu, Clement Pernet",
    "created_at": "2019-08-28T16:40:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27444#issuecomment-428985",
    "user": "https://github.com/ClementPernet"
}
```

**Author:** Hongguang Zhu, Clement Pernet



---

archive/issue_comments_428986.json:
```json
{
    "body": "<a id='comment:32'></a>\nand no milestone ?",
    "created_at": "2019-08-28T19:00:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27444#issuecomment-428986",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:32'></a>
and no milestone ?



---

archive/issue_events_246687.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-08-28T19:00:24Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "milestone": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27444#event-246687"
}
```



---

archive/issue_events_246688.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-09-02T21:41:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27444#event-246688"
}
```



---

archive/issue_events_246689.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-09-02T21:41:23Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27444#event-246689"
}
```



---

archive/issue_comments_428987.json:
```json
{
    "body": "**Changing branch** from \"[u/cpernet/expose_multithreaded_fflas_ffpack_features](https://github.com/sagemath/sagetrac-mirror/tree/u/cpernet/expose_multithreaded_fflas_ffpack_features)\" to \"[e432cb0e542e6c2d7d5e5495611cb42240b89c17](https://github.com/sagemath/sagetrac-mirror/commit/e432cb0e542e6c2d7d5e5495611cb42240b89c17)\".",
    "created_at": "2019-09-02T21:41:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27444#issuecomment-428987",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/cpernet/expose_multithreaded_fflas_ffpack_features](https://github.com/sagemath/sagetrac-mirror/tree/u/cpernet/expose_multithreaded_fflas_ffpack_features)" to "[e432cb0e542e6c2d7d5e5495611cb42240b89c17](https://github.com/sagemath/sagetrac-mirror/commit/e432cb0e542e6c2d7d5e5495611cb42240b89c17)".



---

archive/issue_comments_428988.json:
```json
{
    "body": "<a id='comment:34'></a>\nI don't think this ticket should have removed `--disable-openmp` from the fflas_ffpack build without mention, because now it requires OpenMP support in any modules which link to it, and this doesn't seem to work properly.",
    "created_at": "2019-10-07T16:11:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27444#issuecomment-428988",
    "user": "https://github.com/embray"
}
```

<a id='comment:34'></a>
I don't think this ticket should have removed `--disable-openmp` from the fflas_ffpack build without mention, because now it requires OpenMP support in any modules which link to it, and this doesn't seem to work properly.



---

archive/issue_comments_428989.json:
```json
{
    "body": "**Changing commit** from \"[e432cb0e542e6c2d7d5e5495611cb42240b89c17](https://github.com/sagemath/sagetrac-mirror/commit/e432cb0e542e6c2d7d5e5495611cb42240b89c17)\" to \"\".",
    "created_at": "2019-10-07T16:11:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27444#issuecomment-428989",
    "user": "https://github.com/embray"
}
```

**Changing commit** from "[e432cb0e542e6c2d7d5e5495611cb42240b89c17](https://github.com/sagemath/sagetrac-mirror/commit/e432cb0e542e6c2d7d5e5495611cb42240b89c17)" to "".



---

archive/issue_comments_428990.json:
```json
{
    "body": "**Changing author** from \"Hongguang Zhu, Clement Pernet\" to \"Hongguang Zhu, Cl\u00e9ment Pernet\".",
    "created_at": "2020-06-07T00:09:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27444#issuecomment-428990",
    "user": "https://github.com/mkoeppe"
}
```

**Changing author** from "Hongguang Zhu, Clement Pernet" to "Hongguang Zhu, Clément Pernet".
