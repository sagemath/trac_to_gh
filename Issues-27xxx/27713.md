# Issue 27713: Patch pynac to build properly with Cygwin's system GMP

archive/issues_027476.json:
```json
{
    "body": "There are some bits in plain GMP not present for some reason in MPIR such that Cygwin gets some configure-time flags set differently than the defaults on Linux.  Cygwin's system package for GMP is configured with these different defaults, leading to a build failure in pynac that I don't get on other platforms.\n\nSee the upstream PR for more details: https://github.com/pynac/pynac/pull/342\n\nKeywords: gmp pynac\n\nUpstream: Fixed upstream, but not in a stable release.\n\nReviewer: Travis Scrimshaw\n\nAuthor: Erik Bray\n\nBranch: 5816c4b75a1a1ed823b7eb20ba5b3de48237032c\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/27713\n\n",
    "closed_at": "2019-04-29T12:36:12Z",
    "created_at": "2019-04-23T10:51:19Z",
    "labels": [
        "component: porting: cygwin",
        "critical",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.8",
    "title": "Patch pynac to build properly with Cygwin's system GMP",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/27713",
    "user": "https://github.com/embray"
}
```
There are some bits in plain GMP not present for some reason in MPIR such that Cygwin gets some configure-time flags set differently than the defaults on Linux.  Cygwin's system package for GMP is configured with these different defaults, leading to a build failure in pynac that I don't get on other platforms.

See the upstream PR for more details: https://github.com/pynac/pynac/pull/342

Keywords: gmp pynac

Upstream: Fixed upstream, but not in a stable release.

Reviewer: Travis Scrimshaw

Author: Erik Bray

Branch: 5816c4b75a1a1ed823b7eb20ba5b3de48237032c

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/27713





---

archive/issue_comments_535201.json:
```json
{
    "body": "Changing author from \"\" to \"Erik Bray\"",
    "created_at": "2019-04-23T10:52:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27713#issuecomment-535201",
    "user": "https://github.com/embray"
}
```

Changing author from "" to "Erik Bray"



---

archive/issue_comments_535202.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-04-23T10:52:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27713#issuecomment-535202",
    "user": "https://github.com/embray"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_535203.json:
```json
{
    "body": "Changing branch from \"\" to \"u/embray/cygwin/build/ticket-27713\"",
    "created_at": "2019-04-23T10:52:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27713#issuecomment-535203",
    "user": "https://github.com/embray"
}
```

Changing branch from "" to "u/embray/cygwin/build/ticket-27713"



---

archive/issue_comments_535204.json:
```json
{
    "body": "<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-04-23T10:53:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27713#issuecomment-535204",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_535205.json:
```json
{
    "body": "Changing commit from \"\" to \"5816c4b75a1a1ed823b7eb20ba5b3de48237032c\"",
    "created_at": "2019-04-23T10:53:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27713#issuecomment-535205",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "5816c4b75a1a1ed823b7eb20ba5b3de48237032c"



---

archive/issue_comments_535206.json:
```json
{
    "body": "<a id='comment:3'></a>To add, this started of course since #27212.  Not sure why I didn't catch the problem before since I have recollection of testing this on Cygwin, but maybe I just never rebuilt everything (including pynac?) from scratch for some reason.",
    "created_at": "2019-04-23T10:54:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27713#issuecomment-535206",
    "user": "https://github.com/embray"
}
```

<a id='comment:3'></a>To add, this started of course since #27212.  Not sure why I didn't catch the problem before since I have recollection of testing this on Cygwin, but maybe I just never rebuilt everything (including pynac?) from scratch for some reason.



---

archive/issue_comments_535207.json:
```json
{
    "body": "Changing upstream from \"Reported upstream. No feedback yet.\" to \"Fixed upstream, but not in a stable release.\"",
    "created_at": "2019-04-23T14:30:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27713#issuecomment-535207",
    "user": "https://github.com/embray"
}
```

Changing upstream from "Reported upstream. No feedback yet." to "Fixed upstream, but not in a stable release."



---

archive/issue_comments_535208.json:
```json
{
    "body": "<a id='comment:4'></a>Fixed upstream.  rws confirms there will be a new pynac release in a few weeks, so we can possibly wait on that as well.",
    "created_at": "2019-04-23T14:30:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27713#issuecomment-535208",
    "user": "https://github.com/embray"
}
```

<a id='comment:4'></a>Fixed upstream.  rws confirms there will be a new pynac release in a few weeks, so we can possibly wait on that as well.



---

archive/issue_comments_535209.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Travis Scrimshaw\"",
    "created_at": "2019-04-25T02:27:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27713#issuecomment-535209",
    "user": "https://github.com/tscrim"
}
```

Changing reviewer from "" to "Travis Scrimshaw"



---

archive/issue_comments_535210.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-04-25T02:27:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27713#issuecomment-535210",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_535211.json:
```json
{
    "body": "<a id='comment:5'></a>I think we can add this patch now (in part to get some extra testing through Sage beta releases) and then remove it when we upgrade Pynac (if that does get into the next stable Sage release).",
    "created_at": "2019-04-25T02:27:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27713#issuecomment-535211",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:5'></a>I think we can add this patch now (in part to get some extra testing through Sage beta releases) and then remove it when we upgrade Pynac (if that does get into the next stable Sage release).



---

archive/issue_comments_535212.json:
```json
{
    "body": "Changing branch from \"u/embray/cygwin/build/ticket-27713\" to \"5816c4b75a1a1ed823b7eb20ba5b3de48237032c\"",
    "created_at": "2019-04-29T12:36:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27713#issuecomment-535212",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/embray/cygwin/build/ticket-27713" to "5816c4b75a1a1ed823b7eb20ba5b3de48237032c"



---

archive/issue_events_068719.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-04-29T12:36:12Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/27713",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27713#event-68719"
}
```



---

archive/issue_comments_535213.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-04-29T12:36:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27713#issuecomment-535213",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_535214.json:
```json
{
    "body": "<a id='comment:7'></a>the update with the patch in has been released, see #28016",
    "created_at": "2019-06-19T10:43:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27713#issuecomment-535214",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:7'></a>the update with the patch in has been released, see #28016



---

archive/issue_comments_535215.json:
```json
{
    "body": "Changing commit from \"5816c4b75a1a1ed823b7eb20ba5b3de48237032c\" to \"\"",
    "created_at": "2019-06-19T10:43:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27713#issuecomment-535215",
    "user": "https://github.com/dimpase"
}
```

Changing commit from "5816c4b75a1a1ed823b7eb20ba5b3de48237032c" to ""
