# Issue 27302: Cubic Braid Groups

archive/issues_027065.json:
```json
{
    "body": "This ticket implements a new class to work with factor groups of the Artin braid groups having order three on the braid generators.\n\n\nCC:  @tscrim\n\nKeywords: braid groups, complex reflection groups\n\nBranch/Commit: 9fdafdde918173d494df397683de6a8c55fa67f1\n\nReviewer: Travis Scrimshaw, Fr\u00e9d\u00e9ric Chapoton\n\nAuthor: Sebastian Oehms\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/27302\n\n",
    "closed_at": "2019-11-16T20:15:50Z",
    "created_at": "2019-02-16T08:26:09Z",
    "labels": [
        "component: group theory"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.0",
    "title": "Cubic Braid Groups",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/27302",
    "user": "https://github.com/soehms"
}
```
This ticket implements a new class to work with factor groups of the Artin braid groups having order three on the braid generators.


CC:  @tscrim

Keywords: braid groups, complex reflection groups

Branch/Commit: 9fdafdde918173d494df397683de6a8c55fa67f1

Reviewer: Travis Scrimshaw, Frédéric Chapoton

Author: Sebastian Oehms

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/27302





---

archive/issue_comments_405937.json:
```json
{
    "body": "<a id='comment:2'></a>New commits:",
    "created_at": "2019-02-16T08:31:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27302#issuecomment-405937",
    "user": "https://github.com/soehms"
}
```

<a id='comment:2'></a>New commits:



---

archive/issue_comments_405938.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-02-16T08:31:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27302#issuecomment-405938",
    "user": "https://github.com/soehms"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_405939.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2019-03-09T17:24:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27302#issuecomment-405939",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_events_067775.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:56:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27302",
    "milestone": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27302#event-67775"
}
```



---

archive/issue_comments_405940.json:
```json
{
    "body": "<a id='comment:4'></a>Ticket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)",
    "created_at": "2019-03-25T10:56:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27302#issuecomment-405940",
    "user": "https://github.com/embray"
}
```

<a id='comment:4'></a>Ticket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)



---

archive/issue_comments_405941.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-03-29T23:43:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27302#issuecomment-405941",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_405942.json:
```json
{
    "body": "<a id='comment:6'></a>Fixed merge conflict!",
    "created_at": "2019-03-29T23:45:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27302#issuecomment-405942",
    "user": "https://github.com/soehms"
}
```

<a id='comment:6'></a>Fixed merge conflict!



---

archive/issue_comments_405943.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-03-30T07:31:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27302#issuecomment-405943",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_405944.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-03-30T17:03:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27302#issuecomment-405944",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_405945.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-04-01T18:05:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27302#issuecomment-405945",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_405946.json:
```json
{
    "body": "<a id='comment:10'></a>Some random remarks:\n\ntypo \"refelection\"\n\ntypo \"Vancover\"\n\nburau >>> Burau\n\ntypo \"availlable\"\n\ntypo \"as_permutatopn_group\"\n\nUse \"Construct\" and \"Return\" in the first lines of doc, not \"Constructs\" and \"Returns\"\n\n\"len(root_list) == 0\" could be \"not(root_list)\" which is faster\n\n```\n+    TESTS:\n+\n+        sage: C3 = CubicBraidGroup(3)\n```\nis missing a double `::`\n\nrange(0, n-3) >>> range(n - 3)\n\nIn\n\n```\n+            if m % 2  == 0:\n+                mhalf = m/2\n+            else:\n+                mhalf = (m-1)/2\n```\nrather use exact division `//`",
    "created_at": "2019-04-01T18:26:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27302#issuecomment-405946",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:10'></a>Some random remarks:

typo "refelection"

typo "Vancover"

burau >>> Burau

typo "availlable"

typo "as_permutatopn_group"

Use "Construct" and "Return" in the first lines of doc, not "Constructs" and "Returns"

"len(root_list) == 0" could be "not(root_list)" which is faster

```
+    TESTS:
+
+        sage: C3 = CubicBraidGroup(3)
```
is missing a double `::`

range(0, n-3) >>> range(n - 3)

In

```
+            if m % 2  == 0:
+                mhalf = m/2
+            else:
+                mhalf = (m-1)/2
```
rather use exact division `//`



---

archive/issue_comments_405947.json:
```json
{
    "body": "<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-04-02T19:03:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27302#issuecomment-405947",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_405948.json:
```json
{
    "body": "<a id='comment:12'></a>Replying to [comment:10 chapoton]:\n> \n> \n> \n> Some random remarks:\n> ...\n\nThanks for having a look at this!",
    "created_at": "2019-04-02T19:05:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27302#issuecomment-405948",
    "user": "https://github.com/soehms"
}
```

<a id='comment:12'></a>Replying to [comment:10 chapoton]:
> 
> 
> 
> Some random remarks:
> ...

Thanks for having a look at this!



---

archive/issue_comments_405949.json:
```json
{
    "body": "<a id='comment:13'></a>two more:\n\ntypo: hermitain\n\ntypo: performace",
    "created_at": "2019-04-02T19:08:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27302#issuecomment-405949",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:13'></a>two more:

typo: hermitain

typo: performace



---

archive/issue_comments_405950.json:
```json
{
    "body": "<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-04-04T20:33:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27302#issuecomment-405950",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_405951.json:
```json
{
    "body": "<a id='comment:15'></a>Replying to [comment:13 chapoton]:\n> two more:\n> \n> typo: hermitain\n> \n> typo: performace\n\nThanks again!",
    "created_at": "2019-04-04T20:34:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27302#issuecomment-405951",
    "user": "https://github.com/soehms"
}
```

<a id='comment:15'></a>Replying to [comment:13 chapoton]:
> two more:
> 
> typo: hermitain
> 
> typo: performace

Thanks again!



---

archive/issue_comments_405952.json:
```json
{
    "body": "<a id='comment:16'></a>From my first look-through, the code looks to be quite good. I have a lot of little comments that are going to be better handled as a push from me, but mostly they revolve around docstring formatting, not using `<>`, PEP8, and `if len(foo) == 0:` -> `if not foo:` (if you want to hunt them down and take care of them). Some more substantial comments are:\n\n- A number of methods do not have doctests.\n- I am tempted to get rid of the `Enum`, but at least I don't think it should be accessible from the top-level, which means it should not be a parameter of `CubicBraidGroup`.\n- I am inclined to put `CubicBraidGroup` as the class with a `__classcall_private__` construction, which in some ways would contradict the previous comment. I might have to think more about this.",
    "created_at": "2019-04-07T02:15:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27302#issuecomment-405952",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:16'></a>From my first look-through, the code looks to be quite good. I have a lot of little comments that are going to be better handled as a push from me, but mostly they revolve around docstring formatting, not using `<>`, PEP8, and `if len(foo) == 0:` -> `if not foo:` (if you want to hunt them down and take care of them). Some more substantial comments are:

- A number of methods do not have doctests.
- I am tempted to get rid of the `Enum`, but at least I don't think it should be accessible from the top-level, which means it should not be a parameter of `CubicBraidGroup`.
- I am inclined to put `CubicBraidGroup` as the class with a `__classcall_private__` construction, which in some ways would contradict the previous comment. I might have to think more about this.



---

archive/issue_comments_405953.json:
```json
{
    "body": "<a id='comment:17'></a>Replying to [comment:16 tscrim]:\n> From my first look-through, the code looks to be quite good. I have a lot of little comments that are going to be better handled as a push from me, but mostly they revolve around docstring formatting, not using `<>`, PEP8, and `if len(foo) == 0:` -> `if not foo:` (if you want to hunt them down and take care of them). Some more substantial comments are:\n> \n> - A number of methods do not have doctests.\n\n\nIt seems that you didn't look at the most recent commit. I did some corrections\nlast week after inspecting the patchbot results more carefully and following Fr\u00e9d\u00e9ric\nChapoton's hints. So, I think your comments above should be fixed, already.\n\n\n> - I am tempted to get rid of the `Enum`, but at least I don't think it should be accessible from the top-level, which means it should not be a parameter of `CubicBraidGroup`.\n\n\nIn my first version (under Sage 6.9, the one I pushed to CoCalc) I didn't use `Enum`\nsince it was not accessible at that time. I'm used to avoid creating\ncode that depends on literals. Maybe this is an old fashioned, C-driven opinion,\nbut I'm still convinced that such code is not really save. So I changed this\nsince `Enum` is available, right now. By the functions `AssionGroupU/S` there\nis no need for the user to have the `Enum` externally.\n\nOn the other hand I realized that it is still unusual to use `Enum` in Sage (there is\njust one module (`modular_decomposition.py`) doing that). Therefore, I'm open to change this again.\n\n\n> - I am inclined to put `CubicBraidGroup` as the class with a `__classcall_private__` construction, which in some ways would contradict the previous comment. I might have to think more about this.\n\n\nAs far as I understand that construction, this would replace the three functions to create an instance of the class, right? I implemented the construction of instances according to the `braid.py` module. What is the advantage to use `__classcall_private__` instead? I would appreciate to learn more about that!",
    "created_at": "2019-04-08T07:20:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27302#issuecomment-405953",
    "user": "https://github.com/soehms"
}
```

<a id='comment:17'></a>Replying to [comment:16 tscrim]:
> From my first look-through, the code looks to be quite good. I have a lot of little comments that are going to be better handled as a push from me, but mostly they revolve around docstring formatting, not using `<>`, PEP8, and `if len(foo) == 0:` -> `if not foo:` (if you want to hunt them down and take care of them). Some more substantial comments are:
> 
> - A number of methods do not have doctests.


It seems that you didn't look at the most recent commit. I did some corrections
last week after inspecting the patchbot results more carefully and following Frédéric
Chapoton's hints. So, I think your comments above should be fixed, already.


> - I am tempted to get rid of the `Enum`, but at least I don't think it should be accessible from the top-level, which means it should not be a parameter of `CubicBraidGroup`.


In my first version (under Sage 6.9, the one I pushed to CoCalc) I didn't use `Enum`
since it was not accessible at that time. I'm used to avoid creating
code that depends on literals. Maybe this is an old fashioned, C-driven opinion,
but I'm still convinced that such code is not really save. So I changed this
since `Enum` is available, right now. By the functions `AssionGroupU/S` there
is no need for the user to have the `Enum` externally.

On the other hand I realized that it is still unusual to use `Enum` in Sage (there is
just one module (`modular_decomposition.py`) doing that). Therefore, I'm open to change this again.


> - I am inclined to put `CubicBraidGroup` as the class with a `__classcall_private__` construction, which in some ways would contradict the previous comment. I might have to think more about this.


As far as I understand that construction, this would replace the three functions to create an instance of the class, right? I implemented the construction of instances according to the `braid.py` module. What is the advantage to use `__classcall_private__` instead? I would appreciate to learn more about that!



---

archive/issue_comments_405954.json:
```json
{
    "body": "<a id='comment:18'></a>Replying to [comment:17 soehms]:\n> Replying to [comment:16 tscrim]:\n> > From my first look-through, the code looks to be quite good. I have a lot of little comments that are going to be better handled as a push from me, but mostly they revolve around docstring formatting, not using `<>`, PEP8, and `if len(foo) == 0:` -> `if not foo:` (if you want to hunt them down and take care of them). Some more substantial comments are:\n> > \n> > - A number of methods do not have doctests.\n \n> \n> It seems that you didn't look at the most recent commit. I did some corrections\n> last week after inspecting the patchbot results more carefully and following Fr\u00e9d\u00e9ric\n> Chapoton's hints. So, I think your comments above should be fixed, already.\n\n\nI was pretty sure I was looking at the most recent commit because I clicked on the branch name. Although with beta1 released, there appears to be another (certainly trivial) merge conflict.\n\n> > - I am tempted to get rid of the `Enum`, but at least I don't think it should be accessible from the top-level, which means it should not be a parameter of `CubicBraidGroup`.\n \n> \n> In my first version (under Sage 6.9, the one I pushed to CoCalc) I didn't use `Enum`\n> since it was not accessible at that time. I'm used to avoid creating\n> code that depends on literals. Maybe this is an old fashioned, C-driven opinion,\n> but I'm still convinced that such code is not really save. So I changed this\n> since `Enum` is available, right now. By the functions `AssionGroupU/S` there\n> is no need for the user to have the `Enum` externally.\n\n\nI go back-and-forth on the `Enum`. If this was C/C++, I would say definitely use it (and I do like the paradigm overall). The problem is in Python, it means we have to explicitly import it, and we have to put it into the global namespace if we want it to be top-level accessible to the user. As you said, with `AssionGroupU/S` (which does serve a role in the global namespace) we can avoid this. So maybe this is not a problem as long as we hide it completely from the (standard) user.\n\n> > - I am inclined to put `CubicBraidGroup` as the class with a `__classcall_private__` construction, which in some ways would contradict the previous comment. I might have to think more about this.\n \n> \n> As far as I understand that construction, this would replace the three functions to create an instance of the class, right? I implemented the construction of instances according to the `braid.py` module. What is the advantage to use `__classcall_private__` instead? I would appreciate to learn more about that!\n\n\n`__classcall_private__` essentially allows you to do extra processing on the inputs before getting to the `__init__` method. Thus we can actually return other parents/instances/objects/etc. if we deem the inputs worthy. Thus we can simply replace the `CubicBraidGroup` function with `CubicBraidGroup_class` (renamed to `CubicBraidGroup`), making it easier maintenance-wise as the top-level object is the class itself.\n\nAlthough maybe we don't even need such a heavy tool as the `CubicBraidGroup_class.__init__` does the job, and we just have the default being the `Enum` for the standard cubic braid group. I think this might actually be sufficient.",
    "created_at": "2019-04-08T22:16:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27302#issuecomment-405954",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:18'></a>Replying to [comment:17 soehms]:
> Replying to [comment:16 tscrim]:
> > From my first look-through, the code looks to be quite good. I have a lot of little comments that are going to be better handled as a push from me, but mostly they revolve around docstring formatting, not using `<>`, PEP8, and `if len(foo) == 0:` -> `if not foo:` (if you want to hunt them down and take care of them). Some more substantial comments are:
> > 
> > - A number of methods do not have doctests.
 
> 
> It seems that you didn't look at the most recent commit. I did some corrections
> last week after inspecting the patchbot results more carefully and following Frédéric
> Chapoton's hints. So, I think your comments above should be fixed, already.


I was pretty sure I was looking at the most recent commit because I clicked on the branch name. Although with beta1 released, there appears to be another (certainly trivial) merge conflict.

> > - I am tempted to get rid of the `Enum`, but at least I don't think it should be accessible from the top-level, which means it should not be a parameter of `CubicBraidGroup`.
 
> 
> In my first version (under Sage 6.9, the one I pushed to CoCalc) I didn't use `Enum`
> since it was not accessible at that time. I'm used to avoid creating
> code that depends on literals. Maybe this is an old fashioned, C-driven opinion,
> but I'm still convinced that such code is not really save. So I changed this
> since `Enum` is available, right now. By the functions `AssionGroupU/S` there
> is no need for the user to have the `Enum` externally.


I go back-and-forth on the `Enum`. If this was C/C++, I would say definitely use it (and I do like the paradigm overall). The problem is in Python, it means we have to explicitly import it, and we have to put it into the global namespace if we want it to be top-level accessible to the user. As you said, with `AssionGroupU/S` (which does serve a role in the global namespace) we can avoid this. So maybe this is not a problem as long as we hide it completely from the (standard) user.

> > - I am inclined to put `CubicBraidGroup` as the class with a `__classcall_private__` construction, which in some ways would contradict the previous comment. I might have to think more about this.
 
> 
> As far as I understand that construction, this would replace the three functions to create an instance of the class, right? I implemented the construction of instances according to the `braid.py` module. What is the advantage to use `__classcall_private__` instead? I would appreciate to learn more about that!


`__classcall_private__` essentially allows you to do extra processing on the inputs before getting to the `__init__` method. Thus we can actually return other parents/instances/objects/etc. if we deem the inputs worthy. Thus we can simply replace the `CubicBraidGroup` function with `CubicBraidGroup_class` (renamed to `CubicBraidGroup`), making it easier maintenance-wise as the top-level object is the class itself.

Although maybe we don't even need such a heavy tool as the `CubicBraidGroup_class.__init__` does the job, and we just have the default being the `Enum` for the standard cubic braid group. I think this might actually be sufficient.



---

archive/issue_comments_405955.json:
```json
{
    "body": "<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-04-12T10:05:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27302#issuecomment-405955",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_405956.json:
```json
{
    "body": "Attachment [CubicBraidGroupType.png](tarball://root/attachments/some-uuid/ticket27302/CubicBraidGroupType.png) by @soehms created at 2019-04-12 10:07:22",
    "created_at": "2019-04-12T10:07:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27302#issuecomment-405956",
    "user": "https://github.com/soehms"
}
```

Attachment [CubicBraidGroupType.png](tarball://root/attachments/some-uuid/ticket27302/CubicBraidGroupType.png) by @soehms created at 2019-04-12 10:07:22



---

archive/issue_comments_405957.json:
```json
{
    "body": "<a id='comment:20'></a>Thanks for your explanations, Travis! Indeed, I had no good feeling to include the `Enum`\nin the global namespace. So, I encoded the type into the names of the construction-functions.\nBut, this would not be an option for longer list of types (and is structurally not really nice).\n\nTherefore, I now try the following solution:\n\n1. I move the `Enum` into the class as a member, so that it is implicitly in the global namespace (via the name of the class).\n2. I make the function `CubicBraidGroup` be the `__classcall_private__` method and rename the class accordingly as you suggested.\n\nI keep the functions `AssionGroupS/U` for convenience even though there aren't necessary\nany more (in order to capsule the import of the `Enum`). The remaining purpose of them is\nto reduce key-strokes needed to create the corresponding instances. But, in principle they\ncould be removed.\n\nCompared to the use of literals the advantage of the `Enum` is not only the paradigm, but\nalso the possibility for the user to select the type from the list:\n\n![](CubicBraidGroupType.png)",
    "created_at": "2019-04-12T10:12:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27302#issuecomment-405957",
    "user": "https://github.com/soehms"
}
```

<a id='comment:20'></a>Thanks for your explanations, Travis! Indeed, I had no good feeling to include the `Enum`
in the global namespace. So, I encoded the type into the names of the construction-functions.
But, this would not be an option for longer list of types (and is structurally not really nice).

Therefore, I now try the following solution:

1. I move the `Enum` into the class as a member, so that it is implicitly in the global namespace (via the name of the class).
2. I make the function `CubicBraidGroup` be the `__classcall_private__` method and rename the class accordingly as you suggested.

I keep the functions `AssionGroupS/U` for convenience even though there aren't necessary
any more (in order to capsule the import of the `Enum`). The remaining purpose of them is
to reduce key-strokes needed to create the corresponding instances. But, in principle they
could be removed.

Compared to the use of literals the advantage of the `Enum` is not only the paradigm, but
also the possibility for the user to select the type from the list:

![](CubicBraidGroupType.png)



---

archive/issue_comments_405958.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-05-27T07:04:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27302#issuecomment-405958",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_405959.json:
```json
{
    "body": "<a id='comment:21'></a>red branch => needs work",
    "created_at": "2019-05-27T07:04:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27302#issuecomment-405959",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:21'></a>red branch => needs work



---

archive/issue_comments_405960.json:
```json
{
    "body": "<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-05-30T08:13:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27302#issuecomment-405960",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_405961.json:
```json
{
    "body": "<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-05-30T08:14:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27302#issuecomment-405961",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_405962.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-05-30T08:17:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27302#issuecomment-405962",
    "user": "https://github.com/soehms"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_405963.json:
```json
{
    "body": "<a id='comment:24'></a>I set needs_review again, even though the optional gap3 doctests fail under python3. But this seems to be another problem:\n\n```\nsage: from sage.interfaces.gap3 import gap3\nsage: gap3._start()\nsage: gap3.load_package(\"chevie\")\nTraceback (most recent call last):\n...\nRuntimeError: startswith first arg must be bytes or a tuple of bytes, not str\n```\n\nIs this a known issue?",
    "created_at": "2019-05-30T08:17:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27302#issuecomment-405963",
    "user": "https://github.com/soehms"
}
```

<a id='comment:24'></a>I set needs_review again, even though the optional gap3 doctests fail under python3. But this seems to be another problem:

```
sage: from sage.interfaces.gap3 import gap3
sage: gap3._start()
sage: gap3.load_package("chevie")
Traceback (most recent call last):
...
RuntimeError: startswith first arg must be bytes or a tuple of bytes, not str
```

Is this a known issue?



---

archive/issue_events_067776.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-07-03T11:37:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27302",
    "milestone": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27302#event-67776"
}
```



---

archive/issue_events_067777.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-07-03T11:37:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27302",
    "milestone": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27302#event-67777"
}
```



---

archive/issue_comments_405964.json:
```json
{
    "body": "<a id='comment:25'></a>Moving tickets from the Sage 8.8 milestone that have been actively worked on in the last six months to the next release milestone (optimistically).",
    "created_at": "2019-07-03T11:37:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27302#issuecomment-405964",
    "user": "https://github.com/embray"
}
```

<a id='comment:25'></a>Moving tickets from the Sage 8.8 milestone that have been actively worked on in the last six months to the next release milestone (optimistically).



---

archive/issue_comments_405965.json:
```json
{
    "body": "<a id='comment:26'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-08-11T08:46:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27302#issuecomment-405965",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:26'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_405966.json:
```json
{
    "body": "<a id='comment:27'></a>While developing a class for cubic *Hecke* algebras I observed that comparison for cubic braids on more than 5 strands didn't terminate (since the implementation from the finitely presented groups was used). So, I replaced that comparison for the groups on more than 5 strands by comparison of the corresponding braids resp. the *Burau*-matrix of the cubic braid.\n\nThe default setting for the characteristic of the *Burau*-matrix was implemented in the `as_matrix_group` method, which is not the right place. I fixed that, as well.",
    "created_at": "2019-08-11T08:51:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27302#issuecomment-405966",
    "user": "https://github.com/soehms"
}
```

<a id='comment:27'></a>While developing a class for cubic *Hecke* algebras I observed that comparison for cubic braids on more than 5 strands didn't terminate (since the implementation from the finitely presented groups was used). So, I replaced that comparison for the groups on more than 5 strands by comparison of the corresponding braids resp. the *Burau*-matrix of the cubic braid.

The default setting for the characteristic of the *Burau*-matrix was implemented in the `as_matrix_group` method, which is not the right place. I fixed that, as well.



---

archive/issue_comments_405967.json:
```json
{
    "body": "<a id='comment:28'></a>patchbot's pyflakes-plugin reports an unused import",
    "created_at": "2019-08-24T19:33:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27302#issuecomment-405967",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:28'></a>patchbot's pyflakes-plugin reports an unused import



---

archive/issue_comments_405968.json:
```json
{
    "body": "<a id='comment:29'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-09-17T18:58:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27302#issuecomment-405968",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:29'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_405969.json:
```json
{
    "body": "<a id='comment:30'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-09-17T18:59:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27302#issuecomment-405969",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:30'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_405970.json:
```json
{
    "body": "<a id='comment:31'></a>I do the following:\n* fix pyflakes\n*  add method `__hash__` to the element class, since the inherited version is not well defined\n*  add method `_matrix_` to the element class as an alternative to the default of `burau_matrix` with better performance properties.\n* add method `__init__` to the element class to perform a reduction on the Tietze-tuple.",
    "created_at": "2019-09-17T19:02:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27302#issuecomment-405970",
    "user": "https://github.com/soehms"
}
```

<a id='comment:31'></a>I do the following:
* fix pyflakes
*  add method `__hash__` to the element class, since the inherited version is not well defined
*  add method `_matrix_` to the element class as an alternative to the default of `burau_matrix` with better performance properties.
* add method `__init__` to the element class to perform a reduction on the Tietze-tuple.



---

archive/issue_comments_405971.json:
```json
{
    "body": "<a id='comment:32'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-10-19T07:52:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27302#issuecomment-405971",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:32'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_events_067778.json:
```json
{
    "actor": "https://github.com/soehms",
    "created_at": "2019-10-19T07:52:55Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27302",
    "milestone": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27302#event-67778"
}
```



---

archive/issue_events_067779.json:
```json
{
    "actor": "https://github.com/soehms",
    "created_at": "2019-10-19T07:52:55Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27302",
    "milestone": "sage-9.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27302#event-67779"
}
```



---

archive/issue_comments_405972.json:
```json
{
    "body": "<a id='comment:34'></a>now the branch is red",
    "created_at": "2019-11-08T08:06:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27302#issuecomment-405972",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:34'></a>now the branch is red



---

archive/issue_comments_405973.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-11-08T08:06:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27302#issuecomment-405973",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_405974.json:
```json
{
    "body": "<a id='comment:35'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-11-09T08:32:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27302#issuecomment-405974",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:35'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_405975.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-11-09T08:37:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27302#issuecomment-405975",
    "user": "https://github.com/soehms"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_405976.json:
```json
{
    "body": "<a id='comment:36'></a>Merge error in references index.rst fixed",
    "created_at": "2019-11-09T08:37:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27302#issuecomment-405976",
    "user": "https://github.com/soehms"
}
```

<a id='comment:36'></a>Merge error in references index.rst fixed



---

archive/issue_comments_405977.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-11-13T08:06:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27302#issuecomment-405977",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_405978.json:
```json
{
    "body": "<a id='comment:37'></a>ok, let it be. One can keep further enhancement for later tickets.",
    "created_at": "2019-11-13T08:06:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27302#issuecomment-405978",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:37'></a>ok, let it be. One can keep further enhancement for later tickets.



---

archive/issue_comments_405979.json:
```json
{
    "body": "<a id='comment:38'></a>Thanks!",
    "created_at": "2019-11-13T20:39:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27302#issuecomment-405979",
    "user": "https://github.com/soehms"
}
```

<a id='comment:38'></a>Thanks!



---

archive/issue_comments_405980.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-11-16T20:15:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27302#issuecomment-405980",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_067780.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-11-16T20:15:50Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/27302",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27302#event-67780"
}
```
