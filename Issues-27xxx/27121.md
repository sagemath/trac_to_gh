# Issue 27121: Global function fields: divisors

archive/issues_026884.json:
```json
{
    "body": "This is part of the meta-ticket #22982.\n\nThe goal of the present ticket is to add code for computing with divisors of global function fields.\n\n**Branch/Commit:** [642b659d6da40abb604ec0b156bb2f4b5c4be87f](https://github.com/sagemath/sagetrac-mirror/commit/642b659d6da40abb604ec0b156bb2f4b5c4be87f)\n\n**Reviewer:** Travis Scrimshaw\n\n**Author:** Kwankyu Lee\n\nIssue created by migration from https://trac.sagemath.org/ticket/27121\n\n",
    "closed_at": "2019-02-15T13:02:15Z",
    "created_at": "2019-01-25T10:45:09Z",
    "labels": [
        "component: algebra",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.7",
    "title": "Global function fields: divisors",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/27121",
    "user": "https://github.com/kwankyu"
}
```
This is part of the meta-ticket #22982.

The goal of the present ticket is to add code for computing with divisors of global function fields.

**Branch/Commit:** [642b659d6da40abb604ec0b156bb2f4b5c4be87f](https://github.com/sagemath/sagetrac-mirror/commit/642b659d6da40abb604ec0b156bb2f4b5c4be87f)

**Reviewer:** Travis Scrimshaw

**Author:** Kwankyu Lee

Issue created by migration from https://trac.sagemath.org/ticket/27121





---

archive/issue_comments_498824.json:
```json
{
    "body": "**Branch:** [u/klee/27121](https://github.com/sagemath/sagetrac-mirror/tree/u/klee/27121)",
    "created_at": "2019-02-12T09:07:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27121",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27121#issuecomment-498824",
    "user": "https://github.com/kwankyu"
}
```

**Branch:** [u/klee/27121](https://github.com/sagemath/sagetrac-mirror/tree/u/klee/27121)



---

archive/issue_comments_498825.json:
```json
{
    "body": "<a id='comment:2'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/86481c4b100914b4655e27fce0f387c24a5ec7d8\">86481c4</a></td><td><code>Add divisors to function fields</code></td></tr></table>\n",
    "created_at": "2019-02-12T09:08:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27121",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27121#issuecomment-498825",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/86481c4b100914b4655e27fce0f387c24a5ec7d8">86481c4</a></td><td><code>Add divisors to function fields</code></td></tr></table>




---

archive/issue_comments_498826.json:
```json
{
    "body": "**Commit:** [86481c4b100914b4655e27fce0f387c24a5ec7d8](https://github.com/sagemath/sagetrac-mirror/commit/86481c4b100914b4655e27fce0f387c24a5ec7d8)",
    "created_at": "2019-02-12T09:08:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27121",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27121#issuecomment-498826",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Commit:** [86481c4b100914b4655e27fce0f387c24a5ec7d8](https://github.com/sagemath/sagetrac-mirror/commit/86481c4b100914b4655e27fce0f387c24a5ec7d8)



---

archive/issue_comments_498827.json:
```json
{
    "body": "**Author:** Kwankyu Lee",
    "created_at": "2019-02-12T09:09:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27121",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27121#issuecomment-498827",
    "user": "https://github.com/kwankyu"
}
```

**Author:** Kwankyu Lee



---

archive/issue_comments_498828.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2019-02-12T09:09:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27121",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27121#issuecomment-498828",
    "user": "https://github.com/kwankyu"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_498829.json:
```json
{
    "body": "<a id='comment:4'></a>\nHere are my comments.\n\nThe `__radd__` should not be necessary as the coercion framework should take care of that (which you are using with `_add_`), unless you are trying to explicitly avoid the coercion framework (as the coercions you would need are not (or should not) be there).\n\nIs there a way to minimize the duplication of `divisor`, `divisor_of_zeros`, and `divisor_of_poles` in the two files (say, by putting them in a common base class for the respective files)? It all looks like basically the same code.\n\n`self.divisor_group()(0)` -> `self.divisor_group().zero()` (the latter is cached).\n\nSimilarly, I am not sure I like having the `zero_divisor` method. If anything, it should do `DivisorGroup(field).zero()` and not be used to construct the `0` of the divisor group. I am slightly in favor of removing it for the explicitness of the code (as it is a one-liner), but I can somewhat see how it might be a more natural operation.\n\nI don't see the point in the `valuation_ring` method as it does not involve `self`. This was something I missed on a previous review, but I noticed here because of the diff.\n\nThe `keys` here is unnecessary: `sorted(self._data.keys())`.\n\nIt is faster to use `while s and o:` instead of `while len(s) > 0 and len(o) > 0:`.",
    "created_at": "2019-02-13T16:25:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27121",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27121#issuecomment-498829",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:4'></a>
Here are my comments.

The `__radd__` should not be necessary as the coercion framework should take care of that (which you are using with `_add_`), unless you are trying to explicitly avoid the coercion framework (as the coercions you would need are not (or should not) be there).

Is there a way to minimize the duplication of `divisor`, `divisor_of_zeros`, and `divisor_of_poles` in the two files (say, by putting them in a common base class for the respective files)? It all looks like basically the same code.

`self.divisor_group()(0)` -> `self.divisor_group().zero()` (the latter is cached).

Similarly, I am not sure I like having the `zero_divisor` method. If anything, it should do `DivisorGroup(field).zero()` and not be used to construct the `0` of the divisor group. I am slightly in favor of removing it for the explicitness of the code (as it is a one-liner), but I can somewhat see how it might be a more natural operation.

I don't see the point in the `valuation_ring` method as it does not involve `self`. This was something I missed on a previous review, but I noticed here because of the diff.

The `keys` here is unnecessary: `sorted(self._data.keys())`.

It is faster to use `while s and o:` instead of `while len(s) > 0 and len(o) > 0:`.



---

archive/issue_comments_498830.json:
```json
{
    "body": "<a id='comment:5'></a>\nReplying to [tscrim](#comment%3A4):\n> The `__radd__` should not be necessary as the coercion framework should take care of that (which you are using with `_add_`), unless you are trying to explicitly avoid the coercion framework (as the coercions you would need are not (or should not) be there).\n\n\nHow could I achieve the following without `__radd__`?  An integer (in particular zero) is not supposed to be coerced to a place. Then how the coercion framework could enable the example below.  Would you give me hints?\n\n```\n        This is only to support the ``sum`` function, that adds\n        the argument to initial (int) zero.\n\n        EXAMPLES::\n\n            sage: k.<a>=GF(2)\n            sage: K.<x>=FunctionField(k)\n            sage: sum(K.places_finite())\n            Place (x) + Place (x + 1)\n\n        .. NOTE:\n\n        This does not work though::\n\n            sage: 0 + K.place_infinite()\n            Traceback (most recent call last):\n            ...\n            TypeError: unsupported operand parent(s) for +: ...\n\n        The reason is that the ``0`` is a Sage integer, for which\n        the coercion system applies. \n```",
    "created_at": "2019-02-14T04:21:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27121",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27121#issuecomment-498830",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:5'></a>
Replying to [tscrim](#comment%3A4):
> The `__radd__` should not be necessary as the coercion framework should take care of that (which you are using with `_add_`), unless you are trying to explicitly avoid the coercion framework (as the coercions you would need are not (or should not) be there).


How could I achieve the following without `__radd__`?  An integer (in particular zero) is not supposed to be coerced to a place. Then how the coercion framework could enable the example below.  Would you give me hints?

```
        This is only to support the ``sum`` function, that adds
        the argument to initial (int) zero.

        EXAMPLES::

            sage: k.<a>=GF(2)
            sage: K.<x>=FunctionField(k)
            sage: sum(K.places_finite())
            Place (x) + Place (x + 1)

        .. NOTE:

        This does not work though::

            sage: 0 + K.place_infinite()
            Traceback (most recent call last):
            ...
            TypeError: unsupported operand parent(s) for +: ...

        The reason is that the ``0`` is a Sage integer, for which
        the coercion system applies. 
```



---

archive/issue_comments_498831.json:
```json
{
    "body": "**Changing commit** from \"[86481c4b100914b4655e27fce0f387c24a5ec7d8](https://github.com/sagemath/sagetrac-mirror/commit/86481c4b100914b4655e27fce0f387c24a5ec7d8)\" to \"[b9021897730be4f082d6645c33580c90f3447556](https://github.com/sagemath/sagetrac-mirror/commit/b9021897730be4f082d6645c33580c90f3447556)\".",
    "created_at": "2019-02-14T04:22:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27121",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27121#issuecomment-498831",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[86481c4b100914b4655e27fce0f387c24a5ec7d8](https://github.com/sagemath/sagetrac-mirror/commit/86481c4b100914b4655e27fce0f387c24a5ec7d8)" to "[b9021897730be4f082d6645c33580c90f3447556](https://github.com/sagemath/sagetrac-mirror/commit/b9021897730be4f082d6645c33580c90f3447556)".



---

archive/issue_comments_498832.json:
```json
{
    "body": "<a id='comment:6'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b9021897730be4f082d6645c33580c90f3447556\">b902189</a></td><td><code>Various fixes</code></td></tr></table>\n",
    "created_at": "2019-02-14T04:22:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27121",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27121#issuecomment-498832",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b9021897730be4f082d6645c33580c90f3447556">b902189</a></td><td><code>Various fixes</code></td></tr></table>




---

archive/issue_comments_498833.json:
```json
{
    "body": "<a id='comment:7'></a>\nReplying to [tscrim](#comment%3A4):\n\n> Is there a way to minimize the duplication of `divisor`, `divisor_of_zeros`, and `divisor_of_poles` in the two files (say, by putting them in a common base class for the respective files)? It all looks like basically the same code.\n\n\nRight. Done.\n\n> \n> `self.divisor_group()(0)` -> `self.divisor_group().zero()` (the latter is cached).\n> \n\n\nDone.\n\n> Similarly, I am not sure I like having the `zero_divisor` method. If anything, it should do `DivisorGroup(field).zero()` and not be used to construct the `0` of the divisor group. I am slightly in favor of removing it for the explicitness of the code (as it is a one-liner), but I can somewhat see how it might be a more natural operation.\n\n\nDone.\n\n> \n> I don't see the point in the `valuation_ring` method as it does not involve `self`. This was something I missed on a previous review, but I noticed here because of the diff.\n\n\nRemoved.\n\n> \n> The `keys` here is unnecessary: `sorted(self._data.keys())`.\n> \n\n\nDone.\n\n> It is faster to use `while s and o:` instead of `while len(s) > 0 and len(o) > 0:`.\n\n\nDone.",
    "created_at": "2019-02-14T04:23:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27121",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27121#issuecomment-498833",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:7'></a>
Replying to [tscrim](#comment%3A4):

> Is there a way to minimize the duplication of `divisor`, `divisor_of_zeros`, and `divisor_of_poles` in the two files (say, by putting them in a common base class for the respective files)? It all looks like basically the same code.


Right. Done.

> 
> `self.divisor_group()(0)` -> `self.divisor_group().zero()` (the latter is cached).
> 


Done.

> Similarly, I am not sure I like having the `zero_divisor` method. If anything, it should do `DivisorGroup(field).zero()` and not be used to construct the `0` of the divisor group. I am slightly in favor of removing it for the explicitness of the code (as it is a one-liner), but I can somewhat see how it might be a more natural operation.


Done.

> 
> I don't see the point in the `valuation_ring` method as it does not involve `self`. This was something I missed on a previous review, but I noticed here because of the diff.


Removed.

> 
> The `keys` here is unnecessary: `sorted(self._data.keys())`.
> 


Done.

> It is faster to use `while s and o:` instead of `while len(s) > 0 and len(o) > 0:`.


Done.



---

archive/issue_comments_498834.json:
```json
{
    "body": "<a id='comment:8'></a>\nReplying to [klee](#comment%3A5):\n> Replying to [tscrim](#comment%3A4):\n> > The `__radd__` should not be necessary as the coercion framework should take care of that (which you are using with `_add_`), unless you are trying to explicitly avoid the coercion framework (as the coercions you would need are not (or should not) be there).\n\n> \n> How could I achieve the following without `__radd__`?  An integer (in particular zero) is not supposed to be coerced to a place. Then how the coercion framework could enable the example below.  Would you give me hints?\n\n\nTo get this to work, you would need to allow `0` to convert into the parent (which is a special case within the coercion framework). So that is why this works:\n\n```\nsage: 0 + vector([1,2,1])\n(1, 2, 1)\nsage: coercion_model.canonical_coercion(0, v)\n((0, 0, 0), (1, 2, 1))\n```\nSo if you want it to work, you can hack something together to have `0` be some sort of allowed conversion to a dummy element.",
    "created_at": "2019-02-14T05:41:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27121",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27121#issuecomment-498834",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:8'></a>
Replying to [klee](#comment%3A5):
> Replying to [tscrim](#comment%3A4):
> > The `__radd__` should not be necessary as the coercion framework should take care of that (which you are using with `_add_`), unless you are trying to explicitly avoid the coercion framework (as the coercions you would need are not (or should not) be there).

> 
> How could I achieve the following without `__radd__`?  An integer (in particular zero) is not supposed to be coerced to a place. Then how the coercion framework could enable the example below.  Would you give me hints?


To get this to work, you would need to allow `0` to convert into the parent (which is a special case within the coercion framework). So that is why this works:

```
sage: 0 + vector([1,2,1])
(1, 2, 1)
sage: coercion_model.canonical_coercion(0, v)
((0, 0, 0), (1, 2, 1))
```
So if you want it to work, you can hack something together to have `0` be some sort of allowed conversion to a dummy element.



---

archive/issue_comments_498835.json:
```json
{
    "body": "<a id='comment:9'></a>\nAlso, the `.. NOTE::` block should have two colons and the following text should be indented, but this might be moot.",
    "created_at": "2019-02-14T05:46:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27121",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27121#issuecomment-498835",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:9'></a>
Also, the `.. NOTE::` block should have two colons and the following text should be indented, but this might be moot.



---

archive/issue_comments_498836.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [tscrim](#comment%3A8):\n> Replying to [klee](#comment%3A5):\n> > Replying to [tscrim](#comment%3A4):\n> > > The `__radd__` should not be necessary as the coercion framework should take care of that (which you are using with `_add_`), unless you are trying to explicitly avoid the coercion framework (as the coercions you would need are not (or should not) be there).\n\n> > \n> > How could I achieve the following without `__radd__`?  An integer (in particular zero) is not supposed to be coerced to a place. Then how the coercion framework could enable the example below.  Would you give me hints?\n\n> \n> To get this to work, you would need to allow `0` to convert into the parent (which is a special case within the coercion framework). So that is why this works:\n> \n> ```\n> sage: 0 + vector([1,2,1])\n> (1, 2, 1)\n> sage: coercion_model.canonical_coercion(0, v)\n> ((0, 0, 0), (1, 2, 1))\n> ```\n> So if you want it to work, you can hack something together to have `0` be some sort of allowed conversion to a dummy element.\n\n\nFor vectors, `0` is naturally understood as zero vector, and the coercion system implements this. But as I said above, I don't want `0` to be coerced as some place (there is nothing like **zero place**). All I want is to make `sum(a bunch of places)` work.",
    "created_at": "2019-02-14T07:24:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27121",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27121#issuecomment-498836",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:10'></a>
Replying to [tscrim](#comment%3A8):
> Replying to [klee](#comment%3A5):
> > Replying to [tscrim](#comment%3A4):
> > > The `__radd__` should not be necessary as the coercion framework should take care of that (which you are using with `_add_`), unless you are trying to explicitly avoid the coercion framework (as the coercions you would need are not (or should not) be there).

> > 
> > How could I achieve the following without `__radd__`?  An integer (in particular zero) is not supposed to be coerced to a place. Then how the coercion framework could enable the example below.  Would you give me hints?

> 
> To get this to work, you would need to allow `0` to convert into the parent (which is a special case within the coercion framework). So that is why this works:
> 
> ```
> sage: 0 + vector([1,2,1])
> (1, 2, 1)
> sage: coercion_model.canonical_coercion(0, v)
> ((0, 0, 0), (1, 2, 1))
> ```
> So if you want it to work, you can hack something together to have `0` be some sort of allowed conversion to a dummy element.


For vectors, `0` is naturally understood as zero vector, and the coercion system implements this. But as I said above, I don't want `0` to be coerced as some place (there is nothing like **zero place**). All I want is to make `sum(a bunch of places)` work.



---

archive/issue_comments_498837.json:
```json
{
    "body": "**Changing commit** from \"[b9021897730be4f082d6645c33580c90f3447556](https://github.com/sagemath/sagetrac-mirror/commit/b9021897730be4f082d6645c33580c90f3447556)\" to \"[642b659d6da40abb604ec0b156bb2f4b5c4be87f](https://github.com/sagemath/sagetrac-mirror/commit/642b659d6da40abb604ec0b156bb2f4b5c4be87f)\".",
    "created_at": "2019-02-14T08:13:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27121",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27121#issuecomment-498837",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[b9021897730be4f082d6645c33580c90f3447556](https://github.com/sagemath/sagetrac-mirror/commit/b9021897730be4f082d6645c33580c90f3447556)" to "[642b659d6da40abb604ec0b156bb2f4b5c4be87f](https://github.com/sagemath/sagetrac-mirror/commit/642b659d6da40abb604ec0b156bb2f4b5c4be87f)".



---

archive/issue_comments_498838.json:
```json
{
    "body": "<a id='comment:11'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/642b659d6da40abb604ec0b156bb2f4b5c4be87f\">642b659</a></td><td><code>Fix docstring for __radd__</code></td></tr></table>\n",
    "created_at": "2019-02-14T08:13:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27121",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27121#issuecomment-498838",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/642b659d6da40abb604ec0b156bb2f4b5c4be87f">642b659</a></td><td><code>Fix docstring for __radd__</code></td></tr></table>




---

archive/issue_comments_498839.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2019-02-14T16:57:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27121",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27121#issuecomment-498839",
    "user": "https://github.com/tscrim"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_498840.json:
```json
{
    "body": "<a id='comment:12'></a>\nOkay, if it does what you want, then positive review.",
    "created_at": "2019-02-14T16:57:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27121",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27121#issuecomment-498840",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:12'></a>
Okay, if it does what you want, then positive review.



---

archive/issue_comments_498841.json:
```json
{
    "body": "**Reviewer:** Travis Scrimshaw",
    "created_at": "2019-02-14T16:57:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27121",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27121#issuecomment-498841",
    "user": "https://github.com/tscrim"
}
```

**Reviewer:** Travis Scrimshaw



---

archive/issue_comments_498842.json:
```json
{
    "body": "<a id='comment:13'></a>\nReplying to [tscrim](#comment%3A12):\n> Okay, if it does what you want, then positive review.\n\n\nI admit that the `__radd__` thing is ugly. What I want is to allow `0 + p` for a place `p` to result in the **divisor** `p` (=`1*p`; divisors are just formal sums of places).  I wish that I could *fix* this later when I have a solution example of similar situation. \n\nThank you!",
    "created_at": "2019-02-14T23:18:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27121",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27121#issuecomment-498842",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:13'></a>
Replying to [tscrim](#comment%3A12):
> Okay, if it does what you want, then positive review.


I admit that the `__radd__` thing is ugly. What I want is to allow `0 + p` for a place `p` to result in the **divisor** `p` (=`1*p`; divisors are just formal sums of places).  I wish that I could *fix* this later when I have a solution example of similar situation. 

Thank you!



---

archive/issue_events_076103.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-02-15T13:02:15Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/27121",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27121#event-76103"
}
```



---

archive/issue_comments_498843.json:
```json
{
    "body": "**Changing branch** from \"[u/klee/27121](https://github.com/sagemath/sagetrac-mirror/tree/u/klee/27121)\" to \"[642b659d6da40abb604ec0b156bb2f4b5c4be87f](https://github.com/sagemath/sagetrac-mirror/commit/642b659d6da40abb604ec0b156bb2f4b5c4be87f)\".",
    "created_at": "2019-02-15T13:02:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27121",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27121#issuecomment-498843",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/klee/27121](https://github.com/sagemath/sagetrac-mirror/tree/u/klee/27121)" to "[642b659d6da40abb604ec0b156bb2f4b5c4be87f](https://github.com/sagemath/sagetrac-mirror/commit/642b659d6da40abb604ec0b156bb2f4b5c4be87f)".
