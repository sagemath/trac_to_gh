# Issue 27827: spkg-configure.m4 for pkgconf

archive/issues_027590.json:
```json
{
    "body": "pkgconf is an implementation of widely used pkg-config.\nIn fact, pkg-config can be configured to look at certain directories, so we can use the one on the system.\n\nThis is what the branch does - it check for `pkg-config` presense,\nand if it is there is sets up/updates the env.var. `PKG_CONFIG_PATH`\nin `src/bin/sage-env-config`. As `pkg-config` looks in dirs in `PKG_CONFIG_PATH` first, anything that Sage installs there overrides the system ones. \n\nCC:  @embray @kiwifb @isuruf @antonio-rojas\n\nBranch/Commit: ed84fa259632a6dd5319e25ae69df2b6ac08b652\n\nReviewer: Isuru Fernando\n\nAuthor: Dima Pasechnik\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/27827\n\n",
    "closed_at": "2019-07-30T22:14:20Z",
    "created_at": "2019-05-13T21:48:33Z",
    "labels": [
        "component: build: configure"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.9",
    "title": "spkg-configure.m4 for pkgconf",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/27827",
    "user": "https://github.com/dimpase"
}
```
pkgconf is an implementation of widely used pkg-config.
In fact, pkg-config can be configured to look at certain directories, so we can use the one on the system.

This is what the branch does - it check for `pkg-config` presense,
and if it is there is sets up/updates the env.var. `PKG_CONFIG_PATH`
in `src/bin/sage-env-config`. As `pkg-config` looks in dirs in `PKG_CONFIG_PATH` first, anything that Sage installs there overrides the system ones. 

CC:  @embray @kiwifb @isuruf @antonio-rojas

Branch/Commit: ed84fa259632a6dd5319e25ae69df2b6ac08b652

Reviewer: Isuru Fernando

Author: Dima Pasechnik

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/27827





---

archive/issue_comments_531392.json:
```json
{
    "body": "<a id='comment:1'></a>\nAs the Sage-8.8 release milestone is pending, we should delete the sage-8.8 milestone for tickets that are not actively being worked on or that still require significant work to move forward.  If you feel that this ticket should be included in the next Sage release at the soonest please set its milestone to the next release milestone (sage-8.9).",
    "created_at": "2019-06-14T14:55:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27827",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27827#issuecomment-531392",
    "user": "https://github.com/embray"
}
```

<a id='comment:1'></a>
As the Sage-8.8 release milestone is pending, we should delete the sage-8.8 milestone for tickets that are not actively being worked on or that still require significant work to move forward.  If you feel that this ticket should be included in the next Sage release at the soonest please set its milestone to the next release milestone (sage-8.9).



---

archive/issue_comments_531393.json:
```json
{
    "body": "<a id='comment:2'></a>\nthe plan is to install `PKG_CONFIG_PATH=SAGE_LOCAL/lib/pkgconfig` into `src/bin/sage-env-config` in case the system has `pkg-config` installed.",
    "created_at": "2019-07-16T10:29:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27827",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27827#issuecomment-531393",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:2'></a>
the plan is to install `PKG_CONFIG_PATH=SAGE_LOCAL/lib/pkgconfig` into `src/bin/sage-env-config` in case the system has `pkg-config` installed.



---

archive/issue_events_086079.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-07-16T10:29:06Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27827",
    "milestone": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27827#event-86079"
}
```



---

archive/issue_comments_531394.json:
```json
{
    "body": "<a id='comment:3'></a>\nNew commits:\n|                                                                                                                                          |                               |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------|\n|[f77b4c1](https://github.com/sagemath/sagetrac-mirror/commit/f77b4c1ee2217c14d1fc0e9da72845de8234ddd3)|`spkg-configure.m4 for pkgconf`|",
    "created_at": "2019-07-18T17:30:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27827",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27827#issuecomment-531394",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:3'></a>
New commits:
|                                                                                                                                          |                               |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------|
|[f77b4c1](https://github.com/sagemath/sagetrac-mirror/commit/f77b4c1ee2217c14d1fc0e9da72845de8234ddd3)|`spkg-configure.m4 for pkgconf`|



---

archive/issue_comments_531395.json:
```json
{
    "body": "Changing author from \"\" to \"Dima Pasechnik\"",
    "created_at": "2019-07-18T17:30:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27827",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27827#issuecomment-531395",
    "user": "https://github.com/dimpase"
}
```

Changing author from "" to "Dima Pasechnik"



---

archive/issue_comments_531396.json:
```json
{
    "body": "Changing branch from \"\" to \"u/dimpase/packages/pkgconf\"",
    "created_at": "2019-07-18T17:30:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27827",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27827#issuecomment-531396",
    "user": "https://github.com/dimpase"
}
```

Changing branch from "" to "u/dimpase/packages/pkgconf"



---

archive/issue_comments_531397.json:
```json
{
    "body": "Changing commit from \"\" to \"f77b4c1ee2217c14d1fc0e9da72845de8234ddd3\"",
    "created_at": "2019-07-18T17:30:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27827",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27827#issuecomment-531397",
    "user": "https://github.com/dimpase"
}
```

Changing commit from "" to "f77b4c1ee2217c14d1fc0e9da72845de8234ddd3"



---

archive/issue_comments_531398.json:
```json
{
    "body": "<a id='comment:4'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                               |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------|\n|[836f5ba](https://github.com/sagemath/sagetrac-mirror/commit/836f5ba968c1ae0ca0a580e476f79c9957e8490f)|`spkg-configure.m4 for pkgconf`|",
    "created_at": "2019-07-18T21:07:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27827",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27827#issuecomment-531398",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                               |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------|
|[836f5ba](https://github.com/sagemath/sagetrac-mirror/commit/836f5ba968c1ae0ca0a580e476f79c9957e8490f)|`spkg-configure.m4 for pkgconf`|



---

archive/issue_comments_531399.json:
```json
{
    "body": "Changing commit from \"f77b4c1ee2217c14d1fc0e9da72845de8234ddd3\" to \"836f5ba968c1ae0ca0a580e476f79c9957e8490f\"",
    "created_at": "2019-07-18T21:07:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27827",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27827#issuecomment-531399",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "f77b4c1ee2217c14d1fc0e9da72845de8234ddd3" to "836f5ba968c1ae0ca0a580e476f79c9957e8490f"



---

archive/issue_comments_531400.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,6 @@\n pkgconf is an implementation of widely used pkg-config.\n-In fact, pkg-config can be configured to look at certain directories, so we can use the one on the system, I suppose. \n+In fact, pkg-config can be configured to look at certain directories, so we can use the one on the system.\n \n-Fiddly, but probably doable\n+This is what the branch does - it check for `pkg-config` presense,\n+and if it is there is sets up/updates the env.var. `PKG_CONFIG_PATH`\n+in `src/bin/sage-env-config`. As `pkg-config` looks in dirs in `PKG_CONFIG_PATH` first, anything that Sage installs there overrides the system ones. \n``````\n",
    "created_at": "2019-07-19T08:57:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27827",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27827#issuecomment-531400",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,6 @@
 pkgconf is an implementation of widely used pkg-config.
-In fact, pkg-config can be configured to look at certain directories, so we can use the one on the system, I suppose. 
+In fact, pkg-config can be configured to look at certain directories, so we can use the one on the system.
 
-Fiddly, but probably doable
+This is what the branch does - it check for `pkg-config` presense,
+and if it is there is sets up/updates the env.var. `PKG_CONFIG_PATH`
+in `src/bin/sage-env-config`. As `pkg-config` looks in dirs in `PKG_CONFIG_PATH` first, anything that Sage installs there overrides the system ones. 
``````




---

archive/issue_comments_531401.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-07-19T08:57:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27827",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27827#issuecomment-531401",
    "user": "https://github.com/dimpase"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_531402.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-07-21T03:55:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27827",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27827#issuecomment-531402",
    "user": "https://github.com/isuruf"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_531403.json:
```json
{
    "body": "<a id='comment:7'></a>\nWorks for me",
    "created_at": "2019-07-21T03:55:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27827",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27827#issuecomment-531403",
    "user": "https://github.com/isuruf"
}
```

<a id='comment:7'></a>
Works for me



---

archive/issue_comments_531404.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Isuru Fernando\"",
    "created_at": "2019-07-21T03:55:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27827",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27827#issuecomment-531404",
    "user": "https://github.com/isuruf"
}
```

Changing reviewer from "" to "Isuru Fernando"



---

archive/issue_comments_531405.json:
```json
{
    "body": "Changing commit from \"836f5ba968c1ae0ca0a580e476f79c9957e8490f\" to \"3b95f60d00ef162d5154bf35e85e46da24c98e74\"",
    "created_at": "2019-07-23T09:52:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27827",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27827#issuecomment-531405",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "836f5ba968c1ae0ca0a580e476f79c9957e8490f" to "3b95f60d00ef162d5154bf35e85e46da24c98e74"



---

archive/issue_comments_531406.json:
```json
{
    "body": "<a id='comment:8'></a>\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. This was a forced push. New commits:\n|                                                                                                                                           |                               |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------|\n|[3b95f60](https://github.com/sagemath/sagetrac-mirror/commit/3b95f60d00ef162d5154bf35e85e46da24c98e74)|`spkg-configure.m4 for pkgconf`|",
    "created_at": "2019-07-23T09:52:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27827",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27827#issuecomment-531406",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. This was a forced push. New commits:
|                                                                                                                                           |                               |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------|
|[3b95f60](https://github.com/sagemath/sagetrac-mirror/commit/3b95f60d00ef162d5154bf35e85e46da24c98e74)|`spkg-configure.m4 for pkgconf`|



---

archive/issue_comments_531407.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2019-07-23T09:52:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27827",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27827#issuecomment-531407",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_531408.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-07-23T09:53:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27827",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27827#issuecomment-531408",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_531409.json:
```json
{
    "body": "<a id='comment:9'></a>\nrebased over 8.9.beta3",
    "created_at": "2019-07-23T09:53:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27827",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27827#issuecomment-531409",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:9'></a>
rebased over 8.9.beta3



---

archive/issue_comments_531410.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2019-07-23T22:06:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27827",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27827#issuecomment-531410",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_531411.json:
```json
{
    "body": "<a id='comment:10'></a>\nMerge conflict",
    "created_at": "2019-07-23T22:06:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27827",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27827#issuecomment-531411",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:10'></a>
Merge conflict



---

archive/issue_comments_531412.json:
```json
{
    "body": "Changing commit from \"3b95f60d00ef162d5154bf35e85e46da24c98e74\" to \"ed84fa259632a6dd5319e25ae69df2b6ac08b652\"",
    "created_at": "2019-07-29T07:24:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27827",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27827#issuecomment-531412",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "3b95f60d00ef162d5154bf35e85e46da24c98e74" to "ed84fa259632a6dd5319e25ae69df2b6ac08b652"



---

archive/issue_comments_531413.json:
```json
{
    "body": "<a id='comment:11'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                               |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------|\n|[ed84fa2](https://github.com/sagemath/sagetrac-mirror/commit/ed84fa259632a6dd5319e25ae69df2b6ac08b652)|`spkg-configure.m4 for pkgconf`|",
    "created_at": "2019-07-29T07:24:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27827",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27827#issuecomment-531413",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                               |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------|
|[ed84fa2](https://github.com/sagemath/sagetrac-mirror/commit/ed84fa259632a6dd5319e25ae69df2b6ac08b652)|`spkg-configure.m4 for pkgconf`|



---

archive/issue_comments_531414.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2019-07-29T07:25:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27827",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27827#issuecomment-531414",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_531415.json:
```json
{
    "body": "<a id='comment:12'></a>\nrebased over Sage 8.9.beta4",
    "created_at": "2019-07-29T07:25:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27827",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27827#issuecomment-531415",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:12'></a>
rebased over Sage 8.9.beta4



---

archive/issue_comments_531416.json:
```json
{
    "body": "Changing branch from \"u/dimpase/packages/pkgconf\" to \"ed84fa259632a6dd5319e25ae69df2b6ac08b652\"",
    "created_at": "2019-07-30T22:14:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27827",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27827#issuecomment-531416",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/dimpase/packages/pkgconf" to "ed84fa259632a6dd5319e25ae69df2b6ac08b652"



---

archive/issue_comments_531417.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-07-30T22:14:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27827",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27827#issuecomment-531417",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_086080.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-07-30T22:14:20Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/27827",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27827#event-86080"
}
```
