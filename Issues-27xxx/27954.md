# Issue 27954: Integral curves over finite fields: closed points

archive/issues_027717.json:
```json
{
    "body": "This is a subticket of #27873.\n\nClosed points are added to integral curves over finite fields.\n\nBranch/Commit: 558a97164876c753274b32392380dcfc891eeb79\n\nReviewer: Travis Scrimshaw\n\nAuthor: Kwankyu Lee\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/27954\n\n",
    "closed_at": "2020-01-31T23:49:49Z",
    "created_at": "2019-06-08T22:57:09Z",
    "labels": [
        "component: algebraic geometry"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.1",
    "title": "Integral curves over finite fields: closed points",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/27954",
    "user": "https://github.com/kwankyu"
}
```
This is a subticket of #27873.

Closed points are added to integral curves over finite fields.

Branch/Commit: 558a97164876c753274b32392380dcfc891eeb79

Reviewer: Travis Scrimshaw

Author: Kwankyu Lee

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/27954





---

archive/issue_comments_416737.json:
```json
{
    "body": "<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-06-08T22:59:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27954",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27954#issuecomment-416737",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_416738.json:
```json
{
    "body": "Changing status from new to needs_info.",
    "created_at": "2019-06-10T06:58:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27954",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27954#issuecomment-416738",
    "user": "https://github.com/kwankyu"
}
```

Changing status from new to needs_info.



---

archive/issue_comments_416739.json:
```json
{
    "body": "<a id='comment:5'></a>Tickets still needing working or clarification should be moved to the next release milestone at the soonest (please feel free to revert if you think the ticket is close to being resolved).",
    "created_at": "2019-06-14T14:50:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27954",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27954#issuecomment-416739",
    "user": "https://github.com/embray"
}
```

<a id='comment:5'></a>Tickets still needing working or clarification should be moved to the next release milestone at the soonest (please feel free to revert if you think the ticket is close to being resolved).



---

archive/issue_events_069281.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-06-14T14:50:27Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27954",
    "milestone": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27954#event-69281"
}
```



---

archive/issue_comments_416740.json:
```json
{
    "body": "Changing status from needs_info to needs_work.",
    "created_at": "2019-06-25T07:20:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27954",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27954#issuecomment-416740",
    "user": "https://github.com/kwankyu"
}
```

Changing status from needs_info to needs_work.



---

archive/issue_comments_416741.json:
```json
{
    "body": "<a id='comment:7'></a>Ticket retargeted after milestone closed",
    "created_at": "2019-12-30T14:48:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27954",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27954#issuecomment-416741",
    "user": "https://github.com/embray"
}
```

<a id='comment:7'></a>Ticket retargeted after milestone closed



---

archive/issue_events_069282.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:48:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27954",
    "milestone": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27954#event-69282"
}
```



---

archive/issue_events_069283.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:48:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27954",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27954#event-69283"
}
```



---

archive/issue_comments_416742.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-01-13T06:14:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27954",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27954#issuecomment-416742",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_416743.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-01-13T06:17:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27954",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27954#issuecomment-416743",
    "user": "https://github.com/kwankyu"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_416744.json:
```json
{
    "body": "<a id='comment:10'></a>Instead of using `__eq__`, what about using `_richcmp_`? Otherwise you will have to implement a `__ne__` method I believe.\n\nI also have some recollection that Python3 will be better in terms of locality of variables, but maybe that is not true. To be safe (and make it easier to understand), I would change:\n\n```diff\n         if i is None:\n-           for i in range(P.ngens()):\n-               if not P.gen(i) in ideal:\n+           for j in range(P.ngens()):\n+               if not P.gen(j) in ideal:\n+                   i = j\n                    break\n```\n\nBeyond these minor things, looks good.",
    "created_at": "2020-01-28T00:26:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27954",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27954#issuecomment-416744",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:10'></a>Instead of using `__eq__`, what about using `_richcmp_`? Otherwise you will have to implement a `__ne__` method I believe.

I also have some recollection that Python3 will be better in terms of locality of variables, but maybe that is not true. To be safe (and make it easier to understand), I would change:

```diff
         if i is None:
-           for i in range(P.ngens()):
-               if not P.gen(i) in ideal:
+           for j in range(P.ngens()):
+               if not P.gen(j) in ideal:
+                   i = j
                    break
```

Beyond these minor things, looks good.



---

archive/issue_comments_416745.json:
```json
{
    "body": "<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-01-28T03:39:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27954",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27954#issuecomment-416745",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_416746.json:
```json
{
    "body": "<a id='comment:12'></a>Replying to [comment:10 tscrim]:\n> Instead of using `__eq__`, what about using `_richcmp_`? Otherwise you will have to implement a `__ne__` method I believe.\n\n\nRight. I wonder how I forgot this. Done.\n\n> I also have some recollection that Python3 will be better in terms of locality of variables, but maybe that is not true. To be safe (and make it easier to understand), I would change:\n> \n> ```diff\n>          if i is None:\n> -           for i in range(P.ngens()):\n> -               if not P.gen(i) in ideal:\n> +           for j in range(P.ngens()):\n> +               if not P.gen(j) in ideal:\n> +                   i = j\n>                     break\n> ```\n\n\nGood tip. Done.\n \n> Beyond these minor things, looks good.\n\n\nThank you, Travis, for your attention. Let me know when you come to Korea :-)",
    "created_at": "2020-01-28T03:51:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27954",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27954#issuecomment-416746",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:12'></a>Replying to [comment:10 tscrim]:
> Instead of using `__eq__`, what about using `_richcmp_`? Otherwise you will have to implement a `__ne__` method I believe.


Right. I wonder how I forgot this. Done.

> I also have some recollection that Python3 will be better in terms of locality of variables, but maybe that is not true. To be safe (and make it easier to understand), I would change:
> 
> ```diff
>          if i is None:
> -           for i in range(P.ngens()):
> -               if not P.gen(i) in ideal:
> +           for j in range(P.ngens()):
> +               if not P.gen(j) in ideal:
> +                   i = j
>                     break
> ```


Good tip. Done.
 
> Beyond these minor things, looks good.


Thank you, Travis, for your attention. Let me know when you come to Korea :-)



---

archive/issue_comments_416747.json:
```json
{
    "body": "<a id='comment:13'></a>Replying to [comment:12 klee]:\n> Replying to [comment:10 tscrim]:\n> > Instead of using `__eq__`, what about using `_richcmp_`? Otherwise you will have to implement a `__ne__` method I believe.\n\n> \n> Right. I wonder how I forgot this. Done.\n\n\nI have also done this before (and spent quite some time debugging because this can lead to very subtle errors).\n\n> Thank you, Travis, for your attention.\n\n\nNo problem. Thank you for the changes.\n\n> Let me know when you come to Korea :-)  \n\n\nWill do. Unfortunately I might not make it in 2020, but maybe January to February, 2021.",
    "created_at": "2020-01-28T15:54:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27954",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27954#issuecomment-416747",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:13'></a>Replying to [comment:12 klee]:
> Replying to [comment:10 tscrim]:
> > Instead of using `__eq__`, what about using `_richcmp_`? Otherwise you will have to implement a `__ne__` method I believe.

> 
> Right. I wonder how I forgot this. Done.


I have also done this before (and spent quite some time debugging because this can lead to very subtle errors).

> Thank you, Travis, for your attention.


No problem. Thank you for the changes.

> Let me know when you come to Korea :-)  


Will do. Unfortunately I might not make it in 2020, but maybe January to February, 2021.



---

archive/issue_comments_416748.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-01-28T15:54:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27954",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27954#issuecomment-416748",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_416749.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-01-31T23:49:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27954",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27954#issuecomment-416749",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_069284.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-01-31T23:49:49Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/27954",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27954#event-69284"
}
```
