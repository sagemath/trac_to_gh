# Issue 27958: enhance the integration by using also giac and sympy

archive/issues_027721.json:
```json
{
    "assignees": [],
    "body": "\n\nCC:  @mwageringel @sagetrac-jakobkroeker @kcrisman @pjbruin @rwst @seblabbe @slel @sagetrac-tmonteil @videlec @vinklein @zimmermann6 @mforets @mezzarobba\n\nKeywords: **integration**\n\nBranch: **[d4371e3](https://github.com/sagemath/sagetrac-mirror/commit/d4371e3be96a2386f65b57d2e9f36f69eaf71587)**\n\nReviewer: **Thierry Monteil**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/27958_\n\n",
    "closed_at": "2019-07-20T09:10:52Z",
    "created_at": "2019-06-09T07:22:08Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20symbolics",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.9",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "enhance the integration by using also giac and sympy",
    "type": "issue",
    "updated_at": "2020-01-07T10:56:45Z",
    "url": "https://github.com/sagemath/sage/issues/27958",
    "user": "https://github.com/fchapoton"
}
```


CC:  @mwageringel @sagetrac-jakobkroeker @kcrisman @pjbruin @rwst @seblabbe @slel @sagetrac-tmonteil @videlec @vinklein @zimmermann6 @mforets @mezzarobba

Keywords: **integration**

Branch: **[d4371e3](https://github.com/sagemath/sagetrac-mirror/commit/d4371e3be96a2386f65b57d2e9f36f69eaf71587)**

Reviewer: **Thierry Monteil**

Author: **Frédéric Chapoton**

_Issue created by migration from https://trac.sagemath.org/ticket/27958_





---

archive/issue_events_365201.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-06-09T07:22:08Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27958#event-365201"
}
```



---

archive/issue_events_365202.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-06-09T07:22:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20symbolics",
    "label_color": "0000ff",
    "label_name": "component: symbolics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27958#event-365202"
}
```



---

archive/issue_events_365203.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-06-09T07:22:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27958#event-365203"
}
```



---

archive/issue_events_365204.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-06-09T07:22:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27958#event-365204"
}
```



---

archive/issue_comments_437731.json:
```json
{
    "body": "Branch: **[u/chapoton/27958](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/27958)**",
    "created_at": "2019-06-09T07:22:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437731",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/27958](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/27958)**



---

archive/issue_comments_437732.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3ddd815e4fbbef38f3bb2b9b1c75674d20c44cd0\">3ddd815</a></td><td><code>enhance our integration capacities by using maxima, giac and sympy</code></td></tr></table>\n",
    "created_at": "2019-06-09T07:22:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437732",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:1" align="right">Comment 1</div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3ddd815e4fbbef38f3bb2b9b1c75674d20c44cd0">3ddd815</a></td><td><code>enhance our integration capacities by using maxima, giac and sympy</code></td></tr></table>




---

archive/issue_events_365205.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-06-09T07:22:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27958#event-365205"
}
```



---

archive/issue_comments_437733.json:
```json
{
    "body": "Commit: **[3ddd815](https://github.com/sagemath/sagetrac-mirror/commit/3ddd815e4fbbef38f3bb2b9b1c75674d20c44cd0)**",
    "created_at": "2019-06-09T07:22:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437733",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[3ddd815](https://github.com/sagemath/sagetrac-mirror/commit/3ddd815e4fbbef38f3bb2b9b1c75674d20c44cd0)**



---

archive/issue_comments_437734.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e297e21f5bae8d5b61e7701820bb691857bea647\">e297e21</a></td><td><code>trac 27958 polishing the details</code></td></tr></table>\n",
    "created_at": "2019-06-09T08:17:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437734",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2" align="right">Comment 2</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e297e21f5bae8d5b61e7701820bb691857bea647">e297e21</a></td><td><code>trac 27958 polishing the details</code></td></tr></table>




---

archive/issue_comments_437735.json:
```json
{
    "body": "Changed commit from **[3ddd815](https://github.com/sagemath/sagetrac-mirror/commit/3ddd815e4fbbef38f3bb2b9b1c75674d20c44cd0)** to **[e297e21](https://github.com/sagemath/sagetrac-mirror/commit/e297e21f5bae8d5b61e7701820bb691857bea647)**",
    "created_at": "2019-06-09T08:17:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437735",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[3ddd815](https://github.com/sagemath/sagetrac-mirror/commit/3ddd815e4fbbef38f3bb2b9b1c75674d20c44cd0)** to **[e297e21](https://github.com/sagemath/sagetrac-mirror/commit/e297e21f5bae8d5b61e7701820bb691857bea647)**



---

archive/issue_comments_437736.json:
```json
{
    "body": "Changed keywords from **** to **integration**",
    "created_at": "2019-06-09T08:38:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437736",
    "user": "https://github.com/fchapoton"
}
```

Changed keywords from **** to **integration**



---

archive/issue_comments_437737.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nsometimes sympy takes ages, so that's why it comes last:\n\n```\nsage: integrate(sqrt(1-m*sin(x)^2),x,algorithm='sympy')\n... hangs ...\n```",
    "created_at": "2019-06-09T08:43:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437737",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:5" align="right">Comment 5</div>

sometimes sympy takes ages, so that's why it comes last:

```
sage: integrate(sqrt(1-m*sin(x)^2),x,algorithm='sympy')
... hangs ...
```



---

archive/issue_comments_437738.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nsome failing doctests, work in progress",
    "created_at": "2019-06-09T09:42:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437738",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:6" align="right">Comment 6</div>

some failing doctests, work in progress



---

archive/issue_events_365206.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-06-09T09:42:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27958#event-365206"
}
```



---

archive/issue_events_365207.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-06-09T09:42:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27958#event-365207"
}
```



---

archive/issue_comments_437739.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4a9fbbb2656d3af8fe015ad00fde43daf71cf0fc\">4a9fbbb</a></td><td><code>trac 27958 fixing doctests</code></td></tr></table>\n",
    "created_at": "2019-06-09T11:06:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437739",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7" align="right">Comment 7</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4a9fbbb2656d3af8fe015ad00fde43daf71cf0fc">4a9fbbb</a></td><td><code>trac 27958 fixing doctests</code></td></tr></table>




---

archive/issue_comments_437740.json:
```json
{
    "body": "Changed commit from **[e297e21](https://github.com/sagemath/sagetrac-mirror/commit/e297e21f5bae8d5b61e7701820bb691857bea647)** to **[4a9fbbb](https://github.com/sagemath/sagetrac-mirror/commit/4a9fbbb2656d3af8fe015ad00fde43daf71cf0fc)**",
    "created_at": "2019-06-09T11:06:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437740",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[e297e21](https://github.com/sagemath/sagetrac-mirror/commit/e297e21f5bae8d5b61e7701820bb691857bea647)** to **[4a9fbbb](https://github.com/sagemath/sagetrac-mirror/commit/4a9fbbb2656d3af8fe015ad00fde43daf71cf0fc)**



---

archive/issue_comments_437741.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nThis seems to work well enough. Waiting for the patchbots' green lights.",
    "created_at": "2019-06-09T11:31:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437741",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:8" align="right">Comment 8</div>

This seems to work well enough. Waiting for the patchbots' green lights.



---

archive/issue_comments_437742.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nHaving more integration algorithms tried by default is a very good move. However, doctests should get more analyzed:\n\nThis part of the patch looks weird:\n\n```\n-can do, but Sage currently can't do::\n+can do, but Sage currently cannot do::\n \n-    sage: integrate(log(x)*exp(-x^2), x)        # todo -- Mathematica can do this\n-    integrate(e^(-x^2)*log(x), x)\n+    sage: integrate(log(x)*exp(-x^2), x)\n+    1/2*sqrt(pi)*erf(x)*log(x) - x*hypergeometric((1/2, 1/2), (3/2, 3/2), -x^2)\n```\n\nEven if Sage is not able to perform the nice simplifications, this *looks* pretty correct (though i am not analyst):\n\n```\nsage: f = 1/2*sqrt(pi)*erf(x)*log(x) - x*hypergeometric((1/2, 1/2), (3/2, 3/2), -x^2)\nsage: g =  f.derivative(x)\nsage: h = g - log(x)*exp(-x^2)\nsage: h.full_simplify()\n1/18*(4*x^3*hypergeometric((3/2, 3/2), (5/2, 5/2), -x^2) - 18*x*hypergeometric((1/2, 1/2), (3/2, 3/2), -x^2) + 9*sqrt(pi)*erf(x))/x\nsage: h.plot(x,0,1)\n```\n\nThat function looks like the zero function ?",
    "created_at": "2019-06-09T12:11:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437742",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:9" align="right">Comment 9</div>

Having more integration algorithms tried by default is a very good move. However, doctests should get more analyzed:

This part of the patch looks weird:

```
-can do, but Sage currently can't do::
+can do, but Sage currently cannot do::
 
-    sage: integrate(log(x)*exp(-x^2), x)        # todo -- Mathematica can do this
-    integrate(e^(-x^2)*log(x), x)
+    sage: integrate(log(x)*exp(-x^2), x)
+    1/2*sqrt(pi)*erf(x)*log(x) - x*hypergeometric((1/2, 1/2), (3/2, 3/2), -x^2)
```

Even if Sage is not able to perform the nice simplifications, this *looks* pretty correct (though i am not analyst):

```
sage: f = 1/2*sqrt(pi)*erf(x)*log(x) - x*hypergeometric((1/2, 1/2), (3/2, 3/2), -x^2)
sage: g =  f.derivative(x)
sage: h = g - log(x)*exp(-x^2)
sage: h.full_simplify()
1/18*(4*x^3*hypergeometric((3/2, 3/2), (5/2, 5/2), -x^2) - 18*x*hypergeometric((1/2, 1/2), (3/2, 3/2), -x^2) + 9*sqrt(pi)*erf(x))/x
sage: h.plot(x,0,1)
```

That function looks like the zero function ?



---

archive/issue_comments_437743.json:
```json
{
    "body": "Reviewer: **Thierry Monteil**",
    "created_at": "2019-06-09T12:13:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437743",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Reviewer: **Thierry Monteil**



---

archive/issue_comments_437744.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nActually, mathematica gives a very similar result : https://www.wolframalpha.com/input/?i=integrate+log(x)*exp(-x%5E2)",
    "created_at": "2019-06-09T12:13:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437744",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:10" align="right">Comment 10</div>

Actually, mathematica gives a very similar result : https://www.wolframalpha.com/input/?i=integrate+log(x)*exp(-x%5E2)



---

archive/issue_comments_437745.json:
```json
{
    "body": "Changed commit from **[4a9fbbb](https://github.com/sagemath/sagetrac-mirror/commit/4a9fbbb2656d3af8fe015ad00fde43daf71cf0fc)** to **[8eaf4c1](https://github.com/sagemath/sagetrac-mirror/commit/8eaf4c1c9df9d4097dae5483a911fe71f95f5ab8)**",
    "created_at": "2019-06-09T12:16:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437745",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[4a9fbbb](https://github.com/sagemath/sagetrac-mirror/commit/4a9fbbb2656d3af8fe015ad00fde43daf71cf0fc)** to **[8eaf4c1](https://github.com/sagemath/sagetrac-mirror/commit/8eaf4c1c9df9d4097dae5483a911fe71f95f5ab8)**



---

archive/issue_comments_437746.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8eaf4c1c9df9d4097dae5483a911fe71f95f5ab8\">8eaf4c1</a></td><td><code>trac 27958 some details in doc</code></td></tr></table>\n",
    "created_at": "2019-06-09T12:16:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437746",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11" align="right">Comment 11</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8eaf4c1c9df9d4097dae5483a911fe71f95f5ab8">8eaf4c1</a></td><td><code>trac 27958 some details in doc</code></td></tr></table>




---

archive/issue_comments_437747.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nthx, I have modified this part of the doc",
    "created_at": "2019-06-09T12:16:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437747",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:12" align="right">Comment 12</div>

thx, I have modified this part of the doc



---

archive/issue_comments_437748.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nAlso, in \n\n```\n+Todo, Mathematica can do this and gets `\\pi^2/15`::\n \n     sage: integrate(log(1+sqrt(1+4*x)/2)/x, x, 0, 1)\n     Traceback (most recent call last):\n     ...\n     ValueError: Integral is divergent.\n```\n\nWell, the integral *is* divergent, as the function behaves like `log(3/2)/x` around zero. And i bet mathematica never returned `pi^2/15`, maybe the original example was modified along the time without noticing.",
    "created_at": "2019-06-09T12:35:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437748",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:13" align="right">Comment 13</div>

Also, in 

```
+Todo, Mathematica can do this and gets `\pi^2/15`::
 
     sage: integrate(log(1+sqrt(1+4*x)/2)/x, x, 0, 1)
     Traceback (most recent call last):
     ...
     ValueError: Integral is divergent.
```

Well, the integral *is* divergent, as the function behaves like `log(3/2)/x` around zero. And i bet mathematica never returned `pi^2/15`, maybe the original example was modified along the time without noticing.



---

archive/issue_comments_437749.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nSome other remarks:\n\n- when you write that Sage can \"now\" compute some integral, it might be good to refer to <code>:trac:\\`27958\\`</code> so that interested people could see how and where the issue was fixed.\n- when you add some conversions dict that are not indirectly tested with the examples, it might be good to doctest them explicitely (i am thinking in particular to the `sign` conversion for fricas, but maybe there are other that you added without the need to let the new example work, but only you can track those without effort).\n- why not also adding `fricas` to the tried integrators ? Though it is optional, it could be nice to have it implicitely used when the user has it installed. This may be part of another ticket though.",
    "created_at": "2019-06-09T13:35:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437749",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:14" align="right">Comment 14</div>

Some other remarks:

- when you write that Sage can "now" compute some integral, it might be good to refer to <code>:trac:\`27958\`</code> so that interested people could see how and where the issue was fixed.
- when you add some conversions dict that are not indirectly tested with the examples, it might be good to doctest them explicitely (i am thinking in particular to the `sign` conversion for fricas, but maybe there are other that you added without the need to let the new example work, but only you can track those without effort).
- why not also adding `fricas` to the tried integrators ? Though it is optional, it could be nice to have it implicitely used when the user has it installed. This may be part of another ticket though.



---

archive/issue_comments_437750.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\nLet me CC @zimmermann6 since some doctests in the Sage book are modified, so that perhaps the example of `exp(\u2212x^2 )*ln(x)` might not be good anymore to illustrate numerical integration as a fallback.",
    "created_at": "2019-06-09T13:44:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437750",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:15" align="right">Comment 15</div>

Let me CC @zimmermann6 since some doctests in the Sage book are modified, so that perhaps the example of `exp(−x^2 )*ln(x)` might not be good anymore to illustrate numerical integration as a fallback.



---

archive/issue_comments_437751.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">Comment 16</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/406e27278cc325b9fe0b84b448da6cbad537bba8\">406e272</a></td><td><code>trac 27958 doc polishing</code></td></tr></table>\n",
    "created_at": "2019-06-09T14:04:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437751",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16" align="right">Comment 16</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/406e27278cc325b9fe0b84b448da6cbad537bba8">406e272</a></td><td><code>trac 27958 doc polishing</code></td></tr></table>




---

archive/issue_comments_437752.json:
```json
{
    "body": "Changed commit from **[8eaf4c1](https://github.com/sagemath/sagetrac-mirror/commit/8eaf4c1c9df9d4097dae5483a911fe71f95f5ab8)** to **[406e272](https://github.com/sagemath/sagetrac-mirror/commit/406e27278cc325b9fe0b84b448da6cbad537bba8)**",
    "created_at": "2019-06-09T14:04:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437752",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[8eaf4c1](https://github.com/sagemath/sagetrac-mirror/commit/8eaf4c1c9df9d4097dae5483a911fe71f95f5ab8)** to **[406e272](https://github.com/sagemath/sagetrac-mirror/commit/406e27278cc325b9fe0b84b448da6cbad537bba8)**



---

archive/issue_events_365208.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-06-09T14:05:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27958#event-365208"
}
```



---

archive/issue_events_365209.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-06-09T14:05:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27958#event-365209"
}
```



---

archive/issue_comments_437753.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">Comment 17</div>\n\nThx, I have made the suggested changes.\n\nLet us keep the possibility of also adding the fricas integrator for another ticket.",
    "created_at": "2019-06-09T14:05:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437753",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:17" align="right">Comment 17</div>

Thx, I have made the suggested changes.

Let us keep the possibility of also adding the fricas integrator for another ticket.



---

archive/issue_comments_437754.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">Comment 18</div>\n\nfull green bot, please review",
    "created_at": "2019-06-10T18:12:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437754",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:18" align="right">Comment 18</div>

full green bot, please review



---

archive/issue_comments_437755.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">Comment 19</div>\n\nAny timing information?  I'd be really concerned about stuff slowing down by trying these additional integrators if there was significant overhead somewhere we didn't know about.",
    "created_at": "2019-06-10T18:17:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437755",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:19" align="right">Comment 19</div>

Any timing information?  I'd be really concerned about stuff slowing down by trying these additional integrators if there was significant overhead somewhere we didn't know about.



---

archive/issue_comments_437756.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">Comment 20</div>\n\n+1 for this PR.\n\n> I'd be really concerned about stuff slowing down by trying these additional integrators\n\nSince it still uses `maxima` as its first try, the time will get worse only in those cases were Sage was returning an error or an unevaluated integral (both results are useless, i would say, so one shouldn't care).",
    "created_at": "2019-06-10T18:34:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437756",
    "user": "https://github.com/mforets"
}
```

<div id="comment:20" align="right">Comment 20</div>

+1 for this PR.

> I'd be really concerned about stuff slowing down by trying these additional integrators

Since it still uses `maxima` as its first try, the time will get worse only in those cases were Sage was returning an error or an unevaluated integral (both results are useless, i would say, so one shouldn't care).



---

archive/issue_comments_437757.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">Comment 21</div>\n\nas I said in [comment:5](#comment%3A5), sometimes sympy seems to hang forever. Here is one case :\n\n```\nsage: %time integrate(sqrt(1-3*sin(x)^2),x)\nCPU times: user 252 ms, sys: 3.93 ms, total: 256 ms\nWall time: 274 ms\nintegrate(sqrt(-3*sin(x)^2 + 1), x)\nsage: %time integrate(sqrt(1-3*sin(x)^2),x,algorithm='giac')\nCPU times: user 2.85 ms, sys: 3.85 ms, total: 6.7 ms\nWall time: 85.3 ms\nintegrate(sqrt(-3*sin(x)^2 + 1), x)\nsage: %time integrate(sqrt(1-3*sin(x)^2),x,algorithm='sympy')\nNOTHING HAPPENS...\n```\nSo this behaviour is now inherited by our integration.\n\nOne can hope that the users will CTRL-C. Or use a time-out ??\n\nIt seems to me that this is a reasonable prize to pay for having more success, in particular with integrals contaiing abs(), now that we have disabled maxima's `abs_integrate`.\n\n**EDIT**:\n\nin this case, sympy succeeds after not so long!!\n\n```\nsage: %time integrate(sqrt(1-3*sin(x)^2),x)\nCPU times: user 1min 47s, sys: 346 ms, total: 1min 47s\nWall time: 1min 50s\nelliptic_e(x, 3)\n```",
    "created_at": "2019-06-10T19:52:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437757",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:21" align="right">Comment 21</div>

as I said in [comment:5](#comment%3A5), sometimes sympy seems to hang forever. Here is one case :

```
sage: %time integrate(sqrt(1-3*sin(x)^2),x)
CPU times: user 252 ms, sys: 3.93 ms, total: 256 ms
Wall time: 274 ms
integrate(sqrt(-3*sin(x)^2 + 1), x)
sage: %time integrate(sqrt(1-3*sin(x)^2),x,algorithm='giac')
CPU times: user 2.85 ms, sys: 3.85 ms, total: 6.7 ms
Wall time: 85.3 ms
integrate(sqrt(-3*sin(x)^2 + 1), x)
sage: %time integrate(sqrt(1-3*sin(x)^2),x,algorithm='sympy')
NOTHING HAPPENS...
```
So this behaviour is now inherited by our integration.

One can hope that the users will CTRL-C. Or use a time-out ??

It seems to me that this is a reasonable prize to pay for having more success, in particular with integrals contaiing abs(), now that we have disabled maxima's `abs_integrate`.

**EDIT**:

in this case, sympy succeeds after not so long!!

```
sage: %time integrate(sqrt(1-3*sin(x)^2),x)
CPU times: user 1min 47s, sys: 346 ms, total: 1min 47s
Wall time: 1min 50s
elliptic_e(x, 3)
```



---

archive/issue_comments_437758.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">Comment 22</div>\n\nI'd be careful, because not every user perhaps knows about Ctrl-C, especially in a notebook/worksheet situation.  But of course if we get a significantly higher proportion of integrals it is good.  I just wanted to raise this.",
    "created_at": "2019-06-10T20:18:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437758",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:22" align="right">Comment 22</div>

I'd be careful, because not every user perhaps knows about Ctrl-C, especially in a notebook/worksheet situation.  But of course if we get a significantly higher proportion of integrals it is good.  I just wanted to raise this.



---

archive/issue_comments_437759.json:
```json
{
    "body": "Changed commit from **[406e272](https://github.com/sagemath/sagetrac-mirror/commit/406e27278cc325b9fe0b84b448da6cbad537bba8)** to **[43c3bfa](https://github.com/sagemath/sagetrac-mirror/commit/43c3bfa2c30ca2f406ddaa149f412116ec6fca62)**",
    "created_at": "2019-06-11T13:21:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437759",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[406e272](https://github.com/sagemath/sagetrac-mirror/commit/406e27278cc325b9fe0b84b448da6cbad537bba8)** to **[43c3bfa](https://github.com/sagemath/sagetrac-mirror/commit/43c3bfa2c30ca2f406ddaa149f412116ec6fca62)**



---

archive/issue_comments_437760.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">Comment 23</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/43c3bfa2c30ca2f406ddaa149f412116ec6fca62\">43c3bfa</a></td><td><code>enhance our integration capacities by using maxima, giac and sympy</code></td></tr></table>\n",
    "created_at": "2019-06-11T13:21:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437760",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23" align="right">Comment 23</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/43c3bfa2c30ca2f406ddaa149f412116ec6fca62">43c3bfa</a></td><td><code>enhance our integration capacities by using maxima, giac and sympy</code></td></tr></table>




---

archive/issue_comments_437761.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">Comment 24</div>\n\nsquashed branch, with more doctests showing the new capacities",
    "created_at": "2019-06-11T13:22:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437761",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:24" align="right">Comment 24</div>

squashed branch, with more doctests showing the new capacities



---

archive/issue_comments_437762.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">Comment 25</div>\n\nand the bot is still fully green.\n\nNote that sometimes it is giac, rather than sympy, that hangs, for example in\n\n```\nintegrate(sqrt(x + sqrt(x)), x)\n```\n\n**EDIT**\nIn giac itself, `integrate(sqrt(x + sqrt(x)),x);` returns an error quickly.\n\n**EDIT**\nDoes not hang in Python2, only in Python3 !!!\n\n**EDIT**: Apparently, in sage+py3, the giac interface cannot recover from a crash of Giac..\n\n```\ngiac('int(sqrt(x+sqrt(x)),x)')\nGiac crashed -- automatically restarting.\nHANGS..\n```",
    "created_at": "2019-06-11T15:55:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437762",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:25" align="right">Comment 25</div>

and the bot is still fully green.

Note that sometimes it is giac, rather than sympy, that hangs, for example in

```
integrate(sqrt(x + sqrt(x)), x)
```

**EDIT**
In giac itself, `integrate(sqrt(x + sqrt(x)),x);` returns an error quickly.

**EDIT**
Does not hang in Python2, only in Python3 !!!

**EDIT**: Apparently, in sage+py3, the giac interface cannot recover from a crash of Giac..

```
giac('int(sqrt(x+sqrt(x)),x)')
Giac crashed -- automatically restarting.
HANGS..
```



---

archive/issue_comments_437763.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">Comment 26</div>\n\nReplying to [@fchapoton](#comment%3A25):\n> [sometimes giac hangs, for example in]\n> \n> ```\n> integrate(sqrt(x + sqrt(x)), x)\n> ```\n\nBernard Parisse made a workaround commit:\n\n- https://dev.geogebra.org/trac/changeset/68668/\n\nand Giac can now evaluate this integral to:\n\n```\n2*(2*((1/6*sqrt(x)+1/24)*sqrt(x)-1/16)*sqrt(x+sqrt(x))-1/16*ln(abs(2*(sqrt(x+sqrt(x))-sqrt(x))-1)))\n```",
    "created_at": "2019-06-12T12:19:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437763",
    "user": "https://github.com/slel"
}
```

<div id="comment:26" align="right">Comment 26</div>

Replying to [@fchapoton](#comment%3A25):
> [sometimes giac hangs, for example in]
> 
> ```
> integrate(sqrt(x + sqrt(x)), x)
> ```

Bernard Parisse made a workaround commit:

- https://dev.geogebra.org/trac/changeset/68668/

and Giac can now evaluate this integral to:

```
2*(2*((1/6*sqrt(x)+1/24)*sqrt(x)-1/16)*sqrt(x+sqrt(x))-1/16*ln(abs(2*(sqrt(x+sqrt(x))-sqrt(x))-1)))
```



---

archive/issue_comments_437764.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">Comment 27</div>\n\nSo, any comment or review, somebody ?",
    "created_at": "2019-06-16T19:54:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437764",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:27" align="right">Comment 27</div>

So, any comment or review, somebody ?



---

archive/issue_comments_437765.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">Comment 28</div>\n\nAnybody out there ? Does somebody care ?",
    "created_at": "2019-06-25T14:53:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437765",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:28" align="right">Comment 28</div>

Anybody out there ? Does somebody care ?



---

archive/issue_comments_437766.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">Comment 29</div>\n\nWhat happend here\n\n```\n   sage: N(integrate(exp(-x^2)*log(x), x, 17, 42))  # rel tol 2e-12\n-  2.5657285006962035e-127\n+  -8.88178419700125e-16\n```",
    "created_at": "2019-06-25T19:16:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437766",
    "user": "https://github.com/videlec"
}
```

<div id="comment:29" align="right">Comment 29</div>

What happend here

```
   sage: N(integrate(exp(-x^2)*log(x), x, 17, 42))  # rel tol 2e-12
-  2.5657285006962035e-127
+  -8.88178419700125e-16
```



---

archive/issue_comments_437767.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">Comment 30</div>\n\nMore precisely: I don't understand the doctest. The answer is indeed close to `2.5657285006962035e-127` but then it makes no sense to have an error tolerance of `e-12`.",
    "created_at": "2019-06-25T19:18:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437767",
    "user": "https://github.com/videlec"
}
```

<div id="comment:30" align="right">Comment 30</div>

More precisely: I don't understand the doctest. The answer is indeed close to `2.5657285006962035e-127` but then it makes no sense to have an error tolerance of `e-12`.



---

archive/issue_comments_437768.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">Comment 31</div>\n\nActually, I believe more\n\n```\nsage: ComplexBallField(512).integral(lambda x,_: (-x*x).exp()*x.log(), 17, 42)\n[2.565728500561051482917356396130478590014770955402032663e-127 +/- 8.94e-182]\n```\n(which is close to what provide `gsl` and the initial doctest) rather than\n\n```\nsage: f = integral(exp(-x^2)*log(x), (x,17,42), algorithm='sympy')\nsage: RealBallField(512)(f)\n[1.5577642856694726097777e-130 +/- 4.52e-153]\n```\nIs the formula provided by sympy even correct?",
    "created_at": "2019-06-25T19:23:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437768",
    "user": "https://github.com/videlec"
}
```

<div id="comment:31" align="right">Comment 31</div>

Actually, I believe more

```
sage: ComplexBallField(512).integral(lambda x,_: (-x*x).exp()*x.log(), 17, 42)
[2.565728500561051482917356396130478590014770955402032663e-127 +/- 8.94e-182]
```
(which is close to what provide `gsl` and the initial doctest) rather than

```
sage: f = integral(exp(-x^2)*log(x), (x,17,42), algorithm='sympy')
sage: RealBallField(512)(f)
[1.5577642856694726097777e-130 +/- 4.52e-153]
```
Is the formula provided by sympy even correct?



---

archive/issue_comments_437769.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">Comment 32</div>\n\nOr the symbolic ring does something completely stupid to evaluate hypergeometric functions with real ball input?",
    "created_at": "2019-06-25T19:24:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437769",
    "user": "https://github.com/videlec"
}
```

<div id="comment:32" align="right">Comment 32</div>

Or the symbolic ring does something completely stupid to evaluate hypergeometric functions with real ball input?



---

archive/issue_events_365210.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-06-25T19:37:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27958#event-365210"
}
```



---

archive/issue_events_365211.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-06-25T19:37:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27958#event-365211"
}
```



---

archive/issue_comments_437770.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">Comment 34</div>\n\nAccording to Mathematica it is correct... also confirmed by this smaller range computation\n\n```\nsage: f = integral(exp(-x^2)*log(x), x, algorithm='sympy')\nsage: RBF(f.subs(x=2)) - RBF(f.subs(x=1))\n[0.032612042358609 +/- 8.42e-16]\nsage: CBF.integral(lambda x,_: (-x*x).exp()*x.log(), 1, 2)\n[0.032612042358610 +/- 5.89e-16]\n```\n\nThe conversion to ball fields appear to be wrong also for much smaller values\n\n```\nsage: prec = 256 \nsage: R = RealBallField(prec)\nsage: C = ComplexBallField(prec)\nsage: a = 5; b = 6\nsage: C.integral(lambda x,_: (-x*x).exp()*x.log(), a, b)\n[2.218662695682179212714334629004026381551686783767107654124923915615978e-12 +/- 6.31e-82]\nsage: R(f.subs(x=b)) - R(f.subs(x=a))\n[2.218664132884571616593899629338237856352627658842503518158550169e-12 +/- 2.32e-76]\n```\nThe two values start to differ from the 7th digit.",
    "created_at": "2019-06-25T19:45:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437770",
    "user": "https://github.com/videlec"
}
```

<div id="comment:34" align="right">Comment 34</div>

According to Mathematica it is correct... also confirmed by this smaller range computation

```
sage: f = integral(exp(-x^2)*log(x), x, algorithm='sympy')
sage: RBF(f.subs(x=2)) - RBF(f.subs(x=1))
[0.032612042358609 +/- 8.42e-16]
sage: CBF.integral(lambda x,_: (-x*x).exp()*x.log(), 1, 2)
[0.032612042358610 +/- 5.89e-16]
```

The conversion to ball fields appear to be wrong also for much smaller values

```
sage: prec = 256 
sage: R = RealBallField(prec)
sage: C = ComplexBallField(prec)
sage: a = 5; b = 6
sage: C.integral(lambda x,_: (-x*x).exp()*x.log(), a, b)
[2.218662695682179212714334629004026381551686783767107654124923915615978e-12 +/- 6.31e-82]
sage: R(f.subs(x=b)) - R(f.subs(x=a))
[2.218664132884571616593899629338237856352627658842503518158550169e-12 +/- 2.32e-76]
```
The two values start to differ from the 7th digit.



---

archive/issue_comments_437771.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">Comment 35</div>\n\nConclusion: change the doctest to something more relevant such as\n\n```\nsage: integrate(exp(-x^2)*log(x), x)\n1/2*sqrt(pi)*erf(x)*log(x) - x*hypergeometric((1/2, 1/2), (3/2, 3/2), -x^2)\n```\nThough this takes 10 secs!!!\n\nAlso taking the numerical approximation of a symbolic integral is the last thing you want to do to evaluate numerically an integral. We should not tell users to do that.",
    "created_at": "2019-06-25T19:49:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437771",
    "user": "https://github.com/videlec"
}
```

<div id="comment:35" align="right">Comment 35</div>

Conclusion: change the doctest to something more relevant such as

```
sage: integrate(exp(-x^2)*log(x), x)
1/2*sqrt(pi)*erf(x)*log(x) - x*hypergeometric((1/2, 1/2), (3/2, 3/2), -x^2)
```
Though this takes 10 secs!!!

Also taking the numerical approximation of a symbolic integral is the last thing you want to do to evaluate numerically an integral. We should not tell users to do that.



---

archive/issue_comments_437772.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">Comment 36</div>\n\nAnyway, these doctests do no longer make any sense in the context of the book, because sage is now able to integrate symbolically this expression. In the book, this is given as an example where symbolic integration fails..\n\nI would rather remove them from our testsuite..",
    "created_at": "2019-06-26T07:23:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437772",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:36" align="right">Comment 36</div>

Anyway, these doctests do no longer make any sense in the context of the book, because sage is now able to integrate symbolically this expression. In the book, this is given as an example where symbolic integration fails..

I would rather remove them from our testsuite..



---

archive/issue_comments_437773.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">Comment 37</div>\n\n> I would rather remove them from our test suite..\n\nBut didn't they still want a failing doctest somehow, or is this okay by their point of view?  (There are so many authors, maybe you are one of them and can speak to that.)  It would be good to somewhere have a failing integral, because that tests whether that branch of the code (i.e. the one that says what to do if everything still doesn't work) is not inadvertently no longer working.  That said, I haven't been too aggressive on this ticket so I'll let all of you decide on this.",
    "created_at": "2019-06-26T11:29:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437773",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:37" align="right">Comment 37</div>

> I would rather remove them from our test suite..

But didn't they still want a failing doctest somehow, or is this okay by their point of view?  (There are so many authors, maybe you are one of them and can speak to that.)  It would be good to somewhere have a failing integral, because that tests whether that branch of the code (i.e. the one that says what to do if everything still doesn't work) is not inadvertently no longer working.  That said, I haven't been too aggressive on this ticket so I'll let all of you decide on this.



---

archive/issue_comments_437774.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">Comment 38</div>\n\nAs a still failing integral, one could use then\n\n```\nintegral(cos(ln(cos(x))),x,0,pi/2)\n```\nwhich cannot be done by maxima, giac, sympy or fricas.",
    "created_at": "2019-06-26T11:57:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437774",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:38" align="right">Comment 38</div>

As a still failing integral, one could use then

```
integral(cos(ln(cos(x))),x,0,pi/2)
```
which cannot be done by maxima, giac, sympy or fricas.



---

archive/issue_comments_437775.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">Comment 39</div>\n\nAs one of the authors, that's fine with me, but I'm not the main author of the chapter, and I think the author with the clearest idea of what to do and not to do with these doctests is Paul (already Cc:ed). Paul, if you are reading this, is it okay with you to remove the test?",
    "created_at": "2019-06-26T19:23:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437775",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:39" align="right">Comment 39</div>

As one of the authors, that's fine with me, but I'm not the main author of the chapter, and I think the author with the clearest idea of what to do and not to do with these doctests is Paul (already Cc:ed). Paul, if you are reading this, is it okay with you to remove the test?



---

archive/issue_comments_437776.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">Comment 40</div>\n\nReplying to [@mezzarobba](#comment%3A39):\n> As one of the authors, that's fine with me, but I'm not the main author of the chapter, and I think the author with the clearest idea of what to do and not to do with these doctests is Paul (already Cc:ed). Paul, if you are reading this, is it okay with you to remove the test?\n\nsince it was decided in ticket #27958, comment [comment:58] (while the book was already in print by SIAM), not to accept doctests that do not pass in Python3 (while the book was publicly available since a long time, and nobody asked before for the doctests to be compatible with Python 3), the doctests in Sage do no longer correspond to those in the book, and I have decided not to spend any more time on this.\n\nIn summary: do whatever you want, those doctests are no more relevant for the french book.",
    "created_at": "2019-06-27T15:12:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437776",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:40" align="right">Comment 40</div>

Replying to [@mezzarobba](#comment%3A39):
> As one of the authors, that's fine with me, but I'm not the main author of the chapter, and I think the author with the clearest idea of what to do and not to do with these doctests is Paul (already Cc:ed). Paul, if you are reading this, is it okay with you to remove the test?

since it was decided in ticket #27958, comment [comment:58] (while the book was already in print by SIAM), not to accept doctests that do not pass in Python3 (while the book was publicly available since a long time, and nobody asked before for the doctests to be compatible with Python 3), the doctests in Sage do no longer correspond to those in the book, and I have decided not to spend any more time on this.

In summary: do whatever you want, those doctests are no more relevant for the french book.



---

archive/issue_comments_437777.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">Comment 41</div>\n\nReplying to [@zimmermann6](#comment%3A40):\n> Replying to [@mezzarobba](#comment%3A39):\n> > As one of the authors, that's fine with me, but I'm not the main author of the chapter, and I think the author with the clearest idea of what to do and not to do with these doctests is Paul (already Cc:ed). Paul, if you are reading this, is it okay with you to remove the test?\n\n> \n> [...] in ticket #27958, comment [comment:58] [...]\n\nThere is no comment number 58 on ticket #27958!",
    "created_at": "2019-06-28T05:27:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437777",
    "user": "https://github.com/videlec"
}
```

<div id="comment:41" align="right">Comment 41</div>

Replying to [@zimmermann6](#comment%3A40):
> Replying to [@mezzarobba](#comment%3A39):
> > As one of the authors, that's fine with me, but I'm not the main author of the chapter, and I think the author with the clearest idea of what to do and not to do with these doctests is Paul (already Cc:ed). Paul, if you are reading this, is it okay with you to remove the test?

> 
> [...] in ticket #27958, comment [comment:58] [...]

There is no comment number 58 on ticket #27958!



---

archive/issue_comments_437778.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">Comment 42</div>\n\nsorry that was ticket #23572",
    "created_at": "2019-06-28T05:46:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437778",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:42" align="right">Comment 42</div>

sorry that was ticket #23572



---

archive/issue_comments_437779.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">Comment 43</div>\n\nReplying to [@zimmermann6](#comment%3A42):\n> sorry that was ticket #23572\n\nI did not know about what happend with this ticket. It is indeed unfortunate... the switch to Python 3 is a long and painful route.\n\nBut the matter under discussion here is of different nature.  The single test under discussion is\n\n```\nN(integrate(exp(-x^2)*log(x), x, 17, 42))\n```\nThere is a positive change of behavior since Sage will now symbolically integrate `exp(-x^2)*log(x)`. As the doctest was used to illustrate the fact that numerical integration was possible on unevaluated integrals it would not make sense anymore. It is rather the book that has to be adapted here (contrarily to #23572 where the doctest framework should have been adapted).\n\nIsn't there a document that explains what has changed between the available version of the book and the current Sage version? I think this would be very useful.",
    "created_at": "2019-06-28T06:12:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437779",
    "user": "https://github.com/videlec"
}
```

<div id="comment:43" align="right">Comment 43</div>

Replying to [@zimmermann6](#comment%3A42):
> sorry that was ticket #23572

I did not know about what happend with this ticket. It is indeed unfortunate... the switch to Python 3 is a long and painful route.

But the matter under discussion here is of different nature.  The single test under discussion is

```
N(integrate(exp(-x^2)*log(x), x, 17, 42))
```
There is a positive change of behavior since Sage will now symbolically integrate `exp(-x^2)*log(x)`. As the doctest was used to illustrate the fact that numerical integration was possible on unevaluated integrals it would not make sense anymore. It is rather the book that has to be adapted here (contrarily to #23572 where the doctest framework should have been adapted).

Isn't there a document that explains what has changed between the available version of the book and the current Sage version? I think this would be very useful.



---

archive/issue_comments_437780.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">Comment 44</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d4371e3be96a2386f65b57d2e9f36f69eaf71587\">d4371e3</a></td><td><code>enhance our integration capacities by using maxima, giac and sympy</code></td></tr></table>\n",
    "created_at": "2019-06-28T09:51:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437780",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:44" align="right">Comment 44</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d4371e3be96a2386f65b57d2e9f36f69eaf71587">d4371e3</a></td><td><code>enhance our integration capacities by using maxima, giac and sympy</code></td></tr></table>




---

archive/issue_comments_437781.json:
```json
{
    "body": "Changed commit from **[43c3bfa](https://github.com/sagemath/sagetrac-mirror/commit/43c3bfa2c30ca2f406ddaa149f412116ec6fca62)** to **[d4371e3](https://github.com/sagemath/sagetrac-mirror/commit/d4371e3be96a2386f65b57d2e9f36f69eaf71587)**",
    "created_at": "2019-06-28T09:51:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437781",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[43c3bfa](https://github.com/sagemath/sagetrac-mirror/commit/43c3bfa2c30ca2f406ddaa149f412116ec6fca62)** to **[d4371e3](https://github.com/sagemath/sagetrac-mirror/commit/d4371e3be96a2386f65b57d2e9f36f69eaf71587)**



---

archive/issue_comments_437782.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">Comment 45</div>\n\nHere is a proposal that keeps the spirit of the modified books' doctests.",
    "created_at": "2019-06-28T09:52:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437782",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:45" align="right">Comment 45</div>

Here is a proposal that keeps the spirit of the modified books' doctests.



---

archive/issue_events_365212.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-06-28T11:34:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27958#event-365212"
}
```



---

archive/issue_events_365213.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-06-28T11:34:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27958#event-365213"
}
```



---

archive/issue_events_365214.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-07-03T11:37:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27958#event-365214"
}
```



---

archive/issue_events_365215.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-07-03T11:37:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "milestone_number": null,
    "milestone_title": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27958#event-365215"
}
```



---

archive/issue_comments_437783.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">Comment 47</div>\n\nMoving tickets from the Sage 8.8 milestone that have been actively worked on in the last six months to the next release milestone (optimistically).",
    "created_at": "2019-07-03T11:37:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437783",
    "user": "https://github.com/embray"
}
```

<div id="comment:47" align="right">Comment 47</div>

Moving tickets from the Sage 8.8 milestone that have been actively worked on in the last six months to the next release milestone (optimistically).



---

archive/issue_events_365216.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2019-07-09T13:34:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27958#event-365216"
}
```



---

archive/issue_events_365217.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2019-07-09T13:34:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27958#event-365217"
}
```



---

archive/issue_comments_437784.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">Comment 48</div>\n\nRegarding builtins, instead of testing that a string is produced:\n\n```\nsage: log_integral(x)._fricas_init_()\n'li(x)'\n```\n\nYou could (optionally) test that fricas actually handles the function: \n\n```\nsage: log_integral(x)._fricas_()      # optional - fricas\nli(x)\n```\n\nas you did for giac.",
    "created_at": "2019-07-09T13:34:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437784",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:48" align="right">Comment 48</div>

Regarding builtins, instead of testing that a string is produced:

```
sage: log_integral(x)._fricas_init_()
'li(x)'
```

You could (optionally) test that fricas actually handles the function: 

```
sage: log_integral(x)._fricas_()      # optional - fricas
li(x)
```

as you did for giac.



---

archive/issue_events_365218.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-07-09T13:43:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27958#event-365218"
}
```



---

archive/issue_events_365219.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-07-09T13:43:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27958#event-365219"
}
```



---

archive/issue_comments_437785.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">Comment 49</div>\n\nWell, I prefer the first test, because Fricas is optional.\n\n**edit**\n\nI could change that if you insist, but this is really not the core of the matter.",
    "created_at": "2019-07-09T13:43:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437785",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:49" align="right">Comment 49</div>

Well, I prefer the first test, because Fricas is optional.

**edit**

I could change that if you insist, but this is really not the core of the matter.



---

archive/issue_comments_437786.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,4 @@\n+The thing is that this test does not test anything, you could change with any string not representing a `fricas` function, it will work as well.\n \n+Anyway, i see that there are other similar `fricas` functions that are not tested, so let us postpone that for a dedicated ticket.\n+\n``````\n",
    "created_at": "2019-07-19T05:33:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437786",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,4 @@
+The thing is that this test does not test anything, you could change with any string not representing a `fricas` function, it will work as well.
 
+Anyway, i see that there are other similar `fricas` functions that are not tested, so let us postpone that for a dedicated ticket.
+
``````




---

archive/issue_events_365220.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2019-07-19T05:33:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27958#event-365220"
}
```



---

archive/issue_events_365221.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2019-07-19T05:33:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27958#event-365221"
}
```



---

archive/issue_comments_437787.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">Comment 51</div>\n\nThe thing is that this test does not test anything, you could change with any string not representing a `fricas` function, it will work as well.\n\nAnyway, i see that there are other similar `fricas` functions that are not tested, so let us postpone that for a dedicated ticket.",
    "created_at": "2019-07-19T05:35:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437787",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:51" align="right">Comment 51</div>

The thing is that this test does not test anything, you could change with any string not representing a `fricas` function, it will work as well.

Anyway, i see that there are other similar `fricas` functions that are not tested, so let us postpone that for a dedicated ticket.



---

archive/issue_comments_437788.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1 @@\n-The thing is that this test does not test anything, you could change with any string not representing a `fricas` function, it will work as well.\n \n-Anyway, i see that there are other similar `fricas` functions that are not tested, so let us postpone that for a dedicated ticket.\n-\n``````\n",
    "created_at": "2019-07-19T05:35:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437788",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1 @@
-The thing is that this test does not test anything, you could change with any string not representing a `fricas` function, it will work as well.
 
-Anyway, i see that there are other similar `fricas` functions that are not tested, so let us postpone that for a dedicated ticket.
-
``````




---

archive/issue_events_365222.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-07-20T09:10:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27958#event-365222"
}
```



---

archive/issue_events_365223.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "7087c0314fb73cf6cdc0955b53f9600ecb625e0d",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-07-20T09:10:52Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27958#event-365223"
}
```



---

archive/issue_comments_437789.json:
```json
{
    "body": "Changed branch from **[u/chapoton/27958](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/27958)** to **[d4371e3](https://github.com/sagemath/sagetrac-mirror/commit/d4371e3be96a2386f65b57d2e9f36f69eaf71587)**",
    "created_at": "2019-07-20T09:10:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437789",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/chapoton/27958](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/27958)** to **[d4371e3](https://github.com/sagemath/sagetrac-mirror/commit/d4371e3be96a2386f65b57d2e9f36f69eaf71587)**



---

archive/issue_comments_437790.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">Comment 53</div>\n\nSee #28964 for a possible follow up.",
    "created_at": "2020-01-07T10:56:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437790",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:53" align="right">Comment 53</div>

See #28964 for a possible follow up.



---

archive/issue_comments_437791.json:
```json
{
    "body": "Changed commit from **[d4371e3](https://github.com/sagemath/sagetrac-mirror/commit/d4371e3be96a2386f65b57d2e9f36f69eaf71587)** to none",
    "created_at": "2020-01-07T10:56:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27958#issuecomment-437791",
    "user": "https://github.com/egourgoulhon"
}
```

Changed commit from **[d4371e3](https://github.com/sagemath/sagetrac-mirror/commit/d4371e3be96a2386f65b57d2e9f36f69eaf71587)** to none
