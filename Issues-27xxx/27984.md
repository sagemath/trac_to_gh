# Issue 27984: Coercion of inputs of orbit into projective space

archive/issues_027747.json:
```json
{
    "assignees": [],
    "body": "The following code outputs an element of the integer ring instead of projective space:\n\n```\nsage: P.<x,y> = ProjectiveSpace(QQ,1)\nsage: f = DynamicalSystem([x^2 + y^2, y^2])\nsage: Q = f.orbit(0,0)\nsage: Q[0].parent()\nInteger Ring\n```\n\nNeed to coerce the input into projective space when it's not already entered as such.\n\nKeywords: **SI2019**\n\nBranch: **[`b0dd074`](https://github.com/sagemath/sagetrac-mirror/commit/b0dd0747799070e7257a381dfbddc481c8d44206)**\n\nReviewer: **Joey Lupo, Trevor Hyde, Talia Blum, Jasmine Camero, Olivia Schwager, Simon Xu**\n\nAuthor: **Emily Rachfal**\n\nComponent: **dynamics**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/27984_\n\n",
    "closed_at": "2019-07-29T21:54:30Z",
    "created_at": "2019-06-13T15:51:45Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20dynamics",
        "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.9",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Coercion of inputs of orbit into projective space",
    "type": "issue",
    "updated_at": "2019-08-03T13:27:38Z",
    "url": "https://github.com/sagemath/sage/issues/27984",
    "user": "https://github.com/sagetrac-jdoyle"
}
```
The following code outputs an element of the integer ring instead of projective space:

```
sage: P.<x,y> = ProjectiveSpace(QQ,1)
sage: f = DynamicalSystem([x^2 + y^2, y^2])
sage: Q = f.orbit(0,0)
sage: Q[0].parent()
Integer Ring
```

Need to coerce the input into projective space when it's not already entered as such.

Keywords: **SI2019**

Branch: **[`b0dd074`](https://github.com/sagemath/sagetrac-mirror/commit/b0dd0747799070e7257a381dfbddc481c8d44206)**

Reviewer: **Joey Lupo, Trevor Hyde, Talia Blum, Jasmine Camero, Olivia Schwager, Simon Xu**

Author: **Emily Rachfal**

Component: **dynamics**

_Issue created by migration from https://trac.sagemath.org/ticket/27984_





---

archive/issue_events_380802.json:
```json
{
    "actor": "https://github.com/sagetrac-jdoyle",
    "created_at": "2019-06-13T15:51:45Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27984",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27984#event-380802"
}
```



---

archive/issue_events_380803.json:
```json
{
    "actor": "https://github.com/sagetrac-jdoyle",
    "created_at": "2019-06-13T15:51:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27984",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20dynamics",
    "label_color": "0000ff",
    "label_name": "c: dynamics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27984#event-380803"
}
```



---

archive/issue_events_380804.json:
```json
{
    "actor": "https://github.com/sagetrac-jdoyle",
    "created_at": "2019-06-13T15:51:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27984",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
    "label_color": "ffe799",
    "label_name": "p: minor / 4",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27984#event-380804"
}
```



---

archive/issue_events_380805.json:
```json
{
    "actor": "https://github.com/sagetrac-jdoyle",
    "created_at": "2019-06-13T15:51:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27984",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27984#event-380805"
}
```



---

archive/issue_comments_435290.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nAs the Sage-8.8 release milestone is pending, we should delete the sage-8.8 milestone for tickets that are not actively being worked on or that still require significant work to move forward.  If you feel that this ticket should be included in the next Sage release at the soonest please set its milestone to the next release milestone (sage-8.9).",
    "created_at": "2019-06-14T14:55:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27984#issuecomment-435290",
    "user": "https://github.com/embray"
}
```

<div id="comment:1" align="right">comment:1</div>

As the Sage-8.8 release milestone is pending, we should delete the sage-8.8 milestone for tickets that are not actively being worked on or that still require significant work to move forward.  If you feel that this ticket should be included in the next Sage release at the soonest please set its milestone to the next release milestone (sage-8.9).



---

archive/issue_events_380806.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-06-14T14:57:37Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/27984",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27984#event-380806"
}
```



---

archive/issue_comments_435291.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nAs the Sage-8.8 release milestone is pending, we should delete the sage-8.8 milestone for tickets that are not actively being worked on or that still require significant work to move forward.  If you feel that this ticket should be included in the next Sage release at the soonest please set its milestone to the next release milestone (sage-8.9).",
    "created_at": "2019-06-14T14:57:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27984#issuecomment-435291",
    "user": "https://github.com/embray"
}
```

<div id="comment:2" align="right">comment:2</div>

As the Sage-8.8 release milestone is pending, we should delete the sage-8.8 milestone for tickets that are not actively being worked on or that still require significant work to move forward.  If you feel that this ticket should be included in the next Sage release at the soonest please set its milestone to the next release milestone (sage-8.9).



---

archive/issue_comments_435292.json:
```json
{
    "body": "Branch: **[u/gh-erachfal/27984](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-erachfal/27984)**",
    "created_at": "2019-06-18T18:29:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27984#issuecomment-435292",
    "user": "https://github.com/erachfal"
}
```

Branch: **[u/gh-erachfal/27984](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-erachfal/27984)**



---

archive/issue_comments_435293.json:
```json
{
    "body": "Author: **Emily Rachfal**",
    "created_at": "2019-06-18T18:33:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27984#issuecomment-435293",
    "user": "https://github.com/erachfal"
}
```

Author: **Emily Rachfal**



---

archive/issue_comments_435294.json:
```json
{
    "body": "Commit: **[`e85a8a9`](https://github.com/sagemath/sagetrac-mirror/commit/e85a8a9566c25adb23efbfa3859a8909653304fa)**",
    "created_at": "2019-06-18T18:33:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27984#issuecomment-435294",
    "user": "https://github.com/erachfal"
}
```

Commit: **[`e85a8a9`](https://github.com/sagemath/sagetrac-mirror/commit/e85a8a9566c25adb23efbfa3859a8909653304fa)**



---

archive/issue_comments_435295.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e85a8a9566c25adb23efbfa3859a8909653304fa\"><code>e85a8a9</code></a></td><td><code>27984: If the input to the orbit function is not already in projective space, then the orbit function coerses the point into projective space before calculating the 0th iterate (when possible)</code></td></tr></table>\n",
    "created_at": "2019-06-18T18:33:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27984#issuecomment-435295",
    "user": "https://github.com/erachfal"
}
```

<div id="comment:4"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e85a8a9566c25adb23efbfa3859a8909653304fa"><code>e85a8a9</code></a></td><td><code>27984: If the input to the orbit function is not already in projective space, then the orbit function coerses the point into projective space before calculating the 0th iterate (when possible)</code></td></tr></table>




---

archive/issue_events_380807.json:
```json
{
    "actor": "https://github.com/erachfal",
    "created_at": "2019-06-18T18:33:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27984",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27984#event-380807"
}
```



---

archive/issue_comments_435296.json:
```json
{
    "body": "Reviewer: **Joey Lupo, Trevor Hyde, Talia Blum, Jasmine Camero**",
    "created_at": "2019-06-20T14:22:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27984#issuecomment-435296",
    "user": "https://github.com/Loops7"
}
```

Reviewer: **Joey Lupo, Trevor Hyde, Talia Blum, Jasmine Camero**



---

archive/issue_events_380808.json:
```json
{
    "actor": "https://github.com/Loops7",
    "created_at": "2019-06-20T14:22:20Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/27984",
    "title_is": "Coersion of inputs of orbit into projective space",
    "title_was": "Coercion of inputs of nth_iterate into projective space",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27984#event-380808"
}
```



---

archive/issue_events_380809.json:
```json
{
    "actor": "https://github.com/Loops7",
    "created_at": "2019-06-20T14:22:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27984",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27984#event-380809"
}
```



---

archive/issue_events_380810.json:
```json
{
    "actor": "https://github.com/Loops7",
    "created_at": "2019-06-20T14:22:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27984",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27984#event-380810"
}
```



---

archive/issue_comments_435297.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,7 +3,7 @@\n ```\n sage: P.<x,y> = ProjectiveSpace(QQ,1)\n sage: f = DynamicalSystem([x^2 + y^2, y^2])\n-sage: Q = f.nth_iterate(0,0)\n+sage: Q = f.orbit(0,0)\n sage: Q.parent()\n Integer Ring\n ```\n``````\n",
    "created_at": "2019-06-20T14:22:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27984#issuecomment-435297",
    "user": "https://github.com/Loops7"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,7 +3,7 @@
 ```
 sage: P.<x,y> = ProjectiveSpace(QQ,1)
 sage: f = DynamicalSystem([x^2 + y^2, y^2])
-sage: Q = f.nth_iterate(0,0)
+sage: Q = f.orbit(0,0)
 sage: Q.parent()
 Integer Ring
 ```
``````




---

archive/issue_comments_435298.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/422fc84305da40439bc8c24a077c96b6d5437fe3\"><code>422fc84</code></a></td><td><code>remove extra spacing</code></td></tr></table>\n",
    "created_at": "2019-06-20T14:22:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27984#issuecomment-435298",
    "user": "https://github.com/Loops7"
}
```

<div id="comment:5"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/422fc84305da40439bc8c24a077c96b6d5437fe3"><code>422fc84</code></a></td><td><code>remove extra spacing</code></td></tr></table>




---

archive/issue_comments_435299.json:
```json
{
    "body": "Changed branch from **[u/gh-erachfal/27984](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-erachfal/27984)** to **[u/gh-Loops7/27984_orbit_coersion](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Loops7/27984_orbit_coersion)**",
    "created_at": "2019-06-20T14:22:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27984#issuecomment-435299",
    "user": "https://github.com/Loops7"
}
```

Changed branch from **[u/gh-erachfal/27984](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-erachfal/27984)** to **[u/gh-Loops7/27984_orbit_coersion](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Loops7/27984_orbit_coersion)**



---

archive/issue_comments_435300.json:
```json
{
    "body": "Changed commit from **[`e85a8a9`](https://github.com/sagemath/sagetrac-mirror/commit/e85a8a9566c25adb23efbfa3859a8909653304fa)** to **[`422fc84`](https://github.com/sagemath/sagetrac-mirror/commit/422fc84305da40439bc8c24a077c96b6d5437fe3)**",
    "created_at": "2019-06-20T14:22:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27984#issuecomment-435300",
    "user": "https://github.com/Loops7"
}
```

Changed commit from **[`e85a8a9`](https://github.com/sagemath/sagetrac-mirror/commit/e85a8a9566c25adb23efbfa3859a8909653304fa)** to **[`422fc84`](https://github.com/sagemath/sagetrac-mirror/commit/422fc84305da40439bc8c24a077c96b6d5437fe3)**



---

archive/issue_comments_435301.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,7 +4,7 @@\n sage: P.<x,y> = ProjectiveSpace(QQ,1)\n sage: f = DynamicalSystem([x^2 + y^2, y^2])\n sage: Q = f.orbit(0,0)\n-sage: Q.parent()\n+sage: Q[0].parent()\n Integer Ring\n ```\n \n``````\n",
    "created_at": "2019-06-20T14:29:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27984#issuecomment-435301",
    "user": "https://github.com/Loops7"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,7 +4,7 @@
 sage: P.<x,y> = ProjectiveSpace(QQ,1)
 sage: f = DynamicalSystem([x^2 + y^2, y^2])
 sage: Q = f.orbit(0,0)
-sage: Q.parent()
+sage: Q[0].parent()
 Integer Ring
 ```
 
``````




---

archive/issue_events_380811.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-06-21T11:55:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27984",
    "milestone_number": null,
    "milestone_title": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27984#event-380811"
}
```



---

archive/issue_comments_435302.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nI assumed that the missing milestone was 8.9",
    "created_at": "2019-06-21T11:55:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27984#issuecomment-435302",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:7" align="right">comment:7</div>

I assumed that the missing milestone was 8.9



---

archive/issue_comments_435303.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nTest fail:\n\n```\n**********************************************************************\nFile \"src/sage/schemes/projective/projective_subscheme.py\", line 472, in sage.schemes.projective.projective_subscheme.AlgebraicScheme_subscheme_projective.orbit\nFailed example:\n    f.orbit(P.subscheme([x]),5)\nException raised:\n    Traceback (most recent call last):\n      File \"/var/lib/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 681, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/var/lib/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 1105, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.schemes.projective.projective_subscheme.AlgebraicScheme_subscheme_projective.orbit[2]>\", line 1, in <module>\n        f.orbit(P.subscheme([x]),Integer(5))\n      File \"/var/lib/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/dynamics/arithmetic_dynamics/projective_ds.py\", line 1312, in orbit\n        Q = self(Q, check)\n      File \"/var/lib/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/schemes/projective/projective_morphism.py\", line 332, in __call__\n        raise TypeError(\"%s fails to convert into the map's domain %s, but a `pushforward` method is not properly implemented\"%(x, self.domain()))\n    TypeError: Set of morphisms\n      From: Closed subscheme of Projective Space of dimension 3 over Rational Field defined by:\n      x\n      To:   Projective Space of dimension 3 over Rational Field fails to convert into the map's domain Projective Space of dimension 3 over Rational Field, but a `pushforward` method is not properly implemented\n**********************************************************************\nFile \"src/sage/schemes/projective/projective_subscheme.py\", line 554, in sage.schemes.projective.projective_subscheme.AlgebraicScheme_subscheme_projective.nth_iterate\nFailed example:\n    f.nth_iterate(P.subscheme([x-w,y-z]), 3)\nException raised:\n    Traceback (most recent call last):\n      File \"/var/lib/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 681, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/var/lib/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 1105, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.schemes.projective.projective_subscheme.AlgebraicScheme_subscheme_projective.nth_iterate[2]>\", line 1, in <module>\n        f.nth_iterate(P.subscheme([x-w,y-z]), Integer(3))\n      File \"/var/lib/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/dynamics/arithmetic_dynamics/projective_ds.py\", line 1069, in nth_iterate\n        return self.orbit(P, [n,n+1], **kwds)[0]\n      File \"/var/lib/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/dynamics/arithmetic_dynamics/projective_ds.py\", line 1307, in orbit\n        Q = self(Q, check)\n      File \"/var/lib/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/schemes/projective/projective_morphism.py\", line 332, in __call__\n        raise TypeError(\"%s fails to convert into the map's domain %s, but a `pushforward` method is not properly implemented\"%(x, self.domain()))\n    TypeError: Set of morphisms\n      From: Closed subscheme of Projective Space of dimension 3 over Rational Field defined by:\n      x - w,\n      y - z\n      To:   Projective Space of dimension 3 over Rational Field fails to convert into the map's domain Projective Space of dimension 3 over Rational Field, but a `pushforward` method is not properly implemented\n**********************************************************************\n```",
    "created_at": "2019-07-07T12:34:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27984#issuecomment-435303",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:8" align="right">comment:8</div>

Test fail:

```
**********************************************************************
File "src/sage/schemes/projective/projective_subscheme.py", line 472, in sage.schemes.projective.projective_subscheme.AlgebraicScheme_subscheme_projective.orbit
Failed example:
    f.orbit(P.subscheme([x]),5)
Exception raised:
    Traceback (most recent call last):
      File "/var/lib/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 681, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/var/lib/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 1105, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.schemes.projective.projective_subscheme.AlgebraicScheme_subscheme_projective.orbit[2]>", line 1, in <module>
        f.orbit(P.subscheme([x]),Integer(5))
      File "/var/lib/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/dynamics/arithmetic_dynamics/projective_ds.py", line 1312, in orbit
        Q = self(Q, check)
      File "/var/lib/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/schemes/projective/projective_morphism.py", line 332, in __call__
        raise TypeError("%s fails to convert into the map's domain %s, but a `pushforward` method is not properly implemented"%(x, self.domain()))
    TypeError: Set of morphisms
      From: Closed subscheme of Projective Space of dimension 3 over Rational Field defined by:
      x
      To:   Projective Space of dimension 3 over Rational Field fails to convert into the map's domain Projective Space of dimension 3 over Rational Field, but a `pushforward` method is not properly implemented
**********************************************************************
File "src/sage/schemes/projective/projective_subscheme.py", line 554, in sage.schemes.projective.projective_subscheme.AlgebraicScheme_subscheme_projective.nth_iterate
Failed example:
    f.nth_iterate(P.subscheme([x-w,y-z]), 3)
Exception raised:
    Traceback (most recent call last):
      File "/var/lib/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 681, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/var/lib/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 1105, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.schemes.projective.projective_subscheme.AlgebraicScheme_subscheme_projective.nth_iterate[2]>", line 1, in <module>
        f.nth_iterate(P.subscheme([x-w,y-z]), Integer(3))
      File "/var/lib/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/dynamics/arithmetic_dynamics/projective_ds.py", line 1069, in nth_iterate
        return self.orbit(P, [n,n+1], **kwds)[0]
      File "/var/lib/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/dynamics/arithmetic_dynamics/projective_ds.py", line 1307, in orbit
        Q = self(Q, check)
      File "/var/lib/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/schemes/projective/projective_morphism.py", line 332, in __call__
        raise TypeError("%s fails to convert into the map's domain %s, but a `pushforward` method is not properly implemented"%(x, self.domain()))
    TypeError: Set of morphisms
      From: Closed subscheme of Projective Space of dimension 3 over Rational Field defined by:
      x - w,
      y - z
      To:   Projective Space of dimension 3 over Rational Field fails to convert into the map's domain Projective Space of dimension 3 over Rational Field, but a `pushforward` method is not properly implemented
**********************************************************************
```



---

archive/issue_events_380812.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-07-07T12:34:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27984",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27984#event-380812"
}
```



---

archive/issue_events_380813.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-07-07T12:34:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27984",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27984#event-380813"
}
```



---

archive/issue_comments_435304.json:
```json
{
    "body": "Changed branch from **[u/gh-Loops7/27984_orbit_coersion](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Loops7/27984_orbit_coersion)** to **[u/gh-erachfal/27984_orbit_coersion](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-erachfal/27984_orbit_coersion)**",
    "created_at": "2019-07-18T14:56:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27984#issuecomment-435304",
    "user": "https://github.com/erachfal"
}
```

Changed branch from **[u/gh-Loops7/27984_orbit_coersion](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Loops7/27984_orbit_coersion)** to **[u/gh-erachfal/27984_orbit_coersion](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-erachfal/27984_orbit_coersion)**



---

archive/issue_events_380814.json:
```json
{
    "actor": "https://github.com/erachfal",
    "created_at": "2019-07-18T14:59:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27984",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27984#event-380814"
}
```



---

archive/issue_events_380815.json:
```json
{
    "actor": "https://github.com/erachfal",
    "created_at": "2019-07-18T14:59:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27984",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27984#event-380815"
}
```



---

archive/issue_comments_435305.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2fa81a202c84a24800d14756ef102bd5976c0f86\"><code>2fa81a2</code></a></td><td><code>Merge branch 'u/gh-Loops7/27984_orbit_coersion' of git://trac.sagemath.org/sage into fixingOrbit</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3534c5366d04be3bb13373cc8e691cd6743b0fc6\"><code>3534c53</code></a></td><td><code>27984:Fixed problem with coersion of subschemes</code></td></tr></table>\n",
    "created_at": "2019-07-18T14:59:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27984#issuecomment-435305",
    "user": "https://github.com/erachfal"
}
```

<div id="comment:10"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2fa81a202c84a24800d14756ef102bd5976c0f86"><code>2fa81a2</code></a></td><td><code>Merge branch 'u/gh-Loops7/27984_orbit_coersion' of git://trac.sagemath.org/sage into fixingOrbit</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3534c5366d04be3bb13373cc8e691cd6743b0fc6"><code>3534c53</code></a></td><td><code>27984:Fixed problem with coersion of subschemes</code></td></tr></table>




---

archive/issue_comments_435306.json:
```json
{
    "body": "Changed commit from **[`422fc84`](https://github.com/sagemath/sagetrac-mirror/commit/422fc84305da40439bc8c24a077c96b6d5437fe3)** to **[`3534c53`](https://github.com/sagemath/sagetrac-mirror/commit/3534c5366d04be3bb13373cc8e691cd6743b0fc6)**",
    "created_at": "2019-07-18T14:59:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27984#issuecomment-435306",
    "user": "https://github.com/erachfal"
}
```

Changed commit from **[`422fc84`](https://github.com/sagemath/sagetrac-mirror/commit/422fc84305da40439bc8c24a077c96b6d5437fe3)** to **[`3534c53`](https://github.com/sagemath/sagetrac-mirror/commit/3534c5366d04be3bb13373cc8e691cd6743b0fc6)**



---

archive/issue_comments_435307.json:
```json
{
    "body": "Changed commit from **[`3534c53`](https://github.com/sagemath/sagetrac-mirror/commit/3534c5366d04be3bb13373cc8e691cd6743b0fc6)** to **[`4c2cf7f`](https://github.com/sagemath/sagetrac-mirror/commit/4c2cf7f5197a57c4faeda672bfd2a7c037b8065f)**",
    "created_at": "2019-07-25T13:55:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27984#issuecomment-435307",
    "user": "https://github.com/sagetrac-gjorgenson"
}
```

Changed commit from **[`3534c53`](https://github.com/sagemath/sagetrac-mirror/commit/3534c5366d04be3bb13373cc8e691cd6743b0fc6)** to **[`4c2cf7f`](https://github.com/sagemath/sagetrac-mirror/commit/4c2cf7f5197a57c4faeda672bfd2a7c037b8065f)**



---

archive/issue_comments_435308.json:
```json
{
    "body": "Changed branch from **[u/gh-erachfal/27984_orbit_coersion](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-erachfal/27984_orbit_coersion)** to **[u/gjorgenson/coersion_of_orbits_27984](https://github.com/sagemath/sagetrac-mirror/tree/u/gjorgenson/coersion_of_orbits_27984)**",
    "created_at": "2019-07-25T13:55:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27984#issuecomment-435308",
    "user": "https://github.com/sagetrac-gjorgenson"
}
```

Changed branch from **[u/gh-erachfal/27984_orbit_coersion](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-erachfal/27984_orbit_coersion)** to **[u/gjorgenson/coersion_of_orbits_27984](https://github.com/sagemath/sagetrac-mirror/tree/u/gjorgenson/coersion_of_orbits_27984)**



---

archive/issue_comments_435309.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e22128573720f571abece85d8614e1ea70cf9ea2\"><code>e221285</code></a></td><td><code>started deprecation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0c5f507bcf59768145b02024a923876187635644\"><code>0c5f507</code></a></td><td><code>finished deprecation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8b0dd21f261798e7dccfa8a08fc0ec46e0a0ca69\"><code>8b0dd21</code></a></td><td><code>Merge branch 'u/gh-EnderWannabe/28213' of git://trac.sagemath.org/sage into develop</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f5fbed1e1f120c1f49961575c49bad03e38fe6a5\"><code>f5fbed1</code></a></td><td><code>Merge branch 'u/gh-erachfal/27984_orbit_coersion' of git://trac.sagemath.org/sage into 27984</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4c2cf7f5197a57c4faeda672bfd2a7c037b8065f\"><code>4c2cf7f</code></a></td><td><code>27984: removed trailing whitespace</code></td></tr></table>\n",
    "created_at": "2019-07-25T13:55:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27984#issuecomment-435309",
    "user": "https://github.com/sagetrac-gjorgenson"
}
```

<div id="comment:11"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e22128573720f571abece85d8614e1ea70cf9ea2"><code>e221285</code></a></td><td><code>started deprecation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0c5f507bcf59768145b02024a923876187635644"><code>0c5f507</code></a></td><td><code>finished deprecation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8b0dd21f261798e7dccfa8a08fc0ec46e0a0ca69"><code>8b0dd21</code></a></td><td><code>Merge branch 'u/gh-EnderWannabe/28213' of git://trac.sagemath.org/sage into develop</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f5fbed1e1f120c1f49961575c49bad03e38fe6a5"><code>f5fbed1</code></a></td><td><code>Merge branch 'u/gh-erachfal/27984_orbit_coersion' of git://trac.sagemath.org/sage into 27984</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4c2cf7f5197a57c4faeda672bfd2a7c037b8065f"><code>4c2cf7f</code></a></td><td><code>27984: removed trailing whitespace</code></td></tr></table>




---

archive/issue_comments_435310.json:
```json
{
    "body": "Changed commit from **[`4c2cf7f`](https://github.com/sagemath/sagetrac-mirror/commit/4c2cf7f5197a57c4faeda672bfd2a7c037b8065f)** to **[`b0dd074`](https://github.com/sagemath/sagetrac-mirror/commit/b0dd0747799070e7257a381dfbddc481c8d44206)**",
    "created_at": "2019-07-25T14:16:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27984#issuecomment-435310",
    "user": "https://github.com/sagetrac-gjorgenson"
}
```

Changed commit from **[`4c2cf7f`](https://github.com/sagemath/sagetrac-mirror/commit/4c2cf7f5197a57c4faeda672bfd2a7c037b8065f)** to **[`b0dd074`](https://github.com/sagemath/sagetrac-mirror/commit/b0dd0747799070e7257a381dfbddc481c8d44206)**



---

archive/issue_comments_435311.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b0dd0747799070e7257a381dfbddc481c8d44206\"><code>b0dd074</code></a></td><td><code>27984: removed trailing whitespace</code></td></tr></table>\n",
    "created_at": "2019-07-25T14:16:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27984#issuecomment-435311",
    "user": "https://github.com/sagetrac-gjorgenson"
}
```

<div id="comment:12"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b0dd0747799070e7257a381dfbddc481c8d44206"><code>b0dd074</code></a></td><td><code>27984: removed trailing whitespace</code></td></tr></table>




---

archive/issue_comments_435312.json:
```json
{
    "body": "Changed branch from **[u/gjorgenson/coersion_of_orbits_27984](https://github.com/sagemath/sagetrac-mirror/tree/u/gjorgenson/coersion_of_orbits_27984)** to **[u/gjorgenson/27984_orbit_coersion](https://github.com/sagemath/sagetrac-mirror/tree/u/gjorgenson/27984_orbit_coersion)**",
    "created_at": "2019-07-25T14:16:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27984#issuecomment-435312",
    "user": "https://github.com/sagetrac-gjorgenson"
}
```

Changed branch from **[u/gjorgenson/coersion_of_orbits_27984](https://github.com/sagemath/sagetrac-mirror/tree/u/gjorgenson/coersion_of_orbits_27984)** to **[u/gjorgenson/27984_orbit_coersion](https://github.com/sagemath/sagetrac-mirror/tree/u/gjorgenson/27984_orbit_coersion)**



---

archive/issue_comments_435313.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nThe trailing whitespace commit is now based on top of a clean copy of all the previous commits for this ticket, so this should be good to go.",
    "created_at": "2019-07-25T14:20:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27984#issuecomment-435313",
    "user": "https://github.com/sagetrac-gjorgenson"
}
```

<div id="comment:13" align="right">comment:13</div>

The trailing whitespace commit is now based on top of a clean copy of all the previous commits for this ticket, so this should be good to go.



---

archive/issue_comments_435314.json:
```json
{
    "body": "Changed reviewer from **Joey Lupo, Trevor Hyde, Talia Blum, Jasmine Camero** to **Joey Lupo, Trevor Hyde, Talia Blum, Jasmine Camero, Olivia Schwager, Simon Xu**",
    "created_at": "2019-07-25T14:23:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27984#issuecomment-435314",
    "user": "https://github.com/jasminecamero"
}
```

Changed reviewer from **Joey Lupo, Trevor Hyde, Talia Blum, Jasmine Camero** to **Joey Lupo, Trevor Hyde, Talia Blum, Jasmine Camero, Olivia Schwager, Simon Xu**



---

archive/issue_events_380816.json:
```json
{
    "actor": "https://github.com/jasminecamero",
    "created_at": "2019-07-25T14:23:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27984",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27984#event-380816"
}
```



---

archive/issue_events_380817.json:
```json
{
    "actor": "https://github.com/jasminecamero",
    "created_at": "2019-07-25T14:23:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27984",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27984#event-380817"
}
```



---

archive/issue_comments_435315.json:
```json
{
    "body": "Changed branch from **[u/gjorgenson/27984_orbit_coersion](https://github.com/sagemath/sagetrac-mirror/tree/u/gjorgenson/27984_orbit_coersion)** to **[`b0dd074`](https://github.com/sagemath/sagetrac-mirror/commit/b0dd0747799070e7257a381dfbddc481c8d44206)**",
    "created_at": "2019-07-29T21:54:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27984#issuecomment-435315",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/gjorgenson/27984_orbit_coersion](https://github.com/sagemath/sagetrac-mirror/tree/u/gjorgenson/27984_orbit_coersion)** to **[`b0dd074`](https://github.com/sagemath/sagetrac-mirror/commit/b0dd0747799070e7257a381dfbddc481c8d44206)**



---

archive/issue_events_380818.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-07-29T21:54:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27984",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27984#event-380818"
}
```



---

archive/issue_events_380819.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "36f9e451092ebcd3eb530029e43cb30906c19fa0",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-07-29T21:54:30Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/27984",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27984#event-380819"
}
```



---

archive/issue_comments_435316.json:
```json
{
    "body": "Changed commit from **[`b0dd074`](https://github.com/sagemath/sagetrac-mirror/commit/b0dd0747799070e7257a381dfbddc481c8d44206)** to none",
    "created_at": "2019-08-03T13:27:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27984#issuecomment-435316",
    "user": "https://github.com/slel"
}
```

Changed commit from **[`b0dd074`](https://github.com/sagemath/sagetrac-mirror/commit/b0dd0747799070e7257a381dfbddc481c8d44206)** to none



---

archive/issue_events_380820.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2019-08-03T13:27:38Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/27984",
    "title_is": "Coercion of inputs of orbit into projective space",
    "title_was": "Coersion of inputs of orbit into projective space",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27984#event-380820"
}
```
