# Issue 27309: Update FriCAS to 1.3.6

archive/issues_027072.json:
```json
{
    "body": "This ticket is to upgrade to FriCAS 1.3.6 and track dependencies.\n\nTarball: see checksums.ini\n\nNote that FriCAS has switched to using Git and the primary repository is now the one at GitHub, but the homepage remains at Sourceforge:\n\n- https://fricas.sourceforge.net\n\nand we still get source tarballs from Sourceforge since those available at GitHub are not the full source archives we need.\n\n- http://fricas.sourceforge.net/\n- https://github.com/fricas/fricas/releases\n\nOur last update was to Fricas 1.3.5 in #25962 in February 2019.\n\nTo try this ticket from your Sage root directory, with `git-trac-command` installed:\n\n1. `git trac try 27309`\n2. `SAGE_SPKG=\"sage-spkg -o\" ./sage -i fricas` (or use `./configure --enable-download-from-upstream-url` first)\n3. `./sage -t --optional=fricas,sage src/sage/interfaces/fricas.py`\n\n\nCC:  @slel\n\nKeywords: FriCAS, upgrade\n\nReviewer: Matthias Koeppe, Samuel Leli\u00e8vre\n\nAuthor: Fr\u00e9d\u00e9ric Chapoton\n\nBranch: b811a1dc6e9c2c790627f9d1d773252209e4ac08\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/27309\n\n",
    "closed_at": "2020-08-20T22:22:56Z",
    "created_at": "2019-02-17T12:44:13Z",
    "labels": [
        "component: packages: optional"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.2",
    "title": "Update FriCAS to 1.3.6",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/27309",
    "user": "https://github.com/mantepse"
}
```
This ticket is to upgrade to FriCAS 1.3.6 and track dependencies.

Tarball: see checksums.ini

Note that FriCAS has switched to using Git and the primary repository is now the one at GitHub, but the homepage remains at Sourceforge:

- https://fricas.sourceforge.net

and we still get source tarballs from Sourceforge since those available at GitHub are not the full source archives we need.

- http://fricas.sourceforge.net/
- https://github.com/fricas/fricas/releases

Our last update was to Fricas 1.3.5 in #25962 in February 2019.

To try this ticket from your Sage root directory, with `git-trac-command` installed:

1. `git trac try 27309`
2. `SAGE_SPKG="sage-spkg -o" ./sage -i fricas` (or use `./configure --enable-download-from-upstream-url` first)
3. `./sage -t --optional=fricas,sage src/sage/interfaces/fricas.py`


CC:  @slel

Keywords: FriCAS, upgrade

Reviewer: Matthias Koeppe, Samuel Lelièvre

Author: Frédéric Chapoton

Branch: b811a1dc6e9c2c790627f9d1d773252209e4ac08

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/27309





---

archive/issue_comments_526235.json:
```json
{
    "body": "<a id='comment:1'></a>Ticket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)",
    "created_at": "2019-03-25T10:56:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27309#issuecomment-526235",
    "user": "https://github.com/embray"
}
```

<a id='comment:1'></a>Ticket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)



---

archive/issue_events_067792.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:56:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27309",
    "milestone": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27309#event-67792"
}
```



---

archive/issue_events_067793.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-06-14T14:54:19Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27309",
    "milestone": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27309#event-67793"
}
```



---

archive/issue_comments_526236.json:
```json
{
    "body": "<a id='comment:2'></a>As the Sage-8.8 release milestone is pending, we should delete the sage-8.8 milestone for tickets that are not actively being worked on or that still require significant work to move forward.  If you feel that this ticket should be included in the next Sage release at the soonest please set its milestone to the next release milestone (sage-8.9).",
    "created_at": "2019-06-14T14:54:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27309#issuecomment-526236",
    "user": "https://github.com/embray"
}
```

<a id='comment:2'></a>As the Sage-8.8 release milestone is pending, we should delete the sage-8.8 milestone for tickets that are not actively being worked on or that still require significant work to move forward.  If you feel that this ticket should be included in the next Sage release at the soonest please set its milestone to the next release milestone (sage-8.9).



---

archive/issue_events_067794.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-03-23T14:28:31Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27309",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27309#event-67794"
}
```



---

archive/issue_comments_526237.json:
```json
{
    "body": "<a id='comment:3'></a>Fricas 1.3.6 was released. Release announcement:\n\n- https://groups.google.com/d/topic/fricas-devel/nU1HDg9Q_4s/discussion",
    "created_at": "2020-03-23T14:28:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27309#issuecomment-526237",
    "user": "https://github.com/slel"
}
```

<a id='comment:3'></a>Fricas 1.3.6 was released. Release announcement:

- https://groups.google.com/d/topic/fricas-devel/nU1HDg9Q_4s/discussion



---

archive/issue_comments_526238.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,9 +1,27 @@\n-This ticket is to track dependencies of FriCAS 1.3.6, which is not released as of today. To track the release, check\n+This ticket is to upgrade to FriCAS 1.3.6 and track dependencies.\n+\n+Tarball:\n+\n+- https://sourceforge.net/projects/fricas/files/fricas/1.3.6/fricas-1.3.6-full.tar.bz2/download\n+\n+FriCAS releases appear at:\n \n - http://fricas.sourceforge.net/\n - https://github.com/fricas/fricas/releases\n \n+Note that FriCAS has switched to using Git and the primary repository is now the one at GitHub.\n+\n+The svn repository at \n+\n Our last update was to Fricas 1.3.5 in #25962 in February 2019.\n \n-Instructions to try this ticket, once 1.3.6 is released, can be found at #25962.\n+To try this ticket, change to your `SAGE_ROOT` directory and do:\n \n+1. `git trac try 27309`\n+2. `cd upstream`\n+3. `wget -O fricas-1.3.6-full.tar.bz2 https://sourceforge.net/projects/fricas/files/fricas/1.3.6/fricas-1.3.6-full.tar.bz2/download\n+4. `cd ..`\n+4. `./sage -i fricas`\n+5. `./sage -t --optional=fricas,sage src/sage/interfaces/fricas.py`\n+\n+\n``````\n",
    "created_at": "2020-03-23T14:28:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27309#issuecomment-526238",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,9 +1,27 @@
-This ticket is to track dependencies of FriCAS 1.3.6, which is not released as of today. To track the release, check
+This ticket is to upgrade to FriCAS 1.3.6 and track dependencies.
+
+Tarball:
+
+- https://sourceforge.net/projects/fricas/files/fricas/1.3.6/fricas-1.3.6-full.tar.bz2/download
+
+FriCAS releases appear at:
 
 - http://fricas.sourceforge.net/
 - https://github.com/fricas/fricas/releases
 
+Note that FriCAS has switched to using Git and the primary repository is now the one at GitHub.
+
+The svn repository at 
+
 Our last update was to Fricas 1.3.5 in #25962 in February 2019.
 
-Instructions to try this ticket, once 1.3.6 is released, can be found at #25962.
+To try this ticket, change to your `SAGE_ROOT` directory and do:
 
+1. `git trac try 27309`
+2. `cd upstream`
+3. `wget -O fricas-1.3.6-full.tar.bz2 https://sourceforge.net/projects/fricas/files/fricas/1.3.6/fricas-1.3.6-full.tar.bz2/download
+4. `cd ..`
+4. `./sage -i fricas`
+5. `./sage -t --optional=fricas,sage src/sage/interfaces/fricas.py`
+
+
``````




---

archive/issue_comments_526239.json:
```json
{
    "body": "<a id='comment:4'></a>In case you have time, could you check whether #27310 works?",
    "created_at": "2020-03-23T14:37:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27309#issuecomment-526239",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:4'></a>In case you have time, could you check whether #27310 works?



---

archive/issue_events_067795.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-24T02:04:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27309",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27309#event-67795"
}
```



---

archive/issue_events_067796.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-24T02:04:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27309",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27309#event-67796"
}
```



---

archive/issue_comments_526240.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,7 +2,7 @@\n \n Tarball:\n \n-- https://sourceforge.net/projects/fricas/files/fricas/1.3.6/fricas-1.3.6-full.tar.bz2/download\n+- https://github.com/fricas/fricas/archive/1.3.6.tar.gz\n \n FriCAS releases appear at:\n \n@@ -19,7 +19,7 @@\n \n 1. `git trac try 27309`\n 2. `cd upstream`\n-3. `wget -O fricas-1.3.6-full.tar.bz2 https://sourceforge.net/projects/fricas/files/fricas/1.3.6/fricas-1.3.6-full.tar.bz2/download\n+3. `wget -O fricas-1.3.6-full.tar.bz2 https://github.com/fricas/fricas/archive/1.3.6.tar.gz\n 4. `cd ..`\n 4. `./sage -i fricas`\n 5. `./sage -t --optional=fricas,sage src/sage/interfaces/fricas.py`\n``````\n",
    "created_at": "2020-08-19T09:27:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27309#issuecomment-526240",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,7 +2,7 @@
 
 Tarball:
 
-- https://sourceforge.net/projects/fricas/files/fricas/1.3.6/fricas-1.3.6-full.tar.bz2/download
+- https://github.com/fricas/fricas/archive/1.3.6.tar.gz
 
 FriCAS releases appear at:
 
@@ -19,7 +19,7 @@
 
 1. `git trac try 27309`
 2. `cd upstream`
-3. `wget -O fricas-1.3.6-full.tar.bz2 https://sourceforge.net/projects/fricas/files/fricas/1.3.6/fricas-1.3.6-full.tar.bz2/download
+3. `wget -O fricas-1.3.6-full.tar.bz2 https://github.com/fricas/fricas/archive/1.3.6.tar.gz
 4. `cd ..`
 4. `./sage -i fricas`
 5. `./sage -t --optional=fricas,sage src/sage/interfaces/fricas.py`
``````




---

archive/issue_comments_526241.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-08-19T09:31:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27309#issuecomment-526241",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_526242.json:
```json
{
    "body": "Changing commit from \"\" to \"29d0e0264e934c1ca0225511e1b8c6439b950366\"",
    "created_at": "2020-08-19T09:31:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27309#issuecomment-526242",
    "user": "https://github.com/fchapoton"
}
```

Changing commit from "" to "29d0e0264e934c1ca0225511e1b8c6439b950366"



---

archive/issue_comments_526243.json:
```json
{
    "body": "<a id='comment:7'></a>New commits:",
    "created_at": "2020-08-19T09:31:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27309#issuecomment-526243",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:7'></a>New commits:



---

archive/issue_comments_526244.json:
```json
{
    "body": "Changing branch from \"\" to \"u/chapoton/27309\"",
    "created_at": "2020-08-19T09:31:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27309#issuecomment-526244",
    "user": "https://github.com/fchapoton"
}
```

Changing branch from "" to "u/chapoton/27309"



---

archive/issue_comments_526245.json:
```json
{
    "body": "Changing commit from \"29d0e0264e934c1ca0225511e1b8c6439b950366\" to \"086cbf0a5b0a76aa3e2413d884d6f22145ee3119\"",
    "created_at": "2020-08-19T11:43:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27309#issuecomment-526245",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "29d0e0264e934c1ca0225511e1b8c6439b950366" to "086cbf0a5b0a76aa3e2413d884d6f22145ee3119"



---

archive/issue_comments_526246.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-08-19T11:43:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27309#issuecomment-526246",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_526247.json:
```json
{
    "body": "<a id='comment:9'></a>Passes all doctests. This seems to be good to go.",
    "created_at": "2020-08-19T11:47:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27309#issuecomment-526247",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:9'></a>Passes all doctests. This seems to be good to go.



---

archive/issue_comments_526248.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,14 +4,16 @@\n \n - https://github.com/fricas/fricas/archive/1.3.6.tar.gz\n \n-FriCAS releases appear at:\n+FriCAS releases appear both at Sourceforge and at !Github:\n \n - http://fricas.sourceforge.net/\n - https://github.com/fricas/fricas/releases\n \n Note that FriCAS has switched to using Git and the primary repository is now the one at GitHub.\n \n-The svn repository at \n+The homepage remains at Sourceforge:\n+\n+- https://fricas.sourceforge.net\n \n Our last update was to Fricas 1.3.5 in #25962 in February 2019.\n \n@@ -19,9 +21,8 @@\n \n 1. `git trac try 27309`\n 2. `cd upstream`\n-3. `wget -O fricas-1.3.6-full.tar.bz2 https://github.com/fricas/fricas/archive/1.3.6.tar.gz\n+3. `wget -O fricas-1.3.6-full.tar.bz2 https://github.com/fricas/fricas/archive/1.3.6.tar.gz`\n 4. `cd ..`\n 4. `./sage -i fricas`\n 5. `./sage -t --optional=fricas,sage src/sage/interfaces/fricas.py`\n \n-\n``````\n",
    "created_at": "2020-08-19T11:49:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27309#issuecomment-526248",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,14 +4,16 @@
 
 - https://github.com/fricas/fricas/archive/1.3.6.tar.gz
 
-FriCAS releases appear at:
+FriCAS releases appear both at Sourceforge and at !Github:
 
 - http://fricas.sourceforge.net/
 - https://github.com/fricas/fricas/releases
 
 Note that FriCAS has switched to using Git and the primary repository is now the one at GitHub.
 
-The svn repository at 
+The homepage remains at Sourceforge:
+
+- https://fricas.sourceforge.net
 
 Our last update was to Fricas 1.3.5 in #25962 in February 2019.
 
@@ -19,9 +21,8 @@
 
 1. `git trac try 27309`
 2. `cd upstream`
-3. `wget -O fricas-1.3.6-full.tar.bz2 https://github.com/fricas/fricas/archive/1.3.6.tar.gz
+3. `wget -O fricas-1.3.6-full.tar.bz2 https://github.com/fricas/fricas/archive/1.3.6.tar.gz`
 4. `cd ..`
 4. `./sage -i fricas`
 5. `./sage -t --optional=fricas,sage src/sage/interfaces/fricas.py`
 
-
``````




---

archive/issue_comments_526249.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -17,12 +17,12 @@\n \n Our last update was to Fricas 1.3.5 in #25962 in February 2019.\n \n-To try this ticket, change to your `SAGE_ROOT` directory and do:\n+To try this ticket from your Sage root directory, with `git-trac-command` installed:\n \n 1. `git trac try 27309`\n-2. `cd upstream`\n-3. `wget -O fricas-1.3.6-full.tar.bz2 https://github.com/fricas/fricas/archive/1.3.6.tar.gz`\n-4. `cd ..`\n+2. `VER=1.3.6`\n+3. `URL=https://github.com/fricas/fricas/archive/$VER.tar.gz`\n+4. `wget -O upstream/fricas-$VER.tar.gz $URL`\n 4. `./sage -i fricas`\n 5. `./sage -t --optional=fricas,sage src/sage/interfaces/fricas.py`\n \n``````\n",
    "created_at": "2020-08-19T14:37:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27309#issuecomment-526249",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -17,12 +17,12 @@
 
 Our last update was to Fricas 1.3.5 in #25962 in February 2019.
 
-To try this ticket, change to your `SAGE_ROOT` directory and do:
+To try this ticket from your Sage root directory, with `git-trac-command` installed:
 
 1. `git trac try 27309`
-2. `cd upstream`
-3. `wget -O fricas-1.3.6-full.tar.bz2 https://github.com/fricas/fricas/archive/1.3.6.tar.gz`
-4. `cd ..`
+2. `VER=1.3.6`
+3. `URL=https://github.com/fricas/fricas/archive/$VER.tar.gz`
+4. `wget -O upstream/fricas-$VER.tar.gz $URL`
 4. `./sage -i fricas`
 5. `./sage -t --optional=fricas,sage src/sage/interfaces/fricas.py`
 
``````




---

archive/issue_comments_526250.json:
```json
{
    "body": "<a id='comment:11'></a>In `build/pkgs/fricas/checksums.ini` maybe change:\n\n```diff\n-tarball=fricas-VERSION-full.tar.bz2\n+tarball=fricas-VERSION.tar.gz\n```",
    "created_at": "2020-08-19T14:37:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27309#issuecomment-526250",
    "user": "https://github.com/slel"
}
```

<a id='comment:11'></a>In `build/pkgs/fricas/checksums.ini` maybe change:

```diff
-tarball=fricas-VERSION-full.tar.bz2
+tarball=fricas-VERSION.tar.gz
```



---

archive/issue_comments_526251.json:
```json
{
    "body": "<a id='comment:12'></a>why ?",
    "created_at": "2020-08-19T15:50:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27309#issuecomment-526251",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:12'></a>why ?



---

archive/issue_comments_526252.json:
```json
{
    "body": "<a id='comment:13'></a>I see:\n\n```\nupstream_url=https://github.com/fricas/fricas/archive/VERSION.tar.gz\n```\nI don't think this the URL of a release tarball. This is just the automatic git archive corresponding to the tag. Upstream seems to continue using sourceforge for distributing release tarballs.",
    "created_at": "2020-08-19T16:08:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27309#issuecomment-526252",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:13'></a>I see:

```
upstream_url=https://github.com/fricas/fricas/archive/VERSION.tar.gz
```
I don't think this the URL of a release tarball. This is just the automatic git archive corresponding to the tag. Upstream seems to continue using sourceforge for distributing release tarballs.



---

archive/issue_comments_526253.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-08-19T17:16:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27309#issuecomment-526253",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_526254.json:
```json
{
    "body": "<a id='comment:15'></a>In that case do we need in `checksums.ini` the following (with updated checksums):\n\n```\ntarball=fricas-VERSION-full.tar.bz2\n...\nupstream_url=https://sourceforge.net/projects/fricas/files/fricas/VERSION/fricas-VERSION-full.tar.bz2/download\n```\n\nOr are these Sourceforge download urls problematic?",
    "created_at": "2020-08-19T18:05:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27309#issuecomment-526254",
    "user": "https://github.com/slel"
}
```

<a id='comment:15'></a>In that case do we need in `checksums.ini` the following (with updated checksums):

```
tarball=fricas-VERSION-full.tar.bz2
...
upstream_url=https://sourceforge.net/projects/fricas/files/fricas/VERSION/fricas-VERSION-full.tar.bz2/download
```

Or are these Sourceforge download urls problematic?



---

archive/issue_comments_526255.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,18 +2,16 @@\n \n Tarball:\n \n-- https://github.com/fricas/fricas/archive/1.3.6.tar.gz\n+- https://sourceforge.net/projects/fricas/files/fricas/1.3.6/fricas-1.3.6-full.tar.bz2/download\n \n-FriCAS releases appear both at Sourceforge and at !Github:\n+Note that FriCAS has switched to using Git and the primary repository is now the one at GitHub, but the homepage remains at Sourceforge:\n+\n+- https://fricas.sourceforge.net\n+\n+and we still get source tarballs from Sourceforge since those available at GitHub are not the full source archives we need.\n \n - http://fricas.sourceforge.net/\n - https://github.com/fricas/fricas/releases\n-\n-Note that FriCAS has switched to using Git and the primary repository is now the one at GitHub.\n-\n-The homepage remains at Sourceforge:\n-\n-- https://fricas.sourceforge.net\n \n Our last update was to Fricas 1.3.5 in #25962 in February 2019.\n \n@@ -21,8 +19,8 @@\n \n 1. `git trac try 27309`\n 2. `VER=1.3.6`\n-3. `URL=https://github.com/fricas/fricas/archive/$VER.tar.gz`\n-4. `wget -O upstream/fricas-$VER.tar.gz $URL`\n-4. `./sage -i fricas`\n-5. `./sage -t --optional=fricas,sage src/sage/interfaces/fricas.py`\n+3. `URL=https://sourceforge.net/projects/fricas/files/fricas/VERSION/fricas-VERSION-full.tar.bz2/download`\n+4. `wget -O upstream/fricas-$VER-full.tar.bz2 $URL`\n+5. `./sage -i fricas`\n+6. `./sage -t --optional=fricas,sage src/sage/interfaces/fricas.py`\n \n``````\n",
    "created_at": "2020-08-19T18:11:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27309#issuecomment-526255",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,18 +2,16 @@
 
 Tarball:
 
-- https://github.com/fricas/fricas/archive/1.3.6.tar.gz
+- https://sourceforge.net/projects/fricas/files/fricas/1.3.6/fricas-1.3.6-full.tar.bz2/download
 
-FriCAS releases appear both at Sourceforge and at !Github:
+Note that FriCAS has switched to using Git and the primary repository is now the one at GitHub, but the homepage remains at Sourceforge:
+
+- https://fricas.sourceforge.net
+
+and we still get source tarballs from Sourceforge since those available at GitHub are not the full source archives we need.
 
 - http://fricas.sourceforge.net/
 - https://github.com/fricas/fricas/releases
-
-Note that FriCAS has switched to using Git and the primary repository is now the one at GitHub.
-
-The homepage remains at Sourceforge:
-
-- https://fricas.sourceforge.net
 
 Our last update was to Fricas 1.3.5 in #25962 in February 2019.
 
@@ -21,8 +19,8 @@
 
 1. `git trac try 27309`
 2. `VER=1.3.6`
-3. `URL=https://github.com/fricas/fricas/archive/$VER.tar.gz`
-4. `wget -O upstream/fricas-$VER.tar.gz $URL`
-4. `./sage -i fricas`
-5. `./sage -t --optional=fricas,sage src/sage/interfaces/fricas.py`
+3. `URL=https://sourceforge.net/projects/fricas/files/fricas/VERSION/fricas-VERSION-full.tar.bz2/download`
+4. `wget -O upstream/fricas-$VER-full.tar.bz2 $URL`
+5. `./sage -i fricas`
+6. `./sage -t --optional=fricas,sage src/sage/interfaces/fricas.py`
 
``````




---

archive/issue_comments_526256.json:
```json
{
    "body": "<a id='comment:17'></a>Ideally, rebase on Sage 9.2.beta9.",
    "created_at": "2020-08-19T18:16:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27309#issuecomment-526256",
    "user": "https://github.com/slel"
}
```

<a id='comment:17'></a>Ideally, rebase on Sage 9.2.beta9.



---

archive/issue_comments_526257.json:
```json
{
    "body": "Changing commit from \"086cbf0a5b0a76aa3e2413d884d6f22145ee3119\" to \"b811a1dc6e9c2c790627f9d1d773252209e4ac08\"",
    "created_at": "2020-08-19T18:39:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27309#issuecomment-526257",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "086cbf0a5b0a76aa3e2413d884d6f22145ee3119" to "b811a1dc6e9c2c790627f9d1d773252209e4ac08"



---

archive/issue_comments_526258.json:
```json
{
    "body": "<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-08-19T18:39:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27309#issuecomment-526258",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_526259.json:
```json
{
    "body": "<a id='comment:19'></a>better like that ?",
    "created_at": "2020-08-19T18:40:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27309#issuecomment-526259",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:19'></a>better like that ?



---

archive/issue_comments_526260.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-08-19T18:40:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27309#issuecomment-526260",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_526261.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,8 +1,6 @@\n This ticket is to upgrade to FriCAS 1.3.6 and track dependencies.\n \n-Tarball:\n-\n-- https://sourceforge.net/projects/fricas/files/fricas/1.3.6/fricas-1.3.6-full.tar.bz2/download\n+Tarball: see checksums.ini\n \n Note that FriCAS has switched to using Git and the primary repository is now the one at GitHub, but the homepage remains at Sourceforge:\n \n@@ -18,9 +16,6 @@\n To try this ticket from your Sage root directory, with `git-trac-command` installed:\n \n 1. `git trac try 27309`\n-2. `VER=1.3.6`\n-3. `URL=https://sourceforge.net/projects/fricas/files/fricas/VERSION/fricas-VERSION-full.tar.bz2/download`\n-4. `wget -O upstream/fricas-$VER-full.tar.bz2 $URL`\n-5. `./sage -i fricas`\n-6. `./sage -t --optional=fricas,sage src/sage/interfaces/fricas.py`\n+2. `SAGE_SPKG=\"sage-spkg -o\" ./sage -i fricas`\n+3. `./sage -t --optional=fricas,sage src/sage/interfaces/fricas.py`\n \n``````\n",
    "created_at": "2020-08-19T19:36:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27309#issuecomment-526261",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,8 +1,6 @@
 This ticket is to upgrade to FriCAS 1.3.6 and track dependencies.
 
-Tarball:
-
-- https://sourceforge.net/projects/fricas/files/fricas/1.3.6/fricas-1.3.6-full.tar.bz2/download
+Tarball: see checksums.ini
 
 Note that FriCAS has switched to using Git and the primary repository is now the one at GitHub, but the homepage remains at Sourceforge:
 
@@ -18,9 +16,6 @@
 To try this ticket from your Sage root directory, with `git-trac-command` installed:
 
 1. `git trac try 27309`
-2. `VER=1.3.6`
-3. `URL=https://sourceforge.net/projects/fricas/files/fricas/VERSION/fricas-VERSION-full.tar.bz2/download`
-4. `wget -O upstream/fricas-$VER-full.tar.bz2 $URL`
-5. `./sage -i fricas`
-6. `./sage -t --optional=fricas,sage src/sage/interfaces/fricas.py`
+2. `SAGE_SPKG="sage-spkg -o" ./sage -i fricas`
+3. `./sage -t --optional=fricas,sage src/sage/interfaces/fricas.py`
 
``````




---

archive/issue_comments_526262.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -16,6 +16,6 @@\n To try this ticket from your Sage root directory, with `git-trac-command` installed:\n \n 1. `git trac try 27309`\n-2. `SAGE_SPKG=\"sage-spkg -o\" ./sage -i fricas`\n+2. `SAGE_SPKG=\"sage-spkg -o\" ./sage -i fricas` (or use `./configure --enable-download-from-upstream-url` first)\n 3. `./sage -t --optional=fricas,sage src/sage/interfaces/fricas.py`\n \n``````\n",
    "created_at": "2020-08-19T19:40:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27309#issuecomment-526262",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -16,6 +16,6 @@
 To try this ticket from your Sage root directory, with `git-trac-command` installed:
 
 1. `git trac try 27309`
-2. `SAGE_SPKG="sage-spkg -o" ./sage -i fricas`
+2. `SAGE_SPKG="sage-spkg -o" ./sage -i fricas` (or use `./configure --enable-download-from-upstream-url` first)
 3. `./sage -t --optional=fricas,sage src/sage/interfaces/fricas.py`
 
``````




---

archive/issue_comments_526263.json:
```json
{
    "body": "Changing author from \"Martin Rubey\" to \"Fr\u00e9d\u00e9ric Chapoton\"",
    "created_at": "2020-08-19T19:45:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27309#issuecomment-526263",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "Martin Rubey" to "Frédéric Chapoton"



---

archive/issue_comments_526264.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Matthias Koeppe\"",
    "created_at": "2020-08-19T19:49:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27309#issuecomment-526264",
    "user": "https://github.com/mkoeppe"
}
```

Changing reviewer from "" to "Matthias Koeppe"



---

archive/issue_comments_526265.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-08-19T19:49:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27309#issuecomment-526265",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_526266.json:
```json
{
    "body": "<a id='comment:23'></a>Works for me on macOS.",
    "created_at": "2020-08-19T19:49:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27309#issuecomment-526266",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:23'></a>Works for me on macOS.



---

archive/issue_comments_526267.json:
```json
{
    "body": "Changing reviewer from \"Matthias Koeppe\" to \"Matthias Koeppe, Samuel Leli\u00e8vre\"",
    "created_at": "2020-08-19T23:25:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27309#issuecomment-526267",
    "user": "https://github.com/slel"
}
```

Changing reviewer from "Matthias Koeppe" to "Matthias Koeppe, Samuel Lelièvre"



---

archive/issue_comments_526268.json:
```json
{
    "body": "<a id='comment:24'></a>Success on Debian too:\n\n```\n$ ./sage -i fricas && ./sage -t --optional=fricas,build,dochtml,sage --all\nAll tests passed!\n```",
    "created_at": "2020-08-19T23:25:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27309#issuecomment-526268",
    "user": "https://github.com/slel"
}
```

<a id='comment:24'></a>Success on Debian too:

```
$ ./sage -i fricas && ./sage -t --optional=fricas,build,dochtml,sage --all
All tests passed!
```



---

archive/issue_events_067797.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-08-20T22:22:56Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/27309",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27309#event-67797"
}
```



---

archive/issue_comments_526269.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-08-20T22:22:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27309#issuecomment-526269",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_526270.json:
```json
{
    "body": "Changing branch from \"u/chapoton/27309\" to \"b811a1dc6e9c2c790627f9d1d773252209e4ac08\"",
    "created_at": "2020-08-20T22:22:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27309#issuecomment-526270",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/chapoton/27309" to "b811a1dc6e9c2c790627f9d1d773252209e4ac08"



---

archive/issue_comments_526271.json:
```json
{
    "body": "Changing commit from \"b811a1dc6e9c2c790627f9d1d773252209e4ac08\" to \"\"",
    "created_at": "2020-10-01T09:36:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27309#issuecomment-526271",
    "user": "https://github.com/fchapoton"
}
```

Changing commit from "b811a1dc6e9c2c790627f9d1d773252209e4ac08" to ""



---

archive/issue_comments_526272.json:
```json
{
    "body": "<a id='comment:26'></a>I now have problems with \"sage -i fricas\", which does not seem to be able to find the tarball in the mirrors..",
    "created_at": "2020-10-01T09:36:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27309#issuecomment-526272",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:26'></a>I now have problems with "sage -i fricas", which does not seem to be able to find the tarball in the mirrors..
