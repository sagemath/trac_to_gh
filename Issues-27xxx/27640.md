# Issue 27640: Shi arrangement for other types

archive/issues_027403.json:
```json
{
    "body": "m-extended Shi arrangement defined for any finite crystallograpic root system\n\nCC:  vivianepons @tscrim\n\nKeywords: days98\n\nBranch/Commit: [b176a2a9d6c11eeda227e969aebe02bc28b15f84](https://github.com/sagemath/sagetrac-mirror/commit/b176a2a9d6c11eeda227e969aebe02bc28b15f84)\n\nReviewer: Fr\u00e9d\u00e9ric Chapoton, Travis Scrimshaw\n\nAuthor: Eleni Tzanaki, Viviane Pons\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/27640\n\n",
    "closed_at": "2019-04-15T17:47:59Z",
    "created_at": "2019-04-11T09:04:19Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.8",
    "title": "Shi arrangement for other types",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/27640",
    "user": "https://trac.sagemath.org/admin/accounts/users/etzanaki"
}
```
m-extended Shi arrangement defined for any finite crystallograpic root system

CC:  vivianepons @tscrim

Keywords: days98

Branch/Commit: [b176a2a9d6c11eeda227e969aebe02bc28b15f84](https://github.com/sagemath/sagetrac-mirror/commit/b176a2a9d6c11eeda227e969aebe02bc28b15f84)

Reviewer: Frédéric Chapoton, Travis Scrimshaw

Author: Eleni Tzanaki, Viviane Pons

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/27640





---

archive/issue_comments_535147.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-\n+m-extended Shi arrangement defined for any finite crystallograpic root system\n``````\n",
    "created_at": "2019-04-11T09:09:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27640#issuecomment-535147",
    "user": "https://trac.sagemath.org/admin/accounts/users/etzanaki"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-
+m-extended Shi arrangement defined for any finite crystallograpic root system
``````




---

archive/issue_comments_535148.json:
```json
{
    "body": "Changing keywords from \"\" to \"#days98\".",
    "created_at": "2019-04-11T09:09:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27640#issuecomment-535148",
    "user": "https://trac.sagemath.org/admin/accounts/users/etzanaki"
}
```

Changing keywords from "" to "#days98".



---

archive/issue_comments_535149.json:
```json
{
    "body": "Changing keywords from \"#days98\" to \"days98\".",
    "created_at": "2019-04-12T08:31:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27640#issuecomment-535149",
    "user": "https://github.com/tscrim"
}
```

Changing keywords from "#days98" to "days98".



---

archive/issue_comments_535150.json:
```json
{
    "body": "Changing branch from \"\" to \"u/etzanaki/shi_arrangement_for_other_types\"",
    "created_at": "2019-04-13T07:13:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27640#issuecomment-535150",
    "user": "https://trac.sagemath.org/admin/accounts/users/etzanaki"
}
```

Changing branch from "" to "u/etzanaki/shi_arrangement_for_other_types"



---

archive/issue_comments_535151.json:
```json
{
    "body": "Changing commit from \"\" to \"0924213f7cc85bca0f3ed072605cab1fca817d6d\"",
    "created_at": "2019-04-13T07:17:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27640#issuecomment-535151",
    "user": "https://trac.sagemath.org/admin/accounts/users/etzanaki"
}
```

Changing commit from "" to "0924213f7cc85bca0f3ed072605cab1fca817d6d"



---

archive/issue_comments_535152.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-04-13T07:17:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27640#issuecomment-535152",
    "user": "https://trac.sagemath.org/admin/accounts/users/etzanaki"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_535153.json:
```json
{
    "body": "Changing author from \"\" to \"Eleni Tzanaki\"",
    "created_at": "2019-04-13T07:17:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27640#issuecomment-535153",
    "user": "https://trac.sagemath.org/admin/accounts/users/etzanaki"
}
```

Changing author from "" to "Eleni Tzanaki"



---

archive/issue_comments_535154.json:
```json
{
    "body": "<a id='comment:5'></a>\nNew commits:\n|                                                                                                                                          |                                                   |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------|\n|[0924213](https://github.com/sagemath/sagetrac-mirror/commit/0924213f7cc85bca0f3ed072605cab1fca817d6d)|`Adding cartan type and m-extended Shi arrangments`|",
    "created_at": "2019-04-13T07:17:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27640#issuecomment-535154",
    "user": "https://trac.sagemath.org/admin/accounts/users/etzanaki"
}
```

<a id='comment:5'></a>
New commits:
|                                                                                                                                          |                                                   |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------|
|[0924213](https://github.com/sagemath/sagetrac-mirror/commit/0924213f7cc85bca0f3ed072605cab1fca817d6d)|`Adding cartan type and m-extended Shi arrangments`|



---

archive/issue_comments_535155.json:
```json
{
    "body": "Changing branch from \"u/etzanaki/shi_arrangement_for_other_types\" to \"u/VivianePons/shi_arrangement_for_other_types\"",
    "created_at": "2019-04-13T08:18:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27640#issuecomment-535155",
    "user": "https://github.com/VivianePons"
}
```

Changing branch from "u/etzanaki/shi_arrangement_for_other_types" to "u/VivianePons/shi_arrangement_for_other_types"



---

archive/issue_comments_535156.json:
```json
{
    "body": "<a id='comment:7'></a>\nSome PEP8 and other misc small comments:\n\n```diff\n-    def Shi(self, data, K=QQ, names=None, m = 1):\n+    def Shi(self, data, K=QQ, names=None, m=1):\n```\n\n```diff\n         The characteristic polynomial is pre-computed using the results of\n-         [Ath1996]_ .\n+        [Ath1996]_.\n```\n\n```diff\n         if data in NN:\n-            cartan_type = CartanType([\"A\",data -1])\n+            cartan_type = CartanType(['A', data-1])\n```\n\n```diff\n         for a in PR:\n             for const in range(-m+1,m+1):\n-                hyperplanes.append(sum(a[j]*x[j] for j in range(d\n-                ))-const)\n+                hyperplanes.append(sum(a[j]*x[j] for j in range(d))-const)\n```\n(the 80 char/line is much more of a guideline and you should never sacrifice readability for it IMO).\n\n```diff\n-        charpoly = (x**(d-n))*(x-m*h)**n\n+        charpoly = x**(d-n) * (x - m*h)**n\n```\n\nIt would also be nice to remove those added blanklines at the end of the file.\n\n---\nNew commits:\n|                                                                                                                                          |                                                                                |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------|\n|[411f5e1](https://github.com/sagemath/sagetrac-mirror/commit/411f5e1bcb875fe8ee5907ee4312220ac1f4cd35)|`getting rid of trailing white spaces and some mysterious \"non ascii character\"`|",
    "created_at": "2019-04-13T08:49:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27640#issuecomment-535156",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:7'></a>
Some PEP8 and other misc small comments:

```diff
-    def Shi(self, data, K=QQ, names=None, m = 1):
+    def Shi(self, data, K=QQ, names=None, m=1):
```

```diff
         The characteristic polynomial is pre-computed using the results of
-         [Ath1996]_ .
+        [Ath1996]_.
```

```diff
         if data in NN:
-            cartan_type = CartanType(["A",data -1])
+            cartan_type = CartanType(['A', data-1])
```

```diff
         for a in PR:
             for const in range(-m+1,m+1):
-                hyperplanes.append(sum(a[j]*x[j] for j in range(d
-                ))-const)
+                hyperplanes.append(sum(a[j]*x[j] for j in range(d))-const)
```
(the 80 char/line is much more of a guideline and you should never sacrifice readability for it IMO).

```diff
-        charpoly = (x**(d-n))*(x-m*h)**n
+        charpoly = x**(d-n) * (x - m*h)**n
```

It would also be nice to remove those added blanklines at the end of the file.

---
New commits:
|                                                                                                                                          |                                                                                |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------|
|[411f5e1](https://github.com/sagemath/sagetrac-mirror/commit/411f5e1bcb875fe8ee5907ee4312220ac1f4cd35)|`getting rid of trailing white spaces and some mysterious "non ascii character"`|



---

archive/issue_comments_535157.json:
```json
{
    "body": "Changing commit from \"0924213f7cc85bca0f3ed072605cab1fca817d6d\" to \"411f5e1bcb875fe8ee5907ee4312220ac1f4cd35\"",
    "created_at": "2019-04-13T08:49:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27640#issuecomment-535157",
    "user": "https://github.com/tscrim"
}
```

Changing commit from "0924213f7cc85bca0f3ed072605cab1fca817d6d" to "411f5e1bcb875fe8ee5907ee4312220ac1f4cd35"



---

archive/issue_comments_535158.json:
```json
{
    "body": "Changing commit from \"411f5e1bcb875fe8ee5907ee4312220ac1f4cd35\" to \"f1bd24e876b88fb3fcc6dda81d5d4a33c0795099\"",
    "created_at": "2019-04-13T09:12:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27640#issuecomment-535158",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "411f5e1bcb875fe8ee5907ee4312220ac1f4cd35" to "f1bd24e876b88fb3fcc6dda81d5d4a33c0795099"



---

archive/issue_comments_535159.json:
```json
{
    "body": "<a id='comment:8'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                            |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------|\n|[f1bd24e](https://github.com/sagemath/sagetrac-mirror/commit/f1bd24e876b88fb3fcc6dda81d5d4a33c0795099)|`PEP8 small changes and removing blanklines`|",
    "created_at": "2019-04-13T09:12:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27640#issuecomment-535159",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                            |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------|
|[f1bd24e](https://github.com/sagemath/sagetrac-mirror/commit/f1bd24e876b88fb3fcc6dda81d5d4a33c0795099)|`PEP8 small changes and removing blanklines`|



---

archive/issue_comments_535160.json:
```json
{
    "body": "<a id='comment:9'></a>\nIt looks like the bot is happy. I have fixed the small things pointed by Travis. \n\nEleni wrote the initial code and I helped with the design and details. The code extends the previous functionalities of the function. The previous usage is still valid and works exactly the same (we haven't changed those tests) and now we have more options (with Cartan types and m parameter), all documented. Eleni checked the math quite carefully. \n\nSo Travis, I let you have a look and hopefully, we can have a positive review soon.",
    "created_at": "2019-04-13T10:53:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27640#issuecomment-535160",
    "user": "https://github.com/VivianePons"
}
```

<a id='comment:9'></a>
It looks like the bot is happy. I have fixed the small things pointed by Travis. 

Eleni wrote the initial code and I helped with the design and details. The code extends the previous functionalities of the function. The previous usage is still valid and works exactly the same (we haven't changed those tests) and now we have more options (with Cartan types and m parameter), all documented. Eleni checked the math quite carefully. 

So Travis, I let you have a look and hopefully, we can have a positive review soon.



---

archive/issue_comments_535161.json:
```json
{
    "body": "<a id='comment:10'></a>\n- avoid using unicode \"\u2013\" in the references, just use - (minus)\n\n- in the doctests, write `h = hyperplane`, namely add space around =\n\n- do not repeat the \"EXAMPLES::\"\n\notherwise, looks good",
    "created_at": "2019-04-13T11:25:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27640#issuecomment-535161",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:10'></a>
- avoid using unicode "–" in the references, just use - (minus)

- in the doctests, write `h = hyperplane`, namely add space around =

- do not repeat the "EXAMPLES::"

otherwise, looks good



---

archive/issue_comments_535162.json:
```json
{
    "body": "<a id='comment:11'></a>\nand this line is useless, as told by the patchbot:\n\n```\nR = RootSystem(cartan_type)\n```",
    "created_at": "2019-04-13T11:28:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27640#issuecomment-535162",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:11'></a>
and this line is useless, as told by the patchbot:

```
R = RootSystem(cartan_type)
```



---

archive/issue_comments_535163.json:
```json
{
    "body": "Changing commit from \"f1bd24e876b88fb3fcc6dda81d5d4a33c0795099\" to \"b176a2a9d6c11eeda227e969aebe02bc28b15f84\"",
    "created_at": "2019-04-13T11:59:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27640#issuecomment-535163",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "f1bd24e876b88fb3fcc6dda81d5d4a33c0795099" to "b176a2a9d6c11eeda227e969aebe02bc28b15f84"



---

archive/issue_comments_535164.json:
```json
{
    "body": "<a id='comment:12'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------|\n|[b176a2a](https://github.com/sagemath/sagetrac-mirror/commit/b176a2a9d6c11eeda227e969aebe02bc28b15f84)|`Small fixes following comments`|",
    "created_at": "2019-04-13T11:59:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27640#issuecomment-535164",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------|
|[b176a2a](https://github.com/sagemath/sagetrac-mirror/commit/b176a2a9d6c11eeda227e969aebe02bc28b15f84)|`Small fixes following comments`|



---

archive/issue_comments_535165.json:
```json
{
    "body": "<a id='comment:13'></a>\nAll done!",
    "created_at": "2019-04-13T11:59:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27640#issuecomment-535165",
    "user": "https://github.com/VivianePons"
}
```

<a id='comment:13'></a>
All done!



---

archive/issue_comments_535166.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Fr\u00e9d\u00e9ric Chapoton\"",
    "created_at": "2019-04-13T14:02:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27640#issuecomment-535166",
    "user": "https://github.com/fchapoton"
}
```

Changing reviewer from "" to "Frédéric Chapoton"



---

archive/issue_comments_535167.json:
```json
{
    "body": "<a id='comment:14'></a>\nok, thx",
    "created_at": "2019-04-13T14:02:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27640#issuecomment-535167",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:14'></a>
ok, thx



---

archive/issue_comments_535168.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-04-13T14:02:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27640#issuecomment-535168",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_535169.json:
```json
{
    "body": "Changing author from \"Eleni Tzanaki\" to \"Eleni Tzanaki, Viviane Pons\"",
    "created_at": "2019-04-13T15:16:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27640#issuecomment-535169",
    "user": "https://github.com/tscrim"
}
```

Changing author from "Eleni Tzanaki" to "Eleni Tzanaki, Viviane Pons"



---

archive/issue_comments_535170.json:
```json
{
    "body": "<a id='comment:15'></a>\nViviane, I added you as an author based on[comment:9](#comment%3A9). If you feel you closer to a reviewer, feel free to move yourself over.",
    "created_at": "2019-04-13T15:16:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27640#issuecomment-535170",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:15'></a>
Viviane, I added you as an author based on[comment:9](#comment%3A9). If you feel you closer to a reviewer, feel free to move yourself over.



---

archive/issue_comments_535171.json:
```json
{
    "body": "Changing reviewer from \"Fr\u00e9d\u00e9ric Chapoton\" to \"Fr\u00e9d\u00e9ric Chapoton, Travis Scrimshaw\"",
    "created_at": "2019-04-13T15:16:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27640#issuecomment-535171",
    "user": "https://github.com/tscrim"
}
```

Changing reviewer from "Frédéric Chapoton" to "Frédéric Chapoton, Travis Scrimshaw"



---

archive/issue_events_077776.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-04-15T17:47:59Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/27640",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27640#event-77776"
}
```



---

archive/issue_comments_535172.json:
```json
{
    "body": "Changing branch from \"u/VivianePons/shi_arrangement_for_other_types\" to \"b176a2a9d6c11eeda227e969aebe02bc28b15f84\"",
    "created_at": "2019-04-15T17:47:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27640#issuecomment-535172",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/VivianePons/shi_arrangement_for_other_types" to "b176a2a9d6c11eeda227e969aebe02bc28b15f84"



---

archive/issue_comments_535173.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-04-15T17:47:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27640#issuecomment-535173",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
