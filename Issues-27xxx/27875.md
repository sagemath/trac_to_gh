# Issue 27875: Cythonize line_graph

archive/issues_027638.json:
```json
{
    "body": "In this ticket, we Cythonize the `line_graph` method to make it run faster.\n\n\nKeywords: gsoc19\n\nBranch/Commit: 5e1af0cc5adbb71614b5a9657b5a420100faa6d7\n\nReviewer: David Coudert\n\nAuthor: Georgios Giapitzakis Tzintanos\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/27875\n\n",
    "closed_at": "2019-08-03T23:51:43Z",
    "created_at": "2019-05-27T09:00:21Z",
    "labels": [
        "component: graph theory"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.9",
    "title": "Cythonize line_graph",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/27875",
    "user": "https://github.com/giorgosgiapis"
}
```
In this ticket, we Cythonize the `line_graph` method to make it run faster.


Keywords: gsoc19

Branch/Commit: 5e1af0cc5adbb71614b5a9657b5a420100faa6d7

Reviewer: David Coudert

Author: Georgios Giapitzakis Tzintanos

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/27875





---

archive/issue_comments_539290.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,2 @@\n-This ticket aims at Cythonizing several methods in the graph module of sage in order for them to work faster.\n+In this ticket, we Cythonize the `line_graph` method to make it run faster.\n+\n``````\n",
    "created_at": "2019-05-27T12:31:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27875#issuecomment-539290",
    "user": "https://github.com/giorgosgiapis"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,2 @@
-This ticket aims at Cythonizing several methods in the graph module of sage in order for them to work faster.
+In this ticket, we Cythonize the `line_graph` method to make it run faster.
+
``````




---

archive/issue_comments_539291.json:
```json
{
    "body": "Changing branch from \"\" to \"u/gh-giorgosgiapis/cythonize_methods\"",
    "created_at": "2019-05-27T12:33:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27875#issuecomment-539291",
    "user": "https://github.com/giorgosgiapis"
}
```

Changing branch from "" to "u/gh-giorgosgiapis/cythonize_methods"



---

archive/issue_comments_539292.json:
```json
{
    "body": "<a id='comment:3'></a>New commits:",
    "created_at": "2019-05-27T16:52:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27875#issuecomment-539292",
    "user": "https://github.com/giorgosgiapis"
}
```

<a id='comment:3'></a>New commits:



---

archive/issue_comments_539293.json:
```json
{
    "body": "Changing commit from \"\" to \"d3ba180351d9e417fd8092a24c65694ce5c9837c\"",
    "created_at": "2019-05-27T16:52:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27875#issuecomment-539293",
    "user": "https://github.com/giorgosgiapis"
}
```

Changing commit from "" to "d3ba180351d9e417fd8092a24c65694ce5c9837c"



---

archive/issue_comments_539294.json:
```json
{
    "body": "Changing author from \"\" to \"Georgios Giapitzakis Tzintanos\"",
    "created_at": "2019-05-27T16:52:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27875#issuecomment-539294",
    "user": "https://github.com/giorgosgiapis"
}
```

Changing author from "" to "Georgios Giapitzakis Tzintanos"



---

archive/issue_comments_539295.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-05-28T11:21:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27875#issuecomment-539295",
    "user": "https://github.com/giorgosgiapis"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_539296.json:
```json
{
    "body": "Changing commit from \"d3ba180351d9e417fd8092a24c65694ce5c9837c\" to \"b154a4868d85638f58f437dc5baa8b97cdbf241d\"",
    "created_at": "2019-05-28T13:43:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27875#issuecomment-539296",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "d3ba180351d9e417fd8092a24c65694ce5c9837c" to "b154a4868d85638f58f437dc5baa8b97cdbf241d"



---

archive/issue_comments_539297.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-05-28T13:43:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27875#issuecomment-539297",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_539298.json:
```json
{
    "body": "<a id='comment:6'></a>So far you just moved the methods to a `.pyx` file and specified the type of some variables. Have you tried to go deeper in the code in order to get significant speed up improvements ? May be some data structures could be changed.",
    "created_at": "2019-05-29T08:47:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27875#issuecomment-539298",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:6'></a>So far you just moved the methods to a `.pyx` file and specified the type of some variables. Have you tried to go deeper in the code in order to get significant speed up improvements ? May be some data structures could be changed.



---

archive/issue_comments_539299.json:
```json
{
    "body": "<a id='comment:7'></a>Replying to [comment:6 dcoudert]:\n> So far you just moved the methods to a `.pyx` file and specified the type of some variables. Have you tried to go deeper in the code in order to get significant speed up improvements ? May be some data structures could be changed.\n\nI will look into it. I did some benchmarking and even with these improvements, it seems that the methods run a bit faster.",
    "created_at": "2019-05-29T09:49:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27875#issuecomment-539299",
    "user": "https://github.com/giorgosgiapis"
}
```

<a id='comment:7'></a>Replying to [comment:6 dcoudert]:
> So far you just moved the methods to a `.pyx` file and specified the type of some variables. Have you tried to go deeper in the code in order to get significant speed up improvements ? May be some data structures could be changed.

I will look into it. I did some benchmarking and even with these improvements, it seems that the methods run a bit faster.



---

archive/issue_comments_539300.json:
```json
{
    "body": "<a id='comment:8'></a>> I will look into it. I did some benchmarking and even with these improvements, it seems that the methods run a bit faster. \n\nThat's for sure, but we cythonize if there is a significant speed-up or reduction of memory consumption. Otherwise, the benefit is rather limited.",
    "created_at": "2019-05-30T09:48:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27875#issuecomment-539300",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:8'></a>> I will look into it. I did some benchmarking and even with these improvements, it seems that the methods run a bit faster. 

That's for sure, but we cythonize if there is a significant speed-up or reduction of memory consumption. Otherwise, the benefit is rather limited.



---

archive/issue_comments_539301.json:
```json
{
    "body": "<a id='comment:9'></a>Any progress on improving the code ?",
    "created_at": "2019-06-12T14:19:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27875#issuecomment-539301",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:9'></a>Any progress on improving the code ?



---

archive/issue_events_069114.json:
```json
{
    "actor": "https://github.com/giorgosgiapis",
    "created_at": "2019-06-15T10:12:23Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27875",
    "milestone": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27875#event-69114"
}
```



---

archive/issue_comments_539302.json:
```json
{
    "body": "<a id='comment:11'></a>Please change that.\n- `G.add_vertices(self.edges(labels=labels))` -> `G.add_vertices(self.edge_iterator(labels=labels))`",
    "created_at": "2019-07-06T13:37:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27875#issuecomment-539302",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:11'></a>Please change that.
- `G.add_vertices(self.edges(labels=labels))` -> `G.add_vertices(self.edge_iterator(labels=labels))`



---

archive/issue_comments_539303.json:
```json
{
    "body": "<a id='comment:12'></a>There is a merge conflict.",
    "created_at": "2019-07-31T13:08:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27875#issuecomment-539303",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:12'></a>There is a merge conflict.



---

archive/issue_comments_539304.json:
```json
{
    "body": "Changing commit from \"b154a4868d85638f58f437dc5baa8b97cdbf241d\" to \"648e43f250dbac6699e4ac6e18b1e7d33eaa1989\"",
    "created_at": "2019-07-31T15:04:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27875#issuecomment-539304",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "b154a4868d85638f58f437dc5baa8b97cdbf241d" to "648e43f250dbac6699e4ac6e18b1e7d33eaa1989"



---

archive/issue_comments_539305.json:
```json
{
    "body": "<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-31T15:04:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27875#issuecomment-539305",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_539306.json:
```json
{
    "body": "<a id='comment:14'></a>I think the merge conflict is fixed.",
    "created_at": "2019-07-31T15:05:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27875#issuecomment-539306",
    "user": "https://github.com/giorgosgiapis"
}
```

<a id='comment:14'></a>I think the merge conflict is fixed.



---

archive/issue_comments_539307.json:
```json
{
    "body": "<a id='comment:15'></a>your branch contains several modifications in `src/module_list.py` that should not be here. Please check.",
    "created_at": "2019-07-31T15:21:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27875#issuecomment-539307",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:15'></a>your branch contains several modifications in `src/module_list.py` that should not be here. Please check.



---

archive/issue_comments_539308.json:
```json
{
    "body": "<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-31T15:46:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27875#issuecomment-539308",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_539309.json:
```json
{
    "body": "Changing commit from \"648e43f250dbac6699e4ac6e18b1e7d33eaa1989\" to \"fd6d3a29df59bdb627e5c66687bd37cd8e83b761\"",
    "created_at": "2019-07-31T15:46:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27875#issuecomment-539309",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "648e43f250dbac6699e4ac6e18b1e7d33eaa1989" to "fd6d3a29df59bdb627e5c66687bd37cd8e83b761"



---

archive/issue_comments_539310.json:
```json
{
    "body": "Changing commit from \"fd6d3a29df59bdb627e5c66687bd37cd8e83b761\" to \"f37c46500239b66e0682e01eb685baa06581bc0b\"",
    "created_at": "2019-07-31T15:54:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27875#issuecomment-539310",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "fd6d3a29df59bdb627e5c66687bd37cd8e83b761" to "f37c46500239b66e0682e01eb685baa06581bc0b"



---

archive/issue_comments_539311.json:
```json
{
    "body": "<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-31T15:54:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27875#issuecomment-539311",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_539312.json:
```json
{
    "body": "<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-31T15:55:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27875#issuecomment-539312",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_539313.json:
```json
{
    "body": "Changing commit from \"f37c46500239b66e0682e01eb685baa06581bc0b\" to \"5e1af0cc5adbb71614b5a9657b5a420100faa6d7\"",
    "created_at": "2019-07-31T15:55:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27875#issuecomment-539313",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "f37c46500239b66e0682e01eb685baa06581bc0b" to "5e1af0cc5adbb71614b5a9657b5a420100faa6d7"



---

archive/issue_comments_539314.json:
```json
{
    "body": "<a id='comment:19'></a>I think it's ok now.",
    "created_at": "2019-07-31T15:56:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27875#issuecomment-539314",
    "user": "https://github.com/giorgosgiapis"
}
```

<a id='comment:19'></a>I think it's ok now.



---

archive/issue_comments_539315.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-07-31T16:31:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27875#issuecomment-539315",
    "user": "https://github.com/dcoudert"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_539316.json:
```json
{
    "body": "Changing reviewer from \"\" to \"David Coudert\"",
    "created_at": "2019-07-31T16:31:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27875#issuecomment-539316",
    "user": "https://github.com/dcoudert"
}
```

Changing reviewer from "" to "David Coudert"



---

archive/issue_comments_539317.json:
```json
{
    "body": "<a id='comment:20'></a>LGTM.",
    "created_at": "2019-07-31T16:31:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27875#issuecomment-539317",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:20'></a>LGTM.



---

archive/issue_comments_539318.json:
```json
{
    "body": "Changing branch from \"u/gh-giorgosgiapis/cythonize_methods\" to \"5e1af0cc5adbb71614b5a9657b5a420100faa6d7\"",
    "created_at": "2019-08-03T23:51:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27875#issuecomment-539318",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/gh-giorgosgiapis/cythonize_methods" to "5e1af0cc5adbb71614b5a9657b5a420100faa6d7"



---

archive/issue_comments_539319.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-08-03T23:51:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27875#issuecomment-539319",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_069115.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-08-03T23:51:43Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/27875",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27875#event-69115"
}
```
