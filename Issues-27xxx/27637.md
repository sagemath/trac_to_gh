# Issue 27637: Equivariant Ehrhart Theory

archive/issues_027400.json:
```json
{
    "body": "\n\nCC:  @jplab\n\nKeywords: #Days98\n\nBranch/Commit: 92a1d9783538ed425f24984ca425402275e6afa4\n\nReviewer: Fr\u00e9d\u00e9ric Chapoton, Jean-Philippe Labb\u00e9\n\nAuthor: Sophia Elia\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/27637\n\n",
    "closed_at": "2022-03-09T23:38:33Z",
    "created_at": "2019-04-11T07:44:17Z",
    "labels": [
        "component: geometry"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.6",
    "title": "Equivariant Ehrhart Theory",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/27637",
    "user": "https://github.com/sophiasage"
}
```


CC:  @jplab

Keywords: #Days98

Branch/Commit: 92a1d9783538ed425f24984ca425402275e6afa4

Reviewer: Frédéric Chapoton, Jean-Philippe Labbé

Author: Sophia Elia

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/27637





---

archive/issue_comments_411260.json:
```json
{
    "body": "Changing priority from major to minor.",
    "created_at": "2019-04-11T08:01:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411260",
    "user": "https://github.com/sophiasage"
}
```

Changing priority from major to minor.



---

archive/issue_comments_411261.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to geometry.",
    "created_at": "2019-04-11T08:01:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411261",
    "user": "https://github.com/sophiasage"
}
```

Changing component from PLEASE CHANGE to geometry.



---

archive/issue_comments_411262.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2019-04-11T08:01:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411262",
    "user": "https://github.com/sophiasage"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_411263.json:
```json
{
    "body": "Changing keywords from \"\" to \"#Days98\".",
    "created_at": "2019-04-11T08:01:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411263",
    "user": "https://github.com/sophiasage"
}
```

Changing keywords from "" to "#Days98".



---

archive/issue_comments_411264.json:
```json
{
    "body": "<a id='comment:2'></a>As the Sage-8.8 release milestone is pending, we should delete the sage-8.8 milestone for tickets that are not actively being worked on or that still require significant work to move forward.  If you feel that this ticket should be included in the next Sage release at the soonest please set its milestone to the next release milestone (sage-8.9).",
    "created_at": "2019-06-14T14:55:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411264",
    "user": "https://github.com/embray"
}
```

<a id='comment:2'></a>As the Sage-8.8 release milestone is pending, we should delete the sage-8.8 milestone for tickets that are not actively being worked on or that still require significant work to move forward.  If you feel that this ticket should be included in the next Sage release at the soonest please set its milestone to the next release milestone (sage-8.9).



---

archive/issue_comments_411265.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-09-25T09:04:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411265",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_411266.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-09-28T07:36:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411266",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_411267.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-02-17T21:17:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411267",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_411268.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-02-17T21:24:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411268",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_411269.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-03T20:15:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411269",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_411270.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-31T12:18:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411270",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_411271.json:
```json
{
    "body": "<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-31T12:42:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411271",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_411272.json:
```json
{
    "body": "<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-31T12:46:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411272",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_411273.json:
```json
{
    "body": "<a id='comment:12'></a>Few comments:\n\n- Is there a reason for the H to be capitalized?\n- The references should be placed in the references in the doc (see other files in polyhedron folder)\n- \"The group Z/2Z acts ...\" could be math formatted\n- Look at the conventions for docstring (example is the function vertex_facet_graph in base.py of the polyhedron folder). Further info here: https://doc.sagemath.org/html/en/developer/coding_basics.html\n\nThen, one has to figure out how to integrate the code to the polyhedron class appropriately. I will address this in another comment.",
    "created_at": "2021-03-31T13:56:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411273",
    "user": "https://github.com/jplab"
}
```

<a id='comment:12'></a>Few comments:

- Is there a reason for the H to be capitalized?
- The references should be placed in the references in the doc (see other files in polyhedron folder)
- "The group Z/2Z acts ..." could be math formatted
- Look at the conventions for docstring (example is the function vertex_facet_graph in base.py of the polyhedron folder). Further info here: https://doc.sagemath.org/html/en/developer/coding_basics.html

Then, one has to figure out how to integrate the code to the polyhedron class appropriately. I will address this in another comment.



---

archive/issue_events_068590.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-31T17:03:06Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27637#event-68590"
}
```



---

archive/issue_comments_411274.json:
```json
{
    "body": "<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-06T13:26:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411274",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_411275.json:
```json
{
    "body": "<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-26T14:56:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411275",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_411276.json:
```json
{
    "body": "<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-26T14:58:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411276",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_411277.json:
```json
{
    "body": "<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-28T07:59:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411277",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_411278.json:
```json
{
    "body": "<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-28T09:26:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411278",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_411279.json:
```json
{
    "body": "<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-28T10:43:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411279",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_411280.json:
```json
{
    "body": "<a id='comment:20'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-28T11:12:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411280",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_411281.json:
```json
{
    "body": "<a id='comment:21'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-29T08:05:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411281",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_411282.json:
```json
{
    "body": "<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-29T10:03:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411282",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_411283.json:
```json
{
    "body": "<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-29T12:02:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411283",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_411284.json:
```json
{
    "body": "<a id='comment:24'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-05-01T12:04:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411284",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_411285.json:
```json
{
    "body": "<a id='comment:25'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-05-05T07:34:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411285",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:25'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_411286.json:
```json
{
    "body": "<a id='comment:26'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-05-05T09:16:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411286",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:26'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_411287.json:
```json
{
    "body": "<a id='comment:27'></a>Hello, Sophia\n\n* In the bib file, use unicode characters and not latex syntax, here:\n\n```\nFederico Ardila, Mariel Supina, and Andr\\ \u0301{e}s R. Vindas-Mel\\ \u0301{e}ndez, \n```\n\n* I will now lauch my patchbot on the branch, so that you can also benefit from the patchbot's report.",
    "created_at": "2021-05-05T14:27:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411287",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:27'></a>Hello, Sophia

* In the bib file, use unicode characters and not latex syntax, here:

```
Federico Ardila, Mariel Supina, and Andr\ ́{e}s R. Vindas-Mel\ ́{e}ndez, 
```

* I will now lauch my patchbot on the branch, so that you can also benefit from the patchbot's report.



---

archive/issue_comments_411288.json:
```json
{
    "body": "<a id='comment:28'></a>syntax error (missing import)\n\n```\n      File \"/home/chapoton/sage/local/lib/python3.9/site-packages/sage/geometry/polyhedron/backend_normaliz.py\", line 2521\n        from sage.rings.fraction_field_element is_element_of_base_ring\n\n```",
    "created_at": "2021-05-05T15:36:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411288",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:28'></a>syntax error (missing import)

```
      File "/home/chapoton/sage/local/lib/python3.9/site-packages/sage/geometry/polyhedron/backend_normaliz.py", line 2521
        from sage.rings.fraction_field_element is_element_of_base_ring

```



---

archive/issue_comments_411289.json:
```json
{
    "body": "<a id='comment:29'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-05-05T16:33:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411289",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:29'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_411290.json:
```json
{
    "body": "<a id='comment:30'></a>Thank you Fr\u00e9d\u00e9ric! I'm still trying to figure out the import error (besides just missing the word import)",
    "created_at": "2021-05-05T16:52:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411290",
    "user": "https://github.com/sophiasage"
}
```

<a id='comment:30'></a>Thank you Frédéric! I'm still trying to figure out the import error (besides just missing the word import)



---

archive/issue_comments_411291.json:
```json
{
    "body": "<a id='comment:31'></a>well, \"is_element_of_base_ring\" is a method in a class, it cannot be imported, but only used",
    "created_at": "2021-05-05T18:08:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411291",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:31'></a>well, "is_element_of_base_ring" is a method in a class, it cannot be imported, but only used



---

archive/issue_comments_411292.json:
```json
{
    "body": "<a id='comment:32'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-05-05T18:14:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411292",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:32'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_411293.json:
```json
{
    "body": "<a id='comment:33'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-05-06T09:24:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411293",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:33'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_411294.json:
```json
{
    "body": "<a id='comment:34'></a>patchbot says that the doc does not build:\n\n```\npolyhedron/base_QQ.py:docstring of sage.geometry.polyhedron.base_QQ.Polyhedron_QQ.Hstar_function:17: WARNING: Unexpected indentation.\n```\nbecause the lines\n\n```\n+           If ``None``, it is set to the full `restricted_automorphism_group`\n+           of `self`. The acting group should always use output='permutation'.\n```\nthere are indented by one more space than they should",
    "created_at": "2021-05-06T13:59:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411294",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:34'></a>patchbot says that the doc does not build:

```
polyhedron/base_QQ.py:docstring of sage.geometry.polyhedron.base_QQ.Polyhedron_QQ.Hstar_function:17: WARNING: Unexpected indentation.
```
because the lines

```
+           If ``None``, it is set to the full `restricted_automorphism_group`
+           of `self`. The acting group should always use output='permutation'.
```
there are indented by one more space than they should



---

archive/issue_comments_411295.json:
```json
{
    "body": "<a id='comment:35'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-05-07T12:21:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411295",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:35'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_411296.json:
```json
{
    "body": "<a id='comment:36'></a>Now the doc buils, but doctests fails:\n\n```\nsage -t --long --random-seed=0 src/sage/geometry/polyhedron/base_QQ.py  # 5 doctests failed\nsage -t --long --random-seed=0 src/sage/rings/fraction_field_element.pyx  # 4 doctests failed\nsage -t --long --random-seed=0 src/sage/geometry/polyhedron/backend_normaliz.py  # 2 doctests failed\n```\n\nNote also that that the patchbot plugins give some warnings (click on the round status badge, then on the links next to the small red crosses). The first one tells you that you should not remove the r in `r\"\"\"` here:\n\n```diff\n-r\"\"\"\n+\"\"\"\n Base class for polyhedra over `\\QQ`\n \"\"\"\n```",
    "created_at": "2021-05-07T15:08:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411296",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:36'></a>Now the doc buils, but doctests fails:

```
sage -t --long --random-seed=0 src/sage/geometry/polyhedron/base_QQ.py  # 5 doctests failed
sage -t --long --random-seed=0 src/sage/rings/fraction_field_element.pyx  # 4 doctests failed
sage -t --long --random-seed=0 src/sage/geometry/polyhedron/backend_normaliz.py  # 2 doctests failed
```

Note also that that the patchbot plugins give some warnings (click on the round status badge, then on the links next to the small red crosses). The first one tells you that you should not remove the r in `r"""` here:

```diff
-r"""
+"""
 Base class for polyhedra over `\QQ`
 """
```



---

archive/issue_comments_411297.json:
```json
{
    "body": "<a id='comment:37'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-05-10T14:39:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411297",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:37'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_411298.json:
```json
{
    "body": "<a id='comment:38'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-05-12T18:32:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411298",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:38'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_411299.json:
```json
{
    "body": "<a id='comment:39'></a>the failing doctests in src/sage/rings/fraction_field_element.pyx are caused by the wrong change made in the existing doc in this file:\n\n```diff\n-            sage: from sage.rings.fraction_field_element import FractionFieldElement\n+            sage: from sage.rings import fraction_field_element\n```",
    "created_at": "2021-05-16T07:53:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411299",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:39'></a>the failing doctests in src/sage/rings/fraction_field_element.pyx are caused by the wrong change made in the existing doc in this file:

```diff
-            sage: from sage.rings.fraction_field_element import FractionFieldElement
+            sage: from sage.rings import fraction_field_element
```



---

archive/issue_comments_411300.json:
```json
{
    "body": "<a id='comment:40'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-05-17T08:14:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411300",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:40'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_411301.json:
```json
{
    "body": "<a id='comment:41'></a>ok, making progress :)\n\nnow when you have a doctest taking several lines like\n\n```\nsage: 2+\n....: 3\n```\nthen you must tag **both lines** with `# optional - pynormaliz` and not only the first or the second.",
    "created_at": "2021-05-17T17:25:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411301",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:41'></a>ok, making progress :)

now when you have a doctest taking several lines like

```
sage: 2+
....: 3
```
then you must tag **both lines** with `# optional - pynormaliz` and not only the first or the second.



---

archive/issue_comments_411302.json:
```json
{
    "body": "<a id='comment:42'></a>Thank you for helping so much :) \nsorry that it is going slowly.",
    "created_at": "2021-05-18T07:33:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411302",
    "user": "https://github.com/sophiasage"
}
```

<a id='comment:42'></a>Thank you for helping so much :) 
sorry that it is going slowly.



---

archive/issue_comments_411303.json:
```json
{
    "body": "<a id='comment:43'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-05-18T08:26:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411303",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:43'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_411304.json:
```json
{
    "body": "<a id='comment:44'></a>I am happy to help, one step after another. Not far from being good to go, I think.\n\nSome other comments:\n\nin `/src/sage/rings/fraction_field_element.pyx`, `EXAMPLES:` should take two colons.\n\nin general, `NOTE:` should be `.. NOTE::` and the content indented by 4",
    "created_at": "2021-05-18T09:43:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411304",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:44'></a>I am happy to help, one step after another. Not far from being good to go, I think.

Some other comments:

in `/src/sage/rings/fraction_field_element.pyx`, `EXAMPLES:` should take two colons.

in general, `NOTE:` should be `.. NOTE::` and the content indented by 4



---

archive/issue_comments_411305.json:
```json
{
    "body": "<a id='comment:45'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-05-19T07:42:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411305",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:45'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_411306.json:
```json
{
    "body": "<a id='comment:46'></a>I am not sure it is worth introducing \"is_element_of_base_ring\" to use it only once.\n\nIn \"_Hstar_is_effective_normaliz\", you could avoid using flag and just return False as soon as you meet the condition. Then \"return True\" at the end.\n\nOtherwise, patchbot is green, so this now needs a more mathematical review. I am afraid I cannot do that. Maybe Jean-Philippe can take the task ?",
    "created_at": "2021-05-20T07:06:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411306",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:46'></a>I am not sure it is worth introducing "is_element_of_base_ring" to use it only once.

In "_Hstar_is_effective_normaliz", you could avoid using flag and just return False as soon as you meet the condition. Then "return True" at the end.

Otherwise, patchbot is green, so this now needs a more mathematical review. I am afraid I cannot do that. Maybe Jean-Philippe can take the task ?



---

archive/issue_comments_411307.json:
```json
{
    "body": "<a id='comment:47'></a>Replying to [comment:46 chapoton]:\n> I am not sure it is worth introducing \"is_element_of_base_ring\" to use it only once.\n> \n> In \"_Hstar_is_effective_normaliz\", you could avoid using flag and just return False as soon as you meet the condition. Then \"return True\" at the end.\n> \n> Otherwise, patchbot is green, so this now needs a more mathematical review. I am afraid I cannot do that. Maybe Jean-Philippe can take the task ?\n> \n\nSalut Fr\u00e9d\u00e9ric, merci beaucoup pour l'aide, c'est tr\u00e8s appr\u00e9ci\u00e9!\n\nYes, I can go over the math for sure.",
    "created_at": "2021-06-09T08:08:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411307",
    "user": "https://github.com/jplab"
}
```

<a id='comment:47'></a>Replying to [comment:46 chapoton]:
> I am not sure it is worth introducing "is_element_of_base_ring" to use it only once.
> 
> In "_Hstar_is_effective_normaliz", you could avoid using flag and just return False as soon as you meet the condition. Then "return True" at the end.
> 
> Otherwise, patchbot is green, so this now needs a more mathematical review. I am afraid I cannot do that. Maybe Jean-Philippe can take the task ?
> 

Salut Frédéric, merci beaucoup pour l'aide, c'est très apprécié!

Yes, I can go over the math for sure.



---

archive/issue_comments_411308.json:
```json
{
    "body": "<a id='comment:48'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-09T08:25:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411308",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:48'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_411309.json:
```json
{
    "body": "<a id='comment:49'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-10T17:19:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411309",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:49'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_411310.json:
```json
{
    "body": "<a id='comment:50'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-13T16:48:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411310",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:50'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_411311.json:
```json
{
    "body": "<a id='comment:51'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-14T15:13:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411311",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:51'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_411312.json:
```json
{
    "body": "<a id='comment:52'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-14T09:40:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411312",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:52'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_411313.json:
```json
{
    "body": "<a id='comment:53'></a>Here are a few comments:\n\n- Since the GAP import is only used once, I would put it inside the function that uses only to limit global imports.\n\n- I'm not sure about the function \".is_full_dimensional\". This is a bit a colloquial term and it isn't harder than checking if the ambient dim is the same as the dimension of the polytope (think: which is more transparent in the code \"full_dimensional\" or \"ambient dim=dim\"). I believe that the former is more transparent. I would delete the new method.\n\n- You don't need the import of \"var\". Check how this is done in ehrhart_series in backend_normaliz. \"new_result\" is going to complain, but you can easily get a list by using the .gens of the ring you create...\n\n- Could you use \"set\" instead of \"Set\"?\n\n- The docstring of \"fixed_subpolytopes\" should be revisited. What does it return? I expect polytopes from the fct name, but then the first sentence is super intricated. Then the output should say that \"the elements of ...\" are the keys. \n\n- Within the function Hstar_function_normaliz, you should try to put all the imports at the beginning of the function.\n\n- I suggest '_express_Hstar_as_rational_fn_in_t' -> \"_Hstar_as_rat_fct\"",
    "created_at": "2021-07-14T10:01:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411313",
    "user": "https://github.com/jplab"
}
```

<a id='comment:53'></a>Here are a few comments:

- Since the GAP import is only used once, I would put it inside the function that uses only to limit global imports.

- I'm not sure about the function ".is_full_dimensional". This is a bit a colloquial term and it isn't harder than checking if the ambient dim is the same as the dimension of the polytope (think: which is more transparent in the code "full_dimensional" or "ambient dim=dim"). I believe that the former is more transparent. I would delete the new method.

- You don't need the import of "var". Check how this is done in ehrhart_series in backend_normaliz. "new_result" is going to complain, but you can easily get a list by using the .gens of the ring you create...

- Could you use "set" instead of "Set"?

- The docstring of "fixed_subpolytopes" should be revisited. What does it return? I expect polytopes from the fct name, but then the first sentence is super intricated. Then the output should say that "the elements of ..." are the keys. 

- Within the function Hstar_function_normaliz, you should try to put all the imports at the beginning of the function.

- I suggest '_express_Hstar_as_rational_fn_in_t' -> "_Hstar_as_rat_fct"



---

archive/issue_comments_411314.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-07-14T10:01:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411314",
    "user": "https://github.com/jplab"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_411315.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-07-14T10:01:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411315",
    "user": "https://github.com/jplab"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_411316.json:
```json
{
    "body": "<a id='comment:56'></a>Thank you for the comments Jean-Philippe.\nI didn't write the method is_full_dimensional... i don't know why it is showing up in the diff - it wasn't before.\nI will work on your other comments",
    "created_at": "2021-07-14T14:47:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411316",
    "user": "https://github.com/sophiasage"
}
```

<a id='comment:56'></a>Thank you for the comments Jean-Philippe.
I didn't write the method is_full_dimensional... i don't know why it is showing up in the diff - it wasn't before.
I will work on your other comments



---

archive/issue_comments_411317.json:
```json
{
    "body": "<a id='comment:57'></a>\n```\n+    def is_full_dimensional(self):\n+        \"\"\"\n+        Return whether the polyhedron is full dimensional.\n+\n+        OUTPUT:\n```\nThis comes from a bad merge, please remove. \n\n`is_full_dimensional` was moved from `Polyhedron_base` to the new base class `ConvexSet_base` in #31919.",
    "created_at": "2021-07-14T16:53:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411317",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:57'></a>
```
+    def is_full_dimensional(self):
+        """
+        Return whether the polyhedron is full dimensional.
+
+        OUTPUT:
```
This comes from a bad merge, please remove. 

`is_full_dimensional` was moved from `Polyhedron_base` to the new base class `ConvexSet_base` in #31919.



---

archive/issue_comments_411318.json:
```json
{
    "body": "<a id='comment:58'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-08-02T13:24:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411318",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:58'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_411319.json:
```json
{
    "body": "<a id='comment:59'></a>Replying to [comment:53 jipilab]:\n> Here are a few comments:\n> \n> - Since the GAP import is only used once, I would put it inside the function that uses only to limit global imports.\n\nDone\n>  - I'm not sure about the function \".is_full_dimensional\". This is a bit a colloquial term and it isn't harder than checking if the ambient dim is the same as the dimension of the polytope (think: which is more transparent in the code \"full_dimensional\" or \"ambient dim=dim\"). I believe that the former is more transparent. I would delete the new method.\n \nRemoved method and use of is_full_dimensional\n>  - You don't need the import of \"var\". Check how this is done in ehrhart_series in backend_normaliz. \"new_result\" is going to complain, but you can easily get a list by using the .gens of the ring you create...\n \nDone\n>  - Could you use \"set\" instead of \"Set\"?\n \nTried this but it gave an unhashable error\n>  - The docstring of \"fixed_subpolytopes\" should be revisited. What does it return? I expect polytopes from the fct name, but then the first sentence is super intricated. Then the output should say that \"the elements of ...\" are the keys. \n \nChanged\n>  - Within the function Hstar_function_normaliz, you should try to put all the imports at the beginning of the function.\n \nDone \n>  - I suggest '_express_Hstar_as_rational_fn_in_t' -> \"_Hstar_as_rat_fct\"\n \nDone\n\nI was forced to pull and merge before I could commit my changes.. I'm not sure if I did that correctly and/or messed anything up.",
    "created_at": "2021-08-02T13:37:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411319",
    "user": "https://github.com/sophiasage"
}
```

<a id='comment:59'></a>Replying to [comment:53 jipilab]:
> Here are a few comments:
> 
> - Since the GAP import is only used once, I would put it inside the function that uses only to limit global imports.

Done
>  - I'm not sure about the function ".is_full_dimensional". This is a bit a colloquial term and it isn't harder than checking if the ambient dim is the same as the dimension of the polytope (think: which is more transparent in the code "full_dimensional" or "ambient dim=dim"). I believe that the former is more transparent. I would delete the new method.
 
Removed method and use of is_full_dimensional
>  - You don't need the import of "var". Check how this is done in ehrhart_series in backend_normaliz. "new_result" is going to complain, but you can easily get a list by using the .gens of the ring you create...
 
Done
>  - Could you use "set" instead of "Set"?
 
Tried this but it gave an unhashable error
>  - The docstring of "fixed_subpolytopes" should be revisited. What does it return? I expect polytopes from the fct name, but then the first sentence is super intricated. Then the output should say that "the elements of ..." are the keys. 
 
Changed
>  - Within the function Hstar_function_normaliz, you should try to put all the imports at the beginning of the function.
 
Done 
>  - I suggest '_express_Hstar_as_rational_fn_in_t' -> "_Hstar_as_rat_fct"
 
Done

I was forced to pull and merge before I could commit my changes.. I'm not sure if I did that correctly and/or messed anything up.



---

archive/issue_comments_411320.json:
```json
{
    "body": "<a id='comment:60'></a>Replying to [comment:59 selia]:\n> >  - Could you use \"set\" instead of \"Set\"?\n \n> Tried this but it gave an unhashable error\n\nThere's also `frozenset`, which is immutable and hashable if its elements are",
    "created_at": "2021-08-02T17:41:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411320",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:60'></a>Replying to [comment:59 selia]:
> >  - Could you use "set" instead of "Set"?
 
> Tried this but it gave an unhashable error

There's also `frozenset`, which is immutable and hashable if its elements are



---

archive/issue_comments_411321.json:
```json
{
    "body": "<a id='comment:61'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-08-04T07:17:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411321",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:61'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_411322.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-08-04T07:19:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411322",
    "user": "https://github.com/sophiasage"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_events_068591.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-22T20:35:10Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27637#event-68591"
}
```



---

archive/issue_events_068592.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-22T20:35:10Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27637#event-68592"
}
```



---

archive/issue_comments_411323.json:
```json
{
    "body": "<a id='comment:64'></a>In the function `Hstar_function_normaliz` change\n\n```diff\n+        if perm == ident_perm:\n+            pass\n+        else:\n+            raise ValueError(\"The conjugacy classes don't match with the character table\")\n```\n\nTo an AssertionError using an assert, it is better than ValueError.\n\nI would not use a flag but simply write:\n\n```diff\n+        codim = self.ambient_dim() - self.dim()\n+        for perm in conj_reps:\n+            mat = group_dict[perm]\n+            mat = mat.change_ring(Ring)\n+            new_matrix = identity - mat*ts_matrix\n-            if flag:\n-                det = (1-t)**-codim*(new_matrix.determinant())\n-            else:\n-                det = new_matrix.determinant()\n+            det = (1-t)**-codim*(new_matrix.determinant())\n+            det_vector.append(det)\n```",
    "created_at": "2021-08-24T08:19:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411323",
    "user": "https://github.com/jplab"
}
```

<a id='comment:64'></a>In the function `Hstar_function_normaliz` change

```diff
+        if perm == ident_perm:
+            pass
+        else:
+            raise ValueError("The conjugacy classes don't match with the character table")
```

To an AssertionError using an assert, it is better than ValueError.

I would not use a flag but simply write:

```diff
+        codim = self.ambient_dim() - self.dim()
+        for perm in conj_reps:
+            mat = group_dict[perm]
+            mat = mat.change_ring(Ring)
+            new_matrix = identity - mat*ts_matrix
-            if flag:
-                det = (1-t)**-codim*(new_matrix.determinant())
-            else:
-                det = new_matrix.determinant()
+            det = (1-t)**-codim*(new_matrix.determinant())
+            det_vector.append(det)
```



---

archive/issue_comments_411324.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-08-24T08:19:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411324",
    "user": "https://github.com/jplab"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_411325.json:
```json
{
    "body": "<a id='comment:65'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-08-24T13:25:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411325",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:65'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_411326.json:
```json
{
    "body": "<a id='comment:66'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-09-27T08:07:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411326",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:66'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_411327.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-09-27T08:08:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411327",
    "user": "https://github.com/sophiasage"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_411328.json:
```json
{
    "body": "<a id='comment:68'></a>I am seeing a few details that could be enhanced, but only cosmetics:\n* some\n\n```\nreturn(something)\n```\nthat should rather be\n\n```\nreturn something\n```\n* and some `raise SomeError('message')` where the message starts with a capital letter (it should not)",
    "created_at": "2021-09-29T15:27:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411328",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:68'></a>I am seeing a few details that could be enhanced, but only cosmetics:
* some

```
return(something)
```
that should rather be

```
return something
```
* and some `raise SomeError('message')` where the message starts with a capital letter (it should not)



---

archive/issue_comments_411329.json:
```json
{
    "body": "<a id='comment:69'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-22T11:03:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411329",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:69'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_411330.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-10-22T18:56:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411330",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_411331.json:
```json
{
    "body": "<a id='comment:70'></a>ok, thanks. Let this enter, then.\n\nJean-Philippe, c'est bon pour toi ?",
    "created_at": "2021-10-22T18:56:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411331",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:70'></a>ok, thanks. Let this enter, then.

Jean-Philippe, c'est bon pour toi ?



---

archive/issue_comments_411332.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2021-10-24T10:33:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411332",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_411333.json:
```json
{
    "body": "<a id='comment:71'></a>PDF docs fail\n\n```\n[docpdf] ! Missing $ inserted.\n[docpdf] <inserted text> \n[docpdf]                 $\n[docpdf] l.49818 Here, \\(\\H^\n[docpdf]                    *(t) = \\sum\\_{m} \\chi\\_{m\\text{\\)\\}\\}t\\textasciicircum{}m...\n[docpdf] \n[docpdf] ? \n[docpdf] ! Emergency stop.\n```",
    "created_at": "2021-10-24T10:33:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411333",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:71'></a>PDF docs fail

```
[docpdf] ! Missing $ inserted.
[docpdf] <inserted text> 
[docpdf]                 $
[docpdf] l.49818 Here, \(\H^
[docpdf]                    *(t) = \sum\_{m} \chi\_{m\text{\)\}\}t\textasciicircum{}m...
[docpdf] 
[docpdf] ? 
[docpdf] ! Emergency stop.
```



---

archive/issue_comments_411334.json:
```json
{
    "body": "<a id='comment:72'></a>In `src/sage/geometry/polyhedron/base_QQ.py`:\n\n```diff\n     def Hstar_function(self, acting_group=None, output=None):\n         r\"\"\"\n         Return `H^*` as a rational function in `t` with coefficients in\n         the ring of class functions of the ``acting_group``\n         of this polytope.\n\n-        Here, `\\H^*(t) = \\sum\\_{m} \\chi\\_{m\\text{``self``}}t^m det(Id-\\rho(t))`.\n+        Here, `H^*(t) = \\sum\\_{m} \\chi\\_{m\\text{``self``}}t^m \\det(Id-\\rho(t))`.\n         The irreducible characters of ``acting_group`` form an orthonormal basis\n         for the ring of class functions with values in `\\mathbb C`.\n         The coefficients of `H^*(t)` are expressed in this basis.\n```",
    "created_at": "2021-10-25T14:59:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411334",
    "user": "https://github.com/slel"
}
```

<a id='comment:72'></a>In `src/sage/geometry/polyhedron/base_QQ.py`:

```diff
     def Hstar_function(self, acting_group=None, output=None):
         r"""
         Return `H^*` as a rational function in `t` with coefficients in
         the ring of class functions of the ``acting_group``
         of this polytope.

-        Here, `\H^*(t) = \sum\_{m} \chi\_{m\text{``self``}}t^m det(Id-\rho(t))`.
+        Here, `H^*(t) = \sum\_{m} \chi\_{m\text{``self``}}t^m \det(Id-\rho(t))`.
         The irreducible characters of ``acting_group`` form an orthonormal basis
         for the ring of class functions with values in `\mathbb C`.
         The coefficients of `H^*(t)` are expressed in this basis.
```



---

archive/issue_comments_411335.json:
```json
{
    "body": "<a id='comment:73'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-26T14:14:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411335",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:73'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_411336.json:
```json
{
    "body": "<a id='comment:74'></a>There were some pyflakes errors:\n\nsrc/sage/geometry/polyhedron/base.py:4191:17 'sage.graphs.graph' imported but unused\nsrc/sage/geometry/polyhedron/base.py:7354:17 'sage.graphs.graph' imported but unused\nsrc/sage/geometry/polyhedron/base.py:7940:17 'sage.graphs.graph' imported but unused\nsrc/sage/geometry/polyhedron/base.py:10822:13 'sage.graphs.graph' imported but unused\n\nShould I remove these imports or ignore this?",
    "created_at": "2021-10-26T14:17:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411336",
    "user": "https://github.com/sophiasage"
}
```

<a id='comment:74'></a>There were some pyflakes errors:

src/sage/geometry/polyhedron/base.py:4191:17 'sage.graphs.graph' imported but unused
src/sage/geometry/polyhedron/base.py:7354:17 'sage.graphs.graph' imported but unused
src/sage/geometry/polyhedron/base.py:7940:17 'sage.graphs.graph' imported but unused
src/sage/geometry/polyhedron/base.py:10822:13 'sage.graphs.graph' imported but unused

Should I remove these imports or ignore this?



---

archive/issue_comments_411337.json:
```json
{
    "body": "<a id='comment:75'></a>These warnings are not coming from this ticket. If you find a way to silence them (perhaps there are comments that can control pyflakes?), that's great, but these imports are needed for feature testing.",
    "created_at": "2021-10-26T18:08:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411337",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:75'></a>These warnings are not coming from this ticket. If you find a way to silence them (perhaps there are comments that can control pyflakes?), that's great, but these imports are needed for feature testing.



---

archive/issue_comments_411338.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-11-02T10:41:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411338",
    "user": "https://github.com/sophiasage"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_411339.json:
```json
{
    "body": "<a id='comment:77'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-11-02T10:55:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411339",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:77'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_411340.json:
```json
{
    "body": "<a id='comment:78'></a>Oops, the comments I added silence the warnings from base.py when I run\n\n```\nflake8 base.py \n```\nbut not \n\n```\npyflakes base.py\n```\nSo I will remove them again.",
    "created_at": "2021-11-02T13:37:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411340",
    "user": "https://github.com/sophiasage"
}
```

<a id='comment:78'></a>Oops, the comments I added silence the warnings from base.py when I run

```
flake8 base.py 
```
but not 

```
pyflakes base.py
```
So I will remove them again.



---

archive/issue_comments_411341.json:
```json
{
    "body": "<a id='comment:79'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-11-02T13:40:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411341",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:79'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_411342.json:
```json
{
    "body": "<a id='comment:80'></a>noch ein mal ; let's try again",
    "created_at": "2021-11-13T08:27:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411342",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:80'></a>noch ein mal ; let's try again



---

archive/issue_comments_411343.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-11-13T08:27:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411343",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_411344.json:
```json
{
    "body": "<a id='comment:81'></a>PDF docbuild fails:\n\n```\n[sagemath_doc_pdf-none] {\\)\\}\\}t\\textasciicircum {}m det(Id\\sphinxhyphen {}rho(t))\\textasciigrave \\ETC.\n[sagemath_doc_pdf-none] ! Paragraph ended before \\text@ was complete.\n[sagemath_doc_pdf-none] <to be read again> \n[sagemath_doc_pdf-none]                    \\par \n[sagemath_doc_pdf-none] l.47822 \n[sagemath_doc_pdf-none]         \n[sagemath_doc_pdf-none] ? \n[sagemath_doc_pdf-none] ! Emergency stop.\n[sagemath_doc_pdf-none] <to be read again> \n[sagemath_doc_pdf-none]                    \\par \n[sagemath_doc_pdf-none] l.47822 \n```",
    "created_at": "2021-11-15T23:08:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411344",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:81'></a>PDF docbuild fails:

```
[sagemath_doc_pdf-none] {\)\}\}t\textasciicircum {}m det(Id\sphinxhyphen {}rho(t))\textasciigrave \ETC.
[sagemath_doc_pdf-none] ! Paragraph ended before \text@ was complete.
[sagemath_doc_pdf-none] <to be read again> 
[sagemath_doc_pdf-none]                    \par 
[sagemath_doc_pdf-none] l.47822 
[sagemath_doc_pdf-none]         
[sagemath_doc_pdf-none] ? 
[sagemath_doc_pdf-none] ! Emergency stop.
[sagemath_doc_pdf-none] <to be read again> 
[sagemath_doc_pdf-none]                    \par 
[sagemath_doc_pdf-none] l.47822 
```



---

archive/issue_comments_411345.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2021-11-15T23:08:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411345",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_411346.json:
```json
{
    "body": "<a id='comment:82'></a>This might solve the issue:\n\n```diff\n-        Here, `H^*(t) = \\sum\\_{m} \\chi\\_{m\\text{``self``}}t^m \\det(Id-\\rho(t))`.\n+        Here, `H^*(t) = \\sum\\_{m} \\chi\\_{m\\text{self}}t^m \\det(Id-\\rho(t))`.\n```",
    "created_at": "2021-11-15T23:25:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411346",
    "user": "https://github.com/slel"
}
```

<a id='comment:82'></a>This might solve the issue:

```diff
-        Here, `H^*(t) = \sum\_{m} \chi\_{m\text{``self``}}t^m \det(Id-\rho(t))`.
+        Here, `H^*(t) = \sum\_{m} \chi\_{m\text{self}}t^m \det(Id-\rho(t))`.
```



---

archive/issue_comments_411347.json:
```json
{
    "body": "<a id='comment:83'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-11-17T14:36:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411347",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:83'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_411348.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-11-23T08:50:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411348",
    "user": "https://github.com/sophiasage"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_411349.json:
```json
{
    "body": "<a id='comment:85'></a>Sophia, would you please check that pdf (and html) documentation builds ? I cannot handle that, and it would be better not to send again the ticket to the release manager without being sure that everything now works.",
    "created_at": "2021-11-24T07:43:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411349",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:85'></a>Sophia, would you please check that pdf (and html) documentation builds ? I cannot handle that, and it would be better not to send again the ticket to the release manager without being sure that everything now works.



---

archive/issue_comments_411350.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-11-24T08:40:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411350",
    "user": "https://github.com/sophiasage"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_411351.json:
```json
{
    "body": "<a id='comment:86'></a>Hi Fr\u00e9d\u00e9ric - yes I'll do that! (Sorry not to have attempted yet) I don't remember how to do it, but I'll ask Jean-Philippe for a pointer to some documentation.",
    "created_at": "2021-11-24T08:40:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411351",
    "user": "https://github.com/sophiasage"
}
```

<a id='comment:86'></a>Hi Frédéric - yes I'll do that! (Sorry not to have attempted yet) I don't remember how to do it, but I'll ask Jean-Philippe for a pointer to some documentation.



---

archive/issue_comments_411352.json:
```json
{
    "body": "<a id='comment:87'></a>This should be just\n\n```\nmake doc-pdf\n```\nand\n\n```\nmake doc-html\n```\nThis may take some time, given the size of the documents.",
    "created_at": "2021-11-24T09:03:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411352",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:87'></a>This should be just

```
make doc-pdf
```
and

```
make doc-html
```
This may take some time, given the size of the documents.



---

archive/issue_comments_411353.json:
```json
{
    "body": "<a id='comment:88'></a>Thanks! \nThey both built this time. However, they could look nicer. I will work on that.",
    "created_at": "2021-11-25T09:50:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411353",
    "user": "https://github.com/sophiasage"
}
```

<a id='comment:88'></a>Thanks! 
They both built this time. However, they could look nicer. I will work on that.



---

archive/issue_comments_411354.json:
```json
{
    "body": "<a id='comment:89'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-12-13T15:07:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411354",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:89'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_411355.json:
```json
{
    "body": "<a id='comment:90'></a>I don't understand why the merge failed. Any help?",
    "created_at": "2021-12-13T15:38:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411355",
    "user": "https://github.com/sophiasage"
}
```

<a id='comment:90'></a>I don't understand why the merge failed. Any help?



---

archive/issue_comments_411356.json:
```json
{
    "body": "<a id='comment:91'></a>Hello, there a conflict with 9.5.beta8 in the imports header of \n\n```\nCONFLIT (contenu) : Conflit de fusion dans src/sage/geometry/polyhedron/base.py\n```\nThis should be easy to fix.",
    "created_at": "2021-12-13T16:01:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411356",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:91'></a>Hello, there a conflict with 9.5.beta8 in the imports header of 

```
CONFLIT (contenu) : Conflit de fusion dans src/sage/geometry/polyhedron/base.py
```
This should be easy to fix.



---

archive/issue_events_068593.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:24:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27637#event-68593"
}
```



---

archive/issue_events_068594.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:24:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27637#event-68594"
}
```



---

archive/issue_comments_411357.json:
```json
{
    "body": "<a id='comment:93'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-14T14:11:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411357",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:93'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_411358.json:
```json
{
    "body": "<a id='comment:94'></a>pyflakes plugin complains about imports",
    "created_at": "2022-02-15T07:08:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411358",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:94'></a>pyflakes plugin complains about imports



---

archive/issue_comments_411359.json:
```json
{
    "body": "<a id='comment:95'></a>I don't think those errors are from this ticket - earlier mkoeppe said those imports are needed for feature testing",
    "created_at": "2022-02-15T07:28:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411359",
    "user": "https://github.com/sophiasage"
}
```

<a id='comment:95'></a>I don't think those errors are from this ticket - earlier mkoeppe said those imports are needed for feature testing



---

archive/issue_comments_411360.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2022-02-15T07:37:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411360",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_411361.json:
```json
{
    "body": "<a id='comment:96'></a>ok, then let us try to merge this.",
    "created_at": "2022-02-15T07:37:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411361",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:96'></a>ok, then let us try to merge this.



---

archive/issue_comments_411362.json:
```json
{
    "body": "<a id='comment:98'></a>\n```\n**********************************************************************\n61\nFile \"src/sage/modular/modform/ambient.py\", line 791, in sage.modular.modform.ambient.?._compute_hecke_matrix\n62\nFailed example:\n63\n    [f[0]%p for p in prime_range(100)] # long time (0s, depends on above)\n64\nExpected:\n65\n    [0, 0, 0, 0, 1, 9, 2, 7, 0, 0, 0, 0, 1, 12, 9, 16, 37, 0, 21, 11, 70, 22, 0, 58, 76]\n66\nGot:\n67\n    [0,\n68\n     0,\n69\n     1,\n70\n     5,\n71\n     1,\n72\n     0,\n73\n     8,\n74\n     1,\n75\n     1,\n76\n     3,\n77\n     27,\n78\n     28,\n79\n     17,\n80\n     33,\n81\n     44,\n82\n     50,\n83\n     25,\n84\n     29,\n85\n     32,\n86\n     59,\n87\n     61,\n88\n     32,\n89\n     43,\n90\n     53,\n91\n     0]\n92\n**********************************************************************\n93\nFile \"src/sage/modular/modform/ambient.py\", line 793, in sage.modular.modform.ambient.?._compute_hecke_matrix\n94\nFailed example:\n95\n    [f[42]%p for p in prime_range(100)] # long time (0s, depends on above)\n96\nExpected:\n97\n    [0, 0, 4, 0, 10, 4, 4, 8, 12, 1, 23, 13, 10, 27, 20, 13, 16, 59, 53, 41, 11, 13, 12, 6, 82]\n98\nGot:\n99\n    [0,\n100\n     2,\n101\n     2,\n102\n     3,\n103\n     5,\n104\n     1,\n105\n     9,\n106\n     2,\n107\n     19,\n108\n     4,\n109\n     6,\n110\n     36,\n111\n     1,\n112\n     32,\n113\n     39,\n114\n     19,\n115\n     23,\n116\n     58,\n117\n     29,\n118\n     14,\n119\n     30,\n120\n     71,\n121\n     49,\n122\n     80,\n123\n     31]\n124\n**********************************************************************\n125\n1 item had failures:\n126\n   2 of  12 in sage.modular.modform.ambient.?._compute_hecke_matrix\n127\n    [118 tests, 2 failures, 1.66 s]\n128\n----------------------------------------------------------------------\n129\nsage -t --long --warn-long 41.1 --random-seed=123 src/sage/modular/modform/ambient.py  # 2 doctests failed\n130\n----------------------------------------------------------------------\n131\n```",
    "created_at": "2022-02-28T22:33:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411362",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:98'></a>
```
**********************************************************************
61
File "src/sage/modular/modform/ambient.py", line 791, in sage.modular.modform.ambient.?._compute_hecke_matrix
62
Failed example:
63
    [f[0]%p for p in prime_range(100)] # long time (0s, depends on above)
64
Expected:
65
    [0, 0, 0, 0, 1, 9, 2, 7, 0, 0, 0, 0, 1, 12, 9, 16, 37, 0, 21, 11, 70, 22, 0, 58, 76]
66
Got:
67
    [0,
68
     0,
69
     1,
70
     5,
71
     1,
72
     0,
73
     8,
74
     1,
75
     1,
76
     3,
77
     27,
78
     28,
79
     17,
80
     33,
81
     44,
82
     50,
83
     25,
84
     29,
85
     32,
86
     59,
87
     61,
88
     32,
89
     43,
90
     53,
91
     0]
92
**********************************************************************
93
File "src/sage/modular/modform/ambient.py", line 793, in sage.modular.modform.ambient.?._compute_hecke_matrix
94
Failed example:
95
    [f[42]%p for p in prime_range(100)] # long time (0s, depends on above)
96
Expected:
97
    [0, 0, 4, 0, 10, 4, 4, 8, 12, 1, 23, 13, 10, 27, 20, 13, 16, 59, 53, 41, 11, 13, 12, 6, 82]
98
Got:
99
    [0,
100
     2,
101
     2,
102
     3,
103
     5,
104
     1,
105
     9,
106
     2,
107
     19,
108
     4,
109
     6,
110
     36,
111
     1,
112
     32,
113
     39,
114
     19,
115
     23,
116
     58,
117
     29,
118
     14,
119
     30,
120
     71,
121
     49,
122
     80,
123
     31]
124
**********************************************************************
125
1 item had failures:
126
   2 of  12 in sage.modular.modform.ambient.?._compute_hecke_matrix
127
    [118 tests, 2 failures, 1.66 s]
128
----------------------------------------------------------------------
129
sage -t --long --warn-long 41.1 --random-seed=123 src/sage/modular/modform/ambient.py  # 2 doctests failed
130
----------------------------------------------------------------------
131
```



---

archive/issue_comments_411363.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2022-02-28T22:33:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411363",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_411364.json:
```json
{
    "body": "<a id='comment:99'></a>Unlikely that this failure is coming from this ticket",
    "created_at": "2022-02-28T23:01:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411364",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:99'></a>Unlikely that this failure is coming from this ticket



---

archive/issue_comments_411365.json:
```json
{
    "body": "<a id='comment:0'></a>I don't think this error is coming from the ticket either... that example isn't from this ticket.",
    "created_at": "2022-03-07T10:05:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411365",
    "user": "https://github.com/sophiasage"
}
```

<a id='comment:0'></a>I don't think this error is coming from the ticket either... that example isn't from this ticket.



---

archive/issue_comments_411366.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2022-03-07T10:10:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411366",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_411367.json:
```json
{
    "body": "<a id='comment:1'></a>indeed, so let us switch back to \"positive review\"",
    "created_at": "2022-03-07T10:10:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411367",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'></a>indeed, so let us switch back to "positive review"



---

archive/issue_comments_411368.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-03-09T23:38:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27637#issuecomment-411368",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_068595.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-03-09T23:38:33Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/27637",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27637#event-68595"
}
```
