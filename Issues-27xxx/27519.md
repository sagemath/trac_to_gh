# Issue 27519: Update `src/ext/doctest/python3-known-passing.txt`

archive/issues_027282.json:
```json
{
    "body": "Update the list of files whose doctests should pass with Python 3.\n\n\nBranch/Commit: fb4381f6f22aad010e151970fb8c285d2781b2b8\n\nReviewer: Jeroen Demeyer\n\nAuthor: John Palmieri\n\nDependencies: #25680\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/27519\n\n",
    "closed_at": "2019-03-31T22:43:31Z",
    "created_at": "2019-03-20T20:45:09Z",
    "labels": [
        "component: python3",
        "critical"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.8",
    "title": "Update `src/ext/doctest/python3-known-passing.txt`",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/27519",
    "user": "https://github.com/jhpalmieri"
}
```
Update the list of files whose doctests should pass with Python 3.


Branch/Commit: fb4381f6f22aad010e151970fb8c285d2781b2b8

Reviewer: Jeroen Demeyer

Author: John Palmieri

Dependencies: #25680

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/27519





---

archive/issue_comments_531060.json:
```json
{
    "body": "Changing branch from \"\" to \"u/jhpalmieri/update-known-py3-tests\"",
    "created_at": "2019-03-20T21:10:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27519#issuecomment-531060",
    "user": "https://github.com/jhpalmieri"
}
```

Changing branch from "" to "u/jhpalmieri/update-known-py3-tests"



---

archive/issue_comments_531061.json:
```json
{
    "body": "Changing commit from \"\" to \"930556ef2431797de5c76d0bd9cc26251a18b7e9\"",
    "created_at": "2019-03-20T21:17:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27519#issuecomment-531061",
    "user": "https://github.com/jhpalmieri"
}
```

Changing commit from "" to "930556ef2431797de5c76d0bd9cc26251a18b7e9"



---

archive/issue_comments_531062.json:
```json
{
    "body": "<a id='comment:2'></a>\nI'm also tempted to make this change:\n\n```diff\ndiff --git a/Makefile b/Makefile\nindex cb1e291313..7628ad7855 100644\n--- a/Makefile\n+++ b/Makefile\n@@ -143,7 +143,7 @@ fast-rebuild-clean: misc-clean bdist-clean\n \n TESTALL = ./sage -t --all\n PTESTALL = ./sage -t -p --all\n-PTEST_PYTHON3 = cat src/ext/doctest/python3-known-passing.txt | xargs ./sage -t --long -p\n+PTEST_PYTHON3 = sed '/^\\#.*$$/d' src/ext/doctest/python3-known-passing.txt | xargs ./sage -t --long -p\n \n # Flags for ./sage -t --all.\n # By default, include all tests marked 'dochtml' -- see\ndiff --git a/src/ext/doctest/python3-known-passing.txt b/src/ext/doctest/python3-known-passing.txt\nindex 0b70f229f0..99412b844e 100644\n--- a/src/ext/doctest/python3-known-passing.txt\n+++ b/src/ext/doctest/python3-known-passing.txt\n@@ -1,3 +1,7 @@\n+# Each line starting with '#' is a comment.\n+# Each other line should list a directory in which doctests are known\n+# to pass with Python 3.\n+#\n src/sage/algebras/\n src/sage/arith/\n src/sage/calculus/\n```\nComments? Good idea or bad? Here or on another ticket?\n\n---\nNew commits:\n|                                                                                                                                          |                                              |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|\n|[930556e](https://git.sagemath.org/sage.git/commit?id=930556ef2431797de5c76d0bd9cc26251a18b7e9)|`trac 27519: update python3-known-passing.txt`|",
    "created_at": "2019-03-20T21:17:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27519#issuecomment-531062",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:2'></a>
I'm also tempted to make this change:

```diff
diff --git a/Makefile b/Makefile
index cb1e291313..7628ad7855 100644
--- a/Makefile
+++ b/Makefile
@@ -143,7 +143,7 @@ fast-rebuild-clean: misc-clean bdist-clean
 
 TESTALL = ./sage -t --all
 PTESTALL = ./sage -t -p --all
-PTEST_PYTHON3 = cat src/ext/doctest/python3-known-passing.txt | xargs ./sage -t --long -p
+PTEST_PYTHON3 = sed '/^\#.*$$/d' src/ext/doctest/python3-known-passing.txt | xargs ./sage -t --long -p
 
 # Flags for ./sage -t --all.
 # By default, include all tests marked 'dochtml' -- see
diff --git a/src/ext/doctest/python3-known-passing.txt b/src/ext/doctest/python3-known-passing.txt
index 0b70f229f0..99412b844e 100644
--- a/src/ext/doctest/python3-known-passing.txt
+++ b/src/ext/doctest/python3-known-passing.txt
@@ -1,3 +1,7 @@
+# Each line starting with '#' is a comment.
+# Each other line should list a directory in which doctests are known
+# to pass with Python 3.
+#
 src/sage/algebras/
 src/sage/arith/
 src/sage/calculus/
```
Comments? Good idea or bad? Here or on another ticket?

---
New commits:
|                                                                                                                                          |                                              |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|
|[930556e](https://git.sagemath.org/sage.git/commit?id=930556ef2431797de5c76d0bd9cc26251a18b7e9)|`trac 27519: update python3-known-passing.txt`|



---

archive/issue_comments_531063.json:
```json
{
    "body": "<a id='comment:3'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                                              |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|\n|[fb4381f](https://git.sagemath.org/sage.git/commit/?id=fb4381f6f22aad010e151970fb8c285d2781b2b8)|`trac 27519: update python3-known-passing.txt`|",
    "created_at": "2019-03-20T21:19:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27519#issuecomment-531063",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                                              |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|
|[fb4381f](https://git.sagemath.org/sage.git/commit/?id=fb4381f6f22aad010e151970fb8c285d2781b2b8)|`trac 27519: update python3-known-passing.txt`|



---

archive/issue_comments_531064.json:
```json
{
    "body": "Changing commit from \"930556ef2431797de5c76d0bd9cc26251a18b7e9\" to \"fb4381f6f22aad010e151970fb8c285d2781b2b8\"",
    "created_at": "2019-03-20T21:19:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27519#issuecomment-531064",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "930556ef2431797de5c76d0bd9cc26251a18b7e9" to "fb4381f6f22aad010e151970fb8c285d2781b2b8"



---

archive/issue_comments_531065.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-03-20T21:20:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27519#issuecomment-531065",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_531066.json:
```json
{
    "body": "<a id='comment:5'></a>\nI would really like to focus our Python3 effort on Python 3.7 (#25680) first.\n\nIf it weren't for the previous ticket updating `python3-known-passing.txt`, #25680 would have been merged already. At some point, everything worked with 3.7 but because the tests are such a moving target, stuff got broken again.\n\nFor that reason, I'm personally -1 on this ticket.",
    "created_at": "2019-03-21T01:22:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27519#issuecomment-531066",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:5'></a>
I would really like to focus our Python3 effort on Python 3.7 (#25680) first.

If it weren't for the previous ticket updating `python3-known-passing.txt`, #25680 would have been merged already. At some point, everything worked with 3.7 but because the tests are such a moving target, stuff got broken again.

For that reason, I'm personally -1 on this ticket.



---

archive/issue_comments_531067.json:
```json
{
    "body": "<a id='comment:6'></a>\nThe file hasn't been modified in a month, and it is important to try to catch regressions. I think upgrading once per release is not too often. Did you never want to modify this file? What's your alternative?\n\nWhat is left to be done on #25680, anyway?",
    "created_at": "2019-03-21T03:58:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27519#issuecomment-531067",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:6'></a>
The file hasn't been modified in a month, and it is important to try to catch regressions. I think upgrading once per release is not too often. Did you never want to modify this file? What's your alternative?

What is left to be done on #25680, anyway?



---

archive/issue_comments_531068.json:
```json
{
    "body": "<a id='comment:7'></a>\nReplying to [jhpalmieri](#comment%3A6):\n> Did you never want to modify this file? What's your alternative?\n\n\nMy suggestion is to first merge #25680.",
    "created_at": "2019-03-21T06:58:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27519#issuecomment-531068",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:7'></a>
Replying to [jhpalmieri](#comment%3A6):
> Did you never want to modify this file? What's your alternative?


My suggestion is to first merge #25680.



---

archive/issue_comments_531069.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#25680\"",
    "created_at": "2019-03-21T15:40:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27519#issuecomment-531069",
    "user": "https://github.com/jdemeyer"
}
```

Changing dependencies from "" to "#25680"



---

archive/issue_comments_531070.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to python3.",
    "created_at": "2019-03-21T15:40:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27519#issuecomment-531070",
    "user": "https://github.com/jdemeyer"
}
```

Changing component from PLEASE CHANGE to python3.



---

archive/issue_comments_531071.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-03-21T15:47:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27519#issuecomment-531071",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_068345.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-03-21T15:47:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27519",
    "milestone": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27519#event-68345"
}
```



---

archive/issue_comments_531072.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Jeroen Demeyer\"",
    "created_at": "2019-03-21T15:47:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27519#issuecomment-531072",
    "user": "https://github.com/jdemeyer"
}
```

Changing reviewer from "" to "Jeroen Demeyer"



---

archive/issue_comments_531073.json:
```json
{
    "body": "Changing branch from \"u/jhpalmieri/update-known-py3-tests\" to \"fb4381f6f22aad010e151970fb8c285d2781b2b8\"",
    "created_at": "2019-03-31T22:43:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27519#issuecomment-531073",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/jhpalmieri/update-known-py3-tests" to "fb4381f6f22aad010e151970fb8c285d2781b2b8"



---

archive/issue_events_068346.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-03-31T22:43:31Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/27519",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27519#event-68346"
}
```



---

archive/issue_comments_531074.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-03-31T22:43:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27519#issuecomment-531074",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
